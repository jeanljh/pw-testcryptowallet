import{a as nf}from"./chunk-MWBMNCFR.js";import{a as lr}from"./chunk-JZF33I7N.js";import{a as Pn,c as fr}from"./chunk-5LVRFP7W.js";import{d as rf}from"./chunk-FMYKFGDW.js";import{d as yt}from"./chunk-M7JGFMJS.js";import{c as M,o as _,p as T,q as b}from"./chunk-4J7XGGEQ.js";var ec=M(Qu=>{_();b();Object.defineProperty(Qu,"__esModule",{value:!0})});var Bn=M(S=>{_();b();Object.defineProperty(S,"__esModule",{value:!0});S.s16=S.s8=S.nu64be=S.u48be=S.u40be=S.u32be=S.u24be=S.u16be=S.nu64=S.u48=S.u40=S.u32=S.u24=S.u16=S.u8=S.offset=S.greedy=S.Constant=S.UTF8=S.CString=S.Blob=S.Boolean=S.BitField=S.BitStructure=S.VariantLayout=S.Union=S.UnionLayoutDiscriminator=S.UnionDiscriminator=S.Structure=S.Sequence=S.DoubleBE=S.Double=S.FloatBE=S.Float=S.NearInt64BE=S.NearInt64=S.NearUInt64BE=S.NearUInt64=S.IntBE=S.Int=S.UIntBE=S.UInt=S.OffsetLayout=S.GreedyCount=S.ExternalLayout=S.bindConstructorLayout=S.nameWithProperty=S.Layout=S.uint8ArrayToBuffer=S.checkUint8Array=void 0;S.constant=S.utf8=S.cstr=S.blob=S.unionLayoutDiscriminator=S.union=S.seq=S.bits=S.struct=S.f64be=S.f64=S.f32be=S.f32=S.ns64be=S.s48be=S.s40be=S.s32be=S.s24be=S.s16be=S.ns64=S.s48=S.s40=S.s32=S.s24=void 0;var Fs=yt();function An(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}S.checkUint8Array=An;function Y(r){return An(r),Fs.Buffer.from(r.buffer,r.byteOffset,r.length)}S.uint8ArrayToBuffer=Y;var W=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};S.Layout=W;function Vs(r,e){return e.property?r+"["+e.property+"]":r}S.nameWithProperty=Vs;function of(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof W))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}S.bindConstructorLayout=of;var nt=class extends W{isCount(){throw new Error("ExternalLayout is abstract")}};S.ExternalLayout=nt;var ji=class extends nt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){An(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};S.GreedyCount=ji;var ai=class extends nt{constructor(e,t=0,n){if(!(e instanceof W))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof pt||this.layout instanceof Ot}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};S.OffsetLayout=ai;var pt=class extends W{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Y(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Y(t).writeUIntLE(e,n,this.span),this.span}};S.UInt=pt;var Ot=class extends W{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Y(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Y(t).writeUIntBE(e,n,this.span),this.span}};S.UIntBE=Ot;var Cr=class extends W{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Y(e).readIntLE(t,this.span)}encode(e,t,n=0){return Y(t).writeIntLE(e,n,this.span),this.span}};S.Int=Cr;var $r=class extends W{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Y(e).readIntBE(t,this.span)}encode(e,t,n=0){return Y(t).writeIntBE(e,n,this.span),this.span}};S.IntBE=$r;var js=Math.pow(2,32);function oo(r){let e=Math.floor(r/js),t=r-e*js;return{hi32:e,lo32:t}}function so(r,e){return r*js+e}var Fi=class extends W{constructor(e){super(8,e)}decode(e,t=0){let n=Y(e),i=n.readUInt32LE(t),a=n.readUInt32LE(t+4);return so(a,i)}encode(e,t,n=0){let i=oo(e),a=Y(t);return a.writeUInt32LE(i.lo32,n),a.writeUInt32LE(i.hi32,n+4),8}};S.NearUInt64=Fi;var Vi=class extends W{constructor(e){super(8,e)}decode(e,t=0){let n=Y(e),i=n.readUInt32BE(t),a=n.readUInt32BE(t+4);return so(i,a)}encode(e,t,n=0){let i=oo(e),a=Y(t);return a.writeUInt32BE(i.hi32,n),a.writeUInt32BE(i.lo32,n+4),8}};S.NearUInt64BE=Vi;var Yi=class extends W{constructor(e){super(8,e)}decode(e,t=0){let n=Y(e),i=n.readUInt32LE(t),a=n.readInt32LE(t+4);return so(a,i)}encode(e,t,n=0){let i=oo(e),a=Y(t);return a.writeUInt32LE(i.lo32,n),a.writeInt32LE(i.hi32,n+4),8}};S.NearInt64=Yi;var Gi=class extends W{constructor(e){super(8,e)}decode(e,t=0){let n=Y(e),i=n.readInt32BE(t),a=n.readUInt32BE(t+4);return so(i,a)}encode(e,t,n=0){let i=oo(e),a=Y(t);return a.writeInt32BE(i.hi32,n),a.writeUInt32BE(i.lo32,n+4),8}};S.NearInt64BE=Gi;var Wi=class extends W{constructor(e){super(4,e)}decode(e,t=0){return Y(e).readFloatLE(t)}encode(e,t,n=0){return Y(t).writeFloatLE(e,n),4}};S.Float=Wi;var $i=class extends W{constructor(e){super(4,e)}decode(e,t=0){return Y(e).readFloatBE(t)}encode(e,t,n=0){return Y(t).writeFloatBE(e,n),4}};S.FloatBE=$i;var Hi=class extends W{constructor(e){super(8,e)}decode(e,t=0){return Y(e).readDoubleLE(t)}encode(e,t,n=0){return Y(t).writeDoubleLE(e,n),8}};S.Double=Hi;var Zi=class extends W{constructor(e){super(8,e)}decode(e,t=0){return Y(e).readDoubleBE(t)}encode(e,t,n=0){return Y(t).writeDoubleBE(e,n),8}};S.DoubleBE=Zi;var Ji=class extends W{constructor(e,t,n){if(!(e instanceof W))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof nt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof nt)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof nt&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let a=0;for(;a<i;)n+=this.elementLayout.getSpan(e,t+n),++a}return n}decode(e,t=0){let n=[],i=0,a=this.count;for(a instanceof nt&&(a=a.decode(e,t));i<a;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,a=e.reduce((d,y)=>d+i.encode(y,t,n+d),0);return this.count instanceof nt&&this.count.encode(e.length,t,n),a}};S.Sequence=Ji;var Xi=class extends W{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((a,d)=>a&&d instanceof W,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((a,d)=>a+d.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,a)=>{let d=a.getSpan(e,t);return t+=d,i+d},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){An(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,a=0,d=0;for(let y of this.fields){let w=y.span;if(d=0<w?w:0,y.property!==void 0){let P=e[y.property];P!==void 0&&(d=y.encode(P,t,n),0>w&&(w=y.getSpan(t,n)))}a=n,n+=w}return a+d-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};S.Structure=Xi;var ui=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};S.UnionDiscriminator=ui;var In=class extends ui{constructor(e,t){if(!(e instanceof nt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};S.UnionLayoutDiscriminator=In;var ci=class extends W{constructor(e,t,n){let i;if(e instanceof pt||e instanceof Ot)i=new In(new ai(e));else if(e instanceof nt&&e.isCount())i=new In(e);else if(e instanceof ui)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof W))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&(e instanceof pt||e instanceof Ot)&&(a+=i.layout.span)),super(a,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof pt||e instanceof Ot,this.defaultLayout=t,this.registry={};let d=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(y){return d(y)},this.configGetSourceVariant=function(y){d=y.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,a=i.decode(e,t),d=this.registry[a];if(d===void 0){let y=this.defaultLayout,w=0;this.usesPrefixDiscriminator&&(w=i.layout.span),n=this.makeDestinationObject(),n[i.property]=a,n[y.property]=y.decode(e,t+w)}else n=d.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let a=this.discriminator,d=this.defaultLayout,y=0;return this.usesPrefixDiscriminator&&(y=a.layout.span),a.encode(e[a.property],t,n),y+d.encode(e[d.property],t,n+y)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new Qi(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};S.Union=ci;var Qi=class extends W{constructor(e,t,n,i){if(!(e instanceof ci))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof W))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let a=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),a+=this.layout.getSpan(t,n+i),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};S.VariantLayout=Qi;function Mn(r){return 0>r&&(r+=4294967296),r}var di=class extends W{constructor(e,t,n){if(!(e instanceof pt||e instanceof Ot))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(a){return i=Mn(a),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let a of this.fields)a.property!==void 0&&(n[a.property]=a.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let a of this.fields)if(a.property!==void 0){let d=e[a.property];d!==void 0&&a.encode(d)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new li(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new eo(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};S.BitStructure=di;var li=class{constructor(e,t,n){if(!(e instanceof di))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,a=e.fields.reduce((d,y)=>d+y.bits,0);if(t+a>i)throw new Error("bits too long for span remainder ("+(i-a)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=i-a-t),this.wordMask=Mn(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return Mn(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Mn(e&this.valueMask))throw new TypeError(Vs("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=Mn(e<<this.start);this.container._packedSetValue(Mn(t&~this.wordMask)|n)}};S.BitField=li;var eo=class extends li{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};S.Boolean=eo;var to=class extends W{constructor(e,t){if(!(e instanceof nt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof nt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Y(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof nt&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Vs("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let a=Y(e);return Y(t).write(a.toString("hex"),n,i,"hex"),this.length instanceof nt&&this.length.encode(i,t,n),i}};S.Blob=to;var ro=class extends W{constructor(e){super(-1,e)}getSpan(e,t=0){An(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return Y(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=Fs.Buffer.from(e,"utf8"),a=i.length;if(n+a>t.length)throw new RangeError("encoding overruns Buffer");let d=Y(t);return i.copy(d,n),d[n+a]=0,a+1}};S.CString=ro;var no=class extends W{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return An(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Y(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=Fs.Buffer.from(e,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(n+a>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(Y(t),n),a}};S.UTF8=no;var io=class extends W{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};S.Constant=io;S.greedy=(r,e)=>new ji(r,e);S.offset=(r,e,t)=>new ai(r,e,t);S.u8=r=>new pt(1,r);S.u16=r=>new pt(2,r);S.u24=r=>new pt(3,r);S.u32=r=>new pt(4,r);S.u40=r=>new pt(5,r);S.u48=r=>new pt(6,r);S.nu64=r=>new Fi(r);S.u16be=r=>new Ot(2,r);S.u24be=r=>new Ot(3,r);S.u32be=r=>new Ot(4,r);S.u40be=r=>new Ot(5,r);S.u48be=r=>new Ot(6,r);S.nu64be=r=>new Vi(r);S.s8=r=>new Cr(1,r);S.s16=r=>new Cr(2,r);S.s24=r=>new Cr(3,r);S.s32=r=>new Cr(4,r);S.s40=r=>new Cr(5,r);S.s48=r=>new Cr(6,r);S.ns64=r=>new Yi(r);S.s16be=r=>new $r(2,r);S.s24be=r=>new $r(3,r);S.s32be=r=>new $r(4,r);S.s40be=r=>new $r(5,r);S.s48be=r=>new $r(6,r);S.ns64be=r=>new Gi(r);S.f32=r=>new Wi(r);S.f32be=r=>new $i(r);S.f64=r=>new Hi(r);S.f64be=r=>new Zi(r);S.struct=(r,e,t)=>new Xi(r,e,t);S.bits=(r,e,t)=>new di(r,e,t);S.seq=(r,e,t)=>new Ji(r,e,t);S.union=(r,e,t)=>new ci(r,e,t);S.unionLayoutDiscriminator=(r,e)=>new In(r,e);S.blob=(r,e)=>new to(r,e);S.cstr=r=>new ro(r);S.utf8=(r,e)=>new no(r,e);S.constant=(r,e)=>new io(r,e)});var kn=M(ao=>{_();b();Object.defineProperty(ao,"__esModule",{value:!0});ao.encodeDecode=void 0;var sf=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};ao.encodeDecode=sf});var ac=M(H=>{_();b();Object.defineProperty(H,"__esModule",{value:!0});H.notImplemented=H.bitMask=void 0;H.isBytes=lo;H.abytes=fo;H.abool=uf;H.bytesToHex=Ws;H.numberToHexUnpadded=nc;H.hexToNumber=$s;H.hexToBytes=ho;H.bytesToNumberBE=df;H.bytesToNumberLE=lf;H.numberToBytesBE=ic;H.numberToBytesLE=ff;H.numberToVarBytesBE=hf;H.ensureBytes=gf;H.concatBytes=oc;H.equalBytes=yf;H.utf8ToBytes=pf;H.inRange=sc;H.aInRange=_f;H.bitLen=bf;H.bitGet=mf;H.bitSet=wf;H.createHmacDrbg=Sf;H.validateObject=Pf;H.memoized=If;var uo=BigInt(0),co=BigInt(1),af=BigInt(2);function lo(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function fo(r){if(!lo(r))throw new Error("Uint8Array expected")}function uf(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}var cf=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Ws(r){fo(r);let e="";for(let t=0;t<r.length;t++)e+=cf[r[t]];return e}function nc(r){let e=r.toString(16);return e.length&1?"0"+e:e}function $s(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?uo:BigInt("0x"+r)}var Kr={_0:48,_9:57,A:65,F:70,a:97,f:102};function tc(r){if(r>=Kr._0&&r<=Kr._9)return r-Kr._0;if(r>=Kr.A&&r<=Kr.F)return r-(Kr.A-10);if(r>=Kr.a&&r<=Kr.f)return r-(Kr.a-10)}function ho(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(t);for(let i=0,a=0;i<t;i++,a+=2){let d=tc(r.charCodeAt(a)),y=tc(r.charCodeAt(a+1));if(d===void 0||y===void 0){let w=r[a]+r[a+1];throw new Error('hex string expected, got non-hex character "'+w+'" at index '+a)}n[i]=d*16+y}return n}function df(r){return $s(Ws(r))}function lf(r){return fo(r),$s(Ws(Uint8Array.from(r).reverse()))}function ic(r,e){return ho(r.toString(16).padStart(e*2,"0"))}function ff(r,e){return ic(r,e).reverse()}function hf(r){return ho(nc(r))}function gf(r,e,t){let n;if(typeof e=="string")try{n=ho(e)}catch(a){throw new Error(r+" must be hex string or Uint8Array, cause: "+a)}else if(lo(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");let i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}function oc(...r){let e=0;for(let n=0;n<r.length;n++){let i=r[n];fo(i),e+=i.length}let t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let a=r[n];t.set(a,i),i+=a.length}return t}function yf(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}function pf(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}var Ys=r=>typeof r=="bigint"&&uo<=r;function sc(r,e,t){return Ys(r)&&Ys(e)&&Ys(t)&&e<=r&&r<t}function _f(r,e,t,n){if(!sc(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function bf(r){let e;for(e=0;r>uo;r>>=co,e+=1);return e}function mf(r,e){return r>>BigInt(e)&co}function wf(r,e,t){return r|(t?co:uo)<<BigInt(e)}var vf=r=>(af<<BigInt(r-1))-co;H.bitMask=vf;var Gs=r=>new Uint8Array(r),rc=r=>Uint8Array.from(r);function Sf(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Gs(r),i=Gs(r),a=0,d=()=>{n.fill(1),i.fill(0),a=0},y=(...B)=>t(i,n,...B),w=(B=Gs())=>{i=y(rc([0]),B),n=y(),B.length!==0&&(i=y(rc([1]),B),n=y())},P=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let B=0,E=[];for(;B<e;){n=y();let K=n.slice();E.push(K),B+=n.length}return oc(...E)};return(B,E)=>{d(),w(B);let K;for(;!(K=E(P()));)w();return d(),K}}var Tf={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||lo(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Pf(r,e,t={}){let n=(i,a,d)=>{let y=Tf[a];if(typeof y!="function")throw new Error("invalid validator function");let w=r[i];if(!(d&&w===void 0)&&!y(w,r))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+w)};for(let[i,a]of Object.entries(e))n(i,a,!1);for(let[i,a]of Object.entries(t))n(i,a,!0);return r}var Mf=()=>{throw new Error("not implemented")};H.notImplemented=Mf;function If(r){let e=new WeakMap;return(t,...n)=>{let i=e.get(t);if(i!==void 0)return i;let a=r(t,...n);return e.set(t,a),a}}});var yo=M(hr=>{_();b();Object.defineProperty(hr,"__esModule",{value:!0});hr.toBufferLE=hr.toBufferBE=hr.toBigIntLE=hr.toBigIntBE=void 0;var uc=yt(),go=ac();function Af(r){let e=r instanceof Uint8Array?r:new Uint8Array(r);return(0,go.bytesToNumberBE)(e)}hr.toBigIntBE=Af;function Bf(r){let e=r instanceof Uint8Array?r:new Uint8Array(r);return(0,go.bytesToNumberLE)(e)}hr.toBigIntLE=Bf;function kf(r,e){if(!Number.isFinite(e)||e<=0)throw new Error("width must be a positive integer");let t=(0,go.numberToBytesBE)(r,e);return uc.Buffer.from(t)}hr.toBufferBE=kf;function Ef(r,e){if(!Number.isFinite(e)||e<=0)throw new Error("width must be a positive integer");let t=(0,go.numberToBytesLE)(r,e);return uc.Buffer.from(t)}hr.toBufferLE=Ef});var Hs=M(Z=>{_();b();Object.defineProperty(Z,"__esModule",{value:!0});Z.u256be=Z.u256=Z.u192be=Z.u192=Z.u128be=Z.u128=Z.u64be=Z.u64=Z.bigIntBE=Z.bigInt=void 0;var cc=yt(),dc=Bn(),po=yo(),lc=kn(),Of=r=>e=>{let t=(0,dc.blob)(r,e),{encode:n,decode:i}=(0,lc.encodeDecode)(t),a=t;return a.decode=(d,y)=>{let w=i(d,y);return(0,po.toBigIntLE)(cc.Buffer.from(w))},a.encode=(d,y,w)=>{let P=(0,po.toBufferLE)(d,r);return n(P,y,w)},a};Z.bigInt=Of;var Cf=r=>e=>{let t=(0,dc.blob)(r,e),{encode:n,decode:i}=(0,lc.encodeDecode)(t),a=t;return a.decode=(d,y)=>{let w=i(d,y);return(0,po.toBigIntBE)(cc.Buffer.from(w))},a.encode=(d,y,w)=>{let P=(0,po.toBufferBE)(d,r);return n(P,y,w)},a};Z.bigIntBE=Cf;Z.u64=(0,Z.bigInt)(8);Z.u64be=(0,Z.bigIntBE)(8);Z.u128=(0,Z.bigInt)(16);Z.u128be=(0,Z.bigIntBE)(16);Z.u192=(0,Z.bigInt)(24);Z.u192be=(0,Z.bigIntBE)(24);Z.u256=(0,Z.bigInt)(32);Z.u256be=(0,Z.bigIntBE)(32)});var hc=M(Hr=>{_();b();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.decimal=Hr.WAD=void 0;var fc=fr(),Kf=kn(),xf=Hs();Hr.WAD=new fc.BigNumber("1e+18");var Lf=r=>{let e=(0,xf.u128)(r),{encode:t,decode:n}=(0,Kf.encodeDecode)(e),i=e;return i.decode=(a,d)=>{let y=n(a,d).toString();return new fc.BigNumber(y).div(Hr.WAD)},i.encode=(a,d,y)=>{let w=BigInt(a.times(Hr.WAD).integerValue().toString());return t(w,d,y)},i};Hr.decimal=Lf});var gc=M(_o=>{_();b();Object.defineProperty(_o,"__esModule",{value:!0});_o.bool=void 0;var Df=Bn(),qf=kn(),Uf=r=>{let e=(0,Df.u8)(r),{encode:t,decode:n}=(0,qf.encodeDecode)(e),i=e;return i.decode=(a,d)=>!!n(a,d),i.encode=(a,d,y)=>{let w=Number(a);return t(w,d,y)},i};_o.bool=Uf});var yc=M(bo=>{_();b();Object.defineProperty(bo,"__esModule",{value:!0});bo.publicKey=void 0;var zf=Bn(),Nf=oe(),Rf=kn(),jf=r=>{let e=(0,zf.blob)(32,r),{encode:t,decode:n}=(0,Rf.encodeDecode)(e),i=e;return i.decode=(a,d)=>{let y=n(a,d);return new Nf.PublicKey(y)},i.encode=(a,d,y)=>{let w=a.toBuffer();return t(w,d,y)},i};bo.publicKey=jf});var pc=M(Rt=>{_();b();var Ff=Rt&&Rt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),En=Rt&&Rt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ff(e,r,t)};Object.defineProperty(Rt,"__esModule",{value:!0});En(kn(),Rt);En(Hs(),Rt);En(hc(),Rt);En(gc(),Rt);En(yc(),Rt);En(Bn(),Rt)});var Ze=M(Zr=>{_();b();var Vf=Zr&&Zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_c=Zr&&Zr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Vf(e,r,t)};Object.defineProperty(Zr,"__esModule",{value:!0});_c(Bn(),Zr);_c(pc(),Zr)});var Zs=M(gr=>{_();b();var Yf=gr&&gr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gf=gr&&gr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wf=gr&&gr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Yf(e,r,t);return Gf(e,r),e};Object.defineProperty(gr,"__esModule",{value:!0});gr.FeeCalculatorLayout=void 0;var $f=Wf(Ze());gr.FeeCalculatorLayout=$f.nu64("lamportsPerSignature")});var bc=M(nr=>{_();b();Object.defineProperty(nr,"__esModule",{value:!0});nr.SOLANA_SCHEMA=nr.Enum=nr.Struct=void 0;var Hf=yt(),Js=nf(),mo=class{constructor(e){Object.assign(this,e)}encode(){return Hf.Buffer.from((0,Js.serialize)(nr.SOLANA_SCHEMA,this))}static decode(e){return(0,Js.deserialize)(nr.SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return(0,Js.deserializeUnchecked)(nr.SOLANA_SCHEMA,this,e)}};nr.Struct=mo;var Xs=class extends mo{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};nr.Enum=Xs;nr.SOLANA_SCHEMA=new Map});var gn=M(wo=>{_();b();Object.defineProperty(wo,"__esModule",{value:!0});wo.toBuffer=void 0;var Qs=yt(),Zf=r=>Qs.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Qs.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Qs.Buffer.from(r);wo.toBuffer=Zf});var Ct=M(Ft=>{_();b();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PublicKey=Ft.PUBLIC_KEY_LENGTH=Ft.MAX_SEED_LENGTH=void 0;var On=fr(),xr=yt(),vc=bc(),Jf=gn(),Xf=Pn();Ft.MAX_SEED_LENGTH=32;Ft.PUBLIC_KEY_LENGTH=32;function Qf(r){return r._bn!==void 0}var mc=1,jt=class extends vc.Struct{constructor(e){if(super({}),Qf(e))this._bn=e._bn;else{if(typeof e=="string"){let t=On.base.fromBase58(e);if(t.length!=Ft.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new On.BN(t)}else this._bn=new On.BN(e);if(this._bn.byteLength()>Ft.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){let e=new jt(mc);return mc+=1,new jt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return On.base.toBase58(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(xr.Buffer);if(e.length===Ft.PUBLIC_KEY_LENGTH)return e;let t=xr.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=xr.Buffer.concat([e.toBuffer(),xr.Buffer.from(t),n.toBuffer()]),a=On.base.sha256(i);return new jt(a)}static createProgramAddressSync(e,t){let n=xr.Buffer.alloc(0);e.forEach(function(a){if(a.length>Ft.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=xr.Buffer.concat([n,(0,Jf.toBuffer)(a)])}),n=xr.Buffer.concat([n,t.toBuffer(),xr.Buffer.from("ProgramDerivedAddress")]);let i=On.base.sha256(n);if(wc(i))throw new Error("Invalid seeds, address must fall off the curve");return new jt(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let a=e.concat(xr.Buffer.from([n]));i=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new jt(e);return wc(t.toBytes())==1}};Ft.PublicKey=jt;jt.default=new jt("11111111111111111111111111111111");vc.SOLANA_SCHEMA.set(jt,{kind:"struct",fields:[["_bn","u256"]]});function wc(r){try{return Xf.signUtil.ed25519.publicKeyVerify(r)?1:0}catch{return 0}}});var Sc=M(So=>{_();b();Object.defineProperty(So,"__esModule",{value:!0});So.Keypair=void 0;var eh=Ct(),vo=Pn(),fi=class{constructor(e){this._keypair=e}static fromSecretKey(e,t){if(!t||!t.skipValidation){let a=new TextEncoder().encode("@solana/web3.js-validation-v1"),d=vo.signUtil.ed25519.sign(a,e),y=vo.signUtil.ed25519.publicKeyCreate(e);if(!vo.signUtil.ed25519.verify(a,d,y))throw new Error("provided secretKey is invalid")}let n=vo.signUtil.ed25519.publicKeyCreate(e);return new fi({publicKey:n,secretKey:e})}get publicKey(){return new eh.PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}};So.Keypair=fi});var Po=M(To=>{_();b();Object.defineProperty(To,"__esModule",{value:!0});To.MessageAccountKeys=void 0;var ea=class{constructor(e,t){this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((a,d)=>{n.set(a.toBase58(),d)});let i=a=>{let d=n.get(a.toBase58());if(d===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return d};return e.map(a=>({programIdIndex:i(a.programId),accountKeyIndexes:a.keys.map(d=>i(d.pubkey)),data:a.data}))}};To.MessageAccountKeys=ea});var Lr=M(J=>{_();b();var th=J&&J.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rh=J&&J.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nh=J&&J.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&th(e,r,t);return rh(e,r),e};Object.defineProperty(J,"__esModule",{value:!0});J.getAlloc=J.voteInit=J.lockup=J.authorized=J.rustString=J.uint64=J.signature=J.publicKey=void 0;var Tc=yt(),Qe=nh(Ze()),ih=(r="publicKey")=>Qe.blob(32,r);J.publicKey=ih;var oh=(r="signature")=>Qe.blob(64,r);J.signature=oh;var sh=(r="uint64")=>Qe.blob(8,r);J.uint64=sh;var ah=(r="string")=>{let e=Qe.struct([Qe.u32("length"),Qe.u32("lengthPadding"),Qe.blob(Qe.offset(Qe.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(a,d)=>t(a,d).chars.toString(),i.encode=(a,d,y)=>{let w={chars:Tc.Buffer.from(a,"utf8")};return n(w,d,y)},i.alloc=a=>Qe.u32().span+Qe.u32().span+Tc.Buffer.from(a,"utf8").length,i};J.rustString=ah;var uh=(r="authorized")=>Qe.struct([(0,J.publicKey)("staker"),(0,J.publicKey)("withdrawer")],r);J.authorized=uh;var ch=(r="lockup")=>Qe.struct([Qe.ns64("unixTimestamp"),Qe.ns64("epoch"),(0,J.publicKey)("custodian")],r);J.lockup=ch;var dh=(r="voteInit")=>Qe.struct([(0,J.publicKey)("nodePubkey"),(0,J.publicKey)("authorizedVoter"),(0,J.publicKey)("authorizedWithdrawer"),Qe.u8("commission")],r);J.voteInit=dh;function Pc(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let a=e[i.property];if(Array.isArray(a))return a.length*t(i.elementLayout)}else if("fields"in i)return Pc({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}J.getAlloc=Pc});var yn=M(Jr=>{_();b();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.SIGNATURE_LENGTH_IN_BYTES=Jr.VERSION_PREFIX_MASK=Jr.PACKET_DATA_SIZE=void 0;Jr.PACKET_DATA_SIZE=1280-40-8;Jr.VERSION_PREFIX_MASK=127;Jr.SIGNATURE_LENGTH_IN_BYTES=64});var hi=M(Cn=>{_();b();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.encodeLength=Cn.decodeLength=void 0;function lh(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}Cn.decodeLength=lh;function fh(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}Cn.encodeLength=fh});var pn=M(ta=>{_();b();Object.defineProperty(ta,"__esModule",{value:!0});function hh(r,e){if(!r)throw new Error(e||"Assertion failed")}ta.default=hh});var ra=M(Kn=>{_();b();var gh=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.CompiledKeys=void 0;var Mo=gh(pn()),gi=Ct(),yi=class{constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=d=>{let y=d.toBase58(),w=n.get(y);return w===void 0&&(w={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(y,w)),w},a=i(t);a.isSigner=!0,a.isWritable=!0;for(let d of e){i(d.programId).isInvoked=!0;for(let y of d.keys){let w=i(y.pubkey);w.isSigner||(w.isSigner=y.isSigner),w.isWritable||(w.isWritable=y.isWritable)}}return new yi(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];(0,Mo.default)(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,w])=>w.isSigner&&w.isWritable),n=e.filter(([,w])=>w.isSigner&&!w.isWritable),i=e.filter(([,w])=>!w.isSigner&&w.isWritable),a=e.filter(([,w])=>!w.isSigner&&!w.isWritable),d={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{(0,Mo.default)(t.length>0,"Expected at least one writable signer key");let[w]=t[0];(0,Mo.default)(w===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let y=[...t.map(([w])=>new gi.PublicKey(w)),...n.map(([w])=>new gi.PublicKey(w)),...i.map(([w])=>new gi.PublicKey(w)),...a.map(([w])=>new gi.PublicKey(w))];return[d,y]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,d=>!d.isSigner&&!d.isInvoked&&d.isWritable),[i,a]=this.drainKeysFoundInLookupTable(e.state.addresses,d=>!d.isSigner&&!d.isInvoked&&!d.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[a,d]of this.keyMetaMap.entries())if(t(d)){let y=new gi.PublicKey(a),w=e.findIndex(P=>P.equals(y));w>=0&&((0,Mo.default)(w<256,"Max lookup table index exceeded"),n.push(w),i.push(y),this.keyMetaMap.delete(a))}return[n,i]}};Kn.CompiledKeys=yi});var ia=M(yr=>{_();b();var yh=yr&&yr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ph=yr&&yr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),na=yr&&yr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yh(e,r,t);return ph(e,r),e};Object.defineProperty(yr,"__esModule",{value:!0});yr.Message=void 0;var xn=fr(),Vt=yt(),_t=na(Ze()),Ln=Ct(),Mc=na(Lr()),Ic=yn(),Xr=na(hi()),_h=gn(),bh=ra(),Ac=Po(),Dn=class{constructor(e){this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ln.PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:xn.base.fromBase58(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ac.MessageAccountKeys(this.staticAccountKeys)}static compile(e){let t=bh.CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),d=new Ac.MessageAccountKeys(i).compileInstructions(e.instructions).map(y=>({programIdIndex:y.programIdIndex,accounts:y.accountKeyIndexes,data:xn.base.toBase58(y.data)}));return new Dn({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:d})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<a}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Xr.encodeLength(t,e);let n=this.instructions.map(B=>{let{accounts:E,programIdIndex:K}=B,N=Array.from(xn.base.fromBase58(B.data)),O=[];Xr.encodeLength(O,E.length);let D=[];return Xr.encodeLength(D,N.length),{programIdIndex:K,keyIndicesCount:Vt.Buffer.from(O),keyIndices:E,dataLength:Vt.Buffer.from(D),data:N}}),i=[];Xr.encodeLength(i,n.length);let a=Vt.Buffer.alloc(Ic.PACKET_DATA_SIZE);Vt.Buffer.from(i).copy(a);let d=i.length;n.forEach(B=>{let K=_t.struct([_t.u8("programIdIndex"),_t.blob(B.keyIndicesCount.length,"keyIndicesCount"),_t.seq(_t.u8("keyIndex"),B.keyIndices.length,"keyIndices"),_t.blob(B.dataLength.length,"dataLength"),_t.seq(_t.u8("userdatum"),B.data.length,"data")]).encode(B,a,d);d+=K}),a=a.slice(0,d);let y=_t.struct([_t.blob(1,"numRequiredSignatures"),_t.blob(1,"numReadonlySignedAccounts"),_t.blob(1,"numReadonlyUnsignedAccounts"),_t.blob(t.length,"keyCount"),_t.seq(Mc.publicKey("key"),e,"keys"),Mc.publicKey("recentBlockhash")]),w={numRequiredSignatures:Vt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Vt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Vt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Vt.Buffer.from(t),keys:this.accountKeys.map(B=>(0,_h.toBuffer)(B.toBytes())),recentBlockhash:xn.base.fromBase58(this.recentBlockhash)},P=Vt.Buffer.alloc(2048),k=y.encode(w,P);return a.copy(P,k),P.slice(0,k+a.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&Ic.VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),a=t.shift(),d=Xr.decodeLength(t),y=[];for(let E=0;E<d;E++){let K=t.slice(0,Ln.PUBLIC_KEY_LENGTH);t=t.slice(Ln.PUBLIC_KEY_LENGTH),y.push(new Ln.PublicKey(Vt.Buffer.from(K)))}let w=t.slice(0,Ln.PUBLIC_KEY_LENGTH);t=t.slice(Ln.PUBLIC_KEY_LENGTH);let P=Xr.decodeLength(t),k=[];for(let E=0;E<P;E++){let K=t.shift(),N=Xr.decodeLength(t),O=t.slice(0,N);t=t.slice(N);let D=Xr.decodeLength(t),U=t.slice(0,D),le=xn.base.toBase58(Vt.Buffer.from(U));t=t.slice(D),k.push({programIdIndex:K,accounts:O,data:le})}let B={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:xn.base.toBase58(Vt.Buffer.from(w)),accountKeys:y,instructions:k};return new Dn(B)}};yr.Message=Dn});var aa=M(Yt=>{_();b();var mh=Yt&&Yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wh=Yt&&Yt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sa=Yt&&Yt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mh(e,r,t);return wh(e,r),e},vh=Yt&&Yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.MessageV0=void 0;var Bc=fr(),ee=sa(Ze()),oa=sa(Lr()),pi=Ct(),bt=sa(hi()),kc=vh(pn()),Io=yn(),Sh=ra(),Ec=Po(),qn=class{constructor(e){this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ec.MessageAccountKeys(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,a=this.addressTableLookups.reduce((d,y)=>d+y.writableIndexes.length,0);return i<a}else if(e>=this.header.numRequiredSignatures){let i=e-t,d=n-t-this.header.numReadonlyUnsignedAccounts;return i<d}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(a=>a.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let a of n.writableIndexes)if(a<i.state.addresses.length)t.writable.push(i.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`);for(let a of n.readonlyIndexes)if(a<i.state.addresses.length)t.readonly.push(i.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=Sh.CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(let k of a){let B=t.extractTableLookup(k);if(B!==void 0){let[E,{writable:K,readonly:N}]=B;n.push(E),i.writable.push(...K),i.readonly.push(...N)}}let[d,y]=t.getMessageComponents(),P=new Ec.MessageAccountKeys(y,i).compileInstructions(e.instructions);return new qn({header:d,staticAccountKeys:y,recentBlockhash:e.recentBlockhash,compiledInstructions:P,addressTableLookups:n})}serialize(){let e=Array();bt.encodeLength(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();bt.encodeLength(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),a=Array();bt.encodeLength(a,this.addressTableLookups.length);let d=ee.struct([ee.u8("prefix"),ee.struct([ee.u8("numRequiredSignatures"),ee.u8("numReadonlySignedAccounts"),ee.u8("numReadonlyUnsignedAccounts")],"header"),ee.blob(e.length,"staticAccountKeysLength"),ee.seq(oa.publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),oa.publicKey("recentBlockhash"),ee.blob(n.length,"instructionsLength"),ee.blob(t.length,"serializedInstructions"),ee.blob(a.length,"addressTableLookupsLength"),ee.blob(i.length,"serializedAddressTableLookups")]),y=new Uint8Array(Io.PACKET_DATA_SIZE),w=1<<7,P=d.encode({prefix:w,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(k=>k.toBytes()),recentBlockhash:Bc.base.fromBase58(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:i},y);return y.slice(0,P)}serializeInstructions(){let e=0,t=new Uint8Array(Io.PACKET_DATA_SIZE);for(let n of this.compiledInstructions){let i=Array();bt.encodeLength(i,n.accountKeyIndexes.length);let a=Array();bt.encodeLength(a,n.data.length);let d=ee.struct([ee.u8("programIdIndex"),ee.blob(i.length,"encodedAccountKeyIndexesLength"),ee.seq(ee.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),ee.blob(a.length,"encodedDataLength"),ee.blob(n.data.length,"data")]);e+=d.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(Io.PACKET_DATA_SIZE);for(let n of this.addressTableLookups){let i=Array();bt.encodeLength(i,n.writableIndexes.length);let a=Array();bt.encodeLength(a,n.readonlyIndexes.length);let d=ee.struct([oa.publicKey("accountKey"),ee.blob(i.length,"encodedWritableIndexesLength"),ee.seq(ee.u8(),n.writableIndexes.length,"writableIndexes"),ee.blob(a.length,"encodedReadonlyIndexesLength"),ee.seq(ee.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=d.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&Io.VERSION_PREFIX_MASK;(0,kc.default)(n!==i,"Expected versioned message but received legacy message");let a=i;(0,kc.default)(a===0,`Expected versioned message with version 0 but found version ${a}`);let d={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},y=[],w=bt.decodeLength(t);for(let N=0;N<w;N++)y.push(new pi.PublicKey(t.splice(0,pi.PUBLIC_KEY_LENGTH)));let P=Bc.base.toBase58(t.splice(0,pi.PUBLIC_KEY_LENGTH)),k=bt.decodeLength(t),B=[];for(let N=0;N<k;N++){let O=t.shift(),D=bt.decodeLength(t),U=t.splice(0,D),le=bt.decodeLength(t),Gr=new Uint8Array(t.splice(0,le));B.push({programIdIndex:O,accountKeyIndexes:U,data:Gr})}let E=bt.decodeLength(t),K=[];for(let N=0;N<E;N++){let O=new pi.PublicKey(t.splice(0,pi.PUBLIC_KEY_LENGTH)),D=bt.decodeLength(t),U=t.splice(0,D),le=bt.decodeLength(t),Gr=t.splice(0,le);K.push({accountKey:O,writableIndexes:U,readonlyIndexes:Gr})}return new qn({header:d,staticAccountKeys:y,recentBlockhash:P,compiledInstructions:B,addressTableLookups:K})}};Yt.MessageV0=qn});var ua=M(_i=>{_();b();Object.defineProperty(_i,"__esModule",{value:!0});_i.VersionedMessage=void 0;var Th=yn(),Ph=ia(),Mh=aa();_i.VersionedMessage={deserializeMessageVersion(r){let e=r[0],t=e&Th.VERSION_PREFIX_MASK;return t===e?"legacy":t},deserialize:r=>{let e=_i.VersionedMessage.deserializeMessageVersion(r);if(e==="legacy")return Ph.Message.from(r);if(e===0)return Mh.MessageV0.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}}});var Bo=M(pr=>{_();b();var Ih=pr&&pr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ao=pr&&pr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ih(e,r,t)};Object.defineProperty(pr,"__esModule",{value:!0});Ao(Po(),pr);Ao(ia(),pr);Ao(ua(),pr);Ao(aa(),pr)});var ca=M(Gt=>{_();b();var Ah=Gt&&Gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bh=Gt&&Gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kc=Gt&&Gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ah(e,r,t);return Bh(e,r),e};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.NonceAccount=Gt.NONCE_ACCOUNT_LENGTH=void 0;var ko=Kc(Ze()),Oc=Kc(Lr()),Cc=Ct(),kh=Zs(),Eh=gn(),xc=ko.struct([ko.u32("version"),ko.u32("state"),Oc.publicKey("authorizedPubkey"),Oc.publicKey("nonce"),ko.struct([kh.FeeCalculatorLayout],"feeCalculator")]);Gt.NONCE_ACCOUNT_LENGTH=xc.span;var bi=class{constructor(e){this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=xc.decode((0,Eh.toBuffer)(e),0);return new bi({authorizedPubkey:new Cc.PublicKey(t.authorizedPubkey),nonce:new Cc.PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}};Gt.NonceAccount=bi});var mi=M(_r=>{_();b();Object.defineProperty(_r,"__esModule",{value:!0});_r.u256=_r.u192=_r.u128=_r.u64=void 0;var Oh=yt(),Ch=Ze(),Lc=yo(),Kh=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Eo=r=>e=>{let t=(0,Ch.blob)(r,e),{encode:n,decode:i}=Kh(t),a=t;return a.decode=(d,y)=>{let w=i(d,y);return(0,Lc.toBigIntLE)(Oh.Buffer.from(w))},a.encode=(d,y,w)=>{let P=(0,Lc.toBufferLE)(d,r);return n(P,y,w)},a};_r.u64=Eo(8);_r.u128=Eo(16);_r.u192=Eo(24);_r.u256=Eo(32)});var wi=M(Wt=>{_();b();var xh=Wt&&Wt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lh=Wt&&Wt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dh=Wt&&Wt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xh(e,r,t);return Lh(e,r),e};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.decodeData=Wt.encodeData=void 0;var qh=yt(),Uh=Dh(Lr());function zh(r,e){let t=r.layout.span>=0?r.layout.span:Uh.getAlloc(r,e),n=qh.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}Wt.encodeData=zh;function Nh(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}Wt.decodeData=Nh});var da=M($e=>{_();b();Object.defineProperty($e,"__esModule",{value:!0});$e.SYSVAR_STAKE_HISTORY_PUBKEY=$e.SYSVAR_SLOT_HISTORY_PUBKEY=$e.SYSVAR_SLOT_HASHES_PUBKEY=$e.SYSVAR_REWARDS_PUBKEY=$e.SYSVAR_RENT_PUBKEY=$e.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=$e.SYSVAR_INSTRUCTIONS_PUBKEY=$e.SYSVAR_EPOCH_SCHEDULE_PUBKEY=$e.SYSVAR_CLOCK_PUBKEY=void 0;var Dr=Ct();$e.SYSVAR_CLOCK_PUBKEY=new Dr.PublicKey("SysvarC1ock11111111111111111111111111111111");$e.SYSVAR_EPOCH_SCHEDULE_PUBKEY=new Dr.PublicKey("SysvarEpochSchedu1e111111111111111111111111");$e.SYSVAR_INSTRUCTIONS_PUBKEY=new Dr.PublicKey("Sysvar1nstructions1111111111111111111111111");$e.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new Dr.PublicKey("SysvarRecentB1ockHashes11111111111111111111");$e.SYSVAR_RENT_PUBKEY=new Dr.PublicKey("SysvarRent111111111111111111111111111111111");$e.SYSVAR_REWARDS_PUBKEY=new Dr.PublicKey("SysvarRewards111111111111111111111111111111");$e.SYSVAR_SLOT_HASHES_PUBKEY=new Dr.PublicKey("SysvarS1otHashes111111111111111111111111111");$e.SYSVAR_SLOT_HISTORY_PUBKEY=new Dr.PublicKey("SysvarS1otHistory11111111111111111111111111");$e.SYSVAR_STAKE_HISTORY_PUBKEY=new Dr.PublicKey("SysvarStakeHistory1111111111111111111111111")});var Dc=M(Qr=>{_();b();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.TransactionExpiredNonceInvalidError=Qr.TransactionExpiredTimeoutError=Qr.TransactionExpiredBlockheightExceededError=void 0;var Oo=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=e}};Qr.TransactionExpiredBlockheightExceededError=Oo;Object.defineProperty(Oo.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Co=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=e}};Qr.TransactionExpiredTimeoutError=Co;Object.defineProperty(Co.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Ko=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=e}};Qr.TransactionExpiredNonceInvalidError=Ko;Object.defineProperty(Ko.prototype,"name",{value:"TransactionExpiredNonceInvalidError"})});var la=M(mt=>{_();b();var Rh=mt&&mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jh=mt&&mt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Fh=mt&&mt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Rh(e,r,t);return jh(e,r),e},Vh=mt&&mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mt,"__esModule",{value:!0});mt.Transaction=mt.TransactionInstruction=void 0;var Ur=yt(),Si=yn(),qc=Bo(),Yh=Ct(),Uc=Fh(hi()),Gh=gn(),qr=Vh(pn()),vi=fr(),zc=Pn(),Wh=Ur.Buffer.alloc(Si.SIGNATURE_LENGTH_IN_BYTES).fill(0),Ti=class{constructor(e){this.data=Ur.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}};mt.TransactionInstruction=Ti;var Un=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.instructions=[],!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ti(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let O=0;O<t.length;O++)if(t[O].programId===void 0)throw new Error(`Transaction instruction index ${O} has undefined program id`);let i=[],a=[];t.forEach(O=>{O.keys.forEach(U=>{a.push({...U})});let D=O.programId.toString();i.includes(D)||i.push(D)}),i.forEach(O=>{a.push({pubkey:new Yh.PublicKey(O),isSigner:!1,isWritable:!1})});let d=[];a.forEach(O=>{let D=O.pubkey.toString(),U=d.findIndex(le=>le.pubkey.toString()===D);U>-1?(d[U].isWritable=d[U].isWritable||O.isWritable,d[U].isSigner=d[U].isSigner||O.isSigner):d.push(O)}),d.sort(function(O,D){return O.isSigner!==D.isSigner?O.isSigner?-1:1:O.isWritable!==D.isWritable?O.isWritable?-1:1:O.pubkey.toBase58().localeCompare(D.pubkey.toBase58())});let y=d.findIndex(O=>O.pubkey.equals(n));if(y>-1){let[O]=d.splice(y,1);O.isSigner=!0,O.isWritable=!0,d.unshift(O)}else d.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let O of this.signatures){let D=d.findIndex(U=>U.pubkey.equals(O.publicKey));if(D>-1)d[D].isSigner||(d[D].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${O.publicKey.toString()}`)}let w=0,P=0,k=0,B=[],E=[];d.forEach(({pubkey:O,isSigner:D,isWritable:U})=>{D?(B.push(O.toString()),w+=1,U||(P+=1)):(E.push(O.toString()),U||(k+=1))});let K=B.concat(E),N=t.map(O=>{let{data:D,programId:U}=O;return{programIdIndex:K.indexOf(U.toString()),accounts:O.keys.map(le=>K.indexOf(le.pubkey.toString())),data:vi.base.toBase58(D)}});return N.forEach(O=>{(0,qr.default)(O.programIdIndex>=0),O.accounts.forEach(D=>(0,qr.default)(D>=0))}),new qc.Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:P,numReadonlyUnsignedAccounts:k},accountKeys:K,recentBlockhash:e,instructions:N})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,a)=>t[a].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let a of e){let d=a.publicKey.toString();t.has(d)||(t.add(d),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let a of e){let d=a.publicKey.toString();t.has(d)||(t.add(d),n.push(a))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let a=zc.signUtil.ed25519.sign(n,i.secretKey);this._addSignature(i.publicKey,(0,Gh.toBuffer)(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){(0,qr.default)(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ur.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!zc.signUtil.ed25519.verify(e,n,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];Uc.encodeLength(n,t.length);let i=n.length+t.length*64+e.length,a=Ur.Buffer.alloc(i);return(0,qr.default)(t.length<256),Ur.Buffer.from(n).copy(a,0),t.forEach(({signature:d},y)=>{d!==null&&((0,qr.default)(d.length===64,"signature has invalid length"),Ur.Buffer.from(d).copy(a,n.length+y*64))}),e.copy(a,n.length+t.length*64),(0,qr.default)(a.length<=Si.PACKET_DATA_SIZE,`Transaction too large: ${a.length} > ${Si.PACKET_DATA_SIZE}`),a}get keys(){return(0,qr.default)(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return(0,qr.default)(this.instructions.length===1),this.instructions[0].programId}get data(){return(0,qr.default)(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Uc.decodeLength(t),i=[];for(let a=0;a<n;a++){let d=t.slice(0,Si.SIGNATURE_LENGTH_IN_BYTES);t=t.slice(Si.SIGNATURE_LENGTH_IN_BYTES),i.push(vi.base.toBase58(Ur.Buffer.from(d)))}return Un.populate(qc.Message.from(t),i)}static populate(e,t=[]){let n=new Un;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,a)=>{let d={signature:i==vi.base.toBase58(Wh)?null:Ur.Buffer.from(vi.base.fromBase58(i)),publicKey:e.accountKeys[a]};n.signatures.push(d)}),e.instructions.forEach(i=>{let a=i.accounts.map(d=>{let y=e.accountKeys[d];return{pubkey:y,isSigner:n.signatures.some(w=>w.publicKey.toString()===y.toString())||e.isAccountSigner(d),isWritable:e.isAccountWritable(d)}});n.instructions.push(new Ti({keys:a,programId:e.accountKeys[i.programIdIndex],data:Ur.Buffer.from(vi.base.fromBase58(i.data))}))}),n._message=e,n._json=n.toJSON(),n}};mt.Transaction=Un});var jc=M(zn=>{_();b();var $h=zn&&zn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zn,"__esModule",{value:!0});zn.TransactionMessage=void 0;var Nc=$h(pn()),Hh=gn(),Rc=Bo(),Zh=la(),Pi=class{constructor(e){this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:n,compiledInstructions:i,recentBlockhash:a}=e,{numRequiredSignatures:d,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:w}=n,P=d-y;(0,Nc.default)(P>0,"Message header is invalid");let k=e.staticAccountKeys.length-d-w;(0,Nc.default)(k>=0,"Message header is invalid");let B=e.getAccountKeys(t),E=B.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let K=[];for(let N of i){let O=[];for(let U of N.accountKeyIndexes){let le=B.get(U);if(le===void 0)throw new Error(`Failed to find key for account key index ${U}`);let Gr=U<d,ut;Gr?ut=U<P:U<B.staticAccountKeys.length?ut=U-d<k:ut=U-B.staticAccountKeys.length<B.accountKeysFromLookups.writable.length,O.push({pubkey:le,isSigner:U<n.numRequiredSignatures,isWritable:ut})}let D=B.get(N.programIdIndex);if(D===void 0)throw new Error(`Failed to find program id for program id index ${N.programIdIndex}`);K.push(new Zh.TransactionInstruction({programId:D,data:(0,Hh.toBuffer)(N.data),keys:O}))}return new Pi({payerKey:E,instructions:K,recentBlockhash:a})}compileToLegacyMessage(){return Rc.Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Rc.MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}};zn.TransactionMessage=Pi});var Yc=M($t=>{_();b();var Jh=$t&&$t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xh=$t&&$t.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fa=$t&&$t.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jh(e,r,t);return Xh(e,r),e},Qh=$t&&$t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($t,"__esModule",{value:!0});$t.VersionedTransaction=void 0;var xo=fa(Ze()),Lo=Qh(pn()),eg=ua(),Fc=yn(),Vc=fa(hi()),tg=fa(Lr()),rg=Pn(),ng=yt(),Mi=class{get signature(){return this.signatures.length>0?ng.Buffer.from(this.signatures[0]):null}get version(){return this.message.version}constructor(e,t){if(t!==void 0)(0,Lo.default)(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Fc.SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Vc.encodeLength(t,this.signatures.length);let n=xo.struct([xo.blob(t.length,"encodedSignaturesLength"),xo.seq(tg.signature(),this.signatures.length,"signatures"),xo.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),a=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,a)}static deserialize(e){let t=[...e],n=[],i=Vc.decodeLength(t);for(let d=0;d<i;d++)n.push(new Uint8Array(t.splice(0,Fc.SIGNATURE_LENGTH_IN_BYTES)));let a=eg.VersionedMessage.deserialize(new Uint8Array(t));return new Mi(a,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let a=n.findIndex(d=>d.equals(i.publicKey));(0,Lo.default)(a>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[a]=rg.signUtil.ed25519.sign(t,i.secretKey)}}addSignature(e,t){(0,Lo.default)(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));(0,Lo.default)(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};$t.VersionedTransaction=Mi});var Ai=M(ir=>{_();b();var ig=ir&&ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ii=ir&&ir.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ig(e,r,t)};Object.defineProperty(ir,"__esModule",{value:!0});Ii(yn(),ir);Ii(Dc(),ir);Ii(la(),ir);Ii(jc(),ir);Ii(Yc(),ir)});var ga=M(R=>{_();b();var og=R&&R.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sg=R&&R.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$c=R&&R.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&og(e,r,t);return sg(e,r),e};Object.defineProperty(R,"__esModule",{value:!0});R.SystemProgram=R.SYSTEM_INSTRUCTION_LAYOUTS=R.SystemInstruction=void 0;var V=$c(Ze()),ne=wi(),ct=$c(Lr()),Gc=ca(),Ht=Ct(),Bi=da(),br=Ai(),or=gn(),Wc=mi(),ha=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[a,d]of Object.entries(R.SYSTEM_INSTRUCTION_LAYOUTS))if(d.index==n){i=a;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:n,programId:i}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Ht.PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:n,programId:i}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Ht.PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,space:i,programId:a}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ht.PublicKey(t),seed:n,space:i,programId:new Ht.PublicKey(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ht.PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,programId:i}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ht.PublicKey(t),seed:n,programId:new Ht.PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:n,lamports:i,space:a,programId:d}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ht.PublicKey(t),seed:n,lamports:i,space:a,programId:new Ht.PublicKey(d)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ht.PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=(0,ne.decodeData)(R.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ht.PublicKey(t)}}static checkProgramId(e){if(!e.equals(en.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};R.SystemInstruction=ha;R.SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:V.struct([V.u32("instruction"),V.ns64("lamports"),V.ns64("space"),ct.publicKey("programId")])},Assign:{index:1,layout:V.struct([V.u32("instruction"),ct.publicKey("programId")])},Transfer:{index:2,layout:V.struct([V.u32("instruction"),(0,Wc.u64)("lamports")])},CreateWithSeed:{index:3,layout:V.struct([V.u32("instruction"),ct.publicKey("base"),ct.rustString("seed"),V.ns64("lamports"),V.ns64("space"),ct.publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:V.struct([V.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:V.struct([V.u32("instruction"),ct.publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:V.struct([V.u32("instruction"),ct.publicKey("authorized")])},Allocate:{index:8,layout:V.struct([V.u32("instruction"),V.ns64("space")])},AllocateWithSeed:{index:9,layout:V.struct([V.u32("instruction"),ct.publicKey("base"),ct.rustString("seed"),V.ns64("space"),ct.publicKey("programId")])},AssignWithSeed:{index:10,layout:V.struct([V.u32("instruction"),ct.publicKey("base"),ct.rustString("seed"),ct.publicKey("programId")])},TransferWithSeed:{index:11,layout:V.struct([V.u32("instruction"),(0,Wc.u64)("lamports"),ct.rustString("seed"),ct.publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:V.struct([V.u32("instruction")])}});var en=class{constructor(){}static createAccount(e){let t=R.SYSTEM_INSTRUCTION_LAYOUTS.Create,n=(0,ne.encodeData)(t,{lamports:e.lamports,space:e.space,programId:(0,or.toBuffer)(e.programId.toBuffer())});return new br.TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=R.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=(0,ne.encodeData)(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:(0,or.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=R.SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=(0,ne.encodeData)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new br.TransactionInstruction({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=R.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=(0,ne.encodeData)(i,{base:(0,or.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,programId:(0,or.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=R.SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=(0,ne.encodeData)(i,{programId:(0,or.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new br.TransactionInstruction({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=R.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=(0,ne.encodeData)(t,{base:(0,or.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:(0,or.toBuffer)(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new br.TransactionInstruction({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new br.Transaction;"basePubkey"in e&&"seed"in e?t.add(en.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Gc.NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(en.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Gc.NONCE_ACCOUNT_LENGTH,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=R.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=(0,ne.encodeData)(t,{authorized:(0,or.toBuffer)(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Bi.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Bi.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new br.TransactionInstruction(i)}static nonceAdvance(e){let t=R.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=(0,ne.encodeData)(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Bi.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new br.TransactionInstruction(i)}static nonceWithdraw(e){let t=R.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=(0,ne.encodeData)(t,{lamports:e.lamports});return new br.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Bi.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Bi.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=R.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=(0,ne.encodeData)(t,{authorized:(0,or.toBuffer)(e.newAuthorizedPubkey.toBuffer())});return new br.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=R.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=(0,ne.encodeData)(i,{base:(0,or.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:(0,or.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=R.SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=(0,ne.encodeData)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new br.TransactionInstruction({keys:n,programId:this.programId,data:t})}};R.SystemProgram=en;en.programId=new Ht.PublicKey("11111111111111111111111111111111")});var Hc=M(Do=>{_();b();Object.defineProperty(Do,"__esModule",{value:!0});Do.decodeData=void 0;function ag(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}Do.decodeData=ag});var td=M(Zt=>{_();b();var ug=Zt&&Zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cg=Zt&&Zt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qc=Zt&&Zt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ug(e,r,t);return cg(e,r),e},dg=Zt&&Zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.AddressLookupTableAccount=void 0;var mr=Qc(Ze()),Zc=dg(pn()),ed=Qc(Lr()),Jc=Ct(),lg=mi(),fg=Hc(),Xc=56,ya=class{constructor(e){this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=(0,fg.decodeData)(hg,e),n=e.length-Xc;(0,Zc.default)(n>=0,"lookup table is invalid"),(0,Zc.default)(n%32===0,"lookup table is invalid");let i=n/32,{addresses:a}=mr.struct([mr.seq(ed.publicKey(),i,"addresses")]).decode(e.slice(Xc));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Jc.PublicKey(t.authority[0]):void 0,addresses:a.map(d=>new Jc.PublicKey(d))}}};Zt.AddressLookupTableAccount=ya;var hg={index:1,layout:mr.struct([mr.u32("typeIndex"),(0,lg.u64)("deactivationSlot"),mr.nu64("lastExtendedSlot"),mr.u8("lastExtendedStartIndex"),mr.u8(),mr.seq(ed.publicKey(),mr.offset(mr.u8(),-1),"authority")])}});var od=M(te=>{_();b();var id=te&&te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gg=te&&te.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_a=te&&te.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&id(e,r,t);return gg(e,r),e},yg=te&&te.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&id(e,r,t)};Object.defineProperty(te,"__esModule",{value:!0});te.AddressLookupTableProgram=te.AddressLookupTableInstruction=te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=void 0;var pg=yo(),dt=_a(Ze()),_g=_a(Lr()),ba=Ct(),rd=_a(mi()),nd=ga(),ki=Ai(),_n=wi();yg(td(),te);te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:dt.struct([dt.u32("instruction"),rd.u64("recentSlot"),dt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:dt.struct([dt.u32("instruction")])},ExtendLookupTable:{index:2,layout:dt.struct([dt.u32("instruction"),rd.u64(),dt.seq(_g.publicKey(),dt.offset(dt.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:dt.struct([dt.u32("instruction")])},CloseLookupTable:{index:4,layout:dt.struct([dt.u32("instruction")])}});var pa=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=dt.u32("instruction").decode(e.data),i;for(let[a,d]of Object.entries(te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(d.index==n){i=a;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=(0,_n.decodeData)(te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=(0,_n.decodeData)(te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new ba.PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Ei.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};te.AddressLookupTableInstruction=pa;var Ei=class{constructor(){}static createLookupTable(e){let[t,n]=ba.PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,pg.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,a=(0,_n.encodeData)(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:nd.SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new ki.TransactionInstruction({programId:this.programId,keys:d,data:a}),t]}static freezeLookupTable(e){let t=te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=(0,_n.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ki.TransactionInstruction({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=(0,_n.encodeData)(t,{addresses:e.addresses.map(a=>a.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:nd.SystemProgram.programId,isSigner:!1,isWritable:!1}),new ki.TransactionInstruction({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=(0,_n.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ki.TransactionInstruction({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=te.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=(0,_n.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ki.TransactionInstruction({programId:this.programId,keys:i,data:n})}};te.AddressLookupTableProgram=Ei;Ei.programId=new ba.PublicKey("AddressLookupTab1e1111111111111111111111111")});var Uo=M(se=>{_();b();var bg=se&&se.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mg=se&&se.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wg=se&&se.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&bg(e,r,t);return mg(e,r),e};Object.defineProperty(se,"__esModule",{value:!0});se.ComputeBudgetProgram=se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=se.ComputeBudgetInstruction=void 0;var Kt=wg(Ze()),tn=wi(),vg=Ct(),qo=Ai(),Sg=mi(),ma=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Kt.u8("instruction").decode(e.data),i;for(let[a,d]of Object.entries(se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(d.index==n){i=a;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:t,additionalFee:n}=(0,tn.decodeData)(se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:t}=(0,tn.decodeData)(se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:t}=(0,tn.decodeData)(se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:t}=(0,tn.decodeData)(se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Oi.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};se.ComputeBudgetInstruction=ma;se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:Kt.struct([Kt.u8("instruction"),Kt.u32("units"),Kt.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Kt.struct([Kt.u8("instruction"),Kt.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Kt.struct([Kt.u8("instruction"),Kt.u32("units")])},SetComputeUnitPrice:{index:3,layout:Kt.struct([Kt.u8("instruction"),(0,Sg.u64)("microLamports")])}});var Oi=class{constructor(){}static requestUnits(e){let t=se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=(0,tn.encodeData)(t,e);return new qo.TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=(0,tn.encodeData)(t,e);return new qo.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=(0,tn.encodeData)(t,e);return new qo.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=se.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=(0,tn.encodeData)(t,{microLamports:BigInt(e.microLamports)});return new qo.TransactionInstruction({keys:[],programId:this.programId,data:n})}};se.ComputeBudgetProgram=Oi;Oi.programId=new vg.PublicKey("ComputeBudget111111111111111111111111111111")});var sd=M(zr=>{_();b();var Tg=zr&&zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wa=zr&&zr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Tg(e,r,t)};Object.defineProperty(zr,"__esModule",{value:!0});wa(od(),zr);wa(ga(),zr);wa(Uo(),zr)});var oe=M(et=>{_();b();var Pg=et&&et.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nr=et&&et.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Pg(e,r,t)};Object.defineProperty(et,"__esModule",{value:!0});et.LAMPORTS_PER_SOL=void 0;Nr(ec(),et);Nr(Zs(),et);Nr(Sc(),et);Nr(Bo(),et);Nr(ca(),et);Nr(sd(),et);Nr(Ct(),et);Nr(Ai(),et);Nr(da(),et);et.LAMPORTS_PER_SOL=1e9});var wr=M(lt=>{_();b();Object.defineProperty(lt,"__esModule",{value:!0});lt.programSupportsExtensions=lt.NATIVE_MINT_2022=lt.NATIVE_MINT=lt.ASSOCIATED_TOKEN_PROGRAM_ID=lt.TOKEN_2022_PROGRAM_ID=lt.TOKEN_PROGRAM_ID=void 0;var Ci=oe();lt.TOKEN_PROGRAM_ID=new Ci.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");lt.TOKEN_2022_PROGRAM_ID=new Ci.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");lt.ASSOCIATED_TOKEN_PROGRAM_ID=new Ci.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");lt.NATIVE_MINT=new Ci.PublicKey("So11111111111111111111111111111111111111112");lt.NATIVE_MINT_2022=new Ci.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function Mg(r){return r!==lt.TOKEN_PROGRAM_ID}lt.programSupportsExtensions=Mg});var Rr=M(ie=>{_();b();Object.defineProperty(ie,"__esModule",{value:!0});ie.TokenInvalidInstructionTypeError=ie.TokenInvalidInstructionDataError=ie.TokenInvalidInstructionKeysError=ie.TokenInvalidInstructionProgramError=ie.TokenOwnerOffCurveError=ie.TokenInvalidOwnerError=ie.TokenInvalidMintError=ie.TokenInvalidAccountSizeError=ie.TokenInvalidAccountOwnerError=ie.TokenAccountNotFoundError=ie.TokenError=void 0;var xt=class extends Error{constructor(e){super(e)}};ie.TokenError=xt;var va=class extends xt{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};ie.TokenAccountNotFoundError=va;var Sa=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};ie.TokenInvalidAccountOwnerError=Sa;var Ta=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};ie.TokenInvalidAccountSizeError=Ta;var Pa=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};ie.TokenInvalidMintError=Pa;var Ma=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};ie.TokenInvalidOwnerError=Ma;var Ia=class extends xt{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};ie.TokenOwnerOffCurveError=Ia;var Aa=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};ie.TokenInvalidInstructionProgramError=Aa;var Ba=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};ie.TokenInvalidInstructionKeysError=Ba;var ka=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};ie.TokenInvalidInstructionDataError=ka;var Ea=class extends xt{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};ie.TokenInvalidInstructionTypeError=Ea});var rn=M(Ki=>{_();b();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.TokenInstruction=void 0;var Ig;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2"})(Ig=Ki.TokenInstruction||(Ki.TokenInstruction={}))});var bn=M(zo=>{_();b();Object.defineProperty(zo,"__esModule",{value:!0});zo.addSigners=void 0;var Ag=oe();function Bg(r,e,t){if(t.length){r.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of t)r.push({pubkey:n instanceof Ag.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:e,isSigner:!0,isWritable:!1});return r}zo.addSigners=Bg});var dd=M(wt=>{_();b();Object.defineProperty(wt,"__esModule",{value:!0});wt.decodeTransferInstructionUnchecked=wt.decodeTransferInstruction=wt.createTransferInstruction=wt.transferInstructionData=void 0;var Oa=Ze(),kg=oe(),ad=wr(),No=Rr(),Eg=bn(),ud=rn();wt.transferInstructionData=(0,Oa.struct)([(0,Oa.u8)("instruction"),(0,Oa.u64)("amount")]);function Og(r,e,t,n,i=[],a=ad.TOKEN_PROGRAM_ID){let d=(0,Eg.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),y=T.Buffer.alloc(wt.transferInstructionData.span);return wt.transferInstructionData.encode({instruction:ud.TokenInstruction.Transfer,amount:BigInt(n)},y),new kg.TransactionInstruction({keys:d,programId:a,data:y})}wt.createTransferInstruction=Og;function Cg(r,e=ad.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new No.TokenInvalidInstructionProgramError;if(r.data.length!==wt.transferInstructionData.span)throw new No.TokenInvalidInstructionDataError;let{keys:{source:t,destination:n,owner:i,multiSigners:a},data:d}=cd(r);if(d.instruction!==ud.TokenInstruction.Transfer)throw new No.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new No.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:n,owner:i,multiSigners:a},data:d}}wt.decodeTransferInstruction=Cg;function cd({programId:r,keys:[e,t,n,...i],data:a}){return{programId:r,keys:{source:e,destination:t,owner:n,multiSigners:i},data:wt.transferInstructionData.decode(a)}}wt.decodeTransferInstructionUnchecked=cd});var gd=M(vt=>{_();b();Object.defineProperty(vt,"__esModule",{value:!0});vt.decodeTransferCheckedInstructionUnchecked=vt.decodeTransferCheckedInstruction=vt.createTransferCheckedInstruction=vt.transferCheckedInstructionData=void 0;var Ro=Ze(),Kg=oe(),ld=wr(),jo=Rr(),xg=bn(),fd=rn();vt.transferCheckedInstructionData=(0,Ro.struct)([(0,Ro.u8)("instruction"),(0,Ro.u64)("amount"),(0,Ro.u8)("decimals")]);function Lg(r,e,t,n,i,a,d=[],y=ld.TOKEN_PROGRAM_ID){let w=(0,xg.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0}],n,d),P=T.Buffer.alloc(vt.transferCheckedInstructionData.span);return vt.transferCheckedInstructionData.encode({instruction:fd.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:a},P),new Kg.TransactionInstruction({keys:w,programId:y,data:P})}vt.createTransferCheckedInstruction=Lg;function Dg(r,e=ld.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new jo.TokenInvalidInstructionProgramError;if(r.data.length!==vt.transferCheckedInstructionData.span)throw new jo.TokenInvalidInstructionDataError;let{keys:{source:t,mint:n,destination:i,owner:a,multiSigners:d},data:y}=hd(r);if(y.instruction!==fd.TokenInstruction.TransferChecked)throw new jo.TokenInvalidInstructionTypeError;if(!t||!n||!i||!a)throw new jo.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,mint:n,destination:i,owner:a,multiSigners:d},data:y}}vt.decodeTransferCheckedInstruction=Dg;function hd({programId:r,keys:[e,t,n,i,...a],data:d}){return{programId:r,keys:{source:e,mint:t,destination:n,owner:i,multiSigners:a},data:vt.transferCheckedInstructionData.decode(d)}}vt.decodeTransferCheckedInstructionUnchecked=hd});var pd=M(Fo=>{_();b();Object.defineProperty(Fo,"__esModule",{value:!0});Fo.createAssociatedTokenAccountInstruction=void 0;var Ca=oe(),yd=wr();function qg(r,e,t,n,i=yd.TOKEN_PROGRAM_ID,a=yd.ASSOCIATED_TOKEN_PROGRAM_ID){let d=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ca.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ca.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new Ca.TransactionInstruction({keys:d,programId:a,data:T.Buffer.alloc(0)})}Fo.createAssociatedTokenAccountInstruction=qg});var wd=M(St=>{_();b();Object.defineProperty(St,"__esModule",{value:!0});St.decodeBurnInstructionUnchecked=St.decodeBurnInstruction=St.createBurnInstruction=St.burnInstructionData=void 0;var Ka=Ze(),Ug=oe(),_d=wr(),Vo=Rr(),zg=bn(),bd=rn();St.burnInstructionData=(0,Ka.struct)([(0,Ka.u8)("instruction"),(0,Ka.u64)("amount")]);function Ng(r,e,t,n,i=[],a=_d.TOKEN_PROGRAM_ID){let d=(0,zg.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),y=T.Buffer.alloc(St.burnInstructionData.span);return St.burnInstructionData.encode({instruction:bd.TokenInstruction.Burn,amount:BigInt(n)},y),new Ug.TransactionInstruction({keys:d,programId:a,data:y})}St.createBurnInstruction=Ng;function Rg(r,e=_d.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Vo.TokenInvalidInstructionProgramError;if(r.data.length!==St.burnInstructionData.span)throw new Vo.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:a},data:d}=md(r);if(d.instruction!==bd.TokenInstruction.Burn)throw new Vo.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Vo.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:a},data:d}}St.decodeBurnInstruction=Rg;function md({programId:r,keys:[e,t,n,...i],data:a}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:St.burnInstructionData.decode(a)}}St.decodeBurnInstructionUnchecked=md});var Pd=M(Tt=>{_();b();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.decodeBurnCheckedInstructionUnchecked=Tt.decodeBurnCheckedInstruction=Tt.createBurnCheckedInstruction=Tt.burnCheckedInstructionData=void 0;var Yo=Ze(),jg=oe(),vd=wr(),Go=Rr(),Fg=bn(),Sd=rn();Tt.burnCheckedInstructionData=(0,Yo.struct)([(0,Yo.u8)("instruction"),(0,Yo.u64)("amount"),(0,Yo.u8)("decimals")]);function Vg(r,e,t,n,i,a=[],d=vd.TOKEN_PROGRAM_ID){let y=(0,Fg.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,a),w=T.Buffer.alloc(Tt.burnCheckedInstructionData.span);return Tt.burnCheckedInstructionData.encode({instruction:Sd.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},w),new jg.TransactionInstruction({keys:y,programId:d,data:w})}Tt.createBurnCheckedInstruction=Vg;function Yg(r,e=vd.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Go.TokenInvalidInstructionProgramError;if(r.data.length!==Tt.burnCheckedInstructionData.span)throw new Go.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:a},data:d}=Td(r);if(d.instruction!==Sd.TokenInstruction.BurnChecked)throw new Go.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Go.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:a},data:d}}Tt.decodeBurnCheckedInstruction=Yg;function Td({programId:r,keys:[e,t,n,...i],data:a}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:Tt.burnCheckedInstructionData.decode(a)}}Tt.decodeBurnCheckedInstructionUnchecked=Td});var Bd=M(Pt=>{_();b();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.decodeMintToInstructionUnchecked=Pt.decodeMintToInstruction=Pt.createMintToInstruction=Pt.mintToInstructionData=void 0;var xa=Ze(),Gg=oe(),Md=wr(),Wo=Rr(),Wg=bn(),Id=rn();Pt.mintToInstructionData=(0,xa.struct)([(0,xa.u8)("instruction"),(0,xa.u64)("amount")]);function $g(r,e,t,n,i=[],a=Md.TOKEN_PROGRAM_ID){let d=(0,Wg.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),y=T.Buffer.alloc(Pt.mintToInstructionData.span);return Pt.mintToInstructionData.encode({instruction:Id.TokenInstruction.MintTo,amount:BigInt(n)},y),new Gg.TransactionInstruction({keys:d,programId:a,data:y})}Pt.createMintToInstruction=$g;function Hg(r,e=Md.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Wo.TokenInvalidInstructionProgramError;if(r.data.length!==Pt.mintToInstructionData.span)throw new Wo.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:a},data:d}=Ad(r);if(d.instruction!==Id.TokenInstruction.MintTo)throw new Wo.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Wo.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:a},data:d}}Pt.decodeMintToInstruction=Hg;function Ad({programId:r,keys:[e,t,n,...i],data:a}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:Pt.mintToInstructionData.decode(a)}}Pt.decodeMintToInstructionUnchecked=Ad});var Cd=M(Mt=>{_();b();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.decodeMintToCheckedInstructionUnchecked=Mt.decodeMintToCheckedInstruction=Mt.createMintToCheckedInstruction=Mt.mintToCheckedInstructionData=void 0;var $o=Ze(),Zg=oe(),kd=wr(),Ho=Rr(),Jg=bn(),Ed=rn();Mt.mintToCheckedInstructionData=(0,$o.struct)([(0,$o.u8)("instruction"),(0,$o.u64)("amount"),(0,$o.u8)("decimals")]);function Xg(r,e,t,n,i,a=[],d=kd.TOKEN_PROGRAM_ID){let y=(0,Jg.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,a),w=T.Buffer.alloc(Mt.mintToCheckedInstructionData.span);return Mt.mintToCheckedInstructionData.encode({instruction:Ed.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},w),new Zg.TransactionInstruction({keys:y,programId:d,data:w})}Mt.createMintToCheckedInstruction=Xg;function Qg(r,e=kd.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ho.TokenInvalidInstructionProgramError;if(r.data.length!==Mt.mintToCheckedInstructionData.span)throw new Ho.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:a},data:d}=Od(r);if(d.instruction!==Ed.TokenInstruction.MintToChecked)throw new Ho.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Ho.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:a},data:d}}Mt.decodeMintToCheckedInstruction=Qg;function Od({programId:r,keys:[e,t,n,...i],data:a}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:Mt.mintToCheckedInstructionData.decode(a)}}Mt.decodeMintToCheckedInstructionUnchecked=Od});var Kd=M(It=>{_();b();var ey=It&&It.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nn=It&&It.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ey(e,r,t)};Object.defineProperty(It,"__esModule",{value:!0});nn(rn(),It);nn(dd(),It);nn(gd(),It);nn(pd(),It);nn(wd(),It);nn(Pd(),It);nn(Bd(),It);nn(Cd(),It)});var Zo=M(sr=>{_();b();var ty=sr&&sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),La=sr&&sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ty(e,r,t)};Object.defineProperty(sr,"__esModule",{value:!0});sr.getAssociatedTokenAddress=void 0;var xd=oe(),Ld=wr(),ry=Rr();La(Kd(),sr);La(wr(),sr);La(Rr(),sr);async function ny(r,e,t=!1,n=Ld.TOKEN_PROGRAM_ID,i=Ld.ASSOCIATED_TOKEN_PROGRAM_ID){if(!t&&!xd.PublicKey.isOnCurve(e.toBuffer()))throw new ry.TokenOwnerOffCurveError;let[a]=await xd.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return a}sr.getAssociatedTokenAddress=ny});var ot=M(it=>{_();b();Object.defineProperty(it,"__esModule",{value:!0});it.isElementCollectionFixedSizeBeet=it.isFixableBeet=it.assertFixedSizeBeet=it.isFixedSizeBeet=it.BEET_TYPE_ARG_INNER=it.BEET_TYPE_ARG_LEN=it.BEET_PACKAGE=void 0;var iy=lr();it.BEET_PACKAGE="@metaplex-foundation/beet";it.BEET_TYPE_ARG_LEN="len";it.BEET_TYPE_ARG_INNER="Beet<{innner}>";function Dd(r){return Object.keys(r).includes("byteSize")}it.isFixedSizeBeet=Dd;function oy(r,e=`${r} should have been a fixed beet`){(0,iy.strict)(Dd(r),e)}it.assertFixedSizeBeet=oy;function sy(r){return typeof r.toFixedFromData=="function"&&typeof r.toFixedFromValue=="function"}it.isFixableBeet=sy;function ay(r){let e=Object.keys(r);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}it.isElementCollectionFixedSizeBeet=ay});var Ud=M((qd,Da)=>{_();b();(function(r,e){"use strict";function t(p,o){if(!p)throw new Error(o||"Assertion failed")}function n(p,o){p.super_=o;var u=function(){};u.prototype=o.prototype,p.prototype=new u,p.prototype.constructor=p}function i(p,o,u){if(i.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(p||0,o||10,u||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=yt().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,c){if(typeof o=="number")return this._initNumber(o,u,c);if(typeof o=="object")return this._initArray(o,u,c);u==="hex"&&(u=16),t(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(u===16?this._parseHex(o,l,c):(this._parseBase(o,u,l),c==="le"&&this._initArray(this.toArray(),u,c)))},i.prototype._initNumber=function(o,u,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(t(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),u,c)},i.prototype._initArray=function(o,u,c){if(t(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var h,m,v=0;if(c==="be")for(l=o.length-1,h=0;l>=0;l-=3)m=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[h]|=m<<v&67108863,this.words[h+1]=m>>>26-v&67108863,v+=24,v>=26&&(v-=26,h++);else if(c==="le")for(l=0,h=0;l<o.length;l+=3)m=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[h]|=m<<v&67108863,this.words[h+1]=m>>>26-v&67108863,v+=24,v>=26&&(v-=26,h++);return this._strip()};function d(p,o){var u=p.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;t(!1,"Invalid character in "+p)}function y(p,o,u){var c=d(p,u);return u-1>=o&&(c|=d(p,u-1)<<4),c}i.prototype._parseHex=function(o,u,c){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var h=0,m=0,v;if(c==="be")for(l=o.length-1;l>=u;l-=2)v=y(o,u,l)<<h,this.words[m]|=v&67108863,h>=18?(h-=18,m+=1,this.words[m]|=v>>>26):h+=8;else{var f=o.length-u;for(l=f%2===0?u+1:u;l<o.length;l+=2)v=y(o,u,l)<<h,this.words[m]|=v&67108863,h>=18?(h-=18,m+=1,this.words[m]|=v>>>26):h+=8}this._strip()};function w(p,o,u,c){for(var l=0,h=0,m=Math.min(p.length,u),v=o;v<m;v++){var f=p.charCodeAt(v)-48;l*=c,f>=49?h=f-49+10:f>=17?h=f-17+10:h=f,t(f>=0&&h<c,"Invalid character"),l+=h}return l}i.prototype._parseBase=function(o,u,c){this.words=[0],this.length=1;for(var l=0,h=1;h<=67108863;h*=u)l++;l--,h=h/u|0;for(var m=o.length-c,v=m%l,f=Math.min(m,m-v)+c,s=0,g=c;g<f;g+=l)s=w(o,g,g+l,u),this.imuln(h),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(v!==0){var C=1;for(s=w(o,g,o.length,u),g=0;g<v;g++)C*=u;this.imuln(C),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function P(p,o){p.words=o.words,p.length=o.length,p.negative=o.negative,p.red=o.red}if(i.prototype._move=function(o){P(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=k}catch{i.prototype.inspect=k}else i.prototype.inspect=k;function k(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],K=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,h=0,m=0;m<this.length;m++){var v=this.words[m],f=((v<<l|h)&16777215).toString(16);h=v>>>24-l&16777215,l+=2,l>=26&&(l-=26,m--),h!==0||m!==this.length-1?c=B[6-f.length]+f+c:c=f+c}for(h!==0&&(c=h.toString(16)+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var s=E[o],g=K[o];c="";var C=this.clone();for(C.negative=0;!C.isZero();){var x=C.modrn(g).toString(o);C=C.idivn(g),C.isZero()?c=x+c:c=B[s-x.length]+x+c}for(this.isZero()&&(c="0"+c);c.length%u!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(a,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var N=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,c){this._strip();var l=this.byteLength(),h=c||Math.max(1,l);t(l<=h,"byte array longer than desired length"),t(h>0,"Requested array length <= 0");var m=N(o,h),v=u==="le"?"LE":"BE";return this["_toArrayLike"+v](m,l),m},i.prototype._toArrayLikeLE=function(o,u){for(var c=0,l=0,h=0,m=0;h<this.length;h++){var v=this.words[h]<<m|l;o[c++]=v&255,c<o.length&&(o[c++]=v>>8&255),c<o.length&&(o[c++]=v>>16&255),m===6?(c<o.length&&(o[c++]=v>>24&255),l=0,m=0):(l=v>>>24,m+=2)}if(c<o.length)for(o[c++]=l;c<o.length;)o[c++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var c=o.length-1,l=0,h=0,m=0;h<this.length;h++){var v=this.words[h]<<m|l;o[c--]=v&255,c>=0&&(o[c--]=v>>8&255),c>=0&&(o[c--]=v>>16&255),m===6?(c>=0&&(o[c--]=v>>24&255),l=0,m=0):(l=v>>>24,m+=2)}if(c>=0)for(o[c--]=l;c>=0;)o[c--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,c=0;return u>=4096&&(c+=13,u>>>=13),u>=64&&(c+=7,u>>>=7),u>=8&&(c+=4,u>>>=4),u>=2&&(c+=2,u>>>=2),c+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,c=0;return(u&8191)===0&&(c+=13,u>>>=13),(u&127)===0&&(c+=7,u>>>=7),(u&15)===0&&(c+=4,u>>>=4),(u&3)===0&&(c+=2,u>>>=2),(u&1)===0&&c++,c},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function O(p){for(var o=new Array(p.bitLength()),u=0;u<o.length;u++){var c=u/26|0,l=u%26;o[u]=p.words[c]>>>l&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var c=this._zeroBits(this.words[u]);if(o+=c,c!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return t((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return t((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,c;this.length>o.length?(u=this,c=o):(u=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=u.words[l]^c.words[l];if(this!==u)for(;l<u.length;l++)this.words[l]=u.words[l];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return t((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){t(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,c=o%26;this._expand(u),c>0&&u--;for(var l=0;l<u;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){t(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),u?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var h=0,m=0;m<l.length;m++)u=(c.words[m]|0)+(l.words[m]|0)+h,this.words[m]=u&67108863,h=u>>>26;for(;h!==0&&m<c.length;m++)u=(c.words[m]|0)+h,this.words[m]=u&67108863,h=u>>>26;if(this.length=c.length,h!==0)this.words[this.length]=h,this.length++;else if(c!==this)for(;m<c.length;m++)this.words[m]=c.words[m];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,h;c>0?(l=this,h=o):(l=o,h=this);for(var m=0,v=0;v<h.length;v++)u=(l.words[v]|0)-(h.words[v]|0)+m,m=u>>26,this.words[v]=u&67108863;for(;m!==0&&v<l.length;v++)u=(l.words[v]|0)+m,m=u>>26,this.words[v]=u&67108863;if(m===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function D(p,o,u){u.negative=o.negative^p.negative;var c=p.length+o.length|0;u.length=c,c=c-1|0;var l=p.words[0]|0,h=o.words[0]|0,m=l*h,v=m&67108863,f=m/67108864|0;u.words[0]=v;for(var s=1;s<c;s++){for(var g=f>>>26,C=f&67108863,x=Math.min(s,o.length-1),L=Math.max(0,s-p.length+1);L<=x;L++){var z=s-L|0;l=p.words[z]|0,h=o.words[L]|0,m=l*h+C,g+=m/67108864|0,C=m&67108863}u.words[s]=C|0,f=g|0}return f!==0?u.words[s]=f|0:u.length--,u._strip()}var U=function(o,u,c){var l=o.words,h=u.words,m=c.words,v=0,f,s,g,C=l[0]|0,x=C&8191,L=C>>>13,z=l[1]|0,$=z&8191,X=z>>>13,Wr=l[2]|0,Q=Wr&8191,re=Wr>>>13,Du=l[3]|0,ge=Du&8191,ye=Du>>>13,qu=l[4]|0,pe=qu&8191,_e=qu>>>13,Uu=l[5]|0,be=Uu&8191,me=Uu>>>13,zu=l[6]|0,we=zu&8191,ve=zu>>>13,Nu=l[7]|0,Se=Nu&8191,Te=Nu>>>13,Ru=l[8]|0,Pe=Ru&8191,Me=Ru>>>13,ju=l[9]|0,Ie=ju&8191,Ae=ju>>>13,Fu=h[0]|0,Be=Fu&8191,ke=Fu>>>13,Vu=h[1]|0,Ee=Vu&8191,Oe=Vu>>>13,Yu=h[2]|0,Ce=Yu&8191,Ke=Yu>>>13,Gu=h[3]|0,xe=Gu&8191,Le=Gu>>>13,Wu=h[4]|0,De=Wu&8191,qe=Wu>>>13,$u=h[5]|0,Ue=$u&8191,ze=$u>>>13,Hu=h[6]|0,Ne=Hu&8191,Re=Hu>>>13,Zu=h[7]|0,je=Zu&8191,Fe=Zu>>>13,Ju=h[8]|0,Ve=Ju&8191,Ye=Ju>>>13,Xu=h[9]|0,Ge=Xu&8191,We=Xu>>>13;c.negative=o.negative^u.negative,c.length=19,f=Math.imul(x,Be),s=Math.imul(x,ke),s=s+Math.imul(L,Be)|0,g=Math.imul(L,ke);var Ts=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,f=Math.imul($,Be),s=Math.imul($,ke),s=s+Math.imul(X,Be)|0,g=Math.imul(X,ke),f=f+Math.imul(x,Ee)|0,s=s+Math.imul(x,Oe)|0,s=s+Math.imul(L,Ee)|0,g=g+Math.imul(L,Oe)|0;var Ps=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ps>>>26)|0,Ps&=67108863,f=Math.imul(Q,Be),s=Math.imul(Q,ke),s=s+Math.imul(re,Be)|0,g=Math.imul(re,ke),f=f+Math.imul($,Ee)|0,s=s+Math.imul($,Oe)|0,s=s+Math.imul(X,Ee)|0,g=g+Math.imul(X,Oe)|0,f=f+Math.imul(x,Ce)|0,s=s+Math.imul(x,Ke)|0,s=s+Math.imul(L,Ce)|0,g=g+Math.imul(L,Ke)|0;var Ms=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,f=Math.imul(ge,Be),s=Math.imul(ge,ke),s=s+Math.imul(ye,Be)|0,g=Math.imul(ye,ke),f=f+Math.imul(Q,Ee)|0,s=s+Math.imul(Q,Oe)|0,s=s+Math.imul(re,Ee)|0,g=g+Math.imul(re,Oe)|0,f=f+Math.imul($,Ce)|0,s=s+Math.imul($,Ke)|0,s=s+Math.imul(X,Ce)|0,g=g+Math.imul(X,Ke)|0,f=f+Math.imul(x,xe)|0,s=s+Math.imul(x,Le)|0,s=s+Math.imul(L,xe)|0,g=g+Math.imul(L,Le)|0;var Is=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Is>>>26)|0,Is&=67108863,f=Math.imul(pe,Be),s=Math.imul(pe,ke),s=s+Math.imul(_e,Be)|0,g=Math.imul(_e,ke),f=f+Math.imul(ge,Ee)|0,s=s+Math.imul(ge,Oe)|0,s=s+Math.imul(ye,Ee)|0,g=g+Math.imul(ye,Oe)|0,f=f+Math.imul(Q,Ce)|0,s=s+Math.imul(Q,Ke)|0,s=s+Math.imul(re,Ce)|0,g=g+Math.imul(re,Ke)|0,f=f+Math.imul($,xe)|0,s=s+Math.imul($,Le)|0,s=s+Math.imul(X,xe)|0,g=g+Math.imul(X,Le)|0,f=f+Math.imul(x,De)|0,s=s+Math.imul(x,qe)|0,s=s+Math.imul(L,De)|0,g=g+Math.imul(L,qe)|0;var As=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(As>>>26)|0,As&=67108863,f=Math.imul(be,Be),s=Math.imul(be,ke),s=s+Math.imul(me,Be)|0,g=Math.imul(me,ke),f=f+Math.imul(pe,Ee)|0,s=s+Math.imul(pe,Oe)|0,s=s+Math.imul(_e,Ee)|0,g=g+Math.imul(_e,Oe)|0,f=f+Math.imul(ge,Ce)|0,s=s+Math.imul(ge,Ke)|0,s=s+Math.imul(ye,Ce)|0,g=g+Math.imul(ye,Ke)|0,f=f+Math.imul(Q,xe)|0,s=s+Math.imul(Q,Le)|0,s=s+Math.imul(re,xe)|0,g=g+Math.imul(re,Le)|0,f=f+Math.imul($,De)|0,s=s+Math.imul($,qe)|0,s=s+Math.imul(X,De)|0,g=g+Math.imul(X,qe)|0,f=f+Math.imul(x,Ue)|0,s=s+Math.imul(x,ze)|0,s=s+Math.imul(L,Ue)|0,g=g+Math.imul(L,ze)|0;var Bs=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Bs>>>26)|0,Bs&=67108863,f=Math.imul(we,Be),s=Math.imul(we,ke),s=s+Math.imul(ve,Be)|0,g=Math.imul(ve,ke),f=f+Math.imul(be,Ee)|0,s=s+Math.imul(be,Oe)|0,s=s+Math.imul(me,Ee)|0,g=g+Math.imul(me,Oe)|0,f=f+Math.imul(pe,Ce)|0,s=s+Math.imul(pe,Ke)|0,s=s+Math.imul(_e,Ce)|0,g=g+Math.imul(_e,Ke)|0,f=f+Math.imul(ge,xe)|0,s=s+Math.imul(ge,Le)|0,s=s+Math.imul(ye,xe)|0,g=g+Math.imul(ye,Le)|0,f=f+Math.imul(Q,De)|0,s=s+Math.imul(Q,qe)|0,s=s+Math.imul(re,De)|0,g=g+Math.imul(re,qe)|0,f=f+Math.imul($,Ue)|0,s=s+Math.imul($,ze)|0,s=s+Math.imul(X,Ue)|0,g=g+Math.imul(X,ze)|0,f=f+Math.imul(x,Ne)|0,s=s+Math.imul(x,Re)|0,s=s+Math.imul(L,Ne)|0,g=g+Math.imul(L,Re)|0;var ks=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(ks>>>26)|0,ks&=67108863,f=Math.imul(Se,Be),s=Math.imul(Se,ke),s=s+Math.imul(Te,Be)|0,g=Math.imul(Te,ke),f=f+Math.imul(we,Ee)|0,s=s+Math.imul(we,Oe)|0,s=s+Math.imul(ve,Ee)|0,g=g+Math.imul(ve,Oe)|0,f=f+Math.imul(be,Ce)|0,s=s+Math.imul(be,Ke)|0,s=s+Math.imul(me,Ce)|0,g=g+Math.imul(me,Ke)|0,f=f+Math.imul(pe,xe)|0,s=s+Math.imul(pe,Le)|0,s=s+Math.imul(_e,xe)|0,g=g+Math.imul(_e,Le)|0,f=f+Math.imul(ge,De)|0,s=s+Math.imul(ge,qe)|0,s=s+Math.imul(ye,De)|0,g=g+Math.imul(ye,qe)|0,f=f+Math.imul(Q,Ue)|0,s=s+Math.imul(Q,ze)|0,s=s+Math.imul(re,Ue)|0,g=g+Math.imul(re,ze)|0,f=f+Math.imul($,Ne)|0,s=s+Math.imul($,Re)|0,s=s+Math.imul(X,Ne)|0,g=g+Math.imul(X,Re)|0,f=f+Math.imul(x,je)|0,s=s+Math.imul(x,Fe)|0,s=s+Math.imul(L,je)|0,g=g+Math.imul(L,Fe)|0;var Es=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Es>>>26)|0,Es&=67108863,f=Math.imul(Pe,Be),s=Math.imul(Pe,ke),s=s+Math.imul(Me,Be)|0,g=Math.imul(Me,ke),f=f+Math.imul(Se,Ee)|0,s=s+Math.imul(Se,Oe)|0,s=s+Math.imul(Te,Ee)|0,g=g+Math.imul(Te,Oe)|0,f=f+Math.imul(we,Ce)|0,s=s+Math.imul(we,Ke)|0,s=s+Math.imul(ve,Ce)|0,g=g+Math.imul(ve,Ke)|0,f=f+Math.imul(be,xe)|0,s=s+Math.imul(be,Le)|0,s=s+Math.imul(me,xe)|0,g=g+Math.imul(me,Le)|0,f=f+Math.imul(pe,De)|0,s=s+Math.imul(pe,qe)|0,s=s+Math.imul(_e,De)|0,g=g+Math.imul(_e,qe)|0,f=f+Math.imul(ge,Ue)|0,s=s+Math.imul(ge,ze)|0,s=s+Math.imul(ye,Ue)|0,g=g+Math.imul(ye,ze)|0,f=f+Math.imul(Q,Ne)|0,s=s+Math.imul(Q,Re)|0,s=s+Math.imul(re,Ne)|0,g=g+Math.imul(re,Re)|0,f=f+Math.imul($,je)|0,s=s+Math.imul($,Fe)|0,s=s+Math.imul(X,je)|0,g=g+Math.imul(X,Fe)|0,f=f+Math.imul(x,Ve)|0,s=s+Math.imul(x,Ye)|0,s=s+Math.imul(L,Ve)|0,g=g+Math.imul(L,Ye)|0;var Os=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Os>>>26)|0,Os&=67108863,f=Math.imul(Ie,Be),s=Math.imul(Ie,ke),s=s+Math.imul(Ae,Be)|0,g=Math.imul(Ae,ke),f=f+Math.imul(Pe,Ee)|0,s=s+Math.imul(Pe,Oe)|0,s=s+Math.imul(Me,Ee)|0,g=g+Math.imul(Me,Oe)|0,f=f+Math.imul(Se,Ce)|0,s=s+Math.imul(Se,Ke)|0,s=s+Math.imul(Te,Ce)|0,g=g+Math.imul(Te,Ke)|0,f=f+Math.imul(we,xe)|0,s=s+Math.imul(we,Le)|0,s=s+Math.imul(ve,xe)|0,g=g+Math.imul(ve,Le)|0,f=f+Math.imul(be,De)|0,s=s+Math.imul(be,qe)|0,s=s+Math.imul(me,De)|0,g=g+Math.imul(me,qe)|0,f=f+Math.imul(pe,Ue)|0,s=s+Math.imul(pe,ze)|0,s=s+Math.imul(_e,Ue)|0,g=g+Math.imul(_e,ze)|0,f=f+Math.imul(ge,Ne)|0,s=s+Math.imul(ge,Re)|0,s=s+Math.imul(ye,Ne)|0,g=g+Math.imul(ye,Re)|0,f=f+Math.imul(Q,je)|0,s=s+Math.imul(Q,Fe)|0,s=s+Math.imul(re,je)|0,g=g+Math.imul(re,Fe)|0,f=f+Math.imul($,Ve)|0,s=s+Math.imul($,Ye)|0,s=s+Math.imul(X,Ve)|0,g=g+Math.imul(X,Ye)|0,f=f+Math.imul(x,Ge)|0,s=s+Math.imul(x,We)|0,s=s+Math.imul(L,Ge)|0,g=g+Math.imul(L,We)|0;var Cs=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Cs>>>26)|0,Cs&=67108863,f=Math.imul(Ie,Ee),s=Math.imul(Ie,Oe),s=s+Math.imul(Ae,Ee)|0,g=Math.imul(Ae,Oe),f=f+Math.imul(Pe,Ce)|0,s=s+Math.imul(Pe,Ke)|0,s=s+Math.imul(Me,Ce)|0,g=g+Math.imul(Me,Ke)|0,f=f+Math.imul(Se,xe)|0,s=s+Math.imul(Se,Le)|0,s=s+Math.imul(Te,xe)|0,g=g+Math.imul(Te,Le)|0,f=f+Math.imul(we,De)|0,s=s+Math.imul(we,qe)|0,s=s+Math.imul(ve,De)|0,g=g+Math.imul(ve,qe)|0,f=f+Math.imul(be,Ue)|0,s=s+Math.imul(be,ze)|0,s=s+Math.imul(me,Ue)|0,g=g+Math.imul(me,ze)|0,f=f+Math.imul(pe,Ne)|0,s=s+Math.imul(pe,Re)|0,s=s+Math.imul(_e,Ne)|0,g=g+Math.imul(_e,Re)|0,f=f+Math.imul(ge,je)|0,s=s+Math.imul(ge,Fe)|0,s=s+Math.imul(ye,je)|0,g=g+Math.imul(ye,Fe)|0,f=f+Math.imul(Q,Ve)|0,s=s+Math.imul(Q,Ye)|0,s=s+Math.imul(re,Ve)|0,g=g+Math.imul(re,Ye)|0,f=f+Math.imul($,Ge)|0,s=s+Math.imul($,We)|0,s=s+Math.imul(X,Ge)|0,g=g+Math.imul(X,We)|0;var Ks=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ks>>>26)|0,Ks&=67108863,f=Math.imul(Ie,Ce),s=Math.imul(Ie,Ke),s=s+Math.imul(Ae,Ce)|0,g=Math.imul(Ae,Ke),f=f+Math.imul(Pe,xe)|0,s=s+Math.imul(Pe,Le)|0,s=s+Math.imul(Me,xe)|0,g=g+Math.imul(Me,Le)|0,f=f+Math.imul(Se,De)|0,s=s+Math.imul(Se,qe)|0,s=s+Math.imul(Te,De)|0,g=g+Math.imul(Te,qe)|0,f=f+Math.imul(we,Ue)|0,s=s+Math.imul(we,ze)|0,s=s+Math.imul(ve,Ue)|0,g=g+Math.imul(ve,ze)|0,f=f+Math.imul(be,Ne)|0,s=s+Math.imul(be,Re)|0,s=s+Math.imul(me,Ne)|0,g=g+Math.imul(me,Re)|0,f=f+Math.imul(pe,je)|0,s=s+Math.imul(pe,Fe)|0,s=s+Math.imul(_e,je)|0,g=g+Math.imul(_e,Fe)|0,f=f+Math.imul(ge,Ve)|0,s=s+Math.imul(ge,Ye)|0,s=s+Math.imul(ye,Ve)|0,g=g+Math.imul(ye,Ye)|0,f=f+Math.imul(Q,Ge)|0,s=s+Math.imul(Q,We)|0,s=s+Math.imul(re,Ge)|0,g=g+Math.imul(re,We)|0;var xs=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(xs>>>26)|0,xs&=67108863,f=Math.imul(Ie,xe),s=Math.imul(Ie,Le),s=s+Math.imul(Ae,xe)|0,g=Math.imul(Ae,Le),f=f+Math.imul(Pe,De)|0,s=s+Math.imul(Pe,qe)|0,s=s+Math.imul(Me,De)|0,g=g+Math.imul(Me,qe)|0,f=f+Math.imul(Se,Ue)|0,s=s+Math.imul(Se,ze)|0,s=s+Math.imul(Te,Ue)|0,g=g+Math.imul(Te,ze)|0,f=f+Math.imul(we,Ne)|0,s=s+Math.imul(we,Re)|0,s=s+Math.imul(ve,Ne)|0,g=g+Math.imul(ve,Re)|0,f=f+Math.imul(be,je)|0,s=s+Math.imul(be,Fe)|0,s=s+Math.imul(me,je)|0,g=g+Math.imul(me,Fe)|0,f=f+Math.imul(pe,Ve)|0,s=s+Math.imul(pe,Ye)|0,s=s+Math.imul(_e,Ve)|0,g=g+Math.imul(_e,Ye)|0,f=f+Math.imul(ge,Ge)|0,s=s+Math.imul(ge,We)|0,s=s+Math.imul(ye,Ge)|0,g=g+Math.imul(ye,We)|0;var Ls=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ls>>>26)|0,Ls&=67108863,f=Math.imul(Ie,De),s=Math.imul(Ie,qe),s=s+Math.imul(Ae,De)|0,g=Math.imul(Ae,qe),f=f+Math.imul(Pe,Ue)|0,s=s+Math.imul(Pe,ze)|0,s=s+Math.imul(Me,Ue)|0,g=g+Math.imul(Me,ze)|0,f=f+Math.imul(Se,Ne)|0,s=s+Math.imul(Se,Re)|0,s=s+Math.imul(Te,Ne)|0,g=g+Math.imul(Te,Re)|0,f=f+Math.imul(we,je)|0,s=s+Math.imul(we,Fe)|0,s=s+Math.imul(ve,je)|0,g=g+Math.imul(ve,Fe)|0,f=f+Math.imul(be,Ve)|0,s=s+Math.imul(be,Ye)|0,s=s+Math.imul(me,Ve)|0,g=g+Math.imul(me,Ye)|0,f=f+Math.imul(pe,Ge)|0,s=s+Math.imul(pe,We)|0,s=s+Math.imul(_e,Ge)|0,g=g+Math.imul(_e,We)|0;var Ds=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ds>>>26)|0,Ds&=67108863,f=Math.imul(Ie,Ue),s=Math.imul(Ie,ze),s=s+Math.imul(Ae,Ue)|0,g=Math.imul(Ae,ze),f=f+Math.imul(Pe,Ne)|0,s=s+Math.imul(Pe,Re)|0,s=s+Math.imul(Me,Ne)|0,g=g+Math.imul(Me,Re)|0,f=f+Math.imul(Se,je)|0,s=s+Math.imul(Se,Fe)|0,s=s+Math.imul(Te,je)|0,g=g+Math.imul(Te,Fe)|0,f=f+Math.imul(we,Ve)|0,s=s+Math.imul(we,Ye)|0,s=s+Math.imul(ve,Ve)|0,g=g+Math.imul(ve,Ye)|0,f=f+Math.imul(be,Ge)|0,s=s+Math.imul(be,We)|0,s=s+Math.imul(me,Ge)|0,g=g+Math.imul(me,We)|0;var qs=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(qs>>>26)|0,qs&=67108863,f=Math.imul(Ie,Ne),s=Math.imul(Ie,Re),s=s+Math.imul(Ae,Ne)|0,g=Math.imul(Ae,Re),f=f+Math.imul(Pe,je)|0,s=s+Math.imul(Pe,Fe)|0,s=s+Math.imul(Me,je)|0,g=g+Math.imul(Me,Fe)|0,f=f+Math.imul(Se,Ve)|0,s=s+Math.imul(Se,Ye)|0,s=s+Math.imul(Te,Ve)|0,g=g+Math.imul(Te,Ye)|0,f=f+Math.imul(we,Ge)|0,s=s+Math.imul(we,We)|0,s=s+Math.imul(ve,Ge)|0,g=g+Math.imul(ve,We)|0;var Us=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Us>>>26)|0,Us&=67108863,f=Math.imul(Ie,je),s=Math.imul(Ie,Fe),s=s+Math.imul(Ae,je)|0,g=Math.imul(Ae,Fe),f=f+Math.imul(Pe,Ve)|0,s=s+Math.imul(Pe,Ye)|0,s=s+Math.imul(Me,Ve)|0,g=g+Math.imul(Me,Ye)|0,f=f+Math.imul(Se,Ge)|0,s=s+Math.imul(Se,We)|0,s=s+Math.imul(Te,Ge)|0,g=g+Math.imul(Te,We)|0;var zs=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(zs>>>26)|0,zs&=67108863,f=Math.imul(Ie,Ve),s=Math.imul(Ie,Ye),s=s+Math.imul(Ae,Ve)|0,g=Math.imul(Ae,Ye),f=f+Math.imul(Pe,Ge)|0,s=s+Math.imul(Pe,We)|0,s=s+Math.imul(Me,Ge)|0,g=g+Math.imul(Me,We)|0;var Ns=(v+f|0)+((s&8191)<<13)|0;v=(g+(s>>>13)|0)+(Ns>>>26)|0,Ns&=67108863,f=Math.imul(Ie,Ge),s=Math.imul(Ie,We),s=s+Math.imul(Ae,Ge)|0,g=Math.imul(Ae,We);var Rs=(v+f|0)+((s&8191)<<13)|0;return v=(g+(s>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,m[0]=Ts,m[1]=Ps,m[2]=Ms,m[3]=Is,m[4]=As,m[5]=Bs,m[6]=ks,m[7]=Es,m[8]=Os,m[9]=Cs,m[10]=Ks,m[11]=xs,m[12]=Ls,m[13]=Ds,m[14]=qs,m[15]=Us,m[16]=zs,m[17]=Ns,m[18]=Rs,v!==0&&(m[19]=v,c.length++),c};Math.imul||(U=D);function le(p,o,u){u.negative=o.negative^p.negative,u.length=p.length+o.length;for(var c=0,l=0,h=0;h<u.length-1;h++){var m=l;l=0;for(var v=c&67108863,f=Math.min(h,o.length-1),s=Math.max(0,h-p.length+1);s<=f;s++){var g=h-s,C=p.words[g]|0,x=o.words[s]|0,L=C*x,z=L&67108863;m=m+(L/67108864|0)|0,z=z+v|0,v=z&67108863,m=m+(z>>>26)|0,l+=m>>>26,m&=67108863}u.words[h]=v,c=m,m=l}return c!==0?u.words[h]=c:u.length--,u._strip()}function Gr(p,o,u){return le(p,o,u)}i.prototype.mulTo=function(o,u){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=U(this,o,u):l<63?c=D(this,o,u):l<1024?c=le(this,o,u):c=Gr(this,o,u),c};function ut(p,o){this.x=p,this.y=o}ut.prototype.makeRBT=function(o){for(var u=new Array(o),c=i.prototype._countBits(o)-1,l=0;l<o;l++)u[l]=this.revBin(l,c,o);return u},ut.prototype.revBin=function(o,u,c){if(o===0||o===c-1)return o;for(var l=0,h=0;h<u;h++)l|=(o&1)<<u-h-1,o>>=1;return l},ut.prototype.permute=function(o,u,c,l,h,m){for(var v=0;v<m;v++)l[v]=u[o[v]],h[v]=c[o[v]]},ut.prototype.transform=function(o,u,c,l,h,m){this.permute(m,o,u,c,l,h);for(var v=1;v<h;v<<=1)for(var f=v<<1,s=Math.cos(2*Math.PI/f),g=Math.sin(2*Math.PI/f),C=0;C<h;C+=f)for(var x=s,L=g,z=0;z<v;z++){var $=c[C+z],X=l[C+z],Wr=c[C+z+v],Q=l[C+z+v],re=x*Wr-L*Q;Q=x*Q+L*Wr,Wr=re,c[C+z]=$+Wr,l[C+z]=X+Q,c[C+z+v]=$-Wr,l[C+z+v]=X-Q,z!==f&&(re=s*x-g*L,L=s*L+g*x,x=re)}},ut.prototype.guessLen13b=function(o,u){var c=Math.max(u,o)|1,l=c&1,h=0;for(c=c/2|0;c;c=c>>>1)h++;return 1<<h+1+l},ut.prototype.conjugate=function(o,u,c){if(!(c<=1))for(var l=0;l<c/2;l++){var h=o[l];o[l]=o[c-l-1],o[c-l-1]=h,h=u[l],u[l]=-u[c-l-1],u[c-l-1]=-h}},ut.prototype.normalize13b=function(o,u){for(var c=0,l=0;l<u/2;l++){var h=Math.round(o[2*l+1]/u)*8192+Math.round(o[2*l]/u)+c;o[l]=h&67108863,h<67108864?c=0:c=h/67108864|0}return o},ut.prototype.convert13b=function(o,u,c,l){for(var h=0,m=0;m<u;m++)h=h+(o[m]|0),c[2*m]=h&8191,h=h>>>13,c[2*m+1]=h&8191,h=h>>>13;for(m=2*u;m<l;++m)c[m]=0;t(h===0),t((h&-8192)===0)},ut.prototype.stub=function(o){for(var u=new Array(o),c=0;c<o;c++)u[c]=0;return u},ut.prototype.mulp=function(o,u,c){var l=2*this.guessLen13b(o.length,u.length),h=this.makeRBT(l),m=this.stub(l),v=new Array(l),f=new Array(l),s=new Array(l),g=new Array(l),C=new Array(l),x=new Array(l),L=c.words;L.length=l,this.convert13b(o.words,o.length,v,l),this.convert13b(u.words,u.length,g,l),this.transform(v,m,f,s,l,h),this.transform(g,m,C,x,l,h);for(var z=0;z<l;z++){var $=f[z]*C[z]-s[z]*x[z];s[z]=f[z]*x[z]+s[z]*C[z],f[z]=$}return this.conjugate(f,s,l),this.transform(f,s,L,m,l,h),this.conjugate(L,m,l),this.normalize13b(L,l),c.negative=o.negative^u.negative,c.length=o.length+u.length,c._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),Gr(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),t(typeof o=="number"),t(o<67108864);for(var c=0,l=0;l<this.length;l++){var h=(this.words[l]|0)*o,m=(h&67108863)+(c&67108863);c>>=26,c+=h/67108864|0,c+=m>>>26,this.words[l]=m&67108863}return c!==0&&(this.words[l]=c,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=O(o);if(u.length===0)return new i(1);for(var c=this,l=0;l<u.length&&u[l]===0;l++,c=c.sqr());if(++l<u.length)for(var h=c.sqr();l<u.length;l++,h=h.sqr())u[l]!==0&&(c=c.mul(h));return c},i.prototype.iushln=function(o){t(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,l=67108863>>>26-u<<26-u,h;if(u!==0){var m=0;for(h=0;h<this.length;h++){var v=this.words[h]&l,f=(this.words[h]|0)-v<<u;this.words[h]=f|m,m=v>>>26-u}m&&(this.words[h]=m,this.length++)}if(c!==0){for(h=this.length-1;h>=0;h--)this.words[h+c]=this.words[h];for(h=0;h<c;h++)this.words[h]=0;this.length+=c}return this._strip()},i.prototype.ishln=function(o){return t(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,c){t(typeof o=="number"&&o>=0);var l;u?l=(u-u%26)/26:l=0;var h=o%26,m=Math.min((o-h)/26,this.length),v=67108863^67108863>>>h<<h,f=c;if(l-=m,l=Math.max(0,l),f){for(var s=0;s<m;s++)f.words[s]=this.words[s];f.length=m}if(m!==0)if(this.length>m)for(this.length-=m,s=0;s<this.length;s++)this.words[s]=this.words[s+m];else this.words[0]=0,this.length=1;var g=0;for(s=this.length-1;s>=0&&(g!==0||s>=l);s--){var C=this.words[s]|0;this.words[s]=g<<26-h|C>>>h,g=C&v}return f&&g!==0&&(f.words[f.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,c){return t(this.negative===0),this.iushrn(o,u,c)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){t(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26,l=1<<u;if(this.length<=c)return!1;var h=this.words[c];return!!(h&l)},i.prototype.imaskn=function(o){t(typeof o=="number"&&o>=0);var u=o%26,c=(o-u)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(u!==0&&c++,this.length=Math.min(c,this.length),u!==0){var l=67108863^67108863>>>u<<u;this.words[this.length-1]&=l}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return t(typeof o=="number"),t(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(t(typeof o=="number"),t(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,c){var l=o.length+c,h;this._expand(l);var m,v=0;for(h=0;h<o.length;h++){m=(this.words[h+c]|0)+v;var f=(o.words[h]|0)*u;m-=f&67108863,v=(m>>26)-(f/67108864|0),this.words[h+c]=m&67108863}for(;h<this.length-c;h++)m=(this.words[h+c]|0)+v,v=m>>26,this.words[h+c]=m&67108863;if(v===0)return this._strip();for(t(v===-1),v=0,h=0;h<this.length;h++)m=-(this.words[h]|0)+v,v=m>>26,this.words[h]=m&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var c=this.length-o.length,l=this.clone(),h=o,m=h.words[h.length-1]|0,v=this._countBits(m);c=26-v,c!==0&&(h=h.ushln(c),l.iushln(c),m=h.words[h.length-1]|0);var f=l.length-h.length,s;if(u!=="mod"){s=new i(null),s.length=f+1,s.words=new Array(s.length);for(var g=0;g<s.length;g++)s.words[g]=0}var C=l.clone()._ishlnsubmul(h,1,f);C.negative===0&&(l=C,s&&(s.words[f]=1));for(var x=f-1;x>=0;x--){var L=(l.words[h.length+x]|0)*67108864+(l.words[h.length+x-1]|0);for(L=Math.min(L/m|0,67108863),l._ishlnsubmul(h,L,x);l.negative!==0;)L--,l.negative=0,l._ishlnsubmul(h,1,x),l.isZero()||(l.negative^=1);s&&(s.words[x]=L)}return s&&s._strip(),l._strip(),u!=="div"&&c!==0&&l.iushrn(c),{div:s||null,mod:l}},i.prototype.divmod=function(o,u,c){if(t(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var l,h,m;return this.negative!==0&&o.negative===0?(m=this.neg().divmod(o,u),u!=="mod"&&(l=m.div.neg()),u!=="div"&&(h=m.mod.neg(),c&&h.negative!==0&&h.iadd(o)),{div:l,mod:h}):this.negative===0&&o.negative!==0?(m=this.divmod(o.neg(),u),u!=="mod"&&(l=m.div.neg()),{div:l,mod:m.mod}):(this.negative&o.negative)!==0?(m=this.neg().divmod(o.neg(),u),u!=="div"&&(h=m.mod.neg(),c&&h.negative!==0&&h.isub(o)),{div:m.div,mod:h}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var c=u.div.negative!==0?u.mod.isub(o):u.mod,l=o.ushrn(1),h=o.andln(1),m=c.cmp(l);return m<0||h===1&&m===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),t(o<=67108863);for(var c=(1<<26)%o,l=0,h=this.length-1;h>=0;h--)l=(c*l+(this.words[h]|0))%o;return u?-l:l},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),t(o<=67108863);for(var c=0,l=this.length-1;l>=0;l--){var h=(this.words[l]|0)+c*67108864;this.words[l]=h/o|0,c=h%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){t(o.negative===0),t(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new i(1),h=new i(0),m=new i(0),v=new i(1),f=0;u.isEven()&&c.isEven();)u.iushrn(1),c.iushrn(1),++f;for(var s=c.clone(),g=u.clone();!u.isZero();){for(var C=0,x=1;(u.words[0]&x)===0&&C<26;++C,x<<=1);if(C>0)for(u.iushrn(C);C-- >0;)(l.isOdd()||h.isOdd())&&(l.iadd(s),h.isub(g)),l.iushrn(1),h.iushrn(1);for(var L=0,z=1;(c.words[0]&z)===0&&L<26;++L,z<<=1);if(L>0)for(c.iushrn(L);L-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(s),v.isub(g)),m.iushrn(1),v.iushrn(1);u.cmp(c)>=0?(u.isub(c),l.isub(m),h.isub(v)):(c.isub(u),m.isub(l),v.isub(h))}return{a:m,b:v,gcd:c.iushln(f)}},i.prototype._invmp=function(o){t(o.negative===0),t(!o.isZero());var u=this,c=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var l=new i(1),h=new i(0),m=c.clone();u.cmpn(1)>0&&c.cmpn(1)>0;){for(var v=0,f=1;(u.words[0]&f)===0&&v<26;++v,f<<=1);if(v>0)for(u.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);for(var s=0,g=1;(c.words[0]&g)===0&&s<26;++s,g<<=1);if(s>0)for(c.iushrn(s);s-- >0;)h.isOdd()&&h.iadd(m),h.iushrn(1);u.cmp(c)>=0?(u.isub(c),l.isub(h)):(c.isub(u),h.isub(l))}var C;return u.cmpn(1)===0?C=l:C=h,C.cmpn(0)<0&&C.iadd(o),C},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),c=o.clone();u.negative=0,c.negative=0;for(var l=0;u.isEven()&&c.isEven();l++)u.iushrn(1),c.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;c.isEven();)c.iushrn(1);var h=u.cmp(c);if(h<0){var m=u;u=c,c=m}else if(h===0||c.cmpn(1)===0)break;u.isub(c)}while(!0);return c.iushln(l)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){t(typeof o=="number");var u=o%26,c=(o-u)/26,l=1<<u;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var h=l,m=c;h!==0&&m<this.length;m++){var v=this.words[m]|0;v+=h,h=v>>>26,v&=67108863,this.words[m]=v}return h!==0&&(this.words[m]=h,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var c;if(this.length>1)c=1;else{u&&(o=-o),t(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,h=o.words[c]|0;if(l!==h){l<h?u=-1:l>h&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new fe(o)},i.prototype.toRed=function(o){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return t(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return t(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var vs={k256:null,p224:null,p192:null,p25519:null};function Nt(p,o){this.name=p,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Nt.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},Nt.prototype.ireduce=function(o){var u=o,c;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),c=u.bitLength();while(c>this.n);var l=c<this.n?-1:u.ucmp(this.p);return l===0?(u.words[0]=0,u.length=1):l>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},Nt.prototype.split=function(o,u){o.iushrn(this.n,0,u)},Nt.prototype.imulK=function(o){return o.imul(this.k)};function Ri(){Nt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Ri,Nt),Ri.prototype.split=function(o,u){for(var c=4194303,l=Math.min(o.length,9),h=0;h<l;h++)u.words[h]=o.words[h];if(u.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var m=o.words[9];for(u.words[u.length++]=m&c,h=10;h<o.length;h++){var v=o.words[h]|0;o.words[h-10]=(v&c)<<4|m>>>22,m=v}m>>>=22,o.words[h-10]=m,m===0&&o.length>10?o.length-=10:o.length-=9},Ri.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,c=0;c<o.length;c++){var l=o.words[c]|0;u+=l*977,o.words[c]=u&67108863,u=l*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function xu(){Nt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(xu,Nt);function Lu(){Nt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Lu,Nt);function Ss(){Nt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ss,Nt),Ss.prototype.imulK=function(o){for(var u=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+u,h=l&67108863;l>>>=26,o.words[c]=h,u=l}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(vs[o])return vs[o];var u;if(o==="k256")u=new Ri;else if(o==="p224")u=new xu;else if(o==="p192")u=new Lu;else if(o==="p25519")u=new Ss;else throw new Error("Unknown prime "+o);return vs[o]=u,u};function fe(p){if(typeof p=="string"){var o=i._prime(p);this.m=o.p,this.prime=o}else t(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}fe.prototype._verify1=function(o){t(o.negative===0,"red works only with positives"),t(o.red,"red works only with red numbers")},fe.prototype._verify2=function(o,u){t((o.negative|u.negative)===0,"red works only with positives"),t(o.red&&o.red===u.red,"red works only with red numbers")},fe.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(P(o,o.umod(this.m)._forceRed(this)),o)},fe.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},fe.prototype.add=function(o,u){this._verify2(o,u);var c=o.add(u);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},fe.prototype.iadd=function(o,u){this._verify2(o,u);var c=o.iadd(u);return c.cmp(this.m)>=0&&c.isub(this.m),c},fe.prototype.sub=function(o,u){this._verify2(o,u);var c=o.sub(u);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},fe.prototype.isub=function(o,u){this._verify2(o,u);var c=o.isub(u);return c.cmpn(0)<0&&c.iadd(this.m),c},fe.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},fe.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},fe.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},fe.prototype.isqr=function(o){return this.imul(o,o.clone())},fe.prototype.sqr=function(o){return this.mul(o,o)},fe.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(t(u%2===1),u===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),h=0;!l.isZero()&&l.andln(1)===0;)h++,l.iushrn(1);t(!l.isZero());var m=new i(1).toRed(this),v=m.redNeg(),f=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,f).cmp(v)!==0;)s.redIAdd(v);for(var g=this.pow(s,l),C=this.pow(o,l.addn(1).iushrn(1)),x=this.pow(o,l),L=h;x.cmp(m)!==0;){for(var z=x,$=0;z.cmp(m)!==0;$++)z=z.redSqr();t($<L);var X=this.pow(g,new i(1).iushln(L-$-1));C=C.redMul(X),g=X.redSqr(),x=x.redMul(g),L=$}return C},fe.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},fe.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new i(1).toRed(this),l[1]=o;for(var h=2;h<l.length;h++)l[h]=this.mul(l[h-1],o);var m=l[0],v=0,f=0,s=u.bitLength()%26;for(s===0&&(s=26),h=u.length-1;h>=0;h--){for(var g=u.words[h],C=s-1;C>=0;C--){var x=g>>C&1;if(m!==l[0]&&(m=this.sqr(m)),x===0&&v===0){f=0;continue}v<<=1,v|=x,f++,!(f!==c&&(h!==0||C!==0))&&(m=this.mul(m,l[v]),f=0,v=0)}s=26}return m},fe.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},fe.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new hn(o)};function hn(p){fe.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(hn,fe),hn.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},hn.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},hn.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(u),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=c.isub(l).iushrn(this.shift),m=h;return h.cmp(this.m)>=0?m=h.isub(this.m):h.cmpn(0)<0&&(m=h.iadd(this.m)),m._forceRed(this)},hn.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var c=o.mul(u),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=c.isub(l).iushrn(this.shift),m=h;return h.cmp(this.m)>=0?m=h.isub(this.m):h.cmpn(0)<0&&(m=h.iadd(this.m)),m._forceRed(this)},hn.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Da>"u"||Da,qd)});var on=M(j=>{_();b();var uy=j&&j.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(j,"__esModule",{value:!0});j.numbersTypeMap=j.bool=j.i512=j.i256=j.i128=j.i64=j.i32=j.i16=j.i8=j.u512=j.u256=j.u128=j.u64=j.u32=j.u16=j.u8=void 0;var Nn=uy(Ud()),ae=ot();j.u8={write:function(r,e,t){r.writeUInt8(t,e)},read:function(r,e){return r.readUInt8(e)},byteSize:1,description:"u8"};j.u16={write:function(r,e,t){r.writeUInt16LE(t,e)},read:function(r,e){return r.readUInt16LE(e)},byteSize:2,description:"u16"};j.u32={write:function(r,e,t){r.writeUInt32LE(t,e)},read:function(r,e){return r.readUInt32LE(e)},byteSize:4,description:"u32"};function Jo(r,e){return{write:function(t,n,i){let d=(Nn.default.isBN(i)?i:new Nn.default(i)).toArray("le",this.byteSize);T.Buffer.from(d).copy(t,n,0,this.byteSize)},read:function(t,n){let i=t.slice(n,n+this.byteSize);return new Nn.default(i,"le")},byteSize:r,description:e}}j.u64=Jo(8,"u64");j.u128=Jo(16,"u128");j.u256=Jo(32,"u256");j.u512=Jo(64,"u512");j.i8={write:function(r,e,t){r.writeInt8(t,e)},read:function(r,e){return r.readInt8(e)},byteSize:1,description:"i8"};j.i16={write:function(r,e,t){r.writeInt16LE(t,e)},read:function(r,e){return r.readInt16LE(e)},byteSize:2,description:"i16"};j.i32={write:function(r,e,t){r.writeInt32LE(t,e)},read:function(r,e){return r.readInt32LE(e)},byteSize:4,description:"i32"};function Xo(r,e){let t=r*8;return{write:function(n,i,a){let y=(Nn.default.isBN(a)?a:new Nn.default(a)).toTwos(t).toArray("le",this.byteSize);T.Buffer.from(y).copy(n,i,0,this.byteSize)},read:function(n,i){let a=n.slice(i,i+this.byteSize);return new Nn.default(a,"le").fromTwos(t)},byteSize:r,description:e}}j.i64=Xo(8,"i64");j.i128=Xo(16,"i128");j.i256=Xo(32,"i256");j.i512=Xo(64,"i512");j.bool={write:function(r,e,t){let n=t?1:0;j.u8.write(r,e,n)},read:function(r,e){return j.u8.read(r,e)===1},byteSize:1,description:"bool"};j.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"bignum",pack:ae.BEET_PACKAGE}}});var za=M((F1,Rd)=>{_();b();var zd={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},Nd={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},qa={},Ua={},xi={};Object.keys(zd).forEach(function(r){var e=qa[r]="\x1B["+zd[r]+"m",t=Ua[r]="\x1B[39m";xi[r]=function(n){return e+n+t}});Object.keys(Nd).forEach(function(r){var e=qa[r]="\x1B["+Nd[r]+"m",t=Ua[r]="\x1B[49m";xi[r]=function(n){return e+n+t}});Rd.exports=xi;xi.open=qa;xi.close=Ua});var jr=M(He=>{_();b();var Fd=He&&He.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(He,"__esModule",{value:!0});He.UnreachableCaseError=He.stringify=He.bytes=He.beetBytes=He.logTrace=He.logDebug=He.logInfo=He.logError=void 0;var Qo=Fd(rf()),cy=Fd(za()),jd=ot(),{brightBlack:Vd}=cy.default;He.logError=(0,Qo.default)("beet:error");He.logInfo=(0,Qo.default)("beet:info");He.logDebug=(0,Qo.default)("beet:debug");He.logTrace=(0,Qo.default)("beet:trace");function dy(r,e=!1){let t;if((0,jd.isFixableBeet)(r))t="? B";else if((0,jd.isElementCollectionFixedSizeBeet)(r)){let n=e?"length":r.length,i=r.lenPrefixByteSize;t=i>0?`${i} + (${r.elementByteSize} * ${n}) B  (${r.byteSize} B)`:`(${r.elementByteSize} * ${n}) B (${r.byteSize} B)`}else t=`${r.byteSize} B`;return Vd(t)}He.beetBytes=dy;function ly(r){return Vd(`${r} B`)}He.bytes=ly;function fy(r){return r.toString==="function"?r.toString():r}He.stringify=fy;var Na=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};He.UnreachableCaseError=Na});var jn=M(Rn=>{_();b();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.fixBeetFromValue=Rn.fixBeetFromData=void 0;var es=ot(),Yd=jr();function hy(r,e,t){if((0,es.isFixedSizeBeet)(r))return r;if((0,es.isFixableBeet)(r))return r.toFixedFromData(e,t);throw new Yd.UnreachableCaseError(r)}Rn.fixBeetFromData=hy;function gy(r,e){if((0,es.isFixedSizeBeet)(r))return r;if((0,es.isFixableBeet)(r))return r.toFixedFromValue(e);throw new Yd.UnreachableCaseError(r)}Rn.fixBeetFromValue=gy});var ts=M(st=>{_();b();Object.defineProperty(st,"__esModule",{value:!0});st.collectionsTypeMap=st.uint8Array=st.fixedSizeUint8Array=st.fixedSizeBuffer=st.array=st.fixedSizeArray=st.uniformFixedSizeArray=void 0;var Fn=ot(),mn=lr(),sn=on(),Vn=ot(),Wd=jr(),Gd=jn();function yy(r,e,t=!1){let n=r.byteSize*e,i=t?4+n:n;return{write:function(a,d,y){mn.strict.equal(y.length,e,`array length ${y.length} should match len ${e}`),t&&(sn.u32.write(a,d,e),d+=4);for(let w=0;w<e;w++)r.write(a,d+w*r.byteSize,y[w])},read:function(a,d){if(t){let w=sn.u32.read(a,d);mn.strict.equal(w,e,"invalid byte size"),d+=4}let y=new Array(e);for(let w=0;w<e;w++)y[w]=r.read(a,d+w*r.byteSize);return y},byteSize:i,length:e,elementByteSize:r.byteSize,lenPrefixByteSize:4,description:`Array<${r.description}>(${e})`}}st.uniformFixedSizeArray=yy;function Ra(r,e){let t=r.length,n=t===0?"<EMPTY>":r[0].description;return{write:function(i,a,d){mn.strict.equal(d.length,t,`array length ${d.length} should match len ${t}`),sn.u32.write(i,a,t);let y=a+4;for(let w=0;w<t;w++){let P=r[w];P.write(i,y,d[w]),y+=P.byteSize}},read:function(i,a){let d=sn.u32.read(i,a);mn.strict.equal(d,t,"invalid byte size");let y=a+4,w=new Array(t);for(let P=0;P<t;P++){let k=r[P];w[P]=k.read(i,y),y+=k.byteSize}return w},byteSize:4+e,length:t,description:`Array<${n}>(${t})[ 4 + ${e} ]`}}st.fixedSizeArray=Ra;function py(r){return{toFixedFromData(e,t){let n=sn.u32.read(e,t);(0,Wd.logTrace)(`${this.description}[${n}]`);let i=t+4,a=i,d=new Array(n);for(let y=0;y<n;y++){let w=(0,Gd.fixBeetFromData)(r,e,a);d[y]=w,a+=w.byteSize}return Ra(d,a-i)},toFixedFromValue(e){(0,mn.strict)(Array.isArray(e),`${e} should be an array`);let t=0,n=new Array(e.length);for(let i=0;i<e.length;i++){let a=(0,Gd.fixBeetFromValue)(r,e[i]);n[i]=a,t+=a.byteSize}return Ra(n,t)},description:"array"}}st.array=py;function $d(r){return{write:function(e,t,n){n.copy(e,t,0,r)},read:function(e,t){return e.slice(t,t+r)},byteSize:r,description:`Buffer(${r})`}}st.fixedSizeBuffer=$d;function ja(r,e=!1){let t=$d(r),n=e?r+4:r;return{write:function(i,a,d){mn.strict.equal(d.byteLength,r,`Uint8Array length ${d.byteLength} should match len ${r}`),e&&(sn.u32.write(i,a,r),a+=4);let y=T.Buffer.from(d);t.write(i,a,y)},read:function(i,a){if(e){let y=sn.u32.read(i,a);mn.strict.equal(y,r,"invalid byte size"),a+=4}let d=t.read(i,a);return Uint8Array.from(d)},byteSize:n,description:`Uint8Array(${r})`}}st.fixedSizeUint8Array=ja;st.uint8Array={toFixedFromData(r,e){let t=sn.u32.read(r,e);return(0,Wd.logTrace)(`${this.description}[${t}]`),ja(t,!0)},toFixedFromValue(r){let e=r.byteLength;return ja(e,!0)},description:"Uint8Array"};st.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:Vn.BEET_PACKAGE,ts:"Array",arg:Fn.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:Vn.BEET_PACKAGE,ts:"Array",arg:Fn.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:Vn.BEET_PACKAGE,ts:"Array",arg:Fn.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:Vn.BEET_PACKAGE,ts:"Buffer",arg:Fn.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:Vn.BEET_PACKAGE,ts:"Uint8Array",arg:Fn.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:Vn.BEET_PACKAGE,ts:"Uint8Array",arg:Fn.BEET_TYPE_ARG_LEN}}});var $a=M(At=>{_();b();Object.defineProperty(At,"__esModule",{value:!0});At.compositesTypeMap=At.coption=At.coptionSome=At.coptionNone=At.isNoneBuffer=At.isSomeBuffer=void 0;var Li=lr(),Fa=ot(),Hd=ot(),Jd=jr(),Zd=jn(),Xd=0,Qd=1;function Ga(r,e){return r[e]===Qd}At.isSomeBuffer=Ga;function Wa(r,e){return r[e]===Xd}At.isNoneBuffer=Wa;function Va(r){return(0,Jd.logTrace)(`coptionNone(${r})`),{write:function(e,t,n){(0,Li.strict)(n==null,"coptionNone can only handle `null` values"),e[t]=Xd},read:function(e,t){return(0,Li.strict)(Wa(e,t),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${r})>`}}At.coptionNone=Va;function Ya(r){let e=1+r.byteSize,t={write:function(n,i,a){(0,Fa.assertFixedSizeBeet)(r,`coption inner type ${r.description} needs to be fixed before calling write`),(0,Li.strict)(a!=null,"coptionSome cannot handle `null` values"),n[i]=Qd,r.write(n,i+1,a)},read:function(n,i){return(0,Fa.assertFixedSizeBeet)(r,`coption inner type ${r.description} needs to be fixed before calling read`),(0,Li.strict)(Ga(n,i),"coptionSome can only handle `SOME` data"),r.read(n,i+1)},description:`COption<${r.description}>[1 + ${r.byteSize}]`,byteSize:e,inner:r};return(0,Jd.logTrace)(t.description),t}At.coptionSome=Ya;function _y(r){return{toFixedFromData(e,t){if(Ga(e,t)){let n=(0,Zd.fixBeetFromData)(r,e,t+1);return Ya(n)}else return(0,Li.strict)(Wa(e,t),`Expected ${e} to hold a COption`),Va(r.description)},toFixedFromValue(e){return e==null?Va(r.description):Ya((0,Zd.fixBeetFromValue)(r,e))},description:`COption<${r.description}>`}}At.coption=_y;At.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:Hd.BEET_PACKAGE,ts:"COption<Inner>",arg:Fa.BEET_TYPE_ARG_INNER,pack:Hd.BEET_PACKAGE}}});var Ja=M(vr=>{_();b();Object.defineProperty(vr,"__esModule",{value:!0});vr.stringTypeMap=vr.utf8String=vr.fixedSizeUtf8String=void 0;var Ha=ot(),el=lr(),Za=on(),by=jr(),my=r=>({write:function(e,t,n){let i=T.Buffer.from(n,"utf8");el.strict.equal(i.byteLength,r,`${n} has invalid byte size`),Za.u32.write(e,t,r),i.copy(e,t+4,0,r)},read:function(e,t){let n=Za.u32.read(e,t);return el.strict.equal(n,r,"invalid byte size"),e.slice(t+4,t+4+r).toString("utf8")},elementByteSize:1,length:r,lenPrefixByteSize:4,byteSize:4+r,description:`Utf8String(4 + ${r})`});vr.fixedSizeUtf8String=my;vr.utf8String={toFixedFromData(r,e){let t=Za.u32.read(r,e);return(0,by.logTrace)(`${this.description}[${t}]`),(0,vr.fixedSizeUtf8String)(t)},toFixedFromValue(r){let e=T.Buffer.from(r).byteLength;return(0,vr.fixedSizeUtf8String)(e)},description:"Utf8String"};vr.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:Ha.BEET_PACKAGE,ts:"string",arg:Ha.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:Ha.BEET_PACKAGE,ts:"string"}}});var eu=M(Yn=>{_();b();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.BeetReader=Yn.BeetWriter=void 0;var wy=lr(),Xa=class{constructor(e){this.buf=T.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&wy.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,t){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,t),this._offset+=e.byteSize}writeStruct(e,t){for(let[n,i]of t){let a=e[n];this.write(i,a)}}};Yn.BeetWriter=Xa;var Qa=class{constructor(e,t=0){this.buffer=e,this._offset=t}get offset(){return this._offset}read(e){let t=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,t}readStruct(e){let t={};for(let[n,i]of e)t[n]=this.read(i);return t}};Yn.BeetReader=Qa});var rs=M(an=>{_();b();Object.defineProperty(an,"__esModule",{value:!0});an.BeetArgsStruct=an.isBeetStruct=an.BeetStruct=void 0;var tl=eu(),Fr=jr(),Sr=class{constructor(e,t,n=Sr.description){if(this.fields=e,this.construct=t,this.description=n,this.byteSize=this.getByteSize(),Fr.logDebug.enabled){let i=e.map(([a,d])=>`${String(a)}: ${d.description} ${(0,Fr.beetBytes)(d)}`).join(`
  `);(0,Fr.logDebug)(`struct ${n} {
  ${i}
} ${(0,Fr.beetBytes)(this)}`)}}read(e,t){let[n]=this.deserialize(e,t);return n}write(e,t,n){let[i,a]=this.serialize(n);i.copy(e,t,0,a)}deserialize(e,t=0){Fr.logTrace.enabled&&((0,Fr.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,Fr.logTrace)(e),(0,Fr.logTrace)(e.toJSON().data));let n=new tl.BeetReader(e,t),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,t=this.byteSize){(0,Fr.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,t);let n=new tl.BeetWriter(t);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[t,n])=>e+n.byteSize,0)}get type(){return Sr.TYPE}};an.BeetStruct=Sr;Sr.description="BeetStruct";Sr.TYPE="BeetStruct";function vy(r){return r.type===Sr.TYPE}an.isBeetStruct=vy;var Gn=class extends Sr{constructor(e,t=Gn.description){super(e,n=>n,t)}};an.BeetArgsStruct=Gn;Gn.description="BeetArgsStruct"});var ru=M(Tr=>{_();b();var Sy=Tr&&Tr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.FixableBeetArgsStruct=Tr.isFixableBeetStruct=Tr.FixableBeetStruct=void 0;var rl=jn(),ns=rs(),Ty=ot(),Py=lr(),tu=jr(),My=Sy(za()),{brightBlack:Iy}=My.default,Jt=class{constructor(e,t,n=Jt.description){this.fields=e,this.construct=t,this.description=n;let i=0;if(tu.logDebug.enabled){let a=e.map(([y,w])=>((0,Ty.isFixedSizeBeet)(w)&&(i+=w.byteSize),`${y}: ${w.description} ${(0,tu.beetBytes)(w)}`)).join(`
  `),d=`> ${i} B`;(0,tu.logDebug)(`struct ${n} {
  ${a}
} ${Iy(d)}`)}}deserialize(e,t=0){return this.toFixedFromData(e,t).deserialize(e,t)}serialize(e,t){return this.toFixedFromValue(e).serialize(e,t)}toFixedFromData(e,t){let n=t,i=new Array(this.fields.length);for(let a=0;a<this.fields.length;a++){let[d,y]=this.fields[a],w=(0,rl.fixBeetFromData)(y,e,n);i[a]=[d,w],n+=w.byteSize}return this.description!==Jt.description?new ns.BeetStruct(i,this.construct,this.description):new ns.BeetStruct(i,this.construct)}toFixedFromValue(e){let t=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){let[a,d]=this.fields[i];(0,Py.strict)(t.includes(a),`Value with keys [ ${t} ] should include struct key '${a}' but doesn't.`);let y=e[a],w=(0,rl.fixBeetFromValue)(d,y);n[i]=[a,w]}return this.description!==Jt.description?new ns.BeetStruct(n,this.construct,this.description):new ns.BeetStruct(n,this.construct)}get type(){return Jt.TYPE}};Tr.FixableBeetStruct=Jt;Jt.description="FixableBeetStruct";Jt.TYPE="FixableBeetStruct";function Ay(r){return r.type===Jt.TYPE}Tr.isFixableBeetStruct=Ay;var Wn=class extends Jt{constructor(e,t=Wn.description){super(e,n=>n,t)}};Tr.FixableBeetArgsStruct=Wn;Wn.description="FixableBeetArgsStruct"});var is=M($n=>{_();b();Object.defineProperty($n,"__esModule",{value:!0});$n.unitTypeMap=$n.unit=void 0;var By=ot();$n.unit={write:function(r,e,t){},read:function(r,e){},byteSize:0,description:"unit"};$n.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:By.BEET_PACKAGE,ts:"void"}}});var nu=M(Pr=>{_();b();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.enumsTypeMap=Pr.dataEnum=Pr.uniformDataEnum=Pr.fixedScalarEnum=void 0;var un=ot(),ar=on(),Hn=lr(),ky=rs(),Ey=ru(),Oy=is();function nl(r,e){return e?`${r}`:r}function Cy(r){let e=Object.keys(r);return{write(t,n,i){let a=typeof i=="number",d=nl(i,a);if(e.includes(d)||Hn.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(r).join(", ")} ], but isn't`),a)ar.u8.write(t,n,i);else{let y=r[d];ar.u8.write(t,n,y)}},read(t,n){let i=ar.u8.read(t,n),a=typeof i=="number",d=nl(i,a);return e.includes(d)||Hn.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(r).join(", ")} ], but isn't`),a?i:r[d]},byteSize:ar.u8.byteSize,description:"Enum"}}Pr.fixedScalarEnum=Cy;function Ky(r){return{write:function(e,t,n){ar.u8.write(e,t,n.kind),r.write(e,t+1,n.data)},read:function(e,t){let n=ar.u8.read(e,t),i=r.read(e,t+1);return{kind:n,data:i}},byteSize:1+r.byteSize,description:`UniformDataEnum<${r.description}>`}}Pr.uniformDataEnum=Ky;function il(r,e,t){return{write(n,i,a){ar.u8.write(n,i,e),r.write(n,i+ar.u8.byteSize,a)},read(n,i){let a=r.read(n,i+ar.u8.byteSize);return{__kind:t,...a}},byteSize:r.byteSize+ar.u8.byteSize,description:`EnumData<${r.description}>`}}function xy(r){for(let[e,t]of r)Hn((0,ky.isBeetStruct)(t)||(0,Ey.isFixableBeetStruct)(t)||t===Oy.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,t){let n=ar.u8.read(e,t),i=r[n];Hn(i!=null,`Discriminant ${n} out of range for ${r.length} variants`);let[a,d]=i,y=(0,un.isFixedSizeBeet)(d)?d:d.toFixedFromData(e,t+1);return il(y,n,a)},toFixedFromValue(e){if(e.__kind==null){let P=Object.keys(e).join(", "),k=r.map(([B])=>B).join(", ");Hn.fail(`Value with fields [ ${P} ] is missing __kind, which needs to be set to one of [ ${k} ]`)}let t=r.findIndex(([P])=>P===e.__kind);if(t<0){let P=r.map(([k])=>k).join(", ");Hn.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${P} ]`)}let n=r[t],{__kind:i,...a}=e,[d,y]=n,w=(0,un.isFixedSizeBeet)(y)?y:y.toFixedFromValue(a);return il(w,t,d)},description:`DataEnum<${r.length} variants>`}}Pr.dataEnum=xy;Pr.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:un.BEET_PACKAGE,ts:"<TypeName>",arg:un.BEET_TYPE_ARG_INNER,pack:un.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:un.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:un.BEET_TYPE_ARG_INNER,pack:un.BEET_PACKAGE}}});var iu=M(Zn=>{_();b();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.aliasesTypeMap=Zn.bytes=void 0;var ol=ts();Zn.bytes=ol.uint8Array;Zn.aliasesTypeMap={bytes:ol.collectionsTypeMap.Uint8Array}});var au=M(cn=>{_();b();Object.defineProperty(cn,"__esModule",{value:!0});cn.tuplesTypeMap=cn.tuple=cn.fixedSizeTuple=void 0;var sl=ot(),ou=lr(),al=jn();function su(r){let e=r.length,t=r.map(a=>a.description),n=r.map(a=>a.byteSize),i=n.reduce((a,d)=>a+d,0);return{write:function(a,d,y){ou.strict.equal(y.length,e,`tuple value element size ${y.length} should match len ${e}`);let w=d;for(let P=0;P<e;P++){let k=y[P],B=r[P];B.write(a,w,k),w+=B.byteSize}},read:function(a,d){let y=[],w=d;for(let P=0;P<e;P++){let k=r[P];y[P]=k.read(a,w),w+=k.byteSize}return y},byteSize:i,length:e,description:`FixedSizeTuple<${t.join(",")}>[ ${n.join(", ")} ]`}}cn.fixedSizeTuple=su;function Ly(r){let e=r.length,t=r.map(n=>n.description);return{toFixedFromData(n,i){let a=i,d=new Array(e);for(let y=0;y<e;y++){let w=(0,al.fixBeetFromData)(r[y],n,a);d[y]=w,a+=w.byteSize}return su(d)},toFixedFromValue(n){(0,ou.strict)(Array.isArray(n),`${n} should be an array of tuple values`),ou.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);let i=new Array(e);for(let a=0;a<n.length;a++){let d=(0,al.fixBeetFromValue)(r[a],n[a]);i[a]=d}return su(i)},description:`Tuple<${t.join(",")}>`}}cn.tuple=Ly;cn.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:sl.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:sl.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var du=M(Jn=>{_();b();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.mapsTypeMap=Jn.map=void 0;var Di=ot(),cu=on(),Dy=jr(),uu=lr();function os(r,e,t,n){let i=(0,Di.isFixedSizeBeet)(r),a=(0,Di.isFixedSizeBeet)(e);function d(){if(i&&a){let P=r.byteSize+e.byteSize;return{elementByteSize:P,byteSize:4+n*P}}else if(i){let P=0;for(let[B,E]of t.values())P+=E.byteSize;return{elementByteSize:r.byteSize+Math.ceil(P/n),byteSize:4+r.byteSize*n+P}}else if(a){let P=0;for(let[B,E]of t.values())P+=B.byteSize;return{elementByteSize:Math.ceil(P/n)+e.byteSize,byteSize:4+P+e.byteSize*n}}else{let P=0,k=0;for(let[E,K]of t.values())P+=E.byteSize,k+=K.byteSize;return{elementByteSize:Math.ceil(P/n+k/n),byteSize:4+P+k}}}let{elementByteSize:y,byteSize:w}=d();return{write:function(P,k,B){let E=k+4,K=0;for(let[N,O]of B.entries()){let D=i?r:null,U=a?e:null;if(D==null||U==null){let le=t.get(N);(0,uu.strict)(le!=null,`Should be able to find beet els for ${(0,Dy.stringify)(N)}, but could not`),D??(D=le[0]),U??(U=le[1])}D.write(P,E,N),E+=D.byteSize,U.write(P,E,O),E+=U.byteSize,K++}cu.u32.write(P,k,K),uu.strict.equal(K,n,`Expected map to have size ${n}, but has ${K}.`)},read:function(P,k){let B=cu.u32.read(P,k);uu.strict.equal(B,n,`Expected map to have size ${n}, but has ${B}.`);let E=k+4,K=new Map;for(let N=0;N<B;N++){let O=i?r:r.toFixedFromData(P,E),D=O.read(P,E);E+=O.byteSize;let U=a?e:e.toFixedFromData(P,E),le=U.read(P,E);E+=U.byteSize,K.set(D,le)}return K},elementByteSize:y,byteSize:w,length:n,lenPrefixByteSize:4,description:`Map<${r.description}, ${e.description}>`}}function qy(r,e){let t=(0,Di.isFixedSizeBeet)(r),n=(0,Di.isFixedSizeBeet)(e);return{toFixedFromData(i,a){let d=cu.u32.read(i,a),y=a+4;if(t&&n)return os(r,e,new Map,d);let w=new Map;for(let P=0;P<d;P++){let k=t?r:r.toFixedFromData(i,y),B=k.read(i,y);y+=k.byteSize;let E=n?e:e.toFixedFromData(i,y);y+=E.byteSize,w.set(B,[k,E])}return os(r,e,w,d)},toFixedFromValue(i){let a=i.size;if(t&&n)return os(r,e,new Map,a);let d=new Map;for(let[y,w]of i){let P=t?r:r.toFixedFromValue(y),k=n?e:e.toFixedFromValue(w);d.set(y,[P,k])}return os(r,e,d,a)},description:`FixableMap<${r.description}, ${e.description}>`}}Jn.map=qy;Jn.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:Di.BEET_PACKAGE,ts:"Map"}}});var gu=M(Xn=>{_();b();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.setsTypeMap=Xn.set=void 0;var hu=ot(),fu=on(),Uy=jr(),lu=lr();function ss(r,e,t){let n=(0,hu.isFixedSizeBeet)(r);function i(){if(n){let y=r.byteSize;return{elementByteSize:y,byteSize:4+t*y}}else{let y=0;for(let P of e.values())y+=P.byteSize;return{elementByteSize:Math.ceil(y/t),byteSize:4+y}}}let{elementByteSize:a,byteSize:d}=i();return{write:function(y,w,P){let k=w+4,B=0;for(let E of P.keys()){let K=n?r:null;if(K==null){let N=e.get(E);(0,lu.strict)(N!=null,`Should be able to find beet el for ${(0,Uy.stringify)(E)}, but could not`),K??(K=N)}K.write(y,k,E),k+=K.byteSize,B++}fu.u32.write(y,w,B),lu.strict.equal(B,t,`Expected set to have size ${t}, but has ${B}.`)},read:function(y,w){let P=fu.u32.read(y,w);lu.strict.equal(P,t,`Expected set to have size ${t}, but has ${P}.`);let k=w+4,B=new Set;for(let E=0;E<P;E++){let K=n?r:r.toFixedFromData(y,k),N=K.read(y,k);k+=K.byteSize,B.add(N)}return B},elementByteSize:a,byteSize:d,length:t,lenPrefixByteSize:4,description:`Set<${r.description}>`}}function zy(r){let e=(0,hu.isFixedSizeBeet)(r);return{toFixedFromData(t,n){let i=fu.u32.read(t,n),a=n+4;if(e)return ss(r,new Map,i);let d=new Map;for(let y=0;y<i;y++){let w=e?r:r.toFixedFromData(t,a),P=w.read(t,a);a+=w.byteSize,d.set(P,w)}return ss(r,d,i)},toFixedFromValue(t){let n=t.size;if(e)return ss(r,new Map,n);let i=new Map;for(let a of t){let d=e?r:r.toFixedFromValue(a);i.set(a,d)}return ss(r,i,n)},description:`FixableSet<${r.description}>`}}Xn.set=zy;Xn.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:hu.BEET_PACKAGE,ts:"Set"}}});var Bt=M(ue=>{_();b();var Ny=ue&&ue.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ft=ue&&ue.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ny(e,r,t)};Object.defineProperty(ue,"__esModule",{value:!0});ue.supportedTypeMap=void 0;var Ry=ts(),jy=$a(),Fy=on(),Vy=Ja(),Yy=nu(),Gy=iu(),Wy=au(),$y=du(),Hy=is(),Zy=gu();ft(iu(),ue);ft(ts(),ue);ft($a(),ue);ft(nu(),ue);ft(du(),ue);ft(on(),ue);ft(gu(),ue);ft(Ja(),ue);ft(au(),ue);ft(is(),ue);ft(jn(),ue);ft(eu(),ue);ft(rs(),ue);ft(ru(),ue);ft(ot(),ue);ue.supportedTypeMap={...Ry.collectionsTypeMap,...Vy.stringTypeMap,...jy.compositesTypeMap,...Yy.enumsTypeMap,...Fy.numbersTypeMap,...Gy.aliasesTypeMap,...Wy.tuplesTypeMap,...$y.mapsTypeMap,...Zy.setsTypeMap,...Hy.unitTypeMap}});var us=M(as=>{_();b();Object.defineProperty(as,"__esModule",{value:!0});as.publicKey=void 0;var Jy=oe(),Xy=Bt(),yu=(0,Xy.fixedSizeUint8Array)(32);as.publicKey={write:function(r,e,t){let n=t.toBytes();yu.write(r,e,n)},read:function(r,e){let t=yu.read(r,e);return new Jy.PublicKey(t)},byteSize:yu.byteSize,description:"PublicKey"}});var _u=M(Mr=>{_();b();var Qy=Mr&&Mr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ep=Mr&&Mr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tp=Mr&&Mr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Qy(e,r,t);return ep(e,r),e};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.seedsVecBeet=void 0;var pu=tp(Bt());Mr.seedsVecBeet=new pu.FixableBeetArgsStruct([["seeds",pu.array(pu.bytes)]],"SeedsVec")});var bu=M(Ir=>{_();b();var rp=Ir&&Ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),np=Ir&&Ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ip=Ir&&Ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rp(e,r,t);return np(e,r),e};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.leafInfoBeet=void 0;var Qn=ip(Bt());Ir.leafInfoBeet=new Qn.FixableBeetArgsStruct([["leaf",Qn.uniformFixedSizeArray(Qn.u8,32)],["proof",Qn.array(Qn.uniformFixedSizeArray(Qn.u8,32))]],"LeafInfo")});var mu=M(Je=>{_();b();var op=Je&&Je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sp=Je&&Je.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ul=Je&&Je.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&op(e,r,t);return sp(e,r),e};Object.defineProperty(Je,"__esModule",{value:!0});Je.payloadTypeBeet=Je.isPayloadTypeNumber=Je.isPayloadTypeMerkleProof=Je.isPayloadTypeSeeds=Je.isPayloadTypePubkey=void 0;var Ar=ul(Bt()),ap=ul(us()),up=_u(),cp=bu(),dp=r=>r.__kind==="Pubkey";Je.isPayloadTypePubkey=dp;var lp=r=>r.__kind==="Seeds";Je.isPayloadTypeSeeds=lp;var fp=r=>r.__kind==="MerkleProof";Je.isPayloadTypeMerkleProof=fp;var hp=r=>r.__kind==="Number";Je.isPayloadTypeNumber=hp;Je.payloadTypeBeet=Ar.dataEnum([["Pubkey",new Ar.BeetArgsStruct([["fields",Ar.fixedSizeTuple([ap.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new Ar.FixableBeetArgsStruct([["fields",Ar.tuple([up.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new Ar.FixableBeetArgsStruct([["fields",Ar.tuple([cp.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new Ar.BeetArgsStruct([["fields",Ar.fixedSizeTuple([Ar.u64])]],'PayloadTypeRecord["Number"]')]])});var vu=M(Br=>{_();b();var gp=Br&&Br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yp=Br&&Br.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pp=Br&&Br.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gp(e,r,t);return yp(e,r),e};Object.defineProperty(Br,"__esModule",{value:!0});Br.payloadBeet=void 0;var wu=pp(Bt()),_p=mu();Br.payloadBeet=new wu.FixableBeetArgsStruct([["map",wu.map(wu.utf8String,_p.payloadTypeBeet)]],"Payload")});var cs=M(kr=>{_();b();var bp=kr&&kr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mp=kr&&kr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wp=kr&&kr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&bp(e,r,t);return mp(e,r),e};Object.defineProperty(kr,"__esModule",{value:!0});kr.authorizationDataBeet=void 0;var vp=wp(Bt()),Sp=vu();kr.authorizationDataBeet=new vp.FixableBeetArgsStruct([["payload",Sp.payloadBeet]],"AuthorizationData")});var Su=M(Xt=>{_();b();var Tp=Xt&&Xt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pp=Xt&&Xt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mp=Xt&&Xt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Tp(e,r,t);return Pp(e,r),e};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.transferArgsBeet=Xt.isTransferArgsV1=void 0;var ds=Mp(Bt()),Ip=cs(),Ap=r=>r.__kind==="V1";Xt.isTransferArgsV1=Ap;Xt.transferArgsBeet=ds.dataEnum([["V1",new ds.FixableBeetArgsStruct([["amount",ds.u64],["authorizationData",ds.coption(Ip.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var ll=M(at=>{_();b();var Bp=at&&at.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kp=at&&at.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dl=at&&at.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Bp(e,r,t);return kp(e,r),e};Object.defineProperty(at,"__esModule",{value:!0});at.createTransferInstruction=at.transferInstructionDiscriminator=at.TransferStruct=void 0;var cl=dl(Bt()),Tu=dl(oe()),Ep=Su();at.TransferStruct=new cl.FixableBeetArgsStruct([["instructionDiscriminator",cl.u8],["transferArgs",Ep.transferArgsBeet]],"TransferInstructionArgs");at.transferInstructionDiscriminator=49;function Op(r,e,t=new Tu.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=at.TransferStruct.serialize({instructionDiscriminator:at.transferInstructionDiscriminator,...e}),i=[{pubkey:r.token,isWritable:!0,isSigner:!1},{pubkey:r.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:r.destination,isWritable:!0,isSigner:!1},{pubkey:r.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:r.mint,isWritable:!1,isSigner:!1},{pubkey:r.metadata,isWritable:!0,isSigner:!1},{pubkey:r.edition??t,isWritable:!1,isSigner:!1},{pubkey:r.ownerTokenRecord??t,isWritable:r.ownerTokenRecord!=null,isSigner:!1},{pubkey:r.destinationTokenRecord??t,isWritable:r.destinationTokenRecord!=null,isSigner:!1},{pubkey:r.authority,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.systemProgram??Tu.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:r.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:r.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRulesProgram??t,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRules??t,isWritable:!1,isSigner:!1}];return new Tu.TransactionInstruction({programId:t,keys:i,data:n})}at.createTransferInstruction=Op});var fl=M(wn=>{_();b();var Cp=wn&&wn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kp=wn&&wn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Cp(e,r,t)};Object.defineProperty(wn,"__esModule",{value:!0});Kp(ll(),wn)});var gl=M(Lt=>{_();b();var xp=Lt&&Lt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lp=Lt&&Lt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dp=Lt&&Lt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xp(e,r,t);return Lp(e,r),e};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.authorityTypeBeet=Lt.AuthorityType=void 0;var qp=Dp(Bt()),hl;(function(r){r[r.None=0]="None",r[r.Metadata=1]="Metadata",r[r.Holder=2]="Holder",r[r.MetadataDelegate=3]="MetadataDelegate",r[r.TokenDelegate=4]="TokenDelegate"})(hl=Lt.AuthorityType||(Lt.AuthorityType={}));Lt.authorityTypeBeet=qp.fixedScalarEnum(hl)});var pl=M(F=>{_();b();var Up=F&&F.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zp=F&&F.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yl=F&&F.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Up(e,r,t);return zp(e,r),e};Object.defineProperty(F,"__esModule",{value:!0});F.delegateArgsBeet=F.isDelegateArgsProgrammableConfigItemV1=F.isDelegateArgsCollectionItemV1=F.isDelegateArgsDataItemV1=F.isDelegateArgsAuthorityItemV1=F.isDelegateArgsProgrammableConfigV1=F.isDelegateArgsLockedTransferV1=F.isDelegateArgsStandardV1=F.isDelegateArgsStakingV1=F.isDelegateArgsUtilityV1=F.isDelegateArgsDataV1=F.isDelegateArgsTransferV1=F.isDelegateArgsSaleV1=F.isDelegateArgsCollectionV1=void 0;var G=yl(Bt()),Np=yl(us()),Qt=cs(),Rp=r=>r.__kind==="CollectionV1";F.isDelegateArgsCollectionV1=Rp;var jp=r=>r.__kind==="SaleV1";F.isDelegateArgsSaleV1=jp;var Fp=r=>r.__kind==="TransferV1";F.isDelegateArgsTransferV1=Fp;var Vp=r=>r.__kind==="DataV1";F.isDelegateArgsDataV1=Vp;var Yp=r=>r.__kind==="UtilityV1";F.isDelegateArgsUtilityV1=Yp;var Gp=r=>r.__kind==="StakingV1";F.isDelegateArgsStakingV1=Gp;var Wp=r=>r.__kind==="StandardV1";F.isDelegateArgsStandardV1=Wp;var $p=r=>r.__kind==="LockedTransferV1";F.isDelegateArgsLockedTransferV1=$p;var Hp=r=>r.__kind==="ProgrammableConfigV1";F.isDelegateArgsProgrammableConfigV1=Hp;var Zp=r=>r.__kind==="AuthorityItemV1";F.isDelegateArgsAuthorityItemV1=Zp;var Jp=r=>r.__kind==="DataItemV1";F.isDelegateArgsDataItemV1=Jp;var Xp=r=>r.__kind==="CollectionItemV1";F.isDelegateArgsCollectionItemV1=Xp;var Qp=r=>r.__kind==="ProgrammableConfigItemV1";F.isDelegateArgsProgrammableConfigItemV1=Qp;F.delegateArgsBeet=G.dataEnum([["CollectionV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new G.FixableBeetArgsStruct([["amount",G.u64],["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new G.FixableBeetArgsStruct([["amount",G.u64],["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new G.FixableBeetArgsStruct([["amount",G.u64],["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new G.FixableBeetArgsStruct([["amount",G.u64],["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new G.BeetArgsStruct([["amount",G.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new G.FixableBeetArgsStruct([["amount",G.u64],["lockedAddress",Np.publicKey],["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new G.FixableBeetArgsStruct([["authorizationData",G.coption(Qt.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var bl=M(Dt=>{_();b();var e0=Dt&&Dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),t0=Dt&&Dt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),r0=Dt&&Dt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&e0(e,r,t);return t0(e,r),e};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.metadataDelegateRoleBeet=Dt.MetadataDelegateRole=void 0;var n0=r0(Bt()),_l;(function(r){r[r.AuthorityItem=0]="AuthorityItem",r[r.Collection=1]="Collection",r[r.Use=2]="Use",r[r.Data=3]="Data",r[r.ProgrammableConfig=4]="ProgrammableConfig",r[r.DataItem=5]="DataItem",r[r.CollectionItem=6]="CollectionItem",r[r.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(_l=Dt.MetadataDelegateRole||(Dt.MetadataDelegateRole={}));Dt.metadataDelegateRoleBeet=n0.fixedScalarEnum(_l)});var wl=M(qt=>{_();b();var i0=qt&&qt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),o0=qt&&qt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s0=qt&&qt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&i0(e,r,t);return o0(e,r),e};Object.defineProperty(qt,"__esModule",{value:!0});qt.tokenDelegateRoleBeet=qt.TokenDelegateRole=void 0;var a0=s0(Bt()),ml;(function(r){r[r.Sale=0]="Sale",r[r.Transfer=1]="Transfer",r[r.Utility=2]="Utility",r[r.Staking=3]="Staking",r[r.Standard=4]="Standard",r[r.LockedTransfer=5]="LockedTransfer",r[r.Migration=6]="Migration"})(ml=qt.TokenDelegateRole||(qt.TokenDelegateRole={}));qt.tokenDelegateRoleBeet=a0.fixedScalarEnum(ml)});var Sl=M(Ut=>{_();b();var u0=Ut&&Ut.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),c0=Ut&&Ut.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),d0=Ut&&Ut.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&u0(e,r,t);return c0(e,r),e};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.tokenStandardBeet=Ut.TokenStandard=void 0;var l0=d0(Bt()),vl;(function(r){r[r.NonFungible=0]="NonFungible",r[r.FungibleAsset=1]="FungibleAsset",r[r.Fungible=2]="Fungible",r[r.NonFungibleEdition=3]="NonFungibleEdition",r[r.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(vl=Ut.TokenStandard||(Ut.TokenStandard={}));Ut.tokenStandardBeet=l0.fixedScalarEnum(vl)});var Tl=M(tt=>{_();b();var f0=tt&&tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ur=tt&&tt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&f0(e,r,t)};Object.defineProperty(tt,"__esModule",{value:!0});ur(gl(),tt);ur(cs(),tt);ur(pl(),tt);ur(bu(),tt);ur(bl(),tt);ur(vu(),tt);ur(mu(),tt);ur(_u(),tt);ur(wl(),tt);ur(Sl(),tt);ur(Su(),tt)});var dn=M(zt=>{_();b();var h0=zt&&zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pl=zt&&zt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&h0(e,r,t)};Object.defineProperty(zt,"__esModule",{value:!0});zt.PROGRAM_ID=zt.PROGRAM_ADDRESS=void 0;var g0=oe();Pl(fl(),zt);Pl(Tl(),zt);zt.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";zt.PROGRAM_ID=new g0.PublicKey(zt.PROGRAM_ADDRESS)});var Pu=M(Vr=>{_();b();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.isBigNumber=Vr.toOptionBigNumber=Vr.toBigNumber=void 0;var y0=fr(),p0=(r,e)=>new y0.BN(r,e);Vr.toBigNumber=p0;var _0=r=>r===null?null:(0,Vr.toBigNumber)(r);Vr.toOptionBigNumber=_0;var b0=r=>r?.__opaque__==="BigNumber";Vr.isBigNumber=b0});var Il=M(ls=>{_();b();Object.defineProperty(ls,"__esModule",{value:!0});ls.token=void 0;var Ml=Pu(),m0=(r,e=0,t="Token")=>(typeof r!="number"&&(r=(0,Ml.toBigNumber)(r).toNumber()),{basisPoints:(0,Ml.toBigNumber)(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}});ls.token=m0});var Bl=M(fs=>{_();b();Object.defineProperty(fs,"__esModule",{value:!0});fs.Pda=void 0;var Al=oe(),qi=class extends Al.PublicKey{constructor(e,t){super(e),this.bump=t}static find(e,t){let[n,i]=Al.PublicKey.findProgramAddressSync(t,e);return new qi(n,i)}};fs.Pda=qi});var El=M(Er=>{_();b();Object.defineProperty(Er,"__esModule",{value:!0});Er.systemProgram=Er.associatedTokenProgram=Er.tokenProgram=Er.tokenMetadataProgram=void 0;var w0=oe(),v0=dn(),kl=Zo();Er.tokenMetadataProgram={name:"TokenMetadataProgram",address:v0.PROGRAM_ID};Er.tokenProgram={name:"TokenProgram",address:kl.TOKEN_PROGRAM_ID};Er.associatedTokenProgram={name:"AssociatedTokenProgram",address:kl.ASSOCIATED_TOKEN_PROGRAM_ID};Er.systemProgram={name:"SystemProgram",address:w0.SystemProgram.programId}});var Ol=M(ei=>{_();b();Object.defineProperty(ei,"__esModule",{value:!0});ei.toPublicKey=ei.PublicKey=void 0;var S0=oe(),T0=oe();Object.defineProperty(ei,"PublicKey",{enumerable:!0,get:function(){return T0.PublicKey}});var P0=r=>typeof r=="object"&&"publicKey"in r?r.publicKey:typeof r=="object"&&"address"in r?r.address:new S0.PublicKey(r);ei.toPublicKey=P0});var Cl=M(ht=>{_();b();Object.defineProperty(ht,"__esModule",{value:!0});ht.getSignerHistogram=ht.isIdentitySigner=ht.isKeypairSigner=ht.isSigner=void 0;var M0=r=>typeof r=="object"&&"publicKey"in r&&("secretKey"in r||"signTransaction"in r);ht.isSigner=M0;var I0=r=>(0,ht.isSigner)(r)&&"secretKey"in r&&r.secretKey!=null;ht.isKeypairSigner=I0;var A0=r=>(0,ht.isSigner)(r)&&!(0,ht.isKeypairSigner)(r);ht.isIdentitySigner=A0;var B0=r=>r.reduce((e,t)=>{let n=e.all.findIndex(({publicKey:y})=>y.equals(t.publicKey)),i=e.all[n]??null,a=i?(0,ht.isIdentitySigner)(i):!1,d=(0,ht.isIdentitySigner)(t);if(!i)e.all.push(t),d?e.identities.push(t):e.keypairs.push(t);else if(a&&!d){let y=e.identities.findIndex(({publicKey:w})=>w.equals(t.publicKey));e.all.splice(n,1),e.identities.splice(y,1),e.all.push(t),e.keypairs.push(t)}return e},{all:[],keypairs:[],identities:[]});ht.getSignerHistogram=B0});var ri=M(er=>{_();b();var k0=er&&er.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ti=er&&er.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&k0(e,r,t)};Object.defineProperty(er,"__esModule",{value:!0});ti(Il(),er);ti(Pu(),er);ti(Bl(),er);ti(El(),er);ti(Ol(),er);ti(Cl(),er)});var Kl=M(cr=>{_();b();Object.defineProperty(cr,"__esModule",{value:!0});cr.getDefaultDelegateArgs=cr.getMetadataDelegateRoleSeed=cr.getMetadataDelegateRole=cr.getTokenDelegateRole=void 0;var rt=dn(),E0={StandardV1:rt.TokenDelegateRole.Standard,TransferV1:rt.TokenDelegateRole.Transfer,LockedTransferV1:rt.TokenDelegateRole.LockedTransfer,SaleV1:rt.TokenDelegateRole.Sale,UtilityV1:rt.TokenDelegateRole.Utility,StakingV1:rt.TokenDelegateRole.Staking},O0={CollectionV1:rt.MetadataDelegateRole.Collection,DataV1:rt.MetadataDelegateRole.Data,ProgrammableConfigV1:rt.MetadataDelegateRole.ProgrammableConfig},C0={[rt.MetadataDelegateRole.AuthorityItem]:"authority_item_delegate",[rt.MetadataDelegateRole.Collection]:"collection_delegate",[rt.MetadataDelegateRole.Use]:"use_delegate",[rt.MetadataDelegateRole.Data]:"data_delegate",[rt.MetadataDelegateRole.ProgrammableConfig]:"programmable_config_delegate",[rt.MetadataDelegateRole.DataItem]:"data_item_delegate",[rt.MetadataDelegateRole.CollectionItem]:"collection_item_delegate",[rt.MetadataDelegateRole.ProgrammableConfigItem]:"prog_config_item_delegate"},K0={CollectionV1:!1,DataV1:!1,ProgrammableConfigV1:!1,StandardV1:!0,TransferV1:!0,SaleV1:!0,UtilityV1:!0,StakingV1:!0,LockedTransferV1:!0},x0=r=>{let e=E0[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};cr.getTokenDelegateRole=x0;var L0=r=>{let e=O0[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};cr.getMetadataDelegateRole=L0;var D0=r=>C0[(0,cr.getMetadataDelegateRole)(r)];cr.getMetadataDelegateRoleSeed=D0;var q0=r=>{let e=K0[r];if(e===void 0)throw new Error(`UnreachableCaseError: ${r}`);if(e)throw new Error(`DelegateRoleRequiredDataError: ${r}`);return{__kind:r}};cr.getDefaultDelegateArgs=q0});var Mu=M(tr=>{_();b();Object.defineProperty(tr,"__esModule",{value:!0});tr.getMetadataDelegateRecord=tr.getTokenRecord=tr.getAssociatedTokenAccount=tr.getMasterEdition=tr.getMetadata=void 0;var Sn=yt(),hs=dn(),vn=ri(),U0=Kl(),z0=r=>{let e=hs.PROGRAM_ID;return vn.Pda.find(e,[Sn.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer()])};tr.getMetadata=z0;var N0=r=>{let e=hs.PROGRAM_ID;return vn.Pda.find(e,[Sn.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer(),Sn.Buffer.from("edition","utf8")])};tr.getMasterEdition=N0;var R0=r=>vn.Pda.find(vn.associatedTokenProgram.address,[r.owner.toBuffer(),vn.tokenProgram.address.toBuffer(),r.mint.toBuffer()]);tr.getAssociatedTokenAccount=R0;var j0=r=>{let e=hs.PROGRAM_ID;return vn.Pda.find(e,[Sn.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Sn.Buffer.from("token_record","utf8"),r.token.toBuffer()])};tr.getTokenRecord=j0;var F0=r=>{let e=hs.PROGRAM_ID;return vn.Pda.find(e,[Sn.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Sn.Buffer.from((0,U0.getMetadataDelegateRoleSeed)(r.type),"utf8"),r.updateAuthority.toBuffer(),r.delegate.toBuffer()])};tr.getMetadataDelegateRecord=F0});var xl=M(gs=>{_();b();Object.defineProperty(gs,"__esModule",{value:!0});gs.parseTokenMetadataDelegateInput=void 0;var V0=ri(),Iu=Mu(),Y0=(r,e,t)=>{if("updateAuthority"in e)return{isTokenDelegate:!1,delegate:e.delegate,approver:e.updateAuthority,delegateRecord:(0,Iu.getMetadataDelegateRecord)({mint:r,type:e.type,updateAuthority:e.updateAuthority,delegate:(0,V0.isSigner)(e.delegate)?e.delegate.publicKey:e.delegate,programs:t})};let n=e.token??(0,Iu.getAssociatedTokenAccount)({mint:r,owner:e.owner,programs:t});return{isTokenDelegate:!0,delegate:e.delegate,approver:e.owner,delegateRecord:(0,Iu.getTokenRecord)({mint:r,token:n,programs:t}),tokenAccount:n}};gs.parseTokenMetadataDelegateInput=Y0});var Dl=M(ni=>{_();b();Object.defineProperty(ni,"__esModule",{value:!0});ni.getSignerFromTokenMetadataAuthority=ni.parseTokenMetadataAuthorization=void 0;var ys=dn(),Ll=xl(),G0=r=>{let e={accounts:{authorizationRules:r.authorizationDetails?.rules??null},signers:[],data:{authorizationData:r.authorizationDetails?.data??null}};if(r.authority.__kind==="metadata")e.accounts.authority=r.authority.updateAuthority.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.updateAuthority),e.data.authorityType=ys.AuthorityType.Metadata;else if(r.authority.__kind==="metadataDelegate"){let{delegateRecord:t,approver:n}=(0,Ll.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=ys.AuthorityType.MetadataDelegate}else if(r.authority.__kind==="tokenDelegate"){let{delegateRecord:t,approver:n,tokenAccount:i}=(0,Ll.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.token=i,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=ys.AuthorityType.TokenDelegate}else if(r.authority.__kind==="holder")e.accounts.authority=r.authority.owner.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.owner),e.data.authorityType=ys.AuthorityType.Holder;else throw new Error(`UnreachableCaseError: ${r.authority.__kind}`);return e};ni.parseTokenMetadataAuthorization=G0;var W0=r=>{if(!("__kind"in r))return r;switch(r.__kind){case"metadata":return r.updateAuthority;case"metadataDelegate":case"tokenDelegate":return r.delegate;case"holder":return r.owner;default:throw new Error(`UnreachableCaseError: ${r.__kind}`)}};ni.getSignerFromTokenMetadataAuthority=W0});var zl=M(ln=>{_();b();Object.defineProperty(ln,"__esModule",{value:!0});ln.getSerializedTransaction=ln.getSignedTransaction=ln.TransactionBuilder=void 0;var $0=oe(),H0=ri(),ql=fr(),Yr=class{constructor(e={}){this.records=[],this.feePayer=void 0,this.context={},this.transactionOptions=e}static make(e){return new Yr(e)}prepend(...e){let t=e.flatMap(n=>n instanceof Yr?n.getInstructionsWithSigners():[n]);return this.records=[...t,...this.records],this}append(...e){let t=e.flatMap(n=>n instanceof Yr?n.getInstructionsWithSigners():[n]);return this.records=[...this.records,...t],this}add(...e){return this.append(...e)}splitUsingKey(e,t=!0){let n=new Yr(this.transactionOptions),i=new Yr(this.transactionOptions),a=this.records.findIndex(d=>d.key===e);return a>-1?(a+=t?1:0,n.add(...this.records.slice(0,a)),i.add(...this.records.slice(a))):n.add(this),[n,i]}splitBeforeKey(e){return this.splitUsingKey(e,!1)}splitAfterKey(e){return this.splitUsingKey(e,!0)}getInstructionsWithSigners(){return this.records}getInstructions(){return this.records.map(e=>e.instruction)}getInstructionCount(){return this.records.length}isEmpty(){return this.getInstructionCount()===0}getSigners(){let e=this.feePayer==null?[]:[this.feePayer],t=this.records.flatMap(n=>n.signers);return[...e,...t]}setTransactionOptions(e){return this.transactionOptions=e,this}getTransactionOptions(){return this.transactionOptions}setFeePayer(e){return this.feePayer=e,this}getFeePayer(){return this.feePayer}setContext(e){return this.context=e,this}getContext(){return this.context}when(e,t){return e?t(this):this}unless(e,t){return this.when(!e,t)}toTransaction(e,t={}){t={...this.getTransactionOptions(),...t};let n=new $0.Transaction({feePayer:this.getFeePayer()?.publicKey,signatures:t.signatures,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight});return n.add(...this.getInstructions()),n}};ln.TransactionBuilder=Yr;function Ul(r,e,t){return!("records"in r)&&r.recentBlockhash&&r.lastValidBlockHeight&&(t={blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight}),"records"in r&&(e=[...r.getSigners(),...e],r=r.toTransaction(t)),{transaction:r,signers:e,blockhashWithExpiryBlockHeight:t}}function Z0(r,e){let{keypairs:t}=(0,H0.getSignerHistogram)(e);return t.length>0&&r.partialSign(...t),r}function J0(r,e=[],t){let n=Ul(r,e,t);return r=n.transaction,e=n.signers,r=Z0(r,e),ql.base.toBase58(r.serialize())}ln.getSignedTransaction=J0;function X0(r,e=[],t){return r=Ul(r,e,t).transaction,ql.base.toBase58(r.serialize({requireAllSignatures:!1,verifySignatures:!1}))}ln.getSerializedTransaction=X0});var Rl=M(Nl=>{_();b();Object.defineProperty(Nl,"__esModule",{value:!0})});var Au=M(fn=>{_();b();var Q0=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jl=fn&&fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Q0(e,r,t)};Object.defineProperty(fn,"__esModule",{value:!0});jl(zl(),fn);jl(Rl(),fn)});var Fl=M(ii=>{_();b();Object.defineProperty(ii,"__esModule",{value:!0});ii.isProgrammable=ii.isNonFungible=void 0;var ps=dn(),e_=r=>r.tokenStandard===null||r.tokenStandard===ps.TokenStandard.NonFungible||r.tokenStandard===ps.TokenStandard.NonFungibleEdition||r.tokenStandard===ps.TokenStandard.ProgrammableNonFungible;ii.isNonFungible=e_;var t_=r=>r.tokenStandard===ps.TokenStandard.ProgrammableNonFungible;ii.isProgrammable=t_});var Vl=M(Tn=>{_();b();var r_=Tn&&Tn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),n_=Tn&&Tn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&r_(e,r,t)};Object.defineProperty(Tn,"__esModule",{value:!0});n_(Fl(),Tn)});var Wl=M(_s=>{_();b();Object.defineProperty(_s,"__esModule",{value:!0});_s.transferNftBuilder=void 0;var i_=dn(),Gl=oe(),Ui=ri(),oi=Mu(),Yl=Dl(),o_=Au(),Bu=Vl(),s_=new Gl.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),a_=(r,e,t)=>{let{nftOrSft:n,authority:i,toOwner:a,amount:d=(0,Ui.token)(1),authorizationDetails:y}=r,w=r.fromOwner??(0,Yl.getSignerFromTokenMetadataAuthority)(i).publicKey,P=(0,oi.getMetadata)(n.address),k=(0,oi.getMasterEdition)(n.address),B=r.fromToken??(0,oi.getAssociatedTokenAccount)({mint:n.address,owner:w}),E=r.toToken??(0,oi.getAssociatedTokenAccount)({mint:n.address,owner:a}),K=(0,oi.getTokenRecord)({mint:n.address,token:B}),N=(0,oi.getTokenRecord)({mint:n.address,token:E}),O=(0,Yl.parseTokenMetadataAuthorization)({mint:n.address,authority:"__kind"in i?i:{__kind:"holder",owner:i,token:B},authorizationDetails:y,programs:t});return o_.TransactionBuilder.make().setFeePayer(e).add({instruction:(0,i_.createTransferInstruction)({token:B,tokenOwner:w,destination:E,destinationOwner:a,mint:n.address,metadata:P,edition:(0,Bu.isNonFungible)(n)?k:void 0,ownerTokenRecord:(0,Bu.isProgrammable)(n)?K:void 0,destinationTokenRecord:(0,Bu.isProgrammable)(n)?N:void 0,authority:O.accounts.authority,payer:e.publicKey,systemProgram:Ui.systemProgram.address,sysvarInstructions:Gl.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:Ui.tokenProgram.address,splAtaProgram:Ui.associatedTokenProgram.address,authorizationRules:O.accounts.authorizationRules,authorizationRulesProgram:s_},{transferArgs:{__kind:"V1",amount:d.basisPoints,...O.data}},Ui.tokenMetadataProgram.address),signers:[e,...O.signers],key:r.instructionKey??"transferNft"})};_s.transferNftBuilder=a_});var bs=M(dr=>{_();b();var u_=dr&&dr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zi=dr&&dr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&u_(e,r,t)};Object.defineProperty(dr,"__esModule",{value:!0});zi(us(),dr);zi(dn(),dr);zi(Wl(),dr);zi(Au(),dr);zi(ri(),dr)});var Eu=M(kt=>{_();b();var c_=kt&&kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),d_=kt&&kt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ku=kt&&kt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&c_(e,r,t);return d_(e,r),e};Object.defineProperty(kt,"__esModule",{value:!0});kt.metaplex=kt.web3=kt.spl=void 0;kt.spl=ku(Zo());kt.web3=ku(oe());kt.metaplex=ku(bs())});var Hl=M(q=>{_();b();Object.defineProperty(q,"__esModule",{value:!0});q.validSignedTransaction=q.getSerializedMplTransaction=q.signMplTransaction=q.createAndSignVersionedTransaction=q.getSerializedVersionedTransaction=q.getSerializedTokenTransferVersionedTransaction=q.signTokenTransferVersionedTransaction=q.signTransferVersionedTransaction=q.getSerializedTransferVersionedTransaction=q.getHardwareTransaction=q.deserializeMessages=q.signMessage=q.appendTokenBurnInstruction=q.appendTokenMintToInstruction=q.appendTokenTransferInstruction=q.appendTransferInstruction=q.signTransaction=q.appendInstruction=q.createRawTransaction=q.validAddress=q.getNewAddress=void 0;var Ni=Pn(),de=fr(),A=Eu(),Xe=oe(),si=bs(),Or=Zo(),gt=Uo(),$l=wi();function l_(r){if(!r)throw new Error("invalid key");let e=de.base.fromBase58(r);if(e.length!=64)throw new Error("invalid key length");let t=Ni.signUtil.ed25519.publicKeyCreate(e);return de.base.toBase58(t)}q.getNewAddress=l_;function f_(r){try{return de.base.fromBase58(r).length==32}catch{return!1}}q.validAddress=f_;function h_(r,e){return new A.web3.Transaction({feePayer:new A.web3.PublicKey(r),blockhash:e,lastValidBlockHeight:0})}q.createRawTransaction=h_;async function g_(r,...e){r.add(...e)}q.appendInstruction=g_;async function y_(r,...e){let t=[];return e.forEach(n=>{t.push(A.web3.Keypair.fromSecretKey(de.base.fromBase58(n)))}),r.sign(...t),r.signature?Promise.resolve(de.base.toBase58(r.serialize())):Promise.reject("sign error")}q.signTransaction=y_;async function p_(r,e,t,n){r.add(A.web3.SystemProgram.transfer({fromPubkey:new A.web3.PublicKey(e),toPubkey:new A.web3.PublicKey(t),lamports:n}))}q.appendTransferInstruction=p_;async function __(r,e,t,n,i,a,d,y){let w=d===!0?Or.TOKEN_2022_PROGRAM_ID:Or.TOKEN_PROGRAM_ID,P=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(n),new A.web3.PublicKey(e),!1,w),k=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(n),new A.web3.PublicKey(t),!0,w);if(a&&r.add(A.spl.createAssociatedTokenAccountInstruction(new A.web3.PublicKey(e),new A.web3.PublicKey(k),new A.web3.PublicKey(t),new A.web3.PublicKey(n),new A.web3.PublicKey(w))),d){if(!y)throw new Error("invalid decimal for token 2022");r.add(A.spl.createTransferCheckedInstruction(new A.web3.PublicKey(P),new A.web3.PublicKey(n),new A.web3.PublicKey(k),new A.web3.PublicKey(e),i,y,[],new A.web3.PublicKey(w)))}else r.add(A.spl.createTransferInstruction(new A.web3.PublicKey(P),new A.web3.PublicKey(k),new A.web3.PublicKey(e),i,[],new A.web3.PublicKey(w)))}q.appendTokenTransferInstruction=__;async function b_(r,e,t,n,i,a,d,y){let w=y===!0?Or.TOKEN_2022_PROGRAM_ID:Or.TOKEN_PROGRAM_ID,P=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(n),new A.web3.PublicKey(t),!1,w);d&&r.add(A.spl.createAssociatedTokenAccountInstruction(new A.web3.PublicKey(e),new A.web3.PublicKey(P),new A.web3.PublicKey(t),new A.web3.PublicKey(n),new A.web3.PublicKey(w))),r.add(A.spl.createMintToInstruction(new A.web3.PublicKey(n),new A.web3.PublicKey(P),new A.web3.PublicKey(i),a,[],new A.web3.PublicKey(w)))}q.appendTokenMintToInstruction=b_;async function m_(r,e,t,n,i,a){let d=a===!0?Or.TOKEN_2022_PROGRAM_ID:Or.TOKEN_PROGRAM_ID;r.add(A.spl.createBurnInstruction(new A.web3.PublicKey(t),new A.web3.PublicKey(n),new A.web3.PublicKey(e),i,[],new A.web3.PublicKey(d)))}q.appendTokenBurnInstruction=m_;async function w_(r,e,t){let n=t?.encoding||"base58";if(n==="base58"){let i=de.base.fromBase58(r),a=de.base.fromBase58(e),d=Ni.signUtil.ed25519.sign(i,a),y=de.base.toBase58(d);return Promise.resolve(y)}else if(n==="base64"){let i=de.base.fromBase64(r),a=de.base.fromBase58(e),d=Ni.signUtil.ed25519.sign(i,a),y=de.base.toBase64(d);return Promise.resolve(y)}else return Promise.reject("invalid encoding, only base58 and base64 are supported")}q.signMessage=w_;async function v_(r){let e=[];for(let t=0;t<r.length;t++){let n=!0,i=0,a=!1,d=0,y=r[t];try{let P=A.web3.VersionedTransaction.deserialize(de.base.fromBase58(y)).message;for(let k=0;k<P.compiledInstructions.length;k++){let B=P.compiledInstructions[k];if(P.staticAccountKeys[B.programIdIndex].toBase58()==gt.ComputeBudgetProgram.programId.toBase58()){let E=T.Buffer.from(B.data);try{let{units:K}=(0,$l.decodeData)(gt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,E);i=K,a=!0}catch{}try{let{microLamports:K}=(0,$l.decodeData)(gt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,E);d=K}catch{}}}a||(i=0,P.compiledInstructions.length>1&&(i=(P.compiledInstructions.length-1)*2e5))}catch{n=!1}e.push({deserialized:n,computeUnitLimit:i.toString(),computeUnitPrice:d.toString()})}return Promise.resolve(e)}q.deserializeMessages=v_;async function S_(r,e,t){let n=A.web3.Transaction.from(de.base.fromHex(r));return n.addSignature(new Xe.PublicKey(e),de.base.fromHex(t)),n.signature?Promise.resolve(de.base.toBase58(n.serialize())):Promise.reject("getHardwareTransaction error")}q.getHardwareTransaction=S_;async function T_(r,...e){let t=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let n=gt.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=gt.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(A.web3.SystemProgram.transfer({fromPubkey:new A.web3.PublicKey(r.from),toPubkey:new A.web3.PublicKey(r.to),lamports:r.amount})),Ou(r.payer,r.blockHash,t,e)}q.getSerializedTransferVersionedTransaction=T_;async function P_(r,...e){let t=[];if(r.computeUnitLimit&&r.computeUnitPrice){let n=gt.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=gt.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(A.web3.SystemProgram.transfer({fromPubkey:new A.web3.PublicKey(r.from),toPubkey:new A.web3.PublicKey(r.to),lamports:r.amount})),Cu(r.payer,r.blockHash,t,e)}q.signTransferVersionedTransaction=P_;async function M_(r,...e){let t=r.token2022===!0?Or.TOKEN_2022_PROGRAM_ID:Or.TOKEN_PROGRAM_ID,n=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(r.mint),new A.web3.PublicKey(r.from),!1,t),i=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(r.mint),new A.web3.PublicKey(r.to),!0,t),a=[];if(r.computeUnitLimit&&r.computeUnitPrice){let d=gt.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),y=gt.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});a.push(d),a.push(y)}return r.createAssociatedAddress&&a.push(A.spl.createAssociatedTokenAccountInstruction(new A.web3.PublicKey(r.from),new A.web3.PublicKey(i),new A.web3.PublicKey(r.to),new A.web3.PublicKey(r.mint),new A.web3.PublicKey(t))),a.push(A.spl.createTransferInstruction(new A.web3.PublicKey(n),new A.web3.PublicKey(i),new A.web3.PublicKey(r.from),r.amount,[],new A.web3.PublicKey(t))),Cu(r.payer,r.blockHash,a,e)}q.signTokenTransferVersionedTransaction=M_;async function I_(r,...e){let t=r.token2022===!0?Or.TOKEN_2022_PROGRAM_ID:Or.TOKEN_PROGRAM_ID,n=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(r.mint),new A.web3.PublicKey(r.from),!1,t),i=await A.spl.getAssociatedTokenAddress(new A.web3.PublicKey(r.mint),new A.web3.PublicKey(r.to),!1,t),a=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let d=gt.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),y=gt.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});a.push(d),a.push(y)}return r.createAssociatedAddress&&a.push(A.spl.createAssociatedTokenAccountInstruction(new A.web3.PublicKey(r.from),new A.web3.PublicKey(i),new A.web3.PublicKey(r.to),new A.web3.PublicKey(r.mint),new A.web3.PublicKey(t))),a.push(A.spl.createTransferInstruction(new A.web3.PublicKey(n),new A.web3.PublicKey(i),new A.web3.PublicKey(r.from),r.amount,[],new A.web3.PublicKey(t))),Ou(r.payer,r.blockHash,a,e)}q.getSerializedTokenTransferVersionedTransaction=I_;async function Ou(r,e,t,n){let i=new Xe.TransactionMessage({payerKey:new Xe.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),a=new Xe.VersionedTransaction(i);return Promise.resolve(de.base.toBase58(a.serialize()))}q.getSerializedVersionedTransaction=Ou;async function Cu(r,e,t,n){let i=new Xe.TransactionMessage({payerKey:new Xe.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),a=new Xe.VersionedTransaction(i),d=[];return n.forEach(y=>{let w=Xe.Keypair.fromSecretKey(de.base.fromBase58(y));d.push({publicKey:w.publicKey,secretKey:w.secretKey})}),a.sign(d),a.signature?Promise.resolve(de.base.toBase58(a.serialize())):Promise.reject("sign error")}q.createAndSignVersionedTransaction=Cu;async function A_(r,e,t,n,i,a,d=si.TokenStandard.ProgrammableNonFungible,y,w){let P={tokenStandard:d,address:new Xe.PublicKey(n)},k={publicKey:new Xe.PublicKey(e),secretKey:de.base.fromBase58(a)},B=(0,si.transferNftBuilder)({nftOrSft:P,authority:k,fromOwner:new Xe.PublicKey(e),toOwner:new Xe.PublicKey(t)},k);if(y&&w){let E=gt.ComputeBudgetProgram.setComputeUnitLimit({units:y}),K=gt.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w});B.add({instruction:E,signers:[]}),B.add({instruction:K,signers:[]})}return(0,si.getSignedTransaction)(B,void 0,{blockhash:i,lastValidBlockHeight:0})}q.signMplTransaction=A_;async function B_(r,e,t,n,i,a,d=si.TokenStandard.ProgrammableNonFungible,y,w){let P={tokenStandard:d,address:new Xe.PublicKey(n)},k={publicKey:new Xe.PublicKey(e),secretKey:de.base.fromBase58(a)},B=(0,si.transferNftBuilder)({nftOrSft:P,authority:k,fromOwner:new Xe.PublicKey(e),toOwner:new Xe.PublicKey(t)},k);if(y&&w){let E=gt.ComputeBudgetProgram.setComputeUnitLimit({units:y}),K=gt.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w});B.add({instruction:E,signers:[]}),B.add({instruction:K,signers:[]})}return(0,si.getSerializedTransaction)(B,void 0,{blockhash:i,lastValidBlockHeight:0})}q.getSerializedMplTransaction=B_;function k_(r,e,t){if(e){let y=Xe.VersionedTransaction.deserialize(de.base.fromBase58(r)),w=y.signature,P=y.message.serialize(),k=y.message.getAccountKeys().get(0)?.toBytes();if(!t&&!Ni.signUtil.ed25519.verify(P,w,k))throw Error("signature error");return y}let n=Xe.Transaction.from(de.base.fromBase58(r)),i=n.signature,a=n.serializeMessage(),d=n.feePayer.toBytes();if(!t&&!Ni.signUtil.ed25519.verify(a,i,d))throw Error("signature error");return n}q.validSignedTransaction=k_});var Xl=M(ws=>{_();b();Object.defineProperty(ws,"__esModule",{value:!0});ws.SolWallet=void 0;var ce=fr(),rr=fr(),Zl=Pn(),he=Ql(),ms=Uo(),Jl=bs(),Ku=class extends ce.BaseWallet{async getDerivedPath(e){return`m/44'/501'/${e.index}'/0'`}async getRandomPrivateKey(){try{return Promise.resolve(Zl.signUtil.ed25519.ed25519_getRandomPrivateKey(!0,"base58"))}catch{return Promise.reject(ce.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await Zl.signUtil.ed25519.ed25519_getDerivedPrivateKey(e.mnemonic,e.hdPath,!0,"base58");return Promise.resolve(t)}catch{return Promise.reject(ce.GenPrivateKeyError)}}checkPrivateKey(e){let t=rr.base.fromBase58(e);return t.length==64&&!t.every(n=>n===0)}async getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(ce.NewAddressError);let t=he.api.getNewAddress(e.privateKey),n={address:t,publicKey:rr.base.toHex(rr.base.fromBase58(t))};return Promise.resolve(n)}catch{return Promise.reject(ce.NewAddressError)}}async validPrivateKey(e){let t;try{t=this.checkPrivateKey(e.privateKey)}catch{t=!1}let n={isValid:t,privateKey:e.privateKey};return Promise.resolve(n)}async validAddress(e){let t;try{t=rr.base.fromBase58(e.address).length==32}catch{t=!1}let n={isValid:t,address:e.address};return Promise.resolve(n)}async signCommonMsg(e){let t=rr.base.fromBase58(e.privateKey);return super.signCommonMsg({privateKey:e.privateKey,privateKeyHex:rr.base.toHex(t),message:e.message,signType:ce.SignType.ED25519})}async signTransaction(e){try{let t=e.data,n=he.api.createRawTransaction(t.payer,t.blockHash);if(t.computeUnitLimit&&t.computeUnitPrice){let a=ms.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),d=ms.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(a).add(d)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(ce.SignTxError);if(t.version===0)return he.api.signTransferVersionedTransaction(e.data,e.privateKey);await he.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(ce.SignTxError);if(t.version===0)return he.api.signTokenTransferVersionedTransaction(e.data,e.privateKey);await he.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(ce.SignTxError);let a=t.tokenStandard??Jl.TokenStandard.ProgrammableNonFungible;return await he.api.signMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,a,t.computeUnitLimit,t.computeUnitPrice)}else return Promise.reject(ce.SignTxError);if(!e.privateKey)return Promise.resolve(rr.base.toHex(n.serialize({verifySignatures:!1})));let i=await he.api.signTransaction(n,e.privateKey);return Promise.resolve(i)}catch{return Promise.reject(ce.SignTxError)}}async signMessage(e){try{let t=e.data,n=await he.api.signMessage(t,e.privateKey,e.extra);return Promise.resolve(n)}catch{return Promise.reject(ce.SignTxError)}}async deserializeMessages(e){try{let t=await he.api.deserializeMessages(e.data);return Promise.resolve(t)}catch{return Promise.reject("deserializeMessages error")}}async getSerializedTransaction(e){try{let t=e.data,n=he.api.createRawTransaction(t.payer,t.blockHash);if(t.needPriorityFee&&t.computeUnitLimit&&t.computeUnitPrice){let a=ms.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),d=ms.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(a).add(d)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(ce.SignTxError);if(t.version===0)return he.api.getSerializedTransferVersionedTransaction(e.data,e.privateKey);await he.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(ce.SignTxError);if(t.version===0)return he.api.getSerializedTokenTransferVersionedTransaction(e.data,e.privateKey);await he.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(ce.SignTxError);let a=t.tokenStandard??Jl.TokenStandard.ProgrammableNonFungible;return t.needPriorityFee?await he.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,a,t.computeUnitLimit,t.computeUnitPrice):await he.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,a)}else return Promise.reject(ce.SignTxError);let i=rr.base.toBase58(n.serialize({requireAllSignatures:!1,verifySignatures:!1}));return Promise.resolve(i)}catch{return Promise.reject(ce.SignTxError)}}async calcTxHash(e){try{let t=e.extra?.encoding??"base58",n;if(t==="base58")n=rr.base.fromBase58(e.data);else if(t==="base64")n=rr.base.fromBase64(e.data);else return Promise.reject("invalid encoding, only base58 and base64 are supported");let i;try{i=he.web3.Transaction.from(n)}catch{i=he.web3.VersionedTransaction.deserialize(n)}if(i.signature==null)return Promise.reject(ce.CalcTxHashError);let a=i.signature,d=e.extra?.retEncoding??"base58",y;if(d==="base64")y=rr.base.toBase64(a);else if(d==="base58")y=rr.base.toBase58(a);else return Promise.reject("invalid retEncoding, only base58 and base64 are supported");return Promise.resolve(y)}catch{return Promise.reject(ce.CalcTxHashError)}}async getHardWareRawTransaction(e){try{return await this.signTransaction(e)}catch{return Promise.reject(ce.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(e){try{return await he.api.getHardwareTransaction(e.raw,e.pubKey,e.sig)}catch{return Promise.reject(ce.GetHardwareSignedTransactionError)}}async validSignedTransaction(e){try{let t=e.data?e.data.version:void 0,n=e.data?e.data.skipCheckSign:void 0,i=he.api.validSignedTransaction(e.tx,t||!1,n||!1);return Promise.resolve((0,ce.jsonStringifyUniform)(i))}catch{return Promise.reject(ce.validSignedTransactionError)}}};ws.SolWallet=Ku});var Ql=M(Et=>{_();b();var ef=Et&&Et.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),E_=Et&&Et.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),O_=Et&&Et.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ef(e,r,t);return E_(e,r),e},tf=Et&&Et.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ef(e,r,t)};Object.defineProperty(Et,"__esModule",{value:!0});Et.api=void 0;Et.api=O_(Hl());tf(Eu(),Et);tf(Xl(),Et)});export{Ql as a};
//# sourceMappingURL=chunk-VEHGEG5X.js.map
