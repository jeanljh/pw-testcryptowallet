import{a as X}from"./chunk-3FSEKPUM.js";import{p as Y}from"./chunk-SPXYT2VO.js";import{G,H as K,d as B,i as C}from"./chunk-FLUPYUSZ.js";import{i as P,q as v}from"./chunk-PI6SXITR.js";import{Ba as F}from"./chunk-LZ43QKYM.js";import{a as k}from"./chunk-LLRT7ZCZ.js";import{a as u}from"./chunk-LH3J3TLH.js";import{d as m,e as s,l as V}from"./chunk-XEVJKE53.js";import{_ as A,j as r,p as w,q as N,t as q,x as O,y as M}from"./chunk-NLHAZXT3.js";import{o as i,q as a}from"./chunk-4J7XGGEQ.js";i();a();A();i();a();var Q={[1]:{priorityMode:"auto",manualType:0},[2]:{priorityMode:"manual",manualType:0},[3]:{priorityMode:"manual",manualType:1}},ie={GENERAL:"general",EXPLAIN:"explain",QUICK_BUTTON:"quick_button",TRADE:"trade",OTHER:"others"},E={ROUTE_AUTO:"route_auto",ROUTE_MANUAL:"route_manual",SLIPPAGE_DYNAMIC:"slippage_dynamic",SLIPPAGE_FIXED:"slippage_fixed",SLIPPAGE_DYNAMIC_MAX:"slippage_dynamic_max",PRIORITY_MARKET:"priority_gas_market",PRIORITY_FAST:"priority_gas_fast",PRIORITY_TURBO:"priority_gas_turbo",PRIORITY_CUSTOM:"priority_gas_custom",RESET:"reset",CONFIRM:"confirm",BACK:"back"},D={MARKET:"market",FAST:"fast",TURBO:"turbo",CUSTOM:"custom"},ae={[D.MARKET]:E.PRIORITY_MARKET,[D.FAST]:E.PRIORITY_FAST,[D.TURBO]:E.PRIORITY_TURBO,[D.CUSTOM]:E.PRIORITY_CUSTOM},$={ON:"1",OFF:"0"},ne={MARKET:"1",FAST:"2",TURBO:"3",CUSTOM:"4"};i();a();var H=({formatPriorityFee:n,nativeTokenPrice:e,isSolana:t,networkFeeDecimals:o,estimateGasFee:p,supportCustomGasFee:d,supportEip1559:c})=>{if(t){let{baseFee:l,value:h}=n,g=u.add(l||0,h);return u.mul(e,g)}if(d&&c){let{baseFee:l,value:h}=n;return u.div(u.mul(e,u.mul(u.add(l,h),p)),10**o)}return d?u.div(u.mul(e,u.mul(n.value,p)),10**o):n.price};var L=class{constructor(){this.settingPanelVisible=!1;this.priorityMode="auto";this.manualType=0;this.fetchedSetting={};this.swapConfig={};this.feeType=C.MARKET;this.setStoreFeeType=e=>{this.feeType=e};this.customFeeUsd="";this.setCustomFee=e=>{this.customFeeUsd=e};this.priorityFeeInfo={};this.fee="";this.setPriorityFee=e=>{this.fee=e};this.feeMap={};this.setFeeMap=e=>{this.feeMap=e};this.slippageSetting={};X(this)}setSettingPanelVisible(e){this.settingPanelVisible=e}setPriorityMode(e){this.priorityMode=e}setManualType(e){this.manualType=e}setFetchedSetting(e){this.fetchedSetting=e}get originAutoMode(){return Q[this.routerModeType]}setSwapConfig(e){this.swapConfig=e}get routerModeType(){return r(this.swapConfig,"dexPresetResultVOList[0].buyPreset.routeConfig.routerModeType",void 0)}get computedMevPriceThreshold(){return r(this.swapConfig,"mevPriceThreshold","")}get supportAutoMode(){return r(this.swapConfig,"supportAutoMode",!1)}get supportEip1559(){return r(this.swapConfig,"supportEip1559",!1)}get memeChainType(){return r(this.swapConfig,"memeChainType","")}get supportCustomGasFee(){return r(this.swapConfig,"supportCustomGasFee",!1)}get networkFeeDecimals(){return r(this.swapConfig,"networkFeeDecimals","")}get nativeTokenPrice(){return r(this.swapConfig,"nativeTokenPrice","")}get networkFeeUnit(){return r(this.swapConfig,"networkFeeUnit","")}setPriorityFeeInfo(e){this.priorityFeeInfo=e||{}}get computedPriorityFeeAmount(){return this.priorityFeeInfo?this.feeType===C.CUSTOM?this.fee:this.feeMap[this.feeType]?.amount:""}getComputedPriorityFeeInfo(e,{feeType:t,feeValue:o,feeMap:p,customFeeUsd:d,estimateGasFee:c}){if(!e)return{totalFeeUSD:""};let l=t||this.feeType,h=o??this.fee,g=p||this.feeMap||{},S=l===C.CUSTOM?{amount:h,price:d||this.customFeeUsd||""}:g[l]||{},{supportCustomGasFee:U,supportEip1559:R}=this,_=S?.amount,y=S?.price,I=e?.baseFee?H({formatPriorityFee:{baseFee:e?.baseFee,value:_,price:y},nativeTokenPrice:this.nativeTokenPrice,isSolana:this.memeChainType==="0",networkFeeDecimals:this.networkFeeDecimals,estimateGasFee:c,supportCustomGasFee:U,supportEip1559:R}):e?.baseFeeUsd||y;return this.memeChainType==="0"?{totalFeeUSD:I,baseFeeValue:e?.baseFee,baseFeeUsd:e?.baseFeeUsd,priorityFeeForShow:_,priorityFeeUSD:y}:{totalFeeUSD:I}}getMevInfo(e){let t=!1;return this.priorityMode==="auto"?t=e===$.ON:t=this.manualType===0,t?r(this.priorityFeeInfo,"mev[0].name",""):""}setSlippageSetting(e){this.slippageSetting=e}},Ae=new L;i();a();var Re=({realTimeTokenPrice:n,amount:e,nonRealTimeTokenValue:t})=>!P(n)||!P(e)?t:u.mul(n,e).toString();i();a();A();A();var x=class extends Y{constructor(){super();this.liquidityModelVisible=!1;this.dataStatus=F.DEFAULT;this.rawData=[];this.LiquidityCancelRef=null;this.selectedListIds=[];this.confirmIds=null;this.fromChainId="";this.searchLiquidityValue="";V(this,{liquidityModelVisible:m,dataStatus:m,rawData:m,LiquidityCancelRef:m,selectedListIds:m,confirmIds:m,fromChainId:m,searchLiquidityValue:m,computedListCheckedAll:s,computedCheckedAllDisabled:s,computedLiquidityNum:s,computedClearAll:s,computedCheckedData:s,computedSortListData:s,computedSearchStatus:s,computedSearchDataIsNull:s,computedSearchData:s,computedSearchIfAllChecked:s,computedShowData:s,computedIds:s,computedIsCustomLiquidity:s,computedMonitorLiquidSelectType:s,computedIsSelectedAllDex:s,computedDexIds:s})}get computedListCheckedAll(){return this.computedSearchStatus?this.computedSearchIfAllChecked:this.selectedListIds.length===this.rawData.length}get computedCheckedAllDisabled(){return this.computedSearchStatus&&M(this.computedSearchData)}get computedLiquidityNum(){let t="--",{dataStatus:o,rawData:p,confirmIds:d}=this;if(o===F.NULL)t="0 / 0";else if(o===F.READY){let c=r(d,this.fromChainId);t=`${!c||c&&c.length===0?p.length:c.length} / ${p.length}`}return t}get computedClearAll(){return M(this.selectedListIds)}get computedCheckedData(){return q(this.rawData,o=>({...o,isChecked:!!O(this.selectedListIds,o.id)}))}get computedSortListData(){return G(this.computedCheckedData)}get computedSearchStatus(){return!!this.searchLiquidityValue}get computedSearchDataIsNull(){return this.computedSearchStatus&&M(this.computedSearchData)}get computedSearchData(){return K(this.computedCheckedData,this.searchLiquidityValue)}get computedSearchIfAllChecked(){let t=w(this.computedSearchData,o=>o?.isChecked);return!M(this.computedSearchData)&&t}get computedShowData(){return this.searchLiquidityValue?this.computedSearchData:this.computedSortListData}get computedIds(){return r(this.confirmIds,this.fromChainId)}get computedIsCustomLiquidity(){return(this.computedIds||[]).length<this.rawData.length}get computedDexIds(){return this.computedIsCustomLiquidity?this.computedIds:void 0}get computedMonitorLiquidSelectType(){let{computedIds:t=[],rawData:o}=this;return!t.length||t.length===o?.length?"all":t.length>1?"custom_>1":t.length===1?"custom_=1":""}get computeExcludedDexIds(){return(this.computedIsCustomLiquidity?N(this.rawData,o=>!O(this.computedIds,o.id)):[]).map(o=>o.id)}get computedIsSelectedAllDex(){let{computedIds:t=[],rawData:o}=this;return!t.length||t.length===o?.length}},j=new x;i();a();A();i();a();var b="1",W="2",Z="3",Be="0",Ge={[b]:"swaptrade_aggregator_tag_best_value",[W]:"swaptrade_xrouting_tag_fastest",[Z]:"swaptrade_xrouting_tag_best_in_all_dimensions"};var ee=()=>{let{accountStore:n,quoteStore:e}=k(),t=r(e,"quote.bestRoute",{})||{},o=t.defiPlatformInfoList?.findIndex(p=>p.defiPlatformId===e.aggregateSelectId)+1;return{wallet_address:n.address,provider_name:t.name,best_price:t.isBest?"yes":"no",price_difference:v(t.reducePercent),price_ranking:o}},Ze=()=>{let{accountStore:n,quoteStore:e}=k(),{bestRoute:t}=e.quote;if(!t)return{};let{slippage:o,slippageType:p}=e.computedSlippage,{fromToken:d,fromTokenAmount:c,fromTokenPrice:l,toTokenPrice:h,receiveAmount:g,toToken:S,swapType:U,routerLabel:R}=t,_=Number(U)===0,y=_?{liquidity_source:j.computedMonitorLiquidSelectType}:{},I=_?{}:{bridge_selection:R?.includes(b)?"overall best":"custom"};return{wallet_address:n.address,from_token_name:d?.tokenName,from_token_address:d?.tokenContractAddress,from_token_amount:c,from_amount_usdt:l,to_token_address:S?.tokenContractAddress,to_token_amount:g,to_amount_usdt:h,chain:d?.chainName,from_chain:d?.chainName,to_chain:S?.chainName,swap_type:_?"swap":"cross_chain_swap",slippage:{type:p===B.AUTO?"auto":"custom",amount:o},...y,...I,...ee()}};export{Q as a,ie as b,E as c,ae as d,$ as e,ne as f,H as g,Ae as h,Re as i,b as j,W as k,Z as l,Be as m,j as n,ee as o,Ze as p};
//# sourceMappingURL=chunk-YAZIRKLK.js.map
