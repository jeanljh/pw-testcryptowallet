import{a as O,b as ee,c as ve,e as Ee}from"./chunk-JZPO4NU4.js";import"./chunk-QRTQZ46Y.js";import{d as R}from"./chunk-RSS4ZW7H.js";import{b as J}from"./chunk-CPCRKRJC.js";import{a as he}from"./chunk-EKCHWEWU.js";import"./chunk-YU25S3Z6.js";import{a as K}from"./chunk-WRDP4AN2.js";import"./chunk-NVT6KZMA.js";import{f as ge}from"./chunk-UNX7SSQ5.js";import{a as ue}from"./chunk-VN6CTHUI.js";import"./chunk-T2IRCTJA.js";import{e as ne,s as N}from"./chunk-FLUPYUSZ.js";import{H as pe,I as ie,d as _e,q as ce,z as Z}from"./chunk-UC2GDSBD.js";import{m as fe}from"./chunk-PI6SXITR.js";import{Wa as se,ta as V,va as q,vd as d}from"./chunk-LZ43QKYM.js";import"./chunk-LH3J3TLH.js";import{n as F}from"./chunk-XEVJKE53.js";import"./chunk-NLHAZXT3.js";import"./chunk-J5HV5RZ5.js";import"./chunk-JXDUUE4S.js";import"./chunk-Y5NME4BP.js";import"./chunk-T7EATGE4.js";import{s as C,y as c}from"./chunk-YP7AL7GO.js";import"./chunk-VYWNZTTM.js";import"./chunk-33JFC56H.js";import{a as re}from"./chunk-6N5VE5LT.js";import{a as $}from"./chunk-6YOUVTKE.js";import"./chunk-AEGO4G2O.js";import"./chunk-7BSXWXHJ.js";import{f as x,o as r,q as s}from"./chunk-4J7XGGEQ.js";r();s();var te=x($());r();s();r();s();var z=x($()),xe=x(pe()),Pe=x(re());r();s();var e=x($()),w=x(re());r();s();var l={"preset-item":"_preset-item_hhs7f_1",presetItem:"_preset-item_hhs7f_1","preset-padding":"_preset-padding_hhs7f_7",presetPadding:"_preset-padding_hhs7f_7","preset-name":"_preset-name_hhs7f_15",presetName:"_preset-name_hhs7f_15",divide:"_divide_hhs7f_26",icon:"_icon_hhs7f_33",text:"_text_hhs7f_36",green:"_green_hhs7f_43",normal:"_normal_hhs7f_46","remove-icon":"_remove-icon_hhs7f_49",removeIcon:"_remove-icon_hhs7f_49","disabled-icon":"_disabled-icon_hhs7f_54",disabledIcon:"_disabled-icon_hhs7f_54","edit-icon":"_edit-icon_hhs7f_58",editIcon:"_edit-icon_hhs7f_58","selected-icon":"_selected-icon_hhs7f_62",selectedIcon:"_selected-icon_hhs7f_62","preset-info":"_preset-info_hhs7f_65",presetInfo:"_preset-info_hhs7f_65","icon-wrapper":"_icon-wrapper_hhs7f_74",iconWrapper:"_icon-wrapper_hhs7f_74"};var Ne=({isEdit:n,preset:a,isSelected:g,handleClickPreset:m,disableDelete:v,handleDeletePreset:E,handleEditPreset:p,hasShadow:f=!0,currentPresetId:y,tradeScene:k,jitoIsSuccess:D=!0,mevUnstableShowLevel:A,computedQuoteCompleted:L=!1})=>{let{name:j,slippage:u,priorityFee:Y,id:P,priorityMode:B="auto",manualType:H=0}=a,{type:U}=Y,_=he({priorityMode:B,manualType:H,jitoIsSuccess:D,mevUnstableShowLevel:A,computedQuoteCompleted:L}),T=(0,e.useMemo)(()=>({market:d("swaptrade_modal_dialog_option_market"),fast:d("swaptrade_modal_dialog_option_fast5x"),turbo:d("swaptrade_modal_dialog_option_turbo10x"),custom:d("swaptrade_extension_cinteraction_custom")})[U],[U]),G=(0,e.useMemo)(()=>{let W=X=>X?`${fe(ge(X),{needZero:!1})}`:"--";return u?.mode===ne.FIXED?W(u?.value):u?.mode===ne.DYNAMIC?u?.customMax?W(u?.customMax):d("swaptrade_slippage_cell_label_dynamic"):"--"},[u?.customMax,u?.mode,u?.value]);return e.default.createElement(_e,{className:(0,w.default)("flex items-center justify-between",l.presetItem,{[l.presetPadding]:!n}),onClick:()=>{m&&m()}},e.default.createElement("div",{className:(0,w.default)("flex items-center")},n&&e.default.createElement(C,{className:(0,w.default)("okds-intermediate",l.removeIcon,{[l.disabledIcon]:v}),onClick:()=>{E&&E()},style:{fontSize:24},a11yText:"remove-item"}),e.default.createElement("div",{className:l.presetInfo},e.default.createElement("div",null,a.id===`${N}2`?e.default.createElement("div",{className:"flex items-center"},e.default.createElement(C,{className:(0,w.default)(P===y?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:20,marginRight:"4px",marginBottom:"8px"},a11yText:"meme-mode-icon"}),e.default.createElement("span",{className:l.presetName},j)):e.default.createElement("span",{className:l.presetName},j)),e.default.createElement("div",{className:(0,w.default)("flex items-center",l.presetTag)},e.default.createElement(K,{icon:"okx-defi-dex-slippage",text:G}),e.default.createElement("div",{className:l.divide}),e.default.createElement(K,{icon:"okx-defi-dex-fee",text:T}),k===0&&e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:l.divide}),e.default.createElement(K,{text:_.text,icon:_.icon,status:_.status,tooltipText:_.tips,showWarningIcon:_.showWarningIcon}))))),n?e.default.createElement(e.default.Fragment,null,f&&e.default.createElement("div",{className:l.shadow}),e.default.createElement("div",{className:(0,w.default)("flex items-center justify-center",l.iconWrapper)},e.default.createElement(C,{className:(0,w.default)("okx-defi-marketplace-edit",l.editIcon),style:{fontSize:24},a11yText:"edit-item",onClick:p}))):g&&e.default.createElement(C,{className:(0,w.default)("okx-defi-marketplace-selected",l.selectedIcon),style:{fontSize:24},a11yText:"edit-item"}))},Q=Ne;r();s();var me={root:"_root_1hlcl_1",btns:"_btns_1hlcl_4","no-bg":"_no-bg_1hlcl_13",noBg:"_no-bg_1hlcl_13"};var Ae=F(({addClick:n,onSelect:a})=>{let{configStore:g,quoteStore:m}=J(),{currentMode:v,tradeScene:E}=g,{jitoIsSuccess:p,mevUnstableShowLevel:f,computedQuoteCompleted:y}=m,{currentPresetList:k,currentPresetId:D,setCurrentPresetId:A}=R(),L=(0,xe.useHistory)(),{presetPageEditState:j,setPresetPageEditState:u}=O(),Y=()=>{u(!0)},{setEditPreset:P}=ee(),{newPreset:B}=ve(),H=()=>{if(k.length>7){Z.info({title:d("swaptrade_meme_toast_preset_max",{num:8})});return}if(P({value:B,isEdit:!1}),n)n();else{let T=`${q(V)}?tab=${v}`;L.push(T)}},U=_=>{A(k?.[_]?.id),a?a():L.goBack()};return z.default.createElement("div",{className:me.root},k.map((_,T)=>z.default.createElement(Q,{key:_.id,jitoIsSuccess:p,mevUnstableShowLevel:f,preset:_,isEdit:j,isSelected:_?.id===D,handleClickPreset:()=>{U(T)},currentPresetId:D,tradeScene:E,computedQuoteCompleted:y})),z.default.createElement("div",{className:(0,Pe.default)("flex justify-between",me.btns)},z.default.createElement(c,{className:"flex-1",category:c.CATEGORY.outline,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:Y},d("commonall_filter_btn_edit")),z.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:H},d(v==="buy"?"swaptrade_meme_btn_add_buy_preset":"swaptrade_meme_btn_add_sell_preset"))))}),be=Ae;r();s();var o=x($()),Ie=x(pe()),M=x(re());r();s();var Se=x($());function we({currentPresetList:n,currentPresetId:a}){let[g,m]=(0,Se.useMemo)(()=>{let v=n.map(f=>({...f,isSelected:f.id===a})),E=[],p=[];return v.forEach(f=>{f.id.includes(N)?E.push(f):p.push(f)}),[E,p]},[n,a]);return{defaultList:g,formatList:m}}function Me({defaultList:n,list:a,setCurrentPresetList:g,setCurrentPresetId:m,setPresetPageEditState:v}){return{handleDone:()=>{let p=[...n,...a];g(p),p.findIndex(y=>y.isSelected===!0)===-1&&m(p[0].id),v(!1)}}}r();s();var i={root:"_root_swnpm_1",btns:"_btns_swnpm_4","no-bg":"_no-bg_swnpm_13",noBg:"_no-bg_swnpm_13",wrapper:"_wrapper_swnpm_16","drag-item":"_drag-item_swnpm_19",dragItem:"_drag-item_swnpm_19","custom-drag-item":"_custom-drag-item_swnpm_19",customDragItem:"_custom-drag-item_swnpm_19",item:"_item_swnpm_19","drag-item-active":"_drag-item-active_swnpm_28",dragItemActive:"_drag-item-active_swnpm_28",dragging:"_dragging_swnpm_28","drag-icon":"_drag-icon_swnpm_32",dragIcon:"_drag-icon_swnpm_32","not-drag":"_not-drag_swnpm_36",notDrag:"_not-drag_swnpm_36","icon-padding":"_icon-padding_swnpm_40",iconPadding:"_icon-padding_swnpm_40","preset-padding":"_preset-padding_swnpm_43",presetPadding:"_preset-padding_swnpm_43","icon-wrapper":"_icon-wrapper_swnpm_46",iconWrapper:"_icon-wrapper_swnpm_46","icon-wrapper-hover":"_icon-wrapper-hover_swnpm_51",iconWrapperHover:"_icon-wrapper-hover_swnpm_51"};var je=F(({editClick:n})=>{let{isSm:a}=ue(),{currentPresetList:g,currentPresetId:m,setCurrentPresetId:v,setCurrentPresetList:E}=R(),{setPresetPageEditState:p}=O(),{configStore:f,quoteStore:y}=J(),{currentMode:k,tradeScene:D}=f,{jitoIsSuccess:A,mevUnstableShowLevel:L,computedQuoteCompleted:j}=y,{defaultList:u,formatList:Y}=we({currentPresetList:g,currentPresetId:m}),[P,B]=(0,o.useState)(Y),{setEditPreset:H}=ee(),U=(0,Ie.useHistory)(),{handleDone:_}=Me({defaultList:u,list:P,setCurrentPresetList:E,setCurrentPresetId:v,setPresetPageEditState:p}),[T,G]=(0,o.useState)(!1),[W,X]=(0,o.useState)(!1),de=t=>{let h=P.filter((I,oe)=>oe!==t);B(h)},ke=(t,h)=>{let I=ie.get(se),{isSelected:oe}=t;if(oe&&!I){G(!0);return}de(h)},De=()=>{W&&ie.set(se,"1");let t=P.findIndex(h=>h.isSelected===!0);de(t),G(!1)},le=t=>{let h=g.find(I=>I.id===t)||{};if(H({value:h,isEdit:!0}),n)n();else{let I=`${q(V)}?tab=${k}`;U.push(I)}},Le=t=>{B(t)};(0,o.useEffect)(()=>()=>{p(!1)},[]);let Te=(0,o.useCallback)(()=>{a&&Z.info({title:d("swaptrade_market_placeorder_error_preset_unable_delete")})},[a]);return o.default.createElement("div",{className:i.root},u.map(t=>o.default.createElement("div",{className:(0,M.default)("flex items-center justify-between",i.presetPadding),key:t.id},o.default.createElement(Q,{jitoIsSuccess:A,mevUnstableShowLevel:L,hasShadow:!0,key:t.id,preset:t,isEdit:!0,isSelected:t.id===m,handleDeletePreset:Te,disableDelete:t.id.includes(N),handleEditPreset:()=>le(t.id),currentPresetId:m,tradeScene:D,computedQuoteCompleted:j}),o.default.createElement("div",{className:(0,M.default)("flex items-center justify-center",i.iconWrapper,i.iconPadding)},o.default.createElement(C,{className:(0,M.default)("okds-hamburger flex items-center",i.notDrag),style:{fontSize:24},a11yText:"drag-item"})))),o.default.createElement("div",null,o.default.createElement(ce.Sortable,{restrictToParentElement:!0,onDragEnd:Le,dataSource:P,mobileLongPress:!0,withOverlay:!1,wrapperStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:0,itemClassName:(0,M.default)(i.dragItem,i.customDragItem,i.item),itemDraggingClassName:(0,M.default)(i.dragItemActive,i.dragging),itemWrapperClassName:i.wrapper,renderHandler:({getHandlerRef:t,listeners:h,disabled:I})=>I?o.default.createElement("div",{ref:t}):o.default.createElement("div",{className:(0,M.default)("flex items-center justify-center",i.iconWrapper,i.iconWrapperHover,i.iconPadding)},o.default.createElement(C,{ref:t,...h,className:(0,M.default)("okds-hamburger flex items-center",i.dragIcon),style:{fontSize:24},a11yText:"drag-item"}))},P.map((t,h)=>o.default.createElement(Q,{jitoIsSuccess:A,mevUnstableShowLevel:L,key:t.name+h,preset:t,isEdit:!0,isSelected:t.id===m,handleDeletePreset:()=>ke(t,h),disableDelete:t.id.includes(N),handleEditPreset:()=>le(t.id),currentPresetId:m,tradeScene:D})))),o.default.createElement("div",{className:(0,M.default)("flex justify-between",i.btns)},o.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:_},d("commonall_button_text_done"))),o.default.createElement(Ee,{isChecked:W,setIsChecked:X,onConfirm:De,visible:T,text:d("swaptrade_meme_dialog_desc_preset_delete"),showChecked:!0,confirmText:d("commonall_text_btn_ok_passive")}))}),Ce=je;var ae={DefaultList:be,EditList:Ce};r();s();var ye={root:"_root_45u39_1","no-bg":"_no-bg_45u39_4",noBg:"_no-bg_45u39_4"};var Be=F(({editClick:n,addClick:a,onSelect:g})=>{let{presetPageEditState:m}=O();return te.default.createElement("div",{className:ye.root},m?te.default.createElement(ae.EditList,{editClick:n}):te.default.createElement(ae.DefaultList,{addClick:a,onSelect:g}))}),uo=Be;export{uo as default};
//# sourceMappingURL=Presets-2CUVN4QW.js.map
