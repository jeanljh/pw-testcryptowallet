import{a as Hi,d as Ao,f as Eo}from"./chunk-6PQVK4Y4.js";import{a as Zi}from"./chunk-X2ITVPF5.js";import{b as Ki,e as Oo,j as Xr,o as Yi,p as $i,q as Tt,s as Xi,t as Ji,v as en}from"./chunk-46D3AKOR.js";import{i as Lo}from"./chunk-4NIKWPAL.js";import{a as Z}from"./chunk-B65FDDLM.js";import{a as $r,b as ie,c as ur,d as Qi}from"./chunk-XDPVWBGA.js";import{a as mr,c as je}from"./chunk-OGVTPJRM.js";import{a as qi}from"./chunk-VN6CTHUI.js";import{c as zi}from"./chunk-XSDSRNBQ.js";import{b as we}from"./chunk-ALZVVIHH.js";import{F as Gi,G as Wi,H as wr,I as yr,J as xr,n as Be}from"./chunk-SPXYT2VO.js";import{C as Ui,V as Bt,Z as ji}from"./chunk-7CFB2XTF.js";import{a as Mi}from"./chunk-BADVKNVD.js";import{I as Ye,d as ar,i as To,l as ui,v as _t,y as Fe,z as ft}from"./chunk-UC2GDSBD.js";import{b as Ri,e as Bi}from"./chunk-OE3Y2WW2.js";import{b as Ir,d as ht,f as H,g as De,i as Kr,m as zr,p as Yr,s as Re,t as Ie,v as vo,x as bo,y as Fi}from"./chunk-PI6SXITR.js";import{$ as Gr,Ba as yi,Jb as oe,Kb as Vr,L as gi,Mb as B,Nb as Ci,Oa as Io,Pa as wo,Qa as yo,Qb as Se,Rb as xo,Rc as Di,Sb as vi,Ub as bi,Uc as Ni,Vb as Ai,Vc as Pi,Wb as ko,Xb as Ei,Yb as Oi,Zb as Li,fa as So,fb as xi,ga as st,ia as Sr,ja as hi,ka as Ti,la as Wr,ma as Si,na as Ii,oa as wi,qb as Hr,rb as ki,uc as Co,vd as m,wd as qr}from"./chunk-LZ43QKYM.js";import{a as Vi,c as z}from"./chunk-LLRT7ZCZ.js";import{a as gt}from"./chunk-LH3J3TLH.js";import{B as jr,F as Rt,H as Ee,O as fi,k as lr,m as Ur,n as pe,o as pi,r as ci,t as _i,y as Ze,z as Ft}from"./chunk-XEVJKE53.js";import{A as di,B as go,C as Tr,G as li,L as ho,O as mi,_ as Br,b as ai,c as fo,j as Ae,y as nt}from"./chunk-NLHAZXT3.js";import{a as Mr,s as ze,t as dr,y as Pt}from"./chunk-YP7AL7GO.js";import{a as J}from"./chunk-6N5VE5LT.js";import{a as E}from"./chunk-6YOUVTKE.js";import{f as I,h as _,o as d,q as l}from"./chunk-4J7XGGEQ.js";d();l();var ce=I(E()),Fr=I(J());d();l();var tn=I(E());var rn=({channel:o,onListenData:e,onSubscribeSuccess:t,onListenError:r,onListenReconnected:i})=>{(0,tn.useEffect)(()=>{let n=Hi({isPri:!0,needLogin:!0,subscribeParams:[{channel:o}],onListenData:(s,a)=>{!s||a?.channel===o&&e(s,a)},onSubscribeSuccess:t,onListenError:r,onListenReconnected:i});return()=>{n?.()}},[])};var on=o=>{rn({channel:Ao.DEX_PUSH_ENGINE,...o})},nn=o=>{rn({channel:Ao.DEX_STRATEGY_ORDER,...o})};d();l();var sn=o=>{let{accountStore:e}=Vi();Ui({wallet_address:e.address,page_name:o})};d();l();Br();d();l();async function an(o){return await we.get("/priapi/v1/dx/trade/multi/myTrades",{params:o})}async function id(o){return await we.get("/priapi/v1/dx/trade/multi/buildCancelCallData",{params:o})}d();l();d();l();var dn=o=>o.fromToken?{...o.fromToken,isFromToken:!0}:{chainLogoUrl:o.fromChainLogoUrl,tokenLogoUrl:o.fromIcon,tokenSymbol:o.fromTokenSymbol,chainName:o.fromChainName,chainId:o.fromChainId,tokenContractAddress:o.fromTokenAddress,tokenAmount:o.fromAmount,isFromToken:!0},Do=o=>o.toToken?{...o.toToken,isToToken:!0}:{chainLogoUrl:o.toChainLogoUrl,tokenLogoUrl:o.toIcon,tokenSymbol:o.toTokenSymbol,chainName:o.toChainName,chainId:o.toChainId,tokenContractAddress:o.toTokenAddress,tokenAmount:o.toAmount,isToToken:!0},ln=o=>Number(o.exchangeDirection)===0?Do(o):Number(o.exchangeDirection)===1?dn(o):o.fromToken?.tokenIsCurrency&&!o.toToken?.tokenIsCurrency||o.fromTokenIsCurrency&&!o.toTokenIsCurrency?Do(o):!o.fromToken?.tokenIsCurrency&&o.toToken?.tokenIsCurrency||!o.fromTokenIsCurrency&&o.toTokenIsCurrency?dn(o):Do(o);d();l();d();l();var gd=[0,2,3,4];var yd={["all"]:null,["market"]:[1],["limit"]:[6],["tp_sl"]:[201,202]};var mn={["swaptrade_tee_tag_cancelling"]:4,["swaptrade_history_cell_tag_processing"]:5,["swaptrade_tee_tag_cancelled"]:2,["swaptrade_tee_tag_completed"]:1,["swaptrade_tee_tag_failed"]:3,["swaptrade_bridge_cell_tag_ready_to_claim"]:6,["swaptrade_bridge_header_claiming"]:7};var un={["swaptrade_tee_tag_failed"]:-1,["swaptrade_tee_tag_completed"]:1};d();l();var kr={Failed:"-1",Waiting:"1",Pending:"2",Succeed:"3"},Mt={ESTIMATE:1,EXCEED_ESTIMATE:2,UNTIMED:3,TIMEOUT:4},pn={FromIsBtcChain:1,FromIsNotBtcChain:2,FromIsEthChainFacetCoin:3},ne={SINGLE_TIPS:1,GAS:2,BRIDGE:3,BLOCK_FROM:4,BLOCK_BRIDGE:5,BLOCK_TO:6},$e={SINGLE:1,CROSS_FROM_SWAP:2,CROSS_BRIDGE_SWAP:3,CROSS_TO_SWAP:4};d();l();var Jr={SUCCESS:"success",FAIL:"fail",REJECT:"reject",TXHASH:"txhash",APPROVE:"approve",CONNECT:"connect",APP_STATUS:"appStatus",CLOSE:"close"},Gs=Object.values(Jr),Po=class{constructor(){_(this,"toast",!0);_(this,"setToast",e=>{this.toast=e});_(this,"chainList",[]);_(this,"setChainList",e=>{this.chainList=e});_(this,"quote",{});_(this,"updateQuote",e=>{this.quote={...this.quote,...e}});_(this,"portal","");_(this,"setPortal",e=>{this.portal=e||""});_(this,"swapParams",{});_(this,"setSwapParams",({fromAmount:e,...t})=>{this.swapParams={...t,fromAmount:Kr(e)?e:"1"}});_(this,"status","");_(this,"reset",()=>{this.to={},this.from={},this.events={},this.swapParams={}});_(this,"on",(e,t)=>{if(!Gs.includes(e))return new Error("Not support event!!");if(typeof t!="function")return{};this.events[e]||(this.events[e]=[]);let r=`${e}${this.events[e].length}`;return this.events[e].push({cb:t,eventId:r}),{eventId:r,remove:()=>{this.remove(e,r)}}});_(this,"emit",(e,...t)=>{let r=this.events[e];r&&r.length&&r.forEach(i=>{let{cb:n}=i;n&&n.apply(this,t)})});_(this,"remove",(e,t="")=>{let r=this.events[e];r&&t&&r.forEach((i,n)=>{i.eventId===t&&r.splice(n,1)})});_(this,"removeAll",()=>{this.events={}});this.events={}}static init(e){return this.instance||(this.instance=new Po(e)),this.instance}},Qr=Po;_(Qr,"instance",null);var Ws=new Qr,No=Ws;d();l();var St=({fromAmount:o,fromSymbol:e,equal:t="=",toAmount:r,toSymbol:i,leftNumber:n=void 0,rightNumber:s=void 0})=>Ze.formatRange({leftNumber:n??Ze.formatCurrency(o,{code:e,isSymbol:!1}),sign:` ${t} `,rightNumber:s??Ze.formatCurrency(r,{code:i,isSymbol:!1})}),It=({fromAmount:o,fromSymbol:e,equal:t="=",toAmount:r,toSymbol:i,leftNumber:n=void 0,rightNumber:s=void 0})=>Ze.formatRange({leftNumber:n??Ze.formatCurrency(o,{code:ie(e),isSymbol:!1}),sign:` ${t} `,rightNumber:s??Ze.formatCurrency(r,{code:ie(i),isSymbol:!1})}),Cr=({amount:o,symbol:e,extra:t})=>t?`${o} ${e} ${t}`:`${o} ${e}`,et=(o,e)=>_i.isRTL?`${e}${o}`:`${o}${e}`;d();l();var Hs=(o,e=0,t=0)=>!o||typeof o!="string"?oe:o.length<=e+t||e===0||t===0?o:`${o.slice(0,e)}...${o.slice(-t)}`,pr=o=>Hs(o,6,4);d();l();d();l();var at=I(E());function Ut({type:o,title:e,exploreUrl:t,onURLClick:r,showClose:i,desc:n,id:s}){let a=s?`notification-${s}`:void 0,u=t?at.default.createElement(je,{className:"color-959dad",href:t,onClick:r},at.default.createElement("div",{className:"inline-flex align-items-center"},at.default.createElement("div",{className:"font-12 color-0569ff font-bold"},m("swaptrade_toast_anchor_view_in_explorer")),at.default.createElement(Z,{className:"okx-defi-dex-link color-0569ff",size:20}))):void 0,p=3;o==="success"?Fe.success({title:e,desc:n||u,duration:p,placement:Fe.DIRECTION.top,id:a,enableLottie:!0}):o==="failed"?Fe.error({title:e,desc:n||u,duration:p,placement:Fe.DIRECTION.top,id:a,enableLottie:!0}):o==="info"?Fe.info({title:e,desc:n||u,duration:p,showClose:i,placement:Fe.DIRECTION.top}):o==="expired"?Fe.info({title:e,desc:n||u,duration:p,icon:"okds-clock",placement:Fe.DIRECTION.top}):o==="warn"?Fe.warn({title:e,desc:n||u,duration:p,showClose:i,placement:Fe.DIRECTION.top}):o==="pending"&&Fe.pending({title:e,desc:n||u,showClose:i,duration:p,placement:Fe.DIRECTION.top,id:a,enableLottie:{speed:3}})}function wt({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null,orderId:i}){Ut({type:"success",title:o,exploreUrl:e,onURLClick:t,desc:r,id:i})}function cr({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null,orderId:i}){Ut({type:"failed",title:o,exploreUrl:e,onURLClick:t,desc:r,id:i})}function Fo({title:o,exploreUrl:e="",onURLClick:t=()=>{},showClose:r=!0,desc:i=null}){Ut({type:"info",title:o,exploreUrl:e,onURLClick:t,showClose:r,desc:i})}function cn({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null}){Ut({type:"expired",title:o,exploreUrl:e,onURLClick:t,desc:r})}function _n({title:o,exploreUrl:e="",onURLClick:t=()=>{},showClose:r=!0,desc:i=null}){Ut({type:"warn",title:o,exploreUrl:e,onURLClick:t,showClose:r,desc:i})}function fn(o,e){let t=()=>{zi(),e.onClaim(o)},r=m("swaptrade_bridge_alert_title_ready_to_claim"),i=at.default.createElement(at.default.Fragment,null,at.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},m("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:o.toChainName,token:o.toTokenSymbol})),at.default.createElement(ar,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},size:Pt.SIZE.xs,onClick:t},m("commonall_modal_btn_claim")));Ut({type:"success",title:r,desc:i})}function gn({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null,orderId:i}){Ut({type:"pending",title:o,exploreUrl:e,onURLClick:t,desc:r,id:i})}function Tn(o){let e=[];if(o){let{status:r,orderId:i,fromChildOrderDetailVO:n,failureReason:s}=o,{fromAmount:a,fromTokenSymbol:u,toAmount:p,toTokenSymbol:g,failureReason:f,exploreUrl:x}=n||{},k=`${i}_${r}`;if(e.includes(k))return;let y=()=>{e.unshift(k),e=e.slice(0,20)};r===Se.OPEN?(y(),Fo({title:m("swaptrade_orders_notif_limitorder_submitted",{sellValue:De(a,{needBillionMillionUnit:!0}),sellToken:ie(u),receiveValue:Re(p),receiveToken:ie(g)})})):r===Se.SUCCEED?(y(),wt({title:m("swaptrade_orders_notif_limitorder_success",{sellValue:De(a,{needBillionMillionUnit:!0}),sellToken:u,receiveValue:Re(p),receiveToken:g}),exploreUrl:x})):r===Se.FAILED&&s?(y(),cr({title:m("swaptrade_orders_notif_limitorder_failed",{sellValue:De(a,{needBillionMillionUnit:!0}),sellToken:ie(u),receiveValue:Re(p),receiveToken:ie(g)})})):r===Se.FAILED&&f?(y(),cr({title:m("swaptrade_orders_notif_limitorder_failed",{sellValue:De(a,{needBillionMillionUnit:!0}),sellToken:ie(u),receiveValue:Re(p),receiveToken:ie(g)}),exploreUrl:x})):r===Se.CANCELLED?(Fo({title:m("swaptrade_orders_notif_limitorder_canceled",{sellValue:De(a,{needBillionMillionUnit:!0}),sellToken:ie(u),receiveValue:Re(p),receiveToken:ie(g)})}),y()):r===Se.EXPIRED&&(cn({title:m("swaptrade_orders_notif_limitorder_expired",{sellValue:De(a,{needBillionMillionUnit:!0}),sellToken:ie(u),receiveValue:Re(p),receiveToken:ie(g)}),exploreUrl:x}),y())}}d();l();var _r=class{constructor(e){_(this,"orderId","--");_(this,"chainId","--");_(this,"defiPlatformInfo","--");_(this,"fromAmount","--");_(this,"fromTokenSymbol","--");_(this,"price","--");_(this,"status","--");_(this,"time","--");_(this,"toAmount","--");_(this,"toTokenSymbol","--");_(this,"userWalletAddress","--");_(this,"exploreUrl","--");_(this,"isExchanged",!1);_(this,"swapType","--");_(this,"toChainId","--");Ur(this),Object.assign(this,e)}get computedFromAmount(){return`${De(this.fromAmount,{needPlaceholder:!0,needBillionMillionUnit:!0})}`}get computedToAmount(){return H(this.toAmount)}get computedToNetWorkPath(){let{fromChainName:e,toChainName:t}=this;return e===t?t:`${e} ${m("swaptrade_order_info_label_network_to")} ${t}`}updateFromJson(e){Object.assign(this,e)}toJSON(){return lr(this)}};var{BigNumber:Ro}=gt,Vs=20,Zr=[],c={Pending:"0",Quick:"5",Failed:"-1",Succeed:"1",Waiting:"100",SpeedingUp:"-4",Canceling:"-3",Canceled:"-2",PendingWithdrawn:"10",PendingCanRedeem:"11",PendingRedeeming:"12",ReadyToClaim:"200",Claiming:"201",ClaimFailed:"202"},ye={EXPIRED:-7,CANCELLING:-3,CANCELLED:-2,FAILED:-1,TRADING:0,COMPLETED:1,CREATING:2,ACTIVE:3,SUSPENDED:4},{Pending:qs,SpeedingUp:Ks,Canceling:zs,PendingWithdrawn:Ys,PendingCanRedeem:$s,PendingRedeeming:Xs,ReadyToClaim:Qs,Claiming:Js,ClaimFailed:Zs}=c,ea=[qs,Ks,zs,Ys,$s,Xs,Qs,Js,Zs],w={SingleChain:"1",CrossBridge:"2",CrossChain:"3",FromBridge:"3-1",BridgeTo:"3-2",FromBridgeTo:"3-3",GasStation:"4",GasStationCross:"5",LimitOrder:"6",MemeMode:"7"},xt={TEE_SA_MARKET:1,TEE_SA_LIMIT_ORDER:6,TEE_SA_TP_ORDER:201,TEE_SA_SL_ORDER:202},eo={COMMON:1,BUY_DIP:2,TAKE_PROFIT:3,STOP_LOSS:4,CHASE_HIGH:5},ta={[eo.BUY_DIP]:"swaptrade_tee_tag_buy_below",[eo.TAKE_PROFIT]:"swaptrade_tee_tag_take_profit",[eo.STOP_LOSS]:"swaptrade_tee_tag_stop_loss",[eo.CHASE_HIGH]:"swaptrade_tee_tag_buy_above"},ra=o=>ta[o]||"";var Me={from:1,bridge:2,fromSwapTimeout:3},oa={FAIL:"-1",NO_SELECTED:"0",WAITING_FOR_FINAL:"1",WAITING_FOR_TRANSFER:"2",TRANSFER_SUCCEED:"3"},{NO_SELECTED:ia,TRANSFER_SUCCEED:Sn}=oa,fr=10,In={curPageNum:1,pageSize:fr,total:0,lastCreateTime:null,cursor:null},na={[w.SingleChain]:"swaptrade_order_swap_trade_type_swap",[w.CrossBridge]:"swaptrade_order_swap_trade_type_bridge",[w.CrossChain]:"swaptrade_order_swap_trade_type_cross_chain",[w.GasStation]:"swaptrade_dialog_tab_gasstation",[w.GasStationCross]:"swaptrade_dialog_tab_gasstation",[w.LimitOrder]:"swaptrade_dialog_tab_gasstation",[w.MemeMode]:"swaptrade_order_swap_trade_type_swap"},sa={[xt.TEE_SA_LIMIT_ORDER]:(o,e)=>o?"swaptrade_tee_tab_label_limit_price":e?"swaptrade_tee_tab_label_limit_rate":"",[xt.TEE_SA_MARKET]:"swaptrade_tee_tab_label_market",[xt.TEE_SA_TP_ORDER]:"swaptrade_tee_tab_label_take_profit",[xt.TEE_SA_SL_ORDER]:"swaptrade_tee_tab_label_stop_loss"},wn=(o,e,t)=>o===xt.TEE_SA_LIMIT_ORDER?e?"swaptrade_tee_tab_label_limit_price":t?"swaptrade_tee_tab_label_limit_rate":"swaptrade_orders_text_limit_order":sa[o];function yt({childOrderId:o,status:e,exploreUrl:t,orderFailReason:r,toastGuideUrl:i,fromTokenIcon:n,fromChainLogoUrl:s,fromAmountIn:a,fromTokenSymbol:u,fromChainName:p,toTokenIcon:g,toChainLogoUrl:f,toAmountOut:x,toTokenSymbol:k,toChainName:y,originalTokenSymbol:v,refundAmount:C,refundSymbol:O,refundChain:L,errorCode:b,guideUrl:D},F,P={}){let R=F==="from",W=R?a:x,Y=C?H(C,{needPlaceholder:!0}):"",K=R?De(a):H(x,{needBillionMillionUnit:!1});P?.useCurrencyInputFormat&&(K=De(W));let me=P?.isMemeModeOrder&&P?.assetDelay&&e===c.Succeed?"999999":b;return{key:`${o}${F}`,status:e,exploreUrl:t,orderFailReason:r,toastGuideUrl:i,originalTokenSymbol:v,fromChainName:p,fromTokenSymbol:u,toChainName:y,chainName:R?p:y,chainLogo:R?s:f,symbol:R?u:k,symbolLogo:R?n:g,amount:W==="-1"?"":K,errorCode:me,guideUrl:D,refund:{amount:Y,symbol:O,chain:L},...P}}var aa={[ye.CANCELLED]:c.Canceled,[ye.COMPLETED]:c.Succeed,[ye.FAILED]:c.Failed,[ye.TRADING]:c.Pending,[ye.CREATING]:c.Pending,[ye.ACTIVE]:c.Pending,[ye.SUSPENDED]:c.Pending,[ye.EXPIRED]:c.Failed,[ye.CANCELLING]:c.Canceling},da=o=>o.map(e=>ai(e)?{...e,time:e.tradeTime,fromIcon:Ae(e,"fromToken.tokenLogoUrl"),toIcon:Ae(e,"toToken.tokenLogoUrl"),fromTokenSymbol:Ae(e,"fromToken.tokenSymbol"),toTokenSymbol:Ae(e,"toToken.tokenSymbol"),fromAmount:Ae(e,"fromToken.tokenAmount"),toAmount:Ae(e,"toToken.tokenAmount"),fromChainName:e.chainName,toChainName:e.chainName,status:aa[e.status]}:e),Bo=class{constructor(e){_(this,"detail",{data:null,loading:!1,error:!1});_(this,"history",{list:[],loading:!1,loadMore:!1,hasMore:!1,error:null,pageInfo:{...In},chainId:-1,status:null});_(this,"limitHistory",{...this.history});_(this,"limitDetail",{...this.detail});_(this,"pendingOrders",[]);_(this,"modal",{orderId:"",visible:!1,defaultOrderId:""});_(this,"expireTime",0);_(this,"fromStepCountDownTimeGroup",{estimatedTime:0,estimatedTimeTotal:0});_(this,"bridgeStepCountDownTimeGroup",{estimatedTime:0,originEstimatedTime:0});_(this,"timeoutTimestamp",0);_(this,"timer",null);_(this,"timeOutTimer",null);_(this,"detailShowSource","");_(this,"showModal",(e,{tab:t="",isLimit:r,isBridge:i,orderData:n,strategyMode:s,orderType:a}={})=>{let u=typeof e=="string"?e:"";if(this.modal={visible:!0,orderId:u,defaultOrderId:u,isLimit:r,isBridge:i,orderData:n,strategyMode:s,orderType:a},t){this.setHistoryTab(t);return}let p=Ci?.[this.commonStore?.currentTab]??B.SWAP;this.setHistoryTab(p)});_(this,"updateModal",(e,{orderType:t=void 0,strategyMode:r=void 0,orderData:i=void 0,isLimit:n=void 0,isBridge:s=void 0}={})=>{this.modal.orderId=typeof e=="string"?e:"",this.modal.orderType=t,this.modal.strategyMode=r,this.modal.orderData=i,this.modal.isLimit=n,this.modal.isBridge=s});_(this,"closeModal",()=>{this.modal.visible=!1,this.setDetailShowSource()});_(this,"setDetailShowSource",(e="")=>{this.detailShowSource=e});_(this,"setDetail",e=>{this.detail={...this.detail,...e}});_(this,"setLimitDetail",e=>{this.limitDetail={...this.limitDetail,...e}});_(this,"getStepCountDownTimeGroup",({estimatedTime:e,originEstimatedTime:t,expireTime:r,extraEstimatedTime:i,extraOriginEstimatedTime:n})=>{let s=Math.min(e,r),a=t||e;return this.computedMainOrderType===w.BridgeTo&&(s=e+Math.min(i,r),a+=n),{estimatedTime:s,estimatedTimeTotal:a}});_(this,"setSwapExpireTime",e=>{let t=!this.computedCurrentHistoryTabIsLimit&&Number(e.estimatedTime),r=Number(e.fromEstimatedTime)||0,i=Number(e.bridgeEstimatedTime)||0,n=Number(e.originFromEstimatedTime)||0,s=Number(e.originBridgeEstimatedTime)||0;this.fromStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:t,estimatedTime:r,originEstimatedTime:n}),this.bridgeStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:t,estimatedTime:i,originEstimatedTime:s,extraEstimatedTime:r,extraOriginEstimatedTime:n}),this.expireTime=t,this.expireTime>0&&(this.timer=setInterval(()=>{let a=this.computedStepStatus.bridgeStatus,u=this.computedStepStatus.fromSwapStatus,p=this.detail?.data?.status===c.Canceling,g=f=>f===c.SpeedingUp||f===c.Pending;this.expireTime<1?(clearInterval(this.timer),this.bridgeStepCountDownTimeGroup.estimatedTime=0,this.fromStepCountDownTimeGroup.estimatedTime=0):(this.expireTime-=1,this.fromStepCountDownTimeGroup.estimatedTime>0&&g(u)&&!p&&(this.fromStepCountDownTimeGroup.estimatedTime-=1),this.bridgeStepCountDownTimeGroup.estimatedTime>0&&g(a)&&!p&&(this.bridgeStepCountDownTimeGroup.estimatedTime-=1))},1e3))});_(this,"setSwapTimeout",e=>{this.timeOutTimer&&clearInterval(this.timeOutTimer),this.timeoutTimestamp=Date.now()>e?0:e||0,this.timeoutTimestamp>0&&(this.timeOutTimer=setInterval(()=>{Date.now()>this.timeoutTimestamp&&(this.timeoutTimestamp=0,clearInterval(this.timeOutTimer))},1e3))});_(this,"removePendingOrder",e=>{let t=this.pendingOrders,r=t.findIndex(({orderId:n})=>n===e);r>-1&&t.splice(r,1),this.setPendingOrders([...t])});_(this,"updateDetailByData",e=>{let t=this.detail.data,r=i=>i&&{...i,fromAmountIn:i?.fromAmount,toAmountOut:i?.toAmount};if(t&&e&&e.orderId===t.orderId){let{fromChildOrder:i,bridgeChildOrder:n,toChildOrder:s}=e;this.setDetail({data:li(t,{...e,fromChildOrderDetailVo:r(i),bridgeChildOrderDetailVo:r(n),toChildOrderDetailVo:r(s)})})}});_(this,"fetchSwapHistoryList",async e=>{let{pageNum:t,...r}=e||{},n=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[s,a]=await Ee(an({...r,pageSize:fr,accountId:this.accountStore.computedAccountId,...n}));if(s)return Promise.reject(s);let{dataList:u=[],cursor:p,hasNext:g}=a?.data||{};return{dataList:da(u),pageSize:fr,cursor:p,hasMore:g}});_(this,"fetchBridgeHistoryList",async e=>{let{pageNum:t,chainId:r,...i}=e||{},s=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[a,u]=await Ee(we.get(Li,{params:{...i,fromChainId:r,pageSize:fr,accountId:this.accountStore.computedAccountId,...s}}));if(a)return Promise.reject(a);let{dataList:p=[]}=u?.data||{};return{dataList:p,pageSize:fr,lastCreateTime:p.length?p[p.length-1].time:null,hasMore:p.length===fr}});_(this,"fetchLimitHistoryList",async(e={})=>{let t={...e,pageSize:this.limitHistory.pageInfo.pageSize,accountId:this.accountStore.computedAccountId,statusType:xo.ALL};e.pageNum||(t.pageNum=1);let[r,i]=await Ee(we.get(ko,{params:t}));return r?Promise.reject(r):i?.data||{}});_(this,"fetchHistoryFn",{[B.SWAP]:this.fetchSwapHistoryList,[B.BRIDGE]:this.fetchBridgeHistoryList,[B.LIMIT_ORDER]:this.fetchLimitHistoryList});_(this,"fetchHistory",async(e={},t=!1)=>{if(!this.historyTab)return;let r=this.accountStore.computedAccountWalletAddressesArray,i=this.fetchHistoryFn[this.historyTab];if(this.computedIsLimitOrSwapLabel.loading||this.computedIsLimitOrSwapLabel.loadMore||nt(r)||!i)return;this.computedIsLimitOrSwapLabel.chainId!==-1&&Object.assign(e,{chainId:this.computedIsLimitOrSwapLabel.chainId}),this.computedStatusFilterValue&&Object.assign(e,{status:this.computedStatusFilterValue}),this.setSwapOrLimitHistory(t?{loadMore:!0}:{loading:!0});let[n,s]=await Ee(i(e));if(this.setSwapOrLimitHistory(t?{loadMore:!1}:{loading:!1}),n){this.setSwapOrLimitHistory({error:n});return}this.setSucResult(s,t)});_(this,"setSucResult",(e,t)=>{let{dataList:r,pageSize:i,totalCount:n,curPageNum:s,maxPageNum:a,lastCreateTime:u,hasMore:p,cursor:g}=e,f=t?this.computedIsLimitOrSwapLabel.list.concat(r):r;this.setSwapOrLimitHistory({list:f,pageInfo:{...this.computedIsLimitOrSwapLabel.pageInfo,total:n,pageSize:i,curPageNum:s,lastCreateTime:u,cursor:g},error:null,hasMore:p??a>s})});_(this,"updateSwapAndLimitDataList",e=>{this.computedIsLimitOrSwapLabel.list.forEach((t,r)=>{String(t?.orderId)===String(e?.orderId)&&(this.computedIsLimitOrSwapLabel.list[r]={...t,...e})})});_(this,"setChainId",async e=>{this.resetHistoryList(),this.setSwapOrLimitHistory({chainId:e}),await this.fetchHistory()});_(this,"setStatus",async e=>{this.resetHistoryList(),this.setSwapOrLimitHistory({status:e}),await this.fetchHistory()});_(this,"resetHistoryList",()=>{this.setSwapOrLimitHistory({pageInfo:{...In},list:[],error:null,loading:!1,loadMore:!1,hasMore:!1,chainId:-1,status:null})});_(this,"getLocalPriceFee",(e,t,r=!0)=>{let{symbol:i,usdToThisRate:n}=this.commonStore.nowCurrencyUnit||{};if(e&&t&&n){let s=gt.mul(gt.mul(e,t),n);return r?`(${ht(s,i)})`:ht(s,i)}return""});_(this,"getServiceFeeInfo",e=>{let{currencyConversionWithSymbol:t}=this.commonStore,{serviceFee:r,serviceFeeUsd:i,serviceFeeTokenSymbol:n,isDisplayServiceFee:s,isDisplayUsdFee:a,discountedServiceFeeRate:u}=ho(e,"serviceFee","serviceFeeUsd","serviceFeeTokenSymbol","isDisplayServiceFee","isDisplayUsdFee","discountedServiceFeeRate"),p=Oo({serviceFee:r,serviceFeeUsd:i,tokenSymbol:n,formatServiceFeeUsd:t,discountedServiceFeeRate:u,isDisplayUsdFee:a}),g=String(s)==="1";return{formattedServiceFee:p,shouldDisplayServiceFee:g}});_(this,"getBridgeFeeInfo",e=>{let{currencyConversionWithSymbol:t}=this.commonStore,{toSwapServiceFee:r,toSwapServiceFeeUsd:i,toSwapServiceFeeTokenSymbol:n}=ho(e,"toSwapServiceFee","toSwapServiceFeeUsd","toSwapServiceFeeTokenSymbol"),s=Oo({serviceFee:r,serviceFeeUsd:i,tokenSymbol:n,formatServiceFeeUsd:t}),a=Ki(e);return{formattedServiceFee:s,shouldDisplayServiceFee:a}});_(this,"getDexGasStationFeeDetailTip",(e,t)=>{if(!this.computedIsGasStation||t!==c.Succeed||!e)return"";let{approveTokenAmount:r,gasTokenPriceUSD:i,gasTokenSymbol:n,swapGasFeeAmount:s,transferApproveTokenGasFeeAmount:a}=e||{};return m("swaptrade_swapforgas_tooltips_desc_gasswap_netfee",{value1:this.getLocalPriceFee(r,i,!1),approveFee:H(r),token1:n,value2:this.getLocalPriceFee(a,i,!1),transferFee:H(a),token2:n,value3:this.getLocalPriceFee(s,i,!1),swapFee:H(s),token3:n})});_(this,"checkSwapAgainBtn",({isOrderFinalized:e,isNotGasStationTrade:t,isMemeModeOrder:r})=>{if(Be()||Lo())return!1;let i=t&&e;return r?i&&st():i});_(this,"emitOrder",e=>{if(e){let{status:t,orderId:r,strategyMode:i,orderType:n}=e;t===c.Succeed||t===Se.SUCCEED?No.emit(Jr.SUCCESS,{status:0,data:lr(e),message:Rt("transaction success")}):(t===c.Failed||t===Se.FAILED)&&No.emit(Jr.FAIL,{data:{orderId:r,strategyMode:i,orderType:n},status:-1,message:Rt("transaction fail")})}});_(this,"onSocket",(e,t=!0)=>{(e?.type==="1"||e?.type==="3")&&e?.dexData&&e.dexData.type!=="approve"&&e.dexData.type!=="register"&&(this.updateSwapAndLimitDataList(e.dexData),this.updateSwapDetail(e.dexData),this.updateLimitOuterOrderList(e.dexData),this.updatePendingOrdersByData(e.dexData),this.emitOrder(e.dexData),this.toastSwapAndLimitOrder(t,e.dexData)),e?.type==="5"&&e?.dexData&&e.dexData.type!=="approve"&&e.dexData.type!=="register"&&t&&this.quickToastSwapOrder(e.dexData)});_(this,"onLimitDetailSocket",e=>{this.updateLimitDetailByData(e)});_(this,"updateSwapDetail",e=>{e.swapTradeType!==w.LimitOrder&&this.updateDetailByData(e)});_(this,"updateLimitOuterOrderList",e=>{this.commonStore?.computedCurrentTabIsLimit&&this.rootStore.limitOrderListStore.updateLimitOuterListData(e)});_(this,"toastSwapAndLimitOrder",(e,t)=>{e&&!this.commonStore?.computedCurrentTabIsLimit?this.toastOrder(t):e&&this.commonStore?.computedCurrentTabIsLimit&&Tn(t)});_(this,"quickToastSwapOrder",({status:e,receiveTokenStatus:t,transactionHash:r,orderId:i})=>{let n=t!==Sn;if(e===c.Succeed&&n){if(wr(r),yr(r))return;xr(r);let s=Wi.getDuration(i),a=s?qr("swaptrade_toast_msg_transaction_success_time",{time:React.createElement(Gi,{duration:s})}):m("swaptrade_meme_broadcast_toast_trade_successful");wt({title:a,orderId:i})}});_(this,"onSocketError",async()=>{let{computedAccountId:e}=this.accountStore,{visible:t,orderId:r,strategyMode:i,isLimit:n,orderType:s}=this.modal;if(!t){let[a]=await Ee(this.updatePendingOrders(e));a&&ci.error("history detail onSocketError",{error:a})}t&&r&&await Ee(this.updateDetail({orderId:r,strategyMode:i,silent:!0,isLimit:n,orderType:s}))});_(this,"historyTab","");_(this,"setHistoryTab",e=>{this.historyTab=e});_(this,"dialogVisible",!1);_(this,"setDialogVisible",e=>{this.dialogVisible=e});_(this,"dialogOrderId","");_(this,"setDialogOrderId",e=>{this.dialogOrderId=e});_(this,"openDialog",e=>{e&&(this.setDialogVisible(!0),this.setDialogOrderId(e))});_(this,"closeDialog",()=>{this.setDialogVisible(!1),this.setDialogOrderId("")});_(this,"setDefaultOrderId",e=>{this.modal.defaultOrderId=e});Ur(this,{},{autoBind:!0}),this.rootStore=e,this.commonStore=e.commonStore,this.accountStore=e.accountStore,this.fromToStore=e.fromToStore,this.tokenModalStore=e.tokenModalStore}get computedHistoryList(){return this.history.list.map(e=>new _r(lr(e)))}get computedLimitHistoryList(){return this.limitHistory.list.map(e=>new _r(lr(e)))}get computedTimeGroup(){let e=this.computedCurrentHistoryTabIsLimit?this.computedLimitHistoryList:this.computedHistoryList,t=this.computedCurrentHistoryTabIsLimit?"createTime":"time";return e.reduce((r,i)=>{let n=r.find(s=>s.time===Ft(i?.[t],{format:"yyyyMMdd"}));return n?n.list.push(i):r.push({time:Ft(i?.[t],{format:"yyyyMMdd"}),list:[i]}),r},[])}get noData(){return this.computedCurrentHistoryTabIsLimit?!this.computedLimitHistoryList.length:!this.computedHistoryList.length}setHistory(e){this.history={...this.history,...e}}setLimitHistory(e){this.limitHistory={...this.limitHistory,...e}}setPendingOrders(e){this.pendingOrders=e}fetchSwapOrderDetail({orderId:e}){return we.get(bi,{params:{orderId:e}}).then(({data:t})=>t)}fetchLimitOrderSimpleInfo({orderId:e,strategyMode:t,orderType:r,initialLimitDetail:i}){return we.get(Oi,{params:{orderId:e,strategyMode:t,orderType:r}}).then(({data:n})=>{let s={...i};return["approveMethod","executionHistoryList","transactionType","providerInfo","executionHistoryShowMaxNum","routeSelection"].forEach(a=>{n[a]&&(s[a]=n[a])}),s})}fetchLimitOrderDetail({orderId:e,strategyMode:t,orderType:r}){return we.get(Ei,{params:{orderId:e,strategyMode:t,orderType:r}}).then(({data:i})=>i)}fetchDetail({orderId:e,strategyMode:t,isLimit:r,orderType:i,initialLimitDetail:n}){if(r??this.computedCurrentHistoryTabIsLimit){let s={orderId:e,strategyMode:t,orderType:i};return n?this.fetchLimitOrderSimpleInfo({...s,initialLimitDetail:n}):this.fetchLimitOrderDetail(s)}return this.fetchSwapOrderDetail({orderId:e})}fetchPendingOrders(e){let r=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{};return we.post(Ai,{accountId:e,...r}).then(({data:i})=>i)}async updatePendingOrders(e){if(pi())return;let t;if(this.commonStore?.computedCurrentTabIsLimit){let[,r]=await Ee(we.get(ko,{params:{accountId:this.accountStore.computedAccountId,chainId:"",pageNum:1,pageSize:10,statusType:xo.PENDING}}));t=r?.data?.dataList}else{let[,r]=await Ee(this.fetchPendingOrders(e));t=r}Array.isArray(t)?this.setPendingOrders(t):this.setPendingOrders([])}updatePendingOrdersByData(e){if(!e)return;let t=this.pendingOrders,r=t.findIndex(({orderId:s})=>s===e.orderId),i=r>-1,n=e.swapTradeType===w.LimitOrder?e.status===Se.PENDING:ea.includes(e.status);n?(i&&t.splice(r,1),t.push(e)):!n&&i&&t.splice(r,1),this.setPendingOrders([...t])}async updateDetail({orderId:e,silent:t,strategyMode:r,isLimit:i,orderType:n,initialLimitDetail:s}){t||this.setLimitOrSwapDetail({data:null,loading:!0,error:!1},i);let[a,u]=await Ee(this.fetchDetail({orderId:e,strategyMode:r,isLimit:i,orderType:n,initialLimitDetail:s}));clearInterval(this.timer),a?this.setLimitOrSwapDetail({data:null,error:!0},i):u?(this.setLimitOrSwapDetail({data:u,error:!1},i),this.setSwapExpireTime(u),this.setSwapTimeout(Number(u.timeoutTimestamp))):this.setLimitOrSwapDetail({data:null,error:!1},i),this.setLimitOrSwapDetail({loading:!1},i)}setLimitOrSwapDetail(e,t){t??this.computedCurrentHistoryTabIsLimit?this.setLimitDetail(e):this.setDetail(e)}updateLimitDetailByData(e){let t=this.limitDetail.data;if(Tr(e)||nt(e)||!e?.orderId||t?.orderId!==e.orderId)return;let r={...t};if(Tr(e.orderType)||(r.orderType=e.orderType),Tr(e.userWalletAddress)||(r.userWalletAddress=e.userWalletAddress),Tr(e.status)||(r.status=e.status),!e.extraInfo){this.setLimitDetail({data:r});return}if(e.extraInfo.type==="7"&&e.extraInfo.args){let{toTokenPrice:i,toTokenAmount:n}=e.extraInfo.args;r.toToken={...e.toToken,tokenAmount:n,tokenUsd:i},this.setLimitDetail({data:r});return}if(e.extraInfo.type==="3"&&e.extraInfo.args){let{failCode:i}=e.extraInfo.args;r.failCode=i,this.setLimitDetail({data:r})}}get computedStatusFilterValue(){return this.historyTab===B.SWAP?un[this.computedIsLimitOrSwapLabel.status]:mn[this.computedIsLimitOrSwapLabel.status]}get computedIsLimitOrSwapLabel(){return this.computedCurrentHistoryTabIsLimit?this.limitHistory:this.history}setSwapOrLimitHistory(e){this.computedCurrentHistoryTabIsLimit?this.setLimitHistory(e):this.setHistory(e)}get computedIsSingleChain(){return[w.SingleChain,w.GasStation,w.MemeMode].includes(Ae(this,"detail.data.swapTradeType",""))}get computedIsGasStation(){return[w.GasStation,w.GasStationCross].includes(Ae(this,"detail.data.swapTradeType",""))}get computedMainOrderType(){let e=this.detail.data,t="";if(!e)return t;let{swapTradeType:r,hiddenFromOrder:i,toChildOrderDetailVo:n}=e;return r!==w.CrossChain?t=r:i==="1"?t=w.BridgeTo:n?t=w.FromBridgeTo:t=w.FromBridge,t}get computedStepStatus(){let e=this.detail.data,t=i=>i?[c.Waiting,c.Pending].includes(i)?c.Pending:i:"",r=this.computedMainOrderType===w.BridgeTo?t(e?.bridgeChildOrderDetailVo?.status||""):e?.bridgeChildOrderDetailVo?.status||"";return[w.BridgeTo,w.CrossBridge].includes(this.computedMainOrderType)&&[c.Failed,c.Canceled].includes(e?.status)&&(r=e?.status),{fromSwapStatus:t(e?.fromChildOrderDetailVo?.status||""),bridgeStatus:r,toSwapStatus:e?.toChildOrderDetailVo?.status||""}}get computedRatio(){let e=this.detail?.data;if(!e)return{fromRatio:0,bridgeRatio:0};let{status:t}=e,r=this.computedStepStatus.bridgeStatus,i=this.computedStepStatus.fromSwapStatus;if(t===c.Succeed||t===c.Canceled||t===c.Failed&&this.computedMainOrderType===w.BridgeTo)return{fromRatio:1,bridgeRatio:1};let s=(this.fromStepCountDownTimeGroup.estimatedTimeTotal-this.fromStepCountDownTimeGroup.estimatedTime)/this.fromStepCountDownTimeGroup.estimatedTimeTotal;s=s>.8||this.fromStepCountDownTimeGroup.estimatedTimeTotal===0?.8:s;let a=(this.bridgeStepCountDownTimeGroup.estimatedTimeTotal-this.bridgeStepCountDownTimeGroup.estimatedTime)/this.bridgeStepCountDownTimeGroup.estimatedTimeTotal;return a=a>.8||this.bridgeStepCountDownTimeGroup.estimatedTimeTotal===0?.8:a,i!==c.Pending&&i!==c.SpeedingUp&&i!==c.Canceling&&(s=1),this.computedMainOrderType===w.FromBridgeTo&&r!==c.Pending&&r!==c.SpeedingUp&&r!==c.Canceling&&(a=0),r===c.Succeed&&(a=1),{fromRatio:s,bridgeRatio:a}}get computedFoldTipToast(){let e=this.detail?.data;if(!e)return{foldTipType:""};let{bridgeChildOrderDetailVo:t}=e,r=[],i=[],n=!1,s=!1,a=0,u=this.fromStepCountDownTimeGroup.estimatedTime,p=this.bridgeStepCountDownTimeGroup.estimatedTime,g=this.computedMainOrderType===w.FromBridge;this.computedSubOrders.forEach((v,C)=>{(v.tipType===Me.from||v.tipType===Me.bridge)&&r.push(v),v.errorCode!=="0"&&C<this.computedSubOrders.length-1&&i.push(v)});let f=-1,x=-1;r.length>0&&(f=r[0]?.tipType,x=r[0]?.blockProcess),f===Me.bridge&&(a=p),f===Me.from&&(a=u),g&&f===Me.bridge&&(a=0),f===Me.from?s=u===0:f===Me.bridge&&(s=p===0);let k={...t,refund:{amount:t?.refundAmount?H(t.refundAmount):"",symbol:t?.refundSymbol,chain:t?.refundChain}},y=f===Me.bridge?k:r?.[0];return i.length>0&&(y=i[i.length-1],n=!0),{foldTipType:f,foldBlockProcess:x,currentProcessIsTimeOut:s,tipCountDownTime:a,filterProcessItem:y,needShowErrorTip:n}}get computedSubOrders(){let e=this.detail.data;if(!e)return[];let{fromChildOrderDetailVo:t,bridgeChildOrderDetailVo:r}=e,{toChildOrderDetailVo:i,status:n,assetDelay:s}=e,a=this.computedStepStatus.bridgeStatus,u=this.computedStepStatus.fromSwapStatus,p=this.computedMainOrderType===w.BridgeTo,g=[t?.errorCode,r?.errorCode,i?.errorCode].filter(Boolean).some(b=>b!=="0"),f=n===c.ReadyToClaim,x=this.computedMainOrderType===w.FromBridgeTo,k=this.computedMainOrderType===w.FromBridge,y=a===c.Pending||a===c.SpeedingUp||this.computedMainOrderType===w.CrossBridge&&n!==c.Failed&&n!==c.Canceled&&n!==c.Succeed||p&&a===c.Waiting?Me.bridge:0,v=u===c.Pending||u===c.SpeedingUp?Me.from:0,C={bridgeInfo:r?.bridgeOrderInfoVo,dexBridgeShadowTokenPair:r?.dexBridgeShadowTokenPairInfoVo,dexBridgeShadowTokenPairChainId:r?.toChainId,tipInfo:{toTokenSymbol:t?.toTokenSymbol},bridgeTipInfo:{bridgeName:r?.bridgeOrderInfoVo?.bridgeName||"",toChainName:r?.toChainName||""}};t={...t,status:this.computedStepStatus.fromSwapStatus};let O=r?.status;r={...r,status:this.computedStepStatus.bridgeStatus};let L=this.computedFromChainRefundInfo.isFromChainRefund?"":r?.exploreUrl;if(this.computedIsSingleChain||this.computedMainOrderType===w.GasStationCross){let b=!1;this.timeoutTimestamp?b=!this.expireTime&&t.status===c.Pending:b=t.status===c.Pending;let D=this.computedMainOrderType===w.MemeMode;return[yt(t,"from",{isFromStart:!0,hasTimeoutTips:b,timeoutType:ne.SINGLE_TIPS,hasErrorCode:g}),yt(t,"to",{...C,hiddenExploreUrl:!0,subOrderType:$e.SINGLE,isMemeModeOrder:D,assetDelay:s,hasErrorCode:g})]}else if(this.computedMainOrderType===w.CrossBridge){let b=this.expireTime<1&&(r.status===c.Waiting||r.status===c.Pending);return[yt(t,"to",{...C,tipType:y&&!f,useCurrencyInputFormat:!0,hasTimeoutTips:b&&!f,timeoutType:ne[r.status===c.Pending?"BRIDGE":"GAS"],blockProcess:r.status===c.Pending?ne.BLOCK_BRIDGE:-1,hasErrorCode:g,subOrderDesc:"CrossBridge_1"}),yt(r,"to",{...C,exploreUrl:L,officialBridgeTime:r?.officialBridgeTime,hasErrorCode:g,subOrderType:$e.CROSS_BRIDGE_SWAP,subOrderDesc:"CrossBridge_2"})]}else if([w.BridgeTo,w.FromBridge,w.FromBridgeTo].includes(this.computedMainOrderType)){let b=this.expireTime<1&&i?.status===c.Pending,D=!this.fromStepCountDownTimeGroup.estimatedTime&&(t.status===c.Pending||O===c.Waiting),F=!1,P;p&&!this.bridgeStepCountDownTimeGroup.estimatedTime?O===c.Waiting?(F=!0,P=ne.GAS):O===c.Pending&&(F=!0,P=ne.BRIDGE):x&&t?.status===c.Succeed&&!this.bridgeStepCountDownTimeGroup.estimatedTime&&(r.status===c.Waiting?(F=!0,P=ne.GAS):r.status===c.Pending&&(F=!0,P=ne.BRIDGE));let R=[yt(t,"from",{isFromStart:!0,ratio:this.computedRatio.fromRatio,showProgressBar:!0,tipType:v,hasTimeoutTips:D&&!f,timeoutType:ne.SINGLE_TIPS,blockProcess:D?ne.BLOCK_FROM:"",...C,hasErrorCode:g,subOrderDesc:"Bridge_from_1"}),yt(t,"to",{ratio:this.computedRatio.bridgeRatio,tipType:k&&D&&f?0:y&&!f,showProgressBar:x||p,countDownTime:!p&&this.fromStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:F&&!f,timeoutType:k?ne.SINGLE_TIPS:P,blockProcess:ne.BLOCK_BRIDGE,...C,subOrderType:$e.CROSS_FROM_SWAP,hasErrorCode:g,subOrderDesc:"Bridge_to_2"}),yt(r,"to",{...C,exploreUrl:L,countDownTime:this.bridgeStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:k?!1:b&&!f,blockProcess:!k&&b?ne.BLOCK_TO:"",timeoutType:ne.SINGLE_TIPS,subOrderType:$e.CROSS_BRIDGE_SWAP,hasErrorCode:g,subOrderDesc:"Bridge_to_3"})];return p&&R.shift(),(p||x)&&R.push(yt(i,"to",{subOrderType:$e.CROSS_TO_SWAP,hasErrorCode:g,subOrderDesc:"Bridge_to_4"})),R}return[]}get computedFirstTimeoutSubOrderBlockProcess(){let e=this.computedSubOrders,t=this.computedFoldTipToast||{},r=e.find(i=>i.hasTimeoutTips);return Ae(r,"blockProcess")||Ae(t,"foldBlockProcess")||-1}get computedDataDetail(){return this.computedCurrentHistoryTabIsLimit?this.limitDetail:this.detail}get computedLimitOrderInfo(){if(!this.limitDetail?.data)return null;let{orderId:e,transactionType:t,createTime:r,userWalletAddress:i,status:n,orderType:s,expireTime:a,fromToken:u={},toToken:p={},slippageInfo:g,networkFeeInfo:f,serviceFeeInfo:x,routeSelection:k,approveMethod:y,providerInfo:v,triggerInfo:C,transactionInfo:O,swapDuration:L,executionHistoryList:b,chainName:D,chainLogoUrl:F,chainSymbol:P,executionHistoryShowMaxNum:R,canResume:W,failureReason:Y,strategyType:K}=this.limitDetail?.data??{},me=ln(this.limitDetail?.data),j=F,{chainId:$,tokenLogoUrl:re,tokenAmount:ve,tokenSymbol:_e}=u||{},{tokenLogoUrl:ue,tokenSymbol:fe,tokenAmount:ge}=p||{},{tokenSymbol:X}=me,{nativeTokenCostAmt:he}=f||{},{serviceFeeUsd:ke,nativeTokenCostAmt:Je,discountedServiceFeeRate:Te}=x||{},{transactionPrice:be,transactionHash:Le,transactionTime:or,exploreUrl:ot,transactionRate:Q}=O||{},ir=[Se.CANCELLED,Se.EXPIRED,Se.SUCCEED,Se.FAILED].includes(n)&&!Lo(),ut=!go(ve)&&gt.gte(ve,0),pt=!go(ge)&&gt.gte(ge,0),qe=De(ve,{noNeedThousandth:!0}),nr=Re(ge,{needBillionMillionUnit:!1}),sr=!!C?.triggerRate,it={fromAmount:1,fromSymbol:_e,toAmount:Re(Q,{needBillionMillionUnit:!1}),toSymbol:fe},Ke={fromAmount:1,fromSymbol:X,rightNumber:this.getLocalPriceFee(1,be,!1)},ct={leftNumber:this.getLocalPriceFee(1,1,!1),toAmount:Re(Ro(1).div(be).toString(),{needBillionMillionUnit:!1}),toSymbol:fe},Nt={fromAmount:1,fromSymbol:fe,toAmount:Re(Ro(1).div(Q).toString(),{needBillionMillionUnit:!1}),toSymbol:_e},_o=this.getServiceFeeInfo({serviceFee:Je||0,serviceFeeUsd:ke,serviceFeeTokenSymbol:P,isDisplayServiceFee:!!x,discountedServiceFeeRate:Te,isDisplayUsdFee:!0}),Rr=String($)===String(ki.SOLANA_MAINNET);return{canResume:W,orderType:s,transactionType:t,executionHistoryShowMaxNum:di(R)?R:5,typeKey:"swaptrade_orders_text_limit_order",orderTypeKey:wn(s,!!C?.triggerPrice,!!C?.triggerRate),strategyType:K,strategyTypeKey:ra(K),status:n,fromToken:u||{},toToken:p||{},isSuccess:Number(n)===ye.COMPLETED,isFailed:Number(n)===ye.FAILED,isCreating:Number(n)===ye.CREATING,fromTokenGroupLabel:`${et("-",qe)} ${_e}`,formattedFromAmount:qe,fromTokenGroupLabelEquation:`${ut?et("-",qe):oe} ${ie(_e)}`,toTokenGroupLabel:`${et("+",nr)} ${fe}`,toTokenGroupLabelEquation:`${pt?et("+",nr):oe} ${ie(fe)}`,fromChainLogoUrl:F,fromTokenIcon:re,toChainLogoUrl:j,toTokenIcon:ue,createTime:r?Ft(r,{format:"yyyyMMddHHmmss"}):"",expireTime:a?Ft(a,{format:"yyyyMMddHHmmss"}):"",txTime:or?Ft(or,{format:"yyyyMMddHHmmss"}):"",networksName:D,networksLogo:F,isExecutionPriceByRate:sr,execRate:Q?St(it):oe,execPrice:be?St(Ke):oe,reverseExecPrice:be?St(ct):oe,reverseExecRate:Q?St(Nt):oe,execPriceEquation:be?It(Ke):oe,reverseExecPriceEquation:be?It(ct):oe,execRateEquation:Q?It(it):oe,reverseExecRateEquation:Q?It(Nt):oe,fee:he?Cr({amount:Re(he),symbol:P}):oe,originAddress:i,formatAddress:pr(i),exploreUrl:ot,fromTokenSymbol:_e,failureReason:Y,showSwapAgainBtn:ir,isSolanaLimitOrder:Rr,limitServiceFeeInfo:_o,formattedLastedHash:pr(Le),latestTransactionHash:Le,routeSelection:k,approveMethod:y,executionHistoryList:b,swapDuration:nt(L)?oe:vo(L,{hideZero:!0}),slippageInfo:g,providerInfo:v,triggerInfo:C,orderId:e}}get computedLimitFromToInfo(){let e=this.limitDetail?.data;if(!e)return null;let{chainId:t,fromToken:r,toToken:i,userWalletAddress:n,swapTradeType:s}=e;return{apiRequestParams:{fromChainId:t,toChainId:t,userWalletAddress:n,swapTradeType:s},locationParams:{from:{chainId:t,tokenContractAddress:r.tokenContractAddress},to:{chainId:t,tokenContractAddress:i.tokenContractAddress}}}}get computedSwapFromToInfo(){let e=this.detail?.data;if(!e)return null;let{fromChainId:t,fromTokenAddress:r,toChainId:i,toTokenAddress:n,swapTradeType:s,from:a}=e;return{apiRequestParams:{fromChainId:t,toChainId:i,userWalletAddress:a,swapTradeType:s},locationParams:{from:{chainId:t,tokenContractAddress:r},to:{chainId:i,tokenContractAddress:n},inputAmount:this.computedIfSwapFailedAmount||gi}}}get computedFromToInfo(){return this.computedCurrentHistoryTabIsLimit?this.computedLimitFromToInfo:this.computedSwapFromToInfo}getForRefuelFromPrice(e){return e&&!Ir(e)?H(e):"--"}getReceiveTokenPrice(e){return e&&!Ir(e)?H(e):"--"}getExplorerUrl(e){return this.computedIsSingleChain?e?.exploreUrl:""}getOrderFinnishedTime(e,t,r){return[c.Succeed].includes(r)?vo(t-e,{hideZero:!0}):"--"}getFormattedNetworkFee(e){return e?H(e):""}getFormattedOtherFees(e){return e?H(e):""}getOtherFees(e,t){return e&&t?.fromTokenSymbol?`${e} ${t.fromTokenSymbol}`:""}getBridgeFee(e,t){return e?`${e} ${t?.toTokenSymbol}`:""}getBridgeFeeUsd(e,t,r){return Fi(e(t).toString(),r)}getEstimateBridgeFeeAmount(e,t){return e?`${H(e)} ${t}`:""}getEstimateBridgeFeeAmountUsd(e,t,r){return e?ht(r(e).toString(),t):""}getToSwapFee(e,t){return e?Cr({amount:e,symbol:t}):""}getFromToPrice(e){return e&&!Ir(e)&&e!=="-1"?H(Ro("1").div(e).toString(10),{needBillionMillionUnit:!1}):"--"}getToFromPrice(e){return e&&!Ir(e)&&e!=="-1"?H(e,{needBillionMillionUnit:!1}):"--"}getGasToken(e,t,r,i,n){return!e||e===ia?null:{amount:t,symbol:r,status:e,exploreUrl:i,logoUrl:n}}get computedOrderInfo(){if(!this.detail.data)return null;let{swapTradeType:e,time:t,fromChainName:r,fromChainLogoUrl:i,fromChildOrderDetailVo:n,toChainName:s,toChainLogoUrl:a,networkFee:u,nativeTokenSymbol:p,otherFees:g,from:f,forRefuelFromAmount:x,fromAmount:k,fromChainId:y,fromTokenSymbol:v,fromTokenAddress:C,toTokenSymbol:O,toChainId:L,toTokenAddress:b,bridgeChildOrderDetailVo:D,receiveTokenStatus:F,receiveTokenExploreUrl:P,receiveTokenAmount:R,receiveTokenSymbol:W,abnormalStatus:Y,hiddenFromOrder:K,bridgeFee:me,bridgeFeeUsd:j,estimateBridgeFeeAmount:$,estimateBridgeFeeAmountUsd:re,toSwapFee:ve,toChainNativeTokenSymbol:_e,hiddenOtherFee:ue,toChildOrderDetailVo:fe,price:ge,receiveWalletAddress:X,gasStationActivityReward:he,receiveTokenLogoUrl:ke,errorCode:Je,status:Te,orderCompletionTime:be,orderId:Le,specialOrderType:or,mevInfo:ot,fromSwapMevInfo:Q,toSwapMevInfo:ir,assetDelay:ut,assetDelayTime:pt,isMemeTimeOut:qe,totalSlippage:nr,slippageValue:sr,dexGasStationFeeDetailVO:it,freeGas:Ke,estimatedTime:ct,transactionHash:Nt,willNeedManualClaim:_o,orderType:Rr,approveMethod:vs}=this.detail.data,bs=String(Ke)===Xr.FREE,As=this.detail.data?.defiPlatformInfo,{currencyConversion:ti,computedNowCurrencySymbol:ri}=this.commonStore,Es=this.getServiceFeeInfo(this.detail.data),Os=this.getBridgeFeeInfo(this.detail.data),oi=[{chainName:r,chainLogo:i}];this.computedIsSingleChain||oi.push({chainName:s,chainLogo:a});let ii=this.getFormattedNetworkFee(u),Ls=this.getFormattedOtherFees(g),Ds=bo(me),Ns=bo(ve),ni=e===w.MemeMode,Ps=[c.Succeed,c.Failed,c.Canceled].includes(Te),Fs=![w.GasStation,w.GasStationCross].includes(e),Rs=this.checkSwapAgainBtn({isOrderFinalized:Ps,isNotGasStationTrade:Fs,isMemeModeOrder:ni}),Bs=()=>{if(this.computedIsGasStation&&it){let{gasTokenSymbol:Us,totalGasFeeAmount:js}=it||{},si=H(js);return si?Cr({amount:si,symbol:Us}):"--"}return ii?Cr({amount:ii,symbol:p}):"--"},Ms=D?.bridgeOrderInfoVo?.bridgeId;return{swapTradeType:e,orderType:Rr,routeSelection:ot,approveMethod:vs,isSingleChain:this.computedIsSingleChain,type:e,transactionTypeKey:na[e],orderTypeKey:wn(Rr),isShowCancel:n?.isShowCancel,time:Ft(t,{format:"yyyyMMddHHmmss"}),networks:oi,assetDelay:ut,assetDelayTime:pt,isMemeTimeOut:qe,isMemeModeOrder:ni,networkFee:Bs(),otherFees:this.getOtherFees(Ls,D),bridgeFee:this.getBridgeFee(Ds,D),bridgeId:Ms,bridgeName:D?.bridgeOrderInfoVo?.bridgeName,bridgeLogo:D?.bridgeOrderInfoVo?.bridgeLogo,bridgeFeeUsd:this.getBridgeFeeUsd(ti,j,ri),estimateBridgeFeeAmount:this.getEstimateBridgeFeeAmount($,p),estimateBridgeFeeAmountUsd:this.getEstimateBridgeFeeAmountUsd(re,ri,ti),toSwapFee:this.getToSwapFee(Ns,_e),fromToPrice:this.getFromToPrice(ge),toFromPrice:this.getToFromPrice(ge),from:f,chainId:y,fromChainId:y,receiveWalletAddress:X,fromAmount:k,fromTokenAddress:C,fromSymbol:v,toSymbol:O,toChainId:L,toTokenAddress:b,omittedFrom:pr(f),omittedTo:pr(X),gasToken:this.getGasToken(F,R,W,P,ke),abnormalStatus:Y,hiddenFromOrder:K,hiddenOtherFee:ue,hasToChildOrderDetailVo:!!fe,forRefuelFromPrice:this.getForRefuelFromPrice(x),receiveTokenPrice:this.getReceiveTokenPrice(R),receiveTokenStatus:F,gasStationActivityReward:he,exploreUrl:this.getExplorerUrl(n),errorCode:Je,orderFinishedTime:this.getOrderFinnishedTime(t,be,Te),status:Te,showSwapAgainBtn:Rs,orderId:Le,fromChainName:r,specialOrderType:or,mevInfo:ot,fromSwapMevInfo:Q,toSwapMevInfo:ir,totalSlippage:nr,slippageValue:sr,defiPlatformInfo:As,isIntentOrder:bs,dexGasStationFeeDetailTips:this.getDexGasStationFeeDetailTip(it,Te),freeGas:Ke,estimatedTime:ct,singleChainServiceFeeInfo:Es,crossChainServiceFeeInfo:Os,transactionHash:Nt,omittedHash:pr(Nt),willNeedManualClaim:_o}}get computedFromChainRefundInfo(){let e=this.detail.data;if(!e)return{};let t=Ae(e,"bridgeChildOrderDetailVo.errorCode");if(String(t)!=="5001")return{};let r=Ae(e,"bridgeChildOrderDetailVo")||{},{exploreUrl:i,fromTokenIcon:n,refundAmount:s,refundSymbol:a,refundChain:u}=r;return{isFromChainRefund:!0,exploreUrl:i,fromTokenIcon:n,refundAmount:s,formatRefundAmount:H(s,{needPlaceholder:!0,needBillionMillionUnit:!1}),refundSymbol:a,refundChain:u}}get computedPendingOrdersCount(){return this.pendingOrders.filter(t=>t.status!==c.PendingCanRedeem).length}get computedOrdersHasFacetSwap(){let e=this.pendingOrders.find(t=>t.status==c.PendingCanRedeem);return{showTip:!!e,data:e||{}}}get computedPendingTimingStatus(){return this.timeoutTimestamp?this.expireTime!==0&&this.timeoutTimestamp?Mt.ESTIMATE:!this.expireTime&&this.timeoutTimestamp?Mt.EXCEED_ESTIMATE:!this.expireTime&&!this.timeoutTimestamp?Mt.TIMEOUT:1:Mt.TIMEOUT}toastOrder(e){if(e){let{status:t,orderId:r,fromAmount:i,fromTokenSymbol:n,toAmount:s,toTokenSymbol:a,fromChildOrder:u,receiveTokenStatus:p,type:g,swapTradeType:f,isMemeTimeOut:x,exploreUrl:k,assetDelay:y,sentSimpleVersion:v,willNeedManualClaim:C,transactionHash:O}=e,L=`${r}_${t}`;if(st()||Zr.includes(L))return;let b=f===w.MemeMode,D=()=>{Zr.unshift(L),Zr=Zr.slice(0,Vs)},F=p!==Sn;if(t===c.Pending&&u?.status===c.Pending){if(D(),b&&x){_n({title:m("swaptrade_history_modal_error_likely_fail",{num:i,token1:n,token2:a})});return}gn({title:m("wallet_swap_toast_swap_submitted"),orderId:r})}else if(t===c.ReadyToClaim)D(),fn(e,this.rootStore.swapStore);else if(t===c.ClaimFailed)D(),cr({title:m("swaptrade_bridge_alert_failed_to_claim_please"),orderId:r});else if(t===c.Succeed&&F){let P=this.computedSubOrders;if(D(),C===Gr){if(wr(O),yr(O))return;xr(O),wt({title:m("swaptrade_bridge_alert_youve_successfully_claimed_amt",{amt:H(s),token:a}),orderId:r});return}if(b&&y){if(wr(O),yr(O))return;xr(O),wt({title:m("swaptrade_history_modal_tips_swap_update",{num1:i,token1:n,num2:s,token2:a}),exploreUrl:k,orderId:r});return}if(!v){if(wr(O),yr(O))return;xr(O),wt({title:m("swaptrade_toast_swap_success",{fromCount:De(i,{needBillionMillionUnit:!0}),fromToken:ie(n),toCount:H(s),toToken:ie(a)}),exploreUrl:P[P.length-1]?.exploreUrl,orderId:r})}}else if(t===c.Failed&&F){let R=this.computedSubOrders.filter(W=>W.status===c.Failed);D(),cr({title:g==="gasStation"?m("swaptrade_gasstation_toast_refill_failed",{nativeToken:ie(a)}):m("wallet_swap_toast_swap_failed"),exploreUrl:R[R.length-1]?.exploreUrl,orderId:r})}else t===c.Canceled&&F&&(wt({title:m("swaptrade_placeorder_toast_transaction_canceled"),orderId:r}),D())}}get computedCurrentHistoryTabIsLimit(){return this.historyTab===B.LIMIT_ORDER}get computedOrigin(){return this.historyTab===B.LIMIT_ORDER?B.LIMIT_ORDER:[w.SingleChain,w.GasStation].includes(this.computedMainOrderType)?B.SWAP:B.BRIDGE}get computedIfSwapFailedAmount(){let e=this.detail?.data;return e?.status===c.Failed&&!this.computedCurrentHistoryTabIsLimit&&Kr(e?.fromAmount)?e.fromAmount:""}},Bl=Bo;d();l();var yn=I(E());var la=({onButtonClick:o})=>yn.default.createElement($i,{title:m("swaptrade_pricechart_no_connection_title"),description:m("swaptrade_pricechart_no_connection_desc"),buttonText:m("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:o}),xn=la;d();l();var jt=I(E());var kn=48,ma=72,ua=40,Mo=513,Uo=678,Cn=()=>{let[o,e]=(0,jt.useState)(Mo),[t,r]=(0,jt.useState)(Uo),{isSm:i}=qi(),n=st();return(0,jt.useEffect)(()=>{let s=()=>{let a=window.innerHeight,u=a-53-ma-ua-kn;u<Mo?e(u):e(Mo);let p=a-kn;p<Uo?r(p):r(Uo)};return!i&&!n&&(s(),window?.addEventListener?.("resize",s)),()=>{!i&&!n&&window?.removeEventListener?.("resize",s)}},[i,n]),(0,jt.useMemo)(()=>i||n?{listStyle:{},detailStyle:{}}:{listStyle:{height:o},detailStyle:{minHeight:t}},[o,t,i,n])};d();l();var so=I(E()),Yn=I(J());d();l();var xe=I(E());d();l();var Ge=I(E()),vn=I(J());d();l();var Ne=I(E()),Gt=I(J());d();l();var M={item:"_item_rakqj_1",placeholder:"_placeholder_rakqj_8","chain-logo":"_chain-logo_rakqj_13",chainLogo:"_chain-logo_rakqj_13","chain-logos":"_chain-logos_rakqj_19",chainLogos:"_chain-logos_rakqj_19","chain-name":"_chain-name_rakqj_30",chainName:"_chain-name_rakqj_30","icon-btn":"_icon-btn_rakqj_33",iconBtn:"_icon-btn_rakqj_33",content:"_content_rakqj_43","label-tooltip":"_label-tooltip_rakqj_47",labelTooltip:"_label-tooltip_rakqj_47","icon-arrow":"_icon-arrow_rakqj_50",iconArrow:"_icon-arrow_rakqj_50","tooltip-icon":"_tooltip-icon_rakqj_55",tooltipIcon:"_tooltip-icon_rakqj_55",line:"_line_rakqj_58",link:"_link_rakqj_62","bridge-fee":"_bridge-fee_rakqj_69",bridgeFee:"_bridge-fee_rakqj_69","intent-order-network-fee":"_intent-order-network-fee_rakqj_73",intentOrderNetworkFee:"_intent-order-network-fee_rakqj_73","mev-box":"_mev-box_rakqj_76",mevBox:"_mev-box_rakqj_76","gas-station-fee-label":"_gas-station-fee-label_rakqj_79",gasStationFeeLabel:"_gas-station-fee-label_rakqj_79","info-icon":"_info-icon_rakqj_83",infoIcon:"_info-icon_rakqj_83",divider:"_divider_rakqj_86"};function pa({label:o,value:e,hasToolTips:t,toolTipsText:r="",className:i="",valueClassName:n="",labelOnClick:s,labelClassName:a=""}){let u=(0,Ne.useRef)(),[p,g]=(0,Ne.useState)(!1);(0,Ne.useEffect)(()=>{let k=u.current;k&&g(Ri(k))},[]);let x=Ne.default.createElement("div",{ref:u,...s?{onClick:s}:{},className:(0,Gt.default)("content-contrast truncate",M.label,a)},o);return Ne.default.createElement("div",{className:(0,Gt.default)("overflow-hidden font-14 ",M.item,i)},Ne.default.createElement("div",{className:(0,Gt.default)("flex align-items-center overflow-hidden font-12")},p?Ne.default.createElement(_t,{maxWidth:200,prefixClassName:"cursor-pointer",title:o,className:"overflow-hidden"},x):x,t&&Ne.default.createElement(_t,{title:r,prefixClassName:"cursor-pointer",placement:_t.DIRECTION.bottom,className:(0,Gt.default)("flex items-center",M.tooltipIcon),popupProps:{popupStyle:{maxWidth:"200px"}}},Ne.default.createElement(Z,{className:(0,Gt.default)("content-contrast",M.infoIcon),type:"okx-defi-dex-information"}))),Ne.default.createElement("div",{className:(0,Gt.default)("whitespace-nowrap content-primary mt-4 font-14",n)},e))}var A=pa;var ca=()=>{let{recentTransactionStore:o}=z(),e=o?.computedOrderInfo,t=(0,Ge.useMemo)(()=>(parseInt(e?.estimatedTime||0,10)/60).toFixed(0),[e?.estimatedTime]),r=(0,Ge.useMemo)(()=>String(e?.freeGas)===Xr.FREE,[e?.freeGas]),i=(0,Ge.useMemo)(()=>Ge.default.createElement(A,{label:m("swaptrade_history_card_text_from_chain_fee",{chainName:e?.networks[0]?.chainName}),value:m("swaptrade_card_tag_free"),valueClassName:(0,vn.default)(M.intentOrderNetworkFee),hasToolTips:!1,labelOnClick:()=>{}}),[e?.networks]),n=(0,Ge.useMemo)(()=>{let a=e?.totalSlippage,u=a?zr(a*100,{sigFigs:2,needZero:!1,rounded:Vr.TRUNCATE}):"--";return Ge.default.createElement(A,{label:m("swaptrade_extension_label_slippage_tolerance"),value:u,hasToolTips:!1,labelOnClick:()=>{}})},[e?.totalSlippage]),s=(0,Ge.useMemo)(()=>Ge.default.createElement(Ge.default.Fragment,null,t==="0"?null:Ge.default.createElement(A,{label:m("swaptrade_history_text_conversion_time"),value:m("swaptrade_xrouting_tag_mins",{value:t}),hasToolTips:!1,labelOnClick:()=>{}})),[t]);return{isBridgeDetailFreeNetwork:r,bridgeNetworkFee:i,bridgeSlippage:n,bridgeSwapDuration:s}},to=ca;d();l();var bn=I(E());function Wt({value:o,label:e,hidden:t}){return t?null:bn.default.createElement(A,{label:e||m("swaptrade_tee_header_approval_method"),value:o||"--"})}d();l();var An=I(E());function kt({value:o,label:e,hidden:t}){return t?null:An.default.createElement(A,{label:e||m("swaptrade_common_label_time"),value:o})}d();l();var Oe=I(E()),En=I(J());var jo=o=>o==="Smart Mode"?m("swaptrade_history_mev_subtitle_smart_mode"):o;function vr({type:o,fromSwapMevInfo:e,toSwapMevInfo:t,networks:r,mevInfo:i,label:n}){return(0,Oe.useMemo)(()=>o===w.CrossChain&&(e||t)?Oe.default.createElement(A,{label:n||m("swaptrade_history_label_mev_protect"),value:Oe.default.createElement("div",{className:(0,En.default)("flex items-center",M.mevBox)},!!e&&Oe.default.createElement("div",{className:"flex items-center"},Oe.default.createElement(mr,{alt:r[0]?.chainName,size:20,src:r[0]?.chainLogo}),Oe.default.createElement("span",{className:"ml-4"},jo(e))),!!t&&Oe.default.createElement("div",{className:"flex items-center"},Oe.default.createElement(mr,{alt:r[1]?.chainName,size:20,src:r[1]?.chainLogo}),Oe.default.createElement("span",{className:"ml-4"},jo(t))))}):i?Oe.default.createElement(A,{label:n||m("swaptrade_history_label_mev_protect"),value:Oe.default.createElement("div",{className:"flex items-center"},Oe.default.createElement(mr,{alt:r[0]?.chainName,size:20,src:r[0]?.chainLogo}),Oe.default.createElement("span",{className:"ml-4"},jo(i)))}):null,[e,n,i,r,t,o])}d();l();var V=I(E()),On=I(J());function br({type:o,isBridgeDetailFreeNetwork:e,bridgeNetworkFee:t,hiddenOtherFee:r,networks:i,networkFee:n,bridgeFee:s,bridgeFeeUsd:a,estimateBridgeFeeAmount:u,estimateBridgeFeeAmountUsd:p,crossChainServiceFeeInfo:g,isWidget:f,otherFees:x,bridgeName:k,dexGasStationFeeDetailTips:y,isIntentOrder:v,hidden:C,isEstimated:O}){let{recentTransactionStore:L}=z(),b=(0,V.useCallback)(()=>{let P=ui.show({title:m("swaptrade_swap_history_subtitle_network_fee"),children:y,hideCloseBtn:!0,confirmText:m("swaptrade_dialog_modal_gotit"),onConfirm:()=>{P.destroy()}})},[y]),D=(0,V.useMemo)(()=>{let P=y?{labelOnClick:b,labelClassName:M.gasStationFeeLabel}:{};return V.default.createElement(A,{...P,label:m(O?"swaptrade_order_info_label_network_fee":"swaptrade_swap_history_subtitle_network_fee"),value:v?m("swaptrade_card_tag_free"):n,valueClassName:(0,On.default)({[M.intentOrderNetworkFee]:v})})},[n,v,b,y,O]);return(0,V.useMemo)(()=>{if(C)return null;let P=L.computedIsSingleChain||o===w.GasStationCross||o===w.GasStation;return P?D:e?t:r?V.default.createElement(V.default.Fragment,null,V.default.createElement(A,{label:m("swaptrade_history_card_text_from_chain_fee",{chainName:i[0].chainName}),value:n}),u&&V.default.createElement(A,{label:m("swaptrade_history_label_bridge_network_fee",{bridge:k}),className:M.bridgeFee,value:V.default.createElement("div",{className:"flex flex-column"},p?V.default.createElement("span",null,Rt(m("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:u,fee:p}))):V.default.createElement("span",null,u))}),!f&&!P&&g?.shouldDisplayServiceFee?V.default.createElement(A,{label:m("swaptrade_trade_label_service_fee"),value:V.default.createElement("div",{className:"flex align-items-center"},V.default.createElement("span",null,g?.formattedServiceFee))}):null,s&&V.default.createElement(A,{label:m("swaptrade_history_label_bridge_fee",{bridge:k}),className:M.bridgeFee,value:V.default.createElement("div",{className:"flex flex-column"},V.default.createElement("span",null,s))})):V.default.createElement(V.default.Fragment,null,D,V.default.createElement(A,{label:V.default.createElement(V.default.Fragment,null,m("swaptrade_order_info_label_other_fees")),value:x}))},[C,L.computedIsSingleChain,o,e,r,D,x,t,i,n,s,k,a,f,g?.shouldDisplayServiceFee,g?.formattedServiceFee,u,p])}d();l();var gr=I(E());function Ht({networks:o=[],showLogo:e=!1,label:t,hidden:r}){return r?null:gr.default.createElement(A,{label:t||m("swaptrade_order_info_label_network"),value:gr.default.createElement("div",{className:"flex align-items-center"},e&&gr.default.createElement("div",{className:M.chainLogos},o.map(({chainName:i,chainLogo:n})=>gr.default.createElement("img",{src:n,alt:`${i}Logo`,key:i}))),gr.default.createElement("div",{className:e?M.chainName:""},o.map(({chainName:i})=>i).join(` ${m("swaptrade_order_info_label_network_to")} `)))})}d();l();var tt=I(E()),Ln=I(J());function Ar({label:o,fromToPrice:e,toFromPrice:t,fromSymbol:r,toSymbol:i,type:n,hidden:s}){let[a,u]=(0,tt.useState)("fromTo"),p=(0,tt.useMemo)(()=>{if(e==="--"||t==="--")return{text:"--",equation:"--"};if(a==="fromTo"){let x={fromAmount:1,fromSymbol:r,toAmount:e,toSymbol:i};return{text:St(x),equation:It(x)}}let f={fromAmount:1,fromSymbol:i,toAmount:t,toSymbol:r};return{text:St(f),equation:It(f)}},[r,i,a,e,t]),g=![w.CrossBridge,w.GasStation,w.GasStationCross].includes(n)&&p.text!=="--";return s?null:tt.default.createElement(A,{label:o||m("swaptrade_order_info_label_price"),value:tt.default.createElement("div",{className:"flex align-items-center"},tt.default.createElement("span",null,tt.default.createElement(Tt,{text:p.text,equation:p.equation},Rt(p.equation))),g&&tt.default.createElement(ze,{onClick:()=>{u(a==="fromTo"?"toFrom":"fromTo")},className:(0,Ln.default)("content-primary okx-defi-dex-rate",M.iconBtn),size:16,a11yText:""}))})}d();l();var Vt=I(E()),Dn=I($r()),Nn=I(J());function Go({formatAddress:o,originAddress:e,label:t,hidden:r}){return r?null:Vt.default.createElement(A,{label:t||m("swaptrade_details_text_receive_address"),value:Vt.default.createElement("div",{className:"flex align-items-center"},Vt.default.createElement("span",null,o),Vt.default.createElement(Dn.CopyToClipboard,{text:e,onCopy:()=>{ft.success(m("swaptrade_order_info_label_from_copy_success"))}},Vt.default.createElement("div",{className:(0,Nn.default)("flex align-items-center",M.iconBtn)},Vt.default.createElement(Z,{className:"okx-defi-dex-copy1",size:16}))))})}d();l();var ro=I(E());function qt({value:o,isEstimated:e=!0,label:t,hidden:r=!1}){return r?null:ro.default.createElement(A,{label:t||(e?m("swaptrade_tee_tab_label_est_service_fee"):m("swaptrade_trade_label_service_fee")),value:ro.default.createElement("div",{className:"flex align-items-center"},ro.default.createElement("span",null,o))})}d();l();var Pn=I(E());function Kt({value:o,label:e,autoFoumart:t=!0,hidden:r}){if(r)return null;let i=s=>t?zr(jr.mul(s,100),{sigFigs:2,needZero:!1,rounded:Vr.TRUNCATE}):s,n=()=>o?i(o):"--";return Pn.default.createElement(A,{label:e||m("swaptrade_tee_tab_label_slippage"),value:n()})}d();l();var Fn=I(E());function zt({value:o,label:e,hidden:t}){return t?null:Fn.default.createElement(A,{label:e||m("swaptrade_history_text_conversion_time"),value:o||"--"})}d();l();var Rn=I(E());function Yt({value:o,hidden:e,label:t}){return e?null:Rn.default.createElement(A,{label:t||m("swaptrade_order_info_label_type"),value:o||"--"})}d();l();var $t=I(E()),Bn=I($r()),Mn=I(J());function Xt({omittedFrom:o,from:e,label:t,hidden:r}){return r?null:$t.default.createElement(A,{label:t||m("swaptrade_order_info_label_from"),value:$t.default.createElement("div",{className:"flex align-items-center"},$t.default.createElement("span",null,o),$t.default.createElement(Bn.CopyToClipboard,{text:e,onCopy:()=>{ft.success(m("swaptrade_order_info_label_from_copy_success"))}},$t.default.createElement("div",{className:(0,Mn.default)("flex align-items-center",M.iconBtn)},$t.default.createElement(Z,{className:"okx-defi-dex-copy1",size:16}))))})}d();l();var Un=I(E());d();l();var oo={title:"_title_m2btf_1"};function Qt(){return Un.default.createElement("div",{className:oo.title},m("swaptrade_tee_tab_label_transaction_details"))}d();l();var Er=I(E());function Wo({bridgeLogo:o,bridgeName:e,label:t,hidden:r}){return r?null:Er.default.createElement(A,{label:t||m("swaptrade_bot_hyperlink_label_bridge_route"),value:Er.default.createElement("div",{className:"flex align-items-center"},Er.default.createElement("img",{src:o,alt:e,className:M.chainLogo}),Er.default.createElement("span",null,e))})}function _a({orderInfo:o}){let e=Be(),{type:t,time:r,networks:i,networkFee:n,otherFees:s,from:a,omittedFrom:u,omittedTo:p,receiveWalletAddress:g,fromSymbol:f,toSymbol:x,fromToPrice:k,toFromPrice:y,bridgeFee:v,bridgeName:C,bridgeFeeUsd:O,hiddenOtherFee:L,estimateBridgeFeeAmount:b,estimateBridgeFeeAmountUsd:D,orderFinishedTime:F,isIntentOrder:P,totalSlippage:R,status:W,dexGasStationFeeDetailTips:Y,crossChainServiceFeeInfo:K,transactionTypeKey:me,toSwapMevInfo:j,mevInfo:$,approveMethod:re,fromSwapMevInfo:ve,slippageValue:_e,bridgeLogo:ue}=o,{isBridgeDetailFreeNetwork:fe,bridgeNetworkFee:ge}=to(),X=o?.singleChainServiceFeeInfo||{};return xe.default.createElement(xe.default.Fragment,null,xe.default.createElement(Qt,null),xe.default.createElement(Yt,{value:m(me)}),xe.default.createElement(kt,{value:r}),xe.default.createElement(Ht,{networks:i}),xe.default.createElement(Kt,{value:_e||R}),xe.default.createElement(br,{type:t,isBridgeDetailFreeNetwork:fe,bridgeNetworkFee:ge,hiddenOtherFee:L,networks:i,networkFee:n,bridgeFee:v,bridgeFeeUsd:O,estimateBridgeFeeAmount:b,estimateBridgeFeeAmountUsd:D,crossChainServiceFeeInfo:K,isWidget:e,otherFees:s,bridgeName:C,dexGasStationFeeDetailTips:Y,isIntentOrder:P}),xe.default.createElement(qt,{value:X.formattedServiceFee,isEstimated:W!==c.Succeed,hidden:!X.shouldDisplayServiceFee}),xe.default.createElement(vr,{type:t,fromSwapMevInfo:ve,toSwapMevInfo:j,networks:i,mevInfo:$,label:m("swaptrade_trade_label_route_selection")}),xe.default.createElement(zt,{value:F}),xe.default.createElement(Ar,{type:t,fromSymbol:f,toSymbol:x,fromToPrice:k,toFromPrice:y}),xe.default.createElement(Wt,{value:re,hidden:!re}),xe.default.createElement(Wo,{bridgeLogo:ue,bridgeName:C}),xe.default.createElement(Xt,{omittedFrom:u,from:a}),xe.default.createElement(Go,{label:m("swaptrade_details_text_receive_address"),formatAddress:p,originAddress:g,hidden:!g||!p||t===w.GasStationCross}))}var jn=pe(_a);d();l();var G=I(E());d();l();var dt=I(E());function io({execPrice:o,reverseExecPrice:e,execPriceEquation:t,reverseExecPriceEquation:r,isSolanaLimitOrder:i,showReverseIcon:n=!0,hasToolTips:s=!0,label:a,hidden:u=!1}){let[p,g]=(0,dt.useState)(!1);return u?null:dt.default.createElement(A,{label:a||m("swaptrade_orders_label_execution_price"),hasToolTips:s,toolTipsText:i?m("swaptrade_limit_dialog_desc_executed_price_solana"):m("swaptrade_orders_tooltips_executed_price"),value:dt.default.createElement("div",{className:"flex align-items-center content-primary"},dt.default.createElement("div",null,p?dt.default.createElement(Tt,{text:e,equation:r}):dt.default.createElement(Tt,{text:o,equation:t})),n&&dt.default.createElement(Z,{onClick:()=>{g(!p)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}}))})}d();l();var Gn=I(E());function hr({value:o,label:e,hidden:t}){return t?null:Gn.default.createElement(A,{label:e||m("swaptrade_tee_tab_label_order_type"),value:o||"--"})}d();l();var no=I(E()),Wn=I(J());function Or({logo:o,name:e,label:t,hidden:r}){return r?null:no.default.createElement(A,{label:t||m("swaptrade_mid_dialog_title_provider"),value:no.default.createElement("div",{className:"flex flex-column"},no.default.createElement(Xi,{size:20,logo:o,name:e,className:(0,Wn.default)("ml-4 content-primary","font-14")}))})}d();l();var Lr=I(E());function Ho({chainName:o,chainLogo:e,value:t,label:r,hidden:i}){return i?null:Lr.default.createElement(A,{label:r||m("swaptrade_history_label_mev_protect"),value:t?Lr.default.createElement("div",{className:"flex items-center"},Lr.default.createElement(mr,{alt:o,size:20,src:e}),Lr.default.createElement("span",{className:"ml-4"},t)):"--"})}d();l();var Jt=I(E()),Hn=I($r()),Vo=I(J());function Dr({originHash:o,formatHash:e,exploreUrl:t,label:r,hidden:i}){return i?null:Jt.default.createElement(A,{label:r||m("commonall_colheader_text_txn_hash"),value:Jt.default.createElement("div",{className:"flex align-items-center"},Jt.default.createElement(je,{href:t,className:(0,Vo.default)("font-14",M.link),handleStyle:!1},e),Jt.default.createElement(Hn.CopyToClipboard,{text:o,onCopy:()=>{ft.success(m("swaptrade_order_info_label_from_copy_success"))}},Jt.default.createElement("div",{className:(0,Vo.default)("flex align-items-center",M.iconBtn)},Jt.default.createElement(Z,{className:"okx-defi-dex-copy1",size:16}))))})}d();l();var lt=I(E());var rt={triggerRate:"triggerRate",triggerPrice:"triggerPrice",triggerPriceMarketCapacity:"triggerPriceMarketCapacity"},fa=(o,e)=>e===xt.TEE_SA_SL_ORDER||e===xt.TEE_SA_TP_ORDER?rt.triggerPrice:o?.triggerPrice&&o?.triggerMarketCapacity?rt.triggerPriceMarketCapacity:o?.triggerRate?rt.triggerRate:o?.triggerPrice?rt.triggerPrice:"",ga={[rt.triggerRate]:"swaptrade_tee_label_trigger_rate",[rt.triggerPriceMarketCapacity]:"swaptrade_tee_label_trigger_price_market_cap",[rt.triggerPrice]:"swaptrade_tee_label_trigger_price"};function qo({triggerInfo:o={},currencyConversion:e,computedNowCurrencySymbol:t,fromSymbol:r,toSymbol:i,orderType:n}){let[s,a]=(0,lt.useState)(!1),u=fa(o,n);if(!u)return null;let p=()=>u===rt.triggerRate?o.triggerRate?lt.default.createElement(lt.default.Fragment,null,lt.default.createElement("div",null,s?`1 ${i} = ${H(jr.safeDiv(1,o.triggerRate))} ${r}`:`1 ${r} = ${H(o.triggerRate)} ${i}`),lt.default.createElement(ze,{a11yText:"",onClick:()=>{a(!s)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}})):"--":u===rt.triggerPriceMarketCapacity?`${o?.triggerPrice?ht(e(o.triggerPrice).toString(),t):"--"} / ${o?.triggerMarketCapacity?ht(e(o.triggerMarketCapacity).toString(),t,{needBillionMillionUnit:!0}):"--"}`:u===rt.triggerPrice?o?.triggerPrice?ht(e(o?.triggerPrice).toString(),t):"--":"";return lt.default.createElement(A,{label:m(ga[u]),value:lt.default.createElement("div",{className:"flex align-items-center content-primary"},p())})}d();l();var Vn=I(E());function Ko({txTime:o,isSuccess:e}){return!o||!e?null:Vn.default.createElement(A,{label:m("swaptrade_orders_label_order_time1"),value:o})}d();l();var qn=I(E());function Nr(){return qn.default.createElement("div",{className:oo.title},m("swaptrade_tee_reminder_order_details"))}function ha({orderInfo:o}){let{networksLogo:e,networksName:t,fee:r,createTime:i,expireTime:n,originAddress:s,formatAddress:a,execPrice:u,reverseExecPrice:p,execPriceEquation:g,reverseExecPriceEquation:f,exploreUrl:x,isSolanaLimitOrder:k,latestTransactionHash:y,formattedLastedHash:v,routeSelection:C,orderTypeKey:O,strategyType:L,strategyTypeKey:b,triggerInfo:D,slippageInfo:F,transactionType:P,fromToken:R,toToken:W,swapDuration:Y,limitServiceFeeInfo:K={},approveMethod:me,providerInfo:j,status:$,isSuccess:re,orderType:ve,isExecutionPriceByRate:_e,execRateEquation:ue,reverseExecRateEquation:fe,execRate:ge,reverseExecRate:X,txTime:he}=o,{commonStore:{currencyConversion:ke,computedNowCurrencySymbol:Je}}=z(),Te=[ye.CANCELLED,ye.EXPIRED,ye.COMPLETED].includes($);return G.default.createElement(G.default.Fragment,null,G.default.createElement(Nr,null),G.default.createElement(hr,{value:m(O)}),G.default.createElement(hr,{value:b?m(b):"",label:m("swaptrade_order_title_limit_type"),hidden:!b||L===1}),G.default.createElement(kt,{value:i,label:m("swaptrade_orders_label_order_time")}),G.default.createElement(kt,{label:m("swaptrade_tee_tab_label_expires_after"),value:n}),G.default.createElement(qo,{triggerInfo:D,currencyConversion:ke,computedNowCurrencySymbol:Je,fromSymbol:R.tokenSymbol,toSymbol:W.tokenSymbol,orderType:ve}),G.default.createElement(Ht,{networks:[{chainName:t,chainLogo:e}]}),G.default.createElement(Kt,{value:F?.slippageValue,isSuccess:re,slippageInfo:F}),G.default.createElement(A,{label:m(Te?"swaptrade_orders_label_fee":"swaptrade_order_info_label_network_fee"),hasToolTips:!Te,toolTipsText:Te?"":m("swaptrade_tee_tooltip_desc_est_network_fee"),value:G.default.createElement("div",{className:"flex align-items-center content-primary"},r)}),G.default.createElement(qt,{value:K?.formattedServiceFee,isEstimated:!Te}),G.default.createElement(Ho,{chainName:t,chainLogo:e,value:C,hidden:!C}),G.default.createElement("div",{className:M.divider}),G.default.createElement(Qt,null),G.default.createElement(Yt,{value:P}),G.default.createElement(zt,{value:Y,hidden:$===ye.SUSPENDED}),G.default.createElement(Ko,{txTime:he,isSuccess:re}),G.default.createElement(io,{execPrice:ge,reverseExecPrice:X,execPriceEquation:ue,reverseExecPriceEquation:fe,isSolanaLimitOrder:k,showReverseIcon:ge!==oe,hasToolTips:!1,label:m("swaptrade_orders_label_execution_rate")}),!_e&&G.default.createElement(io,{execPrice:u,reverseExecPrice:p,execPriceEquation:g,reverseExecPriceEquation:f,isSolanaLimitOrder:k,showReverseIcon:u!==oe}),G.default.createElement(Wt,{value:me}),G.default.createElement(Or,{logo:j?.providerLogo,name:j?.provider}),G.default.createElement(Xt,{omittedFrom:a,from:s}),G.default.createElement(Dr,{hidden:!(x&&y),originHash:y,formatHash:v,exploreUrl:x}))}var Kn=ha;d();l();var se=I(E());function Ta({orderInfo:o}){let e=Be(),{type:t,time:r,networks:i,networkFee:n,otherFees:s,from:a,omittedFrom:u,fromSymbol:p,toSymbol:g,fromToPrice:f,toFromPrice:x,bridgeFee:k,bridgeName:y,bridgeFeeUsd:v,hiddenOtherFee:C,exploreUrl:O,estimateBridgeFeeAmount:L,estimateBridgeFeeAmountUsd:b,orderFinishedTime:D,isIntentOrder:F,totalSlippage:P,status:R,defiPlatformInfo:W,dexGasStationFeeDetailTips:Y,crossChainServiceFeeInfo:K,transactionHash:me,omittedHash:j,approveMethod:$,transactionTypeKey:re,orderTypeKey:ve,fromSwapMevInfo:_e,toSwapMevInfo:ue,mevInfo:fe,slippageValue:ge}=o,{isBridgeDetailFreeNetwork:X,bridgeNetworkFee:he}=to(),ke=o?.singleChainServiceFeeInfo||{};return se.default.createElement(se.default.Fragment,null,se.default.createElement(Nr,null),se.default.createElement(hr,{value:m(ve)}),se.default.createElement(kt,{value:r}),se.default.createElement(Ht,{networks:i}),se.default.createElement(Kt,{value:ge||P}),se.default.createElement(br,{type:t,isBridgeDetailFreeNetwork:X,bridgeNetworkFee:he,hiddenOtherFee:C,networks:i,networkFee:n,bridgeFee:k,bridgeFeeUsd:v,estimateBridgeFeeAmount:L,estimateBridgeFeeAmountUsd:b,crossChainServiceFeeInfo:K,isWidget:e,otherFees:s,bridgeName:y,isEstimated:R!==c.Succeed,dexGasStationFeeDetailTips:Y,isIntentOrder:F}),se.default.createElement(qt,{value:ke.formattedServiceFee,isEstimated:R!==c.Succeed,hidden:!ke.shouldDisplayServiceFee}),se.default.createElement(vr,{type:t,fromSwapMevInfo:_e,toSwapMevInfo:ue,networks:i,mevInfo:fe,label:m("swaptrade_trade_label_route_selection")}),se.default.createElement("div",{className:M.divider}),se.default.createElement(Qt,null),se.default.createElement(Yt,{value:m(re)}),se.default.createElement(zt,{value:D}),se.default.createElement(Ar,{type:t,fromSymbol:p,toSymbol:g,fromToPrice:f,toFromPrice:x}),se.default.createElement(Wt,{value:$}),se.default.createElement(Or,{logo:W?.logo,name:W?.name,hidden:!W}),se.default.createElement(Xt,{omittedFrom:u,from:a}),se.default.createElement(Dr,{originHash:me,formatHash:j,exploreUrl:O,hidden:!O}))}var zn=pe(Ta);var Sa=(o={})=>![w.SingleChain,w.GasStation,w.LimitOrder,w.MemeMode].includes(o.swapTradeType);function Ia({orderInfo:o,isLimit:e,isBridge:t}){return e?Kn:t??Sa(o)?jn:zn}function wa({orderInfo:o,className:e,gasToken:t,isWalletEnv:r,isLimit:i,isBridge:n}){let s=Ia({orderInfo:o,isLimit:i,isBridge:n});return so.default.createElement("div",{className:(0,Yn.default)(e,{[M.wallet]:r})},so.default.createElement("div",{className:M.content},so.default.createElement(s,{orderInfo:o,gasToken:t})))}var $n=wa;d();l();var U=I(E()),Pe=I(J());d();l();var zo=I(E()),Xn=I(J());d();l();var S={wrapper:"_wrapper_nj2i6_1",item:"_item_nj2i6_15",label:"_label_nj2i6_15",last:"_last_nj2i6_19",waiting:"_waiting_nj2i6_23",token:"_token_nj2i6_26",amount:"_amount_nj2i6_34","last-succeed":"_last-succeed_nj2i6_39",lastSucceed:"_last-succeed_nj2i6_39","token-amount-content":"_token-amount-content_nj2i6_42",tokenAmountContent:"_token-amount-content_nj2i6_42",activity:"_activity_nj2i6_45","waiting-symbol":"_waiting-symbol_nj2i6_48",waitingSymbol:"_waiting-symbol_nj2i6_48","amount-info":"_amount-info_nj2i6_51",amountInfo:"_amount-info_nj2i6_51","amount-text":"_amount-text_nj2i6_54",amountText:"_amount-text_nj2i6_54","status-box":"_status-box_nj2i6_59",statusBox:"_status-box_nj2i6_59","status-overflow":"_status-overflow_nj2i6_62",statusOverflow:"_status-overflow_nj2i6_62","next-arrow":"_next-arrow_nj2i6_68",nextArrow:"_next-arrow_nj2i6_68",tip:"_tip_nj2i6_74","arrow-icon":"_arrow-icon_nj2i6_84",arrowIcon:"_arrow-icon_nj2i6_84","flex-grow-0":"_flex-grow-0_nj2i6_93",flexGrow0:"_flex-grow-0_nj2i6_93","extra-gain":"_extra-gain_nj2i6_100",extraGain:"_extra-gain_nj2i6_100","process-tip-wrapper":"_process-tip-wrapper_nj2i6_118",processTipWrapper:"_process-tip-wrapper_nj2i6_118","border-tip-wrapper":"_border-tip-wrapper_nj2i6_128",borderTipWrapper:"_border-tip-wrapper_nj2i6_128","shadow-token-box":"_shadow-token-box_nj2i6_134",shadowTokenBox:"_shadow-token-box_nj2i6_134","go-to-swap":"_go-to-swap_nj2i6_137",goToSwap:"_go-to-swap_nj2i6_137","tip-fold":"_tip-fold_nj2i6_140",tipFold:"_tip-fold_nj2i6_140",loader:"_loader_nj2i6_143","waiting-logo":"_waiting-logo_nj2i6_150",waitingLogo:"_waiting-logo_nj2i6_150","sub-status-box":"_sub-status-box_nj2i6_153",subStatusBox:"_sub-status-box_nj2i6_153","sub-status-icon":"_sub-status-icon_nj2i6_157",subStatusIcon:"_sub-status-icon_nj2i6_157","icon-rotate":"_icon-rotate_nj2i6_161",iconRotate:"_icon-rotate_nj2i6_161",rotate:"_rotate_nj2i6_1","sub-status-icon-gas-token":"_sub-status-icon-gas-token_nj2i6_169",subStatusIconGasToken:"_sub-status-icon-gas-token_nj2i6_169",s0:"_s0_nj2i6_178","token-border":"_token-border_nj2i6_186",tokenBorder:"_token-border_nj2i6_186","share-link":"_share-link_nj2i6_189",shareLink:"_share-link_nj2i6_189","chain-name":"_chain-name_nj2i6_194",chainName:"_chain-name_nj2i6_194","gas-token-wrapper":"_gas-token-wrapper_nj2i6_212",gasTokenWrapper:"_gas-token-wrapper_nj2i6_212","gas-token":"_gas-token_nj2i6_212",gasToken:"_gas-token_nj2i6_212","waiting-chain-name":"_waiting-chain-name_nj2i6_219",waitingChainName:"_waiting-chain-name_nj2i6_219",loading:"_loading_nj2i6_222","loading-text":"_loading-text_nj2i6_231",loadingText:"_loading-text_nj2i6_231",failed:"_failed_nj2i6_234","waiting-icon":"_waiting-icon_nj2i6_237",waitingIcon:"_waiting-icon_nj2i6_237","gas-token-amount":"_gas-token-amount_nj2i6_240",gasTokenAmount:"_gas-token-amount_nj2i6_240","waiting-gas-token":"_waiting-gas-token_nj2i6_244",waitingGasToken:"_waiting-gas-token_nj2i6_244","gas-token-logo":"_gas-token-logo_nj2i6_244",gasTokenLogo:"_gas-token-logo_nj2i6_244","gas-token-info":"_gas-token-info_nj2i6_247",gasTokenInfo:"_gas-token-info_nj2i6_247","gas-token-chain-name":"_gas-token-chain-name_nj2i6_250",gasTokenChainName:"_gas-token-chain-name_nj2i6_250","pending-gas-token":"_pending-gas-token_nj2i6_253",pendingGasToken:"_pending-gas-token_nj2i6_253","succeed-gas-token":"_succeed-gas-token_nj2i6_256",succeedGasToken:"_succeed-gas-token_nj2i6_256","gas-token-symbol":"_gas-token-symbol_nj2i6_260",gasTokenSymbol:"_gas-token-symbol_nj2i6_260","text-overflow":"_text-overflow_nj2i6_263",textOverflow:"_text-overflow_nj2i6_263","amount-overflow":"_amount-overflow_nj2i6_268",amountOverflow:"_amount-overflow_nj2i6_268","pending-right-state":"_pending-right-state_nj2i6_275",pendingRightState:"_pending-right-state_nj2i6_275","pending-left-content":"_pending-left-content_nj2i6_278",pendingLeftContent:"_pending-left-content_nj2i6_278",link:"_link_nj2i6_282","pending-bottom-32":"_pending-bottom-32_nj2i6_286",pendingBottom32:"_pending-bottom-32_nj2i6_286","count-down-pill":"_count-down-pill_nj2i6_289",countDownPill:"_count-down-pill_nj2i6_289","position-relative":"_position-relative_nj2i6_292",positionRelative:"_position-relative_nj2i6_292","speeding-up-content":"_speeding-up-content_nj2i6_295",speedingUpContent:"_speeding-up-content_nj2i6_295","speed-up":"_speed-up_nj2i6_299",speedUp:"_speed-up_nj2i6_299","filter-order-pill":"_filter-order-pill_nj2i6_302",filterOrderPill:"_filter-order-pill_nj2i6_302","item-wrapper":"_item-wrapper_nj2i6_306",itemWrapper:"_item-wrapper_nj2i6_306","item-wrapper-left":"_item-wrapper-left_nj2i6_309",itemWrapperLeft:"_item-wrapper-left_nj2i6_309","item-wrapper-right":"_item-wrapper-right_nj2i6_318",itemWrapperRight:"_item-wrapper-right_nj2i6_318","box-pd":"_box-pd_nj2i6_321",boxPd:"_box-pd_nj2i6_321","progress-bar":"_progress-bar_nj2i6_324",progressBar:"_progress-bar_nj2i6_324","progress-delay":"_progress-delay_nj2i6_329",progressDelay:"_progress-delay_nj2i6_329","progress-val":"_progress-val_nj2i6_332",progressVal:"_progress-val_nj2i6_332","symbol-color":"_symbol-color_nj2i6_339",symbolColor:"_symbol-color_nj2i6_339","fold-arrow":"_fold-arrow_nj2i6_342",foldArrow:"_fold-arrow_nj2i6_342","pending-left6":"_pending-left6_nj2i6_347",pendingLeft6:"_pending-left6_nj2i6_347","icon-font-centers":"_icon-font-centers_nj2i6_350",iconFontCenters:"_icon-font-centers_nj2i6_350","token-amount-big":"_token-amount-big_nj2i6_353",tokenAmountBig:"_token-amount-big_nj2i6_353","token-amount-small":"_token-amount-small_nj2i6_360",tokenAmountSmall:"_token-amount-small_nj2i6_360","token-amount-wrapper":"_token-amount-wrapper_nj2i6_367",tokenAmountWrapper:"_token-amount-wrapper_nj2i6_367"};var ya=({isFromStart:o,exploreUrl:e,hiddenExploreUrl:t,iconClassName:r})=>{let i={className:(0,Xn.default)("content-contrast",S.shareLink),handleStyle:!1};return!o&&e&&!t?zo.default.createElement(je,{href:e,...i},zo.default.createElement(Z,{className:r||"okx-defi-web3-open-link",size:16})):null},ao=pe(ya);d();l();var ee={wrapper:"_wrapper_1y948_1","token-group":"_token-group_1y948_15",tokenGroup:"_token-group_1y948_15","detail-text":"_detail-text_1y948_25",detailText:"_detail-text_1y948_25",fail:"_fail_1y948_31",blue:"_blue_1y948_39",item:"_item_1y948_44",green:"_green_1y948_47",img:"_img_1y948_53","dialog-info":"_dialog-info_1y948_57",dialogInfo:"_dialog-info_1y948_57",statusBox:"_statusBox_1y948_61","fold-arrow":"_fold-arrow_1y948_65",foldArrow:"_fold-arrow_1y948_65","execution-history-box":"_execution-history-box_1y948_70",executionHistoryBox:"_execution-history-box_1y948_70","execution-history-title":"_execution-history-title_1y948_77",executionHistoryTitle:"_execution-history-title_1y948_77","execution-history-desc":"_execution-history-desc_1y948_83",executionHistoryDesc:"_execution-history-desc_1y948_83","execution-history-content":"_execution-history-content_1y948_90",executionHistoryContent:"_execution-history-content_1y948_90","execution-history-item":"_execution-history-item_1y948_95",executionHistoryItem:"_execution-history-item_1y948_95","execution-history-time":"_execution-history-time_1y948_103",executionHistoryTime:"_execution-history-time_1y948_103","execution-history-msg":"_execution-history-msg_1y948_106",executionHistoryMsg:"_execution-history-msg_1y948_106","execution-history-info":"_execution-history-info_1y948_112",executionHistoryInfo:"_execution-history-info_1y948_112","execution-history-icon":"_execution-history-icon_1y948_115",executionHistoryIcon:"_execution-history-icon_1y948_115"};var xa={0:"swaptrade_max_fee_reminder_trade_successful",3016:"swaptrade_max_fee_reminder_no_quote_low_liquidity",3005:"swaptrade_tee_reminder_quoted_price_below_min",3018:"swaptrade_tee_reminder_mev_provider_error",3017:"swaptrade_tee_reminder_unable_fetch_quote",3020:"swaptrade_tee_reminder_blocklisted_address_no_trade",3019:"swaptrade_tee_reminder_risky_token_no_trade",3023:"swaptrade_tee_reminder_limit_order_expired",3007:"swaptrade_tee_reminder_signature_failed",3006:"swaptrade_tee_reminder_preexecution_error",3014:"swaptrade_tee_reminder_insuffcient_funds_fee",3013:"swaptrade_tee_reminder_insufficient_funds_wallet",3015:"swaptrade_max_fee_reminder_order_exceeds_slippage",3008:"swaptrade_max_fee_reminder_broadcast_failed",3010:"swaptrade_tee_reminder_on_chain_failed",2001:"swaptrade_max_fee_reminder_failed_to_auto_cancel",2002:"swaptrade_max_fee_reminder_order_auto_canceled",2003:"swaptrade_max_fee_reminder_failed_to_cancel_order",2004:"swaptrade_max_fee_reminder_order_canceled",2005:"swaptrade_max_fee_reminder_order_expired",2006:"swaptrade_max_fee_reminder_failed_to_edit_order",2007:"swaptrade_max_fee_reminder_order_edited",2008:"swaptrade_max_fee_reminder_trade_successful",2009:"swaptrade_max_fee_reminder_broadcast_failed",2010:"swaptrade_max_fee_reminder_order_exceeds_slippage",2011:"swaptrade_max_fee_reminder_failed_to_create_order",2012:"swaptrade_max_fee_reminder_order_created"},ka=({orderInfo:o})=>{let{fromTokenGroupLabel:e,fromTokenGroupLabelEquation:t,fromTokenIcon:r,toTokenGroupLabel:i,toTokenGroupLabelEquation:n,toTokenIcon:s,isSuccess:a,isFailed:u,executionHistoryList:p=[],executionHistoryShowMaxNum:g=5}=o,[f,x]=(0,U.useState)(!1),k=p?.length>0;return U.default.createElement("div",{className:(0,Pe.default)(ee.wrapper)},U.default.createElement("div",{className:(0,Pe.default)("flex flex-col")},U.default.createElement("span",{className:(0,Pe.default)("font-14 mb-8")},m("swaptrade_orders_label_sell1")),U.default.createElement("div",{className:(0,Pe.default)("flex items-center",ee.tokenGroup)},U.default.createElement("img",{src:r??"",alt:"",className:(0,Pe.default)("mr-12",ee.img)}),U.default.createElement(Tt,{text:e,equation:t},U.default.createElement("span",{className:(0,Pe.default)("ellipsis",ee.detailText)},t?.split(" ")?.[0]," ",U.default.createElement("span",{className:"content-contrast"},t?.split(" ")?.[1]))),k&&U.default.createElement("div",{className:(0,Pe.default)("flex justify-content-end",ee.statusBox)},U.default.createElement(Z,{className:(0,Pe.default)(ee.foldArrow,{"okx-defi-dex-arrow-down":f,"okx-defi-dex-arrow-up":!f}),onClick:()=>{x(y=>!y)},size:24})))),k&&!f&&U.default.createElement("div",{className:ee.executionHistoryBox},U.default.createElement("div",{className:ee.executionHistoryTitle},m("swaptrade_max_fee_header_order_execution_history")),U.default.createElement("div",{className:ee.executionHistoryContent},U.default.createElement("div",{className:ee.executionHistoryDesc},m("swaptrade_max_fee_reminder_only_displaying_last_5",{num:Ze.formatNumber(g)})),p.map((y,v)=>{let C=y.executionTime+y.code+v;return U.default.createElement("div",{key:C,className:ee.executionHistoryItem},U.default.createElement("div",{className:ee.executionHistoryInfo},U.default.createElement("span",{className:ee.executionHistoryTime},Ze.formatDateTime(new Date(Number(y.executionTime)),{format:"yyyyMMddHHmm"})),U.default.createElement("span",{className:ee.executionHistoryMsg},m(xa[y.code])||"")),U.default.createElement("div",{className:ee.executionHistoryIcon},U.default.createElement(ao,{exploreUrl:y.exploreUrl,hiddenExploreUrl:!y.exploreUrl})))}))),U.default.createElement("div",{className:(0,Pe.default)("flex flex-col",ee.item)},U.default.createElement("span",{className:(0,Pe.default)("font-14 mb-12")},m(a?"swaptrade_orders_label_receive":"swaptrade_tee_tab_label_est_received")),U.default.createElement("div",{className:(0,Pe.default)("flex items-center",ee.tokenGroup)},U.default.createElement("img",{src:s??"",alt:"",className:(0,Pe.default)("mr-12",ee.img)}),U.default.createElement(Tt,{text:i,equation:n},U.default.createElement("span",{className:(0,Pe.default)("ellipsis",{[ee.green]:a,[ee.detailText]:!a})},u?oe:U.default.createElement(U.default.Fragment,null,n?.split(" ")?.[0]," ",U.default.createElement("span",{className:"content-contrast"},n?.split(" ")?.[1])))))))},Qn=ka;d();l();var Ve=I(E()),Qo=I(J());d();l();d();l();var Xe=I(E()),Zn=I($r()),es=I(J());d();l();var Ca=o=>String(o)==="3",va=o=>String(o)==="8",Yo=o=>String(o)==="22",ba=o=>Ca(o)||va(o)||Yo(o),lo=({blockProcess:o,bridgeId:e})=>o===ne.BLOCK_BRIDGE&&ba(e);d();l();var te=I(E()),We=I(J());d();l();var ae={box:"_box_oxkj0_1","mt-12":"_mt-12_oxkj0_9",mt12:"_mt-12_oxkj0_9",content:"_content_oxkj0_12","show-less-content":"_show-less-content_oxkj0_17",showLessContent:"_show-less-content_oxkj0_17","show-more-content":"_show-more-content_oxkj0_20",showMoreContent:"_show-more-content_oxkj0_20",overview:"_overview_oxkj0_23","overview-ellipsis":"_overview-ellipsis_oxkj0_27",overviewEllipsis:"_overview-ellipsis_oxkj0_27",list:"_list_oxkj0_35","list-item":"_list-item_oxkj0_39",listItem:"_list-item_oxkj0_39","switch-btn":"_switch-btn_oxkj0_43",switchBtn:"_switch-btn_oxkj0_43","switch-btn-icon":"_switch-btn-icon_oxkj0_47",switchBtnIcon:"_switch-btn-icon_oxkj0_47","switch-btn-icon-hide":"_switch-btn-icon-hide_oxkj0_55",switchBtnIconHide:"_switch-btn-icon-hide_oxkj0_55","action-content":"_action-content_oxkj0_58",actionContent:"_action-content_oxkj0_58","action-content-icon":"_action-content-icon_oxkj0_63",actionContentIcon:"_action-content-icon_oxkj0_63","guid-url-content":"_guid-url-content_oxkj0_68",guidUrlContent:"_guid-url-content_oxkj0_68","guid-url":"_guid-url_oxkj0_68",guidUrl:"_guid-url_oxkj0_68","no-box-wrapper":"_no-box-wrapper_oxkj0_75",noBoxWrapper:"_no-box-wrapper_oxkj0_75"};d();l();var Aa=o=>{switch(o){case $e.SINGLE:return"customer_support_singlechainswap";case $e.CROSS_FROM_SWAP:return"customer_support_fromswap";case $e.CROSS_BRIDGE_SWAP:return"customer_support_bridge";case $e.CROSS_TO_SWAP:return"customer_support_toswap";default:return""}},Jn=Aa;var Ea=({overview:o,detailList:e=[],onClickSubOrderTip:t=null,subOrderTipText:r="",hasCustomerService:i=!1,orderId:n="",subOrderType:s="",className:a="",guideUrl:u=""})=>{let[p,g]=(0,te.useState)(!1),[f,x]=(0,te.useState)(!0),k=(0,te.useRef)(null),{recentTransactionStore:y,accountStore:v}=z(),C=()=>{x(!f)},O=()=>{if(Bt({wallet_address:v.computedAccountWalletAddresses,order_id:n,button_name:Jn(s)}),st()){let b=m("swaptrade_function_textbtn_contact_customer_support_link");fi(b,"_blank")}else y.closeModal(),window.okGlobal?.showCS?.()};return(0,te.useEffect)(()=>{if(e&&e.length>0){g(!0);return}if(k?.current){let L=k.current.getBoundingClientRect().height;g(L>48)}},[o,e,k]),te.default.createElement("div",{className:(0,We.default)("flex flex-column",ae.box,ae[a])},te.default.createElement("div",{className:(0,We.default)("font-12",ae.content,f?ae.showLessContent:ae.showMoreContent)},te.default.createElement("p",{className:(0,We.default)(ae.overview,{[ae.overviewEllipsis]:f&&p}),ref:k},o),e.length>0&&!f?te.default.createElement("ul",{className:ae.list},e.map((L,b)=>te.default.createElement("li",{key:b,className:ae.listItem},L))):null),p?te.default.createElement(ar,{className:(0,We.default)("flex align-items-center font-bold",ae.switchBtn),onClick:C},f?m("swaptrade_function_dropdown_show_more"):m("swaptrade_function_dropdown_show_less"),te.default.createElement(ze,{className:(0,We.default)("okx-defi-dex-arrow-down-chevrons",ae.switchBtnIcon,{[ae.switchBtnIconHide]:f}),style:{fontSize:12}})):null,t?te.default.createElement(ar,{className:(0,We.default)("flex align-items-center font-700",ae.actionContent),onClick:t},r,te.default.createElement(ze,{className:(0,We.default)("okx-defi-dex-arrow-to",ae.actionContentIcon),style:{fontSize:12}})):null,i?te.default.createElement(ar,{className:(0,We.default)("flex align-items-center font-700",ae.actionContent),onClick:O},m("swaptrade_function_textbtn_contact_customer_support"),te.default.createElement(ze,{className:(0,We.default)("okx-defi-dex-arrow-to",ae.actionContentIcon),style:{fontSize:12}})):null,!!u&&te.default.createElement(je,{handleStyle:!1,href:u,className:(0,We.default)("flex align-items-center font-700",ae.guidUrlContent,ae.guidUrl)},m("swaptrade_general_btn_check_guide"),te.default.createElement(ze,{className:(0,We.default)("okx-defi-dex-arrow-to",ae.actionContentIcon),style:{fontSize:12}})))},Zt=pe(Ea);d();l();var Ct={link:"_link_105qk_1","a-tag":"_a-tag_105qk_1",aTag:"_a-tag_105qk_1","tip-copy":"_tip-copy_105qk_8",tipCopy:"_tip-copy_105qk_8"};var $o=({bridgeName:o="",bridgeId:e})=>{let t=m("swaptrade_bridge_reminder_desc_swft_reason",{bridge:o}),r=[];if(Yo(e)){let i=m("swaptrade_bridge_reminder_desc_meson_org_address"),n=m("swaptrade_bridge_reminder_desc_meson_org_discord");r=[Xe.default.createElement("span",{className:Ct.link},Xe.default.createElement(Mr,{href:i,alt:o,className:Ct.aTag},i)),Xe.default.createElement("span",{className:Ct.link},Xe.default.createElement(Mr,{href:n,alt:o,className:Ct.aTag},n))]}else{let i=m("swaptrade_bridge_reminder_desc_swft_org_address"),n=m("swaptrade_bridge_reminder_desc_swft_org_email");r=[Xe.default.createElement("span",{className:Ct.link},Xe.default.createElement(Mr,{href:i,alt:i,className:Ct.aTag},i)),Xe.default.createElement("div",null,n,Xe.default.createElement(Zn.CopyToClipboard,{text:n,onCopy:()=>{ft.success(m("swaptrade_order_info_label_from_copy_success"))}},Xe.default.createElement(ze,{className:(0,es.default)("okx-defi-dex-copy2",Ct.tipCopy)})))]}return Xe.default.createElement(Zt,{overview:t,detailList:r,className:"noBoxWrapper"})};d();l();var He=I(E()),ts=I(J());d();l();var Xo={alert:"_alert_1eudu_1",close:"_close_1eudu_8","customer-text":"_customer-text_1eudu_15",customerText:"_customer-text_1eudu_15"};var Oa=({visible:o,computedPendingTimingStatus:e,isWalletEnv:t,order:r})=>{let{orderId:i,specialOrderType:n,fromChainName:s,willNeedManualClaim:a,toSymbol:u}=r,{recentTransactionStore:p,accountStore:g}=z(),f=(0,He.useCallback)(()=>{Bt({wallet_address:g.computedAccountWalletAddresses,order_id:i,button_name:"customer_support_top"})},[g.computedAccountWalletAddresses,i]),x=(0,He.useCallback)(()=>{f(),window.okGlobal?.showCS()},[f]),k=(0,He.useMemo)(()=>t?{target:"_blank",href:m("swaptrade_history_link_help_center"),onClick:f}:{onClick:x},[t,f,x]),y=(0,He.useMemo)(()=>n===pn.FromIsBtcChain?m("swaptrade_history_text_mechanism_unique",{chain:s}):e===Mt.TIMEOUT?He.default.createElement(He.default.Fragment,null,m(t?"swaptrade_history_reminder_customer_service":"swaptrade_mid_reminder_avoid_waiting"),"\xA0",He.default.createElement(To,{type:To.TYPE.secondary,underline:!0,linkClassName:Xo.customerText,...k},m(t?"swaptrade_history_textbtn_helper":"swaptrade_mid_textbtn_customer_service"))):a===Gr?m("swaptrade_bridge_reminder_you_may_close_this",{token:u}):p.computedIsGasStation?m("swaptrade_history_toast_after_swap"):m("swaptrade_history_toast_confirming_check"),[e,p.computedIsGasStation,t,k,n,s,a,u]);return o?He.default.createElement("div",{className:(0,ts.default)(Xo.alert)},He.default.createElement("p",null,y)):null},rs=pe(Oa);d();l();var vt={status:"_status_omr0p_1",loader:"_loader_omr0p_1","loader-wrap":"_loader-wrap_omr0p_5",loaderWrap:"_loader-wrap_omr0p_5","cancel-btn":"_cancel-btn_omr0p_8",cancelBtn:"_cancel-btn_omr0p_8","fail-btn":"_fail-btn_omr0p_11",failBtn:"_fail-btn_omr0p_11","fail-icon":"_fail-icon_omr0p_14",failIcon:"_fail-icon_omr0p_14","fail-desc":"_fail-desc_omr0p_17",failDesc:"_fail-desc_omr0p_17","is-not-empty":"_is-not-empty_omr0p_20",isNotEmpty:"_is-not-empty_omr0p_20","fixed-btn":"_fixed-btn_omr0p_34",fixedBtn:"_fixed-btn_omr0p_34","inner-btn":"_inner-btn_omr0p_43",innerBtn:"_inner-btn_omr0p_43","header-status-wrap":"_header-status-wrap_omr0p_46",headerStatusWrap:"_header-status-wrap_omr0p_46",desc:"_desc_omr0p_58","expire-time":"_expire-time_omr0p_61",expireTime:"_expire-time_omr0p_61","expire-time-content":"_expire-time-content_omr0p_68",expireTimeContent:"_expire-time-content_omr0p_68","absolute-expire-time":"_absolute-expire-time_omr0p_72",absoluteExpireTime:"_absolute-expire-time_omr0p_72","back-icon":"_back-icon_omr0p_85",backIcon:"_back-icon_omr0p_85","top-wrapper":"_top-wrapper_omr0p_93",topWrapper:"_top-wrapper_omr0p_93","header-status-icon":"_header-status-icon_omr0p_100",headerStatusIcon:"_header-status-icon_omr0p_100"};function La({order:o,className:e="",isWalletEnv:t=!1,computedPendingTimingStatus:r,onClickSwapAgain:i,computedIfSwapFailedAmount:n,orderContinueStatus:s,isDialog:a,firstBlockProcess:u}){let{status:p,abnormalStatus:g,showSwapAgainBtn:f}=o,x=[c.Waiting,c.SpeedingUp].includes(p)?c.Pending:p,[k,y]=(0,Ve.useState)(!!Ye.get(Eo)),v=lo({blockProcess:u,bridgeId:o?.bridgeId}),C=(0,Ve.useMemo)(()=>v?!1:!([c.Succeed,c.PendingWithdrawn,c.PendingCanRedeem,c.PendingRedeeming,c.Failed,c.Canceled,c.ReadyToClaim,c.Claiming].includes(x)||k),[k,x,v]),O=()=>{Ye.set(Eo,"1"),y(!0)},L=(0,Ve.useMemo)(()=>{let D=null;return x===c.Pending&&g!=="-1"&&(D=Ve.default.createElement("div",{className:(0,Qo.default)("font-400 font-12 line-20 content-contrast",vt.statusExplain)},g==="1"&&m("swaptrade_popup_pending_desc_for_assets_safety"),g==="2"&&m("swaptrade_popup_pending_desc_transaction_volume_toolarge"))),D},[x,g]),b=(0,Ve.useMemo)(()=>s===yi.LOADING,[s]);return Ve.default.createElement("div",{className:(0,Qo.default)("text-center",vt.status,{[vt.showAlert]:C,[vt.wallet]:t,[vt.isNotEmpty]:L||C},e)},f&&!a&&Ve.default.createElement("div",{className:vt.fixedBtn},Ve.default.createElement(Pt,{loading:b,className:vt.innerBtn,onClick:i,loadingText:n?m("swaptrade_history_btn_resubmit_transaction"):m("swaptrade_history_btn_onemore_conversion"),category:Pt.CATEGORY.fill,type:Pt.TYPE.primary,size:Pt.SIZE.md},n?m("swaptrade_history_btn_resubmit_transaction"):m("swaptrade_history_btn_onemore_conversion"))),L,Ve.default.createElement(rs,{isWalletEnv:t,computedPendingTimingStatus:r,visible:C,onClose:O,order:o}))}var os=La;d();l();var At=I(E()),gs=I(J());d();l();var is=I(E());var Da=o=>(0,is.useMemo)(()=>[c.Waiting,c.SpeedingUp].includes(o)?c.Pending:o,[o]),ns=Da;d();l();var Ce=I(E()),mt=I(J());d();l();var er={box:"_box_hp1z1_1","token-logo":"_token-logo_hp1z1_4",tokenLogo:"_token-logo_hp1z1_4","token-info":"_token-info_hp1z1_10",tokenInfo:"_token-info_hp1z1_10","token-amount":"_token-amount_hp1z1_13",tokenAmount:"_token-amount_hp1z1_13","share-link":"_share-link_hp1z1_23",shareLink:"_share-link_hp1z1_23","error-info":"_error-info_hp1z1_26",errorInfo:"_error-info_hp1z1_26"};var Na=({isFromChainRefund:o,exploreUrl:e,fromTokenIcon:t,formatRefundAmount:r,refundSymbol:i,refundChain:n})=>{if(!o)return null;let s=`${r} ${i}`,a=m("swaptrade_history_notif_thirdparty_bridge_refund",{amount:r,symbol:i,chain:n});return Ce.default.createElement("div",{className:(0,mt.default)(er.box)},Ce.default.createElement("div",{className:(0,mt.default)("flex align-items-center justify-between")},Ce.default.createElement("div",{className:(0,mt.default)("flex align-items-center")},Ce.default.createElement("div",{className:(0,mt.default)(er.tokenLogo)},Ce.default.createElement(ur,{src:t,size:22,className:(0,mt.default)("shrink-0",S.tokenBorder)})),Ce.default.createElement("div",{className:(0,mt.default)(er.tokenInfo)},Ce.default.createElement(_t,{title:s,textOverflow:{text:s},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300},Ce.default.createElement("div",{className:(0,mt.default)(er.tokenAmount,S.amountOverflow)},et("+",r)," ",Ce.default.createElement("span",{className:S.symbolColor},i))),Ce.default.createElement("p",{className:S.chainName},n))),e&&Ce.default.createElement("div",null,Ce.default.createElement(je,{href:e,className:(0,mt.default)("content-contrast",er.shareLink),handleStyle:!1},Ce.default.createElement(Z,{className:"okx-defi-web3-open-link",size:16})))),Ce.default.createElement("div",{className:er.errorInfo},Ce.default.createElement(Zt,{overview:a,hasCustomerService:!0})))},ss=Na;d();l();var q=I(E()),bt=I(J());var Pa=({gasToken:o,networks:e,isWalletEnv:t})=>{let r=(0,q.useRef)(null),i=(0,q.useRef)(null),n=(0,q.useRef)(null),s=(0,q.useRef)(null),[a,u]=(0,q.useState)({}),[p,g]=(0,q.useState)({}),f=(0,q.useMemo)(()=>({fontSize:14,lineHeight:"16px"}),[]),x="14px",k=(0,q.useCallback)(({expectWidth:v,rightTextWidth:C,refRightTextComputedStyle:O,refLeftTextComputedStyle:L})=>{v<C&&(O.fontSize!==x?u(f):L.fontSize!==x?(u(f),g(f)):(u({width:v,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...f}),g(f)))},[f]),y=(0,q.useCallback)(()=>{let v=r?.current?.clientWidth,C=i?.current?.scrollWidth,O=s?.current?.scrollWidth;if(v&&C&&O){let L=v-C-73,b=window.getComputedStyle(s?.current),D=window.getComputedStyle(n?.current);k({expectWidth:L,rightTextWidth:O,refRightTextComputedStyle:b,refLeftTextComputedStyle:D})}},[k]);return(0,q.useEffect)(()=>{y()},[a.fontSize,p.fontSize,y]),o?q.default.createElement("div",{className:(0,bt.default)("flex align-items-center justify-content-between overflow-hidden",S.gasTokenWrapper)},q.default.createElement("div",{ref:r,className:(0,bt.default)("flex align-items-center",S.gasToken,{[S.pendingGasToken]:o.status===kr.Pending,[S.waitingGasToken]:o.status===kr.Waiting,[S.succeedGasToken]:o.status===kr.Succeed})},q.default.createElement(ur,{src:o.logoUrl||xi(),size:32,className:(0,bt.default)("shrink-0",S.gasTokenLogo)}),q.default.createElement("div",{ref:i,className:(0,bt.default)("flex flex-column ml-12",{truncate:t},S.gasTokenInfo,S.pendingLeftContent)},q.default.createElement("span",{ref:n,className:(0,bt.default)(S.gasTokenAmount,{truncate:t}),style:p},qr("swaptrade_confirm_transaction_text_numbersforrefuel",{value:H(o.amount),symbol:q.default.createElement("span",{className:S.gasTokenSymbol},o.symbol)})),q.default.createElement("span",{className:(0,bt.default)("font-12 content-contrast",S.label,S.gasTokenChainName)},e[1].chainName))),o.status===kr.Succeed&&q.default.createElement(je,{href:o.exploreUrl,className:(0,bt.default)(S.subStatusIconGasToken,S.shareLink)},q.default.createElement(Z,{className:"okx-defi-web3-open-link content-contrast",size:16}))):null},as=Pa;d();l();var N=I(E()),le=I(J());d();l();var tr=I(E());var ds=({countDownTime:o,isLast:e})=>o&&!e?tr.default.createElement("span",{className:S.countDownPill},Yr(o)):tr.default.createElement(dr.Circle,{size:dr.SIZE.md,className:S.loader,loaderStyle:{borderWidth:1}}),Fa=({subOrder:o,isLast:e})=>{let{countDownTime:t,status:r}=o,i={countDownTime:t,isLast:e};return r===c.Pending?tr.default.createElement(ds,{...i}):r===c.SpeedingUp?tr.default.createElement("div",{className:S.speedingUpContent},tr.default.createElement("span",{className:S.speedUp},m("swaptrade_list_colored_speeding_up")),tr.default.createElement(ds,{...i})):null},ls=Fa;d();l();var Qe=I(E());d();l();var Pr=I(E());d();l();var Jo=I(E());Br();d();l();var de=o=>({amount:o?.refund?.amount,symbol:o?.refund?.symbol,chain:o?.refund?.chain}),rr=o=>({bridgeName:o?.bridgeInfo?.bridgeName}),Ra=o=>({bridge:o?.bridgeInfo?.bridgeName,token1:o?.dexBridgeShadowTokenPair?.realTokenSymbol,token2:o?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),Ba=()=>{let o=Be(),e=o?"swaptrade_history_notif_returned_failed_reasons":"swaptrade_servicefee_fee_notif_deduct_network_fee";return{1:{overviewKey:"swaptrade_history_notif_broadcast_failed"},2:{overviewKey:"swaptrade_history_notif_low_network_fee"},3:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},4:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},5:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},6:{overviewKey:"swaptrade_history_notif_accelerated_or_canceled"},7:{overviewKey:"swaptrade_history_notif_increase_gas"},8:{overviewKey:"swaptrade_history_errortip_official_bridge_asset_delay",renderOverview:t=>({chain:t?.chainName,value:t?.officialBridgeTime})},9:{overviewKey:"swaptrade_sub_order_tip_refund",hasCustomerService:!0},10:{overviewKey:"swaptrade_sub_order_tip_less_than_minimum"},11:{overviewKey:"swaptrade_trade_toast_multichain",renderOverview:t=>({wrapped:t.originalTokenSymbol,native:t.symbol})},12:{overviewKey:"swaptrade_bridge_toast_order_status_lag_behind_assets"},13:{overviewKey:"swaptrade_history_modal_top_error_jito_fail"},2003:{overviewKey:"swaptrade_history_notif_3rd_bridge_changes"},2501:{overviewKey:"swaptrade_history_notif_failed_returned_exchange",renderOverview:de},2502:{overviewKey:"swaptrade_history_notif_failed_exchange"},2503:{overviewKey:"swaptrade_history_notif_returned_blacklist",renderOverview:de},2504:{overviewKey:"swaptrade_history_notif_blacklist"},2506:{overviewKey:"swaptrade_history_notif_failed_increasing"},2507:{overviewKey:"swaptrade_history_notif_failed_returned_increasing",renderOverview:de},2508:{overviewKey:"swaptrade_history_notif_failed_increasing"},2513:{overviewKey:"swaptrade_history_notif_returned_insufficient_liquidity",renderOverview:de},2514:{overviewKey:"swaptrade_history_notif_3rdbridge_insufficient_liquidity"},2515:{overviewKey:"swaptrade_history_notif_returned_delisted_token",renderOverview:de},2516:{overviewKey:"swaptrade_history_notif_delisted_token",renderOverview:de},2517:{overviewKey:"swaptrade_history_notif_returned_limit",renderOverview:de},2518:{overviewKey:"swaptrade_history_notif_limit"},2519:{overviewKey:"swaptrade_history_notif_bridge_slippage_later",renderOverview:de},2520:{overviewKey:"swaptrade_history_notif_bridge_slippage_noref"},2598:{overviewKey:"swaptrade_history_notif_thirdparty_bridge_refund",renderOverview:de,hasCustomerService:!0},2599:{overviewKey:"swaptrade_history_notif_thirdparty_bridge",hasCustomerService:!0},3502:{overviewKey:e,renderOverview:de,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3504:{overviewKey:o?"swaptrade_history_notif_returned_contract":"swaptrade_servicefee_notif_returned_contract",renderOverview:de},3505:{overviewKey:o?"swaptrade_history_notif_returned_broadcast_failed":"swaptrade_servicefee_notif_returned_broadcast_failed",renderOverview:de},3506:{overviewKey:o?"swaptrade_history_notif_returned_low_fee":"swaptrade_servicefee_notif_returned_low_fee",renderOverview:de},3507:{overviewKey:e,renderOverview:de,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3508:{overviewKey:e,renderOverview:de,detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},3509:{overviewKey:e,renderOverview:de,detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},3510:{overviewKey:"swaptrade_history_notif_returned_accelerated_canceled",renderOverview:de},3511:{overviewKey:o?"swaptrade_history_notif_returned_insufficient":"swaptrade_servicefee_notif_returned_insufficient",renderOverview:de},3512:{overviewKey:"swaptrade_history_notif_returned_low_gas",renderOverview:de},3599:{overviewKey:o?"swaptrade_history_notif_returned_error":"swaptrade_servicefee_notif_returned_error",renderOverview:de,hasCustomerService:!0},9999:{overviewKey:"swaptrade_history_notif_error_contact_support",hasCustomerService:!0},4001:{overviewKey:"swaptrade_pop_dialog_desc_intent_error_retry"},4002:{overviewKey:"swaptrade_bridge_alert_desc_bridge_process_error",renderOverview:t=>({bridge:t?.bridgeInfo?.bridgeName})},4003:{overviewKey:"swaptrade_history_notif_desc_synapse_website_swap",renderOverview:Ra,hasGuideUrl:!0},999999:{overviewKey:"swaptrade_history_modal_tips_update_balance"},2600:{overviewKey:"swaptrade_reminder_desc_debridge_refund",renderOverview:rr,hasGuideUrl:!0},2601:{overviewKey:"swaptrade_reminder_desc_wormhole_refund",renderOverview:rr,hasGuideUrl:!0},2602:{overviewKey:"swaptrade_reminder_desc_arbitrum_refund",renderOverview:t=>({...rr(t),min:t?.officialBridgeTime}),hasGuideUrl:!0},2603:{overviewKey:"swaptrade_reminder_desc_wanchain_blocklist",renderOverview:rr},2604:{overviewKey:"swaptrade_reminder_desc_wormhole_daily_limit",renderOverview:rr},2605:{overviewKey:"swaptrade_reminder_desc_wormhole_maximum_limit",renderOverview:rr},2606:{overviewKey:"swaptrade_reminder_desc_meson_liquidity",renderOverview:rr}}},ms=Ba;var Ma=({errorCode:o,subOrder:e,onClickShadowToken:t=()=>{},orderId:r=""})=>{let i=Ae(ms(),o);if(i){let n=m(i.overviewKey,i.renderOverview?i.renderOverview(e):void 0),{subOrderType:s}=e||{},a=i.hasGuideUrl?e?.guideUrl:"",u=Array.isArray(i.detailKeyList)?i.detailKeyList.map(p=>m(p)):[];return Jo.default.createElement(Zt,{overview:n,detailList:u,hasCustomerService:!!i.hasCustomerService,orderId:r,subOrderType:s,guideUrl:a})}else if(o==="3501"){let n=e?.dexBridgeShadowTokenPair;if(n&&e?.dexBridgeShadowTokenPairChainId){let s=()=>{t({from:{chainId:e.dexBridgeShadowTokenPairChainId,tokenContractAddress:n.shadowTokenAddress??""},to:{chainId:e.dexBridgeShadowTokenPairChainId,tokenContractAddress:n.realTokenAddress??""},inputAmount:n.needSwapAmount??""})};return Jo.default.createElement(Zt,{overview:m("swaptrade_reminder_text_trade_convert",{bridge:e?.bridgeInfo?.bridgeName,tokensymbol:e?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),subOrderTipText:m("swaptrade_function_notif_go_swap"),onClickSubOrderTip:s})}}return null},ps=pe(Ma);d();l();var cs=I(E()),_s=I(J());var Ua=({isFold:o,className:e,children:t})=>cs.default.createElement("div",{className:(0,_s.default)("font-12 flex-item",S.tip,e,{[S.tipFold]:o})},t),mo=Ua;var ja=({isFold:o,subOrder:e={},insteadTip:t=null,onClickShadowToken:r=()=>{},orderId:i=""})=>{let n=String(e?.errorCode),s=(0,Pr.useMemo)(()=>n&&n!=="0"?Pr.default.createElement(ps,{errorCode:n,subOrder:e,onClickShadowToken:r,orderId:i}):null,[n,e,r,i]);return s&&!e?.isFromStart?Pr.default.createElement(mo,{isFold:o},s):t},uo=ja;d();l();var Ue=I(E());var Ga=({tipType:o,isFold:e=!1,subOrder:t={},isTimeOut:r=!1,fromStatus:i="",bridgeStatus:n="",tipCountDownTime:s=0,needShowErrorTip:a=!1,isOriginBridge:u,hasTimeoutTips:p,timeoutType:g,isMemeModeOrder:f=!1,isMemeTimeOut:x=!1,bridgeId:k="",bridgeName:y="",blockProcess:v=-1})=>{let{content:C,hasBorderStyle:O}=(0,Ue.useMemo)(()=>{if(t.hasErrorCode)return{content:null};if(f&&x)return{content:m("swaptrade_history_modal_error_too_long")};let b=lo({blockProcess:v,bridgeId:k});if(p){if(b)return{hasBorderStyle:!0,content:Ue.default.createElement($o,{bridgeName:y,bridgeId:k})};if(g===ne.SINGLE_TIPS||g===ne.GAS)return{content:m("swaptrade_history_reminder_wait_patiently")};if(g===ne.BRIDGE)return{content:m("swaptrade_history_reminder_crossing_assets_thx",{chain:t?.bridgeTipInfo?.toChainName||t?.toChainName,bridge:t?.bridgeTipInfo?.bridgeName||t?.bridgeOrderInfoVo?.bridgeName})}}return o===1?{content:Ue.default.createElement(Ue.default.Fragment,null,m(r?"swaptrade_history_reminder_exchanging_tokens_thx":"swaptrade_history_reminder_exchanging_tokens",{chain:t?.chainName,tokenSymbol1:t?.fromTokenSymbol,tokenSymbol2:t?.tipInfo?.toTokenSymbol}))}:o===2?b&&r?{hasBorderStyle:!0,content:Ue.default.createElement($o,{bridgeName:y,bridgeId:k})}:{content:Ue.default.createElement(Ue.default.Fragment,null,m(r?"swaptrade_history_reminder_crossing_assets_thx":"swaptrade_history_reminder_crossing_assets",{chain:t?.bridgeTipInfo?.toChainName||t?.toChainName,bridge:t?.bridgeTipInfo?.bridgeName||t?.bridgeOrderInfoVo?.bridgeName}))}:{content:null}},[o,t,r,p,g,f,x,v,k,y]),L=i===c.SpeedingUp||n===c.SpeedingUp?`[${m("swaptrade_list_colored_speeding_up")}] `:"";return C?Ue.default.createElement(mo,{isFold:e,className:O&&!e?S.borderTipWrapper:S.processTipWrapper},e&&!a&&Ue.default.createElement("span",{className:S.filterOrderPill},L,s!==0&&Ue.default.createElement("span",null,Yr(s)," ")),u&&L&&Ue.default.createElement("span",{className:S.filterOrderPill},L),C):null},po=Ga;var Wa=({isOriginBridge:o=!1,expireTime:e=0,isFold:t=!1,isLast:r=!1,fromStatus:i="",bridgeStatus:n="",foldTipToastData:s={foldTipType:"",currentProcessIsTimeOut:!0,tipCountDownTime:0,filterProcessItem:{},needShowErrorTip:!1},subOrder:a={},isWalletEnv:u=!1,onClickShadowToken:p=()=>{},isShow:g=!1,hasTimeoutTips:f,timeoutType:x,orderId:k="",isMemeModeOrder:y=!1,isMemeTimeOut:v=!1,bridgeId:C="",bridgeName:O="",blockProcess:L})=>{if(!g)return null;let{foldTipType:b,currentProcessIsTimeOut:D,tipCountDownTime:F,filterProcessItem:P,needShowErrorTip:R,foldBlockProcess:W}=s,Y=t?P:a,K={isFold:t,isWalletEnv:u,subOrder:r?a:Y,onClickShadowToken:p,orderId:k},me=a?.tipType===Me.bridge?Me.bridge:"",j={tipType:t?b:me,isFold:t,subOrder:r?a:Y,isTimeOut:o?e<1:D,fromStatus:i,bridgeStatus:n,tipCountDownTime:F,needShowErrorTip:R,isOriginBridge:o,hasTimeoutTips:f,timeoutType:x,isMemeModeOrder:y,isMemeTimeOut:v,bridgeId:C,bridgeName:O,blockProcess:t?W:L},$=Qe.default.createElement(Qe.default.Fragment,null);return t?R?$=Qe.default.createElement(uo,{...K}):$=r?Qe.default.createElement(uo,{...K}):Qe.default.createElement(po,{...j}):f?$=Qe.default.createElement(po,{...j}):$=Qe.default.createElement(Qe.default.Fragment,null,Qe.default.createElement(uo,{...K,insteadTip:r?null:Qe.default.createElement(po,{...j})})),$},Zo=pe(Wa);function Ha({bridgeStatus:o,fromStatus:e,expireTime:t,stepCount:r,subOrdersList:i,foldTipToastData:n,subOrder:s,index:a,isParticipateActivity:u,swapTradeType:p,gasStationActivityReward:g,isFold:f,setIsFold:x,isWalletEnv:k,onClickShadowToken:y,timeoutSubOrder:v,orderId:C,mainOrderStatus:O,isMemeModeOrder:L,isMemeTimeOut:b,bridgeId:D,bridgeName:F,fromChainRefundInfo:P,getScrollContainer:R=()=>{}}){let{key:W,status:Y,exploreUrl:K,chainName:me,symbol:j,symbolLogo:$,amount:re,isFromStart:ve,hiddenExploreUrl:_e,showProgressBar:ue,hasTimeoutTips:fe,timeoutType:ge,blockProcess:X}=s,he=(0,N.useRef)(null),[ke,Je]=(0,N.useState)(0),Te=r===2,be=Y===c.Waiting,Le=[c.Succeed,c.ReadyToClaim,c.Claiming,c.ClaimFailed].includes(Y),or=o===c.SpeedingUp,ot=a===0,Q=a===i.length-1,ir=a===i.length-2,ut=ot||Q,pt="";re&&j&&(Q&&Le?pt="+":ot&&(pt="-"));let qe=Te&&or,nr=Y!==c.Pending&&Y!==c.SpeedingUp||qe,sr=[c.Pending,c.Waiting].includes(O),it=`${et(pt,re)} ${j}`,Ke={isFold:f,isLast:Q,isOriginBridge:Te,expireTime:t,fromStatus:e,bridgeStatus:o,foldTipToastData:n,subOrder:s,isWalletEnv:k,onClickShadowToken:y,hasTimeoutTips:fe&&sr,timeoutType:ge,orderId:C,isMemeModeOrder:L,isMemeTimeOut:b,bridgeId:D,bridgeName:F,blockProcess:X};return v&&f&&sr&&(Ke.timeoutType=v.timeoutType,Ke.hasTimeoutTips=v.hasTimeoutTips,Ke.blockProcess=v.blockProcess),(0,N.useEffect)(()=>{let ct=he?.current?.getBoundingClientRect()?.width||0,Nt=he?.current?.parentElement?.getBoundingClientRect()?.width||0;Je(Nt-ct-12)},[]),N.default.createElement("div",{className:(0,le.default)(S.item),key:W},ot&&N.default.createElement("div",{className:(0,le.default)("font-14",S.label)},m("swaptrade_card_swap_label1_pay")),Q&&N.default.createElement("div",{className:(0,le.default)("font-14",S.label,Q&&S.last,(be||qe)&&S.waiting)},m("swaptrade_card_swap_label2_receive")),N.default.createElement("div",{className:(0,le.default)("flex flex-row align-top",S.itemWrapper)},N.default.createElement("div",{className:S.itemWrapperLeft},N.default.createElement(ur,{src:$,size:ut?32:22,className:(0,le.default)("shrink-0",S.tokenBorder,{[S.waitingLogo]:be||qe&&Q})}),ue&&!f&&N.default.createElement(N.default.Fragment,null,N.default.createElement("div",{className:S["progress-bar"]},N.default.createElement("div",{className:(0,le.default)(S["progress-val"],{[S["progress-delay"]]:a===1})}))),Q&&P.isFromChainRefund&&N.default.createElement("div",{className:S["progress-bar"]},N.default.createElement("div",{className:(0,le.default)(S["progress-val"],{[S["progress-delay"]]:a===1}),style:{height:"calc(100% + 44px)"}}))),N.default.createElement("div",{className:(0,le.default)(S.itemWrapperRight,{[S.boxPd]:!Q&&!ir,[S.iconFontCenters]:!ut})},N.default.createElement("div",{className:(0,le.default)("flex align-items-center",{[S["position-relative"]]:!Q&&!ir})},N.default.createElement("div",{className:S.token},N.default.createElement("div",{className:(0,le.default)("flex justify-between align-items-center")},N.default.createElement("div",{className:(0,le.default)(S.amount,{[S.flexGrow0]:!(re&&j),[S.lastSucceed]:Q&&Le,[S.activity]:u,[S.tokenAmountBig]:ut,[S.tokenAmountSmall]:!ut})},re&&j?N.default.createElement("div",{className:(0,le.default)("flex flex-item"),style:{maxWidth:`${ke}px`}},N.default.createElement(_t,{title:it,textOverflow:{text:it},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300,getScrollContainer:R},N.default.createElement("div",{className:(0,le.default)(S.tokenAmountWrapper,{[S.textOverflow]:!u,[S.amountOverflow]:u},u?"flex align-items-center flex-1 shrink-0":""),style:{maxWidth:`${ke}px`}},N.default.createElement("span",{className:S.tokenAmountContent},et(pt,re)," "),N.default.createElement("span",{className:S.symbolColor},j))),w.GasStation===p&&Q&&u&&Le&&N.default.createElement("div",{className:(0,le.default)("inline-flex align-items-center",S.extraGain)},N.default.createElement("div",{className:(0,le.default)("font-12")},m("swaptrade_order_tag_won_value",{percentage:Number(g.discount)*100})))):N.default.createElement(N.default.Fragment,null,!qe&&N.default.createElement(ls,{subOrder:s,isLast:Q}),nr&&N.default.createElement("span",{className:(0,le.default)({[S.waitingSymbol]:be||qe})},"--",N.default.createElement(Qi,{tokenSymbol:j,className:S.symbolColor}))),p!==w.SingleChain&&p!==w.GasStation?N.default.createElement("div",{className:(0,le.default)(S.chainName,be&&S.waiting)},me):null),N.default.createElement("div",{ref:he,className:(0,le.default)("flex justify-content-end",S.statusBox,S.textOverflow,S.flexGrow0)},ot&&!Te&&N.default.createElement(Z,{className:(0,le.default)(S.foldArrow,{"okx-defi-dex-arrow-down":f,"okx-defi-dex-arrow-up":!f}),onClick:()=>{x(ct=>!ct)},size:24}),N.default.createElement(ao,{isFromStart:ve,exploreUrl:K,hiddenExploreUrl:_e,index:a}))))),N.default.createElement(Zo,{...Ke,isShow:!f||Q}))),N.default.createElement(Zo,{...Ke,isShow:f&&!Q}))}var fs=pe(Ha);function Va({subOrders:o,mainOrderStatus:e,swapTradeType:t,className:r="",gasToken:i,networks:n,orderInfo:s,isWalletEnv:a=!1,expireTime:u,foldTipToast:p,bridgeStatus:g,fromStatus:f,onClickShadowToken:x,fromChainRefundInfo:k,getScrollContainer:y}){let{gasStationActivityReward:v,orderId:C,status:O,isMemeModeOrder:L,isMemeTimeOut:b,bridgeId:D,bridgeName:F}=s,P=Number(v?.isParticipateActivity)===1,R=ns(e),[W,Y]=(0,At.useState)(R!==c.Pending),K=W?[o[0],o[o.length-1]]:o,me=o.find(j=>j.hasTimeoutTips);return At.default.createElement("div",null,At.default.createElement("div",{className:(0,gs.default)(S.wrapper,{[S.wallet]:a},r)},K.map((j,$)=>At.default.createElement(fs,{bridgeStatus:g,fromStatus:f,key:`${j.key}_${$}`,expireTime:u,stepCount:o.length,subOrdersList:K,foldTipToastData:p,subOrder:j,index:$,isParticipateActivity:P,swapTradeType:t,gasStationActivityReward:v,isFold:W,setIsFold:Y,isWalletEnv:a,onClickShadowToken:x,timeoutSubOrder:me,orderId:C,mainOrderStatus:O,isMemeModeOrder:L,isMemeTimeOut:b,bridgeId:D,bridgeName:F,fromChainRefundInfo:k,getScrollContainer:y})),At.default.createElement(ss,{...k}),At.default.createElement(as,{gasToken:i,networks:n,mainOrderStatus:e,isWalletEnv:a})))}var hs=Va;d();l();d();l();d();l();var Et=()=>{let{replace:o}=Ji(!0),{recentTransactionStore:e}=z(),{computedDataDetail:t,computedFromToInfo:r}=e,{data:i}=t,n=Be()?{[w.LimitOrder]:Wr,[w.SingleChain]:Wr,[w.GasStation]:Wr}:{[w.LimitOrder]:Ti,[w.SingleChain]:Sr,[w.GasStation]:Sr,[w.MemeMode]:i?.isNativeToken4FromToken==="1"?Sr+wi:Sr+Ii},s=Be()?Si:hi;return a=>{let u=n[i.swapTradeType]||s;o({pathname:u,params:a||r.locationParams})}};var Ts=()=>{let o=Et();return e=>{o(e)}};d();l();var Ss=()=>{let{commonStore:o}=z(),{computedIsWalletEnv:e,forceUpdateFromTo:t}=o,r=Et();return i=>{r(i),e&&t?.()}};d();l();var Is=()=>{let{recentTransactionStore:o,fromToStore:e,commonStore:t}=z(),{computedIsWalletEnv:r,forceUpdateFromTo:i}=t,{beforeCheckUrl:n}=e,{computedFromToInfo:s}=o,a=Et();return async()=>{!await n(s.apiRequestParams)||(a(),r&&i?.())}};d();l();d();l();Br();d();l();Br();var cS=(o,e)=>!!o.find(r=>Number(e)===Number(r.chainId)),ws=o=>{if(!o)return!1;let{fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i}=o,n=[Ie(e)&&r,Ie(t)&&i];return!!mi(n,Boolean)};var qa=()=>({from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}}),bS={BRIDGE:"bridge",SWAP:"swap"},Lt=class{constructor(e,t={},r={}){_(this,"setTab",e=>{this.tab=e});_(this,"hasFromToToken",e=>this.tab===B.LIMIT_ORDER?!nt(e?.data?.fromToken)&&!nt(e?.data?.toToken):!nt(e?.data?.fromTokenInfo)&&!nt(e?.data?.toTokenInfo));_(this,"getWidgetVersionParams",()=>!this.config.widgetVersion||this.tab===B.LIMIT_ORDER?{}:this.tab===B.BRIDGE?{widgetVersion:this.config.widgetVersion}:{widgetVersion:this.config.widgetVersion,widgetChainIds:this.config.widgetChainIds});_(this,"fetchSingleChainTokens",async({fromTokenAddress:e,toTokenAddress:t,chainId:r})=>{let[i,n]=await Ee(we.get(Di,{params:{fromTokenAddress:e,toTokenAddress:t,chainId:r,...this.getWidgetVersionParams()}}));return[i,n]});_(this,"generateSingleChainTokenPair",async({walletChainId:e,...t})=>{let i={chainId:Ie(t.fromChainId)?t.fromChainId:t.toChainId,fromTokenAddress:t.fromTokenAddress,toTokenAddress:t.toTokenAddress};if(Ie(i.chainId)){let[a,u]=await this.fetchSingleChainTokens(i);if(!a&&this.hasFromToToken(u))return[a,u]}if(Ie(e)){let[a,u]=await this.fetchSingleChainTokens({chainId:e});if(!a&&this.hasFromToToken(u))return[a,u]}let[n,s]=await this.fetchSingleChainTokens({chainId:Hr});return[n,s]});_(this,"fetchCrossChainTokens",async({fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i})=>{let[n,s]=await Ee(we.get(Co,{params:{chainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i,...this.getWidgetVersionParams()}}));return[n,s]});_(this,"generateCrossChainTokenPair",async({walletChainId:e,...t})=>{if(Ie(t.fromChainId)||Ie(t.toChainId)){let n={...t},{hasFrom:s,hasTo:a}=Lt.checkTokenParams({chainId:t.fromChainId,tokenContractAddress:t.fromTokenAddress},{chainId:t.toChainId,tokenContractAddress:t.toTokenAddress});Bi(t.fromChainId,t.toChainId)&&(s?n={fromChainId:t.fromChainId,fromTokenAddress:t.fromTokenAddress}:a&&(n={toChainId:t.toChainId,toTokenAddress:t.toTokenAddress}));let[u,p]=await this.fetchCrossChainTokens(n);if(!u&&this.hasFromToToken(p))return[u,p]}if(Ie(e)){let[n,s]=await this.fetchCrossChainTokens({fromChainId:e});if(!n&&this.hasFromToToken(s))return[n,s]}let[r,i]=await this.fetchCrossChainTokens({fromChainId:Hr});return[r,i]});_(this,"fetchLimitOrderRecommendTokens",async({fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i})=>{let[n,s]=await Ee(we.get(Ni,{params:{fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i}}));return[n,s]});_(this,"generateLimitOrderTokenPair",async({walletChainId:e,...t})=>{let r=Ie(t.fromChainId),n=Ie(t.toChainId)?t.fromChainId===t.toChainId:!0;if(r&&n){let[u,p]=await this.fetchLimitOrderRecommendTokens(t);if(!u&&this.hasFromToToken(p))return[u,p]}if(Ie(e)){let[u,p]=await this.fetchLimitOrderRecommendTokens({fromChainId:e});if(!u&&this.hasFromToToken(p))return[u,p]}let[s,a]=await this.fetchLimitOrderRecommendTokens({fromChainId:Hr,fromTokenAddress:""});return[s,a]});_(this,"getTokenPairByResponseData",e=>this.tab===B.LIMIT_ORDER?{from:e?.fromToken,to:e?.toToken}:{from:e?.fromTokenInfo,to:e?.toTokenInfo});_(this,"generateTokenAndTabConfig",({error:e,data:t})=>{if(e)return{error:e,from:null,to:null,tab:this.tab};let{from:r,to:i}=this.getTokenPairByResponseData(t);return{error:null,from:r,to:i,tab:this.tab}});_(this,"checkInputAmount",e=>{let t=gt.BigNumber(e);return!t.isNaN()&&t.isFinite()&&t.gt(0)?t.toString():""});_(this,"generateInitConfigByParams",async({from:e,to:t,inputAmount:r,walletChainId:i})=>{let n=this.checkInputAmount(r),s={fromChainId:e.chainId,toChainId:t.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:t.tokenContractAddress,walletChainId:i};if(this.tab===B.BRIDGE){let[a,u]=await this.generateCrossChainTokenPair(s);return{...this.generateTokenAndTabConfig({error:a,data:u.data}),inputAmount:n}}if(this.tab===B.SWAP){let[a,u]=await this.generateSingleChainTokenPair(s);return{...this.generateTokenAndTabConfig({error:a,data:u.data}),inputAmount:n}}if(this.tab===B.LIMIT_ORDER){let[a,u]=await this.generateLimitOrderTokenPair(s);return{...this.generateTokenAndTabConfig({error:a,data:u.data}),inputAmount:n}}return{error:new Error("tab is not valid"),from:null,to:null,tab:this.tab,inputAmount:n}});this.setTab(e),this.dexParams=t,this.config=r}async makeDexParams(){let{dexParams:e}=this,t=e;Zi(e)&&(t=this.readInfoFromLocalStorage());let r=Ie(t?.from?.chainId),i=Ie(t?.to?.chainId);return!r&&!i&&(t.walletChainId=await this.config.getChainId?.()),t}async initTokenPair(){let e=await this.makeDexParams(),{from:t,to:r,tab:i,inputAmount:n,error:s}=await this.generateInitConfigByParams(e);return{from:t,to:r,tab:i,inputAmount:n,error:s}}async switchTabAndInitToken(e){let{walletChainId:t,...r}=await this.makeDexParams(),{from:i,to:n,tab:s,inputAmount:a,error:u}=await this.generateInitConfigByParams({...r,tab:e});return{from:i,to:n,tab:s,inputAmount:a,error:u}}readInfoFromLocalStorage(){let e=qa(),t;switch(this.tab){case B.SWAP:t=Ye.get(Io);break;case B.BRIDGE:t=Ye.get(wo);break;case B.LIMIT_ORDER:t=Ye.get(yo)||Ye.get(vi)?.LIMIT_ORDER;break;default:break}let r={from:{...e.from,...t?.from},to:{...e.to,...t?.to}};return t?.from?.tokenContractAddress?r:e}writeTabInfoToLocalStorage(e){Lt.writeTabInfoToLocalStorage(this.tab,e)}static writeTabInfoToLocalStorage(e,t){switch(e){case B.SWAP:Ye.set(Io,t);break;case B.BRIDGE:Ye.set(wo,t);break;case B.LIMIT_ORDER:Ye.set(yo,t);break;default:break}}},Ot=Lt;_(Ot,"checkTokenParams",(e,t)=>{let r=ws({fromChainId:e?.chainId,toChainId:t?.chainId,fromTokenAddress:e?.tokenContractAddress,toTokenAddress:t?.tokenContractAddress}),i=Ie(e?.chainId)&&!!e?.tokenContractAddress,n=Ie(t?.chainId)&&!!t?.tokenContractAddress;return{isValid:r,hasFrom:i,hasTo:n}}),_(Ot,"judgeTabTypeByChainId",async e=>{let[t,r]=await Ee(we.get(Pi));if(t)return B.SWAP;let{swap:i=[],bridge:n=[]}=r.data;return i.includes(fo(e))?B.SWAP:n.includes(fo(e))?B.BRIDGE:B.SWAP}),_(Ot,"judgeTabTypeByParams",async(e,t)=>{let{isValid:r,hasFrom:i,hasTo:n}=Lt.checkTokenParams(e,t);if(!r)return B.SWAP;let s=e?.chainId,a=t?.chainId;if(i&&n)return s===a?B.SWAP:B.BRIDGE;let u;return i&&!n&&(u=s),!i&&n&&(u=a),await Lt.judgeTabTypeByChainId(u)}),_(Ot,"formatDialogParams",e=>({from:{chainId:e?.fromChainId,tokenContractAddress:e?.fromTokenAddress},to:{chainId:e?.toChainId,tokenContractAddress:e?.toTokenAddress}})),_(Ot,"getDialogInitTab",async e=>{let{from:t,to:r}=Lt.formatDialogParams(e);return await Lt.judgeTabTypeByParams(t,r)});var ys=Ot;d();l();var co=o=>o.swapTradeType===w.LimitOrder?B.LIMIT_ORDER:[w.SingleChain,w.GasStation].includes(o.swapTradeType)?B.SWAP:B.BRIDGE;var xs=()=>{let{recentTransactionStore:o,commonStore:e}=z(),{setCurrentTab:t,forceUpdateFromTo:r}=e,{computedDataDetail:i,computedFromToInfo:n}=o,{data:s}=i,a=en();return u=>{let p=co(s),g=a(u?.from||n.locationParams.from,u?.to||n.locationParams.to);g&&p&&(new ys(p).writeTabInfoToLocalStorage(g),o.closeModal(),t(p),r?.())}};d();l();var ks=()=>{let{recentTransactionStore:o,commonStore:e}=z(),{forceUpdateFromTo:t}=e,r=Et();return i=>{let{computedDataDetail:n}=o,{data:s}=n;if(s){let a=co(s);e.setCurrentTab(a)}o.closeModal(),r(i),t?.()}};var Cs=()=>{let o=ks(),e=xs(),t=Is(),r=Ss(),i=Ts(),{commonStore:n}=z(),{computedIsUrlFillSwap:s}=n;return async(a,u)=>{let{portal:p}=n;if(s||Mi()){a?r(u):await t();return}if(p===So.MARKET){i(u);return}if(p===So.DEX){o(u);return}e(u)}};d();l();var Dt={wrapper:"_wrapper_10fve_1",abnormal:"_abnormal_10fve_10",info:"_info_10fve_18","footer-has-btn":"_footer-has-btn_10fve_21",footerHasBtn:"_footer-has-btn_10fve_21"};function ei({children:o,className:e,style:t}){let r=Be();return ce.default.createElement("div",{className:(0,Fr.default)(Dt.wrapper,{[Dt.widgetWrapper]:r},e),style:t},ce.default.createElement("div",{className:(0,Fr.default)(Dt.abnormal,"flex align-items-center justify-content-center")},o))}function Ka({orderId:o,orderData:e,className:t,isDialog:r,onClose:i,getScrollContainer:n,strategyMode:s,orderType:a,isLimit:u,isBridge:p}){let{recentTransactionStore:g,fromToStore:f,accountStore:x}=z(),{computedSubOrders:k,computedOrderInfo:y,expireTime:v,computedCurrentHistoryTabIsLimit:C,computedDataDetail:O,limitDetail:L,computedLimitOrderInfo:b,computedPendingTimingStatus:D,setLimitOrSwapDetail:F,setDetail:P,setLimitDetail:R,computedFoldTipToast:W,computedStepStatus:{bridgeStatus:Y,fromSwapStatus:K},computedIfSwapFailedAmount:me,computedFirstTimeoutSubOrderBlockProcess:j,computedFromChainRefundInfo:$,onLimitDetailSocket:re}=g,{orderContinueStatus:ve}=f,_e=u?L:O,{data:ue,error:fe,loading:ge}=_e||{},X=u??C,he=st();(0,ce.useEffect)(()=>(e&&F({data:e,loading:!1,error:!1},X),o&&g.updateDetail({orderId:o,strategyMode:s,orderType:a,isLimit:X,initialLimitDetail:e}),()=>{P({data:null,loading:!1,error:!1}),R({data:null,loading:!1,error:!1})}),[o,e,P,R,F,g,s,a,X]),(0,ce.useEffect)(()=>{(ue?.status===c.ReadyToClaim||ue?.status===c.Claiming)&&sn("bridge_claim")},[ue?.status]);let{detailStyle:ke}=Cn();(0,ce.useEffect)(()=>{o&&ji({wallet_address:x.computedAccountWalletAddresses,order_id:o})},[o,x.computedAccountWalletAddresses]);let Je=Cs(),Te=async()=>{i?.(),g.closeDialog(),Bt({wallet_address:x.computedAccountWalletAddresses,order_id:o,button_name:"trade_again"}),Je(!1)},be=Le=>{Bt({wallet_address:x.computedAccountWalletAddresses,order_id:o,button_name:"bridge_token_exchange"}),Je(!0,Le)};return on({onListenData:Le=>{re(Le)},onListenError:()=>{}}),nn({onListenData:Le=>{re(Le)},onListenError:()=>{}}),fe?ce.default.createElement(ei,{style:ke},ce.default.createElement(xn,{onButtonClick:()=>{g.updateDetail({orderId:o,strategyMode:s,orderType:a})}})):ge?ce.default.createElement(ei,{style:ke},ce.default.createElement(dr.Circle,{type:dr.TYPE.neutral})):ue?ce.default.createElement("div",{className:(0,Fr.default)(Dt.wrapper,t),style:ke},!X&&ce.default.createElement(os,{order:y,expireTime:v,computedPendingTimingStatus:D,isWalletEnv:he,onClickSwapAgain:Te,computedIfSwapFailedAmount:me,orderContinueStatus:ve,isDialog:r,firstBlockProcess:j}),!X&&ce.default.createElement(hs,{expireTime:v,mainOrderStatus:ue.status,bridgeStatus:Y,fromStatus:K,foldTipToast:W,subOrders:k,className:Dt.content,swapTradeType:ue.swapTradeType,gasToken:y.gasToken,orderInfo:y,networks:y.networks,isWalletEnv:he,onClickShadowToken:be,fromChainRefundInfo:$,getScrollContainer:n}),X&&ce.default.createElement(Qn,{isWalletEnv:he,orderInfo:b}),ce.default.createElement($n,{className:(0,Fr.default)(Dt.info,{[Dt.footerHasBtn]:y?.showSwapAgainBtn&&!r||b?.showSwapAgainBtn&&!r||[Se.OPEN].includes(b?.status)}),isLimit:X,orderInfo:X?b:y,gasToken:X?{}:y.gasToken,isWalletEnv:he,isBridge:p})):ce.default.createElement(ei,{style:ke},ce.default.createElement(Yi,{description:m("swaptrade_recent_transaction_dialog_no_data_desc")}))}var NI=pe(Ka);export{cS as a,ws as b,Jr as c,No as d,Mt as e,pn as f,id as g,gd as h,wt as i,cr as j,gn as k,c as l,ye as m,w as n,Bl as o,vt as p,bS as q,ys as r,NI as s};
//# sourceMappingURL=chunk-7V2EB5SJ.js.map
