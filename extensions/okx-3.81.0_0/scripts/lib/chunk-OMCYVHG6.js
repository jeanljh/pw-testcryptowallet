import{a as XY,b as YY,c as eee,d as X9}from"./chunk-ULTHGYDA.js";import{b as TP,c as PT}from"./chunk-67ZDZ367.js";import{Z as ua,_ as fa}from"./chunk-NLHAZXT3.js";import{a as Z9,b as vT}from"./chunk-AS2UWHO3.js";import{a as QY}from"./chunk-2XLWBEHA.js";import{c as Q9}from"./chunk-5LVRFP7W.js";import{d as $9}from"./chunk-M7JGFMJS.js";import{c as M,g as ca,h as O,i as h,j as T,k as w,l as On,m as D,o as y,q as b}from"./chunk-4J7XGGEQ.js";var AT=M(NP=>{y();b();Object.defineProperty(NP,"__esModule",{value:!0});NP.validPrivateKey=void 0;var Y9=Q9();function tee(r){if(!Y9.base.validateHexString(r))return!1;let e=Y9.base.fromHex(r.toLowerCase());return!(e.length!=32||e.every(t=>t===0))}NP.validPrivateKey=tee});var e7=M(CP=>{y();b();Object.defineProperty(CP,"__esModule",{value:!0});CP.version=void 0;CP.version="logger/5.8.0"});var Zs=M(vc=>{y();b();Object.defineProperty(vc,"__esModule",{value:!0});vc.Logger=vc.ErrorCode=vc.LogLevel=void 0;var t7=!1,r7=!1,RP={debug:1,default:2,info:2,warning:3,error:4,off:5},n7=RP.default,ree=e7(),ET=null;function nee(){try{var r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(function(e){try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var s7=nee(),o7;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(o7=vc.LogLevel||(vc.LogLevel={}));var _c;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(_c=vc.ErrorCode||(vc.ErrorCode={}));var i7="0123456789abcdef",see=function(){function r(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}return r.prototype._log=function(e,t){var n=e.toLowerCase();RP[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(n7>RP[n])&&console.log.apply(console,t)},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.DEBUG,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.INFO,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.WARNING,e)},r.prototype.makeError=function(e,t,n){if(r7)return this.makeError("censored error",t,{});t||(t=r.errors.UNKNOWN_ERROR),n||(n={});var s=[];Object.keys(n).forEach(function(f){var g=n[f];try{if(g instanceof Uint8Array){for(var p="",A=0;A<g.length;A++)p+=i7[g[A]>>4],p+=i7[g[A]&15];s.push(f+"=Uint8Array(0x"+p+")")}else s.push(f+"="+JSON.stringify(g))}catch{s.push(f+"="+JSON.stringify(n[f].toString()))}}),s.push("code="+t),s.push("version="+this.version);var i=e,o="";switch(t){case _c.NUMERIC_FAULT:{o="NUMERIC_FAULT";var a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":o+="-"+a;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case _c.CALL_EXCEPTION:case _c.INSUFFICIENT_FUNDS:case _c.MISSING_NEW:case _c.NONCE_EXPIRED:case _c.REPLACEMENT_UNDERPRICED:case _c.TRANSACTION_REPLACED:case _c.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),s.length&&(e+=" ("+s.join(", ")+")");var c=new Error(e);return c.reason=i,c.code=t,Object.keys(n).forEach(function(f){c[f]=n[f]}),c},r.prototype.throwError=function(e,t,n){throw this.makeError(e,t,n)},r.prototype.throwArgumentError=function(e,t,n){return this.throwError(e,r.errors.INVALID_ARGUMENT,{argument:t,value:n})},r.prototype.assert=function(e,t,n,s){e||this.throwError(t,n,s)},r.prototype.assertArgument=function(e,t,n,s){e||this.throwArgumentError(t,n,s)},r.prototype.checkNormalize=function(e){e==null&&(e="platform missing String.prototype.normalize"),s7&&this.throwError("platform missing String.prototype.normalize",r.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:s7})},r.prototype.checkSafeUint53=function(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))},r.prototype.checkArgumentCount=function(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,r.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,r.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})},r.prototype.checkNew=function(e,t){(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.prototype.checkAbstract=function(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",r.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.globalLogger=function(){return ET||(ET=new r(ree.version)),ET},r.setCensorship=function(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),t7){if(!e)return;this.globalLogger().throwError("error censorship permanent",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}r7=!!e,t7=!!t},r.setLogLevel=function(e){var t=RP[e.toLowerCase()];if(t==null){r.globalLogger().warn("invalid log level - "+e);return}n7=t},r.from=function(e){return new r(e)},r.errors=_c,r.levels=o7,r}();vc.Logger=see});var a7=M(BP=>{y();b();Object.defineProperty(BP,"__esModule",{value:!0});BP.version=void 0;BP.version="bytes/5.8.0"});var p7=M(Dt=>{y();b();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.joinSignature=Dt.splitSignature=Dt.hexZeroPad=Dt.hexStripZeros=Dt.hexValue=Dt.hexConcat=Dt.hexDataSlice=Dt.hexDataLength=Dt.hexlify=Dt.isHexString=Dt.zeroPad=Dt.stripZeros=Dt.concat=Dt.arrayify=Dt.isBytes=Dt.isBytesLike=void 0;var iee=Zs(),oee=a7(),Mr=new iee.Logger(oee.version);function u7(r){return!!r.toHexString}function qg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return qg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function f7(r){return la(r)&&!(r.length%2)||MP(r)}Dt.isBytesLike=f7;function c7(r){return typeof r=="number"&&r==r&&r%1===0}function MP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!c7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!c7(t)||t<0||t>=256)return!1}return!0}Dt.isBytes=MP;function w0(r,e){if(e||(e={}),typeof r=="number"){Mr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),qg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),u7(r)&&(r=r.toHexString()),la(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Mr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return qg(new Uint8Array(t))}return MP(r)?qg(new Uint8Array(r)):Mr.throwArgumentError("invalid arrayify value","value",r)}Dt.arrayify=w0;function l7(r){var e=r.map(function(s){return w0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),qg(n)}Dt.concat=l7;function aee(r){var e=w0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Dt.stripZeros=aee;function d7(r,e){r=w0(r),r.length>e&&Mr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),qg(t)}Dt.zeroPad=d7;function la(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Dt.isHexString=la;var ST="0123456789abcdef";function Jn(r,e){if(e||(e={}),typeof r=="number"){Mr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=ST[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),u7(r))return r.toHexString();if(la(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Mr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(MP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=ST[(i&240)>>4]+ST[i&15]}return n}return Mr.throwArgumentError("invalid hexlify value","value",r)}Dt.hexlify=Jn;function cee(r){if(typeof r!="string")r=Jn(r);else if(!la(r)||r.length%2)return null;return(r.length-2)/2}Dt.hexDataLength=cee;function uee(r,e,t){return typeof r!="string"?r=Jn(r):(!la(r)||r.length%2)&&Mr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Dt.hexDataSlice=uee;function fee(r){var e="0x";return r.forEach(function(t){e+=Jn(t).substring(2)}),e}Dt.hexConcat=fee;function lee(r){var e=h7(Jn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Dt.hexValue=lee;function h7(r){typeof r!="string"&&(r=Jn(r)),la(r)||Mr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Dt.hexStripZeros=h7;function IP(r,e){for(typeof r!="string"?r=Jn(r):la(r)||Mr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Mr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Dt.hexZeroPad=IP;function g7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(f7(r)){var t=w0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Jn(t.slice(0,32)),e.s=Jn(t.slice(32,64))):t.length===65?(e.r=Jn(t.slice(0,32)),e.s=Jn(t.slice(32,64)),e.v=t[64]):Mr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Mr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Jn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=d7(w0(e._vs),32);e._vs=Jn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Mr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Jn(n);e.s==null?e.s=i:e.s!==i&&Mr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Mr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Mr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!la(e.r)?Mr.throwArgumentError("signature missing or invalid r","signature",r):e.r=IP(e.r,32),e.s==null||!la(e.s)?Mr.throwArgumentError("signature missing or invalid s","signature",r):e.s=IP(e.s,32);var a=w0(e.s);a[0]>=128&&Mr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Jn(a);e._vs&&(la(e._vs)||Mr.throwArgumentError("signature invalid _vs","signature",r),e._vs=IP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Mr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Dt.splitSignature=g7;function dee(r){return r=g7(r),Jn(l7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Dt.joinSignature=dee});var y7=M((m7,kT)=>{y();b();(function(r,e){"use strict";function t(S,u){if(!S)throw new Error(u||"Assertion failed")}function n(S,u){S.super_=u;var l=function(){};l.prototype=u.prototype,S.prototype=new l,S.prototype.constructor=S}function s(S,u,l){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(l=u,u=10),this._init(S||0,u||10,l||"be"))}typeof r=="object"?r.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=$9().Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,l){return u.cmp(l)>0?u:l},s.min=function(u,l){return u.cmp(l)<0?u:l},s.prototype._init=function(u,l,m){if(typeof u=="number")return this._initNumber(u,l,m);if(typeof u=="object")return this._initArray(u,l,m);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),u=u.toString().replace(/\s+/g,"");var x=0;u[0]==="-"&&(x++,this.negative=1),x<u.length&&(l===16?this._parseHex(u,x,m):(this._parseBase(u,l,x),m==="le"&&this._initArray(this.toArray(),l,m)))},s.prototype._initNumber=function(u,l,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),l,m)},s.prototype._initArray=function(u,l,m){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,k,R=0;if(m==="be")for(x=u.length-1,_=0;x>=0;x-=3)k=u[x]|u[x-1]<<8|u[x-2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(m==="le")for(x=0,_=0;x<u.length;x+=3)k=u[x]|u[x+1]<<8|u[x+2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this._strip()};function o(S,u){var l=S.charCodeAt(u);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+S)}function a(S,u,l){var m=o(S,l);return l-1>=u&&(m|=o(S,l-1)<<4),m}s.prototype._parseHex=function(u,l,m){this.length=Math.ceil((u.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,k=0,R;if(m==="be")for(x=u.length-1;x>=l;x-=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8;else{var v=u.length-l;for(x=v%2===0?l+1:l;x<u.length;x+=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8}this._strip()};function c(S,u,l,m){for(var x=0,_=0,k=Math.min(S.length,l),R=u;R<k;R++){var v=S.charCodeAt(R)-48;x*=m,v>=49?_=v-49+10:v>=17?_=v-17+10:_=v,t(v>=0&&_<m,"Invalid character"),x+=_}return x}s.prototype._parseBase=function(u,l,m){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=l)x++;x--,_=_/l|0;for(var k=u.length-m,R=k%x,v=Math.min(k,k-R)+m,d=0,E=m;E<v;E+=x)d=c(u,E,E+x,l),this.imuln(_),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(R!==0){var J=1;for(d=c(u,E,u.length,l),E=0;E<R;E++)J*=l;this.imuln(J),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var l=0;l<this.length;l++)u.words[l]=this.words[l];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(S,u){S.words=u.words,S.length=u.length,S.negative=u.negative,S.red=u.red}if(s.prototype._move=function(u){f(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,l){u=u||10,l=l|0||1;var m;if(u===16||u==="hex"){m="";for(var x=0,_=0,k=0;k<this.length;k++){var R=this.words[k],v=((R<<x|_)&16777215).toString(16);_=R>>>24-x&16777215,x+=2,x>=26&&(x-=26,k--),_!==0||k!==this.length-1?m=p[6-v.length]+v+m:m=v+m}for(_!==0&&(m=_.toString(16)+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=A[u],E=P[u];m="";var J=this.clone();for(J.negative=0;!J.isZero();){var $=J.modrn(E).toString(u);J=J.idivn(E),J.isZero()?m=$+m:m=p[d-$.length]+$+m}for(this.isZero()&&(m="0"+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}t(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(u,l){return this.toArrayLike(i,u,l)}),s.prototype.toArray=function(u,l){return this.toArrayLike(Array,u,l)};var C=function(u,l){return u.allocUnsafe?u.allocUnsafe(l):new u(l)};s.prototype.toArrayLike=function(u,l,m){this._strip();var x=this.byteLength(),_=m||Math.max(1,x);t(x<=_,"byte array longer than desired length"),t(_>0,"Requested array length <= 0");var k=C(u,_),R=l==="le"?"LE":"BE";return this["_toArrayLike"+R](k,x),k},s.prototype._toArrayLikeLE=function(u,l){for(var m=0,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m++]=R&255,m<u.length&&(u[m++]=R>>8&255),m<u.length&&(u[m++]=R>>16&255),k===6?(m<u.length&&(u[m++]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m<u.length)for(u[m++]=x;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,l){for(var m=u.length-1,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m--]=R&255,m>=0&&(u[m--]=R>>8&255),m>=0&&(u[m--]=R>>16&255),k===6?(m>=0&&(u[m--]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m>=0)for(u[m--]=x;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var l=u,m=0;return l>=4096&&(m+=13,l>>>=13),l>=64&&(m+=7,l>>>=7),l>=8&&(m+=4,l>>>=4),l>=2&&(m+=2,l>>>=2),m+l},s.prototype._zeroBits=function(u){if(u===0)return 26;var l=u,m=0;return(l&8191)===0&&(m+=13,l>>>=13),(l&127)===0&&(m+=7,l>>>=7),(l&15)===0&&(m+=4,l>>>=4),(l&3)===0&&(m+=2,l>>>=2),(l&1)===0&&m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],l=this._countBits(u);return(this.length-1)*26+l};function N(S){for(var u=new Array(S.bitLength()),l=0;l<u.length;l++){var m=l/26|0,x=l%26;u[l]=S.words[m]>>>x&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,l=0;l<this.length;l++){var m=this._zeroBits(this.words[l]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]|u.words[l];return this._strip()},s.prototype.ior=function(u){return t((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var l;this.length>u.length?l=u:l=this;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=l.length,this._strip()},s.prototype.iand=function(u){return t((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var x=0;x<m.length;x++)this.words[x]=l.words[x]^m.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},s.prototype.ixor=function(u){return t((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var l=Math.ceil(u/26)|0,m=u%26;this._expand(l),m>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,l){t(typeof u=="number"&&u>=0);var m=u/26|0,x=u%26;return this._expand(m+1),l?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this._strip()},s.prototype.iadd=function(u){var l;if(this.negative!==0&&u.negative===0)return this.negative=0,l=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,l=this.isub(u),u.negative=1,l._normSign();var m,x;this.length>u.length?(m=this,x=u):(m=u,x=this);for(var _=0,k=0;k<x.length;k++)l=(m.words[k]|0)+(x.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;for(;_!==0&&k<m.length;k++)l=(m.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;if(this.length=m.length,_!==0)this.words[this.length]=_,this.length++;else if(m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this},s.prototype.add=function(u){var l;return u.negative!==0&&this.negative===0?(u.negative=0,l=this.sub(u),u.negative^=1,l):u.negative===0&&this.negative!==0?(this.negative=0,l=u.sub(this),this.negative=1,l):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var l=this.iadd(u);return u.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;m>0?(x=this,_=u):(x=u,_=this);for(var k=0,R=0;R<_.length;R++)l=(x.words[R]|0)-(_.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;for(;k!==0&&R<x.length;R++)l=(x.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;if(k===0&&R<x.length&&x!==this)for(;R<x.length;R++)this.words[R]=x.words[R];return this.length=Math.max(this.length,R),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function U(S,u,l){l.negative=u.negative^S.negative;var m=S.length+u.length|0;l.length=m,m=m-1|0;var x=S.words[0]|0,_=u.words[0]|0,k=x*_,R=k&67108863,v=k/67108864|0;l.words[0]=R;for(var d=1;d<m;d++){for(var E=v>>>26,J=v&67108863,$=Math.min(d,u.length-1),X=Math.max(0,d-S.length+1);X<=$;X++){var te=d-X|0;x=S.words[te]|0,_=u.words[X]|0,k=x*_+J,E+=k/67108864|0,J=k&67108863}l.words[d]=J|0,v=E|0}return v!==0?l.words[d]=v|0:l.length--,l._strip()}var L=function(u,l,m){var x=u.words,_=l.words,k=m.words,R=0,v,d,E,J=x[0]|0,$=J&8191,X=J>>>13,te=x[1]|0,he=te&8191,ge=te>>>13,rr=x[2]|0,xe=rr&8191,le=rr>>>13,xn=x[3]|0,ke=xn&8191,Te=xn>>>13,aa=x[4]|0,Ke=aa&8191,Ve=aa>>>13,V1=x[5]|0,ze=V1&8191,Je=V1>>>13,z1=x[6]|0,We=z1&8191,$e=z1>>>13,J1=x[7]|0,Ze=J1&8191,Qe=J1>>>13,W1=x[8]|0,Xe=W1&8191,Ye=W1>>>13,$1=x[9]|0,et=$1&8191,tt=$1>>>13,Z1=_[0]|0,rt=Z1&8191,nt=Z1>>>13,Q1=_[1]|0,st=Q1&8191,it=Q1>>>13,X1=_[2]|0,ot=X1&8191,at=X1>>>13,Y1=_[3]|0,ct=Y1&8191,ut=Y1>>>13,ew=_[4]|0,ft=ew&8191,lt=ew>>>13,tw=_[5]|0,dt=tw&8191,ht=tw>>>13,rw=_[6]|0,gt=rw&8191,pt=rw>>>13,nw=_[7]|0,mt=nw&8191,yt=nw>>>13,sw=_[8]|0,bt=sw&8191,xt=sw>>>13,iw=_[9]|0,wt=iw&8191,_t=iw>>>13;m.negative=u.negative^l.negative,m.length=19,v=Math.imul($,rt),d=Math.imul($,nt),d=d+Math.imul(X,rt)|0,E=Math.imul(X,nt);var t0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(t0>>>26)|0,t0&=67108863,v=Math.imul(he,rt),d=Math.imul(he,nt),d=d+Math.imul(ge,rt)|0,E=Math.imul(ge,nt),v=v+Math.imul($,st)|0,d=d+Math.imul($,it)|0,d=d+Math.imul(X,st)|0,E=E+Math.imul(X,it)|0;var r0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(r0>>>26)|0,r0&=67108863,v=Math.imul(xe,rt),d=Math.imul(xe,nt),d=d+Math.imul(le,rt)|0,E=Math.imul(le,nt),v=v+Math.imul(he,st)|0,d=d+Math.imul(he,it)|0,d=d+Math.imul(ge,st)|0,E=E+Math.imul(ge,it)|0,v=v+Math.imul($,ot)|0,d=d+Math.imul($,at)|0,d=d+Math.imul(X,ot)|0,E=E+Math.imul(X,at)|0;var n0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(n0>>>26)|0,n0&=67108863,v=Math.imul(ke,rt),d=Math.imul(ke,nt),d=d+Math.imul(Te,rt)|0,E=Math.imul(Te,nt),v=v+Math.imul(xe,st)|0,d=d+Math.imul(xe,it)|0,d=d+Math.imul(le,st)|0,E=E+Math.imul(le,it)|0,v=v+Math.imul(he,ot)|0,d=d+Math.imul(he,at)|0,d=d+Math.imul(ge,ot)|0,E=E+Math.imul(ge,at)|0,v=v+Math.imul($,ct)|0,d=d+Math.imul($,ut)|0,d=d+Math.imul(X,ct)|0,E=E+Math.imul(X,ut)|0;var s0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(s0>>>26)|0,s0&=67108863,v=Math.imul(Ke,rt),d=Math.imul(Ke,nt),d=d+Math.imul(Ve,rt)|0,E=Math.imul(Ve,nt),v=v+Math.imul(ke,st)|0,d=d+Math.imul(ke,it)|0,d=d+Math.imul(Te,st)|0,E=E+Math.imul(Te,it)|0,v=v+Math.imul(xe,ot)|0,d=d+Math.imul(xe,at)|0,d=d+Math.imul(le,ot)|0,E=E+Math.imul(le,at)|0,v=v+Math.imul(he,ct)|0,d=d+Math.imul(he,ut)|0,d=d+Math.imul(ge,ct)|0,E=E+Math.imul(ge,ut)|0,v=v+Math.imul($,ft)|0,d=d+Math.imul($,lt)|0,d=d+Math.imul(X,ft)|0,E=E+Math.imul(X,lt)|0;var i0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(i0>>>26)|0,i0&=67108863,v=Math.imul(ze,rt),d=Math.imul(ze,nt),d=d+Math.imul(Je,rt)|0,E=Math.imul(Je,nt),v=v+Math.imul(Ke,st)|0,d=d+Math.imul(Ke,it)|0,d=d+Math.imul(Ve,st)|0,E=E+Math.imul(Ve,it)|0,v=v+Math.imul(ke,ot)|0,d=d+Math.imul(ke,at)|0,d=d+Math.imul(Te,ot)|0,E=E+Math.imul(Te,at)|0,v=v+Math.imul(xe,ct)|0,d=d+Math.imul(xe,ut)|0,d=d+Math.imul(le,ct)|0,E=E+Math.imul(le,ut)|0,v=v+Math.imul(he,ft)|0,d=d+Math.imul(he,lt)|0,d=d+Math.imul(ge,ft)|0,E=E+Math.imul(ge,lt)|0,v=v+Math.imul($,dt)|0,d=d+Math.imul($,ht)|0,d=d+Math.imul(X,dt)|0,E=E+Math.imul(X,ht)|0;var o0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(o0>>>26)|0,o0&=67108863,v=Math.imul(We,rt),d=Math.imul(We,nt),d=d+Math.imul($e,rt)|0,E=Math.imul($e,nt),v=v+Math.imul(ze,st)|0,d=d+Math.imul(ze,it)|0,d=d+Math.imul(Je,st)|0,E=E+Math.imul(Je,it)|0,v=v+Math.imul(Ke,ot)|0,d=d+Math.imul(Ke,at)|0,d=d+Math.imul(Ve,ot)|0,E=E+Math.imul(Ve,at)|0,v=v+Math.imul(ke,ct)|0,d=d+Math.imul(ke,ut)|0,d=d+Math.imul(Te,ct)|0,E=E+Math.imul(Te,ut)|0,v=v+Math.imul(xe,ft)|0,d=d+Math.imul(xe,lt)|0,d=d+Math.imul(le,ft)|0,E=E+Math.imul(le,lt)|0,v=v+Math.imul(he,dt)|0,d=d+Math.imul(he,ht)|0,d=d+Math.imul(ge,dt)|0,E=E+Math.imul(ge,ht)|0,v=v+Math.imul($,gt)|0,d=d+Math.imul($,pt)|0,d=d+Math.imul(X,gt)|0,E=E+Math.imul(X,pt)|0;var a0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(a0>>>26)|0,a0&=67108863,v=Math.imul(Ze,rt),d=Math.imul(Ze,nt),d=d+Math.imul(Qe,rt)|0,E=Math.imul(Qe,nt),v=v+Math.imul(We,st)|0,d=d+Math.imul(We,it)|0,d=d+Math.imul($e,st)|0,E=E+Math.imul($e,it)|0,v=v+Math.imul(ze,ot)|0,d=d+Math.imul(ze,at)|0,d=d+Math.imul(Je,ot)|0,E=E+Math.imul(Je,at)|0,v=v+Math.imul(Ke,ct)|0,d=d+Math.imul(Ke,ut)|0,d=d+Math.imul(Ve,ct)|0,E=E+Math.imul(Ve,ut)|0,v=v+Math.imul(ke,ft)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(Te,ft)|0,E=E+Math.imul(Te,lt)|0,v=v+Math.imul(xe,dt)|0,d=d+Math.imul(xe,ht)|0,d=d+Math.imul(le,dt)|0,E=E+Math.imul(le,ht)|0,v=v+Math.imul(he,gt)|0,d=d+Math.imul(he,pt)|0,d=d+Math.imul(ge,gt)|0,E=E+Math.imul(ge,pt)|0,v=v+Math.imul($,mt)|0,d=d+Math.imul($,yt)|0,d=d+Math.imul(X,mt)|0,E=E+Math.imul(X,yt)|0;var c0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(c0>>>26)|0,c0&=67108863,v=Math.imul(Xe,rt),d=Math.imul(Xe,nt),d=d+Math.imul(Ye,rt)|0,E=Math.imul(Ye,nt),v=v+Math.imul(Ze,st)|0,d=d+Math.imul(Ze,it)|0,d=d+Math.imul(Qe,st)|0,E=E+Math.imul(Qe,it)|0,v=v+Math.imul(We,ot)|0,d=d+Math.imul(We,at)|0,d=d+Math.imul($e,ot)|0,E=E+Math.imul($e,at)|0,v=v+Math.imul(ze,ct)|0,d=d+Math.imul(ze,ut)|0,d=d+Math.imul(Je,ct)|0,E=E+Math.imul(Je,ut)|0,v=v+Math.imul(Ke,ft)|0,d=d+Math.imul(Ke,lt)|0,d=d+Math.imul(Ve,ft)|0,E=E+Math.imul(Ve,lt)|0,v=v+Math.imul(ke,dt)|0,d=d+Math.imul(ke,ht)|0,d=d+Math.imul(Te,dt)|0,E=E+Math.imul(Te,ht)|0,v=v+Math.imul(xe,gt)|0,d=d+Math.imul(xe,pt)|0,d=d+Math.imul(le,gt)|0,E=E+Math.imul(le,pt)|0,v=v+Math.imul(he,mt)|0,d=d+Math.imul(he,yt)|0,d=d+Math.imul(ge,mt)|0,E=E+Math.imul(ge,yt)|0,v=v+Math.imul($,bt)|0,d=d+Math.imul($,xt)|0,d=d+Math.imul(X,bt)|0,E=E+Math.imul(X,xt)|0;var u0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(u0>>>26)|0,u0&=67108863,v=Math.imul(et,rt),d=Math.imul(et,nt),d=d+Math.imul(tt,rt)|0,E=Math.imul(tt,nt),v=v+Math.imul(Xe,st)|0,d=d+Math.imul(Xe,it)|0,d=d+Math.imul(Ye,st)|0,E=E+Math.imul(Ye,it)|0,v=v+Math.imul(Ze,ot)|0,d=d+Math.imul(Ze,at)|0,d=d+Math.imul(Qe,ot)|0,E=E+Math.imul(Qe,at)|0,v=v+Math.imul(We,ct)|0,d=d+Math.imul(We,ut)|0,d=d+Math.imul($e,ct)|0,E=E+Math.imul($e,ut)|0,v=v+Math.imul(ze,ft)|0,d=d+Math.imul(ze,lt)|0,d=d+Math.imul(Je,ft)|0,E=E+Math.imul(Je,lt)|0,v=v+Math.imul(Ke,dt)|0,d=d+Math.imul(Ke,ht)|0,d=d+Math.imul(Ve,dt)|0,E=E+Math.imul(Ve,ht)|0,v=v+Math.imul(ke,gt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(Te,gt)|0,E=E+Math.imul(Te,pt)|0,v=v+Math.imul(xe,mt)|0,d=d+Math.imul(xe,yt)|0,d=d+Math.imul(le,mt)|0,E=E+Math.imul(le,yt)|0,v=v+Math.imul(he,bt)|0,d=d+Math.imul(he,xt)|0,d=d+Math.imul(ge,bt)|0,E=E+Math.imul(ge,xt)|0,v=v+Math.imul($,wt)|0,d=d+Math.imul($,_t)|0,d=d+Math.imul(X,wt)|0,E=E+Math.imul(X,_t)|0;var f0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(f0>>>26)|0,f0&=67108863,v=Math.imul(et,st),d=Math.imul(et,it),d=d+Math.imul(tt,st)|0,E=Math.imul(tt,it),v=v+Math.imul(Xe,ot)|0,d=d+Math.imul(Xe,at)|0,d=d+Math.imul(Ye,ot)|0,E=E+Math.imul(Ye,at)|0,v=v+Math.imul(Ze,ct)|0,d=d+Math.imul(Ze,ut)|0,d=d+Math.imul(Qe,ct)|0,E=E+Math.imul(Qe,ut)|0,v=v+Math.imul(We,ft)|0,d=d+Math.imul(We,lt)|0,d=d+Math.imul($e,ft)|0,E=E+Math.imul($e,lt)|0,v=v+Math.imul(ze,dt)|0,d=d+Math.imul(ze,ht)|0,d=d+Math.imul(Je,dt)|0,E=E+Math.imul(Je,ht)|0,v=v+Math.imul(Ke,gt)|0,d=d+Math.imul(Ke,pt)|0,d=d+Math.imul(Ve,gt)|0,E=E+Math.imul(Ve,pt)|0,v=v+Math.imul(ke,mt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(Te,mt)|0,E=E+Math.imul(Te,yt)|0,v=v+Math.imul(xe,bt)|0,d=d+Math.imul(xe,xt)|0,d=d+Math.imul(le,bt)|0,E=E+Math.imul(le,xt)|0,v=v+Math.imul(he,wt)|0,d=d+Math.imul(he,_t)|0,d=d+Math.imul(ge,wt)|0,E=E+Math.imul(ge,_t)|0;var l0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(l0>>>26)|0,l0&=67108863,v=Math.imul(et,ot),d=Math.imul(et,at),d=d+Math.imul(tt,ot)|0,E=Math.imul(tt,at),v=v+Math.imul(Xe,ct)|0,d=d+Math.imul(Xe,ut)|0,d=d+Math.imul(Ye,ct)|0,E=E+Math.imul(Ye,ut)|0,v=v+Math.imul(Ze,ft)|0,d=d+Math.imul(Ze,lt)|0,d=d+Math.imul(Qe,ft)|0,E=E+Math.imul(Qe,lt)|0,v=v+Math.imul(We,dt)|0,d=d+Math.imul(We,ht)|0,d=d+Math.imul($e,dt)|0,E=E+Math.imul($e,ht)|0,v=v+Math.imul(ze,gt)|0,d=d+Math.imul(ze,pt)|0,d=d+Math.imul(Je,gt)|0,E=E+Math.imul(Je,pt)|0,v=v+Math.imul(Ke,mt)|0,d=d+Math.imul(Ke,yt)|0,d=d+Math.imul(Ve,mt)|0,E=E+Math.imul(Ve,yt)|0,v=v+Math.imul(ke,bt)|0,d=d+Math.imul(ke,xt)|0,d=d+Math.imul(Te,bt)|0,E=E+Math.imul(Te,xt)|0,v=v+Math.imul(xe,wt)|0,d=d+Math.imul(xe,_t)|0,d=d+Math.imul(le,wt)|0,E=E+Math.imul(le,_t)|0;var d0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(d0>>>26)|0,d0&=67108863,v=Math.imul(et,ct),d=Math.imul(et,ut),d=d+Math.imul(tt,ct)|0,E=Math.imul(tt,ut),v=v+Math.imul(Xe,ft)|0,d=d+Math.imul(Xe,lt)|0,d=d+Math.imul(Ye,ft)|0,E=E+Math.imul(Ye,lt)|0,v=v+Math.imul(Ze,dt)|0,d=d+Math.imul(Ze,ht)|0,d=d+Math.imul(Qe,dt)|0,E=E+Math.imul(Qe,ht)|0,v=v+Math.imul(We,gt)|0,d=d+Math.imul(We,pt)|0,d=d+Math.imul($e,gt)|0,E=E+Math.imul($e,pt)|0,v=v+Math.imul(ze,mt)|0,d=d+Math.imul(ze,yt)|0,d=d+Math.imul(Je,mt)|0,E=E+Math.imul(Je,yt)|0,v=v+Math.imul(Ke,bt)|0,d=d+Math.imul(Ke,xt)|0,d=d+Math.imul(Ve,bt)|0,E=E+Math.imul(Ve,xt)|0,v=v+Math.imul(ke,wt)|0,d=d+Math.imul(ke,_t)|0,d=d+Math.imul(Te,wt)|0,E=E+Math.imul(Te,_t)|0;var h0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(h0>>>26)|0,h0&=67108863,v=Math.imul(et,ft),d=Math.imul(et,lt),d=d+Math.imul(tt,ft)|0,E=Math.imul(tt,lt),v=v+Math.imul(Xe,dt)|0,d=d+Math.imul(Xe,ht)|0,d=d+Math.imul(Ye,dt)|0,E=E+Math.imul(Ye,ht)|0,v=v+Math.imul(Ze,gt)|0,d=d+Math.imul(Ze,pt)|0,d=d+Math.imul(Qe,gt)|0,E=E+Math.imul(Qe,pt)|0,v=v+Math.imul(We,mt)|0,d=d+Math.imul(We,yt)|0,d=d+Math.imul($e,mt)|0,E=E+Math.imul($e,yt)|0,v=v+Math.imul(ze,bt)|0,d=d+Math.imul(ze,xt)|0,d=d+Math.imul(Je,bt)|0,E=E+Math.imul(Je,xt)|0,v=v+Math.imul(Ke,wt)|0,d=d+Math.imul(Ke,_t)|0,d=d+Math.imul(Ve,wt)|0,E=E+Math.imul(Ve,_t)|0;var g0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(g0>>>26)|0,g0&=67108863,v=Math.imul(et,dt),d=Math.imul(et,ht),d=d+Math.imul(tt,dt)|0,E=Math.imul(tt,ht),v=v+Math.imul(Xe,gt)|0,d=d+Math.imul(Xe,pt)|0,d=d+Math.imul(Ye,gt)|0,E=E+Math.imul(Ye,pt)|0,v=v+Math.imul(Ze,mt)|0,d=d+Math.imul(Ze,yt)|0,d=d+Math.imul(Qe,mt)|0,E=E+Math.imul(Qe,yt)|0,v=v+Math.imul(We,bt)|0,d=d+Math.imul(We,xt)|0,d=d+Math.imul($e,bt)|0,E=E+Math.imul($e,xt)|0,v=v+Math.imul(ze,wt)|0,d=d+Math.imul(ze,_t)|0,d=d+Math.imul(Je,wt)|0,E=E+Math.imul(Je,_t)|0;var p0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(p0>>>26)|0,p0&=67108863,v=Math.imul(et,gt),d=Math.imul(et,pt),d=d+Math.imul(tt,gt)|0,E=Math.imul(tt,pt),v=v+Math.imul(Xe,mt)|0,d=d+Math.imul(Xe,yt)|0,d=d+Math.imul(Ye,mt)|0,E=E+Math.imul(Ye,yt)|0,v=v+Math.imul(Ze,bt)|0,d=d+Math.imul(Ze,xt)|0,d=d+Math.imul(Qe,bt)|0,E=E+Math.imul(Qe,xt)|0,v=v+Math.imul(We,wt)|0,d=d+Math.imul(We,_t)|0,d=d+Math.imul($e,wt)|0,E=E+Math.imul($e,_t)|0;var m0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(m0>>>26)|0,m0&=67108863,v=Math.imul(et,mt),d=Math.imul(et,yt),d=d+Math.imul(tt,mt)|0,E=Math.imul(tt,yt),v=v+Math.imul(Xe,bt)|0,d=d+Math.imul(Xe,xt)|0,d=d+Math.imul(Ye,bt)|0,E=E+Math.imul(Ye,xt)|0,v=v+Math.imul(Ze,wt)|0,d=d+Math.imul(Ze,_t)|0,d=d+Math.imul(Qe,wt)|0,E=E+Math.imul(Qe,_t)|0;var y0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(y0>>>26)|0,y0&=67108863,v=Math.imul(et,bt),d=Math.imul(et,xt),d=d+Math.imul(tt,bt)|0,E=Math.imul(tt,xt),v=v+Math.imul(Xe,wt)|0,d=d+Math.imul(Xe,_t)|0,d=d+Math.imul(Ye,wt)|0,E=E+Math.imul(Ye,_t)|0;var b0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(b0>>>26)|0,b0&=67108863,v=Math.imul(et,wt),d=Math.imul(et,_t),d=d+Math.imul(tt,wt)|0,E=Math.imul(tt,_t);var x0=(R+v|0)+((d&8191)<<13)|0;return R=(E+(d>>>13)|0)+(x0>>>26)|0,x0&=67108863,k[0]=t0,k[1]=r0,k[2]=n0,k[3]=s0,k[4]=i0,k[5]=o0,k[6]=a0,k[7]=c0,k[8]=u0,k[9]=f0,k[10]=l0,k[11]=d0,k[12]=h0,k[13]=g0,k[14]=p0,k[15]=m0,k[16]=y0,k[17]=b0,k[18]=x0,R!==0&&(k[19]=R,m.length++),m};Math.imul||(L=U);function q(S,u,l){l.negative=u.negative^S.negative,l.length=S.length+u.length;for(var m=0,x=0,_=0;_<l.length-1;_++){var k=x;x=0;for(var R=m&67108863,v=Math.min(_,u.length-1),d=Math.max(0,_-S.length+1);d<=v;d++){var E=_-d,J=S.words[E]|0,$=u.words[d]|0,X=J*$,te=X&67108863;k=k+(X/67108864|0)|0,te=te+R|0,R=te&67108863,k=k+(te>>>26)|0,x+=k>>>26,k&=67108863}l.words[_]=R,m=k,k=x}return m!==0?l.words[_]=m:l.length--,l._strip()}function H(S,u,l){return q(S,u,l)}s.prototype.mulTo=function(u,l){var m,x=this.length+u.length;return this.length===10&&u.length===10?m=L(this,u,l):x<63?m=U(this,u,l):x<1024?m=q(this,u,l):m=H(this,u,l),m};function V(S,u){this.x=S,this.y=u}V.prototype.makeRBT=function(u){for(var l=new Array(u),m=s.prototype._countBits(u)-1,x=0;x<u;x++)l[x]=this.revBin(x,m,u);return l},V.prototype.revBin=function(u,l,m){if(u===0||u===m-1)return u;for(var x=0,_=0;_<l;_++)x|=(u&1)<<l-_-1,u>>=1;return x},V.prototype.permute=function(u,l,m,x,_,k){for(var R=0;R<k;R++)x[R]=l[u[R]],_[R]=m[u[R]]},V.prototype.transform=function(u,l,m,x,_,k){this.permute(k,u,l,m,x,_);for(var R=1;R<_;R<<=1)for(var v=R<<1,d=Math.cos(2*Math.PI/v),E=Math.sin(2*Math.PI/v),J=0;J<_;J+=v)for(var $=d,X=E,te=0;te<R;te++){var he=m[J+te],ge=x[J+te],rr=m[J+te+R],xe=x[J+te+R],le=$*rr-X*xe;xe=$*xe+X*rr,rr=le,m[J+te]=he+rr,x[J+te]=ge+xe,m[J+te+R]=he-rr,x[J+te+R]=ge-xe,te!==v&&(le=d*$-E*X,X=d*X+E*$,$=le)}},V.prototype.guessLen13b=function(u,l){var m=Math.max(l,u)|1,x=m&1,_=0;for(m=m/2|0;m;m=m>>>1)_++;return 1<<_+1+x},V.prototype.conjugate=function(u,l,m){if(!(m<=1))for(var x=0;x<m/2;x++){var _=u[x];u[x]=u[m-x-1],u[m-x-1]=_,_=l[x],l[x]=-l[m-x-1],l[m-x-1]=-_}},V.prototype.normalize13b=function(u,l){for(var m=0,x=0;x<l/2;x++){var _=Math.round(u[2*x+1]/l)*8192+Math.round(u[2*x]/l)+m;u[x]=_&67108863,_<67108864?m=0:m=_/67108864|0}return u},V.prototype.convert13b=function(u,l,m,x){for(var _=0,k=0;k<l;k++)_=_+(u[k]|0),m[2*k]=_&8191,_=_>>>13,m[2*k+1]=_&8191,_=_>>>13;for(k=2*l;k<x;++k)m[k]=0;t(_===0),t((_&-8192)===0)},V.prototype.stub=function(u){for(var l=new Array(u),m=0;m<u;m++)l[m]=0;return l},V.prototype.mulp=function(u,l,m){var x=2*this.guessLen13b(u.length,l.length),_=this.makeRBT(x),k=this.stub(x),R=new Array(x),v=new Array(x),d=new Array(x),E=new Array(x),J=new Array(x),$=new Array(x),X=m.words;X.length=x,this.convert13b(u.words,u.length,R,x),this.convert13b(l.words,l.length,E,x),this.transform(R,k,v,d,x,_),this.transform(E,k,J,$,x,_);for(var te=0;te<x;te++){var he=v[te]*J[te]-d[te]*$[te];d[te]=v[te]*$[te]+d[te]*J[te],v[te]=he}return this.conjugate(v,d,x),this.transform(v,d,X,k,x,_),this.conjugate(X,k,x),this.normalize13b(X,x),m.negative=u.negative^l.negative,m.length=u.length+l.length,m._strip()},s.prototype.mul=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),this.mulTo(u,l)},s.prototype.mulf=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),H(this,u,l)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var l=u<0;l&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var m=0,x=0;x<this.length;x++){var _=(this.words[x]|0)*u,k=(_&67108863)+(m&67108863);m>>=26,m+=_/67108864|0,m+=k>>>26,this.words[x]=k&67108863}return m!==0&&(this.words[x]=m,this.length++),l?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var l=N(u);if(l.length===0)return new s(1);for(var m=this,x=0;x<l.length&&l[x]===0;x++,m=m.sqr());if(++x<l.length)for(var _=m.sqr();x<l.length;x++,_=_.sqr())l[x]!==0&&(m=m.mul(_));return m},s.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=67108863>>>26-l<<26-l,_;if(l!==0){var k=0;for(_=0;_<this.length;_++){var R=this.words[_]&x,v=(this.words[_]|0)-R<<l;this.words[_]=v|k,k=R>>>26-l}k&&(this.words[_]=k,this.length++)}if(m!==0){for(_=this.length-1;_>=0;_--)this.words[_+m]=this.words[_];for(_=0;_<m;_++)this.words[_]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,l,m){t(typeof u=="number"&&u>=0);var x;l?x=(l-l%26)/26:x=0;var _=u%26,k=Math.min((u-_)/26,this.length),R=67108863^67108863>>>_<<_,v=m;if(x-=k,x=Math.max(0,x),v){for(var d=0;d<k;d++)v.words[d]=this.words[d];v.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=x);d--){var J=this.words[d]|0;this.words[d]=E<<26-_|J>>>_,E=J&R}return v&&E!==0&&(v.words[v.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,l,m){return t(this.negative===0),this.iushrn(u,l,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return!1;var _=this.words[m];return!!(_&x)},s.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(l!==0&&m++,this.length=Math.min(m,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,l,m){var x=u.length+m,_;this._expand(x);var k,R=0;for(_=0;_<u.length;_++){k=(this.words[_+m]|0)+R;var v=(u.words[_]|0)*l;k-=v&67108863,R=(k>>26)-(v/67108864|0),this.words[_+m]=k&67108863}for(;_<this.length-m;_++)k=(this.words[_+m]|0)+R,R=k>>26,this.words[_+m]=k&67108863;if(R===0)return this._strip();for(t(R===-1),R=0,_=0;_<this.length;_++)k=-(this.words[_]|0)+R,R=k>>26,this.words[_]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,l){var m=this.length-u.length,x=this.clone(),_=u,k=_.words[_.length-1]|0,R=this._countBits(k);m=26-R,m!==0&&(_=_.ushln(m),x.iushln(m),k=_.words[_.length-1]|0);var v=x.length-_.length,d;if(l!=="mod"){d=new s(null),d.length=v+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var J=x.clone()._ishlnsubmul(_,1,v);J.negative===0&&(x=J,d&&(d.words[v]=1));for(var $=v-1;$>=0;$--){var X=(x.words[_.length+$]|0)*67108864+(x.words[_.length+$-1]|0);for(X=Math.min(X/k|0,67108863),x._ishlnsubmul(_,X,$);x.negative!==0;)X--,x.negative=0,x._ishlnsubmul(_,1,$),x.isZero()||(x.negative^=1);d&&(d.words[$]=X)}return d&&d._strip(),x._strip(),l!=="div"&&m!==0&&x.iushrn(m),{div:d||null,mod:x}},s.prototype.divmod=function(u,l,m){if(t(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,_,k;return this.negative!==0&&u.negative===0?(k=this.neg().divmod(u,l),l!=="mod"&&(x=k.div.neg()),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.iadd(u)),{div:x,mod:_}):this.negative===0&&u.negative!==0?(k=this.divmod(u.neg(),l),l!=="mod"&&(x=k.div.neg()),{div:x,mod:k.mod}):(this.negative&u.negative)!==0?(k=this.neg().divmod(u.neg(),l),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.isub(u)),{div:k.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?l==="div"?{div:this.divn(u.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,l)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var l=this.divmod(u);if(l.mod.isZero())return l.div;var m=l.div.negative!==0?l.mod.isub(u):l.mod,x=u.ushrn(1),_=u.andln(1),k=m.cmp(x);return k<0||_===1&&k===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=(1<<26)%u,x=0,_=this.length-1;_>=0;_--)x=(m*x+(this.words[_]|0))%u;return l?-x:x},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=0,x=this.length-1;x>=0;x--){var _=(this.words[x]|0)+m*67108864;this.words[x]=_/u|0,m=_%u}return this._strip(),l?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=new s(0),R=new s(1),v=0;l.isEven()&&m.isEven();)l.iushrn(1),m.iushrn(1),++v;for(var d=m.clone(),E=l.clone();!l.isZero();){for(var J=0,$=1;(l.words[0]&$)===0&&J<26;++J,$<<=1);if(J>0)for(l.iushrn(J);J-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(d),_.isub(E)),x.iushrn(1),_.iushrn(1);for(var X=0,te=1;(m.words[0]&te)===0&&X<26;++X,te<<=1);if(X>0)for(m.iushrn(X);X-- >0;)(k.isOdd()||R.isOdd())&&(k.iadd(d),R.isub(E)),k.iushrn(1),R.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(k),_.isub(R)):(m.isub(l),k.isub(x),R.isub(_))}return{a:k,b:R,gcd:m.iushln(v)}},s.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=m.clone();l.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,v=1;(l.words[0]&v)===0&&R<26;++R,v<<=1);if(R>0)for(l.iushrn(R);R-- >0;)x.isOdd()&&x.iadd(k),x.iushrn(1);for(var d=0,E=1;(m.words[0]&E)===0&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(_)):(m.isub(l),_.isub(x))}var J;return l.cmpn(1)===0?J=x:J=_,J.cmpn(0)<0&&J.iadd(u),J},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var l=this.clone(),m=u.clone();l.negative=0,m.negative=0;for(var x=0;l.isEven()&&m.isEven();x++)l.iushrn(1),m.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;m.isEven();)m.iushrn(1);var _=l.cmp(m);if(_<0){var k=l;l=m,m=k}else if(_===0||m.cmpn(1)===0)break;l.isub(m)}while(!0);return m.iushln(x)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){t(typeof u=="number");var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var _=x,k=m;_!==0&&k<this.length;k++){var R=this.words[k]|0;R+=_,_=R>>>26,R&=67108863,this.words[k]=R}return _!==0&&(this.words[k]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var l=u<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var m;if(this.length>1)m=1;else{l&&(u=-u),t(u<=67108863,"Number is too big");var x=this.words[0]|0;m=x===u?0:x<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var l=this.ucmp(u);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var l=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,_=u.words[m]|0;if(x!==_){x<_?l=-1:x>_&&(l=1);break}}return l},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new Z(u)},s.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var G={k256:null,p224:null,p192:null,p25519:null};function K(S,u){this.name=S,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},K.prototype.ireduce=function(u){var l=u,m;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),m=l.bitLength();while(m>this.n);var x=m<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(u,l){u.iushrn(this.n,0,l)},K.prototype.imulK=function(u){return u.imul(this.k)};function z(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(z,K),z.prototype.split=function(u,l){for(var m=4194303,x=Math.min(u.length,9),_=0;_<x;_++)l.words[_]=u.words[_];if(l.length=x,u.length<=9){u.words[0]=0,u.length=1;return}var k=u.words[9];for(l.words[l.length++]=k&m,_=10;_<u.length;_++){var R=u.words[_]|0;u.words[_-10]=(R&m)<<4|k>>>22,k=R}k>>>=22,u.words[_-10]=k,k===0&&u.length>10?u.length-=10:u.length-=9},z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var l=0,m=0;m<u.length;m++){var x=u.words[m]|0;l+=x*977,u.words[m]=l&67108863,l=x*64+(l/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function W(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(W,K);function ce(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ce,K);function ie(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ie,K),ie.prototype.imulK=function(u){for(var l=0,m=0;m<u.length;m++){var x=(u.words[m]|0)*19+l,_=x&67108863;x>>>=26,u.words[m]=_,l=x}return l!==0&&(u.words[u.length++]=l),u},s._prime=function(u){if(G[u])return G[u];var l;if(u==="k256")l=new z;else if(u==="p224")l=new W;else if(u==="p192")l=new ce;else if(u==="p25519")l=new ie;else throw new Error("Unknown prime "+u);return G[u]=l,l};function Z(S){if(typeof S=="string"){var u=s._prime(S);this.m=u.p,this.prime=u}else t(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},Z.prototype._verify2=function(u,l){t((u.negative|l.negative)===0,"red works only with positives"),t(u.red&&u.red===l.red,"red works only with red numbers")},Z.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},Z.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Z.prototype.add=function(u,l){this._verify2(u,l);var m=u.add(l);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Z.prototype.iadd=function(u,l){this._verify2(u,l);var m=u.iadd(l);return m.cmp(this.m)>=0&&m.isub(this.m),m},Z.prototype.sub=function(u,l){this._verify2(u,l);var m=u.sub(l);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Z.prototype.isub=function(u,l){this._verify2(u,l);var m=u.isub(l);return m.cmpn(0)<0&&m.iadd(this.m),m},Z.prototype.shl=function(u,l){return this._verify1(u),this.imod(u.ushln(l))},Z.prototype.imul=function(u,l){return this._verify2(u,l),this.imod(u.imul(l))},Z.prototype.mul=function(u,l){return this._verify2(u,l),this.imod(u.mul(l))},Z.prototype.isqr=function(u){return this.imul(u,u.clone())},Z.prototype.sqr=function(u){return this.mul(u,u)},Z.prototype.sqrt=function(u){if(u.isZero())return u.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);t(!x.isZero());var k=new s(1).toRed(this),R=k.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,v).cmp(R)!==0;)d.redIAdd(R);for(var E=this.pow(d,x),J=this.pow(u,x.addn(1).iushrn(1)),$=this.pow(u,x),X=_;$.cmp(k)!==0;){for(var te=$,he=0;te.cmp(k)!==0;he++)te=te.redSqr();t(he<X);var ge=this.pow(E,new s(1).iushln(X-he-1));J=J.redMul(ge),E=ge.redSqr(),$=$.redMul(E),X=he}return J},Z.prototype.invm=function(u){var l=u._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Z.prototype.pow=function(u,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return u.clone();var m=4,x=new Array(1<<m);x[0]=new s(1).toRed(this),x[1]=u;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],u);var k=x[0],R=0,v=0,d=l.bitLength()%26;for(d===0&&(d=26),_=l.length-1;_>=0;_--){for(var E=l.words[_],J=d-1;J>=0;J--){var $=E>>J&1;if(k!==x[0]&&(k=this.sqr(k)),$===0&&R===0){v=0;continue}R<<=1,R|=$,v++,!(v!==m&&(_!==0||J!==0))&&(k=this.mul(k,x[R]),v=0,R=0)}d=26}return k},Z.prototype.convertTo=function(u){var l=u.umod(this.m);return l===u?l.clone():l},Z.prototype.convertFrom=function(u){var l=u.clone();return l.red=null,l},s.mont=function(u){return new de(u)};function de(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(de,Z),de.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},de.prototype.convertFrom=function(u){var l=this.imod(u.mul(this.rinv));return l.red=null,l},de.prototype.imul=function(u,l){if(u.isZero()||l.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},de.prototype.mul=function(u,l){if(u.isZero()||l.isZero())return new s(0)._forceRed(this);var m=u.mul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},de.prototype.invm=function(u){var l=this.imod(u._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof kT>"u"||kT,m7)});var b7=M(jP=>{y();b();Object.defineProperty(jP,"__esModule",{value:!0});jP.version=void 0;jP.version="bytes/5.8.0"});var TT=M(qt=>{y();b();Object.defineProperty(qt,"__esModule",{value:!0});qt.joinSignature=qt.splitSignature=qt.hexZeroPad=qt.hexStripZeros=qt.hexValue=qt.hexConcat=qt.hexDataSlice=qt.hexDataLength=qt.hexlify=qt.isHexString=qt.zeroPad=qt.stripZeros=qt.concat=qt.arrayify=qt.isBytes=qt.isBytesLike=void 0;var hee=Zs(),gee=b7(),jr=new hee.Logger(gee.version);function w7(r){return!!r.toHexString}function Hg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Hg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function _7(r){return da(r)&&!(r.length%2)||LP(r)}qt.isBytesLike=_7;function x7(r){return typeof r=="number"&&r==r&&r%1===0}function LP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!x7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!x7(t)||t<0||t>=256)return!1}return!0}qt.isBytes=LP;function _0(r,e){if(e||(e={}),typeof r=="number"){jr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Hg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),w7(r)&&(r=r.toHexString()),da(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":jr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Hg(new Uint8Array(t))}return LP(r)?Hg(new Uint8Array(r)):jr.throwArgumentError("invalid arrayify value","value",r)}qt.arrayify=_0;function v7(r){var e=r.map(function(s){return _0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Hg(n)}qt.concat=v7;function pee(r){var e=_0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}qt.stripZeros=pee;function P7(r,e){r=_0(r),r.length>e&&jr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Hg(t)}qt.zeroPad=P7;function da(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}qt.isHexString=da;var OT="0123456789abcdef";function Wn(r,e){if(e||(e={}),typeof r=="number"){jr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=OT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),w7(r))return r.toHexString();if(da(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":jr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(LP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=OT[(i&240)>>4]+OT[i&15]}return n}return jr.throwArgumentError("invalid hexlify value","value",r)}qt.hexlify=Wn;function mee(r){if(typeof r!="string")r=Wn(r);else if(!da(r)||r.length%2)return null;return(r.length-2)/2}qt.hexDataLength=mee;function yee(r,e,t){return typeof r!="string"?r=Wn(r):(!da(r)||r.length%2)&&jr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}qt.hexDataSlice=yee;function bee(r){var e="0x";return r.forEach(function(t){e+=Wn(t).substring(2)}),e}qt.hexConcat=bee;function xee(r){var e=A7(Wn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}qt.hexValue=xee;function A7(r){typeof r!="string"&&(r=Wn(r)),da(r)||jr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}qt.hexStripZeros=A7;function FP(r,e){for(typeof r!="string"?r=Wn(r):da(r)||jr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&jr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}qt.hexZeroPad=FP;function E7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(_7(r)){var t=_0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Wn(t.slice(0,32)),e.s=Wn(t.slice(32,64))):t.length===65?(e.r=Wn(t.slice(0,32)),e.s=Wn(t.slice(32,64)),e.v=t[64]):jr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:jr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Wn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=P7(_0(e._vs),32);e._vs=Wn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&jr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Wn(n);e.s==null?e.s=i:e.s!==i&&jr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?jr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&jr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!da(e.r)?jr.throwArgumentError("signature missing or invalid r","signature",r):e.r=FP(e.r,32),e.s==null||!da(e.s)?jr.throwArgumentError("signature missing or invalid s","signature",r):e.s=FP(e.s,32);var a=_0(e.s);a[0]>=128&&jr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Wn(a);e._vs&&(da(e._vs)||jr.throwArgumentError("signature invalid _vs","signature",r),e._vs=FP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&jr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}qt.splitSignature=E7;function wee(r){return r=E7(r),Wn(v7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}qt.joinSignature=wee});var NT=M(UP=>{y();b();Object.defineProperty(UP,"__esModule",{value:!0});UP.version=void 0;UP.version="bignumber/5.8.0"});var qP=M($i=>{y();b();var _ee=$i&&$i.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($i,"__esModule",{value:!0});$i._base16To36=$i._base36To16=$i.BigNumber=$i.isBigNumberish=void 0;var vee=_ee(y7()),ow=vee.default.BN,Gg=TT(),Kg=Zs(),Pee=NT(),Iu=new Kg.Logger(Pee.version),CT={},S7=9007199254740991;function Aee(r){return r!=null&&(DP.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||(0,Gg.isHexString)(r)||typeof r=="bigint"||(0,Gg.isBytes)(r))}$i.isBigNumberish=Aee;var k7=!1,DP=function(){function r(e,t){e!==CT&&Iu.throwError("cannot call constructor directly; use BigNumber.from",Kg.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return r.prototype.fromTwos=function(e){return Qs(Ct(this).fromTwos(e))},r.prototype.toTwos=function(e){return Qs(Ct(this).toTwos(e))},r.prototype.abs=function(){return this._hex[0]==="-"?r.from(this._hex.substring(1)):this},r.prototype.add=function(e){return Qs(Ct(this).add(Ct(e)))},r.prototype.sub=function(e){return Qs(Ct(this).sub(Ct(e)))},r.prototype.div=function(e){var t=r.from(e);return t.isZero()&&Wi("division-by-zero","div"),Qs(Ct(this).div(Ct(e)))},r.prototype.mul=function(e){return Qs(Ct(this).mul(Ct(e)))},r.prototype.mod=function(e){var t=Ct(e);return t.isNeg()&&Wi("division-by-zero","mod"),Qs(Ct(this).umod(t))},r.prototype.pow=function(e){var t=Ct(e);return t.isNeg()&&Wi("negative-power","pow"),Qs(Ct(this).pow(t))},r.prototype.and=function(e){var t=Ct(e);return(this.isNegative()||t.isNeg())&&Wi("unbound-bitwise-result","and"),Qs(Ct(this).and(t))},r.prototype.or=function(e){var t=Ct(e);return(this.isNegative()||t.isNeg())&&Wi("unbound-bitwise-result","or"),Qs(Ct(this).or(t))},r.prototype.xor=function(e){var t=Ct(e);return(this.isNegative()||t.isNeg())&&Wi("unbound-bitwise-result","xor"),Qs(Ct(this).xor(t))},r.prototype.mask=function(e){return(this.isNegative()||e<0)&&Wi("negative-width","mask"),Qs(Ct(this).maskn(e))},r.prototype.shl=function(e){return(this.isNegative()||e<0)&&Wi("negative-width","shl"),Qs(Ct(this).shln(e))},r.prototype.shr=function(e){return(this.isNegative()||e<0)&&Wi("negative-width","shr"),Qs(Ct(this).shrn(e))},r.prototype.eq=function(e){return Ct(this).eq(Ct(e))},r.prototype.lt=function(e){return Ct(this).lt(Ct(e))},r.prototype.lte=function(e){return Ct(this).lte(Ct(e))},r.prototype.gt=function(e){return Ct(this).gt(Ct(e))},r.prototype.gte=function(e){return Ct(this).gte(Ct(e))},r.prototype.isNegative=function(){return this._hex[0]==="-"},r.prototype.isZero=function(){return Ct(this).isZero()},r.prototype.toNumber=function(){try{return Ct(this).toNumber()}catch{Wi("overflow","toNumber",this.toString())}return null},r.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch{}return Iu.throwError("this platform does not support BigInt",Kg.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},r.prototype.toString=function(){return arguments.length>0&&(arguments[0]===10?k7||(k7=!0,Iu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Iu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Kg.Logger.errors.UNEXPECTED_ARGUMENT,{}):Iu.throwError("BigNumber.toString does not accept parameters",Kg.Logger.errors.UNEXPECTED_ARGUMENT,{})),Ct(this).toString(10)},r.prototype.toHexString=function(){return this._hex},r.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},r.from=function(e){if(e instanceof r)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new r(CT,aw(e)):e.match(/^-?[0-9]+$/)?new r(CT,aw(new ow(e))):Iu.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Wi("underflow","BigNumber.from",e),(e>=S7||e<=-S7)&&Wi("overflow","BigNumber.from",e),r.from(String(e));var t=e;if(typeof t=="bigint")return r.from(t.toString());if((0,Gg.isBytes)(t))return r.from((0,Gg.hexlify)(t));if(t)if(t.toHexString){var n=t.toHexString();if(typeof n=="string")return r.from(n)}else{var n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&((0,Gg.isHexString)(n)||n[0]==="-"&&(0,Gg.isHexString)(n.substring(1))))return r.from(n)}return Iu.throwArgumentError("invalid BigNumber value","value",e)},r.isBigNumber=function(e){return!!(e&&e._isBigNumber)},r}();$i.BigNumber=DP;function aw(r){if(typeof r!="string")return aw(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Iu.throwArgumentError("invalid hex","value",r),r=aw(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Qs(r){return DP.from(aw(r))}function Ct(r){var e=DP.from(r).toHexString();return e[0]==="-"?new ow("-"+e.substring(3),16):new ow(e.substring(2),16)}function Wi(r,e,t){var n={fault:r,operation:e};return t!=null&&(n.value=t),Iu.throwError(r,Kg.Logger.errors.NUMERIC_FAULT,n)}function Eee(r){return new ow(r,36).toString(16)}$i._base36To16=Eee;function See(r){return new ow(r,16).toString(36)}$i._base16To36=See});var R7=M(Ac=>{y();b();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.FixedNumber=Ac.FixedFormat=Ac.parseFixed=Ac.formatFixed=void 0;var HP=TT(),fw=Zs(),kee=NT(),vs=new fw.Logger(kee.version),Mu=qP(),cw={},T7=Mu.BigNumber.from(0),N7=Mu.BigNumber.from(-1);function C7(r,e,t,n){var s={fault:e,operation:t};return n!==void 0&&(s.value=n),vs.throwError(r,fw.Logger.errors.NUMERIC_FAULT,s)}var uw="0";for(;uw.length<256;)uw+=uw;function RT(r){if(typeof r!="number")try{r=Mu.BigNumber.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+uw.substring(0,r):vs.throwArgumentError("invalid decimal size","decimals",r)}function GP(r,e){e==null&&(e=0);var t=RT(e);r=Mu.BigNumber.from(r);var n=r.lt(T7);n&&(r=r.mul(N7));for(var s=r.mod(t).toString();s.length<t.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=r.div(t).toString();return t.length===1?r=i:r=i+"."+s,n&&(r="-"+r),r}Ac.formatFixed=GP;function Pc(r,e){e==null&&(e=0);var t=RT(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&vs.throwArgumentError("invalid decimal value","value",r);var n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&vs.throwArgumentError("missing value","value",r);var s=r.split(".");s.length>2&&vs.throwArgumentError("too many decimal points","value",r);var i=s[0],o=s[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&C7("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";var a=Mu.BigNumber.from(i),c=Mu.BigNumber.from(o),f=a.mul(t).add(c);return n&&(f=f.mul(N7)),f}Ac.parseFixed=Pc;var KP=function(){function r(e,t,n,s){e!==cw&&vs.throwError("cannot use FixedFormat constructor; use FixedFormat.from",fw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=s,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(s),this._multiplier=RT(s),Object.freeze(this)}return r.from=function(e){if(e instanceof r)return e;typeof e=="number"&&(e="fixed128x"+e);var t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||vs.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(e){var o=function(a,c,f){return e[a]==null?f:(typeof e[a]!==c&&vs.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,e[a]),e[a])};t=o("signed","boolean",t),n=o("width","number",n),s=o("decimals","number",s)}return n%8&&vs.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),s>80&&vs.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new r(cw,t,n,s)},r}();Ac.FixedFormat=KP;var BT=function(){function r(e,t,n,s){e!==cw&&vs.throwError("cannot use FixedNumber constructor; use FixedNumber.from",fw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return r.prototype._checkFormat=function(e){this.format.name!==e.format.name&&vs.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},r.prototype.addUnsafe=function(e){this._checkFormat(e);var t=Pc(this._value,this.format.decimals),n=Pc(e._value,e.format.decimals);return r.fromValue(t.add(n),this.format.decimals,this.format)},r.prototype.subUnsafe=function(e){this._checkFormat(e);var t=Pc(this._value,this.format.decimals),n=Pc(e._value,e.format.decimals);return r.fromValue(t.sub(n),this.format.decimals,this.format)},r.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=Pc(this._value,this.format.decimals),n=Pc(e._value,e.format.decimals);return r.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},r.prototype.divUnsafe=function(e){this._checkFormat(e);var t=Pc(this._value,this.format.decimals),n=Pc(e._value,e.format.decimals);return r.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},r.prototype.floor=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(O7.toFormat(t.format))),t},r.prototype.ceiling=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(O7.toFormat(t.format))),t},r.prototype.round=function(e){e==null&&(e=0);var t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&vs.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var n=r.from("1"+uw.substring(0,e),this.format),s=Oee.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(s).floor().divUnsafe(n)},r.prototype.isZero=function(){return this._value==="0.0"||this._value==="0"},r.prototype.isNegative=function(){return this._value[0]==="-"},r.prototype.toString=function(){return this._value},r.prototype.toHexString=function(e){if(e==null)return this._hex;e%8&&vs.throwArgumentError("invalid byte width","width",e);var t=Mu.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,HP.hexZeroPad)(t,e/8)},r.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},r.prototype.toFormat=function(e){return r.fromString(this._value,e)},r.fromValue=function(e,t,n){return n==null&&t!=null&&!(0,Mu.isBigNumberish)(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),r.fromString(GP(e,t),KP.from(n))},r.fromString=function(e,t){t==null&&(t="fixed");var n=KP.from(t),s=Pc(e,n.decimals);!n.signed&&s.lt(T7)&&C7("unsigned value cannot be negative","overflow","value",e);var i=null;n.signed?i=s.toTwos(n.width).toHexString():(i=s.toHexString(),i=(0,HP.hexZeroPad)(i,n.width/8));var o=GP(s,n.decimals);return new r(cw,i,o,n)},r.fromBytes=function(e,t){t==null&&(t="fixed");var n=KP.from(t);if((0,HP.arrayify)(e).length>n.width/8)throw new Error("overflow");var s=Mu.BigNumber.from(e);n.signed&&(s=s.fromTwos(n.width));var i=s.toTwos((n.signed?0:1)+n.width).toHexString(),o=GP(s,n.decimals);return new r(cw,i,o,n)},r.from=function(e,t){if(typeof e=="string")return r.fromString(e,t);if((0,HP.isBytes)(e))return r.fromBytes(e,t);try{return r.fromValue(e,0,t)}catch(n){if(n.code!==fw.Logger.errors.INVALID_ARGUMENT)throw n}return vs.throwArgumentError("invalid FixedNumber value","value",e)},r.isFixedNumber=function(e){return!!(e&&e._isFixedNumber)},r}();Ac.FixedNumber=BT;var O7=BT.from(1),Oee=BT.from("0.5")});var zP=M($n=>{y();b();Object.defineProperty($n,"__esModule",{value:!0});$n._base36To16=$n._base16To36=$n.parseFixed=$n.FixedNumber=$n.FixedFormat=$n.formatFixed=$n.BigNumber=void 0;var Tee=qP();Object.defineProperty($n,"BigNumber",{enumerable:!0,get:function(){return Tee.BigNumber}});var VP=R7();Object.defineProperty($n,"formatFixed",{enumerable:!0,get:function(){return VP.formatFixed}});Object.defineProperty($n,"FixedFormat",{enumerable:!0,get:function(){return VP.FixedFormat}});Object.defineProperty($n,"FixedNumber",{enumerable:!0,get:function(){return VP.FixedNumber}});Object.defineProperty($n,"parseFixed",{enumerable:!0,get:function(){return VP.parseFixed}});var B7=qP();Object.defineProperty($n,"_base16To36",{enumerable:!0,get:function(){return B7._base16To36}});Object.defineProperty($n,"_base36To16",{enumerable:!0,get:function(){return B7._base36To16}})});var I7=M(JP=>{y();b();Object.defineProperty(JP,"__esModule",{value:!0});JP.version=void 0;JP.version="bytes/5.8.0"});var H7=M(Ht=>{y();b();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.joinSignature=Ht.splitSignature=Ht.hexZeroPad=Ht.hexStripZeros=Ht.hexValue=Ht.hexConcat=Ht.hexDataSlice=Ht.hexDataLength=Ht.hexlify=Ht.isHexString=Ht.zeroPad=Ht.stripZeros=Ht.concat=Ht.arrayify=Ht.isBytes=Ht.isBytesLike=void 0;var Nee=Zs(),Cee=I7(),Fr=new Nee.Logger(Cee.version);function j7(r){return!!r.toHexString}function Vg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Vg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function F7(r){return ha(r)&&!(r.length%2)||$P(r)}Ht.isBytesLike=F7;function M7(r){return typeof r=="number"&&r==r&&r%1===0}function $P(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!M7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!M7(t)||t<0||t>=256)return!1}return!0}Ht.isBytes=$P;function v0(r,e){if(e||(e={}),typeof r=="number"){Fr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Vg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),j7(r)&&(r=r.toHexString()),ha(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Fr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Vg(new Uint8Array(t))}return $P(r)?Vg(new Uint8Array(r)):Fr.throwArgumentError("invalid arrayify value","value",r)}Ht.arrayify=v0;function L7(r){var e=r.map(function(s){return v0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Vg(n)}Ht.concat=L7;function Ree(r){var e=v0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Ht.stripZeros=Ree;function U7(r,e){r=v0(r),r.length>e&&Fr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Vg(t)}Ht.zeroPad=U7;function ha(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Ht.isHexString=ha;var IT="0123456789abcdef";function Zn(r,e){if(e||(e={}),typeof r=="number"){Fr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=IT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),j7(r))return r.toHexString();if(ha(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Fr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if($P(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=IT[(i&240)>>4]+IT[i&15]}return n}return Fr.throwArgumentError("invalid hexlify value","value",r)}Ht.hexlify=Zn;function Bee(r){if(typeof r!="string")r=Zn(r);else if(!ha(r)||r.length%2)return null;return(r.length-2)/2}Ht.hexDataLength=Bee;function Iee(r,e,t){return typeof r!="string"?r=Zn(r):(!ha(r)||r.length%2)&&Fr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Ht.hexDataSlice=Iee;function Mee(r){var e="0x";return r.forEach(function(t){e+=Zn(t).substring(2)}),e}Ht.hexConcat=Mee;function jee(r){var e=D7(Zn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Ht.hexValue=jee;function D7(r){typeof r!="string"&&(r=Zn(r)),ha(r)||Fr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Ht.hexStripZeros=D7;function WP(r,e){for(typeof r!="string"?r=Zn(r):ha(r)||Fr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Fr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Ht.hexZeroPad=WP;function q7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(F7(r)){var t=v0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Zn(t.slice(0,32)),e.s=Zn(t.slice(32,64))):t.length===65?(e.r=Zn(t.slice(0,32)),e.s=Zn(t.slice(32,64)),e.v=t[64]):Fr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Fr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Zn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=U7(v0(e._vs),32);e._vs=Zn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Fr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Zn(n);e.s==null?e.s=i:e.s!==i&&Fr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Fr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Fr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ha(e.r)?Fr.throwArgumentError("signature missing or invalid r","signature",r):e.r=WP(e.r,32),e.s==null||!ha(e.s)?Fr.throwArgumentError("signature missing or invalid s","signature",r):e.s=WP(e.s,32);var a=v0(e.s);a[0]>=128&&Fr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Zn(a);e._vs&&(ha(e._vs)||Fr.throwArgumentError("signature invalid _vs","signature",r),e._vs=WP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Fr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Ht.splitSignature=q7;function Fee(r){return r=q7(r),Zn(L7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Ht.joinSignature=Fee});var MT=M(zg=>{y();b();var Lee=zg&&zg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zg,"__esModule",{value:!0});zg.keccak256=void 0;var Uee=Lee(XY()),Dee=H7();function qee(r){return"0x"+Uee.default.keccak_256((0,Dee.arrayify)(r))}zg.keccak256=qee});var G7=M(ZP=>{y();b();Object.defineProperty(ZP,"__esModule",{value:!0});ZP.version=void 0;ZP.version="bytes/5.8.0"});var Q7=M(Gt=>{y();b();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.joinSignature=Gt.splitSignature=Gt.hexZeroPad=Gt.hexStripZeros=Gt.hexValue=Gt.hexConcat=Gt.hexDataSlice=Gt.hexDataLength=Gt.hexlify=Gt.isHexString=Gt.zeroPad=Gt.stripZeros=Gt.concat=Gt.arrayify=Gt.isBytes=Gt.isBytesLike=void 0;var Hee=Zs(),Gee=G7(),Lr=new Hee.Logger(Gee.version);function V7(r){return!!r.toHexString}function Jg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Jg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function z7(r){return ga(r)&&!(r.length%2)||XP(r)}Gt.isBytesLike=z7;function K7(r){return typeof r=="number"&&r==r&&r%1===0}function XP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!K7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!K7(t)||t<0||t>=256)return!1}return!0}Gt.isBytes=XP;function P0(r,e){if(e||(e={}),typeof r=="number"){Lr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Jg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),V7(r)&&(r=r.toHexString()),ga(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Lr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Jg(new Uint8Array(t))}return XP(r)?Jg(new Uint8Array(r)):Lr.throwArgumentError("invalid arrayify value","value",r)}Gt.arrayify=P0;function J7(r){var e=r.map(function(s){return P0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Jg(n)}Gt.concat=J7;function Kee(r){var e=P0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Gt.stripZeros=Kee;function W7(r,e){r=P0(r),r.length>e&&Lr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Jg(t)}Gt.zeroPad=W7;function ga(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Gt.isHexString=ga;var jT="0123456789abcdef";function Qn(r,e){if(e||(e={}),typeof r=="number"){Lr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=jT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),V7(r))return r.toHexString();if(ga(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Lr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(XP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=jT[(i&240)>>4]+jT[i&15]}return n}return Lr.throwArgumentError("invalid hexlify value","value",r)}Gt.hexlify=Qn;function Vee(r){if(typeof r!="string")r=Qn(r);else if(!ga(r)||r.length%2)return null;return(r.length-2)/2}Gt.hexDataLength=Vee;function zee(r,e,t){return typeof r!="string"?r=Qn(r):(!ga(r)||r.length%2)&&Lr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Gt.hexDataSlice=zee;function Jee(r){var e="0x";return r.forEach(function(t){e+=Qn(t).substring(2)}),e}Gt.hexConcat=Jee;function Wee(r){var e=$7(Qn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Gt.hexValue=Wee;function $7(r){typeof r!="string"&&(r=Qn(r)),ga(r)||Lr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Gt.hexStripZeros=$7;function QP(r,e){for(typeof r!="string"?r=Qn(r):ga(r)||Lr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Lr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Gt.hexZeroPad=QP;function Z7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(z7(r)){var t=P0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Qn(t.slice(0,32)),e.s=Qn(t.slice(32,64))):t.length===65?(e.r=Qn(t.slice(0,32)),e.s=Qn(t.slice(32,64)),e.v=t[64]):Lr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Lr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Qn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=W7(P0(e._vs),32);e._vs=Qn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Lr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Qn(n);e.s==null?e.s=i:e.s!==i&&Lr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Lr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Lr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ga(e.r)?Lr.throwArgumentError("signature missing or invalid r","signature",r):e.r=QP(e.r,32),e.s==null||!ga(e.s)?Lr.throwArgumentError("signature missing or invalid s","signature",r):e.s=QP(e.s,32);var a=P0(e.s);a[0]>=128&&Lr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Qn(a);e._vs&&(ga(e._vs)||Lr.throwArgumentError("signature invalid _vs","signature",r),e._vs=QP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Lr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Gt.splitSignature=Z7;function $ee(r){return r=Z7(r),Qn(J7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Gt.joinSignature=$ee});var X7=M(YP=>{y();b();Object.defineProperty(YP,"__esModule",{value:!0});YP.version=void 0;YP.version="rlp/5.8.0"});var FT=M(Wg=>{y();b();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.decode=Wg.encode=void 0;var A0=Q7(),ju=Zs(),Zee=X7(),Ec=new ju.Logger(Zee.version);function Y7(r){for(var e=[];r;)e.unshift(r&255),r>>=8;return e}function ej(r,e,t){for(var n=0,s=0;s<t;s++)n=n*256+r[e+s];return n}function rj(r){if(Array.isArray(r)){var e=[];if(r.forEach(function(i){e=e.concat(rj(i))}),e.length<=55)return e.unshift(192+e.length),e;var t=Y7(e.length);return t.unshift(247+t.length),t.concat(e)}(0,A0.isBytesLike)(r)||Ec.throwArgumentError("RLP object must be BytesLike","object",r);var n=Array.prototype.slice.call((0,A0.arrayify)(r));if(n.length===1&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var s=Y7(n.length);return s.unshift(183+s.length),s.concat(n)}function Qee(r){return(0,A0.hexlify)(rj(r))}Wg.encode=Qee;function tj(r,e,t,n){for(var s=[];t<e+1+n;){var i=nj(r,t);s.push(i.result),t+=i.consumed,t>e+1+n&&Ec.throwError("child data too short",ju.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function nj(r,e){if(r.length===0&&Ec.throwError("data too short",ju.Logger.errors.BUFFER_OVERRUN,{}),r[e]>=248){var t=r[e]-247;e+1+t>r.length&&Ec.throwError("data short segment too short",ju.Logger.errors.BUFFER_OVERRUN,{});var n=ej(r,e+1,t);return e+1+t+n>r.length&&Ec.throwError("data long segment too short",ju.Logger.errors.BUFFER_OVERRUN,{}),tj(r,e,e+1+t,t+n)}else if(r[e]>=192){var s=r[e]-192;return e+1+s>r.length&&Ec.throwError("data array too short",ju.Logger.errors.BUFFER_OVERRUN,{}),tj(r,e,e+1,s)}else if(r[e]>=184){var t=r[e]-183;e+1+t>r.length&&Ec.throwError("data array too short",ju.Logger.errors.BUFFER_OVERRUN,{});var i=ej(r,e+1,t);e+1+t+i>r.length&&Ec.throwError("data array too short",ju.Logger.errors.BUFFER_OVERRUN,{});var o=(0,A0.hexlify)(r.slice(e+1+t,e+1+t+i));return{consumed:1+t+i,result:o}}else if(r[e]>=128){var a=r[e]-128;e+1+a>r.length&&Ec.throwError("data too short",ju.Logger.errors.BUFFER_OVERRUN,{});var o=(0,A0.hexlify)(r.slice(e+1,e+1+a));return{consumed:1+a,result:o}}return{consumed:1,result:(0,A0.hexlify)(r[e])}}function Xee(r){var e=(0,A0.arrayify)(r),t=nj(e,0);return t.consumed!==e.length&&Ec.throwArgumentError("invalid rlp data","data",r),t.result}Wg.decode=Xee});var sj=M(eA=>{y();b();Object.defineProperty(eA,"__esModule",{value:!0});eA.version=void 0;eA.version="address/5.8.0"});var qT=M(Zi=>{y();b();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.getCreate2Address=Zi.getContractAddress=Zi.getIcapAddress=Zi.isAddress=Zi.getAddress=void 0;var Fu=p7(),LT=zP(),UT=MT(),Yee=FT(),ete=Zs(),tte=sj(),$f=new ete.Logger(tte.version);function ij(r){(0,Fu.isHexString)(r,20)||$f.throwArgumentError("invalid address","address",r),r=r.toLowerCase();for(var e=r.substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=e[n].charCodeAt(0);for(var s=(0,Fu.arrayify)((0,UT.keccak256)(t)),n=0;n<40;n+=2)s[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(s[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}var rte=9007199254740991;function nte(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var DT={};for(pa=0;pa<10;pa++)DT[String(pa)]=String(pa);var pa;for(pa=0;pa<26;pa++)DT[String.fromCharCode(65+pa)]=String(10+pa);var pa,oj=Math.floor(nte(rte));function aj(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";for(var e=r.split("").map(function(s){return DT[s]}).join("");e.length>=oj;){var t=e.substring(0,oj);e=parseInt(t,10)%97+e.substring(t.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function E0(r){var e=null;if(typeof r!="string"&&$f.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=ij(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&$f.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==aj(r)&&$f.throwArgumentError("bad icap checksum","address",r),e=(0,LT._base36To16)(r.substring(4));e.length<40;)e="0"+e;e=ij("0x"+e)}else $f.throwArgumentError("invalid address","address",r);return e}Zi.getAddress=E0;function ste(r){try{return E0(r),!0}catch{}return!1}Zi.isAddress=ste;function ite(r){for(var e=(0,LT._base16To36)(E0(r).substring(2)).toUpperCase();e.length<30;)e="0"+e;return"XE"+aj("XE00"+e)+e}Zi.getIcapAddress=ite;function ote(r){var e=null;try{e=E0(r.from)}catch{$f.throwArgumentError("missing from address","transaction",r)}var t=(0,Fu.stripZeros)((0,Fu.arrayify)(LT.BigNumber.from(r.nonce).toHexString()));return E0((0,Fu.hexDataSlice)((0,UT.keccak256)((0,Yee.encode)([e,t])),12))}Zi.getContractAddress=ote;function ate(r,e,t){return(0,Fu.hexDataLength)(e)!==32&&$f.throwArgumentError("salt must be 32 bytes","salt",e),(0,Fu.hexDataLength)(t)!==32&&$f.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),E0((0,Fu.hexDataSlice)((0,UT.keccak256)((0,Fu.concat)(["0xff",E0(r),e,t])),12))}Zi.getCreate2Address=ate});var cj=M(tA=>{y();b();Object.defineProperty(tA,"__esModule",{value:!0});tA.version=void 0;tA.version="bytes/5.8.0"});var mj=M(Kt=>{y();b();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.joinSignature=Kt.splitSignature=Kt.hexZeroPad=Kt.hexStripZeros=Kt.hexValue=Kt.hexConcat=Kt.hexDataSlice=Kt.hexDataLength=Kt.hexlify=Kt.isHexString=Kt.zeroPad=Kt.stripZeros=Kt.concat=Kt.arrayify=Kt.isBytes=Kt.isBytesLike=void 0;var cte=Zs(),ute=cj(),Ur=new cte.Logger(ute.version);function fj(r){return!!r.toHexString}function $g(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return $g(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function lj(r){return ma(r)&&!(r.length%2)||nA(r)}Kt.isBytesLike=lj;function uj(r){return typeof r=="number"&&r==r&&r%1===0}function nA(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!uj(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!uj(t)||t<0||t>=256)return!1}return!0}Kt.isBytes=nA;function S0(r,e){if(e||(e={}),typeof r=="number"){Ur.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),$g(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),fj(r)&&(r=r.toHexString()),ma(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Ur.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return $g(new Uint8Array(t))}return nA(r)?$g(new Uint8Array(r)):Ur.throwArgumentError("invalid arrayify value","value",r)}Kt.arrayify=S0;function dj(r){var e=r.map(function(s){return S0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),$g(n)}Kt.concat=dj;function fte(r){var e=S0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Kt.stripZeros=fte;function hj(r,e){r=S0(r),r.length>e&&Ur.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),$g(t)}Kt.zeroPad=hj;function ma(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Kt.isHexString=ma;var HT="0123456789abcdef";function Xn(r,e){if(e||(e={}),typeof r=="number"){Ur.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=HT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),fj(r))return r.toHexString();if(ma(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Ur.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(nA(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=HT[(i&240)>>4]+HT[i&15]}return n}return Ur.throwArgumentError("invalid hexlify value","value",r)}Kt.hexlify=Xn;function lte(r){if(typeof r!="string")r=Xn(r);else if(!ma(r)||r.length%2)return null;return(r.length-2)/2}Kt.hexDataLength=lte;function dte(r,e,t){return typeof r!="string"?r=Xn(r):(!ma(r)||r.length%2)&&Ur.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Kt.hexDataSlice=dte;function hte(r){var e="0x";return r.forEach(function(t){e+=Xn(t).substring(2)}),e}Kt.hexConcat=hte;function gte(r){var e=gj(Xn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Kt.hexValue=gte;function gj(r){typeof r!="string"&&(r=Xn(r)),ma(r)||Ur.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Kt.hexStripZeros=gj;function rA(r,e){for(typeof r!="string"?r=Xn(r):ma(r)||Ur.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Ur.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Kt.hexZeroPad=rA;function pj(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(lj(r)){var t=S0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Xn(t.slice(0,32)),e.s=Xn(t.slice(32,64))):t.length===65?(e.r=Xn(t.slice(0,32)),e.s=Xn(t.slice(32,64)),e.v=t[64]):Ur.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ur.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Xn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=hj(S0(e._vs),32);e._vs=Xn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ur.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Xn(n);e.s==null?e.s=i:e.s!==i&&Ur.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Ur.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Ur.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ma(e.r)?Ur.throwArgumentError("signature missing or invalid r","signature",r):e.r=rA(e.r,32),e.s==null||!ma(e.s)?Ur.throwArgumentError("signature missing or invalid s","signature",r):e.s=rA(e.s,32);var a=S0(e.s);a[0]>=128&&Ur.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Xn(a);e._vs&&(ma(e._vs)||Ur.throwArgumentError("signature invalid _vs","signature",r),e._vs=rA(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Ur.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Kt.splitSignature=pj;function pte(r){return r=pj(r),Xn(dj([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Kt.joinSignature=pte});var yj=M(sA=>{y();b();Object.defineProperty(sA,"__esModule",{value:!0});sA.AddressZero=void 0;sA.AddressZero="0x0000000000000000000000000000000000000000"});var bj=M(Tn=>{y();b();Object.defineProperty(Tn,"__esModule",{value:!0});Tn.MaxInt256=Tn.MinInt256=Tn.MaxUint256=Tn.WeiPerEther=Tn.Two=Tn.One=Tn.Zero=Tn.NegativeOne=void 0;var Zf=zP(),mte=Zf.BigNumber.from(-1);Tn.NegativeOne=mte;var yte=Zf.BigNumber.from(0);Tn.Zero=yte;var bte=Zf.BigNumber.from(1);Tn.One=bte;var xte=Zf.BigNumber.from(2);Tn.Two=xte;var wte=Zf.BigNumber.from("1000000000000000000");Tn.WeiPerEther=wte;var _te=Zf.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tn.MaxUint256=_te;var vte=Zf.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");Tn.MinInt256=vte;var Pte=Zf.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tn.MaxInt256=Pte});var xj=M(iA=>{y();b();Object.defineProperty(iA,"__esModule",{value:!0});iA.HashZero=void 0;iA.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"});var wj=M(oA=>{y();b();Object.defineProperty(oA,"__esModule",{value:!0});oA.EtherSymbol=void 0;oA.EtherSymbol="\u039E"});var _j=M(Sr=>{y();b();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.EtherSymbol=Sr.HashZero=Sr.MaxInt256=Sr.MinInt256=Sr.MaxUint256=Sr.WeiPerEther=Sr.Two=Sr.One=Sr.Zero=Sr.NegativeOne=Sr.AddressZero=void 0;var Ate=yj();Object.defineProperty(Sr,"AddressZero",{enumerable:!0,get:function(){return Ate.AddressZero}});var Qf=bj();Object.defineProperty(Sr,"NegativeOne",{enumerable:!0,get:function(){return Qf.NegativeOne}});Object.defineProperty(Sr,"Zero",{enumerable:!0,get:function(){return Qf.Zero}});Object.defineProperty(Sr,"One",{enumerable:!0,get:function(){return Qf.One}});Object.defineProperty(Sr,"Two",{enumerable:!0,get:function(){return Qf.Two}});Object.defineProperty(Sr,"WeiPerEther",{enumerable:!0,get:function(){return Qf.WeiPerEther}});Object.defineProperty(Sr,"MaxUint256",{enumerable:!0,get:function(){return Qf.MaxUint256}});Object.defineProperty(Sr,"MinInt256",{enumerable:!0,get:function(){return Qf.MinInt256}});Object.defineProperty(Sr,"MaxInt256",{enumerable:!0,get:function(){return Qf.MaxInt256}});var Ete=xj();Object.defineProperty(Sr,"HashZero",{enumerable:!0,get:function(){return Ete.HashZero}});var Ste=wj();Object.defineProperty(Sr,"EtherSymbol",{enumerable:!0,get:function(){return Ste.EtherSymbol}})});var vj=M(aA=>{y();b();Object.defineProperty(aA,"__esModule",{value:!0});aA.version=void 0;aA.version="properties/5.8.0"});var GT=M(nn=>{y();b();var kte=nn&&nn.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(g){try{f(n.next(g))}catch(p){o(p)}}function c(g){try{f(n.throw(g))}catch(p){o(p)}}function f(g){g.done?i(g.value):s(g.value).then(a,c)}f((n=n.apply(r,e||[])).next())})},Ote=nn&&nn.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(g){return c([f,g])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(g){f=[6,g],s=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(nn,"__esModule",{value:!0});nn.Description=nn.deepCopy=nn.shallowCopy=nn.checkProperties=nn.resolveProperties=nn.getStatic=nn.defineReadOnly=void 0;var Tte=Zs(),Nte=vj(),cA=new Tte.Logger(Nte.version);function Pj(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}nn.defineReadOnly=Pj;function Cte(r,e){for(var t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}nn.getStatic=Cte;function Rte(r){return kte(this,void 0,void 0,function(){var e,t;return Ote(this,function(n){switch(n.label){case 0:return e=Object.keys(r).map(function(s){var i=r[s];return Promise.resolve(i).then(function(o){return{key:s,value:o}})}),[4,Promise.all(e)];case 1:return t=n.sent(),[2,t.reduce(function(s,i){return s[i.key]=i.value,s},{})]}})})}nn.resolveProperties=Rte;function Bte(r,e){(!r||typeof r!="object")&&cA.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(function(t){e[t]||cA.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}nn.checkProperties=Bte;function Ite(r){var e={};for(var t in r)e[t]=r[t];return e}nn.shallowCopy=Ite;var Mte={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Aj(r){if(r==null||Mte[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;for(var e=Object.keys(r),t=0;t<e.length;t++){var n=null;try{n=r[e[t]]}catch{continue}if(!Aj(n))return!1}return!0}return cA.throwArgumentError("Cannot deepCopy "+typeof r,"object",r)}function jte(r){if(Aj(r))return r;if(Array.isArray(r))return Object.freeze(r.map(function(s){return uA(s)}));if(typeof r=="object"){var e={};for(var t in r){var n=r[t];n!==void 0&&Pj(e,t,uA(n))}return e}return cA.throwArgumentError("Cannot deepCopy "+typeof r,"object",r)}function uA(r){return jte(r)}nn.deepCopy=uA;var Fte=function(){function r(e){for(var t in e)this[t]=uA(e[t])}return r}();nn.Description=Fte});var Ej=M(Zg=>{y();b();var Lte=Zg&&Zg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.EC=void 0;var Ute=Lte(Z9()),Dte=Ute.default.ec;Zg.EC=Dte});var Sj=M(fA=>{y();b();Object.defineProperty(fA,"__esModule",{value:!0});fA.version=void 0;fA.version="bytes/5.8.0"});var Ij=M(Vt=>{y();b();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.joinSignature=Vt.splitSignature=Vt.hexZeroPad=Vt.hexStripZeros=Vt.hexValue=Vt.hexConcat=Vt.hexDataSlice=Vt.hexDataLength=Vt.hexlify=Vt.isHexString=Vt.zeroPad=Vt.stripZeros=Vt.concat=Vt.arrayify=Vt.isBytes=Vt.isBytesLike=void 0;var qte=Zs(),Hte=Sj(),Dr=new qte.Logger(Hte.version);function Oj(r){return!!r.toHexString}function Qg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Qg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Tj(r){return ya(r)&&!(r.length%2)||dA(r)}Vt.isBytesLike=Tj;function kj(r){return typeof r=="number"&&r==r&&r%1===0}function dA(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!kj(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!kj(t)||t<0||t>=256)return!1}return!0}Vt.isBytes=dA;function k0(r,e){if(e||(e={}),typeof r=="number"){Dr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Qg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Oj(r)&&(r=r.toHexString()),ya(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Dr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Qg(new Uint8Array(t))}return dA(r)?Qg(new Uint8Array(r)):Dr.throwArgumentError("invalid arrayify value","value",r)}Vt.arrayify=k0;function Nj(r){var e=r.map(function(s){return k0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Qg(n)}Vt.concat=Nj;function Gte(r){var e=k0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Vt.stripZeros=Gte;function Cj(r,e){r=k0(r),r.length>e&&Dr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Qg(t)}Vt.zeroPad=Cj;function ya(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Vt.isHexString=ya;var KT="0123456789abcdef";function Yn(r,e){if(e||(e={}),typeof r=="number"){Dr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=KT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Oj(r))return r.toHexString();if(ya(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Dr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(dA(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=KT[(i&240)>>4]+KT[i&15]}return n}return Dr.throwArgumentError("invalid hexlify value","value",r)}Vt.hexlify=Yn;function Kte(r){if(typeof r!="string")r=Yn(r);else if(!ya(r)||r.length%2)return null;return(r.length-2)/2}Vt.hexDataLength=Kte;function Vte(r,e,t){return typeof r!="string"?r=Yn(r):(!ya(r)||r.length%2)&&Dr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Vt.hexDataSlice=Vte;function zte(r){var e="0x";return r.forEach(function(t){e+=Yn(t).substring(2)}),e}Vt.hexConcat=zte;function Jte(r){var e=Rj(Yn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Vt.hexValue=Jte;function Rj(r){typeof r!="string"&&(r=Yn(r)),ya(r)||Dr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Vt.hexStripZeros=Rj;function lA(r,e){for(typeof r!="string"?r=Yn(r):ya(r)||Dr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Dr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Vt.hexZeroPad=lA;function Bj(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Tj(r)){var t=k0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Yn(t.slice(0,32)),e.s=Yn(t.slice(32,64))):t.length===65?(e.r=Yn(t.slice(0,32)),e.s=Yn(t.slice(32,64)),e.v=t[64]):Dr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Dr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Yn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=Cj(k0(e._vs),32);e._vs=Yn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Dr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Yn(n);e.s==null?e.s=i:e.s!==i&&Dr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Dr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Dr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ya(e.r)?Dr.throwArgumentError("signature missing or invalid r","signature",r):e.r=lA(e.r,32),e.s==null||!ya(e.s)?Dr.throwArgumentError("signature missing or invalid s","signature",r):e.s=lA(e.s,32);var a=k0(e.s);a[0]>=128&&Dr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Yn(a);e._vs&&(ya(e._vs)||Dr.throwArgumentError("signature invalid _vs","signature",r),e._vs=lA(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Dr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Vt.splitSignature=Bj;function Wte(r){return r=Bj(r),Yn(Nj([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Vt.joinSignature=Wte});var Mj=M(hA=>{y();b();Object.defineProperty(hA,"__esModule",{value:!0});hA.version=void 0;hA.version="signing-key/5.8.0"});var Lj=M(Xf=>{y();b();Object.defineProperty(Xf,"__esModule",{value:!0});Xf.computePublicKey=Xf.recoverPublicKey=Xf.SigningKey=void 0;var $te=Ej(),sn=Ij(),lw=GT(),Zte=Zs(),Qte=Mj(),zT=new Zte.Logger(Qte.version),VT=null;function Sc(){return VT||(VT=new $te.EC("secp256k1")),VT}var jj=function(){function r(e){(0,lw.defineReadOnly)(this,"curve","secp256k1"),(0,lw.defineReadOnly)(this,"privateKey",(0,sn.hexlify)(e)),(0,sn.hexDataLength)(this.privateKey)!==32&&zT.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=Sc().keyFromPrivate((0,sn.arrayify)(this.privateKey));(0,lw.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,lw.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,lw.defineReadOnly)(this,"_isSigningKey",!0)}return r.prototype._addPoint=function(e){var t=Sc().keyFromPublic((0,sn.arrayify)(this.publicKey)),n=Sc().keyFromPublic((0,sn.arrayify)(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")},r.prototype.signDigest=function(e){var t=Sc().keyFromPrivate((0,sn.arrayify)(this.privateKey)),n=(0,sn.arrayify)(e);n.length!==32&&zT.throwArgumentError("bad digest length","digest",e);var s=t.sign(n,{canonical:!0});return(0,sn.splitSignature)({recoveryParam:s.recoveryParam,r:(0,sn.hexZeroPad)("0x"+s.r.toString(16),32),s:(0,sn.hexZeroPad)("0x"+s.s.toString(16),32)})},r.prototype.computeSharedSecret=function(e){var t=Sc().keyFromPrivate((0,sn.arrayify)(this.privateKey)),n=Sc().keyFromPublic((0,sn.arrayify)(Fj(e)));return(0,sn.hexZeroPad)("0x"+t.derive(n.getPublic()).toString(16),32)},r.isSigningKey=function(e){return!!(e&&e._isSigningKey)},r}();Xf.SigningKey=jj;function Xte(r,e){var t=(0,sn.splitSignature)(e),n={r:(0,sn.arrayify)(t.r),s:(0,sn.arrayify)(t.s)};return"0x"+Sc().recoverPubKey((0,sn.arrayify)(r),n,t.recoveryParam).encode("hex",!1)}Xf.recoverPublicKey=Xte;function Fj(r,e){var t=(0,sn.arrayify)(r);if(t.length===32){var n=new jj(t);return e?"0x"+Sc().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?(0,sn.hexlify)(t):"0x"+Sc().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Sc().keyFromPublic(t).getPublic(!0,"hex"):(0,sn.hexlify)(t)}return zT.throwArgumentError("invalid public or private key","key","[REDACTED]")}Xf.computePublicKey=Fj});var Uj=M(gA=>{y();b();Object.defineProperty(gA,"__esModule",{value:!0});gA.version=void 0;gA.version="transactions/5.8.0"});var zj=M(Zr=>{y();b();var Yte=Zr&&Zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ere=Zr&&Zr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tre=Zr&&Zr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Yte(e,r,t);return ere(e,r),e};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.parse=Zr.serialize=Zr.accessListify=Zr.recoverAddress=Zr.computeAddress=Zr.TransactionTypes=void 0;var dw=qT(),O0=zP(),jt=mj(),rre=_j(),Xg=MT(),nre=GT(),Yf=tre(FT()),Dj=Lj(),WT=Zs(),sre=Uj(),ts=new WT.Logger(sre.version),ire;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(ire=Zr.TransactionTypes||(Zr.TransactionTypes={}));function $T(r){return r==="0x"?null:(0,dw.getAddress)(r)}function es(r){return r==="0x"?rre.Zero:O0.BigNumber.from(r)}var ore=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],are={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function qj(r){var e=(0,Dj.computePublicKey)(r);return(0,dw.getAddress)((0,jt.hexDataSlice)((0,Xg.keccak256)((0,jt.hexDataSlice)(e,1)),12))}Zr.computeAddress=qj;function ZT(r,e){return qj((0,Dj.recoverPublicKey)((0,jt.arrayify)(r),e))}Zr.recoverAddress=ZT;function Si(r,e){var t=(0,jt.stripZeros)(O0.BigNumber.from(r).toHexString());return t.length>32&&ts.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function JT(r,e){return{address:(0,dw.getAddress)(r),storageKeys:(e||[]).map(function(t,n){return(0,jt.hexDataLength)(t)!==32&&ts.throwArgumentError("invalid access list storageKey","accessList["+r+":"+n+"]",t),t.toLowerCase()})}}function pA(r){if(Array.isArray(r))return r.map(function(t,n){return Array.isArray(t)?(t.length>2&&ts.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value["+n+"]",t),JT(t[0],t[1])):JT(t.address,t.storageKeys)});var e=Object.keys(r).map(function(t){var n=r[t].reduce(function(s,i){return s[i]=!0,s},{});return JT(t,Object.keys(n).sort())});return e.sort(function(t,n){return t.address.localeCompare(n.address)}),e}Zr.accessListify=pA;function Hj(r){return pA(r).map(function(e){return[e.address,e.storageKeys]})}function Gj(r,e){if(r.gasPrice!=null){var t=O0.BigNumber.from(r.gasPrice),n=O0.BigNumber.from(r.maxFeePerGas||0);t.eq(n)||ts.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}var s=[Si(r.chainId||0,"chainId"),Si(r.nonce||0,"nonce"),Si(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Si(r.maxFeePerGas||0,"maxFeePerGas"),Si(r.gasLimit||0,"gasLimit"),r.to!=null?(0,dw.getAddress)(r.to):"0x",Si(r.value||0,"value"),r.data||"0x",Hj(r.accessList||[])];if(e){var i=(0,jt.splitSignature)(e);s.push(Si(i.recoveryParam,"recoveryParam")),s.push((0,jt.stripZeros)(i.r)),s.push((0,jt.stripZeros)(i.s))}return(0,jt.hexConcat)(["0x02",Yf.encode(s)])}function Kj(r,e){var t=[Si(r.chainId||0,"chainId"),Si(r.nonce||0,"nonce"),Si(r.gasPrice||0,"gasPrice"),Si(r.gasLimit||0,"gasLimit"),r.to!=null?(0,dw.getAddress)(r.to):"0x",Si(r.value||0,"value"),r.data||"0x",Hj(r.accessList||[])];if(e){var n=(0,jt.splitSignature)(e);t.push(Si(n.recoveryParam,"recoveryParam")),t.push((0,jt.stripZeros)(n.r)),t.push((0,jt.stripZeros)(n.s))}return(0,jt.hexConcat)(["0x01",Yf.encode(t)])}function cre(r,e){(0,nre.checkProperties)(r,are);var t=[];ore.forEach(function(o){var a=r[o.name]||[],c={};o.numeric&&(c.hexPad="left"),a=(0,jt.arrayify)((0,jt.hexlify)(a,c)),o.length&&a.length!==o.length&&a.length>0&&ts.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=(0,jt.stripZeros)(a),a.length>o.maxLength&&ts.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push((0,jt.hexlify)(a))});var n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&ts.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!(0,jt.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push((0,jt.hexlify)(n)),t.push("0x"),t.push("0x")),!e)return Yf.encode(t);var s=(0,jt.splitSignature)(e),i=27+s.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),i+=n*2+8,s.v>28&&s.v!==i&&ts.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==i&&ts.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push((0,jt.hexlify)(i)),t.push((0,jt.stripZeros)((0,jt.arrayify)(s.r))),t.push((0,jt.stripZeros)((0,jt.arrayify)(s.s))),Yf.encode(t)}function ure(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&ts.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),cre(r,e);switch(r.type){case 1:return Kj(r,e);case 2:return Gj(r,e);default:break}return ts.throwError("unsupported transaction type: "+r.type,WT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}Zr.serialize=ure;function Vj(r,e,t){try{var n=es(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{ts.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=(0,jt.hexZeroPad)(e[1],32),r.s=(0,jt.hexZeroPad)(e[2],32);try{var s=(0,Xg.keccak256)(t(r));r.from=ZT(s,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function fre(r){var e=Yf.decode(r.slice(1));e.length!==9&&e.length!==12&&ts.throwArgumentError("invalid component count for transaction type: 2","payload",(0,jt.hexlify)(r));var t=es(e[2]),n=es(e[3]),s={type:2,chainId:es(e[0]).toNumber(),nonce:es(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:es(e[4]),to:$T(e[5]),value:es(e[6]),data:e[7],accessList:pA(e[8])};return e.length===9||(s.hash=(0,Xg.keccak256)(r),Vj(s,e.slice(9),Gj)),s}function lre(r){var e=Yf.decode(r.slice(1));e.length!==8&&e.length!==11&&ts.throwArgumentError("invalid component count for transaction type: 1","payload",(0,jt.hexlify)(r));var t={type:1,chainId:es(e[0]).toNumber(),nonce:es(e[1]).toNumber(),gasPrice:es(e[2]),gasLimit:es(e[3]),to:$T(e[4]),value:es(e[5]),data:e[6],accessList:pA(e[7])};return e.length===8||(t.hash=(0,Xg.keccak256)(r),Vj(t,e.slice(8),Kj)),t}function dre(r){var e=Yf.decode(r);e.length!==9&&e.length!==6&&ts.throwArgumentError("invalid raw transaction","rawTransaction",r);var t={nonce:es(e[0]).toNumber(),gasPrice:es(e[1]),gasLimit:es(e[2]),to:$T(e[3]),value:es(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=O0.BigNumber.from(e[6]).toNumber()}catch{return t}if(t.r=(0,jt.hexZeroPad)(e[7],32),t.s=(0,jt.hexZeroPad)(e[8],32),O0.BigNumber.from(t.r).isZero()&&O0.BigNumber.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);var n=t.v-27,s=e.slice(0,6);t.chainId!==0&&(s.push((0,jt.hexlify)(t.chainId)),s.push("0x"),s.push("0x"),n-=t.chainId*2+8);var i=(0,Xg.keccak256)(Yf.encode(s));try{t.from=ZT(i,{r:(0,jt.hexlify)(t.r),s:(0,jt.hexlify)(t.s),recoveryParam:n})}catch{}t.hash=(0,Xg.keccak256)(r)}return t.type=null,t}function hre(r){var e=(0,jt.arrayify)(r);if(e[0]>127)return dre(e);switch(e[0]){case 1:return lre(e);case 2:return fre(e);default:break}return ts.throwError("unsupported transaction type: "+e[0],WT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}Zr.parse=hre});var Jj=M(mA=>{y();b();Object.defineProperty(mA,"__esModule",{value:!0});mA.AddressZero=void 0;mA.AddressZero="0x0000000000000000000000000000000000000000"});var XT=M((Wj,QT)=>{y();b();(function(r,e){"use strict";function t(S,u){if(!S)throw new Error(u||"Assertion failed")}function n(S,u){S.super_=u;var l=function(){};l.prototype=u.prototype,S.prototype=new l,S.prototype.constructor=S}function s(S,u,l){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(l=u,u=10),this._init(S||0,u||10,l||"be"))}typeof r=="object"?r.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=$9().Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,l){return u.cmp(l)>0?u:l},s.min=function(u,l){return u.cmp(l)<0?u:l},s.prototype._init=function(u,l,m){if(typeof u=="number")return this._initNumber(u,l,m);if(typeof u=="object")return this._initArray(u,l,m);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),u=u.toString().replace(/\s+/g,"");var x=0;u[0]==="-"&&(x++,this.negative=1),x<u.length&&(l===16?this._parseHex(u,x,m):(this._parseBase(u,l,x),m==="le"&&this._initArray(this.toArray(),l,m)))},s.prototype._initNumber=function(u,l,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),l,m)},s.prototype._initArray=function(u,l,m){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,k,R=0;if(m==="be")for(x=u.length-1,_=0;x>=0;x-=3)k=u[x]|u[x-1]<<8|u[x-2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(m==="le")for(x=0,_=0;x<u.length;x+=3)k=u[x]|u[x+1]<<8|u[x+2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this._strip()};function o(S,u){var l=S.charCodeAt(u);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+S)}function a(S,u,l){var m=o(S,l);return l-1>=u&&(m|=o(S,l-1)<<4),m}s.prototype._parseHex=function(u,l,m){this.length=Math.ceil((u.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,k=0,R;if(m==="be")for(x=u.length-1;x>=l;x-=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8;else{var v=u.length-l;for(x=v%2===0?l+1:l;x<u.length;x+=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8}this._strip()};function c(S,u,l,m){for(var x=0,_=0,k=Math.min(S.length,l),R=u;R<k;R++){var v=S.charCodeAt(R)-48;x*=m,v>=49?_=v-49+10:v>=17?_=v-17+10:_=v,t(v>=0&&_<m,"Invalid character"),x+=_}return x}s.prototype._parseBase=function(u,l,m){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=l)x++;x--,_=_/l|0;for(var k=u.length-m,R=k%x,v=Math.min(k,k-R)+m,d=0,E=m;E<v;E+=x)d=c(u,E,E+x,l),this.imuln(_),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(R!==0){var J=1;for(d=c(u,E,u.length,l),E=0;E<R;E++)J*=l;this.imuln(J),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var l=0;l<this.length;l++)u.words[l]=this.words[l];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(S,u){S.words=u.words,S.length=u.length,S.negative=u.negative,S.red=u.red}if(s.prototype._move=function(u){f(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,l){u=u||10,l=l|0||1;var m;if(u===16||u==="hex"){m="";for(var x=0,_=0,k=0;k<this.length;k++){var R=this.words[k],v=((R<<x|_)&16777215).toString(16);_=R>>>24-x&16777215,x+=2,x>=26&&(x-=26,k--),_!==0||k!==this.length-1?m=p[6-v.length]+v+m:m=v+m}for(_!==0&&(m=_.toString(16)+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=A[u],E=P[u];m="";var J=this.clone();for(J.negative=0;!J.isZero();){var $=J.modrn(E).toString(u);J=J.idivn(E),J.isZero()?m=$+m:m=p[d-$.length]+$+m}for(this.isZero()&&(m="0"+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}t(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(u,l){return this.toArrayLike(i,u,l)}),s.prototype.toArray=function(u,l){return this.toArrayLike(Array,u,l)};var C=function(u,l){return u.allocUnsafe?u.allocUnsafe(l):new u(l)};s.prototype.toArrayLike=function(u,l,m){this._strip();var x=this.byteLength(),_=m||Math.max(1,x);t(x<=_,"byte array longer than desired length"),t(_>0,"Requested array length <= 0");var k=C(u,_),R=l==="le"?"LE":"BE";return this["_toArrayLike"+R](k,x),k},s.prototype._toArrayLikeLE=function(u,l){for(var m=0,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m++]=R&255,m<u.length&&(u[m++]=R>>8&255),m<u.length&&(u[m++]=R>>16&255),k===6?(m<u.length&&(u[m++]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m<u.length)for(u[m++]=x;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,l){for(var m=u.length-1,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m--]=R&255,m>=0&&(u[m--]=R>>8&255),m>=0&&(u[m--]=R>>16&255),k===6?(m>=0&&(u[m--]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m>=0)for(u[m--]=x;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var l=u,m=0;return l>=4096&&(m+=13,l>>>=13),l>=64&&(m+=7,l>>>=7),l>=8&&(m+=4,l>>>=4),l>=2&&(m+=2,l>>>=2),m+l},s.prototype._zeroBits=function(u){if(u===0)return 26;var l=u,m=0;return(l&8191)===0&&(m+=13,l>>>=13),(l&127)===0&&(m+=7,l>>>=7),(l&15)===0&&(m+=4,l>>>=4),(l&3)===0&&(m+=2,l>>>=2),(l&1)===0&&m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],l=this._countBits(u);return(this.length-1)*26+l};function N(S){for(var u=new Array(S.bitLength()),l=0;l<u.length;l++){var m=l/26|0,x=l%26;u[l]=S.words[m]>>>x&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,l=0;l<this.length;l++){var m=this._zeroBits(this.words[l]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]|u.words[l];return this._strip()},s.prototype.ior=function(u){return t((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var l;this.length>u.length?l=u:l=this;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=l.length,this._strip()},s.prototype.iand=function(u){return t((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var x=0;x<m.length;x++)this.words[x]=l.words[x]^m.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},s.prototype.ixor=function(u){return t((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var l=Math.ceil(u/26)|0,m=u%26;this._expand(l),m>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,l){t(typeof u=="number"&&u>=0);var m=u/26|0,x=u%26;return this._expand(m+1),l?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this._strip()},s.prototype.iadd=function(u){var l;if(this.negative!==0&&u.negative===0)return this.negative=0,l=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,l=this.isub(u),u.negative=1,l._normSign();var m,x;this.length>u.length?(m=this,x=u):(m=u,x=this);for(var _=0,k=0;k<x.length;k++)l=(m.words[k]|0)+(x.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;for(;_!==0&&k<m.length;k++)l=(m.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;if(this.length=m.length,_!==0)this.words[this.length]=_,this.length++;else if(m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this},s.prototype.add=function(u){var l;return u.negative!==0&&this.negative===0?(u.negative=0,l=this.sub(u),u.negative^=1,l):u.negative===0&&this.negative!==0?(this.negative=0,l=u.sub(this),this.negative=1,l):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var l=this.iadd(u);return u.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;m>0?(x=this,_=u):(x=u,_=this);for(var k=0,R=0;R<_.length;R++)l=(x.words[R]|0)-(_.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;for(;k!==0&&R<x.length;R++)l=(x.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;if(k===0&&R<x.length&&x!==this)for(;R<x.length;R++)this.words[R]=x.words[R];return this.length=Math.max(this.length,R),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function U(S,u,l){l.negative=u.negative^S.negative;var m=S.length+u.length|0;l.length=m,m=m-1|0;var x=S.words[0]|0,_=u.words[0]|0,k=x*_,R=k&67108863,v=k/67108864|0;l.words[0]=R;for(var d=1;d<m;d++){for(var E=v>>>26,J=v&67108863,$=Math.min(d,u.length-1),X=Math.max(0,d-S.length+1);X<=$;X++){var te=d-X|0;x=S.words[te]|0,_=u.words[X]|0,k=x*_+J,E+=k/67108864|0,J=k&67108863}l.words[d]=J|0,v=E|0}return v!==0?l.words[d]=v|0:l.length--,l._strip()}var L=function(u,l,m){var x=u.words,_=l.words,k=m.words,R=0,v,d,E,J=x[0]|0,$=J&8191,X=J>>>13,te=x[1]|0,he=te&8191,ge=te>>>13,rr=x[2]|0,xe=rr&8191,le=rr>>>13,xn=x[3]|0,ke=xn&8191,Te=xn>>>13,aa=x[4]|0,Ke=aa&8191,Ve=aa>>>13,V1=x[5]|0,ze=V1&8191,Je=V1>>>13,z1=x[6]|0,We=z1&8191,$e=z1>>>13,J1=x[7]|0,Ze=J1&8191,Qe=J1>>>13,W1=x[8]|0,Xe=W1&8191,Ye=W1>>>13,$1=x[9]|0,et=$1&8191,tt=$1>>>13,Z1=_[0]|0,rt=Z1&8191,nt=Z1>>>13,Q1=_[1]|0,st=Q1&8191,it=Q1>>>13,X1=_[2]|0,ot=X1&8191,at=X1>>>13,Y1=_[3]|0,ct=Y1&8191,ut=Y1>>>13,ew=_[4]|0,ft=ew&8191,lt=ew>>>13,tw=_[5]|0,dt=tw&8191,ht=tw>>>13,rw=_[6]|0,gt=rw&8191,pt=rw>>>13,nw=_[7]|0,mt=nw&8191,yt=nw>>>13,sw=_[8]|0,bt=sw&8191,xt=sw>>>13,iw=_[9]|0,wt=iw&8191,_t=iw>>>13;m.negative=u.negative^l.negative,m.length=19,v=Math.imul($,rt),d=Math.imul($,nt),d=d+Math.imul(X,rt)|0,E=Math.imul(X,nt);var t0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(t0>>>26)|0,t0&=67108863,v=Math.imul(he,rt),d=Math.imul(he,nt),d=d+Math.imul(ge,rt)|0,E=Math.imul(ge,nt),v=v+Math.imul($,st)|0,d=d+Math.imul($,it)|0,d=d+Math.imul(X,st)|0,E=E+Math.imul(X,it)|0;var r0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(r0>>>26)|0,r0&=67108863,v=Math.imul(xe,rt),d=Math.imul(xe,nt),d=d+Math.imul(le,rt)|0,E=Math.imul(le,nt),v=v+Math.imul(he,st)|0,d=d+Math.imul(he,it)|0,d=d+Math.imul(ge,st)|0,E=E+Math.imul(ge,it)|0,v=v+Math.imul($,ot)|0,d=d+Math.imul($,at)|0,d=d+Math.imul(X,ot)|0,E=E+Math.imul(X,at)|0;var n0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(n0>>>26)|0,n0&=67108863,v=Math.imul(ke,rt),d=Math.imul(ke,nt),d=d+Math.imul(Te,rt)|0,E=Math.imul(Te,nt),v=v+Math.imul(xe,st)|0,d=d+Math.imul(xe,it)|0,d=d+Math.imul(le,st)|0,E=E+Math.imul(le,it)|0,v=v+Math.imul(he,ot)|0,d=d+Math.imul(he,at)|0,d=d+Math.imul(ge,ot)|0,E=E+Math.imul(ge,at)|0,v=v+Math.imul($,ct)|0,d=d+Math.imul($,ut)|0,d=d+Math.imul(X,ct)|0,E=E+Math.imul(X,ut)|0;var s0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(s0>>>26)|0,s0&=67108863,v=Math.imul(Ke,rt),d=Math.imul(Ke,nt),d=d+Math.imul(Ve,rt)|0,E=Math.imul(Ve,nt),v=v+Math.imul(ke,st)|0,d=d+Math.imul(ke,it)|0,d=d+Math.imul(Te,st)|0,E=E+Math.imul(Te,it)|0,v=v+Math.imul(xe,ot)|0,d=d+Math.imul(xe,at)|0,d=d+Math.imul(le,ot)|0,E=E+Math.imul(le,at)|0,v=v+Math.imul(he,ct)|0,d=d+Math.imul(he,ut)|0,d=d+Math.imul(ge,ct)|0,E=E+Math.imul(ge,ut)|0,v=v+Math.imul($,ft)|0,d=d+Math.imul($,lt)|0,d=d+Math.imul(X,ft)|0,E=E+Math.imul(X,lt)|0;var i0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(i0>>>26)|0,i0&=67108863,v=Math.imul(ze,rt),d=Math.imul(ze,nt),d=d+Math.imul(Je,rt)|0,E=Math.imul(Je,nt),v=v+Math.imul(Ke,st)|0,d=d+Math.imul(Ke,it)|0,d=d+Math.imul(Ve,st)|0,E=E+Math.imul(Ve,it)|0,v=v+Math.imul(ke,ot)|0,d=d+Math.imul(ke,at)|0,d=d+Math.imul(Te,ot)|0,E=E+Math.imul(Te,at)|0,v=v+Math.imul(xe,ct)|0,d=d+Math.imul(xe,ut)|0,d=d+Math.imul(le,ct)|0,E=E+Math.imul(le,ut)|0,v=v+Math.imul(he,ft)|0,d=d+Math.imul(he,lt)|0,d=d+Math.imul(ge,ft)|0,E=E+Math.imul(ge,lt)|0,v=v+Math.imul($,dt)|0,d=d+Math.imul($,ht)|0,d=d+Math.imul(X,dt)|0,E=E+Math.imul(X,ht)|0;var o0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(o0>>>26)|0,o0&=67108863,v=Math.imul(We,rt),d=Math.imul(We,nt),d=d+Math.imul($e,rt)|0,E=Math.imul($e,nt),v=v+Math.imul(ze,st)|0,d=d+Math.imul(ze,it)|0,d=d+Math.imul(Je,st)|0,E=E+Math.imul(Je,it)|0,v=v+Math.imul(Ke,ot)|0,d=d+Math.imul(Ke,at)|0,d=d+Math.imul(Ve,ot)|0,E=E+Math.imul(Ve,at)|0,v=v+Math.imul(ke,ct)|0,d=d+Math.imul(ke,ut)|0,d=d+Math.imul(Te,ct)|0,E=E+Math.imul(Te,ut)|0,v=v+Math.imul(xe,ft)|0,d=d+Math.imul(xe,lt)|0,d=d+Math.imul(le,ft)|0,E=E+Math.imul(le,lt)|0,v=v+Math.imul(he,dt)|0,d=d+Math.imul(he,ht)|0,d=d+Math.imul(ge,dt)|0,E=E+Math.imul(ge,ht)|0,v=v+Math.imul($,gt)|0,d=d+Math.imul($,pt)|0,d=d+Math.imul(X,gt)|0,E=E+Math.imul(X,pt)|0;var a0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(a0>>>26)|0,a0&=67108863,v=Math.imul(Ze,rt),d=Math.imul(Ze,nt),d=d+Math.imul(Qe,rt)|0,E=Math.imul(Qe,nt),v=v+Math.imul(We,st)|0,d=d+Math.imul(We,it)|0,d=d+Math.imul($e,st)|0,E=E+Math.imul($e,it)|0,v=v+Math.imul(ze,ot)|0,d=d+Math.imul(ze,at)|0,d=d+Math.imul(Je,ot)|0,E=E+Math.imul(Je,at)|0,v=v+Math.imul(Ke,ct)|0,d=d+Math.imul(Ke,ut)|0,d=d+Math.imul(Ve,ct)|0,E=E+Math.imul(Ve,ut)|0,v=v+Math.imul(ke,ft)|0,d=d+Math.imul(ke,lt)|0,d=d+Math.imul(Te,ft)|0,E=E+Math.imul(Te,lt)|0,v=v+Math.imul(xe,dt)|0,d=d+Math.imul(xe,ht)|0,d=d+Math.imul(le,dt)|0,E=E+Math.imul(le,ht)|0,v=v+Math.imul(he,gt)|0,d=d+Math.imul(he,pt)|0,d=d+Math.imul(ge,gt)|0,E=E+Math.imul(ge,pt)|0,v=v+Math.imul($,mt)|0,d=d+Math.imul($,yt)|0,d=d+Math.imul(X,mt)|0,E=E+Math.imul(X,yt)|0;var c0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(c0>>>26)|0,c0&=67108863,v=Math.imul(Xe,rt),d=Math.imul(Xe,nt),d=d+Math.imul(Ye,rt)|0,E=Math.imul(Ye,nt),v=v+Math.imul(Ze,st)|0,d=d+Math.imul(Ze,it)|0,d=d+Math.imul(Qe,st)|0,E=E+Math.imul(Qe,it)|0,v=v+Math.imul(We,ot)|0,d=d+Math.imul(We,at)|0,d=d+Math.imul($e,ot)|0,E=E+Math.imul($e,at)|0,v=v+Math.imul(ze,ct)|0,d=d+Math.imul(ze,ut)|0,d=d+Math.imul(Je,ct)|0,E=E+Math.imul(Je,ut)|0,v=v+Math.imul(Ke,ft)|0,d=d+Math.imul(Ke,lt)|0,d=d+Math.imul(Ve,ft)|0,E=E+Math.imul(Ve,lt)|0,v=v+Math.imul(ke,dt)|0,d=d+Math.imul(ke,ht)|0,d=d+Math.imul(Te,dt)|0,E=E+Math.imul(Te,ht)|0,v=v+Math.imul(xe,gt)|0,d=d+Math.imul(xe,pt)|0,d=d+Math.imul(le,gt)|0,E=E+Math.imul(le,pt)|0,v=v+Math.imul(he,mt)|0,d=d+Math.imul(he,yt)|0,d=d+Math.imul(ge,mt)|0,E=E+Math.imul(ge,yt)|0,v=v+Math.imul($,bt)|0,d=d+Math.imul($,xt)|0,d=d+Math.imul(X,bt)|0,E=E+Math.imul(X,xt)|0;var u0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(u0>>>26)|0,u0&=67108863,v=Math.imul(et,rt),d=Math.imul(et,nt),d=d+Math.imul(tt,rt)|0,E=Math.imul(tt,nt),v=v+Math.imul(Xe,st)|0,d=d+Math.imul(Xe,it)|0,d=d+Math.imul(Ye,st)|0,E=E+Math.imul(Ye,it)|0,v=v+Math.imul(Ze,ot)|0,d=d+Math.imul(Ze,at)|0,d=d+Math.imul(Qe,ot)|0,E=E+Math.imul(Qe,at)|0,v=v+Math.imul(We,ct)|0,d=d+Math.imul(We,ut)|0,d=d+Math.imul($e,ct)|0,E=E+Math.imul($e,ut)|0,v=v+Math.imul(ze,ft)|0,d=d+Math.imul(ze,lt)|0,d=d+Math.imul(Je,ft)|0,E=E+Math.imul(Je,lt)|0,v=v+Math.imul(Ke,dt)|0,d=d+Math.imul(Ke,ht)|0,d=d+Math.imul(Ve,dt)|0,E=E+Math.imul(Ve,ht)|0,v=v+Math.imul(ke,gt)|0,d=d+Math.imul(ke,pt)|0,d=d+Math.imul(Te,gt)|0,E=E+Math.imul(Te,pt)|0,v=v+Math.imul(xe,mt)|0,d=d+Math.imul(xe,yt)|0,d=d+Math.imul(le,mt)|0,E=E+Math.imul(le,yt)|0,v=v+Math.imul(he,bt)|0,d=d+Math.imul(he,xt)|0,d=d+Math.imul(ge,bt)|0,E=E+Math.imul(ge,xt)|0,v=v+Math.imul($,wt)|0,d=d+Math.imul($,_t)|0,d=d+Math.imul(X,wt)|0,E=E+Math.imul(X,_t)|0;var f0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(f0>>>26)|0,f0&=67108863,v=Math.imul(et,st),d=Math.imul(et,it),d=d+Math.imul(tt,st)|0,E=Math.imul(tt,it),v=v+Math.imul(Xe,ot)|0,d=d+Math.imul(Xe,at)|0,d=d+Math.imul(Ye,ot)|0,E=E+Math.imul(Ye,at)|0,v=v+Math.imul(Ze,ct)|0,d=d+Math.imul(Ze,ut)|0,d=d+Math.imul(Qe,ct)|0,E=E+Math.imul(Qe,ut)|0,v=v+Math.imul(We,ft)|0,d=d+Math.imul(We,lt)|0,d=d+Math.imul($e,ft)|0,E=E+Math.imul($e,lt)|0,v=v+Math.imul(ze,dt)|0,d=d+Math.imul(ze,ht)|0,d=d+Math.imul(Je,dt)|0,E=E+Math.imul(Je,ht)|0,v=v+Math.imul(Ke,gt)|0,d=d+Math.imul(Ke,pt)|0,d=d+Math.imul(Ve,gt)|0,E=E+Math.imul(Ve,pt)|0,v=v+Math.imul(ke,mt)|0,d=d+Math.imul(ke,yt)|0,d=d+Math.imul(Te,mt)|0,E=E+Math.imul(Te,yt)|0,v=v+Math.imul(xe,bt)|0,d=d+Math.imul(xe,xt)|0,d=d+Math.imul(le,bt)|0,E=E+Math.imul(le,xt)|0,v=v+Math.imul(he,wt)|0,d=d+Math.imul(he,_t)|0,d=d+Math.imul(ge,wt)|0,E=E+Math.imul(ge,_t)|0;var l0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(l0>>>26)|0,l0&=67108863,v=Math.imul(et,ot),d=Math.imul(et,at),d=d+Math.imul(tt,ot)|0,E=Math.imul(tt,at),v=v+Math.imul(Xe,ct)|0,d=d+Math.imul(Xe,ut)|0,d=d+Math.imul(Ye,ct)|0,E=E+Math.imul(Ye,ut)|0,v=v+Math.imul(Ze,ft)|0,d=d+Math.imul(Ze,lt)|0,d=d+Math.imul(Qe,ft)|0,E=E+Math.imul(Qe,lt)|0,v=v+Math.imul(We,dt)|0,d=d+Math.imul(We,ht)|0,d=d+Math.imul($e,dt)|0,E=E+Math.imul($e,ht)|0,v=v+Math.imul(ze,gt)|0,d=d+Math.imul(ze,pt)|0,d=d+Math.imul(Je,gt)|0,E=E+Math.imul(Je,pt)|0,v=v+Math.imul(Ke,mt)|0,d=d+Math.imul(Ke,yt)|0,d=d+Math.imul(Ve,mt)|0,E=E+Math.imul(Ve,yt)|0,v=v+Math.imul(ke,bt)|0,d=d+Math.imul(ke,xt)|0,d=d+Math.imul(Te,bt)|0,E=E+Math.imul(Te,xt)|0,v=v+Math.imul(xe,wt)|0,d=d+Math.imul(xe,_t)|0,d=d+Math.imul(le,wt)|0,E=E+Math.imul(le,_t)|0;var d0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(d0>>>26)|0,d0&=67108863,v=Math.imul(et,ct),d=Math.imul(et,ut),d=d+Math.imul(tt,ct)|0,E=Math.imul(tt,ut),v=v+Math.imul(Xe,ft)|0,d=d+Math.imul(Xe,lt)|0,d=d+Math.imul(Ye,ft)|0,E=E+Math.imul(Ye,lt)|0,v=v+Math.imul(Ze,dt)|0,d=d+Math.imul(Ze,ht)|0,d=d+Math.imul(Qe,dt)|0,E=E+Math.imul(Qe,ht)|0,v=v+Math.imul(We,gt)|0,d=d+Math.imul(We,pt)|0,d=d+Math.imul($e,gt)|0,E=E+Math.imul($e,pt)|0,v=v+Math.imul(ze,mt)|0,d=d+Math.imul(ze,yt)|0,d=d+Math.imul(Je,mt)|0,E=E+Math.imul(Je,yt)|0,v=v+Math.imul(Ke,bt)|0,d=d+Math.imul(Ke,xt)|0,d=d+Math.imul(Ve,bt)|0,E=E+Math.imul(Ve,xt)|0,v=v+Math.imul(ke,wt)|0,d=d+Math.imul(ke,_t)|0,d=d+Math.imul(Te,wt)|0,E=E+Math.imul(Te,_t)|0;var h0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(h0>>>26)|0,h0&=67108863,v=Math.imul(et,ft),d=Math.imul(et,lt),d=d+Math.imul(tt,ft)|0,E=Math.imul(tt,lt),v=v+Math.imul(Xe,dt)|0,d=d+Math.imul(Xe,ht)|0,d=d+Math.imul(Ye,dt)|0,E=E+Math.imul(Ye,ht)|0,v=v+Math.imul(Ze,gt)|0,d=d+Math.imul(Ze,pt)|0,d=d+Math.imul(Qe,gt)|0,E=E+Math.imul(Qe,pt)|0,v=v+Math.imul(We,mt)|0,d=d+Math.imul(We,yt)|0,d=d+Math.imul($e,mt)|0,E=E+Math.imul($e,yt)|0,v=v+Math.imul(ze,bt)|0,d=d+Math.imul(ze,xt)|0,d=d+Math.imul(Je,bt)|0,E=E+Math.imul(Je,xt)|0,v=v+Math.imul(Ke,wt)|0,d=d+Math.imul(Ke,_t)|0,d=d+Math.imul(Ve,wt)|0,E=E+Math.imul(Ve,_t)|0;var g0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(g0>>>26)|0,g0&=67108863,v=Math.imul(et,dt),d=Math.imul(et,ht),d=d+Math.imul(tt,dt)|0,E=Math.imul(tt,ht),v=v+Math.imul(Xe,gt)|0,d=d+Math.imul(Xe,pt)|0,d=d+Math.imul(Ye,gt)|0,E=E+Math.imul(Ye,pt)|0,v=v+Math.imul(Ze,mt)|0,d=d+Math.imul(Ze,yt)|0,d=d+Math.imul(Qe,mt)|0,E=E+Math.imul(Qe,yt)|0,v=v+Math.imul(We,bt)|0,d=d+Math.imul(We,xt)|0,d=d+Math.imul($e,bt)|0,E=E+Math.imul($e,xt)|0,v=v+Math.imul(ze,wt)|0,d=d+Math.imul(ze,_t)|0,d=d+Math.imul(Je,wt)|0,E=E+Math.imul(Je,_t)|0;var p0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(p0>>>26)|0,p0&=67108863,v=Math.imul(et,gt),d=Math.imul(et,pt),d=d+Math.imul(tt,gt)|0,E=Math.imul(tt,pt),v=v+Math.imul(Xe,mt)|0,d=d+Math.imul(Xe,yt)|0,d=d+Math.imul(Ye,mt)|0,E=E+Math.imul(Ye,yt)|0,v=v+Math.imul(Ze,bt)|0,d=d+Math.imul(Ze,xt)|0,d=d+Math.imul(Qe,bt)|0,E=E+Math.imul(Qe,xt)|0,v=v+Math.imul(We,wt)|0,d=d+Math.imul(We,_t)|0,d=d+Math.imul($e,wt)|0,E=E+Math.imul($e,_t)|0;var m0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(m0>>>26)|0,m0&=67108863,v=Math.imul(et,mt),d=Math.imul(et,yt),d=d+Math.imul(tt,mt)|0,E=Math.imul(tt,yt),v=v+Math.imul(Xe,bt)|0,d=d+Math.imul(Xe,xt)|0,d=d+Math.imul(Ye,bt)|0,E=E+Math.imul(Ye,xt)|0,v=v+Math.imul(Ze,wt)|0,d=d+Math.imul(Ze,_t)|0,d=d+Math.imul(Qe,wt)|0,E=E+Math.imul(Qe,_t)|0;var y0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(y0>>>26)|0,y0&=67108863,v=Math.imul(et,bt),d=Math.imul(et,xt),d=d+Math.imul(tt,bt)|0,E=Math.imul(tt,xt),v=v+Math.imul(Xe,wt)|0,d=d+Math.imul(Xe,_t)|0,d=d+Math.imul(Ye,wt)|0,E=E+Math.imul(Ye,_t)|0;var b0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(b0>>>26)|0,b0&=67108863,v=Math.imul(et,wt),d=Math.imul(et,_t),d=d+Math.imul(tt,wt)|0,E=Math.imul(tt,_t);var x0=(R+v|0)+((d&8191)<<13)|0;return R=(E+(d>>>13)|0)+(x0>>>26)|0,x0&=67108863,k[0]=t0,k[1]=r0,k[2]=n0,k[3]=s0,k[4]=i0,k[5]=o0,k[6]=a0,k[7]=c0,k[8]=u0,k[9]=f0,k[10]=l0,k[11]=d0,k[12]=h0,k[13]=g0,k[14]=p0,k[15]=m0,k[16]=y0,k[17]=b0,k[18]=x0,R!==0&&(k[19]=R,m.length++),m};Math.imul||(L=U);function q(S,u,l){l.negative=u.negative^S.negative,l.length=S.length+u.length;for(var m=0,x=0,_=0;_<l.length-1;_++){var k=x;x=0;for(var R=m&67108863,v=Math.min(_,u.length-1),d=Math.max(0,_-S.length+1);d<=v;d++){var E=_-d,J=S.words[E]|0,$=u.words[d]|0,X=J*$,te=X&67108863;k=k+(X/67108864|0)|0,te=te+R|0,R=te&67108863,k=k+(te>>>26)|0,x+=k>>>26,k&=67108863}l.words[_]=R,m=k,k=x}return m!==0?l.words[_]=m:l.length--,l._strip()}function H(S,u,l){return q(S,u,l)}s.prototype.mulTo=function(u,l){var m,x=this.length+u.length;return this.length===10&&u.length===10?m=L(this,u,l):x<63?m=U(this,u,l):x<1024?m=q(this,u,l):m=H(this,u,l),m};function V(S,u){this.x=S,this.y=u}V.prototype.makeRBT=function(u){for(var l=new Array(u),m=s.prototype._countBits(u)-1,x=0;x<u;x++)l[x]=this.revBin(x,m,u);return l},V.prototype.revBin=function(u,l,m){if(u===0||u===m-1)return u;for(var x=0,_=0;_<l;_++)x|=(u&1)<<l-_-1,u>>=1;return x},V.prototype.permute=function(u,l,m,x,_,k){for(var R=0;R<k;R++)x[R]=l[u[R]],_[R]=m[u[R]]},V.prototype.transform=function(u,l,m,x,_,k){this.permute(k,u,l,m,x,_);for(var R=1;R<_;R<<=1)for(var v=R<<1,d=Math.cos(2*Math.PI/v),E=Math.sin(2*Math.PI/v),J=0;J<_;J+=v)for(var $=d,X=E,te=0;te<R;te++){var he=m[J+te],ge=x[J+te],rr=m[J+te+R],xe=x[J+te+R],le=$*rr-X*xe;xe=$*xe+X*rr,rr=le,m[J+te]=he+rr,x[J+te]=ge+xe,m[J+te+R]=he-rr,x[J+te+R]=ge-xe,te!==v&&(le=d*$-E*X,X=d*X+E*$,$=le)}},V.prototype.guessLen13b=function(u,l){var m=Math.max(l,u)|1,x=m&1,_=0;for(m=m/2|0;m;m=m>>>1)_++;return 1<<_+1+x},V.prototype.conjugate=function(u,l,m){if(!(m<=1))for(var x=0;x<m/2;x++){var _=u[x];u[x]=u[m-x-1],u[m-x-1]=_,_=l[x],l[x]=-l[m-x-1],l[m-x-1]=-_}},V.prototype.normalize13b=function(u,l){for(var m=0,x=0;x<l/2;x++){var _=Math.round(u[2*x+1]/l)*8192+Math.round(u[2*x]/l)+m;u[x]=_&67108863,_<67108864?m=0:m=_/67108864|0}return u},V.prototype.convert13b=function(u,l,m,x){for(var _=0,k=0;k<l;k++)_=_+(u[k]|0),m[2*k]=_&8191,_=_>>>13,m[2*k+1]=_&8191,_=_>>>13;for(k=2*l;k<x;++k)m[k]=0;t(_===0),t((_&-8192)===0)},V.prototype.stub=function(u){for(var l=new Array(u),m=0;m<u;m++)l[m]=0;return l},V.prototype.mulp=function(u,l,m){var x=2*this.guessLen13b(u.length,l.length),_=this.makeRBT(x),k=this.stub(x),R=new Array(x),v=new Array(x),d=new Array(x),E=new Array(x),J=new Array(x),$=new Array(x),X=m.words;X.length=x,this.convert13b(u.words,u.length,R,x),this.convert13b(l.words,l.length,E,x),this.transform(R,k,v,d,x,_),this.transform(E,k,J,$,x,_);for(var te=0;te<x;te++){var he=v[te]*J[te]-d[te]*$[te];d[te]=v[te]*$[te]+d[te]*J[te],v[te]=he}return this.conjugate(v,d,x),this.transform(v,d,X,k,x,_),this.conjugate(X,k,x),this.normalize13b(X,x),m.negative=u.negative^l.negative,m.length=u.length+l.length,m._strip()},s.prototype.mul=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),this.mulTo(u,l)},s.prototype.mulf=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),H(this,u,l)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var l=u<0;l&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var m=0,x=0;x<this.length;x++){var _=(this.words[x]|0)*u,k=(_&67108863)+(m&67108863);m>>=26,m+=_/67108864|0,m+=k>>>26,this.words[x]=k&67108863}return m!==0&&(this.words[x]=m,this.length++),l?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var l=N(u);if(l.length===0)return new s(1);for(var m=this,x=0;x<l.length&&l[x]===0;x++,m=m.sqr());if(++x<l.length)for(var _=m.sqr();x<l.length;x++,_=_.sqr())l[x]!==0&&(m=m.mul(_));return m},s.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=67108863>>>26-l<<26-l,_;if(l!==0){var k=0;for(_=0;_<this.length;_++){var R=this.words[_]&x,v=(this.words[_]|0)-R<<l;this.words[_]=v|k,k=R>>>26-l}k&&(this.words[_]=k,this.length++)}if(m!==0){for(_=this.length-1;_>=0;_--)this.words[_+m]=this.words[_];for(_=0;_<m;_++)this.words[_]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,l,m){t(typeof u=="number"&&u>=0);var x;l?x=(l-l%26)/26:x=0;var _=u%26,k=Math.min((u-_)/26,this.length),R=67108863^67108863>>>_<<_,v=m;if(x-=k,x=Math.max(0,x),v){for(var d=0;d<k;d++)v.words[d]=this.words[d];v.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=x);d--){var J=this.words[d]|0;this.words[d]=E<<26-_|J>>>_,E=J&R}return v&&E!==0&&(v.words[v.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,l,m){return t(this.negative===0),this.iushrn(u,l,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return!1;var _=this.words[m];return!!(_&x)},s.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(l!==0&&m++,this.length=Math.min(m,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,l,m){var x=u.length+m,_;this._expand(x);var k,R=0;for(_=0;_<u.length;_++){k=(this.words[_+m]|0)+R;var v=(u.words[_]|0)*l;k-=v&67108863,R=(k>>26)-(v/67108864|0),this.words[_+m]=k&67108863}for(;_<this.length-m;_++)k=(this.words[_+m]|0)+R,R=k>>26,this.words[_+m]=k&67108863;if(R===0)return this._strip();for(t(R===-1),R=0,_=0;_<this.length;_++)k=-(this.words[_]|0)+R,R=k>>26,this.words[_]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,l){var m=this.length-u.length,x=this.clone(),_=u,k=_.words[_.length-1]|0,R=this._countBits(k);m=26-R,m!==0&&(_=_.ushln(m),x.iushln(m),k=_.words[_.length-1]|0);var v=x.length-_.length,d;if(l!=="mod"){d=new s(null),d.length=v+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var J=x.clone()._ishlnsubmul(_,1,v);J.negative===0&&(x=J,d&&(d.words[v]=1));for(var $=v-1;$>=0;$--){var X=(x.words[_.length+$]|0)*67108864+(x.words[_.length+$-1]|0);for(X=Math.min(X/k|0,67108863),x._ishlnsubmul(_,X,$);x.negative!==0;)X--,x.negative=0,x._ishlnsubmul(_,1,$),x.isZero()||(x.negative^=1);d&&(d.words[$]=X)}return d&&d._strip(),x._strip(),l!=="div"&&m!==0&&x.iushrn(m),{div:d||null,mod:x}},s.prototype.divmod=function(u,l,m){if(t(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,_,k;return this.negative!==0&&u.negative===0?(k=this.neg().divmod(u,l),l!=="mod"&&(x=k.div.neg()),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.iadd(u)),{div:x,mod:_}):this.negative===0&&u.negative!==0?(k=this.divmod(u.neg(),l),l!=="mod"&&(x=k.div.neg()),{div:x,mod:k.mod}):(this.negative&u.negative)!==0?(k=this.neg().divmod(u.neg(),l),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.isub(u)),{div:k.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?l==="div"?{div:this.divn(u.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,l)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var l=this.divmod(u);if(l.mod.isZero())return l.div;var m=l.div.negative!==0?l.mod.isub(u):l.mod,x=u.ushrn(1),_=u.andln(1),k=m.cmp(x);return k<0||_===1&&k===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=(1<<26)%u,x=0,_=this.length-1;_>=0;_--)x=(m*x+(this.words[_]|0))%u;return l?-x:x},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=0,x=this.length-1;x>=0;x--){var _=(this.words[x]|0)+m*67108864;this.words[x]=_/u|0,m=_%u}return this._strip(),l?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=new s(0),R=new s(1),v=0;l.isEven()&&m.isEven();)l.iushrn(1),m.iushrn(1),++v;for(var d=m.clone(),E=l.clone();!l.isZero();){for(var J=0,$=1;(l.words[0]&$)===0&&J<26;++J,$<<=1);if(J>0)for(l.iushrn(J);J-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(d),_.isub(E)),x.iushrn(1),_.iushrn(1);for(var X=0,te=1;(m.words[0]&te)===0&&X<26;++X,te<<=1);if(X>0)for(m.iushrn(X);X-- >0;)(k.isOdd()||R.isOdd())&&(k.iadd(d),R.isub(E)),k.iushrn(1),R.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(k),_.isub(R)):(m.isub(l),k.isub(x),R.isub(_))}return{a:k,b:R,gcd:m.iushln(v)}},s.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=m.clone();l.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,v=1;(l.words[0]&v)===0&&R<26;++R,v<<=1);if(R>0)for(l.iushrn(R);R-- >0;)x.isOdd()&&x.iadd(k),x.iushrn(1);for(var d=0,E=1;(m.words[0]&E)===0&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(_)):(m.isub(l),_.isub(x))}var J;return l.cmpn(1)===0?J=x:J=_,J.cmpn(0)<0&&J.iadd(u),J},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var l=this.clone(),m=u.clone();l.negative=0,m.negative=0;for(var x=0;l.isEven()&&m.isEven();x++)l.iushrn(1),m.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;m.isEven();)m.iushrn(1);var _=l.cmp(m);if(_<0){var k=l;l=m,m=k}else if(_===0||m.cmpn(1)===0)break;l.isub(m)}while(!0);return m.iushln(x)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){t(typeof u=="number");var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var _=x,k=m;_!==0&&k<this.length;k++){var R=this.words[k]|0;R+=_,_=R>>>26,R&=67108863,this.words[k]=R}return _!==0&&(this.words[k]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var l=u<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var m;if(this.length>1)m=1;else{l&&(u=-u),t(u<=67108863,"Number is too big");var x=this.words[0]|0;m=x===u?0:x<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var l=this.ucmp(u);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var l=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,_=u.words[m]|0;if(x!==_){x<_?l=-1:x>_&&(l=1);break}}return l},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new Z(u)},s.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var G={k256:null,p224:null,p192:null,p25519:null};function K(S,u){this.name=S,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},K.prototype.ireduce=function(u){var l=u,m;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),m=l.bitLength();while(m>this.n);var x=m<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(u,l){u.iushrn(this.n,0,l)},K.prototype.imulK=function(u){return u.imul(this.k)};function z(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(z,K),z.prototype.split=function(u,l){for(var m=4194303,x=Math.min(u.length,9),_=0;_<x;_++)l.words[_]=u.words[_];if(l.length=x,u.length<=9){u.words[0]=0,u.length=1;return}var k=u.words[9];for(l.words[l.length++]=k&m,_=10;_<u.length;_++){var R=u.words[_]|0;u.words[_-10]=(R&m)<<4|k>>>22,k=R}k>>>=22,u.words[_-10]=k,k===0&&u.length>10?u.length-=10:u.length-=9},z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var l=0,m=0;m<u.length;m++){var x=u.words[m]|0;l+=x*977,u.words[m]=l&67108863,l=x*64+(l/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function W(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(W,K);function ce(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ce,K);function ie(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ie,K),ie.prototype.imulK=function(u){for(var l=0,m=0;m<u.length;m++){var x=(u.words[m]|0)*19+l,_=x&67108863;x>>>=26,u.words[m]=_,l=x}return l!==0&&(u.words[u.length++]=l),u},s._prime=function(u){if(G[u])return G[u];var l;if(u==="k256")l=new z;else if(u==="p224")l=new W;else if(u==="p192")l=new ce;else if(u==="p25519")l=new ie;else throw new Error("Unknown prime "+u);return G[u]=l,l};function Z(S){if(typeof S=="string"){var u=s._prime(S);this.m=u.p,this.prime=u}else t(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},Z.prototype._verify2=function(u,l){t((u.negative|l.negative)===0,"red works only with positives"),t(u.red&&u.red===l.red,"red works only with red numbers")},Z.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},Z.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Z.prototype.add=function(u,l){this._verify2(u,l);var m=u.add(l);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Z.prototype.iadd=function(u,l){this._verify2(u,l);var m=u.iadd(l);return m.cmp(this.m)>=0&&m.isub(this.m),m},Z.prototype.sub=function(u,l){this._verify2(u,l);var m=u.sub(l);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Z.prototype.isub=function(u,l){this._verify2(u,l);var m=u.isub(l);return m.cmpn(0)<0&&m.iadd(this.m),m},Z.prototype.shl=function(u,l){return this._verify1(u),this.imod(u.ushln(l))},Z.prototype.imul=function(u,l){return this._verify2(u,l),this.imod(u.imul(l))},Z.prototype.mul=function(u,l){return this._verify2(u,l),this.imod(u.mul(l))},Z.prototype.isqr=function(u){return this.imul(u,u.clone())},Z.prototype.sqr=function(u){return this.mul(u,u)},Z.prototype.sqrt=function(u){if(u.isZero())return u.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);t(!x.isZero());var k=new s(1).toRed(this),R=k.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,v).cmp(R)!==0;)d.redIAdd(R);for(var E=this.pow(d,x),J=this.pow(u,x.addn(1).iushrn(1)),$=this.pow(u,x),X=_;$.cmp(k)!==0;){for(var te=$,he=0;te.cmp(k)!==0;he++)te=te.redSqr();t(he<X);var ge=this.pow(E,new s(1).iushln(X-he-1));J=J.redMul(ge),E=ge.redSqr(),$=$.redMul(E),X=he}return J},Z.prototype.invm=function(u){var l=u._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Z.prototype.pow=function(u,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return u.clone();var m=4,x=new Array(1<<m);x[0]=new s(1).toRed(this),x[1]=u;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],u);var k=x[0],R=0,v=0,d=l.bitLength()%26;for(d===0&&(d=26),_=l.length-1;_>=0;_--){for(var E=l.words[_],J=d-1;J>=0;J--){var $=E>>J&1;if(k!==x[0]&&(k=this.sqr(k)),$===0&&R===0){v=0;continue}R<<=1,R|=$,v++,!(v!==m&&(_!==0||J!==0))&&(k=this.mul(k,x[R]),v=0,R=0)}d=26}return k},Z.prototype.convertTo=function(u){var l=u.umod(this.m);return l===u?l.clone():l},Z.prototype.convertFrom=function(u){var l=u.clone();return l.red=null,l},s.mont=function(u){return new de(u)};function de(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(de,Z),de.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},de.prototype.convertFrom=function(u){var l=this.imod(u.mul(this.rinv));return l.red=null,l},de.prototype.imul=function(u,l){if(u.isZero()||l.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},de.prototype.mul=function(u,l){if(u.isZero()||l.isZero())return new s(0)._forceRed(this);var m=u.mul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},de.prototype.invm=function(u){var l=this.imod(u._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof QT>"u"||QT,Wj)});var $j=M(yA=>{y();b();Object.defineProperty(yA,"__esModule",{value:!0});yA.version=void 0;yA.version="logger/5.8.0"});var el=M(Oc=>{y();b();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Logger=Oc.ErrorCode=Oc.LogLevel=void 0;var Zj=!1,Qj=!1,bA={debug:1,default:2,info:2,warning:3,error:4,off:5},Xj=bA.default,gre=$j(),YT=null;function pre(){try{var r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(function(e){try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var Yj=pre(),tF;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(tF=Oc.LogLevel||(Oc.LogLevel={}));var kc;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(kc=Oc.ErrorCode||(Oc.ErrorCode={}));var eF="0123456789abcdef",mre=function(){function r(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}return r.prototype._log=function(e,t){var n=e.toLowerCase();bA[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Xj>bA[n])&&console.log.apply(console,t)},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.DEBUG,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.INFO,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.WARNING,e)},r.prototype.makeError=function(e,t,n){if(Qj)return this.makeError("censored error",t,{});t||(t=r.errors.UNKNOWN_ERROR),n||(n={});var s=[];Object.keys(n).forEach(function(f){var g=n[f];try{if(g instanceof Uint8Array){for(var p="",A=0;A<g.length;A++)p+=eF[g[A]>>4],p+=eF[g[A]&15];s.push(f+"=Uint8Array(0x"+p+")")}else s.push(f+"="+JSON.stringify(g))}catch{s.push(f+"="+JSON.stringify(n[f].toString()))}}),s.push("code="+t),s.push("version="+this.version);var i=e,o="";switch(t){case kc.NUMERIC_FAULT:{o="NUMERIC_FAULT";var a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":o+="-"+a;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case kc.CALL_EXCEPTION:case kc.INSUFFICIENT_FUNDS:case kc.MISSING_NEW:case kc.NONCE_EXPIRED:case kc.REPLACEMENT_UNDERPRICED:case kc.TRANSACTION_REPLACED:case kc.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),s.length&&(e+=" ("+s.join(", ")+")");var c=new Error(e);return c.reason=i,c.code=t,Object.keys(n).forEach(function(f){c[f]=n[f]}),c},r.prototype.throwError=function(e,t,n){throw this.makeError(e,t,n)},r.prototype.throwArgumentError=function(e,t,n){return this.throwError(e,r.errors.INVALID_ARGUMENT,{argument:t,value:n})},r.prototype.assert=function(e,t,n,s){e||this.throwError(t,n,s)},r.prototype.assertArgument=function(e,t,n,s){e||this.throwArgumentError(t,n,s)},r.prototype.checkNormalize=function(e){e==null&&(e="platform missing String.prototype.normalize"),Yj&&this.throwError("platform missing String.prototype.normalize",r.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Yj})},r.prototype.checkSafeUint53=function(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))},r.prototype.checkArgumentCount=function(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,r.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,r.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})},r.prototype.checkNew=function(e,t){(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.prototype.checkAbstract=function(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",r.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.globalLogger=function(){return YT||(YT=new r(gre.version)),YT},r.setCensorship=function(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Zj){if(!e)return;this.globalLogger().throwError("error censorship permanent",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Qj=!!e,Zj=!!t},r.setLogLevel=function(e){var t=bA[e.toLowerCase()];if(t==null){r.globalLogger().warn("invalid log level - "+e);return}Xj=t},r.from=function(e){return new r(e)},r.errors=kc,r.levels=tF,r}();Oc.Logger=mre});var rF=M(xA=>{y();b();Object.defineProperty(xA,"__esModule",{value:!0});xA.version=void 0;xA.version="bytes/5.8.0"});var t5=M(zt=>{y();b();Object.defineProperty(zt,"__esModule",{value:!0});zt.joinSignature=zt.splitSignature=zt.hexZeroPad=zt.hexStripZeros=zt.hexValue=zt.hexConcat=zt.hexDataSlice=zt.hexDataLength=zt.hexlify=zt.isHexString=zt.zeroPad=zt.stripZeros=zt.concat=zt.arrayify=zt.isBytes=zt.isBytesLike=void 0;var yre=el(),bre=rF(),qr=new yre.Logger(bre.version);function sF(r){return!!r.toHexString}function Yg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Yg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function iF(r){return ba(r)&&!(r.length%2)||_A(r)}zt.isBytesLike=iF;function nF(r){return typeof r=="number"&&r==r&&r%1===0}function _A(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!nF(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!nF(t)||t<0||t>=256)return!1}return!0}zt.isBytes=_A;function T0(r,e){if(e||(e={}),typeof r=="number"){qr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Yg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),sF(r)&&(r=r.toHexString()),ba(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":qr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Yg(new Uint8Array(t))}return _A(r)?Yg(new Uint8Array(r)):qr.throwArgumentError("invalid arrayify value","value",r)}zt.arrayify=T0;function oF(r){var e=r.map(function(s){return T0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Yg(n)}zt.concat=oF;function xre(r){var e=T0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}zt.stripZeros=xre;function aF(r,e){r=T0(r),r.length>e&&qr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Yg(t)}zt.zeroPad=aF;function ba(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}zt.isHexString=ba;var e5="0123456789abcdef";function rs(r,e){if(e||(e={}),typeof r=="number"){qr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=e5[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),sF(r))return r.toHexString();if(ba(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":qr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(_A(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=e5[(i&240)>>4]+e5[i&15]}return n}return qr.throwArgumentError("invalid hexlify value","value",r)}zt.hexlify=rs;function wre(r){if(typeof r!="string")r=rs(r);else if(!ba(r)||r.length%2)return null;return(r.length-2)/2}zt.hexDataLength=wre;function _re(r,e,t){return typeof r!="string"?r=rs(r):(!ba(r)||r.length%2)&&qr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}zt.hexDataSlice=_re;function vre(r){var e="0x";return r.forEach(function(t){e+=rs(t).substring(2)}),e}zt.hexConcat=vre;function Pre(r){var e=cF(rs(r,{hexPad:"left"}));return e==="0x"?"0x0":e}zt.hexValue=Pre;function cF(r){typeof r!="string"&&(r=rs(r)),ba(r)||qr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}zt.hexStripZeros=cF;function wA(r,e){for(typeof r!="string"?r=rs(r):ba(r)||qr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&qr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}zt.hexZeroPad=wA;function uF(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(iF(r)){var t=T0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=rs(t.slice(0,32)),e.s=rs(t.slice(32,64))):t.length===65?(e.r=rs(t.slice(0,32)),e.s=rs(t.slice(32,64)),e.v=t[64]):qr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:qr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=rs(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=aF(T0(e._vs),32);e._vs=rs(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&qr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=rs(n);e.s==null?e.s=i:e.s!==i&&qr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?qr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&qr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ba(e.r)?qr.throwArgumentError("signature missing or invalid r","signature",r):e.r=wA(e.r,32),e.s==null||!ba(e.s)?qr.throwArgumentError("signature missing or invalid s","signature",r):e.s=wA(e.s,32);var a=T0(e.s);a[0]>=128&&qr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=rs(a);e._vs&&(ba(e._vs)||qr.throwArgumentError("signature invalid _vs","signature",r),e._vs=wA(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&qr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}zt.splitSignature=uF;function Are(r){return r=uF(r),rs(oF([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}zt.joinSignature=Are});var r5=M(vA=>{y();b();Object.defineProperty(vA,"__esModule",{value:!0});vA.version=void 0;vA.version="bignumber/5.8.0"});var AA=M(Xi=>{y();b();var Ere=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi._base16To36=Xi._base36To16=Xi.BigNumber=Xi.isBigNumberish=void 0;var Sre=Ere(XT()),hw=Sre.default.BN,ep=t5(),tp=el(),kre=r5(),Lu=new tp.Logger(kre.version),n5={},fF=9007199254740991;function Ore(r){return r!=null&&(PA.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||(0,ep.isHexString)(r)||typeof r=="bigint"||(0,ep.isBytes)(r))}Xi.isBigNumberish=Ore;var lF=!1,PA=function(){function r(e,t){e!==n5&&Lu.throwError("cannot call constructor directly; use BigNumber.from",tp.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return r.prototype.fromTwos=function(e){return Xs(Rt(this).fromTwos(e))},r.prototype.toTwos=function(e){return Xs(Rt(this).toTwos(e))},r.prototype.abs=function(){return this._hex[0]==="-"?r.from(this._hex.substring(1)):this},r.prototype.add=function(e){return Xs(Rt(this).add(Rt(e)))},r.prototype.sub=function(e){return Xs(Rt(this).sub(Rt(e)))},r.prototype.div=function(e){var t=r.from(e);return t.isZero()&&Qi("division-by-zero","div"),Xs(Rt(this).div(Rt(e)))},r.prototype.mul=function(e){return Xs(Rt(this).mul(Rt(e)))},r.prototype.mod=function(e){var t=Rt(e);return t.isNeg()&&Qi("division-by-zero","mod"),Xs(Rt(this).umod(t))},r.prototype.pow=function(e){var t=Rt(e);return t.isNeg()&&Qi("negative-power","pow"),Xs(Rt(this).pow(t))},r.prototype.and=function(e){var t=Rt(e);return(this.isNegative()||t.isNeg())&&Qi("unbound-bitwise-result","and"),Xs(Rt(this).and(t))},r.prototype.or=function(e){var t=Rt(e);return(this.isNegative()||t.isNeg())&&Qi("unbound-bitwise-result","or"),Xs(Rt(this).or(t))},r.prototype.xor=function(e){var t=Rt(e);return(this.isNegative()||t.isNeg())&&Qi("unbound-bitwise-result","xor"),Xs(Rt(this).xor(t))},r.prototype.mask=function(e){return(this.isNegative()||e<0)&&Qi("negative-width","mask"),Xs(Rt(this).maskn(e))},r.prototype.shl=function(e){return(this.isNegative()||e<0)&&Qi("negative-width","shl"),Xs(Rt(this).shln(e))},r.prototype.shr=function(e){return(this.isNegative()||e<0)&&Qi("negative-width","shr"),Xs(Rt(this).shrn(e))},r.prototype.eq=function(e){return Rt(this).eq(Rt(e))},r.prototype.lt=function(e){return Rt(this).lt(Rt(e))},r.prototype.lte=function(e){return Rt(this).lte(Rt(e))},r.prototype.gt=function(e){return Rt(this).gt(Rt(e))},r.prototype.gte=function(e){return Rt(this).gte(Rt(e))},r.prototype.isNegative=function(){return this._hex[0]==="-"},r.prototype.isZero=function(){return Rt(this).isZero()},r.prototype.toNumber=function(){try{return Rt(this).toNumber()}catch{Qi("overflow","toNumber",this.toString())}return null},r.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch{}return Lu.throwError("this platform does not support BigInt",tp.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},r.prototype.toString=function(){return arguments.length>0&&(arguments[0]===10?lF||(lF=!0,Lu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Lu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",tp.Logger.errors.UNEXPECTED_ARGUMENT,{}):Lu.throwError("BigNumber.toString does not accept parameters",tp.Logger.errors.UNEXPECTED_ARGUMENT,{})),Rt(this).toString(10)},r.prototype.toHexString=function(){return this._hex},r.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},r.from=function(e){if(e instanceof r)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new r(n5,gw(e)):e.match(/^-?[0-9]+$/)?new r(n5,gw(new hw(e))):Lu.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Qi("underflow","BigNumber.from",e),(e>=fF||e<=-fF)&&Qi("overflow","BigNumber.from",e),r.from(String(e));var t=e;if(typeof t=="bigint")return r.from(t.toString());if((0,ep.isBytes)(t))return r.from((0,ep.hexlify)(t));if(t)if(t.toHexString){var n=t.toHexString();if(typeof n=="string")return r.from(n)}else{var n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&((0,ep.isHexString)(n)||n[0]==="-"&&(0,ep.isHexString)(n.substring(1))))return r.from(n)}return Lu.throwArgumentError("invalid BigNumber value","value",e)},r.isBigNumber=function(e){return!!(e&&e._isBigNumber)},r}();Xi.BigNumber=PA;function gw(r){if(typeof r!="string")return gw(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Lu.throwArgumentError("invalid hex","value",r),r=gw(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Xs(r){return PA.from(gw(r))}function Rt(r){var e=PA.from(r).toHexString();return e[0]==="-"?new hw("-"+e.substring(3),16):new hw(e.substring(2),16)}function Qi(r,e,t){var n={fault:r,operation:e};return t!=null&&(n.value=t),Lu.throwError(r,tp.Logger.errors.NUMERIC_FAULT,n)}function Tre(r){return new hw(r,36).toString(16)}Xi._base36To16=Tre;function Nre(r){return new hw(r,16).toString(36)}Xi._base16To36=Nre});var mF=M(Nc=>{y();b();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.FixedNumber=Nc.FixedFormat=Nc.parseFixed=Nc.formatFixed=void 0;var EA=t5(),yw=el(),Cre=r5(),Ps=new yw.Logger(Cre.version),Uu=AA(),pw={},hF=Uu.BigNumber.from(0),gF=Uu.BigNumber.from(-1);function pF(r,e,t,n){var s={fault:e,operation:t};return n!==void 0&&(s.value=n),Ps.throwError(r,yw.Logger.errors.NUMERIC_FAULT,s)}var mw="0";for(;mw.length<256;)mw+=mw;function s5(r){if(typeof r!="number")try{r=Uu.BigNumber.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+mw.substring(0,r):Ps.throwArgumentError("invalid decimal size","decimals",r)}function SA(r,e){e==null&&(e=0);var t=s5(e);r=Uu.BigNumber.from(r);var n=r.lt(hF);n&&(r=r.mul(gF));for(var s=r.mod(t).toString();s.length<t.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=r.div(t).toString();return t.length===1?r=i:r=i+"."+s,n&&(r="-"+r),r}Nc.formatFixed=SA;function Tc(r,e){e==null&&(e=0);var t=s5(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Ps.throwArgumentError("invalid decimal value","value",r);var n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Ps.throwArgumentError("missing value","value",r);var s=r.split(".");s.length>2&&Ps.throwArgumentError("too many decimal points","value",r);var i=s[0],o=s[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&pF("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";var a=Uu.BigNumber.from(i),c=Uu.BigNumber.from(o),f=a.mul(t).add(c);return n&&(f=f.mul(gF)),f}Nc.parseFixed=Tc;var kA=function(){function r(e,t,n,s){e!==pw&&Ps.throwError("cannot use FixedFormat constructor; use FixedFormat.from",yw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=s,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(s),this._multiplier=s5(s),Object.freeze(this)}return r.from=function(e){if(e instanceof r)return e;typeof e=="number"&&(e="fixed128x"+e);var t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Ps.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(e){var o=function(a,c,f){return e[a]==null?f:(typeof e[a]!==c&&Ps.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,e[a]),e[a])};t=o("signed","boolean",t),n=o("width","number",n),s=o("decimals","number",s)}return n%8&&Ps.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),s>80&&Ps.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new r(pw,t,n,s)},r}();Nc.FixedFormat=kA;var i5=function(){function r(e,t,n,s){e!==pw&&Ps.throwError("cannot use FixedNumber constructor; use FixedNumber.from",yw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return r.prototype._checkFormat=function(e){this.format.name!==e.format.name&&Ps.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},r.prototype.addUnsafe=function(e){this._checkFormat(e);var t=Tc(this._value,this.format.decimals),n=Tc(e._value,e.format.decimals);return r.fromValue(t.add(n),this.format.decimals,this.format)},r.prototype.subUnsafe=function(e){this._checkFormat(e);var t=Tc(this._value,this.format.decimals),n=Tc(e._value,e.format.decimals);return r.fromValue(t.sub(n),this.format.decimals,this.format)},r.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=Tc(this._value,this.format.decimals),n=Tc(e._value,e.format.decimals);return r.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},r.prototype.divUnsafe=function(e){this._checkFormat(e);var t=Tc(this._value,this.format.decimals),n=Tc(e._value,e.format.decimals);return r.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},r.prototype.floor=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(dF.toFormat(t.format))),t},r.prototype.ceiling=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(dF.toFormat(t.format))),t},r.prototype.round=function(e){e==null&&(e=0);var t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Ps.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var n=r.from("1"+mw.substring(0,e),this.format),s=Rre.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(s).floor().divUnsafe(n)},r.prototype.isZero=function(){return this._value==="0.0"||this._value==="0"},r.prototype.isNegative=function(){return this._value[0]==="-"},r.prototype.toString=function(){return this._value},r.prototype.toHexString=function(e){if(e==null)return this._hex;e%8&&Ps.throwArgumentError("invalid byte width","width",e);var t=Uu.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,EA.hexZeroPad)(t,e/8)},r.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},r.prototype.toFormat=function(e){return r.fromString(this._value,e)},r.fromValue=function(e,t,n){return n==null&&t!=null&&!(0,Uu.isBigNumberish)(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),r.fromString(SA(e,t),kA.from(n))},r.fromString=function(e,t){t==null&&(t="fixed");var n=kA.from(t),s=Tc(e,n.decimals);!n.signed&&s.lt(hF)&&pF("unsigned value cannot be negative","overflow","value",e);var i=null;n.signed?i=s.toTwos(n.width).toHexString():(i=s.toHexString(),i=(0,EA.hexZeroPad)(i,n.width/8));var o=SA(s,n.decimals);return new r(pw,i,o,n)},r.fromBytes=function(e,t){t==null&&(t="fixed");var n=kA.from(t);if((0,EA.arrayify)(e).length>n.width/8)throw new Error("overflow");var s=Uu.BigNumber.from(e);n.signed&&(s=s.fromTwos(n.width));var i=s.toTwos((n.signed?0:1)+n.width).toHexString(),o=SA(s,n.decimals);return new r(pw,i,o,n)},r.from=function(e,t){if(typeof e=="string")return r.fromString(e,t);if((0,EA.isBytes)(e))return r.fromBytes(e,t);try{return r.fromValue(e,0,t)}catch(n){if(n.code!==yw.Logger.errors.INVALID_ARGUMENT)throw n}return Ps.throwArgumentError("invalid FixedNumber value","value",e)},r.isFixedNumber=function(e){return!!(e&&e._isFixedNumber)},r}();Nc.FixedNumber=i5;var dF=i5.from(1),Rre=i5.from("0.5")});var bF=M(ns=>{y();b();Object.defineProperty(ns,"__esModule",{value:!0});ns._base36To16=ns._base16To36=ns.parseFixed=ns.FixedNumber=ns.FixedFormat=ns.formatFixed=ns.BigNumber=void 0;var Bre=AA();Object.defineProperty(ns,"BigNumber",{enumerable:!0,get:function(){return Bre.BigNumber}});var OA=mF();Object.defineProperty(ns,"formatFixed",{enumerable:!0,get:function(){return OA.formatFixed}});Object.defineProperty(ns,"FixedFormat",{enumerable:!0,get:function(){return OA.FixedFormat}});Object.defineProperty(ns,"FixedNumber",{enumerable:!0,get:function(){return OA.FixedNumber}});Object.defineProperty(ns,"parseFixed",{enumerable:!0,get:function(){return OA.parseFixed}});var yF=AA();Object.defineProperty(ns,"_base16To36",{enumerable:!0,get:function(){return yF._base16To36}});Object.defineProperty(ns,"_base36To16",{enumerable:!0,get:function(){return yF._base36To16}})});var xF=M(Nn=>{y();b();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.MaxInt256=Nn.MinInt256=Nn.MaxUint256=Nn.WeiPerEther=Nn.Two=Nn.One=Nn.Zero=Nn.NegativeOne=void 0;var tl=bF(),Ire=tl.BigNumber.from(-1);Nn.NegativeOne=Ire;var Mre=tl.BigNumber.from(0);Nn.Zero=Mre;var jre=tl.BigNumber.from(1);Nn.One=jre;var Fre=tl.BigNumber.from(2);Nn.Two=Fre;var Lre=tl.BigNumber.from("1000000000000000000");Nn.WeiPerEther=Lre;var Ure=tl.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Nn.MaxUint256=Ure;var Dre=tl.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");Nn.MinInt256=Dre;var qre=tl.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Nn.MaxInt256=qre});var wF=M(TA=>{y();b();Object.defineProperty(TA,"__esModule",{value:!0});TA.HashZero=void 0;TA.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"});var _F=M(NA=>{y();b();Object.defineProperty(NA,"__esModule",{value:!0});NA.EtherSymbol=void 0;NA.EtherSymbol="\u039E"});var vF=M(kr=>{y();b();Object.defineProperty(kr,"__esModule",{value:!0});kr.EtherSymbol=kr.HashZero=kr.MaxInt256=kr.MinInt256=kr.MaxUint256=kr.WeiPerEther=kr.Two=kr.One=kr.Zero=kr.NegativeOne=kr.AddressZero=void 0;var Hre=Jj();Object.defineProperty(kr,"AddressZero",{enumerable:!0,get:function(){return Hre.AddressZero}});var rl=xF();Object.defineProperty(kr,"NegativeOne",{enumerable:!0,get:function(){return rl.NegativeOne}});Object.defineProperty(kr,"Zero",{enumerable:!0,get:function(){return rl.Zero}});Object.defineProperty(kr,"One",{enumerable:!0,get:function(){return rl.One}});Object.defineProperty(kr,"Two",{enumerable:!0,get:function(){return rl.Two}});Object.defineProperty(kr,"WeiPerEther",{enumerable:!0,get:function(){return rl.WeiPerEther}});Object.defineProperty(kr,"MaxUint256",{enumerable:!0,get:function(){return rl.MaxUint256}});Object.defineProperty(kr,"MinInt256",{enumerable:!0,get:function(){return rl.MinInt256}});Object.defineProperty(kr,"MaxInt256",{enumerable:!0,get:function(){return rl.MaxInt256}});var Gre=wF();Object.defineProperty(kr,"HashZero",{enumerable:!0,get:function(){return Gre.HashZero}});var Kre=_F();Object.defineProperty(kr,"EtherSymbol",{enumerable:!0,get:function(){return Kre.EtherSymbol}})});var bw=M(As=>{y();b();var Vre=As&&As.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zre=As&&As.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),EF=As&&As.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),s=0;s<n.length;s++)n[s]!=="default"&&Vre(t,e,n[s]);return zre(t,e),t}}();Object.defineProperty(As,"__esModule",{value:!0});As.HexStr=As.RLP=void 0;As.getTypePrefix=$re;var Jre=X9(),PF=PT(),N0=EF(TP()),Wre=vF(),AF=EF(eee());As.RLP={encode:AF.encode,decode:AF.decode};As.HexStr={toNumber(r){return PF.BigNumber.from(r).toNumber()},fromNumber(r){return PF.BigNumber.from(r).toHexString()},from(r){return N0.hexlify(r)},concat(...r){return N0.hexlify(N0.concat(r))},isHex(r,e){return N0.isHexString(r,e)},stripZeros(r){return N0.hexlify(N0.stripZeros(r))},zeroPad(r,e){return N0.hexZeroPad(r,e)},withHexPrefix(r){return r.replace(/^(0x)?/,"0x")},stripHexPrefix(r){return r.replace(/^(0x)?/,"")},toAddress(r){return!r||r=="0x"?Wre.AddressZero:(0,Jre.getAddress)(r)},toBoolean(r){if(r=="0x")return!1;if(r=="0x01")return!0;throw new Error(`Invalid RLP boolean: '${r}'`)}};function $re(r){if(!As.HexStr.isHex(r))throw new Error("Not an RLP encoded string");if(r.length<4)throw new Error("RLP encoded string too short");return As.HexStr.toNumber(r.substring(0,4))}});var o5=M(Gn=>{y();b();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.CodeFormatEVM=Gn.AccountKeyType=Gn.TxType=void 0;Gn.parseTxType=kF;Gn.getKaikasTxType=Zre;Gn.isKlaytnTxType=OF;Gn.isBasicTxType=Qre;Gn.isFeeDelegationTxType=TF;Gn.isPartialFeeDelegationTxType=NF;Gn.isFeePayerSigTxType=Xre;Gn.isKlaytnAccountKeyType=Yre;Gn.isEmbeddableAccountKeyType=ene;var C0=(fa(),ca(ua)),SF=bw(),Du;(function(r){r[r.ValueTransfer=8]="ValueTransfer",r[r.ValueTransferMemo=16]="ValueTransferMemo",r[r.AccountUpdate=32]="AccountUpdate",r[r.SmartContractDeploy=40]="SmartContractDeploy",r[r.SmartContractExecution=48]="SmartContractExecution",r[r.Cancel=56]="Cancel",r[r.FeeDelegatedValueTransfer=9]="FeeDelegatedValueTransfer",r[r.FeeDelegatedValueTransferMemo=17]="FeeDelegatedValueTransferMemo",r[r.FeeDelegatedAccountUpdate=33]="FeeDelegatedAccountUpdate",r[r.FeeDelegatedSmartContractDeploy=41]="FeeDelegatedSmartContractDeploy",r[r.FeeDelegatedSmartContractExecution=49]="FeeDelegatedSmartContractExecution",r[r.FeeDelegatedCancel=57]="FeeDelegatedCancel",r[r.FeeDelegatedValueTransferWithRatio=10]="FeeDelegatedValueTransferWithRatio",r[r.FeeDelegatedValueTransferMemoWithRatio=18]="FeeDelegatedValueTransferMemoWithRatio",r[r.FeeDelegatedAccountUpdateWithRatio=34]="FeeDelegatedAccountUpdateWithRatio",r[r.FeeDelegatedSmartContractDeployWithRatio=42]="FeeDelegatedSmartContractDeployWithRatio",r[r.FeeDelegatedSmartContractExecutionWithRatio=50]="FeeDelegatedSmartContractExecutionWithRatio",r[r.FeeDelegatedCancelWithRatio=58]="FeeDelegatedCancelWithRatio"})(Du||(Gn.TxType=Du={}));function kF(r){if(r==null&&(r=0),typeof r=="bigint"&&(r=Number(r)),(0,C0.isNumber)(r))return r;if((0,C0.isString)(r)&&r.length>0){if(SF.HexStr.isHex(r))return SF.HexStr.toNumber(r);let e=r;if(e.startsWith("TxType")&&(e=e.substring(6)),e=(0,C0.upperFirst)((0,C0.camelCase)(e)),(0,C0.has)(Du,e))return(0,C0.get)(Du,e)}throw new Error(`Unrecognized tx type '${r}'. Expected a number.'`)}function Zre(r){let e=kF(r);if(OF(e)){let t=Du[e];return(0,C0.snakeCase)(t).toUpperCase()}else return e}function OF(r){return!!r&&r in Du}function Qre(r){return!!r&&r in Du&&(r&3)==0}function TF(r){return!!r&&r in Du&&(r&3)==1}function NF(r){return!!r&&r in Du&&(r&3)==2}function Xre(r){return TF(r)||NF(r)}var xw;(function(r){r[r.Nil=0]="Nil",r[r.Legacy=1]="Legacy",r[r.Public=2]="Public",r[r.Fail=3]="Fail",r[r.WeightedMultiSig=4]="WeightedMultiSig",r[r.RoleBased=5]="RoleBased"})(xw||(Gn.AccountKeyType=xw={}));function Yre(r){return!!r&&r in xw}function ene(r){return!!r&&r in xw&&r!=xw.RoleBased}Gn.CodeFormatEVM=0});var c5=M(np=>{y();b();Object.defineProperty(np,"__esModule",{value:!0});np.getPublicKeyFromPrivate=rne;np.getCompressedPublicKey=RF;np.getSignatureTuple=nne;np.getChainIdFromSignatureTuples=sne;var CF=TP(),tne=Z9(),Es=bw(),rp=(fa(),ca(ua)),a5=new tne.ec("secp256k1");function rne(r){let e=a5.keyFromPrivate(Es.HexStr.stripHexPrefix(r),"hex");return RF(e.getPublic(!0,"hex"))}function RF(r){if(r instanceof Uint8Array&&(r=Es.HexStr.from(r)),(0,rp.isString)(r)){let e=Es.HexStr.from(Es.HexStr.withHexPrefix(r));if(Es.HexStr.isHex(e,33)||Es.HexStr.isHex(e,65)){let t=Es.HexStr.stripHexPrefix(e);return"0x"+a5.keyFromPublic(t,"hex").getPublic(!0,"hex")}}if((0,rp.isString)(r.x)&&(0,rp.isString)(r.y))return r.x=Es.HexStr.stripHexPrefix(r.x),r.y=Es.HexStr.stripHexPrefix(r.y),"0x"+a5.keyFromPublic(r).getPublic(!0,"hex");throw new Error("Public key must be a hex string of 33 or 65 bytes, or an { x, y } object")}function nne(r){let e;if((0,rp.isArray)(r)){if(r.length!=3)throw new Error("Signature tuple must have 3 elements [v,r,s]");let t=Es.HexStr.toNumber(r[0]);e=(0,CF.splitSignature)({v:t,r:r[1],s:r[2]})}else e=(0,CF.splitSignature)(r);return[Es.HexStr.fromNumber(e.v),Es.HexStr.stripZeros(e.r),Es.HexStr.stripZeros(e.s)]}function sne(r){if(!(0,rp.isArray)(r)||r.length==0)return;let e=r[0];if(!(0,rp.isArray)(e)||e.length!=3)return;let t=e[0];if(!Es.HexStr.isHex(t))return;let n=Es.HexStr.toNumber(t);if(n>=35)return(n+n%2-36)/2}});var BF=M(CA=>{y();b();Object.defineProperty(CA,"__esModule",{value:!0});CA.splitKeystoreKIP3=ine;CA.isKIP3Json=one;var R0=(fa(),ca(ua));function ine(r,e=!0){let t=JSON.parse(r),n=t.keyring;if(!(0,R0.isArray)(n))throw new Error("Invalid KIP-3 JSON wallet");let s=[];return(0,R0.isArray)(n[0])?s=(0,R0.flattenDepth)(n,2):s=(0,R0.flattenDepth)(n,1),(0,R0.map)(s,i=>{let o={version:3,crypto:i,address:t.address,id:t.id};return e&&delete o.address,JSON.stringify(o)})}function one(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return(0,R0.isNumber)(e.version)&&e.version==4&&(0,R0.isArray)(e.keyring)}});var jF=M(B0=>{y();b();Object.defineProperty(B0,"__esModule",{value:!0});B0.JsonRpcClient=void 0;B0.promisifyMethod=IF;B0.promisifyApi=MF;B0.asyncOpenApi=cne;var ane=(fa(),ca(ua)),RA=class{constructor(e){this.send=e}callApi(e,t,n,s,i,o,a,c,f,g,p,A,P){this.send(a.method,a.params).then(C=>P(null,C)).catch(C=>P(C,null))}};B0.JsonRpcClient=RA;function IF(r,e,t){return async function(...n){if(n.length<t)throw new Error(`API ${String(e)} expects ${t} or more arguments, got ${n.length}`);let s=n.slice(0,t),i=n.slice(t);return new Promise((o,a)=>{r[e](...s,i,(c,f)=>{c?a(c):o(f)})})}}function MF(r){let e={},t=Reflect.getPrototypeOf(r);if(!t)throw new Error("Cannot promisify OpenApi object");let n=Reflect.ownKeys(t);for(let s of n){if(s=="constructor")continue;let i=Reflect.get(t,s);if(!(0,ane.isFunction)(i)||i.length<2)continue;let o=i.length-2;e[s]=IF(r,s,o)}return e}function cne(r,e){let t=new RA(r),n=new e(t);return MF(n)}});var fL=M((_Ae,MA)=>{y();b();var FF,LF,UF,DF,qF,HF,GF,KF,VF,zF,JF,WF,$F,BA,u5,ZF,QF,XF,sp,YF,eL,tL,rL,nL,sL,iL,oL,aL,IA,cL,uL;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof MA=="object"&&typeof MA.exports=="object"?r(t(e,t(MA.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])};FF=function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function o(){this.constructor=s}s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},LF=Object.assign||function(s){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])}return s},UF=function(s,i){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(o[a[c]]=s[a[c]]);return o},DF=function(s,i,o,a){var c=arguments.length,f=c<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(s,i,o,a);else for(var p=s.length-1;p>=0;p--)(g=s[p])&&(f=(c<3?g(f):c>3?g(i,o,f):g(i,o))||f);return c>3&&f&&Object.defineProperty(i,o,f),f},qF=function(s,i){return function(o,a){i(o,a,s)}},HF=function(s,i,o,a,c,f){function g(G){if(G!==void 0&&typeof G!="function")throw new TypeError("Function expected");return G}for(var p=a.kind,A=p==="getter"?"get":p==="setter"?"set":"value",P=!i&&s?a.static?s:s.prototype:null,C=i||(P?Object.getOwnPropertyDescriptor(P,a.name):{}),N,U=!1,L=o.length-1;L>=0;L--){var q={};for(var H in a)q[H]=H==="access"?{}:a[H];for(var H in a.access)q.access[H]=a.access[H];q.addInitializer=function(G){if(U)throw new TypeError("Cannot add initializers after decoration has completed");f.push(g(G||null))};var V=(0,o[L])(p==="accessor"?{get:C.get,set:C.set}:C[A],q);if(p==="accessor"){if(V===void 0)continue;if(V===null||typeof V!="object")throw new TypeError("Object expected");(N=g(V.get))&&(C.get=N),(N=g(V.set))&&(C.set=N),(N=g(V.init))&&c.unshift(N)}else(N=g(V))&&(p==="field"?c.unshift(N):C[A]=N)}P&&Object.defineProperty(P,a.name,C),U=!0},GF=function(s,i,o){for(var a=arguments.length>2,c=0;c<i.length;c++)o=a?i[c].call(s,o):i[c].call(s);return a?o:void 0},KF=function(s){return typeof s=="symbol"?s:"".concat(s)},VF=function(s,i,o){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},zF=function(s,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,i)},JF=function(s,i,o,a){function c(f){return f instanceof o?f:new o(function(g){g(f)})}return new(o||(o=Promise))(function(f,g){function p(C){try{P(a.next(C))}catch(N){g(N)}}function A(C){try{P(a.throw(C))}catch(N){g(N)}}function P(C){C.done?f(C.value):c(C.value).then(p,A)}P((a=a.apply(s,i||[])).next())})},WF=function(s,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=p(0),g.throw=p(1),g.return=p(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(P){return function(C){return A([P,C])}}function A(P){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,P[0]&&(o=0)),o;)try{if(a=1,c&&(f=P[0]&2?c.return:P[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,P[1])).done)return f;switch(c=0,f&&(P=[P[0]&2,f.value]),P[0]){case 0:case 1:f=P;break;case 4:return o.label++,{value:P[1],done:!1};case 5:o.label++,c=P[1],P=[0];continue;case 7:P=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(P[0]===6||P[0]===2)){o=0;continue}if(P[0]===3&&(!f||P[1]>f[0]&&P[1]<f[3])){o.label=P[1];break}if(P[0]===6&&o.label<f[1]){o.label=f[1],f=P;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(P);break}f[2]&&o.ops.pop(),o.trys.pop();continue}P=i.call(s,o)}catch(C){P=[6,C],c=0}finally{a=f=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},$F=function(s,i){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&IA(i,s,o)},IA=Object.create?function(s,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(s,a,c)}:function(s,i,o,a){a===void 0&&(a=o),s[a]=i[o]},BA=function(s){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&s[i],a=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},u5=function(s,i){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var a=o.call(s),c,f=[],g;try{for(;(i===void 0||i-- >0)&&!(c=a.next()).done;)f.push(c.value)}catch(p){g={error:p}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(g)throw g.error}}return f},ZF=function(){for(var s=[],i=0;i<arguments.length;i++)s=s.concat(u5(arguments[i]));return s},QF=function(){for(var s=0,i=0,o=arguments.length;i<o;i++)s+=arguments[i].length;for(var a=Array(s),c=0,i=0;i<o;i++)for(var f=arguments[i],g=0,p=f.length;g<p;g++,c++)a[c]=f[g];return a},XF=function(s,i,o){if(o||arguments.length===2)for(var a=0,c=i.length,f;a<c;a++)(f||!(a in i))&&(f||(f=Array.prototype.slice.call(i,0,a)),f[a]=i[a]);return s.concat(f||Array.prototype.slice.call(i))},sp=function(s){return this instanceof sp?(this.v=s,this):new sp(s)},YF=function(s,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(s,i||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(L){return function(q){return Promise.resolve(q).then(L,N)}}function p(L,q){a[L]&&(c[L]=function(H){return new Promise(function(V,G){f.push([L,H,V,G])>1||A(L,H)})},q&&(c[L]=q(c[L])))}function A(L,q){try{P(a[L](q))}catch(H){U(f[0][3],H)}}function P(L){L.value instanceof sp?Promise.resolve(L.value.v).then(C,N):U(f[0][2],L)}function C(L){A("next",L)}function N(L){A("throw",L)}function U(L,q){L(q),f.shift(),f.length&&A(f[0][0],f[0][1])}},eL=function(s){var i,o;return i={},a("next"),a("throw",function(c){throw c}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(c,f){i[c]=s[c]?function(g){return(o=!o)?{value:sp(s[c](g)),done:!1}:f?f(g):g}:f}},tL=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s[Symbol.asyncIterator],o;return i?i.call(s):(s=typeof BA=="function"?BA(s):s[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=s[f]&&function(g){return new Promise(function(p,A){g=s[f](g),c(p,A,g.done,g.value)})}}function c(f,g,p,A){Promise.resolve(A).then(function(P){f({value:P,done:p})},g)}},rL=function(s,i){return Object.defineProperty?Object.defineProperty(s,"raw",{value:i}):s.raw=i,s};var t=Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i};nL=function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var o in s)o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)&&IA(i,s,o);return t(i,s),i},sL=function(s){return s&&s.__esModule?s:{default:s}},iL=function(s,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?s!==i||!a:!i.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(s):a?a.value:i.get(s)},oL=function(s,i,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?s!==i||!c:!i.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(s,o):c?c.value=o:i.set(s,o),o},aL=function(s,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?i===s:s.has(i)},cL=function(s,i,o){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var a,c;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=i[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=i[Symbol.dispose],o&&(c=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");c&&(a=function(){try{c.call(this)}catch(f){return Promise.reject(f)}}),s.stack.push({value:i,dispose:a,async:o})}else o&&s.stack.push({async:!0});return i};var n=typeof SuppressedError=="function"?SuppressedError:function(s,i,o){var a=new Error(o);return a.name="SuppressedError",a.error=s,a.suppressed=i,a};uL=function(s){function i(f){s.error=s.hasError?new n(f,s.error,"An error was suppressed during disposal."):f,s.hasError=!0}var o,a=0;function c(){for(;o=s.stack.pop();)try{if(!o.async&&a===1)return a=0,s.stack.push(o),Promise.resolve().then(c);if(o.dispose){var f=o.dispose.call(o.value);if(o.async)return a|=2,Promise.resolve(f).then(c,function(g){return i(g),c()})}else a|=1}catch(g){i(g)}if(a===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return c()},r("__extends",FF),r("__assign",LF),r("__rest",UF),r("__decorate",DF),r("__param",qF),r("__esDecorate",HF),r("__runInitializers",GF),r("__propKey",KF),r("__setFunctionName",VF),r("__metadata",zF),r("__awaiter",JF),r("__generator",WF),r("__exportStar",$F),r("__createBinding",IA),r("__values",BA),r("__read",u5),r("__spread",ZF),r("__spreadArrays",QF),r("__spreadArray",XF),r("__await",sp),r("__asyncGenerator",YF),r("__asyncDelegator",eL),r("__asyncValues",tL),r("__makeTemplateObject",rL),r("__importStar",nL),r("__importDefault",sL),r("__classPrivateFieldGet",iL),r("__classPrivateFieldSet",oL),r("__classPrivateFieldIn",aL),r("__addDisposableResource",cL),r("__disposeResources",uL)})});var FA=M(jA=>{y();b();Object.defineProperty(jA,"__esModule",{value:!0});jA.version=void 0;jA.version="6.15.0"});var nl=M(ip=>{y();b();Object.defineProperty(ip,"__esModule",{value:!0});ip.defineProperties=ip.resolveProperties=void 0;function une(r,e,t){let n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function fne(r){let e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}ip.resolveProperties=fne;function lne(r,e,t){for(let n in e){let s=e[n],i=t?t[n]:null;i&&une(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}ip.defineProperties=lne});var xa=M(Cn=>{y();b();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.assertPrivate=Cn.assertNormalize=Cn.assertArgumentCount=Cn.assertArgument=Cn.assert=Cn.makeError=Cn.isCallException=Cn.isError=void 0;var dne=FA(),lL=nl();function op(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>op(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){let t="0123456789abcdef",n="0x";for(let s=0;s<r.length;s++)n+=t[r[s]>>4],n+=t[r[s]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return op(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${op(n,e)}: ${op(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function dL(r,e){return r&&r.code===e}Cn.isError=dL;function hne(r){return dL(r,"CALL_EXCEPTION")}Cn.isCallException=hne;function hL(r,e,t){let n=r;{let i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${op(t)}`);for(let o in t){if(o==="shortMessage")continue;let a=t[o];i.push(o+"="+op(a))}}i.push(`code=${e}`),i.push(`version=${dne.version}`),i.length&&(r+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return(0,lL.defineProperties)(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&(0,lL.defineProperties)(s,{shortMessage:n}),s}Cn.makeError=hL;function ap(r,e,t,n){if(!r)throw hL(e,t,n)}Cn.assert=ap;function gne(r,e,t,n){ap(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}Cn.assertArgument=gne;function pne(r,e,t){t==null&&(t=""),t&&(t=": "+t),ap(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),ap(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}Cn.assertArgumentCount=pne;var mne=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){let t=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(t!==n)throw new Error("broken")}r.push(e)}catch{}return r},[]);function yne(r){ap(mne.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}Cn.assertNormalize=yne;function bne(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),ap(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}Cn.assertPrivate=bne});var Yi=M(Or=>{y();b();Object.defineProperty(Or,"__esModule",{value:!0});Or.zeroPadBytes=Or.zeroPadValue=Or.stripZerosLeft=Or.dataSlice=Or.dataLength=Or.concat=Or.hexlify=Or.isBytesLike=Or.isHexString=Or.getBytesCopy=Or.getBytes=void 0;var f5=xa();function pL(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let n=new Uint8Array((r.length-2)/2),s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}(0,f5.assertArgument)(!1,"invalid BytesLike value",e||"value",r)}function ww(r,e){return pL(r,e,!1)}Or.getBytes=ww;function xne(r,e){return pL(r,e,!0)}Or.getBytesCopy=xne;function l5(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}Or.isHexString=l5;function wne(r){return l5(r,!0)||r instanceof Uint8Array}Or.isBytesLike=wne;var gL="0123456789abcdef";function _w(r){let e=ww(r),t="0x";for(let n=0;n<e.length;n++){let s=e[n];t+=gL[(s&240)>>4]+gL[s&15]}return t}Or.hexlify=_w;function _ne(r){return"0x"+r.map(e=>_w(e).substring(2)).join("")}Or.concat=_ne;function vne(r){return l5(r,!0)?(r.length-2)/2:ww(r).length}Or.dataLength=vne;function Pne(r,e,t){let n=ww(r);return t!=null&&t>n.length&&(0,f5.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),_w(n.slice(e??0,t??n.length))}Or.dataSlice=Pne;function Ane(r){let e=_w(r).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}Or.stripZerosLeft=Ane;function mL(r,e,t){let n=ww(r);(0,f5.assert)(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),_w(s)}function Ene(r,e){return mL(r,e,!0)}Or.zeroPadValue=Ene;function Sne(r,e){return mL(r,e,!1)}Or.zeroPadBytes=Sne});var up=M(Tr=>{y();b();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.toQuantity=Tr.toBeArray=Tr.toBeHex=Tr.toNumber=Tr.getNumber=Tr.toBigInt=Tr.getUint=Tr.getBigInt=Tr.mask=Tr.toTwos=Tr.fromTwos=void 0;var yL=Yi(),Ys=xa(),LA=BigInt(0),wa=BigInt(1),cp=9007199254740991;function kne(r,e){let t=vw(r,"value"),n=BigInt(I0(e,"width"));if((0,Ys.assert)(t>>n===LA,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-wa){let s=(wa<<n)-wa;return-((~t&s)+wa)}return t}Tr.fromTwos=kne;function One(r,e){let t=UA(r,"value"),n=BigInt(I0(e,"width")),s=wa<<n-wa;if(t<LA){t=-t,(0,Ys.assert)(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});let i=(wa<<n)-wa;return(~t&i)+wa}else(0,Ys.assert)(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}Tr.toTwos=One;function Tne(r,e){let t=vw(r,"value"),n=BigInt(I0(e,"bits"));return t&(wa<<n)-wa}Tr.mask=Tne;function UA(r,e){switch(typeof r){case"bigint":return r;case"number":return(0,Ys.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,Ys.assertArgument)(r>=-cp&&r<=cp,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){(0,Ys.assertArgument)(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}(0,Ys.assertArgument)(!1,"invalid BigNumberish value",e||"value",r)}Tr.getBigInt=UA;function vw(r,e){let t=UA(r,e);return(0,Ys.assert)(t>=LA,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}Tr.getUint=vw;var bL="0123456789abcdef";function xL(r){if(r instanceof Uint8Array){let e="0x0";for(let t of r)e+=bL[t>>4],e+=bL[t&15];return BigInt(e)}return UA(r)}Tr.toBigInt=xL;function I0(r,e){switch(typeof r){case"bigint":return(0,Ys.assertArgument)(r>=-cp&&r<=cp,"overflow",e||"value",r),Number(r);case"number":return(0,Ys.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,Ys.assertArgument)(r>=-cp&&r<=cp,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return I0(BigInt(r),e)}catch(t){(0,Ys.assertArgument)(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}(0,Ys.assertArgument)(!1,"invalid numeric value",e||"value",r)}Tr.getNumber=I0;function Nne(r){return I0(xL(r))}Tr.toNumber=Nne;function Cne(r,e){let n=vw(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{let s=I0(e,"width");for((0,Ys.assert)(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}Tr.toBeHex=Cne;function wL(r){let e=vw(r,"value");if(e===LA)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);let n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){let i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}Tr.toBeArray=wL;function Rne(r){let e=(0,yL.hexlify)((0,yL.isBytesLike)(r)?r:wL(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}Tr.toQuantity=Rne});var _L=M(fp=>{y();b();Object.defineProperty(fp,"__esModule",{value:!0});fp.decodeBase58=fp.encodeBase58=void 0;var Bne=Yi(),Ine=xa(),Mne=up(),qA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",DA=null;function jne(r){if(DA==null){DA={};for(let t=0;t<qA.length;t++)DA[qA[t]]=BigInt(t)}let e=DA[r];return(0,Ine.assertArgument)(e!=null,"invalid base58 value","letter",r),e}var Fne=BigInt(0),d5=BigInt(58);function Lne(r){let e=(0,Bne.getBytes)(r),t=(0,Mne.toBigInt)(e),n="";for(;t;)n=qA[Number(t%d5)]+n,t/=d5;for(let s=0;s<e.length&&!e[s];s++)n=qA[0]+n;return n}fp.encodeBase58=Lne;function Une(r){let e=Fne;for(let t=0;t<r.length;t++)e*=d5,e+=jne(r[t]);return e}fp.decodeBase58=Une});var h5=M(lp=>{y();b();Object.defineProperty(lp,"__esModule",{value:!0});lp.encodeBase64=lp.decodeBase64=void 0;var vL=Yi();function Dne(r){r=atob(r);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return(0,vL.getBytes)(e)}lp.decodeBase64=Dne;function qne(r){let e=(0,vL.getBytes)(r),t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}lp.encodeBase64=qne});var PL=M(HA=>{y();b();Object.defineProperty(HA,"__esModule",{value:!0});HA.EventPayload=void 0;var Hne=nl(),dp,g5=class{constructor(e,t,n){O(this,"filter");O(this,"emitter");T(this,dp,void 0);w(this,dp,t),(0,Hne.defineProperties)(this,{emitter:e,filter:n})}async removeListener(){h(this,dp)!=null&&await this.emitter.off(this.filter,h(this,dp))}};dp=new WeakMap;HA.EventPayload=g5});var GA=M(_a=>{y();b();Object.defineProperty(_a,"__esModule",{value:!0});_a.toUtf8CodePoints=_a.toUtf8String=_a.toUtf8Bytes=_a.Utf8ErrorFuncs=void 0;var Gne=Yi(),Pw=xa();function Kne(r,e,t,n,s){(0,Pw.assertArgument)(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function AL(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function Vne(r,e,t,n,s){return r==="OVERLONG"?((0,Pw.assertArgument)(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),AL(r,e,t,n,s))}_a.Utf8ErrorFuncs=Object.freeze({error:Kne,ignore:AL,replace:Vne});function EL(r,e){e==null&&(e=_a.Utf8ErrorFuncs.error);let t=(0,Gne.getBytes)(r,"bytes"),n=[],s=0;for(;s<t.length;){let i=t[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=i&(1<<8-o-1)-1;for(let f=0;f<o;f++){let g=t[s];if((g&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|g&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,n,c);continue}n.push(c)}}return n}function SL(r,e){(0,Pw.assertArgument)(typeof r=="string","invalid string value","str",r),e!=null&&((0,Pw.assertNormalize)(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;let i=r.charCodeAt(n);(0,Pw.assertArgument)(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);let o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}_a.toUtf8Bytes=SL;function zne(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jne(r,e){return zne(EL(r,e))}_a.toUtf8String=Jne;function Wne(r,e){return EL(SL(r,e))}_a.toUtf8CodePoints=Wne});var OL=M(hp=>{y();b();Object.defineProperty(hp,"__esModule",{value:!0});hp.getUrl=hp.createGetUrl=void 0;var Aw=xa();function kL(r){async function e(t,n){(0,Aw.assert)(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let s=t.url.split(":")[0].toLowerCase();(0,Aw.assert)(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),(0,Aw.assert)(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,o=new AbortController,a=setTimeout(()=>{i=(0,Aw.makeError)("request timeout","TIMEOUT"),o.abort()},t.timeout);n&&n.addListener(()=>{i=(0,Aw.makeError)("request cancelled","CANCELLED"),o.abort()});let c=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal}),f;try{f=await fetch(t.url,c)}catch(P){throw clearTimeout(a),i||P}clearTimeout(a);let g={};f.headers.forEach((P,C)=>{g[C.toLowerCase()]=P});let p=await f.arrayBuffer(),A=p==null?null:new Uint8Array(p);return{statusCode:f.status,statusMessage:f.statusText,headers:g,body:A}}return e}hp.createGetUrl=kL;var $ne=kL({});async function Zne(r,e){return $ne(r,e)}hp.getUrl=Zne});var FL=M(ol=>{y();b();Object.defineProperty(ol,"__esModule",{value:!0});ol.FetchResponse=ol.FetchRequest=ol.FetchCancelSignal=void 0;var CL=h5(),RL=Yi(),eo=xa(),Qne=nl(),gp=GA(),BL=OL(),Xne=12,Yne=250,TL=(0,BL.createGetUrl)(),ese=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),tse=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),p5=!1;async function IL(r,e){try{let t=r.match(ese);if(!t)throw new Error("invalid data");return new Gu(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(0,CL.decodeBase64)(t[3]):rse(t[3]))}catch{return new Gu(599,"BAD REQUEST (invalid data: URI)",{},null,new wp(r))}}function ML(r){async function e(t,n){try{let s=t.match(tse);if(!s)throw new Error("invalid link");return new wp(`${r}${s[2]}`)}catch{return new Gu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new wp(t))}}return e}var KA={data:IL,ipfs:ML("https://gateway.ipfs.io/ipfs/")},jL=new WeakMap,M0,sl,zA=class{constructor(e){T(this,M0,void 0);T(this,sl,void 0);w(this,M0,[]),w(this,sl,!1),jL.set(e,()=>{if(!h(this,sl)){w(this,sl,!0);for(let t of h(this,M0))setTimeout(()=>{t()},0);w(this,M0,[])}})}addListener(e){(0,eo.assert)(!h(this,sl),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),h(this,M0).push(e)}get cancelled(){return h(this,sl)}checkSignal(){(0,eo.assert)(!this.cancelled,"cancelled","CANCELLED",{})}};M0=new WeakMap,sl=new WeakMap;ol.FetchCancelSignal=zA;function VA(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var pp,mp,va,qu,yp,bp,Rn,ki,Hu,j0,F0,L0,Cc,Pa,il,U0,Ew,JA=class{constructor(e){T(this,U0);T(this,pp,void 0);T(this,mp,void 0);T(this,va,void 0);T(this,qu,void 0);T(this,yp,void 0);T(this,bp,void 0);T(this,Rn,void 0);T(this,ki,void 0);T(this,Hu,void 0);T(this,j0,void 0);T(this,F0,void 0);T(this,L0,void 0);T(this,Cc,void 0);T(this,Pa,void 0);T(this,il,void 0);w(this,bp,String(e)),w(this,pp,!1),w(this,mp,!0),w(this,va,{}),w(this,qu,""),w(this,yp,3e5),w(this,Pa,{slotInterval:Yne,maxAttempts:Xne}),w(this,il,null)}get url(){return h(this,bp)}set url(e){w(this,bp,String(e))}get body(){return h(this,Rn)==null?null:new Uint8Array(h(this,Rn))}set body(e){if(e==null)w(this,Rn,void 0),w(this,ki,void 0);else if(typeof e=="string")w(this,Rn,(0,gp.toUtf8Bytes)(e)),w(this,ki,"text/plain");else if(e instanceof Uint8Array)w(this,Rn,e),w(this,ki,"application/octet-stream");else if(typeof e=="object")w(this,Rn,(0,gp.toUtf8Bytes)(JSON.stringify(e))),w(this,ki,"application/json");else throw new Error("invalid body")}hasBody(){return h(this,Rn)!=null}get method(){return h(this,qu)?h(this,qu):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),w(this,qu,String(e).toUpperCase())}get headers(){let e=Object.assign({},h(this,va));return h(this,Hu)&&(e.authorization=`Basic ${(0,CL.encodeBase64)((0,gp.toUtf8Bytes)(h(this,Hu)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&h(this,ki)&&(e["content-type"]=h(this,ki)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){h(this,va)[String(e).toLowerCase()]=String(t)}clearHeaders(){w(this,va,{})}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return h(this,Hu)||null}setCredentials(e,t){(0,eo.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,Hu,`${e}:${t}`)}get allowGzip(){return h(this,mp)}set allowGzip(e){w(this,mp,!!e)}get allowInsecureAuthentication(){return!!h(this,pp)}set allowInsecureAuthentication(e){w(this,pp,!!e)}get timeout(){return h(this,yp)}set timeout(e){(0,eo.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),w(this,yp,e)}get preflightFunc(){return h(this,j0)||null}set preflightFunc(e){w(this,j0,e)}get processFunc(){return h(this,F0)||null}set processFunc(e){w(this,F0,e)}get retryFunc(){return h(this,L0)||null}set retryFunc(e){w(this,L0,e)}get getUrlFunc(){return h(this,il)||TL}set getUrlFunc(e){w(this,il,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${h(this,Rn)?(0,RL.hexlify)(h(this,Rn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(h(this,Pa).slotInterval=e.slotInterval),e.maxAttempts!=null&&(h(this,Pa).maxAttempts=e.maxAttempts)}send(){return(0,eo.assert)(h(this,Cc)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,Cc,new zA(this)),D(this,U0,Ew).call(this,0,NL()+this.timeout,0,this,new Gu(0,"",{},null,this))}cancel(){(0,eo.assert)(h(this,Cc)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=jL.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();(0,eo.assert)(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new JA(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,w(s,va,Object.assign({},h(this,va))),h(this,Rn)&&w(s,Rn,new Uint8Array(h(this,Rn))),w(s,ki,h(this,ki)),s}clone(){let e=new JA(this.url);return w(e,qu,h(this,qu)),h(this,Rn)&&w(e,Rn,h(this,Rn)),w(e,ki,h(this,ki)),w(e,va,Object.assign({},h(this,va))),w(e,Hu,h(this,Hu)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),w(e,j0,h(this,j0)),w(e,F0,h(this,F0)),w(e,L0,h(this,L0)),w(e,Pa,Object.assign({},h(this,Pa))),w(e,il,h(this,il)),e}static lockConfig(){p5=!0}static getGateway(e){return KA[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(p5)throw new Error("gateways locked");KA[e]=t}static registerGetUrl(e){if(p5)throw new Error("gateways locked");TL=e}static createGetUrlFunc(e){return(0,BL.createGetUrl)(e)}static createDataGateway(){return IL}static createIpfsGatewayFunc(e){return ML(e)}},wp=JA;pp=new WeakMap,mp=new WeakMap,va=new WeakMap,qu=new WeakMap,yp=new WeakMap,bp=new WeakMap,Rn=new WeakMap,ki=new WeakMap,Hu=new WeakMap,j0=new WeakMap,F0=new WeakMap,L0=new WeakMap,Cc=new WeakMap,Pa=new WeakMap,il=new WeakMap,U0=new WeakSet,Ew=async function(e,t,n,s,i){var g,p,A;if(e>=h(this,Pa).maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,eo.assert)(NL()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await nse(n);let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in KA){let P=await KA[a](o.url,VA(h(s,Cc)));if(P instanceof Gu){let C=P;if(this.processFunc){VA(h(s,Cc));try{C=await this.processFunc(o,C)}catch(N){(N.throttle==null||typeof N.stall!="number")&&C.makeServerError("error in post-processing function",N).assertOk()}}return C}o=P}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,VA(h(s,Cc))),f=new Gu(c.statusCode,c.statusMessage,c.headers,c.body,s);if(f.statusCode===301||f.statusCode===302){try{let P=f.headers.location||"";return D(g=o.redirect(P),U0,Ew).call(g,e+1,t,0,s,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){let P=f.headers["retry-after"],C=h(this,Pa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof P=="string"&&P.match(/^[1-9][0-9]*$/)&&(C=parseInt(P)),D(p=o.clone(),U0,Ew).call(p,e+1,t,C,s,f)}if(this.processFunc){VA(h(s,Cc));try{f=await this.processFunc(o,f)}catch(P){(P.throttle==null||typeof P.stall!="number")&&f.makeServerError("error in post-processing function",P).assertOk();let C=h(this,Pa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return P.stall>=0&&(C=P.stall),D(A=o.clone(),U0,Ew).call(A,e+1,t,C,s,f)}}return f};ol.FetchRequest=wp;var Sw,kw,Ow,Oi,xp,D0,m5=class{constructor(e,t,n,s,i){T(this,Sw,void 0);T(this,kw,void 0);T(this,Ow,void 0);T(this,Oi,void 0);T(this,xp,void 0);T(this,D0,void 0);w(this,Sw,e),w(this,kw,t),w(this,Ow,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),w(this,Oi,s==null?null:new Uint8Array(s)),w(this,xp,i||null),w(this,D0,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${h(this,Oi)?(0,RL.hexlify)(h(this,Oi)):"null"}>`}get statusCode(){return h(this,Sw)}get statusMessage(){return h(this,kw)}get headers(){return Object.assign({},h(this,Ow))}get body(){return h(this,Oi)==null?null:new Uint8Array(h(this,Oi))}get bodyText(){try{return h(this,Oi)==null?"":(0,gp.toUtf8String)(h(this,Oi))}catch{(0,eo.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,eo.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new m5(599,n,this.headers,this.body,h(this,xp)||void 0);return w(s,D0,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:(0,eo.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let n=new Error(e||"throttling requests");throw(0,Qne.defineProperties)(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return h(this,Oi)!=null}get request(){return h(this,xp)}ok(){return h(this,D0).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=h(this,D0);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{h(this,Oi)&&(s=(0,gp.toUtf8String)(h(this,Oi)))}catch{}(0,eo.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}},Gu=m5;Sw=new WeakMap,kw=new WeakMap,Ow=new WeakMap,Oi=new WeakMap,xp=new WeakMap,D0=new WeakMap;ol.FetchResponse=Gu;function NL(){return new Date().getTime()}function rse(r){return(0,gp.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function nse(r){return new Promise(e=>setTimeout(e,r))}});var P5=M(WA=>{y();b();Object.defineProperty(WA,"__esModule",{value:!0});WA.FixedNumber=void 0;var sse=Yi(),ks=xa(),cl=up(),ise=nl(),ose=BigInt(-1),Aa=BigInt(0),vp=BigInt(1),ase=BigInt(5),_p={},Pp="0000";for(;Pp.length<80;)Pp+=Pp;function q0(r){let e=Pp;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function Tw(r,e,t){let n=BigInt(e.width);if(e.signed){let s=vp<<n-vp;(0,ks.assert)(t==null||r>=-s&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>Aa?r=(0,cl.fromTwos)((0,cl.mask)(r,n),n):r=-(0,cl.fromTwos)((0,cl.mask)(-r,n),n)}else{let s=vp<<n;(0,ks.assert)(t==null||r>=0&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%s+s)%s&s-vp}return r}function y5(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{let i=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,ks.assertArgument)(i,"invalid fixed format","format",r),e=i[1]!=="u",t=parseInt(i[2]),n=parseInt(i[3])}}else if(r){let i=r,o=(a,c,f)=>i[a]==null?f:((0,ks.assertArgument)(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),n=o("decimals","number",n)}(0,ks.assertArgument)(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),(0,ks.assertArgument)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let s=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:s}}function cse(r,e){let t="";r<Aa&&(t="-",r*=ose);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=Pp+n;let s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var Ea,sr,Ss,Vu,H0,Sa,Ku,Nw,x5,Cw,w5,Rw,_5,Bw,v5,al=class{constructor(e,t,n){T(this,Vu);T(this,Sa);T(this,Nw);T(this,Cw);T(this,Rw);T(this,Bw);O(this,"format");T(this,Ea,void 0);T(this,sr,void 0);T(this,Ss,void 0);O(this,"_value");(0,ks.assertPrivate)(e,_p,"FixedNumber"),w(this,sr,t),w(this,Ea,n);let s=cse(t,n.decimals);(0,ise.defineProperties)(this,{format:n.name,_value:s}),w(this,Ss,q0(n.decimals))}get signed(){return h(this,Ea).signed}get width(){return h(this,Ea).width}get decimals(){return h(this,Ea).decimals}get value(){return h(this,sr)}addUnsafe(e){return D(this,Nw,x5).call(this,e)}add(e){return D(this,Nw,x5).call(this,e,"add")}subUnsafe(e){return D(this,Cw,w5).call(this,e)}sub(e){return D(this,Cw,w5).call(this,e,"sub")}mulUnsafe(e){return D(this,Rw,_5).call(this,e)}mul(e){return D(this,Rw,_5).call(this,e,"mul")}mulSignal(e){D(this,Vu,H0).call(this,e);let t=h(this,sr)*h(e,sr);return(0,ks.assert)(t%h(this,Ss)===Aa,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),D(this,Sa,Ku).call(this,t/h(this,Ss),"mulSignal")}divUnsafe(e){return D(this,Bw,v5).call(this,e)}div(e){return D(this,Bw,v5).call(this,e,"div")}divSignal(e){(0,ks.assert)(h(e,sr)!==Aa,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),D(this,Vu,H0).call(this,e);let t=h(this,sr)*h(this,Ss);return(0,ks.assert)(t%h(e,sr)===Aa,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),D(this,Sa,Ku).call(this,t/h(e,sr),"divSignal")}cmp(e){let t=this.value,n=e.value,s=this.decimals-e.decimals;return s>0?n*=q0(s):s<0&&(t*=q0(-s)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=h(this,sr);return h(this,sr)<Aa&&(e-=h(this,Ss)-vp),e=h(this,sr)/h(this,Ss)*h(this,Ss),D(this,Sa,Ku).call(this,e,"floor")}ceiling(){let e=h(this,sr);return h(this,sr)>Aa&&(e+=h(this,Ss)-vp),e=h(this,sr)/h(this,Ss)*h(this,Ss),D(this,Sa,Ku).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,n=ase*q0(t-1),s=this.value+n,i=q0(t);return s=s/i*i,Tw(s,h(this,Ea),"round"),new al(_p,s,h(this,Ea))}isZero(){return h(this,sr)===Aa}isNegative(){return h(this,sr)<Aa}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return al.fromString(this.toString(),e)}static fromValue(e,t,n){let s=t==null?0:(0,cl.getNumber)(t),i=y5(n),o=(0,cl.getBigInt)(e,"value"),a=s-i.decimals;if(a>0){let c=q0(a);(0,ks.assert)(o%c===Aa,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=q0(-a));return Tw(o,i,"fromValue"),new al(_p,o,i)}static fromString(e,t){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,ks.assertArgument)(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let s=y5(t),i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=Pp;(0,ks.assert)(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);let a=BigInt(n[1]+i+o);return Tw(a,s,"fromString"),new al(_p,a,s)}static fromBytes(e,t){let n=(0,cl.toBigInt)((0,sse.getBytes)(e,"value")),s=y5(t);return s.signed&&(n=(0,cl.fromTwos)(n,s.width)),Tw(n,s,"fromBytes"),new al(_p,n,s)}},b5=al;Ea=new WeakMap,sr=new WeakMap,Ss=new WeakMap,Vu=new WeakSet,H0=function(e){(0,ks.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Sa=new WeakSet,Ku=function(e,t){return e=Tw(e,h(this,Ea),t),new al(_p,e,h(this,Ea))},Nw=new WeakSet,x5=function(e,t){return D(this,Vu,H0).call(this,e),D(this,Sa,Ku).call(this,h(this,sr)+h(e,sr),t)},Cw=new WeakSet,w5=function(e,t){return D(this,Vu,H0).call(this,e),D(this,Sa,Ku).call(this,h(this,sr)-h(e,sr),t)},Rw=new WeakSet,_5=function(e,t){return D(this,Vu,H0).call(this,e),D(this,Sa,Ku).call(this,h(this,sr)*h(e,sr)/h(this,Ss),t)},Bw=new WeakSet,v5=function(e,t){return(0,ks.assert)(h(e,sr)!==Aa,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),D(this,Vu,H0).call(this,e),D(this,Sa,Ku).call(this,h(this,sr)*h(this,Ss)/h(e,sr),t)};WA.FixedNumber=b5});var HL=M(ZA=>{y();b();Object.defineProperty(ZA,"__esModule",{value:!0});ZA.decodeRlp=void 0;var LL=Yi(),$A=xa(),use=Yi();function fse(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function UL(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function DL(r,e,t,n){let s=[];for(;t<e+1+n;){let i=qL(r,t);s.push(i.result),t+=i.consumed,(0,$A.assert)(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function qL(r,e){(0,$A.assert)(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});let t=n=>{(0,$A.assert)(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){let n=r[e]-247;t(e+1+n);let s=UL(r,e+1,n);return t(e+1+n+s),DL(r,e,e+1+n,n+s)}else if(r[e]>=192){let n=r[e]-192;return t(e+1+n),DL(r,e,e+1,n)}else if(r[e]>=184){let n=r[e]-183;t(e+1+n);let s=UL(r,e+1,n);t(e+1+n+s);let i=(0,LL.hexlify)(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){let n=r[e]-128;t(e+1+n);let s=(0,LL.hexlify)(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:fse(r[e])}}function lse(r){let e=(0,use.getBytes)(r,"data"),t=qL(e,0);return(0,$A.assertArgument)(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}ZA.decodeRlp=lse});var zL=M(QA=>{y();b();Object.defineProperty(QA,"__esModule",{value:!0});QA.encodeRlp=void 0;var dse=Yi();function GL(r){let e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function VL(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(VL(i))}),n.length<=55)return n.unshift(192+n.length),n;let s=GL(n.length);return s.unshift(247+s.length),s.concat(n)}let e=Array.prototype.slice.call((0,dse.getBytes)(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=GL(e.length);return t.unshift(183+t.length),t.concat(e)}var KL="0123456789abcdef";function hse(r){let e="0x";for(let t of VL(r))e+=KL[t>>4],e+=KL[t&15];return e}QA.encodeRlp=hse});var XL=M(Rc=>{y();b();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.parseEther=Rc.formatEther=Rc.parseUnits=Rc.formatUnits=void 0;var A5=xa(),JL=P5(),WL=up(),$L=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ZL(r,e){let t=18;if(typeof e=="string"){let n=$L.indexOf(e);(0,A5.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,WL.getNumber)(e,"unit"));return JL.FixedNumber.fromValue(r,t,{decimals:t,width:512}).toString()}Rc.formatUnits=ZL;function QL(r,e){(0,A5.assertArgument)(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){let n=$L.indexOf(e);(0,A5.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,WL.getNumber)(e,"unit"));return JL.FixedNumber.fromString(r,{decimals:t,width:512}).value}Rc.parseUnits=QL;function gse(r){return ZL(r,18)}Rc.formatEther=gse;function pse(r){return QL(r,18)}Rc.parseEther=pse});var eU=M(XA=>{y();b();Object.defineProperty(XA,"__esModule",{value:!0});XA.uuidV4=void 0;var YL=Yi();function mse(r){let e=(0,YL.getBytes)(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=(0,YL.hexlify)(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}XA.uuidV4=mse});var fe=M(Y=>{y();b();Object.defineProperty(Y,"__esModule",{value:!0});Y.toUtf8String=Y.toUtf8CodePoints=Y.toUtf8Bytes=Y.parseUnits=Y.formatUnits=Y.parseEther=Y.formatEther=Y.encodeRlp=Y.decodeRlp=Y.defineProperties=Y.resolveProperties=Y.toQuantity=Y.toBeArray=Y.toBeHex=Y.toNumber=Y.toBigInt=Y.getUint=Y.getNumber=Y.getBigInt=Y.mask=Y.toTwos=Y.fromTwos=Y.FixedNumber=Y.FetchCancelSignal=Y.FetchResponse=Y.FetchRequest=Y.EventPayload=Y.makeError=Y.assertNormalize=Y.assertPrivate=Y.assertArgumentCount=Y.assertArgument=Y.assert=Y.isError=Y.isCallException=Y.zeroPadBytes=Y.zeroPadValue=Y.stripZerosLeft=Y.dataSlice=Y.dataLength=Y.concat=Y.hexlify=Y.isBytesLike=Y.isHexString=Y.getBytesCopy=Y.getBytes=Y.encodeBase64=Y.decodeBase64=Y.encodeBase58=Y.decodeBase58=void 0;Y.uuidV4=Y.Utf8ErrorFuncs=void 0;var tU=_L();Object.defineProperty(Y,"decodeBase58",{enumerable:!0,get:function(){return tU.decodeBase58}});Object.defineProperty(Y,"encodeBase58",{enumerable:!0,get:function(){return tU.encodeBase58}});var rU=h5();Object.defineProperty(Y,"decodeBase64",{enumerable:!0,get:function(){return rU.decodeBase64}});Object.defineProperty(Y,"encodeBase64",{enumerable:!0,get:function(){return rU.encodeBase64}});var ka=Yi();Object.defineProperty(Y,"getBytes",{enumerable:!0,get:function(){return ka.getBytes}});Object.defineProperty(Y,"getBytesCopy",{enumerable:!0,get:function(){return ka.getBytesCopy}});Object.defineProperty(Y,"isHexString",{enumerable:!0,get:function(){return ka.isHexString}});Object.defineProperty(Y,"isBytesLike",{enumerable:!0,get:function(){return ka.isBytesLike}});Object.defineProperty(Y,"hexlify",{enumerable:!0,get:function(){return ka.hexlify}});Object.defineProperty(Y,"concat",{enumerable:!0,get:function(){return ka.concat}});Object.defineProperty(Y,"dataLength",{enumerable:!0,get:function(){return ka.dataLength}});Object.defineProperty(Y,"dataSlice",{enumerable:!0,get:function(){return ka.dataSlice}});Object.defineProperty(Y,"stripZerosLeft",{enumerable:!0,get:function(){return ka.stripZerosLeft}});Object.defineProperty(Y,"zeroPadValue",{enumerable:!0,get:function(){return ka.zeroPadValue}});Object.defineProperty(Y,"zeroPadBytes",{enumerable:!0,get:function(){return ka.zeroPadBytes}});var ul=xa();Object.defineProperty(Y,"isCallException",{enumerable:!0,get:function(){return ul.isCallException}});Object.defineProperty(Y,"isError",{enumerable:!0,get:function(){return ul.isError}});Object.defineProperty(Y,"assert",{enumerable:!0,get:function(){return ul.assert}});Object.defineProperty(Y,"assertArgument",{enumerable:!0,get:function(){return ul.assertArgument}});Object.defineProperty(Y,"assertArgumentCount",{enumerable:!0,get:function(){return ul.assertArgumentCount}});Object.defineProperty(Y,"assertPrivate",{enumerable:!0,get:function(){return ul.assertPrivate}});Object.defineProperty(Y,"assertNormalize",{enumerable:!0,get:function(){return ul.assertNormalize}});Object.defineProperty(Y,"makeError",{enumerable:!0,get:function(){return ul.makeError}});var yse=PL();Object.defineProperty(Y,"EventPayload",{enumerable:!0,get:function(){return yse.EventPayload}});var E5=FL();Object.defineProperty(Y,"FetchRequest",{enumerable:!0,get:function(){return E5.FetchRequest}});Object.defineProperty(Y,"FetchResponse",{enumerable:!0,get:function(){return E5.FetchResponse}});Object.defineProperty(Y,"FetchCancelSignal",{enumerable:!0,get:function(){return E5.FetchCancelSignal}});var bse=P5();Object.defineProperty(Y,"FixedNumber",{enumerable:!0,get:function(){return bse.FixedNumber}});var Oa=up();Object.defineProperty(Y,"fromTwos",{enumerable:!0,get:function(){return Oa.fromTwos}});Object.defineProperty(Y,"toTwos",{enumerable:!0,get:function(){return Oa.toTwos}});Object.defineProperty(Y,"mask",{enumerable:!0,get:function(){return Oa.mask}});Object.defineProperty(Y,"getBigInt",{enumerable:!0,get:function(){return Oa.getBigInt}});Object.defineProperty(Y,"getNumber",{enumerable:!0,get:function(){return Oa.getNumber}});Object.defineProperty(Y,"getUint",{enumerable:!0,get:function(){return Oa.getUint}});Object.defineProperty(Y,"toBigInt",{enumerable:!0,get:function(){return Oa.toBigInt}});Object.defineProperty(Y,"toNumber",{enumerable:!0,get:function(){return Oa.toNumber}});Object.defineProperty(Y,"toBeHex",{enumerable:!0,get:function(){return Oa.toBeHex}});Object.defineProperty(Y,"toBeArray",{enumerable:!0,get:function(){return Oa.toBeArray}});Object.defineProperty(Y,"toQuantity",{enumerable:!0,get:function(){return Oa.toQuantity}});var nU=nl();Object.defineProperty(Y,"resolveProperties",{enumerable:!0,get:function(){return nU.resolveProperties}});Object.defineProperty(Y,"defineProperties",{enumerable:!0,get:function(){return nU.defineProperties}});var xse=HL();Object.defineProperty(Y,"decodeRlp",{enumerable:!0,get:function(){return xse.decodeRlp}});var wse=zL();Object.defineProperty(Y,"encodeRlp",{enumerable:!0,get:function(){return wse.encodeRlp}});var YA=XL();Object.defineProperty(Y,"formatEther",{enumerable:!0,get:function(){return YA.formatEther}});Object.defineProperty(Y,"parseEther",{enumerable:!0,get:function(){return YA.parseEther}});Object.defineProperty(Y,"formatUnits",{enumerable:!0,get:function(){return YA.formatUnits}});Object.defineProperty(Y,"parseUnits",{enumerable:!0,get:function(){return YA.parseUnits}});var eE=GA();Object.defineProperty(Y,"toUtf8Bytes",{enumerable:!0,get:function(){return eE.toUtf8Bytes}});Object.defineProperty(Y,"toUtf8CodePoints",{enumerable:!0,get:function(){return eE.toUtf8CodePoints}});Object.defineProperty(Y,"toUtf8String",{enumerable:!0,get:function(){return eE.toUtf8String}});Object.defineProperty(Y,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return eE.Utf8ErrorFuncs}});var _se=eU();Object.defineProperty(Y,"uuidV4",{enumerable:!0,get:function(){return _se.uuidV4}})});var to=M(xr=>{y();b();Object.defineProperty(xr,"__esModule",{value:!0});xr.Reader=xr.Writer=xr.Coder=xr.checkResultErrors=xr.Result=xr.WordSize=void 0;var Hr=fe();xr.WordSize=32;var S5=new Uint8Array(xr.WordSize),vse=["then"],tE={},oU=new WeakMap;function G0(r){return oU.get(r)}function sU(r,e){oU.set(r,e)}function Iw(r,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function k5(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof Mw?k5(G0(n),n,t):n):r.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(t&&o instanceof Mw&&(o=k5(G0(o),o,t)),n[s]=o),n},{})}var Ep,Ap=class extends Array{constructor(...t){let n=t[0],s=t[1],i=(t[2]||[]).slice(),o=!0;n!==tE&&(s=t,i=[],o=!1);super(s.length);T(this,Ep,void 0);s.forEach((f,g)=>{this[g]=f});let a=i.reduce((f,g)=>(typeof g=="string"&&f.set(g,(f.get(g)||0)+1),f),new Map);if(sU(this,Object.freeze(s.map((f,g)=>{let p=i[g];return p!=null&&a.get(p)===1?p:null}))),w(this,Ep,[]),h(this,Ep)==null&&h(this,Ep),!o)return;Object.freeze(this);let c=new Proxy(this,{get:(f,g,p)=>{if(typeof g=="string"){if(g.match(/^[0-9]+$/)){let P=(0,Hr.getNumber)(g,"%index");if(P<0||P>=this.length)throw new RangeError("out of result range");let C=f[P];return C instanceof Error&&Iw(`index ${P}`,C),C}if(vse.indexOf(g)>=0)return Reflect.get(f,g,p);let A=f[g];if(A instanceof Function)return function(...P){return A.apply(this===p?f:this,P)};if(!(g in f))return f.getValue.apply(this===p?f:this,[g])}return Reflect.get(f,g,p)}});return sU(c,G0(this)),c}toArray(t){let n=[];return this.forEach((s,i)=>{s instanceof Error&&Iw(`index ${i}`,s),t&&s instanceof Ap&&(s=s.toArray(t)),n.push(s)}),n}toObject(t){let n=G0(this);return n.reduce((s,i,o)=>((0,Hr.assert)(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),k5(n,this,t)),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let s=G0(this),i=[],o=[];for(let a=t;a<n;a++)i.push(this[a]),o.push(s[a]);return new Ap(tE,i,o)}filter(t,n){let s=G0(this),i=[],o=[];for(let a=0;a<this.length;a++){let c=this[a];c instanceof Error&&Iw(`index ${a}`,c),t.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new Ap(tE,i,o)}map(t,n){let s=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&Iw(`index ${i}`,o),s.push(t.call(n,o,i,this))}return s}getValue(t){let n=G0(this).indexOf(t);if(n===-1)return;let s=this[n];return s instanceof Error&&Iw(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,n){return new Ap(tE,t,n)}},Mw=Ap;Ep=new WeakMap;xr.Result=Mw;function Pse(r){let e=[],t=function(n,s){if(!!Array.isArray(s))for(let i in s){let o=n.slice();o.push(i);try{t(o,s[i])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}xr.checkResultErrors=Pse;function iU(r){let e=(0,Hr.toBeArray)(r);return(0,Hr.assert)(e.length<=xr.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:xr.WordSize,offset:e.length}),e.length!==xr.WordSize&&(e=(0,Hr.getBytesCopy)((0,Hr.concat)([S5.slice(e.length%xr.WordSize),e]))),e}var O5=class{constructor(e,t,n,s){O(this,"name");O(this,"type");O(this,"localName");O(this,"dynamic");(0,Hr.defineProperties)(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,Hr.assertArgument)(!1,e,this.localName,t)}};xr.Coder=O5;var zu,K0,Sp,rE,T5=class{constructor(){T(this,Sp);T(this,zu,void 0);T(this,K0,void 0);w(this,zu,[]),w(this,K0,0)}get data(){return(0,Hr.concat)(h(this,zu))}get length(){return h(this,K0)}appendWriter(e){return D(this,Sp,rE).call(this,(0,Hr.getBytesCopy)(e.data))}writeBytes(e){let t=(0,Hr.getBytesCopy)(e),n=t.length%xr.WordSize;return n&&(t=(0,Hr.getBytesCopy)((0,Hr.concat)([t,S5.slice(n)]))),D(this,Sp,rE).call(this,t)}writeValue(e){return D(this,Sp,rE).call(this,iU(e))}writeUpdatableValue(){let e=h(this,zu).length;return h(this,zu).push(S5),w(this,K0,h(this,K0)+xr.WordSize),t=>{h(this,zu)[e]=iU(t)}}};zu=new WeakMap,K0=new WeakMap,Sp=new WeakSet,rE=function(e){return h(this,zu).push(e),w(this,K0,h(this,K0)+e.length),e.length};xr.Writer=T5;var ei,Ti,V0,z0,fl,jw,C5,nE,aU,R5=class{constructor(e,t,n){T(this,jw);T(this,nE);O(this,"allowLoose");T(this,ei,void 0);T(this,Ti,void 0);T(this,V0,void 0);T(this,z0,void 0);T(this,fl,void 0);(0,Hr.defineProperties)(this,{allowLoose:!!t}),w(this,ei,(0,Hr.getBytesCopy)(e)),w(this,V0,0),w(this,z0,null),w(this,fl,n??1024),w(this,Ti,0)}get data(){return(0,Hr.hexlify)(h(this,ei))}get dataLength(){return h(this,ei).length}get consumed(){return h(this,Ti)}get bytes(){return new Uint8Array(h(this,ei))}subReader(e){let t=new R5(h(this,ei).slice(h(this,Ti)+e),this.allowLoose,h(this,fl));return w(t,z0,this),t}readBytes(e,t){let n=D(this,nE,aU).call(this,0,e,!!t);return D(this,jw,C5).call(this,e),w(this,Ti,h(this,Ti)+n.length),n.slice(0,e)}readValue(){return(0,Hr.toBigInt)(this.readBytes(xr.WordSize))}readIndex(){return(0,Hr.toNumber)(this.readBytes(xr.WordSize))}},N5=R5;ei=new WeakMap,Ti=new WeakMap,V0=new WeakMap,z0=new WeakMap,fl=new WeakMap,jw=new WeakSet,C5=function(e){var t;if(h(this,z0))return D(t=h(this,z0),jw,C5).call(t,e);w(this,V0,h(this,V0)+e),(0,Hr.assert)(h(this,fl)<1||h(this,V0)<=h(this,fl)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${h(this,fl)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,Hr.getBytesCopy)(h(this,ei)),offset:h(this,Ti),length:e,info:{bytesRead:h(this,V0),dataLength:this.dataLength}})},nE=new WeakSet,aU=function(e,t,n){let s=Math.ceil(t/xr.WordSize)*xr.WordSize;return h(this,Ti)+s>h(this,ei).length&&(this.allowLoose&&n&&h(this,Ti)+t<=h(this,ei).length?s=t:(0,Hr.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,Hr.getBytesCopy)(h(this,ei)),length:h(this,ei).length,offset:h(this,Ti)+s})),h(this,ei).slice(h(this,Ti),h(this,Ti)+s)};xr.Reader=N5});var kp=M(Os=>{y();b();Object.defineProperty(Os,"__esModule",{value:!0});Os.output=Os.exists=Os.hash=Os.bytes=Os.bool=Os.number=void 0;function sE(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}Os.number=sE;function cU(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}Os.bool=cU;function B5(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}Os.bytes=B5;function uU(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sE(r.outputLen),sE(r.blockLen)}Os.hash=uU;function fU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}Os.exists=fU;function lU(r,e){B5(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Os.output=lU;var Ase={number:sE,bool:cU,bytes:B5,hash:uU,exists:fU,output:lU};Os.default=Ase});var dU=M(iE=>{y();b();Object.defineProperty(iE,"__esModule",{value:!0});iE.crypto=void 0;iE.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Ta=M(vt=>{y();b();Object.defineProperty(vt,"__esModule",{value:!0});vt.randomBytes=vt.wrapXOFConstructorWithOpts=vt.wrapConstructorWithOpts=vt.wrapConstructor=vt.checkOpts=vt.Hash=vt.concatBytes=vt.toBytes=vt.utf8ToBytes=vt.asyncLoop=vt.nextTick=vt.hexToBytes=vt.bytesToHex=vt.isLE=vt.rotr=vt.createView=vt.u32=vt.u8=void 0;var I5=dU(),j5=r=>r instanceof Uint8Array,Ese=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);vt.u8=Ese;var Sse=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));vt.u32=Sse;var kse=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);vt.createView=kse;var Ose=(r,e)=>r<<32-e|r>>>e;vt.rotr=Ose;vt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vt.isLE)throw new Error("Non little-endian hardware is not supported");var Tse=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Nse(r){if(!j5(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Tse[r[t]];return e}vt.bytesToHex=Nse;function Cse(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}vt.hexToBytes=Cse;var Rse=async()=>{};vt.nextTick=Rse;async function Bse(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);let i=Date.now()-n;i>=0&&i<e||(await(0,vt.nextTick)(),n+=i)}}vt.asyncLoop=Bse;function hU(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}vt.utf8ToBytes=hU;function oE(r){if(typeof r=="string"&&(r=hU(r)),!j5(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}vt.toBytes=oE;function Ise(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!j5(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}vt.concatBytes=Ise;var M5=class{clone(){return this._cloneInto()}};vt.Hash=M5;var Mse={}.toString;function jse(r,e){if(e!==void 0&&Mse.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}vt.checkOpts=jse;function Fse(r){let e=n=>r().update(oE(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}vt.wrapConstructor=Fse;function Lse(r){let e=(n,s)=>r(s).update(oE(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}vt.wrapConstructorWithOpts=Lse;function Use(r){let e=(n,s)=>r(s).update(oE(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}vt.wrapXOFConstructorWithOpts=Use;function Dse(r=32){if(I5.crypto&&typeof I5.crypto.getRandomValues=="function")return I5.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}vt.randomBytes=Dse});var cE=M(J0=>{y();b();Object.defineProperty(J0,"__esModule",{value:!0});J0.hmac=J0.HMAC=void 0;var aE=kp(),gU=Ta(),Fw=class extends gU.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,aE.hash)(e);let n=(0,gU.toBytes)(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,aE.exists)(this),this.iHash.update(e),this}digestInto(e){(0,aE.exists)(this),(0,aE.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};J0.HMAC=Fw;var qse=(r,e,t)=>new Fw(r,e).update(t).digest();J0.hmac=qse;J0.hmac.create=(r,e)=>new Fw(r,e)});var F5=M(Tp=>{y();b();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.pbkdf2Async=Tp.pbkdf2=void 0;var uE=kp(),Hse=cE(),Op=Ta();function pU(r,e,t,n){(0,uE.hash)(r);let s=(0,Op.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if((0,uE.number)(i),(0,uE.number)(o),(0,uE.number)(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=(0,Op.toBytes)(e),f=(0,Op.toBytes)(t),g=new Uint8Array(o),p=Hse.hmac.create(r,c),A=p._cloneInto().update(f);return{c:i,dkLen:o,asyncTick:a,DK:g,PRF:p,PRFSalt:A}}function mU(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function Gse(r,e,t,n){let{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=pU(r,e,t,n),f,g=new Uint8Array(4),p=(0,Op.createView)(g),A=new Uint8Array(a.outputLen);for(let P=1,C=0;C<i;P++,C+=a.outputLen){let N=o.subarray(C,C+a.outputLen);p.setInt32(0,P,!1),(f=c._cloneInto(f)).update(g).digestInto(A),N.set(A.subarray(0,N.length));for(let U=1;U<s;U++){a._cloneInto(f).update(A).digestInto(A);for(let L=0;L<N.length;L++)N[L]^=A[L]}}return mU(a,c,o,f,A)}Tp.pbkdf2=Gse;async function Kse(r,e,t,n){let{c:s,dkLen:i,asyncTick:o,DK:a,PRF:c,PRFSalt:f}=pU(r,e,t,n),g,p=new Uint8Array(4),A=(0,Op.createView)(p),P=new Uint8Array(c.outputLen);for(let C=1,N=0;N<i;C++,N+=c.outputLen){let U=a.subarray(N,N+c.outputLen);A.setInt32(0,C,!1),(g=f._cloneInto(g)).update(p).digestInto(P),U.set(P.subarray(0,U.length)),await(0,Op.asyncLoop)(s-1,o,()=>{c._cloneInto(g).update(P).digestInto(P);for(let L=0;L<U.length;L++)U[L]^=P[L]})}return mU(c,f,a,g,P)}Tp.pbkdf2Async=Kse});var lE=M(fE=>{y();b();Object.defineProperty(fE,"__esModule",{value:!0});fE.SHA2=void 0;var L5=kp(),Lw=Ta();function Vse(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}var U5=class extends Lw.Hash{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Lw.createView)(this.buffer)}update(e){(0,L5.exists)(this);let{view:t,buffer:n,blockLen:s}=this;e=(0,Lw.toBytes)(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=(0,Lw.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,L5.exists)(this),(0,L5.output)(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let p=o;p<s;p++)t[p]=0;Vse(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,Lw.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,g[p],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}};fE.SHA2=U5});var hE=M(Np=>{y();b();Object.defineProperty(Np,"__esModule",{value:!0});Np.sha224=Np.sha256=void 0;var zse=lE(),ro=Ta(),Jse=(r,e,t)=>r&e^~r&t,Wse=(r,e,t)=>r&e^r&t^e&t,$se=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ll=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dl=new Uint32Array(64),dE=class extends zse.SHA2{constructor(){super(64,32,8,!1),this.A=ll[0]|0,this.B=ll[1]|0,this.C=ll[2]|0,this.D=ll[3]|0,this.E=ll[4]|0,this.F=ll[5]|0,this.G=ll[6]|0,this.H=ll[7]|0}get(){let{A:e,B:t,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,n,s,i,o,a,c]}set(e,t,n,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let p=0;p<16;p++,t+=4)dl[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let A=dl[p-15],P=dl[p-2],C=(0,ro.rotr)(A,7)^(0,ro.rotr)(A,18)^A>>>3,N=(0,ro.rotr)(P,17)^(0,ro.rotr)(P,19)^P>>>10;dl[p]=N+dl[p-7]+C+dl[p-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:f,H:g}=this;for(let p=0;p<64;p++){let A=(0,ro.rotr)(a,6)^(0,ro.rotr)(a,11)^(0,ro.rotr)(a,25),P=g+A+Jse(a,c,f)+$se[p]+dl[p]|0,N=((0,ro.rotr)(n,2)^(0,ro.rotr)(n,13)^(0,ro.rotr)(n,22))+Wse(n,s,i)|0;g=f,f=c,c=a,a=o+P|0,o=i,i=s,s=n,n=P+N|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(n,s,i,o,a,c,f,g)}roundClean(){dl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},D5=class extends dE{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Np.sha256=(0,ro.wrapConstructor)(()=>new dE);Np.sha224=(0,ro.wrapConstructor)(()=>new D5)});var G5=M(Ne=>{y();b();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.add5L=Ne.add5H=Ne.add4H=Ne.add4L=Ne.add3H=Ne.add3L=Ne.add=Ne.rotlBL=Ne.rotlBH=Ne.rotlSL=Ne.rotlSH=Ne.rotr32L=Ne.rotr32H=Ne.rotrBL=Ne.rotrBH=Ne.rotrSL=Ne.rotrSH=Ne.shrSL=Ne.shrSH=Ne.toBig=Ne.split=Ne.fromBig=void 0;var gE=BigInt(2**32-1),q5=BigInt(32);function H5(r,e=!1){return e?{h:Number(r&gE),l:Number(r>>q5&gE)}:{h:Number(r>>q5&gE)|0,l:Number(r&gE)|0}}Ne.fromBig=H5;function yU(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:i,l:o}=H5(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}Ne.split=yU;var bU=(r,e)=>BigInt(r>>>0)<<q5|BigInt(e>>>0);Ne.toBig=bU;var xU=(r,e,t)=>r>>>t;Ne.shrSH=xU;var wU=(r,e,t)=>r<<32-t|e>>>t;Ne.shrSL=wU;var _U=(r,e,t)=>r>>>t|e<<32-t;Ne.rotrSH=_U;var vU=(r,e,t)=>r<<32-t|e>>>t;Ne.rotrSL=vU;var PU=(r,e,t)=>r<<64-t|e>>>t-32;Ne.rotrBH=PU;var AU=(r,e,t)=>r>>>t-32|e<<64-t;Ne.rotrBL=AU;var EU=(r,e)=>e;Ne.rotr32H=EU;var SU=(r,e)=>r;Ne.rotr32L=SU;var kU=(r,e,t)=>r<<t|e>>>32-t;Ne.rotlSH=kU;var OU=(r,e,t)=>e<<t|r>>>32-t;Ne.rotlSL=OU;var TU=(r,e,t)=>e<<t-32|r>>>64-t;Ne.rotlBH=TU;var NU=(r,e,t)=>r<<t-32|e>>>64-t;Ne.rotlBL=NU;function CU(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}Ne.add=CU;var RU=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0);Ne.add3L=RU;var BU=(r,e,t,n)=>e+t+n+(r/2**32|0)|0;Ne.add3H=BU;var IU=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0);Ne.add4L=IU;var MU=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0;Ne.add4H=MU;var jU=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0);Ne.add5L=jU;var FU=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0;Ne.add5H=FU;var Zse={fromBig:H5,split:yU,toBig:bU,shrSH:xU,shrSL:wU,rotrSH:_U,rotrSL:vU,rotrBH:PU,rotrBL:AU,rotr32H:EU,rotr32L:SU,rotlSH:kU,rotlSL:OU,rotlBH:TU,rotlBL:NU,add:CU,add3L:RU,add3H:BU,add4L:IU,add4H:MU,add5H:FU,add5L:jU};Ne.default=Zse});var LU=M(no=>{y();b();Object.defineProperty(no,"__esModule",{value:!0});no.sha384=no.sha512_256=no.sha512_224=no.sha512=no.SHA512=void 0;var Qse=lE(),Pt=G5(),pE=Ta(),[Xse,Yse]=(()=>Pt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),hl=new Uint32Array(80),gl=new Uint32Array(80),W0=class extends Qse.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:f,El:g,Fh:p,Fl:A,Gh:P,Gl:C,Hh:N,Hl:U}=this;return[e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,U]}set(e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,U){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=g|0,this.Fh=p|0,this.Fl=A|0,this.Gh=P|0,this.Gl=C|0,this.Hh=N|0,this.Hl=U|0}process(e,t){for(let H=0;H<16;H++,t+=4)hl[H]=e.getUint32(t),gl[H]=e.getUint32(t+=4);for(let H=16;H<80;H++){let V=hl[H-15]|0,G=gl[H-15]|0,K=Pt.default.rotrSH(V,G,1)^Pt.default.rotrSH(V,G,8)^Pt.default.shrSH(V,G,7),z=Pt.default.rotrSL(V,G,1)^Pt.default.rotrSL(V,G,8)^Pt.default.shrSL(V,G,7),W=hl[H-2]|0,ce=gl[H-2]|0,ie=Pt.default.rotrSH(W,ce,19)^Pt.default.rotrBH(W,ce,61)^Pt.default.shrSH(W,ce,6),Z=Pt.default.rotrSL(W,ce,19)^Pt.default.rotrBL(W,ce,61)^Pt.default.shrSL(W,ce,6),de=Pt.default.add4L(z,Z,gl[H-7],gl[H-16]),S=Pt.default.add4H(de,K,ie,hl[H-7],hl[H-16]);hl[H]=S|0,gl[H]=de|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:f,Dl:g,Eh:p,El:A,Fh:P,Fl:C,Gh:N,Gl:U,Hh:L,Hl:q}=this;for(let H=0;H<80;H++){let V=Pt.default.rotrSH(p,A,14)^Pt.default.rotrSH(p,A,18)^Pt.default.rotrBH(p,A,41),G=Pt.default.rotrSL(p,A,14)^Pt.default.rotrSL(p,A,18)^Pt.default.rotrBL(p,A,41),K=p&P^~p&N,z=A&C^~A&U,W=Pt.default.add5L(q,G,z,Yse[H],gl[H]),ce=Pt.default.add5H(W,L,V,K,Xse[H],hl[H]),ie=W|0,Z=Pt.default.rotrSH(n,s,28)^Pt.default.rotrBH(n,s,34)^Pt.default.rotrBH(n,s,39),de=Pt.default.rotrSL(n,s,28)^Pt.default.rotrBL(n,s,34)^Pt.default.rotrBL(n,s,39),S=n&i^n&a^i&a,u=s&o^s&c^o&c;L=N|0,q=U|0,N=P|0,U=C|0,P=p|0,C=A|0,{h:p,l:A}=Pt.default.add(f|0,g|0,ce|0,ie|0),f=a|0,g=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let l=Pt.default.add3L(ie,de,u);n=Pt.default.add3H(l,ce,Z,S),s=l|0}({h:n,l:s}=Pt.default.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Pt.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Pt.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l:g}=Pt.default.add(this.Dh|0,this.Dl|0,f|0,g|0),{h:p,l:A}=Pt.default.add(this.Eh|0,this.El|0,p|0,A|0),{h:P,l:C}=Pt.default.add(this.Fh|0,this.Fl|0,P|0,C|0),{h:N,l:U}=Pt.default.add(this.Gh|0,this.Gl|0,N|0,U|0),{h:L,l:q}=Pt.default.add(this.Hh|0,this.Hl|0,L|0,q|0),this.set(n,s,i,o,a,c,f,g,p,A,P,C,N,U,L,q)}roundClean(){hl.fill(0),gl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};no.SHA512=W0;var K5=class extends W0{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},V5=class extends W0{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},z5=class extends W0{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};no.sha512=(0,pE.wrapConstructor)(()=>new W0);no.sha512_224=(0,pE.wrapConstructor)(()=>new K5);no.sha512_256=(0,pE.wrapConstructor)(()=>new V5);no.sha384=(0,pE.wrapConstructor)(()=>new z5)});var Dw=M(Bc=>{y();b();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.randomBytes=Bc.pbkdf2Sync=Bc.createHmac=Bc.createHash=void 0;var eie=cE(),tie=F5(),J5=hE(),W5=LU(),Uw=fe();function rie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var UU=rie(),DU=UU.crypto||UU.msCrypto;function nie(r){switch(r){case"sha256":return J5.sha256.create();case"sha512":return W5.sha512.create()}(0,Uw.assertArgument)(!1,"invalid hashing algorithm name","algorithm",r)}Bc.createHash=nie;function sie(r,e){let t={sha256:J5.sha256,sha512:W5.sha512}[r];return(0,Uw.assertArgument)(t!=null,"invalid hmac algorithm","algorithm",r),eie.hmac.create(t,e)}Bc.createHmac=sie;function iie(r,e,t,n,s){let i={sha256:J5.sha256,sha512:W5.sha512}[s];return(0,Uw.assertArgument)(i!=null,"invalid pbkdf2 algorithm","algorithm",s),(0,tie.pbkdf2)(i,r,e,{c:t,dkLen:n})}Bc.pbkdf2Sync=iie;function oie(r){(0,Uw.assert)(DU!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,Uw.assertArgument)(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);let e=new Uint8Array(r);return DU.getRandomValues(e),e}Bc.randomBytes=oie});var KU=M(mE=>{y();b();Object.defineProperty(mE,"__esModule",{value:!0});mE.computeHmac=void 0;var aie=Dw(),$5=fe(),qU=!1,HU=function(r,e,t){return(0,aie.createHmac)(r,e).update(t).digest()},GU=HU;function qw(r,e,t){let n=(0,$5.getBytes)(e,"key"),s=(0,$5.getBytes)(t,"data");return(0,$5.hexlify)(GU(r,n,s))}mE.computeHmac=qw;qw._=HU;qw.lock=function(){qU=!0};qw.register=function(r){if(qU)throw new Error("computeHmac is locked");GU=r};Object.freeze(qw)});var XU=M(lr=>{y();b();Object.defineProperty(lr,"__esModule",{value:!0});lr.shake256=lr.shake128=lr.keccak_512=lr.keccak_384=lr.keccak_256=lr.keccak_224=lr.sha3_512=lr.sha3_384=lr.sha3_256=lr.sha3_224=lr.Keccak=lr.keccakP=void 0;var Cp=kp(),Kw=G5(),Gw=Ta(),[JU,WU,$U]=[[],[],[]],cie=BigInt(0),Hw=BigInt(1),uie=BigInt(2),fie=BigInt(7),lie=BigInt(256),die=BigInt(113);for(let r=0,e=Hw,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],JU.push(2*(5*n+t)),WU.push((r+1)*(r+2)/2%64);let s=cie;for(let i=0;i<7;i++)e=(e<<Hw^(e>>fie)*die)%lie,e&uie&&(s^=Hw<<(Hw<<BigInt(i))-Hw);$U.push(s)}var[hie,gie]=(0,Kw.split)($U,!0),VU=(r,e,t)=>t>32?(0,Kw.rotlBH)(r,e,t):(0,Kw.rotlSH)(r,e,t),zU=(r,e,t)=>t>32?(0,Kw.rotlBL)(r,e,t):(0,Kw.rotlSL)(r,e,t);function ZU(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,f=t[c],g=t[c+1],p=VU(f,g,1)^t[a],A=zU(f,g,1)^t[a+1];for(let P=0;P<50;P+=10)r[o+P]^=p,r[o+P+1]^=A}let s=r[2],i=r[3];for(let o=0;o<24;o++){let a=WU[o],c=VU(s,i,a),f=zU(s,i,a),g=JU[o];s=r[g],i=r[g+1],r[g]=c,r[g+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=hie[n],r[1]^=gie[n]}t.fill(0)}lr.keccakP=ZU;var $0=class extends Gw.Hash{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Cp.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Gw.u32)(this.state)}keccak(){ZU(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,Cp.exists)(this);let{blockLen:t,state:n}=this;e=(0,Gw.toBytes)(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,Cp.exists)(this,!1),(0,Cp.bytes)(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Cp.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Cp.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new $0(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};lr.Keccak=$0;var pl=(r,e,t)=>(0,Gw.wrapConstructor)(()=>new $0(e,r,t));lr.sha3_224=pl(6,144,224/8);lr.sha3_256=pl(6,136,256/8);lr.sha3_384=pl(6,104,384/8);lr.sha3_512=pl(6,72,512/8);lr.keccak_224=pl(1,144,224/8);lr.keccak_256=pl(1,136,256/8);lr.keccak_384=pl(1,104,384/8);lr.keccak_512=pl(1,72,512/8);var QU=(r,e,t)=>(0,Gw.wrapXOFConstructorWithOpts)((n={})=>new $0(e,r,n.dkLen===void 0?t:n.dkLen,!0));lr.shake128=QU(31,168,128/8);lr.shake256=QU(31,136,256/8)});var nD=M(yE=>{y();b();Object.defineProperty(yE,"__esModule",{value:!0});yE.keccak256=void 0;var pie=XU(),YU=fe(),eD=!1,tD=function(r){return(0,pie.keccak_256)(r)},rD=tD;function Vw(r){let e=(0,YU.getBytes)(r,"data");return(0,YU.hexlify)(rD(e))}yE.keccak256=Vw;Vw._=tD;Vw.lock=function(){eD=!0};Vw.register=function(r){if(eD)throw new TypeError("keccak256 is locked");rD=r};Object.freeze(Vw)});var aD=M(Rp=>{y();b();Object.defineProperty(Rp,"__esModule",{value:!0});Rp.ripemd160=Rp.RIPEMD160=void 0;var mie=lE(),yie=Ta(),bie=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),iD=Uint8Array.from({length:16},(r,e)=>e),xie=iD.map(r=>(9*r+5)%16),Z5=[iD],Q5=[xie];for(let r=0;r<4;r++)for(let e of[Z5,Q5])e.push(e[r].map(t=>bie[t]));var oD=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),wie=Z5.map((r,e)=>r.map(t=>oD[e][t])),_ie=Q5.map((r,e)=>r.map(t=>oD[e][t])),vie=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Pie=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),bE=(r,e)=>r<<e|r>>>32-e;function sD(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}var xE=new Uint32Array(16),wE=class extends mie.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let P=0;P<16;P++,t+=4)xE[P]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,f=this.h3|0,g=f,p=this.h4|0,A=p;for(let P=0;P<5;P++){let C=4-P,N=vie[P],U=Pie[P],L=Z5[P],q=Q5[P],H=wie[P],V=_ie[P];for(let G=0;G<16;G++){let K=bE(n+sD(P,i,a,f)+xE[L[G]]+N,H[G])+p|0;n=p,p=f,f=bE(a,10)|0,a=i,i=K}for(let G=0;G<16;G++){let K=bE(s+sD(C,o,c,g)+xE[q[G]]+U,V[G])+A|0;s=A,A=g,g=bE(c,10)|0,c=o,o=K}}this.set(this.h1+a+g|0,this.h2+f+A|0,this.h3+p+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){xE.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Rp.RIPEMD160=wE;Rp.ripemd160=(0,yie.wrapConstructor)(()=>new wE)});var dD=M(_E=>{y();b();Object.defineProperty(_E,"__esModule",{value:!0});_E.ripemd160=void 0;var Aie=aD(),cD=fe(),uD=!1,fD=function(r){return(0,Aie.ripemd160)(r)},lD=fD;function zw(r){let e=(0,cD.getBytes)(r,"data");return(0,cD.hexlify)(lD(e))}_E.ripemd160=zw;zw._=fD;zw.lock=function(){uD=!0};zw.register=function(r){if(uD)throw new TypeError("ripemd160 is locked");lD=r};Object.freeze(zw)});var mD=M(vE=>{y();b();Object.defineProperty(vE,"__esModule",{value:!0});vE.pbkdf2=void 0;var Eie=Dw(),X5=fe(),hD=!1,gD=function(r,e,t,n,s){return(0,Eie.pbkdf2Sync)(r,e,t,n,s)},pD=gD;function Jw(r,e,t,n,s){let i=(0,X5.getBytes)(r,"password"),o=(0,X5.getBytes)(e,"salt");return(0,X5.hexlify)(pD(i,o,t,n,s))}vE.pbkdf2=Jw;Jw._=gD;Jw.lock=function(){hD=!0};Jw.register=function(r){if(hD)throw new Error("pbkdf2 is locked");pD=r};Object.freeze(Jw)});var wD=M(PE=>{y();b();Object.defineProperty(PE,"__esModule",{value:!0});PE.randomBytes=void 0;var Sie=Dw(),yD=!1,bD=function(r){return new Uint8Array((0,Sie.randomBytes)(r))},xD=bD;function Ww(r){return xD(r)}PE.randomBytes=Ww;Ww._=bD;Ww.lock=function(){yD=!0};Ww.register=function(r){if(yD)throw new Error("randomBytes is locked");xD=r};Object.freeze(Ww)});var SD=M(jp=>{y();b();Object.defineProperty(jp,"__esModule",{value:!0});jp.scryptAsync=jp.scrypt=void 0;var Bp=kp(),vD=hE(),PD=F5(),Ip=Ta(),Wt=(r,e)=>r<<e|r>>>32-e;function _D(r,e,t,n,s,i){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],f=r[e++]^t[n++],g=r[e++]^t[n++],p=r[e++]^t[n++],A=r[e++]^t[n++],P=r[e++]^t[n++],C=r[e++]^t[n++],N=r[e++]^t[n++],U=r[e++]^t[n++],L=r[e++]^t[n++],q=r[e++]^t[n++],H=r[e++]^t[n++],V=r[e++]^t[n++],G=r[e++]^t[n++],K=o,z=a,W=c,ce=f,ie=g,Z=p,de=A,S=P,u=C,l=N,m=U,x=L,_=q,k=H,R=V,v=G;for(let d=0;d<8;d+=2)ie^=Wt(K+_|0,7),u^=Wt(ie+K|0,9),_^=Wt(u+ie|0,13),K^=Wt(_+u|0,18),l^=Wt(Z+z|0,7),k^=Wt(l+Z|0,9),z^=Wt(k+l|0,13),Z^=Wt(z+k|0,18),R^=Wt(m+de|0,7),W^=Wt(R+m|0,9),de^=Wt(W+R|0,13),m^=Wt(de+W|0,18),ce^=Wt(v+x|0,7),S^=Wt(ce+v|0,9),x^=Wt(S+ce|0,13),v^=Wt(x+S|0,18),z^=Wt(K+ce|0,7),W^=Wt(z+K|0,9),ce^=Wt(W+z|0,13),K^=Wt(ce+W|0,18),de^=Wt(Z+ie|0,7),S^=Wt(de+Z|0,9),ie^=Wt(S+de|0,13),Z^=Wt(ie+S|0,18),x^=Wt(m+l|0,7),u^=Wt(x+m|0,9),l^=Wt(u+x|0,13),m^=Wt(l+u|0,18),_^=Wt(v+R|0,7),k^=Wt(_+v|0,9),R^=Wt(k+_|0,13),v^=Wt(R+k|0,18);s[i++]=o+K|0,s[i++]=a+z|0,s[i++]=c+W|0,s[i++]=f+ce|0,s[i++]=g+ie|0,s[i++]=p+Z|0,s[i++]=A+de|0,s[i++]=P+S|0,s[i++]=C+u|0,s[i++]=N+l|0,s[i++]=U+m|0,s[i++]=L+x|0,s[i++]=q+_|0,s[i++]=H+k|0,s[i++]=V+R|0,s[i++]=G+v|0}function Mp(r,e,t,n,s){let i=n+0,o=n+16*s;for(let a=0;a<16;a++)t[o+a]=r[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)_D(t,o,r,e,t,i),a>0&&(o+=16),_D(t,i,r,e+=16,t,o)}function AD(r,e,t){let n=(0,Ip.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:f,onProgress:g}=n;if((0,Bp.number)(s),(0,Bp.number)(i),(0,Bp.number)(o),(0,Bp.number)(a),(0,Bp.number)(c),(0,Bp.number)(f),g!==void 0&&typeof g!="function")throw new Error("progressCb should be function");let p=128*i,A=p/4;if(s<=1||(s&s-1)!==0||s>=2**(p/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let P=p*(s+o);if(P>f)throw new Error(`Scrypt: parameters too large, ${P} (128 * r * (N + p)) > ${f} (maxmem)`);let C=(0,PD.pbkdf2)(vD.sha256,r,e,{c:1,dkLen:p*o}),N=(0,Ip.u32)(C),U=(0,Ip.u32)(new Uint8Array(p*s)),L=(0,Ip.u32)(new Uint8Array(p)),q=()=>{};if(g){let H=2*s*o,V=Math.max(Math.floor(H/1e4),1),G=0;q=()=>{G++,g&&(!(G%V)||G===H)&&g(G/H)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:A,V:U,B32:N,B:C,tmp:L,blockMixCb:q,asyncTick:c}}function ED(r,e,t,n,s){let i=(0,PD.pbkdf2)(vD.sha256,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function kie(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A}=AD(r,e,t);for(let P=0;P<i;P++){let C=a*P;for(let N=0;N<a;N++)c[N]=f[C+N];for(let N=0,U=0;N<n-1;N++)Mp(c,U,c,U+=a,s),A();Mp(c,(n-1)*a,f,C,s),A();for(let N=0;N<n;N++){let U=f[C+a-16]%n;for(let L=0;L<a;L++)p[L]=f[C+L]^c[U*a+L];Mp(p,0,f,C,s),A()}}return ED(r,o,g,c,p)}jp.scrypt=kie;async function Oie(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A,asyncTick:P}=AD(r,e,t);for(let C=0;C<i;C++){let N=a*C;for(let L=0;L<a;L++)c[L]=f[N+L];let U=0;await(0,Ip.asyncLoop)(n-1,P,()=>{Mp(c,U,c,U+=a,s),A()}),Mp(c,(n-1)*a,f,N,s),A(),await(0,Ip.asyncLoop)(n,P,()=>{let L=f[N+a-16]%n;for(let q=0;q<a;q++)p[q]=f[N+q]^c[L*a+q];Mp(p,0,f,N,s),A()})}return ED(r,o,g,c,p)}jp.scryptAsync=Oie});var ID=M(Lp=>{y();b();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.scryptSync=Lp.scrypt=void 0;var kD=SD(),Fp=fe(),OD=!1,TD=!1,ND=async function(r,e,t,n,s,i,o){return await(0,kD.scryptAsync)(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:o})},CD=function(r,e,t,n,s,i){return(0,kD.scrypt)(r,e,{N:t,r:n,p:s,dkLen:i})},RD=ND,BD=CD;async function $w(r,e,t,n,s,i,o){let a=(0,Fp.getBytes)(r,"passwd"),c=(0,Fp.getBytes)(e,"salt");return(0,Fp.hexlify)(await RD(a,c,t,n,s,i,o))}Lp.scrypt=$w;$w._=ND;$w.lock=function(){TD=!0};$w.register=function(r){if(TD)throw new Error("scrypt is locked");RD=r};Object.freeze($w);function Zw(r,e,t,n,s,i){let o=(0,Fp.getBytes)(r,"passwd"),a=(0,Fp.getBytes)(e,"salt");return(0,Fp.hexlify)(BD(o,a,t,n,s,i))}Lp.scryptSync=Zw;Zw._=CD;Zw.lock=function(){OD=!0};Zw.register=function(r){if(OD)throw new Error("scryptSync is locked");BD=r};Object.freeze(Zw)});var HD=M(Up=>{y();b();Object.defineProperty(Up,"__esModule",{value:!0});Up.sha512=Up.sha256=void 0;var MD=Dw(),AE=fe(),jD=function(r){return(0,MD.createHash)("sha256").update(r).digest()},FD=function(r){return(0,MD.createHash)("sha512").update(r).digest()},LD=jD,UD=FD,DD=!1,qD=!1;function Dp(r){let e=(0,AE.getBytes)(r,"data");return(0,AE.hexlify)(LD(e))}Up.sha256=Dp;Dp._=jD;Dp.lock=function(){DD=!0};Dp.register=function(r){if(DD)throw new Error("sha256 is locked");LD=r};Object.freeze(Dp);function EE(r){let e=(0,AE.getBytes)(r,"data");return(0,AE.hexlify)(UD(e))}Up.sha512=EE;EE._=FD;EE.lock=function(){qD=!0};EE.register=function(r){if(qD)throw new Error("sha512 is locked");UD=r};Object.freeze(Dp)});var Z0=M(At=>{y();b();Object.defineProperty(At,"__esModule",{value:!0});At.validateObject=At.createHmacDrbg=At.bitMask=At.bitSet=At.bitGet=At.bitLen=At.utf8ToBytes=At.equalBytes=At.concatBytes=At.ensureBytes=At.numberToVarBytesBE=At.numberToBytesLE=At.numberToBytesBE=At.bytesToNumberLE=At.bytesToNumberBE=At.hexToBytes=At.hexToNumber=At.numberToHexUnpadded=At.bytesToHex=void 0;var KD=BigInt(0),SE=BigInt(1),Tie=BigInt(2),kE=r=>r instanceof Uint8Array,Nie=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function eN(r){if(!kE(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Nie[r[t]];return e}At.bytesToHex=eN;function VD(r){let e=r.toString(16);return e.length&1?`0${e}`:e}At.numberToHexUnpadded=VD;function tN(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}At.hexToNumber=tN;function OE(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}At.hexToBytes=OE;function Cie(r){return tN(eN(r))}At.bytesToNumberBE=Cie;function Rie(r){if(!kE(r))throw new Error("Uint8Array expected");return tN(eN(Uint8Array.from(r).reverse()))}At.bytesToNumberLE=Rie;function zD(r,e){return OE(r.toString(16).padStart(e*2,"0"))}At.numberToBytesBE=zD;function Bie(r,e){return zD(r,e).reverse()}At.numberToBytesLE=Bie;function Iie(r){return OE(VD(r))}At.numberToVarBytesBE=Iie;function Mie(r,e,t){let n;if(typeof e=="string")try{n=OE(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(kE(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}At.ensureBytes=Mie;function JD(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!kE(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}At.concatBytes=JD;function jie(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}At.equalBytes=jie;function Fie(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}At.utf8ToBytes=Fie;function Lie(r){let e;for(e=0;r>KD;r>>=SE,e+=1);return e}At.bitLen=Lie;function Uie(r,e){return r>>BigInt(e)&SE}At.bitGet=Uie;var Die=(r,e,t)=>r|(t?SE:KD)<<BigInt(e);At.bitSet=Die;var qie=r=>(Tie<<BigInt(r-1))-SE;At.bitMask=qie;var Y5=r=>new Uint8Array(r),GD=r=>Uint8Array.from(r);function Hie(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Y5(r),s=Y5(r),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...p)=>t(s,n,...p),c=(p=Y5())=>{s=a(GD([0]),p),n=a(),p.length!==0&&(s=a(GD([1]),p),n=a())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,A=[];for(;p<e;){n=a();let P=n.slice();A.push(P),p+=n.length}return JD(...A)};return(p,A)=>{o(),c(p);let P;for(;!(P=A(f()));)c();return o(),P}}At.createHmacDrbg=Hie;var Gie={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Kie(r,e,t={}){let n=(s,i,o)=>{let a=Gie[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(t))n(s,i,!0);return r}At.validateObject=Kie});var Qw=M(De=>{y();b();Object.defineProperty(De,"__esModule",{value:!0});De.mapHashToField=De.getMinHashLength=De.getFieldBytesLength=De.hashToPrivateScalar=De.FpSqrtEven=De.FpSqrtOdd=De.Field=De.nLength=De.FpIsSquare=De.FpDiv=De.FpInvertBatch=De.FpPow=De.validateField=De.isNegativeLE=De.FpSqrt=De.tonelliShanks=De.invert=De.pow2=De.pow=De.mod=void 0;var Ci=Z0(),wn=BigInt(0),ur=BigInt(1),ml=BigInt(2),Vie=BigInt(3),rN=BigInt(4),WD=BigInt(5),$D=BigInt(8),zie=BigInt(9),Jie=BigInt(16);function Ni(r,e){let t=r%e;return t>=wn?t:e+t}De.mod=Ni;function ZD(r,e,t){if(t<=wn||e<wn)throw new Error("Expected power/modulo > 0");if(t===ur)return wn;let n=ur;for(;e>wn;)e&ur&&(n=n*r%t),r=r*r%t,e>>=ur;return n}De.pow=ZD;function Wie(r,e,t){let n=r;for(;e-- >wn;)n*=n,n%=t;return n}De.pow2=Wie;function TE(r,e){if(r===wn||e<=wn)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Ni(r,e),n=e,s=wn,i=ur,o=ur,a=wn;for(;t!==wn;){let f=n/t,g=n%t,p=s-o*f,A=i-a*f;n=t,t=g,s=o,i=a,o=p,a=A}if(n!==ur)throw new Error("invert: does not exist");return Ni(s,e)}De.invert=TE;function QD(r){let e=(r-ur)/ml,t,n,s;for(t=r-ur,n=0;t%ml===wn;t/=ml,n++);for(s=ml;s<r&&ZD(s,e,r)!==r-ur;s++);if(n===1){let o=(r+ur)/rN;return function(c,f){let g=c.pow(f,o);if(!c.eql(c.sqr(g),f))throw new Error("Cannot find square root");return g}}let i=(t+ur)/ml;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,g=a.pow(a.mul(a.ONE,s),t),p=a.pow(c,i),A=a.pow(c,t);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let P=1;for(let N=a.sqr(A);P<f&&!a.eql(N,a.ONE);P++)N=a.sqr(N);let C=a.pow(g,ur<<BigInt(f-P-1));g=a.sqr(C),p=a.mul(p,C),A=a.mul(A,g),f=P}return p}}De.tonelliShanks=QD;function XD(r){if(r%rN===Vie){let e=(r+ur)/rN;return function(n,s){let i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%$D===WD){let e=(r-WD)/$D;return function(n,s){let i=n.mul(s,ml),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,ml),o),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f}}return r%Jie,QD(r)}De.FpSqrt=XD;var $ie=(r,e)=>(Ni(r,e)&ur)===ur;De.isNegativeLE=$ie;var Zie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qie(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Zie.reduce((n,s)=>(n[s]="function",n),e);return(0,Ci.validateObject)(r,t)}De.validateField=Qie;function YD(r,e,t){if(t<wn)throw new Error("Expected power > 0");if(t===wn)return r.ONE;if(t===ur)return e;let n=r.ONE,s=e;for(;t>wn;)t&ur&&(n=r.mul(n,s)),s=r.sqr(s),t>>=ur;return n}De.FpPow=YD;function eq(r,e){let t=new Array(e.length),n=e.reduce((i,o,a)=>r.is0(o)?i:(t[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,a)=>r.is0(o)?i:(t[a]=r.mul(i,t[a]),r.mul(i,o)),s),t}De.FpInvertBatch=eq;function Xie(r,e,t){return r.mul(e,typeof t=="bigint"?TE(t,r.ORDER):r.inv(t))}De.FpDiv=Xie;function Yie(r){let e=(r.ORDER-ur)/ml;return t=>{let n=r.pow(t,e);return r.eql(n,r.ZERO)||r.eql(n,r.ONE)}}De.FpIsSquare=Yie;function nN(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}De.nLength=nN;function eoe(r,e,t=!1,n={}){if(r<=wn)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:s,nByteLength:i}=nN(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=XD(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:(0,Ci.bitMask)(s),ZERO:wn,ONE:ur,create:c=>Ni(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return wn<=c&&c<r},is0:c=>c===wn,isOdd:c=>(c&ur)===ur,neg:c=>Ni(-c,r),eql:(c,f)=>c===f,sqr:c=>Ni(c*c,r),add:(c,f)=>Ni(c+f,r),sub:(c,f)=>Ni(c-f,r),mul:(c,f)=>Ni(c*f,r),pow:(c,f)=>YD(a,c,f),div:(c,f)=>Ni(c*TE(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>TE(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>eq(a,c),cmov:(c,f,g)=>g?f:c,toBytes:c=>t?(0,Ci.numberToBytesLE)(c,i):(0,Ci.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,Ci.bytesToNumberLE)(c):(0,Ci.bytesToNumberBE)(c)}});return Object.freeze(a)}De.Field=eoe;function toe(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?t:r.neg(t)}De.FpSqrtOdd=toe;function roe(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?r.neg(t):t}De.FpSqrtEven=roe;function noe(r,e,t=!1){r=(0,Ci.ensureBytes)("privateHash",r);let n=r.length,s=nN(e).nByteLength+8;if(s<24||n<s||n>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${n}`);let i=t?(0,Ci.bytesToNumberLE)(r):(0,Ci.bytesToNumberBE)(r);return Ni(i,e-ur)+ur}De.hashToPrivateScalar=noe;function sN(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}De.getFieldBytesLength=sN;function tq(r){let e=sN(r);return e+Math.ceil(e/2)}De.getMinHashLength=tq;function soe(r,e,t=!1){let n=r.length,s=sN(e),i=tq(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let o=t?(0,Ci.bytesToNumberBE)(r):(0,Ci.bytesToNumberLE)(r),a=Ni(o,e-ur)+ur;return t?(0,Ci.numberToBytesLE)(a,s):(0,Ci.numberToBytesBE)(a,s)}De.mapHashToField=soe});var nq=M(qp=>{y();b();Object.defineProperty(qp,"__esModule",{value:!0});qp.validateBasic=qp.wNAF=void 0;var rq=Qw(),ioe=Z0(),ooe=BigInt(0),iN=BigInt(1);function aoe(r,e){let t=(s,i)=>{let o=i.negate();return s?o:i},n=s=>{let i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=r.ZERO,a=s;for(;i>ooe;)i&iN&&(o=o.add(a)),a=a.double(),i>>=iN;return o},precomputeWindow(s,i){let{windows:o,windowSize:a}=n(i),c=[],f=s,g=f;for(let p=0;p<o;p++){g=f,c.push(g);for(let A=1;A<a;A++)g=g.add(f),c.push(g);f=g.double()}return c},wNAF(s,i,o){let{windows:a,windowSize:c}=n(s),f=r.ZERO,g=r.BASE,p=BigInt(2**s-1),A=2**s,P=BigInt(s);for(let C=0;C<a;C++){let N=C*c,U=Number(o&p);o>>=P,U>c&&(U-=A,o+=iN);let L=N,q=N+Math.abs(U)-1,H=C%2!==0,V=U<0;U===0?g=g.add(t(H,i[L])):f=f.add(t(V,i[q]))}return{p:f,f:g}},wNAFCached(s,i,o,a){let c=s._WINDOW_SIZE||1,f=i.get(s);return f||(f=this.precomputeWindow(s,c),c!==1&&i.set(s,a(f))),this.wNAF(c,f,o)}}}qp.wNAF=aoe;function coe(r){return(0,rq.validateField)(r.Fp),(0,ioe.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,rq.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}qp.validateBasic=coe});var aN=M(vn=>{y();b();Object.defineProperty(vn,"__esModule",{value:!0});vn.mapToCurveSimpleSWU=vn.SWUFpSqrtRatio=vn.weierstrass=vn.weierstrassPoints=vn.DER=void 0;var Hp=Qw(),_n=Z0(),Ic=Z0(),oN=nq();function uoe(r){let e=(0,oN.validateBasic)(r);_n.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:foe,hexToBytes:loe}=_n;vn.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=vn.DER;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:foe(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=vn.DER,t=typeof r=="string"?loe(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:s,l:i}=vn.DER._parseInt(t.subarray(2)),{d:o,l:a}=vn.DER._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let g=f.toString(16);return g.length&1?`0${g}`:g},n=e(t(r.s)),s=e(t(r.r)),i=n.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${n}`}};var Na=BigInt(0),Gr=BigInt(1),yl=BigInt(2),NE=BigInt(3),sq=BigInt(4);function iq(r){let e=uoe(r),{Fp:t}=e,n=e.toBytes||((C,N,U)=>{let L=N.toAffine();return _n.concatBytes(Uint8Array.from([4]),t.toBytes(L.x),t.toBytes(L.y))}),s=e.fromBytes||(C=>{let N=C.subarray(1),U=t.fromBytes(N.subarray(0,t.BYTES)),L=t.fromBytes(N.subarray(t.BYTES,2*t.BYTES));return{x:U,y:L}});function i(C){let{a:N,b:U}=e,L=t.sqr(C),q=t.mul(L,C);return t.add(t.add(q,t.mul(C,N)),U)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(C){return typeof C=="bigint"&&Na<C&&C<e.n}function a(C){if(!o(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(C){let{allowedPrivateKeyLengths:N,nByteLength:U,wrapPrivateKey:L,n:q}=e;if(N&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=_n.bytesToHex(C)),typeof C!="string"||!N.includes(C.length))throw new Error("Invalid key");C=C.padStart(U*2,"0")}let H;try{H=typeof C=="bigint"?C:_n.bytesToNumberBE((0,Ic.ensureBytes)("private key",C,U))}catch{throw new Error(`private key must be ${U} bytes, hex or bigint, not ${typeof C}`)}return L&&(H=Hp.mod(H,q)),a(H),H}let f=new Map;function g(C){if(!(C instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(N,U,L){if(this.px=N,this.py=U,this.pz=L,N==null||!t.isValid(N))throw new Error("x required");if(U==null||!t.isValid(U))throw new Error("y required");if(L==null||!t.isValid(L))throw new Error("z required")}static fromAffine(N){let{x:U,y:L}=N||{};if(!N||!t.isValid(U)||!t.isValid(L))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");let q=H=>t.eql(H,t.ZERO);return q(U)&&q(L)?p.ZERO:new p(U,L,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let U=t.invertBatch(N.map(L=>L.pz));return N.map((L,q)=>L.toAffine(U[q])).map(p.fromAffine)}static fromHex(N){let U=p.fromAffine(s((0,Ic.ensureBytes)("pointHex",N)));return U.assertValidity(),U}static fromPrivateKey(N){return p.BASE.multiply(c(N))}_setWindowSize(N){this._WINDOW_SIZE=N,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:U}=this.toAffine();if(!t.isValid(N)||!t.isValid(U))throw new Error("bad point: x or y not FE");let L=t.sqr(U),q=i(N);if(!t.eql(L,q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(t.isOdd)return!t.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);let{px:U,py:L,pz:q}=this,{px:H,py:V,pz:G}=N,K=t.eql(t.mul(U,G),t.mul(H,q)),z=t.eql(t.mul(L,G),t.mul(V,q));return K&&z}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){let{a:N,b:U}=e,L=t.mul(U,NE),{px:q,py:H,pz:V}=this,G=t.ZERO,K=t.ZERO,z=t.ZERO,W=t.mul(q,q),ce=t.mul(H,H),ie=t.mul(V,V),Z=t.mul(q,H);return Z=t.add(Z,Z),z=t.mul(q,V),z=t.add(z,z),G=t.mul(N,z),K=t.mul(L,ie),K=t.add(G,K),G=t.sub(ce,K),K=t.add(ce,K),K=t.mul(G,K),G=t.mul(Z,G),z=t.mul(L,z),ie=t.mul(N,ie),Z=t.sub(W,ie),Z=t.mul(N,Z),Z=t.add(Z,z),z=t.add(W,W),W=t.add(z,W),W=t.add(W,ie),W=t.mul(W,Z),K=t.add(K,W),ie=t.mul(H,V),ie=t.add(ie,ie),W=t.mul(ie,Z),G=t.sub(G,W),z=t.mul(ie,ce),z=t.add(z,z),z=t.add(z,z),new p(G,K,z)}add(N){g(N);let{px:U,py:L,pz:q}=this,{px:H,py:V,pz:G}=N,K=t.ZERO,z=t.ZERO,W=t.ZERO,ce=e.a,ie=t.mul(e.b,NE),Z=t.mul(U,H),de=t.mul(L,V),S=t.mul(q,G),u=t.add(U,L),l=t.add(H,V);u=t.mul(u,l),l=t.add(Z,de),u=t.sub(u,l),l=t.add(U,q);let m=t.add(H,G);return l=t.mul(l,m),m=t.add(Z,S),l=t.sub(l,m),m=t.add(L,q),K=t.add(V,G),m=t.mul(m,K),K=t.add(de,S),m=t.sub(m,K),W=t.mul(ce,l),K=t.mul(ie,S),W=t.add(K,W),K=t.sub(de,W),W=t.add(de,W),z=t.mul(K,W),de=t.add(Z,Z),de=t.add(de,Z),S=t.mul(ce,S),l=t.mul(ie,l),de=t.add(de,S),S=t.sub(Z,S),S=t.mul(ce,S),l=t.add(l,S),Z=t.mul(de,l),z=t.add(z,Z),Z=t.mul(m,l),K=t.mul(u,K),K=t.sub(K,Z),Z=t.mul(u,de),W=t.mul(m,W),W=t.add(W,Z),new p(K,z,W)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return P.wNAFCached(this,f,N,U=>{let L=t.invertBatch(U.map(q=>q.pz));return U.map((q,H)=>q.toAffine(L[H])).map(p.fromAffine)})}multiplyUnsafe(N){let U=p.ZERO;if(N===Na)return U;if(a(N),N===Gr)return this;let{endo:L}=e;if(!L)return P.unsafeLadder(this,N);let{k1neg:q,k1:H,k2neg:V,k2:G}=L.splitScalar(N),K=U,z=U,W=this;for(;H>Na||G>Na;)H&Gr&&(K=K.add(W)),G&Gr&&(z=z.add(W)),W=W.double(),H>>=Gr,G>>=Gr;return q&&(K=K.negate()),V&&(z=z.negate()),z=new p(t.mul(z.px,L.beta),z.py,z.pz),K.add(z)}multiply(N){a(N);let U=N,L,q,{endo:H}=e;if(H){let{k1neg:V,k1:G,k2neg:K,k2:z}=H.splitScalar(U),{p:W,f:ce}=this.wNAF(G),{p:ie,f:Z}=this.wNAF(z);W=P.constTimeNegate(V,W),ie=P.constTimeNegate(K,ie),ie=new p(t.mul(ie.px,H.beta),ie.py,ie.pz),L=W.add(ie),q=ce.add(Z)}else{let{p:V,f:G}=this.wNAF(U);L=V,q=G}return p.normalizeZ([L,q])[0]}multiplyAndAddUnsafe(N,U,L){let q=p.BASE,H=(G,K)=>K===Na||K===Gr||!G.equals(q)?G.multiplyUnsafe(K):G.multiply(K),V=H(this,U).add(H(N,L));return V.is0()?void 0:V}toAffine(N){let{px:U,py:L,pz:q}=this,H=this.is0();N==null&&(N=H?t.ONE:t.inv(q));let V=t.mul(U,N),G=t.mul(L,N),K=t.mul(q,N);if(H)return{x:t.ZERO,y:t.ZERO};if(!t.eql(K,t.ONE))throw new Error("invZ was invalid");return{x:V,y:G}}isTorsionFree(){let{h:N,isTorsionFree:U}=e;if(N===Gr)return!0;if(U)return U(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:U}=e;return N===Gr?this:U?U(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(p,this,N)}toHex(N=!0){return _n.bytesToHex(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);let A=e.nBitLength,P=(0,oN.wNAF)(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}vn.weierstrassPoints=iq;function doe(r){let e=(0,oN.validateBasic)(r);return _n.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function hoe(r){let e=doe(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(l){return Na<l&&l<t.ORDER}function a(l){return Hp.mod(l,n)}function c(l){return Hp.invert(l,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:A}=iq({...e,toBytes(l,m,x){let _=m.toAffine(),k=t.toBytes(_.x),R=_n.concatBytes;return x?R(Uint8Array.from([m.hasEvenY()?2:3]),k):R(Uint8Array.from([4]),k,t.toBytes(_.y))},fromBytes(l){let m=l.length,x=l[0],_=l.subarray(1);if(m===s&&(x===2||x===3)){let k=_n.bytesToNumberBE(_);if(!o(k))throw new Error("Point is not on curve");let R=p(k),v=t.sqrt(R),d=(v&Gr)===Gr;return(x&1)===1!==d&&(v=t.neg(v)),{x:k,y:v}}else if(m===i&&x===4){let k=t.fromBytes(_.subarray(0,t.BYTES)),R=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:k,y:R}}else throw new Error(`Point of length ${m} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),P=l=>_n.bytesToHex(_n.numberToBytesBE(l,e.nByteLength));function C(l){let m=n>>Gr;return l>m}function N(l){return C(l)?a(-l):l}let U=(l,m,x)=>_n.bytesToNumberBE(l.slice(m,x));class L{constructor(m,x,_){this.r=m,this.s=x,this.recovery=_,this.assertValidity()}static fromCompact(m){let x=e.nByteLength;return m=(0,Ic.ensureBytes)("compactSignature",m,x*2),new L(U(m,0,x),U(m,x,2*x))}static fromDER(m){let{r:x,s:_}=vn.DER.toSig((0,Ic.ensureBytes)("DER",m));return new L(x,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new L(this.r,this.s,m)}recoverPublicKey(m){let{r:x,s:_,recovery:k}=this,R=z((0,Ic.ensureBytes)("msgHash",m));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let v=k===2||k===3?x+e.n:x;if(v>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let d=(k&1)===0?"02":"03",E=f.fromHex(d+P(v)),J=c(v),$=a(-R*J),X=a(_*J),te=f.BASE.multiplyAndAddUnsafe(E,$,X);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new L(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return _n.hexToBytes(this.toDERHex())}toDERHex(){return vn.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _n.hexToBytes(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}let q={isValidPrivateKey(l){try{return g(l),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let l=Hp.getMinHashLength(e.n);return Hp.mapHashToField(e.randomBytes(l),e.n)},precompute(l=8,m=f.BASE){return m._setWindowSize(l),m.multiply(BigInt(3)),m}};function H(l,m=!0){return f.fromPrivateKey(l).toRawBytes(m)}function V(l){let m=l instanceof Uint8Array,x=typeof l=="string",_=(m||x)&&l.length;return m?_===s||_===i:x?_===2*s||_===2*i:l instanceof f}function G(l,m,x=!0){if(V(l))throw new Error("first arg must be private key");if(!V(m))throw new Error("second arg must be public key");return f.fromHex(m).multiply(g(l)).toRawBytes(x)}let K=e.bits2int||function(l){let m=_n.bytesToNumberBE(l),x=l.length*8-e.nBitLength;return x>0?m>>BigInt(x):m},z=e.bits2int_modN||function(l){return a(K(l))},W=_n.bitMask(e.nBitLength);function ce(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(Na<=l&&l<W))throw new Error(`bigint expected < 2^${e.nBitLength}`);return _n.numberToBytesBE(l,e.nByteLength)}function ie(l,m,x=Z){if(["recovered","canonical"].some(ge=>ge in x))throw new Error("sign() legacy options not supported");let{hash:_,randomBytes:k}=e,{lowS:R,prehash:v,extraEntropy:d}=x;R==null&&(R=!0),l=(0,Ic.ensureBytes)("msgHash",l),v&&(l=(0,Ic.ensureBytes)("prehashed msgHash",_(l)));let E=z(l),J=g(m),$=[ce(J),ce(E)];if(d!=null){let ge=d===!0?k(t.BYTES):d;$.push((0,Ic.ensureBytes)("extraEntropy",ge))}let X=_n.concatBytes(...$),te=E;function he(ge){let rr=K(ge);if(!A(rr))return;let xe=c(rr),le=f.BASE.multiply(rr).toAffine(),xn=a(le.x);if(xn===Na)return;let ke=a(xe*a(te+xn*J));if(ke===Na)return;let Te=(le.x===xn?0:2)|Number(le.y&Gr),aa=ke;return R&&C(ke)&&(aa=N(ke),Te^=1),new L(xn,aa,Te)}return{seed:X,k2sig:he}}let Z={lowS:e.lowS,prehash:!1},de={lowS:e.lowS,prehash:!1};function S(l,m,x=Z){let{seed:_,k2sig:k}=ie(l,m,x),R=e;return _n.createHmacDrbg(R.hash.outputLen,R.nByteLength,R.hmac)(_,k)}f.BASE._setWindowSize(8);function u(l,m,x,_=de){let k=l;if(m=(0,Ic.ensureBytes)("msgHash",m),x=(0,Ic.ensureBytes)("publicKey",x),"strict"in _)throw new Error("options.strict was renamed to lowS");let{lowS:R,prehash:v}=_,d,E;try{if(typeof k=="string"||k instanceof Uint8Array)try{d=L.fromDER(k)}catch(le){if(!(le instanceof vn.DER.Err))throw le;d=L.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){let{r:le,s:xn}=k;d=new L(le,xn)}else throw new Error("PARSE");E=f.fromHex(x)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&d.hasHighS())return!1;v&&(m=e.hash(m));let{r:J,s:$}=d,X=z(m),te=c($),he=a(X*te),ge=a(J*te),rr=f.BASE.multiplyAndAddUnsafe(E,he,ge)?.toAffine();return rr?a(rr.x)===J:!1}return{CURVE:e,getPublicKey:H,getSharedSecret:G,sign:S,verify:u,ProjectivePoint:f,Signature:L,utils:q}}vn.weierstrass=hoe;function oq(r,e){let t=r.ORDER,n=Na;for(let C=t-Gr;C%yl===Na;C/=yl)n+=Gr;let s=n,i=yl<<s-Gr-Gr,o=i*yl,a=(t-Gr)/o,c=(a-Gr)/yl,f=o-Gr,g=i,p=r.pow(e,a),A=r.pow(e,(a+Gr)/yl),P=(C,N)=>{let U=p,L=r.pow(N,f),q=r.sqr(L);q=r.mul(q,N);let H=r.mul(C,q);H=r.pow(H,c),H=r.mul(H,L),L=r.mul(H,N),q=r.mul(H,C);let V=r.mul(q,L);H=r.pow(V,g);let G=r.eql(H,r.ONE);L=r.mul(q,A),H=r.mul(V,U),q=r.cmov(L,q,G),V=r.cmov(H,V,G);for(let K=s;K>Gr;K--){let z=K-yl;z=yl<<z-Gr;let W=r.pow(V,z),ce=r.eql(W,r.ONE);L=r.mul(q,U),U=r.mul(U,U),W=r.mul(V,U),q=r.cmov(L,q,ce),V=r.cmov(W,V,ce)}return{isValid:G,value:q}};if(r.ORDER%sq===NE){let C=(r.ORDER-NE)/sq,N=r.sqrt(r.neg(e));P=(U,L)=>{let q=r.sqr(L),H=r.mul(U,L);q=r.mul(q,H);let V=r.pow(q,C);V=r.mul(V,H);let G=r.mul(V,N),K=r.mul(r.sqr(V),L),z=r.eql(K,U),W=r.cmov(G,V,z);return{isValid:z,value:W}}}return P}vn.SWUFpSqrtRatio=oq;function goe(r,e){if(Hp.validateField(r),!r.isValid(e.A)||!r.isValid(e.B)||!r.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=oq(r,e.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,o,a,c,f,g,p;s=r.sqr(n),s=r.mul(s,e.Z),i=r.sqr(s),i=r.add(i,s),o=r.add(i,r.ONE),o=r.mul(o,e.B),a=r.cmov(e.Z,r.neg(i),!r.eql(i,r.ZERO)),a=r.mul(a,e.A),i=r.sqr(o),f=r.sqr(a),c=r.mul(f,e.A),i=r.add(i,c),i=r.mul(i,o),f=r.mul(f,a),c=r.mul(f,e.B),i=r.add(i,c),g=r.mul(s,o);let{isValid:A,value:P}=t(i,f);p=r.mul(s,n),p=r.mul(p,P),g=r.cmov(g,o,A),p=r.cmov(p,P,A);let C=r.isOdd(n)===r.isOdd(p);return p=r.cmov(r.neg(p),p,C),g=r.div(g,a),{x:g,y:p}}}vn.mapToCurveSimpleSWU=goe});var uq=M(so=>{y();b();Object.defineProperty(so,"__esModule",{value:!0});so.createHasher=so.isogenyMap=so.hash_to_field=so.expand_message_xof=so.expand_message_xmd=void 0;var poe=Qw(),Ca=Z0();function moe(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return(0,Ca.utf8ToBytes)(r);throw new Error("DST must be Uint8Array or string")}var yoe=Ca.bytesToNumberBE;function bl(r,e){if(r<0||r>=1<<8*e)throw new Error(`bad I2OSP call: value=${r} length=${e}`);let t=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)t[n]=r&255,r>>>=8;return new Uint8Array(t)}function boe(r,e){let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}function Xw(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected")}function uN(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function aq(r,e,t,n){Xw(r),Xw(e),uN(t),e.length>255&&(e=n((0,Ca.concatBytes)((0,Ca.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:s,blockLen:i}=n,o=Math.ceil(t/s);if(o>255)throw new Error("Invalid xmd length");let a=(0,Ca.concatBytes)(e,bl(e.length,1)),c=bl(0,i),f=bl(t,2),g=new Array(o),p=n((0,Ca.concatBytes)(c,r,f,bl(0,1),a));g[0]=n((0,Ca.concatBytes)(p,bl(1,1),a));for(let P=1;P<=o;P++){let C=[boe(p,g[P-1]),bl(P+1,1),a];g[P]=n((0,Ca.concatBytes)(...C))}return(0,Ca.concatBytes)(...g).slice(0,t)}so.expand_message_xmd=aq;function cq(r,e,t,n,s){if(Xw(r),Xw(e),uN(t),e.length>255){let i=Math.ceil(2*n/8);e=s.create({dkLen:i}).update((0,Ca.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(r).update(bl(t,2)).update(e).update(bl(e.length,1)).digest()}so.expand_message_xof=cq;function cN(r,e,t){(0,Ca.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:i,hash:o,expand:a,DST:c}=t;Xw(r),uN(e);let f=moe(c),g=n.toString(2).length,p=Math.ceil((g+s)/8),A=e*i*p,P;if(a==="xmd")P=aq(r,f,A,o);else if(a==="xof")P=cq(r,f,A,s,o);else if(a==="_internal_pass")P=r;else throw new Error('expand must be "xmd" or "xof"');let C=new Array(e);for(let N=0;N<e;N++){let U=new Array(i);for(let L=0;L<i;L++){let q=p*(L+N*i),H=P.subarray(q,q+p);U[L]=(0,poe.mod)(yoe(H),n)}C[N]=U}return C}so.hash_to_field=cN;function xoe(r,e){let t=e.map(n=>Array.from(n).reverse());return(n,s)=>{let[i,o,a,c]=t.map(f=>f.reduce((g,p)=>r.add(r.mul(g,n),p)));return n=r.div(i,o),s=r.mul(s,r.div(a,c)),{x:n,y:s}}}so.isogenyMap=xoe;function woe(r,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){let i=cN(n,2,{...t,DST:t.DST,...s}),o=r.fromAffine(e(i[0])),a=r.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,s){let i=cN(n,1,{...t,DST:t.encodeDST,...s}),o=r.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o}}}so.createHasher=woe});var dq=M(Gp=>{y();b();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.createCurve=Gp.getHash=void 0;var _oe=cE(),fq=Ta(),voe=aN();function lq(r){return{hash:r,hmac:(e,...t)=>(0,_oe.hmac)(r,e,(0,fq.concatBytes)(...t)),randomBytes:fq.randomBytes}}Gp.getHash=lq;function Poe(r,e){let t=n=>(0,voe.weierstrass)({...r,...lq(n)});return Object.freeze({...t(e),create:t})}Gp.createCurve=Poe});var Pq=M(ti=>{y();b();Object.defineProperty(ti,"__esModule",{value:!0});ti.encodeToCurve=ti.hashToCurve=ti.schnorr=ti.secp256k1=void 0;var CE=hE(),Aoe=Ta(),Bn=Qw(),Eoe=aN(),ss=Z0(),pq=uq(),Soe=dq(),ME=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),RE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mq=BigInt(1),BE=BigInt(2),hq=(r,e)=>(r+e/BE)/e;function yq(r){let e=ME,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,g=f*f*r%e,p=(0,Bn.pow2)(g,t,e)*g%e,A=(0,Bn.pow2)(p,t,e)*g%e,P=(0,Bn.pow2)(A,BE,e)*f%e,C=(0,Bn.pow2)(P,s,e)*P%e,N=(0,Bn.pow2)(C,i,e)*C%e,U=(0,Bn.pow2)(N,a,e)*N%e,L=(0,Bn.pow2)(U,c,e)*U%e,q=(0,Bn.pow2)(L,a,e)*N%e,H=(0,Bn.pow2)(q,t,e)*g%e,V=(0,Bn.pow2)(H,o,e)*C%e,G=(0,Bn.pow2)(V,n,e)*f%e,K=(0,Bn.pow2)(G,BE,e);if(!xl.eql(xl.sqr(K),r))throw new Error("Cannot find square root");return K}var xl=(0,Bn.Field)(ME,void 0,void 0,{sqrt:yq});ti.secp256k1=(0,Soe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:xl,n:RE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=RE,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=hq(i*r,e),c=hq(-n*r,e),f=(0,Bn.mod)(r-a*t-c*s,e),g=(0,Bn.mod)(-a*n-c*i,e),p=f>o,A=g>o;if(p&&(f=e-f),A&&(g=e-g),f>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:f,k2neg:A,k2:g}}}},CE.sha256);var jE=BigInt(0),bq=r=>typeof r=="bigint"&&jE<r&&r<ME,koe=r=>typeof r=="bigint"&&jE<r&&r<RE,gq={};function IE(r,...e){let t=gq[r];if(t===void 0){let n=(0,CE.sha256)(Uint8Array.from(r,s=>s.charCodeAt(0)));t=(0,ss.concatBytes)(n,n),gq[r]=t}return(0,CE.sha256)((0,ss.concatBytes)(t,...e))}var hN=r=>r.toRawBytes(!0).slice(1),lN=r=>(0,ss.numberToBytesBE)(r,32),fN=r=>(0,Bn.mod)(r,ME),Yw=r=>(0,Bn.mod)(r,RE),gN=ti.secp256k1.ProjectivePoint,Ooe=(r,e,t)=>gN.BASE.multiplyAndAddUnsafe(r,e,t);function dN(r){let e=ti.secp256k1.utils.normPrivateKeyToScalar(r),t=gN.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:Yw(-e),bytes:hN(t)}}function xq(r){if(!bq(r))throw new Error("bad x: need 0 < x < p");let e=fN(r*r),t=fN(e*r+BigInt(7)),n=yq(t);n%BE!==jE&&(n=fN(-n));let s=new gN(r,n,mq);return s.assertValidity(),s}function wq(...r){return Yw((0,ss.bytesToNumberBE)(IE("BIP0340/challenge",...r)))}function Toe(r){return dN(r).bytes}function Noe(r,e,t=(0,Aoe.randomBytes)(32)){let n=(0,ss.ensureBytes)("message",r),{bytes:s,scalar:i}=dN(e),o=(0,ss.ensureBytes)("auxRand",t,32),a=lN(i^(0,ss.bytesToNumberBE)(IE("BIP0340/aux",o))),c=IE("BIP0340/nonce",a,s,n),f=Yw((0,ss.bytesToNumberBE)(c));if(f===jE)throw new Error("sign failed: k is zero");let{bytes:g,scalar:p}=dN(f),A=wq(g,s,n),P=new Uint8Array(64);if(P.set(g,0),P.set(lN(Yw(p+A*i)),32),!_q(P,n,s))throw new Error("sign: Invalid signature produced");return P}function _q(r,e,t){let n=(0,ss.ensureBytes)("signature",r,64),s=(0,ss.ensureBytes)("message",e),i=(0,ss.ensureBytes)("publicKey",t,32);try{let o=xq((0,ss.bytesToNumberBE)(i)),a=(0,ss.bytesToNumberBE)(n.subarray(0,32));if(!bq(a))return!1;let c=(0,ss.bytesToNumberBE)(n.subarray(32,64));if(!koe(c))return!1;let f=wq(lN(a),hN(o),s),g=Ooe(o,c,Yw(-f));return!(!g||!g.hasEvenY()||g.toAffine().x!==a)}catch{return!1}}ti.schnorr=(()=>({getPublicKey:Toe,sign:Noe,verify:_q,utils:{randomPrivateKey:ti.secp256k1.utils.randomPrivateKey,lift_x:xq,pointToBytes:hN,numberToBytesBE:ss.numberToBytesBE,bytesToNumberBE:ss.bytesToNumberBE,taggedHash:IE,mod:Bn.mod}}))();var Coe=(()=>(0,pq.isogenyMap)(xl,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(e=>BigInt(e)))))(),Roe=(()=>(0,Eoe.mapToCurveSimpleSWU)(xl,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:xl.create(BigInt("-11"))}))(),vq=(()=>(0,pq.createHasher)(ti.secp256k1.ProjectivePoint,r=>{let{x:e,y:t}=Roe(xl.create(r[0]));return Coe(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:xl.ORDER,m:1,k:128,expand:"xmd",hash:CE.sha256}))();ti.hashToCurve=(()=>vq.hashToCurve)();ti.encodeToCurve=(()=>vq.encodeToCurve)()});var pN=M(FE=>{y();b();Object.defineProperty(FE,"__esModule",{value:!0});FE.ZeroAddress=void 0;FE.ZeroAddress="0x0000000000000000000000000000000000000000"});var Aq=M(LE=>{y();b();Object.defineProperty(LE,"__esModule",{value:!0});LE.ZeroHash=void 0;LE.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"});var Eq=M(io=>{y();b();Object.defineProperty(io,"__esModule",{value:!0});io.MaxInt256=io.MinInt256=io.MaxUint256=io.WeiPerEther=io.N=void 0;io.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");io.WeiPerEther=BigInt("1000000000000000000");io.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");io.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);io.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var Sq=M(Kp=>{y();b();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.MessagePrefix=Kp.EtherSymbol=void 0;Kp.EtherSymbol="\u039E";Kp.MessagePrefix=`Ethereum Signed Message:
`});var Vp=M(on=>{y();b();Object.defineProperty(on,"__esModule",{value:!0});on.MessagePrefix=on.EtherSymbol=on.MaxInt256=on.MinInt256=on.MaxUint256=on.WeiPerEther=on.N=on.ZeroHash=on.ZeroAddress=void 0;var Boe=pN();Object.defineProperty(on,"ZeroAddress",{enumerable:!0,get:function(){return Boe.ZeroAddress}});var Ioe=Aq();Object.defineProperty(on,"ZeroHash",{enumerable:!0,get:function(){return Ioe.ZeroHash}});var e_=Eq();Object.defineProperty(on,"N",{enumerable:!0,get:function(){return e_.N}});Object.defineProperty(on,"WeiPerEther",{enumerable:!0,get:function(){return e_.WeiPerEther}});Object.defineProperty(on,"MaxUint256",{enumerable:!0,get:function(){return e_.MaxUint256}});Object.defineProperty(on,"MinInt256",{enumerable:!0,get:function(){return e_.MinInt256}});Object.defineProperty(on,"MaxInt256",{enumerable:!0,get:function(){return e_.MaxInt256}});var kq=Sq();Object.defineProperty(on,"EtherSymbol",{enumerable:!0,get:function(){return kq.EtherSymbol}});Object.defineProperty(on,"MessagePrefix",{enumerable:!0,get:function(){return kq.MessagePrefix}})});var yN=M(DE=>{y();b();Object.defineProperty(DE,"__esModule",{value:!0});DE.Signature=void 0;var Oq=Vp(),Ft=fe(),Tq=BigInt(0),Nq=BigInt(1),Cq=BigInt(2),Rq=BigInt(27),Bq=BigInt(28),UE=BigInt(35),zp={};function Iq(r){return(0,Ft.zeroPadValue)((0,Ft.toBeArray)(r),32)}var Jp,Mc,Wp,Q0,Ra=class{constructor(e,t,n,s){T(this,Jp,void 0);T(this,Mc,void 0);T(this,Wp,void 0);T(this,Q0,void 0);(0,Ft.assertPrivate)(e,zp,"Signature"),w(this,Jp,t),w(this,Mc,n),w(this,Wp,s),w(this,Q0,null)}get r(){return h(this,Jp)}set r(e){(0,Ft.assertArgument)((0,Ft.dataLength)(e)===32,"invalid r","value",e),w(this,Jp,(0,Ft.hexlify)(e))}get s(){return(0,Ft.assertArgument)(parseInt(h(this,Mc).substring(0,3))<8,"non-canonical s; use ._s","s",h(this,Mc)),h(this,Mc)}set s(e){(0,Ft.assertArgument)((0,Ft.dataLength)(e)===32,"invalid s","value",e),w(this,Mc,(0,Ft.hexlify)(e))}get _s(){return h(this,Mc)}isValid(){return parseInt(h(this,Mc).substring(0,3))<8}get v(){return h(this,Wp)}set v(e){let t=(0,Ft.getNumber)(e,"value");(0,Ft.assertArgument)(t===27||t===28,"invalid v","v",e),w(this,Wp,t)}get networkV(){return h(this,Q0)}get legacyChainId(){let e=this.networkV;return e==null?null:Ra.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=(0,Ft.getBytes)(this.s);return this.yParity&&(e[0]|=128),(0,Ft.hexlify)(e)}get compactSerialized(){return(0,Ft.concat)([this.r,this.yParityAndS])}get serialized(){return(0,Ft.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new Ra(zp,this.r,this._s,this.v);return this.networkV&&w(e,Q0,this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let t=(0,Ft.getBigInt)(e,"v");return t==Rq||t==Bq?Tq:((0,Ft.assertArgument)(t>=UE,"invalid EIP-155 v","v",e),(t-UE)/Cq)}static getChainIdV(e,t){return(0,Ft.getBigInt)(e)*Cq+BigInt(35+t-27)}static getNormalizedV(e){let t=(0,Ft.getBigInt)(e);return t===Tq||t===Rq?27:t===Nq||t===Bq?28:((0,Ft.assertArgument)(t>=UE,"invalid v","v",e),t&Nq?27:28)}static from(e){function t(f,g){(0,Ft.assertArgument)(f,g,"signature",e)}if(e==null)return new Ra(zp,Oq.ZeroHash,Oq.ZeroHash,27);if(typeof e=="string"){let f=(0,Ft.getBytes)(e,"signature");if(f.length===64){let g=(0,Ft.hexlify)(f.slice(0,32)),p=f.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new Ra(zp,g,(0,Ft.hexlify)(p),A)}if(f.length===65){let g=(0,Ft.hexlify)(f.slice(0,32)),p=(0,Ft.hexlify)(f.slice(32,64)),A=Ra.getNormalizedV(f[64]);return new Ra(zp,g,p,A)}t(!1,"invalid raw signature length")}if(e instanceof Ra)return e.clone();let n=e.r;t(n!=null,"missing r");let s=Iq(n),i=function(f,g){if(f!=null)return Iq(f);if(g!=null){t((0,Ft.isHexString)(g,32),"invalid yParityAndS");let p=(0,Ft.getBytes)(g);return p[0]&=127,(0,Ft.hexlify)(p)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(f,g,p){if(f!=null){let A=(0,Ft.getBigInt)(f);return{networkV:A>=UE?A:void 0,v:Ra.getNormalizedV(A)}}if(g!=null)return t((0,Ft.isHexString)(g,32),"invalid yParityAndS"),{v:(0,Ft.getBytes)(g)[0]&128?28:27};if(p!=null){switch((0,Ft.getNumber)(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Ra(zp,s,i,a);return o&&w(c,Q0,o),t(e.yParity==null||(0,Ft.getNumber)(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},mN=Ra;Jp=new WeakMap,Mc=new WeakMap,Wp=new WeakMap,Q0=new WeakMap;DE.Signature=mN});var jq=M(qE=>{y();b();Object.defineProperty(qE,"__esModule",{value:!0});qE.SigningKey=void 0;var X0=Pq(),Qr=fe(),Mq=yN(),Ju,Y0=class{constructor(e){T(this,Ju,void 0);(0,Qr.assertArgument)((0,Qr.dataLength)(e)===32,"invalid private key","privateKey","[REDACTED]"),w(this,Ju,(0,Qr.hexlify)(e))}get privateKey(){return h(this,Ju)}get publicKey(){return Y0.computePublicKey(h(this,Ju))}get compressedPublicKey(){return Y0.computePublicKey(h(this,Ju),!0)}sign(e){(0,Qr.assertArgument)((0,Qr.dataLength)(e)===32,"invalid digest length","digest",e);let t=X0.secp256k1.sign((0,Qr.getBytesCopy)(e),(0,Qr.getBytesCopy)(h(this,Ju)),{lowS:!0});return Mq.Signature.from({r:(0,Qr.toBeHex)(t.r,32),s:(0,Qr.toBeHex)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=Y0.computePublicKey(e);return(0,Qr.hexlify)(X0.secp256k1.getSharedSecret((0,Qr.getBytesCopy)(h(this,Ju)),(0,Qr.getBytes)(t),!1))}static computePublicKey(e,t){let n=(0,Qr.getBytes)(e,"key");if(n.length===32){let i=X0.secp256k1.getPublicKey(n,!!t);return(0,Qr.hexlify)(i)}if(n.length===64){let i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}let s=X0.secp256k1.ProjectivePoint.fromHex(n);return(0,Qr.hexlify)(s.toRawBytes(t))}static recoverPublicKey(e,t){(0,Qr.assertArgument)((0,Qr.dataLength)(e)===32,"invalid digest length","digest",e);let n=Mq.Signature.from(t),s=X0.secp256k1.Signature.fromCompact((0,Qr.getBytesCopy)((0,Qr.concat)([n.r,n.s])));s=s.addRecoveryBit(n.yParity);let i=s.recoverPublicKey((0,Qr.getBytesCopy)(e));return(0,Qr.assertArgument)(i!=null,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){let s=X0.secp256k1.ProjectivePoint.fromHex(Y0.computePublicKey(e).substring(2)),i=X0.secp256k1.ProjectivePoint.fromHex(Y0.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}},bN=Y0;Ju=new WeakMap;qE.SigningKey=bN});var an=M(dr=>{y();b();Object.defineProperty(dr,"__esModule",{value:!0});dr.lock=dr.Signature=dr.SigningKey=dr.scryptSync=dr.scrypt=dr.pbkdf2=dr.sha512=dr.sha256=dr.ripemd160=dr.keccak256=dr.randomBytes=dr.computeHmac=void 0;var Fq=KU();Object.defineProperty(dr,"computeHmac",{enumerable:!0,get:function(){return Fq.computeHmac}});var Lq=nD();Object.defineProperty(dr,"keccak256",{enumerable:!0,get:function(){return Lq.keccak256}});var Uq=dD();Object.defineProperty(dr,"ripemd160",{enumerable:!0,get:function(){return Uq.ripemd160}});var Dq=mD();Object.defineProperty(dr,"pbkdf2",{enumerable:!0,get:function(){return Dq.pbkdf2}});var xN=wD();Object.defineProperty(dr,"randomBytes",{enumerable:!0,get:function(){return xN.randomBytes}});var HE=ID();Object.defineProperty(dr,"scrypt",{enumerable:!0,get:function(){return HE.scrypt}});Object.defineProperty(dr,"scryptSync",{enumerable:!0,get:function(){return HE.scryptSync}});var GE=HD();Object.defineProperty(dr,"sha256",{enumerable:!0,get:function(){return GE.sha256}});Object.defineProperty(dr,"sha512",{enumerable:!0,get:function(){return GE.sha512}});var Moe=jq();Object.defineProperty(dr,"SigningKey",{enumerable:!0,get:function(){return Moe.SigningKey}});var joe=yN();Object.defineProperty(dr,"Signature",{enumerable:!0,get:function(){return joe.Signature}});function Foe(){Fq.computeHmac.lock(),Lq.keccak256.lock(),Dq.pbkdf2.lock(),xN.randomBytes.lock(),Uq.ripemd160.lock(),HE.scrypt.lock(),HE.scryptSync.lock(),GE.sha256.lock(),GE.sha512.lock(),xN.randomBytes.lock()}dr.lock=Foe});var KE=M($p=>{y();b();Object.defineProperty($p,"__esModule",{value:!0});$p.getIcapAddress=$p.getAddress=void 0;var Loe=an(),t_=fe(),Uoe=BigInt(0),Doe=BigInt(36);function qq(r){r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);let n=(0,t_.getBytes)((0,Loe.keccak256)(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var wN={};for(let r=0;r<10;r++)wN[String(r)]=String(r);for(let r=0;r<26;r++)wN[String.fromCharCode(65+r)]=String(10+r);var Hq=15;function Gq(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>wN[n]).join("");for(;e.length>=Hq;){let n=e.substring(0,Hq);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var qoe=function(){let r={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function Hoe(r){r=r.toLowerCase();let e=Uoe;for(let t=0;t<r.length;t++)e=e*Doe+qoe[r[t]];return e}function Kq(r){if((0,t_.assertArgument)(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);let e=qq(r);return(0,t_.assertArgument)(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,t_.assertArgument)(r.substring(2,4)===Gq(r),"bad icap checksum","address",r);let e=Hoe(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return qq("0x"+e)}(0,t_.assertArgument)(!1,"invalid address","address",r)}$p.getAddress=Kq;function Goe(r){let e=BigInt(Kq(r)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Gq("XE00"+e)+e}$p.getIcapAddress=Goe});var zq=M(Zp=>{y();b();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.getCreate2Address=Zp.getCreateAddress=void 0;var Vq=an(),Wu=fe(),VE=KE();function Koe(r){let e=(0,VE.getAddress)(r.from),n=(0,Wu.getBigInt)(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,(0,VE.getAddress)((0,Wu.dataSlice)((0,Vq.keccak256)((0,Wu.encodeRlp)([e,n])),12))}Zp.getCreateAddress=Koe;function Voe(r,e,t){let n=(0,VE.getAddress)(r),s=(0,Wu.getBytes)(e,"salt"),i=(0,Wu.getBytes)(t,"initCodeHash");return(0,Wu.assertArgument)(s.length===32,"salt must be 32 bytes","salt",e),(0,Wu.assertArgument)(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),(0,VE.getAddress)((0,Wu.dataSlice)((0,Vq.keccak256)((0,Wu.concat)(["0xff",n,s,i])),12))}Zp.getCreate2Address=Voe});var Wq=M(wl=>{y();b();Object.defineProperty(wl,"__esModule",{value:!0});wl.resolveAddress=wl.isAddress=wl.isAddressable=void 0;var zE=fe(),vN=KE();function Jq(r){return r&&typeof r.getAddress=="function"}wl.isAddressable=Jq;function zoe(r){try{return(0,vN.getAddress)(r),!0}catch{}return!1}wl.isAddress=zoe;async function _N(r,e){let t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&((0,zE.assert)(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),(0,zE.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),(0,vN.getAddress)(t)}function Joe(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?(0,vN.getAddress)(r):((0,zE.assert)(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),_N(r,e.resolveName(r)));if(Jq(r))return _N(r,r.getAddress());if(r&&typeof r.then=="function")return _N(r,r);(0,zE.assertArgument)(!1,"unsupported addressable value","target",r)}wl.resolveAddress=Joe});var Xr=M(is=>{y();b();Object.defineProperty(is,"__esModule",{value:!0});is.resolveAddress=is.isAddress=is.isAddressable=is.getCreate2Address=is.getCreateAddress=is.getIcapAddress=is.getAddress=void 0;var $q=KE();Object.defineProperty(is,"getAddress",{enumerable:!0,get:function(){return $q.getAddress}});Object.defineProperty(is,"getIcapAddress",{enumerable:!0,get:function(){return $q.getIcapAddress}});var Zq=zq();Object.defineProperty(is,"getCreateAddress",{enumerable:!0,get:function(){return Zq.getCreateAddress}});Object.defineProperty(is,"getCreate2Address",{enumerable:!0,get:function(){return Zq.getCreate2Address}});var PN=Wq();Object.defineProperty(is,"isAddressable",{enumerable:!0,get:function(){return PN.isAddressable}});Object.defineProperty(is,"isAddress",{enumerable:!0,get:function(){return PN.isAddress}});Object.defineProperty(is,"resolveAddress",{enumerable:!0,get:function(){return PN.resolveAddress}})});var jc=M(JE=>{y();b();Object.defineProperty(JE,"__esModule",{value:!0});JE.Typed=void 0;var Qq=fe(),Ba={};function ye(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new r_(Ba,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function $t(r,e){return new r_(Ba,`bytes${e||""}`,r,{size:e})}var Xq=Symbol.for("_ethers_typed"),eh,Ia=class{constructor(e,t,n,s){O(this,"type");O(this,"value");T(this,eh,void 0);O(this,"_typedSymbol");s==null&&(s=null),(0,Qq.assertPrivate)(Ba,e,"Typed"),(0,Qq.defineProperties)(this,{_typedSymbol:Xq,type:t,value:n}),w(this,eh,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return h(this,eh)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return h(this,eh)===!0?-1:h(this,eh)===!1?this.value.length:null}static from(e,t){return new Ia(Ba,e,t)}static uint8(e){return ye(e,8)}static uint16(e){return ye(e,16)}static uint24(e){return ye(e,24)}static uint32(e){return ye(e,32)}static uint40(e){return ye(e,40)}static uint48(e){return ye(e,48)}static uint56(e){return ye(e,56)}static uint64(e){return ye(e,64)}static uint72(e){return ye(e,72)}static uint80(e){return ye(e,80)}static uint88(e){return ye(e,88)}static uint96(e){return ye(e,96)}static uint104(e){return ye(e,104)}static uint112(e){return ye(e,112)}static uint120(e){return ye(e,120)}static uint128(e){return ye(e,128)}static uint136(e){return ye(e,136)}static uint144(e){return ye(e,144)}static uint152(e){return ye(e,152)}static uint160(e){return ye(e,160)}static uint168(e){return ye(e,168)}static uint176(e){return ye(e,176)}static uint184(e){return ye(e,184)}static uint192(e){return ye(e,192)}static uint200(e){return ye(e,200)}static uint208(e){return ye(e,208)}static uint216(e){return ye(e,216)}static uint224(e){return ye(e,224)}static uint232(e){return ye(e,232)}static uint240(e){return ye(e,240)}static uint248(e){return ye(e,248)}static uint256(e){return ye(e,256)}static uint(e){return ye(e,256)}static int8(e){return ye(e,-8)}static int16(e){return ye(e,-16)}static int24(e){return ye(e,-24)}static int32(e){return ye(e,-32)}static int40(e){return ye(e,-40)}static int48(e){return ye(e,-48)}static int56(e){return ye(e,-56)}static int64(e){return ye(e,-64)}static int72(e){return ye(e,-72)}static int80(e){return ye(e,-80)}static int88(e){return ye(e,-88)}static int96(e){return ye(e,-96)}static int104(e){return ye(e,-104)}static int112(e){return ye(e,-112)}static int120(e){return ye(e,-120)}static int128(e){return ye(e,-128)}static int136(e){return ye(e,-136)}static int144(e){return ye(e,-144)}static int152(e){return ye(e,-152)}static int160(e){return ye(e,-160)}static int168(e){return ye(e,-168)}static int176(e){return ye(e,-176)}static int184(e){return ye(e,-184)}static int192(e){return ye(e,-192)}static int200(e){return ye(e,-200)}static int208(e){return ye(e,-208)}static int216(e){return ye(e,-216)}static int224(e){return ye(e,-224)}static int232(e){return ye(e,-232)}static int240(e){return ye(e,-240)}static int248(e){return ye(e,-248)}static int256(e){return ye(e,-256)}static int(e){return ye(e,-256)}static bytes1(e){return $t(e,1)}static bytes2(e){return $t(e,2)}static bytes3(e){return $t(e,3)}static bytes4(e){return $t(e,4)}static bytes5(e){return $t(e,5)}static bytes6(e){return $t(e,6)}static bytes7(e){return $t(e,7)}static bytes8(e){return $t(e,8)}static bytes9(e){return $t(e,9)}static bytes10(e){return $t(e,10)}static bytes11(e){return $t(e,11)}static bytes12(e){return $t(e,12)}static bytes13(e){return $t(e,13)}static bytes14(e){return $t(e,14)}static bytes15(e){return $t(e,15)}static bytes16(e){return $t(e,16)}static bytes17(e){return $t(e,17)}static bytes18(e){return $t(e,18)}static bytes19(e){return $t(e,19)}static bytes20(e){return $t(e,20)}static bytes21(e){return $t(e,21)}static bytes22(e){return $t(e,22)}static bytes23(e){return $t(e,23)}static bytes24(e){return $t(e,24)}static bytes25(e){return $t(e,25)}static bytes26(e){return $t(e,26)}static bytes27(e){return $t(e,27)}static bytes28(e){return $t(e,28)}static bytes29(e){return $t(e,29)}static bytes30(e){return $t(e,30)}static bytes31(e){return $t(e,31)}static bytes32(e){return $t(e,32)}static address(e){return new Ia(Ba,"address",e)}static bool(e){return new Ia(Ba,"bool",!!e)}static bytes(e){return new Ia(Ba,"bytes",e)}static string(e){return new Ia(Ba,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Ia(Ba,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Xq}static dereference(e,t){if(Ia.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}},r_=Ia;eh=new WeakMap;JE.Typed=r_});var eH=M(WE=>{y();b();Object.defineProperty(WE,"__esModule",{value:!0});WE.AddressCoder=void 0;var Yq=Xr(),Woe=up(),$oe=jc(),Zoe=to(),AN=class extends Zoe.Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=$oe.Typed.dereference(t,"string");try{n=(0,Yq.getAddress)(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return(0,Yq.getAddress)((0,Woe.toBeHex)(e.readValue(),20))}};WE.AddressCoder=AN});var tH=M($E=>{y();b();Object.defineProperty($E,"__esModule",{value:!0});$E.AnonymousCoder=void 0;var Qoe=to(),EN=class extends Qoe.Coder{constructor(t){super(t.name,t.type,"_",t.dynamic);O(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}};$E.AnonymousCoder=EN});var kN=M(_l=>{y();b();Object.defineProperty(_l,"__esModule",{value:!0});_l.ArrayCoder=_l.unpack=_l.pack=void 0;var $u=fe(),Xoe=jc(),Qp=to(),Yoe=tH();function rH(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{let g=f.localName;return(0,$u.assert)(g,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),(0,$u.assert)(!c[g],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),c[g]=!0,t[g]})}else(0,$u.assertArgument)(!1,"invalid tuple value","tuple",t);(0,$u.assertArgument)(e.length===n.length,"types/value length mismatch","tuple",t);let s=new Qp.Writer,i=new Qp.Writer,o=[];e.forEach((c,f)=>{let g=n[f];if(c.dynamic){let p=i.length;c.encode(i,g);let A=s.writeUpdatableValue();o.push(P=>{A(P+p)})}else c.encode(s,g)}),o.forEach(c=>{c(s.length)});let a=r.appendWriter(s);return a+=r.appendWriter(i),a}_l.pack=rH;function nH(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=r.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(f){if((0,$u.isError)(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(r)}catch(a){if((0,$u.isError)(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),n.push(i.localName||null)}),Qp.Result.fromItems(t,n)}_l.unpack=nH;var SN=class extends Qp.Coder{constructor(t,n,s){let i=t.type+"["+(n>=0?n:"")+"]",o=n===-1||t.dynamic;super("array",i,s,o);O(this,"coder");O(this,"length");(0,$u.defineProperties)(this,{coder:t,length:n})}defaultValue(){let t=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(t);return n}encode(t,n){let s=Xoe.Typed.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),(0,$u.assertArgumentCount)(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return rH(t,o,s)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),(0,$u.assert)(n*Qp.WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*Qp.WordSize,length:t.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Yoe.AnonymousCoder(this.coder));return nH(t,s)}};_l.ArrayCoder=SN});var sH=M(ZE=>{y();b();Object.defineProperty(ZE,"__esModule",{value:!0});ZE.BooleanCoder=void 0;var eae=jc(),tae=to(),ON=class extends tae.Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let n=eae.Typed.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};ZE.BooleanCoder=ON});var NN=M(Xp=>{y();b();Object.defineProperty(Xp,"__esModule",{value:!0});Xp.BytesCoder=Xp.DynamicBytesCoder=void 0;var iH=fe(),rae=to(),QE=class extends rae.Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,iH.getBytesCopy)(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}};Xp.DynamicBytesCoder=QE;var TN=class extends QE{constructor(e){super("bytes",e)}decode(e){return(0,iH.hexlify)(super.decode(e))}};Xp.BytesCoder=TN});var oH=M(XE=>{y();b();Object.defineProperty(XE,"__esModule",{value:!0});XE.FixedBytesCoder=void 0;var CN=fe(),nae=jc(),sae=to(),RN=class extends sae.Coder{constructor(t,n){let s="bytes"+String(t);super(s,s,n,!1);O(this,"size");(0,CN.defineProperties)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let s=(0,CN.getBytesCopy)(nae.Typed.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(s)}decode(t){return(0,CN.hexlify)(t.readBytes(this.size))}};XE.FixedBytesCoder=RN});var aH=M(YE=>{y();b();Object.defineProperty(YE,"__esModule",{value:!0});YE.NullCoder=void 0;var iae=to(),oae=new Uint8Array([]),BN=class extends iae.Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(oae)}decode(e){return e.readBytes(0),null}};YE.NullCoder=BN});var cH=M(e3=>{y();b();Object.defineProperty(e3,"__esModule",{value:!0});e3.NumberCoder=void 0;var vl=fe(),aae=jc(),IN=to(),cae=BigInt(0),uae=BigInt(1),fae=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),MN=class extends IN.Coder{constructor(t,n,s){let i=(n?"int":"uint")+t*8;super(i,i,s,!1);O(this,"size");O(this,"signed");(0,vl.defineProperties)(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let s=(0,vl.getBigInt)(aae.Typed.dereference(n,this.type)),i=(0,vl.mask)(fae,IN.WordSize*8);if(this.signed){let o=(0,vl.mask)(i,this.size*8-1);(s>o||s<-(o+uae))&&this._throwError("value out-of-bounds",n),s=(0,vl.toTwos)(s,8*IN.WordSize)}else(s<cae||s>(0,vl.mask)(i,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(s)}decode(t){let n=(0,vl.mask)(t.readValue(),this.size*8);return this.signed&&(n=(0,vl.fromTwos)(n,this.size*8)),n}};e3.NumberCoder=MN});var fH=M(t3=>{y();b();Object.defineProperty(t3,"__esModule",{value:!0});t3.StringCoder=void 0;var uH=GA(),lae=jc(),dae=NN(),jN=class extends dae.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,uH.toUtf8Bytes)(lae.Typed.dereference(t,"string")))}decode(e){return(0,uH.toUtf8String)(super.decode(e))}};t3.StringCoder=jN});var dH=M(r3=>{y();b();Object.defineProperty(r3,"__esModule",{value:!0});r3.TupleCoder=void 0;var hae=nl(),gae=jc(),pae=to(),lH=kN(),FN=class extends pae.Coder{constructor(t,n){let s=!1,i=[];t.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});let o="tuple("+i.join(",")+")";super("tuple",o,n,s);O(this,"coders");(0,hae.defineProperties)(this,{coders:Object.freeze(t.slice())})}defaultValue(){let t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});let n=this.coders.reduce((s,i)=>{let o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,n){let s=gae.Typed.dereference(n,"tuple");return(0,lH.pack)(t,this.coders,s)}decode(t){return(0,lH.unpack)(t,this.coders)}};r3.TupleCoder=FN});var UN=M(n3=>{y();b();Object.defineProperty(n3,"__esModule",{value:!0});n3.accessListify=void 0;var mae=Xr(),n_=fe();function LN(r,e){return{address:(0,mae.getAddress)(r),storageKeys:e.map((t,n)=>((0,n_.assertArgument)((0,n_.isHexString)(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function yae(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?((0,n_.assertArgument)(t.length===2,"invalid slot set",`value[${n}]`,t),LN(t[0],t[1])):((0,n_.assertArgument)(t!=null&&typeof t=="object","invalid address-slot set","value",r),LN(t.address,t.storageKeys)));(0,n_.assertArgument)(r!=null&&typeof r=="object","invalid access list","value",r);let e=Object.keys(r).map(t=>{let n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return LN(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}n3.accessListify=yae});var DN=M(s3=>{y();b();Object.defineProperty(s3,"__esModule",{value:!0});s3.authorizationify=void 0;var bae=Xr(),xae=an(),hH=fe();function wae(r){return{address:(0,bae.getAddress)(r.address),nonce:(0,hH.getBigInt)(r.nonce!=null?r.nonce:0),chainId:(0,hH.getBigInt)(r.chainId!=null?r.chainId:0),signature:xae.Signature.from(r.signature)}}s3.authorizationify=wae});var HN=M(Yp=>{y();b();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.recoverAddress=Yp.computeAddress=void 0;var _ae=Xr(),qN=an();function gH(r){let e;return typeof r=="string"?e=qN.SigningKey.computePublicKey(r,!1):e=r.publicKey,(0,_ae.getAddress)((0,qN.keccak256)("0x"+e.substring(4)).substring(26))}Yp.computeAddress=gH;function vae(r,e){return gH(qN.SigningKey.recoverPublicKey(r,e))}Yp.recoverAddress=vae});var bH=M(u3=>{y();b();Object.defineProperty(u3,"__esModule",{value:!0});u3.Transaction=void 0;var mH=Xr(),yH=pN(),Uc=an(),Q=fe(),VN=UN(),Pae=DN(),Aae=HN(),In=BigInt(0),Eae=BigInt(2),Sae=BigInt(27),kae=BigInt(28),Oae=BigInt(35),Tae=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),GN=4096*32;function Nae(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return(0,Q.getBytes)(r.blobToKzgCommitment((0,Q.hexlify)(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return(0,Q.getBytes)(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return(0,Q.getBytes)(r.blobToKZGCommitment((0,Q.hexlify)(n)));(0,Q.assertArgument)(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return(0,Q.getBytes)(r.computeBlobProof((0,Q.hexlify)(n),(0,Q.hexlify)(s)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return(0,Q.getBytes)(r.computeBlobKZGProof((0,Q.hexlify)(n),(0,Q.hexlify)(s)));(0,Q.assertArgument)(!1,"unsupported KZG library","kzg",r)}}}function pH(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=(0,Uc.sha256)(e).substring(4),"0x"+t}function hm(r){return r==="0x"?null:(0,mH.getAddress)(r)}function o3(r,e){try{return(0,VN.accessListify)(r)}catch(t){(0,Q.assertArgument)(!1,t.message,e,r)}}function Cae(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");let t=[];for(let n=0;n<r.length;n++){let s=r[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);t.push({address:hm(s[1]),nonce:ir(s[2],"nonce"),chainId:ir(s[0],"chainId"),signature:Uc.Signature.from({yParity:rh(s[3],"yParity"),r:(0,Q.zeroPadValue)(s[4],32),s:(0,Q.zeroPadValue)(s[5],32)})})}return t}catch(t){(0,Q.assertArgument)(!1,t.message,e,r)}}function rh(r,e){return r==="0x"?0:(0,Q.getNumber)(r,e)}function ir(r,e){if(r==="0x")return In;let t=(0,Q.getBigInt)(r,e);return(0,Q.assertArgument)(t<=Tae,"value exceeds uint size",e,t),t}function Lt(r,e){let t=(0,Q.getBigInt)(r,"value"),n=(0,Q.toBeArray)(t);return(0,Q.assertArgument)(n.length<=32,"value too large",`tx.${e}`,t),n}function a3(r){return(0,VN.accessListify)(r).map(e=>[e.address,e.storageKeys])}function Rae(r){return r.map(e=>[Lt(e.chainId,"chainId"),e.address,Lt(e.nonce,"nonce"),Lt(e.signature.yParity,"yParity"),(0,Q.toBeArray)(e.signature.r),(0,Q.toBeArray)(e.signature.s)])}function Bae(r,e){(0,Q.assertArgument)(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)(0,Q.assertArgument)((0,Q.isHexString)(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function Iae(r){let e=(0,Q.decodeRlp)(r);(0,Q.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);let t={type:0,nonce:rh(e[0],"nonce"),gasPrice:ir(e[1],"gasPrice"),gasLimit:ir(e[2],"gasLimit"),to:hm(e[3]),value:ir(e[4],"value"),data:(0,Q.hexlify)(e[5]),chainId:In};if(e.length===6)return t;let n=ir(e[6],"v"),s=ir(e[7],"r"),i=ir(e[8],"s");if(s===In&&i===In)t.chainId=n;else{let o=(n-Oae)/Eae;o<In&&(o=In),t.chainId=o,(0,Q.assertArgument)(o!==In||n===Sae||n===kae,"non-canonical legacy v","v",e[6]),t.signature=Uc.Signature.from({r:(0,Q.zeroPadValue)(e[7],32),s:(0,Q.zeroPadValue)(e[8],32),v:n})}return t}function Mae(r,e){let t=[Lt(r.nonce,"nonce"),Lt(r.gasPrice||0,"gasPrice"),Lt(r.gasLimit,"gasLimit"),r.to||"0x",Lt(r.value,"value"),r.data],n=In;if(r.chainId!=In)n=(0,Q.getBigInt)(r.chainId,"tx.chainId"),(0,Q.assertArgument)(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){let i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==In&&(t.push((0,Q.toBeArray)(n)),t.push("0x"),t.push("0x")),(0,Q.encodeRlp)(t);let s=BigInt(27+e.yParity);return n!==In?s=Uc.Signature.getChainIdV(n,e.v):BigInt(e.v)!==s&&(0,Q.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",e),t.push((0,Q.toBeArray)(s)),t.push((0,Q.toBeArray)(e.r)),t.push((0,Q.toBeArray)(e.s)),(0,Q.encodeRlp)(t)}function c3(r,e){let t;try{if(t=rh(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{(0,Q.assertArgument)(!1,"invalid yParity","yParity",e[0])}let n=(0,Q.zeroPadValue)(e[1],32),s=(0,Q.zeroPadValue)(e[2],32),i=Uc.Signature.from({r:n,s,yParity:t});r.signature=i}function jae(r){let e=(0,Q.decodeRlp)((0,Q.getBytes)(r).slice(1));(0,Q.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",(0,Q.hexlify)(r));let t={type:2,chainId:ir(e[0],"chainId"),nonce:rh(e[1],"nonce"),maxPriorityFeePerGas:ir(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ir(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ir(e[4],"gasLimit"),to:hm(e[5]),value:ir(e[6],"value"),data:(0,Q.hexlify)(e[7]),accessList:o3(e[8],"accessList")};return e.length===9||c3(t,e.slice(9)),t}function Fae(r,e){let t=[Lt(r.chainId,"chainId"),Lt(r.nonce,"nonce"),Lt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Lt(r.maxFeePerGas||0,"maxFeePerGas"),Lt(r.gasLimit,"gasLimit"),r.to||"0x",Lt(r.value,"value"),r.data,a3(r.accessList||[])];return e&&(t.push(Lt(e.yParity,"yParity")),t.push((0,Q.toBeArray)(e.r)),t.push((0,Q.toBeArray)(e.s))),(0,Q.concat)(["0x02",(0,Q.encodeRlp)(t)])}function Lae(r){let e=(0,Q.decodeRlp)((0,Q.getBytes)(r).slice(1));(0,Q.assertArgument)(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",(0,Q.hexlify)(r));let t={type:1,chainId:ir(e[0],"chainId"),nonce:rh(e[1],"nonce"),gasPrice:ir(e[2],"gasPrice"),gasLimit:ir(e[3],"gasLimit"),to:hm(e[4]),value:ir(e[5],"value"),data:(0,Q.hexlify)(e[6]),accessList:o3(e[7],"accessList")};return e.length===8||c3(t,e.slice(8)),t}function Uae(r,e){let t=[Lt(r.chainId,"chainId"),Lt(r.nonce,"nonce"),Lt(r.gasPrice||0,"gasPrice"),Lt(r.gasLimit,"gasLimit"),r.to||"0x",Lt(r.value,"value"),r.data,a3(r.accessList||[])];return e&&(t.push(Lt(e.yParity,"recoveryParam")),t.push((0,Q.toBeArray)(e.r)),t.push((0,Q.toBeArray)(e.s))),(0,Q.concat)(["0x01",(0,Q.encodeRlp)(t)])}function Dae(r){let e=(0,Q.decodeRlp)((0,Q.getBytes)(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let i=e[1],o=e[2],a=e[3];(0,Q.assertArgument)(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),(0,Q.assertArgument)(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),(0,Q.assertArgument)(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),(0,Q.assertArgument)(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),(0,Q.assertArgument)(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}(0,Q.assertArgument)(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",(0,Q.hexlify)(r));let s={type:3,chainId:ir(e[0],"chainId"),nonce:rh(e[1],"nonce"),maxPriorityFeePerGas:ir(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ir(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ir(e[4],"gasLimit"),to:hm(e[5]),value:ir(e[6],"value"),data:(0,Q.hexlify)(e[7]),accessList:o3(e[8],"accessList"),maxFeePerBlobGas:ir(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),(0,Q.assertArgument)(s.to!=null,`invalid address for transaction type: ${t}`,"data",r),(0,Q.assertArgument)(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<s.blobVersionedHashes.length;i++)(0,Q.assertArgument)((0,Q.isHexString)(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||c3(s,e.slice(11)),s}function qae(r,e,t){let n=[Lt(r.chainId,"chainId"),Lt(r.nonce,"nonce"),Lt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Lt(r.maxFeePerGas||0,"maxFeePerGas"),Lt(r.gasLimit,"gasLimit"),r.to||yH.ZeroAddress,Lt(r.value,"value"),r.data,a3(r.accessList||[]),Lt(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Bae(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Lt(e.yParity,"yParity")),n.push((0,Q.toBeArray)(e.r)),n.push((0,Q.toBeArray)(e.s)),t)?(0,Q.concat)(["0x03",(0,Q.encodeRlp)([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):(0,Q.concat)(["0x03",(0,Q.encodeRlp)(n)])}function Hae(r){let e=(0,Q.decodeRlp)((0,Q.getBytes)(r).slice(1));(0,Q.assertArgument)(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",(0,Q.hexlify)(r));let t={type:4,chainId:ir(e[0],"chainId"),nonce:rh(e[1],"nonce"),maxPriorityFeePerGas:ir(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ir(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ir(e[4],"gasLimit"),to:hm(e[5]),value:ir(e[6],"value"),data:(0,Q.hexlify)(e[7]),accessList:o3(e[8],"accessList"),authorizationList:Cae(e[9],"authorizationList")};return e.length===10||c3(t,e.slice(10)),t}function Gae(r,e){let t=[Lt(r.chainId,"chainId"),Lt(r.nonce,"nonce"),Lt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Lt(r.maxFeePerGas||0,"maxFeePerGas"),Lt(r.gasLimit,"gasLimit"),r.to||"0x",Lt(r.value,"value"),r.data,a3(r.accessList||[]),Rae(r.authorizationList||[])];return e&&(t.push(Lt(e.yParity,"yParity")),t.push((0,Q.toBeArray)(e.r)),t.push((0,Q.toBeArray)(e.s))),(0,Q.concat)(["0x04",(0,Q.encodeRlp)(t)])}var Ma,em,tm,rm,nm,sm,im,om,am,cm,um,fm,th,Pl,Lc,Al,lm,dm,i3,Fc=class{constructor(){T(this,dm);T(this,Ma,void 0);T(this,em,void 0);T(this,tm,void 0);T(this,rm,void 0);T(this,nm,void 0);T(this,sm,void 0);T(this,im,void 0);T(this,om,void 0);T(this,am,void 0);T(this,cm,void 0);T(this,um,void 0);T(this,fm,void 0);T(this,th,void 0);T(this,Pl,void 0);T(this,Lc,void 0);T(this,Al,void 0);T(this,lm,void 0);w(this,Ma,null),w(this,em,null),w(this,rm,0),w(this,nm,In),w(this,sm,null),w(this,im,null),w(this,om,null),w(this,tm,"0x"),w(this,am,In),w(this,cm,In),w(this,um,null),w(this,fm,null),w(this,th,null),w(this,Pl,null),w(this,Lc,null),w(this,Al,null),w(this,lm,null)}get type(){return h(this,Ma)}set type(e){switch(e){case null:w(this,Ma,null);break;case 0:case"legacy":w(this,Ma,0);break;case 1:case"berlin":case"eip-2930":w(this,Ma,1);break;case 2:case"london":case"eip-1559":w(this,Ma,2);break;case 3:case"cancun":case"eip-4844":w(this,Ma,3);break;case 4:case"pectra":case"eip-7702":w(this,Ma,4);break;default:(0,Q.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=h(this,em);return e==null&&this.type===3?yH.ZeroAddress:e}set to(e){w(this,em,e==null?null:(0,mH.getAddress)(e))}get nonce(){return h(this,rm)}set nonce(e){w(this,rm,(0,Q.getNumber)(e,"value"))}get gasLimit(){return h(this,nm)}set gasLimit(e){w(this,nm,(0,Q.getBigInt)(e))}get gasPrice(){let e=h(this,sm);return e==null&&(this.type===0||this.type===1)?In:e}set gasPrice(e){w(this,sm,e==null?null:(0,Q.getBigInt)(e,"gasPrice"))}get maxPriorityFeePerGas(){let e=h(this,im);return e??(this.type===2||this.type===3?In:null)}set maxPriorityFeePerGas(e){w(this,im,e==null?null:(0,Q.getBigInt)(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){let e=h(this,om);return e??(this.type===2||this.type===3?In:null)}set maxFeePerGas(e){w(this,om,e==null?null:(0,Q.getBigInt)(e,"maxFeePerGas"))}get data(){return h(this,tm)}set data(e){w(this,tm,(0,Q.hexlify)(e))}get value(){return h(this,am)}set value(e){w(this,am,(0,Q.getBigInt)(e,"value"))}get chainId(){return h(this,cm)}set chainId(e){w(this,cm,(0,Q.getBigInt)(e))}get signature(){return h(this,um)||null}set signature(e){w(this,um,e==null?null:Uc.Signature.from(e))}get accessList(){let e=h(this,fm)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){w(this,fm,e==null?null:(0,VN.accessListify)(e))}get authorizationList(){let e=h(this,lm)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){w(this,lm,e==null?null:e.map(t=>(0,Pae.authorizationify)(t)))}get maxFeePerBlobGas(){let e=h(this,th);return e==null&&this.type===3?In:e}set maxFeePerBlobGas(e){w(this,th,e==null?null:(0,Q.getBigInt)(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=h(this,Pl);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){(0,Q.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,Q.assertArgument)((0,Q.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}w(this,Pl,e)}get blobs(){return h(this,Al)==null?null:h(this,Al).map(e=>Object.assign({},e))}set blobs(e){if(e==null){w(this,Al,null);return}let t=[],n=[];for(let s=0;s<e.length;s++){let i=e[s];if((0,Q.isBytesLike)(i)){(0,Q.assert)(h(this,Lc),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=(0,Q.getBytes)(i);if((0,Q.assertArgument)(o.length<=GN,"blob is too large",`blobs[${s}]`,i),o.length!==GN){let f=new Uint8Array(GN);f.set(o),o=f}let a=h(this,Lc).blobToKzgCommitment(o),c=(0,Q.hexlify)(h(this,Lc).computeBlobKzgProof(o,a));t.push({data:(0,Q.hexlify)(o),commitment:(0,Q.hexlify)(a),proof:c}),n.push(pH(1,a))}else{let o=(0,Q.hexlify)(i.commitment);t.push({data:(0,Q.hexlify)(i.data),commitment:o,proof:(0,Q.hexlify)(i.proof)}),n.push(pH(1,o))}}w(this,Al,t),w(this,Pl,n)}get kzg(){return h(this,Lc)}set kzg(e){e==null?w(this,Lc,null):w(this,Lc,Nae(e))}get hash(){return this.signature==null?null:(0,Uc.keccak256)(D(this,dm,i3).call(this,!0,!1))}get unsignedHash(){return(0,Uc.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,Aae.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Uc.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return D(this,dm,i3).call(this,!0,!0)}get unsignedSerialized(){return D(this,dm,i3).call(this,!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=h(this,th)!=null||h(this,Pl);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,Q.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,Q.assert)(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,Q.assert)(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Fc.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Fc;if(typeof e=="string"){let n=(0,Q.getBytes)(e);if(n[0]>=127)return Fc.from(Iae(n));switch(n[0]){case 1:return Fc.from(Lae(n));case 2:return Fc.from(jae(n));case 3:return Fc.from(Dae(n));case 4:return Fc.from(Hae(n))}(0,Q.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new Fc;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Uc.Signature.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&((0,Q.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,Q.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&((0,Q.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,Q.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}},KN=Fc;Ma=new WeakMap,em=new WeakMap,tm=new WeakMap,rm=new WeakMap,nm=new WeakMap,sm=new WeakMap,im=new WeakMap,om=new WeakMap,am=new WeakMap,cm=new WeakMap,um=new WeakMap,fm=new WeakMap,th=new WeakMap,Pl=new WeakMap,Lc=new WeakMap,Al=new WeakMap,lm=new WeakMap,dm=new WeakSet,i3=function(e,t){(0,Q.assert)(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return Mae(this,n);case 1:return Uae(this,n);case 2:return Fae(this,n);case 3:return qae(this,n,t?this.blobs:null);case 4:return Gae(this,n)}(0,Q.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};u3.Transaction=KN});var Ts=M(oo=>{y();b();Object.defineProperty(oo,"__esModule",{value:!0});oo.Transaction=oo.recoverAddress=oo.computeAddress=oo.authorizationify=oo.accessListify=void 0;var Kae=UN();Object.defineProperty(oo,"accessListify",{enumerable:!0,get:function(){return Kae.accessListify}});var Vae=DN();Object.defineProperty(oo,"authorizationify",{enumerable:!0,get:function(){return Vae.authorizationify}});var xH=HN();Object.defineProperty(oo,"computeAddress",{enumerable:!0,get:function(){return xH.computeAddress}});Object.defineProperty(oo,"recoverAddress",{enumerable:!0,get:function(){return xH.recoverAddress}});var zae=bH();Object.defineProperty(oo,"Transaction",{enumerable:!0,get:function(){return zae.Transaction}})});var _H=M(gm=>{y();b();Object.defineProperty(gm,"__esModule",{value:!0});gm.verifyAuthorization=gm.hashAuthorization=void 0;var Jae=Xr(),Wae=an(),$ae=Ts(),s_=fe();function wH(r){return(0,s_.assertArgument)(typeof r.address=="string","invalid address for hashAuthorization","auth.address",r),(0,Wae.keccak256)((0,s_.concat)(["0x05",(0,s_.encodeRlp)([r.chainId!=null?(0,s_.toBeArray)(r.chainId):"0x",(0,Jae.getAddress)(r.address),r.nonce!=null?(0,s_.toBeArray)(r.nonce):"0x"])]))}gm.hashAuthorization=wH;function Zae(r,e){return(0,$ae.recoverAddress)(wH(r),e)}gm.verifyAuthorization=Zae});var zN=M(f3=>{y();b();Object.defineProperty(f3,"__esModule",{value:!0});f3.id=void 0;var Qae=an(),Xae=fe();function Yae(r){return(0,Qae.keccak256)((0,Xae.toUtf8Bytes)(r))}f3.id=Yae});var c4=M(ao=>{"use strict";y();b();var ece="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",vH=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),PH=4;function tce(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),s=1,i=[0,1];for(let G=1;G<n;G++)i.push(s+=t());let o=t(),a=e;e+=o;let c=0,f=0;function g(){return c==0&&(f=f<<8|r[e++],c=8),f>>--c&1}let p=31,A=2**p,P=A>>>1,C=P>>1,N=A-1,U=0;for(let G=0;G<p;G++)U=U<<1|g();let L=[],q=0,H=A;for(;;){let G=Math.floor(((U-q+1)*s-1)/H),K=0,z=n;for(;z-K>1;){let ie=K+z>>>1;G<i[ie]?z=ie:K=ie}if(K==0)break;L.push(K);let W=q+Math.floor(H*i[K]/s),ce=q+Math.floor(H*i[K+1]/s)-1;for(;((W^ce)&P)==0;)U=U<<1&N|g(),W=W<<1&N,ce=ce<<1&N|1;for(;W&~ce&C;)U=U&P|U<<1&N>>>1|g(),W=W<<1^P,ce=(ce^P)<<1|P|1;q=W,H=1+ce-W}let V=n-4;return L.map(G=>{switch(G-V){case 3:return V+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return V+256+(r[a++]<<8|r[a++]);case 1:return V+r[a++];default:return G-1}})}function rce(r){let e=0;return()=>r[e++]}function OH(r){return rce(tce(nce(r)))}function nce(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=r.length,n=new Uint8Array(6*t>>3);for(let s=0,i=0,o=0,a=0;s<t;s++)a=a<<6|e[r.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function sce(r){return r&1?~r>>1:r>>1}function ice(r,e){let t=Array(r);for(let n=0,s=0;n<r;n++)t[n]=s+=sce(e());return t}function c_(r,e=0){let t=[];for(;;){let n=r(),s=r();if(!s)break;e+=n;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function TH(r){return u_(()=>{let e=c_(r);if(e.length)return e})}function NH(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(oce(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(ace(t,r))}return e.flat()}function u_(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function CH(r,e,t){let n=Array(r).fill().map(()=>[]);for(let s=0;s<e;s++)ice(r,t).forEach((i,o)=>n[o].push(i));return n}function oce(r,e){let t=1+e(),n=e(),s=u_(e);return CH(s.length,1+r,e).flatMap((o,a)=>{let[c,...f]=o;return Array(s[a]).fill().map((g,p)=>{let A=p*n;return[c+p*t,f.map(P=>P+A)]})})}function ace(r,e){let t=1+e();return CH(t,1+r,e).map(s=>[s[0],s.slice(1)])}function cce(r){let e=[],t=c_(r);return s(n([]),[]),e;function n(i){let o=r(),a=u_(()=>{let c=c_(r).map(f=>t[f]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let f of o)for(let g of f.Q)s(f,[...a,g],c)}}}function uce(r){return r.toString(16).toUpperCase().padStart(2,"0")}function RH(r){return`{${uce(r)}}`}function r4(r){let e=[];for(let t=0,n=r.length;t<n;){let s=r.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Sl(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}function BH(r,e){let t=r.length,n=t-e.length;for(let s=0;n==0&&s<t;s++)n=r[s]-e[s];return n}var fce="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",f_=44032,d3=4352,h3=4449,g3=4519,IH=19,MH=21,ym=28,p3=MH*ym,lce=IH*p3,dce=f_+lce,hce=d3+IH,gce=h3+MH,pce=g3+ym;function i_(r){return r>>24&255}function jH(r){return r&16777215}var ZN,AH,QN,l3;function mce(){let r=OH(fce);ZN=new Map(TH(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),AH=new Set(c_(r)),QN=new Map,l3=new Map;for(let[e,t]of NH(r)){if(!AH.has(e)&&t.length==2){let[n,s]=t,i=l3.get(n);i||(i=new Map,l3.set(n,i)),i.set(s,e)}QN.set(e,t.reverse())}}function FH(r){return r>=f_&&r<dce}function yce(r,e){if(r>=d3&&r<hce&&e>=h3&&e<gce)return f_+(r-d3)*p3+(e-h3)*ym;if(FH(r)&&e>g3&&e<pce&&(r-f_)%ym==0)return r+(e-g3);{let t=l3.get(r);return t&&(t=t.get(e),t)?t:-1}}function LH(r){ZN||mce();let e=[],t=[],n=!1;function s(i){let o=ZN.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of r)for(;;){if(i<128)e.push(i);else if(FH(i)){let o=i-f_,a=o/p3|0,c=o%p3/ym|0,f=o%ym;s(d3+a),s(h3+c),f>0&&s(g3+f)}else{let o=QN.get(i);o?t.push(...o):s(i)}if(!t.length)break;i=t.pop()}if(n&&e.length>1){let i=i_(e[0]);for(let o=1;o<e.length;o++){let a=i_(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let f=e[c+1];if(e[c+1]=e[c],e[c]=f,!c||(i=i_(e[--c]),i<=a))break}i=i_(e[o])}}return e}function bce(r){let e=[],t=[],n=-1,s=0;for(let i of r){let o=i_(i),a=jH(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...t),t.length=0,n=a):t.push(a),s=o;else{let c=yce(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(t.push(a),s=o)}}return n>=0&&e.push(n,...t),e}function x3(r){return LH(r).map(jH)}function bm(r){return bce(LH(r))}var EH=45,xce=46,m3=".",UH=65039,DH=1,y3=r=>Array.from(r);function l_(r,e){return r.P.has(e)||r.Q.has(e)}var XN=class extends Array{get is_emoji(){return!0}},b3,n4,nh,YN,qH,HH,mm,JN,pm,El,e4,t4;function xm(){if(b3)return;let r=OH(ece),e=()=>c_(r),t=()=>new Set(e()),n=(g,p)=>p.forEach(A=>g.add(A));b3=new Map(NH(r)),n4=t(),nh=e(),YN=new Set(e().map(g=>nh[g])),nh=new Set(nh),qH=t(),HH=t();let s=TH(r),i=r(),o=()=>{let g=new Set;return e().forEach(p=>n(g,s[p])),n(g,e()),g};mm=u_(g=>{let p=u_(r).map(A=>A+96);if(p.length){let A=g>=i;p[0]-=32,p=Sl(p),A&&(p=`Restricted[${p}]`);let P=o(),C=o(),N=!r();return{N:p,P,Q:C,M:N,R:A}}}),JN=t(),pm=new Map;let a=e().concat(y3(JN)).sort((g,p)=>g-p);a.forEach((g,p)=>{let A=r(),P=a[p]=A?a[p-A]:{V:[],M:new Map};P.V.push(g),JN.has(g)||pm.set(g,P)});for(let{V:g,M:p}of new Set(pm.values())){let A=[];for(let C of g){let N=mm.filter(L=>l_(L,C)),U=A.find(({G:L})=>N.some(q=>L.has(q)));U||(U={G:new Set,V:[]},A.push(U)),U.V.push(C),n(U.G,N)}let P=A.flatMap(C=>y3(C.G));for(let{G:C,V:N}of A){let U=new Set(P.filter(L=>!C.has(L)));for(let L of N)p.set(L,U)}}El=new Set;let c=new Set,f=g=>El.has(g)?c.add(g):El.add(g);for(let g of mm){for(let p of g.P)f(p);for(let p of g.Q)f(p)}for(let g of El)!pm.has(g)&&!c.has(g)&&pm.set(g,DH);n(El,x3(El)),e4=cce(r).map(g=>XN.from(g)).sort(BH),t4=new Map;for(let g of e4){let p=[t4];for(let A of g){let P=p.map(C=>{let N=C.get(A);return N||(N=new Map,C.set(A,N)),N});A===UH?p.push(...P):p=P}for(let A of p)A.V=g}}function s4(r){return(o4(r)?"":`${i4(d_([r]))} `)+RH(r)}function i4(r){return`"${r}"\u200E`}function wce(r){if(r.length>=4&&r[2]==EH&&r[3]==EH)throw new Error(`invalid label extension: "${Sl(r.slice(0,4))}"`)}function _ce(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function vce(r){let e=r[0],t=vH.get(e);if(t)throw o_(`leading ${t}`);let n=r.length,s=-1;for(let i=1;i<n;i++){e=r[i];let o=vH.get(e);if(o){if(s==i)throw o_(`${t} + ${o}`);s=i+1,t=o}}if(s==n)throw o_(`trailing ${t}`)}function d_(r,e=1/0,t=RH){let n=[];GH(r[0])&&n.push("\u25CC"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let s=0,i=r.length;for(let o=0;o<i;o++){let a=r[o];o4(a)&&(n.push(Sl(r.slice(s,o))),n.push(t(a)),s=o+1)}return n.push(Sl(r.slice(s,i))),n.join("")}function GH(r){return xm(),nh.has(r)}function o4(r){return xm(),qH.has(r)}function Pce(){return xm(),e4.map(r=>r.slice())}function Ace(r,e){xm();let t=e?x3:bm;return r.split(m3).map(n=>Sl(JH(r4(n),t,w3).flat())).join(m3)}function Ece(r){return KH(a4(r,bm,w3))}function Sce(r){let e=a4(r,bm,t=>t);for(let{type:t,output:n,error:s}of e){if(s)break;t!=="Greek"&&kce(n,958,926)}return KH(e)}function kce(r,e,t){let n=0;for(;;){let s=r.indexOf(e,n);if(s<0)break;r[s]=t,n=s+1}}function Oce(r,e){return a4(r,bm,e?t=>t.slice():w3)}function a4(r,e,t){if(!r)return[];xm();let n=0;return r.split(m3).map(s=>{let i=r4(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=JH(i,e,t),c=a.length,f;if(!c)throw new Error("empty label");let g=o.output=a.flat();if(_ce(g),!(o.emoji=c>1||a[0].is_emoji)&&g.every(A=>A<128))wce(g),f="ASCII";else{let A=a.flatMap(P=>P.is_emoji?[]:P);if(!A.length)f="Emoji";else{if(nh.has(g[0]))throw o_("leading combining mark");for(let N=1;N<c;N++){let U=a[N];if(!U.is_emoji&&nh.has(U[0]))throw o_(`emoji + combining mark: "${Sl(a[N-1])} + ${d_([U[0]])}"`)}vce(g);let P=y3(new Set(A)),[C]=Nce(P);Cce(C,A),Tce(C,P),f=C.N}}o.type=f}catch(a){o.error=a}return o})}function Tce(r,e){let t,n=[];for(let s of e){let i=pm.get(s);if(i===DH)return;if(i){let o=i.M.get(s);if(t=t?t.filter(a=>o.has(a)):y3(o),!t.length)return}else n.push(s)}if(t){for(let s of t)if(n.every(i=>l_(s,i)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function Nce(r){let e=mm;for(let t of r){let n=e.filter(s=>l_(s,t));if(!n.length)throw mm.some(s=>l_(s,t))?zH(e[0],t):VH(t);if(e=n,n.length==1)break}return e}function KH(r){return r.map(({input:e,error:t,output:n})=>{if(t){let s=t.message;throw new Error(r.length==1?s:`Invalid label ${i4(d_(e,63))}: ${s}`)}return Sl(n)}).join(m3)}function VH(r){return new Error(`disallowed character: ${s4(r)}`)}function zH(r,e){let t=s4(e),n=mm.find(s=>s.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function o_(r){return new Error(`illegal placement: ${r}`)}function Cce(r,e){for(let t of e)if(!l_(r,t))throw zH(r,t);if(r.M){let t=x3(e);for(let n=1,s=t.length;n<s;n++)if(YN.has(t[n])){let i=n+1;for(let o;i<s&&YN.has(o=t[i]);i++)for(let a=n;a<i;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${s4(o)}`);if(i-n>PH)throw new Error(`excessive non-spacing marks: ${i4(d_(t.slice(n-1,i)))} (${i-n}/${PH})`);n=i}}}function JH(r,e,t){let n=[],s=[];for(r=r.slice().reverse();r.length;){let i=WH(r);if(i)s.length&&(n.push(e(s)),s=[]),n.push(t(i));else{let o=r.pop();if(El.has(o))s.push(o);else{let a=b3.get(o);if(a)s.push(...a);else if(!n4.has(o))throw VH(o)}}}return s.length&&n.push(e(s)),n}function w3(r){return r.filter(e=>e!=UH)}function WH(r,e){let t=t4,n,s=r.length;for(;s&&(t=t.get(r[--s]),!!t);){let{V:i}=t;i&&(n=i,e&&e.push(...r.slice(s).reverse()),r.length=s)}return n}var a_="valid",$H="mapped",WN="ignored",Rce="disallowed",Bce="emoji",Ice="nfc",Mce="stop";function ZH(r,{nf:e=!0}={}){xm();let t=r4(r).reverse(),n=[],s=[];for(;t.length;){let i=WH(t,n);if(i)s.push({type:Bce,emoji:i.slice(),input:n,cps:w3(i)}),n=[];else{let o=t.pop();if(o==xce)s.push({type:Mce,cp:o});else if(El.has(o))s.push({type:a_,cps:[o]});else if(n4.has(o))s.push({type:WN,cp:o});else{let a=b3.get(o);a?s.push({type:$H,cp:o,cps:a.slice()}):s.push({type:Rce,cp:o})}}}if(e)for(let i=0,o=-1;i<s.length;i++){let a=s[i];if($N(a.type))if(SH(a.cps)){let c=i+1;for(let A=c;A<s.length;A++){let{type:P,cps:C}=s[A];if($N(P)){if(!SH(C))break;c=A+1}else if(P!==WN)break}o<0&&(o=i);let f=s.slice(o,c),g=f.flatMap(A=>$N(A.type)?A.cps:[]),p=bm(g);BH(p,g)?(s.splice(o,c-o,{type:Ice,input:g,cps:p,tokens0:kH(f),tokens:ZH(Sl(p),{nf:!1})}),i=o):i=c-1,o=-1}else o=i;else a.type!==WN&&(o=-1)}return kH(s)}function $N(r){return r==a_||r==$H}function SH(r){return r.some(e=>HH.has(e))}function kH(r){for(let e=0;e<r.length;e++)if(r[e].type==a_){let t=e+1;for(;t<r.length&&r[t].type==a_;)t++;r.splice(e,t-e,{type:a_,cps:r.slice(e,t).flatMap(n=>n.cps)})}return r}ao.ens_beautify=Sce;ao.ens_emoji=Pce;ao.ens_normalize=Ece;ao.ens_normalize_fragment=Ace;ao.ens_split=Oce;ao.ens_tokenize=ZH;ao.is_combining_mark=GH;ao.nfc=bm;ao.nfd=x3;ao.safe_str_from_cps=d_;ao.should_escape=o4});var tG=M(Dc=>{y();b();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.dnsEncode=Dc.namehash=Dc.isValidName=Dc.ensNormalize=void 0;var QH=an(),co=fe(),jce=c4(),YH=new Uint8Array(32);YH.fill(0);function XH(r){return(0,co.assertArgument)(r.length!==0,"invalid ENS name; empty component","comp",r),r}function u4(r){let e=(0,co.toUtf8Bytes)(eG(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(XH(e.slice(n,s))),n=s+1);return(0,co.assertArgument)(n<e.length,"invalid ENS name; empty component","name",r),t.push(XH(e.slice(n))),t}function eG(r){try{if(r.length===0)throw new Error("empty label");return(0,jce.ens_normalize)(r)}catch(e){(0,co.assertArgument)(!1,`invalid ENS name (${e.message})`,"name",r)}}Dc.ensNormalize=eG;function Fce(r){try{return u4(r).length!==0}catch{}return!1}Dc.isValidName=Fce;function Lce(r){(0,co.assertArgument)(typeof r=="string","invalid ENS name; not a string","name",r),(0,co.assertArgument)(r.length,"invalid ENS name (empty label)","name",r);let e=YH,t=u4(r);for(;t.length;)e=(0,QH.keccak256)((0,co.concat)([e,(0,QH.keccak256)(t.pop())]));return(0,co.hexlify)(e)}Dc.namehash=Lce;function Uce(r,e){let t=e??63;return(0,co.assertArgument)(t<=255,"DNS encoded label cannot exceed 255","length",t),(0,co.hexlify)((0,co.concat)(u4(r).map(n=>{(0,co.assertArgument)(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);let s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}Dc.dnsEncode=Uce});var nG=M(wm=>{y();b();Object.defineProperty(wm,"__esModule",{value:!0});wm.verifyMessage=wm.hashMessage=void 0;var Dce=an(),qce=Vp(),Hce=Ts(),_3=fe();function rG(r){return typeof r=="string"&&(r=(0,_3.toUtf8Bytes)(r)),(0,Dce.keccak256)((0,_3.concat)([(0,_3.toUtf8Bytes)(qce.MessagePrefix),(0,_3.toUtf8Bytes)(String(r.length)),r]))}wm.hashMessage=rG;function Gce(r,e){let t=rG(r);return(0,Hce.recoverAddress)(t,e)}wm.verifyMessage=Gce});var oG=M(kl=>{y();b();Object.defineProperty(kl,"__esModule",{value:!0});kl.solidityPackedSha256=kl.solidityPackedKeccak256=kl.solidityPacked=void 0;var Kce=Xr(),sG=an(),wr=fe(),Vce=new RegExp("^bytes([0-9]+)$"),zce=new RegExp("^(u?int)([0-9]*)$"),Jce=new RegExp("^(.*)\\[([0-9]*)\\]$");function iG(r,e,t){switch(r){case"address":return t?(0,wr.getBytes)((0,wr.zeroPadValue)(e,32)):(0,wr.getBytes)((0,Kce.getAddress)(e));case"string":return(0,wr.toUtf8Bytes)(e);case"bytes":return(0,wr.getBytes)(e);case"bool":return e=e?"0x01":"0x00",t?(0,wr.getBytes)((0,wr.zeroPadValue)(e,32)):(0,wr.getBytes)(e)}let n=r.match(zce);if(n){let s=n[1]==="int",i=parseInt(n[2]||"256");return(0,wr.assertArgument)((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",r),t&&(i=256),s&&(e=(0,wr.toTwos)(e,i)),(0,wr.getBytes)((0,wr.zeroPadValue)((0,wr.toBeArray)(e),i/8))}if(n=r.match(Vce),n){let s=parseInt(n[1]);return(0,wr.assertArgument)(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",r),(0,wr.assertArgument)((0,wr.dataLength)(e)===s,`invalid value for ${r}`,"value",e),t?(0,wr.getBytes)((0,wr.zeroPadBytes)(e,32)):e}if(n=r.match(Jce),n&&Array.isArray(e)){let s=n[1],i=parseInt(n[2]||String(e.length));(0,wr.assertArgument)(i===e.length,`invalid array length for ${r}`,"value",e);let o=[];return e.forEach(function(a){o.push(iG(s,a,!0))}),(0,wr.getBytes)((0,wr.concat)(o))}(0,wr.assertArgument)(!1,"invalid type","type",r)}function f4(r,e){(0,wr.assertArgument)(r.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return r.forEach(function(n,s){t.push(iG(n,e[s]))}),(0,wr.hexlify)((0,wr.concat)(t))}kl.solidityPacked=f4;function Wce(r,e){return(0,sG.keccak256)(f4(r,e))}kl.solidityPackedKeccak256=Wce;function $ce(r,e){return(0,sG.sha256)(f4(r,e))}kl.solidityPackedSha256=$ce});var mG=M(Pm=>{y();b();Object.defineProperty(Pm,"__esModule",{value:!0});Pm.verifyTypedData=Pm.TypedDataEncoder=void 0;var fG=Xr(),_m=an(),Zce=Ts(),Ce=fe(),lG=zN(),dG=new Uint8Array(32);dG.fill(0);var Qce=BigInt(-1),hG=BigInt(0),gG=BigInt(1),Xce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Yce(r){let e=(0,Ce.getBytes)(r),t=e.length%32;return t?(0,Ce.concat)([e,dG.slice(t)]):(0,Ce.hexlify)(e)}var eue=(0,Ce.toBeHex)(gG,32),tue=(0,Ce.toBeHex)(hG,32),aG={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},l4=["name","version","chainId","verifyingContract","salt"];function cG(r){return function(e){return(0,Ce.assertArgument)(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}var rue={name:cG("name"),version:cG("version"),chainId:function(r){let e=(0,Ce.getBigInt)(r,"domain.chainId");return(0,Ce.assertArgument)(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):(0,Ce.toQuantity)(e)},verifyingContract:function(r){try{return(0,fG.getAddress)(r).toLowerCase()}catch{}(0,Ce.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){let e=(0,Ce.getBytes)(r,"domain.salt");return(0,Ce.assertArgument)(e.length===32,'invalid domain value "salt"',"domain.salt",r),(0,Ce.hexlify)(e)}};function d4(r){{let e=r.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",n=parseInt(e[2]);(0,Ce.assertArgument)(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);let s=(0,Ce.mask)(Xce,t?n-1:n),i=t?(s+gG)*Qce:hG;return function(o){let a=(0,Ce.getBigInt)(o,"value");return(0,Ce.assertArgument)(a>=i&&a<=s,`value out-of-bounds for ${r}`,"value",a),(0,Ce.toBeHex)(t?(0,Ce.toTwos)(a,256):a,32)}}}{let e=r.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return(0,Ce.assertArgument)(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){let s=(0,Ce.getBytes)(n);return(0,Ce.assertArgument)(s.length===t,`invalid length for ${r}`,"value",n),Yce(n)}}}switch(r){case"address":return function(e){return(0,Ce.zeroPadValue)((0,fG.getAddress)(e),32)};case"bool":return function(e){return e?eue:tue};case"bytes":return function(e){return(0,_m.keccak256)(e)};case"string":return function(e){return(0,lG.id)(e)}}return null}function uG(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function v3(r){let e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}var h_,Zu,vm,A3,pG,uo=class{constructor(e){T(this,A3);O(this,"primaryType");T(this,h_,void 0);T(this,Zu,void 0);T(this,vm,void 0);w(this,Zu,new Map),w(this,vm,new Map);let t=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:f,type:g})=>{let{base:p,index:A}=v3(g);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:f,type:p+(A||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),w(this,h_,JSON.stringify(i));for(let c in i){let f=new Set;for(let g of i[c]){(0,Ce.assertArgument)(!f.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(c)}`,"types",e),f.add(g.name);let p=v3(g.type).base;(0,Ce.assertArgument)(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!d4(p)&&((0,Ce.assertArgument)(n.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),n.get(p).push(c),t.get(c).add(p))}}let o=Array.from(n.keys()).filter(c=>n.get(c).length===0);(0,Ce.assertArgument)(o.length!==0,"missing primary type","types",e),(0,Ce.assertArgument)(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),(0,Ce.defineProperties)(this,{primaryType:o[0]});function a(c,f){(0,Ce.assertArgument)(!f.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),f.add(c);for(let g of t.get(c))if(!!n.has(g)){a(g,f);for(let p of f)s.get(p).add(g)}f.delete(c)}a(this.primaryType,new Set);for(let[c,f]of s){let g=Array.from(f);g.sort(),h(this,Zu).set(c,uG(c,i[c])+g.map(p=>uG(p,i[p])).join(""))}}get types(){return JSON.parse(h(this,h_))}getEncoder(e){let t=h(this,vm).get(e);return t||(t=D(this,A3,pG).call(this,e),h(this,vm).set(e,t)),t}encodeType(e){let t=h(this,Zu).get(e);return(0,Ce.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,_m.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(d4(e))return n(e,t);let s=v3(e).array;if(s)return(0,Ce.assertArgument)(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,n));let i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{});(0,Ce.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new uo(e)}static getPrimaryType(e){return uo.from(e).primaryType}static hashStruct(e,t,n){return uo.from(t).hashStruct(e,n)}static hashDomain(e){let t=[];for(let n in e){if(e[n]==null)continue;let s=aG[n];(0,Ce.assertArgument)(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>l4.indexOf(n.name)-l4.indexOf(s.name)),uo.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return(0,Ce.concat)(["0x1901",uo.hashDomain(e),uo.from(t).hash(n)])}static hash(e,t,n){return(0,_m.keccak256)(uo.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!(0,Ce.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=uo.from(t);o.visit(n,(a,c)=>(a==="address"&&!(0,Ce.isHexString)(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,t,n){uo.hashDomain(e);let s={},i=[];l4.forEach(c=>{let f=e[c];f!=null&&(s[c]=rue[c](f),i.push({name:c,type:aG[c]}))});let o=uo.from(t);t=o.types;let a=Object.assign({},t);return(0,Ce.assertArgument)(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return(0,Ce.hexlify)((0,Ce.getBytes)(f));if(c.match(/^u?int/))return(0,Ce.getBigInt)(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return(0,Ce.assertArgument)(typeof f=="string","invalid string","value",f),f}(0,Ce.assertArgument)(!1,"unsupported type","type",c)})}}},P3=uo;h_=new WeakMap,Zu=new WeakMap,vm=new WeakMap,A3=new WeakSet,pG=function(e){{let s=d4(e);if(s)return s}let t=v3(e).array;if(t){let s=t.prefix,i=this.getEncoder(s);return o=>{(0,Ce.assertArgument)(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return h(this,Zu).has(s)&&(a=a.map(_m.keccak256)),(0,_m.keccak256)((0,Ce.concat)(a))}}let n=this.types[e];if(n){let s=(0,lG.id)(h(this,Zu).get(e));return i=>{let o=n.map(({name:a,type:c})=>{let f=this.getEncoder(c)(i[a]);return h(this,Zu).has(c)?(0,_m.keccak256)(f):f});return o.unshift(s),(0,Ce.concat)(o)}}(0,Ce.assertArgument)(!1,`unknown type: ${e}`,"type",e)};Pm.TypedDataEncoder=P3;function nue(r,e,t,n){return(0,Zce.recoverAddress)(P3.hash(r,e,t),n)}Pm.verifyTypedData=nue});var qc=M(nr=>{y();b();Object.defineProperty(nr,"__esModule",{value:!0});nr.verifyTypedData=nr.TypedDataEncoder=nr.solidityPackedSha256=nr.solidityPackedKeccak256=nr.solidityPacked=nr.verifyMessage=nr.hashMessage=nr.dnsEncode=nr.namehash=nr.isValidName=nr.ensNormalize=nr.id=nr.verifyAuthorization=nr.hashAuthorization=void 0;var yG=_H();Object.defineProperty(nr,"hashAuthorization",{enumerable:!0,get:function(){return yG.hashAuthorization}});Object.defineProperty(nr,"verifyAuthorization",{enumerable:!0,get:function(){return yG.verifyAuthorization}});var sue=zN();Object.defineProperty(nr,"id",{enumerable:!0,get:function(){return sue.id}});var E3=tG();Object.defineProperty(nr,"ensNormalize",{enumerable:!0,get:function(){return E3.ensNormalize}});Object.defineProperty(nr,"isValidName",{enumerable:!0,get:function(){return E3.isValidName}});Object.defineProperty(nr,"namehash",{enumerable:!0,get:function(){return E3.namehash}});Object.defineProperty(nr,"dnsEncode",{enumerable:!0,get:function(){return E3.dnsEncode}});var bG=nG();Object.defineProperty(nr,"hashMessage",{enumerable:!0,get:function(){return bG.hashMessage}});Object.defineProperty(nr,"verifyMessage",{enumerable:!0,get:function(){return bG.verifyMessage}});var h4=oG();Object.defineProperty(nr,"solidityPacked",{enumerable:!0,get:function(){return h4.solidityPacked}});Object.defineProperty(nr,"solidityPackedKeccak256",{enumerable:!0,get:function(){return h4.solidityPackedKeccak256}});Object.defineProperty(nr,"solidityPackedSha256",{enumerable:!0,get:function(){return h4.solidityPackedSha256}});var xG=mG();Object.defineProperty(nr,"TypedDataEncoder",{enumerable:!0,get:function(){return xG.TypedDataEncoder}});Object.defineProperty(nr,"verifyTypedData",{enumerable:!0,get:function(){return xG.verifyTypedData}})});var T3=M(cn=>{y();b();Object.defineProperty(cn,"__esModule",{value:!0});cn.StructFragment=cn.FunctionFragment=cn.FallbackFragment=cn.ConstructorFragment=cn.EventFragment=cn.ErrorFragment=cn.NamedFragment=cn.Fragment=cn.ParamType=void 0;var Zt=fe(),p4=qc();function Ns(r){let e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}var iue="external public payable override",oue=Ns(iue.split(" ")),TG="constant external internal payable private public pure view override",aue=Ns(TG.split(" ")),NG="constructor error event fallback function receive struct",CG=Ns(NG.split(" ")),RG="calldata memory storage payable indexed",cue=Ns(RG.split(" ")),uue="tuple returns",fue=[NG,RG,uue,TG].join(" "),lue=Ns(fue.split(" ")),due={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},hue=new RegExp("^(\\s*)"),gue=new RegExp("^([0-9]+)"),pue=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),BG=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),IG=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Kn,ja,p_,g4,k3=class{constructor(e){T(this,p_);T(this,Kn,void 0);T(this,ja,void 0);w(this,Kn,0),w(this,ja,e.slice())}get offset(){return h(this,Kn)}get length(){return h(this,ja).length-h(this,Kn)}clone(){return new k3(h(this,ja))}reset(){w(this,Kn,0)}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=D(this,p_,g4).call(this,h(this,Kn)+1,e.match+1);return w(this,Kn,e.match+1),t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;h(this,Kn)<e.match-1;){let n=this.peek().linkNext;t.push(D(this,p_,g4).call(this,h(this,Kn)+1,n)),w(this,Kn,n)}return w(this,Kn,e.match+1),t}peek(){if(h(this,Kn)>=h(this,ja).length)throw new Error("out-of-bounds");return h(this,ja)[h(this,Kn)]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return On(this,Kn)._++,e}toString(){let e=[];for(let t=h(this,Kn);t<h(this,ja).length;t++){let n=h(this,ja)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}},Ua=k3;Kn=new WeakMap,ja=new WeakMap,p_=new WeakSet,g4=function(e=0,t=0){return new k3(h(this,ja).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};function Ol(r){let e=[],t=o=>{let a=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)},n=[],s=[],i=0;for(;i<r.length;){let o=r.substring(i),a=o.match(hue);a&&(i+=a[1].length,o=r.substring(i));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let f=due[o[0]]||"";if(f){if(c.type=f,c.text=o[0],i++,f==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(f==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(f==="OPEN_BRACKET")c.type="BRACKET";else if(f==="CLOSE_BRACKET"){let g=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let p=e.pop().text;g=p+g,e[e.length-1].value=(0,Zt.getNumber)(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=g}continue}if(a=o.match(pue),a){if(c.text=a[1],i+=c.text.length,lue.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(IG)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(gue),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Ua(e.map(o=>Object.freeze(o)))}function wG(r,e){let t=[];for(let n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function O3(r,e){if(e.peekKeyword(CG)){let t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function Xu(r,e){let t=new Set;for(;;){let n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function MG(r){let e=Xu(r,aue);return wG(e,Ns("constant payable nonpayable".split(" "))),wG(e,Ns("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Qu(r,e){return r.popParams().map(t=>ri.from(t,e))}function jG(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return(0,Zt.getBigInt)(r.pop().text);throw new Error("invalid gas")}return null}function sh(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}var mue=new RegExp(/^(.*)\[([0-9]*)\]$/);function _G(r){let e=r.match(IG);if((0,Zt.assertArgument)(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){let t=parseInt(e[2]);(0,Zt.assertArgument)(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){let t=parseInt(e[3]);(0,Zt.assertArgument)(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}var Br={},ni=Symbol.for("_ethers_internal"),vG="_ParamTypeInternal",PG="_ErrorInternal",AG="_EventInternal",EG="_ConstructorInternal",SG="_FallbackInternal",kG="_FunctionInternal",OG="_StructInternal",Am,S3,fo=class{constructor(e,t,n,s,i,o,a,c){T(this,Am);O(this,"name");O(this,"type");O(this,"baseType");O(this,"indexed");O(this,"components");O(this,"arrayLength");O(this,"arrayChildren");if((0,Zt.assertPrivate)(e,Br,"ParamType"),Object.defineProperty(this,ni,{value:vG}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");(0,Zt.defineProperties)(this,{name:t,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){let n=[],s=[e];return D(this,Am,S3).call(this,n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(fo.isParamType(e))return e;if(typeof e=="string")try{return fo.from(Ol(e),t)}catch{(0,Zt.assertArgument)(!1,"invalid param type","obj",e)}else if(e instanceof Ua){let a="",c="",f=null;Xu(e,Ns(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",f=e.popParams().map(N=>fo.from(N)),a=`tuple(${f.map(N=>N.format()).join(",")})`):(a=_G(e.popType("TYPE")),c=a);let g=null,p=null;for(;e.length&&e.peekType("BRACKET");){let N=e.pop();g=new fo(Br,"",a,c,null,f,p,g),p=N.value,a+=N.text,c="array",f=null}let A=null;if(Xu(e,cue).has("indexed")){if(!t)throw new Error("");A=!0}let C=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new fo(Br,C,a,c,A,f,p,g)}let n=e.name;(0,Zt.assertArgument)(!n||typeof n=="string"&&n.match(BG),"invalid name","obj.name",n);let s=e.indexed;s!=null&&((0,Zt.assertArgument)(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(mue);if(o){let a=parseInt(o[2]||"-1"),c=fo.from({type:o[1],components:e.components});return new fo(Br,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(f=>fo.from(f)):null;return new fo(Br,n||"",i,"tuple",s,a,null,null)}return i=_G(e.type),new fo(Br,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[ni]===vG}},ri=fo;Am=new WeakSet,S3=function(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=t.slice();a.forEach((c,f)=>{var g;D(g=o,Am,S3).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}if(this.isTuple()){let o=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,f)=>{var g;D(g=o[f],Am,S3).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}let i=n(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};cn.ParamType=ri;var Yu=class{constructor(e,t,n){O(this,"type");O(this,"inputs");(0,Zt.assertPrivate)(e,Br,"Fragment"),n=Object.freeze(n.slice()),(0,Zt.defineProperties)(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{Yu.from(JSON.parse(e))}catch{}return Yu.from(Ol(e))}if(e instanceof Ua)switch(e.peekKeyword(CG)){case"constructor":return La.from(e);case"error":return Fa.from(e);case"event":return ho.from(e);case"fallback":case"receive":return lo.from(e);case"function":return go.from(e);case"struct":return Hc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return La.from(e);case"error":return Fa.from(e);case"event":return ho.from(e);case"fallback":case"receive":return lo.from(e);case"function":return go.from(e);case"struct":return Hc.from(e)}(0,Zt.assert)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,Zt.assertArgument)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return La.isFragment(e)}static isError(e){return Fa.isFragment(e)}static isEvent(e){return ho.isFragment(e)}static isFunction(e){return go.isFragment(e)}static isStruct(e){return Hc.isFragment(e)}};cn.Fragment=Yu;var ih=class extends Yu{constructor(t,n,s,i){super(t,n,i);O(this,"name");(0,Zt.assertArgument)(typeof s=="string"&&s.match(BG),"invalid identifier","name",s),i=Object.freeze(i.slice()),(0,Zt.defineProperties)(this,{name:s})}};cn.NamedFragment=ih;function g_(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}var Fa=class extends ih{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,ni,{value:PG})}get selector(){return(0,p4.id)(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+g_(e,this.inputs)),t.join(" ")}static from(e){if(Fa.isFragment(e))return e;if(typeof e=="string")return Fa.from(Ol(e));if(e instanceof Ua){let t=O3("error",e),n=Qu(e);return sh(e),new Fa(Br,t,n)}return new Fa(Br,e.name,e.inputs?e.inputs.map(ri.from):[])}static isFragment(e){return e&&e[ni]===PG}};cn.ErrorFragment=Fa;var ho=class extends ih{constructor(t,n,s,i){super(t,"event",n,s);O(this,"anonymous");Object.defineProperty(this,ni,{value:AG}),(0,Zt.defineProperties)(this,{anonymous:i})}get topicHash(){return(0,p4.id)(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+g_(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(i=>ri.from(i)),new ho(Br,t,n,!1).topicHash}static from(t){if(ho.isFragment(t))return t;if(typeof t=="string")try{return ho.from(Ol(t))}catch{(0,Zt.assertArgument)(!1,"invalid event fragment","obj",t)}else if(t instanceof Ua){let n=O3("event",t),s=Qu(t,!0),i=!!Xu(t,Ns(["anonymous"])).has("anonymous");return sh(t),new ho(Br,n,s,i)}return new ho(Br,t.name,t.inputs?t.inputs.map(n=>ri.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[ni]===AG}};cn.EventFragment=ho;var La=class extends Yu{constructor(t,n,s,i,o){super(t,n,s);O(this,"payable");O(this,"gas");Object.defineProperty(this,ni,{value:EG}),(0,Zt.defineProperties)(this,{payable:i,gas:o})}format(t){if((0,Zt.assert)(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[`constructor${g_(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(La.isFragment(t))return t;if(typeof t=="string")try{return La.from(Ol(t))}catch{(0,Zt.assertArgument)(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Ua){Xu(t,Ns(["constructor"]));let n=Qu(t),s=!!Xu(t,oue).has("payable"),i=jG(t);return sh(t),new La(Br,"constructor",n,s,i)}return new La(Br,"constructor",t.inputs?t.inputs.map(ri.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ni]===EG}};cn.ConstructorFragment=La;var lo=class extends Yu{constructor(t,n,s){super(t,"fallback",n);O(this,"payable");Object.defineProperty(this,ni,{value:SG}),(0,Zt.defineProperties)(this,{payable:s})}format(t){let n=this.inputs.length===0?"receive":"fallback";if(t==="json"){let s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(t){if(lo.isFragment(t))return t;if(typeof t=="string")try{return lo.from(Ol(t))}catch{(0,Zt.assertArgument)(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Ua){let n=t.toString(),s=t.peekKeyword(Ns(["fallback","receive"]));if((0,Zt.assertArgument)(s,"type must be fallback or receive","obj",n),t.popKeyword(Ns(["fallback","receive"]))==="receive"){let c=Qu(t);return(0,Zt.assertArgument)(c.length===0,"receive cannot have arguments","obj.inputs",c),Xu(t,Ns(["payable"])),sh(t),new lo(Br,[],!0)}let o=Qu(t);o.length?(0,Zt.assertArgument)(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[ri.from("bytes")];let a=MG(t);if((0,Zt.assertArgument)(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Xu(t,Ns(["returns"])).has("returns")){let c=Qu(t);(0,Zt.assertArgument)(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(f=>f.format("minimal")).join(", "))}return sh(t),new lo(Br,o,a==="payable")}if(t.type==="receive")return new lo(Br,[],!0);if(t.type==="fallback"){let n=[ri.from("bytes")],s=t.stateMutability==="payable";return new lo(Br,n,s)}(0,Zt.assertArgument)(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[ni]===SG}};cn.FallbackFragment=lo;var go=class extends ih{constructor(t,n,s,i,o,a){super(t,"function",n,i);O(this,"constant");O(this,"outputs");O(this,"stateMutability");O(this,"payable");O(this,"gas");Object.defineProperty(this,ni,{value:kG}),o=Object.freeze(o.slice());let c=s==="view"||s==="pure",f=s==="payable";(0,Zt.defineProperties)(this,{constant:c,gas:a,outputs:o,payable:f,stateMutability:s})}get selector(){return(0,p4.id)(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+g_(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(g_(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(i=>ri.from(i)),new go(Br,t,"view",n,[],null).selector}static from(t){if(go.isFragment(t))return t;if(typeof t=="string")try{return go.from(Ol(t))}catch{(0,Zt.assertArgument)(!1,"invalid function fragment","obj",t)}else if(t instanceof Ua){let s=O3("function",t),i=Qu(t),o=MG(t),a=[];Xu(t,Ns(["returns"])).has("returns")&&(a=Qu(t));let c=jG(t);return sh(t),new go(Br,s,o,i,a,c)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new go(Br,t.name,n,t.inputs?t.inputs.map(ri.from):[],t.outputs?t.outputs.map(ri.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ni]===kG}};cn.FunctionFragment=go;var Hc=class extends ih{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,ni,{value:OG})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Hc.from(Ol(e))}catch{(0,Zt.assertArgument)(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ua){let t=O3("struct",e),n=Qu(e);return sh(e),new Hc(Br,t,n)}return new Hc(Br,e.name,e.inputs?e.inputs.map(ri.from):[])}static isFragment(e){return e&&e[ni]===OG}};cn.StructFragment=Hc});var x4=M(R3=>{y();b();Object.defineProperty(R3,"__esModule",{value:!0});R3.AbiCoder=void 0;var m_=fe(),FG=to(),yue=eH(),bue=kN(),xue=sH(),wue=NN(),_ue=oH(),vue=aH(),Pue=cH(),Aue=fH(),N3=dH(),m4=T3(),LG=Xr(),y_=fe(),Da=new Map;Da.set(0,"GENERIC_PANIC");Da.set(1,"ASSERT_FALSE");Da.set(17,"OVERFLOW");Da.set(18,"DIVIDE_BY_ZERO");Da.set(33,"ENUM_RANGE_ERROR");Da.set(34,"BAD_STORAGE_DATA");Da.set(49,"STACK_UNDERFLOW");Da.set(50,"ARRAY_RANGE_ERROR");Da.set(65,"OUT_OF_MEMORY");Da.set(81,"UNINITIALIZED_FUNCTION_CALL");var Eue=new RegExp(/^bytes([0-9]*)$/),Sue=new RegExp(/^(u?int)([0-9]*)$/),y4=null,UG=1024;function kue(r,e,t,n){let s="missing revert data",i=null,o=null,a=null;if(t){s="execution reverted";let f=(0,y_.getBytes)(t);if(t=(0,y_.hexlify)(t),f.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(f.length%32!==4)s+=" (could not decode reason; invalid data length)";else if((0,y_.hexlify)(f.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if((0,y_.hexlify)(f.slice(0,4))==="0x4e487b71")try{let g=Number(n.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[g]},i=`Panic due to ${Da.get(g)||"UNKNOWN"}(${g})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?(0,LG.getAddress)(e.to):null,data:e.data||"0x"};return e.from&&(c.from=(0,LG.getAddress)(e.from)),(0,y_.makeError)(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:c,invocation:o,revert:a})}var Tl,Em,C3=class{constructor(){T(this,Tl)}getDefaultValue(e){let t=e.map(s=>D(this,Tl,Em).call(this,m4.ParamType.from(s)));return new N3.TupleCoder(t,"_").defaultValue()}encode(e,t){(0,m_.assertArgumentCount)(t.length,e.length,"types/values length mismatch");let n=e.map(o=>D(this,Tl,Em).call(this,m4.ParamType.from(o))),s=new N3.TupleCoder(n,"_"),i=new FG.Writer;return s.encode(i,t),i.data}decode(e,t,n){let s=e.map(o=>D(this,Tl,Em).call(this,m4.ParamType.from(o)));return new N3.TupleCoder(s,"_").decode(new FG.Reader(t,n,UG))}static _setDefaultMaxInflation(e){(0,m_.assertArgument)(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),UG=e}static defaultAbiCoder(){return y4==null&&(y4=new C3),y4}static getBuiltinCallException(e,t,n){return kue(e,t,n,C3.defaultAbiCoder())}},b4=C3;Tl=new WeakSet,Em=function(e){if(e.isArray())return new bue.ArrayCoder(D(this,Tl,Em).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new N3.TupleCoder(e.components.map(n=>D(this,Tl,Em).call(this,n)),e.name);switch(e.baseType){case"address":return new yue.AddressCoder(e.name);case"bool":return new xue.BooleanCoder(e.name);case"string":return new Aue.StringCoder(e.name);case"bytes":return new wue.BytesCoder(e.name);case"":return new vue.NullCoder(e.name)}let t=e.type.match(Sue);if(t){let n=parseInt(t[2]||"256");return(0,m_.assertArgument)(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Pue.NumberCoder(n/8,t[1]==="int",e.name)}if(t=e.type.match(Eue),t){let n=parseInt(t[1]);return(0,m_.assertArgument)(n!==0&&n<=32,"invalid bytes length","param",e),new _ue.FixedBytesCoder(n,e.name)}(0,m_.assertArgument)(!1,"invalid type","type",e.type)};R3.AbiCoder=b4});var DG=M(Sm=>{y();b();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.decodeBytes32String=Sm.encodeBytes32String=void 0;var B3=fe();function Oue(r){let e=(0,B3.toUtf8Bytes)(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,B3.zeroPadBytes)(e,32)}Sm.encodeBytes32String=Oue;function Tue(r){let e=(0,B3.getBytes)(r,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return(0,B3.toUtf8String)(e.slice(0,t))}Sm.decodeBytes32String=Tue});var zG=M(as=>{y();b();Object.defineProperty(as,"__esModule",{value:!0});as.Interface=as.Indexed=as.ErrorDescription=as.TransactionDescription=as.LogDescription=as.Result=as.checkResultErrors=void 0;var qG=an(),HG=qc(),we=fe(),GG=x4(),v4=to();Object.defineProperty(as,"checkResultErrors",{enumerable:!0,get:function(){return v4.checkResultErrors}});Object.defineProperty(as,"Result",{enumerable:!0,get:function(){return v4.Result}});var qa=T3(),w4=jc(),j3=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"signature");O(this,"topic");O(this,"args");let s=e.name,i=e.format();(0,we.defineProperties)(this,{fragment:e,name:s,signature:i,topic:t,args:n})}};as.LogDescription=j3;var F3=class{constructor(e,t,n,s){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");O(this,"value");let i=e.name,o=e.format();(0,we.defineProperties)(this,{fragment:e,name:i,args:n,signature:o,selector:t,value:s})}};as.TransactionDescription=F3;var L3=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");let s=e.name,i=e.format();(0,we.defineProperties)(this,{fragment:e,name:s,args:n,signature:i,selector:t})}};as.ErrorDescription=L3;var b_=class{constructor(e){O(this,"hash");O(this,"_isIndexed");(0,we.defineProperties)(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}};as.Indexed=b_;var KG={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},VG={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&KG[r.toString()]&&(e=KG[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}},Gc,Kc,Vc,os,km,I3,Om,M3,oh=class{constructor(e){T(this,km);T(this,Om);O(this,"fragments");O(this,"deploy");O(this,"fallback");O(this,"receive");T(this,Gc,void 0);T(this,Kc,void 0);T(this,Vc,void 0);T(this,os,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,w(this,Vc,new Map),w(this,Gc,new Map),w(this,Kc,new Map);let n=[];for(let o of t)try{n.push(qa.Fragment.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}(0,we.defineProperties)(this,{fragments:Object.freeze(n)});let s=null,i=!1;w(this,os,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,we.defineProperties)(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:((0,we.assertArgument)(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=h(this,Vc);break;case"event":c=h(this,Kc);break;case"error":c=h(this,Gc);break;default:return}let f=o.format();c.has(f)||c.set(f,o)}),this.deploy||(0,we.defineProperties)(this,{deploy:qa.ConstructorFragment.from("constructor()")}),(0,we.defineProperties)(this,{fallback:s,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return GG.AbiCoder.defaultAbiCoder()}getFunctionName(e){let t=D(this,km,I3).call(this,e,null,!1);return(0,we.assertArgument)(t,"no matching function","key",e),t.name}hasFunction(e){return!!D(this,km,I3).call(this,e,null,!1)}getFunction(e,t){return D(this,km,I3).call(this,e,t||null,!0)}forEachFunction(e){let t=Array.from(h(this,Vc).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,Vc).get(s),n)}}getEventName(e){let t=D(this,Om,M3).call(this,e,null,!1);return(0,we.assertArgument)(t,"no matching event","key",e),t.name}hasEvent(e){return!!D(this,Om,M3).call(this,e,null,!1)}getEvent(e,t){return D(this,Om,M3).call(this,e,t||null,!0)}forEachEvent(e){let t=Array.from(h(this,Kc).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,Kc).get(s),n)}}getError(e,t){if((0,we.isHexString)(e)){let s=e.toLowerCase();if(VG[s])return qa.ErrorFragment.from(VG[s].signature);for(let i of h(this,Gc).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of h(this,Gc))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?qa.ErrorFragment.from("error Error(string)"):e==="Panic"?qa.ErrorFragment.from("error Panic(uint256)"):null;if(s.length>1){let i=s.map(o=>JSON.stringify(o.format())).join(", ");(0,we.assertArgument)(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=qa.ErrorFragment.from(e).format(),e==="Error(string)")return qa.ErrorFragment.from("error Error(string)");if(e==="Panic(uint256)")return qa.ErrorFragment.from("error Panic(uint256)");let n=h(this,Gc).get(e);return n||null}forEachError(e){let t=Array.from(h(this,Gc).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,Gc).get(s),n)}}_decodeParams(e,t){return h(this,os).decode(e,t)}_encodeParams(e,t){return h(this,os).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,we.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,we.assertArgument)((0,we.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,we.dataSlice)(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,we.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,we.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,we.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,we.assertArgument)((0,we.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,we.dataSlice)(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,we.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,we.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let i=this.getFunction(e);(0,we.assertArgument)(i,"unknown function","fragment",e),e=i}let n="invalid length for result data",s=(0,we.getBytesCopy)(t);if(s.length%32===0)try{return h(this,os).decode(e.outputs,s)}catch{n="could not decode result data"}(0,we.assert)(!1,n,"BAD_DATA",{value:(0,we.hexlify)(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){let n=(0,we.getBytes)(e,"data"),s=GG.AbiCoder.getBuiltinCallException("call",t,n),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){let a=(0,we.hexlify)(n.slice(0,4)),c=this.getError(a);if(c)try{let f=h(this,os).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:f},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,we.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,we.hexlify)(h(this,os).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let i=this.getEvent(e);(0,we.assertArgument)(i,"unknown event","eventFragment",e),e=i}(0,we.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let s=(i,o)=>i.type==="string"?(0,HG.id)(o):i.type==="bytes"?(0,qG.keccak256)((0,we.hexlify)(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=(0,we.toBeHex)(o):i.type.match(/^bytes/)?o=(0,we.zeroPadBytes)(o,32):i.type==="address"&&h(this,os).encode(["address"],[o]),(0,we.zeroPadValue)((0,we.hexlify)(o),32));for(t.forEach((i,o)=>{let a=e.inputs[o];if(!a.indexed){(0,we.assertArgument)(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?(0,we.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){let o=this.getEvent(e);(0,we.assertArgument)(o,"unknown event","eventFragment",e),e=o}let n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),(0,we.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{let c=t[a];if(o.indexed)if(o.type==="string")n.push((0,HG.id)(c));else if(o.type==="bytes")n.push((0,qG.keccak256)(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(h(this,os).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:h(this,os).encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){let P=this.getEvent(e);(0,we.assertArgument)(P,"unknown event","eventFragment",e),e=P}if(n!=null&&!e.anonymous){let P=e.topicHash;(0,we.assertArgument)((0,we.isHexString)(n[0],32)&&n[0].toLowerCase()===P,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((P,C)=>{P.indexed?P.type==="string"||P.type==="bytes"||P.baseType==="tuple"||P.baseType==="array"?(s.push(qa.ParamType.from({type:"bytes32",name:P.name})),o.push(!0)):(s.push(P),o.push(!1)):(i.push(P),o.push(!1))});let a=n!=null?h(this,os).decode(s,(0,we.concat)(n)):null,c=h(this,os).decode(i,t,!0),f=[],g=[],p=0,A=0;return e.inputs.forEach((P,C)=>{let N=null;if(P.indexed)if(a==null)N=new b_(null);else if(o[C])N=new b_(a[A++]);else try{N=a[A++]}catch(U){N=U}else try{N=c[p++]}catch(U){N=U}f.push(N),g.push(P.name||null)}),v4.Result.fromItems(f,g)}parseTransaction(e){let t=(0,we.getBytes)(e.data,"tx.data"),n=(0,we.getBigInt)(e.value!=null?e.value:0,"tx.value"),s=this.getFunction((0,we.hexlify)(t.slice(0,4)));if(!s)return null;let i=h(this,os).decode(s.inputs,t.slice(4));return new F3(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new j3(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=(0,we.hexlify)(e),n=this.getError((0,we.dataSlice)(t,0,4));if(!n)return null;let s=h(this,os).decode(n.inputs,(0,we.dataSlice)(t,4));return new L3(n,n.selector,s)}static from(e){return e instanceof oh?e:typeof e=="string"?new oh(JSON.parse(e)):typeof e.formatJson=="function"?new oh(e.formatJson()):typeof e.format=="function"?new oh(e.format("json")):new oh(e)}},_4=oh;Gc=new WeakMap,Kc=new WeakMap,Vc=new WeakMap,os=new WeakMap,km=new WeakSet,I3=function(e,t,n){if((0,we.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,Vc).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,Vc))o.split("(")[0]===e&&i.push(a);if(t){let o=t.length>0?t[t.length-1]:null,a=t.length,c=!0;w4.Typed.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let f=i.length-1;f>=0;f--){let g=i[f].inputs.length;g!==a&&(!c||g!==a-1)&&i.splice(f,1)}for(let f=i.length-1;f>=0;f--){let g=i[f].inputs;for(let p=0;p<t.length;p++)if(!!w4.Typed.isTyped(t[p])){if(p>=g.length){if(t[p].type==="overrides")continue;i.splice(f,1);break}if(t[p].type!==g[p].baseType){i.splice(f,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){let o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,we.assertArgument)(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,Vc).get(qa.FunctionFragment.from(e).format());return s||null},Om=new WeakSet,M3=function(e,t,n){if((0,we.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,Kc).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,Kc))o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){let a=i[o].inputs;for(let c=0;c<t.length;c++)if(!!w4.Typed.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,we.assertArgument)(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,Kc).get(qa.EventFragment.from(e).format());return s||null};as.Interface=_4});var Tm=M(qe=>{y();b();Object.defineProperty(qe,"__esModule",{value:!0});qe.Typed=qe.Result=qe.TransactionDescription=qe.LogDescription=qe.ErrorDescription=qe.Interface=qe.Indexed=qe.checkResultErrors=qe.StructFragment=qe.ParamType=qe.NamedFragment=qe.FunctionFragment=qe.Fragment=qe.FallbackFragment=qe.EventFragment=qe.ErrorFragment=qe.ConstructorFragment=qe.encodeBytes32String=qe.decodeBytes32String=qe.AbiCoder=void 0;var Nue=x4();Object.defineProperty(qe,"AbiCoder",{enumerable:!0,get:function(){return Nue.AbiCoder}});var JG=DG();Object.defineProperty(qe,"decodeBytes32String",{enumerable:!0,get:function(){return JG.decodeBytes32String}});Object.defineProperty(qe,"encodeBytes32String",{enumerable:!0,get:function(){return JG.encodeBytes32String}});var ef=T3();Object.defineProperty(qe,"ConstructorFragment",{enumerable:!0,get:function(){return ef.ConstructorFragment}});Object.defineProperty(qe,"ErrorFragment",{enumerable:!0,get:function(){return ef.ErrorFragment}});Object.defineProperty(qe,"EventFragment",{enumerable:!0,get:function(){return ef.EventFragment}});Object.defineProperty(qe,"FallbackFragment",{enumerable:!0,get:function(){return ef.FallbackFragment}});Object.defineProperty(qe,"Fragment",{enumerable:!0,get:function(){return ef.Fragment}});Object.defineProperty(qe,"FunctionFragment",{enumerable:!0,get:function(){return ef.FunctionFragment}});Object.defineProperty(qe,"NamedFragment",{enumerable:!0,get:function(){return ef.NamedFragment}});Object.defineProperty(qe,"ParamType",{enumerable:!0,get:function(){return ef.ParamType}});Object.defineProperty(qe,"StructFragment",{enumerable:!0,get:function(){return ef.StructFragment}});var ah=zG();Object.defineProperty(qe,"checkResultErrors",{enumerable:!0,get:function(){return ah.checkResultErrors}});Object.defineProperty(qe,"Indexed",{enumerable:!0,get:function(){return ah.Indexed}});Object.defineProperty(qe,"Interface",{enumerable:!0,get:function(){return ah.Interface}});Object.defineProperty(qe,"ErrorDescription",{enumerable:!0,get:function(){return ah.ErrorDescription}});Object.defineProperty(qe,"LogDescription",{enumerable:!0,get:function(){return ah.LogDescription}});Object.defineProperty(qe,"TransactionDescription",{enumerable:!0,get:function(){return ah.TransactionDescription}});Object.defineProperty(qe,"Result",{enumerable:!0,get:function(){return ah.Result}});var Cue=jc();Object.defineProperty(qe,"Typed",{enumerable:!0,get:function(){return Cue.Typed}})});var Cm=M(si=>{y();b();Object.defineProperty(si,"__esModule",{value:!0});si.TransactionResponse=si.TransactionReceipt=si.Log=si.Block=si.copyRequest=si.FeeData=void 0;var _r=fe(),Rue=Ts(),WG=BigInt(0);function Nm(r){return r??null}function Yr(r){return r==null?null:r.toString()}var P4=class{constructor(e,t,n){O(this,"gasPrice");O(this,"maxFeePerGas");O(this,"maxPriorityFeePerGas");(0,_r.defineProperties)(this,{gasPrice:Nm(e),maxFeePerGas:Nm(t),maxPriorityFeePerGas:Nm(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Yr(e),maxFeePerGas:Yr(t),maxPriorityFeePerGas:Yr(n)}}};si.FeeData=P4;function Bue(r){let e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=(0,_r.hexlify)(r.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of t)!(s in r)||r[s]==null||(e[s]=(0,_r.getBigInt)(r[s],`request.${s}`));let n="type,nonce".split(/,/);for(let s of n)!(s in r)||r[s]==null||(e[s]=(0,_r.getNumber)(r[s],`request.${s}`));return r.accessList&&(e.accessList=(0,Rue.accessListify)(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>(0,_r.isBytesLike)(s)?(0,_r.hexlify)(s):Object.assign({},s))),e}si.copyRequest=Bue;var tf,A4=class{constructor(e,t){O(this,"provider");O(this,"number");O(this,"hash");O(this,"timestamp");O(this,"parentHash");O(this,"parentBeaconBlockRoot");O(this,"nonce");O(this,"difficulty");O(this,"gasLimit");O(this,"gasUsed");O(this,"stateRoot");O(this,"receiptsRoot");O(this,"blobGasUsed");O(this,"excessBlobGas");O(this,"miner");O(this,"prevRandao");O(this,"extraData");O(this,"baseFeePerGas");T(this,tf,void 0);w(this,tf,e.transactions.map(n=>typeof n!="string"?new D3(n,t):n)),(0,_r.defineProperties)(this,{provider:t,hash:Nm(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Nm(e.prevRandao),extraData:e.extraData,baseFeePerGas:Nm(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return h(this,tf).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=h(this,tf).slice();return e.length===0?[]:((0,_r.assert)(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,timestamp:N,transactions:U}=this;return{_type:"Block",baseFeePerGas:Yr(e),difficulty:Yr(t),extraData:n,gasLimit:Yr(s),gasUsed:Yr(i),blobGasUsed:Yr(this.blobGasUsed),excessBlobGas:Yr(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,timestamp:N,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,transactions:U}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return h(this,tf).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=h(this,tf)[e];else{let n=e.toLowerCase();for(let s of h(this,tf))if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let n of t)if(n.hash===e)return n;(0,_r.assertArgument)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Iue(this)}};tf=new WeakMap;si.Block=A4;var U3=class{constructor(e,t){O(this,"provider");O(this,"transactionHash");O(this,"blockHash");O(this,"blockNumber");O(this,"removed");O(this,"address");O(this,"data");O(this,"topics");O(this,"index");O(this,"transactionIndex");this.provider=t;let n=Object.freeze(e.topics.slice());(0,_r.defineProperties)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return(0,_r.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return(0,_r.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,_r.assert)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Mue(this)}};si.Log=U3;var x_,E4=class{constructor(e,t){O(this,"provider");O(this,"to");O(this,"from");O(this,"contractAddress");O(this,"hash");O(this,"index");O(this,"blockHash");O(this,"blockNumber");O(this,"logsBloom");O(this,"gasUsed");O(this,"blobGasUsed");O(this,"cumulativeGasUsed");O(this,"gasPrice");O(this,"blobGasPrice");O(this,"type");O(this,"status");O(this,"root");T(this,x_,void 0);w(this,x_,Object.freeze(e.logs.map(s=>new U3(s,t))));let n=WG;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),(0,_r.defineProperties)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return h(this,x_)}toJSON(){let{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:f,status:g,root:p}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Yr(this.cumulativeGasUsed),from:t,gasPrice:Yr(this.gasPrice),blobGasUsed:Yr(this.blobGasUsed),blobGasPrice:Yr(this.blobGasPrice),gasUsed:Yr(this.gasUsed),hash:s,index:i,logs:f,logsBloom:c,root:p,status:g,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ZG(this)}reorderedEvent(e){return(0,_r.assert)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),$G(this,e)}};x_=new WeakMap;si.TransactionReceipt=E4;var Nl,S4=class{constructor(e,t){O(this,"provider");O(this,"blockNumber");O(this,"blockHash");O(this,"index");O(this,"hash");O(this,"type");O(this,"to");O(this,"from");O(this,"nonce");O(this,"gasLimit");O(this,"gasPrice");O(this,"maxPriorityFeePerGas");O(this,"maxFeePerGas");O(this,"maxFeePerBlobGas");O(this,"data");O(this,"value");O(this,"chainId");O(this,"signature");O(this,"accessList");O(this,"blobVersionedHashes");O(this,"authorizationList");T(this,Nl,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,w(this,Nl,-1)}toJSON(){let{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:f,signature:g,accessList:p,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:t,blobVersionedHashes:A,chainId:Yr(this.chainId),data:f,from:a,gasLimit:Yr(this.gasLimit),gasPrice:Yr(this.gasPrice),hash:s,maxFeePerGas:Yr(this.maxFeePerGas),maxPriorityFeePerGas:Yr(this.maxPriorityFeePerGas),maxFeePerBlobGas:Yr(this.maxFeePerBlobGas),nonce:c,signature:g,to:o,index:n,type:i,value:Yr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:t,blockNumber:n}=await(0,_r.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let n=e??1,s=t??0,i=h(this,Nl),o=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:A,nonce:P}=await(0,_r.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(P<this.nonce){i=A;return}if(a)return null;let C=await this.getTransaction();if(!(C&&C.blockNumber!=null))for(o===-1&&(o=i-3,o<h(this,Nl)&&(o=h(this,Nl)));o<=A;){if(a)return null;let N=await this.provider.getBlock(o,!0);if(N==null)return;for(let U of N)if(U===this.hash)return;for(let U=0;U<N.length;U++){let L=await N.getTransaction(U);if(L.from===this.from&&L.nonce===this.nonce){if(a)return null;let q=await this.provider.getTransactionReceipt(L.hash);if(q==null||A-q.blockNumber+1<n)return;let H="replaced";L.data===this.data&&L.to===this.to&&L.value===this.value?H="repriced":L.data==="0x"&&L.from===L.to&&L.value===WG&&(H="cancelled"),(0,_r.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:H==="replaced"||H==="cancelled",reason:H,replacement:L.replaceableTransaction(i),hash:L.hash,receipt:q})}}o++}},f=A=>{if(A==null||A.status!==0)return A;(0,_r.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},g=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(g);if(g){if(n===1||await g.confirmations()>=n)return f(g)}else if(await c(),n===0)return null;return await new Promise((A,P)=>{let C=[],N=()=>{C.forEach(L=>L())};if(C.push(()=>{a=!0}),s>0){let L=setTimeout(()=>{N(),P((0,_r.makeError)("wait for transaction timeout","TIMEOUT"))},s);C.push(()=>{clearTimeout(L)})}let U=async L=>{if(await L.confirmations()>=n){N();try{A(f(L))}catch(q){P(q)}}};if(C.push(()=>{this.provider.off(this.hash,U)}),this.provider.on(this.hash,U),i>=0){let L=async()=>{try{await c()}catch(q){if((0,_r.isError)(q,"TRANSACTION_REPLACED")){N(),P(q);return}}a||this.provider.once("block",L)};C.push(()=>{this.provider.off("block",L)}),this.provider.once("block",L)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,_r.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ZG(this)}reorderedEvent(e){return(0,_r.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,_r.assert)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$G(this,e)}replaceableTransaction(e){(0,_r.assertArgument)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new S4(this,this.provider);return w(t,Nl,e),t}},D3=S4;Nl=new WeakMap;si.TransactionResponse=D3;function Iue(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function $G(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function ZG(r){return{orphan:"drop-transaction",tx:r}}function Mue(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}});var T4=M(ii=>{y();b();Object.defineProperty(ii,"__esModule",{value:!0});ii.ContractEventPayload=ii.ContractUnknownEventPayload=ii.ContractTransactionResponse=ii.ContractTransactionReceipt=ii.UndecodedEventLog=ii.EventLog=void 0;var K3=Cm(),w_=fe(),__=class extends K3.Log{constructor(t,n,s){super(t,t.provider);O(this,"interface");O(this,"fragment");O(this,"args");let i=n.decodeEventLog(s,t.data,t.topics);(0,w_.defineProperties)(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};ii.EventLog=__;var q3=class extends K3.Log{constructor(t,n){super(t,t.provider);O(this,"error");(0,w_.defineProperties)(this,{error:n})}};ii.UndecodedEventLog=q3;var Rm,H3=class extends K3.TransactionReceipt{constructor(t,n,s){super(s,n);T(this,Rm,void 0);w(this,Rm,t)}get logs(){return super.logs.map(t=>{let n=t.topics.length?h(this,Rm).getEvent(t.topics[0]):null;if(n)try{return new __(t,h(this,Rm),n)}catch(s){return new q3(t,s)}return t})}};Rm=new WeakMap;ii.ContractTransactionReceipt=H3;var v_,k4=class extends K3.TransactionResponse{constructor(t,n,s){super(s,n);T(this,v_,void 0);w(this,v_,t)}async wait(t,n){let s=await super.wait(t,n);return s==null?null:new H3(h(this,v_),this.provider,s)}};v_=new WeakMap;ii.ContractTransactionResponse=k4;var G3=class extends w_.EventPayload{constructor(t,n,s,i){super(t,n,s);O(this,"log");(0,w_.defineProperties)(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};ii.ContractUnknownEventPayload=G3;var O4=class extends G3{constructor(e,t,n,s,i){super(e,t,n,new __(i,e.interface,s));let o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,w_.defineProperties)(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};ii.ContractEventPayload=O4});var F4=M(zc=>{y();b();Object.defineProperty(zc,"__esModule",{value:!0});zc.Contract=zc.BaseContract=zc.resolveArgs=zc.copyOverrides=void 0;var I4=Tm(),Bm=Xr(),YG=Cm(),Fe=fe(),uh=T4(),QG=BigInt(0);function eK(r){return r&&typeof r.call=="function"}function tK(r){return r&&typeof r.estimateGas=="function"}function W3(r){return r&&typeof r.resolveName=="function"}function rK(r){return r&&typeof r.sendTransaction=="function"}function nK(r){if(r!=null){if(W3(r))return r;if(r.provider)return r.provider}}var E_,N4=class{constructor(e,t,n){T(this,E_,void 0);O(this,"fragment");if((0,Fe.defineProperties)(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");let s=fh(e.runner,"resolveName"),i=W3(s)?s:null;w(this,E_,async function(){let o=await Promise.all(t.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(g,p)=>g==="address"?Array.isArray(p)?Promise.all(p.map(A=>(0,Bm.resolveAddress)(A,i))):(0,Bm.resolveAddress)(p,i):p)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return h(this,E_)}};E_=new WeakMap;function fh(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function ch(r){return r==null?null:r.provider||null}async function M4(r,e){let t=I4.Typed.dereference(r,"overrides");(0,Fe.assertArgument)(typeof t=="object","invalid overrides parameter","overrides",r);let n=(0,YG.copyRequest)(t);return(0,Fe.assertArgument)(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),(0,Fe.assertArgument)(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}zc.copyOverrides=M4;async function sK(r,e,t){let n=fh(r,"resolveName"),s=W3(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=I4.Typed.dereference(c,a),a==="address"?(0,Bm.resolveAddress)(c,s):c))))}zc.resolveArgs=sK;function jue(r){let e=async function(o){let a=await M4(o,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await(0,Bm.resolveAddress)(a.from,nK(r.runner)));let c=r.interface,f=(0,Fe.getBigInt)(a.value||QG,"overrides.value")===QG,g=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!g&&!f&&(0,Fe.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),(0,Fe.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data);let p=c.receive||c.fallback&&c.fallback.payable;return(0,Fe.assertArgument)(p||f,"cannot send value to non-payable fallback","overrides.value",a.value),(0,Fe.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){let a=fh(r.runner,"call");(0,Fe.assert)(eK(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await a.call(c)}catch(f){throw(0,Fe.isCallException)(f)&&f.data?r.interface.makeError(f.data,c):f}},n=async function(o){let a=r.runner;(0,Fe.assert)(rK(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(o)),f=ch(r.runner);return new uh.ContractTransactionResponse(r.interface,f,c)},s=async function(o){let a=fh(r.runner,"estimateGas");return(0,Fe.assert)(tK(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return(0,Fe.defineProperties)(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function Fue(r,e){let t=function(...f){let g=r.interface.getFunction(e,f);return(0,Fe.assert)(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),g},n=async function(...f){let g=t(...f),p={};if(g.inputs.length+1===f.length&&(p=await M4(f.pop()),p.from&&(p.from=await(0,Bm.resolveAddress)(p.from,nK(r.runner)))),g.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let A=await sK(r.runner,g.inputs,f);return Object.assign({},p,await(0,Fe.resolveProperties)({to:r.getAddress(),data:r.interface.encodeFunctionData(g,A)}))},s=async function(...f){let g=await a(...f);return g.length===1?g[0]:g},i=async function(...f){let g=r.runner;(0,Fe.assert)(rK(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let p=await g.sendTransaction(await n(...f)),A=ch(r.runner);return new uh.ContractTransactionResponse(r.interface,A,p)},o=async function(...f){let g=fh(r.runner,"estimateGas");return(0,Fe.assert)(tK(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await n(...f))},a=async function(...f){let g=fh(r.runner,"call");(0,Fe.assert)(eK(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let p=await n(...f),A="0x";try{A=await g.call(p)}catch(C){throw(0,Fe.isCallException)(C)&&C.data?r.interface.makeError(C.data,p):C}let P=t(...f);return r.interface.decodeFunctionResult(P,A)},c=async(...f)=>t(...f).constant?await s(...f):await i(...f);return(0,Fe.defineProperties)(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let f=r.interface.getFunction(e);return(0,Fe.assert)(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),c}function Lue(r,e){let t=function(...s){let i=r.interface.getEvent(e,s);return(0,Fe.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new N4(r,t(...s),s)};return(0,Fe.defineProperties)(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=r.interface.getEvent(e);return(0,Fe.assert)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}var z3=Symbol.for("_ethersInternal_contract"),iK=new WeakMap;function Uue(r,e){iK.set(r[z3],e)}function Ri(r){return iK.get(r[z3])}function Due(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function j4(r,e){let t,n=null;if(Array.isArray(e)){let i=function(o){if((0,Fe.isHexString)(o,32))return o;let a=r.interface.getEvent(o);return(0,Fe.assertArgument)(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?(0,Fe.isHexString)(e,32)?t=[e]:(n=r.interface.getEvent(e),(0,Fe.assertArgument)(n,"unknown fragment","event",e),t=[n.topicHash]):Due(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):(0,Fe.assertArgument)(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){let o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});let s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function P_(r,e){let{subs:t}=Ri(r);return t.get((await j4(r,e)).tag)||null}async function XG(r,e,t){let n=ch(r.runner);(0,Fe.assert)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:i,topics:o}=await j4(r,t),{addr:a,subs:c}=Ri(r),f=c.get(i);if(!f){let p={address:a||r,topics:o},A=U=>{let L=s;if(L==null)try{L=r.interface.getEvent(U.topics[0])}catch{}if(L){let q=L,H=s?r.interface.decodeEventLog(s,U.data,U.topics):[];R4(r,t,H,V=>new uh.ContractEventPayload(r,V,t,q,U))}else R4(r,t,[],q=>new uh.ContractUnknownEventPayload(r,q,t,U))},P=[];f={tag:i,listeners:[],start:()=>{P.length||P.push(n.on(p,A))},stop:async()=>{if(P.length==0)return;let U=P;P=[],await Promise.all(U),n.off(p,A)}},c.set(i,f)}return f}var C4=Promise.resolve();async function que(r,e,t,n){await C4;let s=await P_(r,e);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{let c=Array.from(t);n&&c.push(n(a?null:o));try{o.call(r,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ri(r).subs.delete(s.tag)),i>0}async function R4(r,e,t,n){try{await C4}catch{}let s=que(r,e,t,n);return C4=s,await s}var V3=["then"],Gue,A_=class{constructor(e,t,n,s){O(this,"target");O(this,"interface");O(this,"runner");O(this,"filters");O(this,Gue);O(this,"fallback");(0,Fe.assertArgument)(typeof e=="string"||(0,Bm.isAddressable)(e),"invalid value for Contract target","target",e),n==null&&(n=null);let i=I4.Interface.from(t);(0,Fe.defineProperties)(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,z3,{value:{}});let o,a=null,c=null;if(s){let p=ch(n);c=new uh.ContractTransactionResponse(this.interface,p,s)}let f=new Map;if(typeof e=="string")if((0,Fe.isHexString)(e))a=e,o=Promise.resolve(e);else{let p=fh(n,"resolveName");if(!W3(p))throw(0,Fe.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=p.resolveName(e).then(A=>{if(A==null)throw(0,Fe.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ri(this).addr=A,A})}else o=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Ri(this).addr=p,p});Uue(this,{addrPromise:o,addr:a,deployTx:c,subs:f});let g=new Proxy({},{get:(p,A,P)=>{if(typeof A=="symbol"||V3.indexOf(A)>=0)return Reflect.get(p,A,P);try{return this.getEvent(A)}catch(C){if(!(0,Fe.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>V3.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return(0,Fe.defineProperties)(this,{filters:g}),(0,Fe.defineProperties)(this,{fallback:i.receive||i.fallback?jue(this):null}),new Proxy(this,{get:(p,A,P)=>{if(typeof A=="symbol"||A in p||V3.indexOf(A)>=0)return Reflect.get(p,A,P);try{return p.getFunction(A)}catch(C){if(!(0,Fe.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>typeof A=="symbol"||A in p||V3.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new A_(this.target,this.interface,e)}attach(e){return new A_(e,this.interface,this.runner)}async getAddress(){return await Ri(this).addrPromise}async getDeployedCode(){let e=ch(this.runner);(0,Fe.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=ch(this.runner);return(0,Fe.assert)(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Ri(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Fue(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Lue(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");let{addr:s,addrPromise:i}=Ri(this),o=s||await i,{fragment:a,topics:c}=await j4(this,e),f={address:o,topics:c,fromBlock:t,toBlock:n},g=ch(this.runner);return(0,Fe.assert)(g,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await g.getLogs(f)).map(p=>{let A=a;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new uh.EventLog(p,this.interface,A)}catch(P){return new uh.UndecodedEventLog(p,P)}return new YG.Log(p,g)})}async on(e,t){let n=await XG(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){let n=await XG(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await R4(this,e,t,null)}async listenerCount(e){if(e){let s=await P_(this,e);return s?s.listeners.length:0}let{subs:t}=Ri(this),n=0;for(let{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){let s=await P_(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let{subs:t}=Ri(this),n=[];for(let{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){let n=await P_(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Ri(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let t=await P_(this,e);if(!t)return this;t.stop(),Ri(this).subs.delete(t.tag)}else{let{subs:t}=Ri(this);for(let{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends A_{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}},J3=A_;Gue=z3;zc.BaseContract=J3;function Hue(){return J3}var B4=class extends Hue(){};zc.Contract=B4});var oK=M(Z3=>{y();b();Object.defineProperty(Z3,"__esModule",{value:!0});Z3.ContractFactory=void 0;var Kue=Tm(),Vue=Xr(),Cl=fe(),$3=F4(),S_=class{constructor(e,t,n){O(this,"interface");O(this,"bytecode");O(this,"runner");let s=Kue.Interface.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=(0,Cl.hexlify)((0,Cl.getBytes)(t)),(0,Cl.defineProperties)(this,{bytecode:t,interface:s,runner:n||null})}attach(e){return new $3.BaseContract(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await(0,$3.copyOverrides)(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await(0,$3.resolveArgs)(this.runner,n.inputs,e),i=(0,Cl.concat)([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:i})}async deploy(...e){let t=await this.getDeployTransaction(...e);(0,Cl.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(t),s=(0,Vue.getCreateAddress)(n);return new $3.BaseContract(s,this.interface,this.runner,n)}connect(e){return new S_(this.interface,this.bytecode,e)}static fromSolidity(e,t){(0,Cl.assertArgument)(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,t)}};Z3.ContractFactory=S_});var k_=M(un=>{y();b();Object.defineProperty(un,"__esModule",{value:!0});un.UndecodedEventLog=un.EventLog=un.ContractTransactionResponse=un.ContractTransactionReceipt=un.ContractUnknownEventPayload=un.ContractEventPayload=un.ContractFactory=un.Contract=un.BaseContract=void 0;var aK=F4();Object.defineProperty(un,"BaseContract",{enumerable:!0,get:function(){return aK.BaseContract}});Object.defineProperty(un,"Contract",{enumerable:!0,get:function(){return aK.Contract}});var zue=oK();Object.defineProperty(un,"ContractFactory",{enumerable:!0,get:function(){return zue.ContractFactory}});var Im=T4();Object.defineProperty(un,"ContractEventPayload",{enumerable:!0,get:function(){return Im.ContractEventPayload}});Object.defineProperty(un,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return Im.ContractUnknownEventPayload}});Object.defineProperty(un,"ContractTransactionReceipt",{enumerable:!0,get:function(){return Im.ContractTransactionReceipt}});Object.defineProperty(un,"ContractTransactionResponse",{enumerable:!0,get:function(){return Im.ContractTransactionResponse}});Object.defineProperty(un,"EventLog",{enumerable:!0,get:function(){return Im.EventLog}});Object.defineProperty(un,"UndecodedEventLog",{enumerable:!0,get:function(){return Im.UndecodedEventLog}})});var H4=M(Il=>{y();b();Object.defineProperty(Il,"__esModule",{value:!0});Il.EnsResolver=Il.BasicMulticoinProviderPlugin=Il.MulticoinProviderPlugin=void 0;var Jue=Xr(),cK=Vp(),L4=k_(),U4=qc(),Cs=fe();function D4(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):(0,Cs.assertArgument)(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}var T_=class{constructor(e){O(this,"name");(0,Cs.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};Il.MulticoinProviderPlugin=T_;var Wue="org.ethers.plugins.provider.BasicMulticoin",q4=class extends T_{constructor(){super(Wue)}};Il.BasicMulticoinProviderPlugin=q4;var fK=new RegExp("^(ipfs)://(.*)$","i"),uK=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),fK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Rl,lh,Bl,Mm,X3,lK,O_=class{constructor(e,t,n){T(this,Bl);O(this,"provider");O(this,"address");O(this,"name");T(this,Rl,void 0);T(this,lh,void 0);(0,Cs.defineProperties)(this,{provider:e,address:t,name:n}),w(this,Rl,null),w(this,lh,new L4.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return h(this,Rl)==null&&w(this,Rl,(async()=>{try{return await h(this,lh).supportsInterface("0x9061b923")}catch(e){if((0,Cs.isError)(e,"CALL_EXCEPTION"))return!1;throw w(this,Rl,null),e}})()),await h(this,Rl)}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await D(this,Bl,Mm).call(this,"addr(bytes32)");return i==null||i===cK.ZeroAddress?null:i}catch(i){if((0,Cs.isError)(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,o=await D(this,Bl,Mm).call(this,"addr(bytes32,uint)",[i]);if((0,Cs.isHexString)(o,20))return(0,Jue.getAddress)(o)}let t=null;for(let i of this.provider.plugins)if(i instanceof T_&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;let n=await D(this,Bl,Mm).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let s=await t.decodeAddress(e,n);if(s!=null)return s;(0,Cs.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let t=await D(this,Bl,Mm).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){let e=await D(this,Bl,Mm).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${(0,Cs.encodeBase58)("0x"+t[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;(0,Cs.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<uK.length;n++){let s=t.match(uK[n]);if(s==null)continue;let i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let o=D4(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};let f=c[1],g=new L4.Contract(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let N=await g.ownerOf(f);if(a!==N)return e.push({type:"!owner",value:N}),{url:null,linkage:e};e.push({type:"owner",value:N})}else if(i==="erc1155"){let N=await g.balanceOf(a,f);if(!N)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:N.toString()})}let p=await g[o](f);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),i==="erc1155"&&(p=p.replace("{id}",(0,Cs.toBeHex)(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=D4(p)),e.push({type:"metadata-url",value:p});let A={},P=await new Cs.FetchRequest(p).send();P.assertOk();try{A=P.bodyJson}catch{try{e.push({type:"!metadata",value:P.bodyText})}catch{let L=P.body;return L&&e.push({type:"!metadata",value:(0,Cs.hexlify)(L)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let C=A.image;if(typeof C!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(fK)==null)return e.push({type:"!imageUrl-ipfs",value:C}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:C}),C=D4(C)}return e.push({type:"url",value:C}),{linkage:e,url:C}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return(0,Cs.assert)(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var s;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;let i=await D(s=O_,X3,lK).call(s,e,n);if(i!=null){let o=new O_(e,i,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}},Q3=O_;Rl=new WeakMap,lh=new WeakMap,Bl=new WeakSet,Mm=async function(e,t){t=(t||[]).slice();let n=h(this,lh).interface;t.unshift((0,U4.namehash)(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),(0,Cs.assert)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(0,U4.dnsEncode)(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await h(this,lh)[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!(0,Cs.isError)(i,"CALL_EXCEPTION"))throw i}return null},X3=new WeakSet,lK=async function(e,t){let n=await O_.getEnsAddress(e);try{let i=await new L4.Contract(n,["function resolver(bytes32) view returns (address)"],e).resolver((0,U4.namehash)(t),{enableCcipRead:!0});return i===cK.ZeroAddress?null:i}catch(s){throw s}return null},T(Q3,X3);Il.EnsResolver=Q3});var mK=M(hr=>{y();b();Object.defineProperty(hr,"__esModule",{value:!0});hr.formatTransactionResponse=hr.formatTransactionReceipt=hr.formatReceiptLog=hr.formatBlock=hr.formatLog=hr.formatUint256=hr.formatHash=hr.formatData=hr.formatBoolean=hr.object=hr.arrayOf=hr.allowNull=void 0;var Ha=Xr(),G4=an(),$ue=Ts(),Oe=fe(),dK=BigInt(0);function Bt(r,e){return function(t){return t==null?e:r(t)}}hr.allowNull=Bt;function jm(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))}}hr.arrayOf=jm;function Fm(r,e){return t=>{let n={};for(let s in r){let i=s;if(e&&s in e&&!(i in t)){for(let o of e[s])if(o in t){i=o;break}}try{let o=r[s](t[i]);o!==void 0&&(n[s]=o)}catch(o){let a=o instanceof Error?o.message:"not-an-error";(0,Oe.assert)(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return n}}hr.object=Fm;function hK(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}(0,Oe.assertArgument)(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}hr.formatBoolean=hK;function dh(r){return(0,Oe.assertArgument)((0,Oe.isHexString)(r,!0),"invalid data","value",r),r}hr.formatData=dh;function Mn(r){return(0,Oe.assertArgument)((0,Oe.isHexString)(r,32),"invalid hash","value",r),r}hr.formatHash=Mn;function Zue(r){if(!(0,Oe.isHexString)(r))throw new Error("invalid uint256");return(0,Oe.zeroPadValue)(r,32)}hr.formatUint256=Zue;var Que=Fm({address:Ha.getAddress,blockHash:Mn,blockNumber:Oe.getNumber,data:dh,index:Oe.getNumber,removed:Bt(hK,!1),topics:jm(Mn),transactionHash:Mn,transactionIndex:Oe.getNumber},{index:["logIndex"]});function Xue(r){return Que(r)}hr.formatLog=Xue;var Yue=Fm({hash:Bt(Mn),parentHash:Mn,parentBeaconBlockRoot:Bt(Mn,null),number:Oe.getNumber,timestamp:Oe.getNumber,nonce:Bt(dh),difficulty:Oe.getBigInt,gasLimit:Oe.getBigInt,gasUsed:Oe.getBigInt,stateRoot:Bt(Mn,null),receiptsRoot:Bt(Mn,null),blobGasUsed:Bt(Oe.getBigInt,null),excessBlobGas:Bt(Oe.getBigInt,null),miner:Bt(Ha.getAddress),prevRandao:Bt(Mn,null),extraData:dh,baseFeePerGas:Bt(Oe.getBigInt)},{prevRandao:["mixHash"]});function efe(r){let e=Yue(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:pK(t)),e}hr.formatBlock=efe;var tfe=Fm({transactionIndex:Oe.getNumber,blockNumber:Oe.getNumber,transactionHash:Mn,address:Ha.getAddress,topics:jm(Mn),data:dh,index:Oe.getNumber,blockHash:Mn},{index:["logIndex"]});function gK(r){return tfe(r)}hr.formatReceiptLog=gK;var rfe=Fm({to:Bt(Ha.getAddress,null),from:Bt(Ha.getAddress,null),contractAddress:Bt(Ha.getAddress,null),index:Oe.getNumber,root:Bt(Oe.hexlify),gasUsed:Oe.getBigInt,blobGasUsed:Bt(Oe.getBigInt,null),logsBloom:Bt(dh),blockHash:Mn,hash:Mn,logs:jm(gK),blockNumber:Oe.getNumber,cumulativeGasUsed:Oe.getBigInt,effectiveGasPrice:Bt(Oe.getBigInt),blobGasPrice:Bt(Oe.getBigInt,null),status:Bt(Oe.getNumber),type:Bt(Oe.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function nfe(r){return rfe(r)}hr.formatTransactionReceipt=nfe;function pK(r){r.to&&(0,Oe.getBigInt)(r.to)===dK&&(r.to="0x0000000000000000000000000000000000000000");let e=Fm({hash:Mn,index:Bt(Oe.getNumber,void 0),type:t=>t==="0x"||t==null?0:(0,Oe.getNumber)(t),accessList:Bt($ue.accessListify,null),blobVersionedHashes:Bt(jm(Mn,!0),null),authorizationList:Bt(jm(t=>{let n;if(t.signature)n=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},t,{yParity:s})}return{address:(0,Ha.getAddress)(t.address),chainId:(0,Oe.getBigInt)(t.chainId),nonce:(0,Oe.getBigInt)(t.nonce),signature:G4.Signature.from(n)}},!1),null),blockHash:Bt(Mn,null),blockNumber:Bt(Oe.getNumber,null),transactionIndex:Bt(Oe.getNumber,null),from:Ha.getAddress,gasPrice:Bt(Oe.getBigInt),maxPriorityFeePerGas:Bt(Oe.getBigInt),maxFeePerGas:Bt(Oe.getBigInt),maxFeePerBlobGas:Bt(Oe.getBigInt,null),gasLimit:Oe.getBigInt,to:Bt(Ha.getAddress,null),value:Oe.getBigInt,nonce:Oe.getNumber,data:dh,creates:Bt(Ha.getAddress,null),chainId:Bt(Oe.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=(0,Ha.getCreateAddress)(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=G4.Signature.from(r.signature):e.signature=G4.Signature.from(r),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&(0,Oe.getBigInt)(e.blockHash)===dK&&(e.blockHash=null),e}hr.formatTransactionResponse=pK});var Y3=M(po=>{y();b();Object.defineProperty(po,"__esModule",{value:!0});po.FetchUrlFeeDataNetworkPlugin=po.FeeDataNetworkPlugin=po.EnsPlugin=po.GasCostPlugin=po.NetworkPlugin=void 0;var z4=nl(),sfe=fe(),ife="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",rf=class{constructor(e){O(this,"name");(0,z4.defineProperties)(this,{name:e})}clone(){return new rf(this.name)}};po.NetworkPlugin=rf;var N_=class extends rf{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);O(this,"effectiveBlock");O(this,"txBase");O(this,"txCreate");O(this,"txDataZero");O(this,"txDataNonzero");O(this,"txAccessListStorageKey");O(this,"txAccessListAddress");let s={effectiveBlock:t};function i(o,a){let c=(n||{})[o];c==null&&(c=a),(0,sfe.assertArgument)(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,z4.defineProperties)(this,s)}clone(){return new N_(this.effectiveBlock,this)}};po.GasCostPlugin=N_;var C_=class extends rf{constructor(t,n){super("org.ethers.plugins.network.Ens");O(this,"address");O(this,"targetNetwork");(0,z4.defineProperties)(this,{address:t||ife,targetNetwork:n??1})}clone(){return new C_(this.address,this.targetNetwork)}};po.EnsPlugin=C_;var hh,J4=class extends rf{constructor(t){super("org.ethers.plugins.network.FeeData");T(this,hh,void 0);w(this,hh,t)}get feeDataFunc(){return h(this,hh)}async getFeeData(t){return await h(this,hh).call(this,t)}clone(){return new J4(h(this,hh))}},K4=J4;hh=new WeakMap;po.FeeDataNetworkPlugin=K4;var R_,B_,V4=class extends rf{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");T(this,R_,void 0);T(this,B_,void 0);w(this,R_,t),w(this,B_,n)}get url(){return h(this,R_)}get processFunc(){return h(this,B_)}clone(){return this}};R_=new WeakMap,B_=new WeakMap;po.FetchUrlFeeDataNetworkPlugin=V4});var Rs=M(eS=>{y();b();Object.defineProperty(eS,"__esModule",{value:!0});eS.Network=void 0;var ofe=Ts(),Jc=fe(),I_=Y3(),W4=new Map,Um,Dm,Ml,Lm=class{constructor(e,t){T(this,Um,void 0);T(this,Dm,void 0);T(this,Ml,void 0);w(this,Um,e),w(this,Dm,(0,Jc.getBigInt)(t)),w(this,Ml,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return h(this,Um)}set name(e){w(this,Um,e)}get chainId(){return h(this,Dm)}set chainId(e){w(this,Dm,(0,Jc.getBigInt)(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===(0,Jc.getBigInt)(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===(0,Jc.getBigInt)(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===(0,Jc.getBigInt)(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(h(this,Ml).values())}attachPlugin(e){if(h(this,Ml).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Ml).set(e.name,e.clone()),this}getPlugin(e){return h(this,Ml).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new Lm(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new I_.GasCostPlugin,n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){let s=(0,ofe.accessListify)(e.accessList);for(let i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(afe(),e==null)return Lm.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=W4.get(e);if(t)return t();if(typeof e=="bigint")return new Lm("unknown",e);(0,Jc.assertArgument)(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){(0,Jc.assertArgument)(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new Lm(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new I_.EnsPlugin(e.ensAddress,e.ensNetwork)),t}(0,Jc.assertArgument)(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let n=W4.get(e);n&&(0,Jc.assertArgument)(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),W4.set(e,t)}},gh=Lm;Um=new WeakMap,Dm=new WeakMap,Ml=new WeakMap;eS.Network=gh;function yK(r,e){let t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);let n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function bK(r){return new I_.FetchUrlFeeDataNetworkPlugin(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{let[i,o]=await Promise.all([n.send(),e()]);s=i;let a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:yK(a.maxFee,9),maxPriorityFeePerGas:yK(a.maxPriorityFee,9)}}catch(i){(0,Jc.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}var xK=!1;function afe(){if(xK)return;xK=!0;function r(e,t,n){let s=function(){let i=new gh(e,t);return n.ensNetwork!=null&&i.attachPlugin(new I_.EnsPlugin(null,n.ensNetwork)),i.attachPlugin(new I_.GasCostPlugin),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};gh.register(e,s),gh.register(t,s),n.altNames&&n.altNames.forEach(i=>{gh.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[bK("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[bK("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}});var iS=M(cs=>{y();b();Object.defineProperty(cs,"__esModule",{value:!0});cs.PollingEventSubscriber=cs.PollingTransactionSubscriber=cs.PollingOrphanSubscriber=cs.PollingBlockTagSubscriber=cs.OnBlockSubscriber=cs.PollingBlockSubscriber=cs.getPollingSubscriber=void 0;var wK=fe();function $4(r){return JSON.parse(JSON.stringify(r))}function cfe(r,e){if(e==="block")return new rS(r);if((0,wK.isHexString)(e,32))return new nS(r,e);(0,wK.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:e}})}cs.getPollingSubscriber=cfe;var nf,mo,jl,Wc,qm,tS,rS=class{constructor(e){T(this,qm);T(this,nf,void 0);T(this,mo,void 0);T(this,jl,void 0);T(this,Wc,void 0);w(this,nf,e),w(this,mo,null),w(this,jl,4e3),w(this,Wc,-2)}get pollingInterval(){return h(this,jl)}set pollingInterval(e){w(this,jl,e)}start(){h(this,mo)||(w(this,mo,h(this,nf)._setTimeout(D(this,qm,tS).bind(this),h(this,jl))),D(this,qm,tS).call(this))}stop(){!h(this,mo)||(h(this,nf)._clearTimeout(h(this,mo)),w(this,mo,null))}pause(e){this.stop(),e&&w(this,Wc,-2)}resume(){this.start()}};nf=new WeakMap,mo=new WeakMap,jl=new WeakMap,Wc=new WeakMap,qm=new WeakSet,tS=async function(){try{let e=await h(this,nf).getBlockNumber();if(h(this,Wc)===-2){w(this,Wc,e);return}if(e!==h(this,Wc)){for(let t=h(this,Wc)+1;t<=e;t++){if(h(this,mo)==null)return;await h(this,nf).emit("block",t)}w(this,Wc,e)}}catch{}h(this,mo)!=null&&w(this,mo,h(this,nf)._setTimeout(D(this,qm,tS).bind(this),h(this,jl)))};cs.PollingBlockSubscriber=rS;var ph,mh,Fl,zm=class{constructor(e){T(this,ph,void 0);T(this,mh,void 0);T(this,Fl,void 0);w(this,ph,e),w(this,Fl,!1),w(this,mh,t=>{this._poll(t,h(this,ph))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){h(this,Fl)||(w(this,Fl,!0),h(this,mh).call(this,-2),h(this,ph).on("block",h(this,mh)))}stop(){!h(this,Fl)||(w(this,Fl,!1),h(this,ph).off("block",h(this,mh)))}pause(e){this.stop()}resume(){this.start()}};ph=new WeakMap,mh=new WeakMap,Fl=new WeakMap;cs.OnBlockSubscriber=zm;var Hm,sf,Z4=class extends zm{constructor(t,n){super(t);T(this,Hm,void 0);T(this,sf,void 0);w(this,Hm,n),w(this,sf,-2)}pause(t){t&&w(this,sf,-2),super.pause(t)}async _poll(t,n){let s=await n.getBlock(h(this,Hm));s!=null&&(h(this,sf)===-2?w(this,sf,s.number):s.number>h(this,sf)&&(n.emit(h(this,Hm),s.number),w(this,sf,s.number)))}};Hm=new WeakMap,sf=new WeakMap;cs.PollingBlockTagSubscriber=Z4;var M_,Q4=class extends zm{constructor(t,n){super(t);T(this,M_,void 0);w(this,M_,$4(n))}async _poll(t,n){throw new Error("@TODO")}};M_=new WeakMap;cs.PollingOrphanSubscriber=Q4;var Gm,nS=class extends zm{constructor(t,n){super(t);T(this,Gm,void 0);w(this,Gm,n)}async _poll(t,n){let s=await n.getTransactionReceipt(h(this,Gm));s&&n.emit(h(this,Gm),s)}};Gm=new WeakMap;cs.PollingTransactionSubscriber=nS;var of,Km,Vm,Ll,yo,sS,_K,X4=class{constructor(e,t){T(this,sS);T(this,of,void 0);T(this,Km,void 0);T(this,Vm,void 0);T(this,Ll,void 0);T(this,yo,void 0);w(this,of,e),w(this,Km,$4(t)),w(this,Vm,D(this,sS,_K).bind(this)),w(this,Ll,!1),w(this,yo,-2)}start(){h(this,Ll)||(w(this,Ll,!0),h(this,yo)===-2&&h(this,of).getBlockNumber().then(e=>{w(this,yo,e)}),h(this,of).on("block",h(this,Vm)))}stop(){!h(this,Ll)||(w(this,Ll,!1),h(this,of).off("block",h(this,Vm)))}pause(e){this.stop(),e&&w(this,yo,-2)}resume(){this.start()}};of=new WeakMap,Km=new WeakMap,Vm=new WeakMap,Ll=new WeakMap,yo=new WeakMap,sS=new WeakSet,_K=async function(e){if(h(this,yo)===-2)return;let t=$4(h(this,Km));t.fromBlock=h(this,yo)+1,t.toBlock=e;let n=await h(this,of).getLogs(t);if(n.length===0){h(this,yo)<e-60&&w(this,yo,e-60);return}for(let s of n)h(this,of).emit(h(this,Km),s),w(this,yo,s.blockNumber)};cs.PollingEventSubscriber=X4});var Xm=M(Qm=>{y();b();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.AbstractProvider=Qm.UnmanagedSubscriber=void 0;var F_=Xr(),ufe=Vp(),vK=k_(),ffe=qc(),lfe=Ts(),oe=fe(),PK=H4(),oS=mK(),dfe=Rs(),Ul=Cm(),j_=iS(),hfe=BigInt(2),gfe=10;function aS(r){return r&&typeof r.then=="function"}function cS(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}var fS=class{constructor(e){O(this,"name");(0,oe.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};Qm.UnmanagedSubscriber=fS;function pfe(r){return JSON.parse(JSON.stringify(r))}function tC(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function Y4(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if((0,oe.isHexString)(r,32)){let t=r.toLowerCase();return{type:"transaction",tag:cS("tx",{hash:t}),hash:t}}if(r.orphan){let t=r;return{type:"orphan",tag:cS("orphan",t),filter:pfe(t)}}if(r.address||r.topics){let t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?tC(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){let s=[],i=[],o=a=>{(0,oe.isHexString)(a)?s.push(a):i.push((async()=>{s.push(await(0,F_.resolveAddress)(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),n.address=tC(s.map(a=>a.toLowerCase()))}return{filter:n,tag:cS("event",n),type:"event"}}(0,oe.assertArgument)(!1,"unknown ProviderEvent","event",r)}function eC(){return new Date().getTime()}var mfe={cacheTimeout:250,pollingInterval:4e3},us,Dl,fs,Jm,Ii,yh,ql,af,D_,bo,Wm,$m,Bs,Bi,q_,nC,H_,sC,bh,L_,G_,iC,xh,U_,Zm,uS,rC=class{constructor(e,t){T(this,Bs);T(this,q_);T(this,H_);T(this,bh);T(this,G_);T(this,xh);T(this,Zm);T(this,us,void 0);T(this,Dl,void 0);T(this,fs,void 0);T(this,Jm,void 0);T(this,Ii,void 0);T(this,yh,void 0);T(this,ql,void 0);T(this,af,void 0);T(this,D_,void 0);T(this,bo,void 0);T(this,Wm,void 0);T(this,$m,void 0);if(w(this,$m,Object.assign({},mfe,t||{})),e==="any")w(this,yh,!0),w(this,Ii,null);else if(e){let n=dfe.Network.from(e);w(this,yh,!1),w(this,Ii,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else w(this,yh,!1),w(this,Ii,null);w(this,af,-1),w(this,ql,new Map),w(this,us,new Map),w(this,Dl,new Map),w(this,fs,null),w(this,Jm,!1),w(this,D_,1),w(this,bo,new Map),w(this,Wm,!1)}get pollingInterval(){return h(this,$m).pollingInterval}get provider(){return this}get plugins(){return Array.from(h(this,Dl).values())}attachPlugin(e){if(h(this,Dl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Dl).set(e.name,e.connect(this)),this}getPlugin(e){return h(this,Dl).get(e)||null}get disableCcipRead(){return h(this,Wm)}set disableCcipRead(e){w(this,Wm,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){let c=n[a],f=c.replace("{sender}",s).replace("{data}",i),g=new oe.FetchRequest(f);c.indexOf("{data}")===-1&&(g.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:g,index:a,urls:n});let p="unknown error",A;try{A=await g.send()}catch(P){o.push(P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:{error:P}});continue}try{let P=A.bodyJson;if(P.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:g,result:P}),P.data;P.message&&(p=P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:P})}catch{}(0,oe.assert)(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:p}}),o.push(p)}(0,oe.assert)(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new Ul.Block((0,oS.formatBlock)(e),this)}_wrapLog(e,t){return new Ul.Log((0,oS.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new Ul.TransactionReceipt((0,oS.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new Ul.TransactionResponse((0,oS.formatTransactionResponse)(e),this)}_detectNetwork(){(0,oe.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,oe.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,oe.getNumber)(await D(this,Bs,Bi).call(this,{method:"getBlockNumber"}),"%response");return h(this,af)>=0&&w(this,af,e),e}_getAddress(e){return(0,F_.resolveAddress)(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if((0,oe.isHexString)(e))return(0,oe.isHexString)(e,32)?e:(0,oe.toQuantity)(e);if(typeof e=="bigint"&&(e=(0,oe.getNumber)(e,"blockTag")),typeof e=="number")return e>=0?(0,oe.toQuantity)(e):h(this,af)>=0?(0,oe.toQuantity)(h(this,af)+e):this.getBlockNumber().then(t=>(0,oe.toQuantity)(t+e));(0,oe.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?tC(c.map(f=>f.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,f,g)=>{let p;switch(c.length){case 0:break;case 1:p=c[0];break;default:c.sort(),p=c}if(n&&(f!=null||g!=null))throw new Error("invalid filter");let A={};return p&&(A.address=p),t.length&&(A.topics=t),f&&(A.fromBlock=f),g&&(A.toBlock=g),n&&(A.blockHash=n),A},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){let t=(0,Ul.copyRequest)(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;let i=(0,F_.resolveAddress)(t[s],this);aS(i)?n.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){let s=this._getBlockTag(t.blockTag);aS(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(h(this,Ii)==null){let s=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw h(this,Ii)===s&&w(this,Ii,null),i}})();return w(this,Ii,s),(await s).clone()}let e=h(this,Ii),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(h(this,yh)?(this.emit("network",n,t),h(this,Ii)===e&&w(this,Ii,Promise.resolve(n))):(0,oe.assert)(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:s,gasPrice:i,priorityFee:o}=await(0,oe.resolveProperties)({_block:D(this,G_,iC).call(this,"latest",!1),gasPrice:(async()=>{try{let g=await D(this,Bs,Bi).call(this,{method:"getGasPrice"});return(0,oe.getBigInt)(g,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let g=await D(this,Bs,Bi).call(this,{method:"getPriorityFee"});return(0,oe.getBigInt)(g,"%response")}catch{}return null})()}),a=null,c=null,f=this._wrapBlock(s,e);return f&&f.baseFeePerGas&&(c=o??BigInt("1000000000"),a=f.baseFeePerGas*hfe+c),new Ul.FeeData(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let s=new oe.FetchRequest(n.url),i=await n.processFunc(t,this,s);return new Ul.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return aS(t)&&(t=await t),(0,oe.getBigInt)(await D(this,Bs,Bi).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){let{tx:t,blockTag:n}=await(0,oe.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await D(this,H_,sC).call(this,D(this,q_,nC).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return(0,oe.getBigInt)(await D(this,bh,L_).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,oe.getNumber)(await D(this,bh,L_).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,oe.hexlify)(await D(this,bh,L_).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){let s=(0,oe.getBigInt)(t,"position");return(0,oe.hexlify)(await D(this,bh,L_).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){let{blockNumber:t,hash:n,network:s}=await(0,oe.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=lfe.Transaction.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){let{network:n,params:s}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:D(this,G_,iC).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){let{network:t,params:n}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:D(this,Bs,Bi).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){let{network:t,params:n}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:D(this,Bs,Bi).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let s=await D(this,Bs,Bi).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){let{result:t}=await(0,oe.resolveProperties)({network:this.getNetwork(),result:D(this,Bs,Bi).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:(0,oe.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);aS(t)&&(t=await t);let{network:n,params:s}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:D(this,Bs,Bi).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){(0,oe.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await PK.EnsResolver.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=(0,F_.getAddress)(e);let t=(0,ffe.namehash)(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await PK.EnsResolver.getEnsAddress(this),i=await new vK.Contract(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===ufe.ZeroAddress)return null;let a=await new vK.Contract(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if((0,oe.isError)(n,"BAD_DATA")&&n.value==="0x"||(0,oe.isError)(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){let s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null,c=async f=>{try{let g=await this.getTransactionReceipt(e);if(g!=null&&f-g.blockNumber+1>=s){i(g),a&&(clearTimeout(a),a=null);return}}catch(g){console.log("EEE",g)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o((0,oe.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){(0,oe.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=h(this,bo).get(e);!t||(t.timer&&clearTimeout(t.timer),h(this,bo).delete(e))}_setTimeout(e,t){t==null&&(t=0);let n=On(this,D_)._++,s=()=>{h(this,bo).delete(n),e()};if(this.paused)h(this,bo).set(n,{timer:null,func:s,time:t});else{let i=setTimeout(s,t);h(this,bo).set(n,{timer:i,func:s,time:eC()})}return n}_forEachSubscriber(e){for(let t of h(this,us).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new fS(e.type);case"block":{let t=new j_.PollingBlockSubscriber(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new j_.PollingBlockTagSubscriber(this,e.type);case"event":return new j_.PollingEventSubscriber(this,e.filter);case"transaction":return new j_.PollingTransactionSubscriber(this,e.hash);case"orphan":return new j_.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let n of h(this,us).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),h(this,fs)!=null&&t.pause(h(this,fs));break}}async on(e,t){let n=await D(this,Zm,uS).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,h(this,fs)!=null&&n.subscriber.pause(h(this,fs))),this}async once(e,t){let n=await D(this,Zm,uS).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,h(this,fs)!=null&&n.subscriber.pause(h(this,fs))),this}async emit(e,...t){let n=await D(this,xh,U_).call(this,e,t);if(!n||n.listeners.length===0)return!1;let s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{let a=new oe.EventPayload(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),h(this,us).delete(n.tag)),s>0}async listenerCount(e){if(e){let n=await D(this,xh,U_).call(this,e);return n?n.listeners.length:0}let t=0;for(let{listeners:n}of h(this,us).values())t+=n.length;return t}async listeners(e){if(e){let n=await D(this,xh,U_).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(let{listeners:n}of h(this,us).values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){let n=await D(this,xh,U_).call(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),h(this,us).delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:n,subscriber:s}=await D(this,Zm,uS).call(this,e);n&&s.stop(),h(this,us).delete(t)}else for(let[t,{started:n,subscriber:s}]of h(this,us))n&&s.stop(),h(this,us).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return h(this,Jm)}destroy(){this.removeAllListeners();for(let e of h(this,bo).keys())this._clearTimeout(e);w(this,Jm,!0)}get paused(){return h(this,fs)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(w(this,af,-1),h(this,fs)!=null){if(h(this,fs)==!!e)return;(0,oe.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),w(this,fs,!!e);for(let t of h(this,bo).values())t.timer&&clearTimeout(t.timer),t.time=eC()-t.time}resume(){if(h(this,fs)!=null){this._forEachSubscriber(e=>e.resume()),w(this,fs,null);for(let e of h(this,bo).values()){let t=e.time;t<0&&(t=0),e.time=eC(),setTimeout(e.func,t)}}}};us=new WeakMap,Dl=new WeakMap,fs=new WeakMap,Jm=new WeakMap,Ii=new WeakMap,yh=new WeakMap,ql=new WeakMap,af=new WeakMap,D_=new WeakMap,bo=new WeakMap,Wm=new WeakMap,$m=new WeakMap,Bs=new WeakSet,Bi=async function(e){let t=h(this,$m).cacheTimeout;if(t<0)return await this._perform(e);let n=cS(e.method,e),s=h(this,ql).get(n);return s||(s=this._perform(e),h(this,ql).set(n,s),setTimeout(()=>{h(this,ql).get(n)===s&&h(this,ql).delete(n)},t)),await s},q_=new WeakSet,nC=async function(e,t,n){(0,oe.assert)(n<gfe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=(0,Ul.copyRequest)(e);try{return(0,oe.hexlify)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&(0,oe.isCallException)(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&(0,oe.dataSlice)(i.data,0,4)==="0x556f1830"){let o=i.data,a=await(0,F_.resolveAddress)(s.to,this),c;try{c=_fe((0,oe.dataSlice)(i.data,4))}catch(p){(0,oe.assert)(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}(0,oe.assert)(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let f=await this.ccipReadFetch(s,c.calldata,c.urls);(0,oe.assert)(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});let g={to:a,data:(0,oe.concat)([c.selector,wfe([f,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:g});try{let p=await D(this,q_,nC).call(this,g,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},g),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},g),error:p}),p}}throw i}},H_=new WeakSet,sC=async function(e){let{value:t}=await(0,oe.resolveProperties)({network:this.getNetwork(),value:e});return t},bh=new WeakSet,L_=async function(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await D(this,H_,sC).call(this,D(this,Bs,Bi).call(this,Object.assign(e,{address:s,blockTag:i})))},G_=new WeakSet,iC=async function(e,t){if((0,oe.isHexString)(e,32))return await D(this,Bs,Bi).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await D(this,Bs,Bi).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},xh=new WeakSet,U_=async function(e,t){let n=await Y4(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await Y4({orphan:"drop-log",log:t[0]},this)),h(this,us).get(n.tag)||null},Zm=new WeakSet,uS=async function(e){let t=await Y4(e,this),n=t.tag,s=h(this,us).get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},h(this,us).set(n,s)),s};Qm.AbstractProvider=rC;function yfe(r,e){try{let t=oC(r,e);if(t)return(0,oe.toUtf8String)(t)}catch{}return null}function oC(r,e){if(r==="0x")return null;try{let t=(0,oe.getNumber)((0,oe.dataSlice)(r,e,e+32)),n=(0,oe.getNumber)((0,oe.dataSlice)(r,t,t+32));return(0,oe.dataSlice)(r,t+32,t+32+n)}catch{}return null}function AK(r){let e=(0,oe.toBeArray)(r);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function bfe(r){if(r.length%32===0)return r;let e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}var xfe=new Uint8Array([]);function wfe(r){let e=[],t=0;for(let n=0;n<r.length;n++)e.push(xfe),t+=32;for(let n=0;n<r.length;n++){let s=(0,oe.getBytes)(r[n]);e[n]=AK(t),e.push(AK(s.length)),e.push(bfe(s)),t+=32+Math.ceil(s.length/32)*32}return(0,oe.concat)(e)}var EK="0x0000000000000000000000000000000000000000000000000000000000000000";function _fe(r){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,oe.assert)((0,oe.dataLength)(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=(0,oe.dataSlice)(r,0,32);(0,oe.assert)((0,oe.dataSlice)(t,0,12)===(0,oe.dataSlice)(EK,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=(0,oe.dataSlice)(t,12);try{let n=[],s=(0,oe.getNumber)((0,oe.dataSlice)(r,32,64)),i=(0,oe.getNumber)((0,oe.dataSlice)(r,s,s+32)),o=(0,oe.dataSlice)(r,s+32);for(let a=0;a<i;a++){let c=yfe(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{(0,oe.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=oC(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{(0,oe.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,oe.assert)((0,oe.dataSlice)(r,100,128)===(0,oe.dataSlice)(EK,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=(0,oe.dataSlice)(r,96,100);try{let n=oC(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{(0,oe.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}});var hS=M(ey=>{y();b();Object.defineProperty(ey,"__esModule",{value:!0});ey.VoidSigner=ey.AbstractSigner=void 0;var SK=Xr(),vfe=Ts(),Is=fe(),Pfe=Cm();function wh(r,e){if(r.provider)return r.provider;(0,Is.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function kK(r,e){let t=(0,Pfe.copyRequest)(e);if(t.to!=null&&(t.to=(0,SK.resolveAddress)(t.to,r)),t.from!=null){let n=t.from;t.from=Promise.all([r.getAddress(),(0,SK.resolveAddress)(n,r)]).then(([s,i])=>((0,Is.assertArgument)(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await(0,Is.resolveProperties)(t)}var dS=class{constructor(e){O(this,"provider");(0,Is.defineProperties)(this,{provider:e||null})}async getNonce(e){return wh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await kK(this,e)}async populateTransaction(e){let t=wh(this,"populateTransaction"),n=await kK(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let s=await this.provider.getNetwork();if(n.chainId!=null){let o=(0,Is.getBigInt)(n.chainId);(0,Is.assertArgument)(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;let i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?(0,Is.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&(0,Is.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let o=await t.getFeeData();(0,Is.assert)(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{let o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?((0,Is.assert)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):(0,Is.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await(0,Is.resolveProperties)(n)}async populateAuthorization(e){let t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await wh(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return wh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return wh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await wh(this,"resolveName").resolveName(e)}async sendTransaction(e){let t=wh(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let s=vfe.Transaction.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){(0,Is.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}};ey.AbstractSigner=dS;var Ym,lS,cC=class extends dS{constructor(t,n){super(n);T(this,Ym);O(this,"address");(0,Is.defineProperties)(this,{address:t})}async getAddress(){return this.address}connect(t){return new cC(this.address,t)}async signTransaction(t){D(this,Ym,lS).call(this,"transactions","signTransaction")}async signMessage(t){D(this,Ym,lS).call(this,"messages","signMessage")}async signTypedData(t,n,s){D(this,Ym,lS).call(this,"typed-data","signTypedData")}},aC=cC;Ym=new WeakSet,lS=function(t,n){(0,Is.assert)(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};ey.VoidSigner=aC});var cf=M(gS=>{y();b();Object.defineProperty(gS,"__esModule",{value:!0});gS.showThrottleMessage=void 0;var OK=new Set;function Afe(r){OK.has(r)||(OK.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}gS.showThrottleMessage=Afe});var TK=M(Gl=>{y();b();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.FilterIdPendingSubscriber=Gl.FilterIdEventSubscriber=Gl.FilterIdSubscriber=void 0;var Efe=fe(),Sfe=iS();function kfe(r){return JSON.parse(JSON.stringify(r))}var Ms,$c,_h,Hl,vh,ty,V_,uC,z_,fC,K_=class{constructor(e){T(this,V_);T(this,z_);T(this,Ms,void 0);T(this,$c,void 0);T(this,_h,void 0);T(this,Hl,void 0);T(this,vh,void 0);T(this,ty,void 0);w(this,Ms,e),w(this,$c,null),w(this,_h,D(this,V_,uC).bind(this)),w(this,Hl,!1),w(this,vh,null),w(this,ty,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){h(this,Hl)||(w(this,Hl,!0),D(this,V_,uC).call(this,-2))}stop(){!h(this,Hl)||(w(this,Hl,!1),w(this,ty,!0),D(this,z_,fC).call(this),h(this,Ms).off("block",h(this,_h)))}pause(e){e&&D(this,z_,fC).call(this),h(this,Ms).off("block",h(this,_h))}resume(){this.start()}};Ms=new WeakMap,$c=new WeakMap,_h=new WeakMap,Hl=new WeakMap,vh=new WeakMap,ty=new WeakMap,V_=new WeakSet,uC=async function(e){try{h(this,$c)==null&&w(this,$c,this._subscribe(h(this,Ms)));let t=null;try{t=await h(this,$c)}catch(i){if(!(0,Efe.isError)(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){w(this,$c,null),h(this,Ms)._recoverSubscriber(this,this._recover(h(this,Ms)));return}let n=await h(this,Ms).getNetwork();if(h(this,vh)||w(this,vh,n),h(this,vh).chainId!==n.chainId)throw new Error("chaid changed");if(h(this,ty))return;let s=await h(this,Ms).send("eth_getFilterChanges",[t]);await this._emitResults(h(this,Ms),s)}catch(t){console.log("@TODO",t)}h(this,Ms).once("block",h(this,_h))},z_=new WeakSet,fC=function(){let e=h(this,$c);e&&(w(this,$c,null),e.then(t=>{h(this,Ms).destroyed||h(this,Ms).send("eth_uninstallFilter",[t])}))};Gl.FilterIdSubscriber=K_;var Ph,lC=class extends K_{constructor(t,n){super(t);T(this,Ph,void 0);w(this,Ph,kfe(n))}_recover(t){return new Sfe.PollingEventSubscriber(t,h(this,Ph))}async _subscribe(t){return await t.send("eth_newFilter",[h(this,Ph)])}async _emitResults(t,n){for(let s of n)t.emit(h(this,Ph),t._wrapLog(s,t._network))}};Ph=new WeakMap;Gl.FilterIdEventSubscriber=lC;var dC=class extends K_{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let n of t)e.emit("pending",n)}};Gl.FilterIdPendingSubscriber=dC});var Mi=M(Qc=>{y();b();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.JsonRpcProvider=Qc.JsonRpcApiPollingProvider=Qc.JsonRpcApiProvider=Qc.JsonRpcSigner=void 0;var Ofe=Tm(),Ah=Xr(),NK=qc(),CK=Ts(),Ie=fe(),RK=Xm(),Tfe=hS(),hC=Rs(),BK=TK(),Nfe=iS(),Cfe="bigint,boolean,function,number,string,symbol".split(/,/g);function pS(r){if(r==null||Cfe.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(pS);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function Rfe(r){return new Promise(e=>{setTimeout(e,r)})}function ry(r){return r&&r.toLowerCase()}function IK(r){return r&&typeof r.pollingInterval=="number"}var MK={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},ny=class extends Tfe.AbstractSigner{constructor(t,n){super(t);O(this,"address");n=(0,Ah.getAddress)(n),(0,Ie.defineProperties)(this,{address:n})}connect(t){(0,Ie.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){let n=pS(t),s=[];if(n.from){let o=n.from;s.push((async()=>{let a=await(0,Ah.resolveAddress)(o,this.provider);(0,Ie.assertArgument)(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let o=n.to;s.push((async()=>{n.to=await(0,Ah.resolveAddress)(o,this.provider)})())}s.length&&await Promise.all(s);let i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){let n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,o)=>{let a=[1e3,100],c=0,f=async()=>{try{let g=await this.provider.getTransaction(s);if(g!=null){i(g.replaceableTransaction(n));return}}catch(g){if((0,Ie.isError)(g,"CANCELLED")||(0,Ie.isError)(g,"BAD_DATA")||(0,Ie.isError)(g,"NETWORK_ERROR")||(0,Ie.isError)(g,"UNSUPPORTED_OPERATION")){g.info==null&&(g.info={}),g.info.sendTransactionHash=s,o(g);return}if((0,Ie.isError)(g,"INVALID_ARGUMENT")&&(c++,g.info==null&&(g.info={}),g.info.sendTransactionHash=s,c>10)){o(g);return}this.provider.emit("error",(0,Ie.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:g}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(t){let n=pS(t);if(n.from){let i=await(0,Ah.resolveAddress)(n.from,this.provider);(0,Ie.assertArgument)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=i}else n.from=this.address;let s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){let n=typeof t=="string"?(0,Ie.toUtf8Bytes)(t):t;return await this.provider.send("personal_sign",[(0,Ie.hexlify)(n),this.address.toLowerCase()])}async signTypedData(t,n,s){let i=pS(s),o=await NK.TypedDataEncoder.resolveNames(t,n,i,async a=>{let c=await(0,Ah.resolveAddress)(a);return(0,Ie.assertArgument)(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(NK.TypedDataEncoder.getPayload(o.domain,n,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){let n=typeof t=="string"?(0,Ie.toUtf8Bytes)(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,Ie.hexlify)(n)])}};Qc.JsonRpcSigner=ny;var Eh,sy,uf,Zc,Ga,xo,oi,J_,gC,mS=class extends RK.AbstractProvider{constructor(t,n){super(t,n);T(this,J_);T(this,Eh,void 0);T(this,sy,void 0);T(this,uf,void 0);T(this,Zc,void 0);T(this,Ga,void 0);T(this,xo,void 0);T(this,oi,void 0);w(this,sy,1),w(this,Eh,Object.assign({},MK,n||{})),w(this,uf,[]),w(this,Zc,null),w(this,xo,null),w(this,oi,null);{let i=null,o=new Promise(a=>{i=a});w(this,Ga,{promise:o,resolve:i})}let s=this._getOption("staticNetwork");typeof s=="boolean"?((0,Ie.assertArgument)(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&t!=null&&w(this,xo,hC.Network.from(t))):s&&((0,Ie.assertArgument)(t==null||s.matches(t),"staticNetwork MUST match network object","options",n),w(this,xo,s))}_getOption(t){return h(this,Eh)[t]}get _network(){return(0,Ie.assert)(h(this,xo),"network is not available yet","NETWORK_ERROR"),h(this,xo)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&(0,Ie.getBigInt)(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}let n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){let t=this._getOption("staticNetwork");if(t)if(t===!0){if(h(this,xo))return h(this,xo)}else return t;return h(this,oi)?await h(this,oi):this.ready?(w(this,oi,(async()=>{try{let n=hC.Network.from((0,Ie.getBigInt)(await this.send("eth_chainId",[])));return w(this,oi,null),n}catch(n){throw w(this,oi,null),n}})()),await h(this,oi)):(w(this,oi,(async()=>{let n={id:On(this,sy)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],w(this,oi,null)}catch(i){throw w(this,oi,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return hC.Network.from((0,Ie.getBigInt)(s.result));throw this.getRpcError(n,s)})()),await h(this,oi))}_start(){h(this,Ga)==null||h(this,Ga).resolve==null||(h(this,Ga).resolve(),w(this,Ga,null),(async()=>{for(;h(this,xo)==null&&!this.destroyed;)try{w(this,xo,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,Ie.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Rfe(1e3)}D(this,J_,gC).call(this)})())}async _waitUntilReady(){if(h(this,Ga)!=null)return await h(this,Ga).promise}_getSubscriber(t){return t.type==="pending"?new BK.FilterIdPendingSubscriber(this):t.type==="event"?this._getOption("polling")?new Nfe.PollingEventSubscriber(this,t.filter):new BK.FilterIdEventSubscriber(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new RK.UnmanagedSubscriber("orphan"):super._getSubscriber(t)}get ready(){return h(this,Ga)==null}getRpcTransaction(t){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=(0,Ie.toQuantity)((0,Ie.getBigInt)(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(n[s]=(0,Ie.hexlify)(t[s]))}),t.accessList&&(n.accessList=(0,CK.accessListify)(t.accessList)),t.blobVersionedHashes&&(n.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),t.authorizationList&&(n.authorizationList=t.authorizationList.map(s=>{let i=(0,CK.authorizationify)(s);return{address:i.address,nonce:(0,Ie.toQuantity)(i.nonce),chainId:(0,Ie.toQuantity)(i.chainId),yParity:(0,Ie.toQuantity)(i.signature.yParity),r:(0,Ie.toQuantity)(i.signature.r),s:(0,Ie.toQuantity)(i.signature.s)}})),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ry(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ry(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[ry(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ry(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(ry):t.filter.address=ry(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){let{method:s}=t,{error:i}=n;if(s==="eth_estimateGas"&&i.message){let c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return(0,Ie.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return(0,Ie.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){let c=mC(i),f=Ofe.AbiCoder.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return f.info={error:i,payload:t},f}let o=JSON.stringify(Bfe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i)){let c={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,Ie.makeError)("user rejected action","ACTION_REJECTED",{action:c[s]||"unknown",reason:"rejected",info:{payload:t,error:i}})}if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){let c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,Ie.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,Ie.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,Ie.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return(0,Ie.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,Ie.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):(0,Ie.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,n){if(this.destroyed)return Promise.reject((0,Ie.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));let s=On(this,sy)._++,i=new Promise((o,a)=>{h(this,uf).push({resolve:o,reject:a,payload:{method:t,params:n,id:s,jsonrpc:"2.0"}})});return D(this,J_,gC).call(this),i}async getSigner(t){t==null&&(t=0);let n=this.send("eth_accounts",[]);if(typeof t=="number"){let i=await n;if(t>=i.length)throw new Error("no such account");return new ny(this,i[t])}let{accounts:s}=await(0,Ie.resolveProperties)({network:this.getNetwork(),accounts:n});t=(0,Ah.getAddress)(t);for(let i of s)if((0,Ah.getAddress)(i)===t)return new ny(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new ny(this,n))}destroy(){h(this,Zc)&&(clearTimeout(h(this,Zc)),w(this,Zc,null));for(let{payload:t,reject:n}of h(this,uf))n((0,Ie.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));w(this,uf,[]),super.destroy()}};Eh=new WeakMap,sy=new WeakMap,uf=new WeakMap,Zc=new WeakMap,Ga=new WeakMap,xo=new WeakMap,oi=new WeakMap,J_=new WeakSet,gC=function(){if(h(this,Zc))return;let t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,Zc,setTimeout(()=>{w(this,Zc,null);let n=h(this,uf);for(w(this,uf,[]);n.length;){let s=[n.shift()];for(;n.length&&s.length!==h(this,Eh).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>h(this,Eh).batchMaxSize){n.unshift(s.pop());break}(async()=>{let i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:a,reject:c,payload:f}of s){if(this.destroyed){c((0,Ie.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}let g=o.filter(p=>p.id===f.id)[0];if(g==null){let p=(0,Ie.makeError)("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",p),c(p);continue}if("error"in g){c(this.getRpcError(f,g));continue}a(g.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:a}of s)a(o)}})()}},t))};Qc.JsonRpcApiProvider=mS;var Kl,yS=class extends mS{constructor(t,n){super(t,n);T(this,Kl,void 0);let s=this._getOption("pollingInterval");s==null&&(s=MK.pollingInterval),w(this,Kl,s)}_getSubscriber(t){let n=super._getSubscriber(t);return IK(n)&&(n.pollingInterval=h(this,Kl)),n}get pollingInterval(){return h(this,Kl)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");w(this,Kl,t),this._forEachSubscriber(n=>{IK(n)&&(n.pollingInterval=h(this,Kl))})}};Kl=new WeakMap;Qc.JsonRpcApiPollingProvider=yS;var iy,pC=class extends yS{constructor(t,n,s){t==null&&(t="http://localhost:8545");super(n,s);T(this,iy,void 0);typeof t=="string"?w(this,iy,new Ie.FetchRequest(t)):w(this,iy,t.clone())}_getConnection(){return h(this,iy).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){let n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");let s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}};iy=new WeakMap;Qc.JsonRpcProvider=pC;function mC(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&(0,Ie.isHexString)(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(let e in r){let t=mC(r[e]);if(t)return t}return null}if(typeof r=="string")try{return mC(JSON.parse(r))}catch{}return null}function yC(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(let t in r)yC(r[t],e);if(typeof r=="string")try{return yC(JSON.parse(r),e)}catch{}}}function Bfe(r){let e=[];return yC(r,e),e}});var xC=M(xS=>{y();b();Object.defineProperty(xS,"__esModule",{value:!0});xS.AnkrProvider=void 0;var bC=fe(),Ife=cf(),Mfe=Rs(),jfe=Mi(),bS="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Ffe(r){switch(r){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,bC.assertArgument)(!1,"unsupported network","network",r)}var oy=class extends jfe.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Mfe.Network.from(t);n==null&&(n=bS);let i={polling:!0,staticNetwork:s},o=oy.getRequest(s,n);super(o,s,i);O(this,"apiKey");(0,bC.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new oy(t,this.apiKey)}catch{}return super._getProvider(t)}static getRequest(t,n){n==null&&(n=bS);let s=new bC.FetchRequest(`https://${Ffe(t.name)}/${n}`);return s.allowGzip=!0,n===bS&&(s.retryFunc=async(i,o,a)=>((0,Ife.showThrottleMessage)("AnkrProvider"),!0)),s}getRpcError(t,n){return t.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(t,n)}isCommunityResource(){return this.apiKey===bS}};xS.AnkrProvider=oy});var wC=M(_S=>{y();b();Object.defineProperty(_S,"__esModule",{value:!0});_S.AlchemyProvider=void 0;var ay=fe(),Lfe=cf(),Ufe=Rs(),Dfe=Mi(),wS="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function qfe(r){switch(r){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,ay.assertArgument)(!1,"unsupported network","network",r)}var cy=class extends Dfe.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Ufe.Network.from(t);n==null&&(n=wS);let i=cy.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,ay.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new cy(t,this.apiKey)}catch{}return super._getProvider(t)}async _perform(t){if(t.method==="getTransactionResult"){let{trace:n,tx:s}=await(0,ay.resolveProperties)({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(n==null||s==null)return null;let i,o=!1;try{i=n[0].result.output,o=n[0].error==="Reverted"}catch{}if(i)return(0,ay.assert)(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:s,invocation:null,revert:null}),i;(0,ay.assert)(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(t)}isCommunityResource(){return this.apiKey===wS}static getRequest(t,n){n==null&&(n=wS);let s=new ay.FetchRequest(`https://${qfe(t.name)}/v2/${n}`);return s.allowGzip=!0,n===wS&&(s.retryFunc=async(i,o,a)=>((0,Lfe.showThrottleMessage)("alchemy"),!0)),s}};_S.AlchemyProvider=cy});var _C=M(AS=>{y();b();Object.defineProperty(AS,"__esModule",{value:!0});AS.ChainstackProvider=void 0;var PS=fe(),Hfe=cf(),Gfe=Rs(),Kfe=Mi();function vS(r){switch(r){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,PS.assertArgument)(!1,"unsupported network","network",r)}function Vfe(r){switch(r){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,PS.assertArgument)(!1,"unsupported network","network",r)}var uy=class extends Kfe.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Gfe.Network.from(t);n==null&&(n=vS(s.name));let i=uy.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,PS.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new uy(t,this.apiKey)}catch{}return super._getProvider(t)}isCommunityResource(){return this.apiKey===vS(this._network.name)}static getRequest(t,n){n==null&&(n=vS(t.name));let s=new PS.FetchRequest(`https://${Vfe(t.name)}/${n}`);return s.allowGzip=!0,n===vS(t.name)&&(s.retryFunc=async(i,o,a)=>((0,Hfe.showThrottleMessage)("ChainstackProvider"),!0)),s}};AS.ChainstackProvider=uy});var PC=M(ES=>{y();b();Object.defineProperty(ES,"__esModule",{value:!0});ES.CloudflareProvider=void 0;var zfe=fe(),Jfe=Rs(),Wfe=Mi(),vC=class extends Wfe.JsonRpcProvider{constructor(e){e==null&&(e="mainnet");let t=Jfe.Network.from(e);(0,zfe.assertArgument)(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};ES.CloudflareProvider=vC});var EC=M(ly=>{y();b();Object.defineProperty(ly,"__esModule",{value:!0});ly.EtherscanProvider=ly.EtherscanPlugin=void 0;var $fe=Tm(),Zfe=k_(),jK=Ts(),fn=fe(),Qfe=Xm(),Xfe=Rs(),Yfe=Y3(),ele=cf(),FK=2e3;function tle(r){return r&&typeof r.then=="function"}var LK="org.ethers.plugins.provider.Etherscan",W_=class extends Yfe.NetworkPlugin{constructor(t){super(LK);O(this,"baseUrl");(0,fn.defineProperties)(this,{baseUrl:t})}clone(){return new W_(this.baseUrl)}};ly.EtherscanPlugin=W_;var rle=["enableCcipRead"],nle=1,fy,AC=class extends Qfe.AbstractProvider{constructor(t,n){let s=n??null;super();O(this,"network");O(this,"apiKey");T(this,fy,void 0);let i=Xfe.Network.from(t);w(this,fy,i.getPlugin(LK)),(0,fn.defineProperties)(this,{apiKey:s,network:i})}getBaseUrl(){if(h(this,fy))return h(this,fy).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}(0,fn.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(t,n){let s=Object.keys(n).reduce((i,o)=>{let a=n[o];return a!=null&&(i+=`&${o}=${a}`),i},"");return this.apiKey&&(s+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${t}${s}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(t,n){return n.module=t,n.apikey=this.apiKey,n.chainid=this.network.chainId,n}async detectNetwork(){return this.network}async fetch(t,n,s){let i=nle++,o=s?this.getPostUrl():this.getUrl(t,n),a=s?this.getPostData(t,n):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:a});let c=new fn.FetchRequest(o);c.setThrottleParams({slotInterval:1e3}),c.retryFunc=(p,A,P)=>(this.isCommunityResource()&&(0,ele.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),c.processFunc=async(p,A)=>{let P=A.hasBody()?JSON.parse((0,fn.toUtf8String)(A.body)):{},C=(typeof P.result=="string"?P.result:"").toLowerCase().indexOf("rate limit")>=0;return t==="proxy"?P&&P.status==0&&P.message=="NOTOK"&&C&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:P}),A.throwThrottleError(P.result,FK)):C&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:P.result}),A.throwThrottleError(P.result,FK)),A},a&&(c.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),c.body=Object.keys(a).map(p=>`${p}=${a[p]}`).join("&"));let f=await c.send();try{f.assertOk()}catch(p){this.emit("debug",{action:"receiveError",id:i,error:p,reason:"assertOk"}),(0,fn.assert)(!1,"response error","SERVER_ERROR",{request:c,response:f})}f.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),(0,fn.assert)(!1,"missing response","SERVER_ERROR",{request:c,response:f}));let g=JSON.parse((0,fn.toUtf8String)(f.body));return t==="proxy"?(g.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"invalid JSON-RPC"}),(0,fn.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:c,response:f,info:{result:g}})),g.error&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"JSON-RPC error"}),(0,fn.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):g.status==0&&(g.message==="No records found"||g.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):((g.status!=1||typeof g.message=="string"&&!g.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:g}),(0,fn.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result)}_getTransactionPostData(t){let n={};for(let s in t){if(rle.indexOf(s)>=0||t[s]==null)continue;let i=t[s];if(!(s==="type"&&i===0)&&!(s==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[s])i=(0,fn.toQuantity)(i);else if(s==="accessList")i="["+(0,jK.accessListify)(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(s==="blobVersionedHashes"){if(i.length===0)continue;(0,fn.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:t}})}else i=(0,fn.hexlify)(i);n[s]=i}}return n}_checkError(t,n,s){let i="";if((0,fn.isError)(n,"SERVER_ERROR")){try{i=n.info.result.error.message}catch{}if(!i)try{i=n.info.message}catch{}}if(t.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,fn.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.transaction}),(t.method==="call"||t.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=n.info.result.error.data}catch{}let a=$fe.AbiCoder.getBuiltinCallException(t.method,t.transaction,o);throw a.info={request:t,error:n},a}if(i&&t.method==="broadcastTransaction"){let o=jK.Transaction.from(t.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,fn.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&(0,fn.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,fn.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw n}async _detectNetwork(){return this.network}async _perform(t){switch(t.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(n=>this._checkError(t,n,t.signedTransaction));case"getBlock":if("blockTag"in t)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});(0,fn.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.hash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}case"estimateGas":{let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}default:break}return super._perform(t)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(t){let n=this._getAddress(t);tle(n)&&(n=await n);try{let s=await this.fetch("contract",{action:"getabi",address:n}),i=JSON.parse(s);return new Zfe.Contract(n,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};fy=new WeakMap;ly.EtherscanProvider=AC});var UK=M(SS=>{y();b();Object.defineProperty(SS,"__esModule",{value:!0});SS.WebSocket=void 0;function sle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var ile=sle().WebSocket;SS.WebSocket=ile});var NS=M(wo=>{y();b();Object.defineProperty(wo,"__esModule",{value:!0});wo.SocketProvider=wo.SocketEventSubscriber=wo.SocketPendingSubscriber=wo.SocketBlockSubscriber=wo.SocketSubscriber=void 0;var DK=Xm(),$_=fe(),ole=Mi(),Xc,Z_,Vl,Sh,zl,hy=class{constructor(e,t){T(this,Xc,void 0);T(this,Z_,void 0);T(this,Vl,void 0);T(this,Sh,void 0);T(this,zl,void 0);w(this,Xc,e),w(this,Z_,JSON.stringify(t)),w(this,Vl,null),w(this,Sh,null),w(this,zl,null)}get filter(){return JSON.parse(h(this,Z_))}start(){w(this,Vl,h(this,Xc).send("eth_subscribe",this.filter).then(e=>(h(this,Xc)._register(e,this),e)))}stop(){h(this,Vl).then(e=>{h(this,Xc).destroyed||h(this,Xc).send("eth_unsubscribe",[e])}),w(this,Vl,null)}pause(e){(0,$_.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),w(this,Sh,!!e)}resume(){w(this,Sh,null)}_handleMessage(e){if(h(this,Vl)!=null&&h(this,Sh)===null){let t=h(this,zl);t==null?t=this._emit(h(this,Xc),e):t=t.then(async()=>{await this._emit(h(this,Xc),e)}),w(this,zl,t.then(()=>{h(this,zl)===t&&w(this,zl,null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}};Xc=new WeakMap,Z_=new WeakMap,Vl=new WeakMap,Sh=new WeakMap,zl=new WeakMap;wo.SocketSubscriber=hy;var kS=class extends hy{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}};wo.SocketBlockSubscriber=kS;var OS=class extends hy{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}};wo.SocketPendingSubscriber=OS;var Q_,TS=class extends hy{constructor(t,n){super(t,["logs",n]);T(this,Q_,void 0);w(this,Q_,JSON.stringify(n))}get logFilter(){return JSON.parse(h(this,Q_))}async _emit(t,n){t.emit(this.logFilter,t._wrapLog(n,t._network))}};Q_=new WeakMap;wo.SocketEventSubscriber=TS;var kh,dy,Jl,SC=class extends ole.JsonRpcApiProvider{constructor(t,n){let s=Object.assign({},n??{});(0,$_.assertArgument)(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(t,s);T(this,kh,void 0);T(this,dy,void 0);T(this,Jl,void 0);w(this,kh,new Map),w(this,dy,new Map),w(this,Jl,new Map)}_getSubscriber(t){switch(t.type){case"close":return new DK.UnmanagedSubscriber("close");case"block":return new kS(this);case"pending":return new OS(this);case"event":return new TS(this,t.filter);case"orphan":if(t.filter.orphan==="drop-log")return new DK.UnmanagedSubscriber("drop-log")}return super._getSubscriber(t)}_register(t,n){h(this,dy).set(t,n);let s=h(this,Jl).get(t);if(s){for(let i of s)n._handleMessage(i);h(this,Jl).delete(t)}}async _send(t){(0,$_.assertArgument)(!Array.isArray(t),"WebSocket does not support batch send","payload",t);let n=new Promise((s,i)=>{h(this,kh).set(t.id,{payload:t,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(t)),[await n]}async _processMessage(t){let n=JSON.parse(t);if(n&&typeof n=="object"&&"id"in n){let s=h(this,kh).get(n.id);if(s==null){this.emit("error",(0,$_.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}h(this,kh).delete(n.id),s.resolve(n)}else if(n&&n.method==="eth_subscription"){let s=n.params.subscription,i=h(this,dy).get(s);if(i)i._handleMessage(n.params.result);else{let o=h(this,Jl).get(s);o==null&&(o=[],h(this,Jl).set(s,o)),o.push(n.params.result)}}else{this.emit("error",(0,$_.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(t){throw new Error("sub-classes must override this")}};kh=new WeakMap,dy=new WeakMap,Jl=new WeakMap;wo.SocketProvider=SC});var RS=M(CS=>{y();b();Object.defineProperty(CS,"__esModule",{value:!0});CS.WebSocketProvider=void 0;var ale=UK(),cle=NS(),Oh,Ka,kC=class extends cle.SocketProvider{constructor(t,n,s){super(n,s);T(this,Oh,void 0);T(this,Ka,void 0);typeof t=="string"?(w(this,Oh,()=>new ale.WebSocket(t)),w(this,Ka,h(this,Oh).call(this))):typeof t=="function"?(w(this,Oh,t),w(this,Ka,t())):(w(this,Oh,null),w(this,Ka,t)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(h(this,Ka)==null)throw new Error("websocket closed");return h(this,Ka)}async _write(t){this.websocket.send(t)}async destroy(){h(this,Ka)!=null&&(h(this,Ka).close(),w(this,Ka,null)),super.destroy()}};Oh=new WeakMap,Ka=new WeakMap;CS.WebSocketProvider=kC});var OC=M(gy=>{y();b();Object.defineProperty(gy,"__esModule",{value:!0});gy.InfuraProvider=gy.InfuraWebSocketProvider=void 0;var Y_=fe(),ule=cf(),fle=Rs(),lle=Mi(),dle=RS(),X_="84842078b09946638c03157f83405213";function hle(r){switch(r){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,Y_.assertArgument)(!1,"unsupported network","network",r)}var BS=class extends dle.WebSocketProvider{constructor(t,n){let s=new Th(t,n),i=s._getConnection();(0,Y_.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);O(this,"projectId");O(this,"projectSecret");(0,Y_.defineProperties)(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===X_}};gy.InfuraWebSocketProvider=BS;var Th=class extends lle.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=fle.Network.from(t);n==null&&(n=X_),s==null&&(s=null);let o=Th.getRequest(i,n,s);super(o,i,{staticNetwork:i});O(this,"projectId");O(this,"projectSecret");(0,Y_.defineProperties)(this,{projectId:n,projectSecret:s})}_getProvider(t){try{return new Th(t,this.projectId,this.projectSecret)}catch{}return super._getProvider(t)}isCommunityResource(){return this.projectId===X_}static getWebSocketProvider(t,n){return new BS(t,n)}static getRequest(t,n,s){n==null&&(n=X_),s==null&&(s=null);let i=new Y_.FetchRequest(`https://${hle(t.name)}/v3/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===X_&&(i.retryFunc=async(o,a,c)=>((0,ule.showThrottleMessage)("InfuraProvider"),!0)),i}};gy.InfuraProvider=Th});var NC=M(MS=>{y();b();Object.defineProperty(MS,"__esModule",{value:!0});MS.QuickNodeProvider=void 0;var TC=fe(),gle=cf(),ple=Rs(),mle=Mi(),IS="919b412a057b5e9c9b6dce193c5a60242d6efadb";function yle(r){switch(r){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,TC.assertArgument)(!1,"unsupported network","network",r)}var py=class extends mle.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=ple.Network.from(t);n==null&&(n=IS);let i=py.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"token");(0,TC.defineProperties)(this,{token:n})}_getProvider(t){try{return new py(t,this.token)}catch{}return super._getProvider(t)}isCommunityResource(){return this.token===IS}static getRequest(t,n){n==null&&(n=IS);let s=new TC.FetchRequest(`https://${yle(t.name)}/${n}`);return s.allowGzip=!0,n===IS&&(s.retryFunc=async(i,o,a)=>((0,gle.showThrottleMessage)("QuickNodeProvider"),!0)),s}};MS.QuickNodeProvider=py});var UC=M(DS=>{y();b();Object.defineProperty(DS,"__esModule",{value:!0});DS.FallbackProvider=void 0;var _o=fe(),qK=Xm(),ble=Rs(),xle=BigInt("1"),wle=BigInt("2");function _le(r){for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}}function vle(r){return new Promise(e=>{setTimeout(e,r)})}function IC(){return new Date().getTime()}function CC(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var HK={stallTimeout:400,priority:1,weight:1},GK={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function Ple(r,e){for(;(r.blockNumber<0||r.blockNumber<e)&&(r._updateNumber||(r._updateNumber=(async()=>{try{let t=await r.provider.getBlockNumber();t>r.blockNumber&&(r.blockNumber=t)}catch(t){r.blockNumber=-2,r._lastFatalError=t,r._lastFatalErrorTimestamp=IC()}r._updateNumber=null})()),await r._updateNumber,r.outOfSync++,!r._lastFatalError););}function my(r){if(r==null)return"null";if(Array.isArray(r))return"["+r.map(my).join(",")+"]";if(typeof r=="object"&&typeof r.toJSON=="function")return my(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":case"number":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${my(r[t])}`).join(",")+"}"}}throw console.log("Could not serialize",r),new Error("Hmm...")}function RC(r,e){if("error"in e){let n=e.error,s;return(0,_o.isError)(n,"CALL_EXCEPTION")?s=my(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):s=my(n),{tag:s,value:n}}let t=e.result;return{tag:my(t),value:t}}function jS(r,e){let t=new Map;for(let{value:s,tag:i,weight:o}of e){let a=t.get(i)||{value:s,weight:0};a.weight+=o,t.set(i,a)}let n=null;for(let s of t.values())s.weight>=r&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function MC(r,e){let t=0,n=new Map,s=null,i=[];for(let{value:a,tag:c,weight:f}of e)if(a instanceof Error){let g=n.get(c)||{value:a,weight:0};g.weight+=f,n.set(c,g),(s==null||g.weight>s.weight)&&(s=g)}else i.push(BigInt(a)),t+=f;if(t<r)return s&&s.weight>=r?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+xle)/wle}function BC(r,e){let t=jS(r,e);if(t!==void 0)return t;for(let n of e)if(n.value)return n.value}function Ale(r,e){if(r===1)return(0,_o.getNumber)(MC(r,e),"%internal");let t=new Map,n=(o,a)=>{let c=t.get(o)||{result:o,weight:0};c.weight+=a,t.set(o,c)};for(let{weight:o,value:a}of e){let c=(0,_o.getNumber)(a);n(c-1,o),n(c,o),n(c+1,o)}let s=0,i;for(let{weight:o,result:a}of t.values())o>=r&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var ai,ff,yy,FS,KK,ev,FC,LS,VK,US,zK,tv,LC,jC=class extends qK.AbstractProvider{constructor(t,n,s){super(n,s);T(this,FS);T(this,ev);T(this,LS);T(this,US);T(this,tv);O(this,"quorum");O(this,"eventQuorum");O(this,"eventWorkers");T(this,ai,void 0);T(this,ff,void 0);T(this,yy,void 0);w(this,ai,t.map(i=>i instanceof qK.AbstractProvider?Object.assign({provider:i},HK,GK):Object.assign({},HK,i,GK))),w(this,ff,-2),w(this,yy,null),s&&s.quorum!=null?this.quorum=s.quorum:this.quorum=Math.ceil(h(this,ai).reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,_o.assertArgument)(this.quorum<=h(this,ai).reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return h(this,ai).map(t=>{let n=Object.assign({},t);for(let s in n)s[0]==="_"&&delete n[s];return n})}async _detectNetwork(){return ble.Network.from((0,_o.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(t,n){switch(n.method){case"broadcastTransaction":return await t.broadcastTransaction(n.signedTransaction);case"call":return await t.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await t.getNetwork()).chainId;case"estimateGas":return await t.estimateGas(n.transaction);case"getBalance":return await t.getBalance(n.address,n.blockTag);case"getBlock":{let s="blockHash"in n?n.blockHash:n.blockTag;return await t.getBlock(s,n.includeTransactions)}case"getBlockNumber":return await t.getBlockNumber();case"getCode":return await t.getCode(n.address,n.blockTag);case"getGasPrice":return(await t.getFeeData()).gasPrice;case"getPriorityFee":return(await t.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await t.getLogs(n.filter);case"getStorage":return await t.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await t.getTransaction(n.hash);case"getTransactionCount":return await t.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await t.getTransactionReceipt(n.hash);case"getTransactionResult":return await t.getTransactionResult(n.hash)}}async _perform(t){if(t.method==="broadcastTransaction"){let o=h(this,ai).map(f=>null),a=h(this,ai).map(async({provider:f,weight:g},p)=>{try{let A=await f._perform(t);o[p]=Object.assign(RC(t.method,{result:A}),{weight:g})}catch(A){o[p]=Object.assign(RC(t.method,{error:A}),{weight:g})}});for(;;){let f=o.filter(A=>A!=null);for(let{value:A}of f)if(!(A instanceof Error))return A;let g=jS(this.quorum,o.filter(A=>A!=null));if((0,_o.isError)(g,"INSUFFICIENT_FUNDS"))throw g;let p=a.filter((A,P)=>o[P]==null);if(p.length===0)break;await Promise.race(p)}let c=BC(this.quorum,o);if((0,_o.assert)(c!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:o.map(CC)}}),c instanceof Error)throw c;return c}await D(this,LS,VK).call(this);let n=new Set,s=0;for(;;){let o=D(this,ev,FC).call(this,n,t);if(o==null||(s+=o.config.weight,s>=this.quorum))break}let i=await D(this,tv,LC).call(this,n,t);for(let o of n)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:t}of h(this,ai))t.destroy();super.destroy()}};ai=new WeakMap,ff=new WeakMap,yy=new WeakMap,FS=new WeakSet,KK=function(t){let n=Array.from(t).map(i=>i.config),s=h(this,ai).slice();_le(s),s.sort((i,o)=>i.priority-o.priority);for(let i of s)if(!i._lastFatalError&&n.indexOf(i)===-1)return i;return null},ev=new WeakSet,FC=function(t,n){let s=D(this,FS,KK).call(this,t);if(s==null)return null;let i={config:s,result:null,didBump:!1,perform:null,staller:null},o=IC();return i.perform=(async()=>{try{s.requests++;let c=await this._translatePerform(s.provider,n);i.result={result:c}}catch(c){s.errorResponses++,i.result={error:c}}let a=IC()-o;s._totalTime+=a,s.rollingDuration=.95*s.rollingDuration+.05*a,i.perform=null})(),i.staller=(async()=>{await vle(s.stallTimeout),i.staller=null})(),t.add(i),i},LS=new WeakSet,VK=async function(){let t=h(this,yy);if(!t){let n=[];h(this,ai).forEach(s=>{n.push((async()=>{await Ple(s,0),s._lastFatalError||(s._network=await s.provider.getNetwork())})())}),w(this,yy,t=(async()=>{await Promise.all(n);let s=null;for(let i of h(this,ai)){if(i._lastFatalError)continue;let o=i._network;s==null?s=o.chainId:o.chainId!==s&&(0,_o.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await t},US=new WeakSet,zK=async function(t,n){let s=[];for(let i of t)if(i.result!=null){let{tag:o,value:a}=RC(n.method,i.result);s.push({tag:o,value:a,weight:i.config.weight})}if(!(s.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{h(this,ff)===-2&&w(this,ff,Math.ceil((0,_o.getNumber)(MC(this.quorum,h(this,ai).filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:(0,_o.getNumber)(o.blockNumber).toString(),weight:o.weight}))))));let i=Ale(this.quorum,s);return i===void 0?void 0:(i>h(this,ff)&&w(this,ff,i),h(this,ff))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return MC(this.quorum,s);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?BC(this.quorum,s):jS(this.quorum,s);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return jS(this.quorum,s);case"broadcastTransaction":return BC(this.quorum,s)}(0,_o.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${CC(n.method)})`})}},tv=new WeakSet,LC=async function(t,n){if(t.size===0)throw new Error("no runners?!");let s=[],i=0;for(let a of t){if(a.perform&&s.push(a.perform),a.staller){s.push(a.staller);continue}a.didBump||(a.didBump=!0,i++)}let o=await D(this,US,zK).call(this,t,n);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let a=0;a<i;a++)D(this,ev,FC).call(this,t,n);return(0,_o.assert)(s.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(t).map(a=>CC(a.result))}}),await Promise.race(s),await D(this,tv,LC).call(this,t,n)};DS.FallbackProvider=jC});var JK=M(qS=>{y();b();Object.defineProperty(qS,"__esModule",{value:!0});qS.getDefaultProvider=void 0;var Ele=fe(),Sle=xC(),kle=wC(),Ole=_C(),Tle=PC(),Nle=EC(),Cle=OC(),Rle=NC(),Ble=UC(),DC=Mi(),Ile=Rs(),Mle=RS();function jle(r){return r&&typeof r.send=="function"&&typeof r.close=="function"}var Fle="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Lle(r,e){e==null&&(e={});let t=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof r=="string"&&r.match(/^https?:/))return new DC.JsonRpcProvider(r);if(typeof r=="string"&&r.match(/^wss?:/)||jle(r))return new Mle.WebSocketProvider(r);let n=null;try{n=Ile.Network.from(r)}catch{}let s=[];if(t("publicPolygon")&&n&&(n.name==="matic"?s.push(new DC.JsonRpcProvider("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new DC.JsonRpcProvider("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),t("alchemy"))try{s.push(new kle.AlchemyProvider(r,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new Sle.AnkrProvider(r,e.ankr))}catch{}if(t("chainstack"))try{s.push(new Ole.ChainstackProvider(r,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new Tle.CloudflareProvider(r))}catch{}if(t("etherscan"))try{s.push(new Nle.EtherscanProvider(r,e.etherscan))}catch{}if(t("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new Cle.InfuraProvider(r,o,a))}catch{}if(t("quicknode"))try{let o=e.quicknode;s.push(new Rle.QuickNodeProvider(r,o))}catch{}if((0,Ele.assert)(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),n&&Fle.indexOf(n.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new Ble.FallbackProvider(s,void 0,{quorum:i})}qS.getDefaultProvider=Lle});var WK=M(HS=>{y();b();Object.defineProperty(HS,"__esModule",{value:!0});HS.NonceManager=void 0;var Ule=fe(),Dle=hS(),Wl,Nh,HC=class extends Dle.AbstractSigner{constructor(t){super(t.provider);O(this,"signer");T(this,Wl,void 0);T(this,Nh,void 0);(0,Ule.defineProperties)(this,{signer:t}),w(this,Wl,null),w(this,Nh,0)}async getAddress(){return this.signer.getAddress()}connect(t){return new HC(this.signer.connect(t))}async getNonce(t){if(t==="pending"){h(this,Wl)==null&&w(this,Wl,super.getNonce("pending"));let n=h(this,Nh);return await h(this,Wl)+n}return super.getNonce(t)}increment(){On(this,Nh)._++}reset(){w(this,Nh,0),w(this,Wl,null)}async sendTransaction(t){let n=this.getNonce("pending");return this.increment(),t=await this.signer.populateTransaction(t),t.nonce=await n,await this.signer.sendTransaction(t)}signTransaction(t){return this.signer.signTransaction(t)}signMessage(t){return this.signer.signMessage(t)}signTypedData(t,n,s){return this.signer.signTypedData(t,n,s)}},qC=HC;Wl=new WeakMap,Nh=new WeakMap;HS.NonceManager=qC});var $K=M(GS=>{y();b();Object.defineProperty(GS,"__esModule",{value:!0});GS.BrowserProvider=void 0;var GC=fe(),qle=Mi(),by,xy,Ch=class extends qle.JsonRpcApiPollingProvider{constructor(t,n,s){let i=Object.assign({},s??{},{batchMaxCount:1});(0,GC.assertArgument)(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(n,i);T(this,by,void 0);T(this,xy,void 0);w(this,xy,null),s&&s.providerInfo&&w(this,xy,s.providerInfo),w(this,by,async(o,a)=>{let c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{let f=await t.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){let g=new Error(f.message);throw g.code=f.code,g.data=f.data,g.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:g}),g}})}get providerInfo(){return h(this,xy)}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){(0,GC.assertArgument)(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{let n=await h(this,by).call(this,t.method,t.params||[]);return[{id:t.id,result:n}]}catch(n){return[{id:t.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(t,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(t,n)}async hasSigner(t){t==null&&(t=0);let n=await this.send("eth_accounts",[]);return typeof t=="number"?n.length>t:(t=t.toLowerCase(),n.filter(s=>s.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await h(this,by).call(this,"eth_requestAccounts",[])}catch(n){let s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new Ch(t.provider);let n=t.window?t.window:typeof window<"u"?window:null;if(n==null)return null;let s=t.anyProvider;if(s&&n.ethereum)return new Ch(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;let i=t.timeout?t.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[],f=A=>{c.push(A.detail),s&&g()},g=()=>{if(clearTimeout(p),c.length)if(t&&t.filter){let A=t.filter(c.map(P=>Object.assign({},P.info)));if(A==null)o(null);else if(A instanceof Ch)o(A);else{let P=null;if(A.uuid&&(P=c.filter(N=>A.uuid===N.info.uuid)[0]),P){let{provider:C,info:N}=P;o(new Ch(C,void 0,{providerInfo:N}))}else a((0,GC.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:A}))}}else{let{provider:A,info:P}=c[0];o(new Ch(A,void 0,{providerInfo:P}))}else o(null);n.removeEventListener("eip6963:announceProvider",f)},p=setTimeout(()=>{g()},i);n.addEventListener("eip6963:announceProvider",f),n.dispatchEvent(new Event("eip6963:requestProvider"))})}},KC=Ch;by=new WeakMap,xy=new WeakMap;GS.BrowserProvider=KC});var ZK=M(VS=>{y();b();Object.defineProperty(VS,"__esModule",{value:!0});VS.BlockscoutProvider=void 0;var KS=fe(),Hle=Rs(),Gle=Mi();function Kle(r){switch(r){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}(0,KS.assertArgument)(!1,"unsupported network","network",r)}var wy=class extends Gle.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Hle.Network.from(t);n==null&&(n=null);let i=wy.getRequest(s);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,KS.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new wy(t,this.apiKey)}catch{}return super._getProvider(t)}isCommunityResource(){return this.apiKey===null}getRpcRequest(t){let n=super.getRpcRequest(t);return n&&n.method==="eth_estimateGas"&&n.args.length==1&&(n.args=n.args.slice(),n.args.push("latest")),n}getRpcError(t,n){let s=n?n.error:null;if(s&&s.code===-32015&&!(0,KS.isHexString)(s.data||"",!0)){let i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";s.message==="VM execution error."?o=i[s.data]||"":i[s.message||""]&&(o=i[s.message||""]),o&&(s.message+=` (reverted: ${s.data})`,s.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else s&&s.code===-32e3&&s.message==="wrong transaction nonce"&&(s.message+=" (nonce too low)");return super.getRpcError(t,n)}static getRequest(t){let n=new KS.FetchRequest(Kle(t.name));return n.allowGzip=!0,n}};VS.BlockscoutProvider=wy});var QK=M(JS=>{y();b();Object.defineProperty(JS,"__esModule",{value:!0});JS.PocketProvider=void 0;var VC=fe(),Vle=cf(),zle=Rs(),Jle=Mi(),zS="62e1ad51b37b8e00394bda3b";function Wle(r){switch(r){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,VC.assertArgument)(!1,"unsupported network","network",r)}var _y=class extends Jle.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=zle.Network.from(t);n==null&&(n=zS),s==null&&(s=null);let o={staticNetwork:i},a=_y.getRequest(i,n,s);super(a,i,o);O(this,"applicationId");O(this,"applicationSecret");(0,VC.defineProperties)(this,{applicationId:n,applicationSecret:s})}_getProvider(t){try{return new _y(t,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(t)}static getRequest(t,n,s){n==null&&(n=zS);let i=new VC.FetchRequest(`https://${Wle(t.name)}/v1/lb/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===zS&&(i.retryFunc=async(o,a,c)=>((0,Vle.showThrottleMessage)("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===zS}};JS.PocketProvider=_y});var XK=M(WS=>{y();b();Object.defineProperty(WS,"__esModule",{value:!0});WS.IpcSocketProvider=void 0;var $le=void 0;WS.IpcSocketProvider=$le});var ZS=M(ne=>{y();b();Object.defineProperty(ne,"__esModule",{value:!0});ne.SocketEventSubscriber=ne.SocketPendingSubscriber=ne.SocketBlockSubscriber=ne.SocketSubscriber=ne.WebSocketProvider=ne.SocketProvider=ne.IpcSocketProvider=ne.QuickNodeProvider=ne.PocketProvider=ne.InfuraWebSocketProvider=ne.InfuraProvider=ne.EtherscanPlugin=ne.EtherscanProvider=ne.ChainstackProvider=ne.CloudflareProvider=ne.AnkrProvider=ne.BlockscoutProvider=ne.AlchemyProvider=ne.BrowserProvider=ne.JsonRpcSigner=ne.JsonRpcProvider=ne.JsonRpcApiProvider=ne.FallbackProvider=ne.copyRequest=ne.TransactionResponse=ne.TransactionReceipt=ne.Log=ne.FeeData=ne.Block=ne.FetchUrlFeeDataNetworkPlugin=ne.FeeDataNetworkPlugin=ne.EnsPlugin=ne.GasCostPlugin=ne.NetworkPlugin=ne.NonceManager=ne.Network=ne.MulticoinProviderPlugin=ne.EnsResolver=ne.getDefaultProvider=ne.showThrottleMessage=ne.VoidSigner=ne.AbstractSigner=ne.UnmanagedSubscriber=ne.AbstractProvider=void 0;var YK=Xm();Object.defineProperty(ne,"AbstractProvider",{enumerable:!0,get:function(){return YK.AbstractProvider}});Object.defineProperty(ne,"UnmanagedSubscriber",{enumerable:!0,get:function(){return YK.UnmanagedSubscriber}});var eV=hS();Object.defineProperty(ne,"AbstractSigner",{enumerable:!0,get:function(){return eV.AbstractSigner}});Object.defineProperty(ne,"VoidSigner",{enumerable:!0,get:function(){return eV.VoidSigner}});var Zle=cf();Object.defineProperty(ne,"showThrottleMessage",{enumerable:!0,get:function(){return Zle.showThrottleMessage}});var Qle=JK();Object.defineProperty(ne,"getDefaultProvider",{enumerable:!0,get:function(){return Qle.getDefaultProvider}});var tV=H4();Object.defineProperty(ne,"EnsResolver",{enumerable:!0,get:function(){return tV.EnsResolver}});Object.defineProperty(ne,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return tV.MulticoinProviderPlugin}});var Xle=Rs();Object.defineProperty(ne,"Network",{enumerable:!0,get:function(){return Xle.Network}});var Yle=WK();Object.defineProperty(ne,"NonceManager",{enumerable:!0,get:function(){return Yle.NonceManager}});var rv=Y3();Object.defineProperty(ne,"NetworkPlugin",{enumerable:!0,get:function(){return rv.NetworkPlugin}});Object.defineProperty(ne,"GasCostPlugin",{enumerable:!0,get:function(){return rv.GasCostPlugin}});Object.defineProperty(ne,"EnsPlugin",{enumerable:!0,get:function(){return rv.EnsPlugin}});Object.defineProperty(ne,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return rv.FeeDataNetworkPlugin}});Object.defineProperty(ne,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return rv.FetchUrlFeeDataNetworkPlugin}});var vy=Cm();Object.defineProperty(ne,"Block",{enumerable:!0,get:function(){return vy.Block}});Object.defineProperty(ne,"FeeData",{enumerable:!0,get:function(){return vy.FeeData}});Object.defineProperty(ne,"Log",{enumerable:!0,get:function(){return vy.Log}});Object.defineProperty(ne,"TransactionReceipt",{enumerable:!0,get:function(){return vy.TransactionReceipt}});Object.defineProperty(ne,"TransactionResponse",{enumerable:!0,get:function(){return vy.TransactionResponse}});Object.defineProperty(ne,"copyRequest",{enumerable:!0,get:function(){return vy.copyRequest}});var ede=UC();Object.defineProperty(ne,"FallbackProvider",{enumerable:!0,get:function(){return ede.FallbackProvider}});var zC=Mi();Object.defineProperty(ne,"JsonRpcApiProvider",{enumerable:!0,get:function(){return zC.JsonRpcApiProvider}});Object.defineProperty(ne,"JsonRpcProvider",{enumerable:!0,get:function(){return zC.JsonRpcProvider}});Object.defineProperty(ne,"JsonRpcSigner",{enumerable:!0,get:function(){return zC.JsonRpcSigner}});var tde=$K();Object.defineProperty(ne,"BrowserProvider",{enumerable:!0,get:function(){return tde.BrowserProvider}});var rde=wC();Object.defineProperty(ne,"AlchemyProvider",{enumerable:!0,get:function(){return rde.AlchemyProvider}});var nde=ZK();Object.defineProperty(ne,"BlockscoutProvider",{enumerable:!0,get:function(){return nde.BlockscoutProvider}});var sde=xC();Object.defineProperty(ne,"AnkrProvider",{enumerable:!0,get:function(){return sde.AnkrProvider}});var ide=PC();Object.defineProperty(ne,"CloudflareProvider",{enumerable:!0,get:function(){return ide.CloudflareProvider}});var ode=_C();Object.defineProperty(ne,"ChainstackProvider",{enumerable:!0,get:function(){return ode.ChainstackProvider}});var rV=EC();Object.defineProperty(ne,"EtherscanProvider",{enumerable:!0,get:function(){return rV.EtherscanProvider}});Object.defineProperty(ne,"EtherscanPlugin",{enumerable:!0,get:function(){return rV.EtherscanPlugin}});var nV=OC();Object.defineProperty(ne,"InfuraProvider",{enumerable:!0,get:function(){return nV.InfuraProvider}});Object.defineProperty(ne,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return nV.InfuraWebSocketProvider}});var ade=QK();Object.defineProperty(ne,"PocketProvider",{enumerable:!0,get:function(){return ade.PocketProvider}});var cde=NC();Object.defineProperty(ne,"QuickNodeProvider",{enumerable:!0,get:function(){return cde.QuickNodeProvider}});var ude=XK();Object.defineProperty(ne,"IpcSocketProvider",{enumerable:!0,get:function(){return ude.IpcSocketProvider}});var fde=NS();Object.defineProperty(ne,"SocketProvider",{enumerable:!0,get:function(){return fde.SocketProvider}});var lde=RS();Object.defineProperty(ne,"WebSocketProvider",{enumerable:!0,get:function(){return lde.WebSocketProvider}});var $S=NS();Object.defineProperty(ne,"SocketSubscriber",{enumerable:!0,get:function(){return $S.SocketSubscriber}});Object.defineProperty(ne,"SocketBlockSubscriber",{enumerable:!0,get:function(){return $S.SocketBlockSubscriber}});Object.defineProperty(ne,"SocketPendingSubscriber",{enumerable:!0,get:function(){return $S.SocketPendingSubscriber}});Object.defineProperty(ne,"SocketEventSubscriber",{enumerable:!0,get:function(){return $S.SocketEventSubscriber}})});var YS=M(XS=>{y();b();Object.defineProperty(XS,"__esModule",{value:!0});XS.BaseWallet=void 0;var nv=Xr(),QS=qc(),sV=ZS(),iV=Ts(),lf=fe(),Py,WC=class extends sV.AbstractSigner{constructor(t,n){super(n);O(this,"address");T(this,Py,void 0);(0,lf.assertArgument)(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),w(this,Py,t);let s=(0,iV.computeAddress)(this.signingKey.publicKey);(0,lf.defineProperties)(this,{address:s})}get signingKey(){return h(this,Py)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new WC(h(this,Py),t)}async signTransaction(t){t=(0,sV.copyRequest)(t);let{to:n,from:s}=await(0,lf.resolveProperties)({to:t.to?(0,nv.resolveAddress)(t.to,this):void 0,from:t.from?(0,nv.resolveAddress)(t.from,this):void 0});n!=null&&(t.to=n),s!=null&&(t.from=s),t.from!=null&&((0,lf.assertArgument)((0,nv.getAddress)(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);let i=iV.Transaction.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign((0,QS.hashMessage)(t)).serialized}authorizeSync(t){(0,lf.assertArgument)(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);let n=this.signingKey.sign((0,QS.hashAuthorization)(t));return Object.assign({},{address:(0,nv.getAddress)(t.address),nonce:(0,lf.getBigInt)(t.nonce||0),chainId:(0,lf.getBigInt)(t.chainId||0)},{signature:n})}async authorize(t){return t=Object.assign({},t,{address:await(0,nv.resolveAddress)(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,n,s){let i=await QS.TypedDataEncoder.resolveNames(t,n,s,async o=>{(0,lf.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let a=await this.provider.resolveName(o);return(0,lf.assert)(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(QS.TypedDataEncoder.hash(i.domain,n,i.value)).serialized}},JC=WC;Py=new WeakMap;XS.BaseWallet=JC});var $C=M(Ay=>{y();b();Object.defineProperty(Ay,"__esModule",{value:!0});Ay.decodeOwl=Ay.decode=void 0;var dde=fe(),e6=" !#$%&'()*+,-./<=>?@[]^_`{|}~",hde=/^[a-z]*$/i;function oV(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(hde)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function aV(r,e){for(let s=e6.length-1;s>=0;s--)r=r.split(e6[s]).join(e.substring(2*s,2*s+2));let t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return oV(oV(t,";"),":")}Ay.decode=aV;function gde(r){return(0,dde.assertArgument)(r[0]==="0","unsupported auwl data","data",r),aV(r.substring(1+2*e6.length),r.substring(1,1+2*e6.length))}Ay.decodeOwl=gde});var QC=M(t6=>{y();b();Object.defineProperty(t6,"__esModule",{value:!0});t6.Wordlist=void 0;var pde=fe(),ZC=class{constructor(e){O(this,"locale");(0,pde.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};t6.Wordlist=ZC});var n6=M(r6=>{y();b();Object.defineProperty(r6,"__esModule",{value:!0});r6.WordlistOwl=void 0;var mde=qc(),yde=fe(),bde=$C(),xde=QC(),Ey,sv,Rh,iv,YC,XC=class extends xde.Wordlist{constructor(t,n,s){super(t);T(this,iv);T(this,Ey,void 0);T(this,sv,void 0);T(this,Rh,void 0);w(this,Ey,n),w(this,sv,s),w(this,Rh,null)}get _data(){return h(this,Ey)}_decodeWords(){return(0,bde.decodeOwl)(h(this,Ey))}getWord(t){let n=D(this,iv,YC).call(this);return(0,yde.assertArgument)(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return D(this,iv,YC).call(this).indexOf(t)}};Ey=new WeakMap,sv=new WeakMap,Rh=new WeakMap,iv=new WeakSet,YC=function(){if(h(this,Rh)==null){let t=this._decodeWords();if((0,mde.id)(t.join(`
`)+`
`)!==h(this,sv))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);w(this,Rh,t)}return h(this,Rh)};r6.WordlistOwl=XC});var av=M(s6=>{y();b();Object.defineProperty(s6,"__esModule",{value:!0});s6.LangEn=void 0;var wde=n6(),_de="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",vde="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",eR=null,ov=class extends wde.WordlistOwl{constructor(){super("en",_de,vde)}static wordlist(){return eR==null&&(eR=new ov),eR}};s6.LangEn=ov});var o6=M(i6=>{y();b();Object.defineProperty(i6,"__esModule",{value:!0});i6.Mnemonic=void 0;var sR=an(),js=fe(),iR=av();function cV(r){return(1<<r)-1<<8-r&255}function Pde(r){return(1<<r)-1&255}function tR(r,e){(0,js.assertNormalize)("NFKD"),e==null&&(e=iR.LangEn.wordlist());let t=e.split(r);(0,js.assertArgument)(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*t.length/8)),s=0;for(let f=0;f<t.length;f++){let g=e.getWordIndex(t[f].normalize("NFKD"));(0,js.assertArgument)(g>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let p=0;p<11;p++)g&1<<10-p&&(n[s>>3]|=1<<7-s%8),s++}let i=32*t.length/3,o=t.length/3,a=cV(o),c=(0,js.getBytes)((0,sR.sha256)(n.slice(0,i/8)))[0]&a;return(0,js.assertArgument)(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,js.hexlify)(n.slice(0,i/8))}function rR(r,e){(0,js.assertArgument)(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=iR.LangEn.wordlist());let t=[0],n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&Pde(8-n)),n+=3);let s=r.length/4,i=parseInt((0,sR.sha256)(r).substring(2,4),16)&cV(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}var nR={},Sy=class{constructor(e,t,n,s,i){O(this,"phrase");O(this,"password");O(this,"wordlist");O(this,"entropy");s==null&&(s=""),i==null&&(i=iR.LangEn.wordlist()),(0,js.assertPrivate)(e,nR,"Mnemonic"),(0,js.defineProperties)(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){let e=(0,js.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,sR.pbkdf2)((0,js.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){let s=tR(e,n);return e=rR((0,js.getBytes)(s),n),new Sy(nR,s,e,t,n)}static fromEntropy(e,t,n){let s=(0,js.getBytes)(e,"entropy"),i=rR(s,n);return new Sy(nR,(0,js.hexlify)(s),i,t,n)}static entropyToPhrase(e,t){let n=(0,js.getBytes)(e,"entropy");return rR(n,t)}static phraseToEntropy(e,t){return tR(e,t)}static isValidMnemonic(e,t){try{return tR(e,t),!0}catch{}return!1}};i6.Mnemonic=Sy});var cR=M($l=>{y();b();var Vn=$l&&$l.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},oR=$l&&$l.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},c6,Po,Yc;Object.defineProperty($l,"__esModule",{value:!0});$l.AES=void 0;var Ade={16:10,24:12,32:14},Ede=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],vo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],a6=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Sde=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],kde=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Ode=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Tde=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Nde=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Cde=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Rde=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Bde=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Ide=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Mde=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],jde=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Fde=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function aR(r){let e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}var cv=class{get key(){return Vn(this,c6,"f").slice()}constructor(e){if(c6.set(this,void 0),Po.set(this,void 0),Yc.set(this,void 0),!(this instanceof cv))throw Error("AES must be instanitated with `new`");oR(this,c6,new Uint8Array(e),"f");let t=Ade[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");oR(this,Yc,[],"f"),oR(this,Po,[],"f");for(let g=0;g<=t;g++)Vn(this,Yc,"f").push([0,0,0,0]),Vn(this,Po,"f").push([0,0,0,0]);let n=(t+1)*4,s=this.key.length/4,i=aR(this.key),o;for(let g=0;g<s;g++)o=g>>2,Vn(this,Yc,"f")[o][g%4]=i[g],Vn(this,Po,"f")[t-o][g%4]=i[g];let a=0,c=s,f;for(;c<n;){if(f=i[s-1],i[0]^=vo[f>>16&255]<<24^vo[f>>8&255]<<16^vo[f&255]<<8^vo[f>>24&255]^Ede[a]<<24,a+=1,s!=8)for(let P=1;P<s;P++)i[P]^=i[P-1];else{for(let P=1;P<s/2;P++)i[P]^=i[P-1];f=i[s/2-1],i[s/2]^=vo[f&255]^vo[f>>8&255]<<8^vo[f>>16&255]<<16^vo[f>>24&255]<<24;for(let P=s/2+1;P<s;P++)i[P]^=i[P-1]}let g=0,p,A;for(;g<s&&c<n;)p=c>>2,A=c%4,Vn(this,Yc,"f")[p][A]=i[g],Vn(this,Po,"f")[t-p][A]=i[g++],c++}for(let g=1;g<t;g++)for(let p=0;p<4;p++)f=Vn(this,Po,"f")[g][p],Vn(this,Po,"f")[g][p]=Ide[f>>24&255]^Mde[f>>16&255]^jde[f>>8&255]^Fde[f&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let t=Vn(this,Yc,"f").length-1,n=[0,0,0,0],s=aR(e);for(let a=0;a<4;a++)s[a]^=Vn(this,Yc,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=Sde[s[c]>>24&255]^kde[s[(c+1)%4]>>16&255]^Ode[s[(c+2)%4]>>8&255]^Tde[s[(c+3)%4]&255]^Vn(this,Yc,"f")[a][c];s=n.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=Vn(this,Yc,"f")[t][a],i[4*a]=(vo[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(vo[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(vo[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(vo[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let t=Vn(this,Po,"f").length-1,n=[0,0,0,0],s=aR(e);for(let a=0;a<4;a++)s[a]^=Vn(this,Po,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=Nde[s[c]>>24&255]^Cde[s[(c+3)%4]>>16&255]^Rde[s[(c+2)%4]>>8&255]^Bde[s[(c+1)%4]&255]^Vn(this,Po,"f")[a][c];s=n.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=Vn(this,Po,"f")[t][a],i[4*a]=(a6[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(a6[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(a6[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(a6[s[(a+1)%4]&255]^o)&255;return i}};$l.AES=cv;c6=new WeakMap,Po=new WeakMap,Yc=new WeakMap});var Bh=M(u6=>{y();b();Object.defineProperty(u6,"__esModule",{value:!0});u6.ModeOfOperation=void 0;var Lde=cR(),uR=class{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Lde.AES(t)},name:{enumerable:!0,value:e}})}};u6.ModeOfOperation=uR});var uV=M(Zl=>{y();b();var f6=Zl&&Zl.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},ky=Zl&&Zl.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},uv,df;Object.defineProperty(Zl,"__esModule",{value:!0});Zl.CBC=void 0;var Ude=Bh(),fv=class extends Ude.ModeOfOperation{constructor(e,t){if(super("ECC",e,fv),uv.set(this,void 0),df.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");f6(this,uv,new Uint8Array(t),"f")}else f6(this,uv,new Uint8Array(16),"f");f6(this,df,this.iv,"f")}get iv(){return new Uint8Array(ky(this,uv,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)ky(this,df,"f")[s]^=e[n+s];f6(this,df,this.aes.encrypt(ky(this,df,"f")),"f"),t.set(ky(this,df,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){let s=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=s[i]^ky(this,df,"f")[i],ky(this,df,"f")[i]=e[n+i]}return t}};Zl.CBC=fv;uv=new WeakMap,df=new WeakMap});var fV=M(Yl=>{y();b();var fR=Yl&&Yl.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Ql=Yl&&Yl.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},l6,lv,Xl,lR;Object.defineProperty(Yl,"__esModule",{value:!0});Yl.CFB=void 0;var Dde=Bh(),dv=class extends Dde.ModeOfOperation{constructor(e,t,n=8){if(super("CFB",e,dv),l6.add(this),lv.set(this,void 0),Xl.set(this,void 0),!Number.isInteger(n)||n%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:n}}),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");fR(this,lv,new Uint8Array(t),"f")}else fR(this,lv,new Uint8Array(16),"f");fR(this,Xl,this.iv,"f")}get iv(){return new Uint8Array(Ql(this,lv,"f"))}encrypt(e){if(8*e.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");let t=this.segmentSize/8,n=new Uint8Array(e);for(let s=0;s<n.length;s+=t){let i=this.aes.encrypt(Ql(this,Xl,"f"));for(let o=0;o<t;o++)n[s+o]^=i[o];Ql(this,l6,"m",lR).call(this,n.subarray(s))}return n}decrypt(e){if(8*e.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");let t=this.segmentSize/8,n=new Uint8Array(e);for(let s=0;s<n.length;s+=t){let i=this.aes.encrypt(Ql(this,Xl,"f"));for(let o=0;o<t;o++)n[s+o]^=i[o];Ql(this,l6,"m",lR).call(this,e.subarray(s))}return n}};Yl.CFB=dv;lv=new WeakMap,Xl=new WeakMap,l6=new WeakSet,lR=function(e){let t=this.segmentSize/8;Ql(this,Xl,"f").set(Ql(this,Xl,"f").subarray(t)),Ql(this,Xl,"f").set(e.subarray(0,t),16-t)}});var lV=M(ed=>{y();b();var Oy=ed&&ed.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Ao=ed&&ed.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},hv,Ih,Eo;Object.defineProperty(ed,"__esModule",{value:!0});ed.CTR=void 0;var qde=Bh(),gv=class extends qde.ModeOfOperation{constructor(e,t){super("CTR",e,gv),hv.set(this,void 0),Ih.set(this,void 0),Eo.set(this,void 0),Oy(this,Eo,new Uint8Array(16),"f"),Ao(this,Eo,"f").fill(0),Oy(this,hv,Ao(this,Eo,"f"),"f"),Oy(this,Ih,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Ao(this,Eo,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Ao(this,Eo,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Ao(this,Eo,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Ao(this,Eo,"f")[e]===255)Ao(this,Eo,"f")[e]=0;else{Ao(this,Eo,"f")[e]++;break}}encrypt(e){var t,n;let s=new Uint8Array(e);for(let i=0;i<s.length;i++)Ao(this,Ih,"f")===16&&(Oy(this,hv,this.aes.encrypt(Ao(this,Eo,"f")),"f"),Oy(this,Ih,0,"f"),this.increment()),s[i]^=Ao(this,hv,"f")[Oy(this,Ih,(n=Ao(this,Ih,"f"),t=n++,n),"f"),t];return s}decrypt(e){return this.encrypt(e)}};ed.CTR=gv;hv=new WeakMap,Ih=new WeakMap,Eo=new WeakMap});var dV=M(d6=>{y();b();Object.defineProperty(d6,"__esModule",{value:!0});d6.ECB=void 0;var Hde=Bh(),pv=class extends Hde.ModeOfOperation{constructor(e){super("ECB",e,pv)}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16)t.set(this.aes.encrypt(e.subarray(n,n+16)),n);return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16)t.set(this.aes.decrypt(e.subarray(n,n+16)),n);return t}};d6.ECB=pv});var hV=M(td=>{y();b();var Mh=td&&td.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},mv=td&&td.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},yv,Ty,jh;Object.defineProperty(td,"__esModule",{value:!0});td.OFB=void 0;var Gde=Bh(),bv=class extends Gde.ModeOfOperation{constructor(e,t){if(super("OFB",e,bv),yv.set(this,void 0),Ty.set(this,void 0),jh.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Mh(this,yv,new Uint8Array(t),"f")}else Mh(this,yv,new Uint8Array(16),"f");Mh(this,Ty,this.iv,"f"),Mh(this,jh,16,"f")}get iv(){return new Uint8Array(mv(this,yv,"f"))}encrypt(e){var t,n;if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let s=new Uint8Array(e);for(let i=0;i<s.length;i++)mv(this,jh,"f")===16&&(Mh(this,Ty,this.aes.encrypt(mv(this,Ty,"f")),"f"),Mh(this,jh,0,"f")),s[i]^=mv(this,Ty,"f")[Mh(this,jh,(n=mv(this,jh,"f"),t=n++,n),"f"),t];return s}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(e)}};td.OFB=bv;yv=new WeakMap,Ty=new WeakMap,jh=new WeakMap});var gV=M(Ny=>{y();b();Object.defineProperty(Ny,"__esModule",{value:!0});Ny.pkcs7Strip=Ny.pkcs7Pad=void 0;function Kde(r){let e=16-r.length%16,t=new Uint8Array(r.length+e);t.set(r);for(let n=r.length;n<t.length;n++)t[n]=e;return t}Ny.pkcs7Pad=Kde;function Vde(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");let e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}Ny.pkcs7Strip=Vde});var xv=M(ln=>{y();b();Object.defineProperty(ln,"__esModule",{value:!0});ln.pkcs7Strip=ln.pkcs7Pad=ln.OFB=ln.ECB=ln.CTR=ln.CFB=ln.CBC=ln.ModeOfOperation=ln.AES=void 0;var zde=cR();Object.defineProperty(ln,"AES",{enumerable:!0,get:function(){return zde.AES}});var Jde=Bh();Object.defineProperty(ln,"ModeOfOperation",{enumerable:!0,get:function(){return Jde.ModeOfOperation}});var Wde=uV();Object.defineProperty(ln,"CBC",{enumerable:!0,get:function(){return Wde.CBC}});var $de=fV();Object.defineProperty(ln,"CFB",{enumerable:!0,get:function(){return $de.CFB}});var Zde=lV();Object.defineProperty(ln,"CTR",{enumerable:!0,get:function(){return Zde.CTR}});var Qde=dV();Object.defineProperty(ln,"ECB",{enumerable:!0,get:function(){return Qde.ECB}});var Xde=hV();Object.defineProperty(ln,"OFB",{enumerable:!0,get:function(){return Xde.OFB}});var pV=gV();Object.defineProperty(ln,"pkcs7Pad",{enumerable:!0,get:function(){return pV.pkcs7Pad}});Object.defineProperty(ln,"pkcs7Strip",{enumerable:!0,get:function(){return pV.pkcs7Strip}})});var dR=M(eu=>{y();b();Object.defineProperty(eu,"__esModule",{value:!0});eu.spelunk=eu.getPassword=eu.zpad=eu.looseArrayify=void 0;var Cy=fe();function mV(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),(0,Cy.getBytesCopy)(r)}eu.looseArrayify=mV;function Yde(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}eu.zpad=Yde;function e0e(r){return typeof r=="string"?(0,Cy.toUtf8Bytes)(r,"NFKC"):(0,Cy.getBytesCopy)(r)}eu.getPassword=e0e;function t0e(r,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,Cy.assertArgument)(t!=null,"invalid path","path",e);let n=t[1],s=t[3],i=t[4]==="!",o=r;for(let a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(let f in o)if(f.toLowerCase()===a){c=o[f];break}o=c}else o=null;if(o==null)break}if((0,Cy.assertArgument)(!i||o!=null,"missing required value","path",n),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return mV(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;(0,Cy.assertArgument)(!1,`wrong type found for ${s} `,"path",n)}return o}eu.spelunk=t0e});var p6=M(So=>{y();b();Object.defineProperty(So,"__esModule",{value:!0});So.encryptKeystoreJson=So.encryptKeystoreJsonSync=So.decryptKeystoreJson=So.decryptKeystoreJsonSync=So.isKeystoreJson=void 0;var h6=xv(),r0e=Xr(),ko=an(),n0e=Ts(),Tt=fe(),or=dR(),s0e=FA(),bV="m/44'/60'/0'/0/0";function i0e(r){try{let e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}So.isKeystoreJson=i0e;function o0e(r,e,t){if((0,or.spelunk)(r,"crypto.cipher:string")==="aes-128-ctr"){let s=(0,or.spelunk)(r,"crypto.cipherparams.iv:data!"),i=new h6.CTR(e,s);return(0,Tt.hexlify)(i.decrypt(t))}(0,Tt.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function g6(r,e){let t=(0,Tt.getBytes)(e),n=(0,or.spelunk)(r,"crypto.ciphertext:data!"),s=(0,Tt.hexlify)((0,ko.keccak256)((0,Tt.concat)([t.slice(16,32),n]))).substring(2);(0,Tt.assertArgument)(s===(0,or.spelunk)(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=o0e(r,t.slice(0,16),n),o=(0,n0e.computeAddress)(i);if(r.address){let f=r.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),(0,Tt.assertArgument)((0,r0e.getAddress)(f)===o,"keystore address/privateKey mismatch","address",r.address)}let a={address:o,privateKey:i};if((0,or.spelunk)(r,"x-ethers.version:string")==="0.1"){let f=t.slice(32,64),g=(0,or.spelunk)(r,"x-ethers.mnemonicCiphertext:data!"),p=(0,or.spelunk)(r,"x-ethers.mnemonicCounter:data!"),A=new h6.CTR(f,p);a.mnemonic={path:(0,or.spelunk)(r,"x-ethers.path:string")||bV,locale:(0,or.spelunk)(r,"x-ethers.locale:string")||"en",entropy:(0,Tt.hexlify)((0,Tt.getBytes)(A.decrypt(g)))}}return a}function xV(r){let e=(0,or.spelunk)(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=(0,or.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,or.spelunk)(r,"crypto.kdfparams.n:int!"),s=(0,or.spelunk)(r,"crypto.kdfparams.r:int!"),i=(0,or.spelunk)(r,"crypto.kdfparams.p:int!");(0,Tt.assertArgument)(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),(0,Tt.assertArgument)(s>0&&i>0,"invalid kdf","kdf",e);let o=(0,or.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Tt.assertArgument)(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=(0,or.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,or.spelunk)(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();(0,Tt.assertArgument)(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);let i=(0,or.spelunk)(r,"crypto.kdfparams.c:int!"),o=(0,or.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Tt.assertArgument)(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}(0,Tt.assertArgument)(!1,"unsupported key-derivation function","kdf",e)}function a0e(r,e){let t=JSON.parse(r),n=(0,or.getPassword)(e),s=xV(t);if(s.name==="pbkdf2"){let{salt:p,count:A,dkLen:P,algorithm:C}=s,N=(0,ko.pbkdf2)(n,p,A,P,C);return g6(t,N)}(0,Tt.assert)(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:i,N:o,r:a,p:c,dkLen:f}=s,g=(0,ko.scryptSync)(n,i,o,a,c,f);return g6(t,g)}So.decryptKeystoreJsonSync=a0e;function yV(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function c0e(r,e,t){let n=JSON.parse(r),s=(0,or.getPassword)(e),i=xV(n);if(i.name==="pbkdf2"){t&&(t(0),await yV(0));let{salt:A,count:P,dkLen:C,algorithm:N}=i,U=(0,ko.pbkdf2)(s,A,P,C,N);return t&&(t(1),await yV(0)),g6(n,U)}(0,Tt.assert)(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:a,r:c,p:f,dkLen:g}=i,p=await(0,ko.scrypt)(s,o,a,c,f,g,t);return g6(n,p)}So.decryptKeystoreJson=c0e;function wV(r){let e=r.salt!=null?(0,Tt.getBytes)(r.salt,"options.salt"):(0,ko.randomBytes)(32),t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),(0,Tt.assertArgument)(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),(0,Tt.assertArgument)(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),(0,Tt.assertArgument)(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function _V(r,e,t,n){let s=(0,Tt.getBytes)(t.privateKey,"privateKey"),i=n.iv!=null?(0,Tt.getBytes)(n.iv,"options.iv"):(0,ko.randomBytes)(16);(0,Tt.assertArgument)(i.length===16,"invalid options.iv length","options.iv",n.iv);let o=n.uuid!=null?(0,Tt.getBytes)(n.uuid,"options.uuid"):(0,ko.randomBytes)(16);(0,Tt.assertArgument)(o.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=r.slice(0,16),c=r.slice(16,32),f=new h6.CTR(a,i),g=(0,Tt.getBytes)(f.encrypt(s)),p=(0,ko.keccak256)((0,Tt.concat)([c,g])),A={address:t.address.substring(2).toLowerCase(),id:(0,Tt.uuidV4)(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Tt.hexlify)(i).substring(2)},ciphertext:(0,Tt.hexlify)(g).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Tt.hexlify)(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:p.substring(2)}};if(t.mnemonic){let P=n.client!=null?n.client:`ethers/${s0e.version}`,C=t.mnemonic.path||bV,N=t.mnemonic.locale||"en",U=r.slice(32,64),L=(0,Tt.getBytes)(t.mnemonic.entropy,"account.mnemonic.entropy"),q=(0,ko.randomBytes)(16),H=new h6.CTR(U,q),V=(0,Tt.getBytes)(H.encrypt(L)),G=new Date,z="UTC--"+(G.getUTCFullYear()+"-"+(0,or.zpad)(G.getUTCMonth()+1,2)+"-"+(0,or.zpad)(G.getUTCDate(),2)+"T"+(0,or.zpad)(G.getUTCHours(),2)+"-"+(0,or.zpad)(G.getUTCMinutes(),2)+"-"+(0,or.zpad)(G.getUTCSeconds(),2)+".0Z")+"--"+A.address;A["x-ethers"]={client:P,gethFilename:z,path:C,locale:N,mnemonicCounter:(0,Tt.hexlify)(q).substring(2),mnemonicCiphertext:(0,Tt.hexlify)(V).substring(2),version:"0.1"}}return JSON.stringify(A)}function u0e(r,e,t){t==null&&(t={});let n=(0,or.getPassword)(e),s=wV(t),i=(0,ko.scryptSync)(n,s.salt,s.N,s.r,s.p,64);return _V((0,Tt.getBytes)(i),s,r,t)}So.encryptKeystoreJsonSync=u0e;async function f0e(r,e,t){t==null&&(t={});let n=(0,or.getPassword)(e),s=wV(t),i=await(0,ko.scrypt)(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return _V((0,Tt.getBytes)(i),s,r,t)}So.encryptKeystoreJson=f0e});var pR=M(Fs=>{y();b();Object.defineProperty(Fs,"__esModule",{value:!0});Fs.getIndexedAccountPath=Fs.getAccountPath=Fs.HDNodeVoidWallet=Fs.HDNodeWallet=Fs.defaultPath=void 0;var ji=an(),l0e=ZS(),EV=Ts(),Pe=fe(),vV=av(),d0e=YS(),PV=o6(),AV=p6();Fs.defaultPath="m/44'/60'/0'/0/0";var h0e=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),nu=2147483648,g0e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p0e="0123456789abcdef";function y6(r,e){let t="";for(;r;)t=p0e[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function hR(r){let e=(0,Pe.getBytes)(r),t=(0,Pe.dataSlice)((0,ji.sha256)((0,ji.sha256)(e)),0,4),n=(0,Pe.concat)([e,t]);return(0,Pe.encodeBase58)(n)}var ru={};function SV(r,e,t,n){let s=new Uint8Array(37);r&nu?((0,Pe.assert)(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set((0,Pe.getBytes)(n),1)):s.set((0,Pe.getBytes)(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=r>>24-o&255;let i=(0,Pe.getBytes)((0,ji.computeHmac)("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function kV(r,e){let t=e.split("/");(0,Pe.assertArgument)(t.length>0,"invalid path","path",e),t[0]==="m"&&((0,Pe.assertArgument)(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){let i=t[s];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));(0,Pe.assertArgument)(o<nu,"invalid path index",`path[${s}]`,i),n=n.deriveChild(nu+o)}else if(i.match(/^[0-9]+$/)){let o=parseInt(i);(0,Pe.assertArgument)(o<nu,"invalid path index",`path[${s}]`,i),n=n.deriveChild(o)}else(0,Pe.assertArgument)(!1,"invalid path component",`path[${s}]`,i)}return n}var _v,gR,Fh,wv,tu=class extends d0e.BaseWallet{constructor(t,n,s,i,o,a,c,f,g){super(n,g);T(this,_v);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"mnemonic");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,Pe.assertPrivate)(t,ru,"HDNodeWallet"),(0,Pe.defineProperties)(this,{publicKey:n.compressedPublicKey});let p=(0,Pe.dataSlice)((0,ji.ripemd160)((0,ji.sha256)(this.publicKey)),0,4);(0,Pe.defineProperties)(this,{parentFingerprint:s,fingerprint:p,chainCode:i,path:o,index:a,depth:c}),(0,Pe.defineProperties)(this,{mnemonic:f})}connect(t){return new tu(ru,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await(0,AV.encryptKeystoreJson)(D(this,_v,gR).call(this),t,{progressCallback:n})}encryptSync(t){return(0,AV.encryptKeystoreJsonSync)(D(this,_v,gR).call(this),t)}get extendedKey(){return(0,Pe.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),hR((0,Pe.concat)(["0x0488ADE4",y6(this.depth,1),this.parentFingerprint,y6(this.index,4),this.chainCode,(0,Pe.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new rd(ru,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){let n=(0,Pe.getNumber)(t,"index");(0,Pe.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~nu),n&nu&&(s+="'"));let{IR:i,IL:o}=SV(n,this.chainCode,this.publicKey,this.privateKey),a=new ji.SigningKey((0,Pe.toBeHex)(((0,Pe.toBigInt)(o)+BigInt(this.privateKey))%g0e,32));return new tu(ru,a,this.fingerprint,(0,Pe.hexlify)(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return kV(this,t)}static fromExtendedKey(t){let n=(0,Pe.toBeArray)((0,Pe.decodeBase58)(t));(0,Pe.assertArgument)(n.length===82||hR(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");let s=n[4],i=(0,Pe.hexlify)(n.slice(5,9)),o=parseInt((0,Pe.hexlify)(n.slice(9,13)).substring(2),16),a=(0,Pe.hexlify)(n.slice(13,45)),c=n.slice(45,78);switch((0,Pe.hexlify)(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let f=(0,Pe.hexlify)(c);return new rd(ru,(0,EV.computeAddress)(f),f,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new tu(ru,new ji.SigningKey(c.slice(1)),i,a,null,o,s,null,null)}(0,Pe.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,s){var o;t==null&&(t=""),n==null&&(n=Fs.defaultPath),s==null&&(s=vV.LangEn.wordlist());let i=PV.Mnemonic.fromEntropy((0,ji.randomBytes)(16),t,s);return D(o=tu,Fh,wv).call(o,i.computeSeed(),i).derivePath(n)}static fromMnemonic(t,n){var s;return n||(n=Fs.defaultPath),D(s=tu,Fh,wv).call(s,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,s,i){var a;n==null&&(n=""),s==null&&(s=Fs.defaultPath),i==null&&(i=vV.LangEn.wordlist());let o=PV.Mnemonic.fromPhrase(t,n,i);return D(a=tu,Fh,wv).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(t){var n;return D(n=tu,Fh,wv).call(n,t,null)}},m6=tu;_v=new WeakSet,gR=function(){let t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},Fh=new WeakSet,wv=function(t,n){(0,Pe.assertArgument)((0,Pe.isBytesLike)(t),"invalid seed","seed","[REDACTED]");let s=(0,Pe.getBytes)(t,"seed");(0,Pe.assertArgument)(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");let i=(0,Pe.getBytes)((0,ji.computeHmac)("sha512",h0e,s)),o=new ji.SigningKey((0,Pe.hexlify)(i.slice(0,32)));return new tu(ru,o,"0x00000000",(0,Pe.hexlify)(i.slice(32)),"m",0,0,n,null)},T(m6,Fh);Fs.HDNodeWallet=m6;var rd=class extends l0e.VoidSigner{constructor(t,n,s,i,o,a,c,f,g){super(n,g);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,Pe.assertPrivate)(t,ru,"HDNodeVoidWallet"),(0,Pe.defineProperties)(this,{publicKey:s});let p=(0,Pe.dataSlice)((0,ji.ripemd160)((0,ji.sha256)(s)),0,4);(0,Pe.defineProperties)(this,{publicKey:s,fingerprint:p,parentFingerprint:i,chainCode:o,path:a,index:c,depth:f})}connect(t){return new rd(ru,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return(0,Pe.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),hR((0,Pe.concat)(["0x0488B21E",y6(this.depth,1),this.parentFingerprint,y6(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){let n=(0,Pe.getNumber)(t,"index");(0,Pe.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~nu),n&nu&&(s+="'"));let{IR:i,IL:o}=SV(n,this.chainCode,this.publicKey,null),a=ji.SigningKey.addPoints(o,this.publicKey,!0),c=(0,EV.computeAddress)(a);return new rd(ru,c,a,this.fingerprint,(0,Pe.hexlify)(i),s,n,this.depth+1,this.provider)}derivePath(t){return kV(this,t)}};Fs.HDNodeVoidWallet=rd;function m0e(r){let e=(0,Pe.getNumber)(r,"index");return(0,Pe.assertArgument)(e>=0&&e<nu,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}Fs.getAccountPath=m0e;function y0e(r){let e=(0,Pe.getNumber)(r,"index");return(0,Pe.assertArgument)(e>=0&&e<nu,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}Fs.getIndexedAccountPath=y0e});var yR=M(Ry=>{y();b();Object.defineProperty(Ry,"__esModule",{value:!0});Ry.decryptCrowdsaleJson=Ry.isCrowdsaleJson=void 0;var OV=xv(),b0e=Xr(),x0e=an(),w0e=qc(),mR=fe(),b6=dR();function _0e(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}Ry.isCrowdsaleJson=_0e;function v0e(r,e){let t=JSON.parse(r),n=(0,b6.getPassword)(e),s=(0,b0e.getAddress)((0,b6.spelunk)(t,"ethaddr:string!")),i=(0,b6.looseArrayify)((0,b6.spelunk)(t,"encseed:string!"));(0,mR.assertArgument)(i&&i.length%16===0,"invalid encseed","json",r);let o=(0,mR.getBytes)((0,x0e.pbkdf2)(n,n,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),f=new OV.CBC(o,a),g=(0,OV.pkcs7Strip)((0,mR.getBytes)(f.decrypt(c))),p="";for(let A=0;A<g.length;A++)p+=String.fromCharCode(g[A]);return{address:s,privateKey:(0,w0e.id)(p)}}Ry.decryptCrowdsaleJson=v0e});var NV=M(_6=>{y();b();Object.defineProperty(_6,"__esModule",{value:!0});_6.Wallet=void 0;var P0e=an(),bR=fe(),A0e=YS(),xR=pR(),x6=yR(),By=p6(),E0e=o6();function TV(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var vv,wR,Iy=class extends A0e.BaseWallet{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new P0e.SigningKey(e):e;super(n,t)}connect(e){return new Iy(this.signingKey,e)}async encrypt(e,t){let n={address:this.address,privateKey:this.privateKey};return await(0,By.encryptKeystoreJson)(n,e,{progressCallback:t})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return(0,By.encryptKeystoreJsonSync)(t,e)}static async fromEncryptedJson(e,t,n){var i;let s=null;return(0,By.isKeystoreJson)(e)?s=await(0,By.decryptKeystoreJson)(e,t,n):(0,x6.isCrowdsaleJson)(e)&&(n&&(n(0),await TV(0)),s=(0,x6.decryptCrowdsaleJson)(e,t),n&&(n(1),await TV(0))),D(i=Iy,vv,wR).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let n=null;return(0,By.isKeystoreJson)(e)?n=(0,By.decryptKeystoreJsonSync)(e,t):(0,x6.isCrowdsaleJson)(e)?n=(0,x6.decryptCrowdsaleJson)(e,t):(0,bR.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),D(s=Iy,vv,wR).call(s,n)}static createRandom(e){let t=xR.HDNodeWallet.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let n=xR.HDNodeWallet.fromPhrase(e);return t?n.connect(t):n}},w6=Iy;vv=new WeakSet,wR=function(e){if((0,bR.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=E0e.Mnemonic.fromEntropy(e.mnemonic.entropy),s=xR.HDNodeWallet.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new Iy(e.privateKey);return(0,bR.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},T(w6,vv);_6.Wallet=w6});var RV=M(Qt=>{y();b();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Wallet=Qt.Mnemonic=Qt.encryptKeystoreJsonSync=Qt.encryptKeystoreJson=Qt.decryptKeystoreJson=Qt.decryptKeystoreJsonSync=Qt.isKeystoreJson=Qt.decryptCrowdsaleJson=Qt.isCrowdsaleJson=Qt.HDNodeVoidWallet=Qt.HDNodeWallet=Qt.getIndexedAccountPath=Qt.getAccountPath=Qt.defaultPath=Qt.BaseWallet=void 0;var S0e=YS();Object.defineProperty(Qt,"BaseWallet",{enumerable:!0,get:function(){return S0e.BaseWallet}});var Pv=pR();Object.defineProperty(Qt,"defaultPath",{enumerable:!0,get:function(){return Pv.defaultPath}});Object.defineProperty(Qt,"getAccountPath",{enumerable:!0,get:function(){return Pv.getAccountPath}});Object.defineProperty(Qt,"getIndexedAccountPath",{enumerable:!0,get:function(){return Pv.getIndexedAccountPath}});Object.defineProperty(Qt,"HDNodeWallet",{enumerable:!0,get:function(){return Pv.HDNodeWallet}});Object.defineProperty(Qt,"HDNodeVoidWallet",{enumerable:!0,get:function(){return Pv.HDNodeVoidWallet}});var CV=yR();Object.defineProperty(Qt,"isCrowdsaleJson",{enumerable:!0,get:function(){return CV.isCrowdsaleJson}});Object.defineProperty(Qt,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return CV.decryptCrowdsaleJson}});var Av=p6();Object.defineProperty(Qt,"isKeystoreJson",{enumerable:!0,get:function(){return Av.isKeystoreJson}});Object.defineProperty(Qt,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return Av.decryptKeystoreJsonSync}});Object.defineProperty(Qt,"decryptKeystoreJson",{enumerable:!0,get:function(){return Av.decryptKeystoreJson}});Object.defineProperty(Qt,"encryptKeystoreJson",{enumerable:!0,get:function(){return Av.encryptKeystoreJson}});Object.defineProperty(Qt,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return Av.encryptKeystoreJsonSync}});var k0e=o6();Object.defineProperty(Qt,"Mnemonic",{enumerable:!0,get:function(){return k0e.Mnemonic}});var O0e=NV();Object.defineProperty(Qt,"Wallet",{enumerable:!0,get:function(){return O0e.Wallet}})});var BV=M(v6=>{y();b();Object.defineProperty(v6,"__esModule",{value:!0});v6.decodeBits=void 0;var T0e=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function N0e(r,e){let t=(1<<r)-1,n=[],s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|T0e.indexOf(e[a]),i+=6;i>=r;){let c=s>>i-r;s&=(1<<i-r)-1,i-=r,c===0?o+=t:(n.push(c+o),o=0)}return n}v6.decodeBits=N0e});var IV=M(P6=>{y();b();Object.defineProperty(P6,"__esModule",{value:!0});P6.decodeOwlA=void 0;var C0e=fe(),R0e=BV(),B0e=$C();function I0e(r,e){let t=(0,B0e.decodeOwl)(r).join(",");return e.split(/,/g).forEach(n=>{let s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,C0e.assertArgument)(s!==null,"internal error parsing accents","accents",e);let i=0,o=(0,R0e.decodeBits)(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(f,g)=>(--o[i]===0&&(g=String.fromCharCode(g.charCodeAt(0),a),i++),g))}),t.split(",")}P6.decodeOwlA=I0e});var MV=M(A6=>{y();b();Object.defineProperty(A6,"__esModule",{value:!0});A6.WordlistOwlA=void 0;var M0e=n6(),j0e=IV(),Ev,_R=class extends M0e.WordlistOwl{constructor(t,n,s,i){super(t,n,i);T(this,Ev,void 0);w(this,Ev,s)}get _accent(){return h(this,Ev)}_decodeWords(){return(0,j0e.decodeOwlA)(this._data,this._accent)}};Ev=new WeakMap;A6.WordlistOwlA=_R});var jV=M(E6=>{y();b();Object.defineProperty(E6,"__esModule",{value:!0});E6.wordlists=void 0;var F0e=av();E6.wordlists={en:F0e.LangEn.wordlist()}});var FV=M(Oo=>{y();b();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.wordlists=Oo.WordlistOwlA=Oo.WordlistOwl=Oo.LangEn=Oo.Wordlist=void 0;var L0e=QC();Object.defineProperty(Oo,"Wordlist",{enumerable:!0,get:function(){return L0e.Wordlist}});var U0e=av();Object.defineProperty(Oo,"LangEn",{enumerable:!0,get:function(){return U0e.LangEn}});var D0e=n6();Object.defineProperty(Oo,"WordlistOwl",{enumerable:!0,get:function(){return D0e.WordlistOwl}});var q0e=MV();Object.defineProperty(Oo,"WordlistOwlA",{enumerable:!0,get:function(){return q0e.WordlistOwlA}});var H0e=jV();Object.defineProperty(Oo,"wordlists",{enumerable:!0,get:function(){return H0e.wordlists}})});var vR=M(B=>{y();b();Object.defineProperty(B,"__esModule",{value:!0});B.ripemd160=B.keccak256=B.randomBytes=B.computeHmac=B.UndecodedEventLog=B.EventLog=B.ContractUnknownEventPayload=B.ContractTransactionResponse=B.ContractTransactionReceipt=B.ContractEventPayload=B.ContractFactory=B.Contract=B.BaseContract=B.MessagePrefix=B.EtherSymbol=B.ZeroHash=B.N=B.MaxInt256=B.MinInt256=B.MaxUint256=B.WeiPerEther=B.ZeroAddress=B.resolveAddress=B.isAddress=B.isAddressable=B.getCreate2Address=B.getCreateAddress=B.getIcapAddress=B.getAddress=B.Typed=B.TransactionDescription=B.Result=B.LogDescription=B.Interface=B.Indexed=B.ErrorDescription=B.checkResultErrors=B.StructFragment=B.ParamType=B.NamedFragment=B.FunctionFragment=B.FallbackFragment=B.Fragment=B.EventFragment=B.ErrorFragment=B.ConstructorFragment=B.AbiCoder=B.encodeBytes32String=B.decodeBytes32String=B.version=void 0;B.WebSocketProvider=B.SocketProvider=B.IpcSocketProvider=B.QuickNodeProvider=B.PocketProvider=B.InfuraWebSocketProvider=B.InfuraProvider=B.EtherscanProvider=B.CloudflareProvider=B.ChainstackProvider=B.BlockscoutProvider=B.AnkrProvider=B.AlchemyProvider=B.BrowserProvider=B.JsonRpcSigner=B.JsonRpcProvider=B.JsonRpcApiProvider=B.FallbackProvider=B.AbstractProvider=B.VoidSigner=B.NonceManager=B.AbstractSigner=B.TransactionResponse=B.TransactionReceipt=B.Log=B.FeeData=B.Block=B.getDefaultProvider=B.verifyTypedData=B.TypedDataEncoder=B.solidityPackedSha256=B.solidityPackedKeccak256=B.solidityPacked=B.verifyMessage=B.hashMessage=B.verifyAuthorization=B.hashAuthorization=B.dnsEncode=B.namehash=B.isValidName=B.ensNormalize=B.id=B.SigningKey=B.Signature=B.lock=B.scryptSync=B.scrypt=B.pbkdf2=B.sha512=B.sha256=void 0;B.FetchCancelSignal=B.FetchResponse=B.FetchRequest=B.EventPayload=B.isError=B.isCallException=B.makeError=B.assertPrivate=B.assertNormalize=B.assertArgumentCount=B.assertArgument=B.assert=B.resolveProperties=B.defineProperties=B.zeroPadValue=B.zeroPadBytes=B.stripZerosLeft=B.isBytesLike=B.isHexString=B.hexlify=B.getBytesCopy=B.getBytes=B.dataSlice=B.dataLength=B.concat=B.encodeBase64=B.decodeBase64=B.encodeBase58=B.decodeBase58=B.Transaction=B.recoverAddress=B.computeAddress=B.authorizationify=B.accessListify=B.showThrottleMessage=B.copyRequest=B.UnmanagedSubscriber=B.SocketSubscriber=B.SocketPendingSubscriber=B.SocketEventSubscriber=B.SocketBlockSubscriber=B.MulticoinProviderPlugin=B.NetworkPlugin=B.GasCostPlugin=B.FetchUrlFeeDataNetworkPlugin=B.FeeDataNetworkPlugin=B.EtherscanPlugin=B.EnsPlugin=B.Network=B.EnsResolver=void 0;B.wordlists=B.WordlistOwlA=B.WordlistOwl=B.LangEn=B.Wordlist=B.encryptKeystoreJsonSync=B.encryptKeystoreJson=B.decryptKeystoreJson=B.decryptKeystoreJsonSync=B.decryptCrowdsaleJson=B.isKeystoreJson=B.isCrowdsaleJson=B.getIndexedAccountPath=B.getAccountPath=B.defaultPath=B.Wallet=B.HDNodeVoidWallet=B.HDNodeWallet=B.BaseWallet=B.Mnemonic=B.uuidV4=B.encodeRlp=B.decodeRlp=B.Utf8ErrorFuncs=B.toUtf8String=B.toUtf8CodePoints=B.toUtf8Bytes=B.parseUnits=B.formatUnits=B.parseEther=B.formatEther=B.mask=B.toTwos=B.fromTwos=B.toQuantity=B.toNumber=B.toBeHex=B.toBigInt=B.toBeArray=B.getUint=B.getNumber=B.getBigInt=B.FixedNumber=void 0;var G0e=FA();Object.defineProperty(B,"version",{enumerable:!0,get:function(){return G0e.version}});var dn=Tm();Object.defineProperty(B,"decodeBytes32String",{enumerable:!0,get:function(){return dn.decodeBytes32String}});Object.defineProperty(B,"encodeBytes32String",{enumerable:!0,get:function(){return dn.encodeBytes32String}});Object.defineProperty(B,"AbiCoder",{enumerable:!0,get:function(){return dn.AbiCoder}});Object.defineProperty(B,"ConstructorFragment",{enumerable:!0,get:function(){return dn.ConstructorFragment}});Object.defineProperty(B,"ErrorFragment",{enumerable:!0,get:function(){return dn.ErrorFragment}});Object.defineProperty(B,"EventFragment",{enumerable:!0,get:function(){return dn.EventFragment}});Object.defineProperty(B,"Fragment",{enumerable:!0,get:function(){return dn.Fragment}});Object.defineProperty(B,"FallbackFragment",{enumerable:!0,get:function(){return dn.FallbackFragment}});Object.defineProperty(B,"FunctionFragment",{enumerable:!0,get:function(){return dn.FunctionFragment}});Object.defineProperty(B,"NamedFragment",{enumerable:!0,get:function(){return dn.NamedFragment}});Object.defineProperty(B,"ParamType",{enumerable:!0,get:function(){return dn.ParamType}});Object.defineProperty(B,"StructFragment",{enumerable:!0,get:function(){return dn.StructFragment}});Object.defineProperty(B,"checkResultErrors",{enumerable:!0,get:function(){return dn.checkResultErrors}});Object.defineProperty(B,"ErrorDescription",{enumerable:!0,get:function(){return dn.ErrorDescription}});Object.defineProperty(B,"Indexed",{enumerable:!0,get:function(){return dn.Indexed}});Object.defineProperty(B,"Interface",{enumerable:!0,get:function(){return dn.Interface}});Object.defineProperty(B,"LogDescription",{enumerable:!0,get:function(){return dn.LogDescription}});Object.defineProperty(B,"Result",{enumerable:!0,get:function(){return dn.Result}});Object.defineProperty(B,"TransactionDescription",{enumerable:!0,get:function(){return dn.TransactionDescription}});Object.defineProperty(B,"Typed",{enumerable:!0,get:function(){return dn.Typed}});var Lh=Xr();Object.defineProperty(B,"getAddress",{enumerable:!0,get:function(){return Lh.getAddress}});Object.defineProperty(B,"getIcapAddress",{enumerable:!0,get:function(){return Lh.getIcapAddress}});Object.defineProperty(B,"getCreateAddress",{enumerable:!0,get:function(){return Lh.getCreateAddress}});Object.defineProperty(B,"getCreate2Address",{enumerable:!0,get:function(){return Lh.getCreate2Address}});Object.defineProperty(B,"isAddressable",{enumerable:!0,get:function(){return Lh.isAddressable}});Object.defineProperty(B,"isAddress",{enumerable:!0,get:function(){return Lh.isAddress}});Object.defineProperty(B,"resolveAddress",{enumerable:!0,get:function(){return Lh.resolveAddress}});var hf=Vp();Object.defineProperty(B,"ZeroAddress",{enumerable:!0,get:function(){return hf.ZeroAddress}});Object.defineProperty(B,"WeiPerEther",{enumerable:!0,get:function(){return hf.WeiPerEther}});Object.defineProperty(B,"MaxUint256",{enumerable:!0,get:function(){return hf.MaxUint256}});Object.defineProperty(B,"MinInt256",{enumerable:!0,get:function(){return hf.MinInt256}});Object.defineProperty(B,"MaxInt256",{enumerable:!0,get:function(){return hf.MaxInt256}});Object.defineProperty(B,"N",{enumerable:!0,get:function(){return hf.N}});Object.defineProperty(B,"ZeroHash",{enumerable:!0,get:function(){return hf.ZeroHash}});Object.defineProperty(B,"EtherSymbol",{enumerable:!0,get:function(){return hf.EtherSymbol}});Object.defineProperty(B,"MessagePrefix",{enumerable:!0,get:function(){return hf.MessagePrefix}});var gf=k_();Object.defineProperty(B,"BaseContract",{enumerable:!0,get:function(){return gf.BaseContract}});Object.defineProperty(B,"Contract",{enumerable:!0,get:function(){return gf.Contract}});Object.defineProperty(B,"ContractFactory",{enumerable:!0,get:function(){return gf.ContractFactory}});Object.defineProperty(B,"ContractEventPayload",{enumerable:!0,get:function(){return gf.ContractEventPayload}});Object.defineProperty(B,"ContractTransactionReceipt",{enumerable:!0,get:function(){return gf.ContractTransactionReceipt}});Object.defineProperty(B,"ContractTransactionResponse",{enumerable:!0,get:function(){return gf.ContractTransactionResponse}});Object.defineProperty(B,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return gf.ContractUnknownEventPayload}});Object.defineProperty(B,"EventLog",{enumerable:!0,get:function(){return gf.EventLog}});Object.defineProperty(B,"UndecodedEventLog",{enumerable:!0,get:function(){return gf.UndecodedEventLog}});var To=an();Object.defineProperty(B,"computeHmac",{enumerable:!0,get:function(){return To.computeHmac}});Object.defineProperty(B,"randomBytes",{enumerable:!0,get:function(){return To.randomBytes}});Object.defineProperty(B,"keccak256",{enumerable:!0,get:function(){return To.keccak256}});Object.defineProperty(B,"ripemd160",{enumerable:!0,get:function(){return To.ripemd160}});Object.defineProperty(B,"sha256",{enumerable:!0,get:function(){return To.sha256}});Object.defineProperty(B,"sha512",{enumerable:!0,get:function(){return To.sha512}});Object.defineProperty(B,"pbkdf2",{enumerable:!0,get:function(){return To.pbkdf2}});Object.defineProperty(B,"scrypt",{enumerable:!0,get:function(){return To.scrypt}});Object.defineProperty(B,"scryptSync",{enumerable:!0,get:function(){return To.scryptSync}});Object.defineProperty(B,"lock",{enumerable:!0,get:function(){return To.lock}});Object.defineProperty(B,"Signature",{enumerable:!0,get:function(){return To.Signature}});Object.defineProperty(B,"SigningKey",{enumerable:!0,get:function(){return To.SigningKey}});var ci=qc();Object.defineProperty(B,"id",{enumerable:!0,get:function(){return ci.id}});Object.defineProperty(B,"ensNormalize",{enumerable:!0,get:function(){return ci.ensNormalize}});Object.defineProperty(B,"isValidName",{enumerable:!0,get:function(){return ci.isValidName}});Object.defineProperty(B,"namehash",{enumerable:!0,get:function(){return ci.namehash}});Object.defineProperty(B,"dnsEncode",{enumerable:!0,get:function(){return ci.dnsEncode}});Object.defineProperty(B,"hashAuthorization",{enumerable:!0,get:function(){return ci.hashAuthorization}});Object.defineProperty(B,"verifyAuthorization",{enumerable:!0,get:function(){return ci.verifyAuthorization}});Object.defineProperty(B,"hashMessage",{enumerable:!0,get:function(){return ci.hashMessage}});Object.defineProperty(B,"verifyMessage",{enumerable:!0,get:function(){return ci.verifyMessage}});Object.defineProperty(B,"solidityPacked",{enumerable:!0,get:function(){return ci.solidityPacked}});Object.defineProperty(B,"solidityPackedKeccak256",{enumerable:!0,get:function(){return ci.solidityPackedKeccak256}});Object.defineProperty(B,"solidityPackedSha256",{enumerable:!0,get:function(){return ci.solidityPackedSha256}});Object.defineProperty(B,"TypedDataEncoder",{enumerable:!0,get:function(){return ci.TypedDataEncoder}});Object.defineProperty(B,"verifyTypedData",{enumerable:!0,get:function(){return ci.verifyTypedData}});var je=ZS();Object.defineProperty(B,"getDefaultProvider",{enumerable:!0,get:function(){return je.getDefaultProvider}});Object.defineProperty(B,"Block",{enumerable:!0,get:function(){return je.Block}});Object.defineProperty(B,"FeeData",{enumerable:!0,get:function(){return je.FeeData}});Object.defineProperty(B,"Log",{enumerable:!0,get:function(){return je.Log}});Object.defineProperty(B,"TransactionReceipt",{enumerable:!0,get:function(){return je.TransactionReceipt}});Object.defineProperty(B,"TransactionResponse",{enumerable:!0,get:function(){return je.TransactionResponse}});Object.defineProperty(B,"AbstractSigner",{enumerable:!0,get:function(){return je.AbstractSigner}});Object.defineProperty(B,"NonceManager",{enumerable:!0,get:function(){return je.NonceManager}});Object.defineProperty(B,"VoidSigner",{enumerable:!0,get:function(){return je.VoidSigner}});Object.defineProperty(B,"AbstractProvider",{enumerable:!0,get:function(){return je.AbstractProvider}});Object.defineProperty(B,"FallbackProvider",{enumerable:!0,get:function(){return je.FallbackProvider}});Object.defineProperty(B,"JsonRpcApiProvider",{enumerable:!0,get:function(){return je.JsonRpcApiProvider}});Object.defineProperty(B,"JsonRpcProvider",{enumerable:!0,get:function(){return je.JsonRpcProvider}});Object.defineProperty(B,"JsonRpcSigner",{enumerable:!0,get:function(){return je.JsonRpcSigner}});Object.defineProperty(B,"BrowserProvider",{enumerable:!0,get:function(){return je.BrowserProvider}});Object.defineProperty(B,"AlchemyProvider",{enumerable:!0,get:function(){return je.AlchemyProvider}});Object.defineProperty(B,"AnkrProvider",{enumerable:!0,get:function(){return je.AnkrProvider}});Object.defineProperty(B,"BlockscoutProvider",{enumerable:!0,get:function(){return je.BlockscoutProvider}});Object.defineProperty(B,"ChainstackProvider",{enumerable:!0,get:function(){return je.ChainstackProvider}});Object.defineProperty(B,"CloudflareProvider",{enumerable:!0,get:function(){return je.CloudflareProvider}});Object.defineProperty(B,"EtherscanProvider",{enumerable:!0,get:function(){return je.EtherscanProvider}});Object.defineProperty(B,"InfuraProvider",{enumerable:!0,get:function(){return je.InfuraProvider}});Object.defineProperty(B,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return je.InfuraWebSocketProvider}});Object.defineProperty(B,"PocketProvider",{enumerable:!0,get:function(){return je.PocketProvider}});Object.defineProperty(B,"QuickNodeProvider",{enumerable:!0,get:function(){return je.QuickNodeProvider}});Object.defineProperty(B,"IpcSocketProvider",{enumerable:!0,get:function(){return je.IpcSocketProvider}});Object.defineProperty(B,"SocketProvider",{enumerable:!0,get:function(){return je.SocketProvider}});Object.defineProperty(B,"WebSocketProvider",{enumerable:!0,get:function(){return je.WebSocketProvider}});Object.defineProperty(B,"EnsResolver",{enumerable:!0,get:function(){return je.EnsResolver}});Object.defineProperty(B,"Network",{enumerable:!0,get:function(){return je.Network}});Object.defineProperty(B,"EnsPlugin",{enumerable:!0,get:function(){return je.EnsPlugin}});Object.defineProperty(B,"EtherscanPlugin",{enumerable:!0,get:function(){return je.EtherscanPlugin}});Object.defineProperty(B,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return je.FeeDataNetworkPlugin}});Object.defineProperty(B,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return je.FetchUrlFeeDataNetworkPlugin}});Object.defineProperty(B,"GasCostPlugin",{enumerable:!0,get:function(){return je.GasCostPlugin}});Object.defineProperty(B,"NetworkPlugin",{enumerable:!0,get:function(){return je.NetworkPlugin}});Object.defineProperty(B,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return je.MulticoinProviderPlugin}});Object.defineProperty(B,"SocketBlockSubscriber",{enumerable:!0,get:function(){return je.SocketBlockSubscriber}});Object.defineProperty(B,"SocketEventSubscriber",{enumerable:!0,get:function(){return je.SocketEventSubscriber}});Object.defineProperty(B,"SocketPendingSubscriber",{enumerable:!0,get:function(){return je.SocketPendingSubscriber}});Object.defineProperty(B,"SocketSubscriber",{enumerable:!0,get:function(){return je.SocketSubscriber}});Object.defineProperty(B,"UnmanagedSubscriber",{enumerable:!0,get:function(){return je.UnmanagedSubscriber}});Object.defineProperty(B,"copyRequest",{enumerable:!0,get:function(){return je.copyRequest}});Object.defineProperty(B,"showThrottleMessage",{enumerable:!0,get:function(){return je.showThrottleMessage}});var Sv=Ts();Object.defineProperty(B,"accessListify",{enumerable:!0,get:function(){return Sv.accessListify}});Object.defineProperty(B,"authorizationify",{enumerable:!0,get:function(){return Sv.authorizationify}});Object.defineProperty(B,"computeAddress",{enumerable:!0,get:function(){return Sv.computeAddress}});Object.defineProperty(B,"recoverAddress",{enumerable:!0,get:function(){return Sv.recoverAddress}});Object.defineProperty(B,"Transaction",{enumerable:!0,get:function(){return Sv.Transaction}});var Ee=fe();Object.defineProperty(B,"decodeBase58",{enumerable:!0,get:function(){return Ee.decodeBase58}});Object.defineProperty(B,"encodeBase58",{enumerable:!0,get:function(){return Ee.encodeBase58}});Object.defineProperty(B,"decodeBase64",{enumerable:!0,get:function(){return Ee.decodeBase64}});Object.defineProperty(B,"encodeBase64",{enumerable:!0,get:function(){return Ee.encodeBase64}});Object.defineProperty(B,"concat",{enumerable:!0,get:function(){return Ee.concat}});Object.defineProperty(B,"dataLength",{enumerable:!0,get:function(){return Ee.dataLength}});Object.defineProperty(B,"dataSlice",{enumerable:!0,get:function(){return Ee.dataSlice}});Object.defineProperty(B,"getBytes",{enumerable:!0,get:function(){return Ee.getBytes}});Object.defineProperty(B,"getBytesCopy",{enumerable:!0,get:function(){return Ee.getBytesCopy}});Object.defineProperty(B,"hexlify",{enumerable:!0,get:function(){return Ee.hexlify}});Object.defineProperty(B,"isHexString",{enumerable:!0,get:function(){return Ee.isHexString}});Object.defineProperty(B,"isBytesLike",{enumerable:!0,get:function(){return Ee.isBytesLike}});Object.defineProperty(B,"stripZerosLeft",{enumerable:!0,get:function(){return Ee.stripZerosLeft}});Object.defineProperty(B,"zeroPadBytes",{enumerable:!0,get:function(){return Ee.zeroPadBytes}});Object.defineProperty(B,"zeroPadValue",{enumerable:!0,get:function(){return Ee.zeroPadValue}});Object.defineProperty(B,"defineProperties",{enumerable:!0,get:function(){return Ee.defineProperties}});Object.defineProperty(B,"resolveProperties",{enumerable:!0,get:function(){return Ee.resolveProperties}});Object.defineProperty(B,"assert",{enumerable:!0,get:function(){return Ee.assert}});Object.defineProperty(B,"assertArgument",{enumerable:!0,get:function(){return Ee.assertArgument}});Object.defineProperty(B,"assertArgumentCount",{enumerable:!0,get:function(){return Ee.assertArgumentCount}});Object.defineProperty(B,"assertNormalize",{enumerable:!0,get:function(){return Ee.assertNormalize}});Object.defineProperty(B,"assertPrivate",{enumerable:!0,get:function(){return Ee.assertPrivate}});Object.defineProperty(B,"makeError",{enumerable:!0,get:function(){return Ee.makeError}});Object.defineProperty(B,"isCallException",{enumerable:!0,get:function(){return Ee.isCallException}});Object.defineProperty(B,"isError",{enumerable:!0,get:function(){return Ee.isError}});Object.defineProperty(B,"EventPayload",{enumerable:!0,get:function(){return Ee.EventPayload}});Object.defineProperty(B,"FetchRequest",{enumerable:!0,get:function(){return Ee.FetchRequest}});Object.defineProperty(B,"FetchResponse",{enumerable:!0,get:function(){return Ee.FetchResponse}});Object.defineProperty(B,"FetchCancelSignal",{enumerable:!0,get:function(){return Ee.FetchCancelSignal}});Object.defineProperty(B,"FixedNumber",{enumerable:!0,get:function(){return Ee.FixedNumber}});Object.defineProperty(B,"getBigInt",{enumerable:!0,get:function(){return Ee.getBigInt}});Object.defineProperty(B,"getNumber",{enumerable:!0,get:function(){return Ee.getNumber}});Object.defineProperty(B,"getUint",{enumerable:!0,get:function(){return Ee.getUint}});Object.defineProperty(B,"toBeArray",{enumerable:!0,get:function(){return Ee.toBeArray}});Object.defineProperty(B,"toBigInt",{enumerable:!0,get:function(){return Ee.toBigInt}});Object.defineProperty(B,"toBeHex",{enumerable:!0,get:function(){return Ee.toBeHex}});Object.defineProperty(B,"toNumber",{enumerable:!0,get:function(){return Ee.toNumber}});Object.defineProperty(B,"toQuantity",{enumerable:!0,get:function(){return Ee.toQuantity}});Object.defineProperty(B,"fromTwos",{enumerable:!0,get:function(){return Ee.fromTwos}});Object.defineProperty(B,"toTwos",{enumerable:!0,get:function(){return Ee.toTwos}});Object.defineProperty(B,"mask",{enumerable:!0,get:function(){return Ee.mask}});Object.defineProperty(B,"formatEther",{enumerable:!0,get:function(){return Ee.formatEther}});Object.defineProperty(B,"parseEther",{enumerable:!0,get:function(){return Ee.parseEther}});Object.defineProperty(B,"formatUnits",{enumerable:!0,get:function(){return Ee.formatUnits}});Object.defineProperty(B,"parseUnits",{enumerable:!0,get:function(){return Ee.parseUnits}});Object.defineProperty(B,"toUtf8Bytes",{enumerable:!0,get:function(){return Ee.toUtf8Bytes}});Object.defineProperty(B,"toUtf8CodePoints",{enumerable:!0,get:function(){return Ee.toUtf8CodePoints}});Object.defineProperty(B,"toUtf8String",{enumerable:!0,get:function(){return Ee.toUtf8String}});Object.defineProperty(B,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Ee.Utf8ErrorFuncs}});Object.defineProperty(B,"decodeRlp",{enumerable:!0,get:function(){return Ee.decodeRlp}});Object.defineProperty(B,"encodeRlp",{enumerable:!0,get:function(){return Ee.encodeRlp}});Object.defineProperty(B,"uuidV4",{enumerable:!0,get:function(){return Ee.uuidV4}});var Ls=RV();Object.defineProperty(B,"Mnemonic",{enumerable:!0,get:function(){return Ls.Mnemonic}});Object.defineProperty(B,"BaseWallet",{enumerable:!0,get:function(){return Ls.BaseWallet}});Object.defineProperty(B,"HDNodeWallet",{enumerable:!0,get:function(){return Ls.HDNodeWallet}});Object.defineProperty(B,"HDNodeVoidWallet",{enumerable:!0,get:function(){return Ls.HDNodeVoidWallet}});Object.defineProperty(B,"Wallet",{enumerable:!0,get:function(){return Ls.Wallet}});Object.defineProperty(B,"defaultPath",{enumerable:!0,get:function(){return Ls.defaultPath}});Object.defineProperty(B,"getAccountPath",{enumerable:!0,get:function(){return Ls.getAccountPath}});Object.defineProperty(B,"getIndexedAccountPath",{enumerable:!0,get:function(){return Ls.getIndexedAccountPath}});Object.defineProperty(B,"isCrowdsaleJson",{enumerable:!0,get:function(){return Ls.isCrowdsaleJson}});Object.defineProperty(B,"isKeystoreJson",{enumerable:!0,get:function(){return Ls.isKeystoreJson}});Object.defineProperty(B,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return Ls.decryptCrowdsaleJson}});Object.defineProperty(B,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return Ls.decryptKeystoreJsonSync}});Object.defineProperty(B,"decryptKeystoreJson",{enumerable:!0,get:function(){return Ls.decryptKeystoreJson}});Object.defineProperty(B,"encryptKeystoreJson",{enumerable:!0,get:function(){return Ls.encryptKeystoreJson}});Object.defineProperty(B,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return Ls.encryptKeystoreJsonSync}});var kv=FV();Object.defineProperty(B,"Wordlist",{enumerable:!0,get:function(){return kv.Wordlist}});Object.defineProperty(B,"LangEn",{enumerable:!0,get:function(){return kv.LangEn}});Object.defineProperty(B,"WordlistOwl",{enumerable:!0,get:function(){return kv.WordlistOwl}});Object.defineProperty(B,"WordlistOwlA",{enumerable:!0,get:function(){return kv.WordlistOwlA}});Object.defineProperty(B,"wordlists",{enumerable:!0,get:function(){return kv.wordlists}})});var PR=M(Ov=>{y();b();Object.defineProperty(Ov,"__esModule",{value:!0});Ov.ethers=void 0;var LV=fL(),K0e=LV.__importStar(vR());Ov.ethers=K0e;LV.__exportStar(vR(),Ov)});var UV=M(ER=>{y();b();Object.defineProperty(ER,"__esModule",{value:!0});ER.getRpcTxObject=$0e;var V0e=PT(),AR=TP(),z0e=PR(),S6=(fa(),ca(ua)),J0e=["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"],W0e=["from","to","data","input"];function $0e(r){let e={},t;return(0,S6.each)(J0e,n=>{!(0,S6.has)(r,n)||(r[n]=="0x"?t=(0,AR.hexValue)("0x"):t=(0,AR.hexValue)(V0e.BigNumber.from(r[n])),n=="gasLimit"?e.gas=t:e[n]=t)}),(0,S6.each)(W0e,n=>{if(!(0,S6.has)(r,n))return;let s=(0,AR.hexlify)(r[n]);e[n]=s,(n==="to"||n==="from")&&r[n]==="0x"&&(e[n]="0x0000000000000000000000000000000000000000")}),r.accessList&&(e.accessList=(0,z0e.accessListify)(r.accessList)),e}});var DV=M(k6=>{y();b();Object.defineProperty(k6,"__esModule",{value:!0});k6.version=void 0;k6.version="bytes/5.8.0"});var kR=M(Jt=>{y();b();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.joinSignature=Jt.splitSignature=Jt.hexZeroPad=Jt.hexStripZeros=Jt.hexValue=Jt.hexConcat=Jt.hexDataSlice=Jt.hexDataLength=Jt.hexlify=Jt.isHexString=Jt.zeroPad=Jt.stripZeros=Jt.concat=Jt.arrayify=Jt.isBytes=Jt.isBytesLike=void 0;var Z0e=el(),Q0e=DV(),Kr=new Z0e.Logger(Q0e.version);function HV(r){return!!r.toHexString}function My(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return My(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function GV(r){return Va(r)&&!(r.length%2)||T6(r)}Jt.isBytesLike=GV;function qV(r){return typeof r=="number"&&r==r&&r%1===0}function T6(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!qV(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!qV(t)||t<0||t>=256)return!1}return!0}Jt.isBytes=T6;function Uh(r,e){if(e||(e={}),typeof r=="number"){Kr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),My(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),HV(r)&&(r=r.toHexString()),Va(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Kr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return My(new Uint8Array(t))}return T6(r)?My(new Uint8Array(r)):Kr.throwArgumentError("invalid arrayify value","value",r)}Jt.arrayify=Uh;function KV(r){var e=r.map(function(s){return Uh(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),My(n)}Jt.concat=KV;function X0e(r){var e=Uh(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Jt.stripZeros=X0e;function VV(r,e){r=Uh(r),r.length>e&&Kr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),My(t)}Jt.zeroPad=VV;function Va(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Jt.isHexString=Va;var SR="0123456789abcdef";function ls(r,e){if(e||(e={}),typeof r=="number"){Kr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=SR[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),HV(r))return r.toHexString();if(Va(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Kr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(T6(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=SR[(i&240)>>4]+SR[i&15]}return n}return Kr.throwArgumentError("invalid hexlify value","value",r)}Jt.hexlify=ls;function Y0e(r){if(typeof r!="string")r=ls(r);else if(!Va(r)||r.length%2)return null;return(r.length-2)/2}Jt.hexDataLength=Y0e;function ehe(r,e,t){return typeof r!="string"?r=ls(r):(!Va(r)||r.length%2)&&Kr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Jt.hexDataSlice=ehe;function the(r){var e="0x";return r.forEach(function(t){e+=ls(t).substring(2)}),e}Jt.hexConcat=the;function rhe(r){var e=zV(ls(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Jt.hexValue=rhe;function zV(r){typeof r!="string"&&(r=ls(r)),Va(r)||Kr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Jt.hexStripZeros=zV;function O6(r,e){for(typeof r!="string"?r=ls(r):Va(r)||Kr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Kr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Jt.hexZeroPad=O6;function JV(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(GV(r)){var t=Uh(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ls(t.slice(0,32)),e.s=ls(t.slice(32,64))):t.length===65?(e.r=ls(t.slice(0,32)),e.s=ls(t.slice(32,64)),e.v=t[64]):Kr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Kr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ls(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=VV(Uh(e._vs),32);e._vs=ls(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Kr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=ls(n);e.s==null?e.s=i:e.s!==i&&Kr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Kr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Kr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Va(e.r)?Kr.throwArgumentError("signature missing or invalid r","signature",r):e.r=O6(e.r,32),e.s==null||!Va(e.s)?Kr.throwArgumentError("signature missing or invalid s","signature",r):e.s=O6(e.s,32);var a=Uh(e.s);a[0]>=128&&Kr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=ls(a);e._vs&&(Va(e._vs)||Kr.throwArgumentError("signature invalid _vs","signature",r),e._vs=O6(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Kr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Jt.splitSignature=JV;function nhe(r){return r=JV(r),ls(KV([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Jt.joinSignature=nhe});var OR=M(N6=>{y();b();Object.defineProperty(N6,"__esModule",{value:!0});N6.version=void 0;N6.version="bignumber/5.8.0"});var R6=M(Co=>{y();b();var she=Co&&Co.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Co,"__esModule",{value:!0});Co._base16To36=Co._base36To16=Co.BigNumber=Co.isBigNumberish=void 0;var ihe=she(XT()),Tv=ihe.default.BN,jy=kR(),Fy=el(),ohe=OR(),pf=new Fy.Logger(ohe.version),TR={},WV=9007199254740991;function ahe(r){return r!=null&&(C6.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||(0,jy.isHexString)(r)||typeof r=="bigint"||(0,jy.isBytes)(r))}Co.isBigNumberish=ahe;var $V=!1,C6=function(){function r(e,t){e!==TR&&pf.throwError("cannot call constructor directly; use BigNumber.from",Fy.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return r.prototype.fromTwos=function(e){return ui(It(this).fromTwos(e))},r.prototype.toTwos=function(e){return ui(It(this).toTwos(e))},r.prototype.abs=function(){return this._hex[0]==="-"?r.from(this._hex.substring(1)):this},r.prototype.add=function(e){return ui(It(this).add(It(e)))},r.prototype.sub=function(e){return ui(It(this).sub(It(e)))},r.prototype.div=function(e){var t=r.from(e);return t.isZero()&&No("division-by-zero","div"),ui(It(this).div(It(e)))},r.prototype.mul=function(e){return ui(It(this).mul(It(e)))},r.prototype.mod=function(e){var t=It(e);return t.isNeg()&&No("division-by-zero","mod"),ui(It(this).umod(t))},r.prototype.pow=function(e){var t=It(e);return t.isNeg()&&No("negative-power","pow"),ui(It(this).pow(t))},r.prototype.and=function(e){var t=It(e);return(this.isNegative()||t.isNeg())&&No("unbound-bitwise-result","and"),ui(It(this).and(t))},r.prototype.or=function(e){var t=It(e);return(this.isNegative()||t.isNeg())&&No("unbound-bitwise-result","or"),ui(It(this).or(t))},r.prototype.xor=function(e){var t=It(e);return(this.isNegative()||t.isNeg())&&No("unbound-bitwise-result","xor"),ui(It(this).xor(t))},r.prototype.mask=function(e){return(this.isNegative()||e<0)&&No("negative-width","mask"),ui(It(this).maskn(e))},r.prototype.shl=function(e){return(this.isNegative()||e<0)&&No("negative-width","shl"),ui(It(this).shln(e))},r.prototype.shr=function(e){return(this.isNegative()||e<0)&&No("negative-width","shr"),ui(It(this).shrn(e))},r.prototype.eq=function(e){return It(this).eq(It(e))},r.prototype.lt=function(e){return It(this).lt(It(e))},r.prototype.lte=function(e){return It(this).lte(It(e))},r.prototype.gt=function(e){return It(this).gt(It(e))},r.prototype.gte=function(e){return It(this).gte(It(e))},r.prototype.isNegative=function(){return this._hex[0]==="-"},r.prototype.isZero=function(){return It(this).isZero()},r.prototype.toNumber=function(){try{return It(this).toNumber()}catch{No("overflow","toNumber",this.toString())}return null},r.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch{}return pf.throwError("this platform does not support BigInt",Fy.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},r.prototype.toString=function(){return arguments.length>0&&(arguments[0]===10?$V||($V=!0,pf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?pf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Fy.Logger.errors.UNEXPECTED_ARGUMENT,{}):pf.throwError("BigNumber.toString does not accept parameters",Fy.Logger.errors.UNEXPECTED_ARGUMENT,{})),It(this).toString(10)},r.prototype.toHexString=function(){return this._hex},r.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},r.from=function(e){if(e instanceof r)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new r(TR,Nv(e)):e.match(/^-?[0-9]+$/)?new r(TR,Nv(new Tv(e))):pf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&No("underflow","BigNumber.from",e),(e>=WV||e<=-WV)&&No("overflow","BigNumber.from",e),r.from(String(e));var t=e;if(typeof t=="bigint")return r.from(t.toString());if((0,jy.isBytes)(t))return r.from((0,jy.hexlify)(t));if(t)if(t.toHexString){var n=t.toHexString();if(typeof n=="string")return r.from(n)}else{var n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&((0,jy.isHexString)(n)||n[0]==="-"&&(0,jy.isHexString)(n.substring(1))))return r.from(n)}return pf.throwArgumentError("invalid BigNumber value","value",e)},r.isBigNumber=function(e){return!!(e&&e._isBigNumber)},r}();Co.BigNumber=C6;function Nv(r){if(typeof r!="string")return Nv(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&pf.throwArgumentError("invalid hex","value",r),r=Nv(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function ui(r){return C6.from(Nv(r))}function It(r){var e=C6.from(r).toHexString();return e[0]==="-"?new Tv("-"+e.substring(3),16):new Tv(e.substring(2),16)}function No(r,e,t){var n={fault:r,operation:e};return t!=null&&(n.value=t),pf.throwError(r,Fy.Logger.errors.NUMERIC_FAULT,n)}function che(r){return new Tv(r,36).toString(16)}Co._base36To16=che;function uhe(r){return new Tv(r,16).toString(36)}Co._base16To36=uhe});var ez=M(iu=>{y();b();Object.defineProperty(iu,"__esModule",{value:!0});iu.FixedNumber=iu.FixedFormat=iu.parseFixed=iu.formatFixed=void 0;var B6=kR(),Bv=el(),fhe=OR(),Us=new Bv.Logger(fhe.version),mf=R6(),Cv={},QV=mf.BigNumber.from(0),XV=mf.BigNumber.from(-1);function YV(r,e,t,n){var s={fault:e,operation:t};return n!==void 0&&(s.value=n),Us.throwError(r,Bv.Logger.errors.NUMERIC_FAULT,s)}var Rv="0";for(;Rv.length<256;)Rv+=Rv;function NR(r){if(typeof r!="number")try{r=mf.BigNumber.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Rv.substring(0,r):Us.throwArgumentError("invalid decimal size","decimals",r)}function I6(r,e){e==null&&(e=0);var t=NR(e);r=mf.BigNumber.from(r);var n=r.lt(QV);n&&(r=r.mul(XV));for(var s=r.mod(t).toString();s.length<t.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=r.div(t).toString();return t.length===1?r=i:r=i+"."+s,n&&(r="-"+r),r}iu.formatFixed=I6;function su(r,e){e==null&&(e=0);var t=NR(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Us.throwArgumentError("invalid decimal value","value",r);var n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Us.throwArgumentError("missing value","value",r);var s=r.split(".");s.length>2&&Us.throwArgumentError("too many decimal points","value",r);var i=s[0],o=s[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&YV("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";var a=mf.BigNumber.from(i),c=mf.BigNumber.from(o),f=a.mul(t).add(c);return n&&(f=f.mul(XV)),f}iu.parseFixed=su;var M6=function(){function r(e,t,n,s){e!==Cv&&Us.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Bv.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=s,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(s),this._multiplier=NR(s),Object.freeze(this)}return r.from=function(e){if(e instanceof r)return e;typeof e=="number"&&(e="fixed128x"+e);var t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Us.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(e){var o=function(a,c,f){return e[a]==null?f:(typeof e[a]!==c&&Us.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,e[a]),e[a])};t=o("signed","boolean",t),n=o("width","number",n),s=o("decimals","number",s)}return n%8&&Us.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),s>80&&Us.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new r(Cv,t,n,s)},r}();iu.FixedFormat=M6;var CR=function(){function r(e,t,n,s){e!==Cv&&Us.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Bv.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return r.prototype._checkFormat=function(e){this.format.name!==e.format.name&&Us.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},r.prototype.addUnsafe=function(e){this._checkFormat(e);var t=su(this._value,this.format.decimals),n=su(e._value,e.format.decimals);return r.fromValue(t.add(n),this.format.decimals,this.format)},r.prototype.subUnsafe=function(e){this._checkFormat(e);var t=su(this._value,this.format.decimals),n=su(e._value,e.format.decimals);return r.fromValue(t.sub(n),this.format.decimals,this.format)},r.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=su(this._value,this.format.decimals),n=su(e._value,e.format.decimals);return r.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},r.prototype.divUnsafe=function(e){this._checkFormat(e);var t=su(this._value,this.format.decimals),n=su(e._value,e.format.decimals);return r.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},r.prototype.floor=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(ZV.toFormat(t.format))),t},r.prototype.ceiling=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(ZV.toFormat(t.format))),t},r.prototype.round=function(e){e==null&&(e=0);var t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Us.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var n=r.from("1"+Rv.substring(0,e),this.format),s=lhe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(s).floor().divUnsafe(n)},r.prototype.isZero=function(){return this._value==="0.0"||this._value==="0"},r.prototype.isNegative=function(){return this._value[0]==="-"},r.prototype.toString=function(){return this._value},r.prototype.toHexString=function(e){if(e==null)return this._hex;e%8&&Us.throwArgumentError("invalid byte width","width",e);var t=mf.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,B6.hexZeroPad)(t,e/8)},r.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},r.prototype.toFormat=function(e){return r.fromString(this._value,e)},r.fromValue=function(e,t,n){return n==null&&t!=null&&!(0,mf.isBigNumberish)(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),r.fromString(I6(e,t),M6.from(n))},r.fromString=function(e,t){t==null&&(t="fixed");var n=M6.from(t),s=su(e,n.decimals);!n.signed&&s.lt(QV)&&YV("unsigned value cannot be negative","overflow","value",e);var i=null;n.signed?i=s.toTwos(n.width).toHexString():(i=s.toHexString(),i=(0,B6.hexZeroPad)(i,n.width/8));var o=I6(s,n.decimals);return new r(Cv,i,o,n)},r.fromBytes=function(e,t){t==null&&(t="fixed");var n=M6.from(t);if((0,B6.arrayify)(e).length>n.width/8)throw new Error("overflow");var s=mf.BigNumber.from(e);n.signed&&(s=s.fromTwos(n.width));var i=s.toTwos((n.signed?0:1)+n.width).toHexString(),o=I6(s,n.decimals);return new r(Cv,i,o,n)},r.from=function(e,t){if(typeof e=="string")return r.fromString(e,t);if((0,B6.isBytes)(e))return r.fromBytes(e,t);try{return r.fromValue(e,0,t)}catch(n){if(n.code!==Bv.Logger.errors.INVALID_ARGUMENT)throw n}return Us.throwArgumentError("invalid FixedNumber value","value",e)},r.isFixedNumber=function(e){return!!(e&&e._isFixedNumber)},r}();iu.FixedNumber=CR;var ZV=CR.from(1),lhe=CR.from("0.5")});var rz=M(ds=>{y();b();Object.defineProperty(ds,"__esModule",{value:!0});ds._base36To16=ds._base16To36=ds.parseFixed=ds.FixedNumber=ds.FixedFormat=ds.formatFixed=ds.BigNumber=void 0;var dhe=R6();Object.defineProperty(ds,"BigNumber",{enumerable:!0,get:function(){return dhe.BigNumber}});var j6=ez();Object.defineProperty(ds,"formatFixed",{enumerable:!0,get:function(){return j6.formatFixed}});Object.defineProperty(ds,"FixedFormat",{enumerable:!0,get:function(){return j6.FixedFormat}});Object.defineProperty(ds,"FixedNumber",{enumerable:!0,get:function(){return j6.FixedNumber}});Object.defineProperty(ds,"parseFixed",{enumerable:!0,get:function(){return j6.parseFixed}});var tz=R6();Object.defineProperty(ds,"_base16To36",{enumerable:!0,get:function(){return tz._base16To36}});Object.defineProperty(ds,"_base36To16",{enumerable:!0,get:function(){return tz._base36To16}})});var nz=M(F6=>{y();b();Object.defineProperty(F6,"__esModule",{value:!0});F6.version=void 0;F6.version="units/5.8.0"});var uz=M(Ro=>{y();b();Object.defineProperty(Ro,"__esModule",{value:!0});Ro.parseEther=Ro.formatEther=Ro.parseUnits=Ro.formatUnits=Ro.commify=void 0;var sz=rz(),hhe=el(),ghe=nz(),iz=new hhe.Logger(ghe.version),oz=["wei","kwei","mwei","gwei","szabo","finney","ether"];function phe(r){var e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&iz.throwArgumentError("invalid value","value",r);var t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");var s="";for(e.length===2&&(s="."+(e[1]||"0"));s.length>2&&s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(var i=[];t.length;)if(t.length<=3){i.unshift(t);break}else{var o=t.length-3;i.unshift(t.substring(o)),t=t.substring(0,o)}return n+i.join(",")+s}Ro.commify=phe;function az(r,e){if(typeof e=="string"){var t=oz.indexOf(e);t!==-1&&(e=3*t)}return(0,sz.formatFixed)(r,e??18)}Ro.formatUnits=az;function cz(r,e){if(typeof r!="string"&&iz.throwArgumentError("value must be a string","value",r),typeof e=="string"){var t=oz.indexOf(e);t!==-1&&(e=3*t)}return(0,sz.parseFixed)(r,e??18)}Ro.parseUnits=cz;function mhe(r){return az(r,18)}Ro.formatEther=mhe;function yhe(r){return cz(r,18)}Ro.parseEther=yhe});var gz=M(Vr=>{y();b();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.parseKaia=Vr.formatKaia=Vr.parseKaiaUnits=Vr.formatKaiaUnits=Vr.parseUnits=Vr.formatUnits=void 0;Vr.formatKlayUnits=Ly;Vr.parseKlayUnits=Uy;Vr.formatKlay=dz;Vr.parseKlay=hz;Vr.fromPeb=bhe;Vr.toPeb=xhe;Vr.fromKei=whe;Vr.toKei=_he;var L6=uz(),RR=(fa(),ca(ua)),fz={peb:0,kpeb:3,mpeb:6,ston:9,gpeb:9,uklay:12,mklay:15,klay:18,kklay:21,Mklay:24,gklay:27,tklay:30,kei:0,gkei:9,kaia:18};function lz(r){if((0,RR.isString)(r)){let e=r.toLowerCase();return e=="mklay"&&r[0]=="m"?15:e=="mklay"&&r[0]=="M"?24:e in fz?fz[e]:void 0}}function Ly(r,e){let t=lz(e);return t?(0,L6.formatUnits)(r,t):((0,RR.isString)(e)&&(e=e.toLowerCase()),(0,L6.formatUnits)(r,e))}function Uy(r,e){let t=lz(e);return t?(0,L6.parseUnits)(r,t):((0,RR.isString)(e)&&(e=e.toLowerCase()),(0,L6.parseUnits)(r,e))}function dz(r){return Ly(r,18)}function hz(r){return Uy(r,18)}function bhe(r,e){return Ly(r,e)}function xhe(r,e){return Uy(r,e).toString()}Vr.formatUnits=Ly;Vr.parseUnits=Uy;Vr.formatKaiaUnits=Ly;Vr.parseKaiaUnits=Uy;Vr.formatKaia=dz;Vr.parseKaia=hz;function whe(r,e){return Ly(r,e)}function _he(r,e){return Uy(r,e).toString()}});var Bo=M(Fi=>{y();b();var vhe=Fi&&Fi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dh=Fi&&Fi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vhe(e,r,t)};Object.defineProperty(Fi,"__esModule",{value:!0});Dh(o5(),Fi);Dh(bw(),Fi);Dh(c5(),Fi);Dh(BF(),Fi);Dh(jF(),Fi);Dh(UV(),Fi);Dh(gz(),Fi)});var yz=M(zr=>{y();b();Object.defineProperty(zr,"__esModule",{value:!0});zr.FieldTypeSignatureTuples=zr.FieldTypeBool=zr.FieldTypeUint256=zr.FieldTypeUint64=zr.FieldTypeUint32=zr.FieldTypeUint8=zr.FieldTypeNumberBits=zr.FieldTypeBytes=zr.FieldTypeAddress=zr.FieldError=void 0;var Phe=X9(),pz=PT(),mz=Bo(),Ahe=(fa(),ca(ua)),BR=class extends Error{constructor(e,t,n){let s=`Cannot assign value '${n}' to field '${t}' of type '${e.constructor.name}'`;super(s),this.name="FieldError"}};zr.FieldError=BR;zr.FieldTypeAddress=new class{canonicalize(r){return r==="0x"?"0x":(0,Phe.getAddress)(r)}emptyValue(){return"0x"}};zr.FieldTypeBytes=new class{canonicalize(r){return mz.HexStr.from(r)}emptyValue(){return"0x"}};var qh=class{constructor(e){e||(e=256),this.maxBits=e,this.maxBN=pz.BigNumber.from(2).pow(e)}canonicalize(e){e==="0x"&&(e=0);let t=pz.BigNumber.from(e);if(t.gte(this.maxBN))throw new Error(`Number exceeds ${this.maxBits} bits`);return t.isZero()?"0x":t.toHexString()}emptyValue(){return"0x"}};zr.FieldTypeNumberBits=qh;zr.FieldTypeUint8=new qh(8);zr.FieldTypeUint32=new qh(32);zr.FieldTypeUint64=new qh(64);zr.FieldTypeUint256=new qh(256);zr.FieldTypeBool=new class{canonicalize(r){return r==="0x01"||r==="0x"?r:r?"0x01":"0x"}emptyValue(){return"0x"}};zr.FieldTypeSignatureTuples=new class{canonicalize(r){return(0,Ahe.map)(r,mz.getSignatureTuple)}emptyValue(){return[]}}});var MR=M(fi=>{y();b();Object.defineProperty(fi,"__esModule",{value:!0});fi.decodeObjectFromRLP=fi.GetHexlifyRLP=fi.convertKeysToRLP=fi.getWeightedPublicKeyRLP=void 0;var nd=(fa(),ca(ua)),Nr=o5(),IR=c5(),hs=bw(),Ehe=r=>{if((0,nd.isArray)(r)&&r.length==2){let e=r;return[hs.HexStr.fromNumber(e[0]),(0,IR.getCompressedPublicKey)(e[1])]}else if((0,nd.has)(r,"weight")&&(0,nd.has)(r,"key")){let e=r;return[hs.HexStr.fromNumber(e.weight),(0,IR.getCompressedPublicKey)(e.key)]}else throw new Error("Malformed WeightedPublicKeys")};fi.getWeightedPublicKeyRLP=Ehe;var She=({key:r,keys:e,type:t,threshold:n})=>{if((0,nd.isArray)(e))switch(Number(t)){case Nr.AccountKeyType.WeightedMultiSig:return hs.RLP.encode([hs.HexStr.from(n),(0,nd.map)(e,s=>(0,fi.getWeightedPublicKeyRLP)(s))]);case Nr.AccountKeyType.RoleBased:return hs.RLP.encode((0,nd.map)(e,({key:s,keys:i,type:o,threshold:a})=>(0,fi.GetHexlifyRLP)(o,(0,fi.convertKeysToRLP)({type:o,key:s,keys:i,threshold:a}))))}else switch(Number(t)){case Nr.AccountKeyType.Fail:return"0x03c0";case Nr.AccountKeyType.Legacy:return"0x01c0";case Nr.AccountKeyType.Nil:return"0x80";case Nr.AccountKeyType.Public:return hs.RLP.encode((0,IR.getCompressedPublicKey)(r))}throw new Error("Invalid account key type")};fi.convertKeysToRLP=She;var khe=(r,e)=>{switch(r){case Nr.AccountKeyType.RoleBased:return hs.HexStr.concat(hs.HexStr.from(Nr.AccountKeyType.RoleBased),e);case Nr.AccountKeyType.WeightedMultiSig:return hs.HexStr.concat(hs.HexStr.from(Nr.AccountKeyType.WeightedMultiSig),e);case Nr.AccountKeyType.Public:return hs.HexStr.concat(hs.HexStr.from(Nr.AccountKeyType.Public),e)}return e};fi.GetHexlifyRLP=khe;var Ohe=r=>{switch(hs.HexStr.toNumber(r.substring(0,4))){case Nr.AccountKeyType.RoleBased:{let t=hs.RLP.decode("0x"+r.substring(4));return{type:Nr.AccountKeyType.RoleBased,keys:(0,nd.map)(t,n=>(0,fi.decodeObjectFromRLP)(n))}}case Nr.AccountKeyType.WeightedMultiSig:{let[t,n]=hs.RLP.decode("0x"+r.substring(4));return{type:Nr.AccountKeyType.WeightedMultiSig,threshold:Number(t),keys:(0,nd.map)(n,([s,i])=>({weight:Number(s),key:i}))}}case Nr.AccountKeyType.Public:return{type:Nr.AccountKeyType.Public,key:hs.RLP.decode("0x"+String(r).substring(4))};case Nr.AccountKeyType.Nil:return{type:Nr.AccountKeyType.Nil,key:"0x80"};case Nr.AccountKeyType.Legacy:return{type:Nr.AccountKeyType.Legacy,key:"0x03c0"};case Nr.AccountKeyType.Fail:return{type:Nr.AccountKeyType.Fail,key:"0x03c0"}}throw new Error("Parse Account Key from RLP errors: Invalid Account key type!")};fi.decodeObjectFromRLP=Ohe});var bz=M(ou=>{y();b();Object.defineProperty(ou,"__esModule",{value:!0});ou.FieldTypeAccountKey=ou.FieldTypeAccountKeyList=ou.FieldTypeWeightedPublicKeys=ou.FieldTypeCompressedPubKey=void 0;var Iv=Bo(),yf=(fa(),ca(ua)),jR=MR();ou.FieldTypeCompressedPubKey=new class{canonicalize(r){return r}emptyValue(){return"0x000000000000000000000000000000000000000000000000000000000000000000"}};ou.FieldTypeWeightedPublicKeys=new class{canonicalize(r){if(!(0,yf.isArray)(r))throw new Error("Malformed WeightedPublicKeys");return(0,yf.map)(r,e=>{if((0,yf.isArray)(e)&&e.length==2){let t=e;return{weight:t[0],key:(0,Iv.getCompressedPublicKey)(t[1])}}return{weight:e.weight,key:(0,Iv.getCompressedPublicKey)(e.key)}})}emptyValue(){return[]}};ou.FieldTypeAccountKeyList=new class{canonicalize(r){if(!(0,yf.isArray)(r))throw new Error("Malformed RoleBasedKeys");return(0,yf.map)(r,e=>{let t=(0,yf.cloneDeep)(e);if((0,yf.isString)(t)&&Iv.HexStr.isHex(t)&&(t=(0,jR.decodeObjectFromRLP)(t)),typeof t=="object"&&(0,yf.has)(t,"type")&&(0,Iv.isEmbeddableAccountKeyType)(Number(t.type)))return t;throw new Error(`AccountKeyType ${t?.type} cannot be inside an AccountKeyRoleBased`)})}emptyValue(){return[]}};ou.FieldTypeAccountKey=new class{canonicalize(r){if((0,yf.isString)(r)&&Iv.HexStr.isHex(r))return r;{let e=(0,jR.convertKeysToRLP)(r);return(0,jR.GetHexlifyRLP)(r.type,e)}}emptyValue(){return"0x80"}}});var xz=M(qy=>{y();b();Object.defineProperty(qy,"__esModule",{value:!0});qy.FieldSetFactory=qy.FieldSet=void 0;var U6=(fa(),ca(ua)),Dy=Bo(),D6=class{constructor(){this.type=-1,this.typeName="",this.fieldTypes={},this.fields={},this.type=this._static.type,this.typeName=this._static.typeName,this.fieldTypes=this._static.fieldTypes}get _static(){return this.constructor}setFields(e){this.fields={},(0,U6.forOwn)(this.fieldTypes,(t,n)=>{if(e[n]===void 0){this.fields[n]=null;return}try{this.fields[n]=t.canonicalize(e[n])}catch(s){throw new Error(`Cannot set field '${n}' to '${JSON.stringify(e[n])}': ${s}`)}})}setFieldsFromArray(e,t){this.fields={};for(let n=0;n<t.length;n++){let s=e[n],i=this.fieldTypes[s];if(!i)throw new Error(`Unknown field '${s}' for '${this.typeName}' (type ${this.type})`);try{this.fields[s]=i.canonicalize(t[n])}catch(o){throw new Error(`Cannot set field '${s}' to '${JSON.stringify(t[n])}': ${o}`)}}}getField(e){let t=this.fields[e];if(t==null)throw new Error(`Missing field '${e}' for '${this.typeName}' (type ${this.type})`);return t}getFields(e){return(0,U6.map)(e,t=>this.getField(t))}toObject(){return this.fields}throwTypeError(e){throw new Error(`${e} for '${this.typeName}' (type ${Dy.HexStr.fromNumber(this.type)})`)}};qy.FieldSet=D6;D6.type=-1;var FR=class{constructor(e){this.registry={},this.requiredFields=e||[]}add(e){let t=e.type,n=e.fieldTypes;if(t===-1)throw new Error("Cannot register TypedFields: Missing type");if(this.registry[t])throw new Error(`Cannot register TypedFields: type ${t} already registered`);if(!n)throw new Error("Cannot register TypedFields: Missing fieldTypes");for(let s of this.requiredFields)if(!n[s])throw new Error(`Cannot register TypedFields: Missing required field '${s}'`);this.registry[t]=e}has(e){return Dy.HexStr.isHex(e)?(0,U6.has)(this.registry,Dy.HexStr.toNumber(e)):(0,U6.has)(this.registry,e)}lookup(e){if(!this.has(e))throw new Error(`Unsupported type '${Dy.HexStr.fromNumber(e)}'`);return Dy.HexStr.isHex(e)?this.registry[Dy.HexStr.toNumber(e)]:this.registry[e]}fromObject(e){let t=this.lookup(e?.type),n=new t;return n.setFields(e),n}};qy.FieldSetFactory=FR});var xf=M(bf=>{y();b();var The=bf&&bf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),LR=bf&&bf.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&The(e,r,t)};Object.defineProperty(bf,"__esModule",{value:!0});LR(yz(),bf);LR(bz(),bf);LR(xz(),bf)});var UR=M(gs=>{y();b();Object.defineProperty(gs,"__esModule",{value:!0});gs.AccountKeyRoleBased=gs.AccountKeyWeightedMultiSig=gs.AccountKeyFail=gs.AccountKeyPublic=gs.AccountKeyLegacy=gs.AccountKeyNil=gs.AccountKey=void 0;var za=xf(),jn=Bo(),Io=MR(),wf=class extends za.FieldSet{};gs.AccountKey=wf;var Hy=class extends wf{toRLP(){return(0,Io.convertKeysToRLP)({type:jn.AccountKeyType.Nil})}setFieldsFromRLP(e){e!=="0x80"&&this.throwTypeError(`Invalid RLP string '${e}'`),this.setFields({type:jn.AccountKeyType.Nil})}};gs.AccountKeyNil=Hy;Hy.type=jn.AccountKeyType.Nil;Hy.typeName="AccountKeyNil";Hy.fieldTypes={type:za.FieldTypeUint8};var Gy=class extends wf{toRLP(){return(0,Io.convertKeysToRLP)({type:jn.AccountKeyType.Legacy})}setFieldsFromRLP(e){e!=="0x01c0"&&this.throwTypeError(`Invalid RLP string '${e}'`),this.setFields({type:jn.AccountKeyType.Legacy})}};gs.AccountKeyLegacy=Gy;Gy.type=jn.AccountKeyType.Legacy;Gy.typeName="AccountKeyLegacy";Gy.fieldTypes={type:za.FieldTypeUint8};var Ky=class extends wf{toRLP(){let e=(0,Io.convertKeysToRLP)({key:this.getField("key"),type:jn.AccountKeyType.Public});return(0,Io.GetHexlifyRLP)(jn.AccountKeyType.Public,e)}setFieldsFromRLP(e){let{type:t,key:n}=(0,Io.decodeObjectFromRLP)(e);t!==this.type&&this.throwTypeError(`Invalid type '${t}`),this.setFields({type:t,key:n})}};gs.AccountKeyPublic=Ky;Ky.type=jn.AccountKeyType.Public;Ky.typeName="AccountKeyPublic";Ky.fieldTypes={type:za.FieldTypeUint8,key:za.FieldTypeCompressedPubKey};var Vy=class extends wf{toRLP(){return(0,Io.convertKeysToRLP)({type:jn.AccountKeyType.Fail})}setFieldsFromRLP(e){e!=="0x03c0"&&this.throwTypeError(`Invalid RLP string '${e}'`),this.setFields({type:jn.AccountKeyType.Fail})}};gs.AccountKeyFail=Vy;Vy.type=jn.AccountKeyType.Fail;Vy.typeName="AccountKeyFail";Vy.fieldTypes={type:za.FieldTypeUint8};var zy=class extends wf{toRLP(){let[e,t]=this.getFields(["threshold","keys"]),n=(0,Io.convertKeysToRLP)({threshold:e,keys:t,type:jn.AccountKeyType.WeightedMultiSig});return(0,Io.GetHexlifyRLP)(jn.AccountKeyType.WeightedMultiSig,n)}setFieldsFromRLP(e){let{type:t,keys:n,threshold:s}=(0,Io.decodeObjectFromRLP)(e);t!==this.type&&this.throwTypeError(`Invalid type '${t}`),this.setFields({type:t,threshold:s,keys:n})}};gs.AccountKeyWeightedMultiSig=zy;zy.type=jn.AccountKeyType.WeightedMultiSig;zy.typeName="AccountKeyWeightedMultiSig";zy.fieldTypes={type:za.FieldTypeUint8,threshold:za.FieldTypeUint32,keys:za.FieldTypeWeightedPublicKeys};var Jy=class extends wf{toRLP(){let e=this.getField("keys"),t=(0,Io.convertKeysToRLP)({type:jn.AccountKeyType.RoleBased,keys:e});return(0,Io.GetHexlifyRLP)(jn.AccountKeyType.RoleBased,t)}setFieldsFromRLP(e){let{type:t,keys:n}=(0,Io.decodeObjectFromRLP)(e);t!==this.type&&this.throwTypeError(`Invalid type '${t}`),this.setFields({type:t,keys:n})}};gs.AccountKeyRoleBased=Jy;Jy.type=jn.AccountKeyType.RoleBased;Jy.typeName="AccountKeyRoleBased";Jy.fieldTypes={type:za.FieldTypeUint8,keys:za.FieldTypeAccountKeyList}});var wz=M(Mv=>{y();b();Object.defineProperty(Mv,"__esModule",{value:!0});Mv.AccountKeyFactory=void 0;Mv.parseAccountKey=Che;var Nhe=xf(),Ja=Bo(),Wy=UR(),Hh=class extends Nhe.FieldSetFactory{constructor(){let e=["type"];super(e),this.add(Wy.AccountKeyNil),this.add(Wy.AccountKeyLegacy),this.add(Wy.AccountKeyPublic),this.add(Wy.AccountKeyFail),this.add(Wy.AccountKeyWeightedMultiSig),this.add(Wy.AccountKeyRoleBased)}_fromObject(e){return e.type==Ja.AccountKeyType.WeightedMultiSig&&e.weightedPublicKeys&&(e.keys=e.weightedPublicKeys),super.fromObject(e)}static fromObject(e){return new Hh()._fromObject(e)}_fromRLP(e){if(e=="0x80")return this.fromObject({type:Ja.AccountKeyType.Nil});let t=(0,Ja.getTypePrefix)(e);if(!(0,Ja.isKlaytnAccountKeyType)(t))throw new Error("Not a Klaytn account key");let n=this.lookup(t),s=new n;return s.setFieldsFromRLP(e),s}static fromRLP(e){return new Hh()._fromRLP(e)}};Mv.AccountKeyFactory=Hh;function Che(r){let e=Hh.fromRLP(r),t=e.toObject();if(e.type==Ja.AccountKeyType.Nil||e.type==Ja.AccountKeyType.Legacy||e.type==Ja.AccountKeyType.Fail)return{type:e.type};if(e.type==Ja.AccountKeyType.Public)return{type:e.type,key:t.key};if(e.type==Ja.AccountKeyType.WeightedMultiSig)return{type:e.type,threshold:Ja.HexStr.toNumber(t.threshold),keys:e.getField("keys")};if(e.type==Ja.AccountKeyType.RoleBased)return{type:e.type,keys:e.getField("keys")};throw new Error(`Unknown AccountKeyType ${e.type}`)}});var vz=M(sd=>{y();b();var Rhe=sd&&sd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_z=sd&&sd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Rhe(e,r,t)};Object.defineProperty(sd,"__esModule",{value:!0});_z(wz(),sd);_z(UR(),sd)});var jv=M(q6=>{y();b();Object.defineProperty(q6,"__esModule",{value:!0});q6.KlaytnTx=void 0;var Bhe=xf(),Wa=Bo(),DR=class extends Bhe.FieldSet{sigFeePayerRLP(){(0,Wa.isFeePayerSigTxType)(this.type)?this.throwTypeError("sigFeePayerRLP not implemented"):this.throwTypeError("sigFeePayerRLP not defined")}senderTxHashRLP(){if((0,Wa.isFeePayerSigTxType)(this.type))this.throwTypeError("senderTxHashRLP not implemented");else return this.txHashRLP()}addSenderSig(e){var t;let n=(0,Wa.getSignatureTuple)(e);(t=this.fields).txSignatures||(t.txSignatures=[]),this.fields.txSignatures.push(n)}addFeePayerSig(e){var t;let n=(0,Wa.getSignatureTuple)(e);(t=this.fields).feePayerSignatures||(t.feePayerSignatures=[]),this.fields.feePayerSignatures.push(n)}encodeNestedRLP(e,t){let n=this.getFields(e),s=this.getFields(t);return Wa.RLP.encode([Wa.RLP.encode(n),...s,"0x","0x"])}encodeTypePrefixedRLP(e){let t=this.getFields(e);return Wa.HexStr.concat(this.getField("type"),Wa.RLP.encode(t))}decodeTypePrefixedRLP(e,t){let n=Wa.HexStr.toNumber(e.substring(0,4));n!==this.type&&this.throwTypeError(`Invalid type '${n}`);let s="0x"+String(e).substring(4),i=["type",...t],o=[this.type,...Wa.RLP.decode(s)];this.setFieldsFromArray(i,o)}decodeTypePrefixedVarlenRLP(e,...t){let n=Wa.RLP.decode("0x"+e.substring(4)).length;for(let s=0;s<t.length;s++){let i=t[s];if(n==i.length){this.decodeTypePrefixedRLP(e,i);return}}this.throwTypeError(`Invalid RLP string '${e}'`)}};q6.KlaytnTx=DR});var qR=M(li=>{y();b();Object.defineProperty(li,"__esModule",{value:!0});li.TxTypeFeeDelegatedCancel=li.TxTypeFeeDelegatedAccountUpdate=li.TxTypeFeeDelegatedSmartContractExecution=li.TxTypeFeeDelegatedSmartContractDeploy=li.TxTypeFeeDelegatedValueTransferMemo=li.TxTypeFeeDelegatedValueTransfer=void 0;var me=xf(),tb=Bo(),rb=jv(),$y=class extends rb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","txSignatures","feePayer","feePayerSignatures"])}};li.TxTypeFeeDelegatedValueTransfer=$y;$y.type=tb.TxType.FeeDelegatedValueTransfer;$y.typeName="TxTypeFeeDelegatedValueTransfer";$y.fieldTypes={type:me.FieldTypeUint8,nonce:me.FieldTypeUint64,gasPrice:me.FieldTypeUint256,gasLimit:me.FieldTypeUint64,to:me.FieldTypeAddress,value:me.FieldTypeUint256,from:me.FieldTypeAddress,chainId:me.FieldTypeUint64,txSignatures:me.FieldTypeSignatureTuples,feePayer:me.FieldTypeAddress,feePayerSignatures:me.FieldTypeSignatureTuples};var Zy=class extends rb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}};li.TxTypeFeeDelegatedValueTransferMemo=Zy;Zy.type=tb.TxType.FeeDelegatedValueTransferMemo;Zy.typeName="TxTypeFeeDelegatedValueTransferMemo";Zy.fieldTypes={type:me.FieldTypeUint8,nonce:me.FieldTypeUint64,gasPrice:me.FieldTypeUint256,gasLimit:me.FieldTypeUint64,to:me.FieldTypeAddress,value:me.FieldTypeUint256,from:me.FieldTypeAddress,data:me.FieldTypeBytes,chainId:me.FieldTypeUint64,txSignatures:me.FieldTypeSignatureTuples,feePayer:me.FieldTypeAddress,feePayerSignatures:me.FieldTypeSignatureTuples};var Qy=class extends rb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures","feePayer","feePayerSignatures"])}};li.TxTypeFeeDelegatedSmartContractDeploy=Qy;Qy.type=tb.TxType.FeeDelegatedSmartContractDeploy;Qy.typeName="TxTypeFeeDelegatedSmartContractDeploy";Qy.fieldTypes={type:me.FieldTypeUint8,nonce:me.FieldTypeUint64,gasPrice:me.FieldTypeUint256,gasLimit:me.FieldTypeUint64,to:me.FieldTypeAddress,value:me.FieldTypeUint256,from:me.FieldTypeAddress,data:me.FieldTypeBytes,humanReadable:me.FieldTypeBool,codeFormat:me.FieldTypeUint8,chainId:me.FieldTypeUint64,txSignatures:me.FieldTypeSignatureTuples,feePayer:me.FieldTypeAddress,feePayerSignatures:me.FieldTypeSignatureTuples};var Xy=class extends rb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}};li.TxTypeFeeDelegatedSmartContractExecution=Xy;Xy.type=tb.TxType.FeeDelegatedSmartContractExecution;Xy.typeName="TxTypeFeeDelegatedSmartContractExecution";Xy.fieldTypes={type:me.FieldTypeUint8,nonce:me.FieldTypeUint64,gasPrice:me.FieldTypeUint256,gasLimit:me.FieldTypeUint64,to:me.FieldTypeAddress,value:me.FieldTypeUint256,from:me.FieldTypeAddress,data:me.FieldTypeBytes,chainId:me.FieldTypeUint64,txSignatures:me.FieldTypeSignatureTuples,feePayer:me.FieldTypeAddress,feePayerSignatures:me.FieldTypeSignatureTuples};var Yy=class extends rb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","key","txSignatures"],["nonce","gasPrice","gasLimit","from","key","txSignatures","feePayer","feePayerSignatures"])}};li.TxTypeFeeDelegatedAccountUpdate=Yy;Yy.type=tb.TxType.FeeDelegatedAccountUpdate;Yy.typeName="TxTypeFeeDelegatedAccountUpdate";Yy.fieldTypes={type:me.FieldTypeUint8,nonce:me.FieldTypeUint64,gasPrice:me.FieldTypeUint256,gasLimit:me.FieldTypeUint64,from:me.FieldTypeAddress,key:me.FieldTypeAccountKey,chainId:me.FieldTypeUint64,txSignatures:me.FieldTypeSignatureTuples,feePayer:me.FieldTypeAddress,feePayerSignatures:me.FieldTypeSignatureTuples};var eb=class extends rb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","txSignatures"],["nonce","gasPrice","gasLimit","from","txSignatures","feePayer","feePayerSignatures"])}};li.TxTypeFeeDelegatedCancel=eb;eb.type=tb.TxType.FeeDelegatedCancel;eb.typeName="TxTypeFeeDelegatedCancel";eb.fieldTypes={type:me.FieldTypeUint8,nonce:me.FieldTypeUint64,gasPrice:me.FieldTypeUint256,gasLimit:me.FieldTypeUint64,from:me.FieldTypeAddress,chainId:me.FieldTypeUint64,txSignatures:me.FieldTypeSignatureTuples,feePayer:me.FieldTypeAddress,feePayerSignatures:me.FieldTypeSignatureTuples}});var HR=M(di=>{y();b();Object.defineProperty(di,"__esModule",{value:!0});di.TxTypeCancel=di.TxTypeAccountUpdate=di.TxTypeSmartContractExecution=di.TxTypeSmartContractDeploy=di.TxTypeValueTransferMemo=di.TxTypeValueTransfer=void 0;var ve=xf(),ub=Bo(),fb=jv(),nb=class extends fb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","txSignatures"])}};di.TxTypeValueTransfer=nb;nb.type=ub.TxType.ValueTransfer;nb.typeName="TxTypeValueTransfer";nb.fieldTypes={type:ve.FieldTypeUint8,nonce:ve.FieldTypeUint64,gasPrice:ve.FieldTypeUint256,gasLimit:ve.FieldTypeUint64,to:ve.FieldTypeAddress,value:ve.FieldTypeUint256,from:ve.FieldTypeAddress,chainId:ve.FieldTypeUint64,txSignatures:ve.FieldTypeSignatureTuples};var sb=class extends fb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}};di.TxTypeValueTransferMemo=sb;sb.type=ub.TxType.ValueTransferMemo;sb.typeName="TxTypeValueTransferMemo";sb.fieldTypes={type:ve.FieldTypeUint8,nonce:ve.FieldTypeUint64,gasPrice:ve.FieldTypeUint256,gasLimit:ve.FieldTypeUint64,to:ve.FieldTypeAddress,value:ve.FieldTypeUint256,from:ve.FieldTypeAddress,data:ve.FieldTypeBytes,chainId:ve.FieldTypeUint64,txSignatures:ve.FieldTypeSignatureTuples};var ib=class extends fb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"])}};di.TxTypeSmartContractDeploy=ib;ib.type=ub.TxType.SmartContractDeploy;ib.typeName="TxTypeSmartContractDeploy";ib.fieldTypes={type:ve.FieldTypeUint8,nonce:ve.FieldTypeUint64,gasPrice:ve.FieldTypeUint256,gasLimit:ve.FieldTypeUint64,to:ve.FieldTypeAddress,value:ve.FieldTypeUint256,from:ve.FieldTypeAddress,data:ve.FieldTypeBytes,humanReadable:ve.FieldTypeBool,codeFormat:ve.FieldTypeUint8,chainId:ve.FieldTypeUint64,txSignatures:ve.FieldTypeSignatureTuples};var ob=class extends fb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}};di.TxTypeSmartContractExecution=ob;ob.type=ub.TxType.SmartContractExecution;ob.typeName="TxTypeSmartContractExecution";ob.fieldTypes={type:ve.FieldTypeUint8,nonce:ve.FieldTypeUint64,gasPrice:ve.FieldTypeUint256,gasLimit:ve.FieldTypeUint64,to:ve.FieldTypeAddress,value:ve.FieldTypeUint256,from:ve.FieldTypeAddress,data:ve.FieldTypeBytes,chainId:ve.FieldTypeUint64,txSignatures:ve.FieldTypeSignatureTuples};var ab=class extends fb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","from","key","txSignatures"])}};di.TxTypeAccountUpdate=ab;ab.type=ub.TxType.AccountUpdate;ab.typeName="TxTypeAccountUpdate";ab.fieldTypes={type:ve.FieldTypeUint8,nonce:ve.FieldTypeUint64,gasPrice:ve.FieldTypeUint256,gasLimit:ve.FieldTypeUint64,from:ve.FieldTypeAddress,key:ve.FieldTypeAccountKey,chainId:ve.FieldTypeUint64,txSignatures:ve.FieldTypeSignatureTuples};var cb=class extends fb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","from","txSignatures"])}};di.TxTypeCancel=cb;cb.type=ub.TxType.Cancel;cb.typeName="TxTypeCancel";cb.fieldTypes={type:ve.FieldTypeUint8,nonce:ve.FieldTypeUint64,gasPrice:ve.FieldTypeUint256,gasLimit:ve.FieldTypeUint64,from:ve.FieldTypeAddress,chainId:ve.FieldTypeUint64,txSignatures:ve.FieldTypeSignatureTuples}});var GR=M(hi=>{y();b();Object.defineProperty(hi,"__esModule",{value:!0});hi.TxTypeFeeDelegatedCancelWithRatio=hi.TxTypeFeeDelegatedAccountUpdateWithRatio=hi.TxTypeFeeDelegatedSmartContractExecutionWithRatio=hi.TxTypeFeeDelegatedSmartContractDeployWithRatio=hi.TxTypeFeeDelegatedValueTransferMemoWithRatio=hi.TxTypeFeeDelegatedValueTransferWithRatio=void 0;var ue=xf(),yb=Bo(),bb=jv(),lb=class extends bb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};hi.TxTypeFeeDelegatedValueTransferWithRatio=lb;lb.type=yb.TxType.FeeDelegatedValueTransferWithRatio;lb.typeName="TxTypeFeeDelegatedValueTransferWithRatio";lb.fieldTypes={type:ue.FieldTypeUint8,nonce:ue.FieldTypeUint64,gasPrice:ue.FieldTypeUint256,gasLimit:ue.FieldTypeUint64,to:ue.FieldTypeAddress,value:ue.FieldTypeUint256,from:ue.FieldTypeAddress,feeRatio:ue.FieldTypeUint8,chainId:ue.FieldTypeUint64,txSignatures:ue.FieldTypeSignatureTuples,feePayer:ue.FieldTypeAddress,feePayerSignatures:ue.FieldTypeSignatureTuples};var db=class extends bb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};hi.TxTypeFeeDelegatedValueTransferMemoWithRatio=db;db.type=yb.TxType.FeeDelegatedValueTransferMemoWithRatio;db.typeName="TxTypeFeeDelegatedValueTransferMemoWithRatio";db.fieldTypes={type:ue.FieldTypeUint8,nonce:ue.FieldTypeUint64,gasPrice:ue.FieldTypeUint256,gasLimit:ue.FieldTypeUint64,to:ue.FieldTypeAddress,value:ue.FieldTypeUint256,from:ue.FieldTypeAddress,data:ue.FieldTypeBytes,feeRatio:ue.FieldTypeUint8,chainId:ue.FieldTypeUint64,txSignatures:ue.FieldTypeSignatureTuples,feePayer:ue.FieldTypeAddress,feePayerSignatures:ue.FieldTypeSignatureTuples};var hb=class extends bb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures","feePayer","feePayerSignatures"])}};hi.TxTypeFeeDelegatedSmartContractDeployWithRatio=hb;hb.type=yb.TxType.FeeDelegatedSmartContractDeployWithRatio;hb.typeName="TxTypeFeeDelegatedSmartContractDeployWithRatio";hb.fieldTypes={type:ue.FieldTypeUint8,nonce:ue.FieldTypeUint64,gasPrice:ue.FieldTypeUint256,gasLimit:ue.FieldTypeUint64,to:ue.FieldTypeAddress,value:ue.FieldTypeUint256,from:ue.FieldTypeAddress,data:ue.FieldTypeBytes,humanReadable:ue.FieldTypeBool,feeRatio:ue.FieldTypeUint8,codeFormat:ue.FieldTypeUint8,chainId:ue.FieldTypeUint64,txSignatures:ue.FieldTypeSignatureTuples,feePayer:ue.FieldTypeAddress,feePayerSignatures:ue.FieldTypeSignatureTuples};var gb=class extends bb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};hi.TxTypeFeeDelegatedSmartContractExecutionWithRatio=gb;gb.type=yb.TxType.FeeDelegatedSmartContractExecutionWithRatio;gb.typeName="TxTypeFeeDelegatedSmartContractExecutionWithRatio";gb.fieldTypes={type:ue.FieldTypeUint8,nonce:ue.FieldTypeUint64,gasPrice:ue.FieldTypeUint256,gasLimit:ue.FieldTypeUint64,to:ue.FieldTypeAddress,value:ue.FieldTypeUint256,from:ue.FieldTypeAddress,data:ue.FieldTypeBytes,feeRatio:ue.FieldTypeUint8,chainId:ue.FieldTypeUint64,txSignatures:ue.FieldTypeSignatureTuples,feePayer:ue.FieldTypeAddress,feePayerSignatures:ue.FieldTypeSignatureTuples};var pb=class extends bb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};hi.TxTypeFeeDelegatedAccountUpdateWithRatio=pb;pb.type=yb.TxType.FeeDelegatedAccountUpdateWithRatio;pb.typeName="TxTypeFeeDelegatedAccountUpdateWithRatio";pb.fieldTypes={type:ue.FieldTypeUint8,nonce:ue.FieldTypeUint64,gasPrice:ue.FieldTypeUint256,gasLimit:ue.FieldTypeUint64,from:ue.FieldTypeAddress,key:ue.FieldTypeAccountKey,feeRatio:ue.FieldTypeUint8,chainId:ue.FieldTypeUint64,txSignatures:ue.FieldTypeSignatureTuples,feePayer:ue.FieldTypeAddress,feePayerSignatures:ue.FieldTypeSignatureTuples};var mb=class extends bb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};hi.TxTypeFeeDelegatedCancelWithRatio=mb;mb.type=yb.TxType.FeeDelegatedCancelWithRatio;mb.typeName="TxTypeFeeDelegatedCancelWithRatio";mb.fieldTypes={type:ue.FieldTypeUint8,nonce:ue.FieldTypeUint64,gasPrice:ue.FieldTypeUint256,gasLimit:ue.FieldTypeUint64,from:ue.FieldTypeAddress,feeRatio:ue.FieldTypeUint8,chainId:ue.FieldTypeUint64,txSignatures:ue.FieldTypeSignatureTuples,feePayer:ue.FieldTypeAddress,feePayerSignatures:ue.FieldTypeSignatureTuples}});var Az=M(vb=>{y();b();Object.defineProperty(vb,"__esModule",{value:!0});vb.KlaytnTxFactory=void 0;vb.parseTransaction=Fhe;var id=TP(),Ihe=YY(),Mhe=PR(),jhe=xf(),Jr=Bo(),Pz=(fa(),ca(ua)),xb=qR(),wb=HR(),_b=GR(),KR=class extends jhe.FieldSetFactory{constructor(){let e=["type","chainId","txSignatures"];super(e),this.add(wb.TxTypeValueTransfer),this.add(wb.TxTypeValueTransferMemo),this.add(wb.TxTypeSmartContractDeploy),this.add(wb.TxTypeSmartContractExecution),this.add(wb.TxTypeAccountUpdate),this.add(wb.TxTypeCancel),this.add(xb.TxTypeFeeDelegatedValueTransfer),this.add(xb.TxTypeFeeDelegatedValueTransferMemo),this.add(xb.TxTypeFeeDelegatedSmartContractDeploy),this.add(xb.TxTypeFeeDelegatedSmartContractExecution),this.add(xb.TxTypeFeeDelegatedAccountUpdate),this.add(xb.TxTypeFeeDelegatedCancel),this.add(_b.TxTypeFeeDelegatedValueTransferWithRatio),this.add(_b.TxTypeFeeDelegatedValueTransferMemoWithRatio),this.add(_b.TxTypeFeeDelegatedSmartContractDeployWithRatio),this.add(_b.TxTypeFeeDelegatedSmartContractExecutionWithRatio),this.add(_b.TxTypeFeeDelegatedAccountUpdateWithRatio),this.add(_b.TxTypeFeeDelegatedCancelWithRatio)}fromObject(e){return e.input&&(e.data=e.input),(Jr.HexStr.fromNumber(e.type)==Jr.HexStr.fromNumber(Jr.TxType.SmartContractDeploy)||Jr.HexStr.fromNumber(e.type)==Jr.HexStr.fromNumber(Jr.TxType.FeeDelegatedSmartContractDeploy)||Jr.HexStr.fromNumber(e.type)==Jr.HexStr.fromNumber(Jr.TxType.FeeDelegatedSmartContractDeployWithRatio))&&(e.to="0x"),super.fromObject(e)}fromRLP(e){let t=(0,Jr.getTypePrefix)(e);if(!(0,Jr.isKlaytnTxType)(t))throw new Error("Not a Klaytn raw transaction");let n=this.lookup(t),s=new n;return s.setFieldsFromRLP(e),s}};vb.KlaytnTxFactory=new KR;function Fhe(r){let e=(0,Jr.getTypePrefix)(r);if((0,Jr.isKlaytnTxType)(e)){let t=vb.KlaytnTxFactory.fromRLP(r).toObject();try{let n={hash:(0,Ihe.keccak256)(r),to:t.to?Jr.HexStr.toAddress(t.to):void 0,from:t.from?Jr.HexStr.toAddress(t.from):void 0,nonce:Jr.HexStr.toNumber(t.nonce),gasLimit:(0,id.hexValue)(t.gasLimit),gasPrice:(0,id.hexValue)(t.gasPrice),data:t.data??"0x",value:(0,id.hexValue)(t.value??0),chainId:t.chainId?Jr.HexStr.toNumber(t.chainId):void 0,type:t.type?Jr.HexStr.toNumber(t.type):null,accessList:t.accessList,key:t.key,humanReadable:t.humanReadable?Jr.HexStr.toBoolean(t.humanReadable):void 0,codeFormat:t.codeFormat?Jr.HexStr.toNumber(t.codeFormat):void 0,feePayer:t.feePayer?Jr.HexStr.toAddress(t.feePayer):void 0,txSignatures:t.txSignatures,feePayerSignatures:t.feePayerSignatures,feeRatio:t.feeRatio?Jr.HexStr.toNumber(t.feeRatio):void 0};return(0,Pz.forOwn)(n,(s,i)=>{s===void 0&&delete n[i]}),n}catch{return t}}else{let t=Mhe.Transaction.from(r),n={from:t.from??void 0,to:t.to??void 0,nonce:t.nonce,data:t.data,r:t.signature?.r,s:t.signature?.s,v:t.signature?.v??void 0,hash:t.hash??void 0,accessList:t.accessList??void 0,chainId:Number(t.chainId),type:t?.type,gasLimit:(0,id.hexValue)(t.gasLimit),gasPrice:t.gasPrice?(0,id.hexValue)(t.gasPrice):void 0,value:(0,id.hexValue)(t.value),maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,id.hexValue)(t.maxPriorityFeePerGas):void 0,maxFeePerGas:t.maxFeePerGas?(0,id.hexValue)(t.maxFeePerGas):void 0};return typeof n.v=="number"&&(n.v=n.v===27?0:1),(0,Pz.forOwn)(n,(s,i)=>{s===void 0&&delete n[i]}),n}}});var Ez=M($a=>{y();b();var Lhe=$a&&$a.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fv=$a&&$a.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Lhe(e,r,t)};Object.defineProperty($a,"__esModule",{value:!0});Fv(Az(),$a);Fv(HR(),$a);Fv(qR(),$a);Fv(GR(),$a);Fv(jv(),$a)});var Gh=M(au=>{y();b();var Uhe=au&&au.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),H6=au&&au.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Uhe(e,r,t)};Object.defineProperty(au,"__esModule",{value:!0});H6(vz(),au);H6(xf(),au);H6(Ez(),au);H6(Bo(),au)});var Yz=M((a4e,V6)=>{y();b();var Sz,kz,Oz,Tz,Nz,Cz,Rz,Bz,Iz,Mz,jz,Fz,Lz,G6,VR,Uz,Dz,qz,Pb,Hz,Gz,Kz,Vz,zz,Jz,Wz,$z,Zz,K6,Qz,Xz;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof V6=="object"&&typeof V6.exports=="object"?r(t(e,t(V6.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])};Sz=function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function o(){this.constructor=s}s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},kz=Object.assign||function(s){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])}return s},Oz=function(s,i){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(o[a[c]]=s[a[c]]);return o},Tz=function(s,i,o,a){var c=arguments.length,f=c<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(s,i,o,a);else for(var p=s.length-1;p>=0;p--)(g=s[p])&&(f=(c<3?g(f):c>3?g(i,o,f):g(i,o))||f);return c>3&&f&&Object.defineProperty(i,o,f),f},Nz=function(s,i){return function(o,a){i(o,a,s)}},Cz=function(s,i,o,a,c,f){function g(G){if(G!==void 0&&typeof G!="function")throw new TypeError("Function expected");return G}for(var p=a.kind,A=p==="getter"?"get":p==="setter"?"set":"value",P=!i&&s?a.static?s:s.prototype:null,C=i||(P?Object.getOwnPropertyDescriptor(P,a.name):{}),N,U=!1,L=o.length-1;L>=0;L--){var q={};for(var H in a)q[H]=H==="access"?{}:a[H];for(var H in a.access)q.access[H]=a.access[H];q.addInitializer=function(G){if(U)throw new TypeError("Cannot add initializers after decoration has completed");f.push(g(G||null))};var V=(0,o[L])(p==="accessor"?{get:C.get,set:C.set}:C[A],q);if(p==="accessor"){if(V===void 0)continue;if(V===null||typeof V!="object")throw new TypeError("Object expected");(N=g(V.get))&&(C.get=N),(N=g(V.set))&&(C.set=N),(N=g(V.init))&&c.unshift(N)}else(N=g(V))&&(p==="field"?c.unshift(N):C[A]=N)}P&&Object.defineProperty(P,a.name,C),U=!0},Rz=function(s,i,o){for(var a=arguments.length>2,c=0;c<i.length;c++)o=a?i[c].call(s,o):i[c].call(s);return a?o:void 0},Bz=function(s){return typeof s=="symbol"?s:"".concat(s)},Iz=function(s,i,o){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},Mz=function(s,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,i)},jz=function(s,i,o,a){function c(f){return f instanceof o?f:new o(function(g){g(f)})}return new(o||(o=Promise))(function(f,g){function p(C){try{P(a.next(C))}catch(N){g(N)}}function A(C){try{P(a.throw(C))}catch(N){g(N)}}function P(C){C.done?f(C.value):c(C.value).then(p,A)}P((a=a.apply(s,i||[])).next())})},Fz=function(s,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=p(0),g.throw=p(1),g.return=p(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(P){return function(C){return A([P,C])}}function A(P){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,P[0]&&(o=0)),o;)try{if(a=1,c&&(f=P[0]&2?c.return:P[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,P[1])).done)return f;switch(c=0,f&&(P=[P[0]&2,f.value]),P[0]){case 0:case 1:f=P;break;case 4:return o.label++,{value:P[1],done:!1};case 5:o.label++,c=P[1],P=[0];continue;case 7:P=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(P[0]===6||P[0]===2)){o=0;continue}if(P[0]===3&&(!f||P[1]>f[0]&&P[1]<f[3])){o.label=P[1];break}if(P[0]===6&&o.label<f[1]){o.label=f[1],f=P;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(P);break}f[2]&&o.ops.pop(),o.trys.pop();continue}P=i.call(s,o)}catch(C){P=[6,C],c=0}finally{a=f=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},Lz=function(s,i){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&K6(i,s,o)},K6=Object.create?function(s,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(s,a,c)}:function(s,i,o,a){a===void 0&&(a=o),s[a]=i[o]},G6=function(s){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&s[i],a=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},VR=function(s,i){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var a=o.call(s),c,f=[],g;try{for(;(i===void 0||i-- >0)&&!(c=a.next()).done;)f.push(c.value)}catch(p){g={error:p}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(g)throw g.error}}return f},Uz=function(){for(var s=[],i=0;i<arguments.length;i++)s=s.concat(VR(arguments[i]));return s},Dz=function(){for(var s=0,i=0,o=arguments.length;i<o;i++)s+=arguments[i].length;for(var a=Array(s),c=0,i=0;i<o;i++)for(var f=arguments[i],g=0,p=f.length;g<p;g++,c++)a[c]=f[g];return a},qz=function(s,i,o){if(o||arguments.length===2)for(var a=0,c=i.length,f;a<c;a++)(f||!(a in i))&&(f||(f=Array.prototype.slice.call(i,0,a)),f[a]=i[a]);return s.concat(f||Array.prototype.slice.call(i))},Pb=function(s){return this instanceof Pb?(this.v=s,this):new Pb(s)},Hz=function(s,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(s,i||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(L){return function(q){return Promise.resolve(q).then(L,N)}}function p(L,q){a[L]&&(c[L]=function(H){return new Promise(function(V,G){f.push([L,H,V,G])>1||A(L,H)})},q&&(c[L]=q(c[L])))}function A(L,q){try{P(a[L](q))}catch(H){U(f[0][3],H)}}function P(L){L.value instanceof Pb?Promise.resolve(L.value.v).then(C,N):U(f[0][2],L)}function C(L){A("next",L)}function N(L){A("throw",L)}function U(L,q){L(q),f.shift(),f.length&&A(f[0][0],f[0][1])}},Gz=function(s){var i,o;return i={},a("next"),a("throw",function(c){throw c}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(c,f){i[c]=s[c]?function(g){return(o=!o)?{value:Pb(s[c](g)),done:!1}:f?f(g):g}:f}},Kz=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s[Symbol.asyncIterator],o;return i?i.call(s):(s=typeof G6=="function"?G6(s):s[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=s[f]&&function(g){return new Promise(function(p,A){g=s[f](g),c(p,A,g.done,g.value)})}}function c(f,g,p,A){Promise.resolve(A).then(function(P){f({value:P,done:p})},g)}},Vz=function(s,i){return Object.defineProperty?Object.defineProperty(s,"raw",{value:i}):s.raw=i,s};var t=Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i};zz=function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var o in s)o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)&&K6(i,s,o);return t(i,s),i},Jz=function(s){return s&&s.__esModule?s:{default:s}},Wz=function(s,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?s!==i||!a:!i.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(s):a?a.value:i.get(s)},$z=function(s,i,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?s!==i||!c:!i.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(s,o):c?c.value=o:i.set(s,o),o},Zz=function(s,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?i===s:s.has(i)},Qz=function(s,i,o){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var a,c;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=i[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=i[Symbol.dispose],o&&(c=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");c&&(a=function(){try{c.call(this)}catch(f){return Promise.reject(f)}}),s.stack.push({value:i,dispose:a,async:o})}else o&&s.stack.push({async:!0});return i};var n=typeof SuppressedError=="function"?SuppressedError:function(s,i,o){var a=new Error(o);return a.name="SuppressedError",a.error=s,a.suppressed=i,a};Xz=function(s){function i(f){s.error=s.hasError?new n(f,s.error,"An error was suppressed during disposal."):f,s.hasError=!0}var o,a=0;function c(){for(;o=s.stack.pop();)try{if(!o.async&&a===1)return a=0,s.stack.push(o),Promise.resolve().then(c);if(o.dispose){var f=o.dispose.call(o.value);if(o.async)return a|=2,Promise.resolve(f).then(c,function(g){return i(g),c()})}else a|=1}catch(g){i(g)}if(a===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return c()},r("__extends",Sz),r("__assign",kz),r("__rest",Oz),r("__decorate",Tz),r("__param",Nz),r("__esDecorate",Cz),r("__runInitializers",Rz),r("__propKey",Bz),r("__setFunctionName",Iz),r("__metadata",Mz),r("__awaiter",jz),r("__generator",Fz),r("__exportStar",Lz),r("__createBinding",K6),r("__values",G6),r("__read",VR),r("__spread",Uz),r("__spreadArrays",Dz),r("__spreadArray",qz),r("__await",Pb),r("__asyncGenerator",Hz),r("__asyncDelegator",Gz),r("__asyncValues",Kz),r("__makeTemplateObject",Vz),r("__importStar",zz),r("__importDefault",Jz),r("__classPrivateFieldGet",Wz),r("__classPrivateFieldSet",$z),r("__classPrivateFieldIn",Zz),r("__addDisposableResource",Qz),r("__disposeResources",Xz)})});var J6=M(z6=>{y();b();Object.defineProperty(z6,"__esModule",{value:!0});z6.version=void 0;z6.version="6.13.5"});var od=M(Ab=>{y();b();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.defineProperties=Ab.resolveProperties=void 0;function Dhe(r,e,t){let n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function qhe(r){let e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}Ab.resolveProperties=qhe;function Hhe(r,e,t){for(let n in e){let s=e[n],i=t?t[n]:null;i&&Dhe(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}Ab.defineProperties=Hhe});var Za=M(Fn=>{y();b();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.assertPrivate=Fn.assertNormalize=Fn.assertArgumentCount=Fn.assertArgument=Fn.assert=Fn.makeError=Fn.isCallException=Fn.isError=void 0;var Ghe=J6(),eJ=od();function Eb(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(Eb).join(", ")+" ]";if(r instanceof Uint8Array){let e="0123456789abcdef",t="0x";for(let n=0;n<r.length;n++)t+=e[r[n]>>4],t+=e[r[n]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return Eb(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${Eb(t)}: ${Eb(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function tJ(r,e){return r&&r.code===e}Fn.isError=tJ;function Khe(r){return tJ(r,"CALL_EXCEPTION")}Fn.isCallException=Khe;function rJ(r,e,t){let n=r;{let i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Eb(t)}`);for(let o in t){if(o==="shortMessage")continue;let a=t[o];i.push(o+"="+Eb(a))}}i.push(`code=${e}`),i.push(`version=${Ghe.version}`),i.length&&(r+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return(0,eJ.defineProperties)(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&(0,eJ.defineProperties)(s,{shortMessage:n}),s}Fn.makeError=rJ;function Sb(r,e,t,n){if(!r)throw rJ(e,t,n)}Fn.assert=Sb;function Vhe(r,e,t,n){Sb(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}Fn.assertArgument=Vhe;function zhe(r,e,t){t==null&&(t=""),t&&(t=": "+t),Sb(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),Sb(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}Fn.assertArgumentCount=zhe;var Jhe=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){let t=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(t!==n)throw new Error("broken")}r.push(e)}catch{}return r},[]);function Whe(r){Sb(Jhe.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}Fn.assertNormalize=Whe;function $he(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),Sb(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}Fn.assertPrivate=$he});var Mo=M(Cr=>{y();b();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.zeroPadBytes=Cr.zeroPadValue=Cr.stripZerosLeft=Cr.dataSlice=Cr.dataLength=Cr.concat=Cr.hexlify=Cr.isBytesLike=Cr.isHexString=Cr.getBytesCopy=Cr.getBytes=void 0;var zR=Za();function sJ(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let n=new Uint8Array((r.length-2)/2),s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}(0,zR.assertArgument)(!1,"invalid BytesLike value",e||"value",r)}function Lv(r,e){return sJ(r,e,!1)}Cr.getBytes=Lv;function Zhe(r,e){return sJ(r,e,!0)}Cr.getBytesCopy=Zhe;function JR(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}Cr.isHexString=JR;function Qhe(r){return JR(r,!0)||r instanceof Uint8Array}Cr.isBytesLike=Qhe;var nJ="0123456789abcdef";function Uv(r){let e=Lv(r),t="0x";for(let n=0;n<e.length;n++){let s=e[n];t+=nJ[(s&240)>>4]+nJ[s&15]}return t}Cr.hexlify=Uv;function Xhe(r){return"0x"+r.map(e=>Uv(e).substring(2)).join("")}Cr.concat=Xhe;function Yhe(r){return JR(r,!0)?(r.length-2)/2:Lv(r).length}Cr.dataLength=Yhe;function ege(r,e,t){let n=Lv(r);return t!=null&&t>n.length&&(0,zR.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),Uv(n.slice(e??0,t??n.length))}Cr.dataSlice=ege;function tge(r){let e=Uv(r).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}Cr.stripZerosLeft=tge;function iJ(r,e,t){let n=Lv(r);(0,zR.assert)(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),Uv(s)}function rge(r,e){return iJ(r,e,!0)}Cr.zeroPadValue=rge;function nge(r,e){return iJ(r,e,!1)}Cr.zeroPadBytes=nge});var Ob=M(Rr=>{y();b();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.toQuantity=Rr.toBeArray=Rr.toBeHex=Rr.toNumber=Rr.getNumber=Rr.toBigInt=Rr.getUint=Rr.getBigInt=Rr.mask=Rr.toTwos=Rr.fromTwos=void 0;var oJ=Mo(),gi=Za(),W6=BigInt(0),Qa=BigInt(1),kb=9007199254740991;function sge(r,e){let t=Dv(r,"value"),n=BigInt(Kh(e,"width"));if((0,gi.assert)(t>>n===W6,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-Qa){let s=(Qa<<n)-Qa;return-((~t&s)+Qa)}return t}Rr.fromTwos=sge;function ige(r,e){let t=$6(r,"value"),n=BigInt(Kh(e,"width")),s=Qa<<n-Qa;if(t<W6){t=-t,(0,gi.assert)(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});let i=(Qa<<n)-Qa;return(~t&i)+Qa}else(0,gi.assert)(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}Rr.toTwos=ige;function oge(r,e){let t=Dv(r,"value"),n=BigInt(Kh(e,"bits"));return t&(Qa<<n)-Qa}Rr.mask=oge;function $6(r,e){switch(typeof r){case"bigint":return r;case"number":return(0,gi.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,gi.assertArgument)(r>=-kb&&r<=kb,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){(0,gi.assertArgument)(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}(0,gi.assertArgument)(!1,"invalid BigNumberish value",e||"value",r)}Rr.getBigInt=$6;function Dv(r,e){let t=$6(r,e);return(0,gi.assert)(t>=W6,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}Rr.getUint=Dv;var aJ="0123456789abcdef";function cJ(r){if(r instanceof Uint8Array){let e="0x0";for(let t of r)e+=aJ[t>>4],e+=aJ[t&15];return BigInt(e)}return $6(r)}Rr.toBigInt=cJ;function Kh(r,e){switch(typeof r){case"bigint":return(0,gi.assertArgument)(r>=-kb&&r<=kb,"overflow",e||"value",r),Number(r);case"number":return(0,gi.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,gi.assertArgument)(r>=-kb&&r<=kb,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Kh(BigInt(r),e)}catch(t){(0,gi.assertArgument)(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}(0,gi.assertArgument)(!1,"invalid numeric value",e||"value",r)}Rr.getNumber=Kh;function age(r){return Kh(cJ(r))}Rr.toNumber=age;function cge(r,e){let n=Dv(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{let s=Kh(e,"width");for((0,gi.assert)(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}Rr.toBeHex=cge;function uJ(r){let e=Dv(r,"value");if(e===W6)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);let n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){let i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}Rr.toBeArray=uJ;function uge(r){let e=(0,oJ.hexlify)((0,oJ.isBytesLike)(r)?r:uJ(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}Rr.toQuantity=uge});var fJ=M(Tb=>{y();b();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.decodeBase58=Tb.encodeBase58=void 0;var fge=Mo(),lge=Za(),dge=Ob(),Q6="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Z6=null;function hge(r){if(Z6==null){Z6={};for(let t=0;t<Q6.length;t++)Z6[Q6[t]]=BigInt(t)}let e=Z6[r];return(0,lge.assertArgument)(e!=null,"invalid base58 value","letter",r),e}var gge=BigInt(0),WR=BigInt(58);function pge(r){let e=(0,fge.getBytes)(r),t=(0,dge.toBigInt)(e),n="";for(;t;)n=Q6[Number(t%WR)]+n,t/=WR;for(let s=0;s<e.length&&!e[s];s++)n=Q6[0]+n;return n}Tb.encodeBase58=pge;function mge(r){let e=gge;for(let t=0;t<r.length;t++)e*=WR,e+=hge(r[t]);return e}Tb.decodeBase58=mge});var $R=M(Nb=>{y();b();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.encodeBase64=Nb.decodeBase64=void 0;var lJ=Mo();function yge(r){r=atob(r);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return(0,lJ.getBytes)(e)}Nb.decodeBase64=yge;function bge(r){let e=(0,lJ.getBytes)(r),t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}Nb.encodeBase64=bge});var dJ=M(X6=>{y();b();Object.defineProperty(X6,"__esModule",{value:!0});X6.EventPayload=void 0;var xge=od(),Cb,ZR=class{constructor(e,t,n){O(this,"filter");O(this,"emitter");T(this,Cb,void 0);w(this,Cb,t),(0,xge.defineProperties)(this,{emitter:e,filter:n})}async removeListener(){h(this,Cb)!=null&&await this.emitter.off(this.filter,h(this,Cb))}};Cb=new WeakMap;X6.EventPayload=ZR});var Y6=M(Xa=>{y();b();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.toUtf8CodePoints=Xa.toUtf8String=Xa.toUtf8Bytes=Xa.Utf8ErrorFuncs=void 0;var wge=Mo(),qv=Za();function _ge(r,e,t,n,s){(0,qv.assertArgument)(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function hJ(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function vge(r,e,t,n,s){return r==="OVERLONG"?((0,qv.assertArgument)(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),hJ(r,e,t,n,s))}Xa.Utf8ErrorFuncs=Object.freeze({error:_ge,ignore:hJ,replace:vge});function gJ(r,e){e==null&&(e=Xa.Utf8ErrorFuncs.error);let t=(0,wge.getBytes)(r,"bytes"),n=[],s=0;for(;s<t.length;){let i=t[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=i&(1<<8-o-1)-1;for(let f=0;f<o;f++){let g=t[s];if((g&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|g&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,n,c);continue}n.push(c)}}return n}function pJ(r,e){(0,qv.assertArgument)(typeof r=="string","invalid string value","str",r),e!=null&&((0,qv.assertNormalize)(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;let i=r.charCodeAt(n);(0,qv.assertArgument)(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);let o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}Xa.toUtf8Bytes=pJ;function Pge(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Age(r,e){return Pge(gJ(r,e))}Xa.toUtf8String=Age;function Ege(r,e){return gJ(pJ(r,e))}Xa.toUtf8CodePoints=Ege});var yJ=M(Rb=>{y();b();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.getUrl=Rb.createGetUrl=void 0;var Hv=Za();function mJ(r){async function e(t,n){(0,Hv.assert)(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let s=t.url.split(":")[0].toLowerCase();(0,Hv.assert)(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),(0,Hv.assert)(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,o=new AbortController,a=setTimeout(()=>{i=(0,Hv.makeError)("request timeout","TIMEOUT"),o.abort()},t.timeout);n&&n.addListener(()=>{i=(0,Hv.makeError)("request cancelled","CANCELLED"),o.abort()});let c={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal},f;try{f=await fetch(t.url,c)}catch(P){throw clearTimeout(a),i||P}clearTimeout(a);let g={};f.headers.forEach((P,C)=>{g[C.toLowerCase()]=P});let p=await f.arrayBuffer(),A=p==null?null:new Uint8Array(p);return{statusCode:f.status,statusMessage:f.statusText,headers:g,body:A}}return e}Rb.createGetUrl=mJ;var Sge=mJ({});async function kge(r,e){return Sge(r,e)}Rb.getUrl=kge});var SJ=M(ud=>{y();b();Object.defineProperty(ud,"__esModule",{value:!0});ud.FetchResponse=ud.FetchRequest=ud.FetchCancelSignal=void 0;var wJ=$R(),_J=Mo(),jo=Za(),Oge=od(),Bb=Y6(),vJ=yJ(),Tge=12,Nge=250,bJ=(0,vJ.createGetUrl)(),Cge=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Rge=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),QR=!1;async function PJ(r,e){try{let t=r.match(Cge);if(!t)throw new Error("invalid data");return new Pf(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(0,wJ.decodeBase64)(t[3]):Bge(t[3]))}catch{return new Pf(599,"BAD REQUEST (invalid data: URI)",{},null,new Ub(r))}}function AJ(r){async function e(t,n){try{let s=t.match(Rge);if(!s)throw new Error("invalid link");return new Ub(`${r}${s[2]}`)}catch{return new Pf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ub(t))}}return e}var ek={data:PJ,ipfs:AJ("https://gateway.ipfs.io/ipfs/")},EJ=new WeakMap,Vh,ad,rk=class{constructor(e){T(this,Vh,void 0);T(this,ad,void 0);w(this,Vh,[]),w(this,ad,!1),EJ.set(e,()=>{if(!h(this,ad)){w(this,ad,!0);for(let t of h(this,Vh))setTimeout(()=>{t()},0);w(this,Vh,[])}})}addListener(e){(0,jo.assert)(!h(this,ad),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),h(this,Vh).push(e)}get cancelled(){return h(this,ad)}checkSignal(){(0,jo.assert)(!this.cancelled,"cancelled","CANCELLED",{})}};Vh=new WeakMap,ad=new WeakMap;ud.FetchCancelSignal=rk;function tk(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var Ib,Mb,Ya,_f,jb,Fb,Ln,Li,vf,zh,Jh,Wh,cu,ec,cd,$h,Gv,nk=class{constructor(e){T(this,$h);T(this,Ib,void 0);T(this,Mb,void 0);T(this,Ya,void 0);T(this,_f,void 0);T(this,jb,void 0);T(this,Fb,void 0);T(this,Ln,void 0);T(this,Li,void 0);T(this,vf,void 0);T(this,zh,void 0);T(this,Jh,void 0);T(this,Wh,void 0);T(this,cu,void 0);T(this,ec,void 0);T(this,cd,void 0);w(this,Fb,String(e)),w(this,Ib,!1),w(this,Mb,!0),w(this,Ya,{}),w(this,_f,""),w(this,jb,3e5),w(this,ec,{slotInterval:Nge,maxAttempts:Tge}),w(this,cd,null)}get url(){return h(this,Fb)}set url(e){w(this,Fb,String(e))}get body(){return h(this,Ln)==null?null:new Uint8Array(h(this,Ln))}set body(e){if(e==null)w(this,Ln,void 0),w(this,Li,void 0);else if(typeof e=="string")w(this,Ln,(0,Bb.toUtf8Bytes)(e)),w(this,Li,"text/plain");else if(e instanceof Uint8Array)w(this,Ln,e),w(this,Li,"application/octet-stream");else if(typeof e=="object")w(this,Ln,(0,Bb.toUtf8Bytes)(JSON.stringify(e))),w(this,Li,"application/json");else throw new Error("invalid body")}hasBody(){return h(this,Ln)!=null}get method(){return h(this,_f)?h(this,_f):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),w(this,_f,String(e).toUpperCase())}get headers(){let e=Object.assign({},h(this,Ya));return h(this,vf)&&(e.authorization=`Basic ${(0,wJ.encodeBase64)((0,Bb.toUtf8Bytes)(h(this,vf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&h(this,Li)&&(e["content-type"]=h(this,Li)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){h(this,Ya)[String(e).toLowerCase()]=String(t)}clearHeaders(){w(this,Ya,{})}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return h(this,vf)||null}setCredentials(e,t){(0,jo.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,vf,`${e}:${t}`)}get allowGzip(){return h(this,Mb)}set allowGzip(e){w(this,Mb,!!e)}get allowInsecureAuthentication(){return!!h(this,Ib)}set allowInsecureAuthentication(e){w(this,Ib,!!e)}get timeout(){return h(this,jb)}set timeout(e){(0,jo.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),w(this,jb,e)}get preflightFunc(){return h(this,zh)||null}set preflightFunc(e){w(this,zh,e)}get processFunc(){return h(this,Jh)||null}set processFunc(e){w(this,Jh,e)}get retryFunc(){return h(this,Wh)||null}set retryFunc(e){w(this,Wh,e)}get getUrlFunc(){return h(this,cd)||bJ}set getUrlFunc(e){w(this,cd,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${h(this,Ln)?(0,_J.hexlify)(h(this,Ln)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(h(this,ec).slotInterval=e.slotInterval),e.maxAttempts!=null&&(h(this,ec).maxAttempts=e.maxAttempts)}send(){return(0,jo.assert)(h(this,cu)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,cu,new rk(this)),D(this,$h,Gv).call(this,0,xJ()+this.timeout,0,this,new Pf(0,"",{},null,this))}cancel(){(0,jo.assert)(h(this,cu)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=EJ.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();(0,jo.assert)(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new nk(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,w(s,Ya,Object.assign({},h(this,Ya))),h(this,Ln)&&w(s,Ln,new Uint8Array(h(this,Ln))),w(s,Li,h(this,Li)),s}clone(){let e=new nk(this.url);return w(e,_f,h(this,_f)),h(this,Ln)&&w(e,Ln,h(this,Ln)),w(e,Li,h(this,Li)),w(e,Ya,Object.assign({},h(this,Ya))),w(e,vf,h(this,vf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),w(e,zh,h(this,zh)),w(e,Jh,h(this,Jh)),w(e,Wh,h(this,Wh)),w(e,ec,Object.assign({},h(this,ec))),w(e,cd,h(this,cd)),e}static lockConfig(){QR=!0}static getGateway(e){return ek[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(QR)throw new Error("gateways locked");ek[e]=t}static registerGetUrl(e){if(QR)throw new Error("gateways locked");bJ=e}static createGetUrlFunc(e){return(0,vJ.createGetUrl)(e)}static createDataGateway(){return PJ}static createIpfsGatewayFunc(e){return AJ(e)}},Ub=nk;Ib=new WeakMap,Mb=new WeakMap,Ya=new WeakMap,_f=new WeakMap,jb=new WeakMap,Fb=new WeakMap,Ln=new WeakMap,Li=new WeakMap,vf=new WeakMap,zh=new WeakMap,Jh=new WeakMap,Wh=new WeakMap,cu=new WeakMap,ec=new WeakMap,cd=new WeakMap,$h=new WeakSet,Gv=async function(e,t,n,s,i){var g,p,A;if(e>=h(this,ec).maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,jo.assert)(xJ()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await Ige(n);let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in ek){let P=await ek[a](o.url,tk(h(s,cu)));if(P instanceof Pf){let C=P;if(this.processFunc){tk(h(s,cu));try{C=await this.processFunc(o,C)}catch(N){(N.throttle==null||typeof N.stall!="number")&&C.makeServerError("error in post-processing function",N).assertOk()}}return C}o=P}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,tk(h(s,cu))),f=new Pf(c.statusCode,c.statusMessage,c.headers,c.body,s);if(f.statusCode===301||f.statusCode===302){try{let P=f.headers.location||"";return D(g=o.redirect(P),$h,Gv).call(g,e+1,t,0,s,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){let P=f.headers["retry-after"],C=h(this,ec).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof P=="string"&&P.match(/^[1-9][0-9]*$/)&&(C=parseInt(P)),D(p=o.clone(),$h,Gv).call(p,e+1,t,C,s,f)}if(this.processFunc){tk(h(s,cu));try{f=await this.processFunc(o,f)}catch(P){(P.throttle==null||typeof P.stall!="number")&&f.makeServerError("error in post-processing function",P).assertOk();let C=h(this,ec).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return P.stall>=0&&(C=P.stall),D(A=o.clone(),$h,Gv).call(A,e+1,t,C,s,f)}}return f};ud.FetchRequest=Ub;var Kv,Vv,zv,Ui,Lb,Zh,XR=class{constructor(e,t,n,s,i){T(this,Kv,void 0);T(this,Vv,void 0);T(this,zv,void 0);T(this,Ui,void 0);T(this,Lb,void 0);T(this,Zh,void 0);w(this,Kv,e),w(this,Vv,t),w(this,zv,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),w(this,Ui,s==null?null:new Uint8Array(s)),w(this,Lb,i||null),w(this,Zh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${h(this,Ui)?(0,_J.hexlify)(h(this,Ui)):"null"}>`}get statusCode(){return h(this,Kv)}get statusMessage(){return h(this,Vv)}get headers(){return Object.assign({},h(this,zv))}get body(){return h(this,Ui)==null?null:new Uint8Array(h(this,Ui))}get bodyText(){try{return h(this,Ui)==null?"":(0,Bb.toUtf8String)(h(this,Ui))}catch{(0,jo.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,jo.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new XR(599,n,this.headers,this.body,h(this,Lb)||void 0);return w(s,Zh,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:(0,jo.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let n=new Error(e||"throttling requests");throw(0,Oge.defineProperties)(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return h(this,Ui)!=null}get request(){return h(this,Lb)}ok(){return h(this,Zh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=h(this,Zh);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{h(this,Ui)&&(s=(0,Bb.toUtf8String)(h(this,Ui)))}catch{}(0,jo.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}},Pf=XR;Kv=new WeakMap,Vv=new WeakMap,zv=new WeakMap,Ui=new WeakMap,Lb=new WeakMap,Zh=new WeakMap;ud.FetchResponse=Pf;function xJ(){return new Date().getTime()}function Bge(r){return(0,Bb.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Ige(r){return new Promise(e=>setTimeout(e,r))}});var iB=M(sk=>{y();b();Object.defineProperty(sk,"__esModule",{value:!0});sk.FixedNumber=void 0;var Mge=Mo(),qs=Za(),ld=Ob(),jge=od(),Fge=BigInt(-1),tc=BigInt(0),qb=BigInt(1),Lge=BigInt(5),Db={},Hb="0000";for(;Hb.length<80;)Hb+=Hb;function Qh(r){let e=Hb;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function Jv(r,e,t){let n=BigInt(e.width);if(e.signed){let s=qb<<n-qb;(0,qs.assert)(t==null||r>=-s&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>tc?r=(0,ld.fromTwos)((0,ld.mask)(r,n),n):r=-(0,ld.fromTwos)((0,ld.mask)(-r,n),n)}else{let s=qb<<n;(0,qs.assert)(t==null||r>=0&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%s+s)%s&s-qb}return r}function YR(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{let i=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,qs.assertArgument)(i,"invalid fixed format","format",r),e=i[1]!=="u",t=parseInt(i[2]),n=parseInt(i[3])}}else if(r){let i=r,o=(a,c,f)=>i[a]==null?f:((0,qs.assertArgument)(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),n=o("decimals","number",n)}(0,qs.assertArgument)(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),(0,qs.assertArgument)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let s=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:s}}function Uge(r,e){let t="";r<tc&&(t="-",r*=Fge);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=Hb+n;let s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var rc,ar,Ds,Ef,Xh,nc,Af,Wv,tB,$v,rB,Zv,nB,Qv,sB,fd=class{constructor(e,t,n){T(this,Ef);T(this,nc);T(this,Wv);T(this,$v);T(this,Zv);T(this,Qv);O(this,"format");T(this,rc,void 0);T(this,ar,void 0);T(this,Ds,void 0);O(this,"_value");(0,qs.assertPrivate)(e,Db,"FixedNumber"),w(this,ar,t),w(this,rc,n);let s=Uge(t,n.decimals);(0,jge.defineProperties)(this,{format:n.name,_value:s}),w(this,Ds,Qh(n.decimals))}get signed(){return h(this,rc).signed}get width(){return h(this,rc).width}get decimals(){return h(this,rc).decimals}get value(){return h(this,ar)}addUnsafe(e){return D(this,Wv,tB).call(this,e)}add(e){return D(this,Wv,tB).call(this,e,"add")}subUnsafe(e){return D(this,$v,rB).call(this,e)}sub(e){return D(this,$v,rB).call(this,e,"sub")}mulUnsafe(e){return D(this,Zv,nB).call(this,e)}mul(e){return D(this,Zv,nB).call(this,e,"mul")}mulSignal(e){D(this,Ef,Xh).call(this,e);let t=h(this,ar)*h(e,ar);return(0,qs.assert)(t%h(this,Ds)===tc,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),D(this,nc,Af).call(this,t/h(this,Ds),"mulSignal")}divUnsafe(e){return D(this,Qv,sB).call(this,e)}div(e){return D(this,Qv,sB).call(this,e,"div")}divSignal(e){(0,qs.assert)(h(e,ar)!==tc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),D(this,Ef,Xh).call(this,e);let t=h(this,ar)*h(this,Ds);return(0,qs.assert)(t%h(e,ar)===tc,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),D(this,nc,Af).call(this,t/h(e,ar),"divSignal")}cmp(e){let t=this.value,n=e.value,s=this.decimals-e.decimals;return s>0?n*=Qh(s):s<0&&(t*=Qh(-s)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=h(this,ar);return h(this,ar)<tc&&(e-=h(this,Ds)-qb),e=h(this,ar)/h(this,Ds)*h(this,Ds),D(this,nc,Af).call(this,e,"floor")}ceiling(){let e=h(this,ar);return h(this,ar)>tc&&(e+=h(this,Ds)-qb),e=h(this,ar)/h(this,Ds)*h(this,Ds),D(this,nc,Af).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,n=Lge*Qh(t-1),s=this.value+n,i=Qh(t);return s=s/i*i,Jv(s,h(this,rc),"round"),new fd(Db,s,h(this,rc))}isZero(){return h(this,ar)===tc}isNegative(){return h(this,ar)<tc}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return fd.fromString(this.toString(),e)}static fromValue(e,t,n){let s=t==null?0:(0,ld.getNumber)(t),i=YR(n),o=(0,ld.getBigInt)(e,"value"),a=s-i.decimals;if(a>0){let c=Qh(a);(0,qs.assert)(o%c===tc,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Qh(-a));return Jv(o,i,"fromValue"),new fd(Db,o,i)}static fromString(e,t){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,qs.assertArgument)(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let s=YR(t),i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=Hb;(0,qs.assert)(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);let a=BigInt(n[1]+i+o);return Jv(a,s,"fromString"),new fd(Db,a,s)}static fromBytes(e,t){let n=(0,ld.toBigInt)((0,Mge.getBytes)(e,"value")),s=YR(t);return s.signed&&(n=(0,ld.fromTwos)(n,s.width)),Jv(n,s,"fromBytes"),new fd(Db,n,s)}},eB=fd;rc=new WeakMap,ar=new WeakMap,Ds=new WeakMap,Ef=new WeakSet,Xh=function(e){(0,qs.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},nc=new WeakSet,Af=function(e,t){return e=Jv(e,h(this,rc),t),new fd(Db,e,h(this,rc))},Wv=new WeakSet,tB=function(e,t){return D(this,Ef,Xh).call(this,e),D(this,nc,Af).call(this,h(this,ar)+h(e,ar),t)},$v=new WeakSet,rB=function(e,t){return D(this,Ef,Xh).call(this,e),D(this,nc,Af).call(this,h(this,ar)-h(e,ar),t)},Zv=new WeakSet,nB=function(e,t){return D(this,Ef,Xh).call(this,e),D(this,nc,Af).call(this,h(this,ar)*h(e,ar)/h(this,Ds),t)},Qv=new WeakSet,sB=function(e,t){return(0,qs.assert)(h(e,ar)!==tc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),D(this,Ef,Xh).call(this,e),D(this,nc,Af).call(this,h(this,ar)*h(this,Ds)/h(e,ar),t)};sk.FixedNumber=eB});var CJ=M(ok=>{y();b();Object.defineProperty(ok,"__esModule",{value:!0});ok.decodeRlp=void 0;var kJ=Mo(),ik=Za(),Dge=Mo();function qge(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function OJ(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function TJ(r,e,t,n){let s=[];for(;t<e+1+n;){let i=NJ(r,t);s.push(i.result),t+=i.consumed,(0,ik.assert)(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function NJ(r,e){(0,ik.assert)(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});let t=n=>{(0,ik.assert)(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){let n=r[e]-247;t(e+1+n);let s=OJ(r,e+1,n);return t(e+1+n+s),TJ(r,e,e+1+n,n+s)}else if(r[e]>=192){let n=r[e]-192;return t(e+1+n),TJ(r,e,e+1,n)}else if(r[e]>=184){let n=r[e]-183;t(e+1+n);let s=OJ(r,e+1,n);t(e+1+n+s);let i=(0,kJ.hexlify)(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){let n=r[e]-128;t(e+1+n);let s=(0,kJ.hexlify)(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:qge(r[e])}}function Hge(r){let e=(0,Dge.getBytes)(r,"data"),t=NJ(e,0);return(0,ik.assertArgument)(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}ok.decodeRlp=Hge});var MJ=M(ak=>{y();b();Object.defineProperty(ak,"__esModule",{value:!0});ak.encodeRlp=void 0;var Gge=Mo();function RJ(r){let e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function IJ(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(IJ(i))}),n.length<=55)return n.unshift(192+n.length),n;let s=RJ(n.length);return s.unshift(247+s.length),s.concat(n)}let e=Array.prototype.slice.call((0,Gge.getBytes)(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=RJ(e.length);return t.unshift(183+t.length),t.concat(e)}var BJ="0123456789abcdef";function Kge(r){let e="0x";for(let t of IJ(r))e+=BJ[t>>4],e+=BJ[t&15];return e}ak.encodeRlp=Kge});var qJ=M(uu=>{y();b();Object.defineProperty(uu,"__esModule",{value:!0});uu.parseEther=uu.formatEther=uu.parseUnits=uu.formatUnits=void 0;var oB=Za(),jJ=iB(),FJ=Ob(),LJ=["wei","kwei","mwei","gwei","szabo","finney","ether"];function UJ(r,e){let t=18;if(typeof e=="string"){let n=LJ.indexOf(e);(0,oB.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,FJ.getNumber)(e,"unit"));return jJ.FixedNumber.fromValue(r,t,{decimals:t,width:512}).toString()}uu.formatUnits=UJ;function DJ(r,e){(0,oB.assertArgument)(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){let n=LJ.indexOf(e);(0,oB.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,FJ.getNumber)(e,"unit"));return jJ.FixedNumber.fromString(r,{decimals:t,width:512}).value}uu.parseUnits=DJ;function Vge(r){return UJ(r,18)}uu.formatEther=Vge;function zge(r){return DJ(r,18)}uu.parseEther=zge});var GJ=M(ck=>{y();b();Object.defineProperty(ck,"__esModule",{value:!0});ck.uuidV4=void 0;var HJ=Mo();function Jge(r){let e=(0,HJ.getBytes)(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=(0,HJ.hexlify)(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}ck.uuidV4=Jge});var pe=M(ee=>{y();b();Object.defineProperty(ee,"__esModule",{value:!0});ee.toUtf8String=ee.toUtf8CodePoints=ee.toUtf8Bytes=ee.parseUnits=ee.formatUnits=ee.parseEther=ee.formatEther=ee.encodeRlp=ee.decodeRlp=ee.defineProperties=ee.resolveProperties=ee.toQuantity=ee.toBeArray=ee.toBeHex=ee.toNumber=ee.toBigInt=ee.getUint=ee.getNumber=ee.getBigInt=ee.mask=ee.toTwos=ee.fromTwos=ee.FixedNumber=ee.FetchCancelSignal=ee.FetchResponse=ee.FetchRequest=ee.EventPayload=ee.makeError=ee.assertNormalize=ee.assertPrivate=ee.assertArgumentCount=ee.assertArgument=ee.assert=ee.isError=ee.isCallException=ee.zeroPadBytes=ee.zeroPadValue=ee.stripZerosLeft=ee.dataSlice=ee.dataLength=ee.concat=ee.hexlify=ee.isBytesLike=ee.isHexString=ee.getBytesCopy=ee.getBytes=ee.encodeBase64=ee.decodeBase64=ee.encodeBase58=ee.decodeBase58=void 0;ee.uuidV4=ee.Utf8ErrorFuncs=void 0;var KJ=fJ();Object.defineProperty(ee,"decodeBase58",{enumerable:!0,get:function(){return KJ.decodeBase58}});Object.defineProperty(ee,"encodeBase58",{enumerable:!0,get:function(){return KJ.encodeBase58}});var VJ=$R();Object.defineProperty(ee,"decodeBase64",{enumerable:!0,get:function(){return VJ.decodeBase64}});Object.defineProperty(ee,"encodeBase64",{enumerable:!0,get:function(){return VJ.encodeBase64}});var sc=Mo();Object.defineProperty(ee,"getBytes",{enumerable:!0,get:function(){return sc.getBytes}});Object.defineProperty(ee,"getBytesCopy",{enumerable:!0,get:function(){return sc.getBytesCopy}});Object.defineProperty(ee,"isHexString",{enumerable:!0,get:function(){return sc.isHexString}});Object.defineProperty(ee,"isBytesLike",{enumerable:!0,get:function(){return sc.isBytesLike}});Object.defineProperty(ee,"hexlify",{enumerable:!0,get:function(){return sc.hexlify}});Object.defineProperty(ee,"concat",{enumerable:!0,get:function(){return sc.concat}});Object.defineProperty(ee,"dataLength",{enumerable:!0,get:function(){return sc.dataLength}});Object.defineProperty(ee,"dataSlice",{enumerable:!0,get:function(){return sc.dataSlice}});Object.defineProperty(ee,"stripZerosLeft",{enumerable:!0,get:function(){return sc.stripZerosLeft}});Object.defineProperty(ee,"zeroPadValue",{enumerable:!0,get:function(){return sc.zeroPadValue}});Object.defineProperty(ee,"zeroPadBytes",{enumerable:!0,get:function(){return sc.zeroPadBytes}});var dd=Za();Object.defineProperty(ee,"isCallException",{enumerable:!0,get:function(){return dd.isCallException}});Object.defineProperty(ee,"isError",{enumerable:!0,get:function(){return dd.isError}});Object.defineProperty(ee,"assert",{enumerable:!0,get:function(){return dd.assert}});Object.defineProperty(ee,"assertArgument",{enumerable:!0,get:function(){return dd.assertArgument}});Object.defineProperty(ee,"assertArgumentCount",{enumerable:!0,get:function(){return dd.assertArgumentCount}});Object.defineProperty(ee,"assertPrivate",{enumerable:!0,get:function(){return dd.assertPrivate}});Object.defineProperty(ee,"assertNormalize",{enumerable:!0,get:function(){return dd.assertNormalize}});Object.defineProperty(ee,"makeError",{enumerable:!0,get:function(){return dd.makeError}});var Wge=dJ();Object.defineProperty(ee,"EventPayload",{enumerable:!0,get:function(){return Wge.EventPayload}});var aB=SJ();Object.defineProperty(ee,"FetchRequest",{enumerable:!0,get:function(){return aB.FetchRequest}});Object.defineProperty(ee,"FetchResponse",{enumerable:!0,get:function(){return aB.FetchResponse}});Object.defineProperty(ee,"FetchCancelSignal",{enumerable:!0,get:function(){return aB.FetchCancelSignal}});var $ge=iB();Object.defineProperty(ee,"FixedNumber",{enumerable:!0,get:function(){return $ge.FixedNumber}});var ic=Ob();Object.defineProperty(ee,"fromTwos",{enumerable:!0,get:function(){return ic.fromTwos}});Object.defineProperty(ee,"toTwos",{enumerable:!0,get:function(){return ic.toTwos}});Object.defineProperty(ee,"mask",{enumerable:!0,get:function(){return ic.mask}});Object.defineProperty(ee,"getBigInt",{enumerable:!0,get:function(){return ic.getBigInt}});Object.defineProperty(ee,"getNumber",{enumerable:!0,get:function(){return ic.getNumber}});Object.defineProperty(ee,"getUint",{enumerable:!0,get:function(){return ic.getUint}});Object.defineProperty(ee,"toBigInt",{enumerable:!0,get:function(){return ic.toBigInt}});Object.defineProperty(ee,"toNumber",{enumerable:!0,get:function(){return ic.toNumber}});Object.defineProperty(ee,"toBeHex",{enumerable:!0,get:function(){return ic.toBeHex}});Object.defineProperty(ee,"toBeArray",{enumerable:!0,get:function(){return ic.toBeArray}});Object.defineProperty(ee,"toQuantity",{enumerable:!0,get:function(){return ic.toQuantity}});var zJ=od();Object.defineProperty(ee,"resolveProperties",{enumerable:!0,get:function(){return zJ.resolveProperties}});Object.defineProperty(ee,"defineProperties",{enumerable:!0,get:function(){return zJ.defineProperties}});var Zge=CJ();Object.defineProperty(ee,"decodeRlp",{enumerable:!0,get:function(){return Zge.decodeRlp}});var Qge=MJ();Object.defineProperty(ee,"encodeRlp",{enumerable:!0,get:function(){return Qge.encodeRlp}});var uk=qJ();Object.defineProperty(ee,"formatEther",{enumerable:!0,get:function(){return uk.formatEther}});Object.defineProperty(ee,"parseEther",{enumerable:!0,get:function(){return uk.parseEther}});Object.defineProperty(ee,"formatUnits",{enumerable:!0,get:function(){return uk.formatUnits}});Object.defineProperty(ee,"parseUnits",{enumerable:!0,get:function(){return uk.parseUnits}});var fk=Y6();Object.defineProperty(ee,"toUtf8Bytes",{enumerable:!0,get:function(){return fk.toUtf8Bytes}});Object.defineProperty(ee,"toUtf8CodePoints",{enumerable:!0,get:function(){return fk.toUtf8CodePoints}});Object.defineProperty(ee,"toUtf8String",{enumerable:!0,get:function(){return fk.toUtf8String}});Object.defineProperty(ee,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return fk.Utf8ErrorFuncs}});var Xge=GJ();Object.defineProperty(ee,"uuidV4",{enumerable:!0,get:function(){return Xge.uuidV4}})});var Fo=M(vr=>{y();b();Object.defineProperty(vr,"__esModule",{value:!0});vr.Reader=vr.Writer=vr.Coder=vr.checkResultErrors=vr.Result=vr.WordSize=void 0;var Wr=pe();vr.WordSize=32;var cB=new Uint8Array(vr.WordSize),Yge=["then"],lk={},$J=new WeakMap;function Yh(r){return $J.get(r)}function JJ(r,e){$J.set(r,e)}function Xv(r,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function uB(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof Yv?uB(Yh(n),n,t):n):r.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(t&&o instanceof Yv&&(o=uB(Yh(o),o,t)),n[s]=o),n},{})}var Kb,Gb=class extends Array{constructor(...t){let n=t[0],s=t[1],i=(t[2]||[]).slice(),o=!0;n!==lk&&(s=t,i=[],o=!1);super(s.length);T(this,Kb,void 0);s.forEach((f,g)=>{this[g]=f});let a=i.reduce((f,g)=>(typeof g=="string"&&f.set(g,(f.get(g)||0)+1),f),new Map);if(JJ(this,Object.freeze(s.map((f,g)=>{let p=i[g];return p!=null&&a.get(p)===1?p:null}))),w(this,Kb,[]),h(this,Kb)==null&&h(this,Kb),!o)return;Object.freeze(this);let c=new Proxy(this,{get:(f,g,p)=>{if(typeof g=="string"){if(g.match(/^[0-9]+$/)){let P=(0,Wr.getNumber)(g,"%index");if(P<0||P>=this.length)throw new RangeError("out of result range");let C=f[P];return C instanceof Error&&Xv(`index ${P}`,C),C}if(Yge.indexOf(g)>=0)return Reflect.get(f,g,p);let A=f[g];if(A instanceof Function)return function(...P){return A.apply(this===p?f:this,P)};if(!(g in f))return f.getValue.apply(this===p?f:this,[g])}return Reflect.get(f,g,p)}});return JJ(c,Yh(this)),c}toArray(t){let n=[];return this.forEach((s,i)=>{s instanceof Error&&Xv(`index ${i}`,s),t&&s instanceof Gb&&(s=s.toArray(t)),n.push(s)}),n}toObject(t){let n=Yh(this);return n.reduce((s,i,o)=>((0,Wr.assert)(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),uB(n,this,t)),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let s=Yh(this),i=[],o=[];for(let a=t;a<n;a++)i.push(this[a]),o.push(s[a]);return new Gb(lk,i,o)}filter(t,n){let s=Yh(this),i=[],o=[];for(let a=0;a<this.length;a++){let c=this[a];c instanceof Error&&Xv(`index ${a}`,c),t.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new Gb(lk,i,o)}map(t,n){let s=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&Xv(`index ${i}`,o),s.push(t.call(n,o,i,this))}return s}getValue(t){let n=Yh(this).indexOf(t);if(n===-1)return;let s=this[n];return s instanceof Error&&Xv(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,n){return new Gb(lk,t,n)}},Yv=Gb;Kb=new WeakMap;vr.Result=Yv;function epe(r){let e=[],t=function(n,s){if(!!Array.isArray(s))for(let i in s){let o=n.slice();o.push(i);try{t(o,s[i])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}vr.checkResultErrors=epe;function WJ(r){let e=(0,Wr.toBeArray)(r);return(0,Wr.assert)(e.length<=vr.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:vr.WordSize,offset:e.length}),e.length!==vr.WordSize&&(e=(0,Wr.getBytesCopy)((0,Wr.concat)([cB.slice(e.length%vr.WordSize),e]))),e}var fB=class{constructor(e,t,n,s){O(this,"name");O(this,"type");O(this,"localName");O(this,"dynamic");(0,Wr.defineProperties)(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,Wr.assertArgument)(!1,e,this.localName,t)}};vr.Coder=fB;var Sf,eg,Vb,dk,lB=class{constructor(){T(this,Vb);T(this,Sf,void 0);T(this,eg,void 0);w(this,Sf,[]),w(this,eg,0)}get data(){return(0,Wr.concat)(h(this,Sf))}get length(){return h(this,eg)}appendWriter(e){return D(this,Vb,dk).call(this,(0,Wr.getBytesCopy)(e.data))}writeBytes(e){let t=(0,Wr.getBytesCopy)(e),n=t.length%vr.WordSize;return n&&(t=(0,Wr.getBytesCopy)((0,Wr.concat)([t,cB.slice(n)]))),D(this,Vb,dk).call(this,t)}writeValue(e){return D(this,Vb,dk).call(this,WJ(e))}writeUpdatableValue(){let e=h(this,Sf).length;return h(this,Sf).push(cB),w(this,eg,h(this,eg)+vr.WordSize),t=>{h(this,Sf)[e]=WJ(t)}}};Sf=new WeakMap,eg=new WeakMap,Vb=new WeakSet,dk=function(e){return h(this,Sf).push(e),w(this,eg,h(this,eg)+e.length),e.length};vr.Writer=lB;var pi,Di,tg,rg,hd,e2,hB,hk,ZJ,gB=class{constructor(e,t,n){T(this,e2);T(this,hk);O(this,"allowLoose");T(this,pi,void 0);T(this,Di,void 0);T(this,tg,void 0);T(this,rg,void 0);T(this,hd,void 0);(0,Wr.defineProperties)(this,{allowLoose:!!t}),w(this,pi,(0,Wr.getBytesCopy)(e)),w(this,tg,0),w(this,rg,null),w(this,hd,n??1024),w(this,Di,0)}get data(){return(0,Wr.hexlify)(h(this,pi))}get dataLength(){return h(this,pi).length}get consumed(){return h(this,Di)}get bytes(){return new Uint8Array(h(this,pi))}subReader(e){let t=new gB(h(this,pi).slice(h(this,Di)+e),this.allowLoose,h(this,hd));return w(t,rg,this),t}readBytes(e,t){let n=D(this,hk,ZJ).call(this,0,e,!!t);return D(this,e2,hB).call(this,e),w(this,Di,h(this,Di)+n.length),n.slice(0,e)}readValue(){return(0,Wr.toBigInt)(this.readBytes(vr.WordSize))}readIndex(){return(0,Wr.toNumber)(this.readBytes(vr.WordSize))}},dB=gB;pi=new WeakMap,Di=new WeakMap,tg=new WeakMap,rg=new WeakMap,hd=new WeakMap,e2=new WeakSet,hB=function(e){var t;if(h(this,rg))return D(t=h(this,rg),e2,hB).call(t,e);w(this,tg,h(this,tg)+e),(0,Wr.assert)(h(this,hd)<1||h(this,tg)<=h(this,hd)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${h(this,hd)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,Wr.getBytesCopy)(h(this,pi)),offset:h(this,Di),length:e,info:{bytesRead:h(this,tg),dataLength:this.dataLength}})},hk=new WeakSet,ZJ=function(e,t,n){let s=Math.ceil(t/vr.WordSize)*vr.WordSize;return h(this,Di)+s>h(this,pi).length&&(this.allowLoose&&n&&h(this,Di)+t<=h(this,pi).length?s=t:(0,Wr.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,Wr.getBytesCopy)(h(this,pi)),length:h(this,pi).length,offset:h(this,Di)+s})),h(this,pi).slice(h(this,Di),h(this,Di)+s)};vr.Reader=dB});var zb=M(Hs=>{y();b();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.output=Hs.exists=Hs.hash=Hs.bytes=Hs.bool=Hs.number=void 0;function gk(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}Hs.number=gk;function QJ(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}Hs.bool=QJ;function pB(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}Hs.bytes=pB;function XJ(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gk(r.outputLen),gk(r.blockLen)}Hs.hash=XJ;function YJ(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}Hs.exists=YJ;function eW(r,e){pB(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Hs.output=eW;var tpe={number:gk,bool:QJ,bytes:pB,hash:XJ,exists:YJ,output:eW};Hs.default=tpe});var tW=M(pk=>{y();b();Object.defineProperty(pk,"__esModule",{value:!0});pk.crypto=void 0;pk.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var oc=M(Et=>{y();b();Object.defineProperty(Et,"__esModule",{value:!0});Et.randomBytes=Et.wrapXOFConstructorWithOpts=Et.wrapConstructorWithOpts=Et.wrapConstructor=Et.checkOpts=Et.Hash=Et.concatBytes=Et.toBytes=Et.utf8ToBytes=Et.asyncLoop=Et.nextTick=Et.hexToBytes=Et.bytesToHex=Et.isLE=Et.rotr=Et.createView=Et.u32=Et.u8=void 0;var mB=tW(),bB=r=>r instanceof Uint8Array,rpe=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);Et.u8=rpe;var npe=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));Et.u32=npe;var spe=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);Et.createView=spe;var ipe=(r,e)=>r<<32-e|r>>>e;Et.rotr=ipe;Et.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Et.isLE)throw new Error("Non little-endian hardware is not supported");var ope=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function ape(r){if(!bB(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=ope[r[t]];return e}Et.bytesToHex=ape;function cpe(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}Et.hexToBytes=cpe;var upe=async()=>{};Et.nextTick=upe;async function fpe(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);let i=Date.now()-n;i>=0&&i<e||(await(0,Et.nextTick)(),n+=i)}}Et.asyncLoop=fpe;function rW(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}Et.utf8ToBytes=rW;function mk(r){if(typeof r=="string"&&(r=rW(r)),!bB(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}Et.toBytes=mk;function lpe(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!bB(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}Et.concatBytes=lpe;var yB=class{clone(){return this._cloneInto()}};Et.Hash=yB;var dpe={}.toString;function hpe(r,e){if(e!==void 0&&dpe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}Et.checkOpts=hpe;function gpe(r){let e=n=>r().update(mk(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}Et.wrapConstructor=gpe;function ppe(r){let e=(n,s)=>r(s).update(mk(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}Et.wrapConstructorWithOpts=ppe;function mpe(r){let e=(n,s)=>r(s).update(mk(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}Et.wrapXOFConstructorWithOpts=mpe;function ype(r=32){if(mB.crypto&&typeof mB.crypto.getRandomValues=="function")return mB.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}Et.randomBytes=ype});var bk=M(ng=>{y();b();Object.defineProperty(ng,"__esModule",{value:!0});ng.hmac=ng.HMAC=void 0;var yk=zb(),nW=oc(),t2=class extends nW.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,yk.hash)(e);let n=(0,nW.toBytes)(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,yk.exists)(this),this.iHash.update(e),this}digestInto(e){(0,yk.exists)(this),(0,yk.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};ng.HMAC=t2;var bpe=(r,e,t)=>new t2(r,e).update(t).digest();ng.hmac=bpe;ng.hmac.create=(r,e)=>new t2(r,e)});var xB=M(Wb=>{y();b();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.pbkdf2Async=Wb.pbkdf2=void 0;var xk=zb(),xpe=bk(),Jb=oc();function sW(r,e,t,n){(0,xk.hash)(r);let s=(0,Jb.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if((0,xk.number)(i),(0,xk.number)(o),(0,xk.number)(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=(0,Jb.toBytes)(e),f=(0,Jb.toBytes)(t),g=new Uint8Array(o),p=xpe.hmac.create(r,c),A=p._cloneInto().update(f);return{c:i,dkLen:o,asyncTick:a,DK:g,PRF:p,PRFSalt:A}}function iW(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function wpe(r,e,t,n){let{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=sW(r,e,t,n),f,g=new Uint8Array(4),p=(0,Jb.createView)(g),A=new Uint8Array(a.outputLen);for(let P=1,C=0;C<i;P++,C+=a.outputLen){let N=o.subarray(C,C+a.outputLen);p.setInt32(0,P,!1),(f=c._cloneInto(f)).update(g).digestInto(A),N.set(A.subarray(0,N.length));for(let U=1;U<s;U++){a._cloneInto(f).update(A).digestInto(A);for(let L=0;L<N.length;L++)N[L]^=A[L]}}return iW(a,c,o,f,A)}Wb.pbkdf2=wpe;async function _pe(r,e,t,n){let{c:s,dkLen:i,asyncTick:o,DK:a,PRF:c,PRFSalt:f}=sW(r,e,t,n),g,p=new Uint8Array(4),A=(0,Jb.createView)(p),P=new Uint8Array(c.outputLen);for(let C=1,N=0;N<i;C++,N+=c.outputLen){let U=a.subarray(N,N+c.outputLen);A.setInt32(0,C,!1),(g=f._cloneInto(g)).update(p).digestInto(P),U.set(P.subarray(0,U.length)),await(0,Jb.asyncLoop)(s-1,o,()=>{c._cloneInto(g).update(P).digestInto(P);for(let L=0;L<U.length;L++)U[L]^=P[L]})}return iW(c,f,a,g,P)}Wb.pbkdf2Async=_pe});var _k=M(wk=>{y();b();Object.defineProperty(wk,"__esModule",{value:!0});wk.SHA2=void 0;var wB=zb(),r2=oc();function vpe(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}var _B=class extends r2.Hash{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,r2.createView)(this.buffer)}update(e){(0,wB.exists)(this);let{view:t,buffer:n,blockLen:s}=this;e=(0,r2.toBytes)(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=(0,r2.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,wB.exists)(this),(0,wB.output)(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let p=o;p<s;p++)t[p]=0;vpe(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,r2.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,g[p],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}};wk.SHA2=_B});var Pk=M($b=>{y();b();Object.defineProperty($b,"__esModule",{value:!0});$b.sha224=$b.sha256=void 0;var Ppe=_k(),Lo=oc(),Ape=(r,e,t)=>r&e^~r&t,Epe=(r,e,t)=>r&e^r&t^e&t,Spe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pd=new Uint32Array(64),vk=class extends Ppe.SHA2{constructor(){super(64,32,8,!1),this.A=gd[0]|0,this.B=gd[1]|0,this.C=gd[2]|0,this.D=gd[3]|0,this.E=gd[4]|0,this.F=gd[5]|0,this.G=gd[6]|0,this.H=gd[7]|0}get(){let{A:e,B:t,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,n,s,i,o,a,c]}set(e,t,n,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let p=0;p<16;p++,t+=4)pd[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let A=pd[p-15],P=pd[p-2],C=(0,Lo.rotr)(A,7)^(0,Lo.rotr)(A,18)^A>>>3,N=(0,Lo.rotr)(P,17)^(0,Lo.rotr)(P,19)^P>>>10;pd[p]=N+pd[p-7]+C+pd[p-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:f,H:g}=this;for(let p=0;p<64;p++){let A=(0,Lo.rotr)(a,6)^(0,Lo.rotr)(a,11)^(0,Lo.rotr)(a,25),P=g+A+Ape(a,c,f)+Spe[p]+pd[p]|0,N=((0,Lo.rotr)(n,2)^(0,Lo.rotr)(n,13)^(0,Lo.rotr)(n,22))+Epe(n,s,i)|0;g=f,f=c,c=a,a=o+P|0,o=i,i=s,s=n,n=P+N|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(n,s,i,o,a,c,f,g)}roundClean(){pd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},vB=class extends vk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};$b.sha256=(0,Lo.wrapConstructor)(()=>new vk);$b.sha224=(0,Lo.wrapConstructor)(()=>new vB)});var EB=M(Re=>{y();b();Object.defineProperty(Re,"__esModule",{value:!0});Re.add5L=Re.add5H=Re.add4H=Re.add4L=Re.add3H=Re.add3L=Re.add=Re.rotlBL=Re.rotlBH=Re.rotlSL=Re.rotlSH=Re.rotr32L=Re.rotr32H=Re.rotrBL=Re.rotrBH=Re.rotrSL=Re.rotrSH=Re.shrSL=Re.shrSH=Re.toBig=Re.split=Re.fromBig=void 0;var Ak=BigInt(2**32-1),PB=BigInt(32);function AB(r,e=!1){return e?{h:Number(r&Ak),l:Number(r>>PB&Ak)}:{h:Number(r>>PB&Ak)|0,l:Number(r&Ak)|0}}Re.fromBig=AB;function oW(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:i,l:o}=AB(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}Re.split=oW;var aW=(r,e)=>BigInt(r>>>0)<<PB|BigInt(e>>>0);Re.toBig=aW;var cW=(r,e,t)=>r>>>t;Re.shrSH=cW;var uW=(r,e,t)=>r<<32-t|e>>>t;Re.shrSL=uW;var fW=(r,e,t)=>r>>>t|e<<32-t;Re.rotrSH=fW;var lW=(r,e,t)=>r<<32-t|e>>>t;Re.rotrSL=lW;var dW=(r,e,t)=>r<<64-t|e>>>t-32;Re.rotrBH=dW;var hW=(r,e,t)=>r>>>t-32|e<<64-t;Re.rotrBL=hW;var gW=(r,e)=>e;Re.rotr32H=gW;var pW=(r,e)=>r;Re.rotr32L=pW;var mW=(r,e,t)=>r<<t|e>>>32-t;Re.rotlSH=mW;var yW=(r,e,t)=>e<<t|r>>>32-t;Re.rotlSL=yW;var bW=(r,e,t)=>e<<t-32|r>>>64-t;Re.rotlBH=bW;var xW=(r,e,t)=>r<<t-32|e>>>64-t;Re.rotlBL=xW;function wW(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}Re.add=wW;var _W=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0);Re.add3L=_W;var vW=(r,e,t,n)=>e+t+n+(r/2**32|0)|0;Re.add3H=vW;var PW=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0);Re.add4L=PW;var AW=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0;Re.add4H=AW;var EW=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0);Re.add5L=EW;var SW=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0;Re.add5H=SW;var kpe={fromBig:AB,split:oW,toBig:aW,shrSH:cW,shrSL:uW,rotrSH:fW,rotrSL:lW,rotrBH:dW,rotrBL:hW,rotr32H:gW,rotr32L:pW,rotlSH:mW,rotlSL:yW,rotlBH:bW,rotlBL:xW,add:wW,add3L:_W,add3H:vW,add4L:PW,add4H:AW,add5H:SW,add5L:EW};Re.default=kpe});var kW=M(Uo=>{y();b();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.sha384=Uo.sha512_256=Uo.sha512_224=Uo.sha512=Uo.SHA512=void 0;var Ope=_k(),St=EB(),Ek=oc(),[Tpe,Npe]=(()=>St.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),md=new Uint32Array(80),yd=new Uint32Array(80),sg=class extends Ope.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:f,El:g,Fh:p,Fl:A,Gh:P,Gl:C,Hh:N,Hl:U}=this;return[e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,U]}set(e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,U){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=g|0,this.Fh=p|0,this.Fl=A|0,this.Gh=P|0,this.Gl=C|0,this.Hh=N|0,this.Hl=U|0}process(e,t){for(let H=0;H<16;H++,t+=4)md[H]=e.getUint32(t),yd[H]=e.getUint32(t+=4);for(let H=16;H<80;H++){let V=md[H-15]|0,G=yd[H-15]|0,K=St.default.rotrSH(V,G,1)^St.default.rotrSH(V,G,8)^St.default.shrSH(V,G,7),z=St.default.rotrSL(V,G,1)^St.default.rotrSL(V,G,8)^St.default.shrSL(V,G,7),W=md[H-2]|0,ce=yd[H-2]|0,ie=St.default.rotrSH(W,ce,19)^St.default.rotrBH(W,ce,61)^St.default.shrSH(W,ce,6),Z=St.default.rotrSL(W,ce,19)^St.default.rotrBL(W,ce,61)^St.default.shrSL(W,ce,6),de=St.default.add4L(z,Z,yd[H-7],yd[H-16]),S=St.default.add4H(de,K,ie,md[H-7],md[H-16]);md[H]=S|0,yd[H]=de|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:f,Dl:g,Eh:p,El:A,Fh:P,Fl:C,Gh:N,Gl:U,Hh:L,Hl:q}=this;for(let H=0;H<80;H++){let V=St.default.rotrSH(p,A,14)^St.default.rotrSH(p,A,18)^St.default.rotrBH(p,A,41),G=St.default.rotrSL(p,A,14)^St.default.rotrSL(p,A,18)^St.default.rotrBL(p,A,41),K=p&P^~p&N,z=A&C^~A&U,W=St.default.add5L(q,G,z,Npe[H],yd[H]),ce=St.default.add5H(W,L,V,K,Tpe[H],md[H]),ie=W|0,Z=St.default.rotrSH(n,s,28)^St.default.rotrBH(n,s,34)^St.default.rotrBH(n,s,39),de=St.default.rotrSL(n,s,28)^St.default.rotrBL(n,s,34)^St.default.rotrBL(n,s,39),S=n&i^n&a^i&a,u=s&o^s&c^o&c;L=N|0,q=U|0,N=P|0,U=C|0,P=p|0,C=A|0,{h:p,l:A}=St.default.add(f|0,g|0,ce|0,ie|0),f=a|0,g=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let l=St.default.add3L(ie,de,u);n=St.default.add3H(l,ce,Z,S),s=l|0}({h:n,l:s}=St.default.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=St.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=St.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l:g}=St.default.add(this.Dh|0,this.Dl|0,f|0,g|0),{h:p,l:A}=St.default.add(this.Eh|0,this.El|0,p|0,A|0),{h:P,l:C}=St.default.add(this.Fh|0,this.Fl|0,P|0,C|0),{h:N,l:U}=St.default.add(this.Gh|0,this.Gl|0,N|0,U|0),{h:L,l:q}=St.default.add(this.Hh|0,this.Hl|0,L|0,q|0),this.set(n,s,i,o,a,c,f,g,p,A,P,C,N,U,L,q)}roundClean(){md.fill(0),yd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Uo.SHA512=sg;var SB=class extends sg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},kB=class extends sg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},OB=class extends sg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Uo.sha512=(0,Ek.wrapConstructor)(()=>new sg);Uo.sha512_224=(0,Ek.wrapConstructor)(()=>new SB);Uo.sha512_256=(0,Ek.wrapConstructor)(()=>new kB);Uo.sha384=(0,Ek.wrapConstructor)(()=>new OB)});var s2=M(fu=>{y();b();Object.defineProperty(fu,"__esModule",{value:!0});fu.randomBytes=fu.pbkdf2Sync=fu.createHmac=fu.createHash=void 0;var Cpe=bk(),Rpe=xB(),TB=Pk(),NB=kW(),n2=pe();function Bpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var OW=Bpe(),TW=OW.crypto||OW.msCrypto;function Ipe(r){switch(r){case"sha256":return TB.sha256.create();case"sha512":return NB.sha512.create()}(0,n2.assertArgument)(!1,"invalid hashing algorithm name","algorithm",r)}fu.createHash=Ipe;function Mpe(r,e){let t={sha256:TB.sha256,sha512:NB.sha512}[r];return(0,n2.assertArgument)(t!=null,"invalid hmac algorithm","algorithm",r),Cpe.hmac.create(t,e)}fu.createHmac=Mpe;function jpe(r,e,t,n,s){let i={sha256:TB.sha256,sha512:NB.sha512}[s];return(0,n2.assertArgument)(i!=null,"invalid pbkdf2 algorithm","algorithm",s),(0,Rpe.pbkdf2)(i,r,e,{c:t,dkLen:n})}fu.pbkdf2Sync=jpe;function Fpe(r){(0,n2.assert)(TW!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,n2.assertArgument)(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);let e=new Uint8Array(r);return TW.getRandomValues(e),e}fu.randomBytes=Fpe});var BW=M(Sk=>{y();b();Object.defineProperty(Sk,"__esModule",{value:!0});Sk.computeHmac=void 0;var Lpe=s2(),CB=pe(),NW=!1,CW=function(r,e,t){return(0,Lpe.createHmac)(r,e).update(t).digest()},RW=CW;function i2(r,e,t){let n=(0,CB.getBytes)(e,"key"),s=(0,CB.getBytes)(t,"data");return(0,CB.hexlify)(RW(r,n,s))}Sk.computeHmac=i2;i2._=CW;i2.lock=function(){NW=!0};i2.register=function(r){if(NW)throw new Error("computeHmac is locked");RW=r};Object.freeze(i2)});var qW=M(gr=>{y();b();Object.defineProperty(gr,"__esModule",{value:!0});gr.shake256=gr.shake128=gr.keccak_512=gr.keccak_384=gr.keccak_256=gr.keccak_224=gr.sha3_512=gr.sha3_384=gr.sha3_256=gr.sha3_224=gr.Keccak=gr.keccakP=void 0;var Zb=zb(),c2=EB(),a2=oc(),[jW,FW,LW]=[[],[],[]],Upe=BigInt(0),o2=BigInt(1),Dpe=BigInt(2),qpe=BigInt(7),Hpe=BigInt(256),Gpe=BigInt(113);for(let r=0,e=o2,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],jW.push(2*(5*n+t)),FW.push((r+1)*(r+2)/2%64);let s=Upe;for(let i=0;i<7;i++)e=(e<<o2^(e>>qpe)*Gpe)%Hpe,e&Dpe&&(s^=o2<<(o2<<BigInt(i))-o2);LW.push(s)}var[Kpe,Vpe]=(0,c2.split)(LW,!0),IW=(r,e,t)=>t>32?(0,c2.rotlBH)(r,e,t):(0,c2.rotlSH)(r,e,t),MW=(r,e,t)=>t>32?(0,c2.rotlBL)(r,e,t):(0,c2.rotlSL)(r,e,t);function UW(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,f=t[c],g=t[c+1],p=IW(f,g,1)^t[a],A=MW(f,g,1)^t[a+1];for(let P=0;P<50;P+=10)r[o+P]^=p,r[o+P+1]^=A}let s=r[2],i=r[3];for(let o=0;o<24;o++){let a=FW[o],c=IW(s,i,a),f=MW(s,i,a),g=jW[o];s=r[g],i=r[g+1],r[g]=c,r[g+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=Kpe[n],r[1]^=Vpe[n]}t.fill(0)}gr.keccakP=UW;var ig=class extends a2.Hash{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Zb.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,a2.u32)(this.state)}keccak(){UW(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,Zb.exists)(this);let{blockLen:t,state:n}=this;e=(0,a2.toBytes)(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,Zb.exists)(this,!1),(0,Zb.bytes)(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Zb.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Zb.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new ig(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};gr.Keccak=ig;var bd=(r,e,t)=>(0,a2.wrapConstructor)(()=>new ig(e,r,t));gr.sha3_224=bd(6,144,224/8);gr.sha3_256=bd(6,136,256/8);gr.sha3_384=bd(6,104,384/8);gr.sha3_512=bd(6,72,512/8);gr.keccak_224=bd(1,144,224/8);gr.keccak_256=bd(1,136,256/8);gr.keccak_384=bd(1,104,384/8);gr.keccak_512=bd(1,72,512/8);var DW=(r,e,t)=>(0,a2.wrapXOFConstructorWithOpts)((n={})=>new ig(e,r,n.dkLen===void 0?t:n.dkLen,!0));gr.shake128=DW(31,168,128/8);gr.shake256=DW(31,136,256/8)});var zW=M(kk=>{y();b();Object.defineProperty(kk,"__esModule",{value:!0});kk.keccak256=void 0;var zpe=qW(),HW=pe(),GW=!1,KW=function(r){return(0,zpe.keccak_256)(r)},VW=KW;function u2(r){let e=(0,HW.getBytes)(r,"data");return(0,HW.hexlify)(VW(e))}kk.keccak256=u2;u2._=KW;u2.lock=function(){GW=!0};u2.register=function(r){if(GW)throw new TypeError("keccak256 is locked");VW=r};Object.freeze(u2)});var ZW=M(Qb=>{y();b();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.ripemd160=Qb.RIPEMD160=void 0;var Jpe=_k(),Wpe=oc(),$pe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),WW=Uint8Array.from({length:16},(r,e)=>e),Zpe=WW.map(r=>(9*r+5)%16),RB=[WW],BB=[Zpe];for(let r=0;r<4;r++)for(let e of[RB,BB])e.push(e[r].map(t=>$pe[t]));var $W=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),Qpe=RB.map((r,e)=>r.map(t=>$W[e][t])),Xpe=BB.map((r,e)=>r.map(t=>$W[e][t])),Ype=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),eme=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Ok=(r,e)=>r<<e|r>>>32-e;function JW(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}var Tk=new Uint32Array(16),Nk=class extends Jpe.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let P=0;P<16;P++,t+=4)Tk[P]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,f=this.h3|0,g=f,p=this.h4|0,A=p;for(let P=0;P<5;P++){let C=4-P,N=Ype[P],U=eme[P],L=RB[P],q=BB[P],H=Qpe[P],V=Xpe[P];for(let G=0;G<16;G++){let K=Ok(n+JW(P,i,a,f)+Tk[L[G]]+N,H[G])+p|0;n=p,p=f,f=Ok(a,10)|0,a=i,i=K}for(let G=0;G<16;G++){let K=Ok(s+JW(C,o,c,g)+Tk[q[G]]+U,V[G])+A|0;s=A,A=g,g=Ok(c,10)|0,c=o,o=K}}this.set(this.h1+a+g|0,this.h2+f+A|0,this.h3+p+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){Tk.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Qb.RIPEMD160=Nk;Qb.ripemd160=(0,Wpe.wrapConstructor)(()=>new Nk)});var t$=M(Ck=>{y();b();Object.defineProperty(Ck,"__esModule",{value:!0});Ck.ripemd160=void 0;var tme=ZW(),QW=pe(),XW=!1,YW=function(r){return(0,tme.ripemd160)(r)},e$=YW;function f2(r){let e=(0,QW.getBytes)(r,"data");return(0,QW.hexlify)(e$(e))}Ck.ripemd160=f2;f2._=YW;f2.lock=function(){XW=!0};f2.register=function(r){if(XW)throw new TypeError("ripemd160 is locked");e$=r};Object.freeze(f2)});var i$=M(Rk=>{y();b();Object.defineProperty(Rk,"__esModule",{value:!0});Rk.pbkdf2=void 0;var rme=s2(),IB=pe(),r$=!1,n$=function(r,e,t,n,s){return(0,rme.pbkdf2Sync)(r,e,t,n,s)},s$=n$;function l2(r,e,t,n,s){let i=(0,IB.getBytes)(r,"password"),o=(0,IB.getBytes)(e,"salt");return(0,IB.hexlify)(s$(i,o,t,n,s))}Rk.pbkdf2=l2;l2._=n$;l2.lock=function(){r$=!0};l2.register=function(r){if(r$)throw new Error("pbkdf2 is locked");s$=r};Object.freeze(l2)});var u$=M(Bk=>{y();b();Object.defineProperty(Bk,"__esModule",{value:!0});Bk.randomBytes=void 0;var nme=s2(),o$=!1,a$=function(r){return new Uint8Array((0,nme.randomBytes)(r))},c$=a$;function d2(r){return c$(r)}Bk.randomBytes=d2;d2._=a$;d2.lock=function(){o$=!0};d2.register=function(r){if(o$)throw new Error("randomBytes is locked");c$=r};Object.freeze(d2)});var p$=M(tx=>{y();b();Object.defineProperty(tx,"__esModule",{value:!0});tx.scryptAsync=tx.scrypt=void 0;var Xb=zb(),l$=Pk(),d$=xB(),Yb=oc(),Xt=(r,e)=>r<<e|r>>>32-e;function f$(r,e,t,n,s,i){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],f=r[e++]^t[n++],g=r[e++]^t[n++],p=r[e++]^t[n++],A=r[e++]^t[n++],P=r[e++]^t[n++],C=r[e++]^t[n++],N=r[e++]^t[n++],U=r[e++]^t[n++],L=r[e++]^t[n++],q=r[e++]^t[n++],H=r[e++]^t[n++],V=r[e++]^t[n++],G=r[e++]^t[n++],K=o,z=a,W=c,ce=f,ie=g,Z=p,de=A,S=P,u=C,l=N,m=U,x=L,_=q,k=H,R=V,v=G;for(let d=0;d<8;d+=2)ie^=Xt(K+_|0,7),u^=Xt(ie+K|0,9),_^=Xt(u+ie|0,13),K^=Xt(_+u|0,18),l^=Xt(Z+z|0,7),k^=Xt(l+Z|0,9),z^=Xt(k+l|0,13),Z^=Xt(z+k|0,18),R^=Xt(m+de|0,7),W^=Xt(R+m|0,9),de^=Xt(W+R|0,13),m^=Xt(de+W|0,18),ce^=Xt(v+x|0,7),S^=Xt(ce+v|0,9),x^=Xt(S+ce|0,13),v^=Xt(x+S|0,18),z^=Xt(K+ce|0,7),W^=Xt(z+K|0,9),ce^=Xt(W+z|0,13),K^=Xt(ce+W|0,18),de^=Xt(Z+ie|0,7),S^=Xt(de+Z|0,9),ie^=Xt(S+de|0,13),Z^=Xt(ie+S|0,18),x^=Xt(m+l|0,7),u^=Xt(x+m|0,9),l^=Xt(u+x|0,13),m^=Xt(l+u|0,18),_^=Xt(v+R|0,7),k^=Xt(_+v|0,9),R^=Xt(k+_|0,13),v^=Xt(R+k|0,18);s[i++]=o+K|0,s[i++]=a+z|0,s[i++]=c+W|0,s[i++]=f+ce|0,s[i++]=g+ie|0,s[i++]=p+Z|0,s[i++]=A+de|0,s[i++]=P+S|0,s[i++]=C+u|0,s[i++]=N+l|0,s[i++]=U+m|0,s[i++]=L+x|0,s[i++]=q+_|0,s[i++]=H+k|0,s[i++]=V+R|0,s[i++]=G+v|0}function ex(r,e,t,n,s){let i=n+0,o=n+16*s;for(let a=0;a<16;a++)t[o+a]=r[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)f$(t,o,r,e,t,i),a>0&&(o+=16),f$(t,i,r,e+=16,t,o)}function h$(r,e,t){let n=(0,Yb.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:f,onProgress:g}=n;if((0,Xb.number)(s),(0,Xb.number)(i),(0,Xb.number)(o),(0,Xb.number)(a),(0,Xb.number)(c),(0,Xb.number)(f),g!==void 0&&typeof g!="function")throw new Error("progressCb should be function");let p=128*i,A=p/4;if(s<=1||(s&s-1)!==0||s>=2**(p/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let P=p*(s+o);if(P>f)throw new Error(`Scrypt: parameters too large, ${P} (128 * r * (N + p)) > ${f} (maxmem)`);let C=(0,d$.pbkdf2)(l$.sha256,r,e,{c:1,dkLen:p*o}),N=(0,Yb.u32)(C),U=(0,Yb.u32)(new Uint8Array(p*s)),L=(0,Yb.u32)(new Uint8Array(p)),q=()=>{};if(g){let H=2*s*o,V=Math.max(Math.floor(H/1e4),1),G=0;q=()=>{G++,g&&(!(G%V)||G===H)&&g(G/H)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:A,V:U,B32:N,B:C,tmp:L,blockMixCb:q,asyncTick:c}}function g$(r,e,t,n,s){let i=(0,d$.pbkdf2)(l$.sha256,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function sme(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A}=h$(r,e,t);for(let P=0;P<i;P++){let C=a*P;for(let N=0;N<a;N++)c[N]=f[C+N];for(let N=0,U=0;N<n-1;N++)ex(c,U,c,U+=a,s),A();ex(c,(n-1)*a,f,C,s),A();for(let N=0;N<n;N++){let U=f[C+a-16]%n;for(let L=0;L<a;L++)p[L]=f[C+L]^c[U*a+L];ex(p,0,f,C,s),A()}}return g$(r,o,g,c,p)}tx.scrypt=sme;async function ime(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A,asyncTick:P}=h$(r,e,t);for(let C=0;C<i;C++){let N=a*C;for(let L=0;L<a;L++)c[L]=f[N+L];let U=0;await(0,Yb.asyncLoop)(n-1,P,()=>{ex(c,U,c,U+=a,s),A()}),ex(c,(n-1)*a,f,N,s),A(),await(0,Yb.asyncLoop)(n,P,()=>{let L=f[N+a-16]%n;for(let q=0;q<a;q++)p[q]=f[N+q]^c[L*a+q];ex(p,0,f,N,s),A()})}return g$(r,o,g,c,p)}tx.scryptAsync=ime});var P$=M(nx=>{y();b();Object.defineProperty(nx,"__esModule",{value:!0});nx.scryptSync=nx.scrypt=void 0;var m$=p$(),rx=pe(),y$=!1,b$=!1,x$=async function(r,e,t,n,s,i,o){return await(0,m$.scryptAsync)(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:o})},w$=function(r,e,t,n,s,i){return(0,m$.scrypt)(r,e,{N:t,r:n,p:s,dkLen:i})},_$=x$,v$=w$;async function h2(r,e,t,n,s,i,o){let a=(0,rx.getBytes)(r,"passwd"),c=(0,rx.getBytes)(e,"salt");return(0,rx.hexlify)(await _$(a,c,t,n,s,i,o))}nx.scrypt=h2;h2._=x$;h2.lock=function(){b$=!0};h2.register=function(r){if(b$)throw new Error("scrypt is locked");_$=r};Object.freeze(h2);function g2(r,e,t,n,s,i){let o=(0,rx.getBytes)(r,"passwd"),a=(0,rx.getBytes)(e,"salt");return(0,rx.hexlify)(v$(o,a,t,n,s,i))}nx.scryptSync=g2;g2._=w$;g2.lock=function(){y$=!0};g2.register=function(r){if(y$)throw new Error("scryptSync is locked");v$=r};Object.freeze(g2)});var C$=M(sx=>{y();b();Object.defineProperty(sx,"__esModule",{value:!0});sx.sha512=sx.sha256=void 0;var A$=s2(),Ik=pe(),E$=function(r){return(0,A$.createHash)("sha256").update(r).digest()},S$=function(r){return(0,A$.createHash)("sha512").update(r).digest()},k$=E$,O$=S$,T$=!1,N$=!1;function ix(r){let e=(0,Ik.getBytes)(r,"data");return(0,Ik.hexlify)(k$(e))}sx.sha256=ix;ix._=E$;ix.lock=function(){T$=!0};ix.register=function(r){if(T$)throw new Error("sha256 is locked");k$=r};Object.freeze(ix);function Mk(r){let e=(0,Ik.getBytes)(r,"data");return(0,Ik.hexlify)(O$(e))}sx.sha512=Mk;Mk._=S$;Mk.lock=function(){N$=!0};Mk.register=function(r){if(N$)throw new Error("sha512 is locked");O$=r};Object.freeze(ix)});var og=M(kt=>{y();b();Object.defineProperty(kt,"__esModule",{value:!0});kt.validateObject=kt.createHmacDrbg=kt.bitMask=kt.bitSet=kt.bitGet=kt.bitLen=kt.utf8ToBytes=kt.equalBytes=kt.concatBytes=kt.ensureBytes=kt.numberToVarBytesBE=kt.numberToBytesLE=kt.numberToBytesBE=kt.bytesToNumberLE=kt.bytesToNumberBE=kt.hexToBytes=kt.hexToNumber=kt.numberToHexUnpadded=kt.bytesToHex=void 0;var B$=BigInt(0),jk=BigInt(1),ome=BigInt(2),Fk=r=>r instanceof Uint8Array,ame=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function jB(r){if(!Fk(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=ame[r[t]];return e}kt.bytesToHex=jB;function I$(r){let e=r.toString(16);return e.length&1?`0${e}`:e}kt.numberToHexUnpadded=I$;function FB(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}kt.hexToNumber=FB;function Lk(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}kt.hexToBytes=Lk;function cme(r){return FB(jB(r))}kt.bytesToNumberBE=cme;function ume(r){if(!Fk(r))throw new Error("Uint8Array expected");return FB(jB(Uint8Array.from(r).reverse()))}kt.bytesToNumberLE=ume;function M$(r,e){return Lk(r.toString(16).padStart(e*2,"0"))}kt.numberToBytesBE=M$;function fme(r,e){return M$(r,e).reverse()}kt.numberToBytesLE=fme;function lme(r){return Lk(I$(r))}kt.numberToVarBytesBE=lme;function dme(r,e,t){let n;if(typeof e=="string")try{n=Lk(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Fk(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}kt.ensureBytes=dme;function j$(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!Fk(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}kt.concatBytes=j$;function hme(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}kt.equalBytes=hme;function gme(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}kt.utf8ToBytes=gme;function pme(r){let e;for(e=0;r>B$;r>>=jk,e+=1);return e}kt.bitLen=pme;function mme(r,e){return r>>BigInt(e)&jk}kt.bitGet=mme;var yme=(r,e,t)=>r|(t?jk:B$)<<BigInt(e);kt.bitSet=yme;var bme=r=>(ome<<BigInt(r-1))-jk;kt.bitMask=bme;var MB=r=>new Uint8Array(r),R$=r=>Uint8Array.from(r);function xme(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=MB(r),s=MB(r),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...p)=>t(s,n,...p),c=(p=MB())=>{s=a(R$([0]),p),n=a(),p.length!==0&&(s=a(R$([1]),p),n=a())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,A=[];for(;p<e;){n=a();let P=n.slice();A.push(P),p+=n.length}return j$(...A)};return(p,A)=>{o(),c(p);let P;for(;!(P=A(f()));)c();return o(),P}}kt.createHmacDrbg=xme;var wme={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function _me(r,e,t={}){let n=(s,i,o)=>{let a=wme[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(t))n(s,i,!0);return r}kt.validateObject=_me});var p2=M(He=>{y();b();Object.defineProperty(He,"__esModule",{value:!0});He.mapHashToField=He.getMinHashLength=He.getFieldBytesLength=He.hashToPrivateScalar=He.FpSqrtEven=He.FpSqrtOdd=He.Field=He.nLength=He.FpIsSquare=He.FpDiv=He.FpInvertBatch=He.FpPow=He.validateField=He.isNegativeLE=He.FpSqrt=He.tonelliShanks=He.invert=He.pow2=He.pow=He.mod=void 0;var Hi=og(),Pn=BigInt(0),fr=BigInt(1),xd=BigInt(2),vme=BigInt(3),LB=BigInt(4),F$=BigInt(5),L$=BigInt(8),Pme=BigInt(9),Ame=BigInt(16);function qi(r,e){let t=r%e;return t>=Pn?t:e+t}He.mod=qi;function U$(r,e,t){if(t<=Pn||e<Pn)throw new Error("Expected power/modulo > 0");if(t===fr)return Pn;let n=fr;for(;e>Pn;)e&fr&&(n=n*r%t),r=r*r%t,e>>=fr;return n}He.pow=U$;function Eme(r,e,t){let n=r;for(;e-- >Pn;)n*=n,n%=t;return n}He.pow2=Eme;function Uk(r,e){if(r===Pn||e<=Pn)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=qi(r,e),n=e,s=Pn,i=fr,o=fr,a=Pn;for(;t!==Pn;){let f=n/t,g=n%t,p=s-o*f,A=i-a*f;n=t,t=g,s=o,i=a,o=p,a=A}if(n!==fr)throw new Error("invert: does not exist");return qi(s,e)}He.invert=Uk;function D$(r){let e=(r-fr)/xd,t,n,s;for(t=r-fr,n=0;t%xd===Pn;t/=xd,n++);for(s=xd;s<r&&U$(s,e,r)!==r-fr;s++);if(n===1){let o=(r+fr)/LB;return function(c,f){let g=c.pow(f,o);if(!c.eql(c.sqr(g),f))throw new Error("Cannot find square root");return g}}let i=(t+fr)/xd;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,g=a.pow(a.mul(a.ONE,s),t),p=a.pow(c,i),A=a.pow(c,t);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let P=1;for(let N=a.sqr(A);P<f&&!a.eql(N,a.ONE);P++)N=a.sqr(N);let C=a.pow(g,fr<<BigInt(f-P-1));g=a.sqr(C),p=a.mul(p,C),A=a.mul(A,g),f=P}return p}}He.tonelliShanks=D$;function q$(r){if(r%LB===vme){let e=(r+fr)/LB;return function(n,s){let i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%L$===F$){let e=(r-F$)/L$;return function(n,s){let i=n.mul(s,xd),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,xd),o),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f}}return r%Ame,D$(r)}He.FpSqrt=q$;var Sme=(r,e)=>(qi(r,e)&fr)===fr;He.isNegativeLE=Sme;var kme=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ome(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=kme.reduce((n,s)=>(n[s]="function",n),e);return(0,Hi.validateObject)(r,t)}He.validateField=Ome;function H$(r,e,t){if(t<Pn)throw new Error("Expected power > 0");if(t===Pn)return r.ONE;if(t===fr)return e;let n=r.ONE,s=e;for(;t>Pn;)t&fr&&(n=r.mul(n,s)),s=r.sqr(s),t>>=fr;return n}He.FpPow=H$;function G$(r,e){let t=new Array(e.length),n=e.reduce((i,o,a)=>r.is0(o)?i:(t[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,a)=>r.is0(o)?i:(t[a]=r.mul(i,t[a]),r.mul(i,o)),s),t}He.FpInvertBatch=G$;function Tme(r,e,t){return r.mul(e,typeof t=="bigint"?Uk(t,r.ORDER):r.inv(t))}He.FpDiv=Tme;function Nme(r){let e=(r.ORDER-fr)/xd;return t=>{let n=r.pow(t,e);return r.eql(n,r.ZERO)||r.eql(n,r.ONE)}}He.FpIsSquare=Nme;function UB(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}He.nLength=UB;function Cme(r,e,t=!1,n={}){if(r<=Pn)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:s,nByteLength:i}=UB(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=q$(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:(0,Hi.bitMask)(s),ZERO:Pn,ONE:fr,create:c=>qi(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Pn<=c&&c<r},is0:c=>c===Pn,isOdd:c=>(c&fr)===fr,neg:c=>qi(-c,r),eql:(c,f)=>c===f,sqr:c=>qi(c*c,r),add:(c,f)=>qi(c+f,r),sub:(c,f)=>qi(c-f,r),mul:(c,f)=>qi(c*f,r),pow:(c,f)=>H$(a,c,f),div:(c,f)=>qi(c*Uk(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>Uk(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>G$(a,c),cmov:(c,f,g)=>g?f:c,toBytes:c=>t?(0,Hi.numberToBytesLE)(c,i):(0,Hi.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,Hi.bytesToNumberLE)(c):(0,Hi.bytesToNumberBE)(c)}});return Object.freeze(a)}He.Field=Cme;function Rme(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?t:r.neg(t)}He.FpSqrtOdd=Rme;function Bme(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?r.neg(t):t}He.FpSqrtEven=Bme;function Ime(r,e,t=!1){r=(0,Hi.ensureBytes)("privateHash",r);let n=r.length,s=UB(e).nByteLength+8;if(s<24||n<s||n>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${n}`);let i=t?(0,Hi.bytesToNumberLE)(r):(0,Hi.bytesToNumberBE)(r);return qi(i,e-fr)+fr}He.hashToPrivateScalar=Ime;function DB(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}He.getFieldBytesLength=DB;function K$(r){let e=DB(r);return e+Math.ceil(e/2)}He.getMinHashLength=K$;function Mme(r,e,t=!1){let n=r.length,s=DB(e),i=K$(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let o=t?(0,Hi.bytesToNumberBE)(r):(0,Hi.bytesToNumberLE)(r),a=qi(o,e-fr)+fr;return t?(0,Hi.numberToBytesLE)(a,s):(0,Hi.numberToBytesBE)(a,s)}He.mapHashToField=Mme});var z$=M(ox=>{y();b();Object.defineProperty(ox,"__esModule",{value:!0});ox.validateBasic=ox.wNAF=void 0;var V$=p2(),jme=og(),Fme=BigInt(0),qB=BigInt(1);function Lme(r,e){let t=(s,i)=>{let o=i.negate();return s?o:i},n=s=>{let i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=r.ZERO,a=s;for(;i>Fme;)i&qB&&(o=o.add(a)),a=a.double(),i>>=qB;return o},precomputeWindow(s,i){let{windows:o,windowSize:a}=n(i),c=[],f=s,g=f;for(let p=0;p<o;p++){g=f,c.push(g);for(let A=1;A<a;A++)g=g.add(f),c.push(g);f=g.double()}return c},wNAF(s,i,o){let{windows:a,windowSize:c}=n(s),f=r.ZERO,g=r.BASE,p=BigInt(2**s-1),A=2**s,P=BigInt(s);for(let C=0;C<a;C++){let N=C*c,U=Number(o&p);o>>=P,U>c&&(U-=A,o+=qB);let L=N,q=N+Math.abs(U)-1,H=C%2!==0,V=U<0;U===0?g=g.add(t(H,i[L])):f=f.add(t(V,i[q]))}return{p:f,f:g}},wNAFCached(s,i,o,a){let c=s._WINDOW_SIZE||1,f=i.get(s);return f||(f=this.precomputeWindow(s,c),c!==1&&i.set(s,a(f))),this.wNAF(c,f,o)}}}ox.wNAF=Lme;function Ume(r){return(0,V$.validateField)(r.Fp),(0,jme.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,V$.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}ox.validateBasic=Ume});var GB=M(En=>{y();b();Object.defineProperty(En,"__esModule",{value:!0});En.mapToCurveSimpleSWU=En.SWUFpSqrtRatio=En.weierstrass=En.weierstrassPoints=En.DER=void 0;var ax=p2(),An=og(),lu=og(),HB=z$();function Dme(r){let e=(0,HB.validateBasic)(r);An.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:qme,hexToBytes:Hme}=An;En.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=En.DER;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:qme(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=En.DER,t=typeof r=="string"?Hme(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:s,l:i}=En.DER._parseInt(t.subarray(2)),{d:o,l:a}=En.DER._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let g=f.toString(16);return g.length&1?`0${g}`:g},n=e(t(r.s)),s=e(t(r.r)),i=n.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${n}`}};var ac=BigInt(0),$r=BigInt(1),wd=BigInt(2),Dk=BigInt(3),J$=BigInt(4);function W$(r){let e=Dme(r),{Fp:t}=e,n=e.toBytes||((C,N,U)=>{let L=N.toAffine();return An.concatBytes(Uint8Array.from([4]),t.toBytes(L.x),t.toBytes(L.y))}),s=e.fromBytes||(C=>{let N=C.subarray(1),U=t.fromBytes(N.subarray(0,t.BYTES)),L=t.fromBytes(N.subarray(t.BYTES,2*t.BYTES));return{x:U,y:L}});function i(C){let{a:N,b:U}=e,L=t.sqr(C),q=t.mul(L,C);return t.add(t.add(q,t.mul(C,N)),U)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(C){return typeof C=="bigint"&&ac<C&&C<e.n}function a(C){if(!o(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(C){let{allowedPrivateKeyLengths:N,nByteLength:U,wrapPrivateKey:L,n:q}=e;if(N&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=An.bytesToHex(C)),typeof C!="string"||!N.includes(C.length))throw new Error("Invalid key");C=C.padStart(U*2,"0")}let H;try{H=typeof C=="bigint"?C:An.bytesToNumberBE((0,lu.ensureBytes)("private key",C,U))}catch{throw new Error(`private key must be ${U} bytes, hex or bigint, not ${typeof C}`)}return L&&(H=ax.mod(H,q)),a(H),H}let f=new Map;function g(C){if(!(C instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(N,U,L){if(this.px=N,this.py=U,this.pz=L,N==null||!t.isValid(N))throw new Error("x required");if(U==null||!t.isValid(U))throw new Error("y required");if(L==null||!t.isValid(L))throw new Error("z required")}static fromAffine(N){let{x:U,y:L}=N||{};if(!N||!t.isValid(U)||!t.isValid(L))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");let q=H=>t.eql(H,t.ZERO);return q(U)&&q(L)?p.ZERO:new p(U,L,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let U=t.invertBatch(N.map(L=>L.pz));return N.map((L,q)=>L.toAffine(U[q])).map(p.fromAffine)}static fromHex(N){let U=p.fromAffine(s((0,lu.ensureBytes)("pointHex",N)));return U.assertValidity(),U}static fromPrivateKey(N){return p.BASE.multiply(c(N))}_setWindowSize(N){this._WINDOW_SIZE=N,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:U}=this.toAffine();if(!t.isValid(N)||!t.isValid(U))throw new Error("bad point: x or y not FE");let L=t.sqr(U),q=i(N);if(!t.eql(L,q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(t.isOdd)return!t.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);let{px:U,py:L,pz:q}=this,{px:H,py:V,pz:G}=N,K=t.eql(t.mul(U,G),t.mul(H,q)),z=t.eql(t.mul(L,G),t.mul(V,q));return K&&z}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){let{a:N,b:U}=e,L=t.mul(U,Dk),{px:q,py:H,pz:V}=this,G=t.ZERO,K=t.ZERO,z=t.ZERO,W=t.mul(q,q),ce=t.mul(H,H),ie=t.mul(V,V),Z=t.mul(q,H);return Z=t.add(Z,Z),z=t.mul(q,V),z=t.add(z,z),G=t.mul(N,z),K=t.mul(L,ie),K=t.add(G,K),G=t.sub(ce,K),K=t.add(ce,K),K=t.mul(G,K),G=t.mul(Z,G),z=t.mul(L,z),ie=t.mul(N,ie),Z=t.sub(W,ie),Z=t.mul(N,Z),Z=t.add(Z,z),z=t.add(W,W),W=t.add(z,W),W=t.add(W,ie),W=t.mul(W,Z),K=t.add(K,W),ie=t.mul(H,V),ie=t.add(ie,ie),W=t.mul(ie,Z),G=t.sub(G,W),z=t.mul(ie,ce),z=t.add(z,z),z=t.add(z,z),new p(G,K,z)}add(N){g(N);let{px:U,py:L,pz:q}=this,{px:H,py:V,pz:G}=N,K=t.ZERO,z=t.ZERO,W=t.ZERO,ce=e.a,ie=t.mul(e.b,Dk),Z=t.mul(U,H),de=t.mul(L,V),S=t.mul(q,G),u=t.add(U,L),l=t.add(H,V);u=t.mul(u,l),l=t.add(Z,de),u=t.sub(u,l),l=t.add(U,q);let m=t.add(H,G);return l=t.mul(l,m),m=t.add(Z,S),l=t.sub(l,m),m=t.add(L,q),K=t.add(V,G),m=t.mul(m,K),K=t.add(de,S),m=t.sub(m,K),W=t.mul(ce,l),K=t.mul(ie,S),W=t.add(K,W),K=t.sub(de,W),W=t.add(de,W),z=t.mul(K,W),de=t.add(Z,Z),de=t.add(de,Z),S=t.mul(ce,S),l=t.mul(ie,l),de=t.add(de,S),S=t.sub(Z,S),S=t.mul(ce,S),l=t.add(l,S),Z=t.mul(de,l),z=t.add(z,Z),Z=t.mul(m,l),K=t.mul(u,K),K=t.sub(K,Z),Z=t.mul(u,de),W=t.mul(m,W),W=t.add(W,Z),new p(K,z,W)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return P.wNAFCached(this,f,N,U=>{let L=t.invertBatch(U.map(q=>q.pz));return U.map((q,H)=>q.toAffine(L[H])).map(p.fromAffine)})}multiplyUnsafe(N){let U=p.ZERO;if(N===ac)return U;if(a(N),N===$r)return this;let{endo:L}=e;if(!L)return P.unsafeLadder(this,N);let{k1neg:q,k1:H,k2neg:V,k2:G}=L.splitScalar(N),K=U,z=U,W=this;for(;H>ac||G>ac;)H&$r&&(K=K.add(W)),G&$r&&(z=z.add(W)),W=W.double(),H>>=$r,G>>=$r;return q&&(K=K.negate()),V&&(z=z.negate()),z=new p(t.mul(z.px,L.beta),z.py,z.pz),K.add(z)}multiply(N){a(N);let U=N,L,q,{endo:H}=e;if(H){let{k1neg:V,k1:G,k2neg:K,k2:z}=H.splitScalar(U),{p:W,f:ce}=this.wNAF(G),{p:ie,f:Z}=this.wNAF(z);W=P.constTimeNegate(V,W),ie=P.constTimeNegate(K,ie),ie=new p(t.mul(ie.px,H.beta),ie.py,ie.pz),L=W.add(ie),q=ce.add(Z)}else{let{p:V,f:G}=this.wNAF(U);L=V,q=G}return p.normalizeZ([L,q])[0]}multiplyAndAddUnsafe(N,U,L){let q=p.BASE,H=(G,K)=>K===ac||K===$r||!G.equals(q)?G.multiplyUnsafe(K):G.multiply(K),V=H(this,U).add(H(N,L));return V.is0()?void 0:V}toAffine(N){let{px:U,py:L,pz:q}=this,H=this.is0();N==null&&(N=H?t.ONE:t.inv(q));let V=t.mul(U,N),G=t.mul(L,N),K=t.mul(q,N);if(H)return{x:t.ZERO,y:t.ZERO};if(!t.eql(K,t.ONE))throw new Error("invZ was invalid");return{x:V,y:G}}isTorsionFree(){let{h:N,isTorsionFree:U}=e;if(N===$r)return!0;if(U)return U(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:U}=e;return N===$r?this:U?U(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(p,this,N)}toHex(N=!0){return An.bytesToHex(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);let A=e.nBitLength,P=(0,HB.wNAF)(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}En.weierstrassPoints=W$;function Gme(r){let e=(0,HB.validateBasic)(r);return An.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Kme(r){let e=Gme(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(l){return ac<l&&l<t.ORDER}function a(l){return ax.mod(l,n)}function c(l){return ax.invert(l,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:A}=W$({...e,toBytes(l,m,x){let _=m.toAffine(),k=t.toBytes(_.x),R=An.concatBytes;return x?R(Uint8Array.from([m.hasEvenY()?2:3]),k):R(Uint8Array.from([4]),k,t.toBytes(_.y))},fromBytes(l){let m=l.length,x=l[0],_=l.subarray(1);if(m===s&&(x===2||x===3)){let k=An.bytesToNumberBE(_);if(!o(k))throw new Error("Point is not on curve");let R=p(k),v=t.sqrt(R),d=(v&$r)===$r;return(x&1)===1!==d&&(v=t.neg(v)),{x:k,y:v}}else if(m===i&&x===4){let k=t.fromBytes(_.subarray(0,t.BYTES)),R=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:k,y:R}}else throw new Error(`Point of length ${m} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),P=l=>An.bytesToHex(An.numberToBytesBE(l,e.nByteLength));function C(l){let m=n>>$r;return l>m}function N(l){return C(l)?a(-l):l}let U=(l,m,x)=>An.bytesToNumberBE(l.slice(m,x));class L{constructor(m,x,_){this.r=m,this.s=x,this.recovery=_,this.assertValidity()}static fromCompact(m){let x=e.nByteLength;return m=(0,lu.ensureBytes)("compactSignature",m,x*2),new L(U(m,0,x),U(m,x,2*x))}static fromDER(m){let{r:x,s:_}=En.DER.toSig((0,lu.ensureBytes)("DER",m));return new L(x,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new L(this.r,this.s,m)}recoverPublicKey(m){let{r:x,s:_,recovery:k}=this,R=z((0,lu.ensureBytes)("msgHash",m));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let v=k===2||k===3?x+e.n:x;if(v>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let d=(k&1)===0?"02":"03",E=f.fromHex(d+P(v)),J=c(v),$=a(-R*J),X=a(_*J),te=f.BASE.multiplyAndAddUnsafe(E,$,X);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new L(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return An.hexToBytes(this.toDERHex())}toDERHex(){return En.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return An.hexToBytes(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}let q={isValidPrivateKey(l){try{return g(l),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let l=ax.getMinHashLength(e.n);return ax.mapHashToField(e.randomBytes(l),e.n)},precompute(l=8,m=f.BASE){return m._setWindowSize(l),m.multiply(BigInt(3)),m}};function H(l,m=!0){return f.fromPrivateKey(l).toRawBytes(m)}function V(l){let m=l instanceof Uint8Array,x=typeof l=="string",_=(m||x)&&l.length;return m?_===s||_===i:x?_===2*s||_===2*i:l instanceof f}function G(l,m,x=!0){if(V(l))throw new Error("first arg must be private key");if(!V(m))throw new Error("second arg must be public key");return f.fromHex(m).multiply(g(l)).toRawBytes(x)}let K=e.bits2int||function(l){let m=An.bytesToNumberBE(l),x=l.length*8-e.nBitLength;return x>0?m>>BigInt(x):m},z=e.bits2int_modN||function(l){return a(K(l))},W=An.bitMask(e.nBitLength);function ce(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(ac<=l&&l<W))throw new Error(`bigint expected < 2^${e.nBitLength}`);return An.numberToBytesBE(l,e.nByteLength)}function ie(l,m,x=Z){if(["recovered","canonical"].some(ge=>ge in x))throw new Error("sign() legacy options not supported");let{hash:_,randomBytes:k}=e,{lowS:R,prehash:v,extraEntropy:d}=x;R==null&&(R=!0),l=(0,lu.ensureBytes)("msgHash",l),v&&(l=(0,lu.ensureBytes)("prehashed msgHash",_(l)));let E=z(l),J=g(m),$=[ce(J),ce(E)];if(d!=null){let ge=d===!0?k(t.BYTES):d;$.push((0,lu.ensureBytes)("extraEntropy",ge))}let X=An.concatBytes(...$),te=E;function he(ge){let rr=K(ge);if(!A(rr))return;let xe=c(rr),le=f.BASE.multiply(rr).toAffine(),xn=a(le.x);if(xn===ac)return;let ke=a(xe*a(te+xn*J));if(ke===ac)return;let Te=(le.x===xn?0:2)|Number(le.y&$r),aa=ke;return R&&C(ke)&&(aa=N(ke),Te^=1),new L(xn,aa,Te)}return{seed:X,k2sig:he}}let Z={lowS:e.lowS,prehash:!1},de={lowS:e.lowS,prehash:!1};function S(l,m,x=Z){let{seed:_,k2sig:k}=ie(l,m,x),R=e;return An.createHmacDrbg(R.hash.outputLen,R.nByteLength,R.hmac)(_,k)}f.BASE._setWindowSize(8);function u(l,m,x,_=de){let k=l;if(m=(0,lu.ensureBytes)("msgHash",m),x=(0,lu.ensureBytes)("publicKey",x),"strict"in _)throw new Error("options.strict was renamed to lowS");let{lowS:R,prehash:v}=_,d,E;try{if(typeof k=="string"||k instanceof Uint8Array)try{d=L.fromDER(k)}catch(le){if(!(le instanceof En.DER.Err))throw le;d=L.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){let{r:le,s:xn}=k;d=new L(le,xn)}else throw new Error("PARSE");E=f.fromHex(x)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&d.hasHighS())return!1;v&&(m=e.hash(m));let{r:J,s:$}=d,X=z(m),te=c($),he=a(X*te),ge=a(J*te),rr=f.BASE.multiplyAndAddUnsafe(E,he,ge)?.toAffine();return rr?a(rr.x)===J:!1}return{CURVE:e,getPublicKey:H,getSharedSecret:G,sign:S,verify:u,ProjectivePoint:f,Signature:L,utils:q}}En.weierstrass=Kme;function $$(r,e){let t=r.ORDER,n=ac;for(let C=t-$r;C%wd===ac;C/=wd)n+=$r;let s=n,i=wd<<s-$r-$r,o=i*wd,a=(t-$r)/o,c=(a-$r)/wd,f=o-$r,g=i,p=r.pow(e,a),A=r.pow(e,(a+$r)/wd),P=(C,N)=>{let U=p,L=r.pow(N,f),q=r.sqr(L);q=r.mul(q,N);let H=r.mul(C,q);H=r.pow(H,c),H=r.mul(H,L),L=r.mul(H,N),q=r.mul(H,C);let V=r.mul(q,L);H=r.pow(V,g);let G=r.eql(H,r.ONE);L=r.mul(q,A),H=r.mul(V,U),q=r.cmov(L,q,G),V=r.cmov(H,V,G);for(let K=s;K>$r;K--){let z=K-wd;z=wd<<z-$r;let W=r.pow(V,z),ce=r.eql(W,r.ONE);L=r.mul(q,U),U=r.mul(U,U),W=r.mul(V,U),q=r.cmov(L,q,ce),V=r.cmov(W,V,ce)}return{isValid:G,value:q}};if(r.ORDER%J$===Dk){let C=(r.ORDER-Dk)/J$,N=r.sqrt(r.neg(e));P=(U,L)=>{let q=r.sqr(L),H=r.mul(U,L);q=r.mul(q,H);let V=r.pow(q,C);V=r.mul(V,H);let G=r.mul(V,N),K=r.mul(r.sqr(V),L),z=r.eql(K,U),W=r.cmov(G,V,z);return{isValid:z,value:W}}}return P}En.SWUFpSqrtRatio=$$;function Vme(r,e){if(ax.validateField(r),!r.isValid(e.A)||!r.isValid(e.B)||!r.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=$$(r,e.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,o,a,c,f,g,p;s=r.sqr(n),s=r.mul(s,e.Z),i=r.sqr(s),i=r.add(i,s),o=r.add(i,r.ONE),o=r.mul(o,e.B),a=r.cmov(e.Z,r.neg(i),!r.eql(i,r.ZERO)),a=r.mul(a,e.A),i=r.sqr(o),f=r.sqr(a),c=r.mul(f,e.A),i=r.add(i,c),i=r.mul(i,o),f=r.mul(f,a),c=r.mul(f,e.B),i=r.add(i,c),g=r.mul(s,o);let{isValid:A,value:P}=t(i,f);p=r.mul(s,n),p=r.mul(p,P),g=r.cmov(g,o,A),p=r.cmov(p,P,A);let C=r.isOdd(n)===r.isOdd(p);return p=r.cmov(r.neg(p),p,C),g=r.div(g,a),{x:g,y:p}}}En.mapToCurveSimpleSWU=Vme});var X$=M(Do=>{y();b();Object.defineProperty(Do,"__esModule",{value:!0});Do.createHasher=Do.isogenyMap=Do.hash_to_field=Do.expand_message_xof=Do.expand_message_xmd=void 0;var zme=p2(),cc=og();function Jme(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return(0,cc.utf8ToBytes)(r);throw new Error("DST must be Uint8Array or string")}var Wme=cc.bytesToNumberBE;function _d(r,e){if(r<0||r>=1<<8*e)throw new Error(`bad I2OSP call: value=${r} length=${e}`);let t=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)t[n]=r&255,r>>>=8;return new Uint8Array(t)}function $me(r,e){let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}function m2(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected")}function VB(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function Z$(r,e,t,n){m2(r),m2(e),VB(t),e.length>255&&(e=n((0,cc.concatBytes)((0,cc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:s,blockLen:i}=n,o=Math.ceil(t/s);if(o>255)throw new Error("Invalid xmd length");let a=(0,cc.concatBytes)(e,_d(e.length,1)),c=_d(0,i),f=_d(t,2),g=new Array(o),p=n((0,cc.concatBytes)(c,r,f,_d(0,1),a));g[0]=n((0,cc.concatBytes)(p,_d(1,1),a));for(let P=1;P<=o;P++){let C=[$me(p,g[P-1]),_d(P+1,1),a];g[P]=n((0,cc.concatBytes)(...C))}return(0,cc.concatBytes)(...g).slice(0,t)}Do.expand_message_xmd=Z$;function Q$(r,e,t,n,s){if(m2(r),m2(e),VB(t),e.length>255){let i=Math.ceil(2*n/8);e=s.create({dkLen:i}).update((0,cc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(r).update(_d(t,2)).update(e).update(_d(e.length,1)).digest()}Do.expand_message_xof=Q$;function KB(r,e,t){(0,cc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:i,hash:o,expand:a,DST:c}=t;m2(r),VB(e);let f=Jme(c),g=n.toString(2).length,p=Math.ceil((g+s)/8),A=e*i*p,P;if(a==="xmd")P=Z$(r,f,A,o);else if(a==="xof")P=Q$(r,f,A,s,o);else if(a==="_internal_pass")P=r;else throw new Error('expand must be "xmd" or "xof"');let C=new Array(e);for(let N=0;N<e;N++){let U=new Array(i);for(let L=0;L<i;L++){let q=p*(L+N*i),H=P.subarray(q,q+p);U[L]=(0,zme.mod)(Wme(H),n)}C[N]=U}return C}Do.hash_to_field=KB;function Zme(r,e){let t=e.map(n=>Array.from(n).reverse());return(n,s)=>{let[i,o,a,c]=t.map(f=>f.reduce((g,p)=>r.add(r.mul(g,n),p)));return n=r.div(i,o),s=r.mul(s,r.div(a,c)),{x:n,y:s}}}Do.isogenyMap=Zme;function Qme(r,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){let i=KB(n,2,{...t,DST:t.DST,...s}),o=r.fromAffine(e(i[0])),a=r.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,s){let i=KB(n,1,{...t,DST:t.encodeDST,...s}),o=r.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o}}}Do.createHasher=Qme});var tZ=M(cx=>{y();b();Object.defineProperty(cx,"__esModule",{value:!0});cx.createCurve=cx.getHash=void 0;var Xme=bk(),Y$=oc(),Yme=GB();function eZ(r){return{hash:r,hmac:(e,...t)=>(0,Xme.hmac)(r,e,(0,Y$.concatBytes)(...t)),randomBytes:Y$.randomBytes}}cx.getHash=eZ;function eye(r,e){let t=n=>(0,Yme.weierstrass)({...r,...eZ(n)});return Object.freeze({...t(e),create:t})}cx.createCurve=eye});var dZ=M(mi=>{y();b();Object.defineProperty(mi,"__esModule",{value:!0});mi.encodeToCurve=mi.hashToCurve=mi.schnorr=mi.secp256k1=void 0;var qk=Pk(),tye=oc(),Un=p2(),rye=GB(),ps=og(),sZ=X$(),nye=tZ(),Vk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Hk=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iZ=BigInt(1),Gk=BigInt(2),rZ=(r,e)=>(r+e/Gk)/e;function oZ(r){let e=Vk,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,g=f*f*r%e,p=(0,Un.pow2)(g,t,e)*g%e,A=(0,Un.pow2)(p,t,e)*g%e,P=(0,Un.pow2)(A,Gk,e)*f%e,C=(0,Un.pow2)(P,s,e)*P%e,N=(0,Un.pow2)(C,i,e)*C%e,U=(0,Un.pow2)(N,a,e)*N%e,L=(0,Un.pow2)(U,c,e)*U%e,q=(0,Un.pow2)(L,a,e)*N%e,H=(0,Un.pow2)(q,t,e)*g%e,V=(0,Un.pow2)(H,o,e)*C%e,G=(0,Un.pow2)(V,n,e)*f%e,K=(0,Un.pow2)(G,Gk,e);if(!vd.eql(vd.sqr(K),r))throw new Error("Cannot find square root");return K}var vd=(0,Un.Field)(Vk,void 0,void 0,{sqrt:oZ});mi.secp256k1=(0,nye.createCurve)({a:BigInt(0),b:BigInt(7),Fp:vd,n:Hk,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=Hk,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-iZ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=rZ(i*r,e),c=rZ(-n*r,e),f=(0,Un.mod)(r-a*t-c*s,e),g=(0,Un.mod)(-a*n-c*i,e),p=f>o,A=g>o;if(p&&(f=e-f),A&&(g=e-g),f>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:f,k2neg:A,k2:g}}}},qk.sha256);var zk=BigInt(0),aZ=r=>typeof r=="bigint"&&zk<r&&r<Vk,sye=r=>typeof r=="bigint"&&zk<r&&r<Hk,nZ={};function Kk(r,...e){let t=nZ[r];if(t===void 0){let n=(0,qk.sha256)(Uint8Array.from(r,s=>s.charCodeAt(0)));t=(0,ps.concatBytes)(n,n),nZ[r]=t}return(0,qk.sha256)((0,ps.concatBytes)(t,...e))}var $B=r=>r.toRawBytes(!0).slice(1),JB=r=>(0,ps.numberToBytesBE)(r,32),zB=r=>(0,Un.mod)(r,Vk),y2=r=>(0,Un.mod)(r,Hk),ZB=mi.secp256k1.ProjectivePoint,iye=(r,e,t)=>ZB.BASE.multiplyAndAddUnsafe(r,e,t);function WB(r){let e=mi.secp256k1.utils.normPrivateKeyToScalar(r),t=ZB.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:y2(-e),bytes:$B(t)}}function cZ(r){if(!aZ(r))throw new Error("bad x: need 0 < x < p");let e=zB(r*r),t=zB(e*r+BigInt(7)),n=oZ(t);n%Gk!==zk&&(n=zB(-n));let s=new ZB(r,n,iZ);return s.assertValidity(),s}function uZ(...r){return y2((0,ps.bytesToNumberBE)(Kk("BIP0340/challenge",...r)))}function oye(r){return WB(r).bytes}function aye(r,e,t=(0,tye.randomBytes)(32)){let n=(0,ps.ensureBytes)("message",r),{bytes:s,scalar:i}=WB(e),o=(0,ps.ensureBytes)("auxRand",t,32),a=JB(i^(0,ps.bytesToNumberBE)(Kk("BIP0340/aux",o))),c=Kk("BIP0340/nonce",a,s,n),f=y2((0,ps.bytesToNumberBE)(c));if(f===zk)throw new Error("sign failed: k is zero");let{bytes:g,scalar:p}=WB(f),A=uZ(g,s,n),P=new Uint8Array(64);if(P.set(g,0),P.set(JB(y2(p+A*i)),32),!fZ(P,n,s))throw new Error("sign: Invalid signature produced");return P}function fZ(r,e,t){let n=(0,ps.ensureBytes)("signature",r,64),s=(0,ps.ensureBytes)("message",e),i=(0,ps.ensureBytes)("publicKey",t,32);try{let o=cZ((0,ps.bytesToNumberBE)(i)),a=(0,ps.bytesToNumberBE)(n.subarray(0,32));if(!aZ(a))return!1;let c=(0,ps.bytesToNumberBE)(n.subarray(32,64));if(!sye(c))return!1;let f=uZ(JB(a),$B(o),s),g=iye(o,c,y2(-f));return!(!g||!g.hasEvenY()||g.toAffine().x!==a)}catch{return!1}}mi.schnorr=(()=>({getPublicKey:oye,sign:aye,verify:fZ,utils:{randomPrivateKey:mi.secp256k1.utils.randomPrivateKey,lift_x:cZ,pointToBytes:$B,numberToBytesBE:ps.numberToBytesBE,bytesToNumberBE:ps.bytesToNumberBE,taggedHash:Kk,mod:Un.mod}}))();var cye=(()=>(0,sZ.isogenyMap)(vd,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(e=>BigInt(e)))))(),uye=(()=>(0,rye.mapToCurveSimpleSWU)(vd,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:vd.create(BigInt("-11"))}))(),lZ=(()=>(0,sZ.createHasher)(mi.secp256k1.ProjectivePoint,r=>{let{x:e,y:t}=uye(vd.create(r[0]));return cye(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:vd.ORDER,m:1,k:128,expand:"xmd",hash:qk.sha256}))();mi.hashToCurve=(()=>lZ.hashToCurve)();mi.encodeToCurve=(()=>lZ.encodeToCurve)()});var QB=M(Jk=>{y();b();Object.defineProperty(Jk,"__esModule",{value:!0});Jk.ZeroAddress=void 0;Jk.ZeroAddress="0x0000000000000000000000000000000000000000"});var hZ=M(Wk=>{y();b();Object.defineProperty(Wk,"__esModule",{value:!0});Wk.ZeroHash=void 0;Wk.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"});var gZ=M(qo=>{y();b();Object.defineProperty(qo,"__esModule",{value:!0});qo.MaxInt256=qo.MinInt256=qo.MaxUint256=qo.WeiPerEther=qo.N=void 0;qo.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");qo.WeiPerEther=BigInt("1000000000000000000");qo.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");qo.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);qo.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var pZ=M(ux=>{y();b();Object.defineProperty(ux,"__esModule",{value:!0});ux.MessagePrefix=ux.EtherSymbol=void 0;ux.EtherSymbol="\u039E";ux.MessagePrefix=`Ethereum Signed Message:
`});var fx=M(hn=>{y();b();Object.defineProperty(hn,"__esModule",{value:!0});hn.MessagePrefix=hn.EtherSymbol=hn.MaxInt256=hn.MinInt256=hn.MaxUint256=hn.WeiPerEther=hn.N=hn.ZeroHash=hn.ZeroAddress=void 0;var fye=QB();Object.defineProperty(hn,"ZeroAddress",{enumerable:!0,get:function(){return fye.ZeroAddress}});var lye=hZ();Object.defineProperty(hn,"ZeroHash",{enumerable:!0,get:function(){return lye.ZeroHash}});var b2=gZ();Object.defineProperty(hn,"N",{enumerable:!0,get:function(){return b2.N}});Object.defineProperty(hn,"WeiPerEther",{enumerable:!0,get:function(){return b2.WeiPerEther}});Object.defineProperty(hn,"MaxUint256",{enumerable:!0,get:function(){return b2.MaxUint256}});Object.defineProperty(hn,"MinInt256",{enumerable:!0,get:function(){return b2.MinInt256}});Object.defineProperty(hn,"MaxInt256",{enumerable:!0,get:function(){return b2.MaxInt256}});var mZ=pZ();Object.defineProperty(hn,"EtherSymbol",{enumerable:!0,get:function(){return mZ.EtherSymbol}});Object.defineProperty(hn,"MessagePrefix",{enumerable:!0,get:function(){return mZ.MessagePrefix}})});var YB=M(Zk=>{y();b();Object.defineProperty(Zk,"__esModule",{value:!0});Zk.Signature=void 0;var yZ=fx(),Mt=pe(),bZ=BigInt(0),xZ=BigInt(1),wZ=BigInt(2),_Z=BigInt(27),vZ=BigInt(28),$k=BigInt(35),lx={};function PZ(r){return(0,Mt.zeroPadValue)((0,Mt.toBeArray)(r),32)}var dx,hx,gx,ag,uc=class{constructor(e,t,n,s){T(this,dx,void 0);T(this,hx,void 0);T(this,gx,void 0);T(this,ag,void 0);(0,Mt.assertPrivate)(e,lx,"Signature"),w(this,dx,t),w(this,hx,n),w(this,gx,s),w(this,ag,null)}get r(){return h(this,dx)}set r(e){(0,Mt.assertArgument)((0,Mt.dataLength)(e)===32,"invalid r","value",e),w(this,dx,(0,Mt.hexlify)(e))}get s(){return h(this,hx)}set s(e){(0,Mt.assertArgument)((0,Mt.dataLength)(e)===32,"invalid s","value",e);let t=(0,Mt.hexlify)(e);(0,Mt.assertArgument)(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),w(this,hx,t)}get v(){return h(this,gx)}set v(e){let t=(0,Mt.getNumber)(e,"value");(0,Mt.assertArgument)(t===27||t===28,"invalid v","v",e),w(this,gx,t)}get networkV(){return h(this,ag)}get legacyChainId(){let e=this.networkV;return e==null?null:uc.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=(0,Mt.getBytes)(this.s);return this.yParity&&(e[0]|=128),(0,Mt.hexlify)(e)}get compactSerialized(){return(0,Mt.concat)([this.r,this.yParityAndS])}get serialized(){return(0,Mt.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new uc(lx,this.r,this.s,this.v);return this.networkV&&w(e,ag,this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let t=(0,Mt.getBigInt)(e,"v");return t==_Z||t==vZ?bZ:((0,Mt.assertArgument)(t>=$k,"invalid EIP-155 v","v",e),(t-$k)/wZ)}static getChainIdV(e,t){return(0,Mt.getBigInt)(e)*wZ+BigInt(35+t-27)}static getNormalizedV(e){let t=(0,Mt.getBigInt)(e);return t===bZ||t===_Z?27:t===xZ||t===vZ?28:((0,Mt.assertArgument)(t>=$k,"invalid v","v",e),t&xZ?27:28)}static from(e){function t(f,g){(0,Mt.assertArgument)(f,g,"signature",e)}if(e==null)return new uc(lx,yZ.ZeroHash,yZ.ZeroHash,27);if(typeof e=="string"){let f=(0,Mt.getBytes)(e,"signature");if(f.length===64){let g=(0,Mt.hexlify)(f.slice(0,32)),p=f.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new uc(lx,g,(0,Mt.hexlify)(p),A)}if(f.length===65){let g=(0,Mt.hexlify)(f.slice(0,32)),p=f.slice(32,64);t((p[0]&128)===0,"non-canonical s");let A=uc.getNormalizedV(f[64]);return new uc(lx,g,(0,Mt.hexlify)(p),A)}t(!1,"invalid raw signature length")}if(e instanceof uc)return e.clone();let n=e.r;t(n!=null,"missing r");let s=PZ(n),i=function(f,g){if(f!=null)return PZ(f);if(g!=null){t((0,Mt.isHexString)(g,32),"invalid yParityAndS");let p=(0,Mt.getBytes)(g);return p[0]&=127,(0,Mt.hexlify)(p)}t(!1,"missing s")}(e.s,e.yParityAndS);t(((0,Mt.getBytes)(i)[0]&128)==0,"non-canonical s");let{networkV:o,v:a}=function(f,g,p){if(f!=null){let A=(0,Mt.getBigInt)(f);return{networkV:A>=$k?A:void 0,v:uc.getNormalizedV(A)}}if(g!=null)return t((0,Mt.isHexString)(g,32),"invalid yParityAndS"),{v:(0,Mt.getBytes)(g)[0]&128?28:27};if(p!=null){switch((0,Mt.getNumber)(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new uc(lx,s,i,a);return o&&w(c,ag,o),t(e.yParity==null||(0,Mt.getNumber)(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},XB=uc;dx=new WeakMap,hx=new WeakMap,gx=new WeakMap,ag=new WeakMap;Zk.Signature=XB});var EZ=M(Qk=>{y();b();Object.defineProperty(Qk,"__esModule",{value:!0});Qk.SigningKey=void 0;var cg=dZ(),en=pe(),AZ=YB(),kf,ug=class{constructor(e){T(this,kf,void 0);(0,en.assertArgument)((0,en.dataLength)(e)===32,"invalid private key","privateKey","[REDACTED]"),w(this,kf,(0,en.hexlify)(e))}get privateKey(){return h(this,kf)}get publicKey(){return ug.computePublicKey(h(this,kf))}get compressedPublicKey(){return ug.computePublicKey(h(this,kf),!0)}sign(e){(0,en.assertArgument)((0,en.dataLength)(e)===32,"invalid digest length","digest",e);let t=cg.secp256k1.sign((0,en.getBytesCopy)(e),(0,en.getBytesCopy)(h(this,kf)),{lowS:!0});return AZ.Signature.from({r:(0,en.toBeHex)(t.r,32),s:(0,en.toBeHex)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=ug.computePublicKey(e);return(0,en.hexlify)(cg.secp256k1.getSharedSecret((0,en.getBytesCopy)(h(this,kf)),(0,en.getBytes)(t),!1))}static computePublicKey(e,t){let n=(0,en.getBytes)(e,"key");if(n.length===32){let i=cg.secp256k1.getPublicKey(n,!!t);return(0,en.hexlify)(i)}if(n.length===64){let i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}let s=cg.secp256k1.ProjectivePoint.fromHex(n);return(0,en.hexlify)(s.toRawBytes(t))}static recoverPublicKey(e,t){(0,en.assertArgument)((0,en.dataLength)(e)===32,"invalid digest length","digest",e);let n=AZ.Signature.from(t),s=cg.secp256k1.Signature.fromCompact((0,en.getBytesCopy)((0,en.concat)([n.r,n.s])));s=s.addRecoveryBit(n.yParity);let i=s.recoverPublicKey((0,en.getBytesCopy)(e));return(0,en.assertArgument)(i!=null,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){let s=cg.secp256k1.ProjectivePoint.fromHex(ug.computePublicKey(e).substring(2)),i=cg.secp256k1.ProjectivePoint.fromHex(ug.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}},eI=ug;kf=new WeakMap;Qk.SigningKey=eI});var Dn=M(pr=>{y();b();Object.defineProperty(pr,"__esModule",{value:!0});pr.lock=pr.Signature=pr.SigningKey=pr.scryptSync=pr.scrypt=pr.pbkdf2=pr.sha512=pr.sha256=pr.ripemd160=pr.keccak256=pr.randomBytes=pr.computeHmac=void 0;var SZ=BW();Object.defineProperty(pr,"computeHmac",{enumerable:!0,get:function(){return SZ.computeHmac}});var kZ=zW();Object.defineProperty(pr,"keccak256",{enumerable:!0,get:function(){return kZ.keccak256}});var OZ=t$();Object.defineProperty(pr,"ripemd160",{enumerable:!0,get:function(){return OZ.ripemd160}});var TZ=i$();Object.defineProperty(pr,"pbkdf2",{enumerable:!0,get:function(){return TZ.pbkdf2}});var tI=u$();Object.defineProperty(pr,"randomBytes",{enumerable:!0,get:function(){return tI.randomBytes}});var Xk=P$();Object.defineProperty(pr,"scrypt",{enumerable:!0,get:function(){return Xk.scrypt}});Object.defineProperty(pr,"scryptSync",{enumerable:!0,get:function(){return Xk.scryptSync}});var Yk=C$();Object.defineProperty(pr,"sha256",{enumerable:!0,get:function(){return Yk.sha256}});Object.defineProperty(pr,"sha512",{enumerable:!0,get:function(){return Yk.sha512}});var dye=EZ();Object.defineProperty(pr,"SigningKey",{enumerable:!0,get:function(){return dye.SigningKey}});var hye=YB();Object.defineProperty(pr,"Signature",{enumerable:!0,get:function(){return hye.Signature}});function gye(){SZ.computeHmac.lock(),kZ.keccak256.lock(),TZ.pbkdf2.lock(),tI.randomBytes.lock(),OZ.ripemd160.lock(),Xk.scrypt.lock(),Xk.scryptSync.lock(),Yk.sha256.lock(),Yk.sha512.lock(),tI.randomBytes.lock()}pr.lock=gye});var eO=M(px=>{y();b();Object.defineProperty(px,"__esModule",{value:!0});px.getIcapAddress=px.getAddress=void 0;var pye=Dn(),x2=pe(),mye=BigInt(0),yye=BigInt(36);function NZ(r){r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);let n=(0,x2.getBytes)((0,pye.keccak256)(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var rI={};for(let r=0;r<10;r++)rI[String(r)]=String(r);for(let r=0;r<26;r++)rI[String.fromCharCode(65+r)]=String(10+r);var CZ=15;function RZ(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>rI[n]).join("");for(;e.length>=CZ;){let n=e.substring(0,CZ);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var bye=function(){let r={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function xye(r){r=r.toLowerCase();let e=mye;for(let t=0;t<r.length;t++)e=e*yye+bye[r[t]];return e}function BZ(r){if((0,x2.assertArgument)(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);let e=NZ(r);return(0,x2.assertArgument)(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,x2.assertArgument)(r.substring(2,4)===RZ(r),"bad icap checksum","address",r);let e=xye(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return NZ("0x"+e)}(0,x2.assertArgument)(!1,"invalid address","address",r)}px.getAddress=BZ;function wye(r){let e=BigInt(BZ(r)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+RZ("XE00"+e)+e}px.getIcapAddress=wye});var MZ=M(mx=>{y();b();Object.defineProperty(mx,"__esModule",{value:!0});mx.getCreate2Address=mx.getCreateAddress=void 0;var IZ=Dn(),Of=pe(),tO=eO();function _ye(r){let e=(0,tO.getAddress)(r.from),n=(0,Of.getBigInt)(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,(0,tO.getAddress)((0,Of.dataSlice)((0,IZ.keccak256)((0,Of.encodeRlp)([e,n])),12))}mx.getCreateAddress=_ye;function vye(r,e,t){let n=(0,tO.getAddress)(r),s=(0,Of.getBytes)(e,"salt"),i=(0,Of.getBytes)(t,"initCodeHash");return(0,Of.assertArgument)(s.length===32,"salt must be 32 bytes","salt",e),(0,Of.assertArgument)(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),(0,tO.getAddress)((0,Of.dataSlice)((0,IZ.keccak256)((0,Of.concat)(["0xff",n,s,i])),12))}mx.getCreate2Address=vye});var FZ=M(Pd=>{y();b();Object.defineProperty(Pd,"__esModule",{value:!0});Pd.resolveAddress=Pd.isAddress=Pd.isAddressable=void 0;var rO=pe(),sI=eO();function jZ(r){return r&&typeof r.getAddress=="function"}Pd.isAddressable=jZ;function Pye(r){try{return(0,sI.getAddress)(r),!0}catch{}return!1}Pd.isAddress=Pye;async function nI(r,e){let t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&((0,rO.assert)(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),(0,rO.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),(0,sI.getAddress)(t)}function Aye(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?(0,sI.getAddress)(r):((0,rO.assert)(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),nI(r,e.resolveName(r)));if(jZ(r))return nI(r,r.getAddress());if(r&&typeof r.then=="function")return nI(r,r);(0,rO.assertArgument)(!1,"unsupported addressable value","target",r)}Pd.resolveAddress=Aye});var Sn=M(ms=>{y();b();Object.defineProperty(ms,"__esModule",{value:!0});ms.resolveAddress=ms.isAddress=ms.isAddressable=ms.getCreate2Address=ms.getCreateAddress=ms.getIcapAddress=ms.getAddress=void 0;var LZ=eO();Object.defineProperty(ms,"getAddress",{enumerable:!0,get:function(){return LZ.getAddress}});Object.defineProperty(ms,"getIcapAddress",{enumerable:!0,get:function(){return LZ.getIcapAddress}});var UZ=MZ();Object.defineProperty(ms,"getCreateAddress",{enumerable:!0,get:function(){return UZ.getCreateAddress}});Object.defineProperty(ms,"getCreate2Address",{enumerable:!0,get:function(){return UZ.getCreate2Address}});var iI=FZ();Object.defineProperty(ms,"isAddressable",{enumerable:!0,get:function(){return iI.isAddressable}});Object.defineProperty(ms,"isAddress",{enumerable:!0,get:function(){return iI.isAddress}});Object.defineProperty(ms,"resolveAddress",{enumerable:!0,get:function(){return iI.resolveAddress}})});var du=M(nO=>{y();b();Object.defineProperty(nO,"__esModule",{value:!0});nO.Typed=void 0;var DZ=pe(),fc={};function be(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new w2(fc,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Yt(r,e){return new w2(fc,`bytes${e||""}`,r,{size:e})}var qZ=Symbol.for("_ethers_typed"),fg,lc=class{constructor(e,t,n,s){O(this,"type");O(this,"value");T(this,fg,void 0);O(this,"_typedSymbol");s==null&&(s=null),(0,DZ.assertPrivate)(fc,e,"Typed"),(0,DZ.defineProperties)(this,{_typedSymbol:qZ,type:t,value:n}),w(this,fg,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return h(this,fg)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return h(this,fg)===!0?-1:h(this,fg)===!1?this.value.length:null}static from(e,t){return new lc(fc,e,t)}static uint8(e){return be(e,8)}static uint16(e){return be(e,16)}static uint24(e){return be(e,24)}static uint32(e){return be(e,32)}static uint40(e){return be(e,40)}static uint48(e){return be(e,48)}static uint56(e){return be(e,56)}static uint64(e){return be(e,64)}static uint72(e){return be(e,72)}static uint80(e){return be(e,80)}static uint88(e){return be(e,88)}static uint96(e){return be(e,96)}static uint104(e){return be(e,104)}static uint112(e){return be(e,112)}static uint120(e){return be(e,120)}static uint128(e){return be(e,128)}static uint136(e){return be(e,136)}static uint144(e){return be(e,144)}static uint152(e){return be(e,152)}static uint160(e){return be(e,160)}static uint168(e){return be(e,168)}static uint176(e){return be(e,176)}static uint184(e){return be(e,184)}static uint192(e){return be(e,192)}static uint200(e){return be(e,200)}static uint208(e){return be(e,208)}static uint216(e){return be(e,216)}static uint224(e){return be(e,224)}static uint232(e){return be(e,232)}static uint240(e){return be(e,240)}static uint248(e){return be(e,248)}static uint256(e){return be(e,256)}static uint(e){return be(e,256)}static int8(e){return be(e,-8)}static int16(e){return be(e,-16)}static int24(e){return be(e,-24)}static int32(e){return be(e,-32)}static int40(e){return be(e,-40)}static int48(e){return be(e,-48)}static int56(e){return be(e,-56)}static int64(e){return be(e,-64)}static int72(e){return be(e,-72)}static int80(e){return be(e,-80)}static int88(e){return be(e,-88)}static int96(e){return be(e,-96)}static int104(e){return be(e,-104)}static int112(e){return be(e,-112)}static int120(e){return be(e,-120)}static int128(e){return be(e,-128)}static int136(e){return be(e,-136)}static int144(e){return be(e,-144)}static int152(e){return be(e,-152)}static int160(e){return be(e,-160)}static int168(e){return be(e,-168)}static int176(e){return be(e,-176)}static int184(e){return be(e,-184)}static int192(e){return be(e,-192)}static int200(e){return be(e,-200)}static int208(e){return be(e,-208)}static int216(e){return be(e,-216)}static int224(e){return be(e,-224)}static int232(e){return be(e,-232)}static int240(e){return be(e,-240)}static int248(e){return be(e,-248)}static int256(e){return be(e,-256)}static int(e){return be(e,-256)}static bytes1(e){return Yt(e,1)}static bytes2(e){return Yt(e,2)}static bytes3(e){return Yt(e,3)}static bytes4(e){return Yt(e,4)}static bytes5(e){return Yt(e,5)}static bytes6(e){return Yt(e,6)}static bytes7(e){return Yt(e,7)}static bytes8(e){return Yt(e,8)}static bytes9(e){return Yt(e,9)}static bytes10(e){return Yt(e,10)}static bytes11(e){return Yt(e,11)}static bytes12(e){return Yt(e,12)}static bytes13(e){return Yt(e,13)}static bytes14(e){return Yt(e,14)}static bytes15(e){return Yt(e,15)}static bytes16(e){return Yt(e,16)}static bytes17(e){return Yt(e,17)}static bytes18(e){return Yt(e,18)}static bytes19(e){return Yt(e,19)}static bytes20(e){return Yt(e,20)}static bytes21(e){return Yt(e,21)}static bytes22(e){return Yt(e,22)}static bytes23(e){return Yt(e,23)}static bytes24(e){return Yt(e,24)}static bytes25(e){return Yt(e,25)}static bytes26(e){return Yt(e,26)}static bytes27(e){return Yt(e,27)}static bytes28(e){return Yt(e,28)}static bytes29(e){return Yt(e,29)}static bytes30(e){return Yt(e,30)}static bytes31(e){return Yt(e,31)}static bytes32(e){return Yt(e,32)}static address(e){return new lc(fc,"address",e)}static bool(e){return new lc(fc,"bool",!!e)}static bytes(e){return new lc(fc,"bytes",e)}static string(e){return new lc(fc,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new lc(fc,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===qZ}static dereference(e,t){if(lc.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}},w2=lc;fg=new WeakMap;nO.Typed=w2});var GZ=M(sO=>{y();b();Object.defineProperty(sO,"__esModule",{value:!0});sO.AddressCoder=void 0;var HZ=Sn(),Eye=Ob(),Sye=du(),kye=Fo(),oI=class extends kye.Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Sye.Typed.dereference(t,"string");try{n=(0,HZ.getAddress)(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return(0,HZ.getAddress)((0,Eye.toBeHex)(e.readValue(),20))}};sO.AddressCoder=oI});var KZ=M(iO=>{y();b();Object.defineProperty(iO,"__esModule",{value:!0});iO.AnonymousCoder=void 0;var Oye=Fo(),aI=class extends Oye.Coder{constructor(t){super(t.name,t.type,"_",t.dynamic);O(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}};iO.AnonymousCoder=aI});var uI=M(Ad=>{y();b();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.ArrayCoder=Ad.unpack=Ad.pack=void 0;var Tf=pe(),Tye=du(),yx=Fo(),Nye=KZ();function VZ(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{let g=f.localName;return(0,Tf.assert)(g,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),(0,Tf.assert)(!c[g],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),c[g]=!0,t[g]})}else(0,Tf.assertArgument)(!1,"invalid tuple value","tuple",t);(0,Tf.assertArgument)(e.length===n.length,"types/value length mismatch","tuple",t);let s=new yx.Writer,i=new yx.Writer,o=[];e.forEach((c,f)=>{let g=n[f];if(c.dynamic){let p=i.length;c.encode(i,g);let A=s.writeUpdatableValue();o.push(P=>{A(P+p)})}else c.encode(s,g)}),o.forEach(c=>{c(s.length)});let a=r.appendWriter(s);return a+=r.appendWriter(i),a}Ad.pack=VZ;function zZ(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=r.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(f){if((0,Tf.isError)(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(r)}catch(a){if((0,Tf.isError)(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),n.push(i.localName||null)}),yx.Result.fromItems(t,n)}Ad.unpack=zZ;var cI=class extends yx.Coder{constructor(t,n,s){let i=t.type+"["+(n>=0?n:"")+"]",o=n===-1||t.dynamic;super("array",i,s,o);O(this,"coder");O(this,"length");(0,Tf.defineProperties)(this,{coder:t,length:n})}defaultValue(){let t=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(t);return n}encode(t,n){let s=Tye.Typed.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),(0,Tf.assertArgumentCount)(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return VZ(t,o,s)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),(0,Tf.assert)(n*yx.WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*yx.WordSize,length:t.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Nye.AnonymousCoder(this.coder));return zZ(t,s)}};Ad.ArrayCoder=cI});var JZ=M(oO=>{y();b();Object.defineProperty(oO,"__esModule",{value:!0});oO.BooleanCoder=void 0;var Cye=du(),Rye=Fo(),fI=class extends Rye.Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let n=Cye.Typed.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};oO.BooleanCoder=fI});var dI=M(bx=>{y();b();Object.defineProperty(bx,"__esModule",{value:!0});bx.BytesCoder=bx.DynamicBytesCoder=void 0;var WZ=pe(),Bye=Fo(),aO=class extends Bye.Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,WZ.getBytesCopy)(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}};bx.DynamicBytesCoder=aO;var lI=class extends aO{constructor(e){super("bytes",e)}decode(e){return(0,WZ.hexlify)(super.decode(e))}};bx.BytesCoder=lI});var $Z=M(cO=>{y();b();Object.defineProperty(cO,"__esModule",{value:!0});cO.FixedBytesCoder=void 0;var hI=pe(),Iye=du(),Mye=Fo(),gI=class extends Mye.Coder{constructor(t,n){let s="bytes"+String(t);super(s,s,n,!1);O(this,"size");(0,hI.defineProperties)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let s=(0,hI.getBytesCopy)(Iye.Typed.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(s)}decode(t){return(0,hI.hexlify)(t.readBytes(this.size))}};cO.FixedBytesCoder=gI});var ZZ=M(uO=>{y();b();Object.defineProperty(uO,"__esModule",{value:!0});uO.NullCoder=void 0;var jye=Fo(),Fye=new Uint8Array([]),pI=class extends jye.Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Fye)}decode(e){return e.readBytes(0),null}};uO.NullCoder=pI});var QZ=M(fO=>{y();b();Object.defineProperty(fO,"__esModule",{value:!0});fO.NumberCoder=void 0;var Ed=pe(),Lye=du(),mI=Fo(),Uye=BigInt(0),Dye=BigInt(1),qye=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),yI=class extends mI.Coder{constructor(t,n,s){let i=(n?"int":"uint")+t*8;super(i,i,s,!1);O(this,"size");O(this,"signed");(0,Ed.defineProperties)(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let s=(0,Ed.getBigInt)(Lye.Typed.dereference(n,this.type)),i=(0,Ed.mask)(qye,mI.WordSize*8);if(this.signed){let o=(0,Ed.mask)(i,this.size*8-1);(s>o||s<-(o+Dye))&&this._throwError("value out-of-bounds",n),s=(0,Ed.toTwos)(s,8*mI.WordSize)}else(s<Uye||s>(0,Ed.mask)(i,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(s)}decode(t){let n=(0,Ed.mask)(t.readValue(),this.size*8);return this.signed&&(n=(0,Ed.fromTwos)(n,this.size*8)),n}};fO.NumberCoder=yI});var YZ=M(lO=>{y();b();Object.defineProperty(lO,"__esModule",{value:!0});lO.StringCoder=void 0;var XZ=Y6(),Hye=du(),Gye=dI(),bI=class extends Gye.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,XZ.toUtf8Bytes)(Hye.Typed.dereference(t,"string")))}decode(e){return(0,XZ.toUtf8String)(super.decode(e))}};lO.StringCoder=bI});var tQ=M(dO=>{y();b();Object.defineProperty(dO,"__esModule",{value:!0});dO.TupleCoder=void 0;var Kye=od(),Vye=du(),zye=Fo(),eQ=uI(),xI=class extends zye.Coder{constructor(t,n){let s=!1,i=[];t.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});let o="tuple("+i.join(",")+")";super("tuple",o,n,s);O(this,"coders");(0,Kye.defineProperties)(this,{coders:Object.freeze(t.slice())})}defaultValue(){let t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});let n=this.coders.reduce((s,i)=>{let o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,n){let s=Vye.Typed.dereference(n,"tuple");return(0,eQ.pack)(t,this.coders,s)}decode(t){return(0,eQ.unpack)(t,this.coders)}};dO.TupleCoder=xI});var wI=M(hO=>{y();b();Object.defineProperty(hO,"__esModule",{value:!0});hO.id=void 0;var Jye=Dn(),Wye=pe();function $ye(r){return(0,Jye.keccak256)((0,Wye.toUtf8Bytes)(r))}hO.id=$ye});var oQ=M(hu=>{y();b();Object.defineProperty(hu,"__esModule",{value:!0});hu.dnsEncode=hu.namehash=hu.isValidName=hu.ensNormalize=void 0;var rQ=Dn(),Ho=pe(),Zye=c4(),sQ=new Uint8Array(32);sQ.fill(0);function nQ(r){return(0,Ho.assertArgument)(r.length!==0,"invalid ENS name; empty component","comp",r),r}function _I(r){let e=(0,Ho.toUtf8Bytes)(iQ(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(nQ(e.slice(n,s))),n=s+1);return(0,Ho.assertArgument)(n<e.length,"invalid ENS name; empty component","name",r),t.push(nQ(e.slice(n))),t}function iQ(r){try{if(r.length===0)throw new Error("empty label");return(0,Zye.ens_normalize)(r)}catch(e){(0,Ho.assertArgument)(!1,`invalid ENS name (${e.message})`,"name",r)}}hu.ensNormalize=iQ;function Qye(r){try{return _I(r).length!==0}catch{}return!1}hu.isValidName=Qye;function Xye(r){(0,Ho.assertArgument)(typeof r=="string","invalid ENS name; not a string","name",r),(0,Ho.assertArgument)(r.length,"invalid ENS name (empty label)","name",r);let e=sQ,t=_I(r);for(;t.length;)e=(0,rQ.keccak256)((0,Ho.concat)([e,(0,rQ.keccak256)(t.pop())]));return(0,Ho.hexlify)(e)}hu.namehash=Xye;function Yye(r,e){let t=e??63;return(0,Ho.assertArgument)(t<=255,"DNS encoded label cannot exceed 255","length",t),(0,Ho.hexlify)((0,Ho.concat)(_I(r).map(n=>{(0,Ho.assertArgument)(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);let s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}hu.dnsEncode=Yye});var PI=M(gO=>{y();b();Object.defineProperty(gO,"__esModule",{value:!0});gO.accessListify=void 0;var ebe=Sn(),_2=pe();function vI(r,e){return{address:(0,ebe.getAddress)(r),storageKeys:e.map((t,n)=>((0,_2.assertArgument)((0,_2.isHexString)(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function tbe(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?((0,_2.assertArgument)(t.length===2,"invalid slot set",`value[${n}]`,t),vI(t[0],t[1])):((0,_2.assertArgument)(t!=null&&typeof t=="object","invalid address-slot set","value",r),vI(t.address,t.storageKeys)));(0,_2.assertArgument)(r!=null&&typeof r=="object","invalid access list","value",r);let e=Object.keys(r).map(t=>{let n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return vI(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}gO.accessListify=tbe});var EI=M(xx=>{y();b();Object.defineProperty(xx,"__esModule",{value:!0});xx.recoverAddress=xx.computeAddress=void 0;var rbe=Sn(),AI=Dn();function aQ(r){let e;return typeof r=="string"?e=AI.SigningKey.computePublicKey(r,!1):e=r.publicKey,(0,rbe.getAddress)((0,AI.keccak256)("0x"+e.substring(4)).substring(26))}xx.computeAddress=aQ;function nbe(r,e){return aQ(AI.SigningKey.recoverPublicKey(r,e))}xx.recoverAddress=nbe});var lQ=M(yO=>{y();b();Object.defineProperty(yO,"__esModule",{value:!0});yO.Transaction=void 0;var uQ=Sn(),fQ=QB(),Rf=Dn(),re=pe(),OI=PI(),sbe=EI(),qn=BigInt(0),ibe=BigInt(2),obe=BigInt(27),abe=BigInt(28),cbe=BigInt(35),ube=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),SI=4096*32;function cQ(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=(0,Rf.sha256)(e).substring(4),"0x"+t}function mO(r){return r==="0x"?null:(0,uQ.getAddress)(r)}function TI(r,e){try{return(0,OI.accessListify)(r)}catch(t){(0,re.assertArgument)(!1,t.message,e,r)}}function v2(r,e){return r==="0x"?0:(0,re.getNumber)(r,e)}function tn(r,e){if(r==="0x")return qn;let t=(0,re.getBigInt)(r,e);return(0,re.assertArgument)(t<=ube,"value exceeds uint size",e,t),t}function Pr(r,e){let t=(0,re.getBigInt)(r,"value"),n=(0,re.toBeArray)(t);return(0,re.assertArgument)(n.length<=32,"value too large",`tx.${e}`,t),n}function NI(r){return(0,OI.accessListify)(r).map(e=>[e.address,e.storageKeys])}function fbe(r,e){(0,re.assertArgument)(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)(0,re.assertArgument)((0,re.isHexString)(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function lbe(r){let e=(0,re.decodeRlp)(r);(0,re.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);let t={type:0,nonce:v2(e[0],"nonce"),gasPrice:tn(e[1],"gasPrice"),gasLimit:tn(e[2],"gasLimit"),to:mO(e[3]),value:tn(e[4],"value"),data:(0,re.hexlify)(e[5]),chainId:qn};if(e.length===6)return t;let n=tn(e[6],"v"),s=tn(e[7],"r"),i=tn(e[8],"s");if(s===qn&&i===qn)t.chainId=n;else{let o=(n-cbe)/ibe;o<qn&&(o=qn),t.chainId=o,(0,re.assertArgument)(o!==qn||n===obe||n===abe,"non-canonical legacy v","v",e[6]),t.signature=Rf.Signature.from({r:(0,re.zeroPadValue)(e[7],32),s:(0,re.zeroPadValue)(e[8],32),v:n})}return t}function dbe(r,e){let t=[Pr(r.nonce,"nonce"),Pr(r.gasPrice||0,"gasPrice"),Pr(r.gasLimit,"gasLimit"),r.to||"0x",Pr(r.value,"value"),r.data],n=qn;if(r.chainId!=qn)n=(0,re.getBigInt)(r.chainId,"tx.chainId"),(0,re.assertArgument)(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){let i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==qn&&(t.push((0,re.toBeArray)(n)),t.push("0x"),t.push("0x")),(0,re.encodeRlp)(t);let s=BigInt(27+e.yParity);return n!==qn?s=Rf.Signature.getChainIdV(n,e.v):BigInt(e.v)!==s&&(0,re.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",e),t.push((0,re.toBeArray)(s)),t.push((0,re.toBeArray)(e.r)),t.push((0,re.toBeArray)(e.s)),(0,re.encodeRlp)(t)}function CI(r,e){let t;try{if(t=v2(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{(0,re.assertArgument)(!1,"invalid yParity","yParity",e[0])}let n=(0,re.zeroPadValue)(e[1],32),s=(0,re.zeroPadValue)(e[2],32),i=Rf.Signature.from({r:n,s,yParity:t});r.signature=i}function hbe(r){let e=(0,re.decodeRlp)((0,re.getBytes)(r).slice(1));(0,re.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",(0,re.hexlify)(r));let t={type:2,chainId:tn(e[0],"chainId"),nonce:v2(e[1],"nonce"),maxPriorityFeePerGas:tn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:tn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:tn(e[4],"gasLimit"),to:mO(e[5]),value:tn(e[6],"value"),data:(0,re.hexlify)(e[7]),accessList:TI(e[8],"accessList")};return e.length===9||CI(t,e.slice(9)),t}function gbe(r,e){let t=[Pr(r.chainId,"chainId"),Pr(r.nonce,"nonce"),Pr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pr(r.maxFeePerGas||0,"maxFeePerGas"),Pr(r.gasLimit,"gasLimit"),r.to||"0x",Pr(r.value,"value"),r.data,NI(r.accessList||[])];return e&&(t.push(Pr(e.yParity,"yParity")),t.push((0,re.toBeArray)(e.r)),t.push((0,re.toBeArray)(e.s))),(0,re.concat)(["0x02",(0,re.encodeRlp)(t)])}function pbe(r){let e=(0,re.decodeRlp)((0,re.getBytes)(r).slice(1));(0,re.assertArgument)(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",(0,re.hexlify)(r));let t={type:1,chainId:tn(e[0],"chainId"),nonce:v2(e[1],"nonce"),gasPrice:tn(e[2],"gasPrice"),gasLimit:tn(e[3],"gasLimit"),to:mO(e[4]),value:tn(e[5],"value"),data:(0,re.hexlify)(e[6]),accessList:TI(e[7],"accessList")};return e.length===8||CI(t,e.slice(8)),t}function mbe(r,e){let t=[Pr(r.chainId,"chainId"),Pr(r.nonce,"nonce"),Pr(r.gasPrice||0,"gasPrice"),Pr(r.gasLimit,"gasLimit"),r.to||"0x",Pr(r.value,"value"),r.data,NI(r.accessList||[])];return e&&(t.push(Pr(e.yParity,"recoveryParam")),t.push((0,re.toBeArray)(e.r)),t.push((0,re.toBeArray)(e.s))),(0,re.concat)(["0x01",(0,re.encodeRlp)(t)])}function ybe(r){let e=(0,re.decodeRlp)((0,re.getBytes)(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let i=e[1],o=e[2],a=e[3];(0,re.assertArgument)(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),(0,re.assertArgument)(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),(0,re.assertArgument)(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),(0,re.assertArgument)(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),(0,re.assertArgument)(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}(0,re.assertArgument)(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",(0,re.hexlify)(r));let s={type:3,chainId:tn(e[0],"chainId"),nonce:v2(e[1],"nonce"),maxPriorityFeePerGas:tn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:tn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:tn(e[4],"gasLimit"),to:mO(e[5]),value:tn(e[6],"value"),data:(0,re.hexlify)(e[7]),accessList:TI(e[8],"accessList"),maxFeePerBlobGas:tn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),(0,re.assertArgument)(s.to!=null,`invalid address for transaction type: ${t}`,"data",r),(0,re.assertArgument)(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<s.blobVersionedHashes.length;i++)(0,re.assertArgument)((0,re.isHexString)(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||CI(s,e.slice(11)),s}function bbe(r,e,t){let n=[Pr(r.chainId,"chainId"),Pr(r.nonce,"nonce"),Pr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pr(r.maxFeePerGas||0,"maxFeePerGas"),Pr(r.gasLimit,"gasLimit"),r.to||fQ.ZeroAddress,Pr(r.value,"value"),r.data,NI(r.accessList||[]),Pr(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),fbe(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Pr(e.yParity,"yParity")),n.push((0,re.toBeArray)(e.r)),n.push((0,re.toBeArray)(e.s)),t)?(0,re.concat)(["0x03",(0,re.encodeRlp)([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):(0,re.concat)(["0x03",(0,re.encodeRlp)(n)])}var gu,wx,_x,vx,Px,Ax,Ex,Sx,kx,Ox,Tx,Nx,lg,Sd,Cf,kd,Cx,pO,Nf=class{constructor(){T(this,Cx);T(this,gu,void 0);T(this,wx,void 0);T(this,_x,void 0);T(this,vx,void 0);T(this,Px,void 0);T(this,Ax,void 0);T(this,Ex,void 0);T(this,Sx,void 0);T(this,kx,void 0);T(this,Ox,void 0);T(this,Tx,void 0);T(this,Nx,void 0);T(this,lg,void 0);T(this,Sd,void 0);T(this,Cf,void 0);T(this,kd,void 0);w(this,gu,null),w(this,wx,null),w(this,vx,0),w(this,Px,qn),w(this,Ax,null),w(this,Ex,null),w(this,Sx,null),w(this,_x,"0x"),w(this,kx,qn),w(this,Ox,qn),w(this,Tx,null),w(this,Nx,null),w(this,lg,null),w(this,Sd,null),w(this,kd,null),w(this,Cf,null)}get type(){return h(this,gu)}set type(e){switch(e){case null:w(this,gu,null);break;case 0:case"legacy":w(this,gu,0);break;case 1:case"berlin":case"eip-2930":w(this,gu,1);break;case 2:case"london":case"eip-1559":w(this,gu,2);break;case 3:case"cancun":case"eip-4844":w(this,gu,3);break;default:(0,re.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=h(this,wx);return e==null&&this.type===3?fQ.ZeroAddress:e}set to(e){w(this,wx,e==null?null:(0,uQ.getAddress)(e))}get nonce(){return h(this,vx)}set nonce(e){w(this,vx,(0,re.getNumber)(e,"value"))}get gasLimit(){return h(this,Px)}set gasLimit(e){w(this,Px,(0,re.getBigInt)(e))}get gasPrice(){let e=h(this,Ax);return e==null&&(this.type===0||this.type===1)?qn:e}set gasPrice(e){w(this,Ax,e==null?null:(0,re.getBigInt)(e,"gasPrice"))}get maxPriorityFeePerGas(){let e=h(this,Ex);return e??(this.type===2||this.type===3?qn:null)}set maxPriorityFeePerGas(e){w(this,Ex,e==null?null:(0,re.getBigInt)(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){let e=h(this,Sx);return e??(this.type===2||this.type===3?qn:null)}set maxFeePerGas(e){w(this,Sx,e==null?null:(0,re.getBigInt)(e,"maxFeePerGas"))}get data(){return h(this,_x)}set data(e){w(this,_x,(0,re.hexlify)(e))}get value(){return h(this,kx)}set value(e){w(this,kx,(0,re.getBigInt)(e,"value"))}get chainId(){return h(this,Ox)}set chainId(e){w(this,Ox,(0,re.getBigInt)(e))}get signature(){return h(this,Tx)||null}set signature(e){w(this,Tx,e==null?null:Rf.Signature.from(e))}get accessList(){let e=h(this,Nx)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){w(this,Nx,e==null?null:(0,OI.accessListify)(e))}get maxFeePerBlobGas(){let e=h(this,lg);return e==null&&this.type===3?qn:e}set maxFeePerBlobGas(e){w(this,lg,e==null?null:(0,re.getBigInt)(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=h(this,Sd);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){(0,re.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,re.assertArgument)((0,re.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}w(this,Sd,e)}get blobs(){return h(this,kd)==null?null:h(this,kd).map(e=>Object.assign({},e))}set blobs(e){if(e==null){w(this,kd,null);return}let t=[],n=[];for(let s=0;s<e.length;s++){let i=e[s];if((0,re.isBytesLike)(i)){(0,re.assert)(h(this,Cf),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=(0,re.getBytes)(i);if((0,re.assertArgument)(o.length<=SI,"blob is too large",`blobs[${s}]`,i),o.length!==SI){let f=new Uint8Array(SI);f.set(o),o=f}let a=h(this,Cf).blobToKzgCommitment(o),c=(0,re.hexlify)(h(this,Cf).computeBlobKzgProof(o,a));t.push({data:(0,re.hexlify)(o),commitment:(0,re.hexlify)(a),proof:c}),n.push(cQ(1,a))}else{let o=(0,re.hexlify)(i.commitment);t.push({data:(0,re.hexlify)(i.data),commitment:o,proof:(0,re.hexlify)(i.proof)}),n.push(cQ(1,o))}}w(this,kd,t),w(this,Sd,n)}get kzg(){return h(this,Cf)}set kzg(e){w(this,Cf,e)}get hash(){return this.signature==null?null:(0,Rf.keccak256)(D(this,Cx,pO).call(this,!0,!1))}get unsignedHash(){return(0,Rf.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,sbe.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Rf.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return D(this,Cx,pO).call(this,!0,!0)}get unsignedSerialized(){return D(this,Cx,pO).call(this,!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=h(this,lg)!=null||h(this,Sd);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,re.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,re.assert)(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,re.assert)(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Nf.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Nf;if(typeof e=="string"){let n=(0,re.getBytes)(e);if(n[0]>=127)return Nf.from(lbe(n));switch(n[0]){case 1:return Nf.from(pbe(n));case 2:return Nf.from(hbe(n));case 3:return Nf.from(ybe(n))}(0,re.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new Nf;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Rf.Signature.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&((0,re.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,re.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&((0,re.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,re.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}},kI=Nf;gu=new WeakMap,wx=new WeakMap,_x=new WeakMap,vx=new WeakMap,Px=new WeakMap,Ax=new WeakMap,Ex=new WeakMap,Sx=new WeakMap,kx=new WeakMap,Ox=new WeakMap,Tx=new WeakMap,Nx=new WeakMap,lg=new WeakMap,Sd=new WeakMap,Cf=new WeakMap,kd=new WeakMap,Cx=new WeakSet,pO=function(e,t){(0,re.assert)(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return dbe(this,n);case 1:return mbe(this,n);case 2:return gbe(this,n);case 3:return bbe(this,n,t?this.blobs:null)}(0,re.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};yO.Transaction=kI});var yi=M(pu=>{y();b();Object.defineProperty(pu,"__esModule",{value:!0});pu.Transaction=pu.recoverAddress=pu.computeAddress=pu.accessListify=void 0;var xbe=PI();Object.defineProperty(pu,"accessListify",{enumerable:!0,get:function(){return xbe.accessListify}});var dQ=EI();Object.defineProperty(pu,"computeAddress",{enumerable:!0,get:function(){return dQ.computeAddress}});Object.defineProperty(pu,"recoverAddress",{enumerable:!0,get:function(){return dQ.recoverAddress}});var wbe=lQ();Object.defineProperty(pu,"Transaction",{enumerable:!0,get:function(){return wbe.Transaction}})});var gQ=M(Rx=>{y();b();Object.defineProperty(Rx,"__esModule",{value:!0});Rx.verifyMessage=Rx.hashMessage=void 0;var _be=Dn(),vbe=fx(),Pbe=yi(),bO=pe();function hQ(r){return typeof r=="string"&&(r=(0,bO.toUtf8Bytes)(r)),(0,_be.keccak256)((0,bO.concat)([(0,bO.toUtf8Bytes)(vbe.MessagePrefix),(0,bO.toUtf8Bytes)(String(r.length)),r]))}Rx.hashMessage=hQ;function Abe(r,e){let t=hQ(r);return(0,Pbe.recoverAddress)(t,e)}Rx.verifyMessage=Abe});var yQ=M(Od=>{y();b();Object.defineProperty(Od,"__esModule",{value:!0});Od.solidityPackedSha256=Od.solidityPackedKeccak256=Od.solidityPacked=void 0;var Ebe=Sn(),pQ=Dn(),Ar=pe(),Sbe=new RegExp("^bytes([0-9]+)$"),kbe=new RegExp("^(u?int)([0-9]*)$"),Obe=new RegExp("^(.*)\\[([0-9]*)\\]$");function mQ(r,e,t){switch(r){case"address":return t?(0,Ar.getBytes)((0,Ar.zeroPadValue)(e,32)):(0,Ar.getBytes)((0,Ebe.getAddress)(e));case"string":return(0,Ar.toUtf8Bytes)(e);case"bytes":return(0,Ar.getBytes)(e);case"bool":return e=e?"0x01":"0x00",t?(0,Ar.getBytes)((0,Ar.zeroPadValue)(e,32)):(0,Ar.getBytes)(e)}let n=r.match(kbe);if(n){let s=n[1]==="int",i=parseInt(n[2]||"256");return(0,Ar.assertArgument)((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",r),t&&(i=256),s&&(e=(0,Ar.toTwos)(e,i)),(0,Ar.getBytes)((0,Ar.zeroPadValue)((0,Ar.toBeArray)(e),i/8))}if(n=r.match(Sbe),n){let s=parseInt(n[1]);return(0,Ar.assertArgument)(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",r),(0,Ar.assertArgument)((0,Ar.dataLength)(e)===s,`invalid value for ${r}`,"value",e),t?(0,Ar.getBytes)((0,Ar.zeroPadBytes)(e,32)):e}if(n=r.match(Obe),n&&Array.isArray(e)){let s=n[1],i=parseInt(n[2]||String(e.length));(0,Ar.assertArgument)(i===e.length,`invalid array length for ${r}`,"value",e);let o=[];return e.forEach(function(a){o.push(mQ(s,a,!0))}),(0,Ar.getBytes)((0,Ar.concat)(o))}(0,Ar.assertArgument)(!1,"invalid type","type",r)}function RI(r,e){(0,Ar.assertArgument)(r.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return r.forEach(function(n,s){t.push(mQ(n,e[s]))}),(0,Ar.hexlify)((0,Ar.concat)(t))}Od.solidityPacked=RI;function Tbe(r,e){return(0,pQ.keccak256)(RI(r,e))}Od.solidityPackedKeccak256=Tbe;function Nbe(r,e){return(0,pQ.sha256)(RI(r,e))}Od.solidityPackedSha256=Nbe});var kQ=M(Mx=>{y();b();Object.defineProperty(Mx,"__esModule",{value:!0});Mx.verifyTypedData=Mx.TypedDataEncoder=void 0;var _Q=Sn(),Bx=Dn(),Cbe=yi(),Be=pe(),vQ=wI(),PQ=new Uint8Array(32);PQ.fill(0);var Rbe=BigInt(-1),AQ=BigInt(0),EQ=BigInt(1),Bbe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ibe(r){let e=(0,Be.getBytes)(r),t=e.length%32;return t?(0,Be.concat)([e,PQ.slice(t)]):(0,Be.hexlify)(e)}var Mbe=(0,Be.toBeHex)(EQ,32),jbe=(0,Be.toBeHex)(AQ,32),bQ={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},BI=["name","version","chainId","verifyingContract","salt"];function xQ(r){return function(e){return(0,Be.assertArgument)(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}var Fbe={name:xQ("name"),version:xQ("version"),chainId:function(r){let e=(0,Be.getBigInt)(r,"domain.chainId");return(0,Be.assertArgument)(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):(0,Be.toQuantity)(e)},verifyingContract:function(r){try{return(0,_Q.getAddress)(r).toLowerCase()}catch{}(0,Be.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){let e=(0,Be.getBytes)(r,"domain.salt");return(0,Be.assertArgument)(e.length===32,'invalid domain value "salt"',"domain.salt",r),(0,Be.hexlify)(e)}};function II(r){{let e=r.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",n=parseInt(e[2]);(0,Be.assertArgument)(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);let s=(0,Be.mask)(Bbe,t?n-1:n),i=t?(s+EQ)*Rbe:AQ;return function(o){let a=(0,Be.getBigInt)(o,"value");return(0,Be.assertArgument)(a>=i&&a<=s,`value out-of-bounds for ${r}`,"value",a),(0,Be.toBeHex)(t?(0,Be.toTwos)(a,256):a,32)}}}{let e=r.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return(0,Be.assertArgument)(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){let s=(0,Be.getBytes)(n);return(0,Be.assertArgument)(s.length===t,`invalid length for ${r}`,"value",n),Ibe(n)}}}switch(r){case"address":return function(e){return(0,Be.zeroPadValue)((0,_Q.getAddress)(e),32)};case"bool":return function(e){return e?Mbe:jbe};case"bytes":return function(e){return(0,Bx.keccak256)(e)};case"string":return function(e){return(0,vQ.id)(e)}}return null}function wQ(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function xO(r){let e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}var P2,Bf,Ix,_O,SQ,Go=class{constructor(e){T(this,_O);O(this,"primaryType");T(this,P2,void 0);T(this,Bf,void 0);T(this,Ix,void 0);w(this,Bf,new Map),w(this,Ix,new Map);let t=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:f,type:g})=>{let{base:p,index:A}=xO(g);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:f,type:p+(A||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),w(this,P2,JSON.stringify(i));for(let c in i){let f=new Set;for(let g of i[c]){(0,Be.assertArgument)(!f.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(c)}`,"types",e),f.add(g.name);let p=xO(g.type).base;(0,Be.assertArgument)(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!II(p)&&((0,Be.assertArgument)(n.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),n.get(p).push(c),t.get(c).add(p))}}let o=Array.from(n.keys()).filter(c=>n.get(c).length===0);(0,Be.assertArgument)(o.length!==0,"missing primary type","types",e),(0,Be.assertArgument)(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),(0,Be.defineProperties)(this,{primaryType:o[0]});function a(c,f){(0,Be.assertArgument)(!f.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),f.add(c);for(let g of t.get(c))if(!!n.has(g)){a(g,f);for(let p of f)s.get(p).add(g)}f.delete(c)}a(this.primaryType,new Set);for(let[c,f]of s){let g=Array.from(f);g.sort(),h(this,Bf).set(c,wQ(c,i[c])+g.map(p=>wQ(p,i[p])).join(""))}}get types(){return JSON.parse(h(this,P2))}getEncoder(e){let t=h(this,Ix).get(e);return t||(t=D(this,_O,SQ).call(this,e),h(this,Ix).set(e,t)),t}encodeType(e){let t=h(this,Bf).get(e);return(0,Be.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,Bx.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(II(e))return n(e,t);let s=xO(e).array;if(s)return(0,Be.assertArgument)(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,n));let i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{});(0,Be.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Go(e)}static getPrimaryType(e){return Go.from(e).primaryType}static hashStruct(e,t,n){return Go.from(t).hashStruct(e,n)}static hashDomain(e){let t=[];for(let n in e){if(e[n]==null)continue;let s=bQ[n];(0,Be.assertArgument)(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>BI.indexOf(n.name)-BI.indexOf(s.name)),Go.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return(0,Be.concat)(["0x1901",Go.hashDomain(e),Go.from(t).hash(n)])}static hash(e,t,n){return(0,Bx.keccak256)(Go.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!(0,Be.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=Go.from(t);o.visit(n,(a,c)=>(a==="address"&&!(0,Be.isHexString)(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,t,n){Go.hashDomain(e);let s={},i=[];BI.forEach(c=>{let f=e[c];f!=null&&(s[c]=Fbe[c](f),i.push({name:c,type:bQ[c]}))});let o=Go.from(t);t=o.types;let a=Object.assign({},t);return(0,Be.assertArgument)(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return(0,Be.hexlify)((0,Be.getBytes)(f));if(c.match(/^u?int/))return(0,Be.getBigInt)(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return(0,Be.assertArgument)(typeof f=="string","invalid string","value",f),f}(0,Be.assertArgument)(!1,"unsupported type","type",c)})}}},wO=Go;P2=new WeakMap,Bf=new WeakMap,Ix=new WeakMap,_O=new WeakSet,SQ=function(e){{let s=II(e);if(s)return s}let t=xO(e).array;if(t){let s=t.prefix,i=this.getEncoder(s);return o=>{(0,Be.assertArgument)(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return h(this,Bf).has(s)&&(a=a.map(Bx.keccak256)),(0,Bx.keccak256)((0,Be.concat)(a))}}let n=this.types[e];if(n){let s=(0,vQ.id)(h(this,Bf).get(e));return i=>{let o=n.map(({name:a,type:c})=>{let f=this.getEncoder(c)(i[a]);return h(this,Bf).has(c)?(0,Bx.keccak256)(f):f});return o.unshift(s),(0,Be.concat)(o)}}(0,Be.assertArgument)(!1,`unknown type: ${e}`,"type",e)};Mx.TypedDataEncoder=wO;function Lbe(r,e,t,n){return(0,Cbe.recoverAddress)(wO.hash(r,e,t),n)}Mx.verifyTypedData=Lbe});var mu=M(mr=>{y();b();Object.defineProperty(mr,"__esModule",{value:!0});mr.verifyTypedData=mr.TypedDataEncoder=mr.solidityPackedSha256=mr.solidityPackedKeccak256=mr.solidityPacked=mr.verifyMessage=mr.hashMessage=mr.dnsEncode=mr.namehash=mr.isValidName=mr.ensNormalize=mr.id=void 0;var Ube=wI();Object.defineProperty(mr,"id",{enumerable:!0,get:function(){return Ube.id}});var vO=oQ();Object.defineProperty(mr,"ensNormalize",{enumerable:!0,get:function(){return vO.ensNormalize}});Object.defineProperty(mr,"isValidName",{enumerable:!0,get:function(){return vO.isValidName}});Object.defineProperty(mr,"namehash",{enumerable:!0,get:function(){return vO.namehash}});Object.defineProperty(mr,"dnsEncode",{enumerable:!0,get:function(){return vO.dnsEncode}});var OQ=gQ();Object.defineProperty(mr,"hashMessage",{enumerable:!0,get:function(){return OQ.hashMessage}});Object.defineProperty(mr,"verifyMessage",{enumerable:!0,get:function(){return OQ.verifyMessage}});var MI=yQ();Object.defineProperty(mr,"solidityPacked",{enumerable:!0,get:function(){return MI.solidityPacked}});Object.defineProperty(mr,"solidityPackedKeccak256",{enumerable:!0,get:function(){return MI.solidityPackedKeccak256}});Object.defineProperty(mr,"solidityPackedSha256",{enumerable:!0,get:function(){return MI.solidityPackedSha256}});var TQ=kQ();Object.defineProperty(mr,"TypedDataEncoder",{enumerable:!0,get:function(){return TQ.TypedDataEncoder}});Object.defineProperty(mr,"verifyTypedData",{enumerable:!0,get:function(){return TQ.verifyTypedData}})});var SO=M(gn=>{y();b();Object.defineProperty(gn,"__esModule",{value:!0});gn.StructFragment=gn.FunctionFragment=gn.FallbackFragment=gn.ConstructorFragment=gn.EventFragment=gn.ErrorFragment=gn.NamedFragment=gn.Fragment=gn.ParamType=void 0;var er=pe(),FI=mu();function Gs(r){let e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}var Dbe="external public payable override",qbe=Gs(Dbe.split(" ")),UQ="constant external internal payable private public pure view override",Hbe=Gs(UQ.split(" ")),DQ="constructor error event fallback function receive struct",qQ=Gs(DQ.split(" ")),HQ="calldata memory storage payable indexed",Gbe=Gs(HQ.split(" ")),Kbe="tuple returns",Vbe=[DQ,HQ,Kbe,UQ].join(" "),zbe=Gs(Vbe.split(" ")),Jbe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Wbe=new RegExp("^(\\s*)"),$be=new RegExp("^([0-9]+)"),Zbe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),GQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),KQ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),zn,dc,E2,jI,AO=class{constructor(e){T(this,E2);T(this,zn,void 0);T(this,dc,void 0);w(this,zn,0),w(this,dc,e.slice())}get offset(){return h(this,zn)}get length(){return h(this,dc).length-h(this,zn)}clone(){return new AO(h(this,dc))}reset(){w(this,zn,0)}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=D(this,E2,jI).call(this,h(this,zn)+1,e.match+1);return w(this,zn,e.match+1),t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;h(this,zn)<e.match-1;){let n=this.peek().linkNext;t.push(D(this,E2,jI).call(this,h(this,zn)+1,n)),w(this,zn,n)}return w(this,zn,e.match+1),t}peek(){if(h(this,zn)>=h(this,dc).length)throw new Error("out-of-bounds");return h(this,dc)[h(this,zn)]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return On(this,zn)._++,e}toString(){let e=[];for(let t=h(this,zn);t<h(this,dc).length;t++){let n=h(this,dc)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}},pc=AO;zn=new WeakMap,dc=new WeakMap,E2=new WeakSet,jI=function(e=0,t=0){return new AO(h(this,dc).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};function Td(r){let e=[],t=o=>{let a=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)},n=[],s=[],i=0;for(;i<r.length;){let o=r.substring(i),a=o.match(Wbe);a&&(i+=a[1].length,o=r.substring(i));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let f=Jbe[o[0]]||"";if(f){if(c.type=f,c.text=o[0],i++,f==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(f==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(f==="OPEN_BRACKET")c.type="BRACKET";else if(f==="CLOSE_BRACKET"){let g=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let p=e.pop().text;g=p+g,e[e.length-1].value=(0,er.getNumber)(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=g}continue}if(a=o.match(Zbe),a){if(c.text=a[1],i+=c.text.length,zbe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(KQ)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match($be),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new pc(e.map(o=>Object.freeze(o)))}function NQ(r,e){let t=[];for(let n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function EO(r,e){if(e.peekKeyword(qQ)){let t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function Mf(r,e){let t=new Set;for(;;){let n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function VQ(r){let e=Mf(r,Hbe);return NQ(e,Gs("constant payable nonpayable".split(" "))),NQ(e,Gs("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function If(r,e){return r.popParams().map(t=>bi.from(t,e))}function zQ(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return(0,er.getBigInt)(r.pop().text);throw new Error("invalid gas")}return null}function dg(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}var Qbe=new RegExp(/^(.*)\[([0-9]*)\]$/);function CQ(r){let e=r.match(KQ);if((0,er.assertArgument)(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){let t=parseInt(e[2]);(0,er.assertArgument)(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){let t=parseInt(e[3]);(0,er.assertArgument)(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}var Ir={},xi=Symbol.for("_ethers_internal"),RQ="_ParamTypeInternal",BQ="_ErrorInternal",IQ="_EventInternal",MQ="_ConstructorInternal",jQ="_FallbackInternal",FQ="_FunctionInternal",LQ="_StructInternal",jx,PO,Ko=class{constructor(e,t,n,s,i,o,a,c){T(this,jx);O(this,"name");O(this,"type");O(this,"baseType");O(this,"indexed");O(this,"components");O(this,"arrayLength");O(this,"arrayChildren");if((0,er.assertPrivate)(e,Ir,"ParamType"),Object.defineProperty(this,xi,{value:RQ}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");(0,er.defineProperties)(this,{name:t,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){let n=[],s=[e];return D(this,jx,PO).call(this,n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(Ko.isParamType(e))return e;if(typeof e=="string")try{return Ko.from(Td(e),t)}catch{(0,er.assertArgument)(!1,"invalid param type","obj",e)}else if(e instanceof pc){let a="",c="",f=null;Mf(e,Gs(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",f=e.popParams().map(N=>Ko.from(N)),a=`tuple(${f.map(N=>N.format()).join(",")})`):(a=CQ(e.popType("TYPE")),c=a);let g=null,p=null;for(;e.length&&e.peekType("BRACKET");){let N=e.pop();g=new Ko(Ir,"",a,c,null,f,p,g),p=N.value,a+=N.text,c="array",f=null}let A=null;if(Mf(e,Gbe).has("indexed")){if(!t)throw new Error("");A=!0}let C=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ko(Ir,C,a,c,A,f,p,g)}let n=e.name;(0,er.assertArgument)(!n||typeof n=="string"&&n.match(GQ),"invalid name","obj.name",n);let s=e.indexed;s!=null&&((0,er.assertArgument)(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(Qbe);if(o){let a=parseInt(o[2]||"-1"),c=Ko.from({type:o[1],components:e.components});return new Ko(Ir,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(f=>Ko.from(f)):null;return new Ko(Ir,n||"",i,"tuple",s,a,null,null)}return i=CQ(e.type),new Ko(Ir,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[xi]===RQ}},bi=Ko;jx=new WeakSet,PO=function(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=t.slice();a.forEach((c,f)=>{var g;D(g=o,jx,PO).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}if(this.isTuple()){let o=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,f)=>{var g;D(g=o[f],jx,PO).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}let i=n(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};gn.ParamType=bi;var jf=class{constructor(e,t,n){O(this,"type");O(this,"inputs");(0,er.assertPrivate)(e,Ir,"Fragment"),n=Object.freeze(n.slice()),(0,er.defineProperties)(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{jf.from(JSON.parse(e))}catch{}return jf.from(Td(e))}if(e instanceof pc)switch(e.peekKeyword(qQ)){case"constructor":return gc.from(e);case"error":return hc.from(e);case"event":return zo.from(e);case"fallback":case"receive":return Vo.from(e);case"function":return Jo.from(e);case"struct":return yu.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return gc.from(e);case"error":return hc.from(e);case"event":return zo.from(e);case"fallback":case"receive":return Vo.from(e);case"function":return Jo.from(e);case"struct":return yu.from(e)}(0,er.assert)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,er.assertArgument)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return gc.isFragment(e)}static isError(e){return hc.isFragment(e)}static isEvent(e){return zo.isFragment(e)}static isFunction(e){return Jo.isFragment(e)}static isStruct(e){return yu.isFragment(e)}};gn.Fragment=jf;var hg=class extends jf{constructor(t,n,s,i){super(t,n,i);O(this,"name");(0,er.assertArgument)(typeof s=="string"&&s.match(GQ),"invalid identifier","name",s),i=Object.freeze(i.slice()),(0,er.defineProperties)(this,{name:s})}};gn.NamedFragment=hg;function A2(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}var hc=class extends hg{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,xi,{value:BQ})}get selector(){return(0,FI.id)(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+A2(e,this.inputs)),t.join(" ")}static from(e){if(hc.isFragment(e))return e;if(typeof e=="string")return hc.from(Td(e));if(e instanceof pc){let t=EO("error",e),n=If(e);return dg(e),new hc(Ir,t,n)}return new hc(Ir,e.name,e.inputs?e.inputs.map(bi.from):[])}static isFragment(e){return e&&e[xi]===BQ}};gn.ErrorFragment=hc;var zo=class extends hg{constructor(t,n,s,i){super(t,"event",n,s);O(this,"anonymous");Object.defineProperty(this,xi,{value:IQ}),(0,er.defineProperties)(this,{anonymous:i})}get topicHash(){return(0,FI.id)(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+A2(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(i=>bi.from(i)),new zo(Ir,t,n,!1).topicHash}static from(t){if(zo.isFragment(t))return t;if(typeof t=="string")try{return zo.from(Td(t))}catch{(0,er.assertArgument)(!1,"invalid event fragment","obj",t)}else if(t instanceof pc){let n=EO("event",t),s=If(t,!0),i=!!Mf(t,Gs(["anonymous"])).has("anonymous");return dg(t),new zo(Ir,n,s,i)}return new zo(Ir,t.name,t.inputs?t.inputs.map(n=>bi.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[xi]===IQ}};gn.EventFragment=zo;var gc=class extends jf{constructor(t,n,s,i,o){super(t,n,s);O(this,"payable");O(this,"gas");Object.defineProperty(this,xi,{value:MQ}),(0,er.defineProperties)(this,{payable:i,gas:o})}format(t){if((0,er.assert)(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[`constructor${A2(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(gc.isFragment(t))return t;if(typeof t=="string")try{return gc.from(Td(t))}catch{(0,er.assertArgument)(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof pc){Mf(t,Gs(["constructor"]));let n=If(t),s=!!Mf(t,qbe).has("payable"),i=zQ(t);return dg(t),new gc(Ir,"constructor",n,s,i)}return new gc(Ir,"constructor",t.inputs?t.inputs.map(bi.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[xi]===MQ}};gn.ConstructorFragment=gc;var Vo=class extends jf{constructor(t,n,s){super(t,"fallback",n);O(this,"payable");Object.defineProperty(this,xi,{value:jQ}),(0,er.defineProperties)(this,{payable:s})}format(t){let n=this.inputs.length===0?"receive":"fallback";if(t==="json"){let s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(t){if(Vo.isFragment(t))return t;if(typeof t=="string")try{return Vo.from(Td(t))}catch{(0,er.assertArgument)(!1,"invalid fallback fragment","obj",t)}else if(t instanceof pc){let n=t.toString(),s=t.peekKeyword(Gs(["fallback","receive"]));if((0,er.assertArgument)(s,"type must be fallback or receive","obj",n),t.popKeyword(Gs(["fallback","receive"]))==="receive"){let c=If(t);return(0,er.assertArgument)(c.length===0,"receive cannot have arguments","obj.inputs",c),Mf(t,Gs(["payable"])),dg(t),new Vo(Ir,[],!0)}let o=If(t);o.length?(0,er.assertArgument)(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[bi.from("bytes")];let a=VQ(t);if((0,er.assertArgument)(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Mf(t,Gs(["returns"])).has("returns")){let c=If(t);(0,er.assertArgument)(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(f=>f.format("minimal")).join(", "))}return dg(t),new Vo(Ir,o,a==="payable")}if(t.type==="receive")return new Vo(Ir,[],!0);if(t.type==="fallback"){let n=[bi.from("bytes")],s=t.stateMutability==="payable";return new Vo(Ir,n,s)}(0,er.assertArgument)(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[xi]===jQ}};gn.FallbackFragment=Vo;var Jo=class extends hg{constructor(t,n,s,i,o,a){super(t,"function",n,i);O(this,"constant");O(this,"outputs");O(this,"stateMutability");O(this,"payable");O(this,"gas");Object.defineProperty(this,xi,{value:FQ}),o=Object.freeze(o.slice());let c=s==="view"||s==="pure",f=s==="payable";(0,er.defineProperties)(this,{constant:c,gas:a,outputs:o,payable:f,stateMutability:s})}get selector(){return(0,FI.id)(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+A2(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(A2(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(i=>bi.from(i)),new Jo(Ir,t,"view",n,[],null).selector}static from(t){if(Jo.isFragment(t))return t;if(typeof t=="string")try{return Jo.from(Td(t))}catch{(0,er.assertArgument)(!1,"invalid function fragment","obj",t)}else if(t instanceof pc){let s=EO("function",t),i=If(t),o=VQ(t),a=[];Mf(t,Gs(["returns"])).has("returns")&&(a=If(t));let c=zQ(t);return dg(t),new Jo(Ir,s,o,i,a,c)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new Jo(Ir,t.name,n,t.inputs?t.inputs.map(bi.from):[],t.outputs?t.outputs.map(bi.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[xi]===FQ}};gn.FunctionFragment=Jo;var yu=class extends hg{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,xi,{value:LQ})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return yu.from(Td(e))}catch{(0,er.assertArgument)(!1,"invalid struct fragment","obj",e)}else if(e instanceof pc){let t=EO("struct",e),n=If(e);return dg(e),new yu(Ir,t,n)}return new yu(Ir,e.name,e.inputs?e.inputs.map(bi.from):[])}static isFragment(e){return e&&e[xi]===LQ}};gn.StructFragment=yu});var qI=M(TO=>{y();b();Object.defineProperty(TO,"__esModule",{value:!0});TO.AbiCoder=void 0;var S2=pe(),JQ=Fo(),Xbe=GZ(),Ybe=uI(),exe=JZ(),txe=dI(),rxe=$Z(),nxe=ZZ(),sxe=QZ(),ixe=YZ(),kO=tQ(),LI=SO(),WQ=Sn(),k2=pe(),mc=new Map;mc.set(0,"GENERIC_PANIC");mc.set(1,"ASSERT_FALSE");mc.set(17,"OVERFLOW");mc.set(18,"DIVIDE_BY_ZERO");mc.set(33,"ENUM_RANGE_ERROR");mc.set(34,"BAD_STORAGE_DATA");mc.set(49,"STACK_UNDERFLOW");mc.set(50,"ARRAY_RANGE_ERROR");mc.set(65,"OUT_OF_MEMORY");mc.set(81,"UNINITIALIZED_FUNCTION_CALL");var oxe=new RegExp(/^bytes([0-9]*)$/),axe=new RegExp(/^(u?int)([0-9]*)$/),UI=null,$Q=1024;function cxe(r,e,t,n){let s="missing revert data",i=null,o=null,a=null;if(t){s="execution reverted";let f=(0,k2.getBytes)(t);if(t=(0,k2.hexlify)(t),f.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(f.length%32!==4)s+=" (could not decode reason; invalid data length)";else if((0,k2.hexlify)(f.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if((0,k2.hexlify)(f.slice(0,4))==="0x4e487b71")try{let g=Number(n.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[g]},i=`Panic due to ${mc.get(g)||"UNKNOWN"}(${g})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?(0,WQ.getAddress)(e.to):null,data:e.data||"0x"};return e.from&&(c.from=(0,WQ.getAddress)(e.from)),(0,k2.makeError)(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:c,invocation:o,revert:a})}var Nd,Fx,OO=class{constructor(){T(this,Nd)}getDefaultValue(e){let t=e.map(s=>D(this,Nd,Fx).call(this,LI.ParamType.from(s)));return new kO.TupleCoder(t,"_").defaultValue()}encode(e,t){(0,S2.assertArgumentCount)(t.length,e.length,"types/values length mismatch");let n=e.map(o=>D(this,Nd,Fx).call(this,LI.ParamType.from(o))),s=new kO.TupleCoder(n,"_"),i=new JQ.Writer;return s.encode(i,t),i.data}decode(e,t,n){let s=e.map(o=>D(this,Nd,Fx).call(this,LI.ParamType.from(o)));return new kO.TupleCoder(s,"_").decode(new JQ.Reader(t,n,$Q))}static _setDefaultMaxInflation(e){(0,S2.assertArgument)(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),$Q=e}static defaultAbiCoder(){return UI==null&&(UI=new OO),UI}static getBuiltinCallException(e,t,n){return cxe(e,t,n,OO.defaultAbiCoder())}},DI=OO;Nd=new WeakSet,Fx=function(e){if(e.isArray())return new Ybe.ArrayCoder(D(this,Nd,Fx).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new kO.TupleCoder(e.components.map(n=>D(this,Nd,Fx).call(this,n)),e.name);switch(e.baseType){case"address":return new Xbe.AddressCoder(e.name);case"bool":return new exe.BooleanCoder(e.name);case"string":return new ixe.StringCoder(e.name);case"bytes":return new txe.BytesCoder(e.name);case"":return new nxe.NullCoder(e.name)}let t=e.type.match(axe);if(t){let n=parseInt(t[2]||"256");return(0,S2.assertArgument)(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new sxe.NumberCoder(n/8,t[1]==="int",e.name)}if(t=e.type.match(oxe),t){let n=parseInt(t[1]);return(0,S2.assertArgument)(n!==0&&n<=32,"invalid bytes length","param",e),new rxe.FixedBytesCoder(n,e.name)}(0,S2.assertArgument)(!1,"invalid type","type",e.type)};TO.AbiCoder=DI});var ZQ=M(Lx=>{y();b();Object.defineProperty(Lx,"__esModule",{value:!0});Lx.decodeBytes32String=Lx.encodeBytes32String=void 0;var NO=pe();function uxe(r){let e=(0,NO.toUtf8Bytes)(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,NO.zeroPadBytes)(e,32)}Lx.encodeBytes32String=uxe;function fxe(r){let e=(0,NO.getBytes)(r,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return(0,NO.toUtf8String)(e.slice(0,t))}Lx.decodeBytes32String=fxe});var rX=M(bs=>{y();b();Object.defineProperty(bs,"__esModule",{value:!0});bs.Interface=bs.Indexed=bs.ErrorDescription=bs.TransactionDescription=bs.LogDescription=bs.Result=bs.checkResultErrors=void 0;var QQ=Dn(),XQ=mu(),_e=pe(),YQ=qI(),KI=Fo();Object.defineProperty(bs,"checkResultErrors",{enumerable:!0,get:function(){return KI.checkResultErrors}});Object.defineProperty(bs,"Result",{enumerable:!0,get:function(){return KI.Result}});var yc=SO(),HI=du(),BO=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"signature");O(this,"topic");O(this,"args");let s=e.name,i=e.format();(0,_e.defineProperties)(this,{fragment:e,name:s,signature:i,topic:t,args:n})}};bs.LogDescription=BO;var IO=class{constructor(e,t,n,s){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");O(this,"value");let i=e.name,o=e.format();(0,_e.defineProperties)(this,{fragment:e,name:i,args:n,signature:o,selector:t,value:s})}};bs.TransactionDescription=IO;var MO=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");let s=e.name,i=e.format();(0,_e.defineProperties)(this,{fragment:e,name:s,args:n,signature:i,selector:t})}};bs.ErrorDescription=MO;var O2=class{constructor(e){O(this,"hash");O(this,"_isIndexed");(0,_e.defineProperties)(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}};bs.Indexed=O2;var eX={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},tX={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&eX[r.toString()]&&(e=eX[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}},bu,xu,wu,ys,Ux,CO,Dx,RO,gg=class{constructor(e){T(this,Ux);T(this,Dx);O(this,"fragments");O(this,"deploy");O(this,"fallback");O(this,"receive");T(this,bu,void 0);T(this,xu,void 0);T(this,wu,void 0);T(this,ys,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,w(this,wu,new Map),w(this,bu,new Map),w(this,xu,new Map);let n=[];for(let o of t)try{n.push(yc.Fragment.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}(0,_e.defineProperties)(this,{fragments:Object.freeze(n)});let s=null,i=!1;w(this,ys,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,_e.defineProperties)(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:((0,_e.assertArgument)(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=h(this,wu);break;case"event":c=h(this,xu);break;case"error":c=h(this,bu);break;default:return}let f=o.format();c.has(f)||c.set(f,o)}),this.deploy||(0,_e.defineProperties)(this,{deploy:yc.ConstructorFragment.from("constructor()")}),(0,_e.defineProperties)(this,{fallback:s,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return YQ.AbiCoder.defaultAbiCoder()}getFunctionName(e){let t=D(this,Ux,CO).call(this,e,null,!1);return(0,_e.assertArgument)(t,"no matching function","key",e),t.name}hasFunction(e){return!!D(this,Ux,CO).call(this,e,null,!1)}getFunction(e,t){return D(this,Ux,CO).call(this,e,t||null,!0)}forEachFunction(e){let t=Array.from(h(this,wu).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,wu).get(s),n)}}getEventName(e){let t=D(this,Dx,RO).call(this,e,null,!1);return(0,_e.assertArgument)(t,"no matching event","key",e),t.name}hasEvent(e){return!!D(this,Dx,RO).call(this,e,null,!1)}getEvent(e,t){return D(this,Dx,RO).call(this,e,t||null,!0)}forEachEvent(e){let t=Array.from(h(this,xu).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,xu).get(s),n)}}getError(e,t){if((0,_e.isHexString)(e)){let s=e.toLowerCase();if(tX[s])return yc.ErrorFragment.from(tX[s].signature);for(let i of h(this,bu).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of h(this,bu))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?yc.ErrorFragment.from("error Error(string)"):e==="Panic"?yc.ErrorFragment.from("error Panic(uint256)"):null;if(s.length>1){let i=s.map(o=>JSON.stringify(o.format())).join(", ");(0,_e.assertArgument)(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=yc.ErrorFragment.from(e).format(),e==="Error(string)")return yc.ErrorFragment.from("error Error(string)");if(e==="Panic(uint256)")return yc.ErrorFragment.from("error Panic(uint256)");let n=h(this,bu).get(e);return n||null}forEachError(e){let t=Array.from(h(this,bu).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,bu).get(s),n)}}_decodeParams(e,t){return h(this,ys).decode(e,t)}_encodeParams(e,t){return h(this,ys).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,_e.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,_e.assertArgument)((0,_e.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,_e.dataSlice)(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,_e.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,_e.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,_e.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,_e.assertArgument)((0,_e.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,_e.dataSlice)(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,_e.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,_e.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let i=this.getFunction(e);(0,_e.assertArgument)(i,"unknown function","fragment",e),e=i}let n="invalid length for result data",s=(0,_e.getBytesCopy)(t);if(s.length%32===0)try{return h(this,ys).decode(e.outputs,s)}catch{n="could not decode result data"}(0,_e.assert)(!1,n,"BAD_DATA",{value:(0,_e.hexlify)(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){let n=(0,_e.getBytes)(e,"data"),s=YQ.AbiCoder.getBuiltinCallException("call",t,n),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){let a=(0,_e.hexlify)(n.slice(0,4)),c=this.getError(a);if(c)try{let f=h(this,ys).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:f},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,_e.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,_e.hexlify)(h(this,ys).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let i=this.getEvent(e);(0,_e.assertArgument)(i,"unknown event","eventFragment",e),e=i}(0,_e.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let s=(i,o)=>i.type==="string"?(0,XQ.id)(o):i.type==="bytes"?(0,QQ.keccak256)((0,_e.hexlify)(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=(0,_e.toBeHex)(o):i.type.match(/^bytes/)?o=(0,_e.zeroPadBytes)(o,32):i.type==="address"&&h(this,ys).encode(["address"],[o]),(0,_e.zeroPadValue)((0,_e.hexlify)(o),32));for(t.forEach((i,o)=>{let a=e.inputs[o];if(!a.indexed){(0,_e.assertArgument)(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?(0,_e.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){let o=this.getEvent(e);(0,_e.assertArgument)(o,"unknown event","eventFragment",e),e=o}let n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),(0,_e.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{let c=t[a];if(o.indexed)if(o.type==="string")n.push((0,XQ.id)(c));else if(o.type==="bytes")n.push((0,QQ.keccak256)(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(h(this,ys).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:h(this,ys).encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){let P=this.getEvent(e);(0,_e.assertArgument)(P,"unknown event","eventFragment",e),e=P}if(n!=null&&!e.anonymous){let P=e.topicHash;(0,_e.assertArgument)((0,_e.isHexString)(n[0],32)&&n[0].toLowerCase()===P,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((P,C)=>{P.indexed?P.type==="string"||P.type==="bytes"||P.baseType==="tuple"||P.baseType==="array"?(s.push(yc.ParamType.from({type:"bytes32",name:P.name})),o.push(!0)):(s.push(P),o.push(!1)):(i.push(P),o.push(!1))});let a=n!=null?h(this,ys).decode(s,(0,_e.concat)(n)):null,c=h(this,ys).decode(i,t,!0),f=[],g=[],p=0,A=0;return e.inputs.forEach((P,C)=>{let N=null;if(P.indexed)if(a==null)N=new O2(null);else if(o[C])N=new O2(a[A++]);else try{N=a[A++]}catch(U){N=U}else try{N=c[p++]}catch(U){N=U}f.push(N),g.push(P.name||null)}),KI.Result.fromItems(f,g)}parseTransaction(e){let t=(0,_e.getBytes)(e.data,"tx.data"),n=(0,_e.getBigInt)(e.value!=null?e.value:0,"tx.value"),s=this.getFunction((0,_e.hexlify)(t.slice(0,4)));if(!s)return null;let i=h(this,ys).decode(s.inputs,t.slice(4));return new IO(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new BO(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=(0,_e.hexlify)(e),n=this.getError((0,_e.dataSlice)(t,0,4));if(!n)return null;let s=h(this,ys).decode(n.inputs,(0,_e.dataSlice)(t,4));return new MO(n,n.selector,s)}static from(e){return e instanceof gg?e:typeof e=="string"?new gg(JSON.parse(e)):typeof e.formatJson=="function"?new gg(e.formatJson()):typeof e.format=="function"?new gg(e.format("json")):new gg(e)}},GI=gg;bu=new WeakMap,xu=new WeakMap,wu=new WeakMap,ys=new WeakMap,Ux=new WeakSet,CO=function(e,t,n){if((0,_e.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,wu).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,wu))o.split("(")[0]===e&&i.push(a);if(t){let o=t.length>0?t[t.length-1]:null,a=t.length,c=!0;HI.Typed.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let f=i.length-1;f>=0;f--){let g=i[f].inputs.length;g!==a&&(!c||g!==a-1)&&i.splice(f,1)}for(let f=i.length-1;f>=0;f--){let g=i[f].inputs;for(let p=0;p<t.length;p++)if(!!HI.Typed.isTyped(t[p])){if(p>=g.length){if(t[p].type==="overrides")continue;i.splice(f,1);break}if(t[p].type!==g[p].baseType){i.splice(f,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){let o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,_e.assertArgument)(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,wu).get(yc.FunctionFragment.from(e).format());return s||null},Dx=new WeakSet,RO=function(e,t,n){if((0,_e.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,xu).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,xu))o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){let a=i[o].inputs;for(let c=0;c<t.length;c++)if(!!HI.Typed.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,_e.assertArgument)(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,xu).get(yc.EventFragment.from(e).format());return s||null};bs.Interface=GI});var qx=M(Ge=>{y();b();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Typed=Ge.Result=Ge.TransactionDescription=Ge.LogDescription=Ge.ErrorDescription=Ge.Interface=Ge.Indexed=Ge.checkResultErrors=Ge.StructFragment=Ge.ParamType=Ge.NamedFragment=Ge.FunctionFragment=Ge.Fragment=Ge.FallbackFragment=Ge.EventFragment=Ge.ErrorFragment=Ge.ConstructorFragment=Ge.encodeBytes32String=Ge.decodeBytes32String=Ge.AbiCoder=void 0;var lxe=qI();Object.defineProperty(Ge,"AbiCoder",{enumerable:!0,get:function(){return lxe.AbiCoder}});var nX=ZQ();Object.defineProperty(Ge,"decodeBytes32String",{enumerable:!0,get:function(){return nX.decodeBytes32String}});Object.defineProperty(Ge,"encodeBytes32String",{enumerable:!0,get:function(){return nX.encodeBytes32String}});var Ff=SO();Object.defineProperty(Ge,"ConstructorFragment",{enumerable:!0,get:function(){return Ff.ConstructorFragment}});Object.defineProperty(Ge,"ErrorFragment",{enumerable:!0,get:function(){return Ff.ErrorFragment}});Object.defineProperty(Ge,"EventFragment",{enumerable:!0,get:function(){return Ff.EventFragment}});Object.defineProperty(Ge,"FallbackFragment",{enumerable:!0,get:function(){return Ff.FallbackFragment}});Object.defineProperty(Ge,"Fragment",{enumerable:!0,get:function(){return Ff.Fragment}});Object.defineProperty(Ge,"FunctionFragment",{enumerable:!0,get:function(){return Ff.FunctionFragment}});Object.defineProperty(Ge,"NamedFragment",{enumerable:!0,get:function(){return Ff.NamedFragment}});Object.defineProperty(Ge,"ParamType",{enumerable:!0,get:function(){return Ff.ParamType}});Object.defineProperty(Ge,"StructFragment",{enumerable:!0,get:function(){return Ff.StructFragment}});var pg=rX();Object.defineProperty(Ge,"checkResultErrors",{enumerable:!0,get:function(){return pg.checkResultErrors}});Object.defineProperty(Ge,"Indexed",{enumerable:!0,get:function(){return pg.Indexed}});Object.defineProperty(Ge,"Interface",{enumerable:!0,get:function(){return pg.Interface}});Object.defineProperty(Ge,"ErrorDescription",{enumerable:!0,get:function(){return pg.ErrorDescription}});Object.defineProperty(Ge,"LogDescription",{enumerable:!0,get:function(){return pg.LogDescription}});Object.defineProperty(Ge,"TransactionDescription",{enumerable:!0,get:function(){return pg.TransactionDescription}});Object.defineProperty(Ge,"Result",{enumerable:!0,get:function(){return pg.Result}});var dxe=du();Object.defineProperty(Ge,"Typed",{enumerable:!0,get:function(){return dxe.Typed}})});var Gx=M(wi=>{y();b();Object.defineProperty(wi,"__esModule",{value:!0});wi.TransactionResponse=wi.TransactionReceipt=wi.Log=wi.Block=wi.copyRequest=wi.FeeData=void 0;var Er=pe(),hxe=yi(),sX=BigInt(0);function Hx(r){return r??null}function rn(r){return r==null?null:r.toString()}var VI=class{constructor(e,t,n){O(this,"gasPrice");O(this,"maxFeePerGas");O(this,"maxPriorityFeePerGas");(0,Er.defineProperties)(this,{gasPrice:Hx(e),maxFeePerGas:Hx(t),maxPriorityFeePerGas:Hx(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:rn(e),maxFeePerGas:rn(t),maxPriorityFeePerGas:rn(n)}}};wi.FeeData=VI;function gxe(r){let e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=(0,Er.hexlify)(r.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of t)!(s in r)||r[s]==null||(e[s]=(0,Er.getBigInt)(r[s],`request.${s}`));let n="type,nonce".split(/,/);for(let s of n)!(s in r)||r[s]==null||(e[s]=(0,Er.getNumber)(r[s],`request.${s}`));return r.accessList&&(e.accessList=(0,hxe.accessListify)(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>(0,Er.isBytesLike)(s)?(0,Er.hexlify)(s):Object.assign({},s))),e}wi.copyRequest=gxe;var Lf,zI=class{constructor(e,t){O(this,"provider");O(this,"number");O(this,"hash");O(this,"timestamp");O(this,"parentHash");O(this,"parentBeaconBlockRoot");O(this,"nonce");O(this,"difficulty");O(this,"gasLimit");O(this,"gasUsed");O(this,"stateRoot");O(this,"receiptsRoot");O(this,"blobGasUsed");O(this,"excessBlobGas");O(this,"miner");O(this,"prevRandao");O(this,"extraData");O(this,"baseFeePerGas");T(this,Lf,void 0);w(this,Lf,e.transactions.map(n=>typeof n!="string"?new FO(n,t):n)),(0,Er.defineProperties)(this,{provider:t,hash:Hx(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Hx(e.prevRandao),extraData:e.extraData,baseFeePerGas:Hx(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return h(this,Lf).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=h(this,Lf).slice();return e.length===0?[]:((0,Er.assert)(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,timestamp:N,transactions:U}=this;return{_type:"Block",baseFeePerGas:rn(e),difficulty:rn(t),extraData:n,gasLimit:rn(s),gasUsed:rn(i),blobGasUsed:rn(this.blobGasUsed),excessBlobGas:rn(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,timestamp:N,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,transactions:U}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return h(this,Lf).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=h(this,Lf)[e];else{let n=e.toLowerCase();for(let s of h(this,Lf))if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let n of t)if(n.hash===e)return n;(0,Er.assertArgument)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return pxe(this)}};Lf=new WeakMap;wi.Block=zI;var jO=class{constructor(e,t){O(this,"provider");O(this,"transactionHash");O(this,"blockHash");O(this,"blockNumber");O(this,"removed");O(this,"address");O(this,"data");O(this,"topics");O(this,"index");O(this,"transactionIndex");this.provider=t;let n=Object.freeze(e.topics.slice());(0,Er.defineProperties)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return(0,Er.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return(0,Er.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,Er.assert)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return mxe(this)}};wi.Log=jO;var T2,JI=class{constructor(e,t){O(this,"provider");O(this,"to");O(this,"from");O(this,"contractAddress");O(this,"hash");O(this,"index");O(this,"blockHash");O(this,"blockNumber");O(this,"logsBloom");O(this,"gasUsed");O(this,"blobGasUsed");O(this,"cumulativeGasUsed");O(this,"gasPrice");O(this,"blobGasPrice");O(this,"type");O(this,"status");O(this,"root");T(this,T2,void 0);w(this,T2,Object.freeze(e.logs.map(s=>new jO(s,t))));let n=sX;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),(0,Er.defineProperties)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return h(this,T2)}toJSON(){let{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:f,status:g,root:p}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:rn(this.cumulativeGasUsed),from:t,gasPrice:rn(this.gasPrice),blobGasUsed:rn(this.blobGasUsed),blobGasPrice:rn(this.blobGasPrice),gasUsed:rn(this.gasUsed),hash:s,index:i,logs:f,logsBloom:c,root:p,status:g,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return oX(this)}reorderedEvent(e){return(0,Er.assert)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),iX(this,e)}};T2=new WeakMap;wi.TransactionReceipt=JI;var Cd,WI=class{constructor(e,t){O(this,"provider");O(this,"blockNumber");O(this,"blockHash");O(this,"index");O(this,"hash");O(this,"type");O(this,"to");O(this,"from");O(this,"nonce");O(this,"gasLimit");O(this,"gasPrice");O(this,"maxPriorityFeePerGas");O(this,"maxFeePerGas");O(this,"maxFeePerBlobGas");O(this,"data");O(this,"value");O(this,"chainId");O(this,"signature");O(this,"accessList");O(this,"blobVersionedHashes");T(this,Cd,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,w(this,Cd,-1)}toJSON(){let{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:f,signature:g,accessList:p,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:t,blobVersionedHashes:A,chainId:rn(this.chainId),data:f,from:a,gasLimit:rn(this.gasLimit),gasPrice:rn(this.gasPrice),hash:s,maxFeePerGas:rn(this.maxFeePerGas),maxPriorityFeePerGas:rn(this.maxPriorityFeePerGas),maxFeePerBlobGas:rn(this.maxFeePerBlobGas),nonce:c,signature:g,to:o,index:n,type:i,value:rn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:t,blockNumber:n}=await(0,Er.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let n=e??1,s=t??0,i=h(this,Cd),o=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:A,nonce:P}=await(0,Er.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(P<this.nonce){i=A;return}if(a)return null;let C=await this.getTransaction();if(!(C&&C.blockNumber!=null))for(o===-1&&(o=i-3,o<h(this,Cd)&&(o=h(this,Cd)));o<=A;){if(a)return null;let N=await this.provider.getBlock(o,!0);if(N==null)return;for(let U of N)if(U===this.hash)return;for(let U=0;U<N.length;U++){let L=await N.getTransaction(U);if(L.from===this.from&&L.nonce===this.nonce){if(a)return null;let q=await this.provider.getTransactionReceipt(L.hash);if(q==null||A-q.blockNumber+1<n)return;let H="replaced";L.data===this.data&&L.to===this.to&&L.value===this.value?H="repriced":L.data==="0x"&&L.from===L.to&&L.value===sX&&(H="cancelled"),(0,Er.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:H==="replaced"||H==="cancelled",reason:H,replacement:L.replaceableTransaction(i),hash:L.hash,receipt:q})}}o++}},f=A=>{if(A==null||A.status!==0)return A;(0,Er.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},g=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(g);if(g){if(await g.confirmations()>=n)return f(g)}else if(await c(),n===0)return null;return await new Promise((A,P)=>{let C=[],N=()=>{C.forEach(L=>L())};if(C.push(()=>{a=!0}),s>0){let L=setTimeout(()=>{N(),P((0,Er.makeError)("wait for transaction timeout","TIMEOUT"))},s);C.push(()=>{clearTimeout(L)})}let U=async L=>{if(await L.confirmations()>=n){N();try{A(f(L))}catch(q){P(q)}}};if(C.push(()=>{this.provider.off(this.hash,U)}),this.provider.on(this.hash,U),i>=0){let L=async()=>{try{await c()}catch(q){if((0,Er.isError)(q,"TRANSACTION_REPLACED")){N(),P(q);return}}a||this.provider.once("block",L)};C.push(()=>{this.provider.off("block",L)}),this.provider.once("block",L)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,Er.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),oX(this)}reorderedEvent(e){return(0,Er.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,Er.assert)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),iX(this,e)}replaceableTransaction(e){(0,Er.assertArgument)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new WI(this,this.provider);return w(t,Cd,e),t}},FO=WI;Cd=new WeakMap;wi.TransactionResponse=FO;function pxe(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function iX(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function oX(r){return{orphan:"drop-transaction",tx:r}}function mxe(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}});var QI=M(_i=>{y();b();Object.defineProperty(_i,"__esModule",{value:!0});_i.ContractEventPayload=_i.ContractUnknownEventPayload=_i.ContractTransactionResponse=_i.ContractTransactionReceipt=_i.UndecodedEventLog=_i.EventLog=void 0;var qO=Gx(),N2=pe(),C2=class extends qO.Log{constructor(t,n,s){super(t,t.provider);O(this,"interface");O(this,"fragment");O(this,"args");let i=n.decodeEventLog(s,t.data,t.topics);(0,N2.defineProperties)(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};_i.EventLog=C2;var LO=class extends qO.Log{constructor(t,n){super(t,t.provider);O(this,"error");(0,N2.defineProperties)(this,{error:n})}};_i.UndecodedEventLog=LO;var Kx,UO=class extends qO.TransactionReceipt{constructor(t,n,s){super(s,n);T(this,Kx,void 0);w(this,Kx,t)}get logs(){return super.logs.map(t=>{let n=t.topics.length?h(this,Kx).getEvent(t.topics[0]):null;if(n)try{return new C2(t,h(this,Kx),n)}catch(s){return new LO(t,s)}return t})}};Kx=new WeakMap;_i.ContractTransactionReceipt=UO;var R2,$I=class extends qO.TransactionResponse{constructor(t,n,s){super(s,n);T(this,R2,void 0);w(this,R2,t)}async wait(t,n){let s=await super.wait(t,n);return s==null?null:new UO(h(this,R2),this.provider,s)}};R2=new WeakMap;_i.ContractTransactionResponse=$I;var DO=class extends N2.EventPayload{constructor(t,n,s,i){super(t,n,s);O(this,"log");(0,N2.defineProperties)(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};_i.ContractUnknownEventPayload=DO;var ZI=class extends DO{constructor(e,t,n,s,i){super(e,t,n,new C2(i,e.interface,s));let o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,N2.defineProperties)(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};_i.ContractEventPayload=ZI});var iM=M(_u=>{y();b();Object.defineProperty(_u,"__esModule",{value:!0});_u.Contract=_u.BaseContract=_u.resolveArgs=_u.copyOverrides=void 0;var rM=qx(),Vx=Sn(),uX=Gx(),Le=pe(),yg=QI(),aX=BigInt(0);function fX(r){return r&&typeof r.call=="function"}function lX(r){return r&&typeof r.estimateGas=="function"}function VO(r){return r&&typeof r.resolveName=="function"}function dX(r){return r&&typeof r.sendTransaction=="function"}function hX(r){if(r!=null){if(VO(r))return r;if(r.provider)return r.provider}}var M2,XI=class{constructor(e,t,n){T(this,M2,void 0);O(this,"fragment");if((0,Le.defineProperties)(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");let s=bg(e.runner,"resolveName"),i=VO(s)?s:null;w(this,M2,async function(){let o=await Promise.all(t.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(g,p)=>g==="address"?Array.isArray(p)?Promise.all(p.map(A=>(0,Vx.resolveAddress)(A,i))):(0,Vx.resolveAddress)(p,i):p)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return h(this,M2)}};M2=new WeakMap;function bg(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function mg(r){return r==null?null:r.provider||null}async function nM(r,e){let t=rM.Typed.dereference(r,"overrides");(0,Le.assertArgument)(typeof t=="object","invalid overrides parameter","overrides",r);let n=(0,uX.copyRequest)(t);return(0,Le.assertArgument)(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),(0,Le.assertArgument)(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}_u.copyOverrides=nM;async function gX(r,e,t){let n=bg(r,"resolveName"),s=VO(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=rM.Typed.dereference(c,a),a==="address"?(0,Vx.resolveAddress)(c,s):c))))}_u.resolveArgs=gX;function yxe(r){let e=async function(o){let a=await nM(o,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await(0,Vx.resolveAddress)(a.from,hX(r.runner)));let c=r.interface,f=(0,Le.getBigInt)(a.value||aX,"overrides.value")===aX,g=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!g&&!f&&(0,Le.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),(0,Le.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data);let p=c.receive||c.fallback&&c.fallback.payable;return(0,Le.assertArgument)(p||f,"cannot send value to non-payable fallback","overrides.value",a.value),(0,Le.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){let a=bg(r.runner,"call");(0,Le.assert)(fX(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await a.call(c)}catch(f){throw(0,Le.isCallException)(f)&&f.data?r.interface.makeError(f.data,c):f}},n=async function(o){let a=r.runner;(0,Le.assert)(dX(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(o)),f=mg(r.runner);return new yg.ContractTransactionResponse(r.interface,f,c)},s=async function(o){let a=bg(r.runner,"estimateGas");return(0,Le.assert)(lX(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return(0,Le.defineProperties)(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function bxe(r,e){let t=function(...f){let g=r.interface.getFunction(e,f);return(0,Le.assert)(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),g},n=async function(...f){let g=t(...f),p={};if(g.inputs.length+1===f.length&&(p=await nM(f.pop()),p.from&&(p.from=await(0,Vx.resolveAddress)(p.from,hX(r.runner)))),g.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let A=await gX(r.runner,g.inputs,f);return Object.assign({},p,await(0,Le.resolveProperties)({to:r.getAddress(),data:r.interface.encodeFunctionData(g,A)}))},s=async function(...f){let g=await a(...f);return g.length===1?g[0]:g},i=async function(...f){let g=r.runner;(0,Le.assert)(dX(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let p=await g.sendTransaction(await n(...f)),A=mg(r.runner);return new yg.ContractTransactionResponse(r.interface,A,p)},o=async function(...f){let g=bg(r.runner,"estimateGas");return(0,Le.assert)(lX(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await n(...f))},a=async function(...f){let g=bg(r.runner,"call");(0,Le.assert)(fX(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let p=await n(...f),A="0x";try{A=await g.call(p)}catch(C){throw(0,Le.isCallException)(C)&&C.data?r.interface.makeError(C.data,p):C}let P=t(...f);return r.interface.decodeFunctionResult(P,A)},c=async(...f)=>t(...f).constant?await s(...f):await i(...f);return(0,Le.defineProperties)(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let f=r.interface.getFunction(e);return(0,Le.assert)(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),c}function xxe(r,e){let t=function(...s){let i=r.interface.getEvent(e,s);return(0,Le.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new XI(r,t(...s),s)};return(0,Le.defineProperties)(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=r.interface.getEvent(e);return(0,Le.assert)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}var GO=Symbol.for("_ethersInternal_contract"),pX=new WeakMap;function wxe(r,e){pX.set(r[GO],e)}function Gi(r){return pX.get(r[GO])}function _xe(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function sM(r,e){let t,n=null;if(Array.isArray(e)){let i=function(o){if((0,Le.isHexString)(o,32))return o;let a=r.interface.getEvent(o);return(0,Le.assertArgument)(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?(0,Le.isHexString)(e,32)?t=[e]:(n=r.interface.getEvent(e),(0,Le.assertArgument)(n,"unknown fragment","event",e),t=[n.topicHash]):_xe(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):(0,Le.assertArgument)(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){let o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});let s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function B2(r,e){let{subs:t}=Gi(r);return t.get((await sM(r,e)).tag)||null}async function cX(r,e,t){let n=mg(r.runner);(0,Le.assert)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:i,topics:o}=await sM(r,t),{addr:a,subs:c}=Gi(r),f=c.get(i);if(!f){let p={address:a||r,topics:o},A=U=>{let L=s;if(L==null)try{L=r.interface.getEvent(U.topics[0])}catch{}if(L){let q=L,H=s?r.interface.decodeEventLog(s,U.data,U.topics):[];eM(r,t,H,V=>new yg.ContractEventPayload(r,V,t,q,U))}else eM(r,t,[],q=>new yg.ContractUnknownEventPayload(r,q,t,U))},P=[];f={tag:i,listeners:[],start:()=>{P.length||P.push(n.on(p,A))},stop:async()=>{if(P.length==0)return;let U=P;P=[],await Promise.all(U),n.off(p,A)}},c.set(i,f)}return f}var YI=Promise.resolve();async function vxe(r,e,t,n){await YI;let s=await B2(r,e);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{let c=Array.from(t);n&&c.push(n(a?null:o));try{o.call(r,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Gi(r).subs.delete(s.tag)),i>0}async function eM(r,e,t,n){try{await YI}catch{}let s=vxe(r,e,t,n);return YI=s,await s}var HO=["then"],Axe,I2=class{constructor(e,t,n,s){O(this,"target");O(this,"interface");O(this,"runner");O(this,"filters");O(this,Axe);O(this,"fallback");(0,Le.assertArgument)(typeof e=="string"||(0,Vx.isAddressable)(e),"invalid value for Contract target","target",e),n==null&&(n=null);let i=rM.Interface.from(t);(0,Le.defineProperties)(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,GO,{value:{}});let o,a=null,c=null;if(s){let p=mg(n);c=new yg.ContractTransactionResponse(this.interface,p,s)}let f=new Map;if(typeof e=="string")if((0,Le.isHexString)(e))a=e,o=Promise.resolve(e);else{let p=bg(n,"resolveName");if(!VO(p))throw(0,Le.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=p.resolveName(e).then(A=>{if(A==null)throw(0,Le.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Gi(this).addr=A,A})}else o=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Gi(this).addr=p,p});wxe(this,{addrPromise:o,addr:a,deployTx:c,subs:f});let g=new Proxy({},{get:(p,A,P)=>{if(typeof A=="symbol"||HO.indexOf(A)>=0)return Reflect.get(p,A,P);try{return this.getEvent(A)}catch(C){if(!(0,Le.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>HO.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return(0,Le.defineProperties)(this,{filters:g}),(0,Le.defineProperties)(this,{fallback:i.receive||i.fallback?yxe(this):null}),new Proxy(this,{get:(p,A,P)=>{if(typeof A=="symbol"||A in p||HO.indexOf(A)>=0)return Reflect.get(p,A,P);try{return p.getFunction(A)}catch(C){if(!(0,Le.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>typeof A=="symbol"||A in p||HO.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new I2(this.target,this.interface,e)}attach(e){return new I2(e,this.interface,this.runner)}async getAddress(){return await Gi(this).addrPromise}async getDeployedCode(){let e=mg(this.runner);(0,Le.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=mg(this.runner);return(0,Le.assert)(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Gi(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),bxe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),xxe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");let{addr:s,addrPromise:i}=Gi(this),o=s||await i,{fragment:a,topics:c}=await sM(this,e),f={address:o,topics:c,fromBlock:t,toBlock:n},g=mg(this.runner);return(0,Le.assert)(g,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await g.getLogs(f)).map(p=>{let A=a;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new yg.EventLog(p,this.interface,A)}catch(P){return new yg.UndecodedEventLog(p,P)}return new uX.Log(p,g)})}async on(e,t){let n=await cX(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){let n=await cX(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await eM(this,e,t,null)}async listenerCount(e){if(e){let s=await B2(this,e);return s?s.listeners.length:0}let{subs:t}=Gi(this),n=0;for(let{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){let s=await B2(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let{subs:t}=Gi(this),n=[];for(let{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){let n=await B2(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Gi(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let t=await B2(this,e);if(!t)return this;t.stop(),Gi(this).subs.delete(t.tag)}else{let{subs:t}=Gi(this);for(let{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends I2{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}},KO=I2;Axe=GO;_u.BaseContract=KO;function Pxe(){return KO}var tM=class extends Pxe(){};_u.Contract=tM});var mX=M(JO=>{y();b();Object.defineProperty(JO,"__esModule",{value:!0});JO.ContractFactory=void 0;var Exe=qx(),Sxe=Sn(),Rd=pe(),zO=iM(),j2=class{constructor(e,t,n){O(this,"interface");O(this,"bytecode");O(this,"runner");let s=Exe.Interface.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=(0,Rd.hexlify)((0,Rd.getBytes)(t)),(0,Rd.defineProperties)(this,{bytecode:t,interface:s,runner:n||null})}attach(e){return new zO.BaseContract(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await(0,zO.copyOverrides)(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await(0,zO.resolveArgs)(this.runner,n.inputs,e),i=(0,Rd.concat)([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:i})}async deploy(...e){let t=await this.getDeployTransaction(...e);(0,Rd.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(t),s=(0,Sxe.getCreateAddress)(n);return new zO.BaseContract(s,this.interface,this.runner,n)}connect(e){return new j2(this.interface,this.bytecode,e)}static fromSolidity(e,t){(0,Rd.assertArgument)(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,t)}};JO.ContractFactory=j2});var F2=M(pn=>{y();b();Object.defineProperty(pn,"__esModule",{value:!0});pn.UndecodedEventLog=pn.EventLog=pn.ContractTransactionResponse=pn.ContractTransactionReceipt=pn.ContractUnknownEventPayload=pn.ContractEventPayload=pn.ContractFactory=pn.Contract=pn.BaseContract=void 0;var yX=iM();Object.defineProperty(pn,"BaseContract",{enumerable:!0,get:function(){return yX.BaseContract}});Object.defineProperty(pn,"Contract",{enumerable:!0,get:function(){return yX.Contract}});var kxe=mX();Object.defineProperty(pn,"ContractFactory",{enumerable:!0,get:function(){return kxe.ContractFactory}});var zx=QI();Object.defineProperty(pn,"ContractEventPayload",{enumerable:!0,get:function(){return zx.ContractEventPayload}});Object.defineProperty(pn,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return zx.ContractUnknownEventPayload}});Object.defineProperty(pn,"ContractTransactionReceipt",{enumerable:!0,get:function(){return zx.ContractTransactionReceipt}});Object.defineProperty(pn,"ContractTransactionResponse",{enumerable:!0,get:function(){return zx.ContractTransactionResponse}});Object.defineProperty(pn,"EventLog",{enumerable:!0,get:function(){return zx.EventLog}});Object.defineProperty(pn,"UndecodedEventLog",{enumerable:!0,get:function(){return zx.UndecodedEventLog}})});var fM=M(Md=>{y();b();Object.defineProperty(Md,"__esModule",{value:!0});Md.EnsResolver=Md.BasicMulticoinProviderPlugin=Md.MulticoinProviderPlugin=void 0;var Oxe=Sn(),bX=fx(),oM=F2(),aM=mu(),Ks=pe();function cM(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):(0,Ks.assertArgument)(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}var U2=class{constructor(e){O(this,"name");(0,Ks.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};Md.MulticoinProviderPlugin=U2;var Txe="org.ethers.plugins.provider.BasicMulticoin",uM=class extends U2{constructor(){super(Txe)}};Md.BasicMulticoinProviderPlugin=uM;var wX=new RegExp("^(ipfs)://(.*)$","i"),xX=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),wX,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Bd,xg,Id,Jx,$O,_X,L2=class{constructor(e,t,n){T(this,Id);O(this,"provider");O(this,"address");O(this,"name");T(this,Bd,void 0);T(this,xg,void 0);(0,Ks.defineProperties)(this,{provider:e,address:t,name:n}),w(this,Bd,null),w(this,xg,new oM.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return h(this,Bd)==null&&w(this,Bd,(async()=>{try{return await h(this,xg).supportsInterface("0x9061b923")}catch(e){if((0,Ks.isError)(e,"CALL_EXCEPTION"))return!1;throw w(this,Bd,null),e}})()),await h(this,Bd)}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await D(this,Id,Jx).call(this,"addr(bytes32)");return i==null||i===bX.ZeroAddress?null:i}catch(i){if((0,Ks.isError)(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,o=await D(this,Id,Jx).call(this,"addr(bytes32,uint)",[i]);if((0,Ks.isHexString)(o,20))return(0,Oxe.getAddress)(o)}let t=null;for(let i of this.provider.plugins)if(i instanceof U2&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;let n=await D(this,Id,Jx).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let s=await t.decodeAddress(e,n);if(s!=null)return s;(0,Ks.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let t=await D(this,Id,Jx).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){let e=await D(this,Id,Jx).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${(0,Ks.encodeBase58)("0x"+t[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;(0,Ks.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<xX.length;n++){let s=t.match(xX[n]);if(s==null)continue;let i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let o=cM(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};let f=c[1],g=new oM.Contract(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let N=await g.ownerOf(f);if(a!==N)return e.push({type:"!owner",value:N}),{url:null,linkage:e};e.push({type:"owner",value:N})}else if(i==="erc1155"){let N=await g.balanceOf(a,f);if(!N)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:N.toString()})}let p=await g[o](f);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),i==="erc1155"&&(p=p.replace("{id}",(0,Ks.toBeHex)(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=cM(p)),e.push({type:"metadata-url",value:p});let A={},P=await new Ks.FetchRequest(p).send();P.assertOk();try{A=P.bodyJson}catch{try{e.push({type:"!metadata",value:P.bodyText})}catch{let L=P.body;return L&&e.push({type:"!metadata",value:(0,Ks.hexlify)(L)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let C=A.image;if(typeof C!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(wX)==null)return e.push({type:"!imageUrl-ipfs",value:C}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:C}),C=cM(C)}return e.push({type:"url",value:C}),{linkage:e,url:C}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return(0,Ks.assert)(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var s;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;let i=await D(s=L2,$O,_X).call(s,e,n);if(i!=null){let o=new L2(e,i,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}},WO=L2;Bd=new WeakMap,xg=new WeakMap,Id=new WeakSet,Jx=async function(e,t){t=(t||[]).slice();let n=h(this,xg).interface;t.unshift((0,aM.namehash)(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),(0,Ks.assert)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(0,aM.dnsEncode)(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await h(this,xg)[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!(0,Ks.isError)(i,"CALL_EXCEPTION"))throw i}return null},$O=new WeakSet,_X=async function(e,t){let n=await L2.getEnsAddress(e);try{let i=await new oM.Contract(n,["function resolver(bytes32) view returns (address)"],e).resolver((0,aM.namehash)(t),{enableCcipRead:!0});return i===bX.ZeroAddress?null:i}catch(s){throw s}return null},T(WO,$O);Md.EnsResolver=WO});var kX=M(yr=>{y();b();Object.defineProperty(yr,"__esModule",{value:!0});yr.formatTransactionResponse=yr.formatTransactionReceipt=yr.formatReceiptLog=yr.formatBlock=yr.formatLog=yr.formatUint256=yr.formatHash=yr.formatData=yr.formatBoolean=yr.object=yr.arrayOf=yr.allowNull=void 0;var vu=Sn(),vX=Dn(),Nxe=yi(),Me=pe(),PX=BigInt(0);function Ut(r,e){return function(t){return t==null?e:r(t)}}yr.allowNull=Ut;function D2(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))}}yr.arrayOf=D2;function Wx(r,e){return t=>{let n={};for(let s in r){let i=s;if(e&&s in e&&!(i in t)){for(let o of e[s])if(o in t){i=o;break}}try{let o=r[s](t[i]);o!==void 0&&(n[s]=o)}catch(o){let a=o instanceof Error?o.message:"not-an-error";(0,Me.assert)(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return n}}yr.object=Wx;function AX(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}(0,Me.assertArgument)(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}yr.formatBoolean=AX;function wg(r){return(0,Me.assertArgument)((0,Me.isHexString)(r,!0),"invalid data","value",r),r}yr.formatData=wg;function Hn(r){return(0,Me.assertArgument)((0,Me.isHexString)(r,32),"invalid hash","value",r),r}yr.formatHash=Hn;function Cxe(r){if(!(0,Me.isHexString)(r))throw new Error("invalid uint256");return(0,Me.zeroPadValue)(r,32)}yr.formatUint256=Cxe;var Rxe=Wx({address:vu.getAddress,blockHash:Hn,blockNumber:Me.getNumber,data:wg,index:Me.getNumber,removed:Ut(AX,!1),topics:D2(Hn),transactionHash:Hn,transactionIndex:Me.getNumber},{index:["logIndex"]});function Bxe(r){return Rxe(r)}yr.formatLog=Bxe;var Ixe=Wx({hash:Ut(Hn),parentHash:Hn,parentBeaconBlockRoot:Ut(Hn,null),number:Me.getNumber,timestamp:Me.getNumber,nonce:Ut(wg),difficulty:Me.getBigInt,gasLimit:Me.getBigInt,gasUsed:Me.getBigInt,stateRoot:Ut(Hn,null),receiptsRoot:Ut(Hn,null),blobGasUsed:Ut(Me.getBigInt,null),excessBlobGas:Ut(Me.getBigInt,null),miner:Ut(vu.getAddress),prevRandao:Ut(Hn,null),extraData:wg,baseFeePerGas:Ut(Me.getBigInt)},{prevRandao:["mixHash"]});function Mxe(r){let e=Ixe(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:SX(t)),e}yr.formatBlock=Mxe;var jxe=Wx({transactionIndex:Me.getNumber,blockNumber:Me.getNumber,transactionHash:Hn,address:vu.getAddress,topics:D2(Hn),data:wg,index:Me.getNumber,blockHash:Hn},{index:["logIndex"]});function EX(r){return jxe(r)}yr.formatReceiptLog=EX;var Fxe=Wx({to:Ut(vu.getAddress,null),from:Ut(vu.getAddress,null),contractAddress:Ut(vu.getAddress,null),index:Me.getNumber,root:Ut(Me.hexlify),gasUsed:Me.getBigInt,blobGasUsed:Ut(Me.getBigInt,null),logsBloom:Ut(wg),blockHash:Hn,hash:Hn,logs:D2(EX),blockNumber:Me.getNumber,cumulativeGasUsed:Me.getBigInt,effectiveGasPrice:Ut(Me.getBigInt),blobGasPrice:Ut(Me.getBigInt,null),status:Ut(Me.getNumber),type:Ut(Me.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Lxe(r){return Fxe(r)}yr.formatTransactionReceipt=Lxe;function SX(r){r.to&&(0,Me.getBigInt)(r.to)===PX&&(r.to="0x0000000000000000000000000000000000000000");let e=Wx({hash:Hn,index:Ut(Me.getNumber,void 0),type:t=>t==="0x"||t==null?0:(0,Me.getNumber)(t),accessList:Ut(Nxe.accessListify,null),blobVersionedHashes:Ut(D2(Hn,!0),null),blockHash:Ut(Hn,null),blockNumber:Ut(Me.getNumber,null),transactionIndex:Ut(Me.getNumber,null),from:vu.getAddress,gasPrice:Ut(Me.getBigInt),maxPriorityFeePerGas:Ut(Me.getBigInt),maxFeePerGas:Ut(Me.getBigInt),maxFeePerBlobGas:Ut(Me.getBigInt,null),gasLimit:Me.getBigInt,to:Ut(vu.getAddress,null),value:Me.getBigInt,nonce:Me.getNumber,data:wg,creates:Ut(vu.getAddress,null),chainId:Ut(Me.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=(0,vu.getCreateAddress)(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=vX.Signature.from(r.signature):e.signature=vX.Signature.from(r),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&(0,Me.getBigInt)(e.blockHash)===PX&&(e.blockHash=null),e}yr.formatTransactionResponse=SX});var ZO=M(Wo=>{y();b();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.FetchUrlFeeDataNetworkPlugin=Wo.FeeDataNetworkPlugin=Wo.EnsPlugin=Wo.GasCostPlugin=Wo.NetworkPlugin=void 0;var hM=od(),Uxe=pe(),Dxe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Uf=class{constructor(e){O(this,"name");(0,hM.defineProperties)(this,{name:e})}clone(){return new Uf(this.name)}};Wo.NetworkPlugin=Uf;var q2=class extends Uf{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);O(this,"effectiveBlock");O(this,"txBase");O(this,"txCreate");O(this,"txDataZero");O(this,"txDataNonzero");O(this,"txAccessListStorageKey");O(this,"txAccessListAddress");let s={effectiveBlock:t};function i(o,a){let c=(n||{})[o];c==null&&(c=a),(0,Uxe.assertArgument)(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,hM.defineProperties)(this,s)}clone(){return new q2(this.effectiveBlock,this)}};Wo.GasCostPlugin=q2;var H2=class extends Uf{constructor(t,n){super("org.ethers.plugins.network.Ens");O(this,"address");O(this,"targetNetwork");(0,hM.defineProperties)(this,{address:t||Dxe,targetNetwork:n??1})}clone(){return new H2(this.address,this.targetNetwork)}};Wo.EnsPlugin=H2;var _g,gM=class extends Uf{constructor(t){super("org.ethers.plugins.network.FeeData");T(this,_g,void 0);w(this,_g,t)}get feeDataFunc(){return h(this,_g)}async getFeeData(t){return await h(this,_g).call(this,t)}clone(){return new gM(h(this,_g))}},lM=gM;_g=new WeakMap;Wo.FeeDataNetworkPlugin=lM;var G2,K2,dM=class extends Uf{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");T(this,G2,void 0);T(this,K2,void 0);w(this,G2,t),w(this,K2,n)}get url(){return h(this,G2)}get processFunc(){return h(this,K2)}clone(){return this}};G2=new WeakMap,K2=new WeakMap;Wo.FetchUrlFeeDataNetworkPlugin=dM});var vi=M(QO=>{y();b();Object.defineProperty(QO,"__esModule",{value:!0});QO.Network=void 0;var qxe=yi(),Pu=pe(),V2=ZO(),pM=new Map,Zx,Qx,jd,$x=class{constructor(e,t){T(this,Zx,void 0);T(this,Qx,void 0);T(this,jd,void 0);w(this,Zx,e),w(this,Qx,(0,Pu.getBigInt)(t)),w(this,jd,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return h(this,Zx)}set name(e){w(this,Zx,e)}get chainId(){return h(this,Qx)}set chainId(e){w(this,Qx,(0,Pu.getBigInt)(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===(0,Pu.getBigInt)(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===(0,Pu.getBigInt)(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===(0,Pu.getBigInt)(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(h(this,jd).values())}attachPlugin(e){if(h(this,jd).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,jd).set(e.name,e.clone()),this}getPlugin(e){return h(this,jd).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new $x(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new V2.GasCostPlugin,n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){let s=(0,qxe.accessListify)(e.accessList);for(let i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(Hxe(),e==null)return $x.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=pM.get(e);if(t)return t();if(typeof e=="bigint")return new $x("unknown",e);(0,Pu.assertArgument)(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){(0,Pu.assertArgument)(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new $x(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new V2.EnsPlugin(e.ensAddress,e.ensNetwork)),t}(0,Pu.assertArgument)(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let n=pM.get(e);n&&(0,Pu.assertArgument)(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),pM.set(e,t)}},vg=$x;Zx=new WeakMap,Qx=new WeakMap,jd=new WeakMap;QO.Network=vg;function OX(r,e){let t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);let n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function TX(r){return new V2.FetchUrlFeeDataNetworkPlugin(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{let[i,o]=await Promise.all([n.send(),e()]);s=i;let a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:OX(a.maxFee,9),maxPriorityFeePerGas:OX(a.maxPriorityFee,9)}}catch(i){(0,Pu.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}var NX=!1;function Hxe(){if(NX)return;NX=!0;function r(e,t,n){let s=function(){let i=new vg(e,t);return n.ensNetwork!=null&&i.attachPlugin(new V2.EnsPlugin(null,n.ensNetwork)),i.attachPlugin(new V2.GasCostPlugin),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};vg.register(e,s),vg.register(t,s),n.altNames&&n.altNames.forEach(i=>{vg.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[TX("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[TX("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}});var r8=M(xs=>{y();b();Object.defineProperty(xs,"__esModule",{value:!0});xs.PollingEventSubscriber=xs.PollingTransactionSubscriber=xs.PollingOrphanSubscriber=xs.PollingBlockTagSubscriber=xs.OnBlockSubscriber=xs.PollingBlockSubscriber=xs.getPollingSubscriber=void 0;var CX=pe();function mM(r){return JSON.parse(JSON.stringify(r))}function Gxe(r,e){if(e==="block")return new YO(r);if((0,CX.isHexString)(e,32))return new e8(r,e);(0,CX.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:e}})}xs.getPollingSubscriber=Gxe;var Df,$o,Fd,Au,Xx,XO,YO=class{constructor(e){T(this,Xx);T(this,Df,void 0);T(this,$o,void 0);T(this,Fd,void 0);T(this,Au,void 0);w(this,Df,e),w(this,$o,null),w(this,Fd,4e3),w(this,Au,-2)}get pollingInterval(){return h(this,Fd)}set pollingInterval(e){w(this,Fd,e)}start(){h(this,$o)||(w(this,$o,h(this,Df)._setTimeout(D(this,Xx,XO).bind(this),h(this,Fd))),D(this,Xx,XO).call(this))}stop(){!h(this,$o)||(h(this,Df)._clearTimeout(h(this,$o)),w(this,$o,null))}pause(e){this.stop(),e&&w(this,Au,-2)}resume(){this.start()}};Df=new WeakMap,$o=new WeakMap,Fd=new WeakMap,Au=new WeakMap,Xx=new WeakSet,XO=async function(){try{let e=await h(this,Df).getBlockNumber();if(h(this,Au)===-2){w(this,Au,e);return}if(e!==h(this,Au)){for(let t=h(this,Au)+1;t<=e;t++){if(h(this,$o)==null)return;await h(this,Df).emit("block",t)}w(this,Au,e)}}catch{}h(this,$o)!=null&&w(this,$o,h(this,Df)._setTimeout(D(this,Xx,XO).bind(this),h(this,Fd)))};xs.PollingBlockSubscriber=YO;var Pg,Ag,Ld,n1=class{constructor(e){T(this,Pg,void 0);T(this,Ag,void 0);T(this,Ld,void 0);w(this,Pg,e),w(this,Ld,!1),w(this,Ag,t=>{this._poll(t,h(this,Pg))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){h(this,Ld)||(w(this,Ld,!0),h(this,Ag).call(this,-2),h(this,Pg).on("block",h(this,Ag)))}stop(){!h(this,Ld)||(w(this,Ld,!1),h(this,Pg).off("block",h(this,Ag)))}pause(e){this.stop()}resume(){this.start()}};Pg=new WeakMap,Ag=new WeakMap,Ld=new WeakMap;xs.OnBlockSubscriber=n1;var Yx,qf,yM=class extends n1{constructor(t,n){super(t);T(this,Yx,void 0);T(this,qf,void 0);w(this,Yx,n),w(this,qf,-2)}pause(t){t&&w(this,qf,-2),super.pause(t)}async _poll(t,n){let s=await n.getBlock(h(this,Yx));s!=null&&(h(this,qf)===-2?w(this,qf,s.number):s.number>h(this,qf)&&(n.emit(h(this,Yx),s.number),w(this,qf,s.number)))}};Yx=new WeakMap,qf=new WeakMap;xs.PollingBlockTagSubscriber=yM;var z2,bM=class extends n1{constructor(t,n){super(t);T(this,z2,void 0);w(this,z2,mM(n))}async _poll(t,n){throw new Error("@TODO")}};z2=new WeakMap;xs.PollingOrphanSubscriber=bM;var e1,e8=class extends n1{constructor(t,n){super(t);T(this,e1,void 0);w(this,e1,n)}async _poll(t,n){let s=await n.getTransactionReceipt(h(this,e1));s&&n.emit(h(this,e1),s)}};e1=new WeakMap;xs.PollingTransactionSubscriber=e8;var Hf,t1,r1,Ud,Zo,t8,RX,xM=class{constructor(e,t){T(this,t8);T(this,Hf,void 0);T(this,t1,void 0);T(this,r1,void 0);T(this,Ud,void 0);T(this,Zo,void 0);w(this,Hf,e),w(this,t1,mM(t)),w(this,r1,D(this,t8,RX).bind(this)),w(this,Ud,!1),w(this,Zo,-2)}start(){h(this,Ud)||(w(this,Ud,!0),h(this,Zo)===-2&&h(this,Hf).getBlockNumber().then(e=>{w(this,Zo,e)}),h(this,Hf).on("block",h(this,r1)))}stop(){!h(this,Ud)||(w(this,Ud,!1),h(this,Hf).off("block",h(this,r1)))}pause(e){this.stop(),e&&w(this,Zo,-2)}resume(){this.start()}};Hf=new WeakMap,t1=new WeakMap,r1=new WeakMap,Ud=new WeakMap,Zo=new WeakMap,t8=new WeakSet,RX=async function(e){if(h(this,Zo)===-2)return;let t=mM(h(this,t1));t.fromBlock=h(this,Zo)+1,t.toBlock=e;let n=await h(this,Hf).getLogs(t);if(n.length===0){h(this,Zo)<e-60&&w(this,Zo,e-60);return}for(let s of n)h(this,Hf).emit(h(this,t1),s),w(this,Zo,s.blockNumber)};xs.PollingEventSubscriber=xM});var u1=M(c1=>{y();b();Object.defineProperty(c1,"__esModule",{value:!0});c1.AbstractProvider=c1.UnmanagedSubscriber=void 0;var W2=Sn(),Kxe=fx(),BX=F2(),Vxe=mu(),zxe=yi(),ae=pe(),IX=fM(),n8=kX(),Jxe=vi(),Dd=Gx(),J2=r8(),Wxe=BigInt(2),$xe=10;function s8(r){return r&&typeof r.then=="function"}function i8(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}var a8=class{constructor(e){O(this,"name");(0,ae.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};c1.UnmanagedSubscriber=a8;function Zxe(r){return JSON.parse(JSON.stringify(r))}function vM(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function wM(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if((0,ae.isHexString)(r,32)){let t=r.toLowerCase();return{type:"transaction",tag:i8("tx",{hash:t}),hash:t}}if(r.orphan){let t=r;return{type:"orphan",tag:i8("orphan",t),filter:Zxe(t)}}if(r.address||r.topics){let t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?vM(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){let s=[],i=[],o=a=>{(0,ae.isHexString)(a)?s.push(a):i.push((async()=>{s.push(await(0,W2.resolveAddress)(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),n.address=vM(s.map(a=>a.toLowerCase()))}return{filter:n,tag:i8("event",n),type:"event"}}(0,ae.assertArgument)(!1,"unknown ProviderEvent","event",r)}function _M(){return new Date().getTime()}var Qxe={cacheTimeout:250,pollingInterval:4e3},ws,qd,_s,s1,Vi,Eg,Hd,Gf,Q2,Qo,i1,o1,Vs,Ki,X2,AM,Y2,EM,Sg,$2,eP,SM,kg,Z2,a1,o8,PM=class{constructor(e,t){T(this,Vs);T(this,X2);T(this,Y2);T(this,Sg);T(this,eP);T(this,kg);T(this,a1);T(this,ws,void 0);T(this,qd,void 0);T(this,_s,void 0);T(this,s1,void 0);T(this,Vi,void 0);T(this,Eg,void 0);T(this,Hd,void 0);T(this,Gf,void 0);T(this,Q2,void 0);T(this,Qo,void 0);T(this,i1,void 0);T(this,o1,void 0);if(w(this,o1,Object.assign({},Qxe,t||{})),e==="any")w(this,Eg,!0),w(this,Vi,null);else if(e){let n=Jxe.Network.from(e);w(this,Eg,!1),w(this,Vi,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else w(this,Eg,!1),w(this,Vi,null);w(this,Gf,-1),w(this,Hd,new Map),w(this,ws,new Map),w(this,qd,new Map),w(this,_s,null),w(this,s1,!1),w(this,Q2,1),w(this,Qo,new Map),w(this,i1,!1)}get pollingInterval(){return h(this,o1).pollingInterval}get provider(){return this}get plugins(){return Array.from(h(this,qd).values())}attachPlugin(e){if(h(this,qd).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,qd).set(e.name,e.connect(this)),this}getPlugin(e){return h(this,qd).get(e)||null}get disableCcipRead(){return h(this,i1)}set disableCcipRead(e){w(this,i1,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){let c=n[a],f=c.replace("{sender}",s).replace("{data}",i),g=new ae.FetchRequest(f);c.indexOf("{data}")===-1&&(g.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:g,index:a,urls:n});let p="unknown error",A;try{A=await g.send()}catch(P){o.push(P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:{error:P}});continue}try{let P=A.bodyJson;if(P.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:g,result:P}),P.data;P.message&&(p=P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:P})}catch{}(0,ae.assert)(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:p}}),o.push(p)}(0,ae.assert)(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new Dd.Block((0,n8.formatBlock)(e),this)}_wrapLog(e,t){return new Dd.Log((0,n8.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new Dd.TransactionReceipt((0,n8.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new Dd.TransactionResponse((0,n8.formatTransactionResponse)(e),this)}_detectNetwork(){(0,ae.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,ae.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,ae.getNumber)(await D(this,Vs,Ki).call(this,{method:"getBlockNumber"}),"%response");return h(this,Gf)>=0&&w(this,Gf,e),e}_getAddress(e){return(0,W2.resolveAddress)(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if((0,ae.isHexString)(e))return(0,ae.isHexString)(e,32)?e:(0,ae.toQuantity)(e);if(typeof e=="bigint"&&(e=(0,ae.getNumber)(e,"blockTag")),typeof e=="number")return e>=0?(0,ae.toQuantity)(e):h(this,Gf)>=0?(0,ae.toQuantity)(h(this,Gf)+e):this.getBlockNumber().then(t=>(0,ae.toQuantity)(t+e));(0,ae.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?vM(c.map(f=>f.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,f,g)=>{let p;switch(c.length){case 0:break;case 1:p=c[0];break;default:c.sort(),p=c}if(n&&(f!=null||g!=null))throw new Error("invalid filter");let A={};return p&&(A.address=p),t.length&&(A.topics=t),f&&(A.fromBlock=f),g&&(A.toBlock=g),n&&(A.blockHash=n),A},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){let t=(0,Dd.copyRequest)(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;let i=(0,W2.resolveAddress)(t[s],this);s8(i)?n.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){let s=this._getBlockTag(t.blockTag);s8(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(h(this,Vi)==null){let s=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw h(this,Vi)===s&&w(this,Vi,null),i}})();return w(this,Vi,s),(await s).clone()}let e=h(this,Vi),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(h(this,Eg)?(this.emit("network",n,t),h(this,Vi)===e&&w(this,Vi,Promise.resolve(n))):(0,ae.assert)(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:s,gasPrice:i,priorityFee:o}=await(0,ae.resolveProperties)({_block:D(this,eP,SM).call(this,"latest",!1),gasPrice:(async()=>{try{let g=await D(this,Vs,Ki).call(this,{method:"getGasPrice"});return(0,ae.getBigInt)(g,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let g=await D(this,Vs,Ki).call(this,{method:"getPriorityFee"});return(0,ae.getBigInt)(g,"%response")}catch{}return null})()}),a=null,c=null,f=this._wrapBlock(s,e);return f&&f.baseFeePerGas&&(c=o??BigInt("1000000000"),a=f.baseFeePerGas*Wxe+c),new Dd.FeeData(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let s=new ae.FetchRequest(n.url),i=await n.processFunc(t,this,s);return new Dd.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return s8(t)&&(t=await t),(0,ae.getBigInt)(await D(this,Vs,Ki).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){let{tx:t,blockTag:n}=await(0,ae.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await D(this,Y2,EM).call(this,D(this,X2,AM).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return(0,ae.getBigInt)(await D(this,Sg,$2).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,ae.getNumber)(await D(this,Sg,$2).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,ae.hexlify)(await D(this,Sg,$2).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){let s=(0,ae.getBigInt)(t,"position");return(0,ae.hexlify)(await D(this,Sg,$2).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){let{blockNumber:t,hash:n,network:s}=await(0,ae.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=zxe.Transaction.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){let{network:n,params:s}=await(0,ae.resolveProperties)({network:this.getNetwork(),params:D(this,eP,SM).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){let{network:t,params:n}=await(0,ae.resolveProperties)({network:this.getNetwork(),params:D(this,Vs,Ki).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){let{network:t,params:n}=await(0,ae.resolveProperties)({network:this.getNetwork(),params:D(this,Vs,Ki).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let s=await D(this,Vs,Ki).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){let{result:t}=await(0,ae.resolveProperties)({network:this.getNetwork(),result:D(this,Vs,Ki).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:(0,ae.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);s8(t)&&(t=await t);let{network:n,params:s}=await(0,ae.resolveProperties)({network:this.getNetwork(),params:D(this,Vs,Ki).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){(0,ae.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await IX.EnsResolver.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=(0,W2.getAddress)(e);let t=(0,Vxe.namehash)(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await IX.EnsResolver.getEnsAddress(this),i=await new BX.Contract(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===Kxe.ZeroAddress)return null;let a=await new BX.Contract(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if((0,ae.isError)(n,"BAD_DATA")&&n.value==="0x"||(0,ae.isError)(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){let s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null,c=async f=>{try{let g=await this.getTransactionReceipt(e);if(g!=null&&f-g.blockNumber+1>=s){i(g),a&&(clearTimeout(a),a=null);return}}catch(g){console.log("EEE",g)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o((0,ae.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){(0,ae.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=h(this,Qo).get(e);!t||(t.timer&&clearTimeout(t.timer),h(this,Qo).delete(e))}_setTimeout(e,t){t==null&&(t=0);let n=On(this,Q2)._++,s=()=>{h(this,Qo).delete(n),e()};if(this.paused)h(this,Qo).set(n,{timer:null,func:s,time:t});else{let i=setTimeout(s,t);h(this,Qo).set(n,{timer:i,func:s,time:_M()})}return n}_forEachSubscriber(e){for(let t of h(this,ws).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new a8(e.type);case"block":{let t=new J2.PollingBlockSubscriber(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new J2.PollingBlockTagSubscriber(this,e.type);case"event":return new J2.PollingEventSubscriber(this,e.filter);case"transaction":return new J2.PollingTransactionSubscriber(this,e.hash);case"orphan":return new J2.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let n of h(this,ws).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),h(this,_s)!=null&&t.pause(h(this,_s));break}}async on(e,t){let n=await D(this,a1,o8).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,h(this,_s)!=null&&n.subscriber.pause(h(this,_s))),this}async once(e,t){let n=await D(this,a1,o8).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,h(this,_s)!=null&&n.subscriber.pause(h(this,_s))),this}async emit(e,...t){let n=await D(this,kg,Z2).call(this,e,t);if(!n||n.listeners.length===0)return!1;let s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{let a=new ae.EventPayload(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),h(this,ws).delete(n.tag)),s>0}async listenerCount(e){if(e){let n=await D(this,kg,Z2).call(this,e);return n?n.listeners.length:0}let t=0;for(let{listeners:n}of h(this,ws).values())t+=n.length;return t}async listeners(e){if(e){let n=await D(this,kg,Z2).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(let{listeners:n}of h(this,ws).values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){let n=await D(this,kg,Z2).call(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),h(this,ws).delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:n,subscriber:s}=await D(this,a1,o8).call(this,e);n&&s.stop(),h(this,ws).delete(t)}else for(let[t,{started:n,subscriber:s}]of h(this,ws))n&&s.stop(),h(this,ws).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return h(this,s1)}destroy(){this.removeAllListeners();for(let e of h(this,Qo).keys())this._clearTimeout(e);w(this,s1,!0)}get paused(){return h(this,_s)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(w(this,Gf,-1),h(this,_s)!=null){if(h(this,_s)==!!e)return;(0,ae.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),w(this,_s,!!e);for(let t of h(this,Qo).values())t.timer&&clearTimeout(t.timer),t.time=_M()-t.time}resume(){if(h(this,_s)!=null){this._forEachSubscriber(e=>e.resume()),w(this,_s,null);for(let e of h(this,Qo).values()){let t=e.time;t<0&&(t=0),e.time=_M(),setTimeout(e.func,t)}}}};ws=new WeakMap,qd=new WeakMap,_s=new WeakMap,s1=new WeakMap,Vi=new WeakMap,Eg=new WeakMap,Hd=new WeakMap,Gf=new WeakMap,Q2=new WeakMap,Qo=new WeakMap,i1=new WeakMap,o1=new WeakMap,Vs=new WeakSet,Ki=async function(e){let t=h(this,o1).cacheTimeout;if(t<0)return await this._perform(e);let n=i8(e.method,e),s=h(this,Hd).get(n);return s||(s=this._perform(e),h(this,Hd).set(n,s),setTimeout(()=>{h(this,Hd).get(n)===s&&h(this,Hd).delete(n)},t)),await s},X2=new WeakSet,AM=async function(e,t,n){(0,ae.assert)(n<$xe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=(0,Dd.copyRequest)(e);try{return(0,ae.hexlify)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&(0,ae.isCallException)(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&(0,ae.dataSlice)(i.data,0,4)==="0x556f1830"){let o=i.data,a=await(0,W2.resolveAddress)(s.to,this),c;try{c=r1e((0,ae.dataSlice)(i.data,4))}catch(p){(0,ae.assert)(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}(0,ae.assert)(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let f=await this.ccipReadFetch(s,c.calldata,c.urls);(0,ae.assert)(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});let g={to:a,data:(0,ae.concat)([c.selector,t1e([f,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:g});try{let p=await D(this,X2,AM).call(this,g,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},g),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},g),error:p}),p}}throw i}},Y2=new WeakSet,EM=async function(e){let{value:t}=await(0,ae.resolveProperties)({network:this.getNetwork(),value:e});return t},Sg=new WeakSet,$2=async function(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await D(this,Y2,EM).call(this,D(this,Vs,Ki).call(this,Object.assign(e,{address:s,blockTag:i})))},eP=new WeakSet,SM=async function(e,t){if((0,ae.isHexString)(e,32))return await D(this,Vs,Ki).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await D(this,Vs,Ki).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},kg=new WeakSet,Z2=async function(e,t){let n=await wM(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await wM({orphan:"drop-log",log:t[0]},this)),h(this,ws).get(n.tag)||null},a1=new WeakSet,o8=async function(e){let t=await wM(e,this),n=t.tag,s=h(this,ws).get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},h(this,ws).set(n,s)),s};c1.AbstractProvider=PM;function Xxe(r,e){try{let t=kM(r,e);if(t)return(0,ae.toUtf8String)(t)}catch{}return null}function kM(r,e){if(r==="0x")return null;try{let t=(0,ae.getNumber)((0,ae.dataSlice)(r,e,e+32)),n=(0,ae.getNumber)((0,ae.dataSlice)(r,t,t+32));return(0,ae.dataSlice)(r,t+32,t+32+n)}catch{}return null}function MX(r){let e=(0,ae.toBeArray)(r);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function Yxe(r){if(r.length%32===0)return r;let e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}var e1e=new Uint8Array([]);function t1e(r){let e=[],t=0;for(let n=0;n<r.length;n++)e.push(e1e),t+=32;for(let n=0;n<r.length;n++){let s=(0,ae.getBytes)(r[n]);e[n]=MX(t),e.push(MX(s.length)),e.push(Yxe(s)),t+=32+Math.ceil(s.length/32)*32}return(0,ae.concat)(e)}var jX="0x0000000000000000000000000000000000000000000000000000000000000000";function r1e(r){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,ae.assert)((0,ae.dataLength)(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=(0,ae.dataSlice)(r,0,32);(0,ae.assert)((0,ae.dataSlice)(t,0,12)===(0,ae.dataSlice)(jX,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=(0,ae.dataSlice)(t,12);try{let n=[],s=(0,ae.getNumber)((0,ae.dataSlice)(r,32,64)),i=(0,ae.getNumber)((0,ae.dataSlice)(r,s,s+32)),o=(0,ae.dataSlice)(r,s+32);for(let a=0;a<i;a++){let c=Xxe(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{(0,ae.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=kM(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{(0,ae.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,ae.assert)((0,ae.dataSlice)(r,100,128)===(0,ae.dataSlice)(jX,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=(0,ae.dataSlice)(r,96,100);try{let n=kM(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{(0,ae.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}});var f8=M(d1=>{y();b();Object.defineProperty(d1,"__esModule",{value:!0});d1.VoidSigner=d1.AbstractSigner=void 0;var FX=Sn(),n1e=yi(),Pi=pe(),s1e=Gx();function f1(r,e){if(r.provider)return r.provider;(0,Pi.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function LX(r,e){let t=(0,s1e.copyRequest)(e);if(t.to!=null&&(t.to=(0,FX.resolveAddress)(t.to,r)),t.from!=null){let n=t.from;t.from=Promise.all([r.getAddress(),(0,FX.resolveAddress)(n,r)]).then(([s,i])=>((0,Pi.assertArgument)(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await(0,Pi.resolveProperties)(t)}var u8=class{constructor(e){O(this,"provider");(0,Pi.defineProperties)(this,{provider:e||null})}async getNonce(e){return f1(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await LX(this,e)}async populateTransaction(e){let t=f1(this,"populateTransaction"),n=await LX(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let s=await this.provider.getNetwork();if(n.chainId!=null){let o=(0,Pi.getBigInt)(n.chainId);(0,Pi.assertArgument)(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;let i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?(0,Pi.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&(0,Pi.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let o=await t.getFeeData();(0,Pi.assert)(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{let o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?((0,Pi.assert)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):(0,Pi.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await(0,Pi.resolveProperties)(n)}async estimateGas(e){return f1(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return f1(this,"call").call(await this.populateCall(e))}async resolveName(e){return await f1(this,"resolveName").resolveName(e)}async sendTransaction(e){let t=f1(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let s=n1e.Transaction.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}};d1.AbstractSigner=u8;var l1,c8,TM=class extends u8{constructor(t,n){super(n);T(this,l1);O(this,"address");(0,Pi.defineProperties)(this,{address:t})}async getAddress(){return this.address}connect(t){return new TM(this.address,t)}async signTransaction(t){D(this,l1,c8).call(this,"transactions","signTransaction")}async signMessage(t){D(this,l1,c8).call(this,"messages","signMessage")}async signTypedData(t,n,s){D(this,l1,c8).call(this,"typed-data","signTypedData")}},OM=TM;l1=new WeakSet,c8=function(t,n){(0,Pi.assert)(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};d1.VoidSigner=OM});var Kf=M(l8=>{y();b();Object.defineProperty(l8,"__esModule",{value:!0});l8.showThrottleMessage=void 0;var UX=new Set;function i1e(r){UX.has(r)||(UX.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}l8.showThrottleMessage=i1e});var DX=M(Kd=>{y();b();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.FilterIdPendingSubscriber=Kd.FilterIdEventSubscriber=Kd.FilterIdSubscriber=void 0;var o1e=pe(),a1e=r8();function c1e(r){return JSON.parse(JSON.stringify(r))}var zs,Eu,Og,Gd,Tg,h1,rP,NM,nP,CM,tP=class{constructor(e){T(this,rP);T(this,nP);T(this,zs,void 0);T(this,Eu,void 0);T(this,Og,void 0);T(this,Gd,void 0);T(this,Tg,void 0);T(this,h1,void 0);w(this,zs,e),w(this,Eu,null),w(this,Og,D(this,rP,NM).bind(this)),w(this,Gd,!1),w(this,Tg,null),w(this,h1,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){h(this,Gd)||(w(this,Gd,!0),D(this,rP,NM).call(this,-2))}stop(){!h(this,Gd)||(w(this,Gd,!1),w(this,h1,!0),D(this,nP,CM).call(this),h(this,zs).off("block",h(this,Og)))}pause(e){e&&D(this,nP,CM).call(this),h(this,zs).off("block",h(this,Og))}resume(){this.start()}};zs=new WeakMap,Eu=new WeakMap,Og=new WeakMap,Gd=new WeakMap,Tg=new WeakMap,h1=new WeakMap,rP=new WeakSet,NM=async function(e){try{h(this,Eu)==null&&w(this,Eu,this._subscribe(h(this,zs)));let t=null;try{t=await h(this,Eu)}catch(i){if(!(0,o1e.isError)(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){w(this,Eu,null),h(this,zs)._recoverSubscriber(this,this._recover(h(this,zs)));return}let n=await h(this,zs).getNetwork();if(h(this,Tg)||w(this,Tg,n),h(this,Tg).chainId!==n.chainId)throw new Error("chaid changed");if(h(this,h1))return;let s=await h(this,zs).send("eth_getFilterChanges",[t]);await this._emitResults(h(this,zs),s)}catch(t){console.log("@TODO",t)}h(this,zs).once("block",h(this,Og))},nP=new WeakSet,CM=function(){let e=h(this,Eu);e&&(w(this,Eu,null),e.then(t=>{h(this,zs).destroyed||h(this,zs).send("eth_uninstallFilter",[t])}))};Kd.FilterIdSubscriber=tP;var Ng,RM=class extends tP{constructor(t,n){super(t);T(this,Ng,void 0);w(this,Ng,c1e(n))}_recover(t){return new a1e.PollingEventSubscriber(t,h(this,Ng))}async _subscribe(t){return await t.send("eth_newFilter",[h(this,Ng)])}async _emitResults(t,n){for(let s of n)t.emit(h(this,Ng),t._wrapLog(s,t._network))}};Ng=new WeakMap;Kd.FilterIdEventSubscriber=RM;var BM=class extends tP{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let n of t)e.emit("pending",n)}};Kd.FilterIdPendingSubscriber=BM});var Yo=M(ku=>{y();b();Object.defineProperty(ku,"__esModule",{value:!0});ku.JsonRpcProvider=ku.JsonRpcApiPollingProvider=ku.JsonRpcApiProvider=ku.JsonRpcSigner=void 0;var u1e=qx(),Cg=Sn(),qX=mu(),f1e=yi(),Ot=pe(),HX=u1(),l1e=f8(),IM=vi(),GX=DX(),d1e=r8(),h1e="bigint,boolean,function,number,string,symbol".split(/,/g);function d8(r){if(r==null||h1e.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(d8);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function g1e(r){return new Promise(e=>{setTimeout(e,r)})}function g1(r){return r&&r.toLowerCase()}function KX(r){return r&&typeof r.pollingInterval=="number"}var VX={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},p1=class extends l1e.AbstractSigner{constructor(t,n){super(t);O(this,"address");n=(0,Cg.getAddress)(n),(0,Ot.defineProperties)(this,{address:n})}connect(t){(0,Ot.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){let n=d8(t),s=[];if(n.from){let o=n.from;s.push((async()=>{let a=await(0,Cg.resolveAddress)(o,this.provider);(0,Ot.assertArgument)(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let o=n.to;s.push((async()=>{n.to=await(0,Cg.resolveAddress)(o,this.provider)})())}s.length&&await Promise.all(s);let i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){let n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,o)=>{let a=[1e3,100],c=0,f=async()=>{try{let g=await this.provider.getTransaction(s);if(g!=null){i(g.replaceableTransaction(n));return}}catch(g){if((0,Ot.isError)(g,"CANCELLED")||(0,Ot.isError)(g,"BAD_DATA")||(0,Ot.isError)(g,"NETWORK_ERROR")||(0,Ot.isError)(g,"UNSUPPORTED_OPERATION")){g.info==null&&(g.info={}),g.info.sendTransactionHash=s,o(g);return}if((0,Ot.isError)(g,"INVALID_ARGUMENT")&&(c++,g.info==null&&(g.info={}),g.info.sendTransactionHash=s,c>10)){o(g);return}this.provider.emit("error",(0,Ot.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:g}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(t){let n=d8(t);if(n.from){let i=await(0,Cg.resolveAddress)(n.from,this.provider);(0,Ot.assertArgument)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=i}else n.from=this.address;let s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){let n=typeof t=="string"?(0,Ot.toUtf8Bytes)(t):t;return await this.provider.send("personal_sign",[(0,Ot.hexlify)(n),this.address.toLowerCase()])}async signTypedData(t,n,s){let i=d8(s),o=await qX.TypedDataEncoder.resolveNames(t,n,i,async a=>{let c=await(0,Cg.resolveAddress)(a);return(0,Ot.assertArgument)(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(qX.TypedDataEncoder.getPayload(o.domain,n,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){let n=typeof t=="string"?(0,Ot.toUtf8Bytes)(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,Ot.hexlify)(n)])}};ku.JsonRpcSigner=p1;var Rg,m1,Vf,Su,bc,Xo,Ai,sP,MM,h8=class extends HX.AbstractProvider{constructor(t,n){super(t,n);T(this,sP);T(this,Rg,void 0);T(this,m1,void 0);T(this,Vf,void 0);T(this,Su,void 0);T(this,bc,void 0);T(this,Xo,void 0);T(this,Ai,void 0);w(this,m1,1),w(this,Rg,Object.assign({},VX,n||{})),w(this,Vf,[]),w(this,Su,null),w(this,Xo,null),w(this,Ai,null);{let i=null,o=new Promise(a=>{i=a});w(this,bc,{promise:o,resolve:i})}let s=this._getOption("staticNetwork");typeof s=="boolean"?((0,Ot.assertArgument)(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&t!=null&&w(this,Xo,IM.Network.from(t))):s&&((0,Ot.assertArgument)(t==null||s.matches(t),"staticNetwork MUST match network object","options",n),w(this,Xo,s))}_getOption(t){return h(this,Rg)[t]}get _network(){return(0,Ot.assert)(h(this,Xo),"network is not available yet","NETWORK_ERROR"),h(this,Xo)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&(0,Ot.getBigInt)(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}let n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){let t=this._getOption("staticNetwork");if(t)if(t===!0){if(h(this,Xo))return h(this,Xo)}else return t;return h(this,Ai)?await h(this,Ai):this.ready?(w(this,Ai,(async()=>{try{let n=IM.Network.from((0,Ot.getBigInt)(await this.send("eth_chainId",[])));return w(this,Ai,null),n}catch(n){throw w(this,Ai,null),n}})()),await h(this,Ai)):(w(this,Ai,(async()=>{let n={id:On(this,m1)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],w(this,Ai,null)}catch(i){throw w(this,Ai,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return IM.Network.from((0,Ot.getBigInt)(s.result));throw this.getRpcError(n,s)})()),await h(this,Ai))}_start(){h(this,bc)==null||h(this,bc).resolve==null||(h(this,bc).resolve(),w(this,bc,null),(async()=>{for(;h(this,Xo)==null&&!this.destroyed;)try{w(this,Xo,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,Ot.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await g1e(1e3)}D(this,sP,MM).call(this)})())}async _waitUntilReady(){if(h(this,bc)!=null)return await h(this,bc).promise}_getSubscriber(t){return t.type==="pending"?new GX.FilterIdPendingSubscriber(this):t.type==="event"?this._getOption("polling")?new d1e.PollingEventSubscriber(this,t.filter):new GX.FilterIdEventSubscriber(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new HX.UnmanagedSubscriber("orphan"):super._getSubscriber(t)}get ready(){return h(this,bc)==null}getRpcTransaction(t){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=(0,Ot.toQuantity)((0,Ot.getBigInt)(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(n[s]=(0,Ot.hexlify)(t[s]))}),t.accessList&&(n.accessList=(0,f1e.accessListify)(t.accessList)),t.blobVersionedHashes&&(n.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[g1(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[g1(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[g1(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[g1(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(g1):t.filter.address=g1(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){let{method:s}=t,{error:i}=n;if(s==="eth_estimateGas"&&i.message){let c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return(0,Ot.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){let c=FM(i),f=u1e.AbiCoder.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return f.info={error:i,payload:t},f}let o=JSON.stringify(p1e(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i)){let c={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,Ot.makeError)("user rejected action","ACTION_REJECTED",{action:c[s]||"unknown",reason:"rejected",info:{payload:t,error:i}})}if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){let c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,Ot.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,Ot.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,Ot.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return(0,Ot.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,Ot.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):(0,Ot.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,n){if(this.destroyed)return Promise.reject((0,Ot.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));let s=On(this,m1)._++,i=new Promise((o,a)=>{h(this,Vf).push({resolve:o,reject:a,payload:{method:t,params:n,id:s,jsonrpc:"2.0"}})});return D(this,sP,MM).call(this),i}async getSigner(t){t==null&&(t=0);let n=this.send("eth_accounts",[]);if(typeof t=="number"){let i=await n;if(t>=i.length)throw new Error("no such account");return new p1(this,i[t])}let{accounts:s}=await(0,Ot.resolveProperties)({network:this.getNetwork(),accounts:n});t=(0,Cg.getAddress)(t);for(let i of s)if((0,Cg.getAddress)(i)===t)return new p1(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new p1(this,n))}destroy(){h(this,Su)&&(clearTimeout(h(this,Su)),w(this,Su,null));for(let{payload:t,reject:n}of h(this,Vf))n((0,Ot.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));w(this,Vf,[]),super.destroy()}};Rg=new WeakMap,m1=new WeakMap,Vf=new WeakMap,Su=new WeakMap,bc=new WeakMap,Xo=new WeakMap,Ai=new WeakMap,sP=new WeakSet,MM=function(){if(h(this,Su))return;let t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,Su,setTimeout(()=>{w(this,Su,null);let n=h(this,Vf);for(w(this,Vf,[]);n.length;){let s=[n.shift()];for(;n.length&&s.length!==h(this,Rg).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>h(this,Rg).batchMaxSize){n.unshift(s.pop());break}(async()=>{let i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:a,reject:c,payload:f}of s){if(this.destroyed){c((0,Ot.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}let g=o.filter(p=>p.id===f.id)[0];if(g==null){let p=(0,Ot.makeError)("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",p),c(p);continue}if("error"in g){c(this.getRpcError(f,g));continue}a(g.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:a}of s)a(o)}})()}},t))};ku.JsonRpcApiProvider=h8;var Vd,g8=class extends h8{constructor(t,n){super(t,n);T(this,Vd,void 0);let s=this._getOption("pollingInterval");s==null&&(s=VX.pollingInterval),w(this,Vd,s)}_getSubscriber(t){let n=super._getSubscriber(t);return KX(n)&&(n.pollingInterval=h(this,Vd)),n}get pollingInterval(){return h(this,Vd)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");w(this,Vd,t),this._forEachSubscriber(n=>{KX(n)&&(n.pollingInterval=h(this,Vd))})}};Vd=new WeakMap;ku.JsonRpcApiPollingProvider=g8;var y1,jM=class extends g8{constructor(t,n,s){t==null&&(t="http://localhost:8545");super(n,s);T(this,y1,void 0);typeof t=="string"?w(this,y1,new Ot.FetchRequest(t)):w(this,y1,t.clone())}_getConnection(){return h(this,y1).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){let n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");let s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}};y1=new WeakMap;ku.JsonRpcProvider=jM;function FM(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&(0,Ot.isHexString)(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(let e in r){let t=FM(r[e]);if(t)return t}return null}if(typeof r=="string")try{return FM(JSON.parse(r))}catch{}return null}function LM(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(let t in r)LM(r[t],e);if(typeof r=="string")try{return LM(JSON.parse(r),e)}catch{}}}function p1e(r){let e=[];return LM(r,e),e}});var DM=M(m8=>{y();b();Object.defineProperty(m8,"__esModule",{value:!0});m8.AnkrProvider=void 0;var UM=pe(),m1e=Kf(),y1e=vi(),b1e=Yo(),p8="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function x1e(r){switch(r){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,UM.assertArgument)(!1,"unsupported network","network",r)}var b1=class extends b1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=y1e.Network.from(t);n==null&&(n=p8);let i={polling:!0,staticNetwork:s},o=b1.getRequest(s,n);super(o,s,i);O(this,"apiKey");(0,UM.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new b1(t,this.apiKey)}catch{}return super._getProvider(t)}static getRequest(t,n){n==null&&(n=p8);let s=new UM.FetchRequest(`https://${x1e(t.name)}/${n}`);return s.allowGzip=!0,n===p8&&(s.retryFunc=async(i,o,a)=>((0,m1e.showThrottleMessage)("AnkrProvider"),!0)),s}getRpcError(t,n){return t.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(t,n)}isCommunityResource(){return this.apiKey===p8}};m8.AnkrProvider=b1});var qM=M(b8=>{y();b();Object.defineProperty(b8,"__esModule",{value:!0});b8.AlchemyProvider=void 0;var x1=pe(),w1e=Kf(),_1e=vi(),v1e=Yo(),y8="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function P1e(r){switch(r){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,x1.assertArgument)(!1,"unsupported network","network",r)}var w1=class extends v1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=_1e.Network.from(t);n==null&&(n=y8);let i=w1.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,x1.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new w1(t,this.apiKey)}catch{}return super._getProvider(t)}async _perform(t){if(t.method==="getTransactionResult"){let{trace:n,tx:s}=await(0,x1.resolveProperties)({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(n==null||s==null)return null;let i,o=!1;try{i=n[0].result.output,o=n[0].error==="Reverted"}catch{}if(i)return(0,x1.assert)(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:s,invocation:null,revert:null}),i;(0,x1.assert)(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(t)}isCommunityResource(){return this.apiKey===y8}static getRequest(t,n){n==null&&(n=y8);let s=new x1.FetchRequest(`https://${P1e(t.name)}/v2/${n}`);return s.allowGzip=!0,n===y8&&(s.retryFunc=async(i,o,a)=>((0,w1e.showThrottleMessage)("alchemy"),!0)),s}};b8.AlchemyProvider=w1});var HM=M(_8=>{y();b();Object.defineProperty(_8,"__esModule",{value:!0});_8.ChainstackProvider=void 0;var w8=pe(),A1e=Kf(),E1e=vi(),S1e=Yo();function x8(r){switch(r){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,w8.assertArgument)(!1,"unsupported network","network",r)}function k1e(r){switch(r){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,w8.assertArgument)(!1,"unsupported network","network",r)}var _1=class extends S1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=E1e.Network.from(t);n==null&&(n=x8(s.name));let i=_1.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,w8.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new _1(t,this.apiKey)}catch{}return super._getProvider(t)}isCommunityResource(){return this.apiKey===x8(this._network.name)}static getRequest(t,n){n==null&&(n=x8(t.name));let s=new w8.FetchRequest(`https://${k1e(t.name)}/${n}`);return s.allowGzip=!0,n===x8(t.name)&&(s.retryFunc=async(i,o,a)=>((0,A1e.showThrottleMessage)("ChainstackProvider"),!0)),s}};_8.ChainstackProvider=_1});var KM=M(v8=>{y();b();Object.defineProperty(v8,"__esModule",{value:!0});v8.CloudflareProvider=void 0;var O1e=pe(),T1e=vi(),N1e=Yo(),GM=class extends N1e.JsonRpcProvider{constructor(e){e==null&&(e="mainnet");let t=T1e.Network.from(e);(0,O1e.assertArgument)(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};v8.CloudflareProvider=GM});var zM=M(P1=>{y();b();Object.defineProperty(P1,"__esModule",{value:!0});P1.EtherscanProvider=P1.EtherscanPlugin=void 0;var C1e=qx(),R1e=F2(),zX=yi(),mn=pe(),B1e=u1(),I1e=vi(),M1e=ZO(),j1e=Kf(),JX=2e3;function F1e(r){return r&&typeof r.then=="function"}var WX="org.ethers.plugins.provider.Etherscan",iP=class extends M1e.NetworkPlugin{constructor(t){super(WX);O(this,"baseUrl");(0,mn.defineProperties)(this,{baseUrl:t})}clone(){return new iP(this.baseUrl)}};P1.EtherscanPlugin=iP;var L1e=["enableCcipRead"],U1e=1,v1,VM=class extends B1e.AbstractProvider{constructor(t,n){let s=n??null;super();O(this,"network");O(this,"apiKey");T(this,v1,void 0);let i=I1e.Network.from(t);w(this,v1,i.getPlugin(WX)),(0,mn.defineProperties)(this,{apiKey:s,network:i}),this.getBaseUrl()}getBaseUrl(){if(h(this,v1))return h(this,v1).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}(0,mn.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(t,n){let s=Object.keys(n).reduce((o,a)=>{let c=n[a];return c!=null&&(o+=`&${a}=${c}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${t}${s}${i}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(t,n){return n.module=t,n.apikey=this.apiKey,n}async detectNetwork(){return this.network}async fetch(t,n,s){let i=U1e++,o=s?this.getPostUrl():this.getUrl(t,n),a=s?this.getPostData(t,n):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:a});let c=new mn.FetchRequest(o);c.setThrottleParams({slotInterval:1e3}),c.retryFunc=(p,A,P)=>(this.isCommunityResource()&&(0,j1e.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),c.processFunc=async(p,A)=>{let P=A.hasBody()?JSON.parse((0,mn.toUtf8String)(A.body)):{},C=(typeof P.result=="string"?P.result:"").toLowerCase().indexOf("rate limit")>=0;return t==="proxy"?P&&P.status==0&&P.message=="NOTOK"&&C&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:P}),A.throwThrottleError(P.result,JX)):C&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:P.result}),A.throwThrottleError(P.result,JX)),A},a&&(c.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),c.body=Object.keys(a).map(p=>`${p}=${a[p]}`).join("&"));let f=await c.send();try{f.assertOk()}catch(p){this.emit("debug",{action:"receiveError",id:i,error:p,reason:"assertOk"}),(0,mn.assert)(!1,"response error","SERVER_ERROR",{request:c,response:f})}f.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),(0,mn.assert)(!1,"missing response","SERVER_ERROR",{request:c,response:f}));let g=JSON.parse((0,mn.toUtf8String)(f.body));return t==="proxy"?(g.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"invalid JSON-RPC"}),(0,mn.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:c,response:f,info:{result:g}})),g.error&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"JSON-RPC error"}),(0,mn.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):g.status==0&&(g.message==="No records found"||g.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):((g.status!=1||typeof g.message=="string"&&!g.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:g}),(0,mn.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result)}_getTransactionPostData(t){let n={};for(let s in t){if(L1e.indexOf(s)>=0||t[s]==null)continue;let i=t[s];if(!(s==="type"&&i===0)&&!(s==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[s])i=(0,mn.toQuantity)(i);else if(s==="accessList")i="["+(0,zX.accessListify)(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(s==="blobVersionedHashes"){if(i.length===0)continue;(0,mn.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:t}})}else i=(0,mn.hexlify)(i);n[s]=i}}return n}_checkError(t,n,s){let i="";if((0,mn.isError)(n,"SERVER_ERROR")){try{i=n.info.result.error.message}catch{}if(!i)try{i=n.info.message}catch{}}if(t.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,mn.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.transaction}),(t.method==="call"||t.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=n.info.result.error.data}catch{}let a=C1e.AbiCoder.getBuiltinCallException(t.method,t.transaction,o);throw a.info={request:t,error:n},a}if(i&&t.method==="broadcastTransaction"){let o=zX.Transaction.from(t.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,mn.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&(0,mn.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,mn.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw n}async _detectNetwork(){return this.network}async _perform(t){switch(t.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(n=>this._checkError(t,n,t.signedTransaction));case"getBlock":if("blockTag"in t)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});(0,mn.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.hash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}case"estimateGas":{let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}default:break}return super._perform(t)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(t){let n=this._getAddress(t);F1e(n)&&(n=await n);try{let s=await this.fetch("contract",{action:"getabi",address:n}),i=JSON.parse(s);return new R1e.Contract(n,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};v1=new WeakMap;P1.EtherscanProvider=VM});var $X=M(P8=>{y();b();Object.defineProperty(P8,"__esModule",{value:!0});P8.WebSocket=void 0;function D1e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var q1e=D1e().WebSocket;P8.WebSocket=q1e});var k8=M(ea=>{y();b();Object.defineProperty(ea,"__esModule",{value:!0});ea.SocketProvider=ea.SocketEventSubscriber=ea.SocketPendingSubscriber=ea.SocketBlockSubscriber=ea.SocketSubscriber=void 0;var ZX=u1(),oP=pe(),H1e=Yo(),Ou,aP,zd,Bg,Jd,E1=class{constructor(e,t){T(this,Ou,void 0);T(this,aP,void 0);T(this,zd,void 0);T(this,Bg,void 0);T(this,Jd,void 0);w(this,Ou,e),w(this,aP,JSON.stringify(t)),w(this,zd,null),w(this,Bg,null),w(this,Jd,null)}get filter(){return JSON.parse(h(this,aP))}start(){w(this,zd,h(this,Ou).send("eth_subscribe",this.filter).then(e=>(h(this,Ou)._register(e,this),e)))}stop(){h(this,zd).then(e=>{h(this,Ou).destroyed||h(this,Ou).send("eth_unsubscribe",[e])}),w(this,zd,null)}pause(e){(0,oP.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),w(this,Bg,!!e)}resume(){w(this,Bg,null)}_handleMessage(e){if(h(this,zd)!=null&&h(this,Bg)===null){let t=h(this,Jd);t==null?t=this._emit(h(this,Ou),e):t=t.then(async()=>{await this._emit(h(this,Ou),e)}),w(this,Jd,t.then(()=>{h(this,Jd)===t&&w(this,Jd,null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}};Ou=new WeakMap,aP=new WeakMap,zd=new WeakMap,Bg=new WeakMap,Jd=new WeakMap;ea.SocketSubscriber=E1;var A8=class extends E1{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}};ea.SocketBlockSubscriber=A8;var E8=class extends E1{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}};ea.SocketPendingSubscriber=E8;var cP,S8=class extends E1{constructor(t,n){super(t,["logs",n]);T(this,cP,void 0);w(this,cP,JSON.stringify(n))}get logFilter(){return JSON.parse(h(this,cP))}async _emit(t,n){t.emit(this.logFilter,t._wrapLog(n,t._network))}};cP=new WeakMap;ea.SocketEventSubscriber=S8;var Ig,A1,Wd,JM=class extends H1e.JsonRpcApiProvider{constructor(t,n){let s=Object.assign({},n??{});(0,oP.assertArgument)(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(t,s);T(this,Ig,void 0);T(this,A1,void 0);T(this,Wd,void 0);w(this,Ig,new Map),w(this,A1,new Map),w(this,Wd,new Map)}_getSubscriber(t){switch(t.type){case"close":return new ZX.UnmanagedSubscriber("close");case"block":return new A8(this);case"pending":return new E8(this);case"event":return new S8(this,t.filter);case"orphan":if(t.filter.orphan==="drop-log")return new ZX.UnmanagedSubscriber("drop-log")}return super._getSubscriber(t)}_register(t,n){h(this,A1).set(t,n);let s=h(this,Wd).get(t);if(s){for(let i of s)n._handleMessage(i);h(this,Wd).delete(t)}}async _send(t){(0,oP.assertArgument)(!Array.isArray(t),"WebSocket does not support batch send","payload",t);let n=new Promise((s,i)=>{h(this,Ig).set(t.id,{payload:t,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(t)),[await n]}async _processMessage(t){let n=JSON.parse(t);if(n&&typeof n=="object"&&"id"in n){let s=h(this,Ig).get(n.id);if(s==null){this.emit("error",(0,oP.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}h(this,Ig).delete(n.id),s.resolve(n)}else if(n&&n.method==="eth_subscription"){let s=n.params.subscription,i=h(this,A1).get(s);if(i)i._handleMessage(n.params.result);else{let o=h(this,Wd).get(s);o==null&&(o=[],h(this,Wd).set(s,o)),o.push(n.params.result)}}else{this.emit("error",(0,oP.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(t){throw new Error("sub-classes must override this")}};Ig=new WeakMap,A1=new WeakMap,Wd=new WeakMap;ea.SocketProvider=JM});var T8=M(O8=>{y();b();Object.defineProperty(O8,"__esModule",{value:!0});O8.WebSocketProvider=void 0;var G1e=$X(),K1e=k8(),Mg,xc,WM=class extends K1e.SocketProvider{constructor(t,n,s){super(n,s);T(this,Mg,void 0);T(this,xc,void 0);typeof t=="string"?(w(this,Mg,()=>new G1e.WebSocket(t)),w(this,xc,h(this,Mg).call(this))):typeof t=="function"?(w(this,Mg,t),w(this,xc,t())):(w(this,Mg,null),w(this,xc,t)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(h(this,xc)==null)throw new Error("websocket closed");return h(this,xc)}async _write(t){this.websocket.send(t)}async destroy(){h(this,xc)!=null&&(h(this,xc).close(),w(this,xc,null)),super.destroy()}};Mg=new WeakMap,xc=new WeakMap;O8.WebSocketProvider=WM});var $M=M(S1=>{y();b();Object.defineProperty(S1,"__esModule",{value:!0});S1.InfuraProvider=S1.InfuraWebSocketProvider=void 0;var fP=pe(),V1e=Kf(),z1e=vi(),J1e=Yo(),W1e=T8(),uP="84842078b09946638c03157f83405213";function $1e(r){switch(r){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,fP.assertArgument)(!1,"unsupported network","network",r)}var N8=class extends W1e.WebSocketProvider{constructor(t,n){let s=new jg(t,n),i=s._getConnection();(0,fP.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);O(this,"projectId");O(this,"projectSecret");(0,fP.defineProperties)(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===uP}};S1.InfuraWebSocketProvider=N8;var jg=class extends J1e.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=z1e.Network.from(t);n==null&&(n=uP),s==null&&(s=null);let o=jg.getRequest(i,n,s);super(o,i,{staticNetwork:i});O(this,"projectId");O(this,"projectSecret");(0,fP.defineProperties)(this,{projectId:n,projectSecret:s})}_getProvider(t){try{return new jg(t,this.projectId,this.projectSecret)}catch{}return super._getProvider(t)}isCommunityResource(){return this.projectId===uP}static getWebSocketProvider(t,n){return new N8(t,n)}static getRequest(t,n,s){n==null&&(n=uP),s==null&&(s=null);let i=new fP.FetchRequest(`https://${$1e(t.name)}/v3/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===uP&&(i.retryFunc=async(o,a,c)=>((0,V1e.showThrottleMessage)("InfuraProvider"),!0)),i}};S1.InfuraProvider=jg});var QM=M(R8=>{y();b();Object.defineProperty(R8,"__esModule",{value:!0});R8.QuickNodeProvider=void 0;var ZM=pe(),Z1e=Kf(),Q1e=vi(),X1e=Yo(),C8="919b412a057b5e9c9b6dce193c5a60242d6efadb";function Y1e(r){switch(r){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,ZM.assertArgument)(!1,"unsupported network","network",r)}var k1=class extends X1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Q1e.Network.from(t);n==null&&(n=C8);let i=k1.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"token");(0,ZM.defineProperties)(this,{token:n})}_getProvider(t){try{return new k1(t,this.token)}catch{}return super._getProvider(t)}isCommunityResource(){return this.token===C8}static getRequest(t,n){n==null&&(n=C8);let s=new ZM.FetchRequest(`https://${Y1e(t.name)}/${n}`);return s.allowGzip=!0,n===C8&&(s.retryFunc=async(i,o,a)=>((0,Z1e.showThrottleMessage)("QuickNodeProvider"),!0)),s}};R8.QuickNodeProvider=k1});var o9=M(F8=>{y();b();Object.defineProperty(F8,"__esModule",{value:!0});F8.FallbackProvider=void 0;var wc=pe(),QX=u1(),ewe=vi(),twe=BigInt("1"),rwe=BigInt("2");function nwe(r){for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}}function swe(r){return new Promise(e=>{setTimeout(e,r)})}function t9(){return new Date().getTime()}function XM(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var XX={stallTimeout:400,priority:1,weight:1},YX={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function iwe(r,e){for(;(r.blockNumber<0||r.blockNumber<e)&&(r._updateNumber||(r._updateNumber=(async()=>{try{let t=await r.provider.getBlockNumber();t>r.blockNumber&&(r.blockNumber=t)}catch(t){r.blockNumber=-2,r._lastFatalError=t,r._lastFatalErrorTimestamp=t9()}r._updateNumber=null})()),await r._updateNumber,r.outOfSync++,!r._lastFatalError););}function lP(r){if(r==null)return"null";if(Array.isArray(r))return"["+r.map(lP).join(",")+"]";if(typeof r=="object"&&typeof r.toJSON=="function")return lP(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":case"number":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${lP(r[t])}`).join(",")+"}"}}throw console.log("Could not serialize",r),new Error("Hmm...")}function YM(r){if("error"in r){let t=r.error;return{tag:lP(t),value:t}}let e=r.result;return{tag:lP(e),value:e}}function B8(r,e){let t=new Map;for(let{value:s,tag:i,weight:o}of e){let a=t.get(i)||{value:s,weight:0};a.weight+=o,t.set(i,a)}let n=null;for(let s of t.values())s.weight>=r&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function r9(r,e){let t=0,n=new Map,s=null,i=[];for(let{value:a,tag:c,weight:f}of e)if(a instanceof Error){let g=n.get(c)||{value:a,weight:0};g.weight+=f,n.set(c,g),(s==null||g.weight>s.weight)&&(s=g)}else i.push(BigInt(a)),t+=f;if(t<r)return s&&s.weight>=r?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+twe)/rwe}function e9(r,e){let t=B8(r,e);if(t!==void 0)return t;for(let n of e)if(n.value)return n.value}function owe(r,e){if(r===1)return(0,wc.getNumber)(r9(r,e),"%internal");let t=new Map,n=(o,a)=>{let c=t.get(o)||{result:o,weight:0};c.weight+=a,t.set(o,c)};for(let{weight:o,value:a}of e){let c=(0,wc.getNumber)(a);n(c-1,o),n(c,o),n(c+1,o)}let s=0,i;for(let{weight:o,result:a}of t.values())o>=r&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var Ei,zf,O1,I8,eY,dP,s9,M8,tY,j8,rY,hP,i9,n9=class extends QX.AbstractProvider{constructor(t,n,s){super(n,s);T(this,I8);T(this,dP);T(this,M8);T(this,j8);T(this,hP);O(this,"quorum");O(this,"eventQuorum");O(this,"eventWorkers");T(this,Ei,void 0);T(this,zf,void 0);T(this,O1,void 0);w(this,Ei,t.map(i=>i instanceof QX.AbstractProvider?Object.assign({provider:i},XX,YX):Object.assign({},XX,i,YX))),w(this,zf,-2),w(this,O1,null),s&&s.quorum!=null?this.quorum=s.quorum:this.quorum=Math.ceil(h(this,Ei).reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,wc.assertArgument)(this.quorum<=h(this,Ei).reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return h(this,Ei).map(t=>{let n=Object.assign({},t);for(let s in n)s[0]==="_"&&delete n[s];return n})}async _detectNetwork(){return ewe.Network.from((0,wc.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(t,n){switch(n.method){case"broadcastTransaction":return await t.broadcastTransaction(n.signedTransaction);case"call":return await t.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await t.getNetwork()).chainId;case"estimateGas":return await t.estimateGas(n.transaction);case"getBalance":return await t.getBalance(n.address,n.blockTag);case"getBlock":{let s="blockHash"in n?n.blockHash:n.blockTag;return await t.getBlock(s,n.includeTransactions)}case"getBlockNumber":return await t.getBlockNumber();case"getCode":return await t.getCode(n.address,n.blockTag);case"getGasPrice":return(await t.getFeeData()).gasPrice;case"getPriorityFee":return(await t.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await t.getLogs(n.filter);case"getStorage":return await t.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await t.getTransaction(n.hash);case"getTransactionCount":return await t.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await t.getTransactionReceipt(n.hash);case"getTransactionResult":return await t.getTransactionResult(n.hash)}}async _perform(t){if(t.method==="broadcastTransaction"){let o=h(this,Ei).map(f=>null),a=h(this,Ei).map(async({provider:f,weight:g},p)=>{try{let A=await f._perform(t);o[p]=Object.assign(YM({result:A}),{weight:g})}catch(A){o[p]=Object.assign(YM({error:A}),{weight:g})}});for(;;){let f=o.filter(A=>A!=null);for(let{value:A}of f)if(!(A instanceof Error))return A;let g=B8(this.quorum,o.filter(A=>A!=null));if((0,wc.isError)(g,"INSUFFICIENT_FUNDS"))throw g;let p=a.filter((A,P)=>o[P]==null);if(p.length===0)break;await Promise.race(p)}let c=e9(this.quorum,o);if((0,wc.assert)(c!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:o.map(XM)}}),c instanceof Error)throw c;return c}await D(this,M8,tY).call(this);let n=new Set,s=0;for(;;){let o=D(this,dP,s9).call(this,n,t);if(o==null||(s+=o.config.weight,s>=this.quorum))break}let i=await D(this,hP,i9).call(this,n,t);for(let o of n)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:t}of h(this,Ei))t.destroy();super.destroy()}};Ei=new WeakMap,zf=new WeakMap,O1=new WeakMap,I8=new WeakSet,eY=function(t){let n=Array.from(t).map(i=>i.config),s=h(this,Ei).slice();nwe(s),s.sort((i,o)=>i.priority-o.priority);for(let i of s)if(!i._lastFatalError&&n.indexOf(i)===-1)return i;return null},dP=new WeakSet,s9=function(t,n){let s=D(this,I8,eY).call(this,t);if(s==null)return null;let i={config:s,result:null,didBump:!1,perform:null,staller:null},o=t9();return i.perform=(async()=>{try{s.requests++;let c=await this._translatePerform(s.provider,n);i.result={result:c}}catch(c){s.errorResponses++,i.result={error:c}}let a=t9()-o;s._totalTime+=a,s.rollingDuration=.95*s.rollingDuration+.05*a,i.perform=null})(),i.staller=(async()=>{await swe(s.stallTimeout),i.staller=null})(),t.add(i),i},M8=new WeakSet,tY=async function(){let t=h(this,O1);if(!t){let n=[];h(this,Ei).forEach(s=>{n.push((async()=>{await iwe(s,0),s._lastFatalError||(s._network=await s.provider.getNetwork())})())}),w(this,O1,t=(async()=>{await Promise.all(n);let s=null;for(let i of h(this,Ei)){if(i._lastFatalError)continue;let o=i._network;s==null?s=o.chainId:o.chainId!==s&&(0,wc.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await t},j8=new WeakSet,rY=async function(t,n){let s=[];for(let i of t)if(i.result!=null){let{tag:o,value:a}=YM(i.result);s.push({tag:o,value:a,weight:i.config.weight})}if(!(s.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{h(this,zf)===-2&&w(this,zf,Math.ceil((0,wc.getNumber)(r9(this.quorum,h(this,Ei).filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:(0,wc.getNumber)(o.blockNumber).toString(),weight:o.weight}))))));let i=owe(this.quorum,s);return i===void 0?void 0:(i>h(this,zf)&&w(this,zf,i),h(this,zf))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return r9(this.quorum,s);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?e9(this.quorum,s):B8(this.quorum,s);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return B8(this.quorum,s);case"broadcastTransaction":return e9(this.quorum,s)}(0,wc.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${XM(n.method)})`})}},hP=new WeakSet,i9=async function(t,n){if(t.size===0)throw new Error("no runners?!");let s=[],i=0;for(let a of t){if(a.perform&&s.push(a.perform),a.staller){s.push(a.staller);continue}a.didBump||(a.didBump=!0,i++)}let o=await D(this,j8,rY).call(this,t,n);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let a=0;a<i;a++)D(this,dP,s9).call(this,t,n);return(0,wc.assert)(s.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(t).map(a=>XM(a.result))}}),await Promise.race(s),await D(this,hP,i9).call(this,t,n)};F8.FallbackProvider=n9});var nY=M(L8=>{y();b();Object.defineProperty(L8,"__esModule",{value:!0});L8.getDefaultProvider=void 0;var awe=pe(),cwe=DM(),uwe=qM(),fwe=HM(),lwe=KM(),dwe=zM(),hwe=$M(),gwe=QM(),pwe=o9(),a9=Yo(),mwe=vi(),ywe=T8();function bwe(r){return r&&typeof r.send=="function"&&typeof r.close=="function"}var xwe="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function wwe(r,e){e==null&&(e={});let t=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof r=="string"&&r.match(/^https?:/))return new a9.JsonRpcProvider(r);if(typeof r=="string"&&r.match(/^wss?:/)||bwe(r))return new ywe.WebSocketProvider(r);let n=null;try{n=mwe.Network.from(r)}catch{}let s=[];if(t("publicPolygon")&&n&&(n.name==="matic"?s.push(new a9.JsonRpcProvider("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new a9.JsonRpcProvider("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),t("alchemy"))try{s.push(new uwe.AlchemyProvider(r,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new cwe.AnkrProvider(r,e.ankr))}catch{}if(t("chainstack"))try{s.push(new fwe.ChainstackProvider(r,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new lwe.CloudflareProvider(r))}catch{}if(t("etherscan"))try{s.push(new dwe.EtherscanProvider(r,e.etherscan))}catch{}if(t("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new hwe.InfuraProvider(r,o,a))}catch{}if(t("quicknode"))try{let o=e.quicknode;s.push(new gwe.QuickNodeProvider(r,o))}catch{}if((0,awe.assert)(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),n&&xwe.indexOf(n.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new pwe.FallbackProvider(s,void 0,{quorum:i})}L8.getDefaultProvider=wwe});var sY=M(U8=>{y();b();Object.defineProperty(U8,"__esModule",{value:!0});U8.NonceManager=void 0;var _we=pe(),vwe=f8(),$d,Fg,u9=class extends vwe.AbstractSigner{constructor(t){super(t.provider);O(this,"signer");T(this,$d,void 0);T(this,Fg,void 0);(0,_we.defineProperties)(this,{signer:t}),w(this,$d,null),w(this,Fg,0)}async getAddress(){return this.signer.getAddress()}connect(t){return new u9(this.signer.connect(t))}async getNonce(t){if(t==="pending"){h(this,$d)==null&&w(this,$d,super.getNonce("pending"));let n=h(this,Fg);return await h(this,$d)+n}return super.getNonce(t)}increment(){On(this,Fg)._++}reset(){w(this,Fg,0),w(this,$d,null)}async sendTransaction(t){let n=this.getNonce("pending");return this.increment(),t=await this.signer.populateTransaction(t),t.nonce=await n,await this.signer.sendTransaction(t)}signTransaction(t){return this.signer.signTransaction(t)}signMessage(t){return this.signer.signMessage(t)}signTypedData(t,n,s){return this.signer.signTypedData(t,n,s)}},c9=u9;$d=new WeakMap,Fg=new WeakMap;U8.NonceManager=c9});var oY=M(D8=>{y();b();Object.defineProperty(D8,"__esModule",{value:!0});D8.BrowserProvider=void 0;var iY=pe(),Pwe=Yo(),T1,f9=class extends Pwe.JsonRpcApiPollingProvider{constructor(t,n,s){let i=Object.assign({},s??{},{batchMaxCount:1});(0,iY.assertArgument)(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(n,i);T(this,T1,void 0);w(this,T1,async(o,a)=>{let c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{let f=await t.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){let g=new Error(f.message);throw g.code=f.code,g.data=f.data,g.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:g}),g}})}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){(0,iY.assertArgument)(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{let n=await h(this,T1).call(this,t.method,t.params||[]);return[{id:t.id,result:n}]}catch(n){return[{id:t.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(t,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(t,n)}async hasSigner(t){t==null&&(t=0);let n=await this.send("eth_accounts",[]);return typeof t=="number"?n.length>t:(t=t.toLowerCase(),n.filter(s=>s.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await h(this,T1).call(this,"eth_requestAccounts",[])}catch(n){let s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(t)}};T1=new WeakMap;D8.BrowserProvider=f9});var aY=M(H8=>{y();b();Object.defineProperty(H8,"__esModule",{value:!0});H8.PocketProvider=void 0;var l9=pe(),Awe=Kf(),Ewe=vi(),Swe=Yo(),q8="62e1ad51b37b8e00394bda3b";function kwe(r){switch(r){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,l9.assertArgument)(!1,"unsupported network","network",r)}var N1=class extends Swe.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=Ewe.Network.from(t);n==null&&(n=q8),s==null&&(s=null);let o={staticNetwork:i},a=N1.getRequest(i,n,s);super(a,i,o);O(this,"applicationId");O(this,"applicationSecret");(0,l9.defineProperties)(this,{applicationId:n,applicationSecret:s})}_getProvider(t){try{return new N1(t,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(t)}static getRequest(t,n,s){n==null&&(n=q8);let i=new l9.FetchRequest(`https://${kwe(t.name)}/v1/lb/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===q8&&(i.retryFunc=async(o,a,c)=>((0,Awe.showThrottleMessage)("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===q8}};H8.PocketProvider=N1});var cY=M(G8=>{y();b();Object.defineProperty(G8,"__esModule",{value:!0});G8.IpcSocketProvider=void 0;var Owe=void 0;G8.IpcSocketProvider=Owe});var V8=M(se=>{y();b();Object.defineProperty(se,"__esModule",{value:!0});se.SocketEventSubscriber=se.SocketPendingSubscriber=se.SocketBlockSubscriber=se.SocketSubscriber=se.WebSocketProvider=se.SocketProvider=se.IpcSocketProvider=se.QuickNodeProvider=se.PocketProvider=se.InfuraWebSocketProvider=se.InfuraProvider=se.EtherscanPlugin=se.EtherscanProvider=se.ChainstackProvider=se.CloudflareProvider=se.AnkrProvider=se.AlchemyProvider=se.BrowserProvider=se.JsonRpcSigner=se.JsonRpcProvider=se.JsonRpcApiProvider=se.FallbackProvider=se.copyRequest=se.TransactionResponse=se.TransactionReceipt=se.Log=se.FeeData=se.Block=se.FetchUrlFeeDataNetworkPlugin=se.FeeDataNetworkPlugin=se.EnsPlugin=se.GasCostPlugin=se.NetworkPlugin=se.NonceManager=se.Network=se.MulticoinProviderPlugin=se.EnsResolver=se.getDefaultProvider=se.showThrottleMessage=se.VoidSigner=se.AbstractSigner=se.UnmanagedSubscriber=se.AbstractProvider=void 0;var uY=u1();Object.defineProperty(se,"AbstractProvider",{enumerable:!0,get:function(){return uY.AbstractProvider}});Object.defineProperty(se,"UnmanagedSubscriber",{enumerable:!0,get:function(){return uY.UnmanagedSubscriber}});var fY=f8();Object.defineProperty(se,"AbstractSigner",{enumerable:!0,get:function(){return fY.AbstractSigner}});Object.defineProperty(se,"VoidSigner",{enumerable:!0,get:function(){return fY.VoidSigner}});var Twe=Kf();Object.defineProperty(se,"showThrottleMessage",{enumerable:!0,get:function(){return Twe.showThrottleMessage}});var Nwe=nY();Object.defineProperty(se,"getDefaultProvider",{enumerable:!0,get:function(){return Nwe.getDefaultProvider}});var lY=fM();Object.defineProperty(se,"EnsResolver",{enumerable:!0,get:function(){return lY.EnsResolver}});Object.defineProperty(se,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return lY.MulticoinProviderPlugin}});var Cwe=vi();Object.defineProperty(se,"Network",{enumerable:!0,get:function(){return Cwe.Network}});var Rwe=sY();Object.defineProperty(se,"NonceManager",{enumerable:!0,get:function(){return Rwe.NonceManager}});var gP=ZO();Object.defineProperty(se,"NetworkPlugin",{enumerable:!0,get:function(){return gP.NetworkPlugin}});Object.defineProperty(se,"GasCostPlugin",{enumerable:!0,get:function(){return gP.GasCostPlugin}});Object.defineProperty(se,"EnsPlugin",{enumerable:!0,get:function(){return gP.EnsPlugin}});Object.defineProperty(se,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return gP.FeeDataNetworkPlugin}});Object.defineProperty(se,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return gP.FetchUrlFeeDataNetworkPlugin}});var C1=Gx();Object.defineProperty(se,"Block",{enumerable:!0,get:function(){return C1.Block}});Object.defineProperty(se,"FeeData",{enumerable:!0,get:function(){return C1.FeeData}});Object.defineProperty(se,"Log",{enumerable:!0,get:function(){return C1.Log}});Object.defineProperty(se,"TransactionReceipt",{enumerable:!0,get:function(){return C1.TransactionReceipt}});Object.defineProperty(se,"TransactionResponse",{enumerable:!0,get:function(){return C1.TransactionResponse}});Object.defineProperty(se,"copyRequest",{enumerable:!0,get:function(){return C1.copyRequest}});var Bwe=o9();Object.defineProperty(se,"FallbackProvider",{enumerable:!0,get:function(){return Bwe.FallbackProvider}});var d9=Yo();Object.defineProperty(se,"JsonRpcApiProvider",{enumerable:!0,get:function(){return d9.JsonRpcApiProvider}});Object.defineProperty(se,"JsonRpcProvider",{enumerable:!0,get:function(){return d9.JsonRpcProvider}});Object.defineProperty(se,"JsonRpcSigner",{enumerable:!0,get:function(){return d9.JsonRpcSigner}});var Iwe=oY();Object.defineProperty(se,"BrowserProvider",{enumerable:!0,get:function(){return Iwe.BrowserProvider}});var Mwe=qM();Object.defineProperty(se,"AlchemyProvider",{enumerable:!0,get:function(){return Mwe.AlchemyProvider}});var jwe=DM();Object.defineProperty(se,"AnkrProvider",{enumerable:!0,get:function(){return jwe.AnkrProvider}});var Fwe=KM();Object.defineProperty(se,"CloudflareProvider",{enumerable:!0,get:function(){return Fwe.CloudflareProvider}});var Lwe=HM();Object.defineProperty(se,"ChainstackProvider",{enumerable:!0,get:function(){return Lwe.ChainstackProvider}});var dY=zM();Object.defineProperty(se,"EtherscanProvider",{enumerable:!0,get:function(){return dY.EtherscanProvider}});Object.defineProperty(se,"EtherscanPlugin",{enumerable:!0,get:function(){return dY.EtherscanPlugin}});var hY=$M();Object.defineProperty(se,"InfuraProvider",{enumerable:!0,get:function(){return hY.InfuraProvider}});Object.defineProperty(se,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return hY.InfuraWebSocketProvider}});var Uwe=aY();Object.defineProperty(se,"PocketProvider",{enumerable:!0,get:function(){return Uwe.PocketProvider}});var Dwe=QM();Object.defineProperty(se,"QuickNodeProvider",{enumerable:!0,get:function(){return Dwe.QuickNodeProvider}});var qwe=cY();Object.defineProperty(se,"IpcSocketProvider",{enumerable:!0,get:function(){return qwe.IpcSocketProvider}});var Hwe=k8();Object.defineProperty(se,"SocketProvider",{enumerable:!0,get:function(){return Hwe.SocketProvider}});var Gwe=T8();Object.defineProperty(se,"WebSocketProvider",{enumerable:!0,get:function(){return Gwe.WebSocketProvider}});var K8=k8();Object.defineProperty(se,"SocketSubscriber",{enumerable:!0,get:function(){return K8.SocketSubscriber}});Object.defineProperty(se,"SocketBlockSubscriber",{enumerable:!0,get:function(){return K8.SocketBlockSubscriber}});Object.defineProperty(se,"SocketPendingSubscriber",{enumerable:!0,get:function(){return K8.SocketPendingSubscriber}});Object.defineProperty(se,"SocketEventSubscriber",{enumerable:!0,get:function(){return K8.SocketEventSubscriber}})});var J8=M(z8=>{y();b();Object.defineProperty(z8,"__esModule",{value:!0});z8.BaseWallet=void 0;var h9=Sn(),g9=mu(),gY=V8(),pY=yi(),R1=pe(),B1,m9=class extends gY.AbstractSigner{constructor(t,n){super(n);O(this,"address");T(this,B1,void 0);(0,R1.assertArgument)(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),w(this,B1,t);let s=(0,pY.computeAddress)(this.signingKey.publicKey);(0,R1.defineProperties)(this,{address:s})}get signingKey(){return h(this,B1)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new m9(h(this,B1),t)}async signTransaction(t){t=(0,gY.copyRequest)(t);let{to:n,from:s}=await(0,R1.resolveProperties)({to:t.to?(0,h9.resolveAddress)(t.to,this.provider):void 0,from:t.from?(0,h9.resolveAddress)(t.from,this.provider):void 0});n!=null&&(t.to=n),s!=null&&(t.from=s),t.from!=null&&((0,R1.assertArgument)((0,h9.getAddress)(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);let i=pY.Transaction.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign((0,g9.hashMessage)(t)).serialized}async signTypedData(t,n,s){let i=await g9.TypedDataEncoder.resolveNames(t,n,s,async o=>{(0,R1.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let a=await this.provider.resolveName(o);return(0,R1.assert)(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(g9.TypedDataEncoder.hash(i.domain,n,i.value)).serialized}},p9=m9;B1=new WeakMap;z8.BaseWallet=p9});var y9=M(I1=>{y();b();Object.defineProperty(I1,"__esModule",{value:!0});I1.decodeOwl=I1.decode=void 0;var Kwe=pe(),W8=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Vwe=/^[a-z]*$/i;function mY(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(Vwe)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function yY(r,e){for(let s=W8.length-1;s>=0;s--)r=r.split(W8[s]).join(e.substring(2*s,2*s+2));let t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return mY(mY(t,";"),":")}I1.decode=yY;function zwe(r){return(0,Kwe.assertArgument)(r[0]==="0","unsupported auwl data","data",r),yY(r.substring(1+2*W8.length),r.substring(1,1+2*W8.length))}I1.decodeOwl=zwe});var x9=M($8=>{y();b();Object.defineProperty($8,"__esModule",{value:!0});$8.Wordlist=void 0;var Jwe=pe(),b9=class{constructor(e){O(this,"locale");(0,Jwe.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};$8.Wordlist=b9});var Q8=M(Z8=>{y();b();Object.defineProperty(Z8,"__esModule",{value:!0});Z8.WordlistOwl=void 0;var Wwe=mu(),$we=pe(),Zwe=y9(),Qwe=x9(),M1,pP,Lg,mP,_9,w9=class extends Qwe.Wordlist{constructor(t,n,s){super(t);T(this,mP);T(this,M1,void 0);T(this,pP,void 0);T(this,Lg,void 0);w(this,M1,n),w(this,pP,s),w(this,Lg,null)}get _data(){return h(this,M1)}_decodeWords(){return(0,Zwe.decodeOwl)(h(this,M1))}getWord(t){let n=D(this,mP,_9).call(this);return(0,$we.assertArgument)(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return D(this,mP,_9).call(this).indexOf(t)}};M1=new WeakMap,pP=new WeakMap,Lg=new WeakMap,mP=new WeakSet,_9=function(){if(h(this,Lg)==null){let t=this._decodeWords();if((0,Wwe.id)(t.join(`
`)+`
`)!==h(this,pP))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);w(this,Lg,t)}return h(this,Lg)};Z8.WordlistOwl=w9});var bP=M(X8=>{y();b();Object.defineProperty(X8,"__esModule",{value:!0});X8.LangEn=void 0;var Xwe=Q8(),Ywe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",e_e="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",v9=null,yP=class extends Xwe.WordlistOwl{constructor(){super("en",Ywe,e_e)}static wordlist(){return v9==null&&(v9=new yP),v9}};X8.LangEn=yP});var eT=M(Y8=>{y();b();Object.defineProperty(Y8,"__esModule",{value:!0});Y8.Mnemonic=void 0;var S9=Dn(),Js=pe(),k9=bP();function bY(r){return(1<<r)-1<<8-r&255}function t_e(r){return(1<<r)-1&255}function P9(r,e){(0,Js.assertNormalize)("NFKD"),e==null&&(e=k9.LangEn.wordlist());let t=e.split(r);(0,Js.assertArgument)(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*t.length/8)),s=0;for(let f=0;f<t.length;f++){let g=e.getWordIndex(t[f].normalize("NFKD"));(0,Js.assertArgument)(g>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let p=0;p<11;p++)g&1<<10-p&&(n[s>>3]|=1<<7-s%8),s++}let i=32*t.length/3,o=t.length/3,a=bY(o),c=(0,Js.getBytes)((0,S9.sha256)(n.slice(0,i/8)))[0]&a;return(0,Js.assertArgument)(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,Js.hexlify)(n.slice(0,i/8))}function A9(r,e){(0,Js.assertArgument)(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=k9.LangEn.wordlist());let t=[0],n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&t_e(8-n)),n+=3);let s=r.length/4,i=parseInt((0,S9.sha256)(r).substring(2,4),16)&bY(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}var E9={},j1=class{constructor(e,t,n,s,i){O(this,"phrase");O(this,"password");O(this,"wordlist");O(this,"entropy");s==null&&(s=""),i==null&&(i=k9.LangEn.wordlist()),(0,Js.assertPrivate)(e,E9,"Mnemonic"),(0,Js.defineProperties)(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){let e=(0,Js.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,S9.pbkdf2)((0,Js.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){let s=P9(e,n);return e=A9((0,Js.getBytes)(s),n),new j1(E9,s,e,t,n)}static fromEntropy(e,t,n){let s=(0,Js.getBytes)(e,"entropy"),i=A9(s,n);return new j1(E9,(0,Js.hexlify)(s),i,t,n)}static entropyToPhrase(e,t){let n=(0,Js.getBytes)(e,"entropy");return A9(n,t)}static phraseToEntropy(e,t){return P9(e,t)}static isValidMnemonic(e,t){try{return P9(e,t),!0}catch{}return!1}};Y8.Mnemonic=j1});var O9=M(Tu=>{y();b();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.spelunk=Tu.getPassword=Tu.zpad=Tu.looseArrayify=void 0;var F1=pe();function xY(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),(0,F1.getBytesCopy)(r)}Tu.looseArrayify=xY;function r_e(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}Tu.zpad=r_e;function n_e(r){return typeof r=="string"?(0,F1.toUtf8Bytes)(r,"NFKC"):(0,F1.getBytesCopy)(r)}Tu.getPassword=n_e;function s_e(r,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,F1.assertArgument)(t!=null,"invalid path","path",e);let n=t[1],s=t[3],i=t[4]==="!",o=r;for(let a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(let f in o)if(f.toLowerCase()===a){c=o[f];break}o=c}else o=null;if(o==null)break}if((0,F1.assertArgument)(!i||o!=null,"missing required value","path",n),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return xY(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;(0,F1.assertArgument)(!1,`wrong type found for ${s} `,"path",n)}return o}Tu.spelunk=s_e});var nT=M(ta=>{y();b();Object.defineProperty(ta,"__esModule",{value:!0});ta.encryptKeystoreJson=ta.encryptKeystoreJsonSync=ta.decryptKeystoreJson=ta.decryptKeystoreJsonSync=ta.isKeystoreJson=void 0;var tT=xv(),i_e=Sn(),ra=Dn(),o_e=yi(),Nt=pe(),cr=O9(),a_e=J6(),_Y="m/44'/60'/0'/0/0";function c_e(r){try{let e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}ta.isKeystoreJson=c_e;function u_e(r,e,t){if((0,cr.spelunk)(r,"crypto.cipher:string")==="aes-128-ctr"){let s=(0,cr.spelunk)(r,"crypto.cipherparams.iv:data!"),i=new tT.CTR(e,s);return(0,Nt.hexlify)(i.decrypt(t))}(0,Nt.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function rT(r,e){let t=(0,Nt.getBytes)(e),n=(0,cr.spelunk)(r,"crypto.ciphertext:data!"),s=(0,Nt.hexlify)((0,ra.keccak256)((0,Nt.concat)([t.slice(16,32),n]))).substring(2);(0,Nt.assertArgument)(s===(0,cr.spelunk)(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=u_e(r,t.slice(0,16),n),o=(0,o_e.computeAddress)(i);if(r.address){let f=r.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),(0,Nt.assertArgument)((0,i_e.getAddress)(f)===o,"keystore address/privateKey mismatch","address",r.address)}let a={address:o,privateKey:i};if((0,cr.spelunk)(r,"x-ethers.version:string")==="0.1"){let f=t.slice(32,64),g=(0,cr.spelunk)(r,"x-ethers.mnemonicCiphertext:data!"),p=(0,cr.spelunk)(r,"x-ethers.mnemonicCounter:data!"),A=new tT.CTR(f,p);a.mnemonic={path:(0,cr.spelunk)(r,"x-ethers.path:string")||_Y,locale:(0,cr.spelunk)(r,"x-ethers.locale:string")||"en",entropy:(0,Nt.hexlify)((0,Nt.getBytes)(A.decrypt(g)))}}return a}function vY(r){let e=(0,cr.spelunk)(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=(0,cr.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,cr.spelunk)(r,"crypto.kdfparams.n:int!"),s=(0,cr.spelunk)(r,"crypto.kdfparams.r:int!"),i=(0,cr.spelunk)(r,"crypto.kdfparams.p:int!");(0,Nt.assertArgument)(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),(0,Nt.assertArgument)(s>0&&i>0,"invalid kdf","kdf",e);let o=(0,cr.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Nt.assertArgument)(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=(0,cr.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,cr.spelunk)(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();(0,Nt.assertArgument)(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);let i=(0,cr.spelunk)(r,"crypto.kdfparams.c:int!"),o=(0,cr.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Nt.assertArgument)(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}(0,Nt.assertArgument)(!1,"unsupported key-derivation function","kdf",e)}function f_e(r,e){let t=JSON.parse(r),n=(0,cr.getPassword)(e),s=vY(t);if(s.name==="pbkdf2"){let{salt:p,count:A,dkLen:P,algorithm:C}=s,N=(0,ra.pbkdf2)(n,p,A,P,C);return rT(t,N)}(0,Nt.assert)(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:i,N:o,r:a,p:c,dkLen:f}=s,g=(0,ra.scryptSync)(n,i,o,a,c,f);return rT(t,g)}ta.decryptKeystoreJsonSync=f_e;function wY(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function l_e(r,e,t){let n=JSON.parse(r),s=(0,cr.getPassword)(e),i=vY(n);if(i.name==="pbkdf2"){t&&(t(0),await wY(0));let{salt:A,count:P,dkLen:C,algorithm:N}=i,U=(0,ra.pbkdf2)(s,A,P,C,N);return t&&(t(1),await wY(0)),rT(n,U)}(0,Nt.assert)(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:a,r:c,p:f,dkLen:g}=i,p=await(0,ra.scrypt)(s,o,a,c,f,g,t);return rT(n,p)}ta.decryptKeystoreJson=l_e;function PY(r){let e=r.salt!=null?(0,Nt.getBytes)(r.salt,"options.salt"):(0,ra.randomBytes)(32),t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),(0,Nt.assertArgument)(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),(0,Nt.assertArgument)(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),(0,Nt.assertArgument)(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function AY(r,e,t,n){let s=(0,Nt.getBytes)(t.privateKey,"privateKey"),i=n.iv!=null?(0,Nt.getBytes)(n.iv,"options.iv"):(0,ra.randomBytes)(16);(0,Nt.assertArgument)(i.length===16,"invalid options.iv length","options.iv",n.iv);let o=n.uuid!=null?(0,Nt.getBytes)(n.uuid,"options.uuid"):(0,ra.randomBytes)(16);(0,Nt.assertArgument)(o.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=r.slice(0,16),c=r.slice(16,32),f=new tT.CTR(a,i),g=(0,Nt.getBytes)(f.encrypt(s)),p=(0,ra.keccak256)((0,Nt.concat)([c,g])),A={address:t.address.substring(2).toLowerCase(),id:(0,Nt.uuidV4)(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Nt.hexlify)(i).substring(2)},ciphertext:(0,Nt.hexlify)(g).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Nt.hexlify)(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:p.substring(2)}};if(t.mnemonic){let P=n.client!=null?n.client:`ethers/${a_e.version}`,C=t.mnemonic.path||_Y,N=t.mnemonic.locale||"en",U=r.slice(32,64),L=(0,Nt.getBytes)(t.mnemonic.entropy,"account.mnemonic.entropy"),q=(0,ra.randomBytes)(16),H=new tT.CTR(U,q),V=(0,Nt.getBytes)(H.encrypt(L)),G=new Date,z="UTC--"+(G.getUTCFullYear()+"-"+(0,cr.zpad)(G.getUTCMonth()+1,2)+"-"+(0,cr.zpad)(G.getUTCDate(),2)+"T"+(0,cr.zpad)(G.getUTCHours(),2)+"-"+(0,cr.zpad)(G.getUTCMinutes(),2)+"-"+(0,cr.zpad)(G.getUTCSeconds(),2)+".0Z")+"--"+A.address;A["x-ethers"]={client:P,gethFilename:z,path:C,locale:N,mnemonicCounter:(0,Nt.hexlify)(q).substring(2),mnemonicCiphertext:(0,Nt.hexlify)(V).substring(2),version:"0.1"}}return JSON.stringify(A)}function d_e(r,e,t){t==null&&(t={});let n=(0,cr.getPassword)(e),s=PY(t),i=(0,ra.scryptSync)(n,s.salt,s.N,s.r,s.p,64);return AY((0,Nt.getBytes)(i),s,r,t)}ta.encryptKeystoreJsonSync=d_e;async function h_e(r,e,t){t==null&&(t={});let n=(0,cr.getPassword)(e),s=PY(t),i=await(0,ra.scrypt)(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return AY((0,Nt.getBytes)(i),s,r,t)}ta.encryptKeystoreJson=h_e});var C9=M(Ws=>{y();b();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.getIndexedAccountPath=Ws.getAccountPath=Ws.HDNodeVoidWallet=Ws.HDNodeWallet=Ws.defaultPath=void 0;var zi=Dn(),g_e=V8(),OY=yi(),Ae=pe(),EY=bP(),p_e=J8(),SY=eT(),kY=nT();Ws.defaultPath="m/44'/60'/0'/0/0";var m_e=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ru=2147483648,y_e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),b_e="0123456789abcdef";function iT(r,e){let t="";for(;r;)t=b_e[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function T9(r){let e=(0,Ae.getBytes)(r),t=(0,Ae.dataSlice)((0,zi.sha256)((0,zi.sha256)(e)),0,4),n=(0,Ae.concat)([e,t]);return(0,Ae.encodeBase58)(n)}var Cu={};function TY(r,e,t,n){let s=new Uint8Array(37);r&Ru?((0,Ae.assert)(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set((0,Ae.getBytes)(n),1)):s.set((0,Ae.getBytes)(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=r>>24-o&255;let i=(0,Ae.getBytes)((0,zi.computeHmac)("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function NY(r,e){let t=e.split("/");(0,Ae.assertArgument)(t.length>0,"invalid path","path",e),t[0]==="m"&&((0,Ae.assertArgument)(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){let i=t[s];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));(0,Ae.assertArgument)(o<Ru,"invalid path index",`path[${s}]`,i),n=n.deriveChild(Ru+o)}else if(i.match(/^[0-9]+$/)){let o=parseInt(i);(0,Ae.assertArgument)(o<Ru,"invalid path index",`path[${s}]`,i),n=n.deriveChild(o)}else(0,Ae.assertArgument)(!1,"invalid path component",`path[${s}]`,i)}return n}var wP,N9,Ug,xP,Nu=class extends p_e.BaseWallet{constructor(t,n,s,i,o,a,c,f,g){super(n,g);T(this,wP);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"mnemonic");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,Ae.assertPrivate)(t,Cu,"HDNodeWallet"),(0,Ae.defineProperties)(this,{publicKey:n.compressedPublicKey});let p=(0,Ae.dataSlice)((0,zi.ripemd160)((0,zi.sha256)(this.publicKey)),0,4);(0,Ae.defineProperties)(this,{parentFingerprint:s,fingerprint:p,chainCode:i,path:o,index:a,depth:c}),(0,Ae.defineProperties)(this,{mnemonic:f})}connect(t){return new Nu(Cu,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await(0,kY.encryptKeystoreJson)(D(this,wP,N9).call(this),t,{progressCallback:n})}encryptSync(t){return(0,kY.encryptKeystoreJsonSync)(D(this,wP,N9).call(this),t)}get extendedKey(){return(0,Ae.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),T9((0,Ae.concat)(["0x0488ADE4",iT(this.depth,1),this.parentFingerprint,iT(this.index,4),this.chainCode,(0,Ae.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Zd(Cu,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){let n=(0,Ae.getNumber)(t,"index");(0,Ae.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Ru),n&Ru&&(s+="'"));let{IR:i,IL:o}=TY(n,this.chainCode,this.publicKey,this.privateKey),a=new zi.SigningKey((0,Ae.toBeHex)(((0,Ae.toBigInt)(o)+BigInt(this.privateKey))%y_e,32));return new Nu(Cu,a,this.fingerprint,(0,Ae.hexlify)(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return NY(this,t)}static fromExtendedKey(t){let n=(0,Ae.toBeArray)((0,Ae.decodeBase58)(t));(0,Ae.assertArgument)(n.length===82||T9(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");let s=n[4],i=(0,Ae.hexlify)(n.slice(5,9)),o=parseInt((0,Ae.hexlify)(n.slice(9,13)).substring(2),16),a=(0,Ae.hexlify)(n.slice(13,45)),c=n.slice(45,78);switch((0,Ae.hexlify)(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let f=(0,Ae.hexlify)(c);return new Zd(Cu,(0,OY.computeAddress)(f),f,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new Nu(Cu,new zi.SigningKey(c.slice(1)),i,a,null,o,s,null,null)}(0,Ae.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,s){var o;t==null&&(t=""),n==null&&(n=Ws.defaultPath),s==null&&(s=EY.LangEn.wordlist());let i=SY.Mnemonic.fromEntropy((0,zi.randomBytes)(16),t,s);return D(o=Nu,Ug,xP).call(o,i.computeSeed(),i).derivePath(n)}static fromMnemonic(t,n){var s;return n||(n=Ws.defaultPath),D(s=Nu,Ug,xP).call(s,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,s,i){var a;n==null&&(n=""),s==null&&(s=Ws.defaultPath),i==null&&(i=EY.LangEn.wordlist());let o=SY.Mnemonic.fromPhrase(t,n,i);return D(a=Nu,Ug,xP).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(t){var n;return D(n=Nu,Ug,xP).call(n,t,null)}},sT=Nu;wP=new WeakSet,N9=function(){let t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},Ug=new WeakSet,xP=function(t,n){(0,Ae.assertArgument)((0,Ae.isBytesLike)(t),"invalid seed","seed","[REDACTED]");let s=(0,Ae.getBytes)(t,"seed");(0,Ae.assertArgument)(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");let i=(0,Ae.getBytes)((0,zi.computeHmac)("sha512",m_e,s)),o=new zi.SigningKey((0,Ae.hexlify)(i.slice(0,32)));return new Nu(Cu,o,"0x00000000",(0,Ae.hexlify)(i.slice(32)),"m",0,0,n,null)},T(sT,Ug);Ws.HDNodeWallet=sT;var Zd=class extends g_e.VoidSigner{constructor(t,n,s,i,o,a,c,f,g){super(n,g);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,Ae.assertPrivate)(t,Cu,"HDNodeVoidWallet"),(0,Ae.defineProperties)(this,{publicKey:s});let p=(0,Ae.dataSlice)((0,zi.ripemd160)((0,zi.sha256)(s)),0,4);(0,Ae.defineProperties)(this,{publicKey:s,fingerprint:p,parentFingerprint:i,chainCode:o,path:a,index:c,depth:f})}connect(t){return new Zd(Cu,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return(0,Ae.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),T9((0,Ae.concat)(["0x0488B21E",iT(this.depth,1),this.parentFingerprint,iT(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){let n=(0,Ae.getNumber)(t,"index");(0,Ae.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Ru),n&Ru&&(s+="'"));let{IR:i,IL:o}=TY(n,this.chainCode,this.publicKey,null),a=zi.SigningKey.addPoints(o,this.publicKey,!0),c=(0,OY.computeAddress)(a);return new Zd(Cu,c,a,this.fingerprint,(0,Ae.hexlify)(i),s,n,this.depth+1,this.provider)}derivePath(t){return NY(this,t)}};Ws.HDNodeVoidWallet=Zd;function x_e(r){let e=(0,Ae.getNumber)(r,"index");return(0,Ae.assertArgument)(e>=0&&e<Ru,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}Ws.getAccountPath=x_e;function w_e(r){let e=(0,Ae.getNumber)(r,"index");return(0,Ae.assertArgument)(e>=0&&e<Ru,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}Ws.getIndexedAccountPath=w_e});var B9=M(L1=>{y();b();Object.defineProperty(L1,"__esModule",{value:!0});L1.decryptCrowdsaleJson=L1.isCrowdsaleJson=void 0;var CY=xv(),__e=Sn(),v_e=Dn(),P_e=mu(),R9=pe(),oT=O9();function A_e(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}L1.isCrowdsaleJson=A_e;function E_e(r,e){let t=JSON.parse(r),n=(0,oT.getPassword)(e),s=(0,__e.getAddress)((0,oT.spelunk)(t,"ethaddr:string!")),i=(0,oT.looseArrayify)((0,oT.spelunk)(t,"encseed:string!"));(0,R9.assertArgument)(i&&i.length%16===0,"invalid encseed","json",r);let o=(0,R9.getBytes)((0,v_e.pbkdf2)(n,n,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),f=new CY.CBC(o,a),g=(0,CY.pkcs7Strip)((0,R9.getBytes)(f.decrypt(c))),p="";for(let A=0;A<g.length;A++)p+=String.fromCharCode(g[A]);return{address:s,privateKey:(0,P_e.id)(p)}}L1.decryptCrowdsaleJson=E_e});var BY=M(uT=>{y();b();Object.defineProperty(uT,"__esModule",{value:!0});uT.Wallet=void 0;var S_e=Dn(),I9=pe(),k_e=J8(),M9=C9(),aT=B9(),U1=nT(),O_e=eT();function RY(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var _P,j9,D1=class extends k_e.BaseWallet{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new S_e.SigningKey(e):e;super(n,t)}connect(e){return new D1(this.signingKey,e)}async encrypt(e,t){let n={address:this.address,privateKey:this.privateKey};return await(0,U1.encryptKeystoreJson)(n,e,{progressCallback:t})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return(0,U1.encryptKeystoreJsonSync)(t,e)}static async fromEncryptedJson(e,t,n){var i;let s=null;return(0,U1.isKeystoreJson)(e)?s=await(0,U1.decryptKeystoreJson)(e,t,n):(0,aT.isCrowdsaleJson)(e)&&(n&&(n(0),await RY(0)),s=(0,aT.decryptCrowdsaleJson)(e,t),n&&(n(1),await RY(0))),D(i=D1,_P,j9).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let n=null;return(0,U1.isKeystoreJson)(e)?n=(0,U1.decryptKeystoreJsonSync)(e,t):(0,aT.isCrowdsaleJson)(e)?n=(0,aT.decryptCrowdsaleJson)(e,t):(0,I9.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),D(s=D1,_P,j9).call(s,n)}static createRandom(e){let t=M9.HDNodeWallet.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let n=M9.HDNodeWallet.fromPhrase(e);return t?n.connect(t):n}},cT=D1;_P=new WeakSet,j9=function(e){if((0,I9.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=O_e.Mnemonic.fromEntropy(e.mnemonic.entropy),s=M9.HDNodeWallet.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new D1(e.privateKey);return(0,I9.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},T(cT,_P);uT.Wallet=cT});var MY=M(tr=>{y();b();Object.defineProperty(tr,"__esModule",{value:!0});tr.Wallet=tr.Mnemonic=tr.encryptKeystoreJsonSync=tr.encryptKeystoreJson=tr.decryptKeystoreJson=tr.decryptKeystoreJsonSync=tr.isKeystoreJson=tr.decryptCrowdsaleJson=tr.isCrowdsaleJson=tr.HDNodeVoidWallet=tr.HDNodeWallet=tr.getIndexedAccountPath=tr.getAccountPath=tr.defaultPath=tr.BaseWallet=void 0;var T_e=J8();Object.defineProperty(tr,"BaseWallet",{enumerable:!0,get:function(){return T_e.BaseWallet}});var vP=C9();Object.defineProperty(tr,"defaultPath",{enumerable:!0,get:function(){return vP.defaultPath}});Object.defineProperty(tr,"getAccountPath",{enumerable:!0,get:function(){return vP.getAccountPath}});Object.defineProperty(tr,"getIndexedAccountPath",{enumerable:!0,get:function(){return vP.getIndexedAccountPath}});Object.defineProperty(tr,"HDNodeWallet",{enumerable:!0,get:function(){return vP.HDNodeWallet}});Object.defineProperty(tr,"HDNodeVoidWallet",{enumerable:!0,get:function(){return vP.HDNodeVoidWallet}});var IY=B9();Object.defineProperty(tr,"isCrowdsaleJson",{enumerable:!0,get:function(){return IY.isCrowdsaleJson}});Object.defineProperty(tr,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return IY.decryptCrowdsaleJson}});var PP=nT();Object.defineProperty(tr,"isKeystoreJson",{enumerable:!0,get:function(){return PP.isKeystoreJson}});Object.defineProperty(tr,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return PP.decryptKeystoreJsonSync}});Object.defineProperty(tr,"decryptKeystoreJson",{enumerable:!0,get:function(){return PP.decryptKeystoreJson}});Object.defineProperty(tr,"encryptKeystoreJson",{enumerable:!0,get:function(){return PP.encryptKeystoreJson}});Object.defineProperty(tr,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return PP.encryptKeystoreJsonSync}});var N_e=eT();Object.defineProperty(tr,"Mnemonic",{enumerable:!0,get:function(){return N_e.Mnemonic}});var C_e=BY();Object.defineProperty(tr,"Wallet",{enumerable:!0,get:function(){return C_e.Wallet}})});var jY=M(fT=>{y();b();Object.defineProperty(fT,"__esModule",{value:!0});fT.decodeBits=void 0;var R_e=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function B_e(r,e){let t=(1<<r)-1,n=[],s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|R_e.indexOf(e[a]),i+=6;i>=r;){let c=s>>i-r;s&=(1<<i-r)-1,i-=r,c===0?o+=t:(n.push(c+o),o=0)}return n}fT.decodeBits=B_e});var FY=M(lT=>{y();b();Object.defineProperty(lT,"__esModule",{value:!0});lT.decodeOwlA=void 0;var I_e=pe(),M_e=jY(),j_e=y9();function F_e(r,e){let t=(0,j_e.decodeOwl)(r).join(",");return e.split(/,/g).forEach(n=>{let s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,I_e.assertArgument)(s!==null,"internal error parsing accents","accents",e);let i=0,o=(0,M_e.decodeBits)(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(f,g)=>(--o[i]===0&&(g=String.fromCharCode(g.charCodeAt(0),a),i++),g))}),t.split(",")}lT.decodeOwlA=F_e});var LY=M(dT=>{y();b();Object.defineProperty(dT,"__esModule",{value:!0});dT.WordlistOwlA=void 0;var L_e=Q8(),U_e=FY(),AP,F9=class extends L_e.WordlistOwl{constructor(t,n,s,i){super(t,n,i);T(this,AP,void 0);w(this,AP,s)}get _accent(){return h(this,AP)}_decodeWords(){return(0,U_e.decodeOwlA)(this._data,this._accent)}};AP=new WeakMap;dT.WordlistOwlA=F9});var UY=M(hT=>{y();b();Object.defineProperty(hT,"__esModule",{value:!0});hT.wordlists=void 0;var D_e=bP();hT.wordlists={en:D_e.LangEn.wordlist()}});var DY=M(na=>{y();b();Object.defineProperty(na,"__esModule",{value:!0});na.wordlists=na.WordlistOwlA=na.WordlistOwl=na.LangEn=na.Wordlist=void 0;var q_e=x9();Object.defineProperty(na,"Wordlist",{enumerable:!0,get:function(){return q_e.Wordlist}});var H_e=bP();Object.defineProperty(na,"LangEn",{enumerable:!0,get:function(){return H_e.LangEn}});var G_e=Q8();Object.defineProperty(na,"WordlistOwl",{enumerable:!0,get:function(){return G_e.WordlistOwl}});var K_e=LY();Object.defineProperty(na,"WordlistOwlA",{enumerable:!0,get:function(){return K_e.WordlistOwlA}});var V_e=UY();Object.defineProperty(na,"wordlists",{enumerable:!0,get:function(){return V_e.wordlists}})});var L9=M(I=>{y();b();Object.defineProperty(I,"__esModule",{value:!0});I.ripemd160=I.keccak256=I.randomBytes=I.computeHmac=I.UndecodedEventLog=I.EventLog=I.ContractUnknownEventPayload=I.ContractTransactionResponse=I.ContractTransactionReceipt=I.ContractEventPayload=I.ContractFactory=I.Contract=I.BaseContract=I.MessagePrefix=I.EtherSymbol=I.ZeroHash=I.N=I.MaxInt256=I.MinInt256=I.MaxUint256=I.WeiPerEther=I.ZeroAddress=I.resolveAddress=I.isAddress=I.isAddressable=I.getCreate2Address=I.getCreateAddress=I.getIcapAddress=I.getAddress=I.Typed=I.TransactionDescription=I.Result=I.LogDescription=I.Interface=I.Indexed=I.ErrorDescription=I.checkResultErrors=I.StructFragment=I.ParamType=I.NamedFragment=I.FunctionFragment=I.FallbackFragment=I.Fragment=I.EventFragment=I.ErrorFragment=I.ConstructorFragment=I.AbiCoder=I.encodeBytes32String=I.decodeBytes32String=I.version=void 0;I.EnsPlugin=I.Network=I.EnsResolver=I.WebSocketProvider=I.SocketProvider=I.IpcSocketProvider=I.QuickNodeProvider=I.PocketProvider=I.InfuraWebSocketProvider=I.InfuraProvider=I.EtherscanProvider=I.CloudflareProvider=I.ChainstackProvider=I.AnkrProvider=I.AlchemyProvider=I.BrowserProvider=I.JsonRpcSigner=I.JsonRpcProvider=I.JsonRpcApiProvider=I.FallbackProvider=I.AbstractProvider=I.VoidSigner=I.NonceManager=I.AbstractSigner=I.TransactionResponse=I.TransactionReceipt=I.Log=I.FeeData=I.Block=I.getDefaultProvider=I.verifyTypedData=I.TypedDataEncoder=I.solidityPackedSha256=I.solidityPackedKeccak256=I.solidityPacked=I.verifyMessage=I.hashMessage=I.dnsEncode=I.namehash=I.isValidName=I.ensNormalize=I.id=I.SigningKey=I.Signature=I.lock=I.scryptSync=I.scrypt=I.pbkdf2=I.sha512=I.sha256=void 0;I.getUint=I.getNumber=I.getBigInt=I.FixedNumber=I.FetchCancelSignal=I.FetchResponse=I.FetchRequest=I.EventPayload=I.isError=I.isCallException=I.makeError=I.assertPrivate=I.assertNormalize=I.assertArgumentCount=I.assertArgument=I.assert=I.resolveProperties=I.defineProperties=I.zeroPadValue=I.zeroPadBytes=I.stripZerosLeft=I.isBytesLike=I.isHexString=I.hexlify=I.getBytesCopy=I.getBytes=I.dataSlice=I.dataLength=I.concat=I.encodeBase64=I.decodeBase64=I.encodeBase58=I.decodeBase58=I.Transaction=I.recoverAddress=I.computeAddress=I.accessListify=I.showThrottleMessage=I.copyRequest=I.UnmanagedSubscriber=I.SocketSubscriber=I.SocketPendingSubscriber=I.SocketEventSubscriber=I.SocketBlockSubscriber=I.MulticoinProviderPlugin=I.NetworkPlugin=I.GasCostPlugin=I.FetchUrlFeeDataNetworkPlugin=I.FeeDataNetworkPlugin=I.EtherscanPlugin=void 0;I.wordlists=I.WordlistOwlA=I.WordlistOwl=I.LangEn=I.Wordlist=I.encryptKeystoreJsonSync=I.encryptKeystoreJson=I.decryptKeystoreJson=I.decryptKeystoreJsonSync=I.decryptCrowdsaleJson=I.isKeystoreJson=I.isCrowdsaleJson=I.getIndexedAccountPath=I.getAccountPath=I.defaultPath=I.Wallet=I.HDNodeVoidWallet=I.HDNodeWallet=I.BaseWallet=I.Mnemonic=I.uuidV4=I.encodeRlp=I.decodeRlp=I.Utf8ErrorFuncs=I.toUtf8String=I.toUtf8CodePoints=I.toUtf8Bytes=I.parseUnits=I.formatUnits=I.parseEther=I.formatEther=I.mask=I.toTwos=I.fromTwos=I.toQuantity=I.toNumber=I.toBeHex=I.toBigInt=I.toBeArray=void 0;var z_e=J6();Object.defineProperty(I,"version",{enumerable:!0,get:function(){return z_e.version}});var yn=qx();Object.defineProperty(I,"decodeBytes32String",{enumerable:!0,get:function(){return yn.decodeBytes32String}});Object.defineProperty(I,"encodeBytes32String",{enumerable:!0,get:function(){return yn.encodeBytes32String}});Object.defineProperty(I,"AbiCoder",{enumerable:!0,get:function(){return yn.AbiCoder}});Object.defineProperty(I,"ConstructorFragment",{enumerable:!0,get:function(){return yn.ConstructorFragment}});Object.defineProperty(I,"ErrorFragment",{enumerable:!0,get:function(){return yn.ErrorFragment}});Object.defineProperty(I,"EventFragment",{enumerable:!0,get:function(){return yn.EventFragment}});Object.defineProperty(I,"Fragment",{enumerable:!0,get:function(){return yn.Fragment}});Object.defineProperty(I,"FallbackFragment",{enumerable:!0,get:function(){return yn.FallbackFragment}});Object.defineProperty(I,"FunctionFragment",{enumerable:!0,get:function(){return yn.FunctionFragment}});Object.defineProperty(I,"NamedFragment",{enumerable:!0,get:function(){return yn.NamedFragment}});Object.defineProperty(I,"ParamType",{enumerable:!0,get:function(){return yn.ParamType}});Object.defineProperty(I,"StructFragment",{enumerable:!0,get:function(){return yn.StructFragment}});Object.defineProperty(I,"checkResultErrors",{enumerable:!0,get:function(){return yn.checkResultErrors}});Object.defineProperty(I,"ErrorDescription",{enumerable:!0,get:function(){return yn.ErrorDescription}});Object.defineProperty(I,"Indexed",{enumerable:!0,get:function(){return yn.Indexed}});Object.defineProperty(I,"Interface",{enumerable:!0,get:function(){return yn.Interface}});Object.defineProperty(I,"LogDescription",{enumerable:!0,get:function(){return yn.LogDescription}});Object.defineProperty(I,"Result",{enumerable:!0,get:function(){return yn.Result}});Object.defineProperty(I,"TransactionDescription",{enumerable:!0,get:function(){return yn.TransactionDescription}});Object.defineProperty(I,"Typed",{enumerable:!0,get:function(){return yn.Typed}});var Dg=Sn();Object.defineProperty(I,"getAddress",{enumerable:!0,get:function(){return Dg.getAddress}});Object.defineProperty(I,"getIcapAddress",{enumerable:!0,get:function(){return Dg.getIcapAddress}});Object.defineProperty(I,"getCreateAddress",{enumerable:!0,get:function(){return Dg.getCreateAddress}});Object.defineProperty(I,"getCreate2Address",{enumerable:!0,get:function(){return Dg.getCreate2Address}});Object.defineProperty(I,"isAddressable",{enumerable:!0,get:function(){return Dg.isAddressable}});Object.defineProperty(I,"isAddress",{enumerable:!0,get:function(){return Dg.isAddress}});Object.defineProperty(I,"resolveAddress",{enumerable:!0,get:function(){return Dg.resolveAddress}});var Jf=fx();Object.defineProperty(I,"ZeroAddress",{enumerable:!0,get:function(){return Jf.ZeroAddress}});Object.defineProperty(I,"WeiPerEther",{enumerable:!0,get:function(){return Jf.WeiPerEther}});Object.defineProperty(I,"MaxUint256",{enumerable:!0,get:function(){return Jf.MaxUint256}});Object.defineProperty(I,"MinInt256",{enumerable:!0,get:function(){return Jf.MinInt256}});Object.defineProperty(I,"MaxInt256",{enumerable:!0,get:function(){return Jf.MaxInt256}});Object.defineProperty(I,"N",{enumerable:!0,get:function(){return Jf.N}});Object.defineProperty(I,"ZeroHash",{enumerable:!0,get:function(){return Jf.ZeroHash}});Object.defineProperty(I,"EtherSymbol",{enumerable:!0,get:function(){return Jf.EtherSymbol}});Object.defineProperty(I,"MessagePrefix",{enumerable:!0,get:function(){return Jf.MessagePrefix}});var Wf=F2();Object.defineProperty(I,"BaseContract",{enumerable:!0,get:function(){return Wf.BaseContract}});Object.defineProperty(I,"Contract",{enumerable:!0,get:function(){return Wf.Contract}});Object.defineProperty(I,"ContractFactory",{enumerable:!0,get:function(){return Wf.ContractFactory}});Object.defineProperty(I,"ContractEventPayload",{enumerable:!0,get:function(){return Wf.ContractEventPayload}});Object.defineProperty(I,"ContractTransactionReceipt",{enumerable:!0,get:function(){return Wf.ContractTransactionReceipt}});Object.defineProperty(I,"ContractTransactionResponse",{enumerable:!0,get:function(){return Wf.ContractTransactionResponse}});Object.defineProperty(I,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return Wf.ContractUnknownEventPayload}});Object.defineProperty(I,"EventLog",{enumerable:!0,get:function(){return Wf.EventLog}});Object.defineProperty(I,"UndecodedEventLog",{enumerable:!0,get:function(){return Wf.UndecodedEventLog}});var sa=Dn();Object.defineProperty(I,"computeHmac",{enumerable:!0,get:function(){return sa.computeHmac}});Object.defineProperty(I,"randomBytes",{enumerable:!0,get:function(){return sa.randomBytes}});Object.defineProperty(I,"keccak256",{enumerable:!0,get:function(){return sa.keccak256}});Object.defineProperty(I,"ripemd160",{enumerable:!0,get:function(){return sa.ripemd160}});Object.defineProperty(I,"sha256",{enumerable:!0,get:function(){return sa.sha256}});Object.defineProperty(I,"sha512",{enumerable:!0,get:function(){return sa.sha512}});Object.defineProperty(I,"pbkdf2",{enumerable:!0,get:function(){return sa.pbkdf2}});Object.defineProperty(I,"scrypt",{enumerable:!0,get:function(){return sa.scrypt}});Object.defineProperty(I,"scryptSync",{enumerable:!0,get:function(){return sa.scryptSync}});Object.defineProperty(I,"lock",{enumerable:!0,get:function(){return sa.lock}});Object.defineProperty(I,"Signature",{enumerable:!0,get:function(){return sa.Signature}});Object.defineProperty(I,"SigningKey",{enumerable:!0,get:function(){return sa.SigningKey}});var ia=mu();Object.defineProperty(I,"id",{enumerable:!0,get:function(){return ia.id}});Object.defineProperty(I,"ensNormalize",{enumerable:!0,get:function(){return ia.ensNormalize}});Object.defineProperty(I,"isValidName",{enumerable:!0,get:function(){return ia.isValidName}});Object.defineProperty(I,"namehash",{enumerable:!0,get:function(){return ia.namehash}});Object.defineProperty(I,"dnsEncode",{enumerable:!0,get:function(){return ia.dnsEncode}});Object.defineProperty(I,"hashMessage",{enumerable:!0,get:function(){return ia.hashMessage}});Object.defineProperty(I,"verifyMessage",{enumerable:!0,get:function(){return ia.verifyMessage}});Object.defineProperty(I,"solidityPacked",{enumerable:!0,get:function(){return ia.solidityPacked}});Object.defineProperty(I,"solidityPackedKeccak256",{enumerable:!0,get:function(){return ia.solidityPackedKeccak256}});Object.defineProperty(I,"solidityPackedSha256",{enumerable:!0,get:function(){return ia.solidityPackedSha256}});Object.defineProperty(I,"TypedDataEncoder",{enumerable:!0,get:function(){return ia.TypedDataEncoder}});Object.defineProperty(I,"verifyTypedData",{enumerable:!0,get:function(){return ia.verifyTypedData}});var Ue=V8();Object.defineProperty(I,"getDefaultProvider",{enumerable:!0,get:function(){return Ue.getDefaultProvider}});Object.defineProperty(I,"Block",{enumerable:!0,get:function(){return Ue.Block}});Object.defineProperty(I,"FeeData",{enumerable:!0,get:function(){return Ue.FeeData}});Object.defineProperty(I,"Log",{enumerable:!0,get:function(){return Ue.Log}});Object.defineProperty(I,"TransactionReceipt",{enumerable:!0,get:function(){return Ue.TransactionReceipt}});Object.defineProperty(I,"TransactionResponse",{enumerable:!0,get:function(){return Ue.TransactionResponse}});Object.defineProperty(I,"AbstractSigner",{enumerable:!0,get:function(){return Ue.AbstractSigner}});Object.defineProperty(I,"NonceManager",{enumerable:!0,get:function(){return Ue.NonceManager}});Object.defineProperty(I,"VoidSigner",{enumerable:!0,get:function(){return Ue.VoidSigner}});Object.defineProperty(I,"AbstractProvider",{enumerable:!0,get:function(){return Ue.AbstractProvider}});Object.defineProperty(I,"FallbackProvider",{enumerable:!0,get:function(){return Ue.FallbackProvider}});Object.defineProperty(I,"JsonRpcApiProvider",{enumerable:!0,get:function(){return Ue.JsonRpcApiProvider}});Object.defineProperty(I,"JsonRpcProvider",{enumerable:!0,get:function(){return Ue.JsonRpcProvider}});Object.defineProperty(I,"JsonRpcSigner",{enumerable:!0,get:function(){return Ue.JsonRpcSigner}});Object.defineProperty(I,"BrowserProvider",{enumerable:!0,get:function(){return Ue.BrowserProvider}});Object.defineProperty(I,"AlchemyProvider",{enumerable:!0,get:function(){return Ue.AlchemyProvider}});Object.defineProperty(I,"AnkrProvider",{enumerable:!0,get:function(){return Ue.AnkrProvider}});Object.defineProperty(I,"ChainstackProvider",{enumerable:!0,get:function(){return Ue.ChainstackProvider}});Object.defineProperty(I,"CloudflareProvider",{enumerable:!0,get:function(){return Ue.CloudflareProvider}});Object.defineProperty(I,"EtherscanProvider",{enumerable:!0,get:function(){return Ue.EtherscanProvider}});Object.defineProperty(I,"InfuraProvider",{enumerable:!0,get:function(){return Ue.InfuraProvider}});Object.defineProperty(I,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return Ue.InfuraWebSocketProvider}});Object.defineProperty(I,"PocketProvider",{enumerable:!0,get:function(){return Ue.PocketProvider}});Object.defineProperty(I,"QuickNodeProvider",{enumerable:!0,get:function(){return Ue.QuickNodeProvider}});Object.defineProperty(I,"IpcSocketProvider",{enumerable:!0,get:function(){return Ue.IpcSocketProvider}});Object.defineProperty(I,"SocketProvider",{enumerable:!0,get:function(){return Ue.SocketProvider}});Object.defineProperty(I,"WebSocketProvider",{enumerable:!0,get:function(){return Ue.WebSocketProvider}});Object.defineProperty(I,"EnsResolver",{enumerable:!0,get:function(){return Ue.EnsResolver}});Object.defineProperty(I,"Network",{enumerable:!0,get:function(){return Ue.Network}});Object.defineProperty(I,"EnsPlugin",{enumerable:!0,get:function(){return Ue.EnsPlugin}});Object.defineProperty(I,"EtherscanPlugin",{enumerable:!0,get:function(){return Ue.EtherscanPlugin}});Object.defineProperty(I,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return Ue.FeeDataNetworkPlugin}});Object.defineProperty(I,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return Ue.FetchUrlFeeDataNetworkPlugin}});Object.defineProperty(I,"GasCostPlugin",{enumerable:!0,get:function(){return Ue.GasCostPlugin}});Object.defineProperty(I,"NetworkPlugin",{enumerable:!0,get:function(){return Ue.NetworkPlugin}});Object.defineProperty(I,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return Ue.MulticoinProviderPlugin}});Object.defineProperty(I,"SocketBlockSubscriber",{enumerable:!0,get:function(){return Ue.SocketBlockSubscriber}});Object.defineProperty(I,"SocketEventSubscriber",{enumerable:!0,get:function(){return Ue.SocketEventSubscriber}});Object.defineProperty(I,"SocketPendingSubscriber",{enumerable:!0,get:function(){return Ue.SocketPendingSubscriber}});Object.defineProperty(I,"SocketSubscriber",{enumerable:!0,get:function(){return Ue.SocketSubscriber}});Object.defineProperty(I,"UnmanagedSubscriber",{enumerable:!0,get:function(){return Ue.UnmanagedSubscriber}});Object.defineProperty(I,"copyRequest",{enumerable:!0,get:function(){return Ue.copyRequest}});Object.defineProperty(I,"showThrottleMessage",{enumerable:!0,get:function(){return Ue.showThrottleMessage}});var gT=yi();Object.defineProperty(I,"accessListify",{enumerable:!0,get:function(){return gT.accessListify}});Object.defineProperty(I,"computeAddress",{enumerable:!0,get:function(){return gT.computeAddress}});Object.defineProperty(I,"recoverAddress",{enumerable:!0,get:function(){return gT.recoverAddress}});Object.defineProperty(I,"Transaction",{enumerable:!0,get:function(){return gT.Transaction}});var Se=pe();Object.defineProperty(I,"decodeBase58",{enumerable:!0,get:function(){return Se.decodeBase58}});Object.defineProperty(I,"encodeBase58",{enumerable:!0,get:function(){return Se.encodeBase58}});Object.defineProperty(I,"decodeBase64",{enumerable:!0,get:function(){return Se.decodeBase64}});Object.defineProperty(I,"encodeBase64",{enumerable:!0,get:function(){return Se.encodeBase64}});Object.defineProperty(I,"concat",{enumerable:!0,get:function(){return Se.concat}});Object.defineProperty(I,"dataLength",{enumerable:!0,get:function(){return Se.dataLength}});Object.defineProperty(I,"dataSlice",{enumerable:!0,get:function(){return Se.dataSlice}});Object.defineProperty(I,"getBytes",{enumerable:!0,get:function(){return Se.getBytes}});Object.defineProperty(I,"getBytesCopy",{enumerable:!0,get:function(){return Se.getBytesCopy}});Object.defineProperty(I,"hexlify",{enumerable:!0,get:function(){return Se.hexlify}});Object.defineProperty(I,"isHexString",{enumerable:!0,get:function(){return Se.isHexString}});Object.defineProperty(I,"isBytesLike",{enumerable:!0,get:function(){return Se.isBytesLike}});Object.defineProperty(I,"stripZerosLeft",{enumerable:!0,get:function(){return Se.stripZerosLeft}});Object.defineProperty(I,"zeroPadBytes",{enumerable:!0,get:function(){return Se.zeroPadBytes}});Object.defineProperty(I,"zeroPadValue",{enumerable:!0,get:function(){return Se.zeroPadValue}});Object.defineProperty(I,"defineProperties",{enumerable:!0,get:function(){return Se.defineProperties}});Object.defineProperty(I,"resolveProperties",{enumerable:!0,get:function(){return Se.resolveProperties}});Object.defineProperty(I,"assert",{enumerable:!0,get:function(){return Se.assert}});Object.defineProperty(I,"assertArgument",{enumerable:!0,get:function(){return Se.assertArgument}});Object.defineProperty(I,"assertArgumentCount",{enumerable:!0,get:function(){return Se.assertArgumentCount}});Object.defineProperty(I,"assertNormalize",{enumerable:!0,get:function(){return Se.assertNormalize}});Object.defineProperty(I,"assertPrivate",{enumerable:!0,get:function(){return Se.assertPrivate}});Object.defineProperty(I,"makeError",{enumerable:!0,get:function(){return Se.makeError}});Object.defineProperty(I,"isCallException",{enumerable:!0,get:function(){return Se.isCallException}});Object.defineProperty(I,"isError",{enumerable:!0,get:function(){return Se.isError}});Object.defineProperty(I,"EventPayload",{enumerable:!0,get:function(){return Se.EventPayload}});Object.defineProperty(I,"FetchRequest",{enumerable:!0,get:function(){return Se.FetchRequest}});Object.defineProperty(I,"FetchResponse",{enumerable:!0,get:function(){return Se.FetchResponse}});Object.defineProperty(I,"FetchCancelSignal",{enumerable:!0,get:function(){return Se.FetchCancelSignal}});Object.defineProperty(I,"FixedNumber",{enumerable:!0,get:function(){return Se.FixedNumber}});Object.defineProperty(I,"getBigInt",{enumerable:!0,get:function(){return Se.getBigInt}});Object.defineProperty(I,"getNumber",{enumerable:!0,get:function(){return Se.getNumber}});Object.defineProperty(I,"getUint",{enumerable:!0,get:function(){return Se.getUint}});Object.defineProperty(I,"toBeArray",{enumerable:!0,get:function(){return Se.toBeArray}});Object.defineProperty(I,"toBigInt",{enumerable:!0,get:function(){return Se.toBigInt}});Object.defineProperty(I,"toBeHex",{enumerable:!0,get:function(){return Se.toBeHex}});Object.defineProperty(I,"toNumber",{enumerable:!0,get:function(){return Se.toNumber}});Object.defineProperty(I,"toQuantity",{enumerable:!0,get:function(){return Se.toQuantity}});Object.defineProperty(I,"fromTwos",{enumerable:!0,get:function(){return Se.fromTwos}});Object.defineProperty(I,"toTwos",{enumerable:!0,get:function(){return Se.toTwos}});Object.defineProperty(I,"mask",{enumerable:!0,get:function(){return Se.mask}});Object.defineProperty(I,"formatEther",{enumerable:!0,get:function(){return Se.formatEther}});Object.defineProperty(I,"parseEther",{enumerable:!0,get:function(){return Se.parseEther}});Object.defineProperty(I,"formatUnits",{enumerable:!0,get:function(){return Se.formatUnits}});Object.defineProperty(I,"parseUnits",{enumerable:!0,get:function(){return Se.parseUnits}});Object.defineProperty(I,"toUtf8Bytes",{enumerable:!0,get:function(){return Se.toUtf8Bytes}});Object.defineProperty(I,"toUtf8CodePoints",{enumerable:!0,get:function(){return Se.toUtf8CodePoints}});Object.defineProperty(I,"toUtf8String",{enumerable:!0,get:function(){return Se.toUtf8String}});Object.defineProperty(I,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Se.Utf8ErrorFuncs}});Object.defineProperty(I,"decodeRlp",{enumerable:!0,get:function(){return Se.decodeRlp}});Object.defineProperty(I,"encodeRlp",{enumerable:!0,get:function(){return Se.encodeRlp}});Object.defineProperty(I,"uuidV4",{enumerable:!0,get:function(){return Se.uuidV4}});var $s=MY();Object.defineProperty(I,"Mnemonic",{enumerable:!0,get:function(){return $s.Mnemonic}});Object.defineProperty(I,"BaseWallet",{enumerable:!0,get:function(){return $s.BaseWallet}});Object.defineProperty(I,"HDNodeWallet",{enumerable:!0,get:function(){return $s.HDNodeWallet}});Object.defineProperty(I,"HDNodeVoidWallet",{enumerable:!0,get:function(){return $s.HDNodeVoidWallet}});Object.defineProperty(I,"Wallet",{enumerable:!0,get:function(){return $s.Wallet}});Object.defineProperty(I,"defaultPath",{enumerable:!0,get:function(){return $s.defaultPath}});Object.defineProperty(I,"getAccountPath",{enumerable:!0,get:function(){return $s.getAccountPath}});Object.defineProperty(I,"getIndexedAccountPath",{enumerable:!0,get:function(){return $s.getIndexedAccountPath}});Object.defineProperty(I,"isCrowdsaleJson",{enumerable:!0,get:function(){return $s.isCrowdsaleJson}});Object.defineProperty(I,"isKeystoreJson",{enumerable:!0,get:function(){return $s.isKeystoreJson}});Object.defineProperty(I,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return $s.decryptCrowdsaleJson}});Object.defineProperty(I,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return $s.decryptKeystoreJsonSync}});Object.defineProperty(I,"decryptKeystoreJson",{enumerable:!0,get:function(){return $s.decryptKeystoreJson}});Object.defineProperty(I,"encryptKeystoreJson",{enumerable:!0,get:function(){return $s.encryptKeystoreJson}});Object.defineProperty(I,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return $s.encryptKeystoreJsonSync}});var EP=DY();Object.defineProperty(I,"Wordlist",{enumerable:!0,get:function(){return EP.Wordlist}});Object.defineProperty(I,"LangEn",{enumerable:!0,get:function(){return EP.LangEn}});Object.defineProperty(I,"WordlistOwl",{enumerable:!0,get:function(){return EP.WordlistOwl}});Object.defineProperty(I,"WordlistOwlA",{enumerable:!0,get:function(){return EP.WordlistOwlA}});Object.defineProperty(I,"wordlists",{enumerable:!0,get:function(){return EP.wordlists}})});var kP=M(SP=>{y();b();Object.defineProperty(SP,"__esModule",{value:!0});SP.ethers=void 0;var qY=Yz(),J_e=qY.__importStar(L9());SP.ethers=J_e;qY.__exportStar(L9(),SP)});var U9=M(Qd=>{y();b();var W_e=Qd&&Qd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.decryptKeystoreListSync=Qd.decryptKeystoreList=void 0;var q1=kP(),pT=W_e(vT()),mT=Gh();function $_e(r,e,t){let n=JSON.parse(r),s=(0,mT.splitKeystoreKIP3)(r),i=s.length,o=pT.default.map(s,(a,c)=>{let f=(0,q1.decryptKeystoreJsonSync)(a,e);return t&&t((c+1)/i),f});return Promise.resolve({address:(0,q1.getAddress)(n.address),privateKey:o[0].privateKey,privateKeyList:pT.default.map(o,a=>a.privateKey)})}function Z_e(r,e){let t=JSON.parse(r),n=(0,mT.splitKeystoreKIP3)(r),s=pT.default.map(n,i=>(0,q1.decryptKeystoreJsonSync)(i,e));return{address:(0,q1.getAddress)(t.address),privateKey:s[0].privateKey,privateKeyList:pT.default.map(s,i=>i.privateKey)}}function Q_e(r,e,t){return(0,mT.isKIP3Json)(r)?$_e(r,e,t):(0,q1.decryptKeystoreJson)(r,e,t).then(n=>({address:n.address,privateKey:n.privateKey,privateKeyList:[n.privateKey]}))}Qd.decryptKeystoreList=Q_e;function X_e(r,e){if((0,mT.isKIP3Json)(r))return Z_e(r,e);{let t=(0,q1.decryptKeystoreJsonSync)(r,e);return{address:t.address,privateKey:t.privateKey,privateKeyList:[t.privateKey]}}}Qd.decryptKeystoreListSync=X_e});var q9=M(br=>{y();b();var Y_e=br&&br.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(br,"__esModule",{value:!0});br.poll=br.sleep=br.populateFeePayerAndSignatures=br.populateChainId=br.eip155sign=br.populateGasPrice=br.populateGasLimit=br.populateNonce=br.populateTo=br.populateFrom=br.getTransactionRequest=void 0;var Xd=kP(),D9=Y_e(vT()),yT=Gh();async function eve(r){if(D9.default.isString(r))return(0,yT.parseTransaction)(r);{if(r instanceof Xd.Transaction)return r.toJSON();let e=await(0,Xd.resolveProperties)(r);return typeof e?.type=="string"&&(e.type=(0,yT.parseTxType)(e.type)),e}}br.getTransactionRequest=eve;async function tve(r,e){!r.from||r.from=="0x"||(0,Xd.assert)(r.from?.toString().toLowerCase()===e?.toLowerCase(),`from address mismatch (wallet address=${e}) (tx.from=${r.from})`,"INVALID_ARGUMENT",{argument:"from",value:r.from}),r.from=e}br.populateFrom=tve;async function rve(r){!r.to||r.to=="0x"?r.to=Xd.ZeroAddress:r.to=await(0,Xd.resolveAddress)(r.to,null)}br.populateTo=rve;async function nve(r,e){if(!r.nonce)throw new Error("MISSING_ARGUMENT")}br.populateNonce=nve;async function sve(r){if(!r.gasLimit)throw new Error("MISSING_ARGUMENT")}br.populateGasLimit=sve;async function ive(r){if(!r.gasPrice)throw new Error("MISSING_ARGUMENT")}br.populateGasPrice=ive;function ove(r,e,t){let n=r.sign(e),i=(n.v===27?0:1)+ +t*2+35;return{r:n.r,s:n.s,v:i}}br.eip155sign=ove;async function ave(r){r.chainId||(r.chainId=(0,yT.getChainIdFromSignatureTuples)(r.txSignatures)??(0,yT.getChainIdFromSignatureTuples)(r.feePayerSignatures))}br.populateChainId=ave;async function cve(r,e){!r.feePayer||r.feePayer==Xd.ZeroAddress||(0,Xd.assert)(r.feePayer.toLowerCase()===e.toLowerCase(),"feePayer address mismatch","INVALID_ARGUMENT",{argument:"feePayer",value:r.feePayer}),r.feePayer=e,D9.default.isArray(r.feePayerSignatures)&&(r.feePayerSignatures=r.feePayerSignatures.filter(t=>!(D9.default.isArray(t)&&t.length==3&&t[0]=="0x01"&&t[1]=="0x"&&t[2]=="0x")))}br.populateFeePayerAndSignatures=cve;function HY(r){return new Promise((e,t)=>{setTimeout(()=>e(),r)})}br.sleep=HY;async function uve(r,e,t=100){let n;for(let s=0;s<t;s++){try{let i=await r();if(i&&e(i)){n=i;break}}catch{continue}await HY(250)}return(0,Xd.assert)(n,"Transaction timeout!","NETWORK_ERROR",{event:"pollTransactionInPool"}),n}br.poll=uve});var H9=M(H1=>{y();b();var fve=H1&&H1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(H1,"__esModule",{value:!0});H1.Wallet=void 0;var bT=kP(),GY=fve(vT()),oa=Gh(),xT=U9(),Ji=q9(),Yd=class extends bT.Wallet{static async fromEncryptedJson(e,t,n){let{address:s,privateKey:i}=await(0,xT.decryptKeystoreList)(e,t,n);return new Yd(s,i)}static fromEncryptedJsonSync(e,t){let{address:n,privateKey:s}=(0,xT.decryptKeystoreListSync)(e,t);return new Yd(n,s)}static async fromEncryptedJsonList(e,t,n){let{address:s,privateKeyList:i}=await(0,xT.decryptKeystoreList)(e,t,n);return GY.default.map(i,o=>new Yd(s,o))}static fromEncryptedJsonListSync(e,t){let{address:n,privateKeyList:s}=(0,xT.decryptKeystoreListSync)(e,t);return GY.default.map(s,i=>new Yd(n,i))}constructor(e,t){if(oa.HexStr.isHex(e,20)){let n=oa.HexStr.from(e),s=t;super(s),this.klaytnAddr=n}else{let n=e;super(n)}}getAddress(e){return e||!this.klaytnAddr?super.getAddress():Promise.resolve(this.klaytnAddr)}getEtherAddress(){return super.getAddress()}decodeTxFromRLP(e){return(0,oa.parseTransaction)(e)}async isDecoupled(){return this.klaytnAddr?await this.getAddress(!1)==await this.getAddress(!0):!1}async populateTransaction(e){return this._populateTransaction(e,!1)}async _populateTransaction(e,t){let n=await(0,Ji.getTransactionRequest)(e);if(!(0,oa.isKlaytnTxType)((0,oa.parseTxType)(n.type)))return super.populateTransaction(n);if(t||await(0,Ji.populateFrom)(n,await this.getAddress()),await(0,Ji.populateTo)(n),n.nonce==null)throw new Error("invalid nonce");if(n.gasLimit==null)throw new Error("invalid gasLimit");if(await(0,Ji.populateGasLimit)(n),n.gasPrice==null)throw new Error("invalid gasPrice");if(await(0,Ji.populateGasPrice)(n),n.chainId==null)throw new Error("invalid chainId");return await(0,Ji.populateChainId)(n),n}async signTransaction(e){let t=await(0,Ji.getTransactionRequest)(e);if(!(0,oa.isKlaytnTxType)((0,oa.parseTxType)(t.type)))return super.signTransaction(t);await(0,Ji.populateChainId)(t);let n=t.chainId,s=oa.KlaytnTxFactory.fromObject(t),i=(0,bT.keccak256)(s.sigRLP()),o=(0,Ji.eip155sign)(this.signingKey,i,Number(n.toString()));return s.addSenderSig(o),(0,oa.isFeePayerSigTxType)(s.type)?s.senderTxHashRLP():s.txHashRLP()}async signTransactionAsFeePayer(e){let t=await(0,Ji.getTransactionRequest)(e);(0,bT.assert)((0,oa.isFeePayerSigTxType)((0,oa.parseTxType)(t.type)),`signTransactionAsFeePayer not supported for tx type ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"signTransactionAsFeePayer"}),await(0,Ji.populateFeePayerAndSignatures)(t,await this.getAddress()),await(0,Ji.populateChainId)(t);let n=t.chainId,s=oa.KlaytnTxFactory.fromObject(t),i=(0,bT.keccak256)(s.sigFeePayerRLP()),o=(0,Ji.eip155sign)(this.signingKey,i,Number(n));return s.addFeePayerSig(o),s.txHashRLP()}};H1.Wallet=Yd});var VY=M(K1=>{y();b();Object.defineProperty(K1,"__esModule",{value:!0});K1.AccountStore=K1.Accounts=void 0;var Bu=kP(),G9=Gh(),KY=H9();function G1(r,e){return(0,Bu.getAddress)(r)==(0,Bu.getAddress)(e)}function K9(r,e){return(0,Bu.computeAddress)(r)==(0,Bu.computeAddress)(e)}var V9=class{constructor(e){this.wallets=[];for(let t=0;t<e.length;t++)if(e[t]instanceof KY.Wallet)this.wallets.push(e[t]);else if(Array.isArray(e[t]))if(e[t].length==1)this.add([e[t][0]]);else if(e[t].length==2)this.add([e[t][0],e[t][1]]);else throw new Error("Input has to be the array of [address, privateKey] or [privateKey]");else throw new Error("Input has to be Wallet, [address, privateKey], or [privateKey]")}async add(e){let t,n;if(e.length==1){let s=new Bu.SigningKey(e[0]);t=(0,Bu.computeAddress)(s.compressedPublicKey),n=e[0]}else if(e.length==2&&e[1]!=null)t=e[0],n=e[1];else throw new Error("Input has to be [address, privateKey] or [privateKey]");for(let s=0;s<this.wallets.length;s++)if(G1(await this.wallets[s].getAddress(),t)&&K9(this.wallets[s].privateKey,n))return!1;return this.wallets.push(new KY.Wallet(t,n)),!0}async remove(e){let t,n;if(e.length==1){let s=new Bu.SigningKey(e[0]);t=(0,Bu.computeAddress)(s.compressedPublicKey),n=e[0]}else if(e.length==2&&e[1]!=null)t=e[0],n=e[1];else throw new Error("Input has to be [address, privateKey] or [privateKey]");for(let s=0;s<this.wallets.length;s++)if(G1(await this.wallets[s].getAddress(),t)&&K9(this.wallets[s].privateKey,n))return delete this.wallets[s],this.wallets.splice(s,1),!0;return!1}removeAll(){if(this.wallets.length!=0)for(let e=this.wallets.length-1;e>=0&&e<this.wallets.length;e--)delete this.wallets[e],this.wallets.splice(e,1)}accountByKey(e){let t=[];for(let n=0;n<this.wallets.length;n++)K9(this.wallets[n].privateKey,e)&&t.push(this.wallets[n]);return t}async accountByAddress(e){let t=[];for(let n=0;n<this.wallets.length;n++)G1(await this.wallets[n].getAddress(),e)&&t.push(this.wallets[n]);return t}};K1.Accounts=V9;var z9=class{constructor(){this.signableKeyList=[]}async updateSignableKeyList(){let e;for(e=0;this.accounts!=null&&e<this.accounts.wallets.length;e++){let t=await this.accounts.wallets[e].getEtherAddress();t=String(t).toLocaleLowerCase(),this.hasInSignableKeyList(t)==!1&&this.signableKeyList.push(t)}}hasInSignableKeyList(e){let t=String(e).toLocaleLowerCase();return this.signableKeyList.indexOf(t)!=-1}hasAccountInfos(e){let t;for(t=0;this.accountInfos!=null&&t<this.accountInfos.length;t++)if(G1(this.accountInfos[t].address,e))return!0;return!1}getType(e){let t;for(t=0;this.accountInfos!=null&&t<this.accountInfos.length;t++)if(G1(this.accountInfos[t].address,e))return this.accountInfos[t].key.type;return null}getAccountInfo(e){let t;for(t=0;this.accountInfos!=null&&t<this.accountInfos.length;t++)if(G1(this.accountInfos[t].address,e))return this.accountInfos[t];return null}getAccountInfos(){return this.accountInfos}getPubkeyInfo(e,t){let n=G9.HexStr.zeroPad(e,32),s=G9.HexStr.zeroPad(t,32),i=String(n).substring(2),o=String(s).substring(2),a=Bu.SigningKey.computePublicKey(G9.HexStr.concat("0x04"+i+o),!0),c=(0,Bu.computeAddress)(a),f=this.hasInSignableKeyList(c);return{compressed:a,hashed:c,hasPrivateKey:f}}};K1.AccountStore=z9});var zY=M(bn=>{y();b();var lve=bn&&bn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wT=bn&&bn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lve(e,r,t)};Object.defineProperty(bn,"__esModule",{value:!0});bn.parseTransaction=bn.KlaytnTxFactory=bn.KlaytnTx=bn.AccountKeyFactory=bn.AccountKey=void 0;var OP=Gh();Object.defineProperty(bn,"AccountKey",{enumerable:!0,get:function(){return OP.AccountKey}});Object.defineProperty(bn,"AccountKeyFactory",{enumerable:!0,get:function(){return OP.AccountKeyFactory}});Object.defineProperty(bn,"KlaytnTx",{enumerable:!0,get:function(){return OP.KlaytnTx}});Object.defineProperty(bn,"KlaytnTxFactory",{enumerable:!0,get:function(){return OP.KlaytnTxFactory}});Object.defineProperty(bn,"parseTransaction",{enumerable:!0,get:function(){return OP.parseTransaction}});wT(VY(),bn);wT(U9(),bn);wT(H9(),bn);wT(q9(),bn)});var $Y=M(_T=>{y();b();Object.defineProperty(_T,"__esModule",{value:!0});_T.KaiaWallet=void 0;var kn=Q9(),JY=QY(),dve=qT(),hve=zj(),WY=AT(),J9=zY(),gve=Gh(),W9=class extends JY.EthWallet{async getNewAddress(e){let t=e.privateKey;if(!(0,WY.validPrivateKey)(t))throw new Error("invalid key");try{let s=kn.base.fromHex(t.toLowerCase());(0,kn.assertBufferLength)(s,32);let i=new J9.Wallet(t);return Promise.resolve({address:await i.getAddress(),publicKey:i.signingKey.publicKey})}catch{}return Promise.reject(kn.NewAddressError)}async validPrivateKey(e){let n={isValid:(0,WY.validPrivateKey)(e.privateKey),privateKey:e.privateKey};return Promise.resolve(n)}async validAddress(e){let t=!1,n;try{n=(0,dve.getAddress)(e.address),t=!0}catch{t=!1}return Promise.resolve({isValid:t,address:n})}convert2HexString(e){let t;return kn.BigNumber.isBigNumber(e)?t=e:t=new kn.BigNumber(e),kn.base.toBigIntHex(t)}convert2KaiaTxParam(e){if(!e.gasPrice||!e.gasLimit)throw new Error("invalid parameter");return{kaiaTxType:e.kaiaTxType,feePayer:e.feePayer,senderRawTx:e.senderRawTx,from:e.from,to:e.to,value:this.convert2HexString(e.value||0),nonce:e.nonce,contractAddress:e.contractAddress,gasPrice:this.convert2HexString(e.gasPrice||0),gasLimit:this.convert2HexString(e.gasLimit||0),data:e.data,humanReadable:e.humanReadable,codeFormat:e.codeFormat,key:e.key,chainId:this.convert2HexString(e.chainId||1),type:e.type||0,maxPriorityFeePerGas:this.convert2HexString(e.maxPriorityFeePerGas||0),maxFeePerGas:this.convert2HexString(e.maxFeePerGas||0),feeRatio:e.feeRatio}}async signTransaction(e){try{let t=e.privateKey;if(t&&(0,kn.assertBufferLength)(kn.base.fromHex(t),32),e.data.senderRawTx)return new J9.Wallet(e.privateKey).signTransactionAsFeePayer(e.data.senderRawTx);if(e.data.kaiaTxType){let n=new J9.Wallet(e.privateKey),s=this.convert2KaiaTxParam(e.data),i={type:s.kaiaTxType,chainId:s.chainId,from:s.from,nonce:s.nonce,to:s.to,data:s.data,humanReadable:s.humanReadable,codeFormat:s.codeFormat,key:s.key,value:s.value,gasLimit:s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas,feeRatio:s.feeRatio},o=await n.populateTransaction(i);return Promise.resolve(n.signTransaction(o))}else return super.signTransaction(e)}catch{return Promise.reject(kn.SignTxError)}}getAddressByPublicKey(e){return Promise.resolve((0,hve.computeAddress)(kn.base.fromHex(e.publicKey)))}async getMPCRawTransaction(e){return Promise.reject(kn.GetMpcRawTransactionError)}async getMPCTransaction(e){return Promise.reject(kn.GetMpcTransactionError)}async getMPCRawMessage(e){return Promise.reject(kn.GetMpcRawTransactionError)}async getMPCSignedMessage(e){return Promise.reject(kn.GetMpcTransactionError)}async getHardWareRawTransaction(e){return Promise.reject(kn.GetHardwareRawTransactionError)}async getHardWareSignedTransaction(e){return Promise.reject(kn.GetHardwareSignedTransactionError)}async calcTxHash(e){let n=gve.KlaytnTxFactory.fromRLP(e.data).txHashRLP();return Promise.resolve(kn.base.toHex((0,JY.keccak256)(kn.base.fromHex(n)),!0))}async validSignedTransaction(e){return Promise.reject(kn.validSignedTransactionError)}};_T.KaiaWallet=W9});var mve=M(e0=>{y();b();var pve=e0&&e0.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZY=e0&&e0.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&pve(e,r,t)};Object.defineProperty(e0,"__esModule",{value:!0});ZY(AT(),e0);ZY($Y(),e0)});export{mve as a};
//# sourceMappingURL=chunk-OMCYVHG6.js.map
