import{a as Si}from"./chunk-DC6ZVC45.js";import{a as Mt,c as xi,e as Jr}from"./chunk-IWKGD7FL.js";import{a as sr}from"./chunk-JZF33I7N.js";import{b as bi}from"./chunk-RZ6UTWVB.js";import"./chunk-KW3KLDWA.js";import{d as Zr}from"./chunk-M7JGFMJS.js";import{c as G,o as A,p as y,q as P}from"./chunk-4J7XGGEQ.js";var We=G((Yr,fr)=>{A();P();(function(t,n){"use strict";function r(d,e){if(!d)throw new Error(e||"Assertion failed")}function f(d,e){d.super_=e;var a=function(){};a.prototype=e.prototype,d.prototype=new a,d.prototype.constructor=d}function o(d,e,a){if(o.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((e==="le"||e==="be")&&(a=e,e=10),this._init(d||0,e||10,a||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{p=Zr().Buffer}catch{}o.isBN=function(e){return e instanceof o?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,a){return e.cmp(a)>0?e:a},o.min=function(e,a){return e.cmp(a)<0?e:a},o.prototype._init=function(e,a,s){if(typeof e=="number")return this._initNumber(e,a,s);if(typeof e=="object")return this._initArray(e,a,s);a==="hex"&&(a=16),r(a===(a|0)&&a>=2&&a<=36),e=e.toString().replace(/\s+/g,"");var u=0;e[0]==="-"&&u++,a===16?this._parseHex(e,u):this._parseBase(e,a,u),e[0]==="-"&&(this.negative=1),this._strip(),s==="le"&&this._initArray(this.toArray(),a,s)},o.prototype._initNumber=function(e,a,s){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),s==="le"&&this._initArray(this.toArray(),a,s)},o.prototype._initArray=function(e,a,s){if(r(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var l,v,g=0;if(s==="be")for(u=e.length-1,l=0;u>=0;u-=3)v=e[u]|e[u-1]<<8|e[u-2]<<16,this.words[l]|=v<<g&67108863,this.words[l+1]=v>>>26-g&67108863,g+=24,g>=26&&(g-=26,l++);else if(s==="le")for(u=0,l=0;u<e.length;u+=3)v=e[u]|e[u+1]<<8|e[u+2]<<16,this.words[l]|=v<<g&67108863,this.words[l+1]=v>>>26-g&67108863,g+=24,g>=26&&(g-=26,l++);return this._strip()};function m(d,e,a){for(var s=0,u=Math.min(d.length,a),l=0,v=e;v<u;v++){var g=d.charCodeAt(v)-48;s<<=4;var h;g>=49&&g<=54?h=g-49+10:g>=17&&g<=22?h=g-17+10:h=g,s|=h,l|=h}return r(!(l&240),"Invalid character in "+d),s}o.prototype._parseHex=function(e,a){this.length=Math.ceil((e.length-a)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var u,l,v=0;for(s=e.length-6,u=0;s>=a;s-=6)l=m(e,s,s+6),this.words[u]|=l<<v&67108863,this.words[u+1]|=l>>>26-v&4194303,v+=24,v>=26&&(v-=26,u++);s+6!==a&&(l=m(e,a,s+6),this.words[u]|=l<<v&67108863,this.words[u+1]|=l>>>26-v&4194303),this._strip()};function _(d,e,a,s){for(var u=0,l=0,v=Math.min(d.length,a),g=e;g<v;g++){var h=d.charCodeAt(g)-48;u*=s,h>=49?l=h-49+10:h>=17?l=h-17+10:l=h,r(h>=0&&l<s,"Invalid character"),u+=l}return u}o.prototype._parseBase=function(e,a,s){this.words=[0],this.length=1;for(var u=0,l=1;l<=67108863;l*=a)u++;u--,l=l/a|0;for(var v=e.length-s,g=v%u,h=Math.min(v,v-g)+s,i=0,c=s;c<h;c+=u)i=_(e,c,c+u,a),this.imuln(l),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(g!==0){var w=1;for(i=_(e,c,e.length,a),c=0;c<g;c++)w*=a;this.imuln(w),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var a=0;a<this.length;a++)e.words[a]=this.words[a];e.length=this.length,e.negative=this.negative,e.red=this.red};function b(d,e){d.words=e.words,d.length=e.length,d.negative=e.negative,d.red=e.red}if(o.prototype._move=function(e){b(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{o.prototype.inspect=E}else o.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],D=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,a){e=e||10,a=a|0||1;var s;if(e===16||e==="hex"){s="";for(var u=0,l=0,v=0;v<this.length;v++){var g=this.words[v],h=((g<<u|l)&16777215).toString(16);l=g>>>24-u&16777215,l!==0||v!==this.length-1?s=k[6-h.length]+h+s:s=h+s,u+=2,u>=26&&(u-=26,v--)}for(l!==0&&(s=l.toString(16)+s);s.length%a!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}if(e===(e|0)&&e>=2&&e<=36){var i=U[e],c=D[e];s="";var w=this.clone();for(w.negative=0;!w.isZero();){var M=w.modrn(c).toString(e);w=w.idivn(c),w.isZero()?s=M+s:s=k[i-M.length]+M+s}for(this.isZero()&&(s="0"+s);s.length%a!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},p&&(o.prototype.toBuffer=function(e,a){return this.toArrayLike(p,e,a)}),o.prototype.toArray=function(e,a){return this.toArrayLike(Array,e,a)};var Be=function(e,a){return e.allocUnsafe?e.allocUnsafe(a):new e(a)};o.prototype.toArrayLike=function(e,a,s){this._strip();var u=this.byteLength(),l=s||Math.max(1,u);r(u<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0");var v=Be(e,l),g=a==="le"?"LE":"BE";return this["_toArrayLike"+g](v,u),v},o.prototype._toArrayLikeLE=function(e,a){for(var s=0,u=0,l=0,v=0;l<this.length;l++){var g=this.words[l]<<v|u;e[s++]=g&255,s<e.length&&(e[s++]=g>>8&255),s<e.length&&(e[s++]=g>>16&255),v===6?(s<e.length&&(e[s++]=g>>24&255),u=0,v=0):(u=g>>>24,v+=2)}if(s<e.length)for(e[s++]=u;s<e.length;)e[s++]=0},o.prototype._toArrayLikeBE=function(e,a){for(var s=e.length-1,u=0,l=0,v=0;l<this.length;l++){var g=this.words[l]<<v|u;e[s--]=g&255,s>=0&&(e[s--]=g>>8&255),s>=0&&(e[s--]=g>>16&255),v===6?(s>=0&&(e[s--]=g>>24&255),u=0,v=0):(u=g>>>24,v+=2)}if(s>=0)for(e[s--]=u;s>=0;)e[s--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var a=e,s=0;return a>=4096&&(s+=13,a>>>=13),a>=64&&(s+=7,a>>>=7),a>=8&&(s+=4,a>>>=4),a>=2&&(s+=2,a>>>=2),s+a},o.prototype._zeroBits=function(e){if(e===0)return 26;var a=e,s=0;return(a&8191)===0&&(s+=13,a>>>=13),(a&127)===0&&(s+=7,a>>>=7),(a&15)===0&&(s+=4,a>>>=4),(a&3)===0&&(s+=2,a>>>=2),(a&1)===0&&s++,s},o.prototype.bitLength=function(){var e=this.words[this.length-1],a=this._countBits(e);return(this.length-1)*26+a};function He(d){for(var e=new Array(d.bitLength()),a=0;a<e.length;a++){var s=a/26|0,u=a%26;e[a]=d.words[s]>>>u&1}return e}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,a=0;a<this.length;a++){var s=this._zeroBits(this.words[a]);if(e+=s,s!==26)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var a=0;a<e.length;a++)this.words[a]=this.words[a]|e.words[a];return this._strip()},o.prototype.ior=function(e){return r((this.negative|e.negative)===0),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var a;this.length>e.length?a=e:a=this;for(var s=0;s<a.length;s++)this.words[s]=this.words[s]&e.words[s];return this.length=a.length,this._strip()},o.prototype.iand=function(e){return r((this.negative|e.negative)===0),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var a,s;this.length>e.length?(a=this,s=e):(a=e,s=this);for(var u=0;u<s.length;u++)this.words[u]=a.words[u]^s.words[u];if(this!==a)for(;u<a.length;u++)this.words[u]=a.words[u];return this.length=a.length,this._strip()},o.prototype.ixor=function(e){return r((this.negative|e.negative)===0),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r(typeof e=="number"&&e>=0);var a=Math.ceil(e/26)|0,s=e%26;this._expand(a),s>0&&a--;for(var u=0;u<a;u++)this.words[u]=~this.words[u]&67108863;return s>0&&(this.words[u]=~this.words[u]&67108863>>26-s),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,a){r(typeof e=="number"&&e>=0);var s=e/26|0,u=e%26;return this._expand(s+1),a?this.words[s]=this.words[s]|1<<u:this.words[s]=this.words[s]&~(1<<u),this._strip()},o.prototype.iadd=function(e){var a;if(this.negative!==0&&e.negative===0)return this.negative=0,a=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,a=this.isub(e),e.negative=1,a._normSign();var s,u;this.length>e.length?(s=this,u=e):(s=e,u=this);for(var l=0,v=0;v<u.length;v++)a=(s.words[v]|0)+(u.words[v]|0)+l,this.words[v]=a&67108863,l=a>>>26;for(;l!==0&&v<s.length;v++)a=(s.words[v]|0)+l,this.words[v]=a&67108863,l=a>>>26;if(this.length=s.length,l!==0)this.words[this.length]=l,this.length++;else if(s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this},o.prototype.add=function(e){var a;return e.negative!==0&&this.negative===0?(e.negative=0,a=this.sub(e),e.negative^=1,a):e.negative===0&&this.negative!==0?(this.negative=0,a=e.sub(this),this.negative=1,a):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var a=this.iadd(e);return e.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var s=this.cmp(e);if(s===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,l;s>0?(u=this,l=e):(u=e,l=this);for(var v=0,g=0;g<l.length;g++)a=(u.words[g]|0)-(l.words[g]|0)+v,v=a>>26,this.words[g]=a&67108863;for(;v!==0&&g<u.length;g++)a=(u.words[g]|0)+v,v=a>>26,this.words[g]=a&67108863;if(v===0&&g<u.length&&u!==this)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=Math.max(this.length,g),u!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};function ot(d,e,a){a.negative=e.negative^d.negative;var s=d.length+e.length|0;a.length=s,s=s-1|0;var u=d.words[0]|0,l=e.words[0]|0,v=u*l,g=v&67108863,h=v/67108864|0;a.words[0]=g;for(var i=1;i<s;i++){for(var c=h>>>26,w=h&67108863,M=Math.min(i,e.length-1),x=Math.max(0,i-d.length+1);x<=M;x++){var B=i-x|0;u=d.words[B]|0,l=e.words[x]|0,v=u*l+w,c+=v/67108864|0,w=v&67108863}a.words[i]=w|0,h=c|0}return h!==0?a.words[i]=h|0:a.length--,a._strip()}var st=function(e,a,s){var u=e.words,l=a.words,v=s.words,g=0,h,i,c,w=u[0]|0,M=w&8191,x=w>>>13,B=u[1]|0,q=B&8191,H=B>>>13,Xe=u[2]|0,R=Xe&8191,j=Xe>>>13,Lr=u[3]|0,Z=Lr&8191,J=Lr>>>13,Ir=u[4]|0,Y=Ir&8191,X=Ir>>>13,Cr=u[5]|0,W=Cr&8191,$=Cr>>>13,Or=u[6]|0,Q=Or&8191,ee=Or>>>13,Nr=u[7]|0,te=Nr&8191,re=Nr>>>13,kr=u[8]|0,ie=kr&8191,ne=kr>>>13,qr=u[9]|0,ae=qr&8191,oe=qr>>>13,Fr=l[0]|0,se=Fr&8191,fe=Fr>>>13,Hr=l[1]|0,ue=Hr&8191,he=Hr>>>13,Rr=l[2]|0,le=Rr&8191,ce=Rr>>>13,jr=l[3]|0,de=jr&8191,ve=jr>>>13,Ur=l[4]|0,ge=Ur&8191,pe=Ur>>>13,zr=l[5]|0,me=zr&8191,ye=zr>>>13,Dr=l[6]|0,_e=Dr&8191,we=Dr>>>13,Kr=l[7]|0,Me=Kr&8191,be=Kr>>>13,Vr=l[8]|0,xe=Vr&8191,Se=Vr>>>13,Gr=l[9]|0,Ae=Gr&8191,Pe=Gr>>>13;s.negative=e.negative^a.negative,s.length=19,h=Math.imul(M,se),i=Math.imul(M,fe),i=i+Math.imul(x,se)|0,c=Math.imul(x,fe);var zt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(zt>>>26)|0,zt&=67108863,h=Math.imul(q,se),i=Math.imul(q,fe),i=i+Math.imul(H,se)|0,c=Math.imul(H,fe),h=h+Math.imul(M,ue)|0,i=i+Math.imul(M,he)|0,i=i+Math.imul(x,ue)|0,c=c+Math.imul(x,he)|0;var Dt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,h=Math.imul(R,se),i=Math.imul(R,fe),i=i+Math.imul(j,se)|0,c=Math.imul(j,fe),h=h+Math.imul(q,ue)|0,i=i+Math.imul(q,he)|0,i=i+Math.imul(H,ue)|0,c=c+Math.imul(H,he)|0,h=h+Math.imul(M,le)|0,i=i+Math.imul(M,ce)|0,i=i+Math.imul(x,le)|0,c=c+Math.imul(x,ce)|0;var Kt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,h=Math.imul(Z,se),i=Math.imul(Z,fe),i=i+Math.imul(J,se)|0,c=Math.imul(J,fe),h=h+Math.imul(R,ue)|0,i=i+Math.imul(R,he)|0,i=i+Math.imul(j,ue)|0,c=c+Math.imul(j,he)|0,h=h+Math.imul(q,le)|0,i=i+Math.imul(q,ce)|0,i=i+Math.imul(H,le)|0,c=c+Math.imul(H,ce)|0,h=h+Math.imul(M,de)|0,i=i+Math.imul(M,ve)|0,i=i+Math.imul(x,de)|0,c=c+Math.imul(x,ve)|0;var Vt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,h=Math.imul(Y,se),i=Math.imul(Y,fe),i=i+Math.imul(X,se)|0,c=Math.imul(X,fe),h=h+Math.imul(Z,ue)|0,i=i+Math.imul(Z,he)|0,i=i+Math.imul(J,ue)|0,c=c+Math.imul(J,he)|0,h=h+Math.imul(R,le)|0,i=i+Math.imul(R,ce)|0,i=i+Math.imul(j,le)|0,c=c+Math.imul(j,ce)|0,h=h+Math.imul(q,de)|0,i=i+Math.imul(q,ve)|0,i=i+Math.imul(H,de)|0,c=c+Math.imul(H,ve)|0,h=h+Math.imul(M,ge)|0,i=i+Math.imul(M,pe)|0,i=i+Math.imul(x,ge)|0,c=c+Math.imul(x,pe)|0;var Gt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,h=Math.imul(W,se),i=Math.imul(W,fe),i=i+Math.imul($,se)|0,c=Math.imul($,fe),h=h+Math.imul(Y,ue)|0,i=i+Math.imul(Y,he)|0,i=i+Math.imul(X,ue)|0,c=c+Math.imul(X,he)|0,h=h+Math.imul(Z,le)|0,i=i+Math.imul(Z,ce)|0,i=i+Math.imul(J,le)|0,c=c+Math.imul(J,ce)|0,h=h+Math.imul(R,de)|0,i=i+Math.imul(R,ve)|0,i=i+Math.imul(j,de)|0,c=c+Math.imul(j,ve)|0,h=h+Math.imul(q,ge)|0,i=i+Math.imul(q,pe)|0,i=i+Math.imul(H,ge)|0,c=c+Math.imul(H,pe)|0,h=h+Math.imul(M,me)|0,i=i+Math.imul(M,ye)|0,i=i+Math.imul(x,me)|0,c=c+Math.imul(x,ye)|0;var Zt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(Q,se),i=Math.imul(Q,fe),i=i+Math.imul(ee,se)|0,c=Math.imul(ee,fe),h=h+Math.imul(W,ue)|0,i=i+Math.imul(W,he)|0,i=i+Math.imul($,ue)|0,c=c+Math.imul($,he)|0,h=h+Math.imul(Y,le)|0,i=i+Math.imul(Y,ce)|0,i=i+Math.imul(X,le)|0,c=c+Math.imul(X,ce)|0,h=h+Math.imul(Z,de)|0,i=i+Math.imul(Z,ve)|0,i=i+Math.imul(J,de)|0,c=c+Math.imul(J,ve)|0,h=h+Math.imul(R,ge)|0,i=i+Math.imul(R,pe)|0,i=i+Math.imul(j,ge)|0,c=c+Math.imul(j,pe)|0,h=h+Math.imul(q,me)|0,i=i+Math.imul(q,ye)|0,i=i+Math.imul(H,me)|0,c=c+Math.imul(H,ye)|0,h=h+Math.imul(M,_e)|0,i=i+Math.imul(M,we)|0,i=i+Math.imul(x,_e)|0,c=c+Math.imul(x,we)|0;var Jt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,h=Math.imul(te,se),i=Math.imul(te,fe),i=i+Math.imul(re,se)|0,c=Math.imul(re,fe),h=h+Math.imul(Q,ue)|0,i=i+Math.imul(Q,he)|0,i=i+Math.imul(ee,ue)|0,c=c+Math.imul(ee,he)|0,h=h+Math.imul(W,le)|0,i=i+Math.imul(W,ce)|0,i=i+Math.imul($,le)|0,c=c+Math.imul($,ce)|0,h=h+Math.imul(Y,de)|0,i=i+Math.imul(Y,ve)|0,i=i+Math.imul(X,de)|0,c=c+Math.imul(X,ve)|0,h=h+Math.imul(Z,ge)|0,i=i+Math.imul(Z,pe)|0,i=i+Math.imul(J,ge)|0,c=c+Math.imul(J,pe)|0,h=h+Math.imul(R,me)|0,i=i+Math.imul(R,ye)|0,i=i+Math.imul(j,me)|0,c=c+Math.imul(j,ye)|0,h=h+Math.imul(q,_e)|0,i=i+Math.imul(q,we)|0,i=i+Math.imul(H,_e)|0,c=c+Math.imul(H,we)|0,h=h+Math.imul(M,Me)|0,i=i+Math.imul(M,be)|0,i=i+Math.imul(x,Me)|0,c=c+Math.imul(x,be)|0;var Yt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,h=Math.imul(ie,se),i=Math.imul(ie,fe),i=i+Math.imul(ne,se)|0,c=Math.imul(ne,fe),h=h+Math.imul(te,ue)|0,i=i+Math.imul(te,he)|0,i=i+Math.imul(re,ue)|0,c=c+Math.imul(re,he)|0,h=h+Math.imul(Q,le)|0,i=i+Math.imul(Q,ce)|0,i=i+Math.imul(ee,le)|0,c=c+Math.imul(ee,ce)|0,h=h+Math.imul(W,de)|0,i=i+Math.imul(W,ve)|0,i=i+Math.imul($,de)|0,c=c+Math.imul($,ve)|0,h=h+Math.imul(Y,ge)|0,i=i+Math.imul(Y,pe)|0,i=i+Math.imul(X,ge)|0,c=c+Math.imul(X,pe)|0,h=h+Math.imul(Z,me)|0,i=i+Math.imul(Z,ye)|0,i=i+Math.imul(J,me)|0,c=c+Math.imul(J,ye)|0,h=h+Math.imul(R,_e)|0,i=i+Math.imul(R,we)|0,i=i+Math.imul(j,_e)|0,c=c+Math.imul(j,we)|0,h=h+Math.imul(q,Me)|0,i=i+Math.imul(q,be)|0,i=i+Math.imul(H,Me)|0,c=c+Math.imul(H,be)|0,h=h+Math.imul(M,xe)|0,i=i+Math.imul(M,Se)|0,i=i+Math.imul(x,xe)|0,c=c+Math.imul(x,Se)|0;var Xt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,h=Math.imul(ae,se),i=Math.imul(ae,fe),i=i+Math.imul(oe,se)|0,c=Math.imul(oe,fe),h=h+Math.imul(ie,ue)|0,i=i+Math.imul(ie,he)|0,i=i+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,h=h+Math.imul(te,le)|0,i=i+Math.imul(te,ce)|0,i=i+Math.imul(re,le)|0,c=c+Math.imul(re,ce)|0,h=h+Math.imul(Q,de)|0,i=i+Math.imul(Q,ve)|0,i=i+Math.imul(ee,de)|0,c=c+Math.imul(ee,ve)|0,h=h+Math.imul(W,ge)|0,i=i+Math.imul(W,pe)|0,i=i+Math.imul($,ge)|0,c=c+Math.imul($,pe)|0,h=h+Math.imul(Y,me)|0,i=i+Math.imul(Y,ye)|0,i=i+Math.imul(X,me)|0,c=c+Math.imul(X,ye)|0,h=h+Math.imul(Z,_e)|0,i=i+Math.imul(Z,we)|0,i=i+Math.imul(J,_e)|0,c=c+Math.imul(J,we)|0,h=h+Math.imul(R,Me)|0,i=i+Math.imul(R,be)|0,i=i+Math.imul(j,Me)|0,c=c+Math.imul(j,be)|0,h=h+Math.imul(q,xe)|0,i=i+Math.imul(q,Se)|0,i=i+Math.imul(H,xe)|0,c=c+Math.imul(H,Se)|0,h=h+Math.imul(M,Ae)|0,i=i+Math.imul(M,Pe)|0,i=i+Math.imul(x,Ae)|0,c=c+Math.imul(x,Pe)|0;var Wt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,h=Math.imul(ae,ue),i=Math.imul(ae,he),i=i+Math.imul(oe,ue)|0,c=Math.imul(oe,he),h=h+Math.imul(ie,le)|0,i=i+Math.imul(ie,ce)|0,i=i+Math.imul(ne,le)|0,c=c+Math.imul(ne,ce)|0,h=h+Math.imul(te,de)|0,i=i+Math.imul(te,ve)|0,i=i+Math.imul(re,de)|0,c=c+Math.imul(re,ve)|0,h=h+Math.imul(Q,ge)|0,i=i+Math.imul(Q,pe)|0,i=i+Math.imul(ee,ge)|0,c=c+Math.imul(ee,pe)|0,h=h+Math.imul(W,me)|0,i=i+Math.imul(W,ye)|0,i=i+Math.imul($,me)|0,c=c+Math.imul($,ye)|0,h=h+Math.imul(Y,_e)|0,i=i+Math.imul(Y,we)|0,i=i+Math.imul(X,_e)|0,c=c+Math.imul(X,we)|0,h=h+Math.imul(Z,Me)|0,i=i+Math.imul(Z,be)|0,i=i+Math.imul(J,Me)|0,c=c+Math.imul(J,be)|0,h=h+Math.imul(R,xe)|0,i=i+Math.imul(R,Se)|0,i=i+Math.imul(j,xe)|0,c=c+Math.imul(j,Se)|0,h=h+Math.imul(q,Ae)|0,i=i+Math.imul(q,Pe)|0,i=i+Math.imul(H,Ae)|0,c=c+Math.imul(H,Pe)|0;var $t=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+($t>>>26)|0,$t&=67108863,h=Math.imul(ae,le),i=Math.imul(ae,ce),i=i+Math.imul(oe,le)|0,c=Math.imul(oe,ce),h=h+Math.imul(ie,de)|0,i=i+Math.imul(ie,ve)|0,i=i+Math.imul(ne,de)|0,c=c+Math.imul(ne,ve)|0,h=h+Math.imul(te,ge)|0,i=i+Math.imul(te,pe)|0,i=i+Math.imul(re,ge)|0,c=c+Math.imul(re,pe)|0,h=h+Math.imul(Q,me)|0,i=i+Math.imul(Q,ye)|0,i=i+Math.imul(ee,me)|0,c=c+Math.imul(ee,ye)|0,h=h+Math.imul(W,_e)|0,i=i+Math.imul(W,we)|0,i=i+Math.imul($,_e)|0,c=c+Math.imul($,we)|0,h=h+Math.imul(Y,Me)|0,i=i+Math.imul(Y,be)|0,i=i+Math.imul(X,Me)|0,c=c+Math.imul(X,be)|0,h=h+Math.imul(Z,xe)|0,i=i+Math.imul(Z,Se)|0,i=i+Math.imul(J,xe)|0,c=c+Math.imul(J,Se)|0,h=h+Math.imul(R,Ae)|0,i=i+Math.imul(R,Pe)|0,i=i+Math.imul(j,Ae)|0,c=c+Math.imul(j,Pe)|0;var Qt=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,h=Math.imul(ae,de),i=Math.imul(ae,ve),i=i+Math.imul(oe,de)|0,c=Math.imul(oe,ve),h=h+Math.imul(ie,ge)|0,i=i+Math.imul(ie,pe)|0,i=i+Math.imul(ne,ge)|0,c=c+Math.imul(ne,pe)|0,h=h+Math.imul(te,me)|0,i=i+Math.imul(te,ye)|0,i=i+Math.imul(re,me)|0,c=c+Math.imul(re,ye)|0,h=h+Math.imul(Q,_e)|0,i=i+Math.imul(Q,we)|0,i=i+Math.imul(ee,_e)|0,c=c+Math.imul(ee,we)|0,h=h+Math.imul(W,Me)|0,i=i+Math.imul(W,be)|0,i=i+Math.imul($,Me)|0,c=c+Math.imul($,be)|0,h=h+Math.imul(Y,xe)|0,i=i+Math.imul(Y,Se)|0,i=i+Math.imul(X,xe)|0,c=c+Math.imul(X,Se)|0,h=h+Math.imul(Z,Ae)|0,i=i+Math.imul(Z,Pe)|0,i=i+Math.imul(J,Ae)|0,c=c+Math.imul(J,Pe)|0;var er=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(er>>>26)|0,er&=67108863,h=Math.imul(ae,ge),i=Math.imul(ae,pe),i=i+Math.imul(oe,ge)|0,c=Math.imul(oe,pe),h=h+Math.imul(ie,me)|0,i=i+Math.imul(ie,ye)|0,i=i+Math.imul(ne,me)|0,c=c+Math.imul(ne,ye)|0,h=h+Math.imul(te,_e)|0,i=i+Math.imul(te,we)|0,i=i+Math.imul(re,_e)|0,c=c+Math.imul(re,we)|0,h=h+Math.imul(Q,Me)|0,i=i+Math.imul(Q,be)|0,i=i+Math.imul(ee,Me)|0,c=c+Math.imul(ee,be)|0,h=h+Math.imul(W,xe)|0,i=i+Math.imul(W,Se)|0,i=i+Math.imul($,xe)|0,c=c+Math.imul($,Se)|0,h=h+Math.imul(Y,Ae)|0,i=i+Math.imul(Y,Pe)|0,i=i+Math.imul(X,Ae)|0,c=c+Math.imul(X,Pe)|0;var tr=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(tr>>>26)|0,tr&=67108863,h=Math.imul(ae,me),i=Math.imul(ae,ye),i=i+Math.imul(oe,me)|0,c=Math.imul(oe,ye),h=h+Math.imul(ie,_e)|0,i=i+Math.imul(ie,we)|0,i=i+Math.imul(ne,_e)|0,c=c+Math.imul(ne,we)|0,h=h+Math.imul(te,Me)|0,i=i+Math.imul(te,be)|0,i=i+Math.imul(re,Me)|0,c=c+Math.imul(re,be)|0,h=h+Math.imul(Q,xe)|0,i=i+Math.imul(Q,Se)|0,i=i+Math.imul(ee,xe)|0,c=c+Math.imul(ee,Se)|0,h=h+Math.imul(W,Ae)|0,i=i+Math.imul(W,Pe)|0,i=i+Math.imul($,Ae)|0,c=c+Math.imul($,Pe)|0;var rr=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(rr>>>26)|0,rr&=67108863,h=Math.imul(ae,_e),i=Math.imul(ae,we),i=i+Math.imul(oe,_e)|0,c=Math.imul(oe,we),h=h+Math.imul(ie,Me)|0,i=i+Math.imul(ie,be)|0,i=i+Math.imul(ne,Me)|0,c=c+Math.imul(ne,be)|0,h=h+Math.imul(te,xe)|0,i=i+Math.imul(te,Se)|0,i=i+Math.imul(re,xe)|0,c=c+Math.imul(re,Se)|0,h=h+Math.imul(Q,Ae)|0,i=i+Math.imul(Q,Pe)|0,i=i+Math.imul(ee,Ae)|0,c=c+Math.imul(ee,Pe)|0;var ir=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ir>>>26)|0,ir&=67108863,h=Math.imul(ae,Me),i=Math.imul(ae,be),i=i+Math.imul(oe,Me)|0,c=Math.imul(oe,be),h=h+Math.imul(ie,xe)|0,i=i+Math.imul(ie,Se)|0,i=i+Math.imul(ne,xe)|0,c=c+Math.imul(ne,Se)|0,h=h+Math.imul(te,Ae)|0,i=i+Math.imul(te,Pe)|0,i=i+Math.imul(re,Ae)|0,c=c+Math.imul(re,Pe)|0;var nr=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(nr>>>26)|0,nr&=67108863,h=Math.imul(ae,xe),i=Math.imul(ae,Se),i=i+Math.imul(oe,xe)|0,c=Math.imul(oe,Se),h=h+Math.imul(ie,Ae)|0,i=i+Math.imul(ie,Pe)|0,i=i+Math.imul(ne,Ae)|0,c=c+Math.imul(ne,Pe)|0;var ar=(g+h|0)+((i&8191)<<13)|0;g=(c+(i>>>13)|0)+(ar>>>26)|0,ar&=67108863,h=Math.imul(ae,Ae),i=Math.imul(ae,Pe),i=i+Math.imul(oe,Ae)|0,c=Math.imul(oe,Pe);var or=(g+h|0)+((i&8191)<<13)|0;return g=(c+(i>>>13)|0)+(or>>>26)|0,or&=67108863,v[0]=zt,v[1]=Dt,v[2]=Kt,v[3]=Vt,v[4]=Gt,v[5]=Zt,v[6]=Jt,v[7]=Yt,v[8]=Xt,v[9]=Wt,v[10]=$t,v[11]=Qt,v[12]=er,v[13]=tr,v[14]=rr,v[15]=ir,v[16]=nr,v[17]=ar,v[18]=or,g!==0&&(v[19]=g,s.length++),s};Math.imul||(st=ot);function Pr(d,e,a){a.negative=e.negative^d.negative,a.length=d.length+e.length;for(var s=0,u=0,l=0;l<a.length-1;l++){var v=u;u=0;for(var g=s&67108863,h=Math.min(l,e.length-1),i=Math.max(0,l-d.length+1);i<=h;i++){var c=l-i,w=d.words[c]|0,M=e.words[i]|0,x=w*M,B=x&67108863;v=v+(x/67108864|0)|0,B=B+g|0,g=B&67108863,v=v+(B>>>26)|0,u+=v>>>26,v&=67108863}a.words[l]=g,s=v,v=u}return s!==0?a.words[l]=s:a.length--,a._strip()}function Tr(d,e,a){return Pr(d,e,a)}o.prototype.mulTo=function(e,a){var s,u=this.length+e.length;return this.length===10&&e.length===10?s=st(this,e,a):u<63?s=ot(this,e,a):u<1024?s=Pr(this,e,a):s=Tr(this,e,a),s};function Ue(d,e){this.x=d,this.y=e}Ue.prototype.makeRBT=function(e){for(var a=new Array(e),s=o.prototype._countBits(e)-1,u=0;u<e;u++)a[u]=this.revBin(u,s,e);return a},Ue.prototype.revBin=function(e,a,s){if(e===0||e===s-1)return e;for(var u=0,l=0;l<a;l++)u|=(e&1)<<a-l-1,e>>=1;return u},Ue.prototype.permute=function(e,a,s,u,l,v){for(var g=0;g<v;g++)u[g]=a[e[g]],l[g]=s[e[g]]},Ue.prototype.transform=function(e,a,s,u,l,v){this.permute(v,e,a,s,u,l);for(var g=1;g<l;g<<=1)for(var h=g<<1,i=Math.cos(2*Math.PI/h),c=Math.sin(2*Math.PI/h),w=0;w<l;w+=h)for(var M=i,x=c,B=0;B<g;B++){var q=s[w+B],H=u[w+B],Xe=s[w+B+g],R=u[w+B+g],j=M*Xe-x*R;R=M*R+x*Xe,Xe=j,s[w+B]=q+Xe,u[w+B]=H+R,s[w+B+g]=q-Xe,u[w+B+g]=H-R,B!==h&&(j=i*M-c*x,x=i*x+c*M,M=j)}},Ue.prototype.guessLen13b=function(e,a){var s=Math.max(a,e)|1,u=s&1,l=0;for(s=s/2|0;s;s=s>>>1)l++;return 1<<l+1+u},Ue.prototype.conjugate=function(e,a,s){if(!(s<=1))for(var u=0;u<s/2;u++){var l=e[u];e[u]=e[s-u-1],e[s-u-1]=l,l=a[u],a[u]=-a[s-u-1],a[s-u-1]=-l}},Ue.prototype.normalize13b=function(e,a){for(var s=0,u=0;u<a/2;u++){var l=Math.round(e[2*u+1]/a)*8192+Math.round(e[2*u]/a)+s;e[u]=l&67108863,l<67108864?s=0:s=l/67108864|0}return e},Ue.prototype.convert13b=function(e,a,s,u){for(var l=0,v=0;v<a;v++)l=l+(e[v]|0),s[2*v]=l&8191,l=l>>>13,s[2*v+1]=l&8191,l=l>>>13;for(v=2*a;v<u;++v)s[v]=0;r(l===0),r((l&-8192)===0)},Ue.prototype.stub=function(e){for(var a=new Array(e),s=0;s<e;s++)a[s]=0;return a},Ue.prototype.mulp=function(e,a,s){var u=2*this.guessLen13b(e.length,a.length),l=this.makeRBT(u),v=this.stub(u),g=new Array(u),h=new Array(u),i=new Array(u),c=new Array(u),w=new Array(u),M=new Array(u),x=s.words;x.length=u,this.convert13b(e.words,e.length,g,u),this.convert13b(a.words,a.length,c,u),this.transform(g,v,h,i,u,l),this.transform(c,v,w,M,u,l);for(var B=0;B<u;B++){var q=h[B]*w[B]-i[B]*M[B];i[B]=h[B]*M[B]+i[B]*w[B],h[B]=q}return this.conjugate(h,i,u),this.transform(h,i,x,v,u,l),this.conjugate(x,v,u),this.normalize13b(x,u),s.negative=e.negative^a.negative,s.length=e.length+a.length,s._strip()},o.prototype.mul=function(e){var a=new o(null);return a.words=new Array(this.length+e.length),this.mulTo(e,a)},o.prototype.mulf=function(e){var a=new o(null);return a.words=new Array(this.length+e.length),Tr(this,e,a)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var a=e<0;a&&(e=-e),r(typeof e=="number"),r(e<67108864);for(var s=0,u=0;u<this.length;u++){var l=(this.words[u]|0)*e,v=(l&67108863)+(s&67108863);s>>=26,s+=l/67108864|0,s+=v>>>26,this.words[u]=v&67108863}return s!==0&&(this.words[u]=s,this.length++),a?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var a=He(e);if(a.length===0)return new o(1);for(var s=this,u=0;u<a.length&&a[u]===0;u++,s=s.sqr());if(++u<a.length)for(var l=s.sqr();u<a.length;u++,l=l.sqr())a[u]!==0&&(s=s.mul(l));return s},o.prototype.iushln=function(e){r(typeof e=="number"&&e>=0);var a=e%26,s=(e-a)/26,u=67108863>>>26-a<<26-a,l;if(a!==0){var v=0;for(l=0;l<this.length;l++){var g=this.words[l]&u,h=(this.words[l]|0)-g<<a;this.words[l]=h|v,v=g>>>26-a}v&&(this.words[l]=v,this.length++)}if(s!==0){for(l=this.length-1;l>=0;l--)this.words[l+s]=this.words[l];for(l=0;l<s;l++)this.words[l]=0;this.length+=s}return this._strip()},o.prototype.ishln=function(e){return r(this.negative===0),this.iushln(e)},o.prototype.iushrn=function(e,a,s){r(typeof e=="number"&&e>=0);var u;a?u=(a-a%26)/26:u=0;var l=e%26,v=Math.min((e-l)/26,this.length),g=67108863^67108863>>>l<<l,h=s;if(u-=v,u=Math.max(0,u),h){for(var i=0;i<v;i++)h.words[i]=this.words[i];h.length=v}if(v!==0)if(this.length>v)for(this.length-=v,i=0;i<this.length;i++)this.words[i]=this.words[i+v];else this.words[0]=0,this.length=1;var c=0;for(i=this.length-1;i>=0&&(c!==0||i>=u);i--){var w=this.words[i]|0;this.words[i]=c<<26-l|w>>>l,c=w&g}return h&&c!==0&&(h.words[h.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,a,s){return r(this.negative===0),this.iushrn(e,a,s)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r(typeof e=="number"&&e>=0);var a=e%26,s=(e-a)/26,u=1<<a;if(this.length<=s)return!1;var l=this.words[s];return!!(l&u)},o.prototype.imaskn=function(e){r(typeof e=="number"&&e>=0);var a=e%26,s=(e-a)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=s)return this;if(a!==0&&s++,this.length=Math.min(s,this.length),a!==0){var u=67108863^67108863>>>a<<a;this.words[this.length-1]&=u}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r(typeof e=="number"),r(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<=e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},o.prototype.isubn=function(e){if(r(typeof e=="number"),r(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,a,s){var u=e.length+s,l;this._expand(u);var v,g=0;for(l=0;l<e.length;l++){v=(this.words[l+s]|0)+g;var h=(e.words[l]|0)*a;v-=h&67108863,g=(v>>26)-(h/67108864|0),this.words[l+s]=v&67108863}for(;l<this.length-s;l++)v=(this.words[l+s]|0)+g,g=v>>26,this.words[l+s]=v&67108863;if(g===0)return this._strip();for(r(g===-1),g=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+g,g=v>>26,this.words[l]=v&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,a){var s=this.length-e.length,u=this.clone(),l=e,v=l.words[l.length-1]|0,g=this._countBits(v);s=26-g,s!==0&&(l=l.ushln(s),u.iushln(s),v=l.words[l.length-1]|0);var h=u.length-l.length,i;if(a!=="mod"){i=new o(null),i.length=h+1,i.words=new Array(i.length);for(var c=0;c<i.length;c++)i.words[c]=0}var w=u.clone()._ishlnsubmul(l,1,h);w.negative===0&&(u=w,i&&(i.words[h]=1));for(var M=h-1;M>=0;M--){var x=(u.words[l.length+M]|0)*67108864+(u.words[l.length+M-1]|0);for(x=Math.min(x/v|0,67108863),u._ishlnsubmul(l,x,M);u.negative!==0;)x--,u.negative=0,u._ishlnsubmul(l,1,M),u.isZero()||(u.negative^=1);i&&(i.words[M]=x)}return i&&i._strip(),u._strip(),a!=="div"&&s!==0&&u.iushrn(s),{div:i||null,mod:u}},o.prototype.divmod=function(e,a,s){if(r(!e.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var u,l,v;return this.negative!==0&&e.negative===0?(v=this.neg().divmod(e,a),a!=="mod"&&(u=v.div.neg()),a!=="div"&&(l=v.mod.neg(),s&&l.negative!==0&&l.iadd(e)),{div:u,mod:l}):this.negative===0&&e.negative!==0?(v=this.divmod(e.neg(),a),a!=="mod"&&(u=v.div.neg()),{div:u,mod:v.mod}):(this.negative&e.negative)!==0?(v=this.neg().divmod(e.neg(),a),a!=="div"&&(l=v.mod.neg(),s&&l.negative!==0&&l.isub(e)),{div:v.div,mod:l}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:e.length===1?a==="div"?{div:this.divn(e.words[0]),mod:null}:a==="mod"?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,a)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var a=this.divmod(e);if(a.mod.isZero())return a.div;var s=a.div.negative!==0?a.mod.isub(e):a.mod,u=e.ushrn(1),l=e.andln(1),v=s.cmp(u);return v<0||l===1&&v===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},o.prototype.modrn=function(e){var a=e<0;a&&(e=-e),r(e<=67108863);for(var s=(1<<26)%e,u=0,l=this.length-1;l>=0;l--)u=(s*u+(this.words[l]|0))%e;return a?-u:u},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var a=e<0;a&&(e=-e),r(e<=67108863);for(var s=0,u=this.length-1;u>=0;u--){var l=(this.words[u]|0)+s*67108864;this.words[u]=l/e|0,s=l%e}return this._strip(),a?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(e.negative===0),r(!e.isZero());var a=this,s=e.clone();a.negative!==0?a=a.umod(e):a=a.clone();for(var u=new o(1),l=new o(0),v=new o(0),g=new o(1),h=0;a.isEven()&&s.isEven();)a.iushrn(1),s.iushrn(1),++h;for(var i=s.clone(),c=a.clone();!a.isZero();){for(var w=0,M=1;(a.words[0]&M)===0&&w<26;++w,M<<=1);if(w>0)for(a.iushrn(w);w-- >0;)(u.isOdd()||l.isOdd())&&(u.iadd(i),l.isub(c)),u.iushrn(1),l.iushrn(1);for(var x=0,B=1;(s.words[0]&B)===0&&x<26;++x,B<<=1);if(x>0)for(s.iushrn(x);x-- >0;)(v.isOdd()||g.isOdd())&&(v.iadd(i),g.isub(c)),v.iushrn(1),g.iushrn(1);a.cmp(s)>=0?(a.isub(s),u.isub(v),l.isub(g)):(s.isub(a),v.isub(u),g.isub(l))}return{a:v,b:g,gcd:s.iushln(h)}},o.prototype._invmp=function(e){r(e.negative===0),r(!e.isZero());var a=this,s=e.clone();a.negative!==0?a=a.umod(e):a=a.clone();for(var u=new o(1),l=new o(0),v=s.clone();a.cmpn(1)>0&&s.cmpn(1)>0;){for(var g=0,h=1;(a.words[0]&h)===0&&g<26;++g,h<<=1);if(g>0)for(a.iushrn(g);g-- >0;)u.isOdd()&&u.iadd(v),u.iushrn(1);for(var i=0,c=1;(s.words[0]&c)===0&&i<26;++i,c<<=1);if(i>0)for(s.iushrn(i);i-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);a.cmp(s)>=0?(a.isub(s),u.isub(l)):(s.isub(a),l.isub(u))}var w;return a.cmpn(1)===0?w=u:w=l,w.cmpn(0)<0&&w.iadd(e),w},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var a=this.clone(),s=e.clone();a.negative=0,s.negative=0;for(var u=0;a.isEven()&&s.isEven();u++)a.iushrn(1),s.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;s.isEven();)s.iushrn(1);var l=a.cmp(s);if(l<0){var v=a;a=s,s=v}else if(l===0||s.cmpn(1)===0)break;a.isub(s)}while(!0);return s.iushln(u)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r(typeof e=="number");var a=e%26,s=(e-a)/26,u=1<<a;if(this.length<=s)return this._expand(s+1),this.words[s]|=u,this;for(var l=u,v=s;l!==0&&v<this.length;v++){var g=this.words[v]|0;g+=l,l=g>>>26,g&=67108863,this.words[v]=g}return l!==0&&(this.words[v]=l,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(e){var a=e<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var s;if(this.length>1)s=1;else{a&&(e=-e),r(e<=67108863,"Number is too big");var u=this.words[0]|0;s=u===e?0:u<e?-1:1}return this.negative!==0?-s|0:s},o.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var a=this.ucmp(e);return this.negative!==0?-a|0:a},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var a=0,s=this.length-1;s>=0;s--){var u=this.words[s]|0,l=e.words[s]|0;if(u!==l){u<l?a=-1:u>l&&(a=1);break}}return a},o.prototype.gtn=function(e){return this.cmpn(e)===1},o.prototype.gt=function(e){return this.cmp(e)===1},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return this.cmpn(e)===-1},o.prototype.lt=function(e){return this.cmp(e)===-1},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return this.cmpn(e)===0},o.prototype.eq=function(e){return this.cmp(e)===0},o.red=function(e){return new V(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var jt={k256:null,p224:null,p192:null,p25519:null};function Ne(d,e){this.name=d,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ne.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},Ne.prototype.ireduce=function(e){var a=e,s;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),s=a.bitLength();while(s>this.n);var u=s<this.n?-1:a.ucmp(this.p);return u===0?(a.words[0]=0,a.length=1):u>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},Ne.prototype.split=function(e,a){e.iushrn(this.n,0,a)},Ne.prototype.imulK=function(e){return e.imul(this.k)};function wt(){Ne.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(wt,Ne),wt.prototype.split=function(e,a){for(var s=4194303,u=Math.min(e.length,9),l=0;l<u;l++)a.words[l]=e.words[l];if(a.length=u,e.length<=9){e.words[0]=0,e.length=1;return}var v=e.words[9];for(a.words[a.length++]=v&s,l=10;l<e.length;l++){var g=e.words[l]|0;e.words[l-10]=(g&s)<<4|v>>>22,v=g}v>>>=22,e.words[l-10]=v,v===0&&e.length>10?e.length-=10:e.length-=9},wt.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var a=0,s=0;s<e.length;s++){var u=e.words[s]|0;a+=u*977,e.words[s]=a&67108863,a=u*64+(a/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function Br(){Ne.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(Br,Ne);function Er(){Ne.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(Er,Ne);function Ut(){Ne.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(Ut,Ne),Ut.prototype.imulK=function(e){for(var a=0,s=0;s<e.length;s++){var u=(e.words[s]|0)*19+a,l=u&67108863;u>>>=26,e.words[s]=l,a=u}return a!==0&&(e.words[e.length++]=a),e},o._prime=function(e){if(jt[e])return jt[e];var a;if(e==="k256")a=new wt;else if(e==="p224")a=new Br;else if(e==="p192")a=new Er;else if(e==="p25519")a=new Ut;else throw new Error("Unknown prime "+e);return jt[e]=a,a};function V(d){if(typeof d=="string"){var e=o._prime(d);this.m=e.p,this.prime=e}else r(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}V.prototype._verify1=function(e){r(e.negative===0,"red works only with positives"),r(e.red,"red works only with red numbers")},V.prototype._verify2=function(e,a){r((e.negative|a.negative)===0,"red works only with positives"),r(e.red&&e.red===a.red,"red works only with red numbers")},V.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(b(e,e.umod(this.m)._forceRed(this)),e)},V.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},V.prototype.add=function(e,a){this._verify2(e,a);var s=e.add(a);return s.cmp(this.m)>=0&&s.isub(this.m),s._forceRed(this)},V.prototype.iadd=function(e,a){this._verify2(e,a);var s=e.iadd(a);return s.cmp(this.m)>=0&&s.isub(this.m),s},V.prototype.sub=function(e,a){this._verify2(e,a);var s=e.sub(a);return s.cmpn(0)<0&&s.iadd(this.m),s._forceRed(this)},V.prototype.isub=function(e,a){this._verify2(e,a);var s=e.isub(a);return s.cmpn(0)<0&&s.iadd(this.m),s},V.prototype.shl=function(e,a){return this._verify1(e),this.imod(e.ushln(a))},V.prototype.imul=function(e,a){return this._verify2(e,a),this.imod(e.imul(a))},V.prototype.mul=function(e,a){return this._verify2(e,a),this.imod(e.mul(a))},V.prototype.isqr=function(e){return this.imul(e,e.clone())},V.prototype.sqr=function(e){return this.mul(e,e)},V.prototype.sqrt=function(e){if(e.isZero())return e.clone();var a=this.m.andln(3);if(r(a%2===1),a===3){var s=this.m.add(new o(1)).iushrn(2);return this.pow(e,s)}for(var u=this.m.subn(1),l=0;!u.isZero()&&u.andln(1)===0;)l++,u.iushrn(1);r(!u.isZero());var v=new o(1).toRed(this),g=v.redNeg(),h=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new o(2*i*i).toRed(this);this.pow(i,h).cmp(g)!==0;)i.redIAdd(g);for(var c=this.pow(i,u),w=this.pow(e,u.addn(1).iushrn(1)),M=this.pow(e,u),x=l;M.cmp(v)!==0;){for(var B=M,q=0;B.cmp(v)!==0;q++)B=B.redSqr();r(q<x);var H=this.pow(c,new o(1).iushln(x-q-1));w=w.redMul(H),c=H.redSqr(),M=M.redMul(c),x=q}return w},V.prototype.invm=function(e){var a=e._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},V.prototype.pow=function(e,a){if(a.isZero())return new o(1).toRed(this);if(a.cmpn(1)===0)return e.clone();var s=4,u=new Array(1<<s);u[0]=new o(1).toRed(this),u[1]=e;for(var l=2;l<u.length;l++)u[l]=this.mul(u[l-1],e);var v=u[0],g=0,h=0,i=a.bitLength()%26;for(i===0&&(i=26),l=a.length-1;l>=0;l--){for(var c=a.words[l],w=i-1;w>=0;w--){var M=c>>w&1;if(v!==u[0]&&(v=this.sqr(v)),M===0&&g===0){h=0;continue}g<<=1,g|=M,h++,!(h!==s&&(l!==0||w!==0))&&(v=this.mul(v,u[g]),h=0,g=0)}i=26}return v},V.prototype.convertTo=function(e){var a=e.umod(this.m);return a===e?a.clone():a},V.prototype.convertFrom=function(e){var a=e.clone();return a.red=null,a},o.mont=function(e){return new tt(e)};function tt(d){V.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(tt,V),tt.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},tt.prototype.convertFrom=function(e){var a=this.imod(e.mul(this.rinv));return a.red=null,a},tt.prototype.imul=function(e,a){if(e.isZero()||a.isZero())return e.words[0]=0,e.length=1,e;var s=e.imul(a),u=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=s.isub(u).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},tt.prototype.mul=function(e,a){if(e.isZero()||a.isZero())return new o(0)._forceRed(this);var s=e.mul(a),u=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=s.isub(u).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},tt.prototype.invm=function(e){var a=this.imod(e._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(typeof fr>"u"||fr,Yr)});var hr=G(z=>{A();P();var Ai=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z,"__esModule",{value:!0});z.KECCAK256_RLP=z.KECCAK256_RLP_S=z.KECCAK256_RLP_ARRAY=z.KECCAK256_RLP_ARRAY_S=z.KECCAK256_NULL=z.KECCAK256_NULL_S=z.TWO_POW256=z.MAX_INTEGER=void 0;var ur=Zr().Buffer,Xr=Ai(We());z.MAX_INTEGER=new Xr.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);z.TWO_POW256=new Xr.default("10000000000000000000000000000000000000000000000000000000000000000",16);z.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";z.KECCAK256_NULL=ur.from(z.KECCAK256_NULL_S,"hex");z.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";z.KECCAK256_RLP_ARRAY=ur.from(z.KECCAK256_RLP_ARRAY_S,"hex");z.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";z.KECCAK256_RLP=ur.from(z.KECCAK256_RLP_S,"hex")});var rt=G(K=>{A();P();Object.defineProperty(K,"__esModule",{value:!0});K.isHexString=K.getKeys=K.fromAscii=K.fromUtf8=K.toAscii=K.arrayContainsArray=K.getBinarySize=K.padToEven=K.stripHexPrefix=K.isHexPrefixed=void 0;function Wr(t){if(typeof t!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof t);return t[0]==="0"&&t[1]==="x"}K.isHexPrefixed=Wr;var Pi=function(t){if(typeof t!="string")throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof t);return Wr(t)?t.slice(2):t};K.stripHexPrefix=Pi;function $r(t){var n=t;if(typeof n!="string")throw new Error("[padToEven] value must be type 'string', received "+typeof n);return n.length%2&&(n="0"+n),n}K.padToEven=$r;function Ti(t){if(typeof t!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved "+typeof t);return y.Buffer.byteLength(t,"utf8")}K.getBinarySize=Ti;function Bi(t,n,r){if(Array.isArray(t)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '"+typeof t+"'");if(Array.isArray(n)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '"+typeof n+"'");return n[r?"some":"every"](function(f){return t.indexOf(f)>=0})}K.arrayContainsArray=Bi;function Ei(t){var n="",r=0,f=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<f;r+=2){var o=parseInt(t.substr(r,2),16);n+=String.fromCharCode(o)}return n}K.toAscii=Ei;function Li(t){var n=y.Buffer.from(t,"utf8");return"0x"+$r(n.toString("hex")).replace(/^0+|0+$/g,"")}K.fromUtf8=Li;function Ii(t){for(var n="",r=0;r<t.length;r++){var f=t.charCodeAt(r),o=f.toString(16);n+=o.length<2?"0"+o:o}return"0x"+n}K.fromAscii=Ii;function Ci(t,n,r){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof t);if(typeof n!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof t);for(var f=[],o=0;o<t.length;o++){var p=t[o][n];if(r&&!p)p="";else if(typeof p!="string")throw new Error("invalid abi - expected type 'string', received "+typeof p);f.push(p)}return f}K.getKeys=Ci;function Oi(t,n){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||n&&t.length!==2+2*n)}K.isHexString=Oi});var gt=G(ze=>{A();P();Object.defineProperty(ze,"__esModule",{value:!0});ze.assertIsString=ze.assertIsArray=ze.assertIsBuffer=ze.assertIsHexString=void 0;var Ni=rt(),ki=function(t){if(!(0,Ni.isHexString)(t)){var n="This method only supports 0x-prefixed hex strings but input was: "+t;throw new Error(n)}};ze.assertIsHexString=ki;var qi=function(t){if(!y.Buffer.isBuffer(t)){var n="This method only supports Buffer but input was: "+t;throw new Error(n)}};ze.assertIsBuffer=qi;var Fi=function(t){if(!Array.isArray(t)){var n="This method only supports number arrays but input was: "+t;throw new Error(n)}};ze.assertIsArray=Fi;var Hi=function(t){if(typeof t!="string"){var n="This method only supports strings but input was: "+t;throw new Error(n)}};ze.assertIsString=Hi});var $e=G(T=>{A();P();var Ri=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(T,"__esModule",{value:!0});T.baToJSON=T.toUtf8=T.addHexPrefix=T.toUnsigned=T.fromSigned=T.bufferToHex=T.bufferToInt=T.toBuffer=T.unpadHexString=T.unpadArray=T.unpadBuffer=T.setLengthRight=T.setLengthLeft=T.zeros=T.intToBuffer=T.intToHex=void 0;var lr=Ri(We()),it=rt(),pt=gt(),ji=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Received an invalid integer type: "+t);return"0x"+t.toString(16)};T.intToHex=ji;var Ui=function(t){var n=(0,T.intToHex)(t);return y.Buffer.from((0,it.padToEven)(n.slice(2)),"hex")};T.intToBuffer=Ui;var zi=function(t){return y.Buffer.allocUnsafe(t).fill(0)};T.zeros=zi;var Qr=function(t,n,r){var f=(0,T.zeros)(n);return r?t.length<n?(t.copy(f),f):t.slice(0,n):t.length<n?(t.copy(f,n-t.length),f):t.slice(-n)},Di=function(t,n){return(0,pt.assertIsBuffer)(t),Qr(t,n,!1)};T.setLengthLeft=Di;var Ki=function(t,n){return(0,pt.assertIsBuffer)(t),Qr(t,n,!0)};T.setLengthRight=Ki;var cr=function(t){for(var n=t[0];t.length>0&&n.toString()==="0";)t=t.slice(1),n=t[0];return t},Vi=function(t){return(0,pt.assertIsBuffer)(t),cr(t)};T.unpadBuffer=Vi;var Gi=function(t){return(0,pt.assertIsArray)(t),cr(t)};T.unpadArray=Gi;var Zi=function(t){return(0,pt.assertIsHexString)(t),t=(0,it.stripHexPrefix)(t),cr(t)};T.unpadHexString=Zi;var Ji=function(t){if(t==null)return y.Buffer.allocUnsafe(0);if(y.Buffer.isBuffer(t))return y.Buffer.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return y.Buffer.from(t);if(typeof t=="string"){if(!(0,it.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);return y.Buffer.from((0,it.padToEven)((0,it.stripHexPrefix)(t)),"hex")}if(typeof t=="number")return(0,T.intToBuffer)(t);if(lr.default.isBN(t))return t.toArrayLike(y.Buffer);if(t.toArray)return y.Buffer.from(t.toArray());if(t.toBuffer)return y.Buffer.from(t.toBuffer());throw new Error("invalid type")};T.toBuffer=Ji;var Yi=function(t){return new lr.default((0,T.toBuffer)(t)).toNumber()};T.bufferToInt=Yi;var Xi=function(t){return t=(0,T.toBuffer)(t),"0x"+t.toString("hex")};T.bufferToHex=Xi;var Wi=function(t){return new lr.default(t).fromTwos(256)};T.fromSigned=Wi;var $i=function(t){return y.Buffer.from(t.toTwos(256).toArray())};T.toUnsigned=$i;var Qi=function(t){return typeof t!="string"||(0,it.isHexPrefixed)(t)?t:"0x"+t};T.addHexPrefix=Qi;var en=function(t){var n=/^(00)+|(00)+$/g;if(t=(0,it.stripHexPrefix)(t),t.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var r=y.Buffer.from(t.replace(n,""),"hex");return r.toString("utf8")};T.toUtf8=en;var tn=function(t){if(y.Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var n=[],r=0;r<t.length;r++)n.push((0,T.baToJSON)(t[r]));return n}};T.baToJSON=tn});var xt=G(I=>{A();P();var rn=I&&I.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),nn=I&&I.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),an=I&&I.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rn(n,t,r);return nn(n,t),n};Object.defineProperty(I,"__esModule",{value:!0});I.rlphash=I.ripemd160FromArray=I.ripemd160FromString=I.ripemd160=I.sha256FromArray=I.sha256FromString=I.sha256=I.keccakFromArray=I.keccakFromHexString=I.keccakFromString=I.keccak256=I.keccak=void 0;var bt=xi(),ei=bi(),on=an(Mt()),mt=$e(),De=gt(),sn=function(t,n){switch(n===void 0&&(n=256),(0,De.assertIsBuffer)(t),n){case 224:return(0,bt.keccak224)(t);case 256:return(0,bt.keccak256)(t);case 384:return(0,bt.keccak384)(t);case 512:return(0,bt.keccak512)(t);default:throw new Error("Invald algorithm: keccak"+n)}};I.keccak=sn;var fn=function(t){return(0,I.keccak)(t)};I.keccak256=fn;var un=function(t,n){n===void 0&&(n=256),(0,De.assertIsString)(t);var r=y.Buffer.from(t,"utf8");return(0,I.keccak)(r,n)};I.keccakFromString=un;var hn=function(t,n){return n===void 0&&(n=256),(0,De.assertIsHexString)(t),(0,I.keccak)((0,mt.toBuffer)(t),n)};I.keccakFromHexString=hn;var ln=function(t,n){return n===void 0&&(n=256),(0,De.assertIsArray)(t),(0,I.keccak)((0,mt.toBuffer)(t),n)};I.keccakFromArray=ln;var dr=function(t){return t=(0,mt.toBuffer)(t),ei("sha256").update(t).digest()},cn=function(t){return(0,De.assertIsBuffer)(t),dr(t)};I.sha256=cn;var dn=function(t){return(0,De.assertIsString)(t),dr(t)};I.sha256FromString=dn;var vn=function(t){return(0,De.assertIsArray)(t),dr(t)};I.sha256FromArray=vn;var vr=function(t,n){t=(0,mt.toBuffer)(t);var r=ei("rmd160").update(t).digest();return n===!0?(0,mt.setLengthLeft)(r,32):r},gn=function(t,n){return(0,De.assertIsBuffer)(t),vr(t,n)};I.ripemd160=gn;var pn=function(t,n){return(0,De.assertIsString)(t),vr(t,n)};I.ripemd160FromString=pn;var mn=function(t,n){return(0,De.assertIsArray)(t),vr(t,n)};I.ripemd160FromArray=mn;var yn=function(t){return(0,I.keccak)(on.encode(t))};I.rlphash=yn});var At=G(Ie=>{A();P();var _n=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.toType=Ie.TypeOutput=Ie.bnToRlp=Ie.bnToUnpaddedBuffer=Ie.bnToHex=void 0;var gr=_n(We()),wn=rt(),ti=$e();function Mn(t){return"0x"+t.toString(16)}Ie.bnToHex=Mn;function ri(t){return(0,ti.unpadBuffer)(t.toArrayLike(y.Buffer))}Ie.bnToUnpaddedBuffer=ri;function bn(t){return ri(t)}Ie.bnToRlp=bn;var St;(function(t){t[t.Number=0]="Number",t[t.BN=1]="BN",t[t.Buffer=2]="Buffer",t[t.PrefixedHexString=3]="PrefixedHexString"})(St=Ie.TypeOutput||(Ie.TypeOutput={}));function xn(t,n){if(t===null)return null;if(t!==void 0){if(typeof t=="string"&&!(0,wn.isHexString)(t))throw new Error("A string must be provided with a 0x-prefix, given: "+t);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var r=(0,ti.toBuffer)(t);if(n===St.Buffer)return r;if(n===St.BN)return new gr.default(r);if(n===St.Number){var f=new gr.default(r),o=new gr.default(Number.MAX_SAFE_INTEGER.toString());if(f.gt(o))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return f.toNumber()}else return"0x"+r.toString("hex")}}Ie.toType=xn});var mr=G(S=>{A();P();var Sn=S&&S.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),An=S&&S.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Pn=S&&S.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sn(n,t,r);return An(n,t),n},Tn=S&&S.__read||function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var f=r.call(t),o,p=[],m;try{for(;(n===void 0||n-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(_){m={error:_}}finally{try{o&&!o.done&&(r=f.return)&&r.call(f)}finally{if(m)throw m.error}}return p},ni=S&&S.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S,"__esModule",{value:!0});S.isZeroAddress=S.zeroAddress=S.importPublic=S.privateToAddress=S.privateToPublic=S.publicToAddress=S.pubToAddress=S.isValidPublic=S.isValidPrivate=S.generateAddress2=S.generateAddress=S.isValidChecksumAddress=S.toChecksumAddress=S.isValidAddress=S.Account=void 0;var pr=ni(sr()),Ve=ni(We()),ii=Pn(Mt()),ut=Jr(),Bn=rt(),Pt=hr(),ft=$e(),ht=xt(),ke=gt(),Tt=At(),En=function(){function t(n,r,f,o){n===void 0&&(n=new Ve.default(0)),r===void 0&&(r=new Ve.default(0)),f===void 0&&(f=Pt.KECCAK256_RLP),o===void 0&&(o=Pt.KECCAK256_NULL),this.nonce=n,this.balance=r,this.stateRoot=f,this.codeHash=o,this._validate()}return t.fromAccountData=function(n){var r=n.nonce,f=n.balance,o=n.stateRoot,p=n.codeHash;return new t(r?new Ve.default((0,ft.toBuffer)(r)):void 0,f?new Ve.default((0,ft.toBuffer)(f)):void 0,o?(0,ft.toBuffer)(o):void 0,p?(0,ft.toBuffer)(p):void 0)},t.fromRlpSerializedAccount=function(n){var r=ii.decode(n);if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)},t.fromValuesArray=function(n){var r=Tn(n,4),f=r[0],o=r[1],p=r[2],m=r[3];return new t(new Ve.default(f),new Ve.default(o),p,m)},t.prototype._validate=function(){if(this.nonce.lt(new Ve.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new Ve.default(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},t.prototype.raw=function(){return[(0,Tt.bnToUnpaddedBuffer)(this.nonce),(0,Tt.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},t.prototype.serialize=function(){return ii.encode(this.raw())},t.prototype.isContract=function(){return!this.codeHash.equals(Pt.KECCAK256_NULL)},t.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(Pt.KECCAK256_NULL)},t}();S.Account=En;var Ln=function(t){try{(0,ke.assertIsString)(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)};S.isValidAddress=Ln;var In=function(t,n){(0,ke.assertIsHexString)(t);var r=(0,Bn.stripHexPrefix)(t).toLowerCase(),f="";if(n){var o=(0,Tt.toType)(n,Tt.TypeOutput.BN);f=o.toString()+"0x"}for(var p=(0,ht.keccakFromString)(f+r).toString("hex"),m="0x",_=0;_<r.length;_++)parseInt(p[_],16)>=8?m+=r[_].toUpperCase():m+=r[_];return m};S.toChecksumAddress=In;var Cn=function(t,n){return(0,S.isValidAddress)(t)&&(0,S.toChecksumAddress)(t,n)===t};S.isValidChecksumAddress=Cn;var On=function(t,n){(0,ke.assertIsBuffer)(t),(0,ke.assertIsBuffer)(n);var r=new Ve.default(n);return r.isZero()?(0,ht.rlphash)([t,null]).slice(-20):(0,ht.rlphash)([t,y.Buffer.from(r.toArray())]).slice(-20)};S.generateAddress=On;var Nn=function(t,n,r){(0,ke.assertIsBuffer)(t),(0,ke.assertIsBuffer)(n),(0,ke.assertIsBuffer)(r),(0,pr.default)(t.length===20),(0,pr.default)(n.length===32);var f=(0,ht.keccak256)(y.Buffer.concat([y.Buffer.from("ff","hex"),t,n,(0,ht.keccak256)(r)]));return f.slice(-20)};S.generateAddress2=Nn;var kn=function(t){return(0,ut.privateKeyVerify)(t)};S.isValidPrivate=kn;var qn=function(t,n){return n===void 0&&(n=!1),(0,ke.assertIsBuffer)(t),t.length===64?(0,ut.publicKeyVerify)(y.Buffer.concat([y.Buffer.from([4]),t])):n?(0,ut.publicKeyVerify)(t):!1};S.isValidPublic=qn;var Fn=function(t,n){return n===void 0&&(n=!1),(0,ke.assertIsBuffer)(t),n&&t.length!==64&&(t=y.Buffer.from((0,ut.publicKeyConvert)(t,!1).slice(1))),(0,pr.default)(t.length===64),(0,ht.keccak)(t).slice(-20)};S.pubToAddress=Fn;S.publicToAddress=S.pubToAddress;var Hn=function(t){return(0,ke.assertIsBuffer)(t),y.Buffer.from((0,ut.publicKeyCreate)(t,!1)).slice(1)};S.privateToPublic=Hn;var Rn=function(t){return(0,S.publicToAddress)((0,S.privateToPublic)(t))};S.privateToAddress=Rn;var jn=function(t){return(0,ke.assertIsBuffer)(t),t.length!==64&&(t=y.Buffer.from((0,ut.publicKeyConvert)(t,!1).slice(1))),t};S.importPublic=jn;var Un=function(){var t=20,n=(0,ft.zeros)(t);return(0,ft.bufferToHex)(n)};S.zeroAddress=Un;var zn=function(t){try{(0,ke.assertIsString)(t)}catch{return!1}var n=(0,S.zeroAddress)();return n===t};S.isZeroAddress=zn});var si=G(lt=>{A();P();var oi=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lt,"__esModule",{value:!0});lt.Address=void 0;var nt=oi(sr()),Bt=oi(We()),ai=$e(),yt=mr(),Dn=function(){function t(n){(0,nt.default)(n.length===20,"Invalid address length"),this.buf=n}return t.zero=function(){return new t((0,ai.zeros)(20))},t.fromString=function(n){return(0,nt.default)((0,yt.isValidAddress)(n),"Invalid address"),new t((0,ai.toBuffer)(n))},t.fromPublicKey=function(n){(0,nt.default)(y.Buffer.isBuffer(n),"Public key should be Buffer");var r=(0,yt.pubToAddress)(n);return new t(r)},t.fromPrivateKey=function(n){(0,nt.default)(y.Buffer.isBuffer(n),"Private key should be Buffer");var r=(0,yt.privateToAddress)(n);return new t(r)},t.generate=function(n,r){return(0,nt.default)(Bt.default.isBN(r)),new t((0,yt.generateAddress)(n.buf,r.toArrayLike(y.Buffer)))},t.generate2=function(n,r,f){return(0,nt.default)(y.Buffer.isBuffer(r)),(0,nt.default)(y.Buffer.isBuffer(f)),new t((0,yt.generateAddress2)(n.buf,r,f))},t.prototype.equals=function(n){return this.buf.equals(n.buf)},t.prototype.isZero=function(){return this.equals(t.zero())},t.prototype.isPrecompileOrSystemAddress=function(){var n=new Bt.default(this.buf),r=new Bt.default(0),f=new Bt.default("ffff","hex");return n.gte(r)&&n.lte(f)},t.prototype.toString=function(){return"0x"+this.buf.toString("hex")},t.prototype.toBuffer=function(){return y.Buffer.from(this.buf)},t}();lt.Address=Dn});var fi=G(Ee=>{A();P();var Kn=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.hashPersonalMessage=Ee.isValidSignature=Ee.fromRpcSig=Ee.toCompactSig=Ee.toRpcSig=Ee.ecrecover=Ee.ecsign=void 0;var yr=Jr(),_t=Kn(We()),qe=$e(),Vn=xt(),Gn=gt(),Qe=At();function Zn(t,n,r){var f=(0,yr.ecdsaSign)(t,n),o=f.signature,p=f.recid,m=y.Buffer.from(o.slice(0,32)),_=y.Buffer.from(o.slice(32,64));if(!r||typeof r=="number"){if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var b=r?p+(r*2+35):p+27;return{r:m,s:_,v:b}}var E=(0,Qe.toType)(r,Qe.TypeOutput.BN),k=E.muln(2).addn(35).addn(p).toArrayLike(y.Buffer);return{r:m,s:_,v:k}}Ee.ecsign=Zn;function Et(t,n){var r=(0,Qe.toType)(t,Qe.TypeOutput.BN);if(!n)return r.subn(27);var f=(0,Qe.toType)(n,Qe.TypeOutput.BN);return r.sub(f.muln(2).addn(35))}function Lt(t){var n=new _t.default(t);return n.eqn(0)||n.eqn(1)}var Jn=function(t,n,r,f,o){var p=y.Buffer.concat([(0,qe.setLengthLeft)(r,32),(0,qe.setLengthLeft)(f,32)],64),m=Et(n,o);if(!Lt(m))throw new Error("Invalid signature v value");var _=(0,yr.ecdsaRecover)(p,m.toNumber(),t);return y.Buffer.from((0,yr.publicKeyConvert)(_,!1).slice(1))};Ee.ecrecover=Jn;var Yn=function(t,n,r,f){var o=Et(t,f);if(!Lt(o))throw new Error("Invalid signature v value");return(0,qe.bufferToHex)(y.Buffer.concat([(0,qe.setLengthLeft)(n,32),(0,qe.setLengthLeft)(r,32),(0,qe.toBuffer)(t)]))};Ee.toRpcSig=Yn;var Xn=function(t,n,r,f){var o=Et(t,f);if(!Lt(o))throw new Error("Invalid signature v value");var p=(0,Qe.toType)(t,Qe.TypeOutput.Number),m=r;return(p>28&&p%2===1||p===1||p===28)&&(m=y.Buffer.from(r),m[0]|=128),(0,qe.bufferToHex)(y.Buffer.concat([(0,qe.setLengthLeft)(n,32),(0,qe.setLengthLeft)(m,32)]))};Ee.toCompactSig=Xn;var Wn=function(t){var n=(0,qe.toBuffer)(t),r,f,o;if(n.length>=65)r=n.slice(0,32),f=n.slice(32,64),o=(0,qe.bufferToInt)(n.slice(64));else if(n.length===64)r=n.slice(0,32),f=n.slice(32,64),o=(0,qe.bufferToInt)(n.slice(32,33))>>7,f[0]&=127;else throw new Error("Invalid signature length");return o<27&&(o+=27),{v:o,r,s:f}};Ee.fromRpcSig=Wn;var $n=function(t,n,r,f,o){f===void 0&&(f=!0);var p=new _t.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),m=new _t.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(n.length!==32||r.length!==32||!Lt(Et(t,o)))return!1;var _=new _t.default(n),b=new _t.default(r);return!(_.isZero()||_.gt(m)||b.isZero()||b.gt(m)||f&&b.cmp(p)===1)};Ee.isValidSignature=$n;var Qn=function(t){(0,Gn.assertIsBuffer)(t);var n=y.Buffer.from(`Ethereum Signed Message:
`+t.length,"utf-8");return(0,Vn.keccak)(y.Buffer.concat([n,t]))};Ee.hashPersonalMessage=Qn});var li=G(Fe=>{A();P();var ea=Fe&&Fe.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),ta=Fe&&Fe.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),ra=Fe&&Fe.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ea(n,t,r);return ta(n,t),n},ia=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.defineProperties=void 0;var ui=ia(sr()),na=rt(),hi=ra(Mt()),It=$e(),aa=function(t,n,r){if(t.raw=[],t._fields=[],t.toJSON=function(o){if(o===void 0&&(o=!1),o){var p={};return t._fields.forEach(function(m){p[m]="0x"+t[m].toString("hex")}),p}return(0,It.baToJSON)(t.raw)},t.serialize=function(){return hi.encode(t.raw)},n.forEach(function(o,p){t._fields.push(o.name);function m(){return t.raw[p]}function _(b){b=(0,It.toBuffer)(b),b.toString("hex")==="00"&&!o.allowZero&&(b=y.Buffer.allocUnsafe(0)),o.allowLess&&o.length?(b=(0,It.unpadBuffer)(b),(0,ui.default)(o.length>=b.length,"The field "+o.name+" must not have more "+o.length+" bytes")):!(o.allowZero&&b.length===0)&&o.length&&(0,ui.default)(o.length===b.length,"The field "+o.name+" must have byte length of "+o.length),t.raw[p]=b}Object.defineProperty(t,o.name,{enumerable:!0,configurable:!0,get:m,set:_}),o.default&&(t[o.name]=o.default),o.alias&&Object.defineProperty(t,o.alias,{enumerable:!1,configurable:!0,set:_,get:m})}),r)if(typeof r=="string"&&(r=y.Buffer.from((0,na.stripHexPrefix)(r),"hex")),y.Buffer.isBuffer(r)&&(r=hi.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(o,p){t[t._fields[p]]=(0,It.toBuffer)(o)})}else if(typeof r=="object"){var f=Object.keys(r);n.forEach(function(o){f.indexOf(o.name)!==-1&&(t[o.name]=r[o.name]),f.indexOf(o.alias)!==-1&&(t[o.alias]=r[o.alias])})}else throw new Error("invalid data")};Fe.defineProperties=aa});var ci=G(Ce=>{A();P();var oa=Ce&&Ce.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),sa=Ce&&Ce.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),fa=Ce&&Ce.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oa(n,t,r);return sa(n,t),n},ua=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.rlp=Ce.BN=void 0;var ha=ua(We());Ce.BN=ha.default;var la=fa(Mt());Ce.rlp=la});var et=G(O=>{A();P();var ca=O&&O.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),Ge=O&&O.__exportStar||function(t,n){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&ca(n,t,r)};Object.defineProperty(O,"__esModule",{value:!0});O.isHexString=O.getKeys=O.fromAscii=O.fromUtf8=O.toAscii=O.arrayContainsArray=O.getBinarySize=O.padToEven=O.stripHexPrefix=O.isHexPrefixed=void 0;Ge(hr(),O);Ge(mr(),O);Ge(si(),O);Ge(xt(),O);Ge(fi(),O);Ge($e(),O);Ge(li(),O);Ge(ci(),O);Ge(At(),O);var Ke=rt();Object.defineProperty(O,"isHexPrefixed",{enumerable:!0,get:function(){return Ke.isHexPrefixed}});Object.defineProperty(O,"stripHexPrefix",{enumerable:!0,get:function(){return Ke.stripHexPrefix}});Object.defineProperty(O,"padToEven",{enumerable:!0,get:function(){return Ke.padToEven}});Object.defineProperty(O,"getBinarySize",{enumerable:!0,get:function(){return Ke.getBinarySize}});Object.defineProperty(O,"arrayContainsArray",{enumerable:!0,get:function(){return Ke.arrayContainsArray}});Object.defineProperty(O,"toAscii",{enumerable:!0,get:function(){return Ke.toAscii}});Object.defineProperty(O,"fromUtf8",{enumerable:!0,get:function(){return Ke.fromUtf8}});Object.defineProperty(O,"fromAscii",{enumerable:!0,get:function(){return Ke.fromAscii}});Object.defineProperty(O,"getKeys",{enumerable:!0,get:function(){return Ke.getKeys}});Object.defineProperty(O,"isHexString",{enumerable:!0,get:function(){return Ke.isHexString}})});var at=G(Re=>{A();P();Object.defineProperty(Re,"__esModule",{value:!0});Re.N_DIV_2=Re.isAccessList=Re.isAccessListBuffer=Re.Capability=void 0;var da=et(),va;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(va=Re.Capability||(Re.Capability={}));function di(t){if(t.length===0)return!0;var n=t[0];return!!Array.isArray(n)}Re.isAccessListBuffer=di;function ga(t){return!di(t)}Re.isAccessList=ga;Re.N_DIV_2=new da.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)});var Ct=G(Oe=>{A();P();var pa=Oe&&Oe.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),ma=Oe&&Oe.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),ya=Oe&&Oe.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pa(n,t,r);return ma(n,t),n},_a=Oe&&Oe.__values||function(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],f=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&f>=t.length&&(t=void 0),{value:t&&t[f++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},wa=Oe&&Oe.__read||function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var f=r.call(t),o,p=[],m;try{for(;(n===void 0||n-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(_){m={error:_}}finally{try{o&&!o.done&&(r=f.return)&&r.call(f)}finally{if(m)throw m.error}}return p};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.BaseTransaction=void 0;var ct=ya(Si()),F=et(),_r=at(),Ma=function(){function t(n){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=ct.Chain.Mainnet,this.DEFAULT_HARDFORK=ct.Hardfork.Istanbul;var r=n.nonce,f=n.gasLimit,o=n.to,p=n.value,m=n.data,_=n.v,b=n.r,E=n.s,k=n.type;this._type=new F.BN((0,F.toBuffer)(k)).toNumber();var U=(0,F.toBuffer)(o===""?"0x":o),D=(0,F.toBuffer)(_===""?"0x":_),Be=(0,F.toBuffer)(b===""?"0x":b),He=(0,F.toBuffer)(E===""?"0x":E);this.nonce=new F.BN((0,F.toBuffer)(r===""?"0x":r)),this.gasLimit=new F.BN((0,F.toBuffer)(f===""?"0x":f)),this.to=U.length>0?new F.Address(U):void 0,this.value=new F.BN((0,F.toBuffer)(p===""?"0x":p)),this.data=(0,F.toBuffer)(m===""?"0x":m),this.v=D.length>0?new F.BN(D):void 0,this.r=Be.length>0?new F.BN(Be):void 0,this.s=He.length>0?new F.BN(He):void 0,this._validateCannotExceedMaxInteger({nonce:this.nonce,gasLimit:this.gasLimit,value:this.value,r:this.r,s:this.s})}return Object.defineProperty(t.prototype,"transactionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.supports=function(n){return this.activeCapabilities.includes(n)},t.prototype.validate=function(n){n===void 0&&(n=!1);var r=[];return this.getBaseFee().gt(this.gasLimit)&&r.push("gasLimit is too low. given "+this.gasLimit+", need at least "+this.getBaseFee()),this.isSigned()&&!this.verifySignature()&&r.push("Invalid Signature"),n?r:r.length===0},t.prototype.getBaseFee=function(){var n=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&n.iaddn(this.common.param("gasPrices","txCreation")),n},t.prototype.getDataFee=function(){for(var n=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero"),f=0,o=0;o<this.data.length;o++)this.data[o]===0?f+=n:f+=r;return new F.BN(f)},t.prototype.toCreationAddress=function(){return this.to===void 0||this.to.buf.length===0},t.prototype.isSigned=function(){var n=this,r=n.v,f=n.r,o=n.s;return this.type===0?!(!r||!f||!o):!(r===void 0||!f||!o)},t.prototype.verifySignature=function(){try{var n=this.getSenderPublicKey();return(0,F.unpadBuffer)(n).length!==0}catch{return!1}},t.prototype.getSenderAddress=function(){return new F.Address((0,F.publicToAddress)(this.getSenderPublicKey()))},t.prototype.sign=function(n){if(n.length!==32){var r=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(r)}var f=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(_r.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(_r.Capability.EIP155ReplayProtection),f=!0);var o=this.getMessageToSign(!0),p=(0,F.ecsign)(o,n),m=p.v,_=p.r,b=p.s,E=this._processSignature(m,_,b);if(f){var k=this.activeCapabilities.indexOf(_r.Capability.EIP155ReplayProtection);k>-1&&this.activeCapabilities.splice(k,1)}return E},t.prototype._getCommon=function(n,r){var f;if(r){var o=new F.BN((0,F.toBuffer)(r));if(n){if(!n.chainIdBN().eq(o)){var p=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(p)}return n.copy()}else return ct.default.isSupportedChainId(o)?new ct.default({chain:o,hardfork:this.DEFAULT_HARDFORK}):ct.default.forCustomChain(this.DEFAULT_CHAIN,{name:"custom-chain",networkId:o,chainId:o},this.DEFAULT_HARDFORK)}else return(f=n?.copy())!==null&&f!==void 0?f:new ct.default({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})},t.prototype._validateCannotExceedMaxInteger=function(n,r){var f,o;r===void 0&&(r=53);try{for(var p=_a(Object.entries(n)),m=p.next();!m.done;m=p.next()){var _=wa(m.value,2),b=_[0],E=_[1];if(r===53){if(E?.gt(F.MAX_INTEGER)){var k=this._errorMsg(b+" cannot exceed MAX_INTEGER, given "+E);throw new Error(k)}}else if(r===256){if(E?.gte(F.TWO_POW256)){var k=this._errorMsg(b+" must be less than 2^256, given "+E);throw new Error(k)}}else{var k=this._errorMsg("unimplemented bits value");throw new Error(k)}}}catch(U){f={error:U}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(f)throw f.error}}},t.prototype._getSharedErrorPostfix=function(){var n="";try{n=this.isSigned()?(0,F.bufferToHex)(this.hash()):"not available (unsigned)"}catch{n="error"}var r="";try{r=this.isSigned().toString()}catch{n="error"}var f="";try{f=this.common.hardfork()}catch{f="error"}var o="tx type="+this.type+" hash="+n+" nonce="+this.nonce+" value="+this.value+" ";return o+="signed="+r+" hf="+f,o},t}();Oe.BaseTransaction=Ma});var vi=G(Ze=>{A();P();var ba=Ze&&Ze.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(f[p]=o[p])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function f(){this.constructor=n}n.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}(),Ot=Ze&&Ze.__assign||function(){return Ot=Object.assign||function(t){for(var n,r=1,f=arguments.length;r<f;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ot.apply(this,arguments)},xa=Ze&&Ze.__read||function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var f=r.call(t),o,p=[],m;try{for(;(n===void 0||n-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(_){m={error:_}}finally{try{o&&!o.done&&(r=f.return)&&r.call(f)}finally{if(m)throw m.error}}return p};Object.defineProperty(Ze,"__esModule",{value:!0});var C=et(),dt=at(),Sa=Ct(),Aa=0,Pa=function(t){ba(n,t);function n(r,f){f===void 0&&(f={});var o,p=t.call(this,Ot(Ot({},r),{type:Aa}))||this;if(p.common=p._validateTxV(p.v,f.common),p.gasPrice=new C.BN((0,C.toBuffer)(r.gasPrice===""?"0x":r.gasPrice)),p._validateCannotExceedMaxInteger({gasPrice:p.gasPrice}),p.common.gteHardfork("spuriousDragon"))if(!p.isSigned())p.activeCapabilities.push(dt.Capability.EIP155ReplayProtection);else{var m=p.v,_=p.common.chainIdBN().muln(2);(m.eq(_.addn(35))||m.eq(_.addn(36)))&&p.activeCapabilities.push(dt.Capability.EIP155ReplayProtection)}var b=(o=f?.freeze)!==null&&o!==void 0?o:!0;return b&&Object.freeze(p),p}return n.fromTxData=function(r,f){return f===void 0&&(f={}),new n(r,f)},n.fromSerializedTx=function(r,f){f===void 0&&(f={});var o=C.rlp.decode(r);if(!Array.isArray(o))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(o,f)},n.fromRlpSerializedTx=function(r,f){return f===void 0&&(f={}),n.fromSerializedTx(r,f)},n.fromValuesArray=function(r,f){if(f===void 0&&(f={}),r.length!==6&&r.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var o=xa(r,9),p=o[0],m=o[1],_=o[2],b=o[3],E=o[4],k=o[5],U=o[6],D=o[7],Be=o[8];return new n({nonce:p,gasPrice:m,gasLimit:_,to:b,value:E,data:k,v:U,r:D,s:Be},f)},n.prototype.raw=function(){return[(0,C.bnToUnpaddedBuffer)(this.nonce),(0,C.bnToUnpaddedBuffer)(this.gasPrice),(0,C.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,C.bnToUnpaddedBuffer)(this.value),this.data,this.v!==void 0?(0,C.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,C.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,C.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]},n.prototype.serialize=function(){return C.rlp.encode(this.raw())},n.prototype._getMessageToSign=function(){var r=[(0,C.bnToUnpaddedBuffer)(this.nonce),(0,C.bnToUnpaddedBuffer)(this.gasPrice),(0,C.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,C.bnToUnpaddedBuffer)(this.value),this.data];return this.supports(dt.Capability.EIP155ReplayProtection)&&(r.push((0,C.toBuffer)(this.common.chainIdBN())),r.push((0,C.unpadBuffer)((0,C.toBuffer)(0))),r.push((0,C.unpadBuffer)((0,C.toBuffer)(0)))),r},n.prototype.getMessageToSign=function(r){r===void 0&&(r=!0);var f=this._getMessageToSign();return r?(0,C.rlphash)(f):f},n.prototype.getDataFee=function(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:t.prototype.getDataFee.call(this),hardfork:this.common.hardfork()}),t.prototype.getDataFee.call(this))},n.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},n.prototype.hash=function(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,C.rlphash)(this.raw())),this.cache.hash):(0,C.rlphash)(this.raw())},n.prototype.getMessageToVerifySignature=function(){if(!this.isSigned()){var r=this._errorMsg("This transaction is not signed");throw new Error(r)}var f=this._getMessageToSign();return(0,C.rlphash)(f)},n.prototype.getSenderPublicKey=function(){var r,f=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&((r=this.s)===null||r===void 0?void 0:r.gt(dt.N_DIV_2))){var o=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(o)}var p=this,m=p.v,_=p.r,b=p.s;try{return(0,C.ecrecover)(f,m,(0,C.bnToUnpaddedBuffer)(_),(0,C.bnToUnpaddedBuffer)(b),this.supports(dt.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch{var o=this._errorMsg("Invalid Signature");throw new Error(o)}},n.prototype._processSignature=function(r,f,o){var p=new C.BN(r);this.supports(dt.Capability.EIP155ReplayProtection)&&p.iadd(this.common.chainIdBN().muln(2).addn(8));var m={common:this.common};return n.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:p,r:new C.BN(f),s:new C.BN(o)},m)},n.prototype.toJSON=function(){return{nonce:(0,C.bnToHex)(this.nonce),gasPrice:(0,C.bnToHex)(this.gasPrice),gasLimit:(0,C.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,C.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==void 0?(0,C.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,C.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,C.bnToHex)(this.s):void 0}},n.prototype._validateTxV=function(r,f){var o;if(r!==void 0&&!r.eqn(0)&&(!f||f.gteHardfork("spuriousDragon"))&&!r.eqn(27)&&!r.eqn(28))if(f){var p=f.chainIdBN().muln(2),m=r.eq(p.addn(35))||r.eq(p.addn(36));if(!m)throw new Error("Incompatible EIP155-based V "+r+" and chain id "+f.chainIdBN()+". See the Common parameter of the Transaction constructor to set the chain id.")}else{var _=void 0;r.subn(35).isEven()?_=35:_=36,o=r.subn(_).divn(2)}return this._getCommon(f,o)},n.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},n.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned()){var r=this._errorMsg("This transaction is not signed");throw new Error(r)}var f=this.common.gteHardfork("spuriousDragon"),o=this.v,p=this.common.chainIdBN().muln(2),m=o.eq(p.addn(35))||o.eq(p.addn(36));return m&&f},n.prototype.errorStr=function(){var r=this._getSharedErrorPostfix();return r+=" gasPrice="+this.gasPrice,r},n.prototype._errorMsg=function(r){return r+" ("+this.errorStr()+")"},n}(Sa.BaseTransaction);Ze.default=Pa});var wr=G(Nt=>{A();P();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.AccessLists=void 0;var vt=et(),Ta=at(),Ba=function(){function t(){}return t.getAccessListData=function(n){var r,f;if(n&&(0,Ta.isAccessList)(n)){r=n;for(var o=[],p=0;p<n.length;p++){for(var m=n[p],_=(0,vt.toBuffer)(m.address),b=[],E=0;E<m.storageKeys.length;E++)b.push((0,vt.toBuffer)(m.storageKeys[E]));o.push([_,b])}f=o}else{f=n??[];for(var k=[],p=0;p<f.length;p++){for(var U=f[p],D=(0,vt.bufferToHex)(U[0]),Be=[],m=0;m<U[1].length;m++)Be.push((0,vt.bufferToHex)(U[1][m]));var He={address:D,storageKeys:Be};k.push(He)}r=k}return{AccessListJSON:r,accessList:f}},t.verifyAccessList=function(n){for(var r=0;r<n.length;r++){var f=n[r],o=f[0],p=f[1];if(f[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(o.length!=20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(var m=0;m<p.length;m++)if(p[m].length!=32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},t.getAccessListJSON=function(n){for(var r=[],f=0;f<n.length;f++){for(var o=n[f],p={address:"0x"+(0,vt.setLengthLeft)(o[0],20).toString("hex"),storageKeys:[]},m=o[1],_=0;_<m.length;_++){var b=m[_];p.storageKeys.push("0x"+(0,vt.setLengthLeft)(b,32).toString("hex"))}r.push(p)}return r},t.getDataFeeEIP2930=function(n,r){for(var f=r.param("gasPrices","accessListStorageKeyCost"),o=r.param("gasPrices","accessListAddressCost"),p=0,m=0;m<n.length;m++){var _=n[m],b=_[1];p+=b.length}var E=n.length;return E*o+p*f},t}();Nt.AccessLists=Ba});var pi=G(Je=>{A();P();var Ea=Je&&Je.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(f[p]=o[p])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function f(){this.constructor=n}n.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}(),qt=Je&&Je.__assign||function(){return qt=Object.assign||function(t){for(var n,r=1,f=arguments.length;r<f;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qt.apply(this,arguments)},La=Je&&Je.__read||function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var f=r.call(t),o,p=[],m;try{for(;(n===void 0||n-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(_){m={error:_}}finally{try{o&&!o.done&&(r=f.return)&&r.call(f)}finally{if(m)throw m.error}}return p};Object.defineProperty(Je,"__esModule",{value:!0});var N=et(),Ia=Ct(),gi=at(),kt=wr(),br=1,Mr=y.Buffer.from(br.toString(16).padStart(2,"0"),"hex"),Ca=function(t){Ea(n,t);function n(r,f){f===void 0&&(f={});var o,p,m=t.call(this,qt(qt({},r),{type:br}))||this;m.DEFAULT_HARDFORK="berlin";var _=r.chainId,b=r.accessList,E=r.gasPrice;if(m.common=m._getCommon(f.common,_),m.chainId=m.common.chainIdBN(),!m.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");m.activeCapabilities=m.activeCapabilities.concat([2718,2930]);var k=kt.AccessLists.getAccessListData(b??[]);if(m.accessList=k.accessList,m.AccessListJSON=k.AccessListJSON,kt.AccessLists.verifyAccessList(m.accessList),m.gasPrice=new N.BN((0,N.toBuffer)(E===""?"0x":E)),m._validateCannotExceedMaxInteger({gasPrice:m.gasPrice}),m.v&&!m.v.eqn(0)&&!m.v.eqn(1)){var U=m._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(U)}if(m.common.gteHardfork("homestead")&&((o=m.s)===null||o===void 0?void 0:o.gt(gi.N_DIV_2))){var U=m._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(U)}var D=(p=f?.freeze)!==null&&p!==void 0?p:!0;return D&&Object.freeze(m),m}return Object.defineProperty(n.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),n.fromTxData=function(r,f){return f===void 0&&(f={}),new n(r,f)},n.fromSerializedTx=function(r,f){if(f===void 0&&(f={}),!r.slice(0,1).equals(Mr))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: "+br+", received: "+r.slice(0,1).toString("hex"));var o=N.rlp.decode(r.slice(1));if(!Array.isArray(o))throw new Error("Invalid serialized tx input: must be array");return n.fromValuesArray(o,f)},n.fromRlpSerializedTx=function(r,f){return f===void 0&&(f={}),n.fromSerializedTx(r,f)},n.fromValuesArray=function(r,f){if(f===void 0&&(f={}),r.length!==8&&r.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var o=La(r,11),p=o[0],m=o[1],_=o[2],b=o[3],E=o[4],k=o[5],U=o[6],D=o[7],Be=o[8],He=o[9],ot=o[10],st=[];return new n({chainId:new N.BN(p),nonce:m,gasPrice:_,gasLimit:b,to:E,value:k,data:U,accessList:D??st,v:Be!==void 0?new N.BN(Be):void 0,r:He,s:ot},f)},n.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var r=t.prototype.getDataFee.call(this);return r.iaddn(kt.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:r,hardfork:this.common.hardfork()}),r},n.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},n.prototype.raw=function(){return[(0,N.bnToUnpaddedBuffer)(this.chainId),(0,N.bnToUnpaddedBuffer)(this.nonce),(0,N.bnToUnpaddedBuffer)(this.gasPrice),(0,N.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,N.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,N.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,N.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,N.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]},n.prototype.serialize=function(){var r=this.raw();return y.Buffer.concat([Mr,N.rlp.encode(r)])},n.prototype.getMessageToSign=function(r){r===void 0&&(r=!0);var f=this.raw().slice(0,8),o=y.Buffer.concat([Mr,N.rlp.encode(f)]);return r?(0,N.keccak256)(o):o},n.prototype.hash=function(){if(!this.isSigned()){var r=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(r)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,N.keccak256)(this.serialize())),this.cache.hash):(0,N.keccak256)(this.serialize())},n.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},n.prototype.getSenderPublicKey=function(){var r;if(!this.isSigned()){var f=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(f)}var o=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&((r=this.s)===null||r===void 0?void 0:r.gt(gi.N_DIV_2))){var f=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(f)}var p=this,m=p.yParity,_=p.r,b=p.s;try{return(0,N.ecrecover)(o,m.addn(27),(0,N.bnToUnpaddedBuffer)(_),(0,N.bnToUnpaddedBuffer)(b))}catch{var f=this._errorMsg("Invalid Signature");throw new Error(f)}},n.prototype._processSignature=function(r,f,o){var p={common:this.common};return n.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new N.BN(r-27),r:new N.BN(f),s:new N.BN(o)},p)},n.prototype.toJSON=function(){var r=kt.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,N.bnToHex)(this.chainId),nonce:(0,N.bnToHex)(this.nonce),gasPrice:(0,N.bnToHex)(this.gasPrice),gasLimit:(0,N.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,N.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:r,v:this.v!==void 0?(0,N.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,N.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,N.bnToHex)(this.s):void 0}},n.prototype.errorStr=function(){var r,f,o=this._getSharedErrorPostfix();return o+=" gasPrice="+this.gasPrice+" accessListCount="+((f=(r=this.accessList)===null||r===void 0?void 0:r.length)!==null&&f!==void 0?f:0),o},n.prototype._errorMsg=function(r){return r+" ("+this.errorStr()+")"},n}(Ia.BaseTransaction);Je.default=Ca});var yi=G(xr=>{A();P();Object.defineProperty(xr,"__esModule",{value:!0});var mi=et(),je=_i(),Oa=function(){function t(){}return t.fromTxData=function(n,r){if(r===void 0&&(r={}),!("type"in n)||n.type===void 0)return je.Transaction.fromTxData(n,r);var f=new mi.BN((0,mi.toBuffer)(n.type)).toNumber();if(f===0)return je.Transaction.fromTxData(n,r);if(f===1)return je.AccessListEIP2930Transaction.fromTxData(n,r);if(f===2)return je.FeeMarketEIP1559Transaction.fromTxData(n,r);throw new Error("Tx instantiation with type "+f+" not supported")},t.fromSerializedData=function(n,r){if(r===void 0&&(r={}),n[0]<=127){var f=void 0;switch(n[0]){case 1:f=2930;break;case 2:f=1559;break;default:throw new Error("TypedTransaction with ID "+n[0]+" unknown")}return f===1559?je.FeeMarketEIP1559Transaction.fromSerializedTx(n,r):je.AccessListEIP2930Transaction.fromSerializedTx(n,r)}else return je.Transaction.fromSerializedTx(n,r)},t.fromBlockBodyData=function(n,r){if(r===void 0&&(r={}),y.Buffer.isBuffer(n))return this.fromSerializedData(n,r);if(Array.isArray(n))return je.Transaction.fromValuesArray(n,r);throw new Error("Cannot decode transaction: unknown type input")},t.getTransactionClass=function(n,r){n===void 0&&(n=0);var f=n==0||n>=128&&n<=255;if(f)return je.Transaction;switch(n){case 1:return je.AccessListEIP2930Transaction;case 2:return je.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID "+n+" unknown")}},t}();xr.default=Oa});var Mi=G(Ye=>{A();P();var Na=Ye&&Ye.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(f[p]=o[p])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function f(){this.constructor=n}n.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}(),Ht=Ye&&Ye.__assign||function(){return Ht=Object.assign||function(t){for(var n,r=1,f=arguments.length;r<f;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ht.apply(this,arguments)},ka=Ye&&Ye.__read||function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var f=r.call(t),o,p=[],m;try{for(;(n===void 0||n-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(_){m={error:_}}finally{try{o&&!o.done&&(r=f.return)&&r.call(f)}finally{if(m)throw m.error}}return p};Object.defineProperty(Ye,"__esModule",{value:!0});var L=et(),qa=Ct(),wi=at(),Ft=wr(),Ar=2,Sr=y.Buffer.from(Ar.toString(16).padStart(2,"0"),"hex"),Fa=function(t){Na(n,t);function n(r,f){f===void 0&&(f={});var o,p,m=t.call(this,Ht(Ht({},r),{type:Ar}))||this;m.DEFAULT_HARDFORK="london";var _=r.chainId,b=r.accessList,E=r.maxFeePerGas,k=r.maxPriorityFeePerGas;if(m.common=m._getCommon(f.common,_),m.chainId=m.common.chainIdBN(),!m.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");m.activeCapabilities=m.activeCapabilities.concat([1559,2718,2930]);var U=Ft.AccessLists.getAccessListData(b??[]);if(m.accessList=U.accessList,m.AccessListJSON=U.AccessListJSON,Ft.AccessLists.verifyAccessList(m.accessList),m.maxFeePerGas=new L.BN((0,L.toBuffer)(E===""?"0x":E)),m.maxPriorityFeePerGas=new L.BN((0,L.toBuffer)(k===""?"0x":k)),m._validateCannotExceedMaxInteger({maxFeePerGas:m.maxFeePerGas,maxPriorityFeePerGas:m.maxPriorityFeePerGas},256),m.maxFeePerGas.lt(m.maxPriorityFeePerGas)){var D=m._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(D)}if(m.v&&!m.v.eqn(0)&&!m.v.eqn(1)){var D=m._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(D)}if(m.common.gteHardfork("homestead")&&((o=m.s)===null||o===void 0?void 0:o.gt(wi.N_DIV_2))){var D=m._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(D)}var Be=(p=f?.freeze)!==null&&p!==void 0?p:!0;return Be&&Object.freeze(m),m}return Object.defineProperty(n.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),n.fromTxData=function(r,f){return f===void 0&&(f={}),new n(r,f)},n.fromSerializedTx=function(r,f){if(f===void 0&&(f={}),!r.slice(0,1).equals(Sr))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: "+Ar+", received: "+r.slice(0,1).toString("hex"));var o=L.rlp.decode(r.slice(1));if(!Array.isArray(o))throw new Error("Invalid serialized tx input: must be array");return n.fromValuesArray(o,f)},n.fromRlpSerializedTx=function(r,f){return f===void 0&&(f={}),n.fromSerializedTx(r,f)},n.fromValuesArray=function(r,f){if(f===void 0&&(f={}),r.length!==9&&r.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var o=ka(r,12),p=o[0],m=o[1],_=o[2],b=o[3],E=o[4],k=o[5],U=o[6],D=o[7],Be=o[8],He=o[9],ot=o[10],st=o[11];return new n({chainId:new L.BN(p),nonce:m,maxPriorityFeePerGas:_,maxFeePerGas:b,gasLimit:E,to:k,value:U,data:D,accessList:Be??[],v:He!==void 0?new L.BN(He):void 0,r:ot,s:st},f)},n.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var r=t.prototype.getDataFee.call(this);return r.iaddn(Ft.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:r,hardfork:this.common.hardfork()}),r},n.prototype.getUpfrontCost=function(r){r===void 0&&(r=new L.BN(0));var f=L.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(r)),o=f.add(r);return this.gasLimit.mul(o).add(this.value)},n.prototype.raw=function(){return[(0,L.bnToUnpaddedBuffer)(this.chainId),(0,L.bnToUnpaddedBuffer)(this.nonce),(0,L.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,L.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,L.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,L.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,L.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,L.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,L.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]},n.prototype.serialize=function(){var r=this.raw();return y.Buffer.concat([Sr,L.rlp.encode(r)])},n.prototype.getMessageToSign=function(r){r===void 0&&(r=!0);var f=this.raw().slice(0,9),o=y.Buffer.concat([Sr,L.rlp.encode(f)]);return r?(0,L.keccak256)(o):o},n.prototype.hash=function(){if(!this.isSigned()){var r=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(r)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,L.keccak256)(this.serialize())),this.cache.hash):(0,L.keccak256)(this.serialize())},n.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},n.prototype.getSenderPublicKey=function(){var r;if(!this.isSigned()){var f=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(f)}var o=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&((r=this.s)===null||r===void 0?void 0:r.gt(wi.N_DIV_2))){var f=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(f)}var p=this,m=p.v,_=p.r,b=p.s;try{return(0,L.ecrecover)(o,m.addn(27),(0,L.bnToUnpaddedBuffer)(_),(0,L.bnToUnpaddedBuffer)(b))}catch{var f=this._errorMsg("Invalid Signature");throw new Error(f)}},n.prototype._processSignature=function(r,f,o){var p={common:this.common};return n.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new L.BN(r-27),r:new L.BN(f),s:new L.BN(o)},p)},n.prototype.toJSON=function(){var r=Ft.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,L.bnToHex)(this.chainId),nonce:(0,L.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,L.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,L.bnToHex)(this.maxFeePerGas),gasLimit:(0,L.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,L.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:r,v:this.v!==void 0?(0,L.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,L.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,L.bnToHex)(this.s):void 0}},n.prototype.errorStr=function(){var r=this._getSharedErrorPostfix();return r+=" maxFeePerGas="+this.maxFeePerGas+" maxPriorityFeePerGas="+this.maxPriorityFeePerGas,r},n.prototype._errorMsg=function(r){return r+" ("+this.errorStr()+")"},n}(qa.BaseTransaction);Ye.default=Fa});var _i=G(Le=>{A();P();var Ha=Le&&Le.__createBinding||(Object.create?function(t,n,r,f){f===void 0&&(f=r),Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,f){f===void 0&&(f=r),t[f]=n[r]}),Ra=Le&&Le.__exportStar||function(t,n){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&Ha(n,t,r)},Rt=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Le,"__esModule",{value:!0});Le.FeeMarketEIP1559Transaction=Le.TransactionFactory=Le.AccessListEIP2930Transaction=Le.Transaction=void 0;var ja=vi();Object.defineProperty(Le,"Transaction",{enumerable:!0,get:function(){return Rt(ja).default}});var Ua=pi();Object.defineProperty(Le,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return Rt(Ua).default}});var za=yi();Object.defineProperty(Le,"TransactionFactory",{enumerable:!0,get:function(){return Rt(za).default}});var Da=Mi();Object.defineProperty(Le,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return Rt(Da).default}});Ra(at(),Le)});export default _i();
//# sourceMappingURL=dist-6IEEK45H.js.map
