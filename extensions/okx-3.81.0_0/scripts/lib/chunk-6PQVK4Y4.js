import{a as b,b as m,c as l,d as x,e as C,f as r}from"./chunk-4NIKWPAL.js";import{oa as R}from"./chunk-SPXYT2VO.js";import{ga as p}from"./chunk-LZ43QKYM.js";import{ea as N,t as u}from"./chunk-XEVJKE53.js";import{V as k,_ as h}from"./chunk-NLHAZXT3.js";import{n as E,o as s,q as n}from"./chunk-4J7XGGEQ.js";s();n();h();s();n();var S=class extends C{constructor(){super(...arguments);this.connectedFnsList=new Set;this.statusFnsList=new Set}connectedCallback(){super.connectedCallback(),m(this.connectedFnsList,{disconnected:this.disconnected})}addListenerConnected(t){return l(this.connectedFnsList,t)}addListenerStatus(t){return l(this.statusFnsList,t)}statusCallback(t){m(this.statusFnsList,t)}getWsUrl(){let t=localStorage.getItem("dev_ct_wsPress"),_="";if(p()||R.isExtensionEnv)if(E.env.ASSETS_BUILD_TYPE==="dev"||E.env.ASSETS_BUILD_TYPE==="daily")_="wss://wsdexpre.coinall.ltd:8443";else{let d=N.global?.getWssHostname?.(),T=R.global?.getWssHostname?.();_=`wss://${d||T}`}else _=u.socketBaseUrls?.dex;return t||`${_||""}/ws/v5/ipublic`}},K=new S;var Q=({isPri:o=!1,subscribeParams:a,onSubscribeSuccess:t,onListenData:_,onListenError:d,onListenReconnected:T,needLogin:g=!1})=>{let i=o?r:K,c=x(a);if(c.length<=0||!a)return()=>{};i.subscribe(c,{needLogin:g});let f=k(c.map(e=>e.channel)).map((e,P)=>{let A=!1;return i.addListenerData(e,I=>{let{data:L,event:O,arg:v}=I;if(O===b.SUBSCRIBE){!A&&t?.(e),A=!0;return}!L||!A||_?.(L,v)},{argsParam:c[P]})}),M=i.addListenerError(e=>{d?.(e)}),X=i.addListenerConnected(e=>{e?.disconnected&&T?.()});return()=>{i.unsubscribe(c),f.forEach(e=>{e?.()}),M(),X()}};var Z=o=>{let a=()=>{r.tokens="",r.logout(o)};return o===r.tokens||(r.tokens=o,r.connect(),r.isConnected()&&r.connectedCallback()),a};s();n();var se={DEX_MARKET_CHANNEL:"dex-market",DEX_MARKET_TX_CHANNEL:"dex-market-v3",DEX_MARKET_HOLDER_CHANNEL_V2:"dex-market-holder-v2",DEX_MARKET_TRANSACTION_HISTORY_CHANNEL:"dex-market-trade-history",DEX_MARKET_TRADE_HISTORY_POP:"dex-market-trade-history-pop",DEX_MARKET_TRANSACTION_HISTORY_CHANNEL_PUB:"dex-market-trade-history-pub",DEX_MARKET_ADDRESS_SWAP_HISTORY:"dex-market-address-swap-history",DEX_MARKET_POOL_CHANGES_CHANNEL:"dex-market-pool-history",DEX_MARKET_PNL_LATEST:"dex-market-pnl-latest",DEX_MARKET_PNL_HISTORY:"dex-market-pnl-history",DEX_MARKET_TOKEN_KLINE_BAR:"dex-token-candle{bar}",DEX_MARKET_KLINE_HOLDER_BS:"dex-market-kline-bs-pop",DEX_MARKET_HOLDER_TRADE_STATISTICS:"dex-market-trade-history-statistics",DEX_MARKET_SM_PLATFORM_SIGNAL:"dex-market-sm-platform-signal",DEX_MARKET_PNL_LATEST_PUB:"dex-market-pnl-latest-pub",DEX_MARKET_TRADER_CHANNEL_V1:"dex-market-trader-v1",DEX_MARKET_TOKEN_EARLY_BUYER:"dex-market-token-early-buyer",DEX_MARKET_TRACKER_SM_ACTIVITY:"dex-market-tracker-sm-activity",DEX_MARKET_TOP_POOL_CHANNEL:"dex-market-v3-topPool",DEX_MARKET_ADDRESS_RADAR:"dex-market-address-radar",DEX_MARKET_SM_SIGNAL_STATUS:"dex-market-sm-signal-status",DEX_MARKET_TWITTER_CONTENT_RECOMMANDED:"dex-market-twitter-content-recommanded",DEX_MARKET_TRACKER_TRENDS_KOL_AND_SM:"dex-market-tracker-sm-trends"},ne={DEX_PUSH_ENGINE:"dex-across-order-info",WALLET_ASSET:"wallet-asset",DEX_MARKET_TRACKER_ACTIVITY:"dex-market-tracker-activity",DEX_MARKET_TRACKER_TRENDS:"dex-market-tracker-trends",DEX_MARKET_TRACKER_TRENDS_SIDEBAR:"dex-market-tracker-trends-sidebar",DEX_MARKET_TRACKER_RANKING:"dex-market-tracker-ranking",SM_RANKING:"dex-market-sm-ranking",DEX_STRATEGY_BALANCE:"dex-strategy-balance",DEX_STRATEGY_ORDER:"tee-strategy-order-state",DEX_MARKET_TRACKER_TRENDS_FOLLOW:"dex-market-tracker-follow-trends"};s();n();var Ee="",ie="hide_detail_alert";export{Q as a,Z as b,se as c,ne as d,Ee as e,ie as f};
//# sourceMappingURL=chunk-6PQVK4Y4.js.map
