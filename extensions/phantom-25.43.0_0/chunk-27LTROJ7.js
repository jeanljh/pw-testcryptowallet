import{e as nt,f as rt,g as ot,h as at,l as C,m as P,o as it,r as st,v as lt}from"./chunk-UHG6ISVN.js";import{g as J}from"./chunk-5RCV3KPE.js";import{qa as $,ua as v}from"./chunk-RKMQYZSN.js";import{Nb as L}from"./chunk-COS4XKZ5.js";import{B as Nt,E as U,F as R,J as _,K as O,Kd as et,M as W,eb as G,ec as q,ed as Y,fc as A,fd as tt,h,ha as K,hb as V,jc as H,k as F,kc as X,nc as z,oc as Z,sb as j,uc as Q}from"./chunk-IJLITZAC.js";import{Pb as b,aa as B,ae as M,b as At,c as It,v as x,w as T}from"./chunk-GSVPXWLR.js";import{G as E}from"./chunk-P42QO3R7.js";import{a as r,g as y,i as o,l as xt,m as Buffer,n as a}from"./chunk-NSVULBS3.js";o();a();o();a();var I=y(It(),1);var mt=y(At(),1);var ct=(0,I.struct)([(0,I.u8)("instruction"),H("amount")]);function dt(t,n,e,i,s=[],c=A){let l=z([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],e,s),d=Buffer.alloc(ct.span);return ct.encode({instruction:X.Burn,amount:BigInt(i)},d),new mt.TransactionInstruction({keys:l,programId:c,data:d})}r(dt,"createBurnInstruction");var Pt=r(({t,apiErrors:n,clientErrors:e})=>{let i={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return n.isSellErrorCode?n?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:n?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:n?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:e.hasEnoughGas?e.executeSellError?e.executeSellError.message===lt?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}},"getInstantSellError");o();a();var Dt=r(t=>P(t)?t.standard===tt.ERC1155:C(t)?t.standard===Y.SemiFungible:!1,"isCollectibleSemiFungible");o();a();var D=y(xt(),1);o();a();async function ut(t){let{mint:n}=t,e=new x.Transaction,i=await st({networkID:B.Mainnet,mintAddress:n});return e.add(await _({...t,...i})),e}r(ut,"createCompressedTokenBurnTransaction");var wt=r(async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,compression:c,programId:l,isProgrammable:d,connection:N})=>{let f=new x.Transaction,u=new T.PublicKey(t),p=await Z(u,n);if(c?.compressed)return ut({compression:c,mint:t});if(l===R)return q({mint:t,connection:N,owner:n.toBase58()});if(d)return W({senderAddress:n,senderAccount:p,mintAddress:new T.PublicKey(t)});if(s===null||!nt(s)){let g=dt(p,u,n,e),S=J(p,n,n);f.add(g,S)}else{let g=D.Buffer.from(u.toBytes()),S=rt(g),Tt=ot(g),k;if(i!==null){let Ct=new T.PublicKey(i),yt=D.Buffer.from(Ct.toBytes());k=at(yt)}let St={metadata:S,owner:n,mint:u,tokenAccount:p,masterEditionAccount:Tt,splTokenProgram:A,collectionMetadata:k},{createBurnNftInstruction:bt}=await O(),ht=bt(St,U);f.add(ht)}return f},"getBurnTransaction"),kt=r(async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,chainId:c,compression:l,programId:d,isProgrammable:N})=>{let f=V(c),u=await wt({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,compression:l,programId:d,isProgrammable:N,connection:f});u.recentBlockhash=(await f.getLatestBlockhash("confirmed")).blockhash,u.feePayer=n;let p=await j(u,{connection:f}),g=await Q(c,[p.compileMessage()]),S=K(g);return{burnTxWithPriority:p,networkFeeUiAmount:S}},"getBurnTransactionWithPriorityFee");o();a();o();a();var Et=r((t,n=F.standard,e,i,s,c,l)=>{if(b.isEVMNetworkID(t)){let d=G.get(t).transactionSpeedSeconds(n);return{ownerAddress:e.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:E.parse({from:e.address}),estimatedTimeToMineInSeconds:d},type:h.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${c} ${i}`,uiRecipient:s}}}}else{if(b.isSolanaNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{signature:""},type:h.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};if(b.isBitcoinNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{txID:"",psbtHex:""},type:h.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};if(b.isSuiNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{digest:""},type:h.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}},"createTransferPendingTransactionInput");o();a();o();a();var ft=r(({url:t,format:n})=>{if(!t)return null;!t.startsWith("http")&&t.split(".").length===2&&(t=`http://${t}`),t.startsWith("www.")&&(t=`https://${t}`),!t.startsWith("http")&&!t.startsWith("https")&&(t=`https://${t}`);try{let{hostname:e,href:i}=new URL(t);switch(n){case"hostname":return e.replace("www.","");case"root":return e.split(".").slice(-2).join(".");case"domain":return e.split(".").slice(-2)[0];case"full":return i;default:return e}}catch{return null}},"formatURL");var Bt=r(t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),"parseName"),Mt=r((t,n)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let e=ft({url:t.externalUrl,format:"domain"});if(e)return e}if(n?.name){let e=Bt(n.name);if(e)return e}if(n?.symbol)return n.symbol},"selectBestCollectionName");o();a();var Lt=r((t,n)=>{if(C(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:n,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}},"convertCollectibleToSPLTokenAccount");o();a();var w=y(Nt(),1);var $t=1e6,vt=1e4,Ft=r(t=>t>$t?">1M":t<vt?(0,w.default)(t).format("0,0.[000]"):(0,w.default)(t).format("0.[0]a").toUpperCase(),"formatCount");o();a();o();a();function pt({chainID:t,amount:n,collectible:e,symbol:i}){let s=v(t);switch(s.chainName){case"solana":return{...s,asset:{amount:n.toString(),mint:"mint"in e?e.mint:"UNKNOWN",symbol:i,type:"collectible"}};case"ethereum":case"polygon":case"base":case"arbitrum":case"monad":case"hyperevm":return{...s,asset:{amount:n.toString(),address:"contract"in e?e.contract:"UNKNOWN",symbol:i,type:"collectible"}};case"bitcoin":return{...s,asset:{id:"firstCreatedInscriptionId"in e?e.firstCreatedInscriptionId:"UNKNOWN",symbol:i,type:"collectible"}};case"sui":return{...s,asset:{amount:n.toString(),address:"not yet implemented",symbol:i,type:"collectible"}}}}r(pt,"getCollectibleData");var Ut="list",gt=r(t=>new $(t,Ut),"createListingAnalytics"),Rt=L(M,t=>gt(t));o();a();function _t(t){if(!t)return!1;let n=et(t),e=t.chainData&&it(t.chainData)&&!!t.chainData.kioskId;return n||!!e}r(_t,"isCollectibleNonTransferable");export{Pt as a,Dt as b,Et as c,ft as d,Mt as e,Lt as f,Ft as g,kt as h,pt as i,_t as j};
//# sourceMappingURL=chunk-27LTROJ7.js.map
