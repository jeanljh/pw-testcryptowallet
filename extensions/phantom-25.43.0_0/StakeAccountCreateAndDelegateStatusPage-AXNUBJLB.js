import{a as S}from"./chunk-TCCWLNBV.js";import{e as K}from"./chunk-TFRCNF4E.js";import{e as M,f as V,g as F}from"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import"./chunk-TQE77AJX.js";import"./chunk-RNES5QWV.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import{b as m}from"./chunk-RCXDI445.js";import"./chunk-GWKXKPCT.js";import{db as A}from"./chunk-FMF67RFP.js";import{V as H,ga as B,v as P}from"./chunk-TQDE7426.js";import"./chunk-5RCV3KPE.js";import"./chunk-34JK5YK5.js";import"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import{rb as E,s as v}from"./chunk-COS4XKZ5.js";import{ib as N,jb as z}from"./chunk-IJLITZAC.js";import{Pb as h,X as I,_ as b,w as k}from"./chunk-GSVPXWLR.js";import"./chunk-P42QO3R7.js";import{V as g,a as Z,r as L}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as C,g as X,i as T,n as x}from"./chunk-NSVULBS3.js";T();x();var e=X(Z(),1);var _=C(o=>{let s={lamports:o.lamports,votePubkey:o.votePubkey,usdPerSol:o.usdPerSol,onClose:o.onClose,validatorName:o.validatorName},{t}=L(),{createStakeAccountAndDelegateStake:c,needsLedgerApproval:d,txHash:a,confirmationStatus:l,isError:u,error:r,onDeny:i}=$(s);if(d)return e.default.createElement(V,{ledgerAction:c,cancel:i});if(u){let n=r?.message;return M(r)?e.default.createElement(F,{ledgerActionError:r,onRetryClick:c,onCancelClick:i}):e.default.createElement(m,{icon:"error",title:t("stakeAccountCreateAndDelegateStakingFailed"),onClose:i,showButton:!!a,iconSize:"large"},e.default.createElement(A,{wordBreak:"break-word",color:g.colors.legacy.textDiminished,size:16,lineHeight:20.8},n??t("stakeAccountCreateAndDelegateErrorStaking")),e.default.createElement(S,{txHash:a},t("stakeAccountCreateAndDelegateViewTransaction")))}return l==="finalized"?e.default.createElement(m,{icon:"success",title:t("stakeAccountCreateAndDelegateSolStaked"),onClose:o.onClose,iconSize:"large"},e.default.createElement(A,{wordBreak:"break-word",color:g.colors.legacy.textDiminished,size:16,lineHeight:20.8},e.default.createElement(P,{i18nKey:"stakeAccountCreateAndDelegateSolStakedDisclaimerInterpolated"},"Your SOL will begin earning rewards",e.default.createElement("br",null)," in the next couple of days once the stake account becomes active.")),e.default.createElement(S,{txHash:a},t("stakeAccountCreateAndDelegateViewTransaction"))):e.default.createElement(m,{icon:"loading",title:t("stakeAccountCreateAndDelegateStakingSol"),onClose:o.onClose,iconSize:"large"},e.default.createElement(A,{wordBreak:"break-word",color:g.colors.legacy.textDiminished,size:16,lineHeight:20.8},t("stakeAccountCreateAndDelegateStakingSolDisclaimerInterpolated",{validatorName:o.validatorName})),e.default.createElement(S,{txHash:a},t("stakeAccountCreateAndDelegateViewTransaction")))},"StakeAccountCreateAndDelegateStatusPage"),fe=_,$=C(({onClose:o,...s})=>{let{data:t,isSuccess:c}=E(),{accountIdentifier:d,isLedgerAccount:a,solanaChainAddress:l,solanaPublicKey:u,connection:r,networkID:i}=(0,e.useMemo)(()=>{let q=t?.identifier??"",D=(t?.addresses??[]).find(W=>h.isSolanaNetworkID(W.networkID)),G=new k.PublicKey(D?.address??""),J=t?.type===v.Ledger,p=D?.networkID,U=N(z(p));return{accountIdentifier:q,isLedgerAccount:J,solanaChainAddress:D,solanaPublicKey:G,connection:U,networkID:p}},[t]),n=K(r),f=(0,e.useCallback)(()=>{n.mutate({...s,accountIdentifier:d,senderAddress:l,authorizedPubkey:u,votePubkey:new k.PublicKey(s.votePubkey)})},[d,s,n,l,u]),y=H(),O=(0,e.useCallback)(()=>{y.denied({chainType:I.Solana,chainName:b.Solana,networkId:h.getSolanaNetworkIDValue(i),type:"delegate"}),o()},[i,o,y]);(0,e.useEffect)(()=>{if(c){if(!t||!l)throw new Error("Selected account undefined when trying to perform stake transaction.");a||f()}},[c]);let w=n.data?.id,Q=B(r,2e3,w),Y=a&&(n.isIdle||n.isPending),j=Q.data?.value?.confirmationStatus;return{createStakeAccountAndDelegateStake:f,onDeny:O,needsLedgerApproval:Y,txHash:w,confirmationStatus:j,isError:n.isError,error:n.error}},"useCreateAndDelegateOnMount");export{_ as StakeAccountCreateAndDelegateStatusPage,fe as default};
//# sourceMappingURL=StakeAccountCreateAndDelegateStatusPage-AXNUBJLB.js.map
