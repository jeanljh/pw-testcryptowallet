import{a as so}from"../chunk-QTPRAR3I.js";import{a as Jp}from"../chunk-FYHA5XUW.js";import{a as as,b as j,c as jp,d as a,e as cs,f as ps,g as He,h as ds,i as un,j as fe,k as Zt,l as Kp,m as gr,n as yr,o as Gp,p as Zp,q as oo,s as Xp,u as mn,w as td}from"../chunk-PFL3AI4B.js";import{a as Qp}from"../chunk-TBD3HHGN.js";import{a as Hr}from"../chunk-BN5KCRRG.js";import"../chunk-VNZDUUDY.js";import{d as ed}from"../chunk-6BTGDHLT.js";import{a as to}from"../chunk-XYHVAYOD.js";import{a as Qn}from"../chunk-XSN3P2VT.js";import"../chunk-RNES5QWV.js";import{a as rd}from"../chunk-SNLK4N3B.js";import{a as no}from"../chunk-DESWWYIZ.js";import"../chunk-RJFXEHIV.js";import"../chunk-W5CO46MJ.js";import{b as rp}from"../chunk-IWYOR6BJ.js";import"../chunk-5HTF5CEZ.js";import{a as eo,b as Op,c as is,d as Pp,e as qp,g as Hp,k as Fp}from"../chunk-YLX2CXTY.js";import"../chunk-VGIRFM65.js";import{b as $p}from"../chunk-RFCRC6DA.js";import{b as Wp,d as zp,e as Yp,f as ro}from"../chunk-HQZCOMEL.js";import"../chunk-5SS664LD.js";import{gc as ht,h as gp,o as Vp}from"../chunk-44NW6BSR.js";import"../chunk-CHXPHGEW.js";import{a as mr,b as on,d as vc}from"../chunk-3JCRVFH6.js";import"../chunk-UHG6ISVN.js";import"../chunk-EVXXECVZ.js";import"../chunk-TQDE7426.js";import"../chunk-5RCV3KPE.js";import"../chunk-X5YMBRTT.js";import{b as hn,c as ls}from"../chunk-34JK5YK5.js";import{a as ve,b as Ce}from"../chunk-CM4ZFCT2.js";import{A as rs,Aa as hp,Ba as fp,C as ap,J as cp,K as fr,N as pp,O as dp,e as jt,fa as lp,m as op,n as sp,oa as ns,pa as os,r as ip,ra as pn,sa as dn,x as Kt,y as Or,za as mp}from"../chunk-RKMQYZSN.js";import{a as Mr}from"../chunk-MN377ENM.js";import{a as up}from"../chunk-6XVVS35Q.js";import{A as $c,B as Wc,C as Be,G as zc,K as Vc,Ka as ep,L as jc,P as Kc,Qa as tp,V as Gc,W as Zc,Z as Yc,_ as Xc,ba as Jc,gb as ts,ia as Qc,j as Vt,rc as np,t as Hc,z as Fc}from"../chunk-COS4XKZ5.js";import{A as xp,Aa as jn,Ba as kp,Ca as Kn,D as wp,Da as ss,Ea as Gn,Fa as Zn,Ga as Yn,Ha as Re,Ia as ln,Rb as Ip,U as bp,Vb as Bp,Wb as Lp,Zb as Mp,a as es,ac as Jn,cb as Xn,h as Pr,hb as Gt,m as yp,ma as lt,na as gt,oa as Sp,pa as Ze,pb as Tp,qa as Wn,qb as Ep,ra as zn,sa as _p,sb as Cp,ta as Lt,ua as Ap,va as Rp,vc as Up,wa as qr,xa as vp,xc as Np,ya as Vn,yc as Dp,za as yt,zb as xt}from"../chunk-IJLITZAC.js";import{Ac as de,Bd as qc,L as Ic,Od as $n,Pb as Qe,Pc as Hn,Qc as Pc,Rb as Jo,Vb as Pn,Wb as Qo,Wc as hr,X as be,b as Wh,ca as Bc,cc as Nr,f as Br,fb as Mc,fc as ot,gb as Uc,gc as Nc,ha as sn,ic as Dc,ja as Xo,kc as Dr,lc as Oc,mc as qn,na as On,q as Ac,qa as Lc,qd as Fn,r as Rc,rd as cn,tb as nt,ub as Ur,v as Lr,w as Ee,wc as Ne,x as ae,xc as me,yc as an}from"../chunk-GSVPXWLR.js";import{F as Ir,G as xc,H as wc,M as Ko,N as Ie,O as bc,Q as Sc,R as _c,S as ye,T as Un,W as Go,X as Zo,d as dr,n as Bn,o as Ln,p as Mn,q as we,r as tn,s as Oe,t as rn,u as Bt,v as Er,w as jo,x as nn,y as ur}from"../chunk-P42QO3R7.js";import{R as zh,a as Ue,b as Te,d as Cr,gb as Vh,m as st}from"../chunk-LYTSCHVN.js";import"../chunk-RCTLXTBM.js";import"../chunk-Z26KXQRL.js";import"../chunk-NUMCZRU4.js";import{h as Cc}from"../chunk-P5BPG5MC.js";import{g as lr,h as Yo,l as Nn,m as Dn,o as kc,p as Tc,x as Ec}from"../chunk-PPQ6BNOX.js";import{a as o,b as en,d as yc,e as De,g as ie,i as p,m as Buffer,n as d}from"../chunk-NSVULBS3.js";var wl=yc((L2,xl)=>{"use strict";p();d();function Zf(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var c=e.length,l=e.charAt(0),m=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function w(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var b=0,_=0,y=0,v=R.length;y!==v&&R[y]===0;)y++,b++;for(var I=(v-y)*f+1>>>0,C=new Uint8Array(I);y!==v;){for(var B=R[y],O=0,U=I-1;(B!==0||O<_)&&U!==-1;U--,O++)B+=256*C[U]>>>0,C[U]=B%c>>>0,B=B/c>>>0;if(B!==0)throw new Error("Non-zero carry");_=O,y++}for(var Q=I-_;Q!==I&&C[Q]===0;)Q++;for(var G=l.repeat(b);Q<I;++Q)G+=e.charAt(C[Q]);return G}o(w,"encode");function x(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;for(var b=0,_=0,y=0;R[b]===l;)_++,b++;for(var v=(R.length-b)*m+1>>>0,I=new Uint8Array(v);R[b];){var C=t[R.charCodeAt(b)];if(C===255)return;for(var B=0,O=v-1;(C!==0||B<y)&&O!==-1;O--,B++)C+=c*I[O]>>>0,I[O]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=B,b++}for(var U=v-y;U!==v&&I[U]===0;)U++;for(var Q=new Uint8Array(_+(v-U)),G=_;U!==v;)Q[G++]=I[U++];return Q}o(x,"decodeUnsafe");function g(R){var b=x(R);if(b)return b;throw new Error("Non-base"+c+" character")}return o(g,"decode"),{encode:w,decodeUnsafe:x,decode:g}}o(Zf,"base");xl.exports=Zf});var Fr=yc((D2,bl)=>{p();d();var Yf=wl(),Xf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";bl.exports=Yf(Xf)});p();d();p();d();p();d();p();d();var nd=ie(Wh(),1),io=ie(Ue(),1),rf=ie(Te(),1),ms=ie(Ue(),1),od=ie(Ue(),1),hs=ie(Ue(),1),fs=ie(Ue(),1);var tt={SOLANA_MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SOLANA_DEVNET:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SOLANA_TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3",ETHEREUM_MAINNET:"eip155:1",ETHEREUM_SEPOLIA:"eip155:11155111",MONAD_DEVNET:"eip155:20143"},w1={[tt.SOLANA_MAINNET]:"Solana Mainnet",[tt.SOLANA_DEVNET]:"Solana Devnet",[tt.SOLANA_TESTNET]:"Solana Testnet",[tt.ETHEREUM_MAINNET]:"Ethereum Mainnet",[tt.ETHEREUM_SEPOLIA]:"Ethereum Sepolia",[tt.MONAD_DEVNET]:"Monad Devnet"};var b1=Object.freeze({});var jh={name:"@dialectlabs/blinks-core",version:"0.18.1",license:"Apache-2.0",private:!1,sideEffects:!0,type:"module",repository:{type:"git",url:"https://github.com/dialectlabs/blinks"},scripts:{build:"tsup-node",dev:"tsup-node --watch"},main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",exports:{".":{import:"./dist/index.js",require:"./dist/index.cjs",types:"./dist/index.d.ts"}},files:["dist"],devDependencies:{"@solana/actions-spec":"~2.4.2","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-react":"^7.34.4","eslint-plugin-react-hooks":"^4.6.2",postcss:"^8.4.39","postcss-prefix-selector":"^1.16.1",prettier:"^3.3.3","prettier-plugin-organize-imports":"^4.0.0","prettier-plugin-tailwindcss":"^0.6.5",tailwindcss:"^3.4.3",tsup:"^8.2.0",typescript:"^5.5.3"},peerDependencies:{react:">=18","@solana/web3.js":"^1.95.3"},dependencies:{nanoid:"^5.0.7"},peerDependenciesMeta:{"@solana/web3.js":{optional:!0}}},Kh=jh,S1=Kh.devDependencies["@solana/actions-spec"].replace(/[^\d.]/g,"");var Gh=[tt.SOLANA_MAINNET,tt.SOLANA_DEVNET];var _1=[tt.SOLANA_MAINNET];var Zh="(?<domain>[^\\n]+?) wants you to sign a message with your account:\\n",Yh="(?<address>[^\\n]+)(?:\\n|$)",Xh="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))",Jh="(?:\\nChain ID: (?<chainId>[^\\n]+))?",Qh="\\nNonce: (?<nonce>[^\\n]+)",ef="\\nIssued At: (?<issuedAt>[^\\n]+)",tf=`${Jh}${Qh}${ef}`,A1=new RegExp(`^${Zh}${Yh}${Xh}${tf}\\n*$`);var R1=class us{static{o(this,"_ActionConfig")}constructor(t,r){if(this.adapter=r,!t)throw new Error("rpcUrl or connection is required");this.connection=typeof t=="string"?new nd.Connection(t,"confirmed"):t}static CONFIRM_TIMEOUT_MS=6e4*1.2;static DEFAULT_METADATA={supportedBlockchainIds:Gh};connection;get metadata(){return this.adapter.metadata??us.DEFAULT_METADATA}signTransaction(t,r){return this.adapter.signTransaction(t,r)}confirmTransaction(t){return new Promise((r,n)=>{let s=Date.now(),i=o(async()=>{if(Date.now()-s>=us.CONFIRM_TIMEOUT_MS){n(new Error("Unable to confirm transaction: timeout reached"));return}try{let c=await this.connection.getSignatureStatus(t);if(c.value?.err){n(new Error("Transaction execution failed, check wallet for details"));return}if(c.value&&c.value.confirmations!==null){r();return}}catch(c){console.error("[@dialectlabs/blinks] Error confirming transaction",c)}setTimeout(i,3e3)},"confirm");i()})}async signMessage(t,r){return this.adapter.signMessage(t,r)}async connect(t){try{return await this.adapter.connect(t)}catch{return null}}},v1=10*60*1e3;var df=ie(Ue(),1);p();d();var lf=ie(Ue(),1);var id=ie(Te(),1);var uf=ie(Ue(),1),mf=ie(Te(),1);var hf=ie(Te(),1),ff=ie(Te(),1),ad=ie(Te(),1),cd=ie(Te(),1),pd=ie(Te(),1),H1=ie(Ue(),1),gf=ie(Te(),1),F1=ie(Ue(),1),yf=ie(Te(),1),$1=ie(Ue(),1),dd=ie(Te(),1),xf=ie(Ue(),1),gs=ie(Te(),1);var ld=ie(Te(),1),ud=ie(Te(),1);var ys=ie(Ue(),1);var wf=ie(Ue(),1),bf=ie(Te(),1),md=ie(Te(),1),hd=ie(Te(),1),fn=ie(Ue(),1),fd=ie(Te(),1);var Sf=ie(Ue(),1),gd=ie(Te(),1),_f=ie(Te(),1),ao=ie(Ue(),1),Af=ie(Te(),1),Rf=ie(Te(),1),co=ie(Ue(),1),vf=ie(Te(),1),kf=ie(Te(),1);var po=ie(Ue(),1);var Tf=ie(Ue(),1),yd=ie(Te(),1),xd=ie(Te(),1),lo=ie(Ue(),1),wd=ie(Te(),1),xs=ie(Ue(),1),Ef=ie(Te(),1),ws=ie(Ue(),1),Cf=ie(Te(),1),uo=ie(Ue(),1),If=ie(Te(),1),bs=ie(Te(),1);var Bf=ie(Ue(),1);var bd=ie(Te(),1),Lf=ie(Te(),1);var Mf=ie(Ue(),1),Uf=ie(Te(),1);var Nf=ie(Ue(),1);var Sd=ie(Ue(),1);var Df=ie(Ue(),1),_d=ie(Te(),1),Of=ie(Te(),1);p();d();p();d();var Pf=ie(dr(),1);p();d();function Ss(e,t){if(!e)return{hideProvidersArray:!1,dontOverrideWindowEthereum:!1};let r=t.find(n=>n.hostname.toLowerCase().trim()===e.toLowerCase().trim());return r?{hideProvidersArray:r.hideProvidersArray,dontOverrideWindowEthereum:r.dontOverrideWindowEthereum}:{hideProvidersArray:!1,dontOverrideWindowEthereum:!1}}o(Ss,"getRemoteProviderConfigurationSettings");p();d();p();d();p();d();function Ad(e){return new Promise(t=>setTimeout(t,e))}o(Ad,"delayAsync");function qf(e,t){let r=typeof t.interval=="function"?t.interval:()=>t.interval;if(typeof e!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function s(){try{return await e()}catch(i){if(n++<t.times&&t.errorFilter(i))return await Ad(r(n-1)),s();throw i}}return o(s,"retryAttempt"),s()}o(qf,"retryInternal");async function Rd(e,t,r=3,n=2e3,s){return qf(e,{times:r,interval:s?()=>n:i=>n*Math.pow(2,i-1),errorFilter:t})}o(Rd,"withRetry");var Hf="https://sanity-proxy-v2.phantom.app",Ff="production",$f=lr.object({hostname:lr.string(),hideProvidersArray:lr.boolean(),dontOverrideWindowEthereum:lr.boolean()}),Wf=lr.object({dApps:lr.array($f).optional()}).optional(),zf=`
*[_type == 'dAppsList' && _id == 'dAppsList-singleton']{
 dApps
}[0]`,_s=o(()=>Rd(async()=>{let e=await Cc.get(`${Hf}/v1/data/query/${Ff}?query=${encodeURIComponent(zf)}`);if(e.status>=300)throw new Error(`status code: ${e.status}, body: ${e.data}`);let t=e.data;return Wf.parse(t.result)?.dApps??[]},()=>!0,3,50),"fetchDappsList");function As(e){try{let t=new URL(e).hostname;if(!t||t==="localhost")return null;let r="www.";return t.startsWith(r)?t.slice(r.length):t}catch{return null}}o(As,"getHostname");p();d();p();d();var Mt;(function(e){e.BlinksEnabled="blinksEnabled",e.BlinksLog="blinksLog",e.BlinksV2Config="BlinksV2Config"})(Mt||(Mt={}));p();d();var mo=class{static{o(this,"TTLCache")}storage;ttlMs;asyncFunction;cacheKey;cacheExpirationKey;constructor(t,r,n,s){this.storage=t,this.ttlMs=r,this.asyncFunction=n,this.cacheKey=`${s}-data`,this.cacheExpirationKey=`${s}-expiration`,this.updateCache()}async updateCache(){try{let t=await this.asyncFunction();await this.storage.set(this.cacheKey,t),await this.storage.set(this.cacheExpirationKey,Date.now()+this.ttlMs)}catch(t){throw new Error("error updating cache: "+t?.message,{cause:t})}}async get(){let t=await this.storage.get(this.cacheKey);try{return t||(await this.updateCache(),await this.storage.get(this.cacheKey))}finally{let r=await this.storage.get(this.cacheExpirationKey);(typeof r!="number"||r<Date.now())&&await this.updateCache()}}};var Nh=ie(Vh(),1),et=ie(Mr(),1);p();d();var ho=ie(dr(),1);async function vd(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(!Object.values(be).includes(r))return a.invalidInput(e.id,"Invalid or missing chain.");let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing private key.");let s=t[2];if(typeof n!="string")return a.invalidInput(e.id,"Missing account name.");if(!He())return a.result(e.id,null);let c=await fe.addPrivateKeyAccount(r,nt.from(Buffer.from(n,"base64")),s);return a.result(e.id,JSON.stringify(c))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(vd,"_importPrivateKeyAccount");async function kd(e){try{let t=e.params;if(Object.values(t).length===0)return a.invalidInput(e.id);let r=Object.keys(t);if(!Object.values(be).includes(...r))return a.invalidInput(e.id);if(Object.values(t).map(i=>typeof i!="string").reduce((i,c)=>i||c,!1))return a.invalidInput(e.id);let s=await fe.addReadonlyAccount(t);return a.result(e.id,JSON.stringify(s))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(kd,"_importReadOnlyAccount");async function Td(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return a.invalidInput(e.id);let s=t[2];if(typeof s!="string")return a.invalidInput(e.id,"Missing account name.");if(!He())return a.result(e.id,null);let l=(await to()).fromEntropy(ho.default.decode(r)),m=await fe.addSeedWithMultipleAccounts(nt.from(l.getEntropy()),s,n);return a.result(e.id,JSON.stringify(m))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Td,"_importSeedAccount");async function Ed(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return a.invalidInput(e.id);let s=t[2];if(typeof s!="string")return a.invalidInput(e.id,"Missing account name.");if(!He())return a.result(e.id,null);let l=(await to()).fromEntropy(ho.default.decode(r)),m=await fe.addSeedlessWithMultipleAccounts(nt.from(l.getEntropy()),s,n);return a.result(e.id,JSON.stringify(m))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Ed,"_importSocialSeedAccount");async function Cd(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);if(!He())return a.result(e.id,null);let s=(await to()).fromEntropy(ho.default.decode(t)),i=await fe.isExistingSeed(nt.from(s.getEntropy()));return a.result(e.id,i)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Cd,"_isExistingSeed");async function Id(e){try{let r=e.params[0];if(!r)return a.invalidInput(e.id,"Missing se*d identifier.");if(!He())return a.result(e.id,null);let s=await fe.fetchAllSeedMetas();if(!s||s.length===0)return a.invalidInput(e.id,"No available se*d.");if(!s.find(l=>l.identifier===r))return a.invalidInput(e.id,"Invalid se*d identifier.");let c=await fe.addAccountForExistingSeed(r);return a.result(e.id,JSON.stringify(c))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Id,"_addAccountForSeed");async function Bd(e){try{let r=e.params[0];if(!r)return a.invalidInput(e.id,"Missing se*d identifier.");if(!He())return a.result(e.id,null);let s=await fe.fetchAllSeedlessMetas();if(!s||s.length===0)return a.invalidInput(e.id,"No available se*d.");if(!s.find(l=>l.identifier===r))return a.invalidInput(e.id,"Invalid se*d identifier.");let c=await fe.addAccountForExistingSeedless(r);return a.result(e.id,JSON.stringify(c))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Bd,"_addSocialAccountForSocialSeed");async function Ld(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.some(c=>!Hc.safeParse(c).success))return a.invalidInput(e.id);if(!He())return a.result(e.id,null);let i=await fe.addLedgerAccounts(r,n);return a.result(e.id,JSON.stringify(i))}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Ld,"_addLedgerAccounts");async function Md(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing account identifier.");let s=t[2];if(!Object.values(be).includes(s))return a.invalidInput(e.id,"Invalid or missing chain.");if(!await yr(nt.from(Buffer.from(r))))return a.invalidInput(e.id,"Invalid passw*rd.");let c=await fe.exportPrivateKey(n,s);if(!c)return a.result(e.id,null);let l=c.fold(m=>Buffer.from(m.buffer).toString("hex"));return a.result(e.id,l)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Md,"_exportPrivateKey");async function Ud(e){try{let t=e.params,r=t[0];if(typeof r!="string")return a.invalidInput(e.id);if(!await yr(nt.from(Buffer.from(r))))return a.invalidInput(e.id,"Invalid passw*rd.");let s=t[1];if(!s)return a.invalidInput(e.id,"Missing se*d identifier.");let i=await fe.fetchAllSeedMetas(),c=await fe.fetchAllSeedlessMetas(),l=i.concat(...c);if(!l||l.length===0)return a.result(e.id,null);let m=l.find(x=>x.identifier===s);if(!m)return a.result(e.id,null);let f=await fe.exportEntropy(m.identifier);if(!f)return a.result(e.id,null);let w=f.fold(x=>Buffer.from(x.buffer).toString("hex"));return a.result(e.id,w)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Ud,"_exportEntropy");async function Nd(e){try{let t=e.params;return Array.isArray(t)?typeof t[0]!="string"?a.invalidInput(e.id):typeof t[1]!="string"?a.invalidInput(e.id):He()?a.result(e.id,!0):a.result(e.id,null):a.invalidInput(e.id)}catch(t){return a.internalError(e.id,t.message)}}o(Nd,"_setAccountIcon");async function Dd(e){try{if(!He())return a.result(e.id,null);let r=await fe.deriveAddresses();return a.result(e.id,r)}catch(t){return de.captureError(Error(`Failed to derive addresses for enabled chains in account.ts due to ${t.message}`),me.Account),a.internalError(e.id,t.message)}}o(Dd,"_deriveAddresses");async function Od(e){try{let t=e.params;return typeof t!="string"?a.invalidInput(e.id):He()?(await fe.removeAccount(t),a.result(e.id,!0)):a.result(e.id,null)}catch(t){return de.captureError(Error(`Failed to remove account in account.ts due to ${t.message}`),me.Account),a.internalError(e.id,t.message)}}o(Od,"_removeAccount");async function Pd(e){try{let{identifier:t,toIndex:r}=e.params;return typeof t!="string"||typeof r!="number"?a.invalidInput(e.id):He()?(await fe.reorderAccount(t,r),a.result(e.id,!0)):a.result(e.id,null)}catch(t){return de.captureMessage("Failed to reorder account in account.ts",me.Account),a.internalError(e.id,t.message)}}o(Pd,"_reorderAccount");async function qd(e){try{if(!He())return a.result(e.id,null);let r=await fe.fetchAllAccounts();if(!r)return a.result(e.id,null);let n=Yc({accounts:r}).accounts;return a.result(e.id,JSON.stringify(n))}catch(t){return a.internalError(e.id,t.message)}}o(qd,"_getAllAccounts");async function Hd(e){try{if(!He())return a.result(e.id,null);let r=await fe.fetchAllSeedMetas();return r?(Ce.capture("walletSeeds",{data:{numOfSeeds:r.length}}),a.result(e.id,JSON.stringify(r))):a.result(e.id,null)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Hd,"_getAllSeeds");async function Fd(e){try{if(!He())return a.result(e.id,null);let r=await fe.fetchAllSeedlessMetas();return r?a.result(e.id,JSON.stringify(r)):a.result(e.id,null)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(Fd,"_getAllSocialSeeds");async function $d(e){try{let t=e.params;if(typeof t.accountIdentifier!="string")return a.invalidInput(e.id,"Account Identifier needs to be of type string.");if(!ep(t.params))return a.invalidInput(e.id,"Invalid vault signer params.");if(!He())return a.result(e.id,null);let n=await fe.sign(t.accountIdentifier,t.params);return a.result(e.id,mr(n))}catch(t){return de.captureError(t,me.Transaction),a.internalError(e.id,t.message)}}o($d,"_sign");async function Wd(e){try{let t=e.params;if("secretIdentifier"in t&&typeof t.secretIdentifier!="string")return a.invalidInput(e.id,"Secret Identifier needs to be present and of type string.");if(!He())return a.result(e.id,null);let n=await fe.getAuthenticationPublicKey(t.secretIdentifier);return a.result(e.id,mr(n))}catch(t){return de.captureError(t,me.Transaction),a.internalError(e.id,t.message)}}o(Wd,"_getAuthenticationPublicKey");async function zd(e){try{if(!He())return a.result(e.id,null);let r=await fe.checkVaultIntegrity();return a.result(e.id,r)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(zd,"_checkVaultIntegrity");p();d();var Vd=1e4,vs=class{static{o(this,"MutexQueue")}queue=[];isLocked=!1;currentTag=null;timeoutId=null;currentReject=null;constructor(){Dn()&&(globalThis.__PHANTOM_TEST_MUTEX__={cancelAllRequests:o(()=>this.cancelAllRequests(),"cancelAllRequests")})}_processNextRequest(){if(this.queue.length===0){this.isLocked=!1;return}let t=this.queue.shift();t&&(this.isLocked=!0,this.currentTag=t.tag,this.currentReject=t.reject,t.resolve())}async acquire(t){return this.isLocked?new Promise((r,n)=>{this.queue.push({tag:t,resolve:r,reject:n})}):(this.isLocked=!0,this.currentTag=t,this.timeoutId=setTimeout(()=>{this.currentTag===t&&this.currentReject&&(this.currentReject(new Error(`Mutex request timed out after ${Vd}ms for tag: ${t}`)),this.currentTag=null,this.isLocked=!1,this.currentReject=null,this._processNextRequest())},Vd),new Promise((r,n)=>{this.currentReject=n,r()}))}release(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag=null,this.currentReject=null,this._processNextRequest()}cancelTaggedRequests(t){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag===t&&(this.currentTag=null,this.isLocked=!1);let r=this.queue.filter(n=>n.tag===t);if(this.queue=this.queue.filter(n=>n.tag!==t),r.forEach(n=>{n.reject(new Error(`Mutex request cancelled for tag: ${t}`))}),!this.isLocked&&this.queue.length>0){let n=this.queue.shift();n&&(this.isLocked=!0,this.currentTag=n.tag,n.resolve())}}async runExclusive(t,r){await this.acquire(t);try{return await r()}finally{this.release()}}cancelAllRequests(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentReject&&this.currentReject(new Error("Mutex request cancelled")),this.queue.forEach(t=>{t.reject(new Error("Mutex request cancelled"))}),this.currentTag=null,this.currentReject=null,this.isLocked=!1,this.queue=[]}},fo=new vs;async function jd(e,t){return await fo.acquire(t),a.result(e.id,!0)}o(jd,"_serviceWorkerMutexAcquire");async function Kd(e){return fo.release(),a.result(e.id,!0)}o(Kd,"_serviceWorkerMutexRelease");async function Gd(e){return fo.runExclusive("default",e)}o(Gd,"runExclusiveAsServiceWorker");function ks(e){fo.cancelTaggedRequests(e)}o(ks,"_cancelTaggedMutexRequests");p();d();p();d();var Vf=new Error("There is no currently selected account"),jf=new ve,ge=o(async()=>{let e=await np(fe,jf,$n());if(!e)throw Vf;return e},"getSelectedAccount");async function Ut(){if(!He())throw new Error("Wallet is locked - password not available");try{return fe.getKMSInstance()}catch(t){throw t instanceof Error&&t.message.includes("Failed to get the encryption password")?new Error("KMS not ready - JWT keypair cannot be derived. Please try again."):t}}o(Ut,"getKMSInstance");async function Zd(e){try{let r=await(await Ut()).getPhantomOrganization({});return a.result(e.id,r)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get Phantom organization"})}}o(Zd,"_getPhantomOrganization");async function Yd(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n]=t;if(!r||!n)throw new Error("organizationId and username are required");let i=await(await Ut()).deleteUserFromOrganization({organizationId:r,username:n});return a.result(e.id,i)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to delete user from organization"})}}o(Yd,"_deleteUserFromOrganization");async function Xd(e){try{let r=await(await Ut()).getOrCreatePhantomOrganization();return a.result(e.id,r)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get or create Phantom organization"})}}o(Xd,"_getOrCreatePhantomOrganization");async function Jd(e){try{let t=await Ut(),r=new ve,n=await fp(t,fe,r);return Hn("enable-kms-vault-account-ext")?await Zc(n,fe,no):de.addBreadcrumb(me.Account,"KMS vault account storage skipped: feature flag disabled",Ne.Info),a.result(e.id,{...n,isNewAccount:n.isNewlyCreated})}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to retrieve KMS wallet"})}}o(Jd,"_retrieveKMSWallet");async function Qd(e){try{let t=await Ut(),r=new ve,n=await hp(t,fe,r);return a.result(e.id,n)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get KMS wallet status"})}}o(Qd,"_getKMSWalletStatus");async function el(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s,i,c,l]=t;if(!r||!n||!i||!c)throw new Error("userOrganizationId, publicKey, appId, and walletId are required");let m=await Ut(),f=await mp({kms:m,userOrganizationId:r,publicKey:n,expiresInMs:s,appId:i,walletId:c,usdCentsLimitPerDay:l});return a.result(e.id,f)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to add user to current user organization"})}}o(el,"_addUserToCurrentUserOrganization");async function tl(e){try{if(!He())throw new Error("Wallet is locked - password not available");let r=await ge(),n=await(async()=>fe.getKMSInstance())(),s=null,i=null,c;try{let b=await n.getPhantomOrganization({});s=b.result.organizationId,i=b.result.organizationName,c=Object.fromEntries((b.result.users??[]).map(_=>[_.username,_.authenticators]))}catch{return a.result(e.id,{orgFound:!1})}let m=(await n.getOrganizationWallets({organizationId:s,limit:50,offset:0})).result.wallets,f=new ve,x=await Kc(f,0),g={};for(let b of m)try{let _=await n.getAccounts({organizationId:s,walletId:b.walletId,accounts:x});g[b.walletId]=_.result}catch{de.addBreadcrumb(me.Account,`Failed to fetch KMS accounts for wallet ${b.walletId}`,Ne.Debug),g[b.walletId]=[]}let R=await n.getAuthenticatorPublicKey();return a.result(e.id,{orgFound:!0,organizationId:s,organizationName:i??void 0,wallets:m,accountsByWalletId:g,selectedAccountIdentifier:r.identifier,selectedAccountAddresses:r.addresses?.map(b=>b.address),authenticatorsByUser:c,kmsAuthenticatorPublicKey:R})}catch(t){let r=t instanceof Error?t.message:"Failed to get KMS accounts";return a.error(e.id,{code:-1,message:r})}}o(tl,"_getKmsAccounts");async function rl(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n]=t,i=await(await Ut()).getWalletWithTag({organizationId:r,tag:n});return a.result(e.id,i)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get wallet with tag"})}}o(rl,"_getWalletWithTag");async function nl(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s,i,c]=t,m=await(await Ut()).updateUserInOrganization({organizationId:r,username:n,removeTraits:s,addTraits:i,newPolicy:c});return a.result(e.id,m)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to update user in organization"})}}o(nl,"_updateUserInOrganization");async function ol(e){try{let t=e.params;if(!t)throw new Error("Missing params");let[r,n,s]=t,c=await(await Ut()).getAccounts({organizationId:r,walletId:n,accounts:s});return a.result(e.id,c)}catch(t){return a.error(e.id,{code:-1,message:t instanceof Error?t.message:"Failed to get accounts"})}}o(ol,"_getAccounts");p();d();p();d();async function sl(){if(!Hn("enable-kms-vault-account-ext")){de.addBreadcrumb(me.Account,"KMS vault sync skipped: feature flag disabled",Ne.Info);return}await Gc(fe,no,ht)}o(sl,"syncKMSVaultAccount");async function il(e){try{let t=await gr.hasPersistedDeviceEncryptionKey();return a.result(e.id,t)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(il,"_hasOnboarded");async function al(e){try{return await gr.deletePersistedDeviceEncryptionKey(),a.result(e.id,!0)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(al,"_resetHasOnboarded");var Ts=!1;function cl(e){Ts=e}o(cl,"setShouldLockOnPopupOpen");function Es(){return Ts}o(Es,"shouldLockOnPopupOpen");async function pl(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);let r=nt.from(Buffer.from(t));return await yr(r)?(Ts=!1,await Zp(),await Gp(),sl().catch(s=>{de.captureError(s,me.Account)}),a.result(e.id,{isUnlocked:!0,migrationResult:"no-migration"})):a.result(e.id,{isUnlocked:!1,migrationResult:"no-migration"})}catch(t){return a.internalError(e.id,t.message)}}o(pl,"_unlockExtension");function dl(e){try{let t=!!He();return a.result(e.id,t)}catch(t){return de.captureError(t,me.Account),a.internalError(e.id,t.message)}}o(dl,"_isExtensionUnlocked");function ll(e){try{return un(),a.result(e.id,!0)}catch(t){return de.captureError(Error(`Failed to lock extension due to ${t.message}`),me.Account),a.internalError(e.id,t.message)}}o(ll,"_lockExtension");async function ul(e){try{let t=e.params;return typeof t!="string"?a.invalidInput(e.id):(await fe.clearVault(),await gr.deletePersistedDeviceEncryptionKey(),ds(nt.from(Buffer.from(t))),await gr.persistDeviceEncryptionKey(),a.result(e.id,!0))}catch(t){return de.captureMessage(`\u{1F6AB} Failed to Set Passw*rd in BackgroundScript: ${t.message}`,me.Account),a.internalError(e.id,t.message)}}o(ul,"_setPassword");async function ml(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);let r=await yr(nt.from(Buffer.from(t)));return a.result(e.id,r)}catch(t){return de.captureMessage(`\u{1F6AB} Failed to Verify Passw*rd in BackgroundScript: ${t.message}`,me.Account),a.internalError(e.id,t.message)}}o(ml,"_verifyPassword");async function hl(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id,"Missing current password.");let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing new password.");if(!await yr(nt.from(Buffer.from(r))))return a.result(e.id,null);if(!He())return a.result(e.id,null);let c=nt.from(Buffer.from(n)),l=await Kp.rotateEncryptionKey(c);return l&&(de.addBreadcrumb(me.Account,"new passw*rd set in memory!",Ne.Info),ds(c)),de.addBreadcrumb(me.Account,`storage key rotation success: ${l}`,Ne.Info),a.result(e.id,l)}catch(t){return de.captureMessage(`\u{1F6AB} Failed to Update Passw*rd in BackgroundScript: ${t.message}`,me.Account),a.internalError(e.id,t.message)}}o(hl,"_updatePassword");p();d();async function fl(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];return n.featureTag?(an.write(r,n.featureTag,n.severity,n.data),a.result(e.id,!0)):a.invalidInput(e.id)}catch(t){return de.captureError(t,me.BugReporter),a.internalError(e.id,t.message)}}o(fl,"_logMessage");function gl(e){try{return an.downloadLog({noop:!0}),a.result(e.id,!0)}catch(t){return de.captureError(t,me.BugReporter),a.internalError(e.id,t.message)}}o(gl,"_downloadLogs");p();d();p();d();p();d();p();d();var yl=o(e=>{try{return new URL(e)}catch{return}},"parseURL");function $(e){let t=he(e);if(t)return t.protocol!=="http:"&&t.protocol!=="https:"?`${t.protocol}//${t.hostname}`:t.origin}o($,"getSourceOrigin");var Kf="8bfda36a-d292-4aa3-b30f-53ef91ab6380",Gf="b4285baa-c852-490f-9af2-8459680b1264";function he(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.url;if(e.type==="DeepLinkRpcRequestSource"){if(e.sdkKey===Kf)return new URL("https://app.drift.trade");if(e.sdkKey===Gf)return new URL("https://app.lulo.fi");let t=yl(e.deepLinkUrl)?.searchParams?.get("redirect_uri");if(t){let r=yl(t);if(r)return r.protocol!=="http:"&&r.protocol!=="https:"?new URL(`${r.protocol}//${r.hostname}`):r}return}}o(he,"getSourceURL");function Se(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.icon?.href||null;if(e.type==="DeepLinkRpcRequestSource"){let t=he(e);return t?oo(t.hostname):null}return null}o(Se,"getSourceIcon");p();d();function Yt(e){return/\blocalhost\b|(\d{1,3}\.){3}\d{1,3}/.test(e)}o(Yt,"shouldSkipAnalytics");p();d();var rt=o(e=>[ye.OK,ye.RateLimitExceeded,ye.SessionExpired,ye.SimulationFailed,ye.Unknown,ye.UnsupportedNetworkId,ye.UnsupportedMethod].includes(e),"isAutoConfirmStatusCodeLoggable");var St={};De(St,{btc:()=>ua,eth:()=>aa,eth_blink:()=>fa,phantom_auto_confirm:()=>ba,phantom_deep_link:()=>ma,phantom_embedded:()=>wa,sol:()=>la,sol_blink:()=>ha,sol_mwa:()=>ga,sol_pay:()=>ya,sui:()=>xa});p();d();var aa={};De(aa,{initialize:()=>sg});p();d();p();d();p();d();var Cs=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.result(e.id,[]);let n=$(t);if(!n)return a.internalError(e.id,"missing source");if(!await r.isTrustedApp(n))return a.result(e.id,[]);let i=await r.eth.getAccounts();return a.result(e.id,i)},"handler");p();d();var Is=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_blockNumber(c,e.params);return a.any(e.id,l)},"handler");p();d();var Bs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_call(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ls=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_cancelPrivateTransaction(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ms=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=$(t);if(!n)return a.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return a.result(e.id,s)},"handler");p();d();var Us=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_estimateGas(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ns=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_feeHistory(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ds=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_gasPrice(c,e.params);return a.any(e.id,l)},"handler");p();d();var Os=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBalance(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ps=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockByHash(c,e.params);return a.any(e.id,l)},"handler");p();d();var qs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockByNumber(c,e.params);return a.any(e.id,l)},"handler");p();d();var Hs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockReceipts(c,e.params);return a.any(e.id,l)},"handler");p();d();var Fs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockTransactionCountByHash(c,e.params);return a.any(e.id,l)},"handler");p();d();var $s=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getBlockTransactionCountByNumber(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ws=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getCode(c,e.params);return a.any(e.id,l)},"handler");p();d();var zs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getFilterChanges(c,e.params);return a.any(e.id,l)},"handler");p();d();var Vs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getFilterLogs(c,e.params);return a.any(e.id,l)},"handler");p();d();var js=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getLogs(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ks=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getProof(c,e.params);return a.any(e.id,l)},"handler");p();d();var Gs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getStorageAt(c,e.params);return a.any(e.id,l)},"handler");p();d();var Zs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionByBlockHashAndIndex(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ys=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionByBlockNumberAndIndex(c,e.params);return a.any(e.id,l)},"handler");p();d();var Xs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionByHash(c,e.params);return a.any(e.id,l)},"handler");p();d();var Js=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionCount(c,e.params);return a.any(e.id,l)},"handler");p();d();var Qs=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getTransactionReceipt(c,e.params);return a.any(e.id,l)},"handler");p();d();var ei=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleByBlockHashAndIndex(c,e.params);return a.any(e.id,l)},"handler");p();d();var ti=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleByBlockNumberAndIndex(c,e.params);return a.any(e.id,l)},"handler");p();d();var ri=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleCountByBlockHash(c,e.params);return a.any(e.id,l)},"handler");p();d();var ni=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_getUncleCountByBlockNumber(c,e.params);return a.any(e.id,l)},"handler");p();d();var oi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_maxPriorityFeePerGas(c,e.params);return a.any(e.id,l)},"handler");p();d();var si=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_newBlockFilter(c,e.params);return a.any(e.id,l)},"handler");p();d();var ii=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_newFilter(c,e.params);return a.any(e.id,l)},"handler");p();d();var ai=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_newPendingTransactionFilter(c,e.params);return a.any(e.id,l)},"handler");p();d();var ci=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_protocolVersion(c,e.params);return a.any(e.id,l)},"handler");p();d();var pi=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=$(t),s=Se(t),i=he(t);if(!n||!i)return a.unauthorized(e.id);let c={url:i,icon:s?new URL(s):void 0};await r.addTrustedApp(n,c);let l=await r.eth.getSelectedAccount();return a.result(e.id,[l])},"handler");p();d();var di=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_sendRawTransaction(c,e.params);return a.any(e.id,l)},"handler");p();d();var li=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_sendPrivateTransaction(c,e.params);return a.any(e.id,l)},"handler");p();d();var ui=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(s))return a.unauthorized(e.id);let[c]=e.params,l=await r.eth.getSelectedAccount();if(c.from.toLowerCase()!==l.toLowerCase())return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(c.type!==Ir.eip1559)return a.transactionRejected(e.id);if(!c.chainId)return a.transactionRejected(e.id);if(!c.nonce)return a.transactionRejected(e.id);let m=await r.eth.signAndSendTransaction(c);return a.any(e.id,{result:m})},"handler");p();d();var mi=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signMessage(s);return a.result(e.id,c)},"handler");p();d();var hi=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(s.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signTypedData({version:1,data:n});return a.result(e.id,c)},"handler");p();d();var fi=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signTypedData({version:3,data:s});return a.result(e.id,c)},"handler");p();d();var gi=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signTypedData({version:4,data:s});return a.result(e.id,c)},"handler");p();d();var yi=o(async({request:e},t)=>a.unsupportedMethod(e.id),"handler");p();d();var xi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id);let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_syncing(c,e.params);return a.any(e.id,l)},"handler");p();d();var wi=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.eth_uninstallFilter(c,e.params);return a.any(e.id,l)},"handler");p();d();var bi=o(async({request:e},t)=>a.unsupportedMethod(e.id),"handler");p();d();var Si=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.net_listening(c,e.params);return a.any(e.id,l)},"handler");p();d();var _i=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=$(t);if(!n)return a.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return a.result(e.id,parseInt(s,16).toString())},"handler");p();d();var Ai=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(s.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signMessage(n);return a.result(e.id,c)},"handler");p();d();var Ri=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{let[i]=e.params;if(!await r.eth.addChain(i))return a.userRejectedRequest(e.id,n.t("Could not add the requested chain. It is not yet supported."));if(!t)return a.internalError(e.id,"missing source");let l=$(t);return l?await r.eth.switchChain(i.chainId,l)?a.result(e.id,null):(s.eth.unsupportedChain({origin:l,data:{method:e.method,hexChainId:i.chainId,chainName:i.chainName}}),a.internalError(e.id,n.t("Could not switch to the requested chain."))):a.internalError(e.id,"missing source")},"handler");p();d();var vi=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=$(t),s=he(t),i=Se(t);if(!n||!s)return a.unauthorized(e.id);if(await r.isTrustedApp(n))return a.result(e.id,wc.enum.CONTINUE_WITH_PHANTOM);let l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_selectEthWallet",id:0,params:[{url:s.toString(),icon:i}]});if("error"in l)return a.error(e.id,l.error);switch(l.result){case ur.user_selectEthWallet.result.enum.CONTINUE_WITH_METAMASK:return a.result(e.id,l.result);case ur.user_selectEthWallet.result.enum.CONTINUE_WITH_PHANTOM:return a.result(e.id,l.result);case ur.user_selectEthWallet.result.enum.ALWAYS_USE_PHANTOM:return await r.setMetaMaskOverrideSetting("USE_PHANTOM"),a.result(e.id,l.result);case ur.user_selectEthWallet.result.enum.ALWAYS_USE_METAMASK:return await r.setMetaMaskOverrideSetting("USE_METAMASK"),a.result(e.id,l.result)}},"handler");p();d();var ki=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=$(t);if(!i)return a.internalError(e.id,"missing source");let[{chainId:c}]=e.params;return await r.eth.switchChain(c,i)?a.result(e.id,null):(s.eth.unsupportedChain({origin:i,data:{method:e.method,hexChainId:c}}),a.chainDisconnected(e.id,n.t("Could not switch to the requested chain. It is not yet supported.")))},"handler");p();d();var Ti=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.web3_clientVersion(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ei=o(async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=$(t);if(!s)return a.internalError(e.id,"missing source");let i=await r.eth.getNetworkId(s),c=await r.eth.getRpcURL(i),l=await n.eth.web3_sha3(c,e.params);return a.any(e.id,l)},"handler");p();d();var Ci=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=$(t),s=he(t),i=Se(t);if(!n||!s)return a.unauthorized(e.id);let c=e.params[0];if(!Object.keys(c).includes("eth_accounts"))return a.result(e.id,[]);let m={url:s,icon:i?new URL(i):void 0};return await r.addTrustedApp(n,m),a.result(e.id,[{parentCapability:"eth_accounts",date:Date.now()}])},"handler");p();d();var Ii=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.result(e.id,[]);let n=$(t);return n?await r.isTrustedApp(n)?a.result(e.id,[{invoker:n,parentCapability:"eth_accounts",caveats:[]}]):a.result(e.id,[]):a.result(e.id,[])},"handler");p();d();p();d();var Jf=new Set(Tc),ce=o(async({source:e,request:t})=>{if(!e)return a.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource"&&e.type!=="InternalRpcRequestSource"&&e.type!=="DeepLinkRpcRequestSource")return a.unauthorized(t.id);let r=he(e);if(!r)return a.unauthorized(t.id);if(e.type!=="DeepLinkRpcRequestSource"&&r.protocol!=="https:")return Jf.has(r.hostname)?void 0:a.unauthorized(t.id)},"requireSecureSource");p();d();var se=o(e=>async({source:t,request:r},{i18n:n})=>{if(!t)return a.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!==e)return a.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"))},"requireValidSourceType");p();d();var Xt=o(async(e,{wallet:t})=>{let{request:r}=e,n="transactions"in r.params?r.params.transactions:[r.params.transaction],s=await Promise.all(n.map(i=>t.sol.addPriorityFee(i)));"transactions"in r.params?r.params.transactions=s:r.params.transaction=s[0]},"addPriorityFeeToSolanaTransaction");p();d();var gn=o(async({request:e,source:t},{analytics:r})=>t?t.type!=="BrowserTabRpcRequestSource"?a.internalError(e.id,"missing source"):async n=>{let{method:s}=e,i=t.url.hostname;if(Yt(i))return;let c={method:s,chainType:"bip122",chainId:"000000000019d6689c085ae165831e93",origin:i};if(s==="btc_requestAccounts"){let l={...c};"error"in n?r.declineConnection({...l,errorCode:n.error.code}):r.approveConnection({...l,eager:!1})}if(s==="btc_signPSBT"){let l={...c};"error"in n?r.declineTransaction({...l,errorCode:n.error.code}):r.approveTransaction(l)}if(s==="btc_signMessage"){let l={...c};"error"in n?r.declineSignMessage({...l,errorCode:n.error.code}):r.approveSignMessage(l)}}:a.internalError(e.id,"missing source"),"btcAnalytics");p();d();var Ge=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=he(t);return i?async c=>{if("error"in c)return;let l=i.toString();switch(e.method){case"eth_blink_sendTransaction":{let m=c.result,f=s.getOrigin(e.params[1].context.blinkUrl);return f?r.eth.submittedTransaction({origin:f,request:{...e,method:"eth_sendTransaction",params:[e.params[0]]},signatures:[m]}):void 0}case"eth_sendTransaction":{let m=c.result,f=await n.eth.getSelectedAccount();return r.eth.submittedTransaction({origin:l,request:e,signatures:[m],walletAddress:f})}case"eth_blink_sign":{let m=s.getOrigin(e.params[2].context.blinkUrl);return m?r.eth.signedMessage({origin:m,request:{...e,method:"eth_sign",params:[e.params[0],e.params[1]]},chainId:await n.eth.getNetworkId(m)}):void 0}case"eth_sign":case"personal_sign":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":{let m=await n.eth.getSelectedAccount();return r.eth.signedMessage({origin:l,request:e,chainId:await n.eth.getNetworkId(l),walletAddress:m})}case"sol_signAllTransactions":{let m=c.result.map(({signature:w})=>w),f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:m,walletAddress:f})}case"sol_signAndSendTransaction":{let m=c.result.signature,f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:[m],walletAddress:f})}case"sol_blink_signAndSendAllTransactions":{let m=c.result.signatures.filter(Boolean),f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:{...e,method:"sol_signAllTransactions",params:{transactions:e.params.transactions}},chainId:await n.sol.getNetworkId(),signatures:m,walletAddress:f})}case"sol_signAndSendAllTransactions":{let m=c.result.signatures.filter(Boolean),f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:m,walletAddress:f})}case"sol_signTransaction":{let m=c.result.signature,f=await n.sol.getSelectedAccount();return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:[m],walletAddress:f})}case"sol_signIn":case"sol_signMessage":{let m=await n.sol.getSelectedAccount();return r.sol.signedMessage({origin:l,request:e,chainId:await n.sol.getNetworkId(),walletAddress:m})}case"sol_blink_signMessage":{let m=s.getOrigin(e.params.context.blinkUrl);if(!m)return;let f=await n.sol.getSelectedAccount();return r.sol.signedMessage({origin:m,request:{...e,method:"sol_signMessage",params:{message:e.params.message,display:e.params.display}},chainId:await n.sol.getNetworkId(),walletAddress:f})}}}:a.internalError(e.id,"missing source")},"captureSignatureEventAnalytics");p();d();var yn=o(async(e,{wallet:t,rpc:r,utils:n})=>{let{request:s,source:i}=e;if(!i)return a.internalError(s.id,"missing source");let c=$(i);if(!c)return a.unauthorized(s.id);let l=await t.eth.getSelectedAccount(),[m]=s.params,f=m.chainId?m.chainId:await t.eth.getNetworkId(c),w=await t.eth.getRpcURL(f);if(m.type=Ir.eip1559,m.chainId||(m.chainId=f),m.nonce||(m.nonce=await t.eth.getAccountNonce(f,l)),!m.gas){let x=await r.eth.eth_estimateGas(w,[m]);if("error"in x)return a.error(s.id,x.error);m.gas=n.eth.getBufferedGasLimit(x.result)}delete m.gasPrice},"convertToEIP1559");p();d();var V=o(async(e,{config:t,logger:r})=>{if(t.env==="production")return;let n=Date.now();return s=>{if(e.source?.type!=="BrowserTabRpcRequestSource"&&e.source?.type!=="InternalRpcRequestSource"&&e.source?.type!=="DeepLinkRpcRequestSource"||!("error"in s&&t.logRequestsOnError||(typeof t.logRequestMethods=="boolean"?t.logRequestMethods:t.logRequestMethods.has(e.request.method))))return;let l=Date.now(),m=he(e.source),f=Se(e.source);r.debug(`
*-------------------------------------------------------------------------------
| method   | ${e.request.method}
| id       | ${e.request.id}
| params   | ${JSON.stringify(e.request.params).substring(0,67)}
*----------+--------------------------------------------------------------------
| result   | ${JSON.stringify(s.result)}
| error    | ${JSON.stringify(s.error)}
*----------+--------------------------------------------------------------------
| url      | ${JSON.stringify(m)}
| icon     | ${JSON.stringify(f)}
*----------+--------------------------------------------------------------------
| duration | ${l-n}ms
*-------------------------------------------------------------------------------
`)}},"debugLog");p();d();var xe=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=he(t),c=$(t);return!i||!c?a.internalError(e.id):async l=>{let{method:m}=e;if(Yt(i.hostname))return;let f=await n.eth.getNetworkId(c),w=s.eth.hexToCAIP2(f),g={method:m,chainType:"eip155",chainId:w,origin:i.hostname};if(m==="eth_requestAccounts"){let R={...g};"error"in l?r.declineConnection({...R,errorCode:l.error.code}):r.approveConnection({...R,eager:!1})}if(m==="eth_sendTransaction"){let[R]=e.params,b={...g,gas:R.gas,maxFeePerGas:R.maxFeePerGas,maxPriorityFeePerGas:R.maxPriorityFeePerGas};"error"in l?r.declineTransaction({...b,errorCode:l.error.code}):r.approveTransaction(b)}if(m==="eth_sign"||m==="personal_sign"||m==="eth_signTypedData"||m==="eth_signTypedData_v3"||m==="eth_signTypedData_v4"){let R={...g};"error"in l?r.declineSignMessage({...R,errorCode:l.error.code}):r.approveSignMessage(R)}if(m==="wallet_selectEthereumProvider"&&!("error"in l)){let R=l.result,b={...g,selection:R};r.metamaskOverrideSelection(b)}}},"ethAnalytics");p();d();var We=o(e=>async({source:t,request:r},{wallet:n,logger:s})=>{if(!t)return a.unauthorized(r.id);if(t.type==="InternalRpcRequestSource")return;if(t.type!==e)return a.unauthorized(r.id);let i=$(t);if(!i)return a.unauthorized(r.id);if(!await n.isTrustedApp(i))return s.debug("> Dapp not trusted",i),a.unauthorized(r.id)},"requireAuthorizedSource");p();d();var Jt=o(async({source:e,request:t},{wallet:r,analytics:n})=>{if(!e)return a.unauthorized(t.id);let s=he(e),i=$(e),c=Se(e);if(!s||!i)return a.unauthorized(t.id);let l;switch(t.method){case"eth_sendTransaction":{let[R]=t.params;if(!R.chainId)return a.transactionRejected(t.id);l=R.chainId;break}case"eth_signTypedData":{let[R]=t.params,b="";for(let _ of R)if(_.name==="chainId"){b=_.value;break}if(!b)return;l="0x"+parseInt(b,10).toString(16);break}case"eth_signTypedData_v3":{let[R,b]=t.params;if(!b.domain.chainId)return;l="0x"+b.domain.chainId.toString(16);break}case"eth_signTypedData_v4":{let[R,b]=t.params;if(typeof b.domain.chainId=="number")l="0x"+b.domain.chainId.toString(16);else return;break}case"wallet_switchEthereumChain":case"wallet_addEthereumChain":{let[R]=t.params;l=R.chainId;break}}let m={url:s.toString(),icon:c};if(!new Set(r.eth.getSupportedNetworks()).has(l))return n.eth.unsupportedChain({origin:i,data:{method:t.method,hexChainId:l}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[m,l]}),a.chainDisconnected(t.id);let w=new Set(await r.eth.getEnabledChains(!0)),x=new Set(await r.eth.getEnabledChains());if(!w.has(l))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[m,l]}),a.chainDisconnected(t.id);if(!x.has(l))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[m,x.has("0x1")?"mainnet":"testnet"]}),a.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let R=await r.eth.getNetworkId(i);if(R!==l)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[m,{connectedChainId:R,messageChainId:l}]}),a.chainDisconnected(t.id)}},"requireConnectedChain");p();d();var Bi=o(async({source:e,request:t},{wallet:r,analytics:n,utils:s})=>{if(!e)return a.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource")return a.unauthorized(t.id);let i="";if(t.method==="eth_blink_sendTransaction"){let[_]=t.params;if(!_.chainId)return a.transactionRejected(t.id);i=_.chainId}let[c,{context:l}]=t.params,m=s.getOrigin(l.blinkUrl);if(!l.blinkUrl||!m)return a.userRejectedRequest(t.id);let f=s.getHostname(l.blinkUrl),w={url:l.blinkUrl,icon:f?s.getFaviconURL(f):null};if(!new Set(r.eth.getSupportedNetworks()).has(i))return n.eth.unsupportedChain({origin:e.url.origin,data:{method:t.method,hexChainId:i}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[w,i]}),a.chainDisconnected(t.id);let g=new Set(await r.eth.getEnabledChains(!0)),R=new Set(await r.eth.getEnabledChains());if(!g.has(i))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[w,i]}),a.chainDisconnected(t.id);if(!R.has(i))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[w,R.has("0x1")?"mainnet":"testnet"]}),a.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let _=await r.eth.getNetworkId(e.url.origin);if(_!==i)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[w,{connectedChainId:_,messageChainId:i}]}),a.chainDisconnected(t.id)}},"requireBlinksConnectedChain");p();d();var Li=o(async(e,{wallet:t,i18n:r})=>{let{request:n,source:s}=e;if(!s)return a.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(s.type!=="BrowserTabRpcRequestSource")return a.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));let i={url:s.url.toString(),icon:s.icon?.href??null};if(!await t.eth.doesSupportEth())return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[i,"ethereum"],id:ae()}),a.resourceUnavailable(n.id)},"requireEthereumAccount");p();d();var Mi=o(async(e,{wallet:t,i18n:r,utils:n})=>{let{request:s,source:i}=e;if(!i)return a.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(i.type!=="BrowserTabRpcRequestSource")return a.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));let c=s.params.context,l=n.getOrigin(c.blinkUrl);if(!c.blinkUrl||!l)return a.userRejectedRequest(s.id);let m=n.getHostname(c.blinkUrl),f={url:c.blinkUrl,icon:m?n.getFaviconURL(m):null};if(!await t.eth.doesSupportEth())return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[f,"ethereum"],id:ae()}),a.resourceUnavailable(s.id)},"requireEthereumBlinkAccount");p();d();var _l=ie(Fr(),1);var Ui=o(async({request:e})=>{let t=_l.default.decode(e.params.message);if(!Rc(t))return a.invalidInput(e.id,"You cannot sign solana transactions using sign message")},"requireSafeSolanaMessage");p();d();var Ni=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcRequestAccounts",id:ae(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in i)return a.error(r.id,i.error)},"requireUserApprovalBtcRequestAccounts");p();d();var Di=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignMessage",id:ae(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{message:e.params.message}]});if("error"in s)return a.error(e.id,s.error);switch(s.result.type){case"send":return a.result(e.id,{signature:s.result.signature,signedMessage:s.result.signedMessage});case"signAndSend":return}},"requireUserApprovalBtcSignMessage");p();d();var Oi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignPSBT",id:ae(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{psbt:e.params[0],inputsToSign:e.params[1].inputsToSign,finalize:e.params[1].finalize}]});if("error"in s)return a.error(e.id,s.error);switch(s.result.type){case"send":return a.result(e.id,s.result.signature);case"signAndSend":return}},"requireUserApprovalBtcSignPSBT");p();d();var Pi=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:ae(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in i)return a.error(r.id,i.error)},"requireUserApprovalEthRequestAccounts");p();d();var qi=o(async(e,{wallet:t,utils:r})=>{let{request:n,source:s}=e;if(!s)return a.userRejectedRequest(n.id);if(s.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(n.id);let i=n.params.context,c=r.getOrigin(i.blinkUrl);if(!i.blinkUrl||!c)return a.userRejectedRequest(n.id);if(await t.isTrustedApp(c))return;let m=r.getHostname(i.blinkUrl),f=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:ae(),params:[{url:i.blinkUrl,icon:m?r.getFaviconURL(m):null}]});if("error"in f)return a.error(n.id,f.error)},"requireUserApprovalEthBlinkRequestAccounts");p();d();var Hi=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=$(n),i=he(n),c=Se(n);if(!s||!i)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;let m=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveWalletRequestPermissions",id:ae(),params:[{url:i.toString(),icon:c}]});if("error"in m)return a.error(r.id,m.error)},"requireUserApprovalWalletRequestPermissions");p();d();var Fi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[m]=e.params;if(await r.eth.getSelectedAccount()!==m.from.toLowerCase())return a.transactionRejected(e.id);let w=await r.eth.autoConfirmValidateTransaction(c,[m]),x=w.status===ye.OK;if(rt(w.status)){let b=await r.eth.getSelectedAccount();await s.eth.autoConfirmedTransaction({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:w.sessionStartTime,sessionMaxDuration:w.sessionMaxDuration,lastStatusCode:w.status,dollarValue:w.dollarValue,auditTrail:w.auditTrail},walletAddress:b})}if(x)return;let g={url:c.toString(),icon:l},R=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:ae(),params:[g,{transaction:m,autoConfirmStatusCode:w.status}]});if("error"in R)return a.error(e.id,R.error);switch(R.result.maxFeePerGas&&(m.maxFeePerGas=R.result.maxFeePerGas),R.result.maxPriorityFeePerGas&&(m.maxPriorityFeePerGas=R.result.maxPriorityFeePerGas),R.result.type){case"send":{let b=await r.eth.sendTransaction(m,R.result.signature);return a.any(e.id,{result:b})}case"signAndSend":return}},"requireUserApprovalEthSendTransaction");p();d();var $i=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[i,{context:c}]=e.params;if(await r.eth.getSelectedAccount()!==i.from.toLowerCase())return a.transactionRejected(e.id);let m=s.getOrigin(c.blinkUrl);if(!c.blinkUrl||!m)return a.userRejectedRequest(e.id);let f=s.getHostname(c.blinkUrl),w={url:c.blinkUrl,icon:f?s.getFaviconURL(f):null},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:ae(),params:[w,{transaction:i,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in x)return a.error(e.id,x.error);switch(x.result.maxFeePerGas&&(i.maxFeePerGas=x.result.maxFeePerGas),x.result.maxPriorityFeePerGas&&(i.maxPriorityFeePerGas=x.result.maxPriorityFeePerGas),x.result.type){case"send":{let g=await r.eth.sendTransaction(i,x.result.signature);return a.any(e.id,{result:g})}case"signAndSend":return}},"requireUserApprovalEthBlinkSendTransaction");p();d();var Wi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t),i=he(t),c=Se(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),m=await r.eth.getNetworkId(s),[f,w]=e.params;if(l!==f.toLowerCase())return a.unauthorized(e.id);let x={url:i.toString(),icon:c},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[x,{signer:f,message:w,originalMethod:"eth_sign",chainId:m,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.approvalType){case"hardware":return a.result(e.id,g.result.signature);case"user":return}},"requireUserApprovalEthSign");p();d();var zi=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=await r.eth.getSelectedAccount(),c=await r.eth.getNetworkId(t.url.origin),[l,m,{context:f}]=e.params;if(i!==l.toLowerCase())return a.unauthorized(e.id);let w=s.getOrigin(f.blinkUrl);if(!f.blinkUrl||!w)return a.userRejectedRequest(e.id);let x=s.getHostname(f.blinkUrl),g={url:f.blinkUrl,icon:x?s.getFaviconURL(x):null},R=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[g,{signer:l,message:m,originalMethod:"eth_sign",chainId:c,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in R)return a.error(e.id,R.error);switch(R.result.approvalType){case"hardware":return a.result(e.id,R.result.signature);case"user":return}},"requireUserApprovalEthBlinkSign");p();d();var Vi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t),i=he(t),c=Se(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),m=await r.eth.getNetworkId(s),[f,w]=e.params;if(l!==w.toLowerCase())return a.unauthorized(e.id);let x="0x"+Buffer.from(JSON.stringify(f)).toString("hex"),g={url:i.toString(),icon:c},R=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[g,{signer:w,message:x,originalMethod:"eth_signTypedData",chainId:m,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in R)return a.error(e.id,R.error)},"requireUserApprovalEthSignTypedData");p();d();var ji=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let m=await r.eth.getSelectedAccount(),f=await r.eth.getNetworkId(i),[w,x]=e.params;if(m!==w.toLowerCase())return a.unauthorized(e.id);let g=await r.eth.autoConfirmValidateMessage(c,x),R=g.status===ye.OK;if(rt(g.status)){let y=await r.eth.getSelectedAccount();await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:g.sessionStartTime,sessionMaxDuration:g.sessionMaxDuration,lastStatusCode:g.status,auditTrail:g.auditTrail},walletAddress:y})}if(R)return;let b={url:c.toString(),icon:l},_=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[b,{signer:w,message:"0x"+Buffer.from(JSON.stringify(x)).toString("hex"),originalMethod:"eth_signTypedData_v3",chainId:f,autoConfirmStatusCode:g.status}]});if("error"in _)return a.error(e.id,_.error)},"requireUserApprovalEthSignTypedDataV3");p();d();var Ki=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let m=await r.eth.getSelectedAccount(),f=await r.eth.getNetworkId(i),[w,x]=e.params;if(m!==w.toLowerCase())return a.unauthorized(e.id);let g=await r.eth.autoConfirmValidateMessage(c,x),R=g.status===ye.OK;if(rt(g.status)){let y=await r.eth.getSelectedAccount();await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(i),origin:i,data:{sessionStartTime:g.sessionStartTime,sessionMaxDuration:g.sessionMaxDuration,lastStatusCode:g.status,auditTrail:g.auditTrail},walletAddress:y})}if(R)return;let b={url:c.toString(),icon:l},_=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[b,{signer:w,message:"0x"+Buffer.from(JSON.stringify(x)).toString("hex"),originalMethod:"eth_signTypedData_v4",chainId:f,autoConfirmStatusCode:g.status}]});if("error"in _)return a.error(e.id,_.error)},"requireUserApprovalEthSignTypedDataV4");p();d();var Gi=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t),i=he(t),c=Se(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),m=await r.eth.getNetworkId(s),[f,w]=e.params;if(l!==w.toLowerCase())return a.unauthorized(e.id);let x={url:i.toString(),icon:c},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[x,{signer:w,message:f,originalMethod:"personal_sign",chainId:m,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.approvalType){case"hardware":return a.result(e.id,g.result.signature);case"user":return}},"requireUserApprovalPersonalSign");p();d();var Zi=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=$(n),i=he(n),c=Se(n);if(!s||!i)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return a.userRejectedRequest(r.id);let m=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:i.toString(),icon:c}]});if("error"in m)return a.error(r.id,m.error)},"requireUserApprovalSolConnect");p();d();var Yi=o(async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return a.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id);let s=e.params.context,i=n.getOrigin(s.blinkUrl);if(!s.blinkUrl||!i)return a.userRejectedRequest(e.id);if(await r.isTrustedApp(i))return;let l=n.getHostname(s.blinkUrl),m=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:s.blinkUrl,icon:l?n.getFaviconURL(l):null}]});if("error"in m)return a.error(e.id,m.error)},"requireUserApprovalSolBlinkConnect");p();d();var Xi=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let m=await r.sol.autoConfirmValidateTransaction(c,e.params.transactions),f=m.status===ye.OK;if(rt(m.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:m.sessionStartTime,sessionMaxDuration:m.sessionMaxDuration,lastStatusCode:m.status,dollarValue:m.dollarValue,auditTrail:m.auditTrail},walletAddress:g})}if(f)return;let w={url:c.toString(),icon:l},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:ae(),params:[w,{transactions:e.params.transactions,autoConfirmStatusCode:m.status}]});if("error"in x)return a.error(e.id,x.error);switch(x.result.type){case"send":return a.result(e.id,x.result.result.map(g=>({transaction:g.signedTransaction,signature:g.signature,version:g.version})));case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transactions=g);return}}},"requireUserApprovalSolSignAllTransactions");p();d();var Ji=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let m=await r.sol.autoConfirmValidateTransaction(c,e.params.transactions),f=m.status===ye.OK;if(rt(m.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:m.sessionStartTime,sessionMaxDuration:m.sessionMaxDuration,lastStatusCode:m.status,dollarValue:m.dollarValue,auditTrail:m.auditTrail},walletAddress:g})}if(f)return;let w={url:c.toString(),icon:l},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:ae(),params:[w,{transactions:e.params.transactions,autoConfirmStatusCode:m.status}]});if("error"in x)return a.error(e.id,x.error);switch(x.result.type){case"send":{let g=await r.sol.getSelectedAccount();for(let[b,_]of x.result.result.entries())e.params.transactions[b]=_.signedTransaction;let R=await r.sol.sendAllTransactions(e.params.transactions);return a.result(e.id,{publicKey:g,signatures:R})}case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transactions=g);return}}},"requireUserApprovalSolSignAndSendAllTransactions");p();d();var Qi=o(async({request:e,source:t,id:r},{wallet:n,utils:s})=>{if(!t)return a.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id);let i=s.getHostname(e.params.context.blinkUrl),c={url:e.params.context.blinkUrl,icon:i?s.getFaviconURL(i):null},l=await n.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:ae(),params:[c,{transactions:e.params.transactions,autoConfirmStatusCode:ye.UnsupportedMethod,sequenceId:r}]});if("error"in l)return a.error(e.id,l.error);switch(l.result.type){case"send":{let m=await n.sol.getSelectedAccount();for(let[w,x]of l.result.result.entries())e.params.transactions[w]=x.signedTransaction;let f=await n.sol.sendAllTransactions(e.params.transactions);return a.result(e.id,{publicKey:m,signatures:f})}case"signAndSend":return}},"requireUserApprovalSolBlinkSignAndSendAllTransactions");p();d();var ea=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let m=await r.sol.autoConfirmValidateTransaction(c,[e.params.transaction]),f=m.status===ye.OK;if(rt(m.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:m.sessionStartTime,sessionMaxDuration:m.sessionMaxDuration,lastStatusCode:m.status,dollarValue:m.dollarValue,auditTrail:m.auditTrail},walletAddress:g})}if(f)return;let w={url:c.toString(),icon:l},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendTransaction",id:ae(),params:[w,{transaction:e.params.transaction,autoConfirmStatusCode:m.status}]});if("error"in x)return a.error(e.id,x.error);switch(x.result.type){case"send":{let g=await r.sol.getSelectedAccount();return await r.sol.sendTransaction(x.result.signedTransaction,e.params.options),a.result(e.id,{publicKey:g,signature:x.result.signature})}case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transaction=g[0]),x.result.isSharingEligible&&(e.params.isSharingEligible=!0);return}}},"requireUserApprovalSolSignAndSendTransaction");p();d();var ta=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t);if(!i||!c)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateMessage(c,e.params.message),m=l.status===ye.OK;if(rt(l.status)){let x=await r.sol.getSelectedAccount();await s.sol.autoConfirmedMessage({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,auditTrail:l.auditTrail},walletAddress:x})}if(m)return;let f=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[{url:c.toString(),icon:Se(t)},{...e.params,autoConfirmStatusCode:l.status}]});if("error"in f)return a.error(e.id,f.error);let w=await r.sol.getSelectedAccount();switch(f.result.type){case"send":return a.result(e.id,{signature:f.result.signature,publicKey:w});case"signAndSend":return}},"requireUserApprovalSolSignMessage");p();d();var ra=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=s.getHostname(e.params.context.blinkUrl),c={url:e.params.context.blinkUrl,icon:i?s.getFaviconURL(i):null},l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[c,{...e.params,autoConfirmStatusCode:ye.UnsupportedMethod}]});if("error"in l)return a.error(e.id,l.error)},"requireUserApprovalSolBlinkSolSignMessage");p();d();var na=o(async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id);let m=await r.sol.autoConfirmValidateTransaction(c,[e.params.transaction]),f=m.status===ye.OK;if(rt(m.status)){let g=await r.sol.getSelectedAccount();await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:i,data:{sessionStartTime:m.sessionStartTime,sessionMaxDuration:m.sessionMaxDuration,lastStatusCode:m.status,dollarValue:m.dollarValue,auditTrail:m.auditTrail},walletAddress:g})}if(f)return;let w={url:c.toString(),icon:l},x=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:ae(),params:[w,{transaction:e.params.transaction,autoConfirmStatusCode:m.status}]});if("error"in x)return a.error(e.id,x.error);switch(x.result.type){case"send":return a.result(e.id,{transaction:x.result.signedTransaction,signature:x.result.signature,version:x.result.version});case"signAndSend":{let g=x.result.overwriteTransactions;g&&(e.params.transaction=g[0]),x.result.isSharingEligible&&(e.params.isSharingEligible=!0),x.result.transactionSharingDelayMs&&(e.params.transactionSharingDelayMs=x.result.transactionSharingDelayMs);return}}},"requireUserApprovalSolSignTransaction");p();d();var it=o(async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let i=he(t);if(!i)return a.internalError(e.id,"missing source");let c=i.hostname;return async l=>{let{method:m}=e;if(Yt(c))return;let f=await n.sol.getNetworkId();if(f==="localnet")return;let w=s.sol.chainIdToCAIP2(f),g={method:m,chainType:"solana",chainId:w,origin:c};if("error"in l&&(g.errorCode=l.error.code),m==="sol_connect"){if(e.params?.eager){"errorCode"in g||r.approveConnection({...g,eager:!0});return}Qf(g,r)}(m==="sol_signTransaction"||m==="sol_signAndSendTransaction"||m==="sol_signAndSendAllTransactions"||m==="sol_signAllTransactions")&&eg(g,r),(m==="sol_signMessage"||m==="sol_signIn")&&tg(g,r)}},"solAnalytics"),Qf=o((e,t)=>{"errorCode"in e?t.declineConnection(e):t.approveConnection({...e,eager:!1})},"emitSolConnectAnalytics"),eg=o((e,t)=>{"errorCode"in e?t.declineTransaction(e):t.approveTransaction(e)},"emitSolTransactionAnalytics"),tg=o((e,t)=>{"errorCode"in e?t.declineSignMessage(e):t.approveSignMessage(e)},"emitSolMessageAnalytics");p();d();var at=o(async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,c=e.params&&typeof e.params=="object"&&"redirect_link"in e.params&&typeof e.params.redirect_link=="string"?e.params.redirect_link:"missing redirect_link from deep link";t.deepLinkDetected({method:i,params:JSON.stringify(e.params)});let l=await r.sol.getNetworkId();if(l==="localnet")return;let m=n.sol.chainIdToCAIP2(l),w={method:i,chainType:"solana",chainId:m,origin:c};if(i==="phantom_deep_link_connect"){let x={...w};"error"in s?t.declineConnection({...x,errorCode:s.error.code}):t.approveConnection({...x,eager:!1})}if(i==="phantom_deep_link_signTransaction"||i==="phantom_deep_link_signAllTransactions"||i==="phantom_deep_link_signAndSendTransaction"){let x={...w};"error"in s?t.declineTransaction({...x,errorCode:s.error.code}):t.approveTransaction(x)}if(i==="phantom_deep_link_signMessage"){let x={...w};"error"in s?t.declineSignMessage({...x,errorCode:s.error.code}):t.approveSignMessage(x)}},"phantomDeepLinkAnalytics");p();d();function oa(e){return!!("result"in e&&typeof e.result=="object"&&e.result&&"type"in e.result&&e.result?.type&&typeof e.result.type=="string"&&e.result.type.toUpperCase().endsWith("_DECLINE"))}o(oa,"isDeclineResponse");var $r=o(async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,c="no identity or verifiable identity found on solana mobile wallet adapter request";if(e.params&&typeof e.params=="object"&&"identity"in e.params){let x=Sc.safeParse(e.params.identity);x.success&&(c=x.data.identityUri??c)}else if(e.params&&typeof e.params=="object"&&"signPayloads"in e.params){let x=_c.safeParse(e.params.signPayloads);x.success&&(c=x.data.verifiableIdentity.identity.identityUri??c)}let l=await r.sol.getNetworkId();if(l==="localnet")return;let m=n.sol.chainIdToCAIP2(l),w={method:i,chainType:"solana",chainId:m,origin:c};if(i==="sol_mwa_authorize"){let x={...w};"error"in s?t.declineConnection({...x,errorCode:s.error.code}):oa(s)?t.declineConnection({...x,errorCode:s.result.type}):t.approveConnection({...x,eager:!1})}if(i==="sol_mwa_sign_transactions"||i==="sol_mwa_sign_and_send_transactions"){let x={...w};"error"in s?t.declineTransaction({...x,errorCode:s.error.code}):oa(s)?t.declineTransaction({...x,errorCode:s.result.type}):t.approveTransaction(x)}if(i==="sol_mwa_sign_messages"){let x={...w};"error"in s?t.declineSignMessage({...x,errorCode:s.error.code}):oa(s)?t.declineSignMessage({...x,errorCode:s.result.type}):t.approveSignMessage(x)}},"solMwaAnalytics");p();d();var Nt=o(async({source:e,request:t},r)=>{if(!e||e.type!=="BrowserTabRpcRequestSource"||!["x.com","twitter.com","pro.x.com","sandbox.phantom.dev","localhost","phantom.com"].includes(e.url.hostname))return a.unauthorized(t.id)},"requireWhitelistedBlinkSource");p();d();var xr=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let s=null;switch(e.method){case"sol_blink_signAndSendAllTransactions":case"sol_blink_signMessage":s=e.params.context;break;case"eth_blink_sendTransaction":s=e.params[1].context;break;case"eth_blink_sign":s=e.params[2].context;break}if(!s)return a.unauthorized(e.id);let i=n.getOrigin(s.blinkUrl);if(!i)return a.unauthorized(e.id);if(!await t.isTrustedApp(i))return r.debug("> Dapp not trusted",i),a.unauthorized(e.id)},"requireAuthorizedBlinkSource");p();d();var go=[],Pe=o(e=>async({source:t,request:r})=>{let n=Date.now(),i=`${t?.type==="DeepLinkRpcRequestSource"?t.deepLinkUrl:t?.url.href}:${r.method}:${JSON.stringify(r.params)}`;if(go=go.filter(l=>l.timestamp>n-1e3),go.filter(l=>l.key===i).length>=e)return a.rateLimited(r.id);go.push({timestamp:n,key:i})},"rateLimit");p();d();var Ke=o(async({request:e},{wallet:t})=>{if(!await t.isUserOnboarded()){if(e.method==="sol_connect"&&e.params.onlyIfTrusted)return a.userRejectedRequest(e.id);try{await t.requestUserOnboard()}catch{return a.userRejectedRequest(e.id)}}},"requireUserOnboarded");p();d();function rg({params:e,response:t,analytics:r,data:n}){if(e?.eager){"error"in t||r.approveConnection({...n,eager:!0});return}"error"in t?r.declineConnection({...n,errorCode:t.error.code}):r.approveConnection({...n,eager:!1})}o(rg,"handleConnectionAnalytics");function ng({response:e,analytics:t,data:r}){"error"in e?t.declineTransaction({...r,errorCode:e.error.code}):t.approveTransaction(r)}o(ng,"handleTransactionAnalytics");function og({response:e,analytics:t,data:r}){"error"in e?t.declineSignMessage({...r,errorCode:e.error.code}):t.approveSignMessage(r)}o(og,"handleSignMessageAnalytics");var Wr=o(async({request:e,source:t},{analytics:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=he(t);if(!n)return a.internalError(e.id);let s=n.hostname;return Yt(s)?async()=>{}:async i=>{let{method:c,params:l}=e,m={method:c,chainType:"sui",chainId:"mainnet",origin:s};switch(c){case"sui_requestAccounts":rg({params:l,response:i,analytics:r,data:m});break;case"sui_signTransaction":case"sui_signAndExecuteTransaction":ng({response:i,analytics:r,data:m});break;case"sui_signMessage":og({response:i,analytics:r,data:m});break;default:break}}},"suiAnalytics");p();d();var sa=o(async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=$(n),i=he(n),c=Se(n);if(!s||!i)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return a.userRejectedRequest(r.id);let m=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiRequestAccounts",id:ae(),params:[{url:i.toString(),icon:c}]});if("error"in m)return a.error(r.id,m.error)},"requireUserApprovalSuiRequestAccounts");p();d();var yo=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=he(t),i=Se(t);if(!s)return a.unauthorized(e.id);let c=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignTransaction",id:ae(),params:[{url:s.toString(),icon:i},{transaction:e.params.transaction}]});if("error"in c)return a.error(e.id,c.error)},"requireUserApprovalSuiSignTransaction");p();d();var ia=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=he(t),i=Se(t);if(!s)return a.unauthorized(e.id);let c=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignMessage",id:ae(),params:[{url:s.toString(),icon:i},{message:e.params.message}]});if("error"in c)return a.error(e.id,c.error)},"requireUserApprovalSuiSignMessage");var sg=o((e,t="BrowserTabRpcRequestSource")=>({eth_accounts:j().parse(we.eth_accounts).context(e).use([Pe(100),se(t),V,xe,ce],Cs),eth_blockNumber:j().parse(we.eth_blockNumber).context(e).use([V,se(t),xe,ce],Is),eth_call:j().parse(we.eth_call).context(e).use([V,se(t),xe,ce],Bs),eth_cancelPrivateTransaction:j().parse(we.eth_cancelPrivateTransaction).context(e).use([V,se(t),xe,ce],Ls),eth_chainId:j().parse(we.eth_chainId).context(e).use([V,se(t),xe,ce],Ms),eth_estimateGas:j().parse(we.eth_estimateGas).context(e).use([V,se(t),xe,ce],Us),eth_feeHistory:j().parse(we.eth_feeHistory).context(e).use([V,se(t),xe,ce],Ns),eth_gasPrice:j().parse(we.eth_gasPrice).context(e).use([V,se(t),xe,ce],Ds),eth_getBalance:j().parse(we.eth_getBalance).context(e).use([V,se(t),xe,ce],Os),eth_getBlockByHash:j().parse(we.eth_getBlockByHash).context(e).use([V,se(t),xe,ce],Ps),eth_getBlockByNumber:j().parse(we.eth_getBlockByNumber).context(e).use([V,se(t),xe,ce],qs),eth_getBlockReceipts:j().parse(we.eth_getBlockReceipts).context(e).use([V,se(t),xe,ce],Hs),eth_getBlockTransactionCountByHash:j().parse(we.eth_getBlockTransactionCountByHash).context(e).use([V,se(t),xe,ce],Fs),eth_getBlockTransactionCountByNumber:j().parse(we.eth_getBlockTransactionCountByNumber).context(e).use([V,se(t),xe,ce],$s),eth_getCode:j().parse(we.eth_getCode).context(e).use([V,se(t),xe,ce],Ws),eth_getFilterChanges:j().parse(we.eth_getFilterChanges).context(e).use([V,se(t),xe,ce],zs),eth_getFilterLogs:j().parse(we.eth_getFilterLogs).context(e).use([V,se(t),xe,ce],Vs),eth_getLogs:j().parse(we.eth_getLogs).context(e).use([V,se(t),xe,ce],js),eth_getProof:j().parse(we.eth_getProof).context(e).use([V,se(t),xe,ce],Ks),eth_getStorageAt:j().parse(we.eth_getStorageAt).context(e).use([V,se(t),xe,ce],Gs),eth_getTransactionByBlockHashAndIndex:j().parse(we.eth_getTransactionByBlockHashAndIndex).context(e).use([V,se(t),xe,ce],Zs),eth_getTransactionByBlockNumberAndIndex:j().parse(we.eth_getTransactionByBlockNumberAndIndex).context(e).use([V,se(t),xe,ce],Ys),eth_getTransactionByHash:j().parse(we.eth_getTransactionByHash).context(e).use([V,se(t),xe,ce],Xs),eth_getTransactionCount:j().parse(we.eth_getTransactionCount).context(e).use([V,se(t),xe,ce],Js),eth_getTransactionReceipt:j().parse(we.eth_getTransactionReceipt).context(e).use([V,se(t),xe,ce],Qs),eth_getUncleByBlockHashAndIndex:j().parse(we.eth_getUncleByBlockHashAndIndex).context(e).use([V,se(t),xe,ce],ei),eth_getUncleByBlockNumberAndIndex:j().parse(we.eth_getUncleByBlockNumberAndIndex).context(e).use([V,se(t),xe,ce],ti),eth_getUncleCountByBlockHash:j().parse(we.eth_getUncleCountByBlockHash).context(e).use([V,se(t),xe,ce],ri),eth_getUncleCountByBlockNumber:j().parse(we.eth_getUncleCountByBlockNumber).context(e).use([V,se(t),xe,ce],ni),eth_maxPriorityFeePerGas:j().parse(we.eth_maxPriorityFeePerGas).context(e).use([V,se(t),xe,ce],oi),eth_newBlockFilter:j().parse(we.eth_newBlockFilter).context(e).use([V,se(t),xe,ce],si),eth_newFilter:j().parse(we.eth_newFilter).context(e).use([V,se(t),xe,ce],ii),eth_newPendingTransactionFilter:j().parse(we.eth_newPendingTransactionFilter).context(e).use([V,se(t),xe,ce],ai),eth_protocolVersion:j().parse(we.eth_protocolVersion).context(e).use([V,se(t),xe,ce],ci),eth_requestAccounts:j().parse(we.eth_requestAccounts).context(e).use([Pe(100),se(t),V,xe,ce,Li,Pi],pi),eth_sendRawTransaction:j().parse(we.eth_sendRawTransaction).context(e).use([V,se(t),xe,ce],di),eth_sendPrivateTransaction:j().parse(we.eth_sendPrivateTransaction).context(e).use([V,se(t),xe,ce],li),eth_sendTransaction:j().parse(we.eth_sendTransaction).context(e).use([V,se(t),Ge,xe,ce,We(t),yn,Jt,Fi],ui),eth_sign:j().parse(we.eth_sign).context(e).use([V,se(t),Ge,xe,ce,We(t),Wi],mi),eth_signTypedData:j().parse(we.eth_signTypedData).context(e).use([V,se(t),Ge,xe,ce,We(t),Jt,Vi],hi),eth_signTypedData_v3:j().parse(we.eth_signTypedData_v3).context(e).use([V,se(t),Ge,xe,ce,We(t),Jt,ji],fi),eth_signTypedData_v4:j().parse(we.eth_signTypedData_v4).context(e).use([V,se(t),Ge,xe,ce,We(t),Jt,Ki],gi),eth_subscribe:j().parse(we.eth_subscribe).context(e).use([V,se(t),xe,ce],yi),eth_syncing:j().parse(we.eth_syncing).context(e).use([V,se(t),xe,ce],xi),eth_uninstallFilter:j().parse(we.eth_uninstallFilter).context(e).use([V,se(t),xe,ce],wi),eth_unsubscribe:j().parse(we.eth_unsubscribe).context(e).use([V,se(t),xe,ce],bi),net_listening:j().parse(we.net_listening).context(e).use([V,se(t),xe,ce],Si),net_version:j().parse(we.net_version).context(e).use([V,se(t),xe,ce],_i),personal_sign:j().parse(we.personal_sign).context(e).use([V,se(t),Ge,xe,ce,We(t),Gi],Ai),wallet_addEthereumChain:j().parse(we.wallet_addEthereumChain).context(e).use([V,se(t),xe,ce,Jt],Ri),wallet_selectEthereumProvider:j().parse(we.wallet_selectEthereumProvider).context(e).use([V,se(t),xe,ce],vi),wallet_switchEthereumChain:j().parse(we.wallet_switchEthereumChain).context(e).use([V,se(t),xe,ce,We(t),Jt],ki),wallet_requestPermissions:j().parse(we.wallet_requestPermissions).context(e).use([V,se(t),xe,ce,Hi],Ci),wallet_getPermissions:j().parse(we.wallet_getPermissions).context(e).use([V,se(t),xe,ce],Ii),web3_clientVersion:j().parse(we.web3_clientVersion).context(e).use([V,se(t),xe,ce],Ti),web3_sha3:j().parse(we.web3_sha3).context(e).use([V,se(t),xe,ce],Ei)}),"initialize");var la={};De(la,{initialize:()=>pg});p();d();p();d();var bt={};De(bt,{sol_connect:()=>Al,sol_disconnect:()=>Rl,sol_signAllTransactions:()=>vl,sol_signAndSendAllTransactions:()=>Tl,sol_signAndSendTransaction:()=>kl,sol_signIn:()=>Cl,sol_signMessage:()=>El,sol_signTransaction:()=>Il});p();d();p();d();var Al=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=$(t),s=he(t),i=Se(t);if(!n||!s)return a.unauthorized(e.id);let c={url:s,icon:i?new URL(i):void 0};await r.addTrustedApp(n,c);let l=await r.sol.getSelectedAccount();return a.result(e.id,{publicKey:l})},"handler");p();d();var Rl=o(async({request:e,source:t})=>t?a.result(e.id,null):a.unauthorized(e.id),"handler");p();d();var vl=o(async({request:e},{wallet:t})=>{let r=await t.sol.signAllTransactions(e.params.transactions);return a.result(e.id,r)},"handler");p();d();var kl=o(async({source:e,request:t},{wallet:r,i18n:n})=>{if(!e)return a.unauthorized(t.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=Se(e),i=he(e);if(!i)return a.unauthorized(t.id);let c=await r.sol.getSelectedAccount(),l=await r.sol.signTransaction(t.params.transaction);t.params.showConfirmation&&r.requestUserApproval({jsonrpc:"2.0",method:"user_solTransactionConfirmation",id:ae(),params:[{url:i.toString(),icon:s},{signature:l.signature,postAction:t.params.postAction}]});let m=t.params.isSharingEligible?"signAndSendTransaction":void 0;return await r.sol.sendTransaction(l.transaction,{...t.params.options,method:m}),a.result(t.id,{publicKey:c,signature:l.signature})},"handler");p();d();var Tl=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(i=>t.sol.signTransaction(i))),s=await t.sol.sendAllTransactions(n.map(i=>i.transaction));return a.result(e.id,{publicKey:r,signatures:s})},"handler");p();d();var El=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return a.result(e.id,{publicKey:r,signature:n})},"handler");p();d();var Cl=o(async({request:e,source:t},{wallet:r,utils:n,i18n:s})=>{if(!t)return a.userRejectedRequest(e.id);let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.userRejectedRequest(e.id);let m=await r.isTrustedApp(i),f=await r.sol.getNetworkId(),w=await r.sol.getSelectedAccount(),x=new URL(c.toString()),g=n.sol.serializeSolanaSignInMessage(e.params.signInData,{expectedChainId:f,expectedAddress:w,expectedURL:x});if(g.type==="fail"){if(g.error[0].label==="PARSE_ERROR")return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(g.error.some(_=>_.label==="chain"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(g.error.some(_=>_.label==="address"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(e.params.signInData.domain||(e.params.signInData.domain=x.host),e.params.signInData.address||(e.params.signInData.address=w),"error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:c.toString(),icon:l},{connect:!m,signInData:e.params.signInData,message:g.data,errorDetails:g.type==="fail"?g.error:void 0}],id:ae()}))return g.type==="fail"?a.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):a.userRejectedRequest(e.id);m||await r.isTrustedApp(i)||await r.addTrustedApp(i,{url:c,icon:l?new URL(l):void 0});let b=await r.sol.signMessage(g.data);return a.result(e.id,{address:w,signedMessage:g.data,signature:b})},"handler");p();d();var ig=500,Il=o(async({request:e},{wallet:t})=>{let r=await t.sol.signTransaction(e.params.transaction);if(e.params.isSharingEligible){let n=Date.now(),s=e.params.transactionSharingDelayMs??ig;try{await Promise.race([t.sol.sendTransaction(r.transaction,{method:"signTransaction"}),es(s)]);let i=Date.now()-n,c=Math.max(0,s-i);c>0&&await es(c)}catch{}}return a.result(e.id,r)},"handler");var zr={};De(zr,{btc_requestAccounts:()=>Bl,btc_signMessage:()=>Ll,btc_signPSBT:()=>Ml});p();d();p();d();var Bl=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=$(t),s=he(t),i=Se(t);if(!n||!s)return a.unauthorized(e.id);let c={url:s,icon:i?new URL(i):void 0};await r.addTrustedApp(n,c);let l=await r.btc.getSelectedAccount();return a.result(e.id,l)},"handler");p();d();var Ll=o(async({request:e},{wallet:t})=>{let r=await t.btc.signMessage(e.params.address,e.params.message);return a.result(e.id,{...r})},"handler");p();d();var Ml=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=await r.btc.signPSBT(...e.params);return a.result(e.id,n)},"handler");var Le={};De(Le,{phantom_deep_link_browse:()=>Ul,phantom_deep_link_cash:()=>nu,phantom_deep_link_connect:()=>$l,phantom_deep_link_convert_stake_account:()=>iu,phantom_deep_link_disconnect:()=>Wl,phantom_deep_link_explore:()=>Pl,phantom_deep_link_feature_flags:()=>ql,phantom_deep_link_feedback_perps:()=>su,phantom_deep_link_fungible:()=>Dl,phantom_deep_link_mint_psol_marketing:()=>Fl,phantom_deep_link_navigate:()=>eu,phantom_deep_link_notification_center:()=>Hl,phantom_deep_link_onboard:()=>Jl,phantom_deep_link_onramp:()=>Ql,phantom_deep_link_perps:()=>ru,phantom_deep_link_perps_leaderboard:()=>au,phantom_deep_link_signAllTransactions:()=>Gl,phantom_deep_link_signAndSendAllTransactions:()=>Yl,phantom_deep_link_signAndSendTransaction:()=>Zl,phantom_deep_link_signIn:()=>jl,phantom_deep_link_signMessage:()=>zl,phantom_deep_link_signTransaction:()=>Kl,phantom_deep_link_social:()=>tu,phantom_deep_link_swap:()=>Nl,phantom_deep_link_token_chat:()=>ou,phantom_deep_link_tokens:()=>Xl,phantom_deep_link_user:()=>Ol});p();d();p();d();var Ul=o(async({request:e},{wallet:t})=>{let{url:r,ref:n}=e.params;return t.navigate("DetachedBrowser",{url:r,ref:n}),a.result(e.id,null)},"handler");p();d();var Nl=o(async({request:e},{wallet:t})=>{let{buy:r,sell:n,amount:s}=e.params,i=r&&r.trim().length>0,c=n&&n.trim().length>0,l,m;return c&&!i?(l={type:"sell",sellCaip19:n,takerCaip19:void 0,takerDestinationCaip19:void 0},m="sell"):(l={type:"buy",buyCaip19:r,...c&&{sellCaip19:n},takerCaip19:void 0,takerDestinationCaip19:void 0},m="buy"),t.navigate("SwapTokenStack",{screen:"SwapToken",params:{swapMode:l,initialSwapAmount:s?{denomination:"fiat",perspective:m,fiatAmount:s}:void 0,comingFrom:"deepLink"}}),a.result(e.id,null)},"handler");p();d();var Dl=o(async({request:e},{wallet:t})=>(Pn(e.params.token),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:e.params.token,entryPoint:"deepLink"}}),a.result(e.id,null)),"handler");p();d();var Ol=o(async({request:e},{wallet:t,analytics:r})=>{let{username:n,action:s}=e.params;return r.userDeepLink({username:n,action:s}),t.openUserProfile(n,s),a.result(e.id,null)},"handler");p();d();var Pl=o(async({request:e},{wallet:t})=>(t.navigate("ExploreTab",{screen:"Explore"}),e.params.route&&(e.params.route==="ExplorePerps"?t.navigate("ExploreTab",{screen:"PerpsStack",params:{screen:"ExplorePerps"}}):t.navigate("ExploreTab",{screen:e.params.route})),a.result(e.id,null)),"handler");p();d();var ql=o(async({request:e},{wallet:t})=>{let{action:r,key:n,type:s,value:i}=e.params;return t.navigate("SettingsStack",{screen:"MockFeatureFlags",params:{action:r,key:n,type:s,value:i}}),a.result(e.id,null)},"handler");p();d();var Hl=o(async({request:e},{wallet:t})=>(await t.openNotificationCenter({action:e.params.action,id:e.params.id}),a.result(e.id,null)),"handler");p();d();var Fl=o(async({request:e},{wallet:t,remoteConfig:r})=>{let n=await r.getValue("psol-popup-copy-test");return!n||n==="control"?t.navigate("MintLiquidStake",{screen:"MintPSOLInfoPage",params:{entryPoint:"deepLink",presentNext:!0}}):t.navigate("MintLiquidStake",{screen:"MintPSOLMarketingPage",params:{entryPoint:"deepLink",copyVariant:n}}),a.result(e.id,null)},"handler");p();d();var $l=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=so(e.params.redirect_link,{restrictProtocols:!1}),i=s?.href;if(!i)return a.error(e.id,{code:400,message:"Invalid redirect URL provided."});try{s.username="",s.password="";let c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:`phantom.app.deep-link-${i}`,icon:n.getFaviconURL(s.href)}]});if("error"in c)return a.error(e.id,c.error);let l=Hr(i)?.origin??"";await t.isTrustedApp(l)&&await t.deleteTrustedApp(l),await t.addTrustedApp(l,{url:new URL(l),icon:new URL(n.getFaviconURL(i))});let m=await t.sol.getSelectedAccount(),{sharedSecret:f,phantomKeySecret:w,phantomKeyPublicKey:x}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new Ee.PublicKey(m).toBase58(),e.params.dapp_encryption_public_key,f,w,x);let g=await r.generateSession(new Ee.PublicKey(m).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),{nonce:R,encryptedPayload:b}=await r.encryptDeepLinkDappPayload(g,new Ee.PublicKey(m).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{phantom_encryption_public_key:x,nonce:R,data:b})}catch(c){return a.error(e.id,{code:500,message:c?.message||"An unexpected error occurred during connect."})}},"handler");p();d();var Wl=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=Hr(e.params.redirect_link).origin??"";await t.isTrustedApp(s)&&await t.deleteTrustedApp(s);let i=await t.sol.getSelectedAccount(),c=n.sol.chainIdToCluster(await t.sol.getNetworkId());return typeof(await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new Ee.PublicKey(i),c)).session!="string"?a.error(e.id,{code:Ie.InvalidInput,message:"Missing or invalid parameters."}):(r.deleteSharedSecret(i,e.params.dapp_encryption_public_key),a.result(e.id,null))},"handler");p();d();var zl=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),c=e.params,l=await r.decryptDeepLinkDappPayload(c,e.params.dapp_encryption_public_key,new Ee.PublicKey(s),i);if(typeof l.session!="string"||typeof l.message!="string"||!(!l.display||["utf8","hex"].includes(l.display)))return a.error(e.id,{code:Ie.InvalidInput,message:"Missing or invalid parameters."});let m={message:l.message,display:l.display??"utf8"},f=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{...m,autoConfirmStatusCode:ye.Disabled}]});if("error"in f)return a.error(e.id,f.error);let x={signature:await t.sol.signMessage(l.message),publicKey:s},{nonce:g,encryptedPayload:R}=await r.encryptDeepLinkDappPayload(x,new Ee.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:g,data:R})},"handler");p();d();var Vl=ie(Fr(),1);var jl=o(async({request:e},{wallet:t,secrets:r,utils:n,i18n:s})=>{let i;try{i=JSON.parse(Buffer.from(Vl.default.decode(e.params.payload)).toString())}catch{return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting. Please contact the app developer for assistance."))}let c=new URL(e.params.app_url).origin??"",l=new URL(e.params.redirect_link).origin;l=l==="null"?c:l;let m=await t.isTrustedApp(l),f=await t.sol.getNetworkId(),w=await t.sol.getSelectedAccount(),x=new URL(e.params.redirect_link),g=n.sol.serializeSolanaSignInMessage(i,{expectedChainId:f,expectedAddress:w,expectedURL:x});if(g.type==="fail"){if(g.error[0].label==="PARSE_ERROR")return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(g.error.some(U=>U.label==="chain"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(g.error.some(U=>U.label==="address"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(i.domain||(i.domain=x.host),i.address||(i.address=w),"error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{connect:!m,signInData:i,message:g.data,errorDetails:g.type==="fail"?g.error:void 0}],id:ae()}))return g.type==="fail"?a.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):a.userRejectedRequest(e.id);m||await t.isTrustedApp(l)||await t.addTrustedApp(l,{url:new URL(l),icon:new URL(n.getFaviconURL(l))});let{sharedSecret:b,phantomKeySecret:_,phantomKeyPublicKey:y}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new Ee.PublicKey(w).toBase58(),e.params.dapp_encryption_public_key,b,_,y);let v=await r.generateSession(new Ee.PublicKey(w).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),I=await t.sol.signMessage(g.data),C={address:v.public_key,signature:I,signedMessage:g.data,session:v.session},{nonce:B,encryptedPayload:O}=await r.encryptDeepLinkDappPayload(C,new Ee.PublicKey(w).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{phantom_encryption_public_key:y,nonce:B,data:O})},"handler");p();d();var Kl=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),c=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new Ee.PublicKey(s),i);if(typeof c.session!="string"||typeof c.transaction!="string")return a.error(e.id,{code:Ie.InvalidInput,message:"Missing or invalid parameters."});let l=await t.sol.addPriorityFee(c.transaction),m=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:ae(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transaction:l,autoConfirmStatusCode:ye.Disabled}]});if("error"in m)return a.error(e.id,m.error);let{transaction:f}=await t.sol.signTransaction(l),w={transaction:f},{nonce:x,encryptedPayload:g}=await r.encryptDeepLinkDappPayload(w,new Ee.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:x,data:g})},"handler");p();d();var Gl=o(async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId()),c=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new Ee.PublicKey(s),i);if(typeof c.session!="string"||!Array.isArray(c.transactions)||!c.transactions.every(R=>typeof R=="string"))return a.error(e.id,{code:Ie.InvalidInput,message:"Missing or invalid parameters."});let l=await Promise.all(c.transactions.map(R=>t.sol.addPriorityFee(R))),m=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:ae(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transactions:l,autoConfirmStatusCode:ye.Disabled}]});if("error"in m)return a.error(e.id,m.error);let w={transactions:(await t.sol.signAllTransactions(l)).map(R=>R.transaction)},{nonce:x,encryptedPayload:g}=await r.encryptDeepLinkDappPayload(w,new Ee.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:x,data:g})},"handler");p();d();var Zl=o(async({request:e})=>a.error(e.id,{code:Ie.MethodNotFound,message:"This method is not supported"}),"handler");p();d();var Yl=o(async({request:e})=>a.error(e.id,{code:Ie.MethodNotFound,message:"This method is not supported"}),"handler");p();d();var ag=Qe.getAllChainIDs(),cg=o((e,t)=>{let r=e?ag.find(i=>e===i):void 0;if(!r)throw new Error(`Chain ${e} not supported`);let n=Qe[r],s=n.mainnetID;return typeof t!="string"?Qo({chainId:s,resourceType:Jo.nativeToken,slip44:n.slip44}):Qo({chainId:s,address:t,resourceType:Jo.address})},"getCaip19FromUrlPath"),Xl=o(async({request:e},{wallet:t,analytics:r})=>{let{chain:n,address:s}=e.params,i=cg(n,s);return r.tokenDeepLink({caip19:i,...e.params}),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:i,entryPoint:"deepLink"}}),a.result(e.id,null)},"handler");p();d();var Jl=o(async({request:e},{wallet:t})=>{if(!Dn())return a.methodNotFound(e.id);let r=null,n=null,{value:s,accounts:i}=e.params;s&&(r=new Uint8Array(Buffer.from(s,"utf-8")),n=nt.from(r),r.fill(0));let c=i?parseInt(i):1;if(c<1)throw new Error("accounts must be greater than 0");return await t.onboardQuickly(n,c),a.result(e.id,null)},"handler");p();d();var Ql=o(async({request:e},{wallet:t})=>{let r=e.params.buy,n=e.params.amount,s=e.params.redirectURL,i=r?"FiatRampAmount":"FiatRampSelectFungible";return t.navigate("FiatRampStack",{screen:i,params:{buy:r,amount:n,redirectURL:s}}),a.result(e.id,null)},"handler");p();d();var eu=o(async({request:e},{wallet:t})=>(t.navigate(e.params.route,e.params.params),a.result(e.id,null)),"handler");p();d();var tu=o(async({request:e},{wallet:t})=>(t.navigate("SocialFeedTab",{screen:"SocialFeed"}),a.result(e.id,null)),"handler");p();d();var ru=o(async({request:e,source:t},{wallet:r})=>{let{marketId:n}=e.params;r.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"Perps"}});let s=n,i=n?.startsWith("hypercore:mainnet/address:")?n.split("hypercore:mainnet/address:")[1]:void 0;if(!s&&t?.type==="DeepLinkRpcRequestSource")try{let l=new URL(t.deepLinkUrl).pathname.split("/").filter(Boolean),m=l.indexOf("perps");m!==-1&&l[m+1]&&(i=l[m+1].split("-")[0]?.toUpperCase(),i&&(s=`hypercore:mainnet/address:${i}`))}catch(c){console.error("Failed to parse deeplink URL:",c)}try{let c=s?Pn(s):void 0;c&&r.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"PerpMarketDetails",params:{data:i?{token:c,name:`${i}-USD`}:{token:c}}}})}catch(c){console.error("Failed to decode caip19:",c)}return a.result(e.id,null)},"handler");p();d();var nu=o(async({request:e},{wallet:t})=>(t.openCashTab&&await t.openCashTab(e.params),a.result(e.id,null)),"handler");p();d();var ou=o(async({request:e},{wallet:t})=>(await t.openTokenChat({caip19:e.params.caip19}),a.result(e.id,null)),"handler");p();d();var su=o(async({request:e},{wallet:t})=>(t.navigate("Tab",{screen:"HomeTab",params:{screen:"Home",params:{showPerpsFeedbackInterstitial:Date.now()}}}),a.result(e.id,null)),"handler");p();d();var iu=o(async({request:e},{wallet:t})=>(t.navigate("ConvertToLiquidStake",{screen:"ConvertStakeAccountDeepLinkPage",params:{stakeAddress:e.params.stakeAddress}}),a.result(e.id,null)),"handler");p();d();var au=o(async({request:e},{wallet:t})=>{let{period:r}=e.params;return t.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"TopPerpsTradersPage",params:r?{period:r}:void 0}}),a.result(e.id,null)},"handler");var Vr={};De(Vr,{sol_blink_connect:()=>cu,sol_blink_signAndSendAllTransactions:()=>pu,sol_blink_signMessage:()=>du});p();d();p();d();var cu=o(async({request:e,source:t},{wallet:r,utils:n})=>{let s=e.params.context,{origin:i,hostname:c}=n.getOriginAndHostname(s.blinkUrl);if(!t||!i||!c)return a.unauthorized(e.id);await r.addTrustedApp(i,{icon:new URL(n.getFaviconURL(c)),url:new URL(i)});let l=await r.sol.getSelectedAccount();return a.result(e.id,{publicKey:l})},"handler");p();d();var pu=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(i=>t.sol.signTransaction(i))),s=await t.sol.sendAllTransactions(n.map(i=>i.transaction));return a.result(e.id,{publicKey:r,signatures:s})},"handler");p();d();var du=o(async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return a.result(e.id,{publicKey:r,signature:n})},"handler");var jr={};De(jr,{eth_blink_requestAccounts:()=>mu,eth_blink_sendTransaction:()=>lu,eth_blink_sign:()=>uu});p();d();p();d();var lu=o(async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{let[i,{context:c}]=e.params,l=s.getOrigin(c.blinkUrl);if(!c.blinkUrl||!l)return a.userRejectedRequest(e.id);if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(l))return a.unauthorized(e.id);let f=await r.eth.getSelectedAccount();if(i.from.toLowerCase()!==f.toLowerCase())return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(i.type!==Ir.eip1559)return a.transactionRejected(e.id);if(!i.chainId)return a.transactionRejected(e.id);if(!i.nonce)return a.transactionRejected(e.id);let w=await r.eth.signAndSendTransaction(i);return a.any(e.id,{result:w})},"handler");p();d();var uu=o(async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,i=await t.eth.getSelectedAccount();if(n.toLowerCase()!==i)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let c=await t.eth.signMessage(s);return a.result(e.id,c)},"handler");p();d();var mu=o(async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return a.unauthorized(e.id);let{context:s}=e.params,{origin:i,hostname:c}=n.getOriginAndHostname(s.blinkUrl);if(!t||!i||!c)return a.unauthorized(e.id);await r.addTrustedApp(i,{icon:new URL(n.getFaviconURL(c)),url:new URL(i)});let l=await r.eth.getSelectedAccount();return a.result(e.id,[l])},"handler");var Qt={};De(Qt,{sol_mwa_authorize:()=>fu,sol_mwa_reauthorize:()=>hu,sol_mwa_sign_and_send_transactions:()=>gu,sol_mwa_sign_messages:()=>xu,sol_mwa_sign_transactions:()=>yu});p();d();p();d();var hu=o(async({request:e},t)=>a.result(e.id,{type:"REAUTHORIZE_SUCCESS"}),"handler");p();d();var fu=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{cluster:s="mainnet-beta",identity:i}=e.params,{identityUri:c,iconRelativeUri:l}=i;if(!c)return r.error("identityUri is not defined in sol_mwa_authorize rpc request payload"),a.result(e.id,{type:"AUTHORIZE_DECLINE"});let m=s==="mainnet-beta"?"mainnet":"testnet",f=await t.sol.getNetworkId()===bc.value?"mainnet":"testnet";if(m!==f)return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:ae(),params:[{url:`phantom.app.mwa-${c}`,icon:l?`${c}/${l}`:n.getFaviconURL(c)},f]}),a.result(e.id,{type:"AUTHORIZE_DECLINE"});if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:c,icon:l?`${c}/${l}`:n.getFaviconURL(c)}]}))return a.result(e.id,{type:"AUTHORIZE_DECLINE"});let x=await t.sol.getSelectedAccount();return a.result(e.id,{type:"AUTHORIZE_SUCCESS",publicKey:x,accountLabel:"phantom-wallet"})},"handler");p();d();var ca=ie(Fr(),1);var gu=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:c}=e.params.signPayloads,{identityUri:l,iconRelativeUri:m}=c.identity,f=await t.sol.getSelectedAccount();if(s!==f)return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_and_send_transactions rpc request payload"),a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});let w=i.map(R=>ca.default.encode(Buffer.from(R,"base64"))),x=await Promise.all(w.map(R=>t.sol.addPriorityFee(R)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:ae(),params:[{url:`phantom.app.mwa-${l}`,icon:m?`${l}/${m}`:n.getFaviconURL(l)},{transactions:x,autoConfirmStatusCode:ye.Disabled}]}))return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});try{let R=await t.sol.signAllTransactions(x);await t.sol.sendAllTransactions(R.map(_=>_.transaction));let b=R.map(_=>Buffer.from(ca.default.decode(_.signature)).toString("base64"));return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_SUCCESS",signedPayloads:b})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Internal error"})}},"handler");p();d();var pa=ie(Fr(),1);var yu=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:c}=e.params.signPayloads,{identityUri:l,iconRelativeUri:m}=c.identity,f=await t.sol.getSelectedAccount();if(s!==f)return a.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_transactions rpc request payload"),a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let w=i.map(R=>pa.default.encode(Buffer.from(R,"base64"))),x=await Promise.all(w.map(R=>t.sol.addPriorityFee(R)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:ae(),params:[{url:`phantom.app.mwa-${l}`,icon:m?`${l}/${m}`:n.getFaviconURL(l)},{transactions:x,autoConfirmStatusCode:ye.Disabled}]}))return a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let b=(await t.sol.signAllTransactions(x)).map(_=>Buffer.from(pa.default.decode(_.transaction)).toString("base64"));return a.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:b})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Internal error"})}},"handler");p();d();var da=ie(Fr(),1);var xu=o(async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:i,verifiableIdentity:c}=e.params.signPayloads,{identityUri:l,iconRelativeUri:m}=c.identity,f=await t.sol.getSelectedAccount();if(s!==f)return a.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_messages rpc request payload"),a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let w=da.default.encode(Buffer.from(i[0],"base64")),x={message:w,display:"utf8"};if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[{url:`phantom.app.mwa-${l}`,icon:m?`${l}/${m}`:n.getFaviconURL(l)},{...x,autoConfirmStatusCode:ye.Disabled}]}))return a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let R=await t.sol.signMessage(w),b=Buffer.from(da.default.decode(R)).toString("base64");return a.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:[b]})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Internal error"})}},"handler");var xn={};De(xn,{sol_pay_transaction:()=>bu,sol_pay_transfer:()=>wu});p();d();p();d();var wu=o(async({request:e},{wallet:t})=>await t.sol.handleSolanaPayTransfer(e.params)?a.result(e.id,null):a.error(e.id,{code:Ie.InvalidInput,message:"Missing or invalid parameters."}),"handler");p();d();var bu=o(async({request:e},{wallet:t})=>{let r=await t.sol.handleSolanaPayTransaction(e.params);if(!r){let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmSolPayError",id:ae(),params:[{url:e.params.link,icon:null}]});return"error"in l?a.error(e.id,l.error):a.invalidInput(e.id)}let{icon:n,label:s,transaction:i}=r,c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolPayTransaction",id:ae(),params:[{url:e.params.link,icon:n},{label:s,transaction:i}]});if("error"in c)return a.error(e.id,c.error);if(!i)return a.error(e.id,{code:Ie.InvalidInput,message:"Missing or invalid parameters."});switch(c.result.type){case"send":{await t.sol.sendTransaction(i);break}case"signAndSend":{let l=await t.sol.signTransaction(i);await t.sol.sendTransaction(l.transaction);break}}return a.result(e.id,null)},"handler");var wr={};De(wr,{sui_requestAccounts:()=>Su,sui_signAndExecuteTransaction:()=>Ru,sui_signMessage:()=>Au,sui_signTransaction:()=>_u});p();d();p();d();var Su=o(async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=$(t),s=Se(t),i=he(t);if(!n||!i)return a.unauthorized(e.id);let c={url:i,icon:s?new URL(s):void 0};await r.addTrustedApp(n,c);let l=await r.sui.getSelectedAccount();return a.result(e.id,l)},"handler");p();d();var _u=o(async({request:e},{wallet:t})=>{let r=await t.sui.signTransaction(e.params.address,e.params.transaction,e.params.networkID);return a.result(e.id,r)},"handler");p();d();var Au=o(async({request:e},{wallet:t})=>{let r=await t.sui.signMessage(e.params.address,e.params.message);return a.result(e.id,r)},"handler");p();d();var Ru=o(async({request:e},{wallet:t})=>{let r=await t.sui.signAndExecuteTransaction(e.params.address,e.params.transaction,e.params.networkID);return a.result(e.id,r)},"handler");var br={};De(br,{phantom_getFeatures:()=>vu,phantom_getUser:()=>ku,phantom_login:()=>Tu,phantom_logout:()=>Eu});p();d();p();d();var vu=o(async({request:e},{featureFlags:t})=>{let r=[];return await t.isEnabled("enable-phantom-login")&&r.push("phantom_login"),a.result(e.id,{features:r})},"handler");p();d();var ku=o(async({request:e},{wallet:t})=>{let r=await t.getUser();return a.result(e.id,r)},"handler");p();d();var Tu=o(async({request:e,source:t},{wallet:r,featureFlags:n})=>{if(!t)return a.userRejectedRequest(e.id);if(!await n.isEnabled("enable-phantom-login"))return a.error(e.id,{code:-32601,message:"phantom_login is currently disabled"});let i=$(t),c=he(t),l=Se(t);if(!i||!c)return a.unauthorized(e.id);let m=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveKmsLogin",params:[{url:c.toString(),icon:l},{appId:e.params.appId,publicKey:e.params.publicKey}],id:ae()});return"error"in m?a.userRejectedRequest(e.id):a.result(e.id,m.result)},"handler");p();d();var Eu=o(async({request:e})=>{try{return a.result(e.id,null)}catch{return a.internalError(e.id)}},"handler");var Sr={};De(Sr,{phantom_auto_confirm_disable:()=>Bu,phantom_auto_confirm_enable:()=>Cu,phantom_auto_confirm_status:()=>Iu,phantom_auto_confirm_supported_chains:()=>Lu});p();d();p();d();var Cu=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t),i=he(t);if(!s||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let{enabled:c,networks:l}=await r.getAutoConfirmStatus(s);if(c)return a.result(e.id,{enabled:!0,chains:l});let m=await r.fetchAutoConfirmSupportedNetworks(s);if(!m||m.length===0)return a.unsupportedMethod(e.id,"No supported networks found for this domain.");let f=e.params.chains||[],w=Se(t);if("error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEnableAutoconfirm",id:ae(),params:[{url:i.toString(),icon:w},{origin:s,requestedChains:f}]}))return a.userRejectedRequest(e.id,"User rejected auto confirm");try{await r.enableAutoConfirm(s,f);let{enabled:g,networks:R}=await r.getAutoConfirmStatus(s);return a.result(e.id,{enabled:g,chains:R})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Failed to enable auto confirm"})}},"handler");p();d();var Iu=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let{enabled:i,networks:c}=await r.getAutoConfirmStatus(s);return a.result(e.id,{enabled:i,chains:c})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Failed to get auto confirm status"})}},"handler");p();d();var Bu=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{await r.disableAutoConfirm(s);let{enabled:i,networks:c}=await r.getAutoConfirmStatus(s);return a.result(e.id,{enabled:i,chains:c})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Failed to disable auto confirm"})}},"handler");p();d();var Lu=o(async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=$(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let i=await r.fetchAutoConfirmSupportedNetworks(s);return a.result(e.id,{chains:i})}catch{return a.error(e.id,{code:Ie.InternalError,message:"Failed to get supported chains for auto confirm"})}},"handler");var pg=o((e,t="BrowserTabRpcRequestSource")=>({sol_connect:j().parse(Bt.sol_connect).context(e).use([Pe(10),se(t),V,Ke,it,ce,Zi],bt.sol_connect),sol_disconnect:j().parse(Bt.sol_disconnect).context(e).use([V,se(t),it,ce],bt.sol_disconnect),sol_signAllTransactions:j().parse(Bt.sol_signAllTransactions).context(e).use([V,se(t),Ge,it,ce,We(t),Xt,Xi],bt.sol_signAllTransactions),sol_signAndSendTransaction:j().parse(Bt.sol_signAndSendTransaction).context(e).use([V,se(t),Ge,it,ce,We(t),Xt,ea],bt.sol_signAndSendTransaction),sol_signAndSendAllTransactions:j().parse(Bt.sol_signAndSendAllTransactions).context(e).use([V,se(t),Ge,it,ce,We(t),Xt,Ji],bt.sol_signAndSendAllTransactions),sol_signMessage:j().parse(Bt.sol_signMessage).context(e).use([V,se(t),Ge,it,ce,We(t),Ui,ta],bt.sol_signMessage),sol_signTransaction:j().parse(Bt.sol_signTransaction).context(e).use([V,se(t),Ge,it,ce,We(t),Xt,na],bt.sol_signTransaction),sol_signIn:j().parse(Bt.sol_signIn).context(e).use([V,se(t),Ke,it,ce],bt.sol_signIn)}),"initialize");var ua={};De(ua,{initialize:()=>dg});p();d();var dg=o((e,t="BrowserTabRpcRequestSource")=>({btc_requestAccounts:j().parse(Mn.btc_requestAccounts).context(e).use([Pe(10),se(t),V,gn,Ni],zr.btc_requestAccounts),btc_signPSBT:j().parse(Mn.btc_signPSBT).context(e).use([V,se(t),gn,Oi],zr.btc_signPSBT),btc_signMessage:j().parse(Mn.btc_signMessage).context(e).use([V,se(t),gn,Di],zr.btc_signMessage)}),"initialize");var ma={};De(ma,{initialize:()=>lg});p();d();var lg=o(e=>({phantom_deep_link_browse:j().parse(Oe.phantom_deep_link_browse).context(e).use([Pe(10),V,at],Le.phantom_deep_link_browse),phantom_deep_link_tokens:j().parse(Oe.phantom_deep_link_tokens).context(e).use([V,at],Le.phantom_deep_link_tokens),phantom_deep_link_swap:j().parse(Oe.phantom_deep_link_swap).context(e).use([V,Ke],Le.phantom_deep_link_swap),phantom_deep_link_navigate:j().parse(Oe.phantom_deep_link_navigate).context(e).use([V,Ke],Le.phantom_deep_link_navigate),phantom_deep_link_explore:j().parse(Oe.phantom_deep_link_explore).context(e).use([V],Le.phantom_deep_link_explore),phantom_deep_link_feature_flags:j().parse(Oe.phantom_deep_link_feature_flags).context(e).use([V,Ke],Le.phantom_deep_link_feature_flags),phantom_deep_link_onramp:j().parse(Oe.phantom_deep_link_onramp).context(e).use([V,Ke],Le.phantom_deep_link_onramp),phantom_deep_link_fungible:j().parse(Oe.phantom_deep_link_fungible).context(e).use([V],Le.phantom_deep_link_fungible),phantom_deep_link_user:j().parse(Oe.phantom_deep_link_user).context(e).use([V,at],Le.phantom_deep_link_user),phantom_deep_link_social:j().parse(Oe.phantom_deep_link_social).context(e).use([V,Ke],Le.phantom_deep_link_social),phantom_deep_link_notification_center:j().parse(Oe.phantom_deep_link_notification_center).context(e).use([V,Ke],Le.phantom_deep_link_notification_center),phantom_deep_link_token_chat:j().parse(Oe.phantom_deep_link_token_chat).context(e).use([V,Ke],Le.phantom_deep_link_token_chat),phantom_deep_link_mint_psol_marketing:j().parse(Oe.phantom_deep_link_mint_psol_marketing).context(e).use([V,Ke],Le.phantom_deep_link_mint_psol_marketing),phantom_deep_link_onboard:j().parse(Oe.phantom_deep_link_onboard).context(e).use([V],Le.phantom_deep_link_onboard),phantom_deep_link_connect:j().parse(Oe.phantom_deep_link_connect).context(e).use([V,at],Le.phantom_deep_link_connect),phantom_deep_link_disconnect:j().parse(Oe.phantom_deep_link_disconnect).context(e).use([V,at],Le.phantom_deep_link_disconnect),phantom_deep_link_signMessage:j().parse(Oe.phantom_deep_link_signMessage).context(e).use([V,at],Le.phantom_deep_link_signMessage),phantom_deep_link_signIn:j().parse(Oe.phantom_deep_link_signIn).context(e).use([V,at],Le.phantom_deep_link_signIn),phantom_deep_link_signTransaction:j().parse(Oe.phantom_deep_link_signTransaction).context(e).use([V,at],Le.phantom_deep_link_signTransaction),phantom_deep_link_signAllTransactions:j().parse(Oe.phantom_deep_link_signAllTransactions).context(e).use([V,at],Le.phantom_deep_link_signAllTransactions),phantom_deep_link_signAndSendTransaction:j().parse(Oe.phantom_deep_link_signAndSendTransaction).context(e).use([V,at],Le.phantom_deep_link_signAndSendTransaction),phantom_deep_link_signAndSendAllTransactions:j().parse(Oe.phantom_deep_link_signAndSendAllTransactions).context(e).use([V,at],Le.phantom_deep_link_signAndSendAllTransactions),phantom_deep_link_perps:j().parse(Oe.phantom_deep_link_perps).context(e).use([V,Ke],Le.phantom_deep_link_perps),phantom_deep_link_perps_leaderboard:j().parse(Oe.phantom_deep_link_perps_leaderboard).context(e).use([V,Ke],Le.phantom_deep_link_perps_leaderboard),phantom_deep_link_cash:j().parse(Oe.phantom_deep_link_cash).context(e).use([V,at],Le.phantom_deep_link_cash),phantom_deep_link_feedback_perps:j().parse(Oe.phantom_deep_link_feedback_perps).context(e).use([V,Ke],Le.phantom_deep_link_feedback_perps),phantom_deep_link_convert_stake_account:j().parse(Oe.phantom_deep_link_convert_stake_account).context(e).use([V,Ke],Le.phantom_deep_link_convert_stake_account)}),"initialize");var ha={};De(ha,{initialize:()=>ug});p();d();var ug=o((e,t="BrowserTabRpcRequestSource")=>({sol_blink_connect:j().parse(Ln.sol_blink_connect).context(e).use([Pe(10),se(t),V,it,ce,Nt,Yi],Vr.sol_blink_connect),sol_blink_signMessage:j().parse(Ln.sol_blink_signMessage).context(e).use([V,se(t),Ge,it,ce,Nt,xr,ra],Vr.sol_blink_signMessage),sol_blink_signAndSendAllTransactions:j().parse(Ln.sol_blink_signAndSendAllTransactions).context(e).use([V,se(t),Ge,it,ce,Nt,xr,Xt,Qi],Vr.sol_blink_signAndSendAllTransactions)}),"initialize");var fa={};De(fa,{initialize:()=>mg});p();d();var mg=o((e,t="BrowserTabRpcRequestSource")=>({eth_blink_requestAccounts:j().parse(Bn.eth_blink_requestAccounts).context(e).use([Pe(100),se(t),V,xe,ce,Nt,Mi,qi],jr.eth_blink_requestAccounts),eth_blink_sendTransaction:j().parse(Bn.eth_blink_sendTransaction).context(e).use([se(t),V,Ge,ce,Nt,xr,yn,Bi,$i],jr.eth_blink_sendTransaction),eth_blink_sign:j().parse(Bn.eth_blink_sign).context(e).use([se(t),V,Ge,ce,Nt,xr,zi],jr.eth_blink_sign)}),"initialize");var ga={};De(ga,{initialize:()=>hg});p();d();var hg=o(e=>({sol_mwa_authorize:j().parse(Er.sol_mwa_authorize).context(e).use([Pe(10),V,$r],Qt.sol_mwa_authorize),sol_mwa_reauthorize:j().parse(Er.sol_mwa_reauthorize).context(e).use([V],Qt.sol_mwa_reauthorize),sol_mwa_sign_messages:j().parse(Er.sol_mwa_sign_messages).context(e).use([V,$r],Qt.sol_mwa_sign_messages),sol_mwa_sign_transactions:j().parse(Er.sol_mwa_sign_transactions).context(e).use([V,$r],Qt.sol_mwa_sign_transactions),sol_mwa_sign_and_send_transactions:j().parse(Er.sol_mwa_sign_and_send_transactions).context(e).use([V,$r],Qt.sol_mwa_sign_and_send_transactions)}),"initialize");var ya={};De(ya,{initialize:()=>fg});p();d();var fg=o(e=>({sol_pay_transfer:j().parse(jo.sol_pay_transfer).context(e).use([V],xn.sol_pay_transfer),sol_pay_transaction:j().parse(jo.sol_pay_transaction).context(e).use([V],xn.sol_pay_transaction)}),"initialize");var xa={};De(xa,{initialize:()=>gg});p();d();var gg=o((e,t="BrowserTabRpcRequestSource")=>({sui_requestAccounts:j().parse(nn.sui_requestAccounts).context(e).use([Pe(100),se(t),V,Ke,Wr,ce,sa],wr.sui_requestAccounts),sui_signMessage:j().parse(nn.sui_signMessage).context(e).use([V,se(t),Wr,ce,We(t),ia],wr.sui_signMessage),sui_signTransaction:j().parse(nn.sui_signTransaction).context(e).use([V,se(t),Wr,ce,We(t),yo],wr.sui_signTransaction),sui_signAndExecuteTransaction:j().parse(nn.sui_signAndExecuteTransaction).context(e).use([V,se(t),Wr,ce,We(t),yo],wr.sui_signAndExecuteTransaction)}),"initialize");var wa={};De(wa,{initialize:()=>yg});p();d();var yg=o(e=>({phantom_getFeatures:j().parse(rn.phantom_getFeatures).context(e).use([Pe(10),V],br.phantom_getFeatures),phantom_getUser:j().parse(rn.phantom_getUser).context(e).use([Pe(10),V],br.phantom_getUser),phantom_login:j().parse(rn.phantom_login).context(e).use([Pe(10),V,Ke],br.phantom_login),phantom_logout:j().parse(rn.phantom_logout).context(e).use([Pe(10),V],br.phantom_logout)}),"initialize");var ba={};De(ba,{initialize:()=>xg});p();d();var xg=o((e,t="BrowserTabRpcRequestSource")=>({phantom_auto_confirm_enable:j().parse(tn.phantom_auto_confirm_enable).context(e).use([Pe(10),V,se(t),ce,We(t)],Sr.phantom_auto_confirm_enable),phantom_auto_confirm_status:j().parse(tn.phantom_auto_confirm_status).context(e).use([Pe(10),V,se(t),ce,We(t)],Sr.phantom_auto_confirm_status),phantom_auto_confirm_disable:j().parse(tn.phantom_auto_confirm_disable).context(e).use([Pe(10),V,se(t),ce,We(t)],Sr.phantom_auto_confirm_disable),phantom_auto_confirm_supported_chains:j().parse(tn.phantom_auto_confirm_supported_chains).context(e).use([Pe(10),V,se(t),ce,We(t)],Sr.phantom_auto_confirm_supported_chains)}),"initialize");p();d();p();d();var Mu={isEnabled:o(async e=>hr.isFeatureEnabledAsync(e),"isEnabled")};p();d();var Uu={getValue:o(async e=>Pc(e),"getValue")};p();d();var Et=o(e=>t=>{Ce.capture(e,{data:t})},"captureEventData"),Nu={deepLinkDetected:Et("deepLinkDetected"),tokenDeepLink:Et("deepLinkTokens"),userDeepLink:Et("deepLinkUser"),metamaskOverrideSelection:Et("notificationMetamaskOverrideSelection"),approveConnection:Et("connectionConfirm"),declineConnection:Et("connectionDeny"),approveSignMessage:Et("signMessageConfirm"),declineSignMessage:Et("signMessageDeny"),approveTransaction:Et("transactionConfirm"),declineTransaction:Et("transactionDeny"),eth:{submittedTransaction:o(async({origin:e,request:t,signatures:r,walletAddress:n})=>{try{let s=await pn(t,{origin:e},r);if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await ns(Ce,{data:{...s.data,ids:s.data.ids??r,walletAddress:n},action:"dapp"})}catch(s){de.captureError(s,me.Provider)}},"submittedTransaction"),signedMessage:o(async({origin:e,request:t,chainId:r,walletAddress:n})=>{try{let s=await dn(t,{origin:e,chainId:Go(r)});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await os(Ce,{...s.data,walletAddress:n})}catch(s){de.captureError(s,me.Provider)}},"signedMessage"),autoConfirmedTransaction:o(async({origin:e,request:t,data:r,walletAddress:n})=>{try{let s=new mn(Ce),i=await pn(t,{origin:e});if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await s.transactionAutoConfirmed({...i.data,autoConfirm:r,walletAddress:n})}catch(s){de.captureError(s,me.Provider)}},"autoConfirmedTransaction"),autoConfirmedMessage:o(async({origin:e,request:t,chainId:r,data:n,walletAddress:s})=>{try{let i=new mn(Ce),c=await dn(t,{origin:e,chainId:Go(r)});if(!c.success)throw new Error(`Failed to capture signature event analytics: ${c.error}`);await i.messageAutoConfirmed({...c.data,autoConfirm:n,walletAddress:s})}catch(i){de.captureError(i,me.Provider)}},"autoConfirmedMessage"),unsupportedChain:o(async({origin:e,data:t})=>{try{await Ce.capture("unsupportedChainId",{data:{origin:e,chainType:"eip155",chainId:Nr(t.hexChainId),chainName:t.chainName,method:t.method}})}catch(r){de.captureError(r,me.Provider)}},"unsupportedChain")},sol:{submittedTransaction:o(async({origin:e,request:t,chainId:r,signatures:n,walletAddress:s})=>{try{let i=await pn(t,{origin:e,chainId:r},n);if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await ns(Ce,{data:{...i.data,ids:i.data.ids??n,walletAddress:s},action:"dapp"})}catch(i){de.captureError(i,me.Provider)}},"submittedTransaction"),signedMessage:o(async({origin:e,request:t,chainId:r,walletAddress:n})=>{try{let s=await dn(t,{origin:e,chainId:r});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await os(Ce,{...s.data,walletAddress:n})}catch(s){de.captureError(s,me.Provider)}},"signedMessage"),autoConfirmedTransaction:o(async({origin:e,request:t,data:r,chainId:n,walletAddress:s})=>{try{let i=new mn(Ce),c=await pn(t,{origin:e,chainId:n});if(!c.success)throw new Error(`Failed to capture signature event analytics: ${c.error}`);await i.transactionAutoConfirmed({...c.data,autoConfirm:r,walletAddress:s})}catch(i){de.captureError(i,me.Provider)}},"autoConfirmedTransaction"),autoConfirmedMessage:o(async({origin:e,request:t,chainId:r,data:n,walletAddress:s})=>{try{let i=new mn(Ce),c=await dn(t,{origin:e,chainId:r});if(!c.success)throw new Error(`Failed to capture signature event analytics: ${c.error}`);await i.messageAutoConfirmed({...c.data,autoConfirm:n,walletAddress:s})}catch(i){de.captureError(i,me.Provider)}},"autoConfirmedMessage")}};p();d();var Du={env:Nn()?"production":"development",logRequestMethods:new Set(["eth_requestAccounts","eth_accounts","eth_sendTransaction","eth_sign","personal_sign"]),logRequestsOnError:!0};p();d();var Ou={t(e){return e}};p();d();var Pu={debug(...e){console.debug(...e)},warn(...e){console.warn(...e)},error(...e){de.addBreadcrumb(me.Provider,e.join(", "),Ne.Error)}};p();d();var qu={eth:yp};p();d();p();d();p();d();p();d();p();d();var wn;(function(e){e[e.ALT=1]="ALT",e[e.CAT=2]="CAT",e[e.REP=3]="REP",e[e.RNM=4]="RNM",e[e.TRG=5]="TRG",e[e.TBS=6]="TBS",e[e.TLS=7]="TLS",e[e.UDT=11]="UDT",e[e.AND=12]="AND",e[e.NOT=13]="NOT",e[e.BKR=14]="BKR",e[e.BKA=15]="BKA",e[e.BKN=16]="BKN",e[e.ABG=17]="ABG",e[e.AEN=18]="AEN",e[e.ACTIVE=100]="ACTIVE",e[e.MATCH=101]="MATCH",e[e.EMPTY=102]="EMPTY",e[e.NOMATCH=103]="NOMATCH",e[e.SEM_PRE=200]="SEM_PRE",e[e.SEM_POST=201]="SEM_POST",e[e.SEM_OK=300]="SEM_OK",e[e.SEM_SKIP=301]="SEM_SKIP",e[e.ATTR_N=400]="ATTR_N",e[e.ATTR_R=401]="ATTR_R",e[e.ATTR_MR=402]="ATTR_MR",e[e.LOOKAROUND_NONE=500]="LOOKAROUND_NONE",e[e.LOOKAROUND_AHEAD=501]="LOOKAROUND_AHEAD",e[e.LOOKAROUND_BEHIND=502]="LOOKAROUND_BEHIND",e[e.BKR_MODE_UM=601]="BKR_MODE_UM",e[e.BKR_MODE_PM=602]="BKR_MODE_PM",e[e.BKR_MODE_CS=603]="BKR_MODE_CS",e[e.BKR_MODE_CI=604]="BKR_MODE_CI"})(wn||(wn={}));var ut;(function(e){e.Ethereum="sign-in-with-ethereum",e.Solana="sign-in-with-solana",e.X="sign-in-with-x"})(ut||(ut={}));var Ve;(function(e){e.ADDRESS_MISMATCH="ADDRESS_MISMATCH",e.DOMAIN_MISMATCH="DOMAIN_MISMATCH",e.URI_MISMATCH="URI_MISMATCH",e.CHAIN_ID_MISMATCH="CHAIN_ID_MISMATCH",e.ISSUED_TOO_FAR_IN_THE_PAST="ISSUED_TOO_FAR_IN_THE_PAST",e.ISSUED_TOO_FAR_IN_THE_FUTURE="ISSUED_TOO_FAR_IN_THE_FUTURE",e.EXPIRED="EXPIRED",e.EXPIRES_BEFORE_ISSUANCE="EXPIRES_BEFORE_ISSUANCE",e.VALID_AFTER_EXPIRATION="VALID_AFTER_EXPIRATION"})(Ve||(Ve={}));function xo(e,t){let{expectedAddress:r,expectedURL:n,expectedChainId:s,issuedAtThreshold:i}=t,c=[],l=Date.now();if(e.address!==r&&c.push(Ve.ADDRESS_MISMATCH),e.domain!==n.host&&c.push(Ve.DOMAIN_MISMATCH),e.uri&&e.uri.origin!==n.origin&&c.push(Ve.URI_MISMATCH),e.chainId&&(e.type!==ut.Solana&&e.chainId!==s||e.type===ut.Solana&&e.chainId.replace(/solana:/g,"")!==s)&&c.push(Ve.CHAIN_ID_MISMATCH),e.issuedAt){let m=e.issuedAt.getTime();Math.abs(m-l)>i&&(m<l?c.push(Ve.ISSUED_TOO_FAR_IN_THE_PAST):c.push(Ve.ISSUED_TOO_FAR_IN_THE_FUTURE))}if(e.expirationTime){let m=e.expirationTime.getTime();m<=l&&c.push(Ve.EXPIRED),e.issuedAt&&m<e.issuedAt.getTime()&&c.push(Ve.EXPIRES_BEFORE_ISSUANCE),e.notBefore&&e.notBefore.getTime()>m&&c.push(Ve.VALID_AFTER_EXPIRATION)}return c}o(xo,"verify");p();d();p();d();o(function e(t,r,n){function s(l,m){if(!r[l]){if(!t[l]){var f=typeof en=="function"&&en;if(!m&&f)return f(l,!0);if(i)return i(l,!0);var w=new Error("Cannot find module '"+l+"'");throw w.code="MODULE_NOT_FOUND",w}var x=r[l]={exports:{}};t[l][0].call(x.exports,function(g){return s(t[l][1][g]||g)},x,x.exports,e,t,r,n)}return r[l].exports}o(s,"o");for(var i=typeof en=="function"&&en,c=0;c<n.length;c++)s(n[c]);return s},"e")({1:[function(e,t,r){"use strict";r.byteLength=function(x){var g=f(x),R=g[0],b=g[1];return 3*(R+b)/4-b},r.toByteArray=function(x){var g,R,b=f(x),_=b[0],y=b[1],v=new i(function(B,O,U){return 3*(O+U)/4-U}(0,_,y)),I=0,C=y>0?_-4:_;for(R=0;R<C;R+=4)g=s[x.charCodeAt(R)]<<18|s[x.charCodeAt(R+1)]<<12|s[x.charCodeAt(R+2)]<<6|s[x.charCodeAt(R+3)],v[I++]=g>>16&255,v[I++]=g>>8&255,v[I++]=255&g;return y===2&&(g=s[x.charCodeAt(R)]<<2|s[x.charCodeAt(R+1)]>>4,v[I++]=255&g),y===1&&(g=s[x.charCodeAt(R)]<<10|s[x.charCodeAt(R+1)]<<4|s[x.charCodeAt(R+2)]>>2,v[I++]=g>>8&255,v[I++]=255&g),v},r.fromByteArray=function(x){for(var g,R=x.length,b=R%3,_=[],y=16383,v=0,I=R-b;v<I;v+=y)_.push(w(x,v,v+y>I?I:v+y));return b===1?(g=x[R-1],_.push(n[g>>2]+n[g<<4&63]+"==")):b===2&&(g=(x[R-2]<<8)+x[R-1],_.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),_.join("")};for(var n=[],s=[],i=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,m=c.length;l<m;++l)n[l]=c[l],s[c.charCodeAt(l)]=l;function f(x){var g=x.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=x.indexOf("=");return R===-1&&(R=g),[R,R===g?0:4-R%4]}o(f,"c");function w(x,g,R){for(var b,_,y=[],v=g;v<R;v+=3)b=(x[v]<<16&16711680)+(x[v+1]<<8&65280)+(255&x[v+2]),y.push(n[(_=b)>>18&63]+n[_>>12&63]+n[_>>6&63]+n[63&_]);return y.join("")}o(w,"l"),s[45]=62,s[95]=63},{}],2:[function(e,t,r){(function(n){(function(){"use strict";var s=e("base64-js"),i=e("ieee754");r.Buffer=m,r.SlowBuffer=function(u){return+u!=u&&(u=0),m.alloc(+u)},r.INSPECT_MAX_BYTES=50;var c=2147483647;function l(u){if(u>c)throw new RangeError('The value "'+u+'" is invalid for option "size"');var h=new Uint8Array(u);return h.__proto__=m.prototype,h}o(l,"a");function m(u,h,S){if(typeof u=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(u)}return f(u,h,S)}o(m,"s");function f(u,h,S){if(typeof u=="string")return function(E,k){if(typeof k=="string"&&k!==""||(k="utf8"),!m.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var H=0|b(E,k),Z=l(H),K=Z.write(E,k);return K!==H&&(Z=Z.slice(0,K)),Z}(u,h);if(ArrayBuffer.isView(u))return g(u);if(u==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(le(u,ArrayBuffer)||u&&le(u.buffer,ArrayBuffer))return function(E,k,H){if(k<0||E.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<k+(H||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return Z=k===void 0&&H===void 0?new Uint8Array(E):H===void 0?new Uint8Array(E,k):new Uint8Array(E,k,H),Z.__proto__=m.prototype,Z}(u,h,S);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=u.valueOf&&u.valueOf();if(T!=null&&T!==u)return m.from(T,h,S);var L=function(E){if(m.isBuffer(E)){var k=0|R(E.length),H=l(k);return H.length===0||E.copy(H,0,0,k),H}if(E.length!==void 0)return typeof E.length!="number"||F(E.length)?l(0):g(E);if(E.type==="Buffer"&&Array.isArray(E.data))return g(E.data)}(u);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return m.from(u[Symbol.toPrimitive]("string"),h,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}o(f,"i");function w(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}o(w,"h");function x(u){return w(u),l(u<0?0:0|R(u))}o(x,"c");function g(u){for(var h=u.length<0?0:0|R(u.length),S=l(h),T=0;T<h;T+=1)S[T]=255&u[T];return S}o(g,"l");function R(u){if(u>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|u}o(R,"f");function b(u,h){if(m.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||le(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);var S=u.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&S===0)return 0;for(var L=!1;;)switch(h){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return pe(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return ee(u).length;default:if(L)return T?-1:pe(u).length;h=(""+h).toLowerCase(),L=!0}}o(b,"u");function _(u,h,S){var T=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(h>>>=0))return"";for(u||(u="utf8");;)switch(u){case"hex":return q(this,h,S);case"utf8":case"utf-8":return _e(this,h,S);case"ascii":return ne(this,h,S);case"latin1":case"binary":return W(this,h,S);case"base64":return X(this,h,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,h,S);default:if(T)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),T=!0}}o(_,"p");function y(u,h,S){var T=u[h];u[h]=u[S],u[S]=T}o(y,"d");function v(u,h,S,T,L){if(u.length===0)return-1;if(typeof S=="string"?(T=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),F(S=+S)&&(S=L?0:u.length-1),S<0&&(S=u.length+S),S>=u.length){if(L)return-1;S=u.length-1}else if(S<0){if(!L)return-1;S=0}if(typeof h=="string"&&(h=m.from(h,T)),m.isBuffer(h))return h.length===0?-1:I(u,h,S,T,L);if(typeof h=="number")return h&=255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(u,h,S):Uint8Array.prototype.lastIndexOf.call(u,h,S):I(u,[h],S,T,L);throw new TypeError("val must be string, number or Buffer")}o(v,"g");function I(u,h,S,T,L){var E,k=1,H=u.length,Z=h.length;if(T!==void 0&&((T=String(T).toLowerCase())==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(u.length<2||h.length<2)return-1;k=2,H/=2,Z/=2,S/=2}function K(Me,qe){return k===1?Me[qe]:Me.readUInt16BE(qe*k)}if(o(K,"c"),L){var te=-1;for(E=S;E<H;E++)if(K(u,E)===K(h,te===-1?0:E-te)){if(te===-1&&(te=E),E-te+1===Z)return te*k}else te!==-1&&(E-=E-te),te=-1}else for(S+Z>H&&(S=H-Z),E=S;E>=0;E--){for(var Ae=!0,ke=0;ke<Z;ke++)if(K(u,E+ke)!==K(h,ke)){Ae=!1;break}if(Ae)return E}return-1}o(I,"b");function C(u,h,S,T){S=Number(S)||0;var L=u.length-S;T?(T=Number(T))>L&&(T=L):T=L;var E=h.length;T>E/2&&(T=E/2);for(var k=0;k<T;++k){var H=parseInt(h.substr(2*k,2),16);if(F(H))return k;u[S+k]=H}return k}o(C,"A");function B(u,h,S,T){return oe(pe(h,u.length-S),u,S,T)}o(B,"T");function O(u,h,S,T){return oe(function(L){for(var E=[],k=0;k<L.length;++k)E.push(255&L.charCodeAt(k));return E}(h),u,S,T)}o(O,"m");function U(u,h,S,T){return O(u,h,S,T)}o(U,"w");function Q(u,h,S,T){return oe(ee(h),u,S,T)}o(Q,"E");function G(u,h,S,T){return oe(function(L,E){for(var k,H,Z,K=[],te=0;te<L.length&&!((E-=2)<0);++te)H=(k=L.charCodeAt(te))>>8,Z=k%256,K.push(Z),K.push(H);return K}(h,u.length-S),u,S,T)}o(G,"y");function X(u,h,S){return h===0&&S===u.length?s.fromByteArray(u):s.fromByteArray(u.slice(h,S))}o(X,"C");function _e(u,h,S){S=Math.min(u.length,S);for(var T=[],L=h;L<S;){var E,k,H,Z,K=u[L],te=null,Ae=K>239?4:K>223?3:K>191?2:1;if(L+Ae<=S)switch(Ae){case 1:K<128&&(te=K);break;case 2:(192&(E=u[L+1]))==128&&(Z=(31&K)<<6|63&E)>127&&(te=Z);break;case 3:E=u[L+1],k=u[L+2],(192&E)==128&&(192&k)==128&&(Z=(15&K)<<12|(63&E)<<6|63&k)>2047&&(Z<55296||Z>57343)&&(te=Z);break;case 4:E=u[L+1],k=u[L+2],H=u[L+3],(192&E)==128&&(192&k)==128&&(192&H)==128&&(Z=(15&K)<<18|(63&E)<<12|(63&k)<<6|63&H)>65535&&Z<1114112&&(te=Z)}te===null?(te=65533,Ae=1):te>65535&&(te-=65536,T.push(te>>>10&1023|55296),te=56320|1023&te),T.push(te),L+=Ae}return function(ke){var Me=ke.length;if(Me<=re)return String.fromCharCode.apply(String,ke);for(var qe="",$e=0;$e<Me;)qe+=String.fromCharCode.apply(String,ke.slice($e,$e+=re));return qe}(T)}o(_e,"S"),r.kMaxLength=c,m.TYPED_ARRAY_SUPPORT=function(){try{var u=new Uint8Array(1);return u.__proto__={__proto__:Uint8Array.prototype,foo:o(function(){return 42},"foo")},u.foo()===42}catch{return!1}}(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:o(function(){if(m.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:o(function(){if(m.isBuffer(this))return this.byteOffset},"get")}),typeof Symbol<"u"&&Symbol.species!=null&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(u,h,S){return f(u,h,S)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(u,h,S){return function(T,L,E){return w(T),T<=0?l(T):L!==void 0?typeof E=="string"?l(T).fill(L,E):l(T).fill(L):l(T)}(u,h,S)},m.allocUnsafe=function(u){return x(u)},m.allocUnsafeSlow=function(u){return x(u)},m.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==m.prototype},m.compare=function(u,h){if(le(u,Uint8Array)&&(u=m.from(u,u.offset,u.byteLength)),le(h,Uint8Array)&&(h=m.from(h,h.offset,h.byteLength)),!m.isBuffer(u)||!m.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===h)return 0;for(var S=u.length,T=h.length,L=0,E=Math.min(S,T);L<E;++L)if(u[L]!==h[L]){S=u[L],T=h[L];break}return S<T?-1:T<S?1:0},m.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(u,h){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return m.alloc(0);var S;if(h===void 0)for(h=0,S=0;S<u.length;++S)h+=u[S].length;var T=m.allocUnsafe(h),L=0;for(S=0;S<u.length;++S){var E=u[S];if(le(E,Uint8Array)&&(E=m.from(E)),!m.isBuffer(E))throw new TypeError('"list" argument must be an Array of Buffers');E.copy(T,L),L+=E.length}return T},m.byteLength=b,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var u=this.length;if(u%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<u;h+=2)y(this,h,h+1);return this},m.prototype.swap32=function(){var u=this.length;if(u%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<u;h+=4)y(this,h,h+3),y(this,h+1,h+2);return this},m.prototype.swap64=function(){var u=this.length;if(u%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<u;h+=8)y(this,h,h+7),y(this,h+1,h+6),y(this,h+2,h+5),y(this,h+3,h+4);return this},m.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?_e(this,0,u):_.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(u){if(!m.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u||m.compare(this,u)===0},m.prototype.inspect=function(){var u="",h=r.INSPECT_MAX_BYTES;return u=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(u+=" ... "),"<Buffer "+u+">"},m.prototype.compare=function(u,h,S,T,L){if(le(u,Uint8Array)&&(u=m.from(u,u.offset,u.byteLength)),!m.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(h===void 0&&(h=0),S===void 0&&(S=u?u.length:0),T===void 0&&(T=0),L===void 0&&(L=this.length),h<0||S>u.length||T<0||L>this.length)throw new RangeError("out of range index");if(T>=L&&h>=S)return 0;if(T>=L)return-1;if(h>=S)return 1;if(this===u)return 0;for(var E=(L>>>=0)-(T>>>=0),k=(S>>>=0)-(h>>>=0),H=Math.min(E,k),Z=this.slice(T,L),K=u.slice(h,S),te=0;te<H;++te)if(Z[te]!==K[te]){E=Z[te],k=K[te];break}return E<k?-1:k<E?1:0},m.prototype.includes=function(u,h,S){return this.indexOf(u,h,S)!==-1},m.prototype.indexOf=function(u,h,S){return v(this,u,h,S,!0)},m.prototype.lastIndexOf=function(u,h,S){return v(this,u,h,S,!1)},m.prototype.write=function(u,h,S,T){if(h===void 0)T="utf8",S=this.length,h=0;else if(S===void 0&&typeof h=="string")T=h,S=this.length,h=0;else{if(!isFinite(h))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");h>>>=0,isFinite(S)?(S>>>=0,T===void 0&&(T="utf8")):(T=S,S=void 0)}var L=this.length-h;if((S===void 0||S>L)&&(S=L),u.length>0&&(S<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");for(var E=!1;;)switch(T){case"hex":return C(this,u,h,S);case"utf8":case"utf-8":return B(this,u,h,S);case"ascii":return O(this,u,h,S);case"latin1":case"binary":return U(this,u,h,S);case"base64":return Q(this,u,h,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,u,h,S);default:if(E)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),E=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var re=4096;function ne(u,h,S){var T="";S=Math.min(u.length,S);for(var L=h;L<S;++L)T+=String.fromCharCode(127&u[L]);return T}o(ne,"M");function W(u,h,S){var T="";S=Math.min(u.length,S);for(var L=h;L<S;++L)T+=String.fromCharCode(u[L]);return T}o(W,"$");function q(u,h,S){var T=u.length;(!h||h<0)&&(h=0),(!S||S<0||S>T)&&(S=T);for(var L="",E=h;E<S;++E)L+=J(u[E]);return L}o(q,"k");function P(u,h,S){for(var T=u.slice(h,S),L="",E=0;E<T.length;E+=2)L+=String.fromCharCode(T[E]+256*T[E+1]);return L}o(P,"x");function N(u,h,S){if(u%1!=0||u<0)throw new RangeError("offset is not uint");if(u+h>S)throw new RangeError("Trying to access beyond buffer length")}o(N,"B");function M(u,h,S,T,L,E){if(!m.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>L||h<E)throw new RangeError('"value" argument is out of bounds');if(S+T>u.length)throw new RangeError("Index out of range")}o(M,"N");function D(u,h,S,T,L,E){if(S+T>u.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}o(D,"R");function Y(u,h,S,T,L){return h=+h,S>>>=0,L||D(u,0,S,4),i.write(u,h,S,T,23,4),S+4}o(Y,"v");function z(u,h,S,T,L){return h=+h,S>>>=0,L||D(u,0,S,8),i.write(u,h,S,T,52,8),S+8}o(z,"O"),m.prototype.slice=function(u,h){var S=this.length;(u=~~u)<0?(u+=S)<0&&(u=0):u>S&&(u=S),(h=h===void 0?S:~~h)<0?(h+=S)<0&&(h=0):h>S&&(h=S),h<u&&(h=u);var T=this.subarray(u,h);return T.__proto__=m.prototype,T},m.prototype.readUIntLE=function(u,h,S){u>>>=0,h>>>=0,S||N(u,h,this.length);for(var T=this[u],L=1,E=0;++E<h&&(L*=256);)T+=this[u+E]*L;return T},m.prototype.readUIntBE=function(u,h,S){u>>>=0,h>>>=0,S||N(u,h,this.length);for(var T=this[u+--h],L=1;h>0&&(L*=256);)T+=this[u+--h]*L;return T},m.prototype.readUInt8=function(u,h){return u>>>=0,h||N(u,1,this.length),this[u]},m.prototype.readUInt16LE=function(u,h){return u>>>=0,h||N(u,2,this.length),this[u]|this[u+1]<<8},m.prototype.readUInt16BE=function(u,h){return u>>>=0,h||N(u,2,this.length),this[u]<<8|this[u+1]},m.prototype.readUInt32LE=function(u,h){return u>>>=0,h||N(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+16777216*this[u+3]},m.prototype.readUInt32BE=function(u,h){return u>>>=0,h||N(u,4,this.length),16777216*this[u]+(this[u+1]<<16|this[u+2]<<8|this[u+3])},m.prototype.readIntLE=function(u,h,S){u>>>=0,h>>>=0,S||N(u,h,this.length);for(var T=this[u],L=1,E=0;++E<h&&(L*=256);)T+=this[u+E]*L;return T>=(L*=128)&&(T-=Math.pow(2,8*h)),T},m.prototype.readIntBE=function(u,h,S){u>>>=0,h>>>=0,S||N(u,h,this.length);for(var T=h,L=1,E=this[u+--T];T>0&&(L*=256);)E+=this[u+--T]*L;return E>=(L*=128)&&(E-=Math.pow(2,8*h)),E},m.prototype.readInt8=function(u,h){return u>>>=0,h||N(u,1,this.length),128&this[u]?-1*(255-this[u]+1):this[u]},m.prototype.readInt16LE=function(u,h){u>>>=0,h||N(u,2,this.length);var S=this[u]|this[u+1]<<8;return 32768&S?4294901760|S:S},m.prototype.readInt16BE=function(u,h){u>>>=0,h||N(u,2,this.length);var S=this[u+1]|this[u]<<8;return 32768&S?4294901760|S:S},m.prototype.readInt32LE=function(u,h){return u>>>=0,h||N(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},m.prototype.readInt32BE=function(u,h){return u>>>=0,h||N(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},m.prototype.readFloatLE=function(u,h){return u>>>=0,h||N(u,4,this.length),i.read(this,u,!0,23,4)},m.prototype.readFloatBE=function(u,h){return u>>>=0,h||N(u,4,this.length),i.read(this,u,!1,23,4)},m.prototype.readDoubleLE=function(u,h){return u>>>=0,h||N(u,8,this.length),i.read(this,u,!0,52,8)},m.prototype.readDoubleBE=function(u,h){return u>>>=0,h||N(u,8,this.length),i.read(this,u,!1,52,8)},m.prototype.writeUIntLE=function(u,h,S,T){u=+u,h>>>=0,S>>>=0,T||M(this,u,h,S,Math.pow(2,8*S)-1,0);var L=1,E=0;for(this[h]=255&u;++E<S&&(L*=256);)this[h+E]=u/L&255;return h+S},m.prototype.writeUIntBE=function(u,h,S,T){u=+u,h>>>=0,S>>>=0,T||M(this,u,h,S,Math.pow(2,8*S)-1,0);var L=S-1,E=1;for(this[h+L]=255&u;--L>=0&&(E*=256);)this[h+L]=u/E&255;return h+S},m.prototype.writeUInt8=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,1,255,0),this[h]=255&u,h+1},m.prototype.writeUInt16LE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,2,65535,0),this[h]=255&u,this[h+1]=u>>>8,h+2},m.prototype.writeUInt16BE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,2,65535,0),this[h]=u>>>8,this[h+1]=255&u,h+2},m.prototype.writeUInt32LE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,4,4294967295,0),this[h+3]=u>>>24,this[h+2]=u>>>16,this[h+1]=u>>>8,this[h]=255&u,h+4},m.prototype.writeUInt32BE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,4,4294967295,0),this[h]=u>>>24,this[h+1]=u>>>16,this[h+2]=u>>>8,this[h+3]=255&u,h+4},m.prototype.writeIntLE=function(u,h,S,T){if(u=+u,h>>>=0,!T){var L=Math.pow(2,8*S-1);M(this,u,h,S,L-1,-L)}var E=0,k=1,H=0;for(this[h]=255&u;++E<S&&(k*=256);)u<0&&H===0&&this[h+E-1]!==0&&(H=1),this[h+E]=(u/k>>0)-H&255;return h+S},m.prototype.writeIntBE=function(u,h,S,T){if(u=+u,h>>>=0,!T){var L=Math.pow(2,8*S-1);M(this,u,h,S,L-1,-L)}var E=S-1,k=1,H=0;for(this[h+E]=255&u;--E>=0&&(k*=256);)u<0&&H===0&&this[h+E+1]!==0&&(H=1),this[h+E]=(u/k>>0)-H&255;return h+S},m.prototype.writeInt8=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,1,127,-128),u<0&&(u=255+u+1),this[h]=255&u,h+1},m.prototype.writeInt16LE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,2,32767,-32768),this[h]=255&u,this[h+1]=u>>>8,h+2},m.prototype.writeInt16BE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,2,32767,-32768),this[h]=u>>>8,this[h+1]=255&u,h+2},m.prototype.writeInt32LE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,4,2147483647,-2147483648),this[h]=255&u,this[h+1]=u>>>8,this[h+2]=u>>>16,this[h+3]=u>>>24,h+4},m.prototype.writeInt32BE=function(u,h,S){return u=+u,h>>>=0,S||M(this,u,h,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[h]=u>>>24,this[h+1]=u>>>16,this[h+2]=u>>>8,this[h+3]=255&u,h+4},m.prototype.writeFloatLE=function(u,h,S){return Y(this,u,h,!0,S)},m.prototype.writeFloatBE=function(u,h,S){return Y(this,u,h,!1,S)},m.prototype.writeDoubleLE=function(u,h,S){return z(this,u,h,!0,S)},m.prototype.writeDoubleBE=function(u,h,S){return z(this,u,h,!1,S)},m.prototype.copy=function(u,h,S,T){if(!m.isBuffer(u))throw new TypeError("argument should be a Buffer");if(S||(S=0),T||T===0||(T=this.length),h>=u.length&&(h=u.length),h||(h=0),T>0&&T<S&&(T=S),T===S||u.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),u.length-h<T-S&&(T=u.length-h+S);var L=T-S;if(this===u&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(h,S,T);else if(this===u&&S<h&&h<T)for(var E=L-1;E>=0;--E)u[E+h]=this[E+S];else Uint8Array.prototype.set.call(u,this.subarray(S,T),h);return L},m.prototype.fill=function(u,h,S,T){if(typeof u=="string"){if(typeof h=="string"?(T=h,h=0,S=this.length):typeof S=="string"&&(T=S,S=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!m.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(u.length===1){var L=u.charCodeAt(0);(T==="utf8"&&L<128||T==="latin1")&&(u=L)}}else typeof u=="number"&&(u&=255);if(h<0||this.length<h||this.length<S)throw new RangeError("Out of range index");if(S<=h)return this;var E;if(h>>>=0,S=S===void 0?this.length:S>>>0,u||(u=0),typeof u=="number")for(E=h;E<S;++E)this[E]=u;else{var k=m.isBuffer(u)?u:m.from(u,T),H=k.length;if(H===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(E=0;E<S-h;++E)this[E+h]=k[E%H]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function J(u){return u<16?"0"+u.toString(16):u.toString(16)}o(J,"U");function pe(u,h){var S;h=h||1/0;for(var T=u.length,L=null,E=[],k=0;k<T;++k){if((S=u.charCodeAt(k))>55295&&S<57344){if(!L){if(S>56319){(h-=3)>-1&&E.push(239,191,189);continue}if(k+1===T){(h-=3)>-1&&E.push(239,191,189);continue}L=S;continue}if(S<56320){(h-=3)>-1&&E.push(239,191,189),L=S;continue}S=65536+(L-55296<<10|S-56320)}else L&&(h-=3)>-1&&E.push(239,191,189);if(L=null,S<128){if((h-=1)<0)break;E.push(S)}else if(S<2048){if((h-=2)<0)break;E.push(S>>6|192,63&S|128)}else if(S<65536){if((h-=3)<0)break;E.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((h-=4)<0)break;E.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return E}o(pe,"_");function ee(u){return s.toByteArray(function(h){if((h=(h=h.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(u))}o(ee,"I");function oe(u,h,S,T){for(var L=0;L<T&&!(L+S>=h.length||L>=u.length);++L)h[L+S]=u[L];return L}o(oe,"H");function le(u,h){return u instanceof h||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===h.name}o(le,"F");function F(u){return u!=u}o(F,"P")}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,r){r.read=function(n,s,i,c,l){var m,f,w=8*l-c-1,x=(1<<w)-1,g=x>>1,R=-7,b=i?l-1:0,_=i?-1:1,y=n[s+b];for(b+=_,m=y&(1<<-R)-1,y>>=-R,R+=w;R>0;m=256*m+n[s+b],b+=_,R-=8);for(f=m&(1<<-R)-1,m>>=-R,R+=c;R>0;f=256*f+n[s+b],b+=_,R-=8);if(m===0)m=1-g;else{if(m===x)return f?NaN:1/0*(y?-1:1);f+=Math.pow(2,c),m-=g}return(y?-1:1)*f*Math.pow(2,m-c)},r.write=function(n,s,i,c,l,m){var f,w,x,g=8*m-l-1,R=(1<<g)-1,b=R>>1,_=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=c?0:m-1,v=c?1:-1,I=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(w=isNaN(s)?1:0,f=R):(f=Math.floor(Math.log(s)/Math.LN2),s*(x=Math.pow(2,-f))<1&&(f--,x*=2),(s+=f+b>=1?_/x:_*Math.pow(2,1-b))*x>=2&&(f++,x/=2),f+b>=R?(w=0,f=R):f+b>=1?(w=(s*x-1)*Math.pow(2,l),f+=b):(w=s*Math.pow(2,b-1)*Math.pow(2,l),f=0));l>=8;n[i+y]=255&w,y+=v,w/=256,l-=8);for(f=f<<l|w,g+=l;g>0;n[i+y]=255&f,y+=v,f/=256,g-=8);n[i+y-v]|=128*I}},{}],4:[function(e,t,r){(function(n){(function(){let s=this,i=e("./transformers"),c="UTF8",l="UTF16",m="UTF16BE",f="UTF16LE",w="UTF32",x="UTF32BE",g="UTF32LE",R="UINT7",b="ASCII",_="BINARY",y="UINT8",v="UINT16",I="UINT16LE",C="UINT16BE",B="UINT32",O="UINT32LE",U="UINT32BE",Q="ESCAPED",G="STRING",X=o(function(re,ne){if(typeof re!="string"||re==="")throw new TypeError(`type: "${re}" not recognized`);let W=function(q){let P={type:"",base64:!1},N=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(q);return N&&(N[2]&&(P.type=N[2].toUpperCase()),N[1]&&(P.base64=!0)),P}(re.toUpperCase());if(W.base64){if(W.type===G)throw new TypeError(`type: "${re} "BASE64:" prefix not allowed with type STRING`);if(n.isBuffer(ne))W.data=i.base64.decode(ne);else{if(typeof ne!="string")throw new TypeError(`type: "${re} unrecognized data type: typeof(data): ${typeof ne}`);{let q=n.from(ne,"ascii");W.data=i.base64.decode(q)}}}else W.data=ne;switch(W.type){case c:(function(q){q.type=c;let P=q.data;q.bom=0,P.length>=3&&P[0]===239&&P[1]===187&&P[2]===191&&(q.bom=3)})(W);break;case l:case m:case f:(function(q){let P=q.data;switch(q.bom=0,q.type){case l:q.type=m,P.length>=2&&(P[0]===254&&P[1]===255?q.bom=2:P[0]===255&&P[1]===254&&(q.type=f,q.bom=2));break;case m:if(q.type=m,P.length>=2){if(P[0]===254&&P[1]===255)q.bom=2;else if(P[0]===255&&P[1]===254)throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"')}break;case f:if(q.type=f,P.length>=0){if(P[0]===254&&P[1]===255)throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');P[0]===255&&P[1]===254&&(q.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${q.type}" unrecognized`)}})(W);break;case w:case x:case g:(function(q){let P=q.data;switch(q.bom=0,q.type){case w:q.type=x,P.length>=4&&(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255&&(q.bom=4),P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0&&(q.type=g,q.bom=4));break;case x:if(q.type=x,P.length>=4&&(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255&&(q.bom=4),P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case g:if(q.type=g,P.length>=4){if(P[0]===0&&P[1]===0&&P[2]===254&&P[3]===255)throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');P[0]===255&&P[1]===254&&P[2]===0&&P[3]===0&&(q.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${q.type}" unrecognized`)}})(W);break;case v:W.type=C;break;case B:W.type=U;break;case b:W.type=R;break;case _:W.type=y;break;case R:case y:case I:case C:case O:case U:case G:case Q:break;default:throw new TypeError(`type: "${re}" not recognized`)}if(W.type===G){if(typeof W.data!="string")throw new TypeError(`type: "${re}" but data is not a string`)}else if(!n.isBuffer(W.data))throw new TypeError(`type: "${re}" but data is not a Buffer`);return W},"S"),_e=o(function(re,ne){switch(re){case c:return i.utf8.encode(ne);case m:return i.utf16be.encode(ne);case f:return i.utf16le.encode(ne);case x:return i.utf32be.encode(ne);case g:return i.utf32le.encode(ne);case R:return i.uint7.encode(ne);case y:return i.uint8.encode(ne);case C:return i.uint16be.encode(ne);case I:return i.uint16le.encode(ne);case U:return i.uint32be.encode(ne);case O:return i.uint32le.encode(ne);case G:return i.string.encode(ne);case Q:return i.escaped.encode(ne);default:throw new TypeError(`encode type "${re}" not recognized`)}},"L");r.decode=function(re,ne){return function(W){switch(W.type){case c:return i.utf8.decode(W.data,W.bom);case f:return i.utf16le.decode(W.data,W.bom);case m:return i.utf16be.decode(W.data,W.bom);case x:return i.utf32be.decode(W.data,W.bom);case g:return i.utf32le.decode(W.data,W.bom);case R:return i.uint7.decode(W.data);case y:return i.uint8.decode(W.data);case C:return i.uint16be.decode(W.data);case I:return i.uint16le.decode(W.data);case U:return i.uint32be.decode(W.data);case O:return i.uint32le.decode(W.data);case G:return i.string.decode(W.data);case Q:return i.escaped.decode(W.data);default:throw new TypeError(`decode type "${W.type}" not recognized`)}}(X(re,ne))},r.encode=function(re,ne){let W,q,P=function(N,M){if(!Array.isArray(M))throw new TypeError('dst chars: not array: "'+typeof M);if(typeof N!="string")throw new TypeError('dst type: not string: "'+typeof N);let D=function(Y){let z,ue,J={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(ue=Y,z=Y.slice(0,5),z==="CRLF:"){J.crlf=!0,ue=Y.slice(5);break}if(z=Y.slice(0,3),z==="LF:"){J.lf=!0,ue=Y.slice(3);break}break}return z=ue.split(":"),z.length===1?J.type=z[0]:z.length===2&&z[1]==="BASE64"&&(J.base64=!0,J.type=z[0]),J}(N.toUpperCase());switch(D.type){case c:case m:case f:case x:case g:case R:case y:case I:case C:case O:case U:case Q:break;case G:if(D.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case b:D.type=R;break;case _:D.type=y;break;case l:D.type=m;break;case w:D.type=x;break;case v:D.type=C;break;case B:D.type=U;break;default:throw new TypeError(`dst type unrecognized: "${N}" : must have form [crlf:|lf:]type[:base64]`)}return D}(re,ne);return P.crlf?(W=i.lineEnds.crlf(ne),q=_e(P.type,W)):P.lf?(W=i.lineEnds.lf(ne),q=_e(P.type,W)):q=_e(P.type,ne),P.base64&&(q=i.base64.encode(q)),q},r.convert=function(re,ne,W){return s.encode(W,s.decode(re,ne))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers":6,buffer:2}],5:[function(e,t,r){t.exports={converter:e("./converter"),transformers:e("./transformers")}},{"./converter":4,"./transformers":6}],6:[function(e,t,r){(function(n){(function(){let s=this,i=4294967292,c=4294967293,l=4294967294,m=4294967295,f=[0,1,3,7,15,31,63,127,255,511,1023],w=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),g=[];x.forEach(b=>{g.push(b.charCodeAt(0))}),r.utf8={encode(b){let _=[];return b.forEach(y=>{if(y>=0&&y<=127)_.push(y);else if(y<=2047)_.push(192+(y>>6&f[5])),_.push(128+(y&f[6]));else if(y<55296||y>57343&&y<=65535)_.push(224+(y>>12&f[4])),_.push(128+(y>>6&f[6])),_.push(128+(y&f[6]));else{if(!(y>=65536&&y<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${y}`);{let v=y>>16&f[5];_.push(240+(v>>2)),_.push(128+((v&f[2])<<4)+(y>>12&f[4])),_.push(128+(y>>6&f[6])),_.push(128+(y&f[6]))}}}),n.from(_)},decode(b,_){function y(ne,W){if((192&W)!=128)return c;let q=((ne&f[5])<<6)+(W&f[6]);return q<128?i:q}o(y,"n");function v(ne,W,q){if((192&q)!=128||(192&W)!=128)return c;let P=((ne&f[4])<<12)+((W&f[6])<<6)+(q&f[6]);return P<2048?i:P>=55296&&P<=57343?l:P}o(v,"h");function I(ne,W,q,P){if((192&P)!=128||(192&q)!=128||(192&W)!=128)return c;let N=(((ne&f[3])<<2)+(W>>4&f[2])<<16)+((W&f[4])<<12)+((q&f[6])<<6)+(P&f[6]);return N<65536?i:N>1114111?l:N}o(I,"c");let C,B,O,U,Q,G,X=b.length,_e=_?3:0,re=[];for(;_e<X;){B=b[_e],C=m;let ne=!0;for(;ne;){if(B>=0&&B<=127){C=B,G=1;break}if(O=_e+1,O<X&&B>=194&&B<=223){C=y(B,b[O]),G=2;break}if(U=_e+2,U<X&&B>=224&&B<=239){C=v(B,b[O],b[U]),G=3;break}if(Q=_e+3,Q<X&&B>=240&&B<=244){C=I(B,b[O],b[U],b[Q]),G=4;break}break}if(C>1114111){let W=`byte[${_e}]`;throw C===m?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${W}`):C===c?new RangeError(`utf8.decode: illegal trailing byte found at: ${W}`):C===l?new RangeError(`utf8.decode: code point out of range found at: ${W}`):C===i?new RangeError(`utf8.decode: non-shortest form found at: ${W}`):new RangeError(`utf8.decode: unrecognized error found at: ${W}`)}re.push(C),_e+=G}return re}},r.utf16be={encode(b){let _=[],y,v,I;for(let C=0;C<b.length;C+=1)if(y=b[C],y>=0&&y<=55295||y>=57344&&y<=65535)_.push(y>>8&f[8]),_.push(y&f[8]);else{if(!(y>=65536&&y<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${C}]: ${y}`);I=y-65536,v=55296+(I>>10),I=56320+(I&f[10]),_.push(v>>8&f[8]),_.push(v&f[8]),_.push(I>>8&f[8]),_.push(I&f[8])}return n.from(_)},decode(b,_){if(b.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${b.length}`);let y=[],v=b.length,I,C,B,O,U,Q,G=_?2:0,X=0;for(;G<v;){for(;;){if(B=G+1,B<v){if(U=(b[G]<<8)+b[B],U<55296||U>57343){I=U,C=2;break}if(O=G+3,O<v&&(Q=(b[G+2]<<8)+b[O],U<=56319&&Q>=56320&&Q<=57343)){I=65536+(U-55296<<10)+(Q-56320),C=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${G}]`)}y[X++]=I,G+=C}return y}},r.utf16le={encode(b){let _=[],y,v,I;for(let C=0;C<b.length;C+=1)if(y=b[C],y>=0&&y<=55295||y>=57344&&y<=65535)_.push(y&f[8]),_.push(y>>8&f[8]);else{if(!(y>=65536&&y<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${C}]: ${y}`);I=y-65536,v=55296+(I>>10),I=56320+(I&f[10]),_.push(v&f[8]),_.push(v>>8&f[8]),_.push(I&f[8]),_.push(I>>8&f[8])}return n.from(_)},decode(b,_){if(b.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${b.length}`);let y=[],v=b.length,I,C,B,O,U,Q,G=_?2:0,X=0;for(;G<v;){for(;;){if(B=G+1,B<v){if(U=(b[B]<<8)+b[G],U<55296||U>57343){I=U,C=2;break}if(O=G+3,O<v&&(Q=(b[O]<<8)+b[G+2],U<=56319&&Q>=56320&&Q<=57343)){I=65536+(U-55296<<10)+(Q-56320),C=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${G}]`)}y[X++]=I,G+=C}return y}},r.utf32be={encode(b){let _=n.alloc(4*b.length),y=0;return b.forEach(v=>{if(v>=55296&&v<=57343||v>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${y/4}]: ${v}`);_[y++]=v>>24&f[8],_[y++]=v>>16&f[8],_[y++]=v>>8&f[8],_[y++]=v&f[8]}),_},decode(b,_){if(b.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${b.length}`);let y=[],v=_?4:0;for(;v<b.length;v+=4){let I=(b[v]<<24)+(b[v+1]<<16)+(b[v+2]<<8)+b[v+3];if(I>=55296&&I<=57343||I>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${v/4}]: ${I}`);y.push(I)}return y}},r.utf32le={encode(b){let _=n.alloc(4*b.length),y=0;return b.forEach(v=>{if(v>=55296&&v<=57343||v>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${y/4}]: ${v}`);_[y++]=v&f[8],_[y++]=v>>8&f[8],_[y++]=v>>16&f[8],_[y++]=v>>24&f[8]}),_},decode(b,_){if(b.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${b.length}`);let y=[],v=_?4:0;for(;v<b.length;v+=4){let I=(b[v+3]<<24)+(b[v+2]<<16)+(b[v+1]<<8)+b[v];if(I>=55296&&I<=57343||I>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${v/4}]: ${I}`);y.push(I)}return y}},r.uint7={encode(b){let _=n.alloc(b.length);for(let y=0;y<b.length;y+=1){if(b[y]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${y}]: ${b[y]}`);_[y]=b[y]}return _},decode(b){let _=[];for(let y=0;y<b.length;y+=1){if(b[y]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${y}]: ${b[y]}`);_[y]=b[y]}return _}},r.uint8={encode(b){let _=n.alloc(b.length);for(let y=0;y<b.length;y+=1){if(b[y]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${y}]: ${b[y]}`);_[y]=b[y]}return _},decode(b){let _=[];for(let y=0;y<b.length;y+=1)_[y]=b[y];return _}},r.uint16be={encode(b){let _=n.alloc(2*b.length),y=0;return b.forEach(v=>{if(v>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${y/2}]: ${v}`);_[y++]=v>>8&f[8],_[y++]=v&f[8]}),_},decode(b){if(b.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${b.length}`);let _=[];for(let y=0;y<b.length;y+=2)_.push((b[y]<<8)+b[y+1]);return _}},r.uint16le={encode(b){let _=n.alloc(2*b.length),y=0;return b.forEach(v=>{if(v>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${y/2}]: ${v}`);_[y++]=v&f[8],_[y++]=v>>8&f[8]}),_},decode(b){if(b.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${b.length}`);let _=[];for(let y=0;y<b.length;y+=2)_.push((b[y+1]<<8)+b[y]);return _}},r.uint32be={encode(b){let _=n.alloc(4*b.length),y=0;return b.forEach(v=>{_[y++]=v>>24&f[8],_[y++]=v>>16&f[8],_[y++]=v>>8&f[8],_[y++]=v&f[8]}),_},decode(b){if(b.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${b.length}`);let _=[];for(let y=0;y<b.length;y+=4)_.push((b[y]<<24)+(b[y+1]<<16)+(b[y+2]<<8)+b[y+3]);return _}},r.uint32le={encode(b){let _=n.alloc(4*b.length),y=0;return b.forEach(v=>{_[y++]=v&f[8],_[y++]=v>>8&f[8],_[y++]=v>>16&f[8],_[y++]=v>>24&f[8]}),_},decode(b){if(b.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${b.length}`);let _=[];for(let y=0;y<b.length;y+=4)_.push((b[y+3]<<24)+(b[y+2]<<16)+(b[y+1]<<8)+b[y]);return _}},r.string={encode:o(b=>s.utf16le.encode(b).toString("utf16le"),"encode"),decode:o(b=>s.utf16le.decode(n.from(b,"utf16le"),0),"decode")},r.escaped={encode(b){let _=[];for(let y=0;y<b.length;y+=1){let v=b[y];if(v===96)_.push(v),_.push(v);else if(v===10)_.push(v);else if(v>=32&&v<=126)_.push(v);else{let I="";if(v>=0&&v<=31)I+=`\`x${w[v]}`;else if(v>=127&&v<=255)I+=`\`x${w[v]}`;else if(v>=256&&v<=65535)I+=`\`u${w[v>>8&f[8]]}${w[v&f[8]]}`;else{if(!(v>=65536&&v<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{I+="`u{";let C=v>>24&f[8];C>0&&(I+=w[C]),I+=`${w[v>>16&f[8]]+w[v>>8&f[8]]+w[v&f[8]]}}`}}n.from(I).forEach(C=>{_.push(C)})}}return n.from(_)},decode(b){function _(X){return X>=48&&X<=57||X>=65&&X<=70||X>=97&&X<=102}o(_,"t");function y(X,_e,re){let ne={char:null,nexti:X+2,error:!0};if(X+1<_e&&_(re[X])&&_(re[X+1])){let W=String.fromCodePoint(re[X],re[X+1]);ne.char=parseInt(W,16),Number.isNaN(ne.char)||(ne.error=!1)}return ne}o(y,"n");function v(X,_e,re){let ne={char:null,nexti:X+4,error:!0};if(X+3<_e&&_(re[X])&&_(re[X+1])&&_(re[X+2])&&_(re[X+3])){let W=String.fromCodePoint(re[X],re[X+1],re[X+2],re[X+3]);ne.char=parseInt(W,16),Number.isNaN(ne.char)||(ne.error=!1)}return ne}o(v,"r");function I(X,_e,re){let ne={char:null,nexti:X+4,error:!0},W="";for(;X<_e&&_(re[X]);)W+=String.fromCodePoint(re[X]),X+=1;return ne.char=parseInt(W,16),re[X]!==125||Number.isNaN(ne.char)||(ne.error=!1),ne.nexti=X+1,ne}o(I,"o");let C=[],B=b.length,O,U,Q,G=0;for(;G<B;){for(;;){if(Q=!0,b[G]!==96){C.push(b[G]),G+=1,Q=!1;break}if(O=G+1,O>=B)break;if(b[O]===96){C.push(96),G+=2,Q=!1;break}if(b[O]===120){if(U=y(O+1,B,b),U.error)break;C.push(U.char),G=U.nexti,Q=!1;break}if(b[O]===117){if(b[O+1]===123){if(U=I(O+2,B,b),U.error)break;C.push(U.char),G=U.nexti,Q=!1;break}if(U=v(O+1,B,b),U.error)break;C.push(U.char),G=U.nexti,Q=!1;break}break}if(Q)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${G}]`)}return C}};let R=10;r.lineEnds={crlf(b){let _=[],y=0;for(;y<b.length;)switch(b[y]){case 13:y+1<b.length&&b[y+1]===R?y+=2:y+=1,_.push(13),_.push(R);break;case R:_.push(13),_.push(R),y+=1;break;default:_.push(b[y]),y+=1}return _.length>0&&_[_.length-1]!==R&&(_.push(13),_.push(R)),_},lf(b){let _=[],y=0;for(;y<b.length;)switch(b[y]){case 13:y+1<b.length&&b[y+1]===R?y+=2:y+=1,_.push(R);break;case R:_.push(R),y+=1;break;default:_.push(b[y]),y+=1}return _.length>0&&_[_.length-1]!==R&&_.push(R),_}},r.base64={encode(b){if(b.length===0)return n.alloc(0);let _,y,v,I=b.length%3;I=I>0?3-I:0;let C=(b.length+I)/3,B=n.alloc(4*C);I>0&&(C-=1),_=0,y=0;for(let O=0;O<C;O+=1)v=b[_++]<<16,v+=b[_++]<<8,v+=b[_++],B[y++]=g[v>>18&f[6]],B[y++]=g[v>>12&f[6]],B[y++]=g[v>>6&f[6]],B[y++]=g[v&f[6]];return I===0?B:I===1?(v=b[_++]<<16,v+=b[_]<<8,B[y++]=g[v>>18&f[6]],B[y++]=g[v>>12&f[6]],B[y++]=g[v>>6&f[6]],B[y]=g[64],B):I===2?(v=b[_]<<16,B[y++]=g[v>>18&f[6]],B[y++]=g[v>>12&f[6]],B[y++]=g[64],B[y]=g[64],B):void 0},decode(b){if(b.length===0)return n.alloc(0);let _=function(Q){let G=[],X=0;for(let _e=0;_e<Q.length;_e+=1){let re=Q[_e],ne=!0;for(;ne&&re!==32&&re!==9&&re!==10&&re!==13;){if(re>=65&&re<=90){G.push(re-65);break}if(re>=97&&re<=122){G.push(re-71);break}if(re>=48&&re<=57){G.push(re+4);break}if(re===43){G.push(62);break}if(re===47){G.push(63);break}if(re===61){G.push(64),X+=1;break}throw new RangeError(`base64.decode: invalid character buf[${_e}]: ${re}`)}}if(G.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${G.length}`);switch(X){case 0:break;case 1:if(G[G.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(G[G.length-1]!==64||G[G.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${X}`)}return{tail:X,buf:n.from(G)}}(b),{tail:y}=_,v=_.buf,I,C,B,O=v.length/4,U=n.alloc(3*O-y);y>0&&(O-=1),C=0,I=0;for(let Q=0;Q<O;Q+=1)B=v[I++]<<18,B+=v[I++]<<12,B+=v[I++]<<6,B+=v[I++],U[C++]=B>>16&f[8],U[C++]=B>>8&f[8],U[C++]=B&f[8];return y===1&&(B=v[I++]<<18,B+=v[I++]<<12,B+=v[I]<<6,U[C++]=B>>16&f[8],U[C]=B>>8&f[8]),y===2&&(B=v[I++]<<18,B+=v[I++]<<12,U[C]=B>>16&f[8]),U},toString(b){if(b.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${b.length}`);let _="",y=0;function v(C,B,O,U){switch(y){case 76:_+=`\r
${C}${B}${O}${U}`,y=4;break;case 75:_+=`${C}\r
${B}${O}${U}`,y=3;break;case 74:_+=`${C+B}\r
${O}${U}`,y=2;break;case 73:_+=`${C+B+O}\r
${U}`,y=1;break;default:_+=C+B+O+U,y+=4}}o(v,"r");for(let C=0;C<b.length;C+=4){for(let B=C;B<C+4;B+=1)if(!((I=b[B])>=65&&I<=90||I>=97&&I<=122||I>=48&&I<=57||I===43||I===47||I===61))throw new RangeError(`base64.toString: buf[${B}]: ${b[B]} : not valid base64 character code`);v(String.fromCharCode(b[C]),String.fromCharCode(b[C+1]),String.fromCharCode(b[C+2]),String.fromCharCode(b[C+3]))}var I;return _}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:2}],7:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=this,c=null,l=null,m=null,f=0,w=[],x=[],g=[],R=[];function b(_){let y="";for(let v=0;v<_;v+=1)y+=" ";return y}o(b,"u"),this.callbacks=[],this.astObject="astObject",this.init=function(_,y,v){let I;g.length=0,R.length=0,w.length=0,f=0,c=_,l=y,m=v;let C=[];for(I=0;I<c.length;I+=1)C.push(c[I].lower);for(I=0;I<l.length;I+=1)C.push(l[I].lower);for(f=c.length+l.length,I=0;I<f;I+=1)w[I]=!1,x[I]=null;for(let B in i.callbacks){let O=B.toLowerCase();if(I=C.indexOf(O),I<0)throw new Error(`ast.js: init: node '${B}' not a rule or udt name`);typeof i.callbacks[B]=="function"&&(w[I]=!0,x[I]=i.callbacks[B]),i.callbacks[B]===!0&&(w[I]=!0)}},this.ruleDefined=function(_){return w[_]!==!1},this.udtDefined=function(_){return w[c.length+_]!==!1},this.down=function(_,y){let v=R.length;return g.push(v),R.push({name:y,thisIndex:v,thatIndex:null,state:n.SEM_PRE,callbackIndex:_,phraseIndex:null,phraseLength:null,stack:g.length}),v},this.up=function(_,y,v,I){let C=R.length,B=g.pop();return R.push({name:y,thisIndex:C,thatIndex:B,state:n.SEM_POST,callbackIndex:_,phraseIndex:v,phraseLength:I,stack:g.length}),R[B].thatIndex=C,R[B].phraseIndex=v,R[B].phraseLength=I,C},this.translate=function(_){let y,v,I;for(let C=0;C<R.length;C+=1)I=R[C],v=x[I.callbackIndex],I.state===n.SEM_PRE?v!==null&&(y=v(n.SEM_PRE,m,I.phraseIndex,I.phraseLength,_),y===n.SEM_SKIP&&(C=I.thatIndex)):v!==null&&v(n.SEM_POST,m,I.phraseIndex,I.phraseLength,_)},this.setLength=function(_){R.length=_,g.length=_>0?R[_-1].stack:0},this.getLength=function(){return R.length},this.toXml=function(_){let y=s.charsToDec,v="decimal integer character codes";if(typeof _=="string"&&_.length>=3){let B=_.slice(0,3).toLowerCase();B==="asc"?(y=s.charsToAscii,v="ASCII for printing characters, hex for non-printing"):B==="hex"?(y=s.charsToHex,v="hexadecimal integer character codes"):B==="uni"&&(y=s.charsToUnicode,v="Unicode UTF-32 integer character codes")}let I="",C=0;return I+=`<?xml version="1.0" encoding="utf-8"?>
`,I+=`<root nodes="${R.length/2}" characters="${m.length}">
`,I+=`<!-- input string, ${v} -->
`,I+=b(C+2),I+=y(m),I+=`
`,R.forEach(B=>{B.state===n.SEM_PRE?(C+=1,I+=b(C),I+=`<node name="${B.name}" index="${B.phraseIndex}" length="${B.phraseLength}">
`,I+=b(C+2),I+=y(m,B.phraseIndex,B.phraseLength),I+=`
`):(I+=b(C),I+=`</node><!-- name="${B.name}" -->
`,C-=1)}),I+=`</root>
`,I},this.phrases=function(){let _={},y,v;for(y=0;y<R.length;y+=1)v=R[y],v.state===n.SEM_PRE&&(Array.isArray(_[v.name])||(_[v.name]=[]),_[v.name].push({index:v.phraseIndex,length:v.phraseLength}));return _}}},{"./identifiers":10,"./utilities":16}],8:[function(e,t,r){t.exports=function(){let n=-1,s=0;this.init=function(i){if(typeof i!="number"||i<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");s=Math.ceil(i),n=-1},this.increment=function(){return n+=1,(n+s)%s},this.maxSize=function(){return s},this.items=function(){return n+1},this.getListIndex=function(i){return n===-1||i<0||i>n||n-i>=s?-1:(i+s)%s},this.forEach=function(i){if(n!==-1)if(n<s)for(let c=0;c<=n;c+=1)i(c,c);else for(let c=n-s+1;c<=n;c+=1)i((c+s)%s,c)}}},{}],9:[function(e,t,r){t.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}},{}],10:[function(e,t,r){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],11:[function(e,t,r){t.exports={ast:e("./ast"),circular:e("./circular-buffer"),ids:e("./identifiers"),parser:e("./parser"),stats:e("./stats"),trace:e("./trace"),utils:e("./utilities"),emitcss:e("./emitcss"),style:e("./style")}},{"./ast":7,"./circular-buffer":8,"./emitcss":9,"./identifiers":10,"./parser":12,"./stats":13,"./style":14,"./trace":15,"./utilities":16}],12:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=this,c;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let l,m,f,w,x=null,g=null,R=0,b=0,_=0,y=null,v=null,I=null,C=null,B=null,O=0,U=1/0,Q=1/0,G=o(function(F,u,h){let S="parser.js: evaluateRule(): ";if(F>=I.length)throw new Error(`${S}rule index: ${F} out of range`);if(u>=f)throw new Error(`${S}phrase index: ${u} out of range`);let{length:T}=x;x.push({type:n.RNM,index:F}),c(T,u,h),x.pop()},"y"),X=o(function(F,u,h){let S="parser.js: evaluateUdt(): ";if(F>=C.length)throw new Error(`${S}udt index: ${F} out of range`);if(u>=f)throw new Error(`${S}phrase index: ${u} out of range`);let{length:T}=x;x.push({type:n.UDT,empty:C[F].empty,index:F}),c(T,u,h),x.pop()},"C"),_e=o(function(){R=0,b=0,_=0,O=0,w=[{lookAround:n.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],I=null,C=null,g=null,l=0,m=0,f=0,y=null,v=null,B=null,x=null},"S"),re=o(function(){let F=[];this.push=function(){F.push(function(){let u=F[F.length-1],h={};for(let S in u)h[S]=u[S];return h}())},this.pop=function(u){let h=u;if(h||(h=F.length-1),h<1||h>F.length)throw new Error(`parser.js: backRef.pop(): bad length: ${h}`);return F.length=h,F[F.length-1]},this.length=function(){return F.length},this.savePhrase=function(u,h,S){F[F.length-1][u]={phraseIndex:h,phraseLength:S}},this.getPhrase=function(u){return F[F.length-1][u]},function(){let u={};I.forEach(h=>{h.isBkr&&(u[h.lower]=null)}),C.length>0&&C.forEach(h=>{h.isBkr&&(u[h.lower]=null)}),F.push(u)}()},"L"),ne=o(function(){let F=this;this.state=n.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=w[w.length-1],this.uFrame=new re,this.pFrame=new re,this.evaluateRule=G,this.evaluateUdt=X,this.refresh=function(){F.state=n.ACTIVE,F.phraseLength=0,F.lookAround=w[w.length-1]}},"M"),W=o(function(){return w[w.length-1]},"$"),q=o(function(){return w.length>1},"k"),P=o(function(F,u,h){let S="parser.js: initializeInputChars(): ",T=F,L=u,E=h;if(T===void 0)throw new Error(`${S}input string is undefined`);if(T===null)throw new Error(`${S}input string is null`);if(typeof T=="string")T=s.stringToChars(T);else if(!Array.isArray(T))throw new Error(`${S}input string is not a string or array`);if(T.length>0&&typeof T[0]!="number")throw new Error(`${S}input string not an array of integers`);if(typeof L!="number")L=0;else if(L=Math.floor(L),L<0||L>T.length)throw new Error(`${S}input beginning index out of range: ${L}`);if(typeof E!="number")E=T.length-L;else if(E=Math.floor(E),E<0||E>T.length-L)throw new Error(`${S}input length out of range: ${E}`);g=T,l=L,m=E,f=l+m},"x");this.setMaxTreeDepth=function(F){if(typeof F!="number")throw new Error(`parser: max tree depth must be integer > 0: ${F}`);if(U=Math.floor(F),U<=0)throw new Error(`parser: max tree depth must be integer > 0: ${F}`)},this.setMaxNodeHits=function(F){if(typeof F!="number")throw new Error(`parser: max node hits must be integer > 0: ${F}`);if(Q=Math.floor(F),Q<=0)throw new Error(`parser: max node hits must be integer > 0: ${F}`)};let N=o(function(F,u,h){let S;(function(E){let k="parser.js: initializeGrammar(): ";if(!E)throw new Error(`${k}grammar object undefined`);if(E.grammarObject!=="grammarObject")throw new Error(`${k}bad grammar object`);I=E.rules,C=E.udts})(F);let T=function(E){let k="parser.js: initializeStartRule(): ",H=null;if(typeof E=="number"){if(E>=I.length)throw new Error(`${k}start rule index too large: max: ${I.length}: index: ${E}`);H=E}else{if(typeof E!="string")throw new Error(`${k}type of start rule '${typeof E}' not recognized`);{let Z=E.toLowerCase();for(let K=0;K<I.length;K+=1)if(Z===I[K].lower){H=I[K].index;break}if(H===null)throw new Error(`${k}start rule name '${E}' not recognized`)}}return H}(u);(function(){let E="parser.js: initializeCallbacks(): ",k,H;for(y=[],v=[],k=0;k<I.length;k+=1)y[k]=null;for(k=0;k<C.length;k+=1)v[k]=null;let Z=[];for(k=0;k<I.length;k+=1)Z.push(I[k].lower);for(k=0;k<C.length;k+=1)Z.push(C[k].lower);for(let K in i.callbacks){if(k=Z.indexOf(K.toLowerCase()),k<0)throw new Error(`${E}syntax callback '${K}' not a rule or udt name`);if(H=i.callbacks[K],H||(H=null),typeof H!="function"&&H!==null)throw new Error(`${E}syntax callback[${K}] must be function reference or 'false' (false/null/undefined/etc.)`);k<I.length?y[k]=H:v[k-I.length]=H}for(k=0;k<C.length;k+=1)if(v[k]===null)throw new Error(`${E}all UDT callbacks must be defined. UDT callback[${C[k].lower}] not a function reference`)})(),function(){for(;;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error("parser.js: initializeTrace(): trace object not recognized");break}i.trace!==null&&i.trace.init(I,C,g)}(),function(){for(;;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error("parser.js: initializeStats(): stats object not recognized");break}i.stats!==null&&i.stats.init(I,C)}(),function(){for(;;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error("parser.js: initializeAst(): ast object not recognized");break}i.ast!==null&&i.ast.init(I,C,g)}();let L=new ne;switch(h!=null&&(B=h),x=[{type:n.RNM,index:T}],c(0,l,L),x=null,L.state){case n.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case n.NOMATCH:S=!1;break;case n.EMPTY:case n.MATCH:S=L.phraseLength===m;break;default:throw new Error("unrecognized state")}return{success:S,state:L.state,length:m,matched:L.phraseLength,maxMatched:O,maxTreeDepth:b,nodeHits:_,inputLength:g.length,subBegin:l,subEnd:f,subLength:m}},"B");this.parseSubstring=function(F,u,h,S,T,L){return _e(),P(h,S,T),N(F,u,L)},this.parse=function(F,u,h,S){return _e(),P(h,0,h.length),N(F,u,S)};let M=o(function(F,u,h){let S=x[F];for(let T=0;T<S.children.length&&(c(S.children[T],u,h),h.state===n.NOMATCH);T+=1);},"N"),D=o(function(F,u,h,S){if(u.phraseLength>h){let T=`parser.js: opRNM(${F.name}): callback function error: `;throw T+=`sysData.phraseLength: ${u.phraseLength}`,T+=` must be <= remaining chars: ${h}`,new Error(T)}switch(u.state){case n.ACTIVE:if(S!==!0)throw new Error(`parser.js: opRNM(${F.name}): callback function return error. ACTIVE state not allowed.`);break;case n.EMPTY:u.phraseLength=0;break;case n.MATCH:u.phraseLength===0&&(u.state=n.EMPTY);break;case n.NOMATCH:u.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${F.name}): callback function return error. Unrecognized return state: ${u.state}`)}},"R"),Y=o(function(F,u,h){let S,T,L,E,k,H,Z=x[F],K=I[Z.index],te=y[K.index],Ae=!q();if(Ae&&(T=i.ast&&i.ast.ruleDefined(Z.index),T&&(S=i.ast.getLength(),i.ast.down(Z.index,I[Z.index].name)),E=h.uFrame.length(),k=h.pFrame.length(),h.uFrame.push(),h.pFrame.push(),H=h.pFrame,h.pFrame=new re),te===null)L=x,x=K.opcodes,c(0,u,h),x=L;else{let ke=f-u;h.ruleIndex=K.index,te(h,g,u,B),D(K,h,ke,!0),h.state===n.ACTIVE&&(L=x,x=K.opcodes,c(0,u,h),x=L,h.ruleIndex=K.index,te(h,g,u,B),D(K,h,ke,!1))}Ae&&(T&&(h.state===n.NOMATCH?i.ast.setLength(S):i.ast.up(Z.index,K.name,u,h.phraseLength)),h.pFrame=H,h.state===n.NOMATCH?(h.uFrame.pop(E),h.pFrame.pop(k)):K.isBkr&&(h.pFrame.savePhrase(K.lower,u,h.phraseLength),h.uFrame.savePhrase(K.lower,u,h.phraseLength)))},"v"),z=o(function(F,u,h){let S,T,L,E,k,H,Z=x[F],K=C[Z.index];h.UdtIndex=K.index;let te=!q();te&&(L=i.ast&&i.ast.udtDefined(Z.index),L&&(T=I.length+Z.index,S=i.ast.getLength(),i.ast.down(T,K.name)),E=h.uFrame.length(),k=h.pFrame.length(),h.uFrame.push(),h.pFrame.push(),H=h.pFrame,h.pFrame=new re);let Ae=f-u;v[Z.index](h,g,u,B),function(ke,Me,qe){if(Me.phraseLength>qe){let $e=`parser.js: opUDT(${ke.name}): callback function error: `;throw $e+=`sysData.phraseLength: ${Me.phraseLength}`,$e+=` must be <= remaining chars: ${qe}`,new Error($e)}switch(Me.state){case n.ACTIVE:throw new Error(`parser.js: opUDT(${ke.name}): callback function return error. ACTIVE state not allowed.`);case n.EMPTY:if(ke.empty===!1)throw new Error(`parser.js: opUDT(${ke.name}): callback function return error. May not return EMPTY.`);Me.phraseLength=0;break;case n.MATCH:if(Me.phraseLength===0){if(ke.empty===!1)throw new Error(`parser.js: opUDT(${ke.name}): callback function return error. May not return EMPTY.`);Me.state=n.EMPTY}break;case n.NOMATCH:Me.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${ke.name}): callback function return error. Unrecognized return state: ${Me.state}`)}}(K,h,Ae),te&&(L&&(h.state===n.NOMATCH?i.ast.setLength(S):i.ast.up(T,K.name,u,h.phraseLength)),h.pFrame=H,h.state===n.NOMATCH?(h.uFrame.pop(E),h.pFrame.pop(k)):K.isBkr&&(h.pFrame.savePhrase(K.lower,u,h.phraseLength),h.uFrame.savePhrase(K.lower,u,h.phraseLength)))},"O"),ue=o(function(F,u,h){w.push({lookAround:n.LOOKAROUND_AHEAD,anchor:u,charsEnd:f,charsLength:m}),f=g.length,m=g.length-l,c(F+1,u,h);let S=w.pop();switch(f=S.charsEnd,m=S.charsLength,h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.EMPTY;break;case n.NOMATCH:h.state=n.NOMATCH;break;default:throw new Error(`opAND: invalid state ${h.state}`)}},"D"),J=o(function(F,u,h){w.push({lookAround:n.LOOKAROUND_AHEAD,anchor:u,charsEnd:f,charsLength:m}),f=g.length,m=g.length-l,c(F+1,u,h);let S=w.pop();switch(f=S.charsEnd,m=S.charsLength,h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.NOMATCH;break;case n.NOMATCH:h.state=n.EMPTY;break;default:throw new Error(`opNOT: invalid state ${h.state}`)}},"U"),pe=o(function(F,u,h){h.state=n.NOMATCH,h.phraseLength=0,h.state=u===0?n.EMPTY:n.NOMATCH},"_"),ee=o(function(F,u,h){h.state=n.NOMATCH,h.phraseLength=0,h.state=u===g.length?n.EMPTY:n.NOMATCH},"I"),oe=o(function(F,u,h){switch(w.push({lookAround:n.LOOKAROUND_BEHIND,anchor:u}),c(F+1,u,h),w.pop(),h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.EMPTY;break;case n.NOMATCH:h.state=n.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${h.state}`)}},"H"),le=o(function(F,u,h){switch(w.push({lookAround:n.LOOKAROUND_BEHIND,anchor:u}),c(F+1,u,h),w.pop(),h.phraseLength=0,h.state){case n.EMPTY:case n.MATCH:h.state=n.NOMATCH;break;case n.NOMATCH:h.state=n.EMPTY;break;default:throw new Error(`opBKN: invalid state ${h.state}`)}},"F");c=o(function(F,u,h){let S=!0,T=x[F];if(_+=1,_>Q)throw new Error(`parser: maximum number of node hits exceeded: ${Q}`);if(R+=1,R>b&&(b=R,b>U))throw new Error(`parser: maximum parse tree depth exceeded: ${U}`);if(h.refresh(),i.trace!==null){let L=W();i.trace.down(T,h.state,u,h.phraseLength,L.anchor,L.lookAround)}if(w[w.length-1].lookAround===n.LOOKAROUND_BEHIND)switch(T.type){case n.ALT:M(F,u,h);break;case n.CAT:(function(L,E,k){let H,Z,K,te,Ae=x[L],ke=k.uFrame.length(),Me=k.pFrame.length();i.ast&&(Z=i.ast.getLength()),H=!0,K=E,te=0;for(let qe=Ae.children.length-1;qe>=0;qe-=1)if(c(Ae.children[qe],K,k),K-=k.phraseLength,te+=k.phraseLength,k.state===n.NOMATCH){H=!1;break}H?(k.state=te===0?n.EMPTY:n.MATCH,k.phraseLength=te):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(ke),k.pFrame.pop(Me),i.ast&&i.ast.setLength(Z))})(F,u,h);break;case n.REP:(function(L,E,k){let H,Z,K,te,Ae=x[L];Z=E,K=0,te=0;let ke=k.uFrame.length(),Me=k.pFrame.length();for(i.ast&&(H=i.ast.getLength());!(Z<=0)&&(c(L+1,Z,k),k.state!==n.NOMATCH)&&k.state!==n.EMPTY&&(te+=1,K+=k.phraseLength,Z-=k.phraseLength,te!==Ae.max););k.state===n.EMPTY||te>=Ae.min?(k.state=K===0?n.EMPTY:n.MATCH,k.phraseLength=K):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(ke),k.pFrame.pop(Me),i.ast&&i.ast.setLength(H))})(F,u,h);break;case n.RNM:Y(F,u,h);break;case n.UDT:z(F,u,h);break;case n.AND:ue(F,u,h);break;case n.NOT:J(F,u,h);break;case n.TRG:(function(L,E,k){let H=x[L];if(k.state=n.NOMATCH,k.phraseLength=0,E>0){let Z=g[E-1];H.min<=Z&&Z<=H.max&&(k.state=n.MATCH,k.phraseLength=1)}})(F,u,h);break;case n.TBS:(function(L,E,k){let H,Z=x[L];k.state=n.NOMATCH;let K=Z.string.length,te=E-K;if(te>=0){for(H=0;H<K;H+=1)if(g[te+H]!==Z.string[H])return;k.state=n.MATCH,k.phraseLength=K}})(F,u,h);break;case n.TLS:(function(L,E,k){let H,Z=x[L];k.state=n.NOMATCH;let K=Z.string.length;if(K===0)return void(k.state=n.EMPTY);let te=E-K;if(te>=0){for(let Ae=0;Ae<K;Ae+=1)if(H=g[te+Ae],H>=65&&H<=90&&(H+=32),H!==Z.string[Ae])return;k.state=n.MATCH,k.phraseLength=K}})(F,u,h);break;case n.BKR:(function(L,E,k){let H,Z,K,te,Ae=x[L];k.state=n.NOMATCH,k.phraseLength=0,te=Ae.index<I.length?I[Ae.index].lower:C[Ae.index-I.length].lower;let ke=Ae.bkrMode===n.BKR_MODE_PM?k.pFrame.getPhrase(te):k.uFrame.getPhrase(te),Me=Ae.bkrCase===n.BKR_MODE_CI;if(ke===null)return;let qe=ke.phraseIndex,$e=ke.phraseLength;if($e===0)return k.state=n.EMPTY,void(k.phraseLength=0);let Tr=E-$e;if(Tr>=0){if(Me){for(H=0;H<$e;H+=1)if(Z=g[Tr+H],K=g[qe+H],Z>=65&&Z<=90&&(Z+=32),K>=65&&K<=90&&(K+=32),Z!==K)return;k.state=n.MATCH,k.phraseLength=$e}else for(H=0;H<$e;H+=1)if(Z=g[Tr+H],K=g[qe+H],Z!==K)return;k.state=n.MATCH,k.phraseLength=$e}})(F,u,h);break;case n.BKA:oe(F,u,h);break;case n.BKN:le(F,u,h);break;case n.ABG:pe(0,u,h);break;case n.AEN:ee(0,u,h);break;default:S=!1}else switch(T.type){case n.ALT:M(F,u,h);break;case n.CAT:(function(L,E,k){let H,Z,K,te,Ae=x[L],ke=k.uFrame.length(),Me=k.pFrame.length();i.ast&&(Z=i.ast.getLength()),H=!0,K=E,te=0;for(let qe=0;qe<Ae.children.length;qe+=1){if(c(Ae.children[qe],K,k),k.state===n.NOMATCH){H=!1;break}K+=k.phraseLength,te+=k.phraseLength}H?(k.state=te===0?n.EMPTY:n.MATCH,k.phraseLength=te):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(ke),k.pFrame.pop(Me),i.ast&&i.ast.setLength(Z))})(F,u,h);break;case n.REP:(function(L,E,k){let H,Z,K,te,Ae=x[L];Z=E,K=0,te=0;let ke=k.uFrame.length(),Me=k.pFrame.length();for(i.ast&&(H=i.ast.getLength());!(Z>=f)&&(c(L+1,Z,k),k.state!==n.NOMATCH)&&k.state!==n.EMPTY&&(te+=1,K+=k.phraseLength,Z+=k.phraseLength,te!==Ae.max););k.state===n.EMPTY||te>=Ae.min?(k.state=K===0?n.EMPTY:n.MATCH,k.phraseLength=K):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(ke),k.pFrame.pop(Me),i.ast&&i.ast.setLength(H))})(F,u,h);break;case n.RNM:Y(F,u,h);break;case n.UDT:z(F,u,h);break;case n.AND:ue(F,u,h);break;case n.NOT:J(F,u,h);break;case n.TRG:(function(L,E,k){let H=x[L];k.state=n.NOMATCH,E<f&&H.min<=g[E]&&g[E]<=H.max&&(k.state=n.MATCH,k.phraseLength=1)})(F,u,h);break;case n.TBS:(function(L,E,k){let H,Z=x[L],K=Z.string.length;if(k.state=n.NOMATCH,E+K<=f){for(H=0;H<K;H+=1)if(g[E+H]!==Z.string[H])return;k.state=n.MATCH,k.phraseLength=K}})(F,u,h);break;case n.TLS:(function(L,E,k){let H,Z,K=x[L];k.state=n.NOMATCH;let te=K.string.length;if(te!==0){if(E+te<=f){for(H=0;H<te;H+=1)if(Z=g[E+H],Z>=65&&Z<=90&&(Z+=32),Z!==K.string[H])return;k.state=n.MATCH,k.phraseLength=te}}else k.state=n.EMPTY})(F,u,h);break;case n.BKR:(function(L,E,k){let H,Z,K,te,Ae=x[L];k.state=n.NOMATCH,te=Ae.index<I.length?I[Ae.index].lower:C[Ae.index-I.length].lower;let ke=Ae.bkrMode===n.BKR_MODE_PM?k.pFrame.getPhrase(te):k.uFrame.getPhrase(te),Me=Ae.bkrCase===n.BKR_MODE_CI;if(ke===null)return;let qe=ke.phraseIndex,$e=ke.phraseLength;if($e!==0){if(E+$e<=f){if(Me){for(H=0;H<$e;H+=1)if(Z=g[E+H],K=g[qe+H],Z>=65&&Z<=90&&(Z+=32),K>=65&&K<=90&&(K+=32),Z!==K)return;k.state=n.MATCH,k.phraseLength=$e}else for(H=0;H<$e;H+=1)if(Z=g[E+H],K=g[qe+H],Z!==K)return;k.state=n.MATCH,k.phraseLength=$e}}else k.state=n.EMPTY})(F,u,h);break;case n.BKA:oe(F,u,h);break;case n.BKN:le(F,u,h);break;case n.ABG:pe(0,u,h);break;case n.AEN:ee(0,u,h);break;default:S=!1}if(!q()&&u+h.phraseLength>O&&(O=u+h.phraseLength),i.stats!==null&&i.stats.collect(T,h),i.trace!==null){let L=W();i.trace.up(T,h.state,u,h.phraseLength,L.anchor,L.lookAround)}return R-=1,S},"o")}},{"./identifiers":10,"./utilities":16}],13:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),i=e("./style"),c=[],l=[],m=[],f,w=[],x=[];this.statsObject="statsObject";let g=o(function(B,O){return B.lower<O.lower?-1:B.lower>O.lower?1:0},"l"),R=o(function(B,O){return B.total<O.total?1:B.total>O.total?-1:g(B,O)},"f"),b=o(function(B,O){return B.index<O.index?-1:B.index>O.index?1:0},"u"),_=o(function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},"p"),y=o(function(B,O){switch(B.total+=1,O){case n.EMPTY:B.empty+=1;break;case n.MATCH:B.match+=1;break;case n.NOMATCH:B.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${O}`)}},"d"),v=o(function(B,O){let U="";return U+="<tr>",U+=`<td class="${i.CLASS_ACTIVE}">${B}</td>`,U+=`<td class="${i.CLASS_EMPTY}">${O.empty}</td>`,U+=`<td class="${i.CLASS_MATCH}">${O.match}</td>`,U+=`<td class="${i.CLASS_NOMATCH}">${O.nomatch}</td>`,U+=`<td class="${i.CLASS_ACTIVE}">${O.total}</td>`,U+=`</tr>
`,U},"g"),I=o(function(){let B="";return B+=v("ALT",m[n.ALT]),B+=v("CAT",m[n.CAT]),B+=v("REP",m[n.REP]),B+=v("RNM",m[n.RNM]),B+=v("TRG",m[n.TRG]),B+=v("TBS",m[n.TBS]),B+=v("TLS",m[n.TLS]),B+=v("UDT",m[n.UDT]),B+=v("AND",m[n.AND]),B+=v("NOT",m[n.NOT]),B+=v("BKR",m[n.BKR]),B+=v("BKA",m[n.BKA]),B+=v("BKN",m[n.BKN]),B+=v("ABG",m[n.ABG]),B+=v("AEN",m[n.AEN]),B+=v("totals",f),B},"b"),C=o(function(){let B="";B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let O=0;O<c.length;O+=1)w[O].total>0&&(B+="<tr>",B+=`<td class="${i.CLASS_ACTIVE}">${w[O].name}</td>`,B+=`<td class="${i.CLASS_EMPTY}">${w[O].empty}</td>`,B+=`<td class="${i.CLASS_MATCH}">${w[O].match}</td>`,B+=`<td class="${i.CLASS_NOMATCH}">${w[O].nomatch}</td>`,B+=`<td class="${i.CLASS_ACTIVE}">${w[O].total}</td>`,B+=`</tr>
`);if(l.length>0){B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let O=0;O<l.length;O+=1)x[O].total>0&&(B+="<tr>",B+=`<td class="${i.CLASS_ACTIVE}">${x[O].name}</td>`,B+=`<td class="${i.CLASS_EMPTY}">${x[O].empty}</td>`,B+=`<td class="${i.CLASS_MATCH}">${x[O].match}</td>`,B+=`<td class="${i.CLASS_NOMATCH}">${x[O].nomatch}</td>`,B+=`<td class="${i.CLASS_ACTIVE}">${x[O].total}</td>`,B+=`</tr>
`)}return B},"A");this.validate=function(B){let O=!1;return typeof B=="string"&&B==="stats"&&(O=!0),O},this.init=function(B,O){c=B,l=O,function(){m.length=0,f=new _,m[n.ALT]=new _,m[n.CAT]=new _,m[n.REP]=new _,m[n.RNM]=new _,m[n.TRG]=new _,m[n.TBS]=new _,m[n.TLS]=new _,m[n.UDT]=new _,m[n.AND]=new _,m[n.NOT]=new _,m[n.BKR]=new _,m[n.BKA]=new _,m[n.BKN]=new _,m[n.ABG]=new _,m[n.AEN]=new _,w.length=0;for(let U=0;U<c.length;U+=1)w.push({empty:0,match:0,nomatch:0,total:0,name:c[U].name,lower:c[U].lower,index:c[U].index});if(l.length>0){x.length=0;for(let U=0;U<l.length;U+=1)x.push({empty:0,match:0,nomatch:0,total:0,name:l[U].name,lower:l[U].lower,index:l[U].index})}}()},this.collect=function(B,O){y(f,O.state,O.phraseLength),y(m[B.type],O.state,O.phraseLength),B.type===n.RNM&&y(w[B.index],O.state,O.phraseLength),B.type===n.UDT&&y(x[B.index],O.state,O.phraseLength)},this.toHtml=function(B,O){let U="";for(U+=`<table class="${i.CLASS_STATS}">
`,typeof O=="string"&&(U+=`<caption>${O}</caption>
`),U+=`<tr><th class="${i.CLASS_ACTIVE}">ops</th>
`,U+=`<th class="${i.CLASS_EMPTY}">EMPTY</th>
`,U+=`<th class="${i.CLASS_MATCH}">MATCH</th>
`,U+=`<th class="${i.CLASS_NOMATCH}">NOMATCH</th>
`,U+=`<th class="${i.CLASS_ACTIVE}">totals</th></tr>
`;;){if(B===void 0){U+=I();break}if(B===null){U+=I();break}if(B==="ops"){U+=I();break}if(B==="index"){w.sort(b),x.length>0&&x.sort(b),U+=I(),U+=C();break}if(B==="hits"){w.sort(R),x.length>0&&x.sort(b),U+=I(),U+=C();break}if(B==="alpha"){w.sort(g),x.length>0&&x.sort(g),U+=I(),U+=C();break}break}return U+=`</table>
`,U},this.toHtmlPage=function(B,O,U){return s.htmlToPage(this.toHtml(B,O),U)}}},{"./identifiers":10,"./style":14,"./utilities":16}],14:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],15:[function(e,t,r){t.exports=function(){let n=e("./utilities"),s=e("./style"),i=new(e("./circular-buffer")),c=e("./identifiers"),l=this,m=16,f=80,w=[],x=5e3,g=-1,R=0,b=0,_=[],y=null,v=null,I=null,C=[],B=[],O=`<span class="${s.CLASS_LINEEND}">&bull;</span>`,U=`<span class="${s.CLASS_LINEEND}">&hellip;</span>`,Q=`<span class="${s.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(W,q){g=-1,typeof W=="number"&&W>0?(x=Math.ceil(W),typeof q=="number"&&(g=Math.floor(q),g<0&&(g=-1))):x=0},this.getMaxRecords=function(){return x},this.getLastRecord=function(){return g},this.init=function(W,q,P){w.length=0,_.length=0,R=0,b=0,y=P,v=W,I=q,function(){let N=o(function(D){C[c.ALT]=D,C[c.CAT]=D,C[c.REP]=D,C[c.TLS]=D,C[c.TBS]=D,C[c.TRG]=D,C[c.AND]=D,C[c.NOT]=D,C[c.BKR]=D,C[c.BKA]=D,C[c.BKN]=D,C[c.ABG]=D,C[c.AEN]=D},"e"),M=0;for(let D in l.filter.operators)M+=1;if(M!==0){for(let D in l.filter.operators){let Y=D.toUpperCase();if(Y==="<ALL>")return void N(!0);if(Y==="<NONE>")return void N(!1)}N(!1);for(let D in l.filter.operators){let Y=D.toUpperCase();if(Y==="ALT")C[c.ALT]=l.filter.operators[D]===!0;else if(Y==="CAT")C[c.CAT]=l.filter.operators[D]===!0;else if(Y==="REP")C[c.REP]=l.filter.operators[D]===!0;else if(Y==="AND")C[c.AND]=l.filter.operators[D]===!0;else if(Y==="NOT")C[c.NOT]=l.filter.operators[D]===!0;else if(Y==="TLS")C[c.TLS]=l.filter.operators[D]===!0;else if(Y==="TBS")C[c.TBS]=l.filter.operators[D]===!0;else if(Y==="TRG")C[c.TRG]=l.filter.operators[D]===!0;else if(Y==="BKR")C[c.BKR]=l.filter.operators[D]===!0;else if(Y==="BKA")C[c.BKA]=l.filter.operators[D]===!0;else if(Y==="BKN")C[c.BKN]=l.filter.operators[D]===!0;else if(Y==="ABG")C[c.ABG]=l.filter.operators[D]===!0;else{if(Y!=="AEN")throw new Error(`trace.js: initOpratorFilter: '${D}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);C[c.AEN]=l.filter.operators[D]===!0}}}else N(!1)}(),function(){let N=o(function(z){C[c.RNM]=z,C[c.UDT]=z;let ue=v.length+I.length;B.length=0;for(let J=0;J<ue;J+=1)B.push(z)},"e"),M,D,Y=[];for(D=0;D<v.length;D+=1)Y.push(v[D].lower);for(D=0;D<I.length;D+=1)Y.push(I[D].lower);B.length=0,M=0;for(let z in l.filter.rules)M+=1;if(M!==0){for(let z in l.filter.rules){let ue=z.toLowerCase();if(ue==="<all>")return void N(!0);if(ue==="<none>")return void N(!1)}N(!1),C[c.RNM]=!0,C[c.UDT]=!0;for(let z in l.filter.rules){let ue=z.toLowerCase();if(D=Y.indexOf(ue),D<0)throw new Error(`trace.js: initRuleFilter: '${z}' not a valid rule or udt name`);B[D]=l.filter.rules[z]===!0}}else N(!0)}(),i.init(x)};let G=o(function(W){let q=!1;return q=W.type===c.RNM?!(!C[W.type]||!B[W.index]):W.type===c.UDT?!(!C[W.type]||!B[v.length+W.index]):C[W.type],q},"y"),X=o(function(W){return g===-1||W<=g},"C");this.down=function(W,q,P,N,M,D){X(R)&&G(W)&&(_.push(R),w[i.increment()]={dirUp:!1,depth:b,thisLine:R,thatLine:void 0,opcode:W,state:q,phraseIndex:P,phraseLength:N,lookAnchor:M,lookAround:D},R+=1,b+=1)},this.up=function(W,q,P,N,M,D){if(X(R)&&G(W)){let Y=R,z=_.pop(),ue=i.getListIndex(z);ue!==-1&&(w[ue].thatLine=Y),b-=1,w[i.increment()]={dirUp:!0,depth:b,thisLine:Y,thatLine:z,opcode:W,state:q,phraseIndex:P,phraseLength:N,lookAnchor:M,lookAround:D},R+=1}},this.toTree=function(W){let q=function(){function P(E,k){let H,Z,K;if(k)switch(E.op={id:k.type,name:n.opcodeToString(k.type)},E.opData=void 0,k.type){case c.RNM:E.opData=v[k.index].name;break;case c.UDT:E.opData=I[k.index].name;break;case c.BKR:H=k.index<v.length?v[k.index].name:I[k.index-v.length].name,Z=k.bkrCase===c.BKR_MODE_CI?"%i":"%s",K=k.bkrMode===c.BKR_MODE_UM?"%u":"%p",E.opData=`\\\\${Z}${K}${H}`;break;case c.TLS:E.opData=[];for(let te=0;te<k.string.length;te+=1)E.opData.push(k.string[te]);break;case c.TBS:E.opData=[];for(let te=0;te<k.string.length;te+=1)E.opData.push(k.string[te]);break;case c.TRG:case c.REP:E.opData=[k.min,k.max];break;default:throw new Error("unrecognized opcode")}else E.op={id:void 0,name:void 0},E.opData=void 0}o(P,"e");function N(E,k,H){return E===c.MATCH?{index:k,length:H}:E===c.NOMATCH||E===c.EMPTY?{index:k,length:0}:null}o(N,"n");let M=-1;function D(E,k,H){let Z={id:M++,branch:-1,parent:E,up:!1,down:!1,depth:H,children:[]};return k?(Z.down=!0,Z.state={id:k.state,name:n.stateToString(k.state)},Z.phrase=null,P(Z,k.opcode)):(Z.state={id:void 0,name:void 0},Z.phrase=N(),P(Z,void 0)),Z}o(D,"s");function Y(E,k){k&&(E.up=!0,E.state={id:k.state,name:n.stateToString(k.state)},E.phrase=N(k.state,k.phraseIndex,k.phraseLength),E.down||P(E,k.opcode))}o(Y,"i");let z=0,ue=-1,J=1,pe=[],ee,oe,le,F,u=!0,h=D(null,null,-1);for(pe.push(h),oe=h,i.forEach(E=>{if(F=w[E],u&&(u=!1,F.depth>0)){let k=F.dirUp?F.depth+1:F.depth;for(let H=0;H<k;H+=1)le=oe,oe=D(oe,null,H),pe.push(oe),le.children.push(oe)}F.dirUp?(oe=pe.pop(),Y(oe,F),oe=pe[pe.length-1]):(le=oe,oe=D(oe,F,F.depth),pe.push(oe),le.children.push(oe))});pe.length>1;)oe=pe.pop(),Y(oe,null);if(h.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(pe.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");ee=h.children[0];let S=ee;for(;ee&&!ee.down&&!ee.up;)S=ee,ee=ee.children[0];ee=S,ee.leftMost=!0,ee.rightMost=!0,o(function E(k){if(ue+=1,k.branch=J,ue>b&&(b=ue),k.children.length===0)z+=1;else for(let H=0;H<k.children.length;H+=1)H>0&&(J+=1),k.children[H].leftMost=!1,k.children[H].rightMost=!1,k.leftMost&&(k.children[H].leftMost=H===0),k.rightMost&&(k.children[H].rightMost=H===k.children.length-1),E(k.children[H]);ue-=1},"e")(ee),ee.branch=0;let T={string:[]};for(let E=0;E<y.length;E+=1)T.string[E]=y[E];T.rules=[];for(let E=0;E<v.length;E+=1)T.rules[E]=v[E].name;T.udts=[];for(let E=0;E<I.length;E+=1)T.udts[E]=I[E].name;let L;return T.id={},T.id.ALT={id:c.ALT,name:"ALT"},T.id.CAT={id:c.CAT,name:"CAT"},T.id.REP={id:c.REP,name:"REP"},T.id.RNM={id:c.RNM,name:"RNM"},T.id.TLS={id:c.TLS,name:"TLS"},T.id.TBS={id:c.TBS,name:"TBS"},T.id.TRG={id:c.TRG,name:"TRG"},T.id.UDT={id:c.UDT,name:"UDT"},T.id.AND={id:c.AND,name:"AND"},T.id.NOT={id:c.NOT,name:"NOT"},T.id.BKR={id:c.BKR,name:"BKR"},T.id.BKA={id:c.BKA,name:"BKA"},T.id.BKN={id:c.BKN,name:"BKN"},T.id.ABG={id:c.ABG,name:"ABG"},T.id.AEN={id:c.AEN,name:"AEN"},T.id.ACTIVE={id:c.ACTIVE,name:"ACTIVE"},T.id.MATCH={id:c.MATCH,name:"MATCH"},T.id.EMPTY={id:c.EMPTY,name:"EMPTY"},T.id.NOMATCH={id:c.NOMATCH,name:"NOMATCH"},T.treeDepth=b,T.leafNodes=z,L=ee.down?ee.up?"none":"right":ee.up?"left":"both",T.branchesIncomplete=L,T.tree=o(function E(k,H){let Z,K={};if(K.id=k.id,K.branch=k.branch,K.leftMost=k.leftMost,K.rightMost=k.rightMost,Z=k.state.name?k.state.name:"ACTIVE",K.state={id:k.state.id,name:Z},Z=k.op.name?k.op.name:"?",K.op={id:k.op.id,name:Z},typeof k.opData=="string")K.opData=k.opData;else if(Array.isArray(k.opData)){K.opData=[];for(let te=0;te<k.opData.length;te+=1)K.opData[te]=k.opData[te]}else K.opData=void 0;k.phrase?K.phrase={index:k.phrase.index,length:k.phrase.length}:K.phrase=null,K.depth=k.depth,K.children=[];for(let te=0;te<k.children.length;te+=1)k.children.length,K.children[te]=E(k.children[te],H);return K},"e")(ee,ee.depth),T}();return W?JSON.stringify(q):q},this.toHtmlPage=function(W,q,P){return n.htmlToPage(this.toHtml(W,q),P)},this.indent=function(W){let q="";for(let P=0;P<W;P+=1)q+=".";return q};let _e=o(function(W,q,P,N,M){if(N===0)return"";let D="",Y=M?",":"";switch(W){case m:D=Y+n.charsToHex(q,P,N);break;case 10:if(M)return`,${n.charsToDec(q,P,N)}`;D=Y+n.charsToDec(q,P,N);break;case 32:D=n.charsToUnicode(q,P,N);break;case 8:default:D=n.charsToAsciiHtml(q,P,N)}return D},"S"),re=o(function(W,q,P,N,M,D){let Y,z,ue,J,pe="",ee=O,oe=`<span class="${s.CLASS_REMAINDER}">`,le="</span>",F=!1;switch(P){case c.EMPTY:pe+=Q;case c.NOMATCH:case c.ACTIVE:Y=N,z=0,ue=N,J=q.length-ue;break;case c.MATCH:Y=N,z=M,ue=N+z,J=q.length-ue;break;default:throw new Error("unrecognized state")}return ee=O,z>f?(z=f,ee=U,J=0):z+J>f&&(ee=U,J=f-z),z>0&&(pe+=D,pe+=_e(W,q,Y,z,F),pe+=le,F=!0),J>0&&(pe+=oe,pe+=_e(W,q,ue,J,F),pe+=le),pe+ee},"L"),ne=o(function(W){if(v===null)return"";let q,P,N,M,D,Y,z="";return z+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",z+=`<th>operator</th><th>phrase</th></tr>
`,i.forEach(ue=>{let J=w[ue];switch(q=J.thisLine,P=J.thatLine!==void 0?J.thatLine:"--",N=!1,M=!1,D=!1,J.lookAround===c.LOOKAROUND_AHEAD&&(N=!0,D=!0,Y=J.lookAnchor),J.opcode.type!==c.AND&&J.opcode.type!==c.NOT||(N=!0,D=!0,Y=J.phraseIndex),J.lookAround===c.LOOKAROUND_BEHIND&&(M=!0,D=!0,Y=J.lookAnchor),J.opcode.type!==c.BKA&&J.opcode.type!==c.BKN||(M=!0,D=!0,Y=J.phraseIndex),z+="<tr>",z+=`<td>${q}</td><td>${P}</td>`,z+=`<td>${J.phraseIndex}</td>`,z+=`<td>${J.phraseLength}</td>`,z+=`<td>${J.depth}</td>`,z+="<td>",J.state){case c.ACTIVE:z+=`<span class="${s.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case c.MATCH:z+=`<span class="${s.CLASS_MATCH}">&uarr;M</span>`;break;case c.NOMATCH:z+=`<span class="${s.CLASS_NOMATCH}">&uarr;N</span>`;break;case c.EMPTY:z+=`<span class="${s.CLASS_EMPTY}">&uarr;E</span>`;break;default:z+=`<span class="${s.CLASS_ACTIVE}">--</span>`}if(z+="</td>",z+="<td>",z+=l.indent(J.depth),N?z+=`<span class="${s.CLASS_LOOKAHEAD}">`:M&&(z+=`<span class="${s.CLASS_LOOKBEHIND}">`),z+=n.opcodeToString(J.opcode.type),J.opcode.type===c.RNM&&(z+=`(${v[J.opcode.index].name}) `),J.opcode.type===c.BKR){let pe=J.opcode.bkrCase===c.BKR_MODE_CI?"%i":"%s",ee=J.opcode.bkrMode===c.BKR_MODE_UM?"%u":"%p";z+=`(\\${pe}${ee}${v[J.opcode.index].name}) `}J.opcode.type===c.UDT&&(z+=`(${I[J.opcode.index].name}) `),J.opcode.type===c.TRG&&(z+=`(${function(pe,ee){let oe="";if(ee.type===c.TRG)if(pe===m||pe===32){let le=ee.min.toString(16).toUpperCase();le.length%2!=0&&(le=`0${le}`),oe+=pe===m?"%x":"U+",oe+=le,le=ee.max.toString(16).toUpperCase(),le.length%2!=0&&(le=`0${le}`),oe+=`&ndash;${le}`}else oe=`%d${ee.min.toString(10)}&ndash;${ee.max.toString(10)}`;return oe}(W,J.opcode)}) `),J.opcode.type===c.TBS&&(z+=`(${function(pe,ee){let oe="";if(ee.type===c.TBS){let le=Math.min(ee.string.length,10);if(pe===m||pe===32){oe+=pe===m?"%x":"U+";for(let F=0;F<le;F+=1){let u;F>0&&(oe+="."),u=ee.string[F].toString(16).toUpperCase(),u.length%2!=0&&(u=`0${u}`),oe+=u}}else{oe="%d";for(let F=0;F<le;F+=1)F>0&&(oe+="."),oe+=ee.string[F].toString(10)}le<ee.string.length&&(oe+=U)}return oe}(W,J.opcode)}) `),J.opcode.type===c.TLS&&(z+=`(${function(pe,ee){let oe="";if(ee.type===c.TLS){let le=Math.min(ee.string.length,5);if(pe===m||pe===10){let F,u,h;pe===m?(oe="%x",h=16):(oe="%d",h=10);for(let S=0;S<le;S+=1)S>0&&(oe+="."),u=ee.string[S],u>=97&&u<=122?(F=u-32,oe+=`${F.toString(h)}/${u.toString(h)}`.toUpperCase()):u>=65&&u<=90?(F=u,u+=32,oe+=`${F.toString(h)}/${u.toString(h)}`.toUpperCase()):oe+=u.toString(h).toUpperCase();le<ee.string.length&&(oe+=U)}else{oe='"';for(let F=0;F<le;F+=1)oe+=n.asciiChars[ee.string[F]];le<ee.string.length&&(oe+=U),oe+='"'}}return oe}(W,J.opcode)}) `),J.opcode.type===c.REP&&(z+=`(${function(pe,ee){let oe="";if(ee.type===c.REP)if(pe===m){let le=ee.min.toString(16).toUpperCase();le.length%2!=0&&(le=`0${le}`),oe=`x${le}`,ee.max<1/0?(le=ee.max.toString(16).toUpperCase(),le.length%2!=0&&(le=`0${le}`)):le="inf",oe+=`&ndash;${le}`}else oe=ee.max<1/0?`${ee.min.toString(10)}&ndash;${ee.max.toString(10)}`:`${ee.min.toString(10)}&ndash;inf`;return oe}(W,J.opcode)}) `),D&&(z+="</span>"),z+="</td>",z+="<td>",z+=M?function(pe,ee,oe,le,F,u){let h,S,T,L,E="",k=O,H=`<span class="${s.CLASS_LOOKBEHIND}">`,Z=`<span class="${s.CLASS_REMAINDER}">`,K="</span>",te=!1;switch(oe){case c.EMPTY:E+=Q;case c.NOMATCH:case c.MATCH:case c.ACTIVE:h=le-F,S=u-h,T=u,L=ee.length-T;break;default:throw new Error("unrecognized state")}return k=O,S>f?(S=f,k=U,L=0):S+L>f&&(k=U,L=f-S),S>0&&(E+=H,E+=_e(pe,ee,h,S,te),E+=K,te=!0),L>0&&(E+=Z,E+=_e(pe,ee,T,L,te),E+=K),E+k}(W,y,J.state,J.phraseIndex,J.phraseLength,Y):N?function(pe,ee,oe,le,F){let u=`<span class="${s.CLASS_LOOKAHEAD}">`;return re(pe,ee,oe,le,F,u)}(W,y,J.state,J.phraseIndex,J.phraseLength):function(pe,ee,oe,le,F){let u=`<span class="${s.CLASS_MATCH}">`;return re(pe,ee,oe,le,F,u)}(W,y,J.state,J.phraseIndex,J.phraseLength),z+=`</td></tr>
`}),z+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",z+=`<th>operator</th><th>phrase</th></tr>
`,z+=`</table>
`,z},"M");this.toHtml=function(W,q){let P=8;if(typeof W=="string"&&W.length>=3){let M=W.toLowerCase().slice(0,3);M==="hex"?P=m:M==="dec"?P=10:M==="uni"&&(P=32)}let N="";return N+=function(M,D){let Y;switch(M){case m:Y="hexadecimal";break;case 10:Y="decimal";break;case 8:Y="ASCII";break;case 32:Y="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${M}`)}let z="";return z+=`<p>display mode: ${Y}</p>
`,z+=`<table class="${s.CLASS_TRACE}">
`,typeof D=="string"&&(z+=`<caption>${D}</caption>`),z}(P,q),N+=ne(P),N+=function(){let M="";return M+=`</table>
`,M+=`<p class="${s.CLASS_MONOSPACE}">legend:<br>
`,M+=`(a)&nbsp;-&nbsp;line number<br>
`,M+=`(b)&nbsp;-&nbsp;matching line number<br>
`,M+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,M+=`(d)&nbsp;-&nbsp;phrase length<br>
`,M+=`(e)&nbsp;-&nbsp;tree depth<br>
`,M+=`(f)&nbsp;-&nbsp;operator state<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,M+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,M+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">matched characters</span><br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${Q} empty string<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${O} end of input string<br>
`,M+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${U} input string display truncated<br>
`,M+=`</p>
`,M+=`<p class="${s.CLASS_MONOSPACE}">
`,M+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,M+=`ALT - alternation<br>
`,M+=`CAT - concatenation<br>
`,M+=`REP - repetition<br>
`,M+=`RNM - rule name<br>
`,M+=`TRG - terminal range<br>
`,M+=`TLS - terminal literal string (case insensitive)<br>
`,M+=`TBS - terminal binary string (case sensitive)<br>
`,M+=`<br>
`,M+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,M+=`UDT - user-defined terminal<br>
`,M+=`AND - positive look ahead<br>
`,M+=`NOT - negative look ahead<br>
`,M+=`BKA - positive look behind<br>
`,M+=`BKN - negative look behind<br>
`,M+=`BKR - back reference<br>
`,M+=`ABG - anchor - begin of input string<br>
`,M+=`AEN - anchor - end of input string<br>
`,M+=`</p>
`,M}(),N}}},{"./circular-buffer":8,"./identifiers":10,"./style":14,"./utilities":16}],16:[function(e,t,r){let n=e("./style"),s=e("../apg-conv-api/converter"),i=e("./emitcss"),c=e("./identifiers"),l=this,m=o(function(f,w,x){let g,R=w;for(;;){if(f<=0){R=0,g=0;break}if(typeof R!="number"){R=0,g=f;break}if(R>=f){R=f,g=f;break}if(typeof x!="number"){g=f;break}if(g=R+x,g>f){g=f;break}break}return{beg:R,end:g}},"h");r.htmlToPage=function(f,w){let x;if(typeof f!="string")throw new Error("utilities.js: htmlToPage: input HTML is not a string");x=typeof w!="string"?"htmlToPage":w;let g="";return g+=`<!DOCTYPE html>
`,g+=`<html lang="en">
`,g+=`<head>
`,g+=`<meta charset="utf-8">
`,g+=`<title>${x}</title>
`,g+=`<style>
`,g+=i(),g+=`</style>
`,g+=`</head>
<body>
`,g+=`<p>${new Date}</p>
`,g+=f,g+=`</body>
</html>
`,g},r.parserResultToHtml=function(f,w){let x,g,R=null;typeof w=="string"&&w!==""&&(R=w),x=f.success===!0?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,g=f.state===c.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:f.state===c.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:f.state===c.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let b="";return b+=`<table class="${n.CLASS_STATE}">
`,R&&(b+=`<caption>${R}</caption>
`),b+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,b+=`<tr><td>parser success</td><td>${x}</td>
`,b+=`<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,
`,b+=` <span class="${n.CLASS_NOMATCH}">false</span> otherwise`,b+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,b+=`<tr><td>parser state</td><td>${g}</td>
`,b+=`<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, `,b+=`<span class="${n.CLASS_MATCH}">MATCH</span> or 
`,b+=`<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,b+=`<tr><td>string length</td><td>${f.length}</td><td>length of the input (sub)string</td></tr>
`,b+=`<tr><td>matched length</td><td>${f.matched}</td><td>number of input string characters matched</td></tr>
`,b+=`<tr><td>max matched</td><td>${f.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,b+=`<tr><td>max tree depth</td><td>${f.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,b+=`<tr><td>node hits</td><td>${f.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,b+=`<tr><td>input length</td><td>${f.inputLength}</td><td>length of full input string</td></tr>
`,b+=`<tr><td>sub-string begin</td><td>${f.subBegin}</td><td>sub-string first character index</td></tr>
`,b+=`<tr><td>sub-string end</td><td>${f.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,b+=`<tr><td>sub-string length</td><td>${f.subLength}</td><td>sub-string length</td></tr>
`,b+=`</table>
`,b},r.charsToString=function(f,w,x){let g,R;if(typeof w=="number"){if(w>=f.length)return"";g=w<0?0:w}else g=0;if(typeof x=="number"){if(x<=0)return"";R=x>f.length-g?f.length:g+x}else R=f.length;return g<R?s.encode("UTF16LE",f.slice(g,R)).toString("utf16le"):""},r.stringToChars=function(f){return s.decode("STRING",f)},r.opcodeToString=function(f){let w="unknown";switch(f){case c.ALT:w="ALT";break;case c.CAT:w="CAT";break;case c.RNM:w="RNM";break;case c.UDT:w="UDT";break;case c.AND:w="AND";break;case c.NOT:w="NOT";break;case c.REP:w="REP";break;case c.TRG:w="TRG";break;case c.TBS:w="TBS";break;case c.TLS:w="TLS";break;case c.BKR:w="BKR";break;case c.BKA:w="BKA";break;case c.BKN:w="BKN";break;case c.ABG:w="ABG";break;case c.AEN:w="AEN";break;default:throw new Error("unrecognized opcode")}return w},r.stateToString=function(f){let w="unknown";switch(f){case c.ACTIVE:w="ACTIVE";break;case c.MATCH:w="MATCH";break;case c.EMPTY:w="EMPTY";break;case c.NOMATCH:w="NOMATCH";break;default:throw new Error("unrecognized state")}return w},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(f){let w=f.toString(16).toUpperCase();switch(w.length){case 1:case 3:case 7:w=`0${w}`;break;case 2:case 6:w=`00${w}`;break;case 4:break;case 5:w=`000${w}`;break;default:throw new Error("unrecognized option")}return w},r.charsToDec=function(f,w,x){let g="";if(!Array.isArray(f))throw new Error("utilities.js: charsToDec: input must be an array of integers");let R=m(f.length,w,x);if(R.end>R.beg){g+=f[R.beg];for(let b=R.beg+1;b<R.end;b+=1)g+=`,${f[b]}`}return g},r.charsToHex=function(f,w,x){let g="";if(!Array.isArray(f))throw new Error("utilities.js: charsToHex: input must be an array of integers");let R=m(f.length,w,x);if(R.end>R.beg){g+=`\\x${l.charToHex(f[R.beg])}`;for(let b=R.beg+1;b<R.end;b+=1)g+=`,\\x${l.charToHex(f[b])}`}return g},r.charsToHtmlEntities=function(f,w,x){let g="";if(!Array.isArray(f))throw new Error("utilities.js: charsToHex: input must be an array of integers");let R=m(f.length,w,x);if(R.end>R.beg)for(let b=R.beg;b<R.end;b+=1)g+=`&#x${f[b].toString(16)};`;return g},r.charsToUnicode=function(f,w,x){let g="";if(!Array.isArray(f))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");let R=m(f.length,w,x);if(R.end>R.beg)for(let _=R.beg;_<R.end;_+=1)g+=(b=f[_])>=55296&&b<=57343||b>1114111?` U+${l.charToHex(f[_])}`:`&#${f[_]};`;var b;return g},r.charsToJsUnicode=function(f,w,x){let g="";if(!Array.isArray(f))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");let R=m(f.length,w,x);if(R.end>R.beg){g+=`\\u${l.charToHex(f[R.beg])}`;for(let b=R.beg+1;b<R.end;b+=1)g+=`,\\u${l.charToHex(f[b])}`}return g},r.charsToAscii=function(f,w,x){let g="";if(!Array.isArray(f))throw new Error("utilities.js: charsToAscii: input must be an array of integers");let R=m(f.length,w,x);for(let b=R.beg;b<R.end;b+=1){let _=f[b];g+=_>=32&&_<=126?String.fromCharCode(_):`\\x${l.charToHex(_)}`}return g},r.charsToAsciiHtml=function(f,w,x){if(!Array.isArray(f))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let g,R="",b=m(f.length,w,x);for(let _=b.beg;_<b.end;_+=1)g=f[_],R+=g<32||g===127?`<span class="${n.CLASS_CTRLCHAR}">${l.asciiChars[g]}</span>`:g>127?`<span class="${n.CLASS_CTRLCHAR}">U+${l.charToHex(g)}</span>`:l.asciiChars[g];return R},r.stringToAsciiHtml=function(f){let w=s.decode("STRING",f);return this.charsToAsciiHtml(w)}},{"../apg-conv-api/converter":4,"./emitcss":9,"./identifiers":10,"./style":14}],17:[function(e,t,r){globalThis.apgLib=e("./node-exports"),globalThis.apgConvApi=e("../apg-conv-api/node-exports")},{"../apg-conv-api/node-exports":5,"./node-exports":11}]},{},[17]);p();d();function Sa(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:65,isBkr:!1},e.rules[66]={name:"message-domain",lower:"message-domain",index:66,isBkr:!1},e.rules[67]={name:"message-address",lower:"message-address",index:67,isBkr:!1},e.rules[68]={name:"message-statement",lower:"message-statement",index:68,isBkr:!1},e.rules[69]={name:"message-uri",lower:"message-uri",index:69,isBkr:!1},e.rules[70]={name:"message-version",lower:"message-version",index:70,isBkr:!1},e.rules[71]={name:"message-chain-id",lower:"message-chain-id",index:71,isBkr:!1},e.rules[72]={name:"message-nonce",lower:"message-nonce",index:72,isBkr:!1},e.rules[73]={name:"message-issued-at",lower:"message-issued-at",index:73,isBkr:!1},e.rules[74]={name:"message-expiration-time",lower:"message-expiration-time",index:74,isBkr:!1},e.rules[75]={name:"message-not-before",lower:"message-not-before",index:75,isBkr:!1},e.rules[76]={name:"message-request-id",lower:"message-request-id",index:76,isBkr:!1},e.rules[77]={name:"message-resources",lower:"message-resources",index:77,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[65].opcodes[1]={type:4,index:66},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:67},e.rules[65].opcodes[5]={type:4,index:10},e.rules[65].opcodes[6]={type:4,index:10},e.rules[65].opcodes[7]={type:3,min:0,max:1},e.rules[65].opcodes[8]={type:2,children:[9,10]},e.rules[65].opcodes[9]={type:4,index:68},e.rules[65].opcodes[10]={type:4,index:10},e.rules[65].opcodes[11]={type:4,index:10},e.rules[65].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[65].opcodes[13]={type:4,index:69},e.rules[65].opcodes[14]={type:4,index:10},e.rules[65].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[65].opcodes[16]={type:4,index:70},e.rules[65].opcodes[17]={type:4,index:10},e.rules[65].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[65].opcodes[19]={type:4,index:71},e.rules[65].opcodes[20]={type:4,index:10},e.rules[65].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[65].opcodes[22]={type:4,index:72},e.rules[65].opcodes[23]={type:4,index:10},e.rules[65].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[65].opcodes[25]={type:4,index:73},e.rules[65].opcodes[26]={type:3,min:0,max:1},e.rules[65].opcodes[27]={type:2,children:[28,29,30]},e.rules[65].opcodes[28]={type:4,index:10},e.rules[65].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[65].opcodes[30]={type:4,index:74},e.rules[65].opcodes[31]={type:3,min:0,max:1},e.rules[65].opcodes[32]={type:2,children:[33,34,35]},e.rules[65].opcodes[33]={type:4,index:10},e.rules[65].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[65].opcodes[35]={type:4,index:75},e.rules[65].opcodes[36]={type:3,min:0,max:1},e.rules[65].opcodes[37]={type:2,children:[38,39,40]},e.rules[65].opcodes[38]={type:4,index:10},e.rules[65].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[65].opcodes[40]={type:4,index:76},e.rules[65].opcodes[41]={type:3,min:0,max:1},e.rules[65].opcodes[42]={type:2,children:[43,44,45]},e.rules[65].opcodes[43]={type:4,index:10},e.rules[65].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[65].opcodes[45]={type:4,index:77},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:4,index:36},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:2,children:[1,2]},e.rules[67].opcodes[1]={type:7,string:[48,120]},e.rules[67].opcodes[2]={type:3,min:40,max:40},e.rules[67].opcodes[3]={type:4,index:8},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:1,max:1/0},e.rules[68].opcodes[1]={type:1,children:[2,3,4]},e.rules[68].opcodes[2]={type:4,index:62},e.rules[68].opcodes[3]={type:4,index:61},e.rules[68].opcodes[4]={type:7,string:[32]},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:4,index:29},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:7,string:[49]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:3,min:1,max:1/0},e.rules[71].opcodes[1]={type:4,index:6},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:3,min:8,max:1/0},e.rules[72].opcodes[1]={type:1,children:[2,3]},e.rules[72].opcodes[2]={type:4,index:0},e.rules[72].opcodes[3]={type:4,index:6},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:4,index:28},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:3,min:0,max:1/0},e.rules[76].opcodes[1]={type:4,index:57},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:2,children:[2,3,4]},e.rules[77].opcodes[2]={type:4,index:10},e.rules[77].opcodes[3]={type:7,string:[45,32]},e.rules[77].opcodes[4]={type:4,index:29},e.toString=o(function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Ethereum (EIP-4361)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=`
`,r+=`sign-in-with-ethereum =
`,r+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,r+=`  message-address LF
`,r+=`  LF
`,r+=`  [ message-statement LF ]
`,r+=`  LF
`,r+=`  %s"URI: " message-uri LF
`,r+=`  %s"Version: " message-version LF
`,r+=`  %s"Chain ID: " message-chain-id LF
`,r+=`  %s"Nonce: " message-nonce LF
`,r+=`  %s"Issued At: " message-issued-at
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = "0x" 40*40HEXDIG
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = 1*DIGIT
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},"toString"),e}o(Sa,"grammar");p();d();function _a(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-solana",lower:"sign-in-with-solana",index:65,isBkr:!1},e.rules[66]={name:"advanced-fields",lower:"advanced-fields",index:66,isBkr:!1},e.rules[67]={name:"message-domain",lower:"message-domain",index:67,isBkr:!1},e.rules[68]={name:"message-address",lower:"message-address",index:68,isBkr:!1},e.rules[69]={name:"message-statement",lower:"message-statement",index:69,isBkr:!1},e.rules[70]={name:"message-uri",lower:"message-uri",index:70,isBkr:!1},e.rules[71]={name:"message-version",lower:"message-version",index:71,isBkr:!1},e.rules[72]={name:"message-chain-id",lower:"message-chain-id",index:72,isBkr:!1},e.rules[73]={name:"message-nonce",lower:"message-nonce",index:73,isBkr:!1},e.rules[74]={name:"message-issued-at",lower:"message-issued-at",index:74,isBkr:!1},e.rules[75]={name:"message-expiration-time",lower:"message-expiration-time",index:75,isBkr:!1},e.rules[76]={name:"message-not-before",lower:"message-not-before",index:76,isBkr:!1},e.rules[77]={name:"message-request-id",lower:"message-request-id",index:77,isBkr:!1},e.rules[78]={name:"message-resources",lower:"message-resources",index:78,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,10]},e.rules[65].opcodes[1]={type:4,index:67},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:68},e.rules[65].opcodes[5]={type:3,min:0,max:1},e.rules[65].opcodes[6]={type:2,children:[7,8,9]},e.rules[65].opcodes[7]={type:4,index:10},e.rules[65].opcodes[8]={type:4,index:10},e.rules[65].opcodes[9]={type:4,index:69},e.rules[65].opcodes[10]={type:3,min:0,max:1},e.rules[65].opcodes[11]={type:2,children:[12,13]},e.rules[65].opcodes[12]={type:4,index:10},e.rules[65].opcodes[13]={type:4,index:66},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,6,11,16,21,26,31,36,41]},e.rules[66].opcodes[1]={type:3,min:0,max:1},e.rules[66].opcodes[2]={type:2,children:[3,4,5]},e.rules[66].opcodes[3]={type:4,index:10},e.rules[66].opcodes[4]={type:6,string:[85,82,73,58,32]},e.rules[66].opcodes[5]={type:4,index:70},e.rules[66].opcodes[6]={type:3,min:0,max:1},e.rules[66].opcodes[7]={type:2,children:[8,9,10]},e.rules[66].opcodes[8]={type:4,index:10},e.rules[66].opcodes[9]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[66].opcodes[10]={type:4,index:71},e.rules[66].opcodes[11]={type:3,min:0,max:1},e.rules[66].opcodes[12]={type:2,children:[13,14,15]},e.rules[66].opcodes[13]={type:4,index:10},e.rules[66].opcodes[14]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[66].opcodes[15]={type:4,index:72},e.rules[66].opcodes[16]={type:3,min:0,max:1},e.rules[66].opcodes[17]={type:2,children:[18,19,20]},e.rules[66].opcodes[18]={type:4,index:10},e.rules[66].opcodes[19]={type:6,string:[78,111,110,99,101,58,32]},e.rules[66].opcodes[20]={type:4,index:73},e.rules[66].opcodes[21]={type:3,min:0,max:1},e.rules[66].opcodes[22]={type:2,children:[23,24,25]},e.rules[66].opcodes[23]={type:4,index:10},e.rules[66].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[66].opcodes[25]={type:4,index:74},e.rules[66].opcodes[26]={type:3,min:0,max:1},e.rules[66].opcodes[27]={type:2,children:[28,29,30]},e.rules[66].opcodes[28]={type:4,index:10},e.rules[66].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[66].opcodes[30]={type:4,index:75},e.rules[66].opcodes[31]={type:3,min:0,max:1},e.rules[66].opcodes[32]={type:2,children:[33,34,35]},e.rules[66].opcodes[33]={type:4,index:10},e.rules[66].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[66].opcodes[35]={type:4,index:76},e.rules[66].opcodes[36]={type:3,min:0,max:1},e.rules[66].opcodes[37]={type:2,children:[38,39,40]},e.rules[66].opcodes[38]={type:4,index:10},e.rules[66].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[66].opcodes[40]={type:4,index:77},e.rules[66].opcodes[41]={type:3,min:0,max:1},e.rules[66].opcodes[42]={type:2,children:[43,44,45]},e.rules[66].opcodes[43]={type:4,index:10},e.rules[66].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[66].opcodes[45]={type:4,index:78},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:4,index:36},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:32,max:44},e.rules[68].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[68].opcodes[2]={type:5,min:49,max:57},e.rules[68].opcodes[3]={type:5,min:65,max:72},e.rules[68].opcodes[4]={type:5,min:74,max:78},e.rules[68].opcodes[5]={type:5,min:80,max:90},e.rules[68].opcodes[6]={type:5,min:97,max:107},e.rules[68].opcodes[7]={type:5,min:109,max:122},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:3,min:1,max:1/0},e.rules[69].opcodes[1]={type:1,children:[2,3,4]},e.rules[69].opcodes[2]={type:4,index:62},e.rules[69].opcodes[3]={type:4,index:61},e.rules[69].opcodes[4]={type:7,string:[32]},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:4,index:29},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:7,string:[49]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[72].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[72].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[72].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[72].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[72].opcodes[5]={type:6,string:[115,111,108,97,110,97,58,109,97,105,110,110,101,116]},e.rules[72].opcodes[6]={type:6,string:[115,111,108,97,110,97,58,116,101,115,116,110,101,116]},e.rules[72].opcodes[7]={type:6,string:[115,111,108,97,110,97,58,100,101,118,110,101,116]},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:3,min:8,max:1/0},e.rules[73].opcodes[1]={type:1,children:[2,3]},e.rules[73].opcodes[2]={type:4,index:0},e.rules[73].opcodes[3]={type:4,index:6},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:4,index:28},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:4,index:57},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:3,min:0,max:1/0},e.rules[78].opcodes[1]={type:2,children:[2,3,4]},e.rules[78].opcodes[2]={type:4,index:10},e.rules[78].opcodes[3]={type:7,string:[45,32]},e.rules[78].opcodes[4]={type:4,index:29},e.toString=o(function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Solana
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`; - dns.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=` 
`,r+=`sign-in-with-solana =
`,r+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,r+=`  message-address
`,r+=`  [ LF LF message-statement ]
`,r+=`  [ LF advanced-fields ]
`,r+=`
`,r+=`advanced-fields =
`,r+=`  [ LF %s"URI: " message-uri ]
`,r+=`  [ LF %s"Version: " message-version ]
`,r+=`  [ LF %s"Chain ID: " message-chain-id ]
`,r+=`  [ LF %s"Nonce: " message-nonce ]
`,r+=`  [ LF %s"Issued At: " message-issued-at ]
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},"toString"),e}o(_a,"grammar");p();d();function Aa(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"dnsurl",lower:"dnsurl",index:65,isBkr:!1},e.rules[66]={name:"dnsauthority",lower:"dnsauthority",index:66,isBkr:!1},e.rules[67]={name:"dnsname",lower:"dnsname",index:67,isBkr:!1},e.rules[68]={name:"dnsquery",lower:"dnsquery",index:68,isBkr:!1},e.rules[69]={name:"dnsqueryelement",lower:"dnsqueryelement",index:69,isBkr:!1},e.rules[70]={name:"dnsclassval",lower:"dnsclassval",index:70,isBkr:!1},e.rules[71]={name:"dnstypeval",lower:"dnstypeval",index:71,isBkr:!1},e.rules[72]={name:"chain-id",lower:"chain-id",index:72,isBkr:!1},e.rules[73]={name:"eth-namespace",lower:"eth-namespace",index:73,isBkr:!1},e.rules[74]={name:"eth-network-id",lower:"eth-network-id",index:74,isBkr:!1},e.rules[75]={name:"eth-chain-id",lower:"eth-chain-id",index:75,isBkr:!1},e.rules[76]={name:"sol-namespace",lower:"sol-namespace",index:76,isBkr:!1},e.rules[77]={name:"sol-network-id",lower:"sol-network-id",index:77,isBkr:!1},e.rules[78]={name:"sol-chain-id",lower:"sol-chain-id",index:78,isBkr:!1},e.rules[79]={name:"account-id",lower:"account-id",index:79,isBkr:!1},e.rules[80]={name:"eth-address",lower:"eth-address",index:80,isBkr:!1},e.rules[81]={name:"eth-account-id",lower:"eth-account-id",index:81,isBkr:!1},e.rules[82]={name:"sol-address",lower:"sol-address",index:82,isBkr:!1},e.rules[83]={name:"sol-account-id",lower:"sol-account-id",index:83,isBkr:!1},e.rules[84]={name:"sign-in-with-x",lower:"sign-in-with-x",index:84,isBkr:!1},e.rules[85]={name:"sign-in-with-eth",lower:"sign-in-with-eth",index:85,isBkr:!1},e.rules[86]={name:"sign-in-with-sol",lower:"sign-in-with-sol",index:86,isBkr:!1},e.rules[87]={name:"message-domain",lower:"message-domain",index:87,isBkr:!1},e.rules[88]={name:"message-address",lower:"message-address",index:88,isBkr:!1},e.rules[89]={name:"message-statement",lower:"message-statement",index:89,isBkr:!1},e.rules[90]={name:"message-uri",lower:"message-uri",index:90,isBkr:!1},e.rules[91]={name:"message-version",lower:"message-version",index:91,isBkr:!1},e.rules[92]={name:"message-chain-id",lower:"message-chain-id",index:92,isBkr:!1},e.rules[93]={name:"message-nonce",lower:"message-nonce",index:93,isBkr:!1},e.rules[94]={name:"message-issued-at",lower:"message-issued-at",index:94,isBkr:!1},e.rules[95]={name:"message-expiration-time",lower:"message-expiration-time",index:95,isBkr:!1},e.rules[96]={name:"message-not-before",lower:"message-not-before",index:96,isBkr:!1},e.rules[97]={name:"message-request-id",lower:"message-request-id",index:97,isBkr:!1},e.rules[98]={name:"message-resources",lower:"message-resources",index:98,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,7,8]},e.rules[65].opcodes[1]={type:7,string:[100,110,115,58]},e.rules[65].opcodes[2]={type:3,min:0,max:1},e.rules[65].opcodes[3]={type:2,children:[4,5,6]},e.rules[65].opcodes[4]={type:7,string:[47,47]},e.rules[65].opcodes[5]={type:4,index:66},e.rules[65].opcodes[6]={type:7,string:[47]},e.rules[65].opcodes[7]={type:4,index:67},e.rules[65].opcodes[8]={type:3,min:0,max:1},e.rules[65].opcodes[9]={type:2,children:[10,11]},e.rules[65].opcodes[10]={type:7,string:[63]},e.rules[65].opcodes[11]={type:4,index:68},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,2]},e.rules[66].opcodes[1]={type:4,index:38},e.rules[66].opcodes[2]={type:3,min:0,max:1},e.rules[66].opcodes[3]={type:2,children:[4,5]},e.rules[66].opcodes[4]={type:7,string:[58]},e.rules[66].opcodes[5]={type:4,index:39},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:3,min:0,max:1/0},e.rules[67].opcodes[1]={type:4,index:57},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:2,children:[1,2]},e.rules[68].opcodes[1]={type:4,index:69},e.rules[68].opcodes[2]={type:3,min:0,max:1},e.rules[68].opcodes[3]={type:2,children:[4,5]},e.rules[68].opcodes[4]={type:7,string:[59]},e.rules[68].opcodes[5]={type:4,index:68},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:1,children:[1,4]},e.rules[69].opcodes[1]={type:2,children:[2,3]},e.rules[69].opcodes[2]={type:7,string:[99,108,97,115,115,61]},e.rules[69].opcodes[3]={type:4,index:70},e.rules[69].opcodes[4]={type:2,children:[5,6]},e.rules[69].opcodes[5]={type:7,string:[116,121,112,101,61]},e.rules[69].opcodes[6]={type:4,index:71},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:1,children:[1,3,4]},e.rules[70].opcodes[1]={type:3,min:1,max:1/0},e.rules[70].opcodes[2]={type:4,index:6},e.rules[70].opcodes[3]={type:7,string:[105,110]},e.rules[70].opcodes[4]={type:7,string:[99,104]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:1,children:[1,3,4,5]},e.rules[71].opcodes[1]={type:3,min:1,max:1/0},e.rules[71].opcodes[2]={type:4,index:6},e.rules[71].opcodes[3]={type:7,string:[97]},e.rules[71].opcodes[4]={type:7,string:[110,115]},e.rules[71].opcodes[5]={type:7,string:[109,100]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2]},e.rules[72].opcodes[1]={type:4,index:75},e.rules[72].opcodes[2]={type:4,index:78},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:6,string:[101,105,112,49,53,53]},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:3,min:1,max:32},e.rules[74].opcodes[1]={type:4,index:6},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:2,children:[1,2,3]},e.rules[75].opcodes[1]={type:4,index:73},e.rules[75].opcodes[2]={type:7,string:[58]},e.rules[75].opcodes[3]={type:4,index:74},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:6,string:[115,111,108,97,110,97]},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:1,children:[1,2,3,4]},e.rules[77].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[77].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[77].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[77].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:2,children:[1,2,3]},e.rules[78].opcodes[1]={type:4,index:76},e.rules[78].opcodes[2]={type:7,string:[58]},e.rules[78].opcodes[3]={type:4,index:77},e.rules[79].opcodes=[],e.rules[79].opcodes[0]={type:1,children:[1,2]},e.rules[79].opcodes[1]={type:4,index:81},e.rules[79].opcodes[2]={type:4,index:83},e.rules[80].opcodes=[],e.rules[80].opcodes[0]={type:2,children:[1,2]},e.rules[80].opcodes[1]={type:7,string:[48,120]},e.rules[80].opcodes[2]={type:3,min:40,max:40},e.rules[80].opcodes[3]={type:4,index:8},e.rules[81].opcodes=[],e.rules[81].opcodes[0]={type:2,children:[1,2,3]},e.rules[81].opcodes[1]={type:4,index:75},e.rules[81].opcodes[2]={type:7,string:[58]},e.rules[81].opcodes[3]={type:4,index:80},e.rules[82].opcodes=[],e.rules[82].opcodes[0]={type:3,min:32,max:44},e.rules[82].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[82].opcodes[2]={type:5,min:49,max:57},e.rules[82].opcodes[3]={type:5,min:65,max:72},e.rules[82].opcodes[4]={type:5,min:74,max:78},e.rules[82].opcodes[5]={type:5,min:80,max:90},e.rules[82].opcodes[6]={type:5,min:97,max:107},e.rules[82].opcodes[7]={type:5,min:109,max:122},e.rules[83].opcodes=[],e.rules[83].opcodes[0]={type:2,children:[1,2,3]},e.rules[83].opcodes[1]={type:4,index:78},e.rules[83].opcodes[2]={type:7,string:[58]},e.rules[83].opcodes[3]={type:4,index:82},e.rules[84].opcodes=[],e.rules[84].opcodes[0]={type:1,children:[1,2]},e.rules[84].opcodes[1]={type:4,index:85},e.rules[84].opcodes[2]={type:4,index:86},e.rules[85].opcodes=[],e.rules[85].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[85].opcodes[1]={type:4,index:87},e.rules[85].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[85].opcodes[3]={type:4,index:10},e.rules[85].opcodes[4]={type:4,index:81},e.rules[85].opcodes[5]={type:4,index:10},e.rules[85].opcodes[6]={type:4,index:10},e.rules[85].opcodes[7]={type:3,min:0,max:1},e.rules[85].opcodes[8]={type:2,children:[9,10]},e.rules[85].opcodes[9]={type:4,index:89},e.rules[85].opcodes[10]={type:4,index:10},e.rules[85].opcodes[11]={type:4,index:10},e.rules[85].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[85].opcodes[13]={type:4,index:90},e.rules[85].opcodes[14]={type:4,index:10},e.rules[85].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[85].opcodes[16]={type:4,index:91},e.rules[85].opcodes[17]={type:4,index:10},e.rules[85].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[85].opcodes[19]={type:4,index:75},e.rules[85].opcodes[20]={type:4,index:10},e.rules[85].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[85].opcodes[22]={type:4,index:93},e.rules[85].opcodes[23]={type:4,index:10},e.rules[85].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[85].opcodes[25]={type:4,index:94},e.rules[85].opcodes[26]={type:3,min:0,max:1},e.rules[85].opcodes[27]={type:2,children:[28,29,30]},e.rules[85].opcodes[28]={type:4,index:10},e.rules[85].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[85].opcodes[30]={type:4,index:95},e.rules[85].opcodes[31]={type:3,min:0,max:1},e.rules[85].opcodes[32]={type:2,children:[33,34,35]},e.rules[85].opcodes[33]={type:4,index:10},e.rules[85].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[85].opcodes[35]={type:4,index:96},e.rules[85].opcodes[36]={type:3,min:0,max:1},e.rules[85].opcodes[37]={type:2,children:[38,39,40]},e.rules[85].opcodes[38]={type:4,index:10},e.rules[85].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[85].opcodes[40]={type:4,index:97},e.rules[85].opcodes[41]={type:3,min:0,max:1},e.rules[85].opcodes[42]={type:2,children:[43,44,45]},e.rules[85].opcodes[43]={type:4,index:10},e.rules[85].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[85].opcodes[45]={type:4,index:98},e.rules[86].opcodes=[],e.rules[86].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[86].opcodes[1]={type:4,index:87},e.rules[86].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[86].opcodes[3]={type:4,index:10},e.rules[86].opcodes[4]={type:4,index:83},e.rules[86].opcodes[5]={type:4,index:10},e.rules[86].opcodes[6]={type:4,index:10},e.rules[86].opcodes[7]={type:3,min:0,max:1},e.rules[86].opcodes[8]={type:2,children:[9,10]},e.rules[86].opcodes[9]={type:4,index:89},e.rules[86].opcodes[10]={type:4,index:10},e.rules[86].opcodes[11]={type:4,index:10},e.rules[86].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[86].opcodes[13]={type:4,index:90},e.rules[86].opcodes[14]={type:4,index:10},e.rules[86].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[86].opcodes[16]={type:4,index:91},e.rules[86].opcodes[17]={type:4,index:10},e.rules[86].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[86].opcodes[19]={type:4,index:78},e.rules[86].opcodes[20]={type:4,index:10},e.rules[86].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[86].opcodes[22]={type:4,index:93},e.rules[86].opcodes[23]={type:4,index:10},e.rules[86].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[86].opcodes[25]={type:4,index:94},e.rules[86].opcodes[26]={type:3,min:0,max:1},e.rules[86].opcodes[27]={type:2,children:[28,29,30]},e.rules[86].opcodes[28]={type:4,index:10},e.rules[86].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[86].opcodes[30]={type:4,index:95},e.rules[86].opcodes[31]={type:3,min:0,max:1},e.rules[86].opcodes[32]={type:2,children:[33,34,35]},e.rules[86].opcodes[33]={type:4,index:10},e.rules[86].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[86].opcodes[35]={type:4,index:96},e.rules[86].opcodes[36]={type:3,min:0,max:1},e.rules[86].opcodes[37]={type:2,children:[38,39,40]},e.rules[86].opcodes[38]={type:4,index:10},e.rules[86].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[86].opcodes[40]={type:4,index:97},e.rules[86].opcodes[41]={type:3,min:0,max:1},e.rules[86].opcodes[42]={type:2,children:[43,44,45]},e.rules[86].opcodes[43]={type:4,index:10},e.rules[86].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[86].opcodes[45]={type:4,index:98},e.rules[87].opcodes=[],e.rules[87].opcodes[0]={type:4,index:66},e.rules[88].opcodes=[],e.rules[88].opcodes[0]={type:1,children:[1,2]},e.rules[88].opcodes[1]={type:4,index:81},e.rules[88].opcodes[2]={type:4,index:83},e.rules[89].opcodes=[],e.rules[89].opcodes[0]={type:3,min:1,max:1/0},e.rules[89].opcodes[1]={type:1,children:[2,3,4]},e.rules[89].opcodes[2]={type:4,index:62},e.rules[89].opcodes[3]={type:4,index:61},e.rules[89].opcodes[4]={type:7,string:[32]},e.rules[90].opcodes=[],e.rules[90].opcodes[0]={type:4,index:29},e.rules[91].opcodes=[],e.rules[91].opcodes[0]={type:7,string:[49]},e.rules[92].opcodes=[],e.rules[92].opcodes[0]={type:1,children:[1,2]},e.rules[92].opcodes[1]={type:4,index:75},e.rules[92].opcodes[2]={type:4,index:78},e.rules[93].opcodes=[],e.rules[93].opcodes[0]={type:3,min:8,max:1/0},e.rules[93].opcodes[1]={type:1,children:[2,3]},e.rules[93].opcodes[2]={type:4,index:0},e.rules[93].opcodes[3]={type:4,index:6},e.rules[94].opcodes=[],e.rules[94].opcodes[0]={type:4,index:28},e.rules[95].opcodes=[],e.rules[95].opcodes[0]={type:4,index:28},e.rules[96].opcodes=[],e.rules[96].opcodes[0]={type:4,index:28},e.rules[97].opcodes=[],e.rules[97].opcodes[0]={type:3,min:0,max:1/0},e.rules[97].opcodes[1]={type:4,index:57},e.rules[98].opcodes=[],e.rules[98].opcodes[0]={type:3,min:0,max:1/0},e.rules[98].opcodes[1]={type:2,children:[2,3,4]},e.rules[98].opcodes[2]={type:4,index:10},e.rules[98].opcodes[3]={type:7,string:[45,32]},e.rules[98].opcodes[4]={type:4,index:29},e.toString=()=>{let t="";return t+=`; ==============================================================================
`,t+=`; Core rules for ABNF (RFC 5234)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,t+=`
`,t+=`ALPHA          =  %x41-5A / %x61-7A
`,t+=`               ; A-Z / a-z
`,t+=`
`,t+=`BIT            =  "0" / "1"
`,t+=`
`,t+=`CHAR           =  %x01-7F
`,t+=`               ; any 7-bit US-ASCII character,
`,t+=`               ;  excluding NUL
`,t+=`
`,t+=`CR             =  %x0D
`,t+=`               ; carriage return
`,t+=`
`,t+=`CRLF           =  CR LF
`,t+=`               ; Internet standard newline
`,t+=`
`,t+=`CTL            =  %x00-1F / %x7F
`,t+=`               ; controls
`,t+=`
`,t+=`DIGIT          =  %x30-39
`,t+=`               ; 0-9
`,t+=`
`,t+=`DQUOTE         =  %x22
`,t+=`               ; " (Double Quote)
`,t+=`
`,t+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,t+=`
`,t+=`HTAB           =  %x09
`,t+=`               ; horizontal tab
`,t+=`
`,t+=`LF             =  %x0A
`,t+=`               ; linefeed
`,t+=`
`,t+=`LWSP           =  *(WSP / CRLF WSP)
`,t+=`               ; Use of this linear-white-space rule
`,t+=`               ;  permits lines containing only white
`,t+=`               ;  space that are no longer legal in
`,t+=`               ;  mail headers and have caused
`,t+=`               ;  interoperability problems in other
`,t+=`               ;  contexts.
`,t+=`               ; Do not use when defining mail
`,t+=`               ;  headers and use with caution in
`,t+=`               ;  other contexts.
`,t+=`
`,t+=`OCTET          =  %x00-FF
`,t+=`               ; 8 bits of data
`,t+=`
`,t+=`SP             =  %x20
`,t+=`
`,t+=`VCHAR          =  %x21-7E
`,t+=`               ; visible (printing) characters
`,t+=`
`,t+=`WSP            =  SP / HTAB
`,t+=`               ; white space
`,t+=`; ==============================================================================
`,t+=`; Internet Date/Time Format (RFC 3339)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,t+=`
`,t+=`date-fullyear   = 4DIGIT
`,t+=`
`,t+=`date-month      = 2DIGIT  ; 01-12
`,t+=`
`,t+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,t+=`                          ; month/year
`,t+=`
`,t+=`time-hour       = 2DIGIT  ; 00-23
`,t+=`
`,t+=`time-minute     = 2DIGIT  ; 00-59
`,t+=`
`,t+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,t+=`                          ; rules
`,t+=`
`,t+=`time-secfrac    = "." 1*DIGIT
`,t+=`
`,t+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,t+=`
`,t+=`time-offset     = "Z" / time-numoffset
`,t+=`
`,t+=`partial-time    = time-hour ":" time-minute ":" time-second
`,t+=`                  [time-secfrac]
`,t+=`
`,t+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,t+=`
`,t+=`full-time       = partial-time time-offset
`,t+=`
`,t+=`date-time       = full-date "T" full-time
`,t+=`; ==============================================================================
`,t+=`; Uniform Resource Identifier (RFC 3986)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,t+=`
`,t+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`hier-part     = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-rootless
`,t+=`              / path-empty
`,t+=`
`,t+=`URI-reference = URI / relative-ref
`,t+=`
`,t+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,t+=`
`,t+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`relative-part = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-noscheme
`,t+=`              / path-empty
`,t+=`
`,t+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,t+=`
`,t+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,t+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,t+=`host          = IP-literal / IPv4address / reg-name
`,t+=`port          = *DIGIT
`,t+=`
`,t+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,t+=`
`,t+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,t+=`
`,t+=`IPv6address   =                            6( h16 ":" ) ls32
`,t+=`              /                       "::" 5( h16 ":" ) ls32
`,t+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,t+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,t+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,t+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,t+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,t+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,t+=`              / [ *6( h16 ":" ) h16 ] "::"
`,t+=`
`,t+=`h16           = 1*4HEXDIG
`,t+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,t+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,t+=`dec-octet     = DIGIT                 ; 0-9
`,t+=`              / %x31-39 DIGIT         ; 10-99
`,t+=`              / "1" 2DIGIT            ; 100-199
`,t+=`              / "2" %x30-34 DIGIT     ; 200-249
`,t+=`              / "25" %x30-35          ; 250-255
`,t+=`
`,t+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,t+=`
`,t+=`path          = path-abempty    ; begins with "/" or is empty
`,t+=`              / path-absolute   ; begins with "/" but not "//"
`,t+=`              / path-noscheme   ; begins with a non-colon segment
`,t+=`              / path-rootless   ; begins with a segment
`,t+=`              / path-empty      ; zero characters
`,t+=`
`,t+=`path-abempty  = *( "/" segment )
`,t+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,t+=`path-noscheme = segment-nz-nc *( "/" segment )
`,t+=`path-rootless = segment-nz *( "/" segment )
`,t+=`path-empty    = 0pchar
`,t+=`
`,t+=`segment       = *pchar
`,t+=`segment-nz    = 1*pchar
`,t+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,t+=`; non-zero-length segment without any colon ":"
`,t+=`
`,t+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,t+=`
`,t+=`query         = *( pchar / "/" / "?" )
`,t+=`
`,t+=`fragment      = *( pchar / "/" / "?" )
`,t+=`
`,t+=`pct-encoded   = "%" HEXDIG HEXDIG
`,t+=`
`,t+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,t+=`reserved      = gen-delims / sub-delims
`,t+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,t+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,t+=`              / "*" / "+" / "," / ";" / "="
`,t+=`; ==============================================================================
`,t+=`; DNS URI (RFC 4501)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - uri.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3
`,t+=`;
`,t+=`; Note:
`,t+=`; dnsclassval and dnstypeval are not defined exhaustively
`,t+=`; but their definitions are unused in SIW grammars.
`,t+=`
`,t+=`
`,t+=`dnsurl          = "dns:" [ "//" dnsauthority "/" ]
`,t+=`                  dnsname ["?" dnsquery]
`,t+=`
`,t+=`dnsauthority    = host [ ":" port ]
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "host" and "port".
`,t+=`
`,t+=`dnsname         = *pchar
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "pchar".
`,t+=`
`,t+=`                ; The "dnsname" field may be a
`,t+=`                ; "relative" or "absolute" name,
`,t+=`                ; as per RFC 1034, section 3.1.
`,t+=`
`,t+=`                ; Note further that an empty
`,t+=`                ; "dnsname" value is to be
`,t+=`                ; interpreted as the root itself.
`,t+=`                ; See below on relative dnsnames.
`,t+=`
`,t+=`dnsquery        = dnsqueryelement [";" dnsquery]
`,t+=`
`,t+=`dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
`,t+=`                ; Each clause MUST NOT be used more
`,t+=`                ; than once.
`,t+=`
`,t+=`dnsclassval     = 1*digit / "IN" / "CH"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS class mnemonic>
`,t+=`
`,t+=`dnstypeval      = 1*digit / "A" / "NS" / "MD"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS type mnemonic>
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic IDs (CAIP-2)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`chain-id        = eth-chain-id
`,t+=`                / sol-chain-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-namespace   = %s"eip155"
`,t+=`                ; The chain-id namespace for evm chains
`,t+=`
`,t+=`eth-network-id  = 1*32DIGIT
`,t+=`                ; Accept up to 32 digits. Could probably be lowered
`,t+=`
`,t+=`eth-chain-id    = eth-namespace ":" eth-network-id
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1   (eth mainnet)
`,t+=`                ; - eip155:137 (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-namespace   = %s"solana"
`,t+=`                ; The chain-id namespace for solana
`,t+=`
`,t+=`sol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"
`,t+=`                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts
`,t+=`
`,t+=`sol-chain-id    = sol-namespace ":" sol-network-id
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet (solana mainnet)
`,t+=`                ; - solana:testnet (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic account identifiers (CAIP-10)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - chain-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`account-id      = eth-account-id
`,t+=`                / sol-account-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-address     = "0x" 40HEXDIG
`,t+=`                ; Must also conform to captilization
`,t+=`                ; checksum encoding specified in EIP-55
`,t+=`                ; where applicable (EOAs).
`,t+=`
`,t+=`eth-account-id  = eth-chain-id ":" eth-address
`,t+=`                ; See CAIP-2 for definition of "eth-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)
`,t+=`                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,t+=`                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z
`,t+=`                ; Note: this doesn't validate whether the address is "on the curve"
`,t+=`
`,t+=`sol-account-id  = sol-chain-id ":" sol-address
`,t+=`                ; See CAIP-2 for definition of "sol-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)
`,t+=`                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Sign in with X (CAIP-122)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - datetime.bnf
`,t+=`; - uri.bnf
`,t+=`; - dns.bnf
`,t+=`; - chain-id.bnf
`,t+=`; - account-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md
`,t+=`;
`,t+=`; Note:
`,t+=`; Currently, this grammar file only supports the Ethereum and Solana blockchains
`,t+=`
`,t+=`sign-in-with-x = sign-in-with-eth
`,t+=`               / sign-in-with-sol
`,t+=`
`,t+=`; Ethereum
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-eth =
`,t+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,t+=`  eth-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " eth-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Solana
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-sol =
`,t+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,t+=`  sol-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " sol-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Common
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`message-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority
`,t+=`message-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition
`,t+=`message-statement       = 1*( reserved / unreserved / " " )
`,t+=`message-uri             = URI
`,t+=`message-version         = "1"
`,t+=`message-chain-id        = eth-chain-id / sol-chain-id
`,t+=`message-nonce           = 8*( ALPHA / DIGIT )
`,t+=`message-issued-at       = date-time
`,t+=`message-expiration-time = date-time
`,t+=`message-not-before      = date-time
`,t+=`message-request-id      = *pchar
`,t+=`message-resources       = *( LF "- " URI )
`,t},e}o(Aa,"grammar");p();d();var mt=o((e,t)=>(r,n,s,i,c)=>(r===wn.SEM_PRE&&(c[e]=t(n,s,i,c)),wn.SEM_OK),"assign");var{apgLib:bn}=globalThis;function wo(e,t){let r=new bn.parser;r.stats=new bn.stats,r.trace=new bn.trace,r.ast=new bn.ast;let n=bn.utils.charsToString,s=o((w,x,g)=>new Date(n(w,x,g)),"charsToDate"),i=o((w,x,g)=>new URL(n(w,x,g)),"charsToURL");r.ast.callbacks["message-domain"]=mt("domain",n),r.ast.callbacks["message-address"]=mt("address",n),r.ast.callbacks["message-statement"]=mt("statement",n),r.ast.callbacks["message-uri"]=mt("uri",i),r.ast.callbacks["message-version"]=mt("version",n),r.ast.callbacks["message-chain-id"]=mt("chainId",n),r.ast.callbacks["message-nonce"]=mt("nonce",n),r.ast.callbacks["message-issued-at"]=mt("issuedAt",s),r.ast.callbacks["message-expiration-time"]=mt("expirationTime",s),r.ast.callbacks["message-not-before"]=mt("notBefore",s),r.ast.callbacks["message-request-id"]=mt("requestId",n),r.ast.callbacks["message-resources"]=mt("resources",(w,x,g)=>g?n(w,x,g).slice(3).split(`
- `).map(R=>new URL(R)):[]),e===ut.X&&(r.ast.callbacks["eth-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["eth-chain-id"]=r.ast.callbacks["message-chain-id"],r.ast.callbacks["sol-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["sol-chain-id"]=r.ast.callbacks["message-chain-id"]);let c=null;switch(e){case ut.Ethereum:c=Sa;break;case ut.Solana:c=_a;break;case ut.X:c=Aa;break}if(!c)throw new Error(`Could not find grammar for ${e}`);let l=c(),m=r.parse(l,e,t);if(!m.success){let x=m.maxMatched+1,g=t.slice(0,x),R=g.split(`
`),b=R[R.length-1].length-1,_=[g,b>-1?" ".repeat(b)+"^":"^"].join(`
`);return{success:!1,error:new Error(_)}}let f={type:e};return r.ast.translate(f),{success:!0,data:f}}o(wo,"parse");p();d();var Ra={[Ve.ADDRESS_MISMATCH]:"address",[Ve.DOMAIN_MISMATCH]:"domain",[Ve.URI_MISMATCH]:"uri",[Ve.CHAIN_ID_MISMATCH]:"chainId",[Ve.ISSUED_TOO_FAR_IN_THE_PAST]:"issuedAt",[Ve.ISSUED_TOO_FAR_IN_THE_FUTURE]:"issuedAt",[Ve.EXPIRED]:"expirationTime",[Ve.EXPIRES_BEFORE_ISSUANCE]:"expirationTime",[Ve.VALID_AFTER_EXPIRATION]:"notBefore"};var Sn=ie(dr(),1);var Hu={eth:{hexToCAIP2:o(e=>`eip155:${parseInt(e,16)}`,"hexToCAIP2"),getBufferedGasLimit(e){return"0x"+new Cr(wp(new Cr(e))).toString(16)}},sol:{chainIdToCAIP2:ot,chainIdToCluster:Nc,serializeSolanaSignInMessage(e,{expectedChainId:t,expectedAddress:r,expectedURL:n}){let s=e.domain||n.host,i=e.address||r,c=`${s} wants you to sign in with your Solana account:
`;c+=`${i}`,e.statement&&(c+=`

${e.statement}`);let l=[];if(e.uri&&l.push(`URI: ${e.uri}`),e.version&&l.push(`Version: ${e.version}`),e.chainId&&l.push(`Chain ID: ${e.chainId}`),e.nonce&&l.push(`Nonce: ${e.nonce}`),e.issuedAt&&l.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&l.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&l.push(`Not Before: ${e.notBefore}`),e.requestId&&l.push(`Request ID: ${e.requestId}`),e.resources){l.push("Resources:");for(let x of e.resources)l.push(`- ${x}`)}l.length&&(c+=`

${l.join(`
`)}`);let m=wo(ut.Solana,c);if(!m.success)return{type:"fail",data:Sn.default.encode(Buffer.from(c)),error:[{label:"PARSE_ERROR",message:m.error.message}]};let f=1e3*60*10,w=xo(m.data,{expectedAddress:r,expectedURL:n,expectedChainId:t,issuedAtThreshold:f});return w.length?{type:"fail",data:Sn.default.encode(Buffer.from(c)),error:w.map(x=>({label:Ra[x],message:`siwsErrorMessage_${x}`}))}:{type:"success",data:Sn.default.encode(Buffer.from(c))}},base58Encode:o(e=>Sn.default.encode(e),"base58Encode")},getFaviconURL:oo,parseURL:so,getOrigin:Qn,getHostname:Jp,getOriginAndHostname:Hr};var ac={};De(ac,{addTrustedApp:()=>Fu,btc:()=>Ma,deleteTrustedApp:()=>$u,disableAutoConfirm:()=>am,enableAutoConfirm:()=>im,eth:()=>Ca,fetchAutoConfirmSupportedNetworks:()=>pm,getAutoConfirmStatus:()=>cm,getMetaMaskOverrideSetting:()=>Wu,getUser:()=>om,isTrustedApp:()=>zu,isUserOnboarded:()=>rm,navigate:()=>Xu,onboardQuickly:()=>Ju,openNotificationCenter:()=>Qu,openTokenChat:()=>em,openUserProfile:()=>tm,requestUserApproval:()=>Zu,requestUserOnboard:()=>nm,setMetaMaskOverrideSetting:()=>Yu,sol:()=>Ba,sui:()=>ic});p();d();p();d();p();d();var Ct=class{static{o(this,"TrustedAppsStore")}storage;target;numListeners;unsubscribeFromStorageChanges;constructor(t){this.storage=t,this.target=new EventTarget,this.numListeners={revoked:0},this.unsubscribeFromStorageChanges=null}async get(t){return(await Or(this.storage)).apps[t]??{}}async add(t,r,n){let s=await Or(this.storage),i=s?.apps?.[t]?.[r]??{},c={...s?.apps[t]??{},[r]:{...i,...n}},l={...s.apps,[t]:c},m={...s,apps:l};return await rs(this.storage,m)}async delete(t,r){let n=await Or(this.storage),s={...n?.apps[t]??{}};delete s[r];let i={...n.apps,[t]:s},c={...n,apps:i};return await rs(this.storage,c)}dispatchEvent({type:t,data:r}){let n=new Event(t);n.data=r,this.target.dispatchEvent(n)}removeEventListener(t,r){this.target.removeEventListener(t,r),this.numListeners[t]--,Object.values(this.numListeners).reduce((s,i)=>s+i,0)===0&&(this.unsubscribeFromStorageChanges?.(),this.unsubscribeFromStorageChanges=null)}addEventListener(t,r){this.target.addEventListener(t,r),this.numListeners[t]++,Object.values(this.numListeners).reduce((s,i)=>s+i,0)===1&&(this.unsubscribeFromStorageChanges=this.subscribeToStorageChanges())}subscribeToStorageChanges(){let t=null,r=Or(this.storage);return this.storage.subscribe(async n=>{if(n!==ap)return;let s=await Or(this.storage);if(t??await r){let i=this.getRevokedApps(t??await r,s);for(let c of i)try{this.dispatchEvent({type:"revoked",data:c})}catch(l){de.captureError(l,me.TrustedApps)}}t=s})}getRevokedApps(t,r){let n=[],s=Object.entries(t.apps);for(let[i,c]of s){let l=Object.entries(c);for(let[m,f]of l)r.apps[i]?.[m]||n.push({origin:m,accountId:i})}return n}};var wg=new ve,bg=new Ct(wg),Fu=o(async(e,t)=>{let r=(await ge()).identifier;await bg.add(r,e,{dappMeta:{appUrl:t.url.origin,title:t.title,imageUrl:t.icon?.toString()},lastConnectedTimestamp:Date.now()})},"addTrustedApp");p();d();var Sg=new ve,_g=new Ct(Sg),$u=o(async e=>{let t=(await ge()).identifier;await _g.delete(t,e)},"deleteTrustedApp");p();d();var Ag=new ve,Wu=o(async()=>await fr(Ag),"getMetaMaskOverrideSetting");p();d();var Rg=new ve,vg=new Ct(Rg),zu=o(async e=>{let t=(await ge()).identifier;return!!(await vg.get(t))[e]},"isTrustedApp");p();d();var bo=ie(Mr(),1);p();d();var ju=ie(Mr(),1);var Vu=30,va=class{static{o(this,"NotificationManager")}findPopupIfExists=o(async()=>{try{de.addBreadcrumb("NotificationManager","focusPopupIfExists",Ne.Debug);let t=await Fp();for(let r of t){if(typeof r.id!="number"){de.addBreadcrumb("NotificationManager","popup has no id",Ne.Debug);continue}if(r.type!=="popup"){de.addBreadcrumb("NotificationManager","found a non-popup type window",Ne.Error);continue}let n=!1;if(r.tabs?.length===1){let[s]=r.tabs;if(s.url){let i=new URL(s.url).hostname,c=ju.default.runtime.id;n=i===c}}if(!n){de.addBreadcrumb("NotificationManager","popup tab url does not have the extension origin",Ne.Debug);continue}return r.id}return}catch(t){de.addBreadcrumb("NotificationManager","failed to get open popups",Ne.Error),de.captureError(t instanceof Error?t:new Error("failed to get open popups"),me.Provider);return}},"findPopupIfExists");showNotificationPopupAsync=o(async()=>{de.addBreadcrumb("NotificationManager","showNotificationPopupAsync",Ne.Debug);let t=await this.findPopupIfExists();t&&await Hp(t);let r=0,n=0;try{let i=await qp();if(i.top!==void 0&&i.left!==void 0&&i.width!==void 0&&i.height!==void 0)n=i.top,r=i.left+i.width-hn;else throw new Error("Couldn't get last focused window")}catch(i){de.addBreadcrumb("NotificationManager","failed to get last focused window",Ne.Error),de.captureError(i instanceof Error?i:new Error("failed to get last focused window"),me.Provider);let{screenX:c,screenY:l,outerWidth:m}=self;n=Math.max(l,0),r=Math.max(c+(m-hn),0)}let s;try{s=await is({url:"notification.html",type:"popup",width:hn,height:ls+Vu,left:r,top:n,focused:!0})}catch{n=0,r=0,s=await is({url:"notification.html",type:"popup",width:hn,height:ls+Vu,left:r,top:n,focused:!0})}if(!s){let i=new Error("Could not open new popup notification");throw de.captureError(i,me.Provider),i}try{(s.left!==r||s.top!==n)&&s.id&&s.state!=="fullscreen"&&await Pp(s.id,r,n)}catch(i){de.addBreadcrumb("NotificationManager","failed to update window position",Ne.Error),de.captureError(i instanceof Error?i:new Error("failed to update window position"),me.Provider)}return s},"showNotificationPopupAsync")},Ku=new va;var kg=o((e,t,r)=>{if(typeof r!="string")throw new Error("message must be a string");try{let s=on(r);console.log("> Received message from popup:",s);let i=ur[t].response.parse(s);if(i.id===e)return i}catch(s){console.error(s)}throw new Error("RPC response ID does not match RPC request ID")},"handleMessage"),Gu=o((e,t,r)=>async n=>await kg(t,r,n),"onMessage"),Tg=o(async(e,t,r)=>{let n=!1,i=bo.default.runtime.connect({name:"popup/sidepanel"}),c=Gu(i,e,t);return new Promise((l,m)=>{i.postMessage(r),i.onMessage.addListener(async f=>{i.onMessage.removeListener(c);try{let w=await c(f);return n=!0,i.disconnect(),l(w)}catch(w){return m(w)}}),i.onDisconnect.addListener(()=>{if(!n)return i.onMessage.removeListener(c),a.userRejectedRequest(e)})})},"handleUserApprovalSidebar"),Eg=o(async(e,t,r)=>{let n=await Ku.showNotificationPopupAsync();if(!n)return a.resourceUnavailable(e);let s=n.id;if(typeof s!="number")throw new Error("No notification window id");let i=`notification/${s}`,c=`${eo()}/notification.html`;return await new Promise((l,m)=>{let f=!1,w=o(x=>{let g=Gu(x,e,t);x.name===i&&x.sender&&x.sender.tab?.url===c&&(x.onMessage.addListener(async b=>{try{let _=await g(b);return f=!0,x.disconnect(),x.onMessage.removeListener(g),l(_)}catch(_){return m(_)}}),x.onDisconnect.addListener(()=>{f||(x.onMessage.removeListener(g),l(a.userRejectedRequest(e))),bo.default.runtime.onConnect.removeListener(w)}),x.postMessage(r))},"onConnect");bo.default.runtime.onConnect.addListener(w)})},"handleRequireUserApprovalNotification"),Zu=o(async e=>{let[t]=e.params,r=t.icon??void 0,n=await ed(),s=Qp(t.url),i=mr({url:s,req:e,icon:r});return n?Tg(e.id,e.method,i):Eg(e.id,e.method,i)},"requestUserApproval");p();d();var Cg=new ve,Yu=o(async e=>await pp(Cg,e),"setMetaMaskOverrideSetting");p();d();var Xu=o(()=>{},"navigate");p();d();var Ju=o(()=>{throw new Error("This method is unsupported on extension.")},"onboardQuickly");p();d();var Qu=o(()=>{throw new Error("This method is unsupported on extension.")},"openNotificationCenter");p();d();var em=o(()=>{throw new Error("This method is unsupported on extension.")},"openTokenChat");p();d();var tm=o(()=>{throw new Error("This method is unsupported on extension.")},"openUserProfile");p();d();var rm=o(async()=>!0,"isUserOnboarded");p();d();var nm=o(async()=>{throw new Error("not implemented")},"requestUserOnboard");p();d();p();d();var Ig={storage:new ve,signer:{sign:o((e,t)=>Vc(fe,e,t),"sign"),getAuthenticationPublicKey:o(e=>fe.getAuthenticationPublicKey(e),"getAuthenticationPublicKey"),getAllSecretIdentifiers:o(()=>jc(fe),"getAllSecretIdentifiers")},queryClient:ht,authConfig:Yp,runExclusive:Gd,isLocalTokenValidityCheckEnabled:o(()=>!hr.isFeatureEnabled("kill-frontend-local-check"),"isLocalTokenValidityCheckEnabled"),isServerTimeEnabled:o(()=>!hr.isFeatureEnabled("kill-frontend-server-time"),"isServerTimeEnabled")},ka=Qc(Ig);ka.subscribe(Jc.UserID,e=>{de.addBreadcrumb(me.Generic,`Auth userID: ${e}`,Ne.Info),Ce.addUserProperties({authUserId:e})});var om=o(async()=>{let e=await ka.getUser();if(!e)return null;let t=await ge();return{addresses:Object.values(be).map(n=>({type:n,address:Be(t,n)})),authUserId:e.userID}},"getUser");p();d();p();d();var sm=ie(Mr(),1);var Bg=new ve,Ta=class extends Xp{static{o(this,"AutoConfirmService")}constructor(){super(Bg)}async isTabFocused(t){this.executedChecksAudit.push(Un.IsTabFocused);let n=(await sm.default.tabs.query({active:!0,lastFocusedWindow:!0}))[0]?.url;return n?new URL(n).hostname===new URL(t).hostname:!1}async isFeatureEnabled(){return this.executedChecksAudit.push(Un.IsFeatureFlagEnabled),await hr.isFeatureEnabledAsync("kill-automatic-approval")!==!0}async isWalletUnlocked(){return this.executedChecksAudit.push(Un.IsWalletUnlocked),!!He()}},Ye=new Ta;var im=o(async(e,t)=>{let r=(await ge()).identifier,n=await Ye.fetchAutoConfirmSupportedNetworks(e),{enabled:s}=await Ye.getAutoConfirmStatus({origin:e,accountIdentifier:r});if(s)return;let i=[];t&&t.length>0?i=t.filter(c=>n.includes(c)):i=n,await Ye.enableAutoConfirm({origin:e,accountIdentifier:r,networkIDs:i}),await ht.invalidateQueries({queryKey:Kt.trustedApps()}),await ht.invalidateQueries({queryKey:Kt.allAutoConfirm(r)}),await ht.invalidateQueries({queryKey:Kt.autoConfirm(r,e)})},"enableAutoConfirm");p();d();var am=o(async e=>{let t=(await ge()).identifier,{enabled:r}=await Ye.getAutoConfirmStatus({origin:e,accountIdentifier:t});r&&(await Ye.disableAutoConfirm({origin:e,accountIdentifier:t}),await ht.invalidateQueries({queryKey:Kt.trustedApps()}),await ht.invalidateQueries({queryKey:Kt.allAutoConfirm(t)}),await ht.invalidateQueries({queryKey:Kt.autoConfirm(t,e)}))},"disableAutoConfirm");p();d();var cm=o(async e=>{let t=(await ge()).identifier,{enabled:r,networkIDs:n}=await Ye.getAutoConfirmStatus({origin:e,accountIdentifier:t});return{enabled:r,networks:n}},"getAutoConfirmStatus");p();d();var pm=o(async e=>await Ye.fetchAutoConfirmSupportedNetworks(e),"fetchAutoConfirmSupportedNetworks");var Ca={};De(Ca,{addChain:()=>dm,autoConfirmValidateMessage:()=>um,autoConfirmValidateTransaction:()=>mm,doesSupportEth:()=>hm,getAccountNonce:()=>fm,getAccounts:()=>gm,getEnabledChains:()=>ym,getNetworkId:()=>Kr,getRpcURL:()=>xm,getSelectedAccount:()=>wm,getSupportedNetworks:()=>bm,sendTransaction:()=>Sm,signAndSendTransaction:()=>_m,signMessage:()=>Am,signTypedData:()=>Rm,switchChain:()=>vm});p();d();p();d();var dm=o(async e=>{let t=parseInt(e.chainId.substring(2),16);return!!Dr(t)},"addChain");p();d();p();d();p();d();var So={};p();d();var Ea=[new ve];async function lm(){for(let e of Ea){let t=await e.get(Vt.DeveloperMode);if(t)return t.isDeveloperMode}return!1}o(lm,"getIsDeveloperMode");var Kr=o(async e=>{if(await lm()){let i=(await ip(Ea)).eip155;if(!i)throw new Error("No evm developer mode chainId set");let c=i.replace("eip155:","");return Zo(c)}let r=So[e]??Bc.Mainnet,n=Qe.getEVMNetworkIDValue(r);return Zo(n.toString())},"getNetworkId");var um=o(async(e,t)=>{let r=await Kr(e.origin);if(!r)return{status:ye.UnsupportedNetworkId};let n=Nr(r);if(!Qe.isEVMNetworkID(n))return{status:ye.UnsupportedNetworkId};let s=await ge(),i=await Be(s,be.EVM),c=jt(st.language)??"en",l=await Ce.getDeviceId();return await Ye.isEthMessageAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:c,deviceId:l})},"autoConfirmValidateMessage");p();d();var mm=o(async(e,t)=>{let r=t[0]?.chainId;if(!r)return{status:ye.UnsupportedNetworkId};let n=Nr(r);if(!Qe.isEVMNetworkID(n))return{status:ye.UnsupportedNetworkId};let s=await ge(),i=await Be(s,be.EVM),c=jt(st.language)??"en",l=await Ce.getDeviceId();return Ye.isEthTransactionAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:c,deviceId:l})},"autoConfirmValidateTransaction");p();d();var hm=o(async()=>(await ge()).addresses.some(t=>t.addressType===be.EVM),"doesSupportEth");p();d();var Lg=new ve,fm=o(async(e,t)=>{let r=parseInt(e.replace("0x",""),16),n=Dr(r);if(!n)throw new Error(`Unsupported EVM Network ID: ${r}`);return Ip(n,t,Lg)},"getAccountNonce");p();d();var gm=o(async()=>{let e=await ge();return[Be(e,be.EVM).toLowerCase()]},"getAccounts");p();d();var ym=o(async(e=!1)=>{let t=new ve,r=$n(),n=await t.get(Vt.DeveloperMode);return e?r.enabledNetworkIDs.map(qn):n?.isDeveloperMode===!0?r.enabledTestnetOnlyNetworkIDs.map(qn):r.enabledMainnetOnlyNetworkIDs.map(qn)},"getEnabledChains");p();d();var xm=o(async e=>{let t=On.parse(`eip155:${parseInt(e,16)}`);if(!Qe.isEVMNetworkID(t))throw new Error(`Invalid EVM NetworkID for chainID: ${e}`);let r=Qe.getRpcProxyUrl(t);if(!r)throw new Error(`No RPC URL found for chainID ${e}`);return r},"getRpcURL");p();d();var wm=o(async()=>{let e=await ge();return Be(e,be.EVM).toLowerCase()},"getSelectedAccount");p();d();var bm=o(()=>Oc(),"getSupportedNetworks");p();d();p();d();var Mg=new ve,_o=o(async(e,t)=>{let r=await ge();Be(r,be.EVM);let n=st.t("transactionsAppInteraction"),s=On.parse(`eip155:${e.chainId?parseInt(e.chainId,16):void 0}`),i=zc(e.to??"",void 0,void 0,5),c=bp(e.value??"",Qe.getTokenDecimals(s)),l=Qe.getTokenSymbol(s);if(e.nonce===void 0)throw new Error("nonce missing on unsigned transaction");if(e.maxFeePerGas==null||e.maxPriorityFeePerGas==null){let w=(await xp(s,!0))?.standard;if(w)e.maxFeePerGas==null&&(e.maxFeePerGas=`0x${w.maxFeePerGas.integerValue(Cr.ROUND_CEIL).toString(16)}`),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=`0x${w.maxPriorityFeePerGas.integerValue(Cr.ROUND_CEIL).toString(16)}`);else throw new Error("Standard transaction speed price information is missing.")}let m={accountSigner:fe,accountIdentifier:r.identifier,networkID:s,unsignedTransaction:e,callPayload:void 0,pendingTransactionInput:{ownerAddress:e.from,networkID:s,data:{nonce:e.nonce,hash:"",unsignedTransaction:xc.parse({from:e.from})},type:Pr.DappInteraction,display:{summary:{topLeft:{text:n},topRight:{text:c?`- ${c} ${l}`:""}},detail:{uiRecipient:i}}},storage:Mg};return t?await Bp({...m,signature:t}):await Lp(m)},"sendEthTransaction");var Sm=_o;p();d();var _m=_o;p();d();var Am=o(async e=>{let t=td(e),r=await ge();Be(r,be.EVM);let n=await fe.sign(r.identifier,{chainType:be.EVM,signingType:"message",message:t});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return n.signature},"signMessage");p();d();var Rm=o(async e=>{let t=await ge();Be(t,be.EVM);let r=await fe.sign(t.identifier,{chainType:be.EVM,signingType:"typedData",...e});if(r.status==="error")throw new Error(`[${r.type}] ${r.message}`);return r.signature},"signTypedData");p();d();var vm=o(async(e,t)=>{let r=parseInt(e.substring(2),16),n=Dr(r);return n?(So[t]=n,!0):!1},"switchChain");var Ba={};De(Ba,{addPriorityFee:()=>Tm,autoConfirmValidateMessage:()=>Em,autoConfirmValidateTransaction:()=>Cm,getNetworkId:()=>ct,getSelectedAccount:()=>Im,handleSolanaPayTransaction:()=>Pm,handleSolanaPayTransfer:()=>qm,sendAllTransactions:()=>Um,sendTransaction:()=>Lm,signAllTransactions:()=>Ao,signMessage:()=>Dm,signTransaction:()=>Om});p();d();p();d();p();d();var ct=o(async()=>{let e=await ge(),t=Wc(e,be.Solana).networkID;return Qe.getSolanaNetworkIDValue(t)},"getNetworkId");var Tm=o(async e=>{let{transaction:t}=xt.deserializeVersionedTransaction(e);t.version==="legacy"&&(t=xt.deserializeWithVersion({transaction:e,type:"legacy"}).transaction);let r=await ct(),n=await Cp(t,{connection:Gt(ot(r)),calculators:{cost:Ep,budget:new Tp(2e5,2e5)}});return xt.serialize(n).transaction},"addPriorityFee");p();d();var Em=o(async(e,t)=>{let r=await ct();if(r==="localnet")return{status:ye.UnsupportedNetworkId};let n=await ge(),s=await Be(n,be.Solana),i=jt(st.language)??"en",c=await Ce.getDeviceId();return Ye.isSolMessageAutoConfirmable({url:e,data:t,networkID:ot(r),account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:c})},"autoConfirmValidateMessage");p();d();var Cm=o(async(e,t)=>{let r=await ct();if(r==="localnet")return{status:ye.UnsupportedNetworkId};let n=await ge(),s=await Be(n,be.Solana),i=jt(st.language)??"en",c=await Ce.getDeviceId();return Ye.isSolTransactionAutoConfirmable({url:e,networkID:ot(r),data:t,account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:c})},"autoConfirmValidateTransaction");p();d();var Im=o(async()=>{let e=await ge();return Be(e,be.Solana)},"getSelectedAccount");p();d();var Bm=ie(dr(),1);var Lm=o(async(e,t)=>{let r=await ct(),n=Lr.VersionedMessage.deserializeMessageVersion(Bm.default.decode(Br(e))),s=xt.deserializeWithVersion({transaction:e,type:n}),i;t?.method&&(i={"x-phantom-method":t.method}),await Up({connection:Gt(ot(r),i),signedTx:s.transaction,opts:t})},"sendTransaction");p();d();var Mm=ie(dr(),1);var Um=o(async(e,t)=>{let r=await ct(),n=Gt(ot(r)),s=e.map(i=>{let c=Lr.VersionedMessage.deserializeMessageVersion(Mm.default.decode(Br(i)));return xt.deserializeWithVersion({transaction:i,type:c}).transaction});return await Np({connection:n,signedTxs:s,opts:t})},"sendAllTransactions");p();d();var Nm=ie(dr(),1);var Dm=o(async e=>{let t=await ge();Be(t,be.Solana);let r=Nm.default.decode(e).toString("utf-8"),n=await fe.sign(t.identifier,{chainType:be.Solana,signingType:"message",message:r});if(n.status!=="success")throw new Error(`[${n.type}] ${n.message}`);return n.signature},"signMessage");p();d();p();d();var Ia=ie(dr(),1);var Ug=new ve,Ao=o(async e=>{let t=await ge();Be(t,be.Solana);let r=Be(t,be.Solana),n=await ct(),s={ownerAddress:r,networkID:ot(n),data:{signature:""},type:Pr.DappInteraction,display:{summary:{topLeft:{text:st.t("transactionsPendingAppInteraction")}}}};return o(async()=>{let c=[];for(let l=0;l<e.length;l++){let m=e[l],f=Lr.VersionedMessage.deserializeMessageVersion(Ia.default.decode(Br(m))),w=xt.deserializeWithVersion({transaction:m,type:f}),x=await Dp({pendingTransactionInput:s,accountIdentifier:t.identifier,feePayer:new Ee.PublicKey(r),connection:Gt(ot(n)),accountSigner:fe,transaction:w.transaction,storage:Ug}),g=xt.serialize(x);c.push({transaction:g.transaction,signature:Ia.default.encode(Ac(x)[0]),version:"version"in x?x.version:"legacy"})}return c},"signTx")()},"signAllTransactions");var Om=o(async e=>(await Ao([e]))[0],"signTransaction");p();d();var Pm=o(async()=>{},"handleSolanaPayTransaction");p();d();var qm=o(async()=>!1,"handleSolanaPayTransfer");var Ma={};De(Ma,{getSelectedAccount:()=>Ro,signMessage:()=>Fm,signPSBT:()=>Hm});p();d();p();d();var Ro=o(async()=>{let e=await ge();return La(e)},"getSelectedAccount"),La=o(e=>{let t=e.addresses.filter(s=>s.networkID===sn.Mainnet||s.networkID===sn.Testnet);if(t.length===0)throw Fc;if(t.length===1){let[s]=t;if(!s?.publicKey)throw new Error("[btc provider] selected account account does not have a public key");return[{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"payment"},{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"ordinals"}]}let r=t.find(s=>s.addressType===be.BitcoinTaproot);if(!r?.publicKey)throw new Error("[btc provider] ordinalAddress does not have a public key");let n=t.find(s=>s.addressType===be.BitcoinNativeSegwit);if(!n?.publicKey)throw new Error("[btc provider] paymentAddress does not have a public key");return[{address:n.address,publicKey:Buffer.from(n.publicKey).toString("hex"),addressType:n.addressType,purpose:"payment"},{address:r.address,publicKey:Buffer.from(r.publicKey).toString("hex"),addressType:r.addressType,purpose:"ordinals"}]},"getBitcoinAddressWithPurpose");p();d();var Hm=o(async(e,t)=>{let r=await ge(),n=await fe.sign(r.identifier,{chainType:be.BitcoinTaproot,signingType:"transaction",message:Buffer.from(e).toString("hex"),inputsToSign:t.inputsToSign,finalize:t.finalize});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return Buffer.from(n.signature,"hex")},"signPSBT");p();d();var Fm=o(async(e,t)=>{let r=await ge(),n=Dc(sn.Mainnet,e),s=await fe.sign(r.identifier,{chainType:n,signingType:"message",message:t});if(s.status==="error")throw new Error(`[btc provider][${s.type}] ${s.message}`);let i=s.message;if(!i)throw new Error("[btc provider] no message on vault response");return{signature:Buffer.from(s.signature,"hex"),signedMessage:i}},"signMessage");var ic={};De(ic,{getSelectedAccount:()=>zo,getSuiAddressWithPubkey:()=>En,signAndExecuteTransaction:()=>vh,signMessage:()=>Rh,signTransaction:()=>Ah});p();d();p();d();p();d();p();d();p();d();p();d();function Ng(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),i=BigInt(4294967295),c=Number(r>>s&i),l=Number(r&i),m=n?4:0,f=n?0:4;e.setUint32(t+m,c,n),e.setUint32(t+f,l,n)}o(Ng,"setBigUint64");var $m=o((e,t,r)=>e&t^~e&r,"Chi"),Wm=o((e,t,r)=>e&t^e&r^t&r,"Maj"),Gr=class extends Gn{static{o(this,"HashMD")}constructor(t,r,n,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Vn(this.buffer)}update(t){qr(this);let{view:r,buffer:n,blockLen:s}=this;t=Kn(t);let i=t.length;for(let c=0;c<i;){let l=Math.min(s-this.pos,i-c);if(l===s){let m=Vn(t);for(;s<=i-c;c+=s)this.process(m,c);continue}n.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qr(this),vp(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(n,0),c=0);for(let x=c;x<s;x++)r[x]=0;Ng(n,s-8,BigInt(this.length*8),i),this.process(n,0);let l=Vn(t),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=m/4,w=this.get();if(f>w.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<f;x++)l.setUint32(4*x,w[x],i)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:c,pos:l}=this;return t.length=s,t.pos=l,t.finished=i,t.destroyed=c,s%r&&t.buffer.set(n),t}};var[Dg,Og]=Re.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),er=new Uint32Array(80),tr=new Uint32Array(80),Ua=class extends Gr{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:i,Cl:c,Dh:l,Dl:m,Eh:f,El:w,Fh:x,Fl:g,Gh:R,Gl:b,Hh:_,Hl:y}=this;return[t,r,n,s,i,c,l,m,f,w,x,g,R,b,_,y]}set(t,r,n,s,i,c,l,m,f,w,x,g,R,b,_,y){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=c|0,this.Dh=l|0,this.Dl=m|0,this.Eh=f|0,this.El=w|0,this.Fh=x|0,this.Fl=g|0,this.Gh=R|0,this.Gl=b|0,this.Hh=_|0,this.Hl=y|0}process(t,r){for(let C=0;C<16;C++,r+=4)er[C]=t.getUint32(r),tr[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){let B=er[C-15]|0,O=tr[C-15]|0,U=Re.rotrSH(B,O,1)^Re.rotrSH(B,O,8)^Re.shrSH(B,O,7),Q=Re.rotrSL(B,O,1)^Re.rotrSL(B,O,8)^Re.shrSL(B,O,7),G=er[C-2]|0,X=tr[C-2]|0,_e=Re.rotrSH(G,X,19)^Re.rotrBH(G,X,61)^Re.shrSH(G,X,6),re=Re.rotrSL(G,X,19)^Re.rotrBL(G,X,61)^Re.shrSL(G,X,6),ne=Re.add4L(Q,re,tr[C-7],tr[C-16]),W=Re.add4H(ne,U,_e,er[C-7],er[C-16]);er[C]=W|0,tr[C]=ne|0}let{Ah:n,Al:s,Bh:i,Bl:c,Ch:l,Cl:m,Dh:f,Dl:w,Eh:x,El:g,Fh:R,Fl:b,Gh:_,Gl:y,Hh:v,Hl:I}=this;for(let C=0;C<80;C++){let B=Re.rotrSH(x,g,14)^Re.rotrSH(x,g,18)^Re.rotrBH(x,g,41),O=Re.rotrSL(x,g,14)^Re.rotrSL(x,g,18)^Re.rotrBL(x,g,41),U=x&R^~x&_,Q=g&b^~g&y,G=Re.add5L(I,O,Q,Og[C],tr[C]),X=Re.add5H(G,v,B,U,Dg[C],er[C]),_e=G|0,re=Re.rotrSH(n,s,28)^Re.rotrBH(n,s,34)^Re.rotrBH(n,s,39),ne=Re.rotrSL(n,s,28)^Re.rotrBL(n,s,34)^Re.rotrBL(n,s,39),W=n&i^n&l^i&l,q=s&c^s&m^c&m;v=_|0,I=y|0,_=R|0,y=b|0,R=x|0,b=g|0,{h:x,l:g}=Re.add(f|0,w|0,X|0,_e|0),f=l|0,w=m|0,l=i|0,m=c|0,i=n|0,c=s|0;let P=Re.add3L(_e,ne,q);n=Re.add3H(P,X,re,W),s=P|0}({h:n,l:s}=Re.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:c}=Re.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:l,l:m}=Re.add(this.Ch|0,this.Cl|0,l|0,m|0),{h:f,l:w}=Re.add(this.Dh|0,this.Dl|0,f|0,w|0),{h:x,l:g}=Re.add(this.Eh|0,this.El|0,x|0,g|0),{h:R,l:b}=Re.add(this.Fh|0,this.Fl|0,R|0,b|0),{h:_,l:y}=Re.add(this.Gh|0,this.Gl|0,_|0,y|0),{h:v,l:I}=Re.add(this.Hh|0,this.Hl|0,v|0,I|0),this.set(n,s,i,c,l,m,f,w,x,g,R,b,_,y,v,I)}roundClean(){er.fill(0),tr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var zm=Zn(()=>new Ua);p();d();p();d();p();d();var ko={};De(ko,{aInRange:()=>pt,abool:()=>_t,abytes:()=>Zr,bitGet:()=>Wg,bitLen:()=>qa,bitMask:()=>An,bitSet:()=>zg,bytesToHex:()=>Ot,bytesToNumberBE:()=>Pt,bytesToNumberLE:()=>nr,concatBytes:()=>qt,createHmacDrbg:()=>Ha,ensureBytes:()=>je,equalBytes:()=>Fg,hexToBytes:()=>Ar,hexToNumber:()=>Pa,inRange:()=>_n,isBytes:()=>rr,memoized:()=>vr,notImplemented:()=>jg,numberToBytesBE:()=>or,numberToBytesLE:()=>Rr,numberToHexUnpadded:()=>_r,numberToVarBytesBE:()=>Hg,utf8ToBytes:()=>$g,validateObject:()=>It});p();d();var Oa=BigInt(0),vo=BigInt(1),Pg=BigInt(2);function rr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}o(rr,"isBytes");function Zr(e){if(!rr(e))throw new Error("Uint8Array expected")}o(Zr,"abytes");function _t(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}o(_t,"abool");var qg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ot(e){Zr(e);let t="";for(let r=0;r<e.length;r++)t+=qg[e[r]];return t}o(Ot,"bytesToHex");function _r(e){let t=e.toString(16);return t.length&1?`0${t}`:t}o(_r,"numberToHexUnpadded");function Pa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}o(Pa,"hexToNumber");var Dt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Vm(e){if(e>=Dt._0&&e<=Dt._9)return e-Dt._0;if(e>=Dt._A&&e<=Dt._F)return e-(Dt._A-10);if(e>=Dt._a&&e<=Dt._f)return e-(Dt._a-10)}o(Vm,"asciiToBase16");function Ar(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let c=Vm(e.charCodeAt(i)),l=Vm(e.charCodeAt(i+1));if(c===void 0||l===void 0){let m=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+i)}n[s]=c*16+l}return n}o(Ar,"hexToBytes");function Pt(e){return Pa(Ot(e))}o(Pt,"bytesToNumberBE");function nr(e){return Zr(e),Pa(Ot(Uint8Array.from(e).reverse()))}o(nr,"bytesToNumberLE");function or(e,t){return Ar(e.toString(16).padStart(t*2,"0"))}o(or,"numberToBytesBE");function Rr(e,t){return or(e,t).reverse()}o(Rr,"numberToBytesLE");function Hg(e){return Ar(_r(e))}o(Hg,"numberToVarBytesBE");function je(e,t,r){let n;if(typeof t=="string")try{n=Ar(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(rr(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return n}o(je,"ensureBytes");function qt(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];Zr(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let i=e[n];r.set(i,s),s+=i.length}return r}o(qt,"concatBytes");function Fg(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}o(Fg,"equalBytes");function $g(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}o($g,"utf8ToBytes");var Na=o(e=>typeof e=="bigint"&&Oa<=e,"isPosBig");function _n(e,t,r){return Na(e)&&Na(t)&&Na(r)&&t<=e&&e<r}o(_n,"inRange");function pt(e,t,r,n){if(!_n(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}o(pt,"aInRange");function qa(e){let t;for(t=0;e>Oa;e>>=vo,t+=1);return t}o(qa,"bitLen");function Wg(e,t){return e>>BigInt(t)&vo}o(Wg,"bitGet");function zg(e,t,r){return e|(r?vo:Oa)<<BigInt(t)}o(zg,"bitSet");var An=o(e=>(Pg<<BigInt(e-1))-vo,"bitMask"),Da=o(e=>new Uint8Array(e),"u8n"),jm=o(e=>Uint8Array.from(e),"u8fr");function Ha(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Da(e),s=Da(e),i=0,c=o(()=>{n.fill(1),s.fill(0),i=0},"reset"),l=o((...x)=>r(s,n,...x),"h"),m=o((x=Da())=>{s=l(jm([0]),x),n=l(),x.length!==0&&(s=l(jm([1]),x),n=l())},"reseed"),f=o(()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let x=0,g=[];for(;x<t;){n=l();let R=n.slice();g.push(R),x+=n.length}return qt(...g)},"gen");return o((x,g)=>{c(),m(x);let R;for(;!(R=g(f()));)m();return c(),R},"genUntil")}o(Ha,"createHmacDrbg");var Vg={bigint:o(e=>typeof e=="bigint","bigint"),function:o(e=>typeof e=="function","function"),boolean:o(e=>typeof e=="boolean","boolean"),string:o(e=>typeof e=="string","string"),stringOrUint8Array:o(e=>typeof e=="string"||rr(e),"stringOrUint8Array"),isSafeInteger:o(e=>Number.isSafeInteger(e),"isSafeInteger"),array:o(e=>Array.isArray(e),"array"),field:o((e,t)=>t.Fp.isValid(e),"field"),hash:o(e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen),"hash")};function It(e,t,r={}){let n=o((s,i,c)=>{let l=Vg[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);let m=e[s];if(!(c&&m===void 0)&&!l(m,e))throw new Error(`Invalid param ${String(s)}=${m} (${typeof m}), expected ${i}`)},"checkField");for(let[s,i]of Object.entries(t))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return e}o(It,"validateObject");var jg=o(()=>{throw new Error("not implemented")},"notImplemented");function vr(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let i=e(r,...n);return t.set(r,i),i}}o(vr,"memoized");var Xe=BigInt(0),ze=BigInt(1),kr=BigInt(2),Kg=BigInt(3),Fa=BigInt(4),Km=BigInt(5),Gm=BigInt(8),Gg=BigInt(9),Zg=BigInt(16);function Fe(e,t){let r=e%t;return r>=Xe?r:t+r}o(Fe,"mod");function Yg(e,t,r){if(r<=Xe||t<Xe)throw new Error("Expected power/modulo > 0");if(r===ze)return Xe;let n=ze;for(;t>Xe;)t&ze&&(n=n*e%r),e=e*e%r,t>>=ze;return n}o(Yg,"pow");function At(e,t,r){let n=e;for(;t-- >Xe;)n*=n,n%=r;return n}o(At,"pow2");function To(e,t){if(e===Xe||t<=Xe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Fe(e,t),n=t,s=Xe,i=ze,c=ze,l=Xe;for(;r!==Xe;){let f=n/r,w=n%r,x=s-c*f,g=i-l*f;n=r,r=w,s=c,i=l,c=x,l=g}if(n!==ze)throw new Error("invert: does not exist");return Fe(s,t)}o(To,"invert");function Xg(e){let t=(e-ze)/kr,r,n,s;for(r=e-ze,n=0;r%kr===Xe;r/=kr,n++);for(s=kr;s<e&&Yg(s,t,e)!==e-ze;s++);if(n===1){let c=(e+ze)/Fa;return o(function(m,f){let w=m.pow(f,c);if(!m.eql(m.sqr(w),f))throw new Error("Cannot find square root");return w},"tonelliFast")}let i=(r+ze)/kr;return o(function(l,m){if(l.pow(m,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let f=n,w=l.pow(l.mul(l.ONE,s),r),x=l.pow(m,i),g=l.pow(m,r);for(;!l.eql(g,l.ONE);){if(l.eql(g,l.ZERO))return l.ZERO;let R=1;for(let _=l.sqr(g);R<f&&!l.eql(_,l.ONE);R++)_=l.sqr(_);let b=l.pow(w,ze<<BigInt(f-R-1));w=l.sqr(b),x=l.mul(x,b),g=l.mul(g,w),f=R}return x},"tonelliSlow")}o(Xg,"tonelliShanks");function Jg(e){if(e%Fa===Kg){let t=(e+ze)/Fa;return o(function(n,s){let i=n.pow(s,t);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i},"sqrt3mod4")}if(e%Gm===Km){let t=(e-Km)/Gm;return o(function(n,s){let i=n.mul(s,kr),c=n.pow(i,t),l=n.mul(s,c),m=n.mul(n.mul(l,kr),c),f=n.mul(l,n.sub(m,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f},"sqrt5mod8")}return e%Zg,Xg(e)}o(Jg,"FpSqrt");var Zm=o((e,t)=>(Fe(e,t)&ze)===ze,"isNegativeLE"),Qg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $a(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Qg.reduce((n,s)=>(n[s]="function",n),t);return It(e,r)}o($a,"validateField");function ey(e,t,r){if(r<Xe)throw new Error("Expected power > 0");if(r===Xe)return e.ONE;if(r===ze)return t;let n=e.ONE,s=t;for(;r>Xe;)r&ze&&(n=e.mul(n,s)),s=e.sqr(s),r>>=ze;return n}o(ey,"FpPow");function ty(e,t){let r=new Array(t.length),n=t.reduce((i,c,l)=>e.is0(c)?i:(r[l]=i,e.mul(i,c)),e.ONE),s=e.inv(n);return t.reduceRight((i,c,l)=>e.is0(c)?i:(r[l]=e.mul(i,r[l]),e.mul(i,c)),s),r}o(ty,"FpInvertBatch");function Wa(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(Wa,"nLength");function sr(e,t,r=!1,n={}){if(e<=Xe)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:s,nByteLength:i}=Wa(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let c=Jg(e),l=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:An(s),ZERO:Xe,ONE:ze,create:o(m=>Fe(m,e),"create"),isValid:o(m=>{if(typeof m!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof m}`);return Xe<=m&&m<e},"isValid"),is0:o(m=>m===Xe,"is0"),isOdd:o(m=>(m&ze)===ze,"isOdd"),neg:o(m=>Fe(-m,e),"neg"),eql:o((m,f)=>m===f,"eql"),sqr:o(m=>Fe(m*m,e),"sqr"),add:o((m,f)=>Fe(m+f,e),"add"),sub:o((m,f)=>Fe(m-f,e),"sub"),mul:o((m,f)=>Fe(m*f,e),"mul"),pow:o((m,f)=>ey(l,m,f),"pow"),div:o((m,f)=>Fe(m*To(f,e),e),"div"),sqrN:o(m=>m*m,"sqrN"),addN:o((m,f)=>m+f,"addN"),subN:o((m,f)=>m-f,"subN"),mulN:o((m,f)=>m*f,"mulN"),inv:o(m=>To(m,e),"inv"),sqrt:n.sqrt||(m=>c(l,m)),invertBatch:o(m=>ty(l,m),"invertBatch"),cmov:o((m,f,w)=>w?f:m,"cmov"),toBytes:o(m=>r?Rr(m,i):or(m,i),"toBytes"),fromBytes:o(m=>{if(m.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${m.length}`);return r?nr(m):Pt(m)},"fromBytes")});return Object.freeze(l)}o(sr,"Field");function Ym(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}o(Ym,"getFieldBytesLength");function za(e){let t=Ym(e);return t+Math.ceil(t/2)}o(za,"getMinHashLength");function Xm(e,t,r=!1){let n=e.length,s=Ym(t),i=za(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let c=r?Pt(e):nr(e),l=Fe(c,t-ze)+ze;return r?Rr(l,s):or(l,s)}o(Xm,"mapHashToField");var ny=BigInt(0),Va=BigInt(1),ja=new WeakMap,Jm=new WeakMap;function Eo(e,t){let r=o((i,c)=>{let l=c.negate();return i?l:c},"constTimeNegate"),n=o(i=>{if(!Number.isSafeInteger(i)||i<=0||i>t)throw new Error(`Wrong window size=${i}, should be [1..${t}]`)},"validateW"),s=o(i=>{n(i);let c=Math.ceil(t/i)+1,l=2**(i-1);return{windows:c,windowSize:l}},"opts");return{constTimeNegate:r,unsafeLadder(i,c){let l=e.ZERO,m=i;for(;c>ny;)c&Va&&(l=l.add(m)),m=m.double(),c>>=Va;return l},precomputeWindow(i,c){let{windows:l,windowSize:m}=s(c),f=[],w=i,x=w;for(let g=0;g<l;g++){x=w,f.push(x);for(let R=1;R<m;R++)x=x.add(w),f.push(x);w=x.double()}return f},wNAF(i,c,l){let{windows:m,windowSize:f}=s(i),w=e.ZERO,x=e.BASE,g=BigInt(2**i-1),R=2**i,b=BigInt(i);for(let _=0;_<m;_++){let y=_*f,v=Number(l&g);l>>=b,v>f&&(v-=R,l+=Va);let I=y,C=y+Math.abs(v)-1,B=_%2!==0,O=v<0;v===0?x=x.add(r(B,c[I])):w=w.add(r(O,c[C]))}return{p:w,f:x}},wNAFCached(i,c,l){let m=Jm.get(i)||1,f=ja.get(i);return f||(f=this.precomputeWindow(i,m),m!==1&&ja.set(i,l(f))),this.wNAF(m,f,c)},setWindowSize(i,c){n(c),Jm.set(i,c),ja.delete(i)}}}o(Eo,"wNAF");function Co(e,t,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((w,x)=>{if(!t.isValid(w))throw new Error(`wrong scalar at index ${x}`)}),r.forEach((w,x)=>{if(!(w instanceof e))throw new Error(`wrong point at index ${x}`)});let s=qa(BigInt(r.length)),i=s>12?s-3:s>4?s-2:s?2:1,c=(1<<i)-1,l=new Array(c+1).fill(e.ZERO),m=Math.floor((t.BITS-1)/i)*i,f=e.ZERO;for(let w=m;w>=0;w-=i){l.fill(e.ZERO);for(let g=0;g<n.length;g++){let R=n[g],b=Number(R>>BigInt(w)&BigInt(c));l[b]=l[b].add(r[g])}let x=e.ZERO;for(let g=l.length-1,R=e.ZERO;g>0;g--)R=R.add(l[g]),x=x.add(R);if(f=f.add(x),w!==0)for(let g=0;g<i;g++)f=f.double()}return f}o(Co,"pippenger");function Rn(e){return $a(e.Fp),It(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Wa(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}o(Rn,"validateBasic");var Rt=BigInt(0),dt=BigInt(1),Io=BigInt(2),oy=BigInt(8),sy={zip215:!0};function iy(e){let t=Rn(e);return It(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}o(iy,"validateOpts");function Qm(e){let t=iy(e),{Fp:r,n,prehash:s,hash:i,randomBytes:c,nByteLength:l,h:m}=t,f=Io<<BigInt(l*8)-dt,w=r.create,x=sr(t.n,t.nBitLength),g=t.uvRatio||((N,M)=>{try{return{isValid:!0,value:r.sqrt(N*r.inv(M))}}catch{return{isValid:!1,value:Rt}}}),R=t.adjustScalarBytes||(N=>N),b=t.domain||((N,M,D)=>{if(_t("phflag",D),M.length||D)throw new Error("Contexts/pre-hash are not supported");return N});function _(N,M){pt("coordinate "+N,M,Rt,f)}o(_,"aCoordinate");function y(N){if(!(N instanceof C))throw new Error("ExtendedPoint expected")}o(y,"assertPoint");let v=vr((N,M)=>{let{ex:D,ey:Y,ez:z}=N,ue=N.is0();M==null&&(M=ue?oy:r.inv(z));let J=w(D*M),pe=w(Y*M),ee=w(z*M);if(ue)return{x:Rt,y:dt};if(ee!==dt)throw new Error("invZ was invalid");return{x:J,y:pe}}),I=vr(N=>{let{a:M,d:D}=t;if(N.is0())throw new Error("bad point: ZERO");let{ex:Y,ey:z,ez:ue,et:J}=N,pe=w(Y*Y),ee=w(z*z),oe=w(ue*ue),le=w(oe*oe),F=w(pe*M),u=w(oe*w(F+ee)),h=w(le+w(D*w(pe*ee)));if(u!==h)throw new Error("bad point: equation left != right (1)");let S=w(Y*z),T=w(ue*J);if(S!==T)throw new Error("bad point: equation left != right (2)");return!0});class C{static{o(this,"Point")}constructor(M,D,Y,z){this.ex=M,this.ey=D,this.ez=Y,this.et=z,_("x",M),_("y",D),_("z",Y),_("t",z),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(M){if(M instanceof C)throw new Error("extended point not allowed");let{x:D,y:Y}=M||{};return _("x",D),_("y",Y),new C(D,Y,dt,w(D*Y))}static normalizeZ(M){let D=r.invertBatch(M.map(Y=>Y.ez));return M.map((Y,z)=>Y.toAffine(D[z])).map(C.fromAffine)}static msm(M,D){return Co(C,x,M,D)}_setWindowSize(M){U.setWindowSize(this,M)}assertValidity(){I(this)}equals(M){y(M);let{ex:D,ey:Y,ez:z}=this,{ex:ue,ey:J,ez:pe}=M,ee=w(D*pe),oe=w(ue*z),le=w(Y*pe),F=w(J*z);return ee===oe&&le===F}is0(){return this.equals(C.ZERO)}negate(){return new C(w(-this.ex),this.ey,this.ez,w(-this.et))}double(){let{a:M}=t,{ex:D,ey:Y,ez:z}=this,ue=w(D*D),J=w(Y*Y),pe=w(Io*w(z*z)),ee=w(M*ue),oe=D+Y,le=w(w(oe*oe)-ue-J),F=ee+J,u=F-pe,h=ee-J,S=w(le*u),T=w(F*h),L=w(le*h),E=w(u*F);return new C(S,T,E,L)}add(M){y(M);let{a:D,d:Y}=t,{ex:z,ey:ue,ez:J,et:pe}=this,{ex:ee,ey:oe,ez:le,et:F}=M;if(D===BigInt(-1)){let ke=w((ue-z)*(oe+ee)),Me=w((ue+z)*(oe-ee)),qe=w(Me-ke);if(qe===Rt)return this.double();let $e=w(J*Io*F),Tr=w(pe*Io*le),hc=Tr+$e,fc=Me+ke,gc=Tr-$e,qh=w(hc*qe),Hh=w(fc*gc),Fh=w(hc*gc),$h=w(qe*fc);return new C(qh,Hh,$h,Fh)}let u=w(z*ee),h=w(ue*oe),S=w(pe*Y*F),T=w(J*le),L=w((z+ue)*(ee+oe)-u-h),E=T-S,k=T+S,H=w(h-D*u),Z=w(L*E),K=w(k*H),te=w(L*H),Ae=w(E*k);return new C(Z,K,Ae,te)}subtract(M){return this.add(M.negate())}wNAF(M){return U.wNAFCached(this,M,C.normalizeZ)}multiply(M){let D=M;pt("scalar",D,dt,n);let{p:Y,f:z}=this.wNAF(D);return C.normalizeZ([Y,z])[0]}multiplyUnsafe(M){let D=M;return pt("scalar",D,Rt,n),D===Rt?O:this.equals(O)||D===dt?this:this.equals(B)?this.wNAF(D).p:U.unsafeLadder(this,D)}isSmallOrder(){return this.multiplyUnsafe(m).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(M){return v(this,M)}clearCofactor(){let{h:M}=t;return M===dt?this:this.multiplyUnsafe(M)}static fromHex(M,D=!1){let{d:Y,a:z}=t,ue=r.BYTES;M=je("pointHex",M,ue),_t("zip215",D);let J=M.slice(),pe=M[ue-1];J[ue-1]=pe&-129;let ee=nr(J),oe=D?f:r.ORDER;pt("pointHex.y",ee,Rt,oe);let le=w(ee*ee),F=w(le-dt),u=w(Y*le-z),{isValid:h,value:S}=g(F,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let T=(S&dt)===dt,L=(pe&128)!==0;if(!D&&S===Rt&&L)throw new Error("Point.fromHex: x=0 and x_0=1");return L!==T&&(S=w(-S)),C.fromAffine({x:S,y:ee})}static fromPrivateKey(M){return X(M).point}toRawBytes(){let{x:M,y:D}=this.toAffine(),Y=Rr(D,r.BYTES);return Y[Y.length-1]|=M&dt?128:0,Y}toHex(){return Ot(this.toRawBytes())}}C.BASE=new C(t.Gx,t.Gy,dt,w(t.Gx*t.Gy)),C.ZERO=new C(Rt,dt,dt,Rt);let{BASE:B,ZERO:O}=C,U=Eo(C,l*8);function Q(N){return Fe(N,n)}o(Q,"modN");function G(N){return Q(nr(N))}o(G,"modN_LE");function X(N){let M=l;N=je("private key",N,M);let D=je("hashed private key",i(N),2*M),Y=R(D.slice(0,M)),z=D.slice(M,2*M),ue=G(Y),J=B.multiply(ue),pe=J.toRawBytes();return{head:Y,prefix:z,scalar:ue,point:J,pointBytes:pe}}o(X,"getExtendedPublicKey");function _e(N){return X(N).pointBytes}o(_e,"getPublicKey");function re(N=new Uint8Array,...M){let D=qt(...M);return G(i(b(D,je("context",N),!!s)))}o(re,"hashDomainToScalar");function ne(N,M,D={}){N=je("message",N),s&&(N=s(N));let{prefix:Y,scalar:z,pointBytes:ue}=X(M),J=re(D.context,Y,N),pe=B.multiply(J).toRawBytes(),ee=re(D.context,pe,ue,N),oe=Q(J+ee*z);pt("signature.s",oe,Rt,n);let le=qt(pe,Rr(oe,r.BYTES));return je("result",le,l*2)}o(ne,"sign");let W=sy;function q(N,M,D,Y=W){let{context:z,zip215:ue}=Y,J=r.BYTES;N=je("signature",N,2*J),M=je("message",M),ue!==void 0&&_t("zip215",ue),s&&(M=s(M));let pe=nr(N.slice(J,2*J)),ee,oe,le;try{ee=C.fromHex(D,ue),oe=C.fromHex(N.slice(0,J),ue),le=B.multiplyUnsafe(pe)}catch{return!1}if(!ue&&ee.isSmallOrder())return!1;let F=re(z,oe.toRawBytes(),ee.toRawBytes(),M);return oe.add(ee.multiplyUnsafe(F)).subtract(le).clearCofactor().equals(C.ZERO)}return o(q,"verify"),B._setWindowSize(8),{CURVE:t,getPublicKey:_e,sign:ne,verify:q,ExtendedPoint:C,utils:{getExtendedPublicKey:X,randomPrivateKey:o(()=>c(r.BYTES),"randomPrivateKey"),precompute(N=8,M=C.BASE){return M._setWindowSize(N),M.multiply(BigInt(3)),M}}}}o(Qm,"twistedEdwards");var Ka=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eh=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),fj=BigInt(0),ay=BigInt(1),th=BigInt(2),gj=BigInt(3),cy=BigInt(5),py=BigInt(8);function dy(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=Ka,l=e*e%i*e%i,m=At(l,th,i)*l%i,f=At(m,ay,i)*e%i,w=At(f,cy,i)*f%i,x=At(w,t,i)*w%i,g=At(x,r,i)*x%i,R=At(g,n,i)*g%i,b=At(R,s,i)*R%i,_=At(b,s,i)*R%i,y=At(_,t,i)*w%i;return{pow_p_5_8:At(y,th,i)*e%i,b2:l}}o(dy,"ed25519_pow_2_252_3");function ly(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}o(ly,"adjustScalarBytes");function uy(e,t){let r=Ka,n=Fe(t*t*t,r),s=Fe(n*n*t,r),i=dy(e*s).pow_p_5_8,c=Fe(e*n*i,r),l=Fe(t*c*c,r),m=c,f=Fe(c*eh,r),w=l===e,x=l===Fe(-e,r),g=l===Fe(-e*eh,r);return w&&(c=m),(x||g)&&(c=f),Zm(c,r)&&(c=Fe(-c,r)),{isValid:w||x,value:c}}o(uy,"uvRatio");var my=sr(Ka,void 0,!0),hy={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:my,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:py,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:zm,randomBytes:Yn,adjustScalarBytes:ly,uvRatio:uy},rh=Qm(hy);p();d();function nh(e,t){return Lt.IntentMessage(Lt.fixedArray(t.length,Lt.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}o(nh,"messageWithIntent");p();d();var Ht={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},oh={ED25519:32,Secp256k1:33,Secp256r1:33},sh={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};p();d();p();d();p();d();p();d();var fy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ir=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ar=new Uint32Array(64),Ga=class extends Gr{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=ir[0]|0,this.B=ir[1]|0,this.C=ir[2]|0,this.D=ir[3]|0,this.E=ir[4]|0,this.F=ir[5]|0,this.G=ir[6]|0,this.H=ir[7]|0}get(){let{A:t,B:r,C:n,D:s,E:i,F:c,G:l,H:m}=this;return[t,r,n,s,i,c,l,m]}set(t,r,n,s,i,c,l,m){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=c|0,this.G=l|0,this.H=m|0}process(t,r){for(let x=0;x<16;x++,r+=4)ar[x]=t.getUint32(r,!1);for(let x=16;x<64;x++){let g=ar[x-15],R=ar[x-2],b=yt(g,7)^yt(g,18)^g>>>3,_=yt(R,17)^yt(R,19)^R>>>10;ar[x]=_+ar[x-7]+b+ar[x-16]|0}let{A:n,B:s,C:i,D:c,E:l,F:m,G:f,H:w}=this;for(let x=0;x<64;x++){let g=yt(l,6)^yt(l,11)^yt(l,25),R=w+g+$m(l,m,f)+fy[x]+ar[x]|0,_=(yt(n,2)^yt(n,13)^yt(n,22))+Wm(n,s,i)|0;w=f,f=m,m=l,l=c+R|0,c=i,i=s,s=n,n=R+_|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,l=l+this.E|0,m=m+this.F|0,f=f+this.G|0,w=w+this.H|0,this.set(n,s,i,c,l,m,f,w)}roundClean(){ar.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var vn=Zn(()=>new Ga);p();d();p();d();var Bo=class extends Gn{static{o(this,"HMAC")}constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Rp(t);let n=Kn(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return qr(this),this.iHash.update(t),this}digestInto(t){qr(this),Ap(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:c,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=c,t.outputLen=l,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Za=o((e,t,r)=>new Bo(e,t).update(r).digest(),"hmac");Za.create=(e,t)=>new Bo(e,t);p();d();function ih(e){e.lowS!==void 0&&_t("lowS",e.lowS),e.prehash!==void 0&&_t("prehash",e.prehash)}o(ih,"validateSigVerOpts");function gy(e){let t=Rn(e);It(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}o(gy,"validatePointOpts");var{bytesToNumberBE:yy,hexToBytes:xy}=ko,Ft={Err:class extends Error{static{o(this,"DERErr")}constructor(t=""){super(t)}},_tlv:{encode:o((e,t)=>{let{Err:r}=Ft;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=_r(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?_r(s.length/2|128):"";return`${_r(e)}${i}${s}${t}`},"encode"),decode(e,t){let{Err:r}=Ft,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],i=!!(s&128),c=0;if(!i)c=s;else{let m=s&127;if(!m)throw new r("tlv.decode(long): indefinite length not supported");if(m>4)throw new r("tlv.decode(long): byte length is too big");let f=t.subarray(n,n+m);if(f.length!==m)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let w of f)c=c<<8|w;if(n+=m,c<128)throw new r("tlv.decode(long): not minimal encoding")}let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: wrong value length");return{v:l,l:t.subarray(n+c)}}},_int:{encode(e){let{Err:t}=Ft;if(e<$t)throw new t("integer: negative integers are not allowed");let r=_r(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected assertion");return r},decode(e){let{Err:t}=Ft;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return yy(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Ft,s=typeof e=="string"?xy(e):e;Zr(s);let{v:i,l:c}=n.decode(48,s);if(c.length)throw new t("Invalid signature: left bytes after parsing");let{v:l,l:m}=n.decode(2,i),{v:f,l:w}=n.decode(2,m);if(w.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(f)}},hexFromSig(e){let{_tlv:t,_int:r}=Ft,n=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,n)}},$t=BigInt(0),Je=BigInt(1),zj=BigInt(2),ah=BigInt(3),Vj=BigInt(4);function wy(e){let t=gy(e),{Fp:r}=t,n=sr(t.n,t.nBitLength),s=t.toBytes||((_,y,v)=>{let I=y.toAffine();return qt(Uint8Array.from([4]),r.toBytes(I.x),r.toBytes(I.y))}),i=t.fromBytes||(_=>{let y=_.subarray(1),v=r.fromBytes(y.subarray(0,r.BYTES)),I=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x:v,y:I}});function c(_){let{a:y,b:v}=t,I=r.sqr(_),C=r.mul(I,_);return r.add(r.add(C,r.mul(_,y)),v)}if(o(c,"weierstrassEquation"),!r.eql(r.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function l(_){return _n(_,Je,t.n)}o(l,"isWithinCurveOrder");function m(_){let{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:I,n:C}=t;if(y&&typeof _!="bigint"){if(rr(_)&&(_=Ot(_)),typeof _!="string"||!y.includes(_.length))throw new Error("Invalid key");_=_.padStart(v*2,"0")}let B;try{B=typeof _=="bigint"?_:Pt(je("private key",_,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof _}`)}return I&&(B=Fe(B,C)),pt("private key",B,Je,C),B}o(m,"normPrivateKeyToScalar");function f(_){if(!(_ instanceof g))throw new Error("ProjectivePoint expected")}o(f,"assertPrjPoint");let w=vr((_,y)=>{let{px:v,py:I,pz:C}=_;if(r.eql(C,r.ONE))return{x:v,y:I};let B=_.is0();y==null&&(y=B?r.ONE:r.inv(C));let O=r.mul(v,y),U=r.mul(I,y),Q=r.mul(C,y);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:O,y:U}}),x=vr(_=>{if(_.is0()){if(t.allowInfinityPoint&&!r.is0(_.py))return;throw new Error("bad point: ZERO")}let{x:y,y:v}=_.toAffine();if(!r.isValid(y)||!r.isValid(v))throw new Error("bad point: x or y not FE");let I=r.sqr(v),C=c(y);if(!r.eql(I,C))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{static{o(this,"Point")}constructor(y,v,I){if(this.px=y,this.py=v,this.pz=I,y==null||!r.isValid(y))throw new Error("x required");if(v==null||!r.isValid(v))throw new Error("y required");if(I==null||!r.isValid(I))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:v,y:I}=y||{};if(!y||!r.isValid(v)||!r.isValid(I))throw new Error("invalid affine point");if(y instanceof g)throw new Error("projective point not allowed");let C=o(B=>r.eql(B,r.ZERO),"is0");return C(v)&&C(I)?g.ZERO:new g(v,I,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let v=r.invertBatch(y.map(I=>I.pz));return y.map((I,C)=>I.toAffine(v[C])).map(g.fromAffine)}static fromHex(y){let v=g.fromAffine(i(je("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return g.BASE.multiply(m(y))}static msm(y,v){return Co(g,n,y,v)}_setWindowSize(y){b.setWindowSize(this,y)}assertValidity(){x(this)}hasEvenY(){let{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){f(y);let{px:v,py:I,pz:C}=this,{px:B,py:O,pz:U}=y,Q=r.eql(r.mul(v,U),r.mul(B,C)),G=r.eql(r.mul(I,U),r.mul(O,C));return Q&&G}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:y,b:v}=t,I=r.mul(v,ah),{px:C,py:B,pz:O}=this,U=r.ZERO,Q=r.ZERO,G=r.ZERO,X=r.mul(C,C),_e=r.mul(B,B),re=r.mul(O,O),ne=r.mul(C,B);return ne=r.add(ne,ne),G=r.mul(C,O),G=r.add(G,G),U=r.mul(y,G),Q=r.mul(I,re),Q=r.add(U,Q),U=r.sub(_e,Q),Q=r.add(_e,Q),Q=r.mul(U,Q),U=r.mul(ne,U),G=r.mul(I,G),re=r.mul(y,re),ne=r.sub(X,re),ne=r.mul(y,ne),ne=r.add(ne,G),G=r.add(X,X),X=r.add(G,X),X=r.add(X,re),X=r.mul(X,ne),Q=r.add(Q,X),re=r.mul(B,O),re=r.add(re,re),X=r.mul(re,ne),U=r.sub(U,X),G=r.mul(re,_e),G=r.add(G,G),G=r.add(G,G),new g(U,Q,G)}add(y){f(y);let{px:v,py:I,pz:C}=this,{px:B,py:O,pz:U}=y,Q=r.ZERO,G=r.ZERO,X=r.ZERO,_e=t.a,re=r.mul(t.b,ah),ne=r.mul(v,B),W=r.mul(I,O),q=r.mul(C,U),P=r.add(v,I),N=r.add(B,O);P=r.mul(P,N),N=r.add(ne,W),P=r.sub(P,N),N=r.add(v,C);let M=r.add(B,U);return N=r.mul(N,M),M=r.add(ne,q),N=r.sub(N,M),M=r.add(I,C),Q=r.add(O,U),M=r.mul(M,Q),Q=r.add(W,q),M=r.sub(M,Q),X=r.mul(_e,N),Q=r.mul(re,q),X=r.add(Q,X),Q=r.sub(W,X),X=r.add(W,X),G=r.mul(Q,X),W=r.add(ne,ne),W=r.add(W,ne),q=r.mul(_e,q),N=r.mul(re,N),W=r.add(W,q),q=r.sub(ne,q),q=r.mul(_e,q),N=r.add(N,q),ne=r.mul(W,N),G=r.add(G,ne),ne=r.mul(M,N),Q=r.mul(P,Q),Q=r.sub(Q,ne),ne=r.mul(P,W),X=r.mul(M,X),X=r.add(X,ne),new g(Q,G,X)}subtract(y){return this.add(y.negate())}is0(){return this.equals(g.ZERO)}wNAF(y){return b.wNAFCached(this,y,g.normalizeZ)}multiplyUnsafe(y){pt("scalar",y,$t,t.n);let v=g.ZERO;if(y===$t)return v;if(y===Je)return this;let{endo:I}=t;if(!I)return b.unsafeLadder(this,y);let{k1neg:C,k1:B,k2neg:O,k2:U}=I.splitScalar(y),Q=v,G=v,X=this;for(;B>$t||U>$t;)B&Je&&(Q=Q.add(X)),U&Je&&(G=G.add(X)),X=X.double(),B>>=Je,U>>=Je;return C&&(Q=Q.negate()),O&&(G=G.negate()),G=new g(r.mul(G.px,I.beta),G.py,G.pz),Q.add(G)}multiply(y){let{endo:v,n:I}=t;pt("scalar",y,Je,I);let C,B;if(v){let{k1neg:O,k1:U,k2neg:Q,k2:G}=v.splitScalar(y),{p:X,f:_e}=this.wNAF(U),{p:re,f:ne}=this.wNAF(G);X=b.constTimeNegate(O,X),re=b.constTimeNegate(Q,re),re=new g(r.mul(re.px,v.beta),re.py,re.pz),C=X.add(re),B=_e.add(ne)}else{let{p:O,f:U}=this.wNAF(y);C=O,B=U}return g.normalizeZ([C,B])[0]}multiplyAndAddUnsafe(y,v,I){let C=g.BASE,B=o((U,Q)=>Q===$t||Q===Je||!U.equals(C)?U.multiplyUnsafe(Q):U.multiply(Q),"mul"),O=B(this,v).add(B(y,I));return O.is0()?void 0:O}toAffine(y){return w(this,y)}isTorsionFree(){let{h:y,isTorsionFree:v}=t;if(y===Je)return!0;if(v)return v(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:v}=t;return y===Je?this:v?v(g,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return _t("isCompressed",y),this.assertValidity(),s(g,this,y)}toHex(y=!0){return _t("isCompressed",y),Ot(this.toRawBytes(y))}}g.BASE=new g(t.Gx,t.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let R=t.nBitLength,b=Eo(g,t.endo?Math.ceil(R/2):R);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:m,weierstrassEquation:c,isWithinCurveOrder:l}}o(wy,"weierstrassPoints");function by(e){let t=Rn(e);return It(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}o(by,"validateOpts");function ch(e){let t=by(e),{Fp:r,n}=t,s=r.BYTES+1,i=2*r.BYTES+1;function c(q){return Fe(q,n)}o(c,"modN");function l(q){return To(q,n)}o(l,"invN");let{ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:w,isWithinCurveOrder:x}=wy({...t,toBytes(q,P,N){let M=P.toAffine(),D=r.toBytes(M.x),Y=qt;return _t("isCompressed",N),N?Y(Uint8Array.from([P.hasEvenY()?2:3]),D):Y(Uint8Array.from([4]),D,r.toBytes(M.y))},fromBytes(q){let P=q.length,N=q[0],M=q.subarray(1);if(P===s&&(N===2||N===3)){let D=Pt(M);if(!_n(D,Je,r.ORDER))throw new Error("Point is not on curve");let Y=w(D),z;try{z=r.sqrt(Y)}catch(pe){let ee=pe instanceof Error?": "+pe.message:"";throw new Error("Point is not on curve"+ee)}let ue=(z&Je)===Je;return(N&1)===1!==ue&&(z=r.neg(z)),{x:D,y:z}}else if(P===i&&N===4){let D=r.fromBytes(M.subarray(0,r.BYTES)),Y=r.fromBytes(M.subarray(r.BYTES,2*r.BYTES));return{x:D,y:Y}}else throw new Error(`Point of length ${P} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),g=o(q=>Ot(or(q,t.nByteLength)),"numToNByteStr");function R(q){let P=n>>Je;return q>P}o(R,"isBiggerThanHalfOrder");function b(q){return R(q)?c(-q):q}o(b,"normalizeS");let _=o((q,P,N)=>Pt(q.slice(P,N)),"slcNum");class y{static{o(this,"Signature")}constructor(P,N,M){this.r=P,this.s=N,this.recovery=M,this.assertValidity()}static fromCompact(P){let N=t.nByteLength;return P=je("compactSignature",P,N*2),new y(_(P,0,N),_(P,N,2*N))}static fromDER(P){let{r:N,s:M}=Ft.toSig(je("DER",P));return new y(N,M)}assertValidity(){pt("r",this.r,Je,n),pt("s",this.s,Je,n)}addRecoveryBit(P){return new y(this.r,this.s,P)}recoverPublicKey(P){let{r:N,s:M,recovery:D}=this,Y=U(je("msgHash",P));if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");let z=D===2||D===3?N+t.n:N;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let ue=D&1?"03":"02",J=m.fromHex(ue+g(z)),pe=l(z),ee=c(-Y*pe),oe=c(M*pe),le=m.BASE.multiplyAndAddUnsafe(J,ee,oe);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ar(this.toDERHex())}toDERHex(){return Ft.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ar(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let v={isValidPrivateKey(q){try{return f(q),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:o(()=>{let q=za(t.n);return Xm(t.randomBytes(q),t.n)},"randomPrivateKey"),precompute(q=8,P=m.BASE){return P._setWindowSize(q),P.multiply(BigInt(3)),P}};function I(q,P=!0){return m.fromPrivateKey(q).toRawBytes(P)}o(I,"getPublicKey");function C(q){let P=rr(q),N=typeof q=="string",M=(P||N)&&q.length;return P?M===s||M===i:N?M===2*s||M===2*i:q instanceof m}o(C,"isProbPub");function B(q,P,N=!0){if(C(q))throw new Error("first arg must be private key");if(!C(P))throw new Error("second arg must be public key");return m.fromHex(P).multiply(f(q)).toRawBytes(N)}o(B,"getSharedSecret");let O=t.bits2int||function(q){let P=Pt(q),N=q.length*8-t.nBitLength;return N>0?P>>BigInt(N):P},U=t.bits2int_modN||function(q){return c(O(q))},Q=An(t.nBitLength);function G(q){return pt(`num < 2^${t.nBitLength}`,q,$t,Q),or(q,t.nByteLength)}o(G,"int2octets");function X(q,P,N=_e){if(["recovered","canonical"].some(u=>u in N))throw new Error("sign() legacy options not supported");let{hash:M,randomBytes:D}=t,{lowS:Y,prehash:z,extraEntropy:ue}=N;Y==null&&(Y=!0),q=je("msgHash",q),ih(N),z&&(q=je("prehashed msgHash",M(q)));let J=U(q),pe=f(P),ee=[G(pe),G(J)];if(ue!=null&&ue!==!1){let u=ue===!0?D(r.BYTES):ue;ee.push(je("extraEntropy",u))}let oe=qt(...ee),le=J;function F(u){let h=O(u);if(!x(h))return;let S=l(h),T=m.BASE.multiply(h).toAffine(),L=c(T.x);if(L===$t)return;let E=c(S*c(le+L*pe));if(E===$t)return;let k=(T.x===L?0:2)|Number(T.y&Je),H=E;return Y&&R(E)&&(H=b(E),k^=1),new y(L,H,k)}return o(F,"k2sig"),{seed:oe,k2sig:F}}o(X,"prepSig");let _e={lowS:t.lowS,prehash:!1},re={lowS:t.lowS,prehash:!1};function ne(q,P,N=_e){let{seed:M,k2sig:D}=X(q,P,N),Y=t;return Ha(Y.hash.outputLen,Y.nByteLength,Y.hmac)(M,D)}o(ne,"sign"),m.BASE._setWindowSize(8);function W(q,P,N,M=re){let D=q;if(P=je("msgHash",P),N=je("publicKey",N),"strict"in M)throw new Error("options.strict was renamed to lowS");ih(M);let{lowS:Y,prehash:z}=M,ue,J;try{if(typeof D=="string"||rr(D))try{ue=y.fromDER(D)}catch(T){if(!(T instanceof Ft.Err))throw T;ue=y.fromCompact(D)}else if(typeof D=="object"&&typeof D.r=="bigint"&&typeof D.s=="bigint"){let{r:T,s:L}=D;ue=new y(T,L)}else throw new Error("PARSE");J=m.fromHex(N)}catch(T){if(T.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&ue.hasHighS())return!1;z&&(P=t.hash(P));let{r:pe,s:ee}=ue,oe=U(P),le=l(ee),F=c(oe*le),u=c(pe*le),h=m.BASE.multiplyAndAddUnsafe(J,F,u)?.toAffine();return h?c(h.x)===pe:!1}return o(W,"verify"),{CURVE:t,getPublicKey:I,getSharedSecret:B,sign:ne,verify:W,ProjectivePoint:m,Signature:y,utils:v}}o(ch,"weierstrass");function Sy(e){return{hash:e,hmac:o((t,...r)=>Za(e,t,ss(...r)),"hmac"),randomBytes:Yn}}o(Sy,"getHash");function ph(e,t){let r=o(n=>ch({...e,...Sy(n)}),"create");return Object.freeze({...r(t),create:r})}o(ph,"createCurve");var dh=sr(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),_y=dh.create(BigInt("-3")),Ay=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Ry=ph({a:_y,b:Ay,Fp:dh,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},vn),lh=Ry;p();d();function Yr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}o(Yr,"bytesEqual");var cr=class{static{o(this,"PublicKey")}equals(t){return Yr(this.toRawBytes(),t.toRawBytes())}toBase64(){return gt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let t=this.toSuiBytes();return gt(t)}verifyWithIntent(t,r,n){let s=nh(n,t),i=ln(s,{dkLen:32});return this.verify(i,r)}verifyPersonalMessage(t,r){return this.verifyWithIntent(Lt.vector(Lt.u8()).serialize(t).toBytes(),r,"PersonalMessage")}verifyTransaction(t,r){return this.verifyWithIntent(t,r,"TransactionData")}verifyAddress(t){return this.toSuiAddress()===t}toSuiBytes(){let t=this.toRawBytes(),r=new Uint8Array(t.length+1);return r.set([this.flag()]),r.set(t,1),r}toSuiAddress(){return zn(jn(ln(this.toSuiBytes(),{dkLen:32})).slice(0,Wn*2))}};var Ya=33;var Xa=64,vK=new Uint8Array([48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0]),Ja=class extends cr{static{o(this,"PasskeyPublicKey")}constructor(t){if(super(),typeof t=="string"?this.data=lt(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Ya)throw new Error(`Invalid public key input. Expected ${Ya} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Ht.Passkey}async verify(t,r){let n=Qa(r),s=JSON.parse(n.clientDataJson);if(s.type!=="webauthn.get")return!1;let i=lt(s.challenge.replace(/-/g,"+").replace(/_/g,"/"));if(!Yr(t,i))return!1;let c=n.userSignature.slice(1+Xa);if(!Yr(this.toRawBytes(),c))return!1;let l=new Uint8Array([...n.authenticatorData,...vn(n.clientDataJson)]),m=n.userSignature.slice(1,Xa+1);return lh.verify(m,vn(l),c)}};Ja.SIZE=Ya;function Qa(e){let t=typeof e=="string"?lt(e):e;if(t[0]!==Ht.Passkey)throw new Error("Invalid signature scheme");let r=_p.parse(t.slice(1));return{signatureScheme:"Passkey",serializedSignature:gt(t),signature:t,authenticatorData:r.authenticatorData,clientDataJson:r.clientDataJson,userSignature:new Uint8Array(r.userSignature),publicKey:new Uint8Array(r.userSignature.slice(1+Xa))}}o(Qa,"parseSerializedPasskeySignature");p();d();p();d();var uh=o(e=>{throw TypeError(e)},"__typeError"),mh=o((e,t,r)=>t.has(e)||uh("Cannot "+r),"__accessCheck"),Lo=o((e,t,r)=>(mh(e,t,"read from private field"),r?r.call(e):t.get(e)),"__privateGet"),Mo=o((e,t,r)=>t.has(e)?uh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),Uo=o((e,t,r,n)=>(mh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),"__privateSet"),No,Do,Oo,Po,ec=class extends Error{static{o(this,"SuiGraphQLRequestError")}},qo=class{static{o(this,"SuiGraphQLClient")}constructor({url:t,fetch:r=fetch,headers:n={},queries:s={}}){Mo(this,No),Mo(this,Do),Mo(this,Oo),Mo(this,Po),Uo(this,No,t),Uo(this,Do,s),Uo(this,Oo,n),Uo(this,Po,(...i)=>r(...i))}async query(t){let r=await Lo(this,Po).call(this,Lo(this,No),{method:"POST",headers:{"Content-Type":"application/json",...Lo(this,Oo)},body:JSON.stringify({query:typeof t.query=="string"?String(t.query):Mc(t.query),variables:t.variables,extensions:t.extensions,operationName:t.operationName})});if(!r.ok)throw new ec(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(t,r){return this.query({...r,query:Lo(this,Do)[t]})}};No=new WeakMap;Do=new WeakMap;Oo=new WeakMap;Po=new WeakMap;p();d();var hh=Uc();p();d();function vy(e){if(e.length!==1)throw new Error("Invalid base64Url character: "+e);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(r===-1)throw new Error("Invalid base64Url character: "+e);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(vy,"base64UrlCharTo6Bits");function ky(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r),s=vy(n);t=t.concat(s)}return t}o(ky,"base64UrlStringToBitVector");function Ty(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=ky(e),n=t%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let s=(t+e.length-1)%4;if(s!==3)if(s===2)r=r.slice(0,r.length-2);else if(s===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let i=new Uint8Array(Math.floor(r.length/8)),c=0;for(let l=0;l<r.length;l+=8){let m=r.slice(l,l+8),f=parseInt(m.join(""),2);i[c++]=f}return new TextDecoder().decode(i)}o(Ty,"decodeBase64URL");function Ey(e){if(!(e.slice(-1)==="}"||e.slice(-1)===","))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(Object.keys(t).length!==1)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}o(Ey,"verifyExtendedClaim");function fh(e,t){let r=Ty(e.value,e.indexMod4),[n,s]=Ey(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return s}o(fh,"extractClaimValue");p();d();p();d();var gh=Ze.struct("ZkLoginSignature",{inputs:Ze.struct("ZkLoginSignatureInputs",{proofPoints:Ze.struct("ZkLoginSignatureInputsProofPoints",{a:Ze.vector(Ze.string()),b:Ze.vector(Ze.vector(Ze.string())),c:Ze.vector(Ze.string())}),issBase64Details:Ze.struct("ZkLoginSignatureInputsClaim",{value:Ze.string(),indexMod4:Ze.u8()}),headerBase64:Ze.string(),addressSeed:Ze.string()}),maxEpoch:Ze.u64(),userSignature:Ze.vector(Ze.u8())});function yh(e){return gh.parse(typeof e=="string"?lt(e):e)}o(yh,"parseZkLoginSignature");p();d();function Cy(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return t;return-1}o(Cy,"findFirstNonZeroIndex");function Ho(e,t){let r=e.toString(16);return kp(r.padStart(t*2,"0").slice(-t*2))}o(Ho,"toPaddedBigEndianBytes");function tc(e,t){let r=Ho(e,t),n=Cy(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(tc,"toBigEndianBytes");var bh=o(e=>{throw TypeError(e)},"__typeError"),oc=o((e,t,r)=>t.has(e)||bh("Cannot "+r),"__accessCheck"),Wt=o((e,t,r)=>(oc(e,t,"read from private field"),r?r.call(e):t.get(e)),"__privateGet"),Fo=o((e,t,r)=>t.has(e)?bh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),Xr=o((e,t,r,n)=>(oc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),"__privateSet"),xh=o((e,t,r)=>(oc(e,t,"access private method"),r),"__privateMethod"),vt,kn,Tn,$o,rc,Iy=class nc extends cr{static{o(this,"_ZkLoginPublicIdentifier")}constructor(t,{client:r}={}){super(),Fo(this,$o),Fo(this,vt),Fo(this,kn),Fo(this,Tn),Xr(this,kn,r),typeof t=="string"?Xr(this,vt,lt(t)):t instanceof Uint8Array?Xr(this,vt,t):Xr(this,vt,Uint8Array.from(t)),Xr(this,Tn,Wt(this,vt).length!==Wt(this,vt)[0]+1+32),Wt(this,Tn)&&Xr(this,vt,Sh(Wt(this,vt)))}equals(t){return super.equals(t)}toSuiAddress(){return Wt(this,Tn)?xh(this,$o,rc).call(this):super.toSuiAddress()}toRawBytes(){return Wt(this,vt)}flag(){return Ht.ZkLogin}async verify(t,r){throw Error("does not support")}verifyPersonalMessage(t,r){let n=Wo(r),s=new nc(n.publicKey).toSuiAddress();return wh({address:s,bytes:gt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Wt(this,kn)})}verifyTransaction(t,r){let n=Wo(r),s=new nc(n.publicKey).toSuiAddress();return wh({address:s,bytes:gt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Wt(this,kn)})}verifyAddress(t){return t===super.toSuiAddress()||t===xh(this,$o,rc).call(this)}};vt=new WeakMap;kn=new WeakMap;Tn=new WeakMap;$o=new WeakSet;rc=o(function(){let e=Sh(Wt(this,vt),!0),t=new Uint8Array(e.length+1);return t[0]=this.flag(),t.set(e,1),zn(jn(ln(t,{dkLen:32})).slice(0,Wn*2))},"toLegacyAddress_fn");var By=Iy;function Ly(e,t,r){let n=r?.legacyAddress?tc(e,32):Ho(e,32),s=new TextEncoder().encode(t),i=new Uint8Array(1+s.length+n.length);return i.set([s.length],0),i.set(s,1),i.set(n,1+s.length),new By(i,r)}o(Ly,"toZkLoginPublicIdentifier");var My=hh(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function Sh(e,t=!1){let r=e[0]+1,n=BigInt(`0x${Sp(e.slice(r))}`),s=t?tc(n,32):Ho(n,32),i=new Uint8Array(r+s.length);return i.set(e.slice(0,r),0),i.set(s,r),i}o(Sh,"normalizeZkLoginPublicKeyBytes");async function wh({address:e,bytes:t,signature:r,intentScope:n,client:s=new qo({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let i=await s.query({query:My,variables:{bytes:t,signature:r,intentScope:n,author:e}});return i.data?.verifyZkloginSignature.success===!0&&i.data?.verifyZkloginSignature.errors.length===0}o(wh,"graphqlVerifyZkLoginSignature");function Wo(e){let t=typeof e=="string"?lt(e):e;if(t[0]!==Ht.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:s,userSignature:i}=yh(r),{issBase64Details:c,addressSeed:l}=n,m=fh(c,"iss"),f=Ly(BigInt(l),m);return{serializedSignature:gt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:s,userSignature:i,iss:m,addressSeed:BigInt(l)},signature:t,publicKey:f.toRawBytes()}}o(Wo,"parseSerializedZkLoginSignature");function _h(e){let t=lt(e),r=sh[t[0]];switch(r){case"Passkey":return Qa(e);case"MultiSig":let n=Lt.MultiSig.parse(t.slice(1));return{serializedSignature:e,signatureScheme:r,multisig:n,bytes:t};case"ZkLogin":return Wo(e);case"ED25519":case"Secp256k1":case"Secp256r1":let s=oh[r],i=t.slice(1,t.length-s),c=t.slice(1+i.length);return{serializedSignature:e,signatureScheme:r,signature:i,publicKey:c,bytes:t};default:throw new Error("Unsupported signature scheme")}}o(_h,"parseSerializedSignature");p();d();var sc=32,Jr=class extends cr{static{o(this,"Ed25519PublicKey")}constructor(t){if(super(),typeof t=="string"?this.data=lt(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==sc)throw new Error(`Invalid public key input. Expected ${sc} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Ht.ED25519}async verify(t,r){let n;if(typeof r=="string"){let s=_h(r);if(s.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!Yr(this.toRawBytes(),s.publicKey))throw new Error("Signature does not match public key");n=s.signature}else n=r;return rh.verify(n,t,this.toRawBytes())}};Jr.SIZE=sc;var zo=o(async()=>{let e=await ge();return En(e)},"getSelectedAccount"),En=o(e=>{let t=e.addresses.filter(r=>r.networkID===Xo.Mainnet||r.networkID===Xo.Testnet);if(t.length===0)throw $c;if(t.length===1){let[r]=t;if(!r?.publicKey)throw new Error("[sui provider] selected account account does not have a public key");let{publicKey:n,address:s}=r;return{address:s,publicKey:new Jr(n).toSuiBytes().toString()}}throw new Error("[sui provider] multiple accounts provided")},"getSuiAddressWithPubkey");p();d();var Ah=o(async(e,t,r)=>{let n=await ge(),s=Xn.from(t);s.setSenderIfNotSet(e);let i=await Jn({transaction:s,networkID:r}),c=await fe.sign(n.identifier,{chainType:be.Sui,signingType:"transaction",transaction:new Uint8Array(i)});if(c.status==="error")throw new Error(`[sui provider][${c.type}] ${c.message}`);let l=c.signature;if(!l)throw new Error("[sui provider] no message on vault response");return{signature:l,transaction:Ur(i)}},"signTransaction");p();d();var Rh=o(async(e,t)=>{let r=await ge(),n=await fe.sign(r.identifier,{chainType:be.Sui,signingType:"personalMessage",message:t});if(n.status==="error")throw new Error(`[sui provider][${n.type}] ${n.message}`);if(!n.signature)throw new Error("[sui provider] no message on vault response");return{signature:n.signature,message:Ur(t)}},"signMessage");p();d();var Uy=new ve,vh=o(async(e,t,r)=>{let n=await ge(),s=Xn.from(t);s.setSenderIfNotSet(e);let i=await Jn({transaction:s,networkID:r}),c={ownerAddress:e,networkID:r,data:{digest:""},type:Pr.DappInteraction,display:{summary:{topLeft:{text:st.t("transactionsPendingAppInteraction")}}}},{signature:l,digest:m,effects:f}=await Mp({accountSigner:fe,accountIdentifier:n.identifier,transaction:i,pendingTransactionInput:c,storage:Uy});return{signature:l,transaction:Ur(i),digest:m,effects:f}},"signAndExecuteTransaction");var zt={analytics:Nu,config:Du,i18n:Ou,logger:Pu,remoteConfig:Uu,rpc:qu,utils:Hu,wallet:ac,featureFlags:Mu,secrets:{setSharedSecret:o(()=>{throw new Error("unimplemented")},"setSharedSecret"),encryptDeepLinkDappPayload:o(()=>{throw new Error("unimplemented")},"encryptDeepLinkDappPayload"),deleteSharedSecret:o(()=>{throw new Error("unimplemented")},"deleteSharedSecret"),generateSharedSecret:o(()=>{throw new Error("unimplemented")},"generateSharedSecret"),generateSession:o(()=>{throw new Error("unimplemented")},"generateSession"),decryptDeepLinkDappPayload:o(()=>{throw new Error("unimplemented")},"decryptDeepLinkDappPayload")}};var Ny=St.eth.initialize(zt),Dy=St.sol.initialize(zt),Oy=St.sol_blink.initialize(zt),Py=St.eth_blink.initialize(zt),qy=St.btc.initialize(zt),Hy=St.sui.initialize(zt),Fy=St.phantom_auto_confirm.initialize(zt),$y=St.phantom_embedded.initialize(zt),kh={...qy,...Ny,...Py,...Dy,...Oy,...Hy,...Fy,...$y};p();d();var cc=ie(Mr(),1);var Th=o(async e=>{let t=await cc.default.tabs.get(e);if(!t?.url?.startsWith("http"))return{iconUrl:void 0,title:void 0};let r=await Wy(e);return{iconUrl:r?.iconUrl??t?.favIconUrl,title:r?.title??t?.title}},"getTabMeta"),Wy=o(async e=>{try{let r=(await cc.default.scripting.executeScript({target:{tabId:e},func:o(()=>{let i={},c=document.querySelectorAll("head link[rel^=apple-touch-icon]");c&&(i.iconTuples=Array.from(c).map(m=>[m.href,m.sizes?.[0]??"0x0"]));let l=document.querySelector("meta[property='og:title']");return l&&(i.title=l.content),i},"func")}))[0].result;if(!r)return{iconUrl:void 0,title:void 0};let n,s=0;for(let[i,c]of r.iconTuples??[]){if(n||(n=i),!c)continue;parseInt(c.split("x")[0]??0)>s&&(n=i)}return{title:r.title,iconUrl:n}}catch(t){return console.error("Failed to get tab meta",t),{iconUrl:void 0,title:void 0}}},"getTabMarkupMeta");p();d();var Vo=[],pc=o(e=>{Vo.push(e)},"addDappNotificationStream"),dc=o(e=>{Vo.splice(Vo.findIndex(t=>{let{origin:r,tabId:n,port:s}=t;return e.origin===r&&e.tabId===n&&s===e.port}),1)},"removeDappNotificationStream"),Qr=o(()=>Vo.map(({origin:e,tabId:t,port:r})=>({origin:e,tabId:t,send:o(n=>r.postMessage(JSON.stringify(n)),"send")})),"getDappTabs");var Eh=o(async e=>{if(!e.sender||!e.sender.tab||!e.sender.url||!e.sender.tab.id)throw new Error("sender information is undefined");let t=e.sender.url,r=e.sender.tab.id;pc({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{dc({origin:new URL(t).origin,url:t,tabId:r,port:e})});let n=[],s=o(w=>{if(typeof w=="string")try{let x=Ko.parse(on(w));n.push(x)}catch{}},"queueRequest");e.onMessage.addListener(s);let i=await Th(r),c={type:"BrowserTabRpcRequestSource",url:new URL(t),icon:i.iconUrl?new URL(i.iconUrl):void 0},l=zy(e,c,n),m=Vy(e);pc({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{dc({origin:new URL(t).origin,url:t,tabId:r,port:e})});let f=new jp({routes:kh}).init(l,m);return e.onMessage.removeListener(s),f},"createRpcRouterController");function zy(e,t,r=[]){return new ReadableStream({async start(n){for(let s of r)n.enqueue(as(s,t));e.onMessage.addListener(async s=>{let i=null;try{i=Ko.parse(on(s))}catch{}if(i)try{n.enqueue(as(i,t))}catch(c){de.captureError(new Error(`Stream enqueue failure (${c})`),me.Provider)}}),e.onDisconnect.addListener(()=>{n.close()})},async cancel(){e.disconnect()}},new CountQueuingStrategy({highWaterMark:1/0}))}o(zy,"createRpcRequestStream");function Vy(e){return new WritableStream({write([t,r]){e.postMessage(mr(r))}})}o(Vy,"createRpcResponseStream");p();d();var Cn=o(async({enabledChains:e,metamaskOverrideSetting:t})=>{let r=["solana.js","phantom.js"];if(e.includes(be.EVM))switch(t){case"ALWAYS_ASK":{r.push("evmAsk.js");break}case"USE_PHANTOM":{r.push("evmPhantom.js");break}case"USE_METAMASK":{r.push("evmMetamask.js");break}default:Ic(t)}e.some(n=>n===be.BitcoinTaproot||n===be.BitcoinNativeSegwit)&&r.push("btc.js"),e.some(n=>n===be.Sui)&&r.push("sui.js");try{await chrome.scripting.registerContentScripts([{id:"inpageScripts",matches:["file://*/*","http://*/*","https://*/*"],js:r,runAt:"document_start",allFrames:!0,world:"MAIN"},{id:"contentScript",matches:["file://*/*","http://*/*","https://*/*"],js:["contentScript.js","solanaActionsContentScript.js"],runAt:"document_start",allFrames:!0,world:"ISOLATED"}])}catch{}},"registerContentScripts");async function In(){try{let t=(await chrome.scripting.getRegisteredContentScripts()).map(r=>r.id);return chrome.scripting.unregisterContentScripts({ids:t})}catch(e){throw console.error("ERROR REGISTERING",e),new Error("An unexpected error occurred while unregistering dynamic content scripts: "+e.message,{cause:e})}}o(In,"unregisterAllDynamicContentScripts");p();d();var Ch=ie(zh(),1),Ih=ie(Mr(),1);var jy=new tp(Ce,ro,rd),pr=new ve,lc=new Ct(pr);async function Ky(){let{isOnboarded:e}=await fe.checkVaultIntegrity();e&&Bh()}o(Ky,"identifyOnboardedSelectedAccount");var Gy=(0,Ch.default)(Bh,500);async function Bh(){let e=await ge(),t=await Zt(),r=await ts(fe,pr,t);await jy.identifyAccount(r,e,t)}o(Bh,"identifySelectedAccount");async function Lh(){Ky(),pr.subscribe(e=>{switch(e){case Vt.SelectedAccount:{Xy();return}case Xc:{Zy();return}case Vt.DeveloperMode:case Vt.NetworkSetting:{Yy();return}case"metaMaskOverride":{Qy();return}case qc:{e1();return}}}),lc.addEventListener("revoked",e=>{Jy(e.data)})}o(Lh,"registerStorageListeners");async function Zy(){de.addBreadcrumb(me.Account,"Vault accounts changed, notifying UI processes",Ne.Info);let e="INVALIDATE_ACCOUNTS_MESSAGE",t=await pr.get(e);await pr.set(e,!t)}o(Zy,"onVaultAccountsChanged");async function Yy(){try{let e=await ge(),t=await lc.get(e.identifier);for(let r of Qr()){let n=r.origin.toLowerCase();if(n in t){let c={jsonrpc:"2.0",method:"phantom_chainChanged",params:{evm:await Kr(n)}};r.send(c)}}}catch(e){de.captureError(e,me.Provider)}}o(Yy,"onNetworkSettingChange");async function Xy(){try{await Gy()}catch(i){de.captureError(i,me.Provider)}let e=await ge(),t;try{t=Be(e,be.EVM)}catch{}let r;try{r=Be(e,be.Solana)}catch{}let n;try{n=await Ro()}catch{}let s;try{s=await zo()}catch{}if(t||r||n||s){let i=await lc.get(e.identifier);for(let c of Qr()){let l={btc:[]};t&&(l.evm=t),r&&(l.sol=r),n&&(l.btc=n),s&&(l.sui=s),c.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:c.origin in i?l:null})}}else for(let i of Qr())i.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:null})}o(Xy,"onAccountChange");async function Jy(e){let t=await Zt(),n=(await ts(fe,pr,t)).find(f=>f.identifier===e.accountId),s=n?.addresses?.find(f=>f.addressType===be.EVM)?.address,i=n?.addresses?.find(f=>f.addressType===be.Solana)?.address,c;try{c=n?La(n):void 0}catch{}let l;try{l=n?En(n):void 0}catch{}if(!s&&!i&&!c&&!l)return;let m={};s&&(m.evm=s),i&&(m.sol=i),c&&(m.btc=c),l&&(m.sui=l);for(let f of Qr())f.origin.toLowerCase()===e.origin.toLowerCase()&&f.send({jsonrpc:"2.0",method:"phantom_trustRevoked",params:m})}o(Jy,"onTrustRevoked");function Qy(){for(let e of Qr())(async()=>{try{await Ih.default.tabs.sendMessage(e.tabId,{jsonrpc:"2.0",method:"phantom_metaMaskOverrideSettingsChanged",params:null})}catch{}})();(async()=>{try{let e=await Zt(),t=await fr(pr);await In(),await Cn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}o(Qy,"onMetaMaskOverrideSettingsChanged");function e1(){(async()=>{try{let e=await Zt(),t=await fr(pr);await In(),await Cn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}o(e1,"onChainAvailabilityChanged");p();d();function Mh(e){switch(e){case"solana:101":return tt.SOLANA_MAINNET;case"solana:102":return tt.SOLANA_TESTNET;case"solana:103":return tt.SOLANA_DEVNET;case"eip155:143":case"eip155:10143":case"eip155:1":case"eip155:11155111":case"eip155:8453":case"eip155:84532":case"eip155:137":case"eip155:80002":return e;default:return Object.values(tt).find(t=>t===e)?e:null}}o(Mh,"blinksNetworkIdAdapter");var Dh=20*1e3,ft=new ve,t1=o(async()=>{await up(),await n1(),an.init({provider:$p}),await zp("background",ro),ft.remove("unencryptedSeedAndMnemonic"),await dp(new ve),r1(),Lh(),await In(),await Cn({enabledChains:(await Zt().catch(()=>({enabledAddressTypes:Lc.getAll()}))).enabledAddressTypes,metamaskOverrideSetting:await fr(ft).catch(()=>cp.enum.ALWAYS_ASK)})},"init");t1().catch(e=>{console.error("w error",e)});async function r1(){if((await et.default.tabs.query({url:et.default.runtime.getURL("onboarding.html")})).length>0)return;let r=await gr.hasPersistedDeviceEncryptionKey(),n=await ft.get(cs);!r&&!n&&(await ft.set(rp.FirstTimeOnboarding,{isFirstTimeOnboarding:!0}),Op({url:"onboarding.html"}),ft.set(cs,!0))}o(r1,"openOnboardingIfNeeded");function n1(){et.default.runtime.onInstalled.addListener(a1),et.default.runtime.onConnect.addListener(d1),et.default.alarms.onAlarm.addListener(l1),et.default.runtime.onMessage.addListener(vc(f1)),et.default.tabs.onRemoved.addListener(p1),et.default.webRequest.onBeforeRequest.addListener(s1,{urls:["http://*/*","https://*/*"]}),et.default.storage.onChanged.addListener(o1)}o(n1,"initializeListeners");async function o1(e,t){if(t!=="local"&&t!=="sync")return;let r=e[sp.ApiEnvironment];r&&kc(r.newValue??(Nn()?Yo.Production:Yo.Staging))}o(o1,"handleStorageChanged");async function s1(e){return e.tabId===et.default.tabs.TAB_ID_NONE?{}:"documentLifecycle"in e&&e.documentLifecycle==="prerender"?{}:((e.type==="main_frame"||e.type==="sub_frame")&&await i1(e.url,e.tabId),{})}o(s1,"handleBeforeRequest");async function i1(e,t){let r=new ve,n=await gp(r,Ce,e);if(!n.result)return;if(n.isSubdomainDomainWhitelisted){let c=await ft.get(Fn.UserWhitelistSubdomains);if(JSON.parse(`${c}`)?.includes(`${n.source}`))return}let s=await ft.get(Fn.UserWhitelistedOrigins);JSON.parse(`${s}`)?.includes(`${n.source}`)||(Ce.capture("phishingBlocklistRedirect",{data:{targetURL:e}}),await et.default.tabs.update(t,{url:`phishing.html?origin=${e}&subdomain=${n.isSubdomainDomainWhitelisted}`}))}o(i1,"detectAndRedirectPhishing");function a1(e){switch(e.reason){case"install":{Ce&&Ce.capture("appInstall");break}case"update":{de.addBreadcrumb(me.StartUp,`Extension updated from ${e.previousVersion} to ${Ec}`,Ne.Debug);break}default:break}}o(a1,"handleInstallAsync");var Oh=o(e=>e.sender?.url===et.default.runtime.getURL("popup.html")||e.sender?.url===et.default.runtime.getURL("notification.html"),"isPopUpOrNotification");async function c1(e){if(!Es()&&Oh(e)){ks(e.sender.url);let t=await ft.get(Fn.LockTimerMs),r=Date.now()+(t??op);de.addBreadcrumb(me.Account,"Lock alarm created",Ne.Debug,{skipFileLogger:!0}),et.default.alarms.create(cn.LockExtension,{when:r})}}o(c1,"handleDisconnect");function p1(e){ks(e)}o(p1,"handleTabRemoved");async function d1(e){if(e.onDisconnect.addListener(c1),Oh(e)&&(Es()?(un(),Ph(uc),mc()):await et.default.alarms.clear(cn.LockExtension)),e.name==="contentscript"){if(e.sender&&e.sender.url&&e.sender.tab&&e.sender.tab.id){let r=e.postMessage.bind(e);e.postMessage=s=>{r(s)},(await Eh(e)).start()}e.postMessage("phantom#background#initialized"),e.onMessage.addListener(r=>{typeof r=="string"&&r==="phantom#ready_to_setup_streams"&&e.postMessage("phantom#background#initialized")})}}o(d1,"handleConnection");function l1(e){if(e.name.startsWith(cn.DeleteStorageValue)){let[t,r]=e.name.split(":");ft.remove(r)}e.name===cn.LockExtension&&(de.addBreadcrumb(me.Account,"Locked by alarm",Ne.Debug),cl(!0),un(),mc())}o(l1,"handleAlarm");async function mc(){await Promise.all([ft.set(ps,!0),Wp("idle")])}o(mc,"notifyExtensionLocked");async function u1(){await ft.set(ps,!1)}o(u1,"notifyExtensionUnlocked");async function m1(e,t){try{let r=await x1.get().catch(()=>[]),n=As(t),{hideProvidersArray:s,dontOverrideWindowEthereum:i}=Ss(n,r);return a.result(e.id,{hideProvidersArray:s,dontOverrideWindowEthereum:i})}catch(r){return de.captureError(r,me.Provider),a.internalError(e.id,r?.message)}}o(m1,"handleProviderInjectionOptionsRequest");async function h1(e){try{if(e.method===Mt.BlinksEnabled){let t=await lp(ft,!1);return a.result(e.id,t)}if(e.method===Mt.BlinksV2Config){let t=await Zt();return a.result(e.id,{supportedBlockchains:t.enabledNetworkIDs.map(Mh).filter(r=>r!=null)})}return a.methodNotFound(e.id)}catch(t){return de.captureError(t,me.Provider),a.internalError(e.id)}}o(h1,"handleBlinksRequest");async function f1(e,t){let r=t.url,n=t.tab?.id;if(r&&e.method==="providerInjectionOptions")return m1(e,r);if(r&&e.method===Mt.BlinksEnabled||e.method===Mt.BlinksV2Config)return h1(e);if(r&&e.method===Mt.BlinksLog){let{event:c,body:l}=e.params;return Ce.capture(c,{data:l}),a.result(e.id,"success")}if(!r||!r.startsWith(eo()))return de.captureMessage(`Unauthorized request from origin: ${Qn(r)}`,me.Generic,Ne.Error),a.result(e.id,`${e.method} not permitted`);if(!Object.values(Vp).includes(e.method))return de.captureMessage("Unauthorized method",me.Generic,Ne.Error),a.result(e.id,`${e.method} not permitted`);switch(e.method){case"hasOnboarded":return il(e);case"resetHasOnboarded":return al(e);case"lockExtension":{let c=ll(e);return Ph(uc),mc(),c}case"unlockExtension":{let c=pl(e);return g1().then(l=>{uc=l}),u1(),c}case"IsExtensionUnlocked":return dl(e);case"setPassword":return ul(e);case"verifyPassword":return ml(e);case"updatePassword":return hl(e);case"importPrivateKeyAccount":return vd(e);case"importReadOnlyAccount":return kd(e);case"importSeedAccount":return Td(e);case"importSocialSeedAccount":return Ed(e);case"isExistingSeed":return Cd(e);case"addAccountForSeed":return Id(e);case"addAccountForSeedless":return Bd(e);case"addLedgerAccounts":return Ld(e);case"exportPrivateKey":return Md(e);case"exportEntropy":return Ud(e);case"setAccountIcon":return Nd(e);case"deriveAddresses":return Dd(e);case"removeAccount":return Od(e);case"reorderAccount":return Pd(e);case"getAllAccounts":return qd(e);case"getAllSeeds":return Hd(e);case"getAllSeedlessSeeds":return Fd(e);case"sign":return $d(e);case"getAuthenticationPublicKey":return Wd(e);case"checkVaultIntegrity":return zd(e);case"getPhantomOrganization":return Zd(e);case"getKmsAccounts":return tl(e);case"getOrCreatePhantomOrganization":return Xd(e);case"RetrieveKMSWallet":return Jd(e);case"GetKMSWalletStatus":return Qd(e);case"addUserToCurrentUserOrganization":return el(e);case"deleteUserFromOrganization":return Yd(e);case"getWalletWithTag":return rl(e);case"updateUserInOrganization":return nl(e);case"getAccounts":return ol(e);case"logMessage":return fl(e);case"downloadLogs":return gl(e);case"serviceWorkerMutexAcquire":return jd(e,n??r);case"serviceWorkerMutexRelease":return Kd(e)}return a.methodNotFound(e.id)}o(f1,"handleMessage");var uc,Uh=(0,Nh.default)(async()=>await et.default.storage.local.set({"last-sw-ping":new Date().getTime()}),Dh);async function g1(){return await Uh(),setInterval(Uh,Dh)}o(g1,"startSwPing");async function Ph(e){clearInterval(e)}o(Ph,"stopSwPing");var y1=60*10*1e3,x1=new mo(new ve,y1,()=>_s().catch(e=>(de.captureError(e,me.Provider),[])),"phantomwallet-dApps-list");export{x1 as dAppsListCache};
/*! Bundled license information:

apg-js/dist/apg-lib-bundle.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=serviceWorker.js.map
