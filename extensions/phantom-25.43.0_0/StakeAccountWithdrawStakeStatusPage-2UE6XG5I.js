import{a as U}from"./chunk-TBFMLJLQ.js";import{a as A}from"./chunk-TCCWLNBV.js";import{d as K}from"./chunk-TFRCNF4E.js";import{e as M,f as V,g as Q}from"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import"./chunk-TQE77AJX.js";import"./chunk-RNES5QWV.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import{b as f}from"./chunk-RCXDI445.js";import"./chunk-GWKXKPCT.js";import{db as h}from"./chunk-FMF67RFP.js";import{V as B,ga as F}from"./chunk-TQDE7426.js";import"./chunk-5RCV3KPE.js";import"./chunk-34JK5YK5.js";import"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import{rb as O,s as N}from"./chunk-COS4XKZ5.js";import{ib as z,jb as v,t as H,u as _}from"./chunk-IJLITZAC.js";import{Pb as W,X as L,_ as I,w as m}from"./chunk-GSVPXWLR.js";import"./chunk-P42QO3R7.js";import{V as w,a as R,r as P}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as C,g as $,i as b,n as x}from"./chunk-NSVULBS3.js";b();x();var t=$(R(),1);var tt=C(r=>{let s={stakePubkey:r.stakeAccountPubkey,amount:r.amount,usdPerSol:r.usdPerSol,onClose:r.onClose},{t:e}=P(),{withdrawStake:c,needsLedgerApproval:d,txHash:n,confirmationStatus:i,isError:l,error:u,onDeny:a}=et(s);if(d)return t.default.createElement(V,{ledgerAction:c,cancel:a});if(l){let o=u,k=o?.message,S=M(o),g=o?.message.includes(_),D=o?.message.includes(H);return S?t.default.createElement(Q,{ledgerActionError:o,onRetryClick:c,onCancelClick:a}):g||D?t.default.createElement(U,{onCancelClick:a}):t.default.createElement(f,{icon:"error",title:e("stakeAccountWithdrawStakeWithdrawalFailed"),onClose:a,showButton:!!n},t.default.createElement(h,{wordBreak:"break-word",color:w.colors.legacy.textDiminished,size:16,lineHeight:20.8},k??e("stakeAccountWithdrawStakeWithdrawalFailedDescription")),t.default.createElement(A,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction")))}return i==="confirmed"||i==="finalized"?t.default.createElement(f,{icon:"success",title:e("stakeAccountWithdrawStakeSolWithdrawn"),onClose:r.onClose,iconSize:"large"},t.default.createElement(h,{wordBreak:"break-word",color:w.colors.legacy.textDiminished,size:16,lineHeight:20.8},e("stakeAccountWithdrawStakeSolWithdrawnDescription.part1"),t.default.createElement("br",null)," ",e("stakeAccountWithdrawStakeSolWithdrawnDescription.part2")),t.default.createElement(A,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction"))):t.default.createElement(f,{icon:"loading",title:e("stakeAccountWithdrawStakeWithdrawingSol"),onClose:r.onClose,iconSize:"large"},t.default.createElement(h,{wordBreak:"break-word",color:w.colors.legacy.textDiminished,size:16,lineHeight:20.8},e("stakeAccountWithdrawStakeWithdrawingSolDescription")),t.default.createElement(A,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction")))},"StakeAccountWithdrawStakeStatusPage"),gt=tt,et=C(({onClose:r,...s})=>{let{data:e,isSuccess:c}=O(),{accountIdentifier:d,isLedgerAccount:n,solanaChainAddress:i,solanaPublicKey:l,connection:u,networkID:a}=(0,t.useMemo)(()=>{let G=e?.identifier??"",y=(e?.addresses??[]).find(Z=>W.isSolanaNetworkID(Z.networkID)),J=new m.PublicKey(y?.address??""),X=e?.type===N.Ledger,E=y?.networkID,Y=z(v(E));return{accountIdentifier:G,isLedgerAccount:X,solanaChainAddress:y,solanaPublicKey:J,connection:Y,networkID:E}},[e]),o=K(u),k=(0,t.useCallback)(()=>{o.mutate({...s,accountIdentifier:d,senderAddress:i,stakePubkey:new m.PublicKey(s.stakePubkey),authorizedPubkey:l})},[d,s,i,l,o]),S=B(),g=(0,t.useCallback)(()=>{S.denied({chainType:L.Solana,chainName:I.Solana,networkId:W.getSolanaNetworkIDValue(a),type:"withdraw"}),r()},[a,r,S]);(0,t.useEffect)(()=>{if(c){if(!e||!i)throw new Error("Selected account undefined when trying to perform stake transaction.");n||k()}},[c]);let T=o.data?.id,p=F(u,2e3,T),j=n&&(o.isIdle||o.isPending),q=p.data?.value?.confirmationStatus;return{withdrawStake:k,onDeny:g,needsLedgerApproval:j,txHash:T,confirmationStatus:q,isError:o.isError||p.isError,error:o.error||p.error}},"useWithdrawStakeOnMount");export{tt as StakeAccountWithdrawStakeStatusPage,gt as default};
//# sourceMappingURL=StakeAccountWithdrawStakeStatusPage-2UE6XG5I.js.map
