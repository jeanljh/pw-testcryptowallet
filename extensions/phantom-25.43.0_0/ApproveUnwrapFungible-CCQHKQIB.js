import{a as re}from"./chunk-3EES3B5S.js";import"./chunk-FYHA5XUW.js";import"./chunk-PLSIE3Z6.js";import{a as se}from"./chunk-GHLGNLW6.js";import{E as ne,Ia as ie}from"./chunk-53EKYYOD.js";import"./chunk-TJGCGL4J.js";import"./chunk-W7HWP67X.js";import"./chunk-BO5X4B7T.js";import{s as ae}from"./chunk-PRM4QCVC.js";import"./chunk-22S374UP.js";import"./chunk-YCV6CTZK.js";import"./chunk-P3VWKB2X.js";import"./chunk-TCCWLNBV.js";import"./chunk-TFRCNF4E.js";import"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-YEESR7EU.js";import"./chunk-T5IRHW4Y.js";import"./chunk-I3QHDDEG.js";import{a as b}from"./chunk-PQNSQOE2.js";import{j as te,o as oe}from"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import"./chunk-TQE77AJX.js";import"./chunk-UFN6RPHX.js";import"./chunk-XSN3P2VT.js";import"./chunk-RNES5QWV.js";import"./chunk-5JE2EH74.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-IWYOR6BJ.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import"./chunk-VGIRFM65.js";import"./chunk-E5SPQ6GD.js";import"./chunk-RCXDI445.js";import"./chunk-6DKZGOGT.js";import{d as R}from"./chunk-GWKXKPCT.js";import{c as _,db as ee,m as f}from"./chunk-FMF67RFP.js";import"./chunk-44NW6BSR.js";import"./chunk-CHXPHGEW.js";import"./chunk-3JCRVFH6.js";import"./chunk-UHG6ISVN.js";import"./chunk-EVXXECVZ.js";import"./chunk-TQDE7426.js";import{D as K,F as Q,G as W,H as X,Ya as Y,bb as Z,q as J}from"./chunk-5RCV3KPE.js";import"./chunk-X5YMBRTT.js";import"./chunk-34JK5YK5.js";import"./chunk-CM4ZFCT2.js";import"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import{jc as z,rb as L}from"./chunk-COS4XKZ5.js";import{ia as q,k as j}from"./chunk-IJLITZAC.js";import{Pb as F,Rb as B,X as I}from"./chunk-GSVPXWLR.js";import{G as H}from"./chunk-P42QO3R7.js";import{V as i,a as Fe,e as V,oa as O,r as $}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as w,g as he,i as G,n as M}from"./chunk-NSVULBS3.js";G();M();var e=he(Fe(),1);var Ee=f(b).attrs({align:"center"})`
  height: 100%;
`,ke=f(b).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,Ue=f(b).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,ve=f(ee).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,xe=w((n,t)=>{let{status:m,data:s}=K({networkID:n}),[o,d]=(0,e.useState)(j.standard),{popDetailView:a,pushDetailView:p}=te(),S;return m!=="error"&&s&&o&&t&&(S=w(()=>{p(e.default.createElement(se,{onSelectTransactionSpeed:d,selectedTransactionSpeed:o,networkID:n,transactionUnitAmount:t,closeModal:a}))},"openGasSettings")),{transactionSpeed:o,openGasSettings:S}},"useUnwrapGasSettings"),De=w(n=>{let{t}=$(),m=_(),{handleHideModalVisibility:s}=ie(),{chain:o,tokenAddress:d,balance:a,symbol:p,logoUri:S,walletAddress:me}=n.data,r=o.id,E=F.getNetworkName(r),{data:pe}=L(),ce=pe?.addresses??[],{data:l}=z({networkID:r,address:me}),u=(0,e.useMemo)(()=>({pageHeaderText:t("unwrapFungibleConfirmSwap"),swapTitle:t("unwrapFungibleConfirmSwapTitle",{fromToken:p,toToken:o.symbol}),networkFeeText:t("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:t("networkFeesTooltipDescription",{chainName:E}),confirmSwap:t("commandSwap"),cancelSwap:t("commandClose")}),[o.symbol,E,p,t]),{data:y,isPending:de}=J({amount:a,caip19:{chainId:r,resourceType:B.address,address:d??""},owner:l?.address??""}),c=(0,e.useMemo)(()=>y&&l?H.parse({to:y.to,from:l.address??"",data:y.data}):void 0,[y,l]),k=(0,e.useMemo)(()=>c?{type:I.EVM,networkID:r,unsignedTransaction:c}:void 0,[r,c]),{data:le}=Q(k),{transactionSpeed:ue,openGasSettings:U}=xe(r,le),{data:g,isFetched:v,isError:x,isSuccess:ge}=W({networkID:r,transactionSpeed:ue,multichainTransaction:k,queryOptions:{refetchInterval:!1}}),{data:D}=X(r,g),we=D?.gasEstimationPriceUSD?t("gasUpTo",{amount:D?.gasEstimationPriceUSD}):void 0,fe=q(g),h=we??fe??"",{hasSufficientFunds:A,nativeTokenSymbol:C}=Y({networkID:r,addressType:l?.addressType,gasEstimation:g,transactionValue:new V(a??"0",16)}),P=v&&!ge,T=(0,e.useMemo)(()=>x?t("transactionGasLimitError"):P?t("transactionGasEstimationError"):A==="insufficient"?t("transactionNotEnoughNative",{nativeTokenSymbol:C}):"",[x,P,A,t,C]),Se=(0,e.useMemo)(()=>[{label:t("commandSend"),value:`+${a} ${o.symbol}`,color:i.colors.legacy.spotPositive},{label:t("commandReceive"),value:`-${a} ${p}`,color:i.colors.legacy.spotNegative},{label:u.networkFeeText,onClick:U,value:h.length>0?h:e.default.createElement(ae,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:i.colors.legacy.borderDiminished}),color:T?i.colors.legacy.spotNegative:i.colors.legacy.textBase,leftSubtext:T,subtextColor:i.colors.legacy.spotNegative,tooltipContent:u.networkFeeTextDescription}],[a,o.symbol,u.networkFeeText,u.networkFeeTextDescription,h,T,U,p,t]),{mutateAsync:N,isPending:ye}=Z(ce),Te=(0,e.useCallback)(()=>{N({fungible:n,unsignedUnwrapTx:c,gasEstimation:g}),s("approveUnwrapFungible"),m("/notifications")},[n,g,s,m,c,N]),be=(0,e.useCallback)(()=>{s("approveUnwrapFungible")},[s]);return{isLoading:de||!v,isSwapDisabled:ye||!c||!!T,logoUri:S,summaryRows:Se,i18nStrings:u,onConfirmSwap:Te,onDenySwap:be}},"useApproveUnwrapEVMFungibleProps"),Ae=w(({fungible:n})=>{if(F.isEthereumNetworkID(n.data.chain.id)){let t=De(n);return e.default.createElement(Ce,{...t})}throw new Error(`Unwrap fungible not supported for chain: ${n.data.chain.id}`)},"ApproveUnwrapFungible"),nt=Ae,Ce=e.default.memo(({isLoading:n,isSwapDisabled:t,logoUri:m,summaryRows:s,i18nStrings:o,onConfirmSwap:d,onDenySwap:a})=>e.default.createElement(Ee,null,e.default.createElement(oe,null,o.pageHeaderText),e.default.createElement(ke,null,e.default.createElement(Ue,null,e.default.createElement(ne,{image:{type:"icon",preset:"swap"},size:64,badge:{src:m??""}}),e.default.createElement(ve,null,o.swapTitle)),e.default.createElement(re,{rows:s,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),e.default.createElement(O,{mode:"wait",initial:!1},e.default.createElement(R,{primaryText:o.confirmSwap,secondaryText:o.cancelSwap,primaryDisabled:n||t,onPrimaryClicked:d,onSecondaryClicked:a})))));export{nt as default};
//# sourceMappingURL=ApproveUnwrapFungible-CCQHKQIB.js.map
