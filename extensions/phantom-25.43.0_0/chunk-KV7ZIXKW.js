import{a as F}from"./chunk-6V6WKLAT.js";import{a as pe}from"./chunk-BN5KCRRG.js";import{E as $,Ga as Ce,Ia as be,l as he,m as ue,wa as xe,za as Se}from"./chunk-53EKYYOD.js";import{s as M}from"./chunk-PRM4QCVC.js";import{j as ge}from"./chunk-F74QCQCY.js";import{a as ye,b as fe}from"./chunk-TQE77AJX.js";import{m as B}from"./chunk-FMF67RFP.js";import{Gb as de,Hb as me}from"./chunk-44NW6BSR.js";import{a as ce}from"./chunk-CHXPHGEW.js";import{A as le}from"./chunk-5RCV3KPE.js";import{rb as re}from"./chunk-COS4XKZ5.js";import{Pd as J}from"./chunk-IJLITZAC.js";import{$c as oe,Wb as W}from"./chunk-GSVPXWLR.js";import{Ga as V,T as p,V as b,X as ie,a as j,ca as ae,ga as X,ja as h,r as ne,sa as P,ta as se}from"./chunk-LYTSCHVN.js";import{a as c,g as q,i as L,n as A}from"./chunk-NSVULBS3.js";L();A();var t=q(j(),1);L();A();var a=q(j());L();A();var T=q(j(),1);var Ie=c(e=>{if(typeof e=="number")return e;switch(e??"small"){case"normal":return 48;case"small":return 32;case"xsmall":return 24;case"xxsmall":return 16}},"sizeToPx"),ze=c(e=>{switch(e){case"square":return 6;case"circle":default:return 0}},"shapeToBorderRadius"),qe=B.div`
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  align-items: center;
  justify-content: center;
  background-color: ${e=>ye(e.color,e.alpha??.1)};
`,O=c(({src:e,fallback:o,alt:r,size:n="normal",shape:i="circle",style:d,onDragStart:u})=>{let g=o??T.default.createElement(je,null,"?"),m=Ie(n),x=Ie(n),I=ze(i);return i==="circle"?T.default.createElement(fe,{color:b.colors.legacy.areaBase,diameter:m,style:d},T.default.createElement(X,{src:e,fallback:g,alt:r||void 0,width:m,height:x,borderRadius:I,onDragStart:u,loader:T.default.createElement(M,{borderRadius:`${I}px`,width:`${m}px`,height:`${x}px`})})):T.default.createElement(qe,{color:b.colors.legacy.areaBase,width:m,height:x,style:d},T.default.createElement(X,{src:e,fallback:g,alt:r||"",width:m,height:x,borderRadius:I,onDragStart:u,loader:T.default.createElement(M,{borderRadius:`${I}px`,width:`${m}px`,height:`${x}px`})}))},"ShapedImage"),je=B.div`
  font-size: 22px;
  line-height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
`;var We=c(({item:e,index:o,onClick:r})=>{let n=e.type==="token"?e.data.data.symbol:e.type==="perp"?e.data.data.name:e.data.name,i=(0,a.useCallback)(g=>{g.preventDefault()},[]),d=e.type==="token"?a.default.createElement($,{image:{type:"fungible",src:e.data.data.logoUri,fallback:e.data.data.symbol??""},tokenType:e.data.type,chainMeta:e.data.data.chain,size:36}):e.type==="dapp"?a.default.createElement(O,{src:e.data.imageUrl,size:36,shape:"square",onDragStart:i}):e.type==="category"?a.default.createElement(V,{src:e.data.imageUri,size:36,backgroundColor:"elementAccent",shape:"square",onDragStart:i}):null,u=(0,a.useCallback)(()=>{r(o,e)},[o,r,e]);return a.default.createElement("div",{className:z.buttonContainer},a.default.createElement("div",{className:z.button,onClick:u},d,a.default.createElement(h,{className:z.text,color:"white",children:n??""})))},"PillButton"),ke=c(({items:e,onClick:o})=>{let r=se(0),n=(0,a.useRef)(null),[i,d]=(0,a.useState)(0),u=(0,a.useMemo)(()=>{let g=self.innerWidth-i;return Math.min(0,g)},[i]);return(0,a.useEffect)(()=>{n.current&&d(n.current.scrollWidth)},[e]),a.default.createElement(ae,{overflow:"hidden"},a.default.createElement(P.div,{ref:n},a.default.createElement(P.div,{className:z.scrollView,style:{x:r},drag:"x",dragConstraints:{left:u,right:0}},e.map((g,m)=>a.default.createElement(We,{key:m,item:g,index:m,onClick:o})))))},"RecentlyViewedSearchItemRow"),z={scrollView:p({paddingTop:8,display:"flex",flexDirection:"row",paddingLeft:8}),buttonContainer:p({paddingRight:10}),button:p({display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:{base:"elementBase",hover:"elementAccent"},cursor:"pointer",borderRadius:12,paddingX:6,paddingY:6,height:48}),text:p({font:"body",color:"white",paddingLeft:6,whiteSpace:"nowrap"})};var Xe=B.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: solid 1px;
  width: 100%;
  padding: 10px 0;
  padding-right: 16px;
  flex: 1;
  overflow: hidden;
  border-color: ${e=>e.isLast?b.colors.legacy.areaBase:b.colors.legacy.borderDiminished};
`,v={searchResultsContainer:p({marginTop:16,width:"100%"}),searchResultsHeaderContainer:p({paddingX:16,paddingY:4,display:"flex",alignItems:"center",justifyContent:"space-between"}),searchResult:p({display:"flex",alignItems:"center",paddingLeft:16,gap:16,height:56,maxHeight:56,cursor:"pointer",width:"100%",maxWidth:"100%"}),searchResultTextContainer:p({display:"flex",flexDirection:"column",minWidth:0,flex:1,marginRight:8}),hover:p({cursor:"pointer"}),picturePlaceholder:p({borderRadius:6,height:32,width:32}),noResultsContainer:p({position:"absolute",top:64,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:56}),tokenSecondaryContainer:p({display:"flex",gap:4,alignItems:"center"}),dotContainer:p({display:"flex",justifyContent:"center",alignItems:"center",width:8}),dot:p({backgroundColor:"textDiminished",width:4,height:4,borderRadius:"circle"}),secondaryAction:p({display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:10,padding:6})},we=c((e,o,{priceMap:r,isPriceMapLoading:n,isReadOnlyAccount:i,entryPoint:d,navigateToSwapper:u,handleHideModalVisibility:g,addRecentlySearchedItem:m,dappsItems:x,pushDetailView:I})=>{let s=W(J(e)),k=r[s],R=k?.price,N=R!==void 0,y=k?.usd_24h_change,S=y!==void 0,D=N||S;return{type:"generic",key:s,"data-testid":`search-result-token-${e.data.symbol}`,image:t.default.createElement($,{image:{type:"fungible",src:e.data.logoUri,fallback:e.data.symbol??""},tokenType:e.type,chainMeta:e.data.chain,size:32}),textMain:t.default.createElement(he,{children:ce(e.data.name||"",25),spamStatus:e.data.spamStatus||null,font:"body"}),textDiminished:t.default.createElement("div",{className:v.tokenSecondaryContainer},t.default.createElement(h,{children:e.data.symbol||"",font:"caption",color:"textDiminished"}),n?t.default.createElement(t.default.Fragment,null,t.default.createElement(M,{width:"36px",height:"14px",borderRadius:"8px"}),t.default.createElement(M,{width:"48px",height:"14px",borderRadius:"8px"})):t.default.createElement(t.default.Fragment,null,D?t.default.createElement("div",{className:v.dotContainer},t.default.createElement("div",{className:v.dot})):null,N?t.default.createElement(ue,{value:R,font:"caption",color:"textDiminished"}):null,S?t.default.createElement(h,{children:`${le(y,{includePlusPrefix:!0})}%`,font:"caption",color:y>=0?"spotPositive":"spotNegative",truncate:"ellipsis"}):null)),secondaryAction:i?void 0:{icon:t.default.createElement(ie.Swap,null),onClick:c(w=>{w.stopPropagation(),u({buyFungibleCaip19:s}),d==="home"&&setTimeout(()=>{g("searchPage")},50)},"onClick")},onClick:c(async()=>{Le({addRecentlySearchedItem:m,token:e,position:x.length+o+1,entryPoint:d,handleHideModalVisibility:g,pushDetailView:I})},"onClick")}},"mapTokenToSearchListItem"),Bt=c(({searchedDapps:e,tokens:o,trendingTokens:r,priceMap:n,isPriceMapLoading:i,showMoreDapps:d,setShowMoreDapps:u,renderShowMoreDappsButton:g,showMoreTokens:m,setShowMoreTokens:x,renderShowMoreTokensButton:I,entryPoint:s,recentlyViewedSearchItems:k=[],searchQuery:R,categories:N})=>{let{t:y}=ne(),{pushDetailView:S}=ge(),D=Se(),{handleHideModalVisibility:w}=be(),G=s==="home",Y=oe(),{mutate:C}=de(Y),{mutate:_}=me(Y),{data:Ae}=re(),U=!!Ae?.isReadOnly,E=(0,t.useMemo)(()=>e.map((l,f)=>({type:"generic",key:l.id,"data-testid":`search-result-dapp-${l.name}`,image:t.default.createElement(O,{src:l.imageUrl,size:"small",shape:"square"}),textMain:t.default.createElement(h,{children:l.name,font:"body"}),textDiminished:t.default.createElement(h,{children:l.category||"",font:"caption",color:"textDiminished"}),onClick:c(async()=>{De({addRecentlySearchedItem:C,dapp:l,position:f+1,entryPoint:s})},"onClick")})),[e,C,s]),Q=(0,t.useMemo)(()=>o.map((l,f)=>we(l,f,{priceMap:n,isPriceMapLoading:i,isReadOnlyAccount:U,entryPoint:s,navigateToSwapper:D,handleHideModalVisibility:w,addRecentlySearchedItem:C,dappsItems:E,pushDetailView:S})),[o,n,i,U,s,D,w,C,E,S]),K=(0,t.useMemo)(()=>r.map((l,f)=>we(l,f,{priceMap:n,isPriceMapLoading:i,isReadOnlyAccount:U,entryPoint:s,navigateToSwapper:D,handleHideModalVisibility:w,addRecentlySearchedItem:C,dappsItems:E,pushDetailView:S})),[r,n,i,U,s,D,w,C,E,S]),Z=(0,t.useMemo)(()=>(N||[]).map((l,f)=>({type:"generic",key:l.id,"data-testid":`search-result-category-${l.name}`,image:t.default.createElement(V,{src:l.imageUri,size:32,backgroundColor:"elementAccent",shape:"square"}),textMain:t.default.createElement(h,{children:l.name,font:"body"}),textDiminished:t.default.createElement(h,{children:y("fungibleCategoriesNumTokens",{numTokens:l.numTokens}),font:"caption",color:"textDiminished"}),onClick:c(()=>{Ee({addRecentlySearchedItem:C,category:l,index:f,entryPoint:s,pushDetailView:S})},"onClick")})),[N,y,S,C,s]),Me=(0,t.useMemo)(()=>({type:"recentSearchItems",key:"recentSearchItems",items:k,onClick:c(async(l,f)=>{if(f.type==="token")Le({addRecentlySearchedItem:C,token:f.data,position:l,entryPoint:s,handleHideModalVisibility:w,pushDetailView:S});else if(f.type==="dapp")De({addRecentlySearchedItem:C,dapp:f.data,position:l,entryPoint:s});else if(f.type==="category")Ee({addRecentlySearchedItem:C,category:f.data,index:l,entryPoint:s,pushDetailView:S});else throw new Error("Unknown item type")},"onClick")}),[C,w,s,S,k]),Re=k.length?y("commandClear"):void 0,Ne=(0,t.useCallback)(()=>{_()},[_]),Pe=I?y(m?"exploreShowLess":"exploreShowMore"):void 0,Be=(0,t.useCallback)(()=>{x(!m)},[x,m]),He=g?y(d?"exploreShowLess":"exploreShowMore"):void 0,Ue=(0,t.useCallback)(()=>{u(!d)},[u,d]);if(!e.length&&!o.length)return t.default.createElement("div",{className:v.noResultsContainer,"data-testid":"explore-search-results-nodata"},t.default.createElement(h,{children:y("searchNoResultsFound"),font:"bodyMedium",color:"textDiminished"}));let ee=R==null||R.length===0,Ve=k.length&&ee?t.default.createElement(H,{testId:"explore-search-results",title:t.default.createElement(h,{children:y("dAppBrowserRecents"),font:"title1Semibold"}),items:[Me],accessoryText:Re,accessoryOnPress:Ne}):null,$e=Z.length?t.default.createElement(H,{testId:"explore-search-results-categories",title:t.default.createElement(h,{children:y("exploreCategories"),font:"title1Semibold"}),items:Z}):null,te=E.length?t.default.createElement(H,{testId:"explore-search-results",title:t.default.createElement(h,{children:y("exploreSites"),font:"title1Semibold"}),items:E,accessoryText:He,accessoryOnPress:Ue}):null,Fe=Q.length?t.default.createElement(H,{testId:"explore-search-results",title:t.default.createElement(h,{children:y("exploreTokens"),font:"title1Semibold"}),items:Q,accessoryText:Pe,accessoryOnPress:Be}):null,Oe=ee&&K.length?t.default.createElement(H,{testId:"explore-search-results",title:t.default.createElement(h,{children:y("exploreTrendingTokens"),font:"title1Semibold"}),items:K}):null;return t.default.createElement(t.default.Fragment,null,Ve,G?void 0:te,Oe,Fe,$e,G?te:void 0)},"ExploreSearchResults"),Te=c(({hoverColor:e,baseColor:o,...r})=>t.default.createElement(P.div,{...r,whileHover:{background:e},style:{background:o},transition:{ease:[.5,1,.89,1],duration:.1}}),"AnimatedBackgroundChangeDiv"),H=c(({items:e,title:o,testId:r,accessoryText:n,accessoryOnPress:i})=>t.default.createElement("div",{className:v.searchResultsContainer,"data-testid":r},t.default.createElement("div",{className:v.searchResultsHeaderContainer},o,n?t.default.createElement(h,{className:v.hover,children:n,font:"caption",color:"textDiminished",onPress:i}):null),e.map((d,u)=>t.default.createElement(Je,{...d,isLast:u===e.length-1}))),"SearchResultsContent"),Je=c(e=>{let[o,r]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1);if(e.type==="recentSearchItems")return t.default.createElement(ke,{items:e.items,onClick:e.onClick});let{onClick:u,image:g,isLast:m,textMain:x,textDiminished:I,secondaryAction:s,"data-testid":k}=e;return t.default.createElement(Te,{className:v.searchResult,onClick:u,"data-testid":k,baseColor:b.colors.legacy.areaBase,hoverColor:n?b.colors.legacy.areaBase:b.colors.legacy.elementAccent,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},t.default.createElement("div",null,g),t.default.createElement(Xe,{isLast:m},t.default.createElement("div",{className:v.searchResultTextContainer},x,I),s?t.default.createElement(Te,{className:v.secondaryAction,onClick:s.onClick,baseColor:o?b.colors.legacy.borderBase:b.colors.legacy.elementAccent,hoverColor:b.colors.legacy.borderBase,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},s.icon):null))},"SearchResultItem");function De({addRecentlySearchedItem:e,dapp:o,position:r,entryPoint:n}){e({type:"dapp",data:o}),self.open(pe(o.domain).origin),F.searchItemClickedByUser({itemDetails:{position:r,title:o.name,id:o.id,type:"site",uiContext:n}})}c(De,"dappSelected");function Le({addRecentlySearchedItem:e,token:o,position:r,entryPoint:n,pushDetailView:i}){let d=W(J(o));F.searchItemClickedByUser({itemDetails:{position:r,title:o.data.name||o.data.symbol||d,id:d,type:"token",uiContext:n}}),i(t.default.createElement(Ce,{caip19:d,title:o.data.name??void 0,entryPoint:"exploreSearch"})),e({type:"token",data:o})}c(Le,"tokenSelected");function Ee({addRecentlySearchedItem:e,category:o,pushDetailView:r,index:n,entryPoint:i}){r(t.default.createElement(xe,{category:o})),F.onExploreListItemClickedByUser({datasourceId:"",listName:"token-categories",context:i,itemDetails:{position:n,title:o.name,id:o.id}}),e({type:"category",data:o})}c(Ee,"categorySelected");export{Bt as a};
//# sourceMappingURL=chunk-KV7ZIXKW.js.map
