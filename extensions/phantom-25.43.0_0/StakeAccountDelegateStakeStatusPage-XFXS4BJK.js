import{a as j}from"./chunk-TBFMLJLQ.js";import{a as D}from"./chunk-TCCWLNBV.js";import{c as V}from"./chunk-TFRCNF4E.js";import{e as Q,f as U,g as Y}from"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import"./chunk-TQE77AJX.js";import"./chunk-RNES5QWV.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import{b as A}from"./chunk-RCXDI445.js";import"./chunk-GWKXKPCT.js";import{db as f}from"./chunk-FMF67RFP.js";import{V as F,ga as M,v as z}from"./chunk-TQDE7426.js";import"./chunk-5RCV3KPE.js";import"./chunk-34JK5YK5.js";import"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import{rb as O,s as v}from"./chunk-COS4XKZ5.js";import{ib as K,jb as B,t as H,u as _}from"./chunk-IJLITZAC.js";import{Pb as C,X as P,_ as I,w as l}from"./chunk-GSVPXWLR.js";import"./chunk-P42QO3R7.js";import{V as m,a as ee,r as N}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as w,g as R,i as L,n as E}from"./chunk-NSVULBS3.js";L();E();var e=R(ee(),1);var te=w(n=>{let i={stakePubkey:n.stakeAccountPubkey,votePubkey:n.voteAccountPubkey,onClose:n.onClose},{t}=N(),{delegateStake:s,onDeny:r,needsLedgerApproval:u,txHash:a,confirmationStatus:c,isError:k,error:d}=oe(i);if(u)return e.default.createElement(U,{ledgerAction:s,cancel:r});if(k){let o=d,S=o?.message,g=Q(o),p=o?.message.includes(_),T=o?.message.includes(H);return g?e.default.createElement(Y,{ledgerActionError:o,onRetryClick:s,onCancelClick:r}):p||T?e.default.createElement(j,{onCancelClick:r}):e.default.createElement(A,{icon:"error",title:t("stakeAccountDelegateStakeStakingFailed"),onClose:r,showButton:!!a,iconSize:"large"},e.default.createElement(f,{wordBreak:"break-word",color:m.colors.legacy.textDiminished,size:16,lineHeight:20.8},S??t("stakeAccountDelegateStakeStakingFailedDescription")),e.default.createElement(D,{txHash:a},t("stakeAccountDelegateStakeViewTransaction")))}return c==="confirmed"||c==="finalized"?e.default.createElement(A,{icon:"success",title:t("stakeAccountDelegateStakeSolStaked"),onClose:n.onClose,iconSize:"large"},e.default.createElement(f,{wordBreak:"break-word",color:m.colors.legacy.textDiminished,size:16,lineHeight:20.8},e.default.createElement(z,{i18nKey:"stakeAccountDelegateStakeSolStakedDescriptionInterpolated"},"Your SOL will begin earning rewards",e.default.createElement("br",null)," in the next couple of days once the stake account becomes active.")),e.default.createElement(D,{txHash:a},t("stakeAccountDelegateStakeViewTransaction"))):e.default.createElement(A,{icon:"loading",title:t("stakeAccountDelegateStakeStakingSol"),onClose:n.onClose,iconSize:"large"},e.default.createElement(f,{wordBreak:"break-word",color:m.colors.legacy.textDiminished,size:16,lineHeight:20.8},t("stakeAccountDelegateStakeStakingSolDescription")),e.default.createElement(D,{txHash:a},t("stakeAccountDelegateStakeViewTransaction")))},"StakeAccountDelegateStakeStatusPage"),he=te,oe=w(({onClose:n,...i})=>{let{data:t,isSuccess:s}=O(),{accountIdentifier:r,isLedgerAccount:u,solanaChainAddress:a,solanaPublicKey:c,connection:k,networkID:d}=(0,e.useMemo)(()=>{let J=t?.identifier??"",h=(t?.addresses??[]).find($=>C.isSolanaNetworkID($.networkID)),W=new l.PublicKey(h?.address??""),X=t?.type===v.Ledger,x=h?.networkID,Z=K(B(x));return{accountIdentifier:J,isLedgerAccount:X,solanaChainAddress:h,solanaPublicKey:W,connection:Z,networkID:x}},[t]),o=V(k),S=(0,e.useCallback)(()=>{o.mutate({...i,accountIdentifier:r,senderAddress:a,stakePubkey:new l.PublicKey(i.stakePubkey),authorizedPubkey:c,votePubkey:new l.PublicKey(i.votePubkey)})},[r,i,o,a,c]),g=F(),p=(0,e.useCallback)(()=>{g.denied({chainType:P.Solana,chainName:I.Solana,networkId:C.getSolanaNetworkIDValue(d),type:"delegate"}),n()},[d,n,g]);(0,e.useEffect)(()=>{s&&!u&&S()},[s]);let b=o.data?.id,y=M(k,2e3,b),q=u&&(o.isIdle||o.isPending),G=y.data?.value?.confirmationStatus;return{delegateStake:S,onDeny:p,needsLedgerApproval:q,txHash:b,confirmationStatus:G,isError:o.isError||y.isError,error:o.error||y.error}},"useDelegateStakeOnMount");export{te as StakeAccountDelegateStakeStatusPage,he as default};
//# sourceMappingURL=StakeAccountDelegateStakeStatusPage-XFXS4BJK.js.map
