import{a as O}from"./chunk-BJKFGSXK.js";import{b as Q,c as Pe}from"./chunk-3EES3B5S.js";import"./chunk-FYHA5XUW.js";import{a as U}from"./chunk-4X6Z5N6K.js";import{a as Re}from"./chunk-PIQUGS32.js";import"./chunk-PLSIE3Z6.js";import"./chunk-ZJ2XKLPM.js";import{F as w,Ga as Se,Ia as _e,za as xe}from"./chunk-53EKYYOD.js";import"./chunk-TJGCGL4J.js";import"./chunk-W7HWP67X.js";import"./chunk-BO5X4B7T.js";import"./chunk-PRM4QCVC.js";import"./chunk-22S374UP.js";import"./chunk-YCV6CTZK.js";import"./chunk-P3VWKB2X.js";import"./chunk-TCCWLNBV.js";import"./chunk-TFRCNF4E.js";import"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-YEESR7EU.js";import"./chunk-T5IRHW4Y.js";import"./chunk-I3QHDDEG.js";import"./chunk-PQNSQOE2.js";import{j as Ie}from"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import"./chunk-TQE77AJX.js";import{a as Ne}from"./chunk-UFN6RPHX.js";import"./chunk-XSN3P2VT.js";import"./chunk-RNES5QWV.js";import"./chunk-5JE2EH74.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-IWYOR6BJ.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import"./chunk-VGIRFM65.js";import"./chunk-E5SPQ6GD.js";import"./chunk-RCXDI445.js";import"./chunk-6DKZGOGT.js";import{c as J}from"./chunk-GWKXKPCT.js";import{db as Ee,m as B}from"./chunk-FMF67RFP.js";import{p as g,r as f,s as j,t as G,w as S,x as q,z as Le}from"./chunk-44NW6BSR.js";import"./chunk-CHXPHGEW.js";import"./chunk-3JCRVFH6.js";import"./chunk-UHG6ISVN.js";import"./chunk-EVXXECVZ.js";import"./chunk-TQDE7426.js";import"./chunk-5RCV3KPE.js";import"./chunk-X5YMBRTT.js";import{b as fe}from"./chunk-34JK5YK5.js";import{b as we}from"./chunk-CM4ZFCT2.js";import{ba as Ae,f as De,h as be,la as ge,o as he}from"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import{E as W,G as ve,H as _,rb as Ce}from"./chunk-COS4XKZ5.js";import"./chunk-IJLITZAC.js";import{Pb as P,Rb as ye,Wb as N}from"./chunk-GSVPXWLR.js";import"./chunk-P42QO3R7.js";import{V as A,a as ue,r as ke}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as x,g as de,i as me,n as Te}from"./chunk-NSVULBS3.js";me();Te();var o=de(ue(),1),V=de(ue(),1);var qe=B.a`
  cursor: pointer;
`,Je=B.div`
  display: flex;
  justify-content: space-between;
  gap: 8px;
`,L=B.span`
  cursor: pointer;
  color: ${m=>m.color||"white"};
  &:hover {
    color: ${A.colors.legacy.spotBase};
  }
`,Qe=B.div`
  margin: -16px -16px 0 -16px;
  width: calc(100% + 32px);
  height: calc(100% + 16px);
  overflow-y: auto;
  position: absolute;
  top: 0;
  left: 0;
`,Be=x(({label:m,url:p})=>o.createElement(qe,{onClick:()=>self.open(p)},o.createElement(Ee,{color:A.colors.legacy.spotBase,noWrap:!0,lineHeight:14,maxWidth:`${fe/2}`,weight:600,size:14},m)),"Link"),Ze=x(({activityItem:m})=>{let{interactionData:p,chainMeta:z}=m,{t:e}=ke(),{transactionType:F}=p,{status:Ue,networkFee:Oe,networkFeePayer:Z}=z,D=z.chainId,b=Ue==="failed",{pushDetailView:ee}=Ie(),{getKnownAddressLabel:Fe}=ge(),{data:te}=Ae(),{handleHideModalVisibility:ae}=_e(),K=(0,V.useCallback)(()=>ae("activityItem"),[ae]),{data:$}=Ce(),oe=$?.isReadOnly,r=(0,V.useCallback)((a,t)=>{ee(o.createElement(Qe,null,o.createElement(Se,{caip19:a,title:t,entryPoint:"activityItemDetail"})))},[ee]),$e=Z?$?.addresses.some(a=>a.address.toLowerCase()===Z.toLowerCase()):!1,Me=Re(m.timestamp*1e3,e("richTransactionDetailAt")),M=P.getTokenDecimals(D),h=P.getTokenSymbol(D),We=q(Oe,M,h),I=o.createElement(w,{activityItem:m,size:"medium"}),u={label:e("richTransactionDetailDate"),value:Me},ie=g(m.id),Ve="dapp"in p?p.dapp?.displayName:void 0,{bridgeUrl:H,isLoading:ze}=Le(ie,Ve),y=[];if(te){let a=z.chainId,t=te.explorers[a]??De.get(a).defaultExplorer,i=he({networkID:a,endpoint:"transaction",explorerType:t,param:ie});i!==""&&y.push({label:e("richTransactionDetailViewOnExplorer",{explorer:be[t]}),value:i,type:"link"})}let R=N({chainId:D,slip44:P.getSlip44(D),resourceType:ye.nativeToken}),k=b?{label:e("richTransactionDetailStatus"),value:e("richTransactionDetailFailed"),color:A.colors.legacy.spotNegative}:{label:e("richTransactionDetailStatus"),value:e("historyStatusSucceeded"),color:A.colors.legacy.spotPositive},v={label:e("richTransactionDetailNetworkFee"),value:$e?We:void 0},C={label:e("historyNetwork"),value:P.getNetworkName(D)},ne=xe(),se=(0,V.useCallback)((a,t)=>{we.capture("activityItemSwapAgainClicked",{data:{from_asset_caip19:t,to_asset_caip19:a}}),ne({buyFungibleCaip19:a,sellFungibleCaip19:t}),K()},[ne,K]),d;switch(F){case"TOKEN_SEND":{let t=p.balanceChanges[0],i=G(t,$?.addresses??[]),{token:{symbol:n,decimals:l,displayName:s,tokenType:c,isSpam:T},amount:E}=t,le=j(c),re=N(S(t.token,D)),Ke=i?"+":"-",Y=l!==void 0?`${f(E,l)} ${n||""}`:e("transactionsUnknownAmount"),He=`${Ke}${Y}`,X=g(i?t.from:t.to),ce=ve(X,void 0,Fe(X,D)),Ye={label:e(i?"richTransactionDetailFrom":"richTransactionDetailTo"),value:o.createElement(O,{delayedChildren:o.createElement(U,{alignment:"topCenter",copyString:X},ce)},ce)},pe=x(Ge=>o.createElement(L,{onClick:()=>r(re,t.token.symbol),color:i&&!b?A.colors.legacy.spotPositive:void 0},Ge),"TokenLinkDisplay"),Xe=b?[{label:e("historyAttemptedAmount"),value:Y}]:[],je=b?e("transactionsSendFailed"):`${e("transactionsSent")}`;d={sections:[{rows:[u,k,Ye,C,v,...Xe,...y]}],title:i?e("transactionsReceived"):je,primaryText:le?{value:s||e("richTransactionDetailUnknownNFT")}:b||l===void 0?{value:pe(Y)}:{value:pe(He)},secondaryText:{value:""},image:le?I:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(re,t.token.symbol)}),warning:i&&T?e("spamActivityWarning"):""};break}case"TOKEN_BURN":{let{amount:a,token:t}=p,i="";b||(t.displayName?a==="1"?i=t.displayName:i=`${t.displayName} (${a})`:i=e("richTransactionDetailUnknownNFT")),d={sections:[{rows:[u,k,C,v,...y]}],title:e("richTransactionDetailBurned"),primaryText:{value:i},secondaryText:{value:""},image:I};break}case"TOKEN_SWAP":{let{receiveAmount:a,receiveToken:t,sendAmount:i,sendToken:n,dapp:l}=p,s=_(g(n.id)||""),c=_(g(t.id)||""),T=N(S(n,D)),E=N(S(t,D));d={sections:[{rows:[u,k,C,v]},{title:e("richTransactionDetailSwapDetails"),rows:[{label:e("richTransactionDetailProvider"),value:l?.displayName&&l.logoURI?o.createElement(Q,{name:l.displayName,imageURL:l.logoURI}):l?.displayName||e("historyUnknownDappName")},{label:e("richTransactionDetailYouPaid"),value:q(i,n.decimals,n.symbol||""),onClick:x(()=>r(T,n.symbol||s),"onClick")},{label:e("richTransactionDetailYouReceived"),value:t.decimals!==void 0?`+${f(a,t.decimals)} ${t.symbol||""}`:e("transactionsUnknownAmount"),color:t.decimals!==void 0&&!b?A.colors.legacy.spotPositive:"",onClick:x(()=>r(E,t.symbol||c),"onClick")},...y]}],title:e("richTransactionDetailTokenSwap"),primaryText:{value:o.createElement(o.Fragment,null,o.createElement(L,{onClick:()=>r(T,n.symbol||s)},n.symbol||s)," \u2192 ",o.createElement(L,{onClick:()=>r(E,t.symbol||c)},t.symbol||c))},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:oe?void 0:()=>se(E,T)}),swapAgain:oe?void 0:{sendToken:T,receiveToken:E}};break}case"BRIDGE_INIT":{let t=p.balanceChanges[0],i=G(t,$?.addresses??[]),{token:{symbol:n,decimals:l},amount:s}=t,c=N(S(t.token,D)),T=l!==void 0?`${f(s,l)} ${n||""}`:e("transactionsUnknownAmount"),E=ze||!H?[]:[{label:H.label,value:H.value,type:"link"}];d={sections:[{rows:[u,k,C,v,...E]}],title:b?e("transactionBridgeInitiatedFailed"):`${e("transactionBridgeInitiated")}`,primaryText:{value:o.createElement(L,{onClick:()=>r(c,n),color:i&&!b?A.colors.legacy.spotPositive:void 0},T)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(c,n)})};break}case"TOKEN_UNWRAP":{let{token:a,amount:t}=p,i=_(g(a.id)||""),n=N(S(a,D)),l=a.decimals!==void 0?`+${f(t,a.decimals)} ${a.symbol||""}`:e("transactionsUnknownAmount");d={sections:[{rows:[u,k,C,v]},{title:e("richTransactionDetailUnwrapDetails"),rows:[{label:e("richTransactionDetailYouReceived"),value:o.createElement(L,{onClick:()=>r(n,a.symbol),color:b?void 0:A.colors.legacy.spotPositive},l)},...y]}],title:e("richTransactionDetailTokenUnwrap"),primaryText:{value:o.createElement(L,{onClick:()=>r(n,a.symbol)},a.symbol||i)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(n,a.symbol)})};break}case"WITHDRAW_STAKE":{let{amount:a,stakeAccount:t}=p,i=g(t),n=W(i,4);d={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:o.createElement(O,{delayedChildren:o.createElement(U,{alignment:"topCenter",copyString:i},n)},n)},C,v,...y]}],title:e("richTransactionDetailWithdrawStake"),primaryText:{value:o.createElement(L,{onClick:()=>r(R,h),color:b?void 0:A.colors.legacy.spotPositive},"+",f(a,M)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(R,h)})};break}case"DEACTIVATE_STAKE":{let{amount:a,stakeAccount:t}=p,i=g(t),n=W(i,4);d={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:o.createElement(O,{delayedChildren:o.createElement(U,{alignment:"topCenter",copyString:i},n)},n)},C,v,...y]}],title:e("richTransactionDetailUnstaked"),primaryText:{value:o.createElement(L,{onClick:()=>r(R,h)},f(a,M)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(R,h)})};break}case"STAKE":{let{amount:a,stakeAccount:t,validatorName:i,validatorWebsite:n}=p,l=g(t),s=W(l,4);d={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:o.createElement(O,{delayedChildren:o.createElement(U,{alignment:"topCenter",copyString:l},s)},s)},{label:"Validator",value:i&&n?o.createElement(Be,{label:i,url:n}):i},C,v,...y]}],title:e("richTransactionDetailStaked"),primaryText:{value:o.createElement(L,{onClick:()=>r(R,h)},"-",f(a,M)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(R,h)})};break}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:a,item:t,forAmount:i,forAsset:n,listingUrl:l}=p,s=n.decimals!==void 0?`${f(i,n.decimals)} ${n.symbol||""}`:e("transactionsUnknownAmount"),c=t.displayName||e("richTransactionDetailUnknownNFT"),T={COLLECTIBLE_LIST:{priceRow:{label:e("richTransactionDetailListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailListed")},COLLECTIBLE_UNLIST:{priceRow:{label:e("richTransactionDetailOriginalListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailUnlisted")},COLLECTIBLE_BID_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailBid")},COLLECTIBLE_CANCEL_BID:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailCancelBid")},COLLECTIBLE_BUY_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailPurchaseDetails"),detailTitle:e("richTransactionDetailBought")},COLLECTIBLE_SELL_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailSaleDetails"),detailTitle:e("richTransactionDetailSold")}};d={sections:[{rows:[u,k,C,v]},{title:T[F].sectionTitle,rows:[T[F].priceRow,{label:e("richTransactionDetailItem"),value:c&&l?o.createElement(Be,{label:c,url:l}):c},{label:e("richTransactionDetailMarketplace"),value:a?.displayName&&a?.logoURI?o.createElement(Q,{name:a.displayName,imageURL:a.logoURI}):a?.displayName||""},...y]}],title:T[F].detailTitle,primaryText:{value:c},secondaryText:{value:""},image:I};break}case"CANCEL_TX":{d={sections:[{rows:[u,k,C,v,...y]}],title:e("transactionCancelled"),primaryText:{value:""},secondaryText:{value:""},image:I};break}case"TOKEN_APPROVAL":{let{dapp:a,token:t,isApproved:i}=p,n=a?.displayName||e("historyUnknownDappName"),l=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=_(g(t.id)||""),c=j(t.tokenType)?t.displayName:t.symbol,T=N(S(t,D));d={sections:[{rows:[u,k,C,v]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveTokenLabel"),value:c||s,onClick:x(()=>r(T,c||s),"onClick")},...y]}],title:o.createElement(L,{onClick:()=>r(T,c||s)},e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:c||""})),primaryText:{value:""},secondaryText:{value:n},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>r(T,c||s)})};break}case"COLLECTION_APPROVAL":{let{dapp:a,collection:t,isApproved:i}=p,n=a?.displayName||e("historyUnknownDappName"),l=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=t.displayName;d={sections:[{rows:[u,k,C,v]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveCollectionLabel"),value:s},...y]}],title:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:s}),primaryText:{value:""},secondaryText:{value:n},image:I};break}case"CANCEL_ORDER":{let{dapp:a}=p;d={sections:[{rows:[u,k,C,v,...y]}],title:e("transactionCancelOrder"),primaryText:{value:""},secondaryText:{value:a?.displayName||e("historyUnknownDappName")},image:I};break}case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:a}=p,t=a?.displayName||e("historyUnknownDappName");d={sections:[{rows:[u,k,C,v,...y]}],title:e("richTransactionDetailAppInteraction"),primaryText:{value:""},secondaryText:{value:t},image:I};break}}return o.createElement(o.Fragment,null,o.createElement(Pe,{...d}),o.createElement(Ne,{removeFooterExpansion:!1},o.createElement(Je,null,o.createElement(J,{onClick:K},e("commandClose")),d.swapAgain&&o.createElement(J,{onClick:()=>se(d.swapAgain.receiveToken,d.swapAgain.sendToken),theme:"primary"},e("commandSwapAgain")))))},"ActivityItemDetail"),Lt=Ze;export{Ze as ActivityItemDetail,Be as Link,Lt as default};
//# sourceMappingURL=ActivityItemDetail-IS3TY3VP.js.map
