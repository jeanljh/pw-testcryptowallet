import{a as Le}from"./chunk-NQHXSODZ.js";import{a as Ae,b as ve,c as Ee,f as Ve,g as Ie,j as De,k as Me,l as He,m as Ne}from"./chunk-65UEYS7B.js";import{a as ee}from"./chunk-5MAMJBN4.js";import{a as Be}from"./chunk-GHLGNLW6.js";import{E as we,Ia as v}from"./chunk-53EKYYOD.js";import{a as ke}from"./chunk-W7HWP67X.js";import{b as he}from"./chunk-22S374UP.js";import{a as Te}from"./chunk-P3VWKB2X.js";import{f as Pe}from"./chunk-6WMUBTJC.js";import{e as Ce}from"./chunk-T5IRHW4Y.js";import{a as xe}from"./chunk-I3QHDDEG.js";import{a as q}from"./chunk-PQNSQOE2.js";import{j as A,o as K}from"./chunk-F74QCQCY.js";import{a as R}from"./chunk-TQE77AJX.js";import{b as ce}from"./chunk-YLX2CXTY.js";import{a as be,c as ye,d as j}from"./chunk-GWKXKPCT.js";import{_ as Se,c as Fe,db as E,m as b}from"./chunk-FMF67RFP.js";import{W as z}from"./chunk-UHG6ISVN.js";import{aa as ge}from"./chunk-5RCV3KPE.js";import{d as ue}from"./chunk-CM4ZFCT2.js";import{hb as te}from"./chunk-COS4XKZ5.js";import{Wd as fe,l as Z}from"./chunk-IJLITZAC.js";import{Pb as oe,sd as ne}from"./chunk-GSVPXWLR.js";import{Ba as Y,Ia as me,T as ie,V as u,X as se,a as L,ca as a,ja as M,oa as ae,r as re,rb as de,sa as le,vb as pe}from"./chunk-LYTSCHVN.js";import{a as m,g as D,i as x,n as C}from"./chunk-NSVULBS3.js";x();C();var e=D(L(),1);x();C();var J=D(L());var V=m(({children:n})=>{let{popDetailView:r}=A(),{handleHideModalVisibility:t}=v(),l=(0,J.useCallback)(()=>{r(),t("sendFungibleForm"),t("sendFungibleSelect")},[r,t]);return J.default.createElement(Ae,{goHome:l},n)},"SendFungibleFlowErrorBoundary");x();C();var P=D(L(),1);var We=m(({networkID:n})=>{let{t:r}=re();return oe.isBitcoinNetworkID(n)?P.default.createElement(Ze,null,P.default.createElement(pe,{alignment:"rightCenter",index:0,content:P.default.createElement(Qe,null,P.default.createElement(Xe,null,r("sendFungibleSatProtectionExplainer")," ",P.default.createElement("span",{onClick:()=>void ce({url:fe})},r("commandLearnMore")))),closeOnSecondClick:!1},P.default.createElement(Ye,null,P.default.createElement(Se,{width:16}),P.default.createElement(Oe,null," ",r("sendFungibleSatProtectionTitle"))))):null},"SendAssetInfoWidget"),Qe=b.div`
  padding: 16px;
  width: 256px;
`,Xe=b(E).attrs({size:15,lineHeight:20,color:u.colors.legacy.textBase})`
  text-align: left;
  span {
    color: ${u.colors.legacy.spotBase};
    cursor: pointer;
  }
`,Ye=b.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,Oe=b(E).attrs({size:14,color:u.colors.legacy.textBase,hoverColor:u.colors.legacy.spotBase})`
  display: flex;
  align-items: center;
`,Ze=b.div`
  padding: 15px;
  background: ${u.colors.legacy.elementBase};
  border-radius: 9px;
  width: 100%;
  cursor: pointer;
  position: relative;

  &:hover {
    ${Oe} {
      color: ${u.colors.legacy.spotBase};
    }
    svg {
      fill: ${u.colors.legacy.spotBase};
      path {
        fill: ${u.colors.legacy.spotBase};
      }
    }
  }
`;x();C();var i=D(L(),1);x();C();var o=D(L(),1);var Re=b(q).attrs({align:"center"})`
  height: 100%;
`,eo=b(q).attrs({align:"center",justify:"center"})`
  flex: 1;
  flex-grow: 1;
`,oo=b(q).attrs({align:"center",justify:"center",margin:"0 0 15px 0"})`
  position: relative;
  border-radius: 50%;
  background-color: ${R(u.colors.legacy.spotBase,.2)};
  box-shadow: 0 0 0 20px ${R(u.colors.legacy.spotBase,.2)};
`,no=b(E).attrs({size:28,lineHeight:33.89,weight:500,margin:"20px 0 10px 0"})``,ro=b(E).attrs({size:16,lineHeight:20.8,weight:500,color:u.colors.legacy.spotBase})`
  margin-top: 12px;
`,to=m(()=>{let{popDetailView:n}=A(),{handleHideModalVisibility:r}=v(),{closeAllModals:t}=he(),l=Fe(),[g,f]=(0,o.useState)(!0),[p,y]=(0,o.useState)(),F=(0,o.useCallback)(B=>{self.open(B)},[]),h=(0,o.useCallback)(()=>{n(),r("sendFungibleForm"),r("sendFungibleSelect")},[n,r]),T=(0,o.useCallback)(B=>{switch(h(),B){case Z.History:l("/notifications");break;case Z.Home:l("/",{state:{defaultTab:"fungibles",nonce:Date.now()}});break}},[l,h]),{handleTokenTransfer:S,isLedger:c,ledgerApp:s,...d}=De({sendSequenceAnalytics:ue.send,onTransactionLinkPress:F,onClose:T,onCancel:h,onBack:n,mobileSignWithLedger:!1,ledgerSupported:!0}),I=(0,o.useCallback)(async()=>{c?y(o.default.createElement(Pe,{ledgerAction:async()=>{await S(),f(!1)},cancel:t,ledgerApp:s})):await S()},[c,S,t,s]);return{...d,isLedger:c,ledgerApp:s,handleTokenTransfer:I,needsLedgerApproval:g,ledgerContent:p}},"useProps"),io=o.default.memo(({isLedger:n,isError:r,isSuccess:t,MessageElement:l,txReceipt:g,handleTransactionLinkPress:f,i18nStrings:p,handleRetry:y,handleClose:F,handleCancel:h,handleTokenTransfer:T,isLoadingSelectedAccountStatus:S,ledgerContent:c,needsLedgerApproval:s})=>{let d=S;return(0,o.useEffect)(()=>{d||(!n||s)&&T()},[d]),n&&s?o.default.createElement(o.default.Fragment,null,c??null):o.default.createElement(Re,null,o.default.createElement(eo,null,o.default.createElement(ae,{mode:"wait",initial:!0},o.default.createElement(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},r?o.default.createElement(ee,{type:"failure"}):t?o.default.createElement(ee,{type:"success"}):o.default.createElement(oo,null,o.default.createElement(be,{diameter:54,color:u.colors.legacy.spotBase,trackColor:u.colors.legacy.areaAccent})))),o.default.createElement(no,null,p.titleText),l,g&&o.default.createElement(ro,{onClick:f},p.viewTransactionText)),r&&o.default.createElement(j,{primaryText:p.retryText,onPrimaryClicked:y,secondaryText:p.cancelText,onSecondaryClicked:h}),!r&&!!g&&o.default.createElement(Te,{justify:"center"},o.default.createElement(ye,{onClick:F},p.closeText)))}),so=m(()=>{let n=to();return o.default.createElement(io,{...n})},"UnsafeSendFungibleStatusPage"),$e=m(()=>o.default.createElement(V,null,o.default.createElement(so,null)),"SendFungibleStatusPage");var ao=m(()=>{let{popDetailView:n,pushDetailView:r}=A(),{handleHideModalVisibility:t,handleShowModalVisibility:l}=v(),g=(0,i.useCallback)(({transactionSpeed:F,transactionUnitAmount:h,networkID:T,sendFormValues:S,setSendFormValues:c})=>{r(i.default.createElement(Be,{onSelectTransactionSpeed:s=>{c({...S,transactionSpeed:s})},selectedTransactionSpeed:F,networkID:T,transactionUnitAmount:h,closeModal:n}))},[n,r]),f=(0,i.useCallback)(F=>{l("txSubmissionCheckFailure",{...F,onButtonClick:m(()=>{t("txSubmissionCheckFailure")},"onButtonClick")})},[t,l]),p=(0,i.useCallback)(()=>{n(),t("sendFungibleForm"),t("sendFungibleSelect")},[n,t]),y=(0,i.useCallback)(()=>{r(i.default.createElement($e,null))},[r]);return Ve({onNext:y,onClose:p,onTransactionSpeedChange:g,onSubmissionCheckFail:f,copyToClipboard:xe})},"useProps"),lo=i.default.memo(({canSend:n,summaryRows:r,i18nStrings:t,handleNext:l,handleClose:g,networkID:f,senderAddress:p})=>i.default.createElement(a,{height:"100%"},i.default.createElement(K,null,t.title),i.default.createElement(a,{height:"100%",overflow:"scroll",marginBottom:8},i.default.createElement(a,{width:"100%",flex:1},i.default.createElement(He,null),i.default.createElement(Ne,{networkId:f,senderAddress:p}),i.default.createElement(de,{rows:r}))),i.default.createElement(me,{direction:"row"},i.default.createElement(Y,{onClick:g},t.cancel),i.default.createElement(Y,{disabled:!n,onClick:l,background:"spot"},t.send)))),mo=m(()=>{let n=ao();return i.default.createElement(lo,{...n})},"UnsafeSendFungibleSummaryPage"),_e=m(()=>i.default.createElement(V,null,i.default.createElement(mo,null)),"SendFungibleSummaryPage");var po={form:ie({width:"100%"})},uo=m(()=>{let{popDetailView:n,pushDetailView:r}=A(),{handleHideModalVisibility:t}=v(),l=(0,e.useCallback)(()=>{n(),t("sendFungibleForm"),t("sendFungibleSelect")},[n,t]),g=(0,e.useCallback)(()=>{r(e.default.createElement(_e,null))},[r]),{canGoNext:f,...p}=Ie({onClose:l,onNext:g}),[y,F]=(0,e.useState)(ne),{data:h=[]}=te(),{networkID:T,senderAddress:S}=ve(),c=z(w=>w.sendFormValues.recipient),s=z(w=>w.sendFormValues),d=z(w=>w.setSendFormValues),{addressBookRecipient:I}=s,{recipientError:B,disabledDueToRecipient:H,isStaleRecipient:N,isRecipientLoading:Q}=ge(c,T),{sendAddressWarning:W,sendAddressVariant:O}=Ee({senderAddress:S.address,senderAccounts:h,networkID:T,recipient:c}),$=c&&!!W&&!B&&!N,X=(0,e.useCallback)(w=>{F(U=>({...U,recipientError:void 0})),d({...s,recipient:w,addressBookRecipient:w})},[s,d]);return{...p,canGoNext:f&&!H&&O!=="danger",senderAddress:S.address,addressBookRecipient:I,isStaleRecipient:N,recipientError:B,isRecipientLoading:Q,sendAddressWarning:$?W:null,sendAddressVariant:O,sendFormValues:s,sendFormErrors:y,handleAddressSelection:X,setSendFormValues:d,setSendFormErrors:F}},"useProps"),co=e.default.memo(({networkID:n,handleClose:r,handleInputChange:t,handleNext:l,primaryText:g,primarySymbol:f,toggleDenomination:p,errorText:y,secondaryText:F,formattedMaxAmount:h,symbol:T,decimals:S,logoUri:c,canGoNext:s,i18nStrings:d,handleSetMax:I,showSecondaryText:B,canSendCurrencyAmount:H,isMemoEnabled:N,memo:Q,handleMemoChange:W,senderAddress:O,addressBookRecipient:$,isStaleRecipient:X,recipientError:_,isRecipientLoading:w,sendAddressWarning:U,sendAddressVariant:Ue,sendFormValues:ze,sendFormErrors:je,handleAddressSelection:Ke,setSendFormValues:qe,setSendFormErrors:Ge})=>{let Je=B?e.default.createElement(a,{direction:"row",justifyContent:"space-between",width:"100%"},e.default.createElement(a,{direction:"row",alignItems:"center",cursor:"pointer",color:{base:"textIncidental",hover:"spotBase"}},e.default.createElement(M,{font:"caption",onPress:H?p:void 0},F),H?e.default.createElement(a,{marginLeft:4},e.default.createElement(se.Swap2Vertical,{size:12})):null),e.default.createElement(M,{font:"caption",color:"textIncidental"},`${d.available} ${h}`)):null;return e.default.createElement(a,{justifyContent:"space-between",height:"100%"},e.default.createElement(a,null,e.default.createElement(K,null,d.pageTitle),e.default.createElement(a,{marginBottom:20,marginTop:10,marginLeft:"auto",marginRight:"auto"},e.default.createElement(we,{image:{type:"fungible",src:c,fallback:T},size:72})),e.default.createElement("form",{onSubmit:l,className:po.form},e.default.createElement(a,{marginBottom:10},e.default.createElement(Me,{addressBookRecipient:$,networkID:n,senderAddress:O,symbol:f,sendFormValues:ze,sendFormErrors:je,recipientError:_,handleAddressSelection:Ke,setSendFormValues:qe,setSendFormErrors:Ge,isLoading:w})),!$&&!X&&_&&e.default.createElement(a,{marginBottom:10},e.default.createElement(M,{children:_,color:"spotNegative",font:"body"})),e.default.createElement(a,{marginBottom:10},e.default.createElement(a,{position:"relative"},e.default.createElement(ke,{name:"amount",value:g,symbol:f,alignSymbol:"right",buttonText:d.maxInput,width:47,maxLength:20,decimalLimit:S,warning:!!y,placeholder:d.inputAmountPlaceholder,onSetTarget:I,onKeyPress:k=>s&&k.key==="Enter"&&k.preventDefault(),onUserInput:t}))),N&&e.default.createElement(a,{marginBottom:10},e.default.createElement(Ce,{name:"memo",placeholder:d.memoPlaceholder,value:Q,maxLength:240,onKeyDown:k=>s&&k.key==="Enter"&&k.preventDefault(),onChange:k=>{k.target.validity.valid?W(k.target.value):k.preventDefault()}}))),y?e.default.createElement(a,null,e.default.createElement(M,{color:"spotNegative",font:"body"},y)):Je,e.default.createElement(a,{marginTop:16},e.default.createElement(We,{networkID:n})),U&&e.default.createElement(Le,{message:U,variant:Ue,actions:[]})),e.default.createElement(j,{primaryText:d.next,secondaryText:d.cancel,onPrimaryClicked:l,onSecondaryClicked:r,primaryTheme:s?"primary":"default",primaryDisabled:!s}))}),go=m(()=>{let n=uo();return e.default.createElement(co,{...n})},"UnsafeSendFungibleFormPage"),fo=m(()=>e.default.createElement(V,null,e.default.createElement(go,null)),"SendFungibleFormPage"),$n=fo;export{$n as a};
//# sourceMappingURL=chunk-3P5YQMU7.js.map
