import{d as pt,e as lt}from"./chunk-DBKESEIK.js";import"./chunk-6V6WKLAT.js";import{a as at}from"./chunk-3EES3B5S.js";import"./chunk-FYHA5XUW.js";import{a as st}from"./chunk-PLSIE3Z6.js";import{E as ge,Ga as fe,Ia as te,R as et,X as tt,Y as ne,ca as rt,h as $e,ka as ot,l as Re,va as nt,za as it}from"./chunk-53EKYYOD.js";import"./chunk-TJGCGL4J.js";import"./chunk-W7HWP67X.js";import"./chunk-BO5X4B7T.js";import{o as Z,q as Ce}from"./chunk-PRM4QCVC.js";import"./chunk-22S374UP.js";import"./chunk-YCV6CTZK.js";import"./chunk-P3VWKB2X.js";import"./chunk-TCCWLNBV.js";import"./chunk-TFRCNF4E.js";import"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-YEESR7EU.js";import{h as oe}from"./chunk-T5IRHW4Y.js";import"./chunk-I3QHDDEG.js";import"./chunk-PQNSQOE2.js";import{j as de}from"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import{a as Pe}from"./chunk-TQE77AJX.js";import"./chunk-UFN6RPHX.js";import"./chunk-XSN3P2VT.js";import"./chunk-RNES5QWV.js";import"./chunk-5JE2EH74.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-IWYOR6BJ.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import"./chunk-VGIRFM65.js";import"./chunk-E5SPQ6GD.js";import"./chunk-RCXDI445.js";import"./chunk-6DKZGOGT.js";import"./chunk-GWKXKPCT.js";import{db as Fe,j as Je,m as q}from"./chunk-FMF67RFP.js";import{Aa as ke,Fb as He,Ga as ue,Ib as Ge,Oa as qe,Ta as Ue,W as Oe,Zb as Xe,bc as je,cb as Ve,cc as Ye,dc as Ze,ec as Ke,ya as _e}from"./chunk-44NW6BSR.js";import"./chunk-CHXPHGEW.js";import"./chunk-3JCRVFH6.js";import"./chunk-UHG6ISVN.js";import"./chunk-EVXXECVZ.js";import{B as Q}from"./chunk-TQDE7426.js";import{Q as We}from"./chunk-5RCV3KPE.js";import"./chunk-X5YMBRTT.js";import"./chunk-34JK5YK5.js";import"./chunk-CM4ZFCT2.js";import"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import{Db as Me,fc as Le,nc as Ne}from"./chunk-COS4XKZ5.js";import{Pd as Y}from"./chunk-IJLITZAC.js";import{L as Ie,Pb as ae,Rb as Be,Vb as he,Wb as $,ae as Ee}from"./chunk-GSVPXWLR.js";import"./chunk-P42QO3R7.js";import{Ba as Qe,Fa as ce,La as me,Ma as ze,V as B,X as pe,a as v,bb as xe,ca as l,da as ee,ea as le,ja as E,m as g,r as D}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as n,g as T,i as c,n as m}from"./chunk-NSVULBS3.js";c();m();var De=T(v(),1);c();m();var I=T(v(),1);c();m();var ct="f8uvp90";var mt="f8uvp92 f8uvp91 _48j31axb _48j31a13i _48j31ays",ut="f8uvp93";c();m();var z=T(v());c();m();var b=T(v(),1);c();m();var Et=T(v());var we=q.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,_r=q.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var qr=q.div`
  color: ${B.colors.legacy.spotBase};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${B.colors.legacy.elementAccent};
  }
`;c();m();var M=T(v());var Se=n(({input:e,isLoading:t,onSelectorPress:o,perspective:s,selectorIcon:r,selectorLabel:a,spamStatus:p,accessories:i,footer:d})=>{let{t:h}=D(),w=h(s==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),x=(0,M.useMemo)(()=>{if(i)return M.default.createElement(l,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},i)},[i]);(0,M.useEffect)(()=>{s==="buy"?perfalyze.markFrame("buyTokenUpdated"):perfalyze.markFrame("sellTokenUpdated")},[a,s]);let C=M.default.createElement(l,{display:"flex",direction:"column",gap:0,backgroundColor:"elementBase",borderRadius:"base",padding:20},M.default.createElement(E,{font:"labelSemibold",color:"textIncidental",children:w}),M.default.createElement(l,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,M.default.createElement(l,{flex:1}),t?M.default.createElement(ee,{width:112,height:24}):M.default.createElement(l,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderBase"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${s}-token-button`},r,M.default.createElement(Re,{spamStatus:p,children:a,font:"captionSemibold"}),M.default.createElement(pe.ChevronDown,{size:14}))),x);return Mt(C,d)},"SwapperCard"),Mt=n((e,t)=>t?M.default.createElement(l,{direction:"column",backgroundColor:"elementBase",borderRadius:"base"},e,t):e,"withFooter");c();m();var dt="_1mhrh80";c();m();var U=T(v(),1);var gt=n(({warnings:e})=>{let{t}=D(),o=e[0],{backgroundColor:s,textColor:r}=(0,U.useMemo)(()=>{if(!o)return{backgroundColor:"elementBase",textColor:"textBase"};switch(o.level){case"warn":return{backgroundColor:"spotWarning",textColor:"areaBase"};case"info":return{backgroundColor:"elementBase",textColor:"textBase"}}},[o]);return e.length===0?null:U.default.createElement(U.default.Fragment,null,U.default.createElement(l,{width:"100%",height:1,backgroundColor:"areaBase"}),U.default.createElement(l,{gap:8,direction:"row",backgroundColor:s,padding:"screen",borderBottomRadius:"base"},U.default.createElement(l,{flexShrink:0},U.default.createElement(pe.AlertTriangle,{color:r,size:18})),U.default.createElement(E,{flexShrink:1,font:"caption",color:r,children:t(o.titleKey,o.options)})))},"AssetWarningFooter");c();m();var ie=T(v(),1);var ft=n(({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:s})=>{if(e)return ie.default.createElement(ee,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let r=t?ie.default.createElement(E,{font:"caption",color:"textDiminished",children:t}):null;return o?ie.default.createElement(l,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:s},r,ie.default.createElement(ce,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderBase"},color:"textDiminished"})):r},"SecondaryPriceDisplay");var wt=n(({asset:e,perspective:t,currentPercentage:o,onPercentageTap:s,onInputChange:r,onFungibleTap:a,switchCurrencyDenomination:p,onBalanceTap:i})=>{let{amount:d,balance:h,fungible:w,isAmountEditable:x,isAmountLoading:C,isSecondaryAmountLoading:S,hasAmountWarning:f,secondaryAmount:k,amountPrefix:u,percentages:y,supportsCurrencyDenominationSwitching:_,warnings:H}=e,{t:G}=D(),N=b.default.createElement(ge,{image:{type:"fungible",src:w.data?.logoUri,fallback:w.data?.symbol||w.data?.tokenAddress},size:32,tokenType:w.type,chainMeta:w.data?.chain}),J=n(j=>j.length>16?16:j.length>14?18:j.length>12?20:22,"getInputFontSize"),X=(0,b.useMemo)(()=>{let j=J(d);return C?b.default.createElement(ee,{width:100,height:18,borderRadius:12}):b.default.createElement(we,{hasWarning:f,fontSize:j},u&&b.default.createElement(E,{font:"heading3",children:u,marginRight:2}),b.default.createElement(oe,{name:"amount",border:"0",placeholder:"0",warning:f,value:d,decimalLimit:w.data?.decimals,disabled:!x,onUserInput:r}))},[C,f,u,d,w.data?.decimals,x,r]),se=(0,b.useMemo)(()=>b.default.createElement(ft,{isLoading:S,secondaryAmount:k,supportsCurrencyDenominationSwitching:_,switchCurrencyDenomination:p}),[S,k,_,p]),be=(0,b.useMemo)(()=>{let j=n(R=>{switch(R.percentage){case .25:return"25%";case .5:return"50%";case 1:return G("swapAssetCardMaxButton")}},"swapPercentageDisplay");return y.map(R=>b.default.createElement(me,{key:R.percentage,active:R.percentage===o?.percentage,children:j(R),onChange:()=>s(R),className:dt}))},[y,G,o,s]),It=(0,b.useMemo)(()=>b.default.createElement(b.default.Fragment,null,se,b.default.createElement(l,{flex:1}),h&&b.default.createElement(E,{font:"caption",color:{base:"textDiminished",hover:i?"textBase":void 0},children:h,onPress:i}),be&&b.default.createElement(l,{direction:"row",alignItems:"center",gap:4,marginLeft:2},be)),[h,be,i,se]),Bt=(0,b.useMemo)(()=>{if(H.length!==0)return b.default.createElement(gt,{warnings:H})},[H]);return b.default.createElement(Se,{perspective:t,input:X,selectorIcon:N,selectorLabel:w.data?.symbol??"",spamStatus:w.data?.spamStatus,onSelectorPress:a,accessories:It,footer:Bt})},"AssetSwapperCard");c();m();var P=T(v(),1);var Lt=[.5,1],St=n(({perspective:e})=>{let{t}=D(),o=(0,P.useMemo)(()=>{let p=Number(B.typography.font.heading3.fontSize.replace("px",""));return P.default.createElement(we,{fontSize:p},P.default.createElement(oe,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),s=(0,P.useMemo)(()=>P.default.createElement(E,{font:"caption",color:"textDiminished",children:"$0"}),[]),r=(0,P.useMemo)(()=>{let p=n(i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}},"swapPercentageDisplay");return Lt.map(i=>P.default.createElement(me,{active:!1,children:p(i),onChange:()=>{},className:ct}))},[t]),a=(0,P.useMemo)(()=>P.default.createElement(P.default.Fragment,null,P.default.createElement(l,{direction:"row",alignItems:"center",gap:6},s,e==="sell"?P.default.createElement(ce,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textDiminished"}):null),P.default.createElement(l,{flex:1}),P.default.createElement(le,{font:"caption",width:64}),e==="sell"?P.default.createElement(l,{direction:"row",alignItems:"center",gap:4,marginLeft:2},r):null),[r,s,e]);return P.default.createElement(Se,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:a})},"LoadingSwapperCard");var Nt=32,yt=n(({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:s,setSellPercentage:r,setInputPerspective:a,switchCurrencyDenomination:p,switchTokens:i,onSelectToken:d})=>{let{t:h}=D(),w=(0,z.useCallback)(f=>{let k=f.percentages.find(u=>u.percentage===1);k&&r(k,f.fungible)},[r]),x=(0,z.useCallback)(f=>{d(f)},[d]),C=(0,z.useCallback)((f,k)=>{r(f,k)},[r]),S=(0,z.useMemo)(()=>["sell","buy"].map(f=>{let k=t.find(y=>y.perspective===f);if(!k||e)return z.default.createElement(St,{key:`loading-${f}`,perspective:f});let u=z.default.createElement(wt,{key:f,asset:k,perspective:f,switchCurrencyDenomination:p,currentPercentage:o,onFungibleTap:()=>x(f),onPercentageTap:y=>C(y,k.fungible),onInputChange:y=>{a(f),s(y,f)},onBalanceTap:()=>w(k)});return f==="buy"?z.default.createElement(l,{position:"relative",key:f+"-swap-button"},u,z.default.createElement("div",{className:mt,style:{pointerEvents:"none"}},z.default.createElement(ze,{label:h("swapperSwitchTokens"),size:Nt,shape:"circle",onClick:i,backgroundColor:{base:"spotBase",hover:"spotAccent"},icon:"SwapVertical"}))):u}),[t,e,p,o,x,C,s,a,w,h,i]);return z.default.createElement(l,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},z.default.createElement(l,{display:"flex",direction:"column",gap:12},S))},"SwapperAssets");c();m();var V=T(v());var bt=n(({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:s,quoteProcessorState:r,currentPerspective:a,sellPercentages:p,onPress:i,resetSwapper:d})=>{let h=Le(),w=it(),{handleShowModalVisibility:x}=te(),{pushDetailView:C}=de(),S=(0,V.useCallback)(N=>{let J=$(Y(N));C(V.default.createElement(fe,{caip19:J,title:N.data.name??void 0,entryPoint:"exploreInSwap"}))},[C]),{openBuy:f}=et({caip19:Qt(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),k=(0,V.useCallback)(N=>{w({sellFungible:N.sell,buyFungible:N.buy,sellAmount:N.amount.amount})},[w]),u=(0,V.useCallback)((N,J)=>{let X=N.networkId,se={balance:N.balance,required:N.required};x("insufficientBalance",{networkId:X,token:se},{event:"showSwapModal",payload:{data:{uiContext:Oe.InsufficientBalance}}})},[x]),{buttonState:y,swap:_}=Ke({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:s,quoteProcessorState:r,currentPerspective:a,sellPercentages:p,showFungibleDetails:S,showBuyFungibleScreen:f,retryAndNavigateToSwapper:k,resetSwapper:d,goToInsufficientFunds:u}),H=(0,V.useCallback)(()=>{i?.(),h?x("swapLedgerSigning",{executeSwap:_}):_()},[i,_,h,x]),G=(0,V.useMemo)(()=>y.type==="insufficientBalance"?{background:"spot",theme:"negative"}:["untradable"].includes(y.type)?{background:"element"}:{background:"spot"},[y.type]);return["idle","error"].includes(r.type)?null:V.default.createElement(Qe,{...G,disabled:y.type!=="tradable",onPress:H},y.label)},"SwapperButton");function Qt(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return $(Y(e.sellToken))}n(Qt,"getSellCaip19");c();m();var A=T(v());c();m();var L=T(v(),1);var zt=L.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=D(),s=Ee(),r=ne(u=>u.sortBy),a=ne(u=>u.sortDirection),p=ne(u=>u.timeFrame),i=ne(u=>u.network),{data:d,error:h,isLoading:w,refetch:x}=Ge({sortBy:r,sortDirection:a,timeFrame:p,limit:t,rankAlgo:e,network:i}),{pushDetailView:C}=de(),S=(0,L.useCallback)(({item:u,index:y})=>{let _=$({chainId:u.chainId,address:u.address,resourceType:Be.address});s.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:y,title:u.name||u.symbol,id:`${u.address}-${u.chainId}`}}}}),C(L.default.createElement(fe,{caip19:_,title:u.name??void 0,entryPoint:"exploreInSwap"}))},[s,C]),f=!!h||d?.items.length===0,k=w||typeof d>"u";return L.default.createElement(l,{paddingTop:24,flex:1,width:"100%"},L.default.createElement(E,{paddingX:"screen",paddingBottom:10,font:"title2Semibold"},o("exploreTokens")),L.default.createElement(nt,{isError:f,isLoading:k,refetch:x,filters:L.default.createElement(pt,null),listHeader:L.default.createElement(rt,null),rows:(d?.items??[]).map((u,y)=>({...ot({item:u,sortBy:r,image:L.default.createElement(lt,{index:y,displayRank:!0,image:L.default.createElement(ge,{image:{type:"fungible",src:u.logoUrl,fallback:u.symbol||u.name},size:48,badge:{type:"network",preset:ae.getChainID(u.chainId)}})}),t:o}),onClick:n(()=>S({item:u,index:y}),"onClick")}))}))});function Wt(){let e=He("tokens");return e?L.default.createElement(tt,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},L.default.createElement(zt,{rankAlgo:e.rankAlgo,limit:10})):null}n(Wt,"ExploreTokens");var ht=L.default.memo(Wt);c();m();var Te=T(v(),1);var xt=n(({phantom:e,gasless:t})=>Te.default.createElement(l,{paddingY:16,paddingX:32},Te.default.createElement(st,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?g.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:Q(e),gaslessFeePercentage:Q(t)}):g.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:Q(e)})},t?g.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:Q(e),gaslessFeePercentage:Q(t)}):g.t("swapQuoteFeeDisclaimer",{feePercentage:Q(e)}))),"PhantomFee");c();m();var W=T(v(),1);var Ot=n(({entry:e,fromUsd:t,currencySymbol:o})=>{let s=e.quoteFees.fees,r=s.find(i=>i.type==="phantom"),a=s.find(i=>i.type==="gasless"),p=s.filter(i=>!["gasless","phantom"].includes(i.type)).sort((i,d)=>ye(i)&&!ye(d)?-1:!ye(i)&&ye(d)?1:0).map(i=>{let d=i.amountUsd.toNumber(),h=`${o}${t(d,2)}`;switch(i.type){case"ata":return W.default.createElement(W.default.Fragment,{key:i.type},W.default.createElement(Ce,null,W.default.createElement(Z,null,g.t(i.type)),W.default.createElement(Z,null,h)),W.default.createElement(Z,{style:{color:B.colors.legacy.textIncidental,fontSize:"12px",marginTop:4,textAlign:"left"}},g.t("accountCreationFeeBody")));default:return W.default.createElement(Ce,{key:i.type},W.default.createElement(Z,null,g.t(i.type)),W.default.createElement(Z,null,h))}});return W.default.createElement(W.default.Fragment,null,p,r&&W.default.createElement(Z,{style:{fontStyle:"italic",color:B.colors.legacy.textIncidental,marginTop:8,textAlign:"left"}},a?g.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:Q(r.percentage.toNumber()),gaslessFeePercentage:Q(a.percentage.toNumber())}):g.t("swapQuoteFeeDisclaimer",{feePercentage:Q(r.percentage.toNumber())})))},"FeeBreakdownTooltip");function ve({entry:e,currencySymbol:t,fromUsd:o,showSwapSettings:s,showSwapPricing:r}){let a,p,i;switch(e.type){case"pricing":{p=g.t("swapFeesPricing"),a=e.exchangeRate,i=r;break}case"slippage":{p=g.t("swapFeesSlippage"),a=e.slippageType==="auto"?g.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):g.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),i=s;break}case"priceImpact":{p=g.t("swapFeesPriceImpact"),a=e.priceImpactPercentage;break}case"fees":{p=g.t("swapFeesFees"),a=`${t}${o(e.quoteFees.totalFees.toString(),2)}`;break}case"transferFees":{p=g.t("swapFeesTransferFees"),a=g.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:p,content:_t(e,a),tooltipContent:qt(e,o,t),color:Ut(e),onClick:i}}n(ve,"toEntrySpec");function _t(e,t){return e.type==="transferFees"?t:e.warning?g.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?g.t("swapTokenDetailsAlertHigh",{value:t}):t}n(_t,"getEntryContent");function qt(e,t,o){switch(e.type){case"pricing":return g.t("swapFeesRateDisclaimerMultichain");case"slippage":return g.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return g.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return W.default.createElement(Ot,{entry:e,fromUsd:t,currencySymbol:o});let s=e.quoteFees.fees.find(a=>a.type==="phantom"),r=e.quoteFees.fees.find(a=>a.type==="gasless");return s?r?g.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:Q(s.percentage.toNumber()),gaslessFeePercentage:Q(r.percentage.toNumber())}):g.t("swapQuoteFeeDisclaimer",{feePercentage:Q(s.percentage.toNumber())}):void 0}default:return}}n(qt,"getTooltipForEntry");function Ut(e){return e.warning?B.colors.legacy.spotNegative:e.alert?B.colors.legacy.spotWarning:B.colors.legacy.textDiminished}n(Ut,"getTextColorForEntry");function kt(e){switch(e){case"slippage":return{title:g.t("swapFeesSlippage")};case"priceImpact":return{title:g.t("swapFeesPriceImpact")};case"fees":return{title:g.t("swapFeesFees")};case"pricing":return{title:g.t("swapFeesPricing")};case"transferFees":return{title:g.t("swapFeesTransferFees")};default:return Ie(e)}}n(kt,"toLoadingEntrySpec");var ye=n(e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}},"isNetworkFee");c();m();var re=T(v(),1);var Ft=n(({message:e,errorCode:t,onRetry:o})=>{let{t:s}=D(),r=s("swapQuestionRetry");return t==="InsufficientSellAmount"?re.default.createElement(l,{width:"100%"},re.default.createElement(xe,{level:"1-critical-alert"},e)):re.default.createElement(l,{gap:10,width:"100%"},re.default.createElement(l,{width:"100%"},re.default.createElement(xe,{level:"2-alert",actions:[{children:r,onPress:o}]},e)))},"SwapperError");var Vt=["pricing","slippage","priceImpact","fees"],Pt=n(({quoteProcessorState:e})=>{let t=ue();switch(e.type){case"idle":return A.default.createElement(l,{style:{marginTop:-16}},A.default.createElement(ht,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return A.default.createElement($t,{quoteProcessorState:e});case"error":return A.default.createElement(l,{paddingX:"screen"},A.default.createElement(Ft,{message:e.error.message,errorCode:e.error.code,onRetry:()=>t.refreshQuoteProcessor()}))}},"SwapperQuoteDetails"),$t=n(({quoteProcessorState:e})=>{let{currencySymbol:t,fromUsd:o}=We(),{handleShowModalVisibility:s}=te(),r=Ht(e),a=r.filter(S=>S.type!=="transferFees"),p=r.find(S=>S.type==="transferFees"),i=r.find(S=>S.type==="fees"),d=i?.quoteFees.fees.find(S=>S.type==="phantom"),h=i?.quoteFees.fees.find(S=>S.type==="gasless"),w=(0,A.useCallback)(()=>{s("swapSettings")},[s]),x=(0,A.useCallback)(()=>{s("swapPricing")},[s]),C=(0,A.useMemo)(()=>Vt.map(S=>{let f=a.find(k=>k.type===S);return f?Gt(ve({entry:f,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:x})):Xt(kt(S))}),[a,t,o,w,x]);return A.default.createElement(l,{direction:"column",gap:4},A.default.createElement(l,{paddingX:"screen"},A.default.createElement(at,{rows:C,borderRadius:"8px"})),d&&A.default.createElement(xt,{phantom:d.percentage.toNumber(),gasless:h?.percentage.toNumber()}),p&&A.default.createElement(E,{font:"label",color:"spotWarning",paddingX:32},ve({entry:p,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:x}).content))},"QuoteDetailsContent");function Ht(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}n(Ht,"entriesForQuoteProcessorState");function Gt(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}n(Gt,"toRowSpec");function Xt(e){return{label:e.title,value:A.default.createElement(le,{width:60,font:"caption"})}}n(Xt,"toRowLoadingSpec");c();m();var K=T(v());c();m();var O=T(v(),1);var jt=q.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,Yt=q.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,Zt=q.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${Pe(B.colors.legacy.areaBase,.75)};
`,Ct=q.div`
  background-color: ${Pe(B.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,Tt=q(Fe).attrs({size:14,lineHeight:19,weight:500,color:B.colors.legacy.textBase,textAlign:"left"})``,Ae=n(({message:e,swapDisabled:t=!0,children:o})=>t?O.default.createElement(O.default.Fragment,null,O.default.createElement(Zt,{"data-testid":"disable-overlay"},O.default.createElement(Ct,null,O.default.createElement(Tt,null,e))),O.default.createElement(Yt,{"data-testid":"disable-wrapper"},o)):O.default.createElement(jt,null,O.default.createElement(Ct,null,O.default.createElement(Tt,null,e)),O.default.createElement(O.default.Fragment,null,o)),"SwapNotAvailableWrapper");var vt=K.default.memo(({children:e})=>{let t=Me(),o=t.every(i=>ae.isMainnetNetworkID(i)),r=Ve().some(i=>t.includes(i)),{t:a}=D(),p=(0,K.useMemo)(()=>({availableOnlyOnMainnet:a("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:a("swapNotAvailableOnSelectedNetwork")}),[a]);return o?r?K.default.createElement(l,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):K.default.createElement(Ae,{message:p.notAvailableOnSelectedNetwork,swapDisabled:!0},e):K.default.createElement(Ae,{message:p.availableOnlyOnMainnet,swapDisabled:!0},e)});var Kt=[.5,1],Dt=n(()=>{let e=ue(),[t]=Je(),o=At(d=>d.setSwapMode),s=(0,I.useCallback)(d=>{e.initializeSwap({swapMode:d,cashAddresses:{}}),o(d)},[e,o]),r=Ye(),a=At(d=>d.swapMode),p=er({searchParams:t}),i=(0,I.useMemo)(()=>p||a||r,[p,a,r]);return(0,I.useEffect)(()=>{if(p){if(!a){s(p);return}if(!_e(p,a)){s(p);return}}a||s(r)},[p,a,r,s]),I.default.createElement(Jt,{swapMode:i})},"ClassicSwapperPage"),Jt=n(({swapMode:e})=>{let t=qe(e,Kt),{inputPerspective:o,tokens:s,tokenState:r,quotedAmounts:a,quoteProcessorState:p,inputErrors:i,currentSellPercentage:d,sellPercentages:h,setInputAmount:w,setSellPercentage:x,switchCurrencyDenomination:C,switchTokens:S,clearInput:f,setInputPerspective:k}=Ze(t),{handleShowModalVisibility:u}=te(),y=(0,I.useCallback)(X=>{ke(r)&&u(X==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:$(Y(r.sellToken)),buyCaip19:$(Y(r.buyToken)),isCashEligible:!1}})},[u,r]),_=Xe({goToAssetSelect:y}),H=(0,I.useCallback)(X=>{ke(r)&&_(X)},[r,_]),G=r.type==="pair"?r.buyToken:void 0,N=G?$(Y(G)):void 0;$e(N,"swapper");let J=je();return I.default.createElement(vt,null,I.default.createElement(l,{direction:"column",gap:16,paddingBottom:72},I.default.createElement(yt,{isInitializingTokens:J,tokens:s,currentSellPercentage:d,setInputAmount:w,setSellPercentage:x,setInputPerspective:k,switchCurrencyDenomination:C,switchTokens:S,onSelectToken:H}),I.default.createElement(Pt,{quoteProcessorState:p})),Rt(p)&&I.default.createElement(l,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"areaBase",borderRadius:"base",className:ut},I.default.createElement(bt,{swapMode:e,quotedAmounts:a,tokenState:r,inputErrors:i,quoteProcessorState:p,currentPerspective:o,sellPercentages:h,resetSwapper:f})))},"ClassicSwapper");function Rt(e){return["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)}n(Rt,"showButton");var er=n(({searchParams:e})=>{let t=e.get("sellFungible"),o=e.get("buyFungible");if(o)return{type:"swap",network:he(o).chainId,buyCaip19:o,sellCaip19:void 0,takerCaip19:void 0,takerDestinationCaip19:void 0};if(t)return{type:"swap",network:he(t).chainId,buyCaip19:void 0,sellCaip19:t,takerCaip19:void 0,takerDestinationCaip19:void 0}},"parseSearchParamsSwapMode"),At=Ne(e=>({swapMode:void 0,setSwapMode:n(t=>e({swapMode:t}),"setSwapMode")}));var tr=n(()=>De.default.createElement(Ue,null,De.default.createElement(Dt,null)),"SwapTabPage"),bs=tr;export{bs as default};
//# sourceMappingURL=SwapTabPage-VNFUA3GA.js.map
