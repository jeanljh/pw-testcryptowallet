import{b as Ie,c as Vt,d as We,e as Ut}from"./chunk-VC6GOMGS.js";import{a as Kt,b as Qt,c as Yt}from"./chunk-W2CCXRNX.js";import{a as z,c as V,d as j,e as Nt,g as ye}from"./chunk-CS343FBX.js";import{d as wt,e as xt}from"./chunk-46EVJGR2.js";import{a as $t,c as zt}from"./chunk-UV7OXNVV.js";import{C as Ht,O as ae,P as Ft,s as Se,w as De}from"./chunk-53EKYYOD.js";import{s as Ot}from"./chunk-PRM4QCVC.js";import{a as Y}from"./chunk-P3VWKB2X.js";import{b as he,g as _t}from"./chunk-T5IRHW4Y.js";import{h as Lt,j as D,l as Mt,p as T}from"./chunk-F74QCQCY.js";import{a as Bt,b as jt}from"./chunk-TQE77AJX.js";import{a as gt}from"./chunk-XYHVAYOD.js";import{a as qt}from"./chunk-76AKUYQL.js";import{a as kt}from"./chunk-DESWWYIZ.js";import{K as Tt,P as Ct,Q as Pt,v as ot}from"./chunk-IWYOR6BJ.js";import{h as pt,i as dt,j as ut}from"./chunk-YLX2CXTY.js";import{c as Wt,d as $}from"./chunk-GWKXKPCT.js";import{F as Et,H as ne,K as Dt,P as It,db as A,m as y,u as Ee}from"./chunk-FMF67RFP.js";import{c as ft,f as bt}from"./chunk-HQZCOMEL.js";import{gc as At,rc as vt}from"./chunk-44NW6BSR.js";import{l as St,m as ht,n as yt}from"./chunk-UHG6ISVN.js";import{v as tt}from"./chunk-TQDE7426.js";import{a as mt,b as J}from"./chunk-CM4ZFCT2.js";import{Ka as lt,U as nt,V as st,Y as ge,Z as it,da as at,ea as ct,l as rt,n as ke}from"./chunk-RKMQYZSN.js";import{a as ko}from"./chunk-MN377ENM.js";import{M as Qe,hb as re,ib as qe,mb as q,mc as Xe,oc as ve,r as M,s as B,ub as Je}from"./chunk-COS4XKZ5.js";import{Ac as Q,Td as Ye,Vc as Ue,Wc as Ne,ae as Ge,pd as Ke,wc as ue,xc as K}from"./chunk-GSVPXWLR.js";import{V as S,X as Ze,a as k,ca as G,ia as be,ja as fe,oa as Re,r as w,sa as et,sb as _}from"./chunk-LYTSCHVN.js";import{B as Ve,w as ze}from"./chunk-PPQ6BNOX.js";import{a as s,g as v,i,j as h,m as Buffer,n as a}from"./chunk-NSVULBS3.js";i();a();var H=v(k());i();a();var Gt="_15xlg4e0 _48j31au8 _48j31av6 _48j31ax2 _48j31aw4 _48j31ar1 _48j31apv _48j31as7 _48j31aop _48j31ax7 _48j31ax5 _48j31ax9 _48j31ax3 _48j31a3no _48j31a37u _48j31a2c6 _48j31a2s0 _48j31axb _48j31a186 _48j31a124 _48j31a1b0 _48j31a1cm _48j31a1kf _48j31a1ma _48j31a1mn _48j31a1t0 _48j31a1xl _48j31a20y _48j31a47o _48j31a43j",Jt="_15xlg4e1 _48j31axc";var Le=H.default.memo(e=>{let t=(0,H.useCallback)(o=>Q.captureError(o,K.Account),[]);return H.default.createElement(be,{...e,onError:t})}),Eo=H.default.memo(({accountName:e,accountIndex:t,accountIcon:o,onPress:r,onClick:n=r})=>{let p=(0,H.useCallback)(d=>Q.captureError(d,K.Account),[]);return H.default.createElement("div",{className:Jt},H.default.createElement(be,{accountIndex:t,accountName:e,accountIcon:o,size:96,onError:p}),H.default.createElement("button",{type:"button",className:Gt,"data-testid":"edit-avatar-icon",onClick:n},H.default.createElement(Ze.Edit,{size:20})))}),Do=H.default.memo(({children:e,withMargin:t})=>{let o=t?20:"auto";return H.default.createElement(G,{direction:"row",alignItems:"center",justifyContent:"center",marginX:"auto",marginY:o},e)});i();a();i();a();var Me=v(k(),1);var Xt=s(({value:e,onChange:t})=>{let{t:o}=w();return Me.default.createElement(Io,null,Me.default.createElement(_t,{placeholder:o("assetListSearch"),value:e,onChange:r=>{"value"in r.target&&typeof r.target.value=="string"&&t(r.target.value)},showClearIcon:!!e,onClear:()=>{t("")}}))},"SettingsSearchHeader"),Io=y.div`
  padding: 14px 0 14px;
  background: ${S.colors.legacy.areaBase};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${S.colors.legacy.borderBase};
  }
`;i();a();i();a();var Wo=v(k());var Zt=Ye({minutes:5}),Rt=s((e,t)=>Ke({enabled:e!==null&&t,gcTime:Zt,staleTime:Zt,refetchInterval:!1,refetchOnMount:!1,...Ut(e)}),"useFetchShortcuts");i();a();var oo=v(k());i();a();function Lo(e,t){let o="type"in e&&e.type==="fungible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToTokenAddresses&&o.limitToTokenAddresses.length>0;return r&&!n?!0:r&&n?o.limitToTokenAddresses.some(p=>p===t.tokenAddress):!1}s(Lo,"filterFungible");function Mo(e,t){let o=!("type"in e)||e.type==="collectible"?e:null;if(!o)return!1;let r=o.platform==="all"||o.platform===t.platform,n=o.limitToCollections&&o.limitToCollections.length>0;return r&&!n?!0:r&&n?o.limitToCollections.some(p=>p===t.collectionId):!1}s(Mo,"filterCollectible");var eo=s((e,t)=>e?e.filter(o=>t.type==="fungible"?Lo(o,t):Mo(o,t)).slice(0,20):[],"filter");i();a();var to=s(({input:e,shortcuts:t})=>{if(t.length===0)return[];let o=JSON.stringify(t);return e.collectionId&&(o=o.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(o=o.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(o=o.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(o)},"parse");var ro=s((e,t,o)=>(0,oo.useMemo)(()=>{let r=to({input:t,shortcuts:e});return eo(r,o)},[e,t,o]),"useMappedShortcuts");function ce(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="fungible")}s(ce,"isFungible");function Bo(e){return ce(e)?Ie(e.externalUrl):Ie(e?.externalUrl)}s(Bo,"getUrl");function Ho(e){return ce(e)?!1:e?.collection.isSpam??!0}s(Ho,"isSpam");function Fo(e,t){let o=Bo(e),r=Vt(o)&&!!o&&!Ho(e)&&t,{data:n,isPending:p}=Rt(r&&o?new URL(o):null,t),d=ce(e)?"":_o(e)??"",m=ce(e)?e.tokenAddress:e?.id??"",g=Ve?"mobile":"desktop",b=ce(e)?{platform:g,tokenAddress:m,type:"fungible"}:{platform:g,collectionId:d,type:"collectible"},u=ro(n??[],{collectionId:d,tokenId:m,ownerAddress:e?.owner},b);return{isLoading:!e||p&&r,shortcuts:r?u:[]}}s(Fo,"useShortcuts");var _o=s(e=>{if(e?.chainData){if(ht(e.chainData))return e.chainData.contract;if(St(e.chainData))return e.collection.id;if(yt(e.chainData))return e.chainData.firstCreatedInscriptionId}},"getCollectionId");i();a();i();a();var we=v(k()),no=v(ko());var Be=new mt,so=s(({beforeReset:e}={})=>{let{mutateAsync:t}=wt(),{mutateAsync:o}=xt(),[r,n]=(0,we.useState)("idle"),p=r==="resetting",d=(0,we.useCallback)(async()=>{await e?.(),n("resetting"),J.capture("resetApp");let m=await Be.get(ke.ApiEnvironment);await Be.clear(),kt.clear(),m&&await Be.set(ke.ApiEnvironment,m),ft(),await bt.logOut(),await Tt(),await t(!0),await o(!0),no.default.runtime.reload()},[e,o,t]);return{isResetting:p,handleResetApp:d}},"useResetApp");i();a();i();a();i();a();var io=s(e=>e/6e4,"msToMin");var xe=s((e,t)=>{if(!t||t===0)return e("requireAuthImmediately");let o=io(t);return o===1?`1 ${e("timeUnitMinute")}`:o===60?`1 ${e("timeUnitHour")}`:o===1440?`1 ${e("timeUnitDay")}`:o>60?`${o/60} ${e("timeUnitHours")}`:`${o} ${e("timeUnitMinutes")}`},"formatLockTimer");var l=v(k(),1);i();a();i();a();var le=v(k(),1);var Ae=s(({onSuccess:e,type:t})=>{let{t:o}=w(),r=t===M.PrivateKey,n=o(r?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return le.default.createElement(le.default.Fragment,null,le.default.createElement(T,{shouldWrap:!0},n),le.default.createElement(De,{onSuccess:e,type:t}))},"SettingsExportSecretWarning");i();a();var W=v(k(),1);i();a();var ee=v(k(),1);var ao=ee.default.memo(({indexes:e,wordlist:t})=>ee.default.createElement($o,null,e.length&&t.length?e.map((o,r)=>ee.default.createElement(jo,{key:r},ee.default.createElement(zo,null,`${r+1}.`),ee.default.createElement(Vo,{"data-testid":`secret-recovery-phrase-word-input-${r}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[o],pattern:"[A-Za-z\\s]+"}))):Array.from({length:e?e.length:12},(o,r)=>ee.default.createElement(Oo,{key:r})))),jo=y(Y).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${S.colors.legacy.textBase};
  background: ${S.colors.legacy.areaAccent};
  border: 1px solid ${S.colors.legacy.borderDiminished};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,Oo=y(Ot).attrs({backgroundColor:S.colors.legacy.borderBase,borderRadius:"6px",height:"41px"})``,$o=y.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,zo=y(A).attrs({size:14,weight:400,color:S.colors.legacy.textDiminished})`
  padding-left: 8px;
  padding-right: 2px;
`,Vo=y.input`
  color: ${S.colors.legacy.textBase};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;i();a();var me=v(k(),1);var co=s(({type:e})=>{let{t}=w(),o=e===M.PrivateKey?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return me.default.createElement(Uo,{"data-testid":`warning-island-${e}`},me.default.createElement(Ht,{color:S.colors.legacy.spotNegative,title:me.default.createElement(tt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:o}},"Do ",me.default.createElement("u",null,"not")," share your ",o,"!"),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:o})}))},"WarningIsland"),Uo=y.div`
  margin-bottom: 20px;
`;var Te=s(({accountIdentifier:e,password:t,onDone:o})=>{let{t:r}=w(),{popDetailView:n}=D(),[{indexes:p,wordlist:d},m]=(0,W.useState)({indexes:[],wordlist:[]}),{data:g}=qe(e),b=(0,W.useCallback)(()=>{n(),n(),n()},[n]);return(0,W.useEffect)(()=>{(async()=>{if((g?.type===B.Seed||g?.type===B.Seedless)&&g?.seedIdentifier)try{let u=await t.foldAsync(se=>vt(Buffer.from(se).toString("utf-8"),g.seedIdentifier));if(!u)throw new Error("Could not get mnemonic");let C=await gt(),x=u.fold(C.fromEntropy),P=Array.from(await x.getIndexes());m({indexes:P,wordlist:C.wordlist}),Q.addBreadcrumb(K.Account,`\u2705 Exported S*ed for Account: ${e}`,ue.Info),J.capture("exportMnemonic")}catch{throw Q.addBreadcrumb(K.Account,`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(g)}"`,ue.Error),new Error("Could not get mnemonic")}else Q.addBreadcrumb(K.Account,`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(g)}"`,ue.Error)})()},[g,e,t]),W.default.createElement(W.default.Fragment,null,W.default.createElement(T,{shouldWrap:!0},r("exportSecretYourSecretRecoveryPhrase")),W.default.createElement(z,null,W.default.createElement(j,null,W.default.createElement(co,{type:M.Mnemonic}),W.default.createElement(ao,{indexes:p,wordlist:d}))),W.default.createElement(Wt,{onClick:o||b},r("pastParticipleDone")))},"SettingsExportSeedPhrase");i();a();var c=v(k(),1);var He=s(({navigationCallback:e})=>{let{t}=w(),{data:o=[]}=re(),{data:r=[]}=q("all"),p=!(r?.length>0),d=ve(u=>u.editableAccountMetadata),m=ve(u=>u.setEditableAccountMetadata),g=(0,c.useCallback)(u=>{m&&m({...d,seedIdentifier:u})},[d,m]),b=(0,c.useCallback)(u=>{g(u),e(u)},[g,e]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(T,{icon:c.default.createElement(Dt,{fill:S.colors.legacy.textDiminished})},t("settingsSelectSecretPhrase")),c.default.createElement(z,null,p?c.default.createElement(fe,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):c.default.createElement(G,{gap:8},c.default.createElement(Qo,null,r?.map((u,C)=>c.default.createElement(No,{key:`seed-select-${u.identifier}`,accounts:Qe(o,u.identifier),seedIdentifier:u.identifier,onClick:b,index:C}))))))},"SettingsSelectSeed"),No=s(({accounts:e,seedIdentifier:t,index:o,onClick:r})=>{let{t:n}=w(),[p,d]=(0,c.useState)(!1),[m,g]=(0,c.useState)(!1),b=(0,c.useCallback)(()=>{d(!p)},[p,d]),u=(0,c.useCallback)(()=>{m||r(t)},[m,r,t]),C=(0,c.useMemo)(()=>e.length>1?n(p?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(p?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,p,n]),x=(0,c.useMemo)(()=>e.length>=1?{onMouseEnter:s(()=>g(!0),"onMouseEnter"),onMouseLeave:s(()=>g(!1),"onMouseLeave"),onClick:b}:null,[e.length,b]);return c.default.createElement(Yo,{onClick:u},c.default.createElement(mo,null,c.default.createElement(qo,null,c.default.createElement(Go,null,c.default.createElement(Jo,null,n("addAccountSecretPhraseDefaultLabel",{number:o+1})),c.default.createElement(Zo,{...x},C)),c.default.createElement(Y,{width:"fit-content"},c.default.createElement(po,null,c.default.createElement(Ee,{fill:S.colors.legacy.textDiminished,width:10})))),c.default.createElement(Ko,{accounts:e,expanded:p})))},"MultiChainSelectSeedItem"),Ko=s(({accounts:e,expanded:t})=>{let[o,{height:r}]=Lt(),n=(0,c.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:r},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[r]);return c.default.createElement(Re,{mode:"wait"},t&&e.length>0&&c.default.createElement(lo,{...n},c.default.createElement(lo,{ref:o},c.default.createElement(Ro,null,e.map((p,d)=>c.default.createElement(Y,{key:`account-${p.identifier}`,justify:"flex-start"},c.default.createElement(Le,{size:24,accountIcon:p.icon,accountName:p.name,accountIndex:d}),c.default.createElement(Xo,{style:{marginLeft:6}},p.name)))))))},"SelectSeedAssociatedAccounts"),Qo=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,Yo=y(Y).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${S.colors.legacy.elementBase};
  border-radius: 8px;
  &:hover {
    background-color: ${S.colors.legacy.elementAccent};
  }
`,qo=y(Y).attrs({justify:"space-between"})`
  padding: 15px;
`,Go=y.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,Jo=y(A).attrs({size:16,weight:500,lineHeight:19})``,Xo=y(A).attrs({size:15,weight:500,lineHeight:19})``,Zo=y(A).attrs({size:13,weight:500,lineHeight:19})`
  color: ${S.colors.legacy.spotBase};
  margin-top: 2px;
`,mo=y.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,Ro=y(mo)`
  border-top: 1px solid ${S.colors.legacy.areaBase};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,lo=y(et.div)`
  overflow: hidden;
`,yi=s(({accounts:e,seedMetas:t,onClick:o,selectedSeedIdentifier:r})=>{let{t:n}=w(),p=(0,c.useMemo)(()=>{if(!t||!r)return 0;let m=t.find(g=>g.identifier===r);return m?t.indexOf(m):0},[t,r]),d=(0,c.useMemo)(()=>!e||!r?[]:e.filter(m=>(m.type===B.Seed||m.type===B.Seedless)&&m.seedIdentifier===r),[e,r]);return c.default.createElement(er,null,c.default.createElement(nr,null,n("addAccountSecretPhraseLabel")),c.default.createElement(tr,{onClick:o,"data-testid":"select-secret-phrase-button"},c.default.createElement(Y,{justify:"space-between"},c.default.createElement(Y,null,c.default.createElement(or,null,n("addAccountSecretPhraseDefaultLabel",{number:p+1})," ",c.default.createElement(rr,null,"(",d.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:d.length}):n("addAccountOneAccountsForSeed"),")"))),c.default.createElement(po,null,c.default.createElement(Ee,{fill:S.colors.legacy.textDiminished,width:10})))),c.default.createElement(uo,null,n("addAccountSelectSeedDescription")))},"MultiChainSelectSeedDropdown"),er=y($t)`
  width: 100%;
  position: relative;
`,tr=y(zt)`
  padding: 8px 16px 8px 12px;
`,po=y.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,or=y(A).attrs({size:16,weight:400,lineHeight:19})``,rr=y(A).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${S.colors.legacy.textDiminished};
`,uo=y(A).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${S.colors.legacy.textDiminished};
`,nr=y(uo)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;i();a();i();a();var Fe=s(e=>e*6e4,"minToMs");i();a();var fo=s(e=>e/6e4,"msToMin");var U=v(k(),1);var pe=[0,1,5,10,15,30,60,240,480,1440],go=s(()=>{let{t:e}=w(),{popDetailView:t}=D(),{data:o}=ge(),{mutateAsync:r}=it(),n=(0,U.useCallback)(async d=>{try{let m=Fe(d);await r({lockTimeInMs:m}),J.capture("changeLockTimerDuration",{data:{mins:d}}),t(),o!==m&&Se.success(e("changeLockTimerToast"))}catch(m){console.error(m)}},[o,t,r,e]),p=(0,U.useMemo)(()=>{if(o===void 0)return[];let d=fo(o);return sr(d),pe.map(m=>({topLeft:{text:xe(e,Fe(m))},active:d===m,type:"radio",onClick:s(()=>n(m),"onClick")}))},[o,n,e]);return U.default.createElement(U.default.Fragment,null,U.default.createElement(T,null,e("changeLockTimerPrimaryText")),U.default.createElement(z,null,U.default.createElement(_,{rows:p})))},"SettingsAutoLockTimer"),sr=s(async e=>{if(!pe.includes(e)){let t=pe.findIndex(o=>o>e);t?pe.splice(t,0,e):pe.push(e)}},"migrateOldTimerValue");i();a();var I=v(k(),1);var ir={currentPassword:"",password:"",confirmPassword:""},ar={currentPassword:void 0,password:void 0,confirmPassword:void 0},So=s(()=>{let{t:e}=w(),{popDetailView:t}=D(),[o,r]=(0,I.useState)(ir),{currentPassword:n,password:p,confirmPassword:d}=o,[m,g]=(0,I.useState)(ar),b=m.password??m.confirmPassword??m.currentPassword,u=!n||!p||!d,[C,x]=(0,I.useState)(!1),P=s(X=>{let N=X.currentTarget.name,Z=X.currentTarget.value;r({...o,[N]:Z})},"handlePasswordChange");return I.default.createElement(ye,{onSubmit:s(async X=>{X.preventDefault(),x(!0);let N,Z=Kt(p)??Yt(n,p),ie=Qt(p,d);if(Z||ie)return g({...m,password:Z,confirmPassword:ie}),x(!1);try{if(!await Ct(n))throw new Error("Incorrect password");await Pt(n,d),x(!1),t(),Se.success(e("changePasswordToast"))}catch(oe){Q.captureError(oe,K.Account),N=oe?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),g({...m,currentPassword:N}),x(!1)}},"handleSubmit")},I.default.createElement(T,null,e("changePasswordPrimaryText")),I.default.createElement(V,{size:"large"},I.default.createElement(j,null,I.default.createElement(Et,null),I.default.createElement(A,{size:26,weight:500},e("changePasswordPrimaryText")),I.default.createElement(Nt,null,I.default.createElement(he,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!m.currentPassword,onChange:P}),I.default.createElement(he,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!m.password,onChange:P}),I.default.createElement(he.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!m.confirmPassword,warningMessage:b,onChange:P}))),I.default.createElement($,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:u||C,primaryLoading:C})))},"SettingsChangePassword");i();a();var E=v(k(),1);i();a();var O=v(k(),1);var Ce=s(({beforeReset:e})=>{let{t}=w(),{popDetailView:o}=D(),{isResetting:r,handleResetApp:n}=so({beforeReset:e});return O.default.createElement(O.default.Fragment,null,O.default.createElement(T,null,t("settingsResetApp")),O.default.createElement(V,{size:"large"},O.default.createElement("div",null),O.default.createElement(j,null,O.default.createElement(ne,null),O.default.createElement(A,{size:28,weight:500,lineHeight:34},t("resetSeedPrimaryText")),O.default.createElement(A,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px"},t("resetSeedSecondaryText"))),O.default.createElement($,{primaryDisabled:r,primaryLoading:r,primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:n,onSecondaryClicked:o})))},"SettingsResetApp");var ho=s(({beforeReset:e})=>{let{t}=w(),{popDetailView:o,pushDetailView:r}=D(),{data:n=[]}=re(),p=n.filter(u=>u.type===B.Seedless),{data:d=[]}=q("recoverable-only"),m=(0,E.useCallback)((u,C,x)=>{r(E.default.createElement(Ae,{type:M.Mnemonic,onSuccess:()=>r(E.default.createElement(Te,{accountIdentifier:C,password:u,onDone:x}))}))},[r]),g=(0,E.useCallback)((u,C)=>{let x=p.find(P=>P.seedIdentifier===u);x&&r(E.default.createElement(ae,{type:M.Mnemonic,onSuccess:P=>m(P,x.identifier,C)}))},[p,r,m]),b=s(()=>{g(d[0].identifier,()=>{r(E.default.createElement(Ce,{beforeReset:e}))})},"handleContinue");return E.default.createElement(E.default.Fragment,null,E.default.createElement(T,null,t("settingsDeleteSeedlessBundle")),E.default.createElement(V,{size:"large"},E.default.createElement("div",null),E.default.createElement(j,null,E.default.createElement(ne,null),E.default.createElement(A,{size:28,weight:500,lineHeight:34},t("settingsDeleteSeedlessBundle")),E.default.createElement(A,{size:16,color:"textDiminished",lineHeight:19,maxWidth:"312px"},t("settingsDeleteSeedlessBundleDescription"))),E.default.createElement($,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:b,onSecondaryClicked:o})))},"SettingsDeleteSeedlessBundle");i();a();var L=v(k(),1);var cr=y.div`
  border: 1px solid ${S.colors.legacy.spotWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,yo=L.default.memo(()=>{let{t:e}=w(),{downloadLogs:t,goSupportDesk:o,isFetching:r}=qt();return L.default.createElement(ye,{onSubmit:t},L.default.createElement(T,null,e("settingsDownloadApplicationLogs")),L.default.createElement(V,{size:"medium"},L.default.createElement("div",null),L.default.createElement(j,null,L.default.createElement(jt,{diameter:96,color:Bt(S.colors.legacy.spotBase,.1)},L.default.createElement(It,null)),L.default.createElement(A,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px"},e("settingsDownloadApplicationLogs")),L.default.createElement(A,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,margin:"0 0 4px"},e("settingsDownloadApplicationLogsHelper")),L.default.createElement(cr,null,L.default.createElement(A,{size:14,color:S.colors.legacy.spotWarning,lineHeight:20,weight:500},e("settingsDownloadApplicationLogsWarning")))),L.default.createElement($,{primaryDisabled:r,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:o})))});i();a();var F=v(k(),1);var wo=s(({seedIdentifier:e})=>{let{t}=w(),{hideSettingsMenu:o}=Mt(),{mutate:r}=Je(),{data:n=[]}=q("all"),p=n.findIndex(g=>g.identifier===e)??0,d=(0,F.useCallback)(()=>{r({seedIdentifier:e}),J.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),o()},[o,r,e,n]),{popDetailView:m}=D();return F.default.createElement(F.default.Fragment,null,F.default.createElement(T,null,t("settingsRemoveSecretPhrase")),F.default.createElement(V,{size:"large"},F.default.createElement("div",null),F.default.createElement(j,null,F.default.createElement(ne,null),F.default.createElement(A,{size:28,weight:500,lineHeight:34},t("removeSeedPrimaryText",{number:p+1})),F.default.createElement(A,{size:16,color:S.colors.legacy.textDiminished,lineHeight:19,maxWidth:"312px"},t("removeSeedSecondaryText",{number:p+1}))),F.default.createElement($,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:d,onSecondaryClicked:m})))},"SettingsRemoveSeed");var zc=s(()=>{let{t:e}=w(),{pushDetailViewCallback:t,pushDetailView:o}=D(),{data:r=[]}=re(),n=r.filter(f=>f.type===B.Seed||f.type===B.Seedless),p=n.filter(f=>f.type===B.Seed),d=n.filter(f=>f.type===B.Seedless),m=Xe(),{data:[g]}=Ue(["enable-delete-seedless-bundle-security-settings"]),b=ot(),{data:u=[]}=q("recoverable-only"),{additionalPermissionRows:C}=lr(),{data:x}=ge(),{data:P,isPending:se}=nt(),{mutate:X}=st(),{data:N,isPending:Z}=at(),{mutate:ie}=ct(),oe=(0,l.useCallback)(()=>{X({isAnalyticsOptedOut:!P})},[P,X]),_e=(0,l.useCallback)(()=>{ie({showWalletShortcuts:!N}),At.invalidateQueries({queryKey:[We]})},[N,ie]),xo=(0,l.useCallback)(f=>{o(l.default.createElement(Ft,{password:f,isSettings:!0}))},[o]),je=t(l.default.createElement(ae,{type:M.Seedless,onSuccess:xo})),Ao=(0,l.useMemo)(()=>{let f=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t(l.default.createElement(So,null))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:xe(e,x)},type:"drawer",onClick:t(l.default.createElement(go,null))}];return u.length&&f.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:je}),f},[u.length,x,t,je,e]),To=(0,l.useMemo)(()=>{let f=[];return f.push({topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t(l.default.createElement(yo,null))}),f},[t,e]),Co=(0,l.useMemo)(()=>{let f=[];return Z||f.push({id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:N??rt,type:"toggle",onClick:_e}),f},[N,Z,_e,e]),Po=(0,l.useMemo)(()=>{let f=[];return se||f.push({id:"toggleAnalytics",active:!P,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:oe}),f},[P,se,oe,e]),Oe=(0,l.useCallback)((f,R,de)=>{o(l.default.createElement(Ae,{type:M.Mnemonic,onSuccess:()=>o(l.default.createElement(Te,{accountIdentifier:R,password:f,onDone:de}))}))},[o]),$e=(0,l.useCallback)((f,R)=>{let de=n.find(Pe=>Pe.seedIdentifier===f);de&&o(l.default.createElement(ae,{type:M.Mnemonic,onSuccess:Pe=>Oe(Pe,de.identifier,R)}))},[o,n,Oe]),vo=(0,l.useMemo)(()=>{let f=[];return(p.length||d.length)&&f.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t(l.default.createElement(He,{navigationCallback:R=>$e(R)}))}),f},[p.length,d.length,e,t,$e]),bo=(0,l.useMemo)(()=>{let f=[];return m&&f.push({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"spotNegative"},onClick:t(l.default.createElement(He,{navigationCallback:R=>o(l.default.createElement(wo,{seedIdentifier:R}))}))}),g&&u.length&&f.push({topLeft:{text:e("settingsDeleteSeedlessBundle"),color:"spotNegative"},onClick:t(l.default.createElement(ho,{beforeReset:b}))}),f.push({topLeft:{text:e("settingsResetApp"),color:"spotNegative"},onClick:t(l.default.createElement(Ce,null))}),f},[b,g,o,t,u,m,e]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(T,null,e("settingsSecurityPrimary")),l.default.createElement(z,null,l.default.createElement(G,{gap:"section"},l.default.createElement(_,{rows:Ao}),l.default.createElement(_,{rows:To}),C.length>0?l.default.createElement(_,{rows:C}):null,l.default.createElement(_,{rows:Co}),l.default.createElement(G,{gap:"list"},l.default.createElement(_,{rows:Po}),l.default.createElement(G,{paddingX:4},l.default.createElement(fe,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textDiminished"}))),l.default.createElement(_,{rows:vo}),l.default.createElement(_,{rows:bo}))))},"SecuritySettings");function lr(){let e=Ge(),{t}=w(),o=ze(h.IS_FIREFOX),r=Ne.isFeatureEnabled("always-show-all-sites-permissions"),[n,p]=(0,l.useState)(null),[d,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let x=!0;return(async()=>{let P=await pt();x&&p(P)})(),()=>{x=!1}},[p]);let[g,b]=(0,l.useState)(!1),u=(0,l.useCallback)(async()=>{b(!0);try{let x=!!n;if(x)await ut(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:x,newValue:!1}}),p(!1);else{let P=await dt();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:x,newValue:P}}),p(P)}}catch(x){x instanceof Error&&x.message.includes("You cannot remove required permissions")?m(!0):(console.error("Failed to set permissions"),console.error(x))}finally{b(!1)}},[n,e]),C=(0,l.useMemo)(()=>o||r?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:d||g,onClick:u,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(d?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[o,r,n,d,g,u,t]);return(0,l.useMemo)(()=>({additionalPermissionRows:C}),[C])}s(lr,"useAllSitesPermissions");i();a();var te=v(k(),1);var Rc=s(()=>{let{t:e}=w(),{popDetailView:t}=D(),{currencyRows:o,searchQuery:r,setSearchQuery:n}=lt({goBack:t});return te.default.createElement(te.default.Fragment,null,te.default.createElement(T,null,e("settingsCurrency")),te.default.createElement(Xt,{value:r,onChange:n}),te.default.createElement(z,null,te.default.createElement(_,{rows:o})))},"SettingsCurrencyList");export{Le as a,Eo as b,Do as c,He as d,yi as e,ao as f,co as g,Ae as h,Te as i,Xt as j,xe as k,Rc as l,go as m,So as n,yo as o,wo as p,Fo as q,so as r,zc as s};
//# sourceMappingURL=chunk-EKSIBE3F.js.map
