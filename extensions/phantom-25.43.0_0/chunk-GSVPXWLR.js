import{A as c1,I as f1,J as u1,K as KA,L as BW,a as o1,b as s1,c as or,d as iu,e as aa,f as Xo,g as mn,i as _n,j as a1,k as zA,l as Zo,z as kW}from"./chunk-P42QO3R7.js";import{C as NY,D as VM,E as TOe,F as IOe,G as OOe,H as MY,I as NOe,J as MOe,K as COe,L as POe,M as jM,N as CY,O as kOe,P as BOe,a as fo,b as A_,d as R_,g as vOe,h as xOe,i as FM,j as qM,k as HM,l as _Oe,t as wOe,u as EOe,w as SOe,x as s3,y as AOe,z as ROe}from"./chunk-LYTSCHVN.js";import{e as OY}from"./chunk-RCTLXTBM.js";import{$ as fY,A as $W,Aa as o3,B as WW,Ba as SY,C as YW,Ca as AY,D as ZA,Da as RY,E as UM,F as XW,I as h1,J as ZW,K as JW,L as QW,M as As,N as eY,O as tY,P as JA,Q as QA,R as O_,T as rY,U as nY,V as iY,W as oY,X as p1,Y as sY,Z as aY,_ as cY,a as eo,aa as uY,b as LW,ba as $h,bb as TY,c as DW,ca as e3,cb as IY,d as cl,da as lY,e as UW,ea as dY,f as YA,fa as hY,g as FW,ga as pY,h as Gh,ha as mY,i as qW,j as HW,ja as t3,k as VW,ka as gY,l as LM,la as wd,m as d1,ma as yY,n as jW,o as Jn,oa as r3,p as I_,pa as m1,q as zW,qa as bY,ra as vY,s as XA,sa as xY,ta as _Y,u as dc,ua as n3,w as DM,wa as wY,x as KW,xa as g1,ya as i3,z as GW,za as EY}from"./chunk-Z26KXQRL.js";import{a as T_}from"./chunk-NUMCZRU4.js";import{h as $A,k as WA}from"./chunk-P5BPG5MC.js";import{g as we,j as Oa,l as l1,m as GA,x as BM}from"./chunk-PPQ6BNOX.js";import{a as o,b as CW,d as q,e as PW,f as Kh,g as et,i as p,j as I,l as ci,m as Buffer,n as m}from"./chunk-NSVULBS3.js";var N_=q(fl=>{"use strict";p();m();Object.defineProperty(fl,"__esModule",{value:!0});fl.isBytes=kY;fl.number=a3;fl.bool=PY;fl.bytes=zM;fl.hash=BY;fl.exists=LY;fl.output=DY;function a3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}o(a3,"number");function PY(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}o(PY,"bool");function kY(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(kY,"isBytes");function zM(t,...e){if(!kY(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}o(zM,"bytes");function BY(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");a3(t.outputLen),a3(t.blockLen)}o(BY,"hash");function LY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(LY,"exists");function DY(t,e){zM(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(DY,"output");var LOe={number:a3,bool:PY,bytes:zM,hash:BY,exists:LY,output:DY};fl.default=LOe});var UY=q(c3=>{"use strict";p();m();Object.defineProperty(c3,"__esModule",{value:!0});c3.crypto=void 0;c3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Sd=q(xr=>{"use strict";p();m();Object.defineProperty(xr,"__esModule",{value:!0});xr.Hash=xr.nextTick=xr.byteSwapIfBE=xr.byteSwap=xr.isLE=xr.rotl=xr.rotr=xr.createView=xr.u32=xr.u8=void 0;xr.isBytes=DOe;xr.byteSwap32=zOe;xr.bytesToHex=GOe;xr.hexToBytes=$Oe;xr.asyncLoop=YOe;xr.utf8ToBytes=qY;xr.toBytes=f3;xr.concatBytes=XOe;xr.checkOpts=JOe;xr.wrapConstructor=QOe;xr.wrapConstructorWithOpts=e7e;xr.wrapXOFConstructorWithOpts=t7e;xr.randomBytes=r7e;var y1=UY(),GM=N_();function DOe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(DOe,"isBytes");var UOe=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");xr.u8=UOe;var FOe=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");xr.u32=FOe;var qOe=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");xr.createView=qOe;var HOe=o((t,e)=>t<<32-e|t>>>e,"rotr");xr.rotr=HOe;var VOe=o((t,e)=>t<<e|t>>>32-e>>>0,"rotl");xr.rotl=VOe;xr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var jOe=o(t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,"byteSwap");xr.byteSwap=jOe;xr.byteSwapIfBE=xr.isLE?t=>t:t=>(0,xr.byteSwap)(t);function zOe(t){for(let e=0;e<t.length;e++)t[e]=(0,xr.byteSwap)(t[e])}o(zOe,"byteSwap32");var KOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GOe(t){(0,GM.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=KOe[t[r]];return e}o(GOe,"bytesToHex");var Ed={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function FY(t){if(t>=Ed._0&&t<=Ed._9)return t-Ed._0;if(t>=Ed._A&&t<=Ed._F)return t-(Ed._A-10);if(t>=Ed._a&&t<=Ed._f)return t-(Ed._a-10)}o(FY,"asciiToBase16");function $Oe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=FY(t.charCodeAt(s)),f=FY(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o($Oe,"hexToBytes");var WOe=o(async()=>{},"nextTick");xr.nextTick=WOe;async function YOe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,xr.nextTick)(),n+=s)}}o(YOe,"asyncLoop");function qY(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(qY,"utf8ToBytes");function f3(t){return typeof t=="string"&&(t=qY(t)),(0,GM.bytes)(t),t}o(f3,"toBytes");function XOe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,GM.bytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(XOe,"concatBytes");var KM=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};xr.Hash=KM;var ZOe={}.toString;function JOe(t,e){if(e!==void 0&&ZOe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(JOe,"checkOpts");function QOe(t){let e=o(n=>t().update(f3(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(QOe,"wrapConstructor");function e7e(t){let e=o((n,i)=>t(i).update(f3(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(e7e,"wrapConstructorWithOpts");function t7e(t){let e=o((n,i)=>t(i).update(f3(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(t7e,"wrapXOFConstructorWithOpts");function r7e(t=32){if(y1.crypto&&typeof y1.crypto.getRandomValues=="function")return y1.crypto.getRandomValues(new Uint8Array(t));if(y1.crypto&&typeof y1.crypto.randomBytes=="function")return y1.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}o(r7e,"randomBytes")});var YM=q(Wh=>{"use strict";p();m();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.HashMD=Wh.Maj=Wh.Chi=void 0;var $M=N_(),M_=Sd();function n7e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(n7e,"setBigUint64");var i7e=o((t,e,r)=>t&e^~t&r,"Chi");Wh.Chi=i7e;var o7e=o((t,e,r)=>t&e^t&r^e&r,"Maj");Wh.Maj=o7e;var WM=class extends M_.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,M_.createView)(this.buffer)}update(e){(0,$M.exists)(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,M_.toBytes)(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,M_.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,$M.exists)(this),(0,$M.output)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;n7e(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,M_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};Wh.HashMD=WM});var JM=q(Zt=>{"use strict";p();m();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.add5L=Zt.add5H=Zt.add4H=Zt.add4L=Zt.add3H=Zt.add3L=Zt.rotlBL=Zt.rotlBH=Zt.rotlSL=Zt.rotlSH=Zt.rotr32L=Zt.rotr32H=Zt.rotrBL=Zt.rotrBH=Zt.rotrSL=Zt.rotrSH=Zt.shrSL=Zt.shrSH=Zt.toBig=void 0;Zt.fromBig=ZM;Zt.split=HY;Zt.add=tX;var u3=BigInt(2**32-1),XM=BigInt(32);function ZM(t,e=!1){return e?{h:Number(t&u3),l:Number(t>>XM&u3)}:{h:Number(t>>XM&u3)|0,l:Number(t&u3)|0}}o(ZM,"fromBig");function HY(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=ZM(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(HY,"split");var VY=o((t,e)=>BigInt(t>>>0)<<XM|BigInt(e>>>0),"toBig");Zt.toBig=VY;var jY=o((t,e,r)=>t>>>r,"shrSH");Zt.shrSH=jY;var zY=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");Zt.shrSL=zY;var KY=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");Zt.rotrSH=KY;var GY=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");Zt.rotrSL=GY;var $Y=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");Zt.rotrBH=$Y;var WY=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");Zt.rotrBL=WY;var YY=o((t,e)=>e,"rotr32H");Zt.rotr32H=YY;var XY=o((t,e)=>t,"rotr32L");Zt.rotr32L=XY;var ZY=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");Zt.rotlSH=ZY;var JY=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");Zt.rotlSL=JY;var QY=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");Zt.rotlBH=QY;var eX=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");Zt.rotlBL=eX;function tX(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(tX,"add");var rX=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");Zt.add3L=rX;var nX=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");Zt.add3H=nX;var iX=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");Zt.add4L=iX;var oX=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");Zt.add4H=oX;var sX=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");Zt.add5L=sX;var aX=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");Zt.add5H=aX;var s7e={fromBig:ZM,split:HY,toBig:VY,shrSH:jY,shrSL:zY,rotrSH:KY,rotrSL:GY,rotrBH:$Y,rotrBL:WY,rotr32H:YY,rotr32L:XY,rotlSH:ZY,rotlSL:JY,rotlBH:QY,rotlBL:eX,add:tX,add3L:rX,add3H:nX,add4L:iX,add4H:oX,add5H:aX,add5L:sX};Zt.default=s7e});var cX=q(No=>{"use strict";p();m();Object.defineProperty(No,"__esModule",{value:!0});No.sha384=No.sha512_256=No.sha512_224=No.sha512=No.SHA384=No.SHA512_256=No.SHA512_224=No.SHA512=void 0;var a7e=YM(),hr=JM(),p3=Sd(),[c7e,f7e]=hr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Yh=new Uint32Array(80),Xh=new Uint32Array(80),Am=class extends a7e.HashMD{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:g,Fh:b,Fl:A,Gh:T,Gl:O,Hh:N,Hl:P}=this;return[e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P]}set(e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=g|0,this.Fh=b|0,this.Fl=A|0,this.Gh=T|0,this.Gl=O|0,this.Hh=N|0,this.Hl=P|0}process(e,r){for(let M=0;M<16;M++,r+=4)Yh[M]=e.getUint32(r),Xh[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=Yh[M-15]|0,V=Xh[M-15]|0,j=hr.default.rotrSH(U,V,1)^hr.default.rotrSH(U,V,8)^hr.default.shrSH(U,V,7),ee=hr.default.rotrSL(U,V,1)^hr.default.rotrSL(U,V,8)^hr.default.shrSL(U,V,7),Y=Yh[M-2]|0,te=Xh[M-2]|0,E=hr.default.rotrSH(Y,te,19)^hr.default.rotrBH(Y,te,61)^hr.default.shrSH(Y,te,6),c=hr.default.rotrSL(Y,te,19)^hr.default.rotrBL(Y,te,61)^hr.default.shrSL(Y,te,6),d=hr.default.add4L(ee,c,Xh[M-7],Xh[M-16]),y=hr.default.add4H(d,j,E,Yh[M-7],Yh[M-16]);Yh[M]=y|0,Xh[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:g,Eh:b,El:A,Fh:T,Fl:O,Gh:N,Gl:P,Hh:C,Hl:D}=this;for(let M=0;M<80;M++){let U=hr.default.rotrSH(b,A,14)^hr.default.rotrSH(b,A,18)^hr.default.rotrBH(b,A,41),V=hr.default.rotrSL(b,A,14)^hr.default.rotrSL(b,A,18)^hr.default.rotrBL(b,A,41),j=b&T^~b&N,ee=A&O^~A&P,Y=hr.default.add5L(D,V,ee,f7e[M],Xh[M]),te=hr.default.add5H(Y,C,U,j,c7e[M],Yh[M]),E=Y|0,c=hr.default.rotrSH(n,i,28)^hr.default.rotrBH(n,i,34)^hr.default.rotrBH(n,i,39),d=hr.default.rotrSL(n,i,28)^hr.default.rotrBL(n,i,34)^hr.default.rotrBL(n,i,39),y=n&s^n&f^s&f,v=i&a^i&l^a&l;C=N|0,D=P|0,N=T|0,P=O|0,T=b|0,O=A|0,{h:b,l:A}=hr.default.add(h|0,g|0,te|0,E|0),h=f|0,g=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let w=hr.default.add3L(E,d,v);n=hr.default.add3H(w,te,c,y),i=w|0}({h:n,l:i}=hr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=hr.default.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=hr.default.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:g}=hr.default.add(this.Dh|0,this.Dl|0,h|0,g|0),{h:b,l:A}=hr.default.add(this.Eh|0,this.El|0,b|0,A|0),{h:T,l:O}=hr.default.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:N,l:P}=hr.default.add(this.Gh|0,this.Gl|0,N|0,P|0),{h:C,l:D}=hr.default.add(this.Hh|0,this.Hl|0,C|0,D|0),this.set(n,i,s,a,f,l,h,g,b,A,T,O,N,P,C,D)}roundClean(){Yh.fill(0),Xh.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};No.SHA512=Am;var l3=class extends Am{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};No.SHA512_224=l3;var d3=class extends Am{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};No.SHA512_256=d3;var h3=class extends Am{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};No.SHA384=h3;No.sha512=(0,p3.wrapConstructor)(()=>new Am);No.sha512_224=(0,p3.wrapConstructor)(()=>new l3);No.sha512_256=(0,p3.wrapConstructor)(()=>new d3);No.sha384=(0,p3.wrapConstructor)(()=>new h3)});var ou=q(gn=>{"use strict";p();m();Object.defineProperty(gn,"__esModule",{value:!0});gn.notImplemented=gn.bitMask=void 0;gn.isBytes=g3;gn.abytes=y3;gn.abool=l7e;gn.bytesToHex=rC;gn.numberToHexUnpadded=lX;gn.hexToNumber=nC;gn.hexToBytes=b3;gn.bytesToNumberBE=h7e;gn.bytesToNumberLE=p7e;gn.numberToBytesBE=dX;gn.numberToBytesLE=m7e;gn.numberToVarBytesBE=g7e;gn.ensureBytes=y7e;gn.concatBytes=hX;gn.equalBytes=b7e;gn.utf8ToBytes=v7e;gn.inRange=pX;gn.aInRange=x7e;gn.bitLen=_7e;gn.bitGet=w7e;gn.bitSet=E7e;gn.createHmacDrbg=A7e;gn.validateObject=T7e;gn.memoized=O7e;var tC=BigInt(0),m3=BigInt(1),u7e=BigInt(2);function g3(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(g3,"isBytes");function y3(t){if(!g3(t))throw new Error("Uint8Array expected")}o(y3,"abytes");function l7e(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}o(l7e,"abool");var d7e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rC(t){y3(t);let e="";for(let r=0;r<t.length;r++)e+=d7e[t[r]];return e}o(rC,"bytesToHex");function lX(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(lX,"numberToHexUnpadded");function nC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(nC,"hexToNumber");var Ad={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function fX(t){if(t>=Ad._0&&t<=Ad._9)return t-Ad._0;if(t>=Ad._A&&t<=Ad._F)return t-(Ad._A-10);if(t>=Ad._a&&t<=Ad._f)return t-(Ad._a-10)}o(fX,"asciiToBase16");function b3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=fX(t.charCodeAt(s)),f=fX(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(b3,"hexToBytes");function h7e(t){return nC(rC(t))}o(h7e,"bytesToNumberBE");function p7e(t){return y3(t),nC(rC(Uint8Array.from(t).reverse()))}o(p7e,"bytesToNumberLE");function dX(t,e){return b3(t.toString(16).padStart(e*2,"0"))}o(dX,"numberToBytesBE");function m7e(t,e){return dX(t,e).reverse()}o(m7e,"numberToBytesLE");function g7e(t){return b3(lX(t))}o(g7e,"numberToVarBytesBE");function y7e(t,e,r){let n;if(typeof e=="string")try{n=b3(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(g3(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(y7e,"ensureBytes");function hX(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];y3(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(hX,"concatBytes");function b7e(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(b7e,"equalBytes");function v7e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(v7e,"utf8ToBytes");var QM=o(t=>typeof t=="bigint"&&tC<=t,"isPosBig");function pX(t,e,r){return QM(t)&&QM(e)&&QM(r)&&e<=t&&t<r}o(pX,"inRange");function x7e(t,e,r,n){if(!pX(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}o(x7e,"aInRange");function _7e(t){let e;for(e=0;t>tC;t>>=m3,e+=1);return e}o(_7e,"bitLen");function w7e(t,e){return t>>BigInt(e)&m3}o(w7e,"bitGet");function E7e(t,e,r){return t|(r?m3:tC)<<BigInt(e)}o(E7e,"bitSet");var S7e=o(t=>(u7e<<BigInt(t-1))-m3,"bitMask");gn.bitMask=S7e;var eC=o(t=>new Uint8Array(t),"u8n"),uX=o(t=>Uint8Array.from(t),"u8fr");function A7e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=eC(t),i=eC(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),f=o((...b)=>r(i,n,...b),"h"),l=o((b=eC())=>{i=f(uX([0]),b),n=f(),b.length!==0&&(i=f(uX([1]),b),n=f())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,A=[];for(;b<e;){n=f();let T=n.slice();A.push(T),b+=n.length}return hX(...A)},"gen");return o((b,A)=>{a(),l(b);let T;for(;!(T=A(h()));)l();return a(),T},"genUntil")}o(A7e,"createHmacDrbg");var R7e={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||g3(t),"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function T7e(t,e,r={}){let n=o((i,s,a)=>{let f=R7e[s];if(typeof f!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!f(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(T7e,"validateObject");var I7e=o(()=>{throw new Error("not implemented")},"notImplemented");gn.notImplemented=I7e;function O7e(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let s=t(r,...n);return e.set(r,s),s}}o(O7e,"memoized")});var Jh=q(fi=>{"use strict";p();m();Object.defineProperty(fi,"__esModule",{value:!0});fi.isNegativeLE=void 0;fi.mod=hc;fi.pow=yX;fi.pow2=P7e;fi.invert=v3;fi.tonelliShanks=bX;fi.FpSqrt=vX;fi.validateField=L7e;fi.FpPow=xX;fi.FpInvertBatch=_X;fi.FpDiv=D7e;fi.FpLegendre=wX;fi.FpIsSquare=U7e;fi.nLength=oC;fi.Field=F7e;fi.FpSqrtOdd=q7e;fi.FpSqrtEven=H7e;fi.hashToPrivateScalar=V7e;fi.getFieldBytesLength=sC;fi.getMinHashLength=EX;fi.mapHashToField=j7e;var pc=ou(),uo=BigInt(0),Fn=BigInt(1),Zh=BigInt(2),N7e=BigInt(3),iC=BigInt(4),mX=BigInt(5),gX=BigInt(8),M7e=BigInt(9),C7e=BigInt(16);function hc(t,e){let r=t%e;return r>=uo?r:e+r}o(hc,"mod");function yX(t,e,r){if(r<=uo||e<uo)throw new Error("Expected power/modulo > 0");if(r===Fn)return uo;let n=Fn;for(;e>uo;)e&Fn&&(n=n*t%r),t=t*t%r,e>>=Fn;return n}o(yX,"pow");function P7e(t,e,r){let n=t;for(;e-- >uo;)n*=n,n%=r;return n}o(P7e,"pow2");function v3(t,e){if(t===uo||e<=uo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=hc(t,e),n=e,i=uo,s=Fn,a=Fn,f=uo;for(;r!==uo;){let h=n/r,g=n%r,b=i-a*h,A=s-f*h;n=r,r=g,i=a,s=f,a=b,f=A}if(n!==Fn)throw new Error("invert: does not exist");return hc(i,e)}o(v3,"invert");function bX(t){let e=(t-Fn)/Zh,r,n,i;for(r=t-Fn,n=0;r%Zh===uo;r/=Zh,n++);for(i=Zh;i<t&&yX(i,e,t)!==t-Fn;i++);if(n===1){let a=(t+Fn)/iC;return o(function(l,h){let g=l.pow(h,a);if(!l.eql(l.sqr(g),h))throw new Error("Cannot find square root");return g},"tonelliFast")}let s=(r+Fn)/Zh;return o(function(f,l){if(f.pow(l,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let h=n,g=f.pow(f.mul(f.ONE,i),r),b=f.pow(l,s),A=f.pow(l,r);for(;!f.eql(A,f.ONE);){if(f.eql(A,f.ZERO))return f.ZERO;let T=1;for(let N=f.sqr(A);T<h&&!f.eql(N,f.ONE);T++)N=f.sqr(N);let O=f.pow(g,Fn<<BigInt(h-T-1));g=f.sqr(O),b=f.mul(b,O),A=f.mul(A,g),h=T}return b},"tonelliSlow")}o(bX,"tonelliShanks");function vX(t){if(t%iC===N7e){let e=(t+Fn)/iC;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%gX===mX){let e=(t-mX)/gX;return o(function(n,i){let s=n.mul(i,Zh),a=n.pow(s,e),f=n.mul(i,a),l=n.mul(n.mul(f,Zh),a),h=n.mul(f,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%C7e,bX(t)}o(vX,"FpSqrt");var k7e=o((t,e)=>(hc(t,e)&Fn)===Fn,"isNegativeLE");fi.isNegativeLE=k7e;var B7e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L7e(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=B7e.reduce((n,i)=>(n[i]="function",n),e);return(0,pc.validateObject)(t,r)}o(L7e,"validateField");function xX(t,e,r){if(r<uo)throw new Error("Expected power > 0");if(r===uo)return t.ONE;if(r===Fn)return e;let n=t.ONE,i=e;for(;r>uo;)r&Fn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Fn;return n}o(xX,"FpPow");function _X(t,e){let r=new Array(e.length),n=e.reduce((s,a,f)=>t.is0(a)?s:(r[f]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,f)=>t.is0(a)?s:(r[f]=t.mul(s,r[f]),t.mul(s,a)),i),r}o(_X,"FpInvertBatch");function D7e(t,e,r){return t.mul(e,typeof r=="bigint"?v3(r,t.ORDER):t.inv(r))}o(D7e,"FpDiv");function wX(t){let e=(t-Fn)/Zh;return(r,n)=>r.pow(n,e)}o(wX,"FpLegendre");function U7e(t){let e=wX(t.ORDER);return r=>{let n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}o(U7e,"FpIsSquare");function oC(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(oC,"nLength");function F7e(t,e,r=!1,n={}){if(t<=uo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=oC(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=vX(t),f=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,pc.bitMask)(i),ZERO:uo,ONE:Fn,create:o(l=>hc(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return uo<=l&&l<t},"isValid"),is0:o(l=>l===uo,"is0"),isOdd:o(l=>(l&Fn)===Fn,"isOdd"),neg:o(l=>hc(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>hc(l*l,t),"sqr"),add:o((l,h)=>hc(l+h,t),"add"),sub:o((l,h)=>hc(l-h,t),"sub"),mul:o((l,h)=>hc(l*h,t),"mul"),pow:o((l,h)=>xX(f,l,h),"pow"),div:o((l,h)=>hc(l*v3(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>v3(l,t),"inv"),sqrt:n.sqrt||(l=>a(f,l)),invertBatch:o(l=>_X(f,l),"invertBatch"),cmov:o((l,h,g)=>g?h:l,"cmov"),toBytes:o(l=>r?(0,pc.numberToBytesLE)(l,s):(0,pc.numberToBytesBE)(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?(0,pc.bytesToNumberLE)(l):(0,pc.bytesToNumberBE)(l)},"fromBytes")});return Object.freeze(f)}o(F7e,"Field");function q7e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}o(q7e,"FpSqrtOdd");function H7e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}o(H7e,"FpSqrtEven");function V7e(t,e,r=!1){t=(0,pc.ensureBytes)("privateHash",t);let n=t.length,i=oC(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,pc.bytesToNumberLE)(t):(0,pc.bytesToNumberBE)(t);return hc(s,e-Fn)+Fn}o(V7e,"hashToPrivateScalar");function sC(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(sC,"getFieldBytesLength");function EX(t){let e=sC(t);return e+Math.ceil(e/2)}o(EX,"getMinHashLength");function j7e(t,e,r=!1){let n=t.length,i=sC(e),s=EX(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?(0,pc.bytesToNumberBE)(t):(0,pc.bytesToNumberLE)(t),f=hc(a,e-Fn)+Fn;return r?(0,pc.numberToBytesLE)(f,i):(0,pc.numberToBytesBE)(f,i)}o(j7e,"mapHashToField")});var fC=q(C_=>{"use strict";p();m();Object.defineProperty(C_,"__esModule",{value:!0});C_.wNAF=K7e;C_.pippenger=G7e;C_.validateBasic=$7e;var SX=Jh(),RX=ou(),z7e=BigInt(0),aC=BigInt(1),cC=new WeakMap,AX=new WeakMap;function K7e(t,e){let r=o((s,a)=>{let f=a.negate();return s?f:a},"constTimeNegate"),n=o(s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},"validateW"),i=o(s=>{n(s);let a=Math.ceil(e/s)+1,f=2**(s-1);return{windows:a,windowSize:f}},"opts");return{constTimeNegate:r,unsafeLadder(s,a){let f=t.ZERO,l=s;for(;a>z7e;)a&aC&&(f=f.add(l)),l=l.double(),a>>=aC;return f},precomputeWindow(s,a){let{windows:f,windowSize:l}=i(a),h=[],g=s,b=g;for(let A=0;A<f;A++){b=g,h.push(b);for(let T=1;T<l;T++)b=b.add(g),h.push(b);g=b.double()}return h},wNAF(s,a,f){let{windows:l,windowSize:h}=i(s),g=t.ZERO,b=t.BASE,A=BigInt(2**s-1),T=2**s,O=BigInt(s);for(let N=0;N<l;N++){let P=N*h,C=Number(f&A);f>>=O,C>h&&(C-=T,f+=aC);let D=P,M=P+Math.abs(C)-1,U=N%2!==0,V=C<0;C===0?b=b.add(r(U,a[D])):g=g.add(r(V,a[M]))}return{p:g,f:b}},wNAFCached(s,a,f){let l=AX.get(s)||1,h=cC.get(s);return h||(h=this.precomputeWindow(s,l),l!==1&&cC.set(s,f(h))),this.wNAF(l,h,a)},setWindowSize(s,a){n(a),AX.set(s,a),cC.delete(s)}}}o(K7e,"wNAF");function G7e(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((g,b)=>{if(!e.isValid(g))throw new Error(`wrong scalar at index ${b}`)}),r.forEach((g,b)=>{if(!(g instanceof t))throw new Error(`wrong point at index ${b}`)});let i=(0,RX.bitLen)(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,f=new Array(a+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/s)*s,h=t.ZERO;for(let g=l;g>=0;g-=s){f.fill(t.ZERO);for(let A=0;A<n.length;A++){let T=n[A],O=Number(T>>BigInt(g)&BigInt(a));f[O]=f[O].add(r[A])}let b=t.ZERO;for(let A=f.length-1,T=t.ZERO;A>0;A--)T=T.add(f[A]),b=b.add(T);if(h=h.add(b),g!==0)for(let A=0;A<s;A++)h=h.double()}return h}o(G7e,"pippenger");function $7e(t){return(0,SX.validateField)(t.Fp),(0,RX.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,SX.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o($7e,"validateBasic")});var IX=q(lC=>{"use strict";p();m();Object.defineProperty(lC,"__esModule",{value:!0});lC.twistedEdwards=Z7e;var uC=fC(),TX=Jh(),Ma=ou(),mc=ou(),su=BigInt(0),Na=BigInt(1),x3=BigInt(2),W7e=BigInt(8),Y7e={zip215:!0};function X7e(t){let e=(0,uC.validateBasic)(t);return Ma.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}o(X7e,"validateOpts");function Z7e(t){let e=X7e(t),{Fp:r,n,prehash:i,hash:s,randomBytes:a,nByteLength:f,h:l}=e,h=x3<<BigInt(f*8)-Na,g=r.create,b=(0,TX.Field)(e.n,e.nBitLength),A=e.uvRatio||((S,R)=>{try{return{isValid:!0,value:r.sqrt(S*r.inv(R))}}catch{return{isValid:!1,value:su}}}),T=e.adjustScalarBytes||(S=>S),O=e.domain||((S,R,x)=>{if((0,mc.abool)("phflag",x),R.length||x)throw new Error("Contexts/pre-hash are not supported");return S});function N(S,R){Ma.aInRange("coordinate "+S,R,su,h)}o(N,"aCoordinate");function P(S){if(!(S instanceof M))throw new Error("ExtendedPoint expected")}o(P,"assertPoint");let C=(0,mc.memoized)((S,R)=>{let{ex:x,ey:u,ez:_}=S,H=S.is0();R==null&&(R=H?W7e:r.inv(_));let F=g(x*R),L=g(u*R),$=g(_*R);if(H)return{x:su,y:Na};if($!==Na)throw new Error("invZ was invalid");return{x:F,y:L}}),D=(0,mc.memoized)(S=>{let{a:R,d:x}=e;if(S.is0())throw new Error("bad point: ZERO");let{ex:u,ey:_,ez:H,et:F}=S,L=g(u*u),$=g(_*_),Q=g(H*H),re=g(Q*Q),Me=g(L*R),fe=g(Q*g(Me+$)),le=g(re+g(x*g(L*$)));if(fe!==le)throw new Error("bad point: equation left != right (1)");let xe=g(u*_),he=g(H*F);if(xe!==he)throw new Error("bad point: equation left != right (2)");return!0});class M{static{o(this,"Point")}constructor(R,x,u,_){this.ex=R,this.ey=x,this.ez=u,this.et=_,N("x",R),N("y",x),N("z",u),N("t",_),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof M)throw new Error("extended point not allowed");let{x,y:u}=R||{};return N("x",x),N("y",u),new M(x,u,Na,g(x*u))}static normalizeZ(R){let x=r.invertBatch(R.map(u=>u.ez));return R.map((u,_)=>u.toAffine(x[_])).map(M.fromAffine)}static msm(R,x){return(0,uC.pippenger)(M,b,R,x)}_setWindowSize(R){j.setWindowSize(this,R)}assertValidity(){D(this)}equals(R){P(R);let{ex:x,ey:u,ez:_}=this,{ex:H,ey:F,ez:L}=R,$=g(x*L),Q=g(H*_),re=g(u*L),Me=g(F*_);return $===Q&&re===Me}is0(){return this.equals(M.ZERO)}negate(){return new M(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){let{a:R}=e,{ex:x,ey:u,ez:_}=this,H=g(x*x),F=g(u*u),L=g(x3*g(_*_)),$=g(R*H),Q=x+u,re=g(g(Q*Q)-H-F),Me=$+F,fe=Me-L,le=$-F,xe=g(re*fe),he=g(Me*le),ge=g(re*le),tr=g(fe*Me);return new M(xe,he,tr,ge)}add(R){P(R);let{a:x,d:u}=e,{ex:_,ey:H,ez:F,et:L}=this,{ex:$,ey:Q,ez:re,et:Me}=R;if(x===BigInt(-1)){let Ue=g((H-_)*(Q+$)),Be=g((H+_)*(Q-$)),Dn=g(Be-Ue);if(Dn===su)return this.double();let ke=g(F*x3*Me),Le=g(L*x3*re),Kr=Le+ke,X=Be+Ue,Z=Le-ke,pe=g(Kr*Dn),ne=g(X*Z),de=g(Kr*Z),yt=g(Dn*X);return new M(pe,ne,yt,de)}let fe=g(_*$),le=g(H*Q),xe=g(L*u*Me),he=g(F*re),ge=g((_+H)*($+Q)-fe-le),tr=he-xe,Ae=he+xe,Oe=g(le-x*fe),Bn=g(ge*tr),He=g(Ae*Oe),Pe=g(ge*Oe),Ln=g(tr*Ae);return new M(Bn,He,Ln,Pe)}subtract(R){return this.add(R.negate())}wNAF(R){return j.wNAFCached(this,R,M.normalizeZ)}multiply(R){let x=R;Ma.aInRange("scalar",x,Na,n);let{p:u,f:_}=this.wNAF(x);return M.normalizeZ([u,_])[0]}multiplyUnsafe(R){let x=R;return Ma.aInRange("scalar",x,su,n),x===su?V:this.equals(V)||x===Na?this:this.equals(U)?this.wNAF(x).p:j.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return j.unsafeLadder(this,n).is0()}toAffine(R){return C(this,R)}clearCofactor(){let{h:R}=e;return R===Na?this:this.multiplyUnsafe(R)}static fromHex(R,x=!1){let{d:u,a:_}=e,H=r.BYTES;R=(0,mc.ensureBytes)("pointHex",R,H),(0,mc.abool)("zip215",x);let F=R.slice(),L=R[H-1];F[H-1]=L&-129;let $=Ma.bytesToNumberLE(F),Q=x?h:r.ORDER;Ma.aInRange("pointHex.y",$,su,Q);let re=g($*$),Me=g(re-Na),fe=g(u*re-_),{isValid:le,value:xe}=A(Me,fe);if(!le)throw new Error("Point.fromHex: invalid y coordinate");let he=(xe&Na)===Na,ge=(L&128)!==0;if(!x&&xe===su&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==he&&(xe=g(-xe)),M.fromAffine({x:xe,y:$})}static fromPrivateKey(R){return te(R).point}toRawBytes(){let{x:R,y:x}=this.toAffine(),u=Ma.numberToBytesLE(x,r.BYTES);return u[u.length-1]|=R&Na?128:0,u}toHex(){return Ma.bytesToHex(this.toRawBytes())}}M.BASE=new M(e.Gx,e.Gy,Na,g(e.Gx*e.Gy)),M.ZERO=new M(su,Na,Na,su);let{BASE:U,ZERO:V}=M,j=(0,uC.wNAF)(M,f*8);function ee(S){return(0,TX.mod)(S,n)}o(ee,"modN");function Y(S){return ee(Ma.bytesToNumberLE(S))}o(Y,"modN_LE");function te(S){let R=f;S=(0,mc.ensureBytes)("private key",S,R);let x=(0,mc.ensureBytes)("hashed private key",s(S),2*R),u=T(x.slice(0,R)),_=x.slice(R,2*R),H=Y(u),F=U.multiply(H),L=F.toRawBytes();return{head:u,prefix:_,scalar:H,point:F,pointBytes:L}}o(te,"getExtendedPublicKey");function E(S){return te(S).pointBytes}o(E,"getPublicKey");function c(S=new Uint8Array,...R){let x=Ma.concatBytes(...R);return Y(s(O(x,(0,mc.ensureBytes)("context",S),!!i)))}o(c,"hashDomainToScalar");function d(S,R,x={}){S=(0,mc.ensureBytes)("message",S),i&&(S=i(S));let{prefix:u,scalar:_,pointBytes:H}=te(R),F=c(x.context,u,S),L=U.multiply(F).toRawBytes(),$=c(x.context,L,H,S),Q=ee(F+$*_);Ma.aInRange("signature.s",Q,su,n);let re=Ma.concatBytes(L,Ma.numberToBytesLE(Q,r.BYTES));return(0,mc.ensureBytes)("result",re,f*2)}o(d,"sign");let y=Y7e;function v(S,R,x,u=y){let{context:_,zip215:H}=u,F=r.BYTES;S=(0,mc.ensureBytes)("signature",S,2*F),R=(0,mc.ensureBytes)("message",R),H!==void 0&&(0,mc.abool)("zip215",H),i&&(R=i(R));let L=Ma.bytesToNumberLE(S.slice(F,2*F)),$,Q,re;try{$=M.fromHex(x,H),Q=M.fromHex(S.slice(0,F),H),re=U.multiplyUnsafe(L)}catch{return!1}if(!H&&$.isSmallOrder())return!1;let Me=c(_,Q.toRawBytes(),$.toRawBytes(),R);return Q.add($.multiplyUnsafe(Me)).subtract(re).clearCofactor().equals(M.ZERO)}return o(v,"verify"),U._setWindowSize(8),{CURVE:e,getPublicKey:E,sign:d,verify:v,ExtendedPoint:M,utils:{getExtendedPublicKey:te,randomPrivateKey:o(()=>a(r.BYTES),"randomPrivateKey"),precompute(S=8,R=M.BASE){return R._setWindowSize(S),R.multiply(BigInt(3)),R}}}}o(Z7e,"twistedEdwards")});var hC=q(Rm=>{"use strict";p();m();Object.defineProperty(Rm,"__esModule",{value:!0});Rm.expand_message_xmd=OX;Rm.expand_message_xof=NX;Rm.hash_to_field=dC;Rm.isogenyMap=t9e;Rm.createHasher=r9e;var J7e=Jh(),Rs=ou(),Q7e=Rs.bytesToNumberBE;function Qh(t,e){if(P_(t),P_(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}o(Qh,"i2osp");function e9e(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}o(e9e,"strxor");function P_(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}o(P_,"anum");function OX(t,e,r,n){(0,Rs.abytes)(t),(0,Rs.abytes)(e),P_(r),e.length>255&&(e=n((0,Rs.concatBytes)((0,Rs.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let f=(0,Rs.concatBytes)(e,Qh(e.length,1)),l=Qh(0,s),h=Qh(r,2),g=new Array(a),b=n((0,Rs.concatBytes)(l,t,h,Qh(0,1),f));g[0]=n((0,Rs.concatBytes)(b,Qh(1,1),f));for(let T=1;T<=a;T++){let O=[e9e(b,g[T-1]),Qh(T+1,1),f];g[T]=n((0,Rs.concatBytes)(...O))}return(0,Rs.concatBytes)(...g).slice(0,r)}o(OX,"expand_message_xmd");function NX(t,e,r,n,i){if((0,Rs.abytes)(t),(0,Rs.abytes)(e),P_(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,Rs.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Qh(r,2)).update(e).update(Qh(e.length,1)).digest()}o(NX,"expand_message_xof");function dC(t,e,r){(0,Rs.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:a,expand:f,DST:l}=r;(0,Rs.abytes)(t),P_(e);let h=typeof l=="string"?(0,Rs.utf8ToBytes)(l):l,g=n.toString(2).length,b=Math.ceil((g+i)/8),A=e*s*b,T;if(f==="xmd")T=OX(t,h,A,a);else if(f==="xof")T=NX(t,h,A,i,a);else if(f==="_internal_pass")T=t;else throw new Error('expand must be "xmd" or "xof"');let O=new Array(e);for(let N=0;N<e;N++){let P=new Array(s);for(let C=0;C<s;C++){let D=b*(C+N*s),M=T.subarray(D,D+b);P[C]=(0,J7e.mod)(Q7e(M),n)}O[N]=P}return O}o(dC,"hash_to_field");function t9e(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,a,f,l]=r.map(h=>h.reduce((g,b)=>t.add(t.mul(g,n),b)));return n=t.div(s,a),i=t.mul(i,t.div(f,l)),{x:n,y:i}}}o(t9e,"isogenyMap");function r9e(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=dC(n,2,{...r,DST:r.DST,...i}),a=t.fromAffine(e(s[0])),f=t.fromAffine(e(s[1])),l=a.add(f).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){let s=dC(n,1,{...r,DST:r.encodeDST,...i}),a=t.fromAffine(e(s[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let s of n)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}}o(r9e,"createHasher")});var CX=q(mC=>{"use strict";p();m();Object.defineProperty(mC,"__esModule",{value:!0});mC.montgomery=i9e;var MX=Jh(),e0=ou(),b1=BigInt(0),pC=BigInt(1);function n9e(t){return(0,e0.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}o(n9e,"validateOpts");function i9e(t){let e=n9e(t),{P:r}=e,n=o(D=>(0,MX.mod)(D,r),"modP"),i=e.montgomeryBits,s=Math.ceil(i/8),a=e.nByteLength,f=e.adjustScalarBytes||(D=>D),l=e.powPminus2||(D=>(0,MX.pow)(D,r-BigInt(2),r));function h(D,M,U){let V=n(D*(M-U));return M=n(M-V),U=n(U+V),[M,U]}o(h,"cswap");let g=(e.a-BigInt(2))/BigInt(4);function b(D,M){(0,e0.aInRange)("u",D,b1,r),(0,e0.aInRange)("scalar",M,b1,r);let U=M,V=D,j=pC,ee=b1,Y=D,te=pC,E=b1,c;for(let y=BigInt(i-1);y>=b1;y--){let v=U>>y&pC;E^=v,c=h(E,j,Y),j=c[0],Y=c[1],c=h(E,ee,te),ee=c[0],te=c[1],E=v;let w=j+ee,S=n(w*w),R=j-ee,x=n(R*R),u=S-x,_=Y+te,H=Y-te,F=n(H*w),L=n(_*R),$=F+L,Q=F-L;Y=n($*$),te=n(V*n(Q*Q)),j=n(S*x),ee=n(u*(S+n(g*u)))}c=h(E,j,Y),j=c[0],Y=c[1],c=h(E,ee,te),ee=c[0],te=c[1];let d=l(ee);return n(j*d)}o(b,"montgomeryLadder");function A(D){return(0,e0.numberToBytesLE)(n(D),s)}o(A,"encodeUCoordinate");function T(D){let M=(0,e0.ensureBytes)("u coordinate",D,s);return a===32&&(M[31]&=127),(0,e0.bytesToNumberLE)(M)}o(T,"decodeUCoordinate");function O(D){let M=(0,e0.ensureBytes)("scalar",D),U=M.length;if(U!==s&&U!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${U}`);return(0,e0.bytesToNumberLE)(f(M))}o(O,"decodeScalar");function N(D,M){let U=T(M),V=O(D),j=b(U,V);if(j===b1)throw new Error("Invalid private or public key received");return A(j)}o(N,"scalarMult");let P=A(e.Gu);function C(D){return N(D,P)}return o(C,"scalarMultBase"),{scalarMult:N,scalarMultBase:C,getSharedSecret:o((D,M)=>N(D,M),"getSharedSecret"),getPublicKey:o(D=>C(D),"getPublicKey"),utils:{randomPrivateKey:o(()=>e.randomBytes(e.nByteLength),"randomPrivateKey")},GuBytes:P}}o(i9e,"montgomery")});var zX=q(Jt=>{"use strict";p();m();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.hash_to_ristretto255=Jt.hashToRistretto255=Jt.RistrettoPoint=Jt.encodeToCurve=Jt.hashToCurve=Jt.edwardsToMontgomery=Jt.x25519=Jt.ed25519ph=Jt.ed25519ctx=Jt.ed25519=Jt.ED25519_TORSION_SUBGROUP=void 0;Jt.edwardsToMontgomeryPub=VX;Jt.edwardsToMontgomeryPriv=a9e;var w3=cX(),k_=Sd(),xC=IX(),LX=hC(),yn=Jh(),o9e=CX(),Tm=ou(),B_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bC=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),s9e=BigInt(0),ul=BigInt(1),_3=BigInt(2),DX=BigInt(3),UX=BigInt(5),_C=BigInt(8);function FX(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=B_,f=t*t%s*t%s,l=(0,yn.pow2)(f,_3,s)*f%s,h=(0,yn.pow2)(l,ul,s)*t%s,g=(0,yn.pow2)(h,UX,s)*h%s,b=(0,yn.pow2)(g,e,s)*g%s,A=(0,yn.pow2)(b,r,s)*b%s,T=(0,yn.pow2)(A,n,s)*A%s,O=(0,yn.pow2)(T,i,s)*T%s,N=(0,yn.pow2)(O,i,s)*T%s,P=(0,yn.pow2)(N,e,s)*g%s;return{pow_p_5_8:(0,yn.pow2)(P,_3,s)*t%s,b2:f}}o(FX,"ed25519_pow_2_252_3");function qX(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(qX,"adjustScalarBytes");function wC(t,e){let r=B_,n=(0,yn.mod)(e*e*e,r),i=(0,yn.mod)(n*n*e,r),s=FX(t*i).pow_p_5_8,a=(0,yn.mod)(t*n*s,r),f=(0,yn.mod)(e*a*a,r),l=a,h=(0,yn.mod)(a*bC,r),g=f===t,b=f===(0,yn.mod)(-t,r),A=f===(0,yn.mod)(-t*bC,r);return g&&(a=l),(b||A)&&(a=h),(0,yn.isNegativeLE)(a,r)&&(a=(0,yn.mod)(-a,r)),{isValid:g||b,value:a}}o(wC,"uvRatio");Jt.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var bt=(0,yn.Field)(B_,void 0,!0),L_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_C,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:w3.sha512,randomBytes:k_.randomBytes,adjustScalarBytes:qX,uvRatio:wC};Jt.ed25519=(0,xC.twistedEdwards)(L_);function HX(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,k_.concatBytes)((0,k_.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}o(HX,"ed25519_domain");Jt.ed25519ctx=(0,xC.twistedEdwards)({...L_,domain:HX});Jt.ed25519ph=(0,xC.twistedEdwards)(Object.assign({},L_,{domain:HX,prehash:w3.sha512}));Jt.x25519=(0,o9e.montgomery)({P:B_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:o(t=>{let e=B_,{pow_p_5_8:r,b2:n}=FX(t);return(0,yn.mod)((0,yn.pow2)(r,DX,e)*n,e)},"powPminus2"),adjustScalarBytes:qX,randomBytes:k_.randomBytes});function VX(t){let{y:e}=Jt.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return bt.toBytes(bt.create((r+e)*bt.inv(r-e)))}o(VX,"edwardsToMontgomeryPub");Jt.edwardsToMontgomery=VX;function a9e(t){let e=L_.hash(t.subarray(0,32));return L_.adjustScalarBytes(e).subarray(0,32)}o(a9e,"edwardsToMontgomeryPriv");var c9e=(bt.ORDER+DX)/_C,f9e=bt.pow(_3,c9e),PX=bt.sqrt(bt.neg(bt.ONE));function u9e(t){let e=(bt.ORDER-UX)/_C,r=BigInt(486662),n=bt.sqr(t);n=bt.mul(n,_3);let i=bt.add(n,bt.ONE),s=bt.neg(r),a=bt.sqr(i),f=bt.mul(a,i),l=bt.mul(n,r);l=bt.mul(l,s),l=bt.add(l,a),l=bt.mul(l,s);let h=bt.sqr(f);a=bt.sqr(h),h=bt.mul(h,f),h=bt.mul(h,l),a=bt.mul(a,h);let g=bt.pow(a,e);g=bt.mul(g,h);let b=bt.mul(g,PX);a=bt.sqr(g),a=bt.mul(a,f);let A=bt.eql(a,l),T=bt.cmov(b,g,A),O=bt.mul(s,n),N=bt.mul(g,t);N=bt.mul(N,f9e);let P=bt.mul(N,PX),C=bt.mul(l,n);a=bt.sqr(N),a=bt.mul(a,f);let D=bt.eql(a,C),M=bt.cmov(P,N,D);a=bt.sqr(T),a=bt.mul(a,f);let U=bt.eql(a,l),V=bt.cmov(O,s,U),j=bt.cmov(M,T,U),ee=bt.isOdd(j);return j=bt.cmov(j,bt.neg(j),U!==ee),{xMn:V,xMd:i,yMn:j,yMd:ul}}o(u9e,"map_to_curve_elligator2_curve25519");var l9e=(0,yn.FpSqrtEven)(bt,bt.neg(BigInt(486664)));function d9e(t){let{xMn:e,xMd:r,yMn:n,yMd:i}=u9e(t),s=bt.mul(e,i);s=bt.mul(s,l9e);let a=bt.mul(r,n),f=bt.sub(e,r),l=bt.add(e,r),h=bt.mul(a,l),g=bt.eql(h,bt.ZERO);s=bt.cmov(s,bt.ZERO,g),a=bt.cmov(a,bt.ONE,g),f=bt.cmov(f,bt.ONE,g),l=bt.cmov(l,bt.ONE,g);let b=bt.invertBatch([a,l]);return{x:bt.mul(s,b[0]),y:bt.mul(f,b[1])}}o(d9e,"map_to_curve_elligator2_edwards25519");var jX=(0,LX.createHasher)(Jt.ed25519.ExtendedPoint,t=>d9e(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:bt.ORDER,m:1,k:128,expand:"xmd",hash:w3.sha512});Jt.hashToCurve=jX.hashToCurve;Jt.encodeToCurve=jX.encodeToCurve;function gC(t){if(!(t instanceof au))throw new Error("RistrettoPoint expected")}o(gC,"assertRstPoint");var vC=bC,h9e=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),p9e=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),m9e=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),g9e=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),kX=o(t=>wC(ul,t),"invertSqrt"),y9e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),yC=o(t=>Jt.ed25519.CURVE.Fp.create((0,Tm.bytesToNumberLE)(t)&y9e),"bytes255ToNumberLE");function BX(t){let{d:e}=Jt.ed25519.CURVE,r=Jt.ed25519.CURVE.Fp.ORDER,n=Jt.ed25519.CURVE.Fp.create,i=n(vC*t*t),s=n((i+ul)*m9e),a=BigInt(-1),f=n((a-e*i)*n(i+e)),{isValid:l,value:h}=wC(s,f),g=n(h*t);(0,yn.isNegativeLE)(g,r)||(g=n(-g)),l||(h=g),l||(a=i);let b=n(a*(i-ul)*g9e-f),A=h*h,T=n((h+h)*f),O=n(b*h9e),N=n(ul-A),P=n(ul+A);return new Jt.ed25519.ExtendedPoint(n(T*P),n(N*O),n(O*P),n(T*N))}o(BX,"calcElligatorRistrettoMap");var au=class t{static{o(this,"RistPoint")}constructor(e){this.ep=e}static fromAffine(e){return new t(Jt.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,Tm.ensureBytes)("ristrettoHash",e,64);let r=yC(e.slice(0,32)),n=BX(r),i=yC(e.slice(32,64)),s=BX(i);return new t(n.add(s))}static fromHex(e){e=(0,Tm.ensureBytes)("ristrettoHex",e,32);let{a:r,d:n}=Jt.ed25519.CURVE,i=Jt.ed25519.CURVE.Fp.ORDER,s=Jt.ed25519.CURVE.Fp.create,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",f=yC(e);if(!(0,Tm.equalBytes)((0,Tm.numberToBytesLE)(f,32),e)||(0,yn.isNegativeLE)(f,i))throw new Error(a);let l=s(f*f),h=s(ul+r*l),g=s(ul-r*l),b=s(h*h),A=s(g*g),T=s(r*n*b-A),{isValid:O,value:N}=kX(s(T*A)),P=s(N*g),C=s(N*P*T),D=s((f+f)*P);(0,yn.isNegativeLE)(D,i)&&(D=s(-D));let M=s(h*C),U=s(D*M);if(!O||(0,yn.isNegativeLE)(U,i)||M===s9e)throw new Error(a);return new t(new Jt.ed25519.ExtendedPoint(D,M,ul,U))}toRawBytes(){let{ex:e,ey:r,ez:n,et:i}=this.ep,s=Jt.ed25519.CURVE.Fp.ORDER,a=Jt.ed25519.CURVE.Fp.create,f=a(a(n+r)*a(n-r)),l=a(e*r),h=a(l*l),{value:g}=kX(a(f*h)),b=a(g*f),A=a(g*l),T=a(b*A*i),O;if((0,yn.isNegativeLE)(i*T,s)){let P=a(r*vC),C=a(e*vC);e=P,r=C,O=a(b*p9e)}else O=A;(0,yn.isNegativeLE)(e*T,s)&&(r=a(-r));let N=a((n-r)*O);return(0,yn.isNegativeLE)(N,s)&&(N=a(-N)),(0,Tm.numberToBytesLE)(N,32)}toHex(){return(0,Tm.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){gC(e);let{ex:r,ey:n}=this.ep,{ex:i,ey:s}=e.ep,a=Jt.ed25519.CURVE.Fp.create,f=a(r*s)===a(n*i),l=a(n*s)===a(r*i);return f||l}add(e){return gC(e),new t(this.ep.add(e.ep))}subtract(e){return gC(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}double(){return new t(this.ep.double())}negate(){return new t(this.ep.negate())}};Jt.RistrettoPoint=(au.BASE||(au.BASE=new au(Jt.ed25519.ExtendedPoint.BASE)),au.ZERO||(au.ZERO=new au(Jt.ed25519.ExtendedPoint.ZERO)),au);var b9e=o((t,e)=>{let r=e.DST,n=typeof r=="string"?(0,k_.utf8ToBytes)(r):r,i=(0,LX.expand_message_xmd)(t,n,64,w3.sha512);return au.hashToCurve(i)},"hashToRistretto255");Jt.hashToRistretto255=b9e;Jt.hash_to_ristretto255=Jt.hashToRistretto255});var AC=q(n0=>{"use strict";p();m();Object.defineProperty(n0,"__esModule",{value:!0});n0.sha224=n0.sha256=n0.SHA256=void 0;var EC=YM(),Xc=Sd(),v9e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),r0=new Uint32Array(64),D_=class extends EC.HashMD{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=t0[0]|0,this.B=t0[1]|0,this.C=t0[2]|0,this.D=t0[3]|0,this.E=t0[4]|0,this.F=t0[5]|0,this.G=t0[6]|0,this.H=t0[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)r0[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let A=r0[b-15],T=r0[b-2],O=(0,Xc.rotr)(A,7)^(0,Xc.rotr)(A,18)^A>>>3,N=(0,Xc.rotr)(T,17)^(0,Xc.rotr)(T,19)^T>>>10;r0[b]=N+r0[b-7]+O+r0[b-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:g}=this;for(let b=0;b<64;b++){let A=(0,Xc.rotr)(f,6)^(0,Xc.rotr)(f,11)^(0,Xc.rotr)(f,25),T=g+A+(0,EC.Chi)(f,l,h)+v9e[b]+r0[b]|0,N=((0,Xc.rotr)(n,2)^(0,Xc.rotr)(n,13)^(0,Xc.rotr)(n,22))+(0,EC.Maj)(n,i,s)|0;g=h,h=l,l=f,f=a+T|0,a=s,s=i,i=n,n=T+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(n,i,s,a,f,l,h,g)}roundClean(){r0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};n0.SHA256=D_;var SC=class extends D_{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};n0.sha256=(0,Xc.wrapConstructor)(()=>new D_);n0.sha224=(0,Xc.wrapConstructor)(()=>new SC)});var KX=q(IC=>{"use strict";p();m();function Rd(t,e,r){return e<=t&&t<=r}o(Rd,"inRange");function T3(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}o(T3,"ToDictionary");function x9e(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var f=s&1023,l=a&1023;i.push(65536+(f<<10)+l),n+=1}else i.push(65533)}n+=1}return i}o(x9e,"stringToCodePoints");function _9e(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}o(_9e,"codePointsToString");var E3=-1;function TC(t){this.tokens=[].slice.call(t)}o(TC,"Stream");TC.prototype={endOfStream:o(function(){return!this.tokens.length},"endOfStream"),read:o(function(){return this.tokens.length?this.tokens.shift():E3},"read"),prepend:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},"prepend"),push:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)},"push")};var v1=-1;function RC(t,e){if(t)throw TypeError("Decoder error");return e||65533}o(RC,"decoderError");var S3="utf-8";function A3(t,e){if(!(this instanceof A3))return new A3(t,e);if(t=t!==void 0?String(t).toLowerCase():S3,t!==S3)throw new Error("Encoding not supported. Only utf-8 is supported");e=T3(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}o(A3,"TextDecoder");A3.prototype={decode:o(function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=T3(r),this._streaming||(this._decoder=new w9e({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new TC(n),s=[],a;!i.endOfStream()&&(a=this._decoder.handler(i,i.read()),a!==v1);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(i,i.read()),a===v1)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),_9e(s)},"decode")};function R3(t,e){if(!(this instanceof R3))return new R3(t,e);if(t=t!==void 0?String(t).toLowerCase():S3,t!==S3)throw new Error("Encoding not supported. Only utf-8 is supported");e=T3(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}o(R3,"TextEncoder");R3.prototype={encode:o(function(e,r){e=e?String(e):"",r=T3(r),this._streaming||(this._encoder=new E9e(this._options)),this._streaming=!!r.stream;for(var n=[],i=new TC(x9e(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==v1);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==v1;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)},"encode")};function w9e(t){var e=t.fatal,r=0,n=0,i=0,s=128,a=191;this.handler=function(f,l){if(l===E3&&i!==0)return i=0,RC(e);if(l===E3)return v1;if(i===0){if(Rd(l,0,127))return l;if(Rd(l,194,223))i=1,r=l-192;else if(Rd(l,224,239))l===224&&(s=160),l===237&&(a=159),i=2,r=l-224;else if(Rd(l,240,244))l===240&&(s=144),l===244&&(a=143),i=3,r=l-240;else return RC(e);return r=r<<6*i,null}if(!Rd(l,s,a))return r=i=n=0,s=128,a=191,f.prepend(l),RC(e);if(s=128,a=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var h=r;return r=i=n=0,h}}o(w9e,"UTF8Decoder");function E9e(t){var e=t.fatal;this.handler=function(r,n){if(n===E3)return v1;if(Rd(n,0,127))return n;var i,s;Rd(n,128,2047)?(i=1,s=192):Rd(n,2048,65535)?(i=2,s=224):Rd(n,65536,1114111)&&(i=3,s=240);for(var a=[(n>>6*i)+s];i>0;){var f=n>>6*(i-1);a.push(128|f&63),i-=1}return a}}o(E9e,"UTF8Encoder");IC.TextEncoder=R3;IC.TextDecoder=A3});var XX=q(Tn=>{"use strict";p();m();var S9e=Tn&&Tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:o(function(){return e[r]},"get")})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A9e=Tn&&Tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ll=Tn&&Tn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(a=t[f])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},R9e=Tn&&Tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&S9e(e,t,r);return A9e(e,t),e},GX=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.deserializeUnchecked=Tn.deserialize=Tn.serialize=Tn.BinaryReader=Tn.BinaryWriter=Tn.BorshError=Tn.baseDecode=Tn.baseEncode=void 0;var i0=GX(s1()),$X=GX(iu()),T9e=R9e(KX()),I9e=typeof TextDecoder!="function"?T9e.TextDecoder:TextDecoder,O9e=new I9e("utf-8",{fatal:!0});function N9e(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),$X.default.encode(Buffer.from(t))}o(N9e,"baseEncode");Tn.baseEncode=N9e;function M9e(t){return Buffer.from($X.default.decode(t))}o(M9e,"baseDecode");Tn.baseDecode=M9e;var OC=1024,Jo=class extends Error{static{o(this,"BorshError")}constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Tn.BorshError=Jo;var I3=class{static{o(this,"BinaryWriter")}constructor(){this.buf=Buffer.alloc(OC),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(OC)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i0.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i0.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i0.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i0.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(OC)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Tn.BinaryWriter=I3;function dl(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new Jo("Reached the end of buffer when deserializing")}throw s}}}o(dl,"handlingRangeError");var ca=class{static{o(this,"BinaryReader")}constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new i0.default(e,"le")}readU128(){let e=this.readBuffer(16);return new i0.default(e,"le")}readU256(){let e=this.readBuffer(32);return new i0.default(e,"le")}readU512(){let e=this.readBuffer(64);return new i0.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Jo(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return O9e.decode(r)}catch(n){throw new Jo(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};ll([dl],ca.prototype,"readU8",null);ll([dl],ca.prototype,"readU16",null);ll([dl],ca.prototype,"readU32",null);ll([dl],ca.prototype,"readU64",null);ll([dl],ca.prototype,"readU128",null);ll([dl],ca.prototype,"readU256",null);ll([dl],ca.prototype,"readU512",null);ll([dl],ca.prototype,"readString",null);ll([dl],ca.prototype,"readFixedArray",null);ll([dl],ca.prototype,"readArray",null);Tn.BinaryReader=ca;function WX(t){return t.charAt(0).toUpperCase()+t.slice(1)}o(WX,"capitalizeFirstLetter");function Im(t,e,r,n,i){try{if(typeof n=="string")i[`write${WX(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Jo(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Jo(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Im(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{Im(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Im(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,a)=>{Im(t,e,a,n.key,i),Im(t,e,s,n.value,i)});break}default:throw new Jo(`FieldType ${n} unrecognized`)}else YX(t,r,i)}catch(s){throw s instanceof Jo&&s.addToFieldPath(e),s}}o(Im,"serializeField");function YX(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Jo(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Im(t,i,e[i],s,r)});else if(n.kind==="enum"){let i=e[n.field];for(let s=0;s<n.values.length;++s){let[a,f]=n.values[s];if(a===i){r.writeU8(s),Im(t,a,e[a],f,r);break}}}else throw new Jo(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(YX,"serializeStruct");function C9e(t,e,r=I3){let n=new r;return YX(t,e,n),n.toArray()}o(C9e,"serialize");Tn.serialize=C9e;function Om(t,e,r,n){try{if(typeof r=="string")return n[`read${WX(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let s=0;s<r[1];s++)i.push(Om(t,null,r[0],n));return i}else return n.readArray(()=>Om(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Om(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let f=Om(t,e,r.key,n),l=Om(t,e,r.value,n);i.set(f,l)}return i}return NC(t,r,n)}catch(i){throw i instanceof Jo&&i.addToFieldPath(e),i}}o(Om,"deserializeField");function NC(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Jo(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[s,a]of t.get(e).fields)i[s]=Om(t,s,a,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Jo(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],f=Om(t,s,a,r);return new e({[s]:f})}throw new Jo(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(NC,"deserializeStruct");function P9e(t,e,r,n=ca){let i=new n(r),s=NC(t,e,i);if(i.offset<r.length)throw new Jo(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}o(P9e,"deserialize");Tn.deserialize=P9e;function k9e(t,e,r,n=ca){let i=new n(r);return NC(t,e,i)}o(k9e,"deserializeUnchecked");Tn.deserializeUnchecked=k9e});var kC=q(Te=>{"use strict";p();m();Object.defineProperty(Te,"__esModule",{value:!0});Te.s16=Te.s8=Te.nu64be=Te.u48be=Te.u40be=Te.u32be=Te.u24be=Te.u16be=Te.nu64=Te.u48=Te.u40=Te.u32=Te.u24=Te.u16=Te.u8=Te.offset=Te.greedy=Te.Constant=Te.UTF8=Te.CString=Te.Blob=Te.Boolean=Te.BitField=Te.BitStructure=Te.VariantLayout=Te.Union=Te.UnionLayoutDiscriminator=Te.UnionDiscriminator=Te.Structure=Te.Sequence=Te.DoubleBE=Te.Double=Te.FloatBE=Te.Float=Te.NearInt64BE=Te.NearInt64=Te.NearUInt64BE=Te.NearUInt64=Te.IntBE=Te.Int=Te.UIntBE=Te.UInt=Te.OffsetLayout=Te.GreedyCount=Te.ExternalLayout=Te.bindConstructorLayout=Te.nameWithProperty=Te.Layout=Te.uint8ArrayToBuffer=Te.checkUint8Array=void 0;Te.constant=Te.utf8=Te.cstr=Te.blob=Te.unionLayoutDiscriminator=Te.union=Te.seq=Te.bits=Te.struct=Te.f64be=Te.f64=Te.f32be=Te.f32=Te.ns64be=Te.s48be=Te.s40be=Te.s32be=Te.s24be=Te.s16be=Te.ns64=Te.s48=Te.s40=Te.s32=Te.s24=void 0;var CC=ci();function w1(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(w1,"checkUint8Array");Te.checkUint8Array=w1;function Jr(t){return w1(t),CC.Buffer.from(t.buffer,t.byteOffset,t.length)}o(Jr,"uint8ArrayToBuffer");Te.uint8ArrayToBuffer=Jr;var ln=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Te.Layout=ln;function PC(t,e){return e.property?t+"["+e.property+"]":t}o(PC,"nameWithProperty");Te.nameWithProperty=PC;function B9e(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ln))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(B9e,"bindConstructorLayout");Te.bindConstructorLayout=B9e;var Ts=class extends ln{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Te.ExternalLayout=Ts;var O3=class extends Ts{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){w1(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Te.GreedyCount=O3;var U_=class extends Ts{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof ln))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ca||this.layout instanceof gc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Te.OffsetLayout=U_;var Ca=class extends ln{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Jr(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Jr(r).writeUIntLE(e,n,this.span),this.span}};Te.UInt=Ca;var gc=class extends ln{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Jr(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Jr(r).writeUIntBE(e,n,this.span),this.span}};Te.UIntBE=gc;var Td=class extends ln{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Jr(e).readIntLE(r,this.span)}encode(e,r,n=0){return Jr(r).writeIntLE(e,n,this.span),this.span}};Te.Int=Td;var o0=class extends ln{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Jr(e).readIntBE(r,this.span)}encode(e,r,n=0){return Jr(r).writeIntBE(e,n,this.span),this.span}};Te.IntBE=o0;var MC=Math.pow(2,32);function G3(t){let e=Math.floor(t/MC),r=t-e*MC;return{hi32:e,lo32:r}}o(G3,"divmodInt64");function $3(t,e){return t*MC+e}o($3,"roundedInt64");var N3=class extends ln{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=Jr(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return $3(s,i)}encode(e,r,n=0){let i=G3(e),s=Jr(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Te.NearUInt64=N3;var M3=class extends ln{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=Jr(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return $3(i,s)}encode(e,r,n=0){let i=G3(e),s=Jr(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Te.NearUInt64BE=M3;var C3=class extends ln{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=Jr(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return $3(s,i)}encode(e,r,n=0){let i=G3(e),s=Jr(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Te.NearInt64=C3;var P3=class extends ln{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=Jr(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return $3(i,s)}encode(e,r,n=0){let i=G3(e),s=Jr(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Te.NearInt64BE=P3;var k3=class extends ln{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return Jr(e).readFloatLE(r)}encode(e,r,n=0){return Jr(r).writeFloatLE(e,n),4}};Te.Float=k3;var B3=class extends ln{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return Jr(e).readFloatBE(r)}encode(e,r,n=0){return Jr(r).writeFloatBE(e,n),4}};Te.FloatBE=B3;var L3=class extends ln{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return Jr(e).readDoubleLE(r)}encode(e,r,n=0){return Jr(r).writeDoubleLE(e,n),8}};Te.Double=L3;var D3=class extends ln{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return Jr(e).readDoubleBE(r)}encode(e,r,n=0){return Jr(r).writeDoubleBE(e,n),8}};Te.DoubleBE=D3;var U3=class extends ln{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof ln))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Ts&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Ts)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Ts&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof Ts&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,f)=>a+i.encode(f,r,n+a),0);return this.count instanceof Ts&&this.count.encode(e.length,r,n),s}};Te.Sequence=U3;var F3=class extends ln{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof ln,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){w1(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let f of this.fields){let l=f.span;if(a=0<l?l:0,f.property!==void 0){let h=e[f.property];h!==void 0&&(a=f.encode(h,r,n),0>l&&(l=f.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Te.Structure=F3;var F_=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Te.UnionDiscriminator=F_;var _1=class extends F_{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof Ts&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Te.UnionLayoutDiscriminator=_1;var q_=class extends ln{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof Ca||e instanceof gc)i=new _1(new U_(e));else if(e instanceof Ts&&e.isCount())i=new _1(e);else if(e instanceof F_)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof ln))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof Ca||e instanceof gc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Ca||e instanceof gc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return a(f)},this.configGetSourceVariant=function(f){a=f.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let f=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[f.property]=f.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=s.layout.span),s.encode(e[s.property],r,n),f+a.encode(e[a.property],r,n+f)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new q3(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Te.Union=q_;var q3=class extends ln{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof q_))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof ln))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Te.VariantLayout=q3;function x1(t){return 0>t&&(t+=4294967296),t}o(x1,"fixBitwiseResult");var H_=class extends ln{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof Ca||e instanceof gc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=x1(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new V_(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new H3(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Te.BitStructure=H_;var V_=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof H_))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,f)=>a+f.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=x1(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return x1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==x1(e&this.valueMask))throw new TypeError(PC("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=x1(e<<this.start);this.container._packedSetValue(x1(r&~this.wordMask)|n)}};Te.BitField=V_;var H3=class extends V_{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Te.Boolean=H3;var V3=class extends ln{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof Ts&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ts||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Jr(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ts&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(PC("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=Jr(e);return Jr(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Ts&&this.length.encode(i,r,n),i}};Te.Blob=V3;var j3=class extends ln{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){w1(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return Jr(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=CC.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=Jr(r);return i.copy(a,n),a[n+s]=0,s+1}};Te.CString=j3;var z3=class extends ln{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return w1(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Jr(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=CC.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Jr(r),n),s}};Te.UTF8=z3;var K3=class extends ln{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Te.Constant=K3;Te.greedy=(t,e)=>new O3(t,e);Te.offset=(t,e,r)=>new U_(t,e,r);Te.u8=t=>new Ca(1,t);Te.u16=t=>new Ca(2,t);Te.u24=t=>new Ca(3,t);Te.u32=t=>new Ca(4,t);Te.u40=t=>new Ca(5,t);Te.u48=t=>new Ca(6,t);Te.nu64=t=>new N3(t);Te.u16be=t=>new gc(2,t);Te.u24be=t=>new gc(3,t);Te.u32be=t=>new gc(4,t);Te.u40be=t=>new gc(5,t);Te.u48be=t=>new gc(6,t);Te.nu64be=t=>new M3(t);Te.s8=t=>new Td(1,t);Te.s16=t=>new Td(2,t);Te.s24=t=>new Td(3,t);Te.s32=t=>new Td(4,t);Te.s40=t=>new Td(5,t);Te.s48=t=>new Td(6,t);Te.ns64=t=>new C3(t);Te.s16be=t=>new o0(2,t);Te.s24be=t=>new o0(3,t);Te.s32be=t=>new o0(4,t);Te.s40be=t=>new o0(5,t);Te.s48be=t=>new o0(6,t);Te.ns64be=t=>new P3(t);Te.f32=t=>new k3(t);Te.f32be=t=>new B3(t);Te.f64=t=>new L3(t);Te.f64be=t=>new D3(t);Te.struct=(t,e,r)=>new F3(t,e,r);Te.bits=(t,e,r)=>new H_(t,e,r);Te.seq=(t,e,r)=>new U3(t,e,r);Te.union=(t,e,r)=>new q_(t,e,r);Te.unionLayoutDiscriminator=(t,e)=>new _1(t,e);Te.blob=(t,e)=>new V3(t,e);Te.cstr=t=>new j3(t);Te.utf8=(t,e)=>new z3(t,e);Te.constant=(t,e)=>new K3(t,e)});var sP=q(ce=>{"use strict";p();m();var ZX=1,JX=2,QX=3,eZ=4,tZ=5,rZ=6,nZ=7,iZ=8,oZ=9,BC=10,LC=-32700,DC=-32603,UC=-32602,FC=-32601,qC=-32600,sZ=-32016,HC=-32015,VC=-32014,aZ=-32013,jC=-32012,cZ=-32011,zC=-32010,KC=-32009,fZ=-32008,GC=-32007,$C=-32006,uZ=-32005,WC=-32004,lZ=-32003,W3=-32002,YC=-32001,dZ=28e5,hZ=2800001,pZ=2800002,mZ=2800003,gZ=2800004,yZ=2800005,bZ=2800006,vZ=2800007,xZ=2800008,_Z=2800009,wZ=2800010,EZ=2800011,SZ=323e4,AZ=32300001,RZ=3230002,TZ=3230003,IZ=3230004,OZ=361e4,NZ=3610001,MZ=3610002,CZ=3610003,PZ=3610004,kZ=3610005,BZ=3610006,LZ=3610007,DZ=3611e3,UZ=3704e3,FZ=3704001,qZ=3704002,HZ=3704003,VZ=3704004,jZ=4128e3,zZ=4128001,KZ=4128002,XC=4615e3,GZ=4615001,$Z=4615002,WZ=4615003,YZ=4615004,XZ=4615005,ZZ=4615006,JZ=4615007,QZ=4615008,eJ=4615009,tJ=4615010,rJ=4615011,nJ=4615012,iJ=4615013,oJ=4615014,sJ=4615015,aJ=4615016,cJ=4615017,fJ=4615018,uJ=4615019,lJ=4615020,dJ=4615021,hJ=4615022,pJ=4615023,mJ=4615024,gJ=4615025,ZC=4615026,yJ=4615027,bJ=4615028,vJ=4615029,xJ=4615030,_J=4615031,wJ=4615032,EJ=4615033,SJ=4615034,AJ=4615035,RJ=4615036,TJ=4615037,IJ=4615038,OJ=4615039,NJ=4615040,MJ=4615041,CJ=4615042,PJ=4615043,kJ=4615044,JC=4615045,BJ=4615046,LJ=4615047,DJ=4615048,UJ=4615049,FJ=4615050,qJ=4615051,HJ=4615052,VJ=4615053,jJ=4615054,zJ=5508e3,KJ=5508001,GJ=5508002,$J=5508003,WJ=5508004,YJ=5508005,XJ=5508006,ZJ=5508007,JJ=5508008,QJ=5508009,eQ=5508010,tQ=5508011,rQ=5663e3,nQ=5663001,iQ=5663002,oQ=5663003,sQ=5663004,aQ=5663005,cQ=5663006,fQ=5663007,uQ=5663008,lQ=5663009,dQ=5663010,hQ=5663011,pQ=5663012,mQ=5663013,gQ=5663014,yQ=5663015,bQ=5663016,vQ=5663017,xQ=5663018,_Q=5663019,wQ=5663020,QC=705e4,EQ=7050001,SQ=7050002,AQ=7050003,RQ=7050004,TQ=7050005,IQ=7050006,OQ=7050007,NQ=7050008,MQ=7050009,CQ=7050010,PQ=7050011,kQ=7050012,BQ=7050013,LQ=7050014,DQ=7050015,UQ=7050016,FQ=7050017,qQ=7050018,HQ=7050019,VQ=7050020,jQ=7050021,zQ=7050022,KQ=7050023,GQ=7050024,$Q=7050025,WQ=7050026,YQ=7050027,XQ=7050028,ZQ=7050029,eP=7050030,tP=7050031,JQ=7050032,QQ=7050033,eee=7050034,rP=7050035,tee=7050036,ree=8078e3,nee=8078001,iee=8078002,oee=8078003,see=8078004,aee=8078005,cee=8078006,fee=8078007,uee=8078008,lee=8078009,dee=8078010,hee=8078011,pee=8078012,mee=8078013,gee=8078014,yee=8078015,bee=8078016,vee=8078017,xee=8078018,_ee=8078019,wee=8078020,Eee=8078021,See=8078022,Aee=81e5,Ree=8100001,Tee=8100002,Iee=8100003,Oee=819e4,Nee=8190001,Mee=8190002,Cee=8190003,Pee=8190004,kee=99e5,Bee=9900001,Lee=9900002,Dee=9900003,Uee=9900004;function Fee(t){return Array.isArray(t)?"%5B"+t.map(Fee).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}o(Fee,"encodeValue");function L9e([t,e]){return`${t}=${Fee(e)}`}o(L9e,"encodeObjectContextEntry");function D9e(t){let e=Object.entries(t).map(L9e).join("&");return btoa(e)}o(D9e,"encodeContextObject");var U9e={[SZ]:"Account not found at address: $address",[IZ]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[TZ]:"Expected decoded account at address: $address",[RZ]:"Failed to decode account data at address: $address",[AZ]:"Accounts not found at addresses: $addresses",[_Z]:"Unable to find a viable program address bump seed.",[pZ]:"$putativeAddress is not a base58-encoded address.",[dZ]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[mZ]:"The `CryptoKey` must be an `Ed25519` public key.",[EZ]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[xZ]:"Invalid seeds; point must fall off the Ed25519 curve.",[gZ]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[bZ]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[vZ]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[yZ]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[wZ]:"Program address cannot end with PDA marker.",[hZ]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[eZ]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[ZX]:"The network has progressed past the last block for which this transaction could have been committed.",[ree]:"Codec [$codecDescription] cannot decode empty byte arrays.",[See]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[wee]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[aee]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[cee]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[see]:"Encoder and decoder must either both be fixed-size or variable-size.",[uee]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[iee]:"Expected a fixed-size codec, got a variable-size one.",[mee]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[oee]:"Expected a variable-size codec, got a fixed-size one.",[_ee]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[nee]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[xee]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[lee]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[dee]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[yee]:"Invalid literal union variant. Expected one of [$variants], got $value.",[fee]:"Expected [$codecDescription] to have $expected items, got $actual.",[pee]:"Invalid value $value for base $base with alphabet $alphabet.",[bee]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[hee]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[gee]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Eee]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[vee]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[DZ]:"No random values implementation could be found.",[eJ]:"instruction requires an uninitialized account",[pJ]:"instruction tries to borrow reference for an account which is already borrowed",[mJ]:"instruction left account with an outstanding borrowed reference",[dJ]:"program other than the account's owner changed the size of the account data",[XZ]:"account data too small for instruction",[hJ]:"instruction expected an executable account",[BJ]:"An account does not have enough lamports to be rent-exempt",[DJ]:"Program arithmetic overflowed",[JC]:"Failed to serialize or deserialize account data: $encodedData",[jJ]:"Builtin programs must consume compute units",[wJ]:"Cross-program invocation call depth too deep",[IJ]:"Computational budget exceeded",[ZC]:"custom program error: #$code",[cJ]:"instruction contains duplicate accounts",[gJ]:"instruction modifications of multiply-passed account differ",[xJ]:"executable accounts must be rent exempt",[bJ]:"instruction changed executable accounts data",[vJ]:"instruction changed the balance of an executable account",[fJ]:"instruction changed executable bit of an account",[oJ]:"instruction modified data of an account it does not own",[iJ]:"instruction spent from the balance of an account it does not own",[GZ]:"generic instruction error",[FJ]:"Provided owner is not allowed",[PJ]:"Account is immutable",[kJ]:"Incorrect authority provided",[JZ]:"incorrect program id for instruction",[ZZ]:"insufficient funds for instruction",[YZ]:"invalid account data for instruction",[LJ]:"Invalid account owner",[$Z]:"invalid program argument",[yJ]:"program returned invalid error code",[WZ]:"invalid instruction data",[TJ]:"Failed to reallocate account data",[RJ]:"Provided seeds do not result in a valid address",[qJ]:"Accounts data allocations exceeded the maximum allowed per transaction",[HJ]:"Max accounts exceeded",[VJ]:"Max instruction trace length exceeded",[AJ]:"Length of the seed is too long for address generation",[EJ]:"An account required by the instruction is missing",[QZ]:"missing required signature for instruction",[nJ]:"instruction illegally modified the program id of an account",[lJ]:"insufficient account keys for instruction",[OJ]:"Cross-program invocation with unauthorized signer or writable account",[NJ]:"Failed to create program execution environment",[CJ]:"Program failed to compile",[MJ]:"Program failed to complete",[aJ]:"instruction modified data of a read-only account",[sJ]:"instruction changed the balance of a read-only account",[SJ]:"Cross-program invocation reentrancy not allowed for this instruction",[uJ]:"instruction modified rent epoch of an account",[rJ]:"sum of account balances before and after instruction do not match",[tJ]:"instruction requires an initialized account",[XC]:"",[_J]:"Unsupported program id",[UJ]:"Unsupported sysvar",[jZ]:"The instruction does not have any accounts.",[zZ]:"The instruction does not have any data.",[KZ]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[tZ]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[JX]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Lee]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Uee]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[Bee]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[kee]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Dee]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[DC]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[UC]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[qC]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[FC]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[LC]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[jC]:"$__serverMessage",[YC]:"$__serverMessage",[WC]:"$__serverMessage",[VC]:"$__serverMessage",[zC]:"$__serverMessage",[KC]:"$__serverMessage",[sZ]:"Minimum context slot has not been reached",[uZ]:"Node is unhealthy; behind by $numSlotsBehind slots",[fZ]:"No snapshot",[W3]:"Transaction simulation failed",[GC]:"$__serverMessage",[cZ]:"Transaction history is not available from this node",[$C]:"$__serverMessage",[aZ]:"Transaction signature length mismatch",[lZ]:"Transaction signature verification failure",[HC]:"$__serverMessage",[UZ]:"Key pair bytes must be of length 64, got $byteLength.",[FZ]:"Expected private key bytes with length 32. Actual length: $actualLength.",[qZ]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[VZ]:"The provided private key does not match the provided public key.",[HZ]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[rZ]:"Lamports value must be in the range [0, 2e64-1]",[nZ]:"`$value` cannot be parsed as a `BigInt`",[BC]:"$message",[iZ]:"`$value` cannot be parsed as a `Number`",[QX]:"No nonce account could be found at address `$nonceAccountAddress`",[Oee]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Mee]:"WebSocket was closed before payload could be added to the send buffer",[Cee]:"WebSocket connection closed",[Pee]:"WebSocket failed to connect",[Nee]:"Failed to obtain a subscription id from the server",[Iee]:"Could not find an API plan for RPC method: `$method`",[Aee]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Tee]:"HTTP error ($statusCode): $message",[Ree]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[zJ]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[KJ]:"The provided value does not implement the `KeyPairSigner` interface",[$J]:"The provided value does not implement the `MessageModifyingSigner` interface",[WJ]:"The provided value does not implement the `MessagePartialSigner` interface",[GJ]:"The provided value does not implement any of the `MessageSigner` interfaces",[XJ]:"The provided value does not implement the `TransactionModifyingSigner` interface",[ZJ]:"The provided value does not implement the `TransactionPartialSigner` interface",[JJ]:"The provided value does not implement the `TransactionSendingSigner` interface",[YJ]:"The provided value does not implement any of the `TransactionSigner` interfaces",[QJ]:"More than one `TransactionSendingSigner` was identified.",[eQ]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[tQ]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[LZ]:"Cannot export a non-extractable key.",[NZ]:"No digest implementation could be found.",[OZ]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[MZ]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[CZ]:"No signature verification implementation could be found.",[PZ]:"No key generation implementation could be found.",[kZ]:"No signing implementation could be found.",[BZ]:"No key export implementation could be found.",[oZ]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[UQ]:"Transaction processing left an account with an outstanding borrowed reference",[EQ]:"Account in use",[SQ]:"Account loaded twice",[AQ]:"Attempt to debit an account but found no record of a prior credit.",[KQ]:"Transaction loads an address table account that doesn't exist",[OQ]:"This transaction has already been processed",[NQ]:"Blockhash not found",[MQ]:"Loader call chain is too deep",[DQ]:"Transactions are currently disabled due to cluster maintenance",[eP]:"Transaction contains a duplicate instruction ($index) that is not allowed",[TQ]:"Insufficient funds for fee",[tP]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[IQ]:"This account may not be used to pay transaction fees",[PQ]:"Transaction contains an invalid account reference",[$Q]:"Transaction loads an address table account with invalid data",[WQ]:"Transaction address table lookup uses an invalid index",[GQ]:"Transaction loads an address table account with an invalid owner",[QQ]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[BQ]:"This program may not be used for executing instructions",[YQ]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[HQ]:"Transaction loads a writable account that cannot be written",[JQ]:"Transaction exceeded max loaded accounts data size cap",[CQ]:"Transaction requires a fee but has no signature present",[RQ]:"Attempt to load a program that does not exist",[rP]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[eee]:"ResanitizationNeeded",[LQ]:"Transaction failed to sanitize accounts offsets correctly",[kQ]:"Transaction did not pass signature verification",[zQ]:"Transaction locked too many accounts",[tee]:"Sum of account balances before and after transaction do not match",[QC]:"The transaction failed with the error `$errorName`",[qQ]:"Transaction version is unsupported",[jQ]:"Transaction would exceed account data limit within the block",[ZQ]:"Transaction would exceed total account data limit",[VQ]:"Transaction would exceed max account limit within the block",[FQ]:"Transaction would exceed max Block Cost Limit",[XQ]:"Transaction would exceed max Vote Cost Limit",[yQ]:"Attempted to sign a transaction with an address that is not a signer for it",[dQ]:"Transaction is missing an address at index: $index.",[bQ]:"Transaction has no expected signers therefore it cannot be encoded",[wQ]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[iQ]:"Transaction does not have a blockhash lifetime",[oQ]:"Transaction is not a durable nonce transaction",[aQ]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[cQ]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[uQ]:"No fee payer set in CompiledTransaction",[fQ]:"Could not find program address at index $index",[xQ]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[_Q]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[hQ]:"Transaction is missing a fee payer.",[pQ]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[gQ]:"Transaction first instruction is not advance nonce account instruction.",[mQ]:"Transaction with no instructions cannot be durable nonce transaction.",[rQ]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[nQ]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[vQ]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[lQ]:"Transaction is missing signatures for addresses: $addresses.",[sQ]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},Id="i",hl="t";function F9e(t,e={}){let r=U9e[t];if(r.length===0)return"";let n;function i(a){if(n[hl]===2){let f=r.slice(n[Id]+1,a);s.push(f in e?`${e[f]}`:`$${f}`)}else n[hl]===1&&s.push(r.slice(n[Id],a))}o(i,"commitStateUpTo");let s=[];return r.split("").forEach((a,f)=>{if(f===0){n={[Id]:0,[hl]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let l;switch(n[hl]){case 0:l={[Id]:f,[hl]:1};break;case 1:a==="\\"?l={[Id]:f,[hl]:0}:a==="$"&&(l={[Id]:f,[hl]:2});break;case 2:a==="\\"?l={[Id]:f,[hl]:0}:a==="$"?l={[Id]:f,[hl]:2}:a.match(/\w/)||(l={[Id]:f,[hl]:1});break}l&&(n!==l&&i(f),n=l)}),i(),s.join("")}o(F9e,"getHumanReadableErrorMessage");function q9e(t,e={}){if(I.NODE_ENV!=="production")return F9e(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${D9e(e)}'`),`${r}\``}}o(q9e,"getErrorMessage");function H9e(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}o(H9e,"isSolanaError");var j_=class extends Error{static{o(this,"SolanaError")}cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:s,...a}=e;s&&(n={cause:s}),Object.keys(a).length>0&&(r=a)}let i=q9e(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function nP(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}o(nP,"safeCaptureStackTrace");function qee({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let s,a;typeof n=="string"?s=n:(s=Object.keys(n)[0],a=n[s]);let f=r.indexOf(s),l=t+f,h=e(l,s,a),g=new j_(l,h);return nP(g,i),g}o(qee,"getSolanaErrorFromRpcError");var V9e=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function iP(t,e){let r=Number(t);return qee({errorCodeBaseOffset:4615001,getErrorContext(n,i,s){return n===XC?{errorName:i,index:r,...s!==void 0?{instructionErrorContext:s}:null}:n===ZC?{code:Number(s),index:r}:n===JC?{encodedData:s,index:r}:{index:r}},orderedErrorNames:V9e,rpcEnumError:e},iP)}o(iP,"getSolanaErrorFromInstructionError");var j9e=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function oP(t){return typeof t=="object"&&"InstructionError"in t?iP(...t.InstructionError):qee({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===QC)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===eP)return{index:Number(n)};if(e===tP||e===rP)return{accountIndex:Number(n.account_index)}},orderedErrorNames:j9e,rpcEnumError:t},oP)}o(oP,"getSolanaErrorFromTransactionError");function Hee(t){let e;if(z9e(t)){let{code:r,data:n,message:i}=t,s=Number(r);if(s===W3){let{err:a,...f}=n,l=a?{cause:oP(a)}:null;e=new j_(W3,{...f,...l})}else{let a;switch(s){case DC:case UC:case qC:case FC:case LC:case jC:case YC:case WC:case VC:case zC:case KC:case GC:case $C:case HC:a={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(a=n)}e=new j_(s,a)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new j_(BC,{error:t,message:r})}return nP(e,Hee),e}o(Hee,"getSolanaErrorFromJsonRpcError");function z9e(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}o(z9e,"isRpcErrorResponse");ce.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=SZ;ce.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=IZ;ce.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=TZ;ce.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=RZ;ce.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=AZ;ce.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=_Z;ce.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=pZ;ce.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=dZ;ce.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=mZ;ce.SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS=EZ;ce.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=xZ;ce.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=gZ;ce.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=bZ;ce.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=vZ;ce.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=yZ;ce.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=wZ;ce.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=hZ;ce.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=eZ;ce.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=ZX;ce.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=ree;ce.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=See;ce.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=wee;ce.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=aee;ce.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=cee;ce.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=see;ce.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=uee;ce.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=iee;ce.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=mee;ce.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=oee;ce.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=_ee;ce.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=nee;ce.SOLANA_ERROR__CODECS__INVALID_CONSTANT=xee;ce.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=lee;ce.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=dee;ce.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=yee;ce.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=fee;ce.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=pee;ce.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=bee;ce.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=hee;ce.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=gee;ce.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=Eee;ce.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=vee;ce.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=DZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=eJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=pJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=mJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=dJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=XZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=hJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=BJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=DJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=JC;ce.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=jJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=wJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=IJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=ZC;ce.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=cJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=gJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=xJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=bJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=vJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=fJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=oJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=iJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=GZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=FJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=PJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=kJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=JZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=ZZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=YZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=LJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=$Z;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=yJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=WZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=TJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=RJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=qJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=HJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=VJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=AJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=EJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=QZ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=nJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=lJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=OJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=NJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=CJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=MJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=aJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=sJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=SJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=uJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=rJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=tJ;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=XC;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=_J;ce.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=UJ;ce.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=jZ;ce.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=zZ;ce.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=KZ;ce.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=tZ;ce.SOLANA_ERROR__INVALID_NONCE=JX;ce.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=Lee;ce.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=Uee;ce.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=Bee;ce.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=kee;ce.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=Dee;ce.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=DC;ce.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=UC;ce.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=qC;ce.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=FC;ce.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=LC;ce.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=jC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=YC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=WC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=VC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=zC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=KC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=sZ;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=uZ;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=fZ;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=W3;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=GC;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=cZ;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=$C;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=aZ;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=lZ;ce.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=HC;ce.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=UZ;ce.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=FZ;ce.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=qZ;ce.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=VZ;ce.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=HZ;ce.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=rZ;ce.SOLANA_ERROR__MALFORMED_BIGINT_STRING=nZ;ce.SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR=BC;ce.SOLANA_ERROR__MALFORMED_NUMBER_STRING=iZ;ce.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=QX;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=Oee;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=Mee;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=Cee;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=Pee;ce.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=Nee;ce.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=Iee;ce.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=Aee;ce.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=Tee;ce.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=Ree;ce.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=zJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=KJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=$J;ce.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=WJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=GJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=XJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=ZJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=JJ;ce.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=YJ;ce.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=QJ;ce.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=eQ;ce.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=tQ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=LZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=NZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=OZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=MZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=CZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=PZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=kZ;ce.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=BZ;ce.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=oZ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=UQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=EQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=SQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=AQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=KQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=OQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=NQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=MQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=DQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=eP;ce.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=TQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=tP;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=IQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=PQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=$Q;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=WQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=GQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=QQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=BQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=YQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=HQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=JQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=CQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=RQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=rP;ce.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=eee;ce.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=LQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=kQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=zQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=tee;ce.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=QC;ce.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=qQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=jQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=ZQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=VQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=FQ;ce.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=XQ;ce.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=yQ;ce.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=dQ;ce.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=bQ;ce.SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT=wQ;ce.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=iQ;ce.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=oQ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=aQ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=cQ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=uQ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=fQ;ce.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=xQ;ce.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=_Q;ce.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=hQ;ce.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=pQ;ce.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=gQ;ce.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=mQ;ce.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=rQ;ce.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=nQ;ce.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=vQ;ce.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=lQ;ce.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=sQ;ce.SolanaError=j_;ce.getSolanaErrorFromInstructionError=iP;ce.getSolanaErrorFromJsonRpcError=Hee;ce.getSolanaErrorFromTransactionError=oP;ce.isSolanaError=H9e;ce.safeCaptureStackTrace=nP});var fte=q(Qt=>{"use strict";p();m();var jn=sP(),K9e=o(t=>{let e=t.filter(s=>s.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((s,a)=>s+a.length,0),n=new Uint8Array(r),i=0;return e.forEach(s=>{n.set(s,i),i+=s.length}),n},"mergeBytes"),Vee=o((t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},"padBytes"),jee=o((t,e)=>Vee(t.length<=e?t:t.slice(0,e),e),"fixBytes");function zee(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,s)=>i===n[s])}o(zee,"containsBytes");function z_(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}o(z_,"getEncodedSize");function cu(t){return Object.freeze({...t,encode:o(e=>{let r=new Uint8Array(z_(e,t));return t.write(e,r,0),r},"encode")})}o(cu,"createEncoder");function pl(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode")})}o(pl,"createDecoder");function Kee(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode"),encode:o(e=>{let r=new Uint8Array(z_(e,t));return t.write(e,r,0),r},"encode")})}o(Kee,"createCodec");function Pi(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}o(Pi,"isFixedSize");function aP(t){if(!Pi(t))throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}o(aP,"assertIsFixedSize");function cP(t){return!Pi(t)}o(cP,"isVariableSize");function G9e(t){if(!cP(t))throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}o(G9e,"assertIsVariableSize");function Od(t,e){if(Pi(t)!==Pi(e))throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(Pi(t)&&Pi(e)&&t.fixedSize!==e.fixedSize)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Pi(t)&&!Pi(e)&&t.maxSize!==e.maxSize)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}o(Od,"combineCodec");function Gee(t,e){let r=o((n,i,s)=>{let a=t.encode(n);if(Wee(a,e)>=0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:a,hexEncodedBytes:Y3(a),hexSentinel:Y3(e),sentinel:e});return i.set(a,s),s+=a.length,i.set(e,s),s+=e.length,s},"write");return Pi(t)?cu({...t,fixedSize:t.fixedSize+e.length,write:r}):cu({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:o(n=>t.getSizeFromValue(n)+e.length,"getSizeFromValue"),write:r})}o(Gee,"addEncoderSentinel");function $ee(t,e){let r=o((n,i)=>{let s=i===0?n:n.slice(i),a=Wee(s,e);if(a===-1)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:s,hexDecodedBytes:Y3(s),hexSentinel:Y3(e),sentinel:e});let f=s.slice(0,a);return[t.decode(f),i+f.length+e.length]},"read");return Pi(t)?pl({...t,fixedSize:t.fixedSize+e.length,read:r}):pl({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}o($ee,"addDecoderSentinel");function $9e(t,e){return Od(Gee(t,e),$ee(t,e))}o($9e,"addCodecSentinel");function Wee(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:zee(i,e,n))}o(Wee,"findSentinelIndex");function Y3(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(Y3,"hexBytes");function W9e(t,e,r=0){if(e.length-r<=0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}o(W9e,"assertByteArrayIsNotEmptyForCodec");function fP(t,e,r,n=0){let i=r.length-n;if(i<e)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}o(fP,"assertByteArrayHasEnoughBytesForCodec");function K_(t,e,r){if(e<0||e>r)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}o(K_,"assertByteArrayOffsetIsNotOutOfRange");function Yee(t,e){let r=o((a,f,l)=>{let h=t.encode(a);return l=e.write(h.length,f,l),f.set(h,l),l+h.length},"write");if(Pi(e)&&Pi(t))return cu({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=Pi(e)?e.fixedSize:e.maxSize??null,i=Pi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return cu({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:o(a=>{let f=z_(a,t);return z_(f,e)+f},"getSizeFromValue"),write:r})}o(Yee,"addEncoderSizePrefix");function Xee(t,e){let r=o((a,f)=>{let[l,h]=e.read(a,f),g=Number(l);return f=h,(f>0||a.length>g)&&(a=a.slice(f,f+g)),fP("addDecoderSizePrefix",g,a),[t.decode(a),f+g]},"read");if(Pi(e)&&Pi(t))return pl({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=Pi(e)?e.fixedSize:e.maxSize??null,i=Pi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return pl({...t,...s!==null?{maxSize:s}:{},read:r})}o(Xee,"addDecoderSizePrefix");function Y9e(t,e){return Od(Yee(t,e),Xee(t,e))}o(Y9e,"addCodecSizePrefix");function Zee(t,e){return cu({fixedSize:e,write:o((r,n,i)=>{let s=t.encode(r),a=s.length>e?s.slice(0,e):s;return n.set(a,i),i+e},"write")})}o(Zee,"fixEncoderSize");function Jee(t,e){return pl({fixedSize:e,read:o((r,n)=>{fP("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),Pi(t)&&(r=jee(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]},"read")})}o(Jee,"fixDecoderSize");function X9e(t,e){return Od(Zee(t,e),Jee(t,e))}o(X9e,"fixCodecSize");function X3(t,e){return cu({...t,write:o((r,n,i)=>{let s=o(h=>Qee(h,n.length),"wrapBytes"),a=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:s}):i;K_("offsetEncoder",a,n.length);let f=t.write(r,n,a),l=e.postOffset?e.postOffset({bytes:n,newPreOffset:a,postOffset:f,preOffset:i,wrapBytes:s}):f;return K_("offsetEncoder",l,n.length),l},"write")})}o(X3,"offsetEncoder");function Z3(t,e){return pl({...t,read:o((r,n)=>{let i=o(h=>Qee(h,r.length),"wrapBytes"),s=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;K_("offsetDecoder",s,r.length);let[a,f]=t.read(r,s),l=e.postOffset?e.postOffset({bytes:r,newPreOffset:s,postOffset:f,preOffset:n,wrapBytes:i}):f;return K_("offsetDecoder",l,r.length),[a,l]},"read")})}o(Z3,"offsetDecoder");function Z9e(t,e){return Od(X3(t,e),Z3(t,e))}o(Z9e,"offsetCodec");function Qee(t,e){return e===0?0:(t%e+e)%e}o(Qee,"modulo");function J3(t,e){if(Pi(t)){let r=e(t.fixedSize);if(r<0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return cu({...t,fixedSize:r})}return cu({...t,getSizeFromValue:o(r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n},"getSizeFromValue")})}o(J3,"resizeEncoder");function Q3(t,e){if(Pi(t)){let r=e(t.fixedSize);if(r<0)throw new jn.SolanaError(jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return pl({...t,fixedSize:r})}return t}o(Q3,"resizeDecoder");function J9e(t,e){return Od(J3(t,e),Q3(t,e))}o(J9e,"resizeCodec");function ete(t,e){return X3(J3(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(ete,"padLeftEncoder");function tte(t,e){return X3(J3(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(tte,"padRightEncoder");function rte(t,e){return Z3(Q3(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(rte,"padLeftDecoder");function nte(t,e){return Z3(Q3(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(nte,"padRightDecoder");function Q9e(t,e){return Od(ete(t,e),rte(t,e))}o(Q9e,"padLeftCodec");function eNe(t,e){return Od(tte(t,e),nte(t,e))}o(eNe,"padRightCodec");function ite(t,e,r,n,i=0){for(;r<--n;){let s=t[r];e[r+i]=t[n],e[n+i]=s,r++}r===n&&(e[r+i]=t[r])}o(ite,"copySourceToTargetInReverse");function ote(t){return aP(t),cu({...t,write:o((e,r,n)=>{let i=t.write(e,r,n);return ite(r,r,n,n+t.fixedSize),i},"write")})}o(ote,"reverseEncoder");function ste(t){return aP(t),pl({...t,read:o((e,r)=>{let n=e.slice();return ite(e,n,r,r+t.fixedSize),t.read(n,r)},"read")})}o(ste,"reverseDecoder");function tNe(t){return Od(ote(t),ste(t))}o(tNe,"reverseCodec");function ate(t,e){return cu({...cP(t)?{...t,getSizeFromValue:o(r=>t.getSizeFromValue(e(r)),"getSizeFromValue")}:t,write:o((r,n,i)=>t.write(e(r),n,i),"write")})}o(ate,"transformEncoder");function cte(t,e){return pl({...t,read:o((r,n)=>{let[i,s]=t.read(r,n);return[e(i,r,n),s]},"read")})}o(cte,"transformDecoder");function rNe(t,e,r){return Kee({...ate(t,e),read:r?cte(t,r).read:t.read})}o(rNe,"transformCodec");Qt.addCodecSentinel=$9e;Qt.addCodecSizePrefix=Y9e;Qt.addDecoderSentinel=$ee;Qt.addDecoderSizePrefix=Xee;Qt.addEncoderSentinel=Gee;Qt.addEncoderSizePrefix=Yee;Qt.assertByteArrayHasEnoughBytesForCodec=fP;Qt.assertByteArrayIsNotEmptyForCodec=W9e;Qt.assertByteArrayOffsetIsNotOutOfRange=K_;Qt.assertIsFixedSize=aP;Qt.assertIsVariableSize=G9e;Qt.combineCodec=Od;Qt.containsBytes=zee;Qt.createCodec=Kee;Qt.createDecoder=pl;Qt.createEncoder=cu;Qt.fixBytes=jee;Qt.fixCodecSize=X9e;Qt.fixDecoderSize=Jee;Qt.fixEncoderSize=Zee;Qt.getEncodedSize=z_;Qt.isFixedSize=Pi;Qt.isVariableSize=cP;Qt.mergeBytes=K9e;Qt.offsetCodec=Z9e;Qt.offsetDecoder=Z3;Qt.offsetEncoder=X3;Qt.padBytes=Vee;Qt.padLeftCodec=Q9e;Qt.padLeftDecoder=rte;Qt.padLeftEncoder=ete;Qt.padRightCodec=eNe;Qt.padRightDecoder=nte;Qt.padRightEncoder=tte;Qt.resizeCodec=J9e;Qt.resizeDecoder=Q3;Qt.resizeEncoder=J3;Qt.reverseCodec=tNe;Qt.reverseDecoder=ste;Qt.reverseEncoder=ote;Qt.transformCodec=rNe;Qt.transformDecoder=cte;Qt.transformEncoder=ate});var Fte=q(sr=>{"use strict";p();m();var ute=sP(),lo=fte();function uP(t,e,r,n){if(n<e||n>r)throw new ute.SolanaError(ute.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}o(uP,"assertNumberIsBetweenForCodec");var lte=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(lte||{});function dte(t){return t?.endian!==1}o(dte,"isLittleEndian");function Zc(t){return lo.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&uP(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,dte(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}o(Zc,"numberEncoderFactory");function Jc(t){return lo.createDecoder({fixedSize:t.size,read(e,r=0){lo.assertByteArrayIsNotEmptyForCodec(t.name,e,r),lo.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(nNe(e,r,t.size));return[t.get(n,dte(t.config)),r+t.size]}})}o(Jc,"numberDecoderFactory");function nNe(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}o(nNe,"toArrayBuffer");var hte=o((t={})=>Zc({config:t,name:"f32",set:o((e,r,n)=>e.setFloat32(0,Number(r),n),"set"),size:4}),"getF32Encoder"),pte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getFloat32(0,r),"get"),name:"f32",size:4}),"getF32Decoder"),iNe=o((t={})=>lo.combineCodec(hte(t),pte(t)),"getF32Codec"),mte=o((t={})=>Zc({config:t,name:"f64",set:o((e,r,n)=>e.setFloat64(0,Number(r),n),"set"),size:8}),"getF64Encoder"),gte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getFloat64(0,r),"get"),name:"f64",size:8}),"getF64Decoder"),oNe=o((t={})=>lo.combineCodec(mte(t),gte(t)),"getF64Codec"),yte=o((t={})=>Zc({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getI128Encoder"),bte=o((t={})=>Jc({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigInt64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"i128",size:16}),"getI128Decoder"),sNe=o((t={})=>lo.combineCodec(yte(t),bte(t)),"getI128Codec"),vte=o((t={})=>Zc({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:o((e,r,n)=>e.setInt16(0,Number(r),n),"set"),size:2}),"getI16Encoder"),xte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getInt16(0,r),"get"),name:"i16",size:2}),"getI16Decoder"),aNe=o((t={})=>lo.combineCodec(vte(t),xte(t)),"getI16Codec"),_te=o((t={})=>Zc({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:o((e,r,n)=>e.setInt32(0,Number(r),n),"set"),size:4}),"getI32Encoder"),wte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getInt32(0,r),"get"),name:"i32",size:4}),"getI32Decoder"),cNe=o((t={})=>lo.combineCodec(_te(t),wte(t)),"getI32Codec"),Ete=o((t={})=>Zc({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:o((e,r,n)=>e.setBigInt64(0,BigInt(r),n),"set"),size:8}),"getI64Encoder"),Ste=o((t={})=>Jc({config:t,get:o((e,r)=>e.getBigInt64(0,r),"get"),name:"i64",size:8}),"getI64Decoder"),fNe=o((t={})=>lo.combineCodec(Ete(t),Ste(t)),"getI64Codec"),Ate=o(()=>Zc({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:o((t,e)=>t.setInt8(0,Number(e)),"set"),size:1}),"getI8Encoder"),Rte=o(()=>Jc({get:o(t=>t.getInt8(0),"get"),name:"i8",size:1}),"getI8Decoder"),uNe=o(()=>lo.combineCodec(Ate(),Rte()),"getI8Codec"),Tte=o(()=>lo.createEncoder({getSizeFromValue:o(t=>t<=127?1:t<=16383?2:3,"getSizeFromValue"),maxSize:3,write:o((t,e,r)=>{uP("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let s=Number(t)>>i*7;if(s===0)break;let a=127&s;n[i]=a,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length},"write")}),"getShortU16Encoder"),Ite=o(()=>lo.createDecoder({maxSize:3,read:o((t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,s=t[e+i],a=127&s;if(r|=a<<i*7,!(s&128))break}return[r,e+n]},"read")}),"getShortU16Decoder"),lNe=o(()=>lo.combineCodec(Tte(),Ite()),"getShortU16Codec"),Ote=o((t={})=>Zc({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getU128Encoder"),Nte=o((t={})=>Jc({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigUint64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"u128",size:16}),"getU128Decoder"),dNe=o((t={})=>lo.combineCodec(Ote(t),Nte(t)),"getU128Codec"),Mte=o((t={})=>Zc({config:t,name:"u16",range:[0,+"0xffff"],set:o((e,r,n)=>e.setUint16(0,Number(r),n),"set"),size:2}),"getU16Encoder"),Cte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getUint16(0,r),"get"),name:"u16",size:2}),"getU16Decoder"),hNe=o((t={})=>lo.combineCodec(Mte(t),Cte(t)),"getU16Codec"),Pte=o((t={})=>Zc({config:t,name:"u32",range:[0,+"0xffffffff"],set:o((e,r,n)=>e.setUint32(0,Number(r),n),"set"),size:4}),"getU32Encoder"),kte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getUint32(0,r),"get"),name:"u32",size:4}),"getU32Decoder"),pNe=o((t={})=>lo.combineCodec(Pte(t),kte(t)),"getU32Codec"),Bte=o((t={})=>Zc({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:o((e,r,n)=>e.setBigUint64(0,BigInt(r),n),"set"),size:8}),"getU64Encoder"),Lte=o((t={})=>Jc({config:t,get:o((e,r)=>e.getBigUint64(0,r),"get"),name:"u64",size:8}),"getU64Decoder"),mNe=o((t={})=>lo.combineCodec(Bte(t),Lte(t)),"getU64Codec"),Dte=o(()=>Zc({name:"u8",range:[0,+"0xff"],set:o((t,e)=>t.setUint8(0,Number(e)),"set"),size:1}),"getU8Encoder"),Ute=o(()=>Jc({get:o(t=>t.getUint8(0),"get"),name:"u8",size:1}),"getU8Decoder"),gNe=o(()=>lo.combineCodec(Dte(),Ute()),"getU8Codec");sr.Endian=lte;sr.assertNumberIsBetweenForCodec=uP;sr.getF32Codec=iNe;sr.getF32Decoder=pte;sr.getF32Encoder=hte;sr.getF64Codec=oNe;sr.getF64Decoder=gte;sr.getF64Encoder=mte;sr.getI128Codec=sNe;sr.getI128Decoder=bte;sr.getI128Encoder=yte;sr.getI16Codec=aNe;sr.getI16Decoder=xte;sr.getI16Encoder=vte;sr.getI32Codec=cNe;sr.getI32Decoder=wte;sr.getI32Encoder=_te;sr.getI64Codec=fNe;sr.getI64Decoder=Ste;sr.getI64Encoder=Ete;sr.getI8Codec=uNe;sr.getI8Decoder=Rte;sr.getI8Encoder=Ate;sr.getShortU16Codec=lNe;sr.getShortU16Decoder=Ite;sr.getShortU16Encoder=Tte;sr.getU128Codec=dNe;sr.getU128Decoder=Nte;sr.getU128Encoder=Ote;sr.getU16Codec=hNe;sr.getU16Decoder=Cte;sr.getU16Encoder=Mte;sr.getU32Codec=pNe;sr.getU32Decoder=kte;sr.getU32Encoder=Pte;sr.getU64Codec=mNe;sr.getU64Decoder=Lte;sr.getU64Encoder=Bte;sr.getU8Codec=gNe;sr.getU8Decoder=Ute;sr.getU8Encoder=Dte});var Hte=q((e6,qte)=>{p();m();(function(t,e){typeof e6=="object"&&typeof qte<"u"?e(e6):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Superstruct={}))})(e6,function(t){"use strict";class e extends TypeError{static{o(this,"StructError")}constructor(Z,pe){let ne,{message:de,explanation:yt,...be}=Z,{path:Se}=Z,Xt=Se.length===0?de:`At path: ${Se.join(".")} -- ${de}`;super(yt??Xt),yt!=null&&(this.cause=Xt),Object.assign(this,be),this.name=this.constructor.name,this.failures=()=>ne??(ne=[Z,...pe()])}}function r(X){return n(X)&&typeof X[Symbol.iterator]=="function"}o(r,"isIterable");function n(X){return typeof X=="object"&&X!=null}o(n,"isObject");function i(X){return n(X)&&!Array.isArray(X)}o(i,"isNonArrayObject");function s(X){if(Object.prototype.toString.call(X)!=="[object Object]")return!1;let Z=Object.getPrototypeOf(X);return Z===null||Z===Object.prototype}o(s,"isPlainObject");function a(X){return typeof X=="symbol"?X.toString():typeof X=="string"?JSON.stringify(X):`${X}`}o(a,"print");function f(X){let{done:Z,value:pe}=X.next();return Z?void 0:pe}o(f,"shiftIterator");function l(X,Z,pe,ne){if(X===!0)return;X===!1?X={}:typeof X=="string"&&(X={message:X});let{path:de,branch:yt}=Z,{type:be}=pe,{refinement:Se,message:Xt=`Expected a value of type \`${be}\`${Se?` with refinement \`${Se}\``:""}, but received: \`${a(ne)}\``}=X;return{value:ne,type:be,refinement:Se,key:de[de.length-1],path:de,branch:yt,...X,message:Xt}}o(l,"toFailure");function*h(X,Z,pe,ne){r(X)||(X=[X]);for(let de of X){let yt=l(de,Z,pe,ne);yt&&(yield yt)}}o(h,"toFailures");function*g(X,Z,pe={}){let{path:ne=[],branch:de=[X],coerce:yt=!1,mask:be=!1}=pe,Se={path:ne,branch:de,mask:be};yt&&(X=Z.coercer(X,Se));let Xt="valid";for(let Re of Z.validator(X,Se))Re.explanation=pe.message,Xt="not_valid",yield[Re,void 0];for(let[Re,Ne,Zn]of Z.entries(X,Se)){let Fe=g(Ne,Zn,{path:Re===void 0?ne:[...ne,Re],branch:Re===void 0?de:[...de,Ne],coerce:yt,mask:be,message:pe.message});for(let De of Fe)De[0]?(Xt=De[0].refinement!=null?"not_refined":"not_valid",yield[De[0],void 0]):yt&&(Ne=De[1],Re===void 0?X=Ne:X instanceof Map?X.set(Re,Ne):X instanceof Set?X.add(Ne):n(X)&&(Ne!==void 0||Re in X)&&(X[Re]=Ne))}if(Xt!=="not_valid")for(let Re of Z.refiner(X,Se))Re.explanation=pe.message,Xt="not_refined",yield[Re,void 0];Xt==="valid"&&(yield[void 0,X])}o(g,"run");class b{static{o(this,"Struct")}constructor(Z){let{type:pe,schema:ne,validator:de,refiner:yt,coercer:be=o(Xt=>Xt,"coercer"),entries:Se=o(function*(){},"entries")}=Z;this.type=pe,this.schema=ne,this.entries=Se,this.coercer=be,de?this.validator=(Xt,Re)=>{let Ne=de(Xt,Re);return h(Ne,Re,this,Xt)}:this.validator=()=>[],yt?this.refiner=(Xt,Re)=>{let Ne=yt(Xt,Re);return h(Ne,Re,this,Xt)}:this.refiner=()=>[]}assert(Z,pe){return A(Z,this,pe)}create(Z,pe){return T(Z,this,pe)}is(Z){return N(Z,this)}mask(Z,pe){return O(Z,this,pe)}validate(Z,pe={}){return P(Z,this,pe)}}function A(X,Z,pe){let ne=P(X,Z,{message:pe});if(ne[0])throw ne[0]}o(A,"assert");function T(X,Z,pe){let ne=P(X,Z,{coerce:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(T,"create");function O(X,Z,pe){let ne=P(X,Z,{coerce:!0,mask:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(O,"mask");function N(X,Z){return!P(X,Z)[0]}o(N,"is");function P(X,Z,pe={}){let ne=g(X,Z,pe),de=f(ne);return de[0]?[new e(de[0],function*(){for(let be of ne)be[0]&&(yield be[0])}),void 0]:[void 0,de[1]]}o(P,"validate");function C(...X){let Z=X[0].type==="type",pe=X.map(de=>de.schema),ne=Object.assign({},...pe);return Z?ge(ne):Q(ne)}o(C,"assign");function D(X,Z){return new b({type:X,schema:null,validator:Z})}o(D,"define");function M(X,Z){return new b({...X,refiner:o((pe,ne)=>pe===void 0||X.refiner(pe,ne),"refiner"),validator(pe,ne){return pe===void 0?!0:(Z(pe,ne),X.validator(pe,ne))}})}o(M,"deprecated");function U(X){return new b({type:"dynamic",schema:null,*entries(Z,pe){yield*X(Z,pe).entries(Z,pe)},validator(Z,pe){return X(Z,pe).validator(Z,pe)},coercer(Z,pe){return X(Z,pe).coercer(Z,pe)},refiner(Z,pe){return X(Z,pe).refiner(Z,pe)}})}o(U,"dynamic");function V(X){let Z;return new b({type:"lazy",schema:null,*entries(pe,ne){Z??(Z=X()),yield*Z.entries(pe,ne)},validator(pe,ne){return Z??(Z=X()),Z.validator(pe,ne)},coercer(pe,ne){return Z??(Z=X()),Z.coercer(pe,ne)},refiner(pe,ne){return Z??(Z=X()),Z.refiner(pe,ne)}})}o(V,"lazy");function j(X,Z){let{schema:pe}=X,ne={...pe};for(let de of Z)delete ne[de];switch(X.type){case"type":return ge(ne);default:return Q(ne)}}o(j,"omit");function ee(X){let Z=X instanceof b,pe=Z?{...X.schema}:{...X};for(let ne in pe)pe[ne]=re(pe[ne]);return Z&&X.type==="type"?ge(pe):Q(pe)}o(ee,"partial");function Y(X,Z){let{schema:pe}=X,ne={};for(let de of Z)ne[de]=pe[de];switch(X.type){case"type":return ge(ne);default:return Q(ne)}}o(Y,"pick");function te(X,Z){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),D(X,Z)}o(te,"struct");function E(){return D("any",()=>!0)}o(E,"any");function c(X){return new b({type:"array",schema:X,*entries(Z){if(X&&Array.isArray(Z))for(let[pe,ne]of Z.entries())yield[pe,ne,X]},coercer(Z){return Array.isArray(Z)?Z.slice():Z},validator(Z){return Array.isArray(Z)||`Expected an array value, but received: ${a(Z)}`}})}o(c,"array");function d(){return D("bigint",X=>typeof X=="bigint")}o(d,"bigint");function y(){return D("boolean",X=>typeof X=="boolean")}o(y,"boolean");function v(){return D("date",X=>X instanceof Date&&!isNaN(X.getTime())||`Expected a valid \`Date\` object, but received: ${a(X)}`)}o(v,"date");function w(X){let Z={},pe=X.map(ne=>a(ne)).join();for(let ne of X)Z[ne]=ne;return new b({type:"enums",schema:Z,validator(ne){return X.includes(ne)||`Expected one of \`${pe}\`, but received: ${a(ne)}`}})}o(w,"enums");function S(){return D("func",X=>typeof X=="function"||`Expected a function, but received: ${a(X)}`)}o(S,"func");function R(X){return D("instance",Z=>Z instanceof X||`Expected a \`${X.name}\` instance, but received: ${a(Z)}`)}o(R,"instance");function x(){return D("integer",X=>typeof X=="number"&&!isNaN(X)&&Number.isInteger(X)||`Expected an integer, but received: ${a(X)}`)}o(x,"integer");function u(X){return new b({type:"intersection",schema:null,*entries(Z,pe){for(let ne of X)yield*ne.entries(Z,pe)},*validator(Z,pe){for(let ne of X)yield*ne.validator(Z,pe)},*refiner(Z,pe){for(let ne of X)yield*ne.refiner(Z,pe)}})}o(u,"intersection");function _(X){let Z=a(X),pe=typeof X;return new b({type:"literal",schema:pe==="string"||pe==="number"||pe==="boolean"?X:null,validator(ne){return ne===X||`Expected the literal \`${Z}\`, but received: ${a(ne)}`}})}o(_,"literal");function H(X,Z){return new b({type:"map",schema:null,*entries(pe){if(X&&Z&&pe instanceof Map)for(let[ne,de]of pe.entries())yield[ne,ne,X],yield[ne,de,Z]},coercer(pe){return pe instanceof Map?new Map(pe):pe},validator(pe){return pe instanceof Map||`Expected a \`Map\` object, but received: ${a(pe)}`}})}o(H,"map");function F(){return D("never",()=>!1)}o(F,"never");function L(X){return new b({...X,validator:o((Z,pe)=>Z===null||X.validator(Z,pe),"validator"),refiner:o((Z,pe)=>Z===null||X.refiner(Z,pe),"refiner")})}o(L,"nullable");function $(){return D("number",X=>typeof X=="number"&&!isNaN(X)||`Expected a number, but received: ${a(X)}`)}o($,"number");function Q(X){let Z=X?Object.keys(X):[],pe=F();return new b({type:"object",schema:X||null,*entries(ne){if(X&&n(ne)){let de=new Set(Object.keys(ne));for(let yt of Z)de.delete(yt),yield[yt,ne[yt],X[yt]];for(let yt of de)yield[yt,ne[yt],pe]}},validator(ne){return i(ne)||`Expected an object, but received: ${a(ne)}`},coercer(ne,de){if(!i(ne))return ne;let yt={...ne};if(de.mask&&X)for(let be in yt)X[be]===void 0&&delete yt[be];return yt}})}o(Q,"object");function re(X){return new b({...X,validator:o((Z,pe)=>Z===void 0||X.validator(Z,pe),"validator"),refiner:o((Z,pe)=>Z===void 0||X.refiner(Z,pe),"refiner")})}o(re,"optional");function Me(X,Z){return new b({type:"record",schema:null,*entries(pe){if(n(pe))for(let ne in pe){let de=pe[ne];yield[ne,ne,X],yield[ne,de,Z]}},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(Me,"record");function fe(){return D("regexp",X=>X instanceof RegExp)}o(fe,"regexp");function le(X){return new b({type:"set",schema:null,*entries(Z){if(X&&Z instanceof Set)for(let pe of Z)yield[pe,pe,X]},coercer(Z){return Z instanceof Set?new Set(Z):Z},validator(Z){return Z instanceof Set||`Expected a \`Set\` object, but received: ${a(Z)}`}})}o(le,"set");function xe(){return D("string",X=>typeof X=="string"||`Expected a string, but received: ${a(X)}`)}o(xe,"string");function he(X){let Z=F();return new b({type:"tuple",schema:null,*entries(pe){if(Array.isArray(pe)){let ne=Math.max(X.length,pe.length);for(let de=0;de<ne;de++)yield[de,pe[de],X[de]||Z]}},validator(pe){return Array.isArray(pe)||`Expected an array, but received: ${a(pe)}`},coercer(pe){return Array.isArray(pe)?pe.slice():pe}})}o(he,"tuple");function ge(X){let Z=Object.keys(X);return new b({type:"type",schema:X,*entries(pe){if(n(pe))for(let ne of Z)yield[ne,pe[ne],X[ne]]},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(ge,"type");function tr(X){let Z=X.map(pe=>pe.type).join(" | ");return new b({type:"union",schema:null,coercer(pe,ne){for(let de of X){let[yt,be]=de.validate(pe,{coerce:!0,mask:ne.mask});if(!yt)return be}return pe},validator(pe,ne){let de=[];for(let yt of X){let[...be]=g(pe,yt,ne),[Se]=be;if(Se[0])for(let[Xt]of be)Xt&&de.push(Xt);else return[]}return[`Expected the value to satisfy a union of \`${Z}\`, but received: ${a(pe)}`,...de]}})}o(tr,"union");function Ae(){return D("unknown",()=>!0)}o(Ae,"unknown");function Oe(X,Z,pe){return new b({...X,coercer:o((ne,de)=>N(ne,Z)?X.coercer(pe(ne,de),de):X.coercer(ne,de),"coercer")})}o(Oe,"coerce");function Bn(X,Z,pe={}){return Oe(X,Ae(),ne=>{let de=typeof Z=="function"?Z():Z;if(ne===void 0)return de;if(!pe.strict&&s(ne)&&s(de)){let yt={...ne},be=!1;for(let Se in de)yt[Se]===void 0&&(yt[Se]=de[Se],be=!0);if(be)return yt}return ne})}o(Bn,"defaulted");function He(X){return Oe(X,xe(),Z=>Z.trim())}o(He,"trimmed");function Pe(X){return Kr(X,"empty",Z=>{let pe=Ln(Z);return pe===0||`Expected an empty ${X.type} but received one with a size of \`${pe}\``})}o(Pe,"empty");function Ln(X){return X instanceof Map||X instanceof Set?X.size:X.length}o(Ln,"getSize");function Ue(X,Z,pe={}){let{exclusive:ne}=pe;return Kr(X,"max",de=>ne?de<Z:de<=Z||`Expected a ${X.type} less than ${ne?"":"or equal to "}${Z} but received \`${de}\``)}o(Ue,"max");function Be(X,Z,pe={}){let{exclusive:ne}=pe;return Kr(X,"min",de=>ne?de>Z:de>=Z||`Expected a ${X.type} greater than ${ne?"":"or equal to "}${Z} but received \`${de}\``)}o(Be,"min");function Dn(X){return Kr(X,"nonempty",Z=>Ln(Z)>0||`Expected a nonempty ${X.type} but received an empty one`)}o(Dn,"nonempty");function ke(X,Z){return Kr(X,"pattern",pe=>Z.test(pe)||`Expected a ${X.type} matching \`/${Z.source}/\` but received "${pe}"`)}o(ke,"pattern");function Le(X,Z,pe=Z){let ne=`Expected a ${X.type}`,de=Z===pe?`of \`${Z}\``:`between \`${Z}\` and \`${pe}\``;return Kr(X,"size",yt=>{if(typeof yt=="number"||yt instanceof Date)return Z<=yt&&yt<=pe||`${ne} ${de} but received \`${yt}\``;if(yt instanceof Map||yt instanceof Set){let{size:be}=yt;return Z<=be&&be<=pe||`${ne} with a size ${de} but received one with a size of \`${be}\``}else{let{length:be}=yt;return Z<=be&&be<=pe||`${ne} with a length ${de} but received one with a length of \`${be}\``}})}o(Le,"size");function Kr(X,Z,pe){return new b({...X,*refiner(ne,de){yield*X.refiner(ne,de);let yt=pe(ne,de),be=h(yt,de,X,ne);for(let Se of be)yield{...Se,refinement:Z}}})}o(Kr,"refine"),t.Struct=b,t.StructError=e,t.any=E,t.array=c,t.assert=A,t.assign=C,t.bigint=d,t.boolean=y,t.coerce=Oe,t.create=T,t.date=v,t.defaulted=Bn,t.define=D,t.deprecated=M,t.dynamic=U,t.empty=Pe,t.enums=w,t.func=S,t.instance=R,t.integer=x,t.intersection=u,t.is=N,t.lazy=V,t.literal=_,t.map=H,t.mask=O,t.max=Ue,t.min=Be,t.never=F,t.nonempty=Dn,t.nullable=L,t.number=$,t.object=Q,t.omit=j,t.optional=re,t.partial=ee,t.pattern=ke,t.pick=Y,t.record=Me,t.refine=Kr,t.regexp=fe,t.set=le,t.size=Le,t.string=xe,t.struct=te,t.trimmed=He,t.tuple=he,t.type=ge,t.union=tr,t.unknown=Ae,t.validate=P})});var dP=q(lP=>{"use strict";p();m();Object.defineProperty(lP,"__esModule",{value:!0});lP.default=bNe;var t6,yNe=new Uint8Array(16);function bNe(){if(!t6&&(t6=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!t6))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t6(yNe)}o(bNe,"rng")});var Vte=q(r6=>{"use strict";p();m();Object.defineProperty(r6,"__esModule",{value:!0});r6.default=void 0;var vNe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;r6.default=vNe});var G_=q(n6=>{"use strict";p();m();Object.defineProperty(n6,"__esModule",{value:!0});n6.default=void 0;var xNe=_Ne(Vte());function _Ne(t){return t&&t.__esModule?t:{default:t}}o(_Ne,"_interopRequireDefault");function wNe(t){return typeof t=="string"&&xNe.default.test(t)}o(wNe,"validate");var ENe=wNe;n6.default=ENe});var W_=q($_=>{"use strict";p();m();Object.defineProperty($_,"__esModule",{value:!0});$_.default=void 0;$_.unsafeStringify=jte;var SNe=ANe(G_());function ANe(t){return t&&t.__esModule?t:{default:t}}o(ANe,"_interopRequireDefault");var Qo=[];for(let t=0;t<256;++t)Qo.push((t+256).toString(16).slice(1));function jte(t,e=0){return Qo[t[e+0]]+Qo[t[e+1]]+Qo[t[e+2]]+Qo[t[e+3]]+"-"+Qo[t[e+4]]+Qo[t[e+5]]+"-"+Qo[t[e+6]]+Qo[t[e+7]]+"-"+Qo[t[e+8]]+Qo[t[e+9]]+"-"+Qo[t[e+10]]+Qo[t[e+11]]+Qo[t[e+12]]+Qo[t[e+13]]+Qo[t[e+14]]+Qo[t[e+15]]}o(jte,"unsafeStringify");function RNe(t,e=0){let r=jte(t,e);if(!(0,SNe.default)(r))throw TypeError("Stringified UUID is invalid");return r}o(RNe,"stringify");var TNe=RNe;$_.default=TNe});var Kte=q(i6=>{"use strict";p();m();Object.defineProperty(i6,"__esModule",{value:!0});i6.default=void 0;var INe=NNe(dP()),ONe=W_();function NNe(t){return t&&t.__esModule?t:{default:t}}o(NNe,"_interopRequireDefault");var zte,hP,pP=0,mP=0;function MNe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||zte,a=t.clockseq!==void 0?t.clockseq:hP;if(s==null||a==null){let A=t.random||(t.rng||INe.default)();s==null&&(s=zte=[A[0]|1,A[1],A[2],A[3],A[4],A[5]]),a==null&&(a=hP=(A[6]<<8|A[7])&16383)}let f=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:mP+1,h=f-pP+(l-mP)/1e4;if(h<0&&t.clockseq===void 0&&(a=a+1&16383),(h<0||f>pP)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");pP=f,mP=l,hP=a,f+=122192928e5;let g=((f&268435455)*1e4+l)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=g&255;let b=f/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=b&255,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let A=0;A<6;++A)i[n+A]=s[A];return e||(0,ONe.unsafeStringify)(i)}o(MNe,"v1");var CNe=MNe;i6.default=CNe});var gP=q(o6=>{"use strict";p();m();Object.defineProperty(o6,"__esModule",{value:!0});o6.default=void 0;var PNe=kNe(G_());function kNe(t){return t&&t.__esModule?t:{default:t}}o(kNe,"_interopRequireDefault");function BNe(t){if(!(0,PNe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}o(BNe,"parse");var LNe=BNe;o6.default=LNe});var yP=q(Nm=>{"use strict";p();m();Object.defineProperty(Nm,"__esModule",{value:!0});Nm.URL=Nm.DNS=void 0;Nm.default=HNe;var DNe=W_(),UNe=FNe(gP());function FNe(t){return t&&t.__esModule?t:{default:t}}o(FNe,"_interopRequireDefault");function qNe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}o(qNe,"stringToBytes");var Gte="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Nm.DNS=Gte;var $te="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Nm.URL=$te;function HNe(t,e,r){function n(i,s,a,f){var l;if(typeof i=="string"&&(i=qNe(i)),typeof s=="string"&&(s=(0,UNe.default)(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=r(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){f=f||0;for(let g=0;g<16;++g)a[f+g]=h[g];return a}return(0,DNe.unsafeStringify)(h)}o(n,"generateUUID");try{n.name=t}catch{}return n.DNS=Gte,n.URL=$te,n}o(HNe,"v35")});var Yte=q(a6=>{"use strict";p();m();Object.defineProperty(a6,"__esModule",{value:!0});a6.default=void 0;function VNe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return jNe(zNe(KNe(t),t.length*8))}o(VNe,"md5");function jNe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let s=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}o(jNe,"md5ToHexEncodedArray");function Wte(t){return(t+64>>>9<<4)+14+1}o(Wte,"getOutputLength");function zNe(t,e){t[e>>5]|=128<<e%32,t[Wte(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let a=0;a<t.length;a+=16){let f=r,l=n,h=i,g=s;r=Is(r,n,i,s,t[a],7,-680876936),s=Is(s,r,n,i,t[a+1],12,-389564586),i=Is(i,s,r,n,t[a+2],17,606105819),n=Is(n,i,s,r,t[a+3],22,-1044525330),r=Is(r,n,i,s,t[a+4],7,-176418897),s=Is(s,r,n,i,t[a+5],12,1200080426),i=Is(i,s,r,n,t[a+6],17,-1473231341),n=Is(n,i,s,r,t[a+7],22,-45705983),r=Is(r,n,i,s,t[a+8],7,1770035416),s=Is(s,r,n,i,t[a+9],12,-1958414417),i=Is(i,s,r,n,t[a+10],17,-42063),n=Is(n,i,s,r,t[a+11],22,-1990404162),r=Is(r,n,i,s,t[a+12],7,1804603682),s=Is(s,r,n,i,t[a+13],12,-40341101),i=Is(i,s,r,n,t[a+14],17,-1502002290),n=Is(n,i,s,r,t[a+15],22,1236535329),r=Os(r,n,i,s,t[a+1],5,-165796510),s=Os(s,r,n,i,t[a+6],9,-1069501632),i=Os(i,s,r,n,t[a+11],14,643717713),n=Os(n,i,s,r,t[a],20,-373897302),r=Os(r,n,i,s,t[a+5],5,-701558691),s=Os(s,r,n,i,t[a+10],9,38016083),i=Os(i,s,r,n,t[a+15],14,-660478335),n=Os(n,i,s,r,t[a+4],20,-405537848),r=Os(r,n,i,s,t[a+9],5,568446438),s=Os(s,r,n,i,t[a+14],9,-1019803690),i=Os(i,s,r,n,t[a+3],14,-187363961),n=Os(n,i,s,r,t[a+8],20,1163531501),r=Os(r,n,i,s,t[a+13],5,-1444681467),s=Os(s,r,n,i,t[a+2],9,-51403784),i=Os(i,s,r,n,t[a+7],14,1735328473),n=Os(n,i,s,r,t[a+12],20,-1926607734),r=Ns(r,n,i,s,t[a+5],4,-378558),s=Ns(s,r,n,i,t[a+8],11,-2022574463),i=Ns(i,s,r,n,t[a+11],16,1839030562),n=Ns(n,i,s,r,t[a+14],23,-35309556),r=Ns(r,n,i,s,t[a+1],4,-1530992060),s=Ns(s,r,n,i,t[a+4],11,1272893353),i=Ns(i,s,r,n,t[a+7],16,-155497632),n=Ns(n,i,s,r,t[a+10],23,-1094730640),r=Ns(r,n,i,s,t[a+13],4,681279174),s=Ns(s,r,n,i,t[a],11,-358537222),i=Ns(i,s,r,n,t[a+3],16,-722521979),n=Ns(n,i,s,r,t[a+6],23,76029189),r=Ns(r,n,i,s,t[a+9],4,-640364487),s=Ns(s,r,n,i,t[a+12],11,-421815835),i=Ns(i,s,r,n,t[a+15],16,530742520),n=Ns(n,i,s,r,t[a+2],23,-995338651),r=Ms(r,n,i,s,t[a],6,-198630844),s=Ms(s,r,n,i,t[a+7],10,1126891415),i=Ms(i,s,r,n,t[a+14],15,-1416354905),n=Ms(n,i,s,r,t[a+5],21,-57434055),r=Ms(r,n,i,s,t[a+12],6,1700485571),s=Ms(s,r,n,i,t[a+3],10,-1894986606),i=Ms(i,s,r,n,t[a+10],15,-1051523),n=Ms(n,i,s,r,t[a+1],21,-2054922799),r=Ms(r,n,i,s,t[a+8],6,1873313359),s=Ms(s,r,n,i,t[a+15],10,-30611744),i=Ms(i,s,r,n,t[a+6],15,-1560198380),n=Ms(n,i,s,r,t[a+13],21,1309151649),r=Ms(r,n,i,s,t[a+4],6,-145523070),s=Ms(s,r,n,i,t[a+11],10,-1120210379),i=Ms(i,s,r,n,t[a+2],15,718787259),n=Ms(n,i,s,r,t[a+9],21,-343485551),r=s0(r,f),n=s0(n,l),i=s0(i,h),s=s0(s,g)}return[r,n,i,s]}o(zNe,"wordsToMd5");function KNe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(Wte(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}o(KNe,"bytesToWords");function s0(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}o(s0,"safeAdd");function GNe(t,e){return t<<e|t>>>32-e}o(GNe,"bitRotateLeft");function s6(t,e,r,n,i,s){return s0(GNe(s0(s0(e,t),s0(n,s)),i),r)}o(s6,"md5cmn");function Is(t,e,r,n,i,s,a){return s6(e&r|~e&n,t,e,i,s,a)}o(Is,"md5ff");function Os(t,e,r,n,i,s,a){return s6(e&n|r&~n,t,e,i,s,a)}o(Os,"md5gg");function Ns(t,e,r,n,i,s,a){return s6(e^r^n,t,e,i,s,a)}o(Ns,"md5hh");function Ms(t,e,r,n,i,s,a){return s6(r^(e|~n),t,e,i,s,a)}o(Ms,"md5ii");var $Ne=VNe;a6.default=$Ne});var Zte=q(c6=>{"use strict";p();m();Object.defineProperty(c6,"__esModule",{value:!0});c6.default=void 0;var WNe=Xte(yP()),YNe=Xte(Yte());function Xte(t){return t&&t.__esModule?t:{default:t}}o(Xte,"_interopRequireDefault");var XNe=(0,WNe.default)("v3",48,YNe.default),ZNe=XNe;c6.default=ZNe});var Jte=q(f6=>{"use strict";p();m();Object.defineProperty(f6,"__esModule",{value:!0});f6.default=void 0;var JNe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),QNe={randomUUID:JNe};f6.default=QNe});var tre=q(u6=>{"use strict";p();m();Object.defineProperty(u6,"__esModule",{value:!0});u6.default=void 0;var Qte=ere(Jte()),eMe=ere(dP()),tMe=W_();function ere(t){return t&&t.__esModule?t:{default:t}}o(ere,"_interopRequireDefault");function rMe(t,e,r){if(Qte.default.randomUUID&&!e&&!t)return Qte.default.randomUUID();t=t||{};let n=t.random||(t.rng||eMe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,tMe.unsafeStringify)(n)}o(rMe,"v4");var nMe=rMe;u6.default=nMe});var rre=q(l6=>{"use strict";p();m();Object.defineProperty(l6,"__esModule",{value:!0});l6.default=void 0;function iMe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}o(iMe,"f");function bP(t,e){return t<<e|t>>>32-e}o(bP,"ROTL");function oMe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let a=unescape(encodeURIComponent(t));t=[];for(let f=0;f<a.length;++f)t.push(a.charCodeAt(f))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let a=0;a<i;++a){let f=new Uint32Array(16);for(let l=0;l<16;++l)f[l]=t[a*64+l*4]<<24|t[a*64+l*4+1]<<16|t[a*64+l*4+2]<<8|t[a*64+l*4+3];s[a]=f}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<i;++a){let f=new Uint32Array(80);for(let T=0;T<16;++T)f[T]=s[a][T];for(let T=16;T<80;++T)f[T]=bP(f[T-3]^f[T-8]^f[T-14]^f[T-16],1);let l=r[0],h=r[1],g=r[2],b=r[3],A=r[4];for(let T=0;T<80;++T){let O=Math.floor(T/20),N=bP(l,5)+iMe(O,h,g,b)+A+e[O]+f[T]>>>0;A=b,b=g,g=bP(h,30)>>>0,h=l,l=N}r[0]=r[0]+l>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+A>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}o(oMe,"sha1");var sMe=oMe;l6.default=sMe});var ire=q(d6=>{"use strict";p();m();Object.defineProperty(d6,"__esModule",{value:!0});d6.default=void 0;var aMe=nre(yP()),cMe=nre(rre());function nre(t){return t&&t.__esModule?t:{default:t}}o(nre,"_interopRequireDefault");var fMe=(0,aMe.default)("v5",80,cMe.default),uMe=fMe;d6.default=uMe});var ore=q(h6=>{"use strict";p();m();Object.defineProperty(h6,"__esModule",{value:!0});h6.default=void 0;var lMe="00000000-0000-0000-0000-000000000000";h6.default=lMe});var sre=q(p6=>{"use strict";p();m();Object.defineProperty(p6,"__esModule",{value:!0});p6.default=void 0;var dMe=hMe(G_());function hMe(t){return t&&t.__esModule?t:{default:t}}o(hMe,"_interopRequireDefault");function pMe(t){if(!(0,dMe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}o(pMe,"version");var mMe=pMe;p6.default=mMe});var m6=q(fu=>{"use strict";p();m();Object.defineProperty(fu,"__esModule",{value:!0});Object.defineProperty(fu,"NIL",{enumerable:!0,get:o(function(){return xMe.default},"get")});Object.defineProperty(fu,"parse",{enumerable:!0,get:o(function(){return SMe.default},"get")});Object.defineProperty(fu,"stringify",{enumerable:!0,get:o(function(){return EMe.default},"get")});Object.defineProperty(fu,"v1",{enumerable:!0,get:o(function(){return gMe.default},"get")});Object.defineProperty(fu,"v3",{enumerable:!0,get:o(function(){return yMe.default},"get")});Object.defineProperty(fu,"v4",{enumerable:!0,get:o(function(){return bMe.default},"get")});Object.defineProperty(fu,"v5",{enumerable:!0,get:o(function(){return vMe.default},"get")});Object.defineProperty(fu,"validate",{enumerable:!0,get:o(function(){return wMe.default},"get")});Object.defineProperty(fu,"version",{enumerable:!0,get:o(function(){return _Me.default},"get")});var gMe=Nd(Kte()),yMe=Nd(Zte()),bMe=Nd(tre()),vMe=Nd(ire()),xMe=Nd(ore()),_Me=Nd(sre()),wMe=Nd(G_()),EMe=Nd(W_()),SMe=Nd(gP());function Nd(t){return t&&t.__esModule?t:{default:t}}o(Nd,"_interopRequireDefault")});var cre=q((L3t,are)=>{"use strict";p();m();var AMe=m6().v4,RMe=o(function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){let a=typeof n.generator=="function"?n.generator:function(){return AMe()};s.id=a(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s},"generateRequest");are.exports=RMe});var ure=q((q3t,fre)=>{"use strict";p();m();var TMe=m6().v4,IMe=cre(),Y_=o(function(t,e){if(!(this instanceof Y_))return new Y_(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return TMe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t},"ClientBrowser");fre.exports=Y_;Y_.prototype.request=function(t,e,r,n){let i=this,s=null,a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);let h=typeof n=="function";try{s=IMe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(h)return n(g);throw g}if(!h)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(h){return n(h)}return this.callServer(l,function(h,g){i._parseResponse(h,g,n)}),s};Y_.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=o(function(a){return typeof a.error<"u"},"isError"),s=o(function(a){return!i(a)},"isNotError");return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)}});var dre=q((z3t,vP)=>{"use strict";p();m();var OMe=Object.prototype.hasOwnProperty,fa="~";function X_(){}o(X_,"Events");Object.create&&(X_.prototype=Object.create(null),new X_().__proto__||(fa=!1));function NMe(t,e,r){this.fn=t,this.context=e,this.once=r||!1}o(NMe,"EE");function lre(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new NMe(r,n||t,i),a=fa?fa+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}o(lre,"addListener");function g6(t,e){--t._eventsCount===0?t._events=new X_:delete t._events[e]}o(g6,"clearEvent");function Cs(){this._events=new X_,this._eventsCount=0}o(Cs,"EventEmitter");Cs.prototype.eventNames=o(function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)OMe.call(r,n)&&e.push(fa?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},"eventNames");Cs.prototype.listeners=o(function(e){var r=fa?fa+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},"listeners");Cs.prototype.listenerCount=o(function(e){var r=fa?fa+e:e,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");Cs.prototype.emit=o(function(e,r,n,i,s,a){var f=fa?fa+e:e;if(!this._events[f])return!1;var l=this._events[f],h=arguments.length,g,b;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,i),!0;case 5:return l.fn.call(l.context,r,n,i,s),!0;case 6:return l.fn.call(l.context,r,n,i,s,a),!0}for(b=1,g=new Array(h-1);b<h;b++)g[b-1]=arguments[b];l.fn.apply(l.context,g)}else{var A=l.length,T;for(b=0;b<A;b++)switch(l[b].once&&this.removeListener(e,l[b].fn,void 0,!0),h){case 1:l[b].fn.call(l[b].context);break;case 2:l[b].fn.call(l[b].context,r);break;case 3:l[b].fn.call(l[b].context,r,n);break;case 4:l[b].fn.call(l[b].context,r,n,i);break;default:if(!g)for(T=1,g=new Array(h-1);T<h;T++)g[T-1]=arguments[T];l[b].fn.apply(l[b].context,g)}}return!0},"emit");Cs.prototype.on=o(function(e,r,n){return lre(this,e,r,n,!1)},"on");Cs.prototype.once=o(function(e,r,n){return lre(this,e,r,n,!0)},"once");Cs.prototype.removeListener=o(function(e,r,n,i){var s=fa?fa+e:e;if(!this._events[s])return this;if(!r)return g6(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&g6(this,s);else{for(var f=0,l=[],h=a.length;f<h;f++)(a[f].fn!==r||i&&!a[f].once||n&&a[f].context!==n)&&l.push(a[f]);l.length?this._events[s]=l.length===1?l[0]:l:g6(this,s)}return this},"removeListener");Cs.prototype.removeAllListeners=o(function(e){var r;return e?(r=fa?fa+e:e,this._events[r]&&g6(this,r)):(this._events=new X_,this._eventsCount=0),this},"removeAllListeners");Cs.prototype.off=Cs.prototype.removeListener;Cs.prototype.addListener=Cs.prototype.on;Cs.prefixed=fa;Cs.EventEmitter=Cs;typeof vP<"u"&&(vP.exports=Cs)});var yre=q(Z_=>{"use strict";p();m();var MMe=ci(),hre=dre(),CMe=class extends hre.EventEmitter{static{o(this,"WebSocketBrowserImpl")}socket;constructor(t,e,r){super(),this.socket=new self.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,r){let n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function pre(t,e){return new CMe(t,e)}o(pre,"WebSocket");var mre=class{static{o(this,"DefaultDataPack")}encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},gre=class extends hre.EventEmitter{static{o(this,"CommonClient")}address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},f,l){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=f||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new mre,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return!n&&typeof r=="object"&&(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));let a=this.generate_request_id(t,e),f={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(f),n,l=>{if(l)return s(l);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return n(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=MMe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);let n=[r.notification];if(r.params.constructor===Object)n.push(r.params);else for(let i=0;i<r.params.length;i++)n.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}},PMe=class extends gre{static{o(this,"Client")}constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:r=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},s){super(pre,t,{autoconnect:e,reconnect:r,reconnect_interval:n,max_reconnects:i},s)}};Z_.Client=PMe;Z_.CommonClient=gre;Z_.DefaultDataPack=mre;Z_.WebSocket=pre});var Are=q(Qn=>{"use strict";p();m();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.shake256=Qn.shake128=Qn.keccak_512=Qn.keccak_384=Qn.keccak_256=Qn.keccak_224=Qn.sha3_512=Qn.sha3_384=Qn.sha3_256=Qn.sha3_224=Qn.Keccak=void 0;Qn.keccakP=Ere;var E1=N_(),Q_=JM(),Md=Sd(),xre=[],_re=[],wre=[],kMe=BigInt(0),J_=BigInt(1),BMe=BigInt(2),LMe=BigInt(7),DMe=BigInt(256),UMe=BigInt(113);for(let t=0,e=J_,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],xre.push(2*(5*n+r)),_re.push((t+1)*(t+2)/2%64);let i=kMe;for(let s=0;s<7;s++)e=(e<<J_^(e>>LMe)*UMe)%DMe,e&BMe&&(i^=J_<<(J_<<BigInt(s))-J_);wre.push(i)}var[FMe,qMe]=(0,Q_.split)(wre,!0),bre=o((t,e,r)=>r>32?(0,Q_.rotlBH)(t,e,r):(0,Q_.rotlSH)(t,e,r),"rotlH"),vre=o((t,e,r)=>r>32?(0,Q_.rotlBL)(t,e,r):(0,Q_.rotlSL)(t,e,r),"rotlL");function Ere(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let f=(a+8)%10,l=(a+2)%10,h=r[l],g=r[l+1],b=bre(h,g,1)^r[f],A=vre(h,g,1)^r[f+1];for(let T=0;T<50;T+=10)t[a+T]^=b,t[a+T+1]^=A}let i=t[2],s=t[3];for(let a=0;a<24;a++){let f=_re[a],l=bre(i,s,f),h=vre(i,s,f),g=xre[a];i=t[g],s=t[g+1],t[g]=l,t[g+1]=h}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=t[a+f];for(let f=0;f<10;f++)t[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}t[0]^=FMe[n],t[1]^=qMe[n]}r.fill(0)}o(Ere,"keccakP");var e2=class t extends Md.Hash{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,E1.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Md.u32)(this.state)}keccak(){Md.isLE||(0,Md.byteSwap32)(this.state32),Ere(this.state32,this.rounds),Md.isLE||(0,Md.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,E1.exists)(this);let{blockLen:r,state:n}=this;e=(0,Md.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let f=0;f<a;f++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,E1.exists)(this,!1),(0,E1.bytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,E1.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,E1.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};Qn.Keccak=e2;var a0=o((t,e,r)=>(0,Md.wrapConstructor)(()=>new e2(e,t,r)),"gen");Qn.sha3_224=a0(6,144,224/8);Qn.sha3_256=a0(6,136,256/8);Qn.sha3_384=a0(6,104,384/8);Qn.sha3_512=a0(6,72,512/8);Qn.keccak_224=a0(1,144,224/8);Qn.keccak_256=a0(1,136,256/8);Qn.keccak_384=a0(1,104,384/8);Qn.keccak_512=a0(1,72,512/8);var Sre=o((t,e,r)=>(0,Md.wrapXOFConstructorWithOpts)((n={})=>new e2(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake");Qn.shake128=Sre(31,168,128/8);Qn.shake256=Sre(31,136,256/8)});var Tre=q(Mm=>{"use strict";p();m();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.hmac=Mm.HMAC=void 0;var y6=N_(),Rre=Sd(),t2=class extends Rre.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,y6.hash)(e);let n=(0,Rre.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,y6.exists)(this),this.iHash.update(e),this}digestInto(e){(0,y6.exists)(this),(0,y6.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Mm.HMAC=t2;var HMe=o((t,e,r)=>new t2(t,e).update(r).digest(),"hmac");Mm.hmac=HMe;Mm.hmac.create=(t,e)=>new t2(t,e)});var xP=q(ts=>{"use strict";p();m();Object.defineProperty(ts,"__esModule",{value:!0});ts.DER=void 0;ts.weierstrassPoints=Nre;ts.weierstrass=GMe;ts.SWUFpSqrtRatio=Mre;ts.mapToCurveSimpleSWU=$Me;var b6=fC(),Cm=Jh(),Lr=ou(),es=ou();function Ire(t){t.lowS!==void 0&&(0,es.abool)("lowS",t.lowS),t.prehash!==void 0&&(0,es.abool)("prehash",t.prehash)}o(Ire,"validateSigVerOpts");function VMe(t){let e=(0,b6.validateBasic)(t);Lr.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(VMe,"validatePointOpts");var{bytesToNumberBE:jMe,hexToBytes:zMe}=Lr;ts.DER={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_tlv:{encode:o((t,e)=>{let{Err:r}=ts.DER;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=Lr.numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?Lr.numberToHexUnpadded(i.length/2|128):"";return`${Lr.numberToHexUnpadded(t)}${s}${i}${e}`},"encode"),decode(t,e){let{Err:r}=ts.DER,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],s=!!(i&128),a=0;if(!s)a=i;else{let l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");let h=e.subarray(n,n+l);if(h.length!==l)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let g of h)a=a<<8|g;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}let f=e.subarray(n,n+a);if(f.length!==a)throw new r("tlv.decode: wrong value length");return{v:f,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=ts.DER;if(t<uu)throw new e("integer: negative integers are not allowed");let r=Lr.numberToHexUnpadded(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){let{Err:e}=ts.DER;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return jMe(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=ts.DER,i=typeof t=="string"?zMe(t):t;Lr.abytes(i);let{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("Invalid signature: left bytes after parsing");let{v:f,l}=n.decode(2,s),{v:h,l:g}=n.decode(2,l);if(g.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(f),s:r.decode(h)}},hexFromSig(t){let{_tlv:e,_int:r}=ts.DER,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}};var uu=BigInt(0),In=BigInt(1),c0=BigInt(2),v6=BigInt(3),Ore=BigInt(4);function Nre(t){let e=VMe(t),{Fp:r}=e,n=Cm.Field(e.n,e.nBitLength),i=e.toBytes||((N,P,C)=>{let D=P.toAffine();return Lr.concatBytes(Uint8Array.from([4]),r.toBytes(D.x),r.toBytes(D.y))}),s=e.fromBytes||(N=>{let P=N.subarray(1),C=r.fromBytes(P.subarray(0,r.BYTES)),D=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:C,y:D}});function a(N){let{a:P,b:C}=e,D=r.sqr(N),M=r.mul(D,N);return r.add(r.add(M,r.mul(N,P)),C)}if(o(a,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function f(N){return Lr.inRange(N,In,e.n)}o(f,"isWithinCurveOrder");function l(N){let{allowedPrivateKeyLengths:P,nByteLength:C,wrapPrivateKey:D,n:M}=e;if(P&&typeof N!="bigint"){if(Lr.isBytes(N)&&(N=Lr.bytesToHex(N)),typeof N!="string"||!P.includes(N.length))throw new Error("Invalid key");N=N.padStart(C*2,"0")}let U;try{U=typeof N=="bigint"?N:Lr.bytesToNumberBE((0,es.ensureBytes)("private key",N,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof N}`)}return D&&(U=Cm.mod(U,M)),Lr.aInRange("private key",U,In,M),U}o(l,"normPrivateKeyToScalar");function h(N){if(!(N instanceof A))throw new Error("ProjectivePoint expected")}o(h,"assertPrjPoint");let g=(0,es.memoized)((N,P)=>{let{px:C,py:D,pz:M}=N;if(r.eql(M,r.ONE))return{x:C,y:D};let U=N.is0();P==null&&(P=U?r.ONE:r.inv(M));let V=r.mul(C,P),j=r.mul(D,P),ee=r.mul(M,P);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ee,r.ONE))throw new Error("invZ was invalid");return{x:V,y:j}}),b=(0,es.memoized)(N=>{if(N.is0()){if(e.allowInfinityPoint&&!r.is0(N.py))return;throw new Error("bad point: ZERO")}let{x:P,y:C}=N.toAffine();if(!r.isValid(P)||!r.isValid(C))throw new Error("bad point: x or y not FE");let D=r.sqr(C),M=a(P);if(!r.eql(D,M))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class A{static{o(this,"Point")}constructor(P,C,D){if(this.px=P,this.py=C,this.pz=D,P==null||!r.isValid(P))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(D==null||!r.isValid(D))throw new Error("z required");Object.freeze(this)}static fromAffine(P){let{x:C,y:D}=P||{};if(!P||!r.isValid(C)||!r.isValid(D))throw new Error("invalid affine point");if(P instanceof A)throw new Error("projective point not allowed");let M=o(U=>r.eql(U,r.ZERO),"is0");return M(C)&&M(D)?A.ZERO:new A(C,D,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){let C=r.invertBatch(P.map(D=>D.pz));return P.map((D,M)=>D.toAffine(C[M])).map(A.fromAffine)}static fromHex(P){let C=A.fromAffine(s((0,es.ensureBytes)("pointHex",P)));return C.assertValidity(),C}static fromPrivateKey(P){return A.BASE.multiply(l(P))}static msm(P,C){return(0,b6.pippenger)(A,n,P,C)}_setWindowSize(P){O.setWindowSize(this,P)}assertValidity(){b(this)}hasEvenY(){let{y:P}=this.toAffine();if(r.isOdd)return!r.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){h(P);let{px:C,py:D,pz:M}=this,{px:U,py:V,pz:j}=P,ee=r.eql(r.mul(C,j),r.mul(U,M)),Y=r.eql(r.mul(D,j),r.mul(V,M));return ee&&Y}negate(){return new A(this.px,r.neg(this.py),this.pz)}double(){let{a:P,b:C}=e,D=r.mul(C,v6),{px:M,py:U,pz:V}=this,j=r.ZERO,ee=r.ZERO,Y=r.ZERO,te=r.mul(M,M),E=r.mul(U,U),c=r.mul(V,V),d=r.mul(M,U);return d=r.add(d,d),Y=r.mul(M,V),Y=r.add(Y,Y),j=r.mul(P,Y),ee=r.mul(D,c),ee=r.add(j,ee),j=r.sub(E,ee),ee=r.add(E,ee),ee=r.mul(j,ee),j=r.mul(d,j),Y=r.mul(D,Y),c=r.mul(P,c),d=r.sub(te,c),d=r.mul(P,d),d=r.add(d,Y),Y=r.add(te,te),te=r.add(Y,te),te=r.add(te,c),te=r.mul(te,d),ee=r.add(ee,te),c=r.mul(U,V),c=r.add(c,c),te=r.mul(c,d),j=r.sub(j,te),Y=r.mul(c,E),Y=r.add(Y,Y),Y=r.add(Y,Y),new A(j,ee,Y)}add(P){h(P);let{px:C,py:D,pz:M}=this,{px:U,py:V,pz:j}=P,ee=r.ZERO,Y=r.ZERO,te=r.ZERO,E=e.a,c=r.mul(e.b,v6),d=r.mul(C,U),y=r.mul(D,V),v=r.mul(M,j),w=r.add(C,D),S=r.add(U,V);w=r.mul(w,S),S=r.add(d,y),w=r.sub(w,S),S=r.add(C,M);let R=r.add(U,j);return S=r.mul(S,R),R=r.add(d,v),S=r.sub(S,R),R=r.add(D,M),ee=r.add(V,j),R=r.mul(R,ee),ee=r.add(y,v),R=r.sub(R,ee),te=r.mul(E,S),ee=r.mul(c,v),te=r.add(ee,te),ee=r.sub(y,te),te=r.add(y,te),Y=r.mul(ee,te),y=r.add(d,d),y=r.add(y,d),v=r.mul(E,v),S=r.mul(c,S),y=r.add(y,v),v=r.sub(d,v),v=r.mul(E,v),S=r.add(S,v),d=r.mul(y,S),Y=r.add(Y,d),d=r.mul(R,S),ee=r.mul(w,ee),ee=r.sub(ee,d),d=r.mul(w,y),te=r.mul(R,te),te=r.add(te,d),new A(ee,Y,te)}subtract(P){return this.add(P.negate())}is0(){return this.equals(A.ZERO)}wNAF(P){return O.wNAFCached(this,P,A.normalizeZ)}multiplyUnsafe(P){Lr.aInRange("scalar",P,uu,e.n);let C=A.ZERO;if(P===uu)return C;if(P===In)return this;let{endo:D}=e;if(!D)return O.unsafeLadder(this,P);let{k1neg:M,k1:U,k2neg:V,k2:j}=D.splitScalar(P),ee=C,Y=C,te=this;for(;U>uu||j>uu;)U&In&&(ee=ee.add(te)),j&In&&(Y=Y.add(te)),te=te.double(),U>>=In,j>>=In;return M&&(ee=ee.negate()),V&&(Y=Y.negate()),Y=new A(r.mul(Y.px,D.beta),Y.py,Y.pz),ee.add(Y)}multiply(P){let{endo:C,n:D}=e;Lr.aInRange("scalar",P,In,D);let M,U;if(C){let{k1neg:V,k1:j,k2neg:ee,k2:Y}=C.splitScalar(P),{p:te,f:E}=this.wNAF(j),{p:c,f:d}=this.wNAF(Y);te=O.constTimeNegate(V,te),c=O.constTimeNegate(ee,c),c=new A(r.mul(c.px,C.beta),c.py,c.pz),M=te.add(c),U=E.add(d)}else{let{p:V,f:j}=this.wNAF(P);M=V,U=j}return A.normalizeZ([M,U])[0]}multiplyAndAddUnsafe(P,C,D){let M=A.BASE,U=o((j,ee)=>ee===uu||ee===In||!j.equals(M)?j.multiplyUnsafe(ee):j.multiply(ee),"mul"),V=U(this,C).add(U(P,D));return V.is0()?void 0:V}toAffine(P){return g(this,P)}isTorsionFree(){let{h:P,isTorsionFree:C}=e;if(P===In)return!0;if(C)return C(A,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:P,clearCofactor:C}=e;return P===In?this:C?C(A,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return(0,es.abool)("isCompressed",P),this.assertValidity(),i(A,this,P)}toHex(P=!0){return(0,es.abool)("isCompressed",P),Lr.bytesToHex(this.toRawBytes(P))}}A.BASE=new A(e.Gx,e.Gy,r.ONE),A.ZERO=new A(r.ZERO,r.ONE,r.ZERO);let T=e.nBitLength,O=(0,b6.wNAF)(A,e.endo?Math.ceil(T/2):T);return{CURVE:e,ProjectivePoint:A,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:f}}o(Nre,"weierstrassPoints");function KMe(t){let e=(0,b6.validateBasic)(t);return Lr.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(KMe,"validateOpts");function GMe(t){let e=KMe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(v){return Cm.mod(v,n)}o(a,"modN");function f(v){return Cm.invert(v,n)}o(f,"invN");let{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:g,isWithinCurveOrder:b}=Nre({...e,toBytes(v,w,S){let R=w.toAffine(),x=r.toBytes(R.x),u=Lr.concatBytes;return(0,es.abool)("isCompressed",S),S?u(Uint8Array.from([w.hasEvenY()?2:3]),x):u(Uint8Array.from([4]),x,r.toBytes(R.y))},fromBytes(v){let w=v.length,S=v[0],R=v.subarray(1);if(w===i&&(S===2||S===3)){let x=Lr.bytesToNumberBE(R);if(!Lr.inRange(x,In,r.ORDER))throw new Error("Point is not on curve");let u=g(x),_;try{_=r.sqrt(u)}catch(L){let $=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+$)}let H=(_&In)===In;return(S&1)===1!==H&&(_=r.neg(_)),{x,y:_}}else if(w===s&&S===4){let x=r.fromBytes(R.subarray(0,r.BYTES)),u=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x,y:u}}else throw new Error(`Point of length ${w} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),A=o(v=>Lr.bytesToHex(Lr.numberToBytesBE(v,e.nByteLength)),"numToNByteStr");function T(v){let w=n>>In;return v>w}o(T,"isBiggerThanHalfOrder");function O(v){return T(v)?a(-v):v}o(O,"normalizeS");let N=o((v,w,S)=>Lr.bytesToNumberBE(v.slice(w,S)),"slcNum");class P{static{o(this,"Signature")}constructor(w,S,R){this.r=w,this.s=S,this.recovery=R,this.assertValidity()}static fromCompact(w){let S=e.nByteLength;return w=(0,es.ensureBytes)("compactSignature",w,S*2),new P(N(w,0,S),N(w,S,2*S))}static fromDER(w){let{r:S,s:R}=ts.DER.toSig((0,es.ensureBytes)("DER",w));return new P(S,R)}assertValidity(){Lr.aInRange("r",this.r,In,n),Lr.aInRange("s",this.s,In,n)}addRecoveryBit(w){return new P(this.r,this.s,w)}recoverPublicKey(w){let{r:S,s:R,recovery:x}=this,u=j((0,es.ensureBytes)("msgHash",w));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");let _=x===2||x===3?S+e.n:S;if(_>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let H=x&1?"03":"02",F=l.fromHex(H+A(_)),L=f(_),$=a(-u*L),Q=a(R*L),re=l.BASE.multiplyAndAddUnsafe(F,$,Q);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Lr.hexToBytes(this.toDERHex())}toDERHex(){return ts.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Lr.hexToBytes(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}let C={isValidPrivateKey(v){try{return h(v),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:o(()=>{let v=Cm.getMinHashLength(e.n);return Cm.mapHashToField(e.randomBytes(v),e.n)},"randomPrivateKey"),precompute(v=8,w=l.BASE){return w._setWindowSize(v),w.multiply(BigInt(3)),w}};function D(v,w=!0){return l.fromPrivateKey(v).toRawBytes(w)}o(D,"getPublicKey");function M(v){let w=Lr.isBytes(v),S=typeof v=="string",R=(w||S)&&v.length;return w?R===i||R===s:S?R===2*i||R===2*s:v instanceof l}o(M,"isProbPub");function U(v,w,S=!0){if(M(v))throw new Error("first arg must be private key");if(!M(w))throw new Error("second arg must be public key");return l.fromHex(w).multiply(h(v)).toRawBytes(S)}o(U,"getSharedSecret");let V=e.bits2int||function(v){let w=Lr.bytesToNumberBE(v),S=v.length*8-e.nBitLength;return S>0?w>>BigInt(S):w},j=e.bits2int_modN||function(v){return a(V(v))},ee=Lr.bitMask(e.nBitLength);function Y(v){return Lr.aInRange(`num < 2^${e.nBitLength}`,v,uu,ee),Lr.numberToBytesBE(v,e.nByteLength)}o(Y,"int2octets");function te(v,w,S=E){if(["recovered","canonical"].some(fe=>fe in S))throw new Error("sign() legacy options not supported");let{hash:R,randomBytes:x}=e,{lowS:u,prehash:_,extraEntropy:H}=S;u==null&&(u=!0),v=(0,es.ensureBytes)("msgHash",v),Ire(S),_&&(v=(0,es.ensureBytes)("prehashed msgHash",R(v)));let F=j(v),L=h(w),$=[Y(L),Y(F)];if(H!=null&&H!==!1){let fe=H===!0?x(r.BYTES):H;$.push((0,es.ensureBytes)("extraEntropy",fe))}let Q=Lr.concatBytes(...$),re=F;function Me(fe){let le=V(fe);if(!b(le))return;let xe=f(le),he=l.BASE.multiply(le).toAffine(),ge=a(he.x);if(ge===uu)return;let tr=a(xe*a(re+ge*L));if(tr===uu)return;let Ae=(he.x===ge?0:2)|Number(he.y&In),Oe=tr;return u&&T(tr)&&(Oe=O(tr),Ae^=1),new P(ge,Oe,Ae)}return o(Me,"k2sig"),{seed:Q,k2sig:Me}}o(te,"prepSig");let E={lowS:e.lowS,prehash:!1},c={lowS:e.lowS,prehash:!1};function d(v,w,S=E){let{seed:R,k2sig:x}=te(v,w,S),u=e;return Lr.createHmacDrbg(u.hash.outputLen,u.nByteLength,u.hmac)(R,x)}o(d,"sign"),l.BASE._setWindowSize(8);function y(v,w,S,R=c){let x=v;if(w=(0,es.ensureBytes)("msgHash",w),S=(0,es.ensureBytes)("publicKey",S),"strict"in R)throw new Error("options.strict was renamed to lowS");Ire(R);let{lowS:u,prehash:_}=R,H,F;try{if(typeof x=="string"||Lr.isBytes(x))try{H=P.fromDER(x)}catch(he){if(!(he instanceof ts.DER.Err))throw he;H=P.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){let{r:he,s:ge}=x;H=new P(he,ge)}else throw new Error("PARSE");F=l.fromHex(S)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&H.hasHighS())return!1;_&&(w=e.hash(w));let{r:L,s:$}=H,Q=j(w),re=f($),Me=a(Q*re),fe=a(L*re),le=l.BASE.multiplyAndAddUnsafe(F,Me,fe)?.toAffine();return le?a(le.x)===L:!1}return o(y,"verify"),{CURVE:e,getPublicKey:D,getSharedSecret:U,sign:d,verify:y,ProjectivePoint:l,Signature:P,utils:C}}o(GMe,"weierstrass");function Mre(t,e){let r=t.ORDER,n=uu;for(let O=r-In;O%c0===uu;O/=c0)n+=In;let i=n,s=c0<<i-In-In,a=s*c0,f=(r-In)/a,l=(f-In)/c0,h=a-In,g=s,b=t.pow(e,f),A=t.pow(e,(f+In)/c0),T=o((O,N)=>{let P=b,C=t.pow(N,h),D=t.sqr(C);D=t.mul(D,N);let M=t.mul(O,D);M=t.pow(M,l),M=t.mul(M,C),C=t.mul(M,N),D=t.mul(M,O);let U=t.mul(D,C);M=t.pow(U,g);let V=t.eql(M,t.ONE);C=t.mul(D,A),M=t.mul(U,P),D=t.cmov(C,D,V),U=t.cmov(M,U,V);for(let j=i;j>In;j--){let ee=j-c0;ee=c0<<ee-In;let Y=t.pow(U,ee),te=t.eql(Y,t.ONE);C=t.mul(D,P),P=t.mul(P,P),Y=t.mul(U,P),D=t.cmov(C,D,te),U=t.cmov(Y,U,te)}return{isValid:V,value:D}},"sqrtRatio");if(t.ORDER%Ore===v6){let O=(t.ORDER-v6)/Ore,N=t.sqrt(t.neg(e));T=o((P,C)=>{let D=t.sqr(C),M=t.mul(P,C);D=t.mul(D,M);let U=t.pow(D,O);U=t.mul(U,M);let V=t.mul(U,N),j=t.mul(t.sqr(U),C),ee=t.eql(j,P),Y=t.cmov(V,U,ee);return{isValid:ee,value:Y}},"sqrtRatio")}return T}o(Mre,"SWUFpSqrtRatio");function $Me(t,e){if(Cm.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=Mre(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,f,l,h,g,b;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),a=t.add(s,t.ONE),a=t.mul(a,e.B),f=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),f=t.mul(f,e.A),s=t.sqr(a),h=t.sqr(f),l=t.mul(h,e.A),s=t.add(s,l),s=t.mul(s,a),h=t.mul(h,f),l=t.mul(h,e.B),s=t.add(s,l),g=t.mul(i,a);let{isValid:A,value:T}=r(s,h);b=t.mul(i,n),b=t.mul(b,T),g=t.cmov(g,a,A),b=t.cmov(b,T,A);let O=t.isOdd(n)===t.isOdd(b);return b=t.cmov(t.neg(b),b,O),g=t.div(g,f),{x:g,y:b}}}o($Me,"mapToCurveSimpleSWU")});var kre=q(x6=>{"use strict";p();m();Object.defineProperty(x6,"__esModule",{value:!0});x6.getHash=Pre;x6.createCurve=XMe;var WMe=Tre(),Cre=Sd(),YMe=xP();function Pre(t){return{hash:t,hmac:o((e,...r)=>(0,WMe.hmac)(t,e,(0,Cre.concatBytes)(...r)),"hmac"),randomBytes:Cre.randomBytes}}o(Pre,"getHash");function XMe(t,e){let r=o(n=>(0,YMe.weierstrass)({...t,...Pre(n)}),"create");return Object.freeze({...r(e),create:r})}o(XMe,"createCurve")});var zre=q(ka=>{"use strict";p();m();Object.defineProperty(ka,"__esModule",{value:!0});ka.encodeToCurve=ka.hashToCurve=ka.schnorr=ka.secp256k1=void 0;var _6=AC(),ZMe=Sd(),JMe=kre(),Dre=hC(),Mo=Jh(),Pa=ou(),QMe=xP(),i2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w6=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),r2=BigInt(1),E6=BigInt(2),Bre=o((t,e)=>(t+e/E6)/e,"divNearest");function Ure(t){let e=i2,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),f=BigInt(44),l=BigInt(88),h=t*t*t%e,g=h*h*t%e,b=(0,Mo.pow2)(g,r,e)*g%e,A=(0,Mo.pow2)(b,r,e)*g%e,T=(0,Mo.pow2)(A,E6,e)*h%e,O=(0,Mo.pow2)(T,i,e)*T%e,N=(0,Mo.pow2)(O,s,e)*O%e,P=(0,Mo.pow2)(N,f,e)*N%e,C=(0,Mo.pow2)(P,l,e)*P%e,D=(0,Mo.pow2)(C,f,e)*N%e,M=(0,Mo.pow2)(D,r,e)*g%e,U=(0,Mo.pow2)(M,a,e)*O%e,V=(0,Mo.pow2)(U,n,e)*h%e,j=(0,Mo.pow2)(V,E6,e);if(!f0.eql(f0.sqr(j),t))throw new Error("Cannot find square root");return j}o(Ure,"sqrtMod");var f0=(0,Mo.Field)(i2,void 0,void 0,{sqrt:Ure});ka.secp256k1=(0,JMe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:f0,n:w6,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=w6,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-r2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=Bre(s*t,e),l=Bre(-n*t,e),h=(0,Mo.mod)(t-f*r-l*i,e),g=(0,Mo.mod)(-f*n-l*s,e),b=h>a,A=g>a;if(b&&(h=e-h),A&&(g=e-g),h>a||g>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:h,k2neg:A,k2:g}},"splitScalar")}},_6.sha256);var Fre=BigInt(0),Lre={};function S6(t,...e){let r=Lre[t];if(r===void 0){let n=(0,_6.sha256)(Uint8Array.from(t,i=>i.charCodeAt(0)));r=(0,Pa.concatBytes)(n,n),Lre[t]=r}return(0,_6.sha256)((0,Pa.concatBytes)(r,...e))}o(S6,"taggedHash");var SP=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),wP=o(t=>(0,Pa.numberToBytesBE)(t,32),"numTo32b"),_P=o(t=>(0,Mo.mod)(t,i2),"modP"),n2=o(t=>(0,Mo.mod)(t,w6),"modN"),AP=ka.secp256k1.ProjectivePoint,eCe=o((t,e,r)=>AP.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function EP(t){let e=ka.secp256k1.utils.normPrivateKeyToScalar(t),r=AP.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:n2(-e),bytes:SP(r)}}o(EP,"schnorrGetExtPubKey");function qre(t){(0,Pa.aInRange)("x",t,r2,i2);let e=_P(t*t),r=_P(e*t+BigInt(7)),n=Ure(r);n%E6!==Fre&&(n=_P(-n));let i=new AP(t,n,r2);return i.assertValidity(),i}o(qre,"lift_x");var S1=Pa.bytesToNumberBE;function Hre(...t){return n2(S1(S6("BIP0340/challenge",...t)))}o(Hre,"challenge");function tCe(t){return EP(t).bytes}o(tCe,"schnorrGetPublicKey");function rCe(t,e,r=(0,ZMe.randomBytes)(32)){let n=(0,Pa.ensureBytes)("message",t),{bytes:i,scalar:s}=EP(e),a=(0,Pa.ensureBytes)("auxRand",r,32),f=wP(s^S1(S6("BIP0340/aux",a))),l=S6("BIP0340/nonce",f,i,n),h=n2(S1(l));if(h===Fre)throw new Error("sign failed: k is zero");let{bytes:g,scalar:b}=EP(h),A=Hre(g,i,n),T=new Uint8Array(64);if(T.set(g,0),T.set(wP(n2(b+A*s)),32),!Vre(T,n,i))throw new Error("sign: Invalid signature produced");return T}o(rCe,"schnorrSign");function Vre(t,e,r){let n=(0,Pa.ensureBytes)("signature",t,64),i=(0,Pa.ensureBytes)("message",e),s=(0,Pa.ensureBytes)("publicKey",r,32);try{let a=qre(S1(s)),f=S1(n.subarray(0,32));if(!(0,Pa.inRange)(f,r2,i2))return!1;let l=S1(n.subarray(32,64));if(!(0,Pa.inRange)(l,r2,w6))return!1;let h=Hre(wP(f),SP(a),i),g=eCe(a,l,n2(-h));return!(!g||!g.hasEvenY()||g.toAffine().x!==f)}catch{return!1}}o(Vre,"schnorrVerify");ka.schnorr={getPublicKey:tCe,sign:rCe,verify:Vre,utils:{randomPrivateKey:ka.secp256k1.utils.randomPrivateKey,lift_x:qre,pointToBytes:SP,numberToBytesBE:Pa.numberToBytesBE,bytesToNumberBE:Pa.bytesToNumberBE,taggedHash:S6,mod:Mo.mod}};var nCe=(0,Dre.isogenyMap)(f0,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),iCe=(0,QMe.mapToCurveSimpleSWU)(f0,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:f0.create(BigInt("-11"))}),jre=(0,Dre.createHasher)(ka.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=iCe(f0.create(t[0]));return nCe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:f0.ORDER,m:1,k:128,expand:"xmd",hash:_6.sha256});ka.hashToCurve=jre.hashToCurve;ka.encodeToCurve=jre.encodeToCurve});var H6=q(pt=>{"use strict";p();m();var Kt=ci(),M1=zX(),oCe=s1(),sCe=iu(),Kre=AC(),RP=XX(),hne=kC(),pne=Fte(),k=Hte(),aCe=ure(),Gre=yre(),$re=Are(),JP=zre();function QP(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(QP,"_interopDefaultCompat");function cCe(t){if(t&&typeof t=="object"&&"default"in t)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(cCe,"_interopNamespaceCompat");var Wre=QP(oCe),rs=QP(sCe),oe=cCe(hne),fCe=QP(aCe),uCe=M1.ed25519.utils.randomPrivateKey,Yre=o(()=>{let t=M1.ed25519.utils.randomPrivateKey(),e=I6(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"generateKeypair"),I6=M1.ed25519.getPublicKey;function Xre(t){try{return M1.ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}o(Xre,"isOnCurve");var ek=o((t,e)=>M1.ed25519.sign(t,e.slice(0,32)),"sign"),lCe=M1.ed25519.verify,mr=o(t=>Kt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Kt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Kt.Buffer.from(t),"toBuffer"),a2=class{static{o(this,"Struct")}constructor(e){Object.assign(this,e)}encode(){return Kt.Buffer.from(RP.serialize(s2,this))}static decode(e){return RP.deserialize(s2,this,e)}static decodeUnchecked(e){return RP.deserializeUnchecked(s2,this,e)}},PP=class extends a2{static{o(this,"Enum")}constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},s2=new Map,mne,gne=32,vl=32;function dCe(t){return t._bn!==void 0}o(dCe,"isPublicKeyData");var Zre=1,ht=class t extends a2{static{o(this,"PublicKey")}constructor(e){if(super({}),this._bn=void 0,dCe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=rs.default.decode(e);if(r.length!=vl)throw new Error("Invalid public key input");this._bn=new Wre.default(r)}else this._bn=new Wre.default(e);if(this._bn.byteLength()>vl)throw new Error("Invalid public key input")}}static unique(){let e=new t(Zre);return Zre+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return rs.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Kt.Buffer);if(e.length===vl)return e;let r=Kt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Kt.Buffer.concat([e.toBuffer(),Kt.Buffer.from(r),n.toBuffer()]),s=Kre.sha256(i);return new t(s)}static createProgramAddressSync(e,r){let n=Kt.Buffer.alloc(0);e.forEach(function(s){if(s.length>gne)throw new TypeError("Max seed length exceeded");n=Kt.Buffer.concat([n,mr(s)])}),n=Kt.Buffer.concat([n,r.toBuffer(),Kt.Buffer.from("ProgramDerivedAddress")]);let i=Kre.sha256(n);if(Xre(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let s=e.concat(Kt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return Xre(r.toBytes())}};mne=ht;ht.default=new mne("11111111111111111111111111111111");s2.set(ht,{kind:"struct",fields:[["_bn","u256"]]});var kP=class{static{o(this,"Account")}constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=mr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=mr(uCe()),this._publicKey=mr(I6(this._secretKey))}get publicKey(){return new ht(this._publicKey)}get secretKey(){return Kt.Buffer.concat([this._secretKey,this._publicKey],64)}},hCe=new ht("BPFLoader1111111111111111111111111111111111"),l0=1232,U6=127,c2=64,f2=class extends Error{static{o(this,"TransactionExpiredBlockheightExceededError")}constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(f2.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var u2=class extends Error{static{o(this,"TransactionExpiredTimeoutError")}constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(u2.prototype,"name",{value:"TransactionExpiredTimeoutError"});var u0=class extends Error{static{o(this,"TransactionExpiredNonceInvalidError")}constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(u0.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Bm=class{static{o(this,"MessageAccountKeys")}constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});let i=o(s=>{let a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a},"findKeyIndex");return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(a=>i(a.pubkey)),data:s.data}))}},Ar=o((t="publicKey")=>oe.blob(32,t),"publicKey"),pCe=o((t="signature")=>oe.blob(64,t),"signature"),km=o((t="string")=>{let e=oe.struct([oe.u32("length"),oe.u32("lengthPadding"),oe.blob(oe.offset(oe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,a)=>r(s,a).chars.toString(),i.encode=(s,a,f)=>{let l={chars:Kt.Buffer.from(s,"utf8")};return n(l,a,f)},i.alloc=s=>oe.u32().span+oe.u32().span+Kt.Buffer.from(s,"utf8").length,i},"rustString"),mCe=o((t="authorized")=>oe.struct([Ar("staker"),Ar("withdrawer")],t),"authorized"),gCe=o((t="lockup")=>oe.struct([oe.ns64("unixTimestamp"),oe.ns64("epoch"),Ar("custodian")],t),"lockup"),yCe=o((t="voteInit")=>oe.struct([Ar("nodePubkey"),Ar("authorizedVoter"),Ar("authorizedWithdrawer"),oe.u8("commission")],t),"voteInit"),bCe=o((t="voteAuthorizeWithSeedArgs")=>oe.struct([oe.u32("voteAuthorizationType"),Ar("currentAuthorityDerivedKeyOwnerPubkey"),km("currentAuthorityDerivedKeySeed"),Ar("newAuthorized")],t),"voteAuthorizeWithSeedArgs");function yne(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return yne({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(yne,"getAlloc");function Ba(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}o(Ba,"decodeLength");function yc(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}o(yc,"encodeLength");function Qr(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Qr,"assert");var O6=class t{static{o(this,"CompiledKeys")}constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=o(a=>{let f=a.toBase58(),l=n.get(f);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(f,l)),l},"getOrInsertDefault"),s=i(r);s.isSigner=!0,s.isWritable=!0;for(let a of e){i(a.programId).isInvoked=!0;for(let f of a.keys){let l=i(f.pubkey);l.isSigner||=f.isSigner,l.isWritable||=f.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Qr(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Qr(r.length>0,"Expected at least one writable signer key");let[l]=r[0];Qr(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let f=[...r.map(([l])=>new ht(l)),...n.map(([l])=>new ht(l)),...i.map(([l])=>new ht(l)),...s.map(([l])=>new ht(l))];return[a,f]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[s,a]of this.keyMetaMap.entries())if(r(a)){let f=new ht(s),l=e.findIndex(h=>h.equals(f));l>=0&&(Qr(l<256,"Max lookup table index exceeded"),n.push(l),i.push(f),this.keyMetaMap.delete(s))}return[n,i]}},bne="Reached end of buffer unexpectedly";function gl(t){if(t.length===0)throw new Error(bne);return t.shift()}o(gl,"guardedShift");function La(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(bne);return t.splice(...e)}o(La,"guardedSplice");var xl=class t{static{o(this,"Message")}constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ht(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:rs.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Bm(this.staticAccountKeys)}static compile(e){let r=O6.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),a=new Bm(i).compileInstructions(e.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:rs.default.encode(f.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];yc(r,e);let n=this.instructions.map(b=>{let{accounts:A,programIdIndex:T}=b,O=Array.from(rs.default.decode(b.data)),N=[];yc(N,A.length);let P=[];return yc(P,O.length),{programIdIndex:T,keyIndicesCount:Kt.Buffer.from(N),keyIndices:A,dataLength:Kt.Buffer.from(P),data:O}}),i=[];yc(i,n.length);let s=Kt.Buffer.alloc(l0);Kt.Buffer.from(i).copy(s);let a=i.length;n.forEach(b=>{let T=oe.struct([oe.u8("programIdIndex"),oe.blob(b.keyIndicesCount.length,"keyIndicesCount"),oe.seq(oe.u8("keyIndex"),b.keyIndices.length,"keyIndices"),oe.blob(b.dataLength.length,"dataLength"),oe.seq(oe.u8("userdatum"),b.data.length,"data")]).encode(b,s,a);a+=T}),s=s.slice(0,a);let f=oe.struct([oe.blob(1,"numRequiredSignatures"),oe.blob(1,"numReadonlySignedAccounts"),oe.blob(1,"numReadonlyUnsignedAccounts"),oe.blob(r.length,"keyCount"),oe.seq(Ar("key"),e,"keys"),Ar("recentBlockhash")]),l={numRequiredSignatures:Kt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Kt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Kt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Kt.Buffer.from(r),keys:this.accountKeys.map(b=>mr(b.toBytes())),recentBlockhash:rs.default.decode(this.recentBlockhash)},h=Kt.Buffer.alloc(2048),g=f.encode(l,h);return s.copy(h,g),h.slice(0,g+s.length)}static from(e){let r=[...e],n=gl(r);if(n!==(n&U6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=gl(r),s=gl(r),a=Ba(r),f=[];for(let A=0;A<a;A++){let T=La(r,0,vl);f.push(new ht(Kt.Buffer.from(T)))}let l=La(r,0,vl),h=Ba(r),g=[];for(let A=0;A<h;A++){let T=gl(r),O=Ba(r),N=La(r,0,O),P=Ba(r),C=La(r,0,P),D=rs.default.encode(Kt.Buffer.from(C));g.push({programIdIndex:T,accounts:N,data:D})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:rs.default.encode(Kt.Buffer.from(l)),accountKeys:f,instructions:g};return new t(b)}},A1=class t{static{o(this,"MessageV0")}constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bm(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((a,f)=>a+f.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return i<a}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=O6.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let g of s){let b=r.extractTableLookup(g);if(b!==void 0){let[A,{writable:T,readonly:O}]=b;n.push(A),i.writable.push(...T),i.readonly.push(...O)}}let[a,f]=r.getMessageComponents(),h=new Bm(f,i).compileInstructions(e.instructions);return new t({header:a,staticAccountKeys:f,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){let e=Array();yc(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();yc(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();yc(s,this.addressTableLookups.length);let a=oe.struct([oe.u8("prefix"),oe.struct([oe.u8("numRequiredSignatures"),oe.u8("numReadonlySignedAccounts"),oe.u8("numReadonlyUnsignedAccounts")],"header"),oe.blob(e.length,"staticAccountKeysLength"),oe.seq(Ar(),this.staticAccountKeys.length,"staticAccountKeys"),Ar("recentBlockhash"),oe.blob(n.length,"instructionsLength"),oe.blob(r.length,"serializedInstructions"),oe.blob(s.length,"addressTableLookupsLength"),oe.blob(i.length,"serializedAddressTableLookups")]),f=new Uint8Array(l0),h=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:rs.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},f);return f.slice(0,h)}serializeInstructions(){let e=0,r=new Uint8Array(l0);for(let n of this.compiledInstructions){let i=Array();yc(i,n.accountKeyIndexes.length);let s=Array();yc(s,n.data.length);let a=oe.struct([oe.u8("programIdIndex"),oe.blob(i.length,"encodedAccountKeyIndexesLength"),oe.seq(oe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),oe.blob(s.length,"encodedDataLength"),oe.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(l0);for(let n of this.addressTableLookups){let i=Array();yc(i,n.writableIndexes.length);let s=Array();yc(s,n.readonlyIndexes.length);let a=oe.struct([Ar("accountKey"),oe.blob(i.length,"encodedWritableIndexesLength"),oe.seq(oe.u8(),n.writableIndexes.length,"writableIndexes"),oe.blob(s.length,"encodedReadonlyIndexesLength"),oe.seq(oe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=gl(r),i=n&U6;Qr(n!==i,"Expected versioned message but received legacy message");let s=i;Qr(s===0,`Expected versioned message with version 0 but found version ${s}`);let a={numRequiredSignatures:gl(r),numReadonlySignedAccounts:gl(r),numReadonlyUnsignedAccounts:gl(r)},f=[],l=Ba(r);for(let O=0;O<l;O++)f.push(new ht(La(r,0,vl)));let h=rs.default.encode(La(r,0,vl)),g=Ba(r),b=[];for(let O=0;O<g;O++){let N=gl(r),P=Ba(r),C=La(r,0,P),D=Ba(r),M=new Uint8Array(La(r,0,D));b.push({programIdIndex:N,accountKeyIndexes:C,data:M})}let A=Ba(r),T=[];for(let O=0;O<A;O++){let N=new ht(La(r,0,vl)),P=Ba(r),C=La(r,0,P),D=Ba(r),M=La(r,0,D);T.push({accountKey:N,writableIndexes:C,readonlyIndexes:M})}return new t({header:a,staticAccountKeys:f,recentBlockhash:h,compiledInstructions:b,addressTableLookups:T})}},tk={deserializeMessageVersion(t){let e=t[0],r=e&U6;return r===e?"legacy":r},deserialize:o(t=>{let e=tk.deserializeMessageVersion(t);if(e==="legacy")return xl.from(t);if(e===0)return A1.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)},"deserialize")},Cd=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({}),vCe=Kt.Buffer.alloc(c2).fill(0),wn=class{static{o(this,"TransactionInstruction")}constructor(e){this.keys=void 0,this.programId=void 0,this.data=Kt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},vn=class t{static{o(this,"Transaction")}get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new wn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let N=0;N<r.length;N++)if(r[N].programId===void 0)throw new Error(`Transaction instruction index ${N} has undefined program id`);let i=[],s=[];r.forEach(N=>{N.keys.forEach(C=>{s.push({...C})});let P=N.programId.toString();i.includes(P)||i.push(P)}),i.forEach(N=>{s.push({pubkey:new ht(N),isSigner:!1,isWritable:!1})});let a=[];s.forEach(N=>{let P=N.pubkey.toString(),C=a.findIndex(D=>D.pubkey.toString()===P);C>-1?(a[C].isWritable=a[C].isWritable||N.isWritable,a[C].isSigner=a[C].isSigner||N.isSigner):a.push(N)}),a.sort(function(N,P){if(N.isSigner!==P.isSigner)return N.isSigner?-1:1;if(N.isWritable!==P.isWritable)return N.isWritable?-1:1;let C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return N.pubkey.toBase58().localeCompare(P.pubkey.toBase58(),"en",C)});let f=a.findIndex(N=>N.pubkey.equals(n));if(f>-1){let[N]=a.splice(f,1);N.isSigner=!0,N.isWritable=!0,a.unshift(N)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let N of this.signatures){let P=a.findIndex(C=>C.pubkey.equals(N.publicKey));if(P>-1)a[P].isSigner||(a[P].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${N.publicKey.toString()}`)}let l=0,h=0,g=0,b=[],A=[];a.forEach(({pubkey:N,isSigner:P,isWritable:C})=>{P?(b.push(N.toString()),l+=1,C||(h+=1)):(A.push(N.toString()),C||(g+=1))});let T=b.concat(A),O=r.map(N=>{let{data:P,programId:C}=N;return{programIdIndex:T.indexOf(C.toString()),accounts:N.keys.map(D=>T.indexOf(D.pubkey.toString())),data:rs.default.encode(P)}});return O.forEach(N=>{Qr(N.programIdIndex>=0),N.accounts.forEach(P=>Qr(P>=0))}),new xl({header:{numRequiredSignatures:l,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:g},accountKeys:T,recentBlockhash:e,instructions:O})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let s=ek(n,i.secretKey);this._addSignature(i.publicKey,mr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Qr(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Kt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):lCe(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(i,r);if(s){let a="Signature verification failed.";throw s.invalid&&(a+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),s.missing&&(a+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];yc(n,r.length);let i=n.length+r.length*64+e.length,s=Kt.Buffer.alloc(i);return Qr(r.length<256),Kt.Buffer.from(n).copy(s,0),r.forEach(({signature:a},f)=>{a!==null&&(Qr(a.length===64,"signature has invalid length"),Kt.Buffer.from(a).copy(s,n.length+f*64))}),e.copy(s,n.length+r.length*64),Qr(s.length<=l0,`Transaction too large: ${s.length} > ${l0}`),s}get keys(){return Qr(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Qr(this.instructions.length===1),this.instructions[0].programId}get data(){return Qr(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Ba(r),i=[];for(let s=0;s<n;s++){let a=La(r,0,c2);i.push(rs.default.encode(Kt.Buffer.from(a)))}return t.populate(xl.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{let a={signature:i==rs.default.encode(vCe)?null:rs.default.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(i=>{let s=i.accounts.map(a=>{let f=e.accountKeys[a];return{pubkey:f,isSigner:n.signatures.some(l=>l.publicKey.toString()===f.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new wn({keys:s,programId:e.accountKeys[i.programIdIndex],data:rs.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},BP=class t{static{o(this,"TransactionMessage")}constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:l}=n,h=a-f;Qr(h>0,"Message header is invalid");let g=e.staticAccountKeys.length-a-l;Qr(g>=0,"Message header is invalid");let b=e.getAccountKeys(r),A=b.get(0);if(A===void 0)throw new Error("Failed to decompile message because no account keys were found");let T=[];for(let O of i){let N=[];for(let C of O.accountKeyIndexes){let D=b.get(C);if(D===void 0)throw new Error(`Failed to find key for account key index ${C}`);let M=C<a,U;M?U=C<h:C<b.staticAccountKeys.length?U=C-a<g:U=C-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,N.push({pubkey:D,isSigner:C<n.numRequiredSignatures,isWritable:U})}let P=b.get(O.programIdIndex);if(P===void 0)throw new Error(`Failed to find program id for program id index ${O.programIdIndex}`);T.push(new wn({programId:P,data:mr(O.data),keys:N}))}return new t({payerKey:A,instructions:T,recentBlockhash:s})}compileToLegacyMessage(){return xl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return A1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},LP=class t{static{o(this,"VersionedTransaction")}get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Qr(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(c2));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();yc(r,this.signatures.length);let n=oe.struct([oe.blob(r.length,"encodedSignaturesLength"),oe.seq(pCe(),this.signatures.length,"signatures"),oe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e],n=[],i=Ba(r);for(let a=0;a<i;a++)n.push(new Uint8Array(La(r,0,c2)));let s=tk.deserialize(new Uint8Array(r));return new t(s,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(a=>a.equals(i.publicKey));Qr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=ek(r,i.secretKey)}}addSignature(e,r){Qr(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Qr(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},xCe=160,_Ce=64,wCe=xCe/_Ce,vne=1e3/wCe,ml=new ht("SysvarC1ock11111111111111111111111111111111"),ECe=new ht("SysvarEpochSchedu1e111111111111111111111111"),SCe=new ht("Sysvar1nstructions1111111111111111111111111"),R6=new ht("SysvarRecentB1ockHashes11111111111111111111"),R1=new ht("SysvarRent111111111111111111111111111111111"),ACe=new ht("SysvarRewards111111111111111111111111111111"),RCe=new ht("SysvarS1otHashes111111111111111111111111111"),TCe=new ht("SysvarS1otHistory11111111111111111111111111"),T6=new ht("SysvarStakeHistory1111111111111111111111111"),Lm=class extends Error{static{o(this,"SendTransactionError")}constructor({action:e,signature:r,transactionMessage:n,logs:i}){let s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",f;switch(e){case"send":f=`Transaction ${r} resulted in an error. 
${n}. `+s+a;break;case"simulate":f=`Simulation failed. 
Message: ${n}. 
`+s+a;break;default:f=`Unknown action '${(l=>l)(e)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},ICe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},kt=class extends Error{static{o(this,"SolanaJSONRPCError")}constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function DP(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:f}=e.nonceInfo,l=f.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw s!=null?new Lm({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}o(DP,"sendAndConfirmTransaction");function Pm(t){return new Promise(e=>setTimeout(e,t))}o(Pm,"sleep");function Vr(t,e){let r=t.layout.span>=0?t.layout.span:yne(t,e),n=Kt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Vr,"encodeData");function bn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}o(bn,"decodeData$1");var xne=oe.nu64("lamportsPerSignature"),_ne=oe.struct([oe.u32("version"),oe.u32("state"),Ar("authorizedPubkey"),Ar("nonce"),oe.struct([xne],"feeCalculator")]),UP=_ne.span,N6=class t{static{o(this,"NonceAccount")}constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=_ne.decode(mr(e),0);return new t({authorizedPubkey:new ht(r.authorizedPubkey),nonce:new ht(r.nonce).toString(),feeCalculator:r.feeCalculator})}};function T1(t){let e=hne.blob(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=pne.getU64Codec();return i.decode=(a,f)=>{let l=r(a,f);return s.decode(l)},i.encode=(a,f,l)=>{let h=s.encode(a);return n(h,f,l)},i}o(T1,"u64");var FP=class{static{o(this,"SystemInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Kn))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=bn(Kn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ht(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=bn(Kn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=bn(Kn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ht(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=bn(Kn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:s}=bn(Kn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,space:i,programId:new ht(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=bn(Kn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ht(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=bn(Kn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,programId:new ht(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:s,programId:a}=bn(Kn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ht(r),seed:n,lamports:i,space:s,programId:new ht(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=bn(Kn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ht(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),bn(Kn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=bn(Kn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=bn(Kn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ht(r)}}static checkProgramId(e){if(!e.equals(ns.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Kn=Object.freeze({Create:{index:0,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports"),oe.ns64("space"),Ar("programId")])},Assign:{index:1,layout:oe.struct([oe.u32("instruction"),Ar("programId")])},Transfer:{index:2,layout:oe.struct([oe.u32("instruction"),T1("lamports")])},CreateWithSeed:{index:3,layout:oe.struct([oe.u32("instruction"),Ar("base"),km("seed"),oe.ns64("lamports"),oe.ns64("space"),Ar("programId")])},AdvanceNonceAccount:{index:4,layout:oe.struct([oe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:oe.struct([oe.u32("instruction"),Ar("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe.struct([oe.u32("instruction"),Ar("authorized")])},Allocate:{index:8,layout:oe.struct([oe.u32("instruction"),oe.ns64("space")])},AllocateWithSeed:{index:9,layout:oe.struct([oe.u32("instruction"),Ar("base"),km("seed"),oe.ns64("space"),Ar("programId")])},AssignWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),Ar("base"),km("seed"),Ar("programId")])},TransferWithSeed:{index:11,layout:oe.struct([oe.u32("instruction"),T1("lamports"),km("seed"),Ar("programId")])},UpgradeNonceAccount:{index:12,layout:oe.struct([oe.u32("instruction")])}}),ns=class t{static{o(this,"SystemProgram")}constructor(){}static createAccount(e){let r=Kn.Create,n=Vr(r,{lamports:e.lamports,space:e.space,programId:mr(e.programId.toBuffer())});return new wn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Kn.TransferWithSeed;r=Vr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:mr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Kn.Transfer;r=Vr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new wn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Kn.AssignWithSeed;r=Vr(i,{base:mr(e.basePubkey.toBuffer()),seed:e.seed,programId:mr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Kn.Assign;r=Vr(i,{programId:mr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new wn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Kn.CreateWithSeed,n=Vr(r,{base:mr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:mr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new wn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new vn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:UP,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:UP,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Kn.InitializeNonceAccount,n=Vr(r,{authorized:mr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:R6,isSigner:!1,isWritable:!1},{pubkey:R1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new wn(i)}static nonceAdvance(e){let r=Kn.AdvanceNonceAccount,n=Vr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:R6,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new wn(i)}static nonceWithdraw(e){let r=Kn.WithdrawNonceAccount,n=Vr(r,{lamports:e.lamports});return new wn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:R6,isSigner:!1,isWritable:!1},{pubkey:R1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Kn.AuthorizeNonceAccount,n=Vr(r,{authorized:mr(e.newAuthorizedPubkey.toBuffer())});return new wn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Kn.AllocateWithSeed;r=Vr(i,{base:mr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:mr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Kn.Allocate;r=Vr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new wn({keys:n,programId:this.programId,data:r})}};ns.programId=new ht("11111111111111111111111111111111");var OCe=l0-300,I1=class t{static{o(this,"Loader")}constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,s){{let b=await e.getMinimumBalanceForRentExemption(s.length),A=await e.getAccountInfo(n.publicKey,"confirmed"),T=null;if(A!==null){if(A.executable)return console.error("Program load failed, account is already executable"),!1;A.data.length!==s.length&&(T=T||new vn,T.add(ns.allocate({accountPubkey:n.publicKey,space:s.length}))),A.owner.equals(i)||(T=T||new vn,T.add(ns.assign({accountPubkey:n.publicKey,programId:i}))),A.lamports<b&&(T=T||new vn,T.add(ns.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:b-A.lamports})))}else T=new vn().add(ns.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:s.length,programId:i}));T!==null&&await DP(e,T,[r,n],{commitment:"confirmed"})}let a=oe.struct([oe.u32("instruction"),oe.u32("offset"),oe.u32("bytesLength"),oe.u32("bytesLengthPadding"),oe.seq(oe.u8("byte"),oe.offset(oe.u32(),-8),"bytes")]),f=t.chunkSize,l=0,h=s,g=[];for(;h.length>0;){let b=h.slice(0,f),A=Kt.Buffer.alloc(f+16);a.encode({instruction:0,offset:l,bytes:b,bytesLength:0,bytesLengthPadding:0},A);let T=new vn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:A});g.push(DP(e,T,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Pm(1e3/4),l+=f,h=h.slice(f)}await Promise.all(g);{let b=oe.struct([oe.u32("instruction")]),A=Kt.Buffer.alloc(b.span);b.encode({instruction:1},A);let T=new vn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:R1,isSigner:!1,isWritable:!1}],programId:i,data:A}),O="processed",N=await e.sendTransaction(T,[r,n],{preflightCommitment:O}),{context:P,value:C}=await e.confirmTransaction({signature:N,lastValidBlockHeight:T.lastValidBlockHeight,blockhash:T.recentBlockhash},O);if(C.err)throw new Error(`Transaction ${N} failed (${JSON.stringify(C)})`);for(;;){try{if(await e.getSlot({commitment:O})>P.slot)break}catch{}await new Promise(D=>setTimeout(D,Math.round(vne/2)))}}return!0}};I1.chunkSize=OCe;var NCe=new ht("BPFLoader2111111111111111111111111111111111"),qP=class{static{o(this,"BpfLoader")}static getMinNumSignatures(e){return I1.getMinNumSignatures(e)}static load(e,r,n,i,s){return I1.load(e,r,n,s,i)}};function MCe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(MCe,"getDefaultExportFromCjs");var TP,Jre;function CCe(){if(Jre)return TP;Jre=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,a,f,l,h,g,b;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(b=t.call(n),b==="[object Array]"){for(f="[",a=n.length-1,s=0;s<a;s++)f+=r(n[s],!0)+",";return a>-1&&(f+=r(n[s],!0)),f+"]"}else if(b==="[object Object]"){for(l=e(n).sort(),a=l.length,f="",s=0;s<a;)h=l[s],g=r(n[h],!1),g!==void 0&&(f&&(f+=","),f+=JSON.stringify(h)+":"+g),s++;return"{"+f+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return o(r,"stringify"),TP=o(function(n){var i=r(n,!1);if(i!==void 0)return""+i},"fastStableStringify$1"),TP}o(CCe,"requireFastStableStringify");var PCe=CCe(),Qre=MCe(PCe),o2=32;function IP(t){let e=0;for(;t>1;)t/=2,e++;return e}o(IP,"trailingZeros");function kCe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}o(kCe,"nextPowerOfTwo");var M6=class{static{o(this,"EpochSchedule")}constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=IP(kCe(e+o2+1))-IP(o2)-1,n=this.getSlotsInEpoch(r),i=e-(n-o2);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*o2:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+IP(o2)):this.slotsPerEpoch}},BCe=globalThis.fetch,HP=class extends Gre.CommonClient{static{o(this,"RpcWebSocketClient")}constructor(e,r,n){let i=o(s=>{let a=Gre.WebSocket(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a},"webSocketFactory");super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function LCe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}o(LCe,"decodeData");var ene=56,l2=class{static{o(this,"AddressLookupTableAccount")}constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=LCe(DCe,e),n=e.length-ene;Qr(n>=0,"lookup table is invalid"),Qr(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=oe.struct([oe.seq(Ar(),i,"addresses")]).decode(e.slice(ene));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ht(r.authority[0]):void 0,addresses:s.map(a=>new ht(a))}}},DCe={index:1,layout:oe.struct([oe.u32("typeIndex"),T1("deactivationSlot"),oe.nu64("lastExtendedSlot"),oe.u8("lastExtendedStartIndex"),oe.u8(),oe.seq(Ar(),oe.offset(oe.u8(),-1),"authority")])},UCe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function FCe(t){let e=t.match(UCe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,s]=e,a=t.startsWith("https:")?"wss:":"ws:",f=i==null?null:parseInt(i.slice(1),10),l=f==null?"":`:${f+1}`;return`${a}//${n}${l}${s}`}o(FCe,"makeWebsocketUrl");var vi=k.coerce(k.instance(ht),k.string(),t=>new ht(t)),wne=k.tuple([k.string(),k.literal("base64")]),rk=k.coerce(k.instance(Kt.Buffer),wne,t=>Kt.Buffer.from(t[0],"base64")),Ene=30*1e3;function qCe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}o(qCe,"assertEndpointUrl");function zn(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}o(zn,"extractCommitmentFromConfig");function tne(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}o(tne,"applyDefaultMemcmpEncodingToFilters");function Sne(t){return k.union([k.type({jsonrpc:k.literal("2.0"),id:k.string(),result:t}),k.type({jsonrpc:k.literal("2.0"),id:k.string(),error:k.type({code:k.unknown(),message:k.string(),data:k.optional(k.any())})})])}o(Sne,"createRpcResult");var HCe=Sne(k.unknown());function pr(t){return k.coerce(Sne(t),HCe,e=>"error"in e?e:{...e,result:k.create(e.result,t)})}o(pr,"jsonRpcResult");function zi(t){return pr(k.type({context:k.type({slot:k.number()}),value:t}))}o(zi,"jsonRpcResultAndContext");function F6(t){return k.type({context:k.type({slot:k.number()}),value:t})}o(F6,"notificationResultAndContext");function OP(t,e){return t===0?new A1({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ht(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:rs.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new xl(e)}o(OP,"versionedMessageFromResponse");var VCe=k.type({foundation:k.number(),foundationTerm:k.number(),initial:k.number(),taper:k.number(),terminal:k.number()}),jCe=pr(k.array(k.nullable(k.type({epoch:k.number(),effectiveSlot:k.number(),amount:k.number(),postBalance:k.number(),commission:k.optional(k.nullable(k.number()))})))),zCe=k.array(k.type({slot:k.number(),prioritizationFee:k.number()})),KCe=k.type({total:k.number(),validator:k.number(),foundation:k.number(),epoch:k.number()}),GCe=k.type({epoch:k.number(),slotIndex:k.number(),slotsInEpoch:k.number(),absoluteSlot:k.number(),blockHeight:k.optional(k.number()),transactionCount:k.optional(k.number())}),$Ce=k.type({slotsPerEpoch:k.number(),leaderScheduleSlotOffset:k.number(),warmup:k.boolean(),firstNormalEpoch:k.number(),firstNormalSlot:k.number()}),WCe=k.record(k.string(),k.array(k.number())),Um=k.nullable(k.union([k.type({}),k.string()])),YCe=k.type({err:Um}),XCe=k.literal("receivedSignature"),ZCe=k.type({"solana-core":k.string(),"feature-set":k.optional(k.number())}),JCe=k.type({program:k.string(),programId:vi,parsed:k.unknown()}),QCe=k.type({programId:vi,accounts:k.array(vi),data:k.string()}),rne=zi(k.type({err:k.nullable(k.union([k.type({}),k.string()])),logs:k.nullable(k.array(k.string())),accounts:k.optional(k.nullable(k.array(k.nullable(k.type({executable:k.boolean(),owner:k.string(),lamports:k.number(),data:k.array(k.string()),rentEpoch:k.optional(k.number())}))))),unitsConsumed:k.optional(k.number()),returnData:k.optional(k.nullable(k.type({programId:k.string(),data:k.tuple([k.string(),k.literal("base64")])}))),innerInstructions:k.optional(k.nullable(k.array(k.type({index:k.number(),instructions:k.array(k.union([JCe,QCe]))}))))})),ePe=zi(k.type({byIdentity:k.record(k.string(),k.array(k.number())),range:k.type({firstSlot:k.number(),lastSlot:k.number()})}));function tPe(t,e,r,n,i,s){let a=r||BCe,f;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=o(async(g,b)=>{let A=await new Promise((T,O)=>{try{n(g,b,(N,P)=>T([N,P]))}catch(N){O(N)}});return await a(...A)},"fetchWithMiddleware")),new fCe.default(async(g,b)=>{let A={method:"POST",body:g,agent:f,headers:Object.assign({"Content-Type":"application/json"},e||{},tke)};try{let T=5,O,N=500;for(;l?O=await l(t,A):O=await a(t,A),!(O.status!==429||i===!0||(T-=1,T===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${N}ms delay...`),await Pm(N),N*=2;let P=await O.text();O.ok?b(null,P):b(new Error(`${O.status} ${O.statusText}: ${P}`))}catch(T){T instanceof Error&&b(T)}},{})}o(tPe,"createRpcClient");function rPe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,a)=>{if(s){i(s);return}n(a)})})}o(rPe,"createRpcRequest");function nPe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,a)=>{if(s){n(s);return}r(a)})})}o(nPe,"createRpcBatchRequest");var iPe=pr(VCe),oPe=pr(KCe),sPe=pr(zCe),aPe=pr(GCe),cPe=pr($Ce),fPe=pr(WCe),uPe=pr(k.number()),lPe=zi(k.type({total:k.number(),circulating:k.number(),nonCirculating:k.number(),nonCirculatingAccounts:k.array(vi)})),VP=k.type({amount:k.string(),uiAmount:k.nullable(k.number()),decimals:k.number(),uiAmountString:k.optional(k.string())}),dPe=zi(k.array(k.type({address:vi,amount:k.string(),uiAmount:k.nullable(k.number()),decimals:k.number(),uiAmountString:k.optional(k.string())}))),hPe=zi(k.array(k.type({pubkey:vi,account:k.type({executable:k.boolean(),owner:vi,lamports:k.number(),data:rk,rentEpoch:k.number()})}))),jP=k.type({program:k.string(),parsed:k.unknown(),space:k.number()}),pPe=zi(k.array(k.type({pubkey:vi,account:k.type({executable:k.boolean(),owner:vi,lamports:k.number(),data:jP,rentEpoch:k.number()})}))),mPe=zi(k.array(k.type({lamports:k.number(),address:vi}))),d2=k.type({executable:k.boolean(),owner:vi,lamports:k.number(),data:rk,rentEpoch:k.number()}),gPe=k.type({pubkey:vi,account:d2}),yPe=k.coerce(k.union([k.instance(Kt.Buffer),jP]),k.union([wne,jP]),t=>Array.isArray(t)?k.create(t,rk):t),zP=k.type({executable:k.boolean(),owner:vi,lamports:k.number(),data:yPe,rentEpoch:k.number()}),bPe=k.type({pubkey:vi,account:zP}),vPe=k.type({state:k.union([k.literal("active"),k.literal("inactive"),k.literal("activating"),k.literal("deactivating")]),active:k.number(),inactive:k.number()}),xPe=pr(k.array(k.type({signature:k.string(),slot:k.number(),err:Um,memo:k.nullable(k.string()),blockTime:k.optional(k.nullable(k.number()))}))),_Pe=pr(k.array(k.type({signature:k.string(),slot:k.number(),err:Um,memo:k.nullable(k.string()),blockTime:k.optional(k.nullable(k.number()))}))),wPe=k.type({subscription:k.number(),result:F6(d2)}),EPe=k.type({pubkey:vi,account:d2}),SPe=k.type({subscription:k.number(),result:F6(EPe)}),APe=k.type({parent:k.number(),slot:k.number(),root:k.number()}),RPe=k.type({subscription:k.number(),result:APe}),TPe=k.union([k.type({type:k.union([k.literal("firstShredReceived"),k.literal("completed"),k.literal("optimisticConfirmation"),k.literal("root")]),slot:k.number(),timestamp:k.number()}),k.type({type:k.literal("createdBank"),parent:k.number(),slot:k.number(),timestamp:k.number()}),k.type({type:k.literal("frozen"),slot:k.number(),timestamp:k.number(),stats:k.type({numTransactionEntries:k.number(),numSuccessfulTransactions:k.number(),numFailedTransactions:k.number(),maxTransactionsPerEntry:k.number()})}),k.type({type:k.literal("dead"),slot:k.number(),timestamp:k.number(),err:k.string()})]),IPe=k.type({subscription:k.number(),result:TPe}),OPe=k.type({subscription:k.number(),result:F6(k.union([YCe,XCe]))}),NPe=k.type({subscription:k.number(),result:k.number()}),MPe=k.type({pubkey:k.string(),gossip:k.nullable(k.string()),tpu:k.nullable(k.string()),rpc:k.nullable(k.string()),version:k.nullable(k.string())}),nne=k.type({votePubkey:k.string(),nodePubkey:k.string(),activatedStake:k.number(),epochVoteAccount:k.boolean(),epochCredits:k.array(k.tuple([k.number(),k.number(),k.number()])),commission:k.number(),lastVote:k.number(),rootSlot:k.nullable(k.number())}),CPe=pr(k.type({current:k.array(nne),delinquent:k.array(nne)})),PPe=k.union([k.literal("processed"),k.literal("confirmed"),k.literal("finalized")]),kPe=k.type({slot:k.number(),confirmations:k.nullable(k.number()),err:Um,confirmationStatus:k.optional(PPe)}),BPe=zi(k.array(k.nullable(kPe))),LPe=pr(k.number()),Ane=k.type({accountKey:vi,writableIndexes:k.array(k.number()),readonlyIndexes:k.array(k.number())}),nk=k.type({signatures:k.array(k.string()),message:k.type({accountKeys:k.array(k.string()),header:k.type({numRequiredSignatures:k.number(),numReadonlySignedAccounts:k.number(),numReadonlyUnsignedAccounts:k.number()}),instructions:k.array(k.type({accounts:k.array(k.number()),data:k.string(),programIdIndex:k.number()})),recentBlockhash:k.string(),addressTableLookups:k.optional(k.array(Ane))})}),Rne=k.type({pubkey:vi,signer:k.boolean(),writable:k.boolean(),source:k.optional(k.union([k.literal("transaction"),k.literal("lookupTable")]))}),Tne=k.type({accountKeys:k.array(Rne),signatures:k.array(k.string())}),Ine=k.type({parsed:k.unknown(),program:k.string(),programId:vi}),One=k.type({accounts:k.array(vi),data:k.string(),programId:vi}),DPe=k.union([One,Ine]),UPe=k.union([k.type({parsed:k.unknown(),program:k.string(),programId:k.string()}),k.type({accounts:k.array(k.string()),data:k.string(),programId:k.string()})]),Nne=k.coerce(DPe,UPe,t=>"accounts"in t?k.create(t,One):k.create(t,Ine)),Mne=k.type({signatures:k.array(k.string()),message:k.type({accountKeys:k.array(Rne),instructions:k.array(Nne),recentBlockhash:k.string(),addressTableLookups:k.optional(k.nullable(k.array(Ane)))})}),C6=k.type({accountIndex:k.number(),mint:k.string(),owner:k.optional(k.string()),programId:k.optional(k.string()),uiTokenAmount:VP}),Cne=k.type({writable:k.array(vi),readonly:k.array(vi)}),q6=k.type({err:Um,fee:k.number(),innerInstructions:k.optional(k.nullable(k.array(k.type({index:k.number(),instructions:k.array(k.type({accounts:k.array(k.number()),data:k.string(),programIdIndex:k.number()}))})))),preBalances:k.array(k.number()),postBalances:k.array(k.number()),logMessages:k.optional(k.nullable(k.array(k.string()))),preTokenBalances:k.optional(k.nullable(k.array(C6))),postTokenBalances:k.optional(k.nullable(k.array(C6))),loadedAddresses:k.optional(Cne),computeUnitsConsumed:k.optional(k.number()),costUnits:k.optional(k.number())}),ik=k.type({err:Um,fee:k.number(),innerInstructions:k.optional(k.nullable(k.array(k.type({index:k.number(),instructions:k.array(Nne)})))),preBalances:k.array(k.number()),postBalances:k.array(k.number()),logMessages:k.optional(k.nullable(k.array(k.string()))),preTokenBalances:k.optional(k.nullable(k.array(C6))),postTokenBalances:k.optional(k.nullable(k.array(C6))),loadedAddresses:k.optional(Cne),computeUnitsConsumed:k.optional(k.number()),costUnits:k.optional(k.number())}),C1=k.union([k.literal(0),k.literal("legacy")]),Fm=k.type({pubkey:k.string(),lamports:k.number(),postBalance:k.nullable(k.number()),rewardType:k.nullable(k.string()),commission:k.optional(k.nullable(k.number()))}),FPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:nk,meta:k.nullable(q6),version:k.optional(C1)})),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),qPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),HPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:Tne,meta:k.nullable(q6),version:k.optional(C1)})),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),VPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:Mne,meta:k.nullable(ik),version:k.optional(C1)})),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),jPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:Tne,meta:k.nullable(ik),version:k.optional(C1)})),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),zPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number()),blockHeight:k.nullable(k.number())}))),KPe=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),transactions:k.array(k.type({transaction:nk,meta:k.nullable(q6)})),rewards:k.optional(k.array(Fm)),blockTime:k.nullable(k.number())}))),ine=pr(k.nullable(k.type({blockhash:k.string(),previousBlockhash:k.string(),parentSlot:k.number(),signatures:k.array(k.string()),blockTime:k.nullable(k.number())}))),NP=pr(k.nullable(k.type({slot:k.number(),meta:k.nullable(q6),blockTime:k.optional(k.nullable(k.number())),transaction:nk,version:k.optional(C1)}))),A6=pr(k.nullable(k.type({slot:k.number(),transaction:Mne,meta:k.nullable(ik),blockTime:k.optional(k.nullable(k.number())),version:k.optional(C1)}))),GPe=zi(k.type({blockhash:k.string(),lastValidBlockHeight:k.number()})),$Pe=zi(k.boolean()),WPe=k.type({slot:k.number(),numTransactions:k.number(),numSlots:k.number(),samplePeriodSecs:k.number()}),YPe=pr(k.array(WPe)),XPe=zi(k.nullable(k.type({feeCalculator:k.type({lamportsPerSignature:k.number()})}))),ZPe=pr(k.string()),JPe=pr(k.string()),QPe=k.type({err:Um,logs:k.array(k.string()),signature:k.string()}),eke=k.type({result:F6(QPe),subscription:k.number()}),tke={"solana-client":"js/1.0.0-maintenance"},KP=class{static{o(this,"Connection")}constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let h={};return async g=>{let{commitment:b,config:A}=zn(g),T=this._buildArgs([],b,void 0,A),O=Qre(T);return h[O]=h[O]??(async()=>{try{let N=await this._rpcRequest("getBlockHeight",T),P=k.create(N,pr(k.number()));if("error"in P)throw new kt(P.error,"failed to get block height information");return P.result}finally{delete h[O]}})(),await h[O]}})();let n,i,s,a,f,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,f=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=qCe(e),this._rpcWsEndpoint=n||FCe(e),this._rpcClient=tPe(e,i,s,a,f,l),this._rpcRequest=rPe(this._rpcClient),this._rpcBatchRequest=nPe(this._rpcClient),this._rpcWebSocket=new HP(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),f=k.create(a,zi(k.number()));if("error"in f)throw new kt(f.error,`failed to get balance for ${e.toBase58()}`);return f.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=k.create(r,pr(k.nullable(k.number())));if("error"in n)throw new kt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=k.create(e,pr(k.number()));if("error"in r)throw new kt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=k.create(e,uPe);if("error"in r)throw new kt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=k.create(n,lPe);if("error"in i)throw new kt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=k.create(i,zi(VP));if("error"in s)throw new kt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=k.create(i,zi(VP));if("error"in s)throw new kt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:s}=zn(n),a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});let f=this._buildArgs(a,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",f),h=k.create(l,hPe);if("error"in h)throw new kt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),f=k.create(a,pPe);if("error"in f)throw new kt(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=k.create(i,mPe);if("error"in s)throw new kt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=k.create(i,dPe);if("error"in s)throw new kt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),f=k.create(a,zi(k.nullable(d2)));if("error"in f)throw new kt(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),f=k.create(a,zi(k.nullable(zP)));if("error"in f)throw new kt(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=zn(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"jsonParsed",i),f=await this._rpcRequest("getMultipleAccounts",a),l=k.create(f,zi(k.array(k.nullable(zP))));if("error"in l)throw new kt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=zn(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"base64",i),f=await this._rpcRequest("getMultipleAccounts",a),l=k.create(f,zi(k.array(k.nullable(d2))));if("error"in l)throw new kt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:s}=zn(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),f=await this._rpcRequest("getStakeActivation",a),l=k.create(f,pr(vPe));if("error"in l)throw new kt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=zn(r),{encoding:s,...a}=i||{},f=this._buildArgs([e.toBase58()],n,s||"base64",{...a,...a.filters?{filters:tne(a.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",f),h=k.array(gPe),g=a.withContext===!0?k.create(l,zi(h)):k.create(l,pr(h));if("error"in g)throw new kt(g.error,`failed to get accounts owned by program ${e.toBase58()}`);return g.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),f=k.create(a,pr(k.array(bPe)));if("error"in f)throw new kt(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=rs.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Qr(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1,a=new Promise((l,h)=>{try{n=this.onSignature(r,(b,A)=>{n=void 0;let T={context:A,value:b};l({__type:Cd.PROCESSED,response:T})},e);let g=new Promise(b=>{n==null?b():i=this._onSubscriptionStateChange(n,A=>{A==="subscribed"&&b()})});(async()=>{if(await g,s)return;let b=await this.getSignatureStatus(r);if(s||b==null)return;let{context:A,value:T}=b;if(T!=null)if(T?.err)h(T.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:Cd.PROCESSED,response:{context:A,value:T}})}})()}catch(g){h(g)}});return{abortConfirmation:o(()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},"abortConfirmation"),confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1,a=new Promise(b=>{let A=o(async()=>{try{return await this.getBlockHeight(e)}catch{return-1}},"checkBlockHeight");(async()=>{let T=await A();if(!s){for(;T<=n;)if(await Pm(1e3),s||(T=await A(),s))return;b({__type:Cd.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),h=this.getCancellationPromise(r),g;try{let b=await Promise.race([h,l,a]);if(b.__type===Cd.PROCESSED)g=b.response;else throw new f2(i)}finally{s=!0,f()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let f=!1,l=new Promise(T=>{let O=s,N=null,P=o(async()=>{try{let{context:C,value:D}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return N=C.slot,D?.nonce}catch{return O}},"getCurrentNonceValue");(async()=>{if(O=await P(),!f)for(;;){if(s!==O){T({__type:Cd.NONCE_INVALID,slotInWhichNonceDidAdvance:N});return}if(await Pm(2e3),f||(O=await P(),f))return}})()}),{abortConfirmation:h,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),b=this.getCancellationPromise(r),A;try{let T=await Promise.race([b,g,l]);if(T.__type===Cd.PROCESSED)A=T.response;else{let O;for(;;){let N=await this.getSignatureStatus(a);if(N==null)break;if(N.context.slot<(T.slotInWhichNonceDidAdvance??n)){await Pm(400);continue}O=N;break}if(O?.value){let N=e||"finalized",{confirmationStatus:P}=O.value;switch(N){case"processed":case"recent":if(P!=="processed"&&P!=="confirmed"&&P!=="finalized")throw new u0(a);break;case"confirmed":case"single":case"singleGossip":if(P!=="confirmed"&&P!=="finalized")throw new u0(a);break;case"finalized":case"max":case"root":if(P!=="finalized")throw new u0(a);break;default:}A={context:O.context,value:{err:O.value.err}}}else throw new u0(a)}}finally{f=!0,h()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:Cd.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),f;try{let l=await Promise.race([a,i]);if(l.__type===Cd.PROCESSED)f=l.response;else throw new u2(r,l.timeoutMs/1e3)}finally{clearTimeout(n),s()}return f}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=k.create(e,pr(k.array(MPe)));if("error"in r)throw new kt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=k.create(n,CPe);if("error"in i)throw new kt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=zn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=k.create(s,pr(k.number()));if("error"in a)throw new kt(a.error,"failed to get slot");return a.result}async getSlotLeader(e){let{commitment:r,config:n}=zn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=k.create(s,pr(k.string()));if("error"in a)throw new kt(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=k.create(i,pr(k.array(vi)));if("error"in s)throw new kt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);Qr(i.length===1);let s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),s=k.create(i,BPe);if("error"in s)throw new kt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){let{commitment:r,config:n}=zn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=k.create(s,pr(k.number()));if("error"in a)throw new kt(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=k.create(n,iPe);if("error"in i)throw new kt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:s}=zn(n),a=this._buildArgs([e.map(h=>h.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),f=await this._rpcRequest("getInflationReward",a),l=k.create(f,jCe);if("error"in l)throw new kt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=k.create(e,oPe);if("error"in r)throw new kt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=zn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=k.create(s,aPe);if("error"in a)throw new kt(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=k.create(e,cPe);if("error"in r)throw new kt(r.error,"failed to get epoch schedule");let n=r.result;return new M6(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=k.create(e,fPe);if("error"in r)throw new kt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=k.create(i,LPe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){let{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=k.create(r,YPe);if("error"in n)throw new kt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=k.create(i,XPe);if("error"in s)throw new kt(s.error,"failed to get fee calculator");let{context:a,value:f}=s.result;return{context:a,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(e,r){let n=mr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=k.create(s,zi(k.nullable(k.number())));if("error"in a)throw new kt(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){let r=e?.lockedWritableAccounts?.map(a=>a.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=k.create(i,sPe);if("error"in s)throw new kt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=zn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=k.create(s,GPe);if("error"in a)throw new kt(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),f=k.create(a,$Pe);if("error"in f)throw new kt(f.error,"failed to determine if the blockhash `"+e+"`is valid");return f.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=k.create(e,pr(ZCe));if("error"in r)throw new kt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=k.create(e,pr(k.string()));if("error"in r)throw new kt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let f=k.create(a,HPe);if("error"in f)throw f.error;return f.result}case"none":{let f=k.create(a,qPe);if("error"in f)throw f.error;return f.result}default:{let f=k.create(a,FPe);if("error"in f)throw f.error;let{result:l}=f;return l?{...l,transactions:l.transactions.map(({transaction:h,meta:g,version:b})=>({meta:g,transaction:{...h,message:OP(b,h.message)},version:b}))}:null}}}catch(f){throw new kt(f,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let f=k.create(a,jPe);if("error"in f)throw f.error;return f.result}case"none":{let f=k.create(a,zPe);if("error"in f)throw f.error;return f.result}default:{let f=k.create(a,VPe);if("error"in f)throw f.error;return f.result}}}catch(f){throw new kt(f,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:f,...l}=e;n=f,r=l}let i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=k.create(s,ePe);if("error"in a)throw new kt(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),f=k.create(a,NP);if("error"in f)throw new kt(f.error,"failed to get transaction");let l=f.result;return l&&{...l,transaction:{...l.transaction,message:OP(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=zn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),f=k.create(a,A6);if("error"in f)throw new kt(f.error,"failed to get transaction");return f.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=zn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=k.create(l,A6);if("error"in h)throw new kt(h.error,"failed to get transactions");return h.result})}async getTransactions(e,r){let{commitment:n,config:i}=zn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=k.create(l,NP);if("error"in h)throw new kt(h.error,"failed to get transactions");let g=h.result;return g&&{...g,transaction:{...g.transaction,message:OP(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=k.create(i,KPe);if("error"in s)throw new kt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");let f={...a,transactions:a.transactions.map(({transaction:l,meta:h})=>{let g=new xl(l.message);return{meta:h,transaction:{...l,message:g}}})};return{...f,transactions:f.transactions.map(({transaction:l,meta:h})=>({meta:h,transaction:vn.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=k.create(s,pr(k.array(k.number())));if("error"in a)throw new kt(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=k.create(i,ine);if("error"in s)throw new kt(s.error,"failed to get block");let a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=k.create(i,ine);if("error"in s)throw new kt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=k.create(i,NP);if("error"in s)throw new kt(s.error,"failed to get transaction");let a=s.result;if(!a)return a;let f=new xl(a.transaction.message),l=a.transaction.signatures;return{...a,transaction:vn.populate(f,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=k.create(i,A6);if("error"in s)throw new kt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){let n=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(a=>{let f=k.create(a,A6);if("error"in f)throw new kt(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let a=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>a));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=k.create(s,xPe);if("error"in a)throw new kt(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=k.create(s,_Pe);if("error"in a)throw new kt(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=new l2({key:e,state:l2.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=N6.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=k.create(n,ZPe);if("error"in i)throw new kt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Pm(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Ene;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Pm(vne/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=zn(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=k.create(s,zi(k.number()));if("error"in a)throw new kt(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){let N=e.serialize(),P=Kt.Buffer.from(N).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let C=r||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(C.innerInstructions=r.innerInstructions);let D=[P,C],M=await this._rpcRequest("simulateTransaction",D),U=k.create(M,rne);if("error"in U)throw new Error("failed to simulate transaction: "+U.error.message);return U.result}let i;if(e instanceof vn){let O=e;i=new vn,i.feePayer=O.feePayer,i.instructions=e.instructions,i.nonceInfo=O.nonceInfo,i.signatures=O.signatures}else i=vn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let s=r;if(i.nonceInfo&&s)i.sign(...s);else{let O=this._disableBlockhashCaching;for(;;){let N=await this._blockhashWithExpiryBlockHeight(O);if(i.lastValidBlockHeight=N.lastValidBlockHeight,i.recentBlockhash=N.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");let P=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(P)&&!this._blockhashInfo.transactionSignatures.includes(P)){this._blockhashInfo.simulatedSignatures.push(P);break}else O=!0}}let a=i._compile(),f=a.serialize(),h=i._serialize(f).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(n){let O=(Array.isArray(n)?n:a.nonProgramIds()).map(N=>N.toBase58());g.accounts={encoding:"base64",addresses:O}}s&&(g.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(g.innerInstructions=r.innerInstructions);let b=[h,g],A=await this._rpcRequest("simulateTransaction",b),T=k.create(A,rne);if("error"in T){let O;if("data"in T.error&&(O=T.error.data.logs,O&&Array.isArray(O))){let N=`
    `,P=N+O.join(N);console.error(T.error.message,P)}throw new Lm({action:"simulate",signature:"",transactionMessage:T.error.message,logs:O})}return T.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let a=e.serialize();return await this.sendRawTransaction(a,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let a=this._disableBlockhashCaching;for(;;){let f=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=f.lastValidBlockHeight,e.recentBlockhash=f.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))a=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){let n=mr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);let a=[e,n],f=await this._rpcRequest("sendTransaction",a),l=k.create(f,JPe);if("error"in l){let h;throw"data"in l.error&&(h=l.error.data.logs),new Lm({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:h})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=o(()=>e===this._rpcWebSocketGeneration,"isCurrentConnectionStillActive");await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:s,method:a}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let f=await this._rpcWebSocket.call(a,s);this._setSubscription(n,{...i,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=i.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:s,error:f}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:s,unsubscribeMethod:a}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[s])}catch(f){if(f instanceof Error&&console.error(`${a} error:`,f.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=k.create(e,wPe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=Qre([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let a=this._subscriptionsByHash[i];Qr(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let{commitment:i,config:s}=zn(n),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=k.create(e,SPe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let{commitment:s,config:a}=zn(n),f=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",a||(i?{filters:tne(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=k.create(e,eke);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=k.create(e,RPe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=k.create(e,IPe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let s=r||this._commitment;if(s||n||i){let a={};n&&(a.encoding=n),s&&(a.commitment=s),i&&(a=Object.assign(a,i)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=k.create(e,OPe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:o((a,f)=>{if(a.type==="status"){r(a.result,f);try{this.removeSignatureListener(s)}catch{}}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){let{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),f=this._makeSubscription({callback:o((l,h)=>{r(l,h);try{this.removeSignatureListener(f)}catch{}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return f}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=k.create(e,NPe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},P6=class t{static{o(this,"Keypair")}constructor(e){this._keypair=void 0,this._keypair=e??Yre()}static generate(){return new t(Yre())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),s=I6(i);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=I6(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ht(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Pd=Object.freeze({CreateLookupTable:{index:0,layout:oe.struct([oe.u32("instruction"),T1("recentSlot"),oe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe.struct([oe.u32("instruction")])},ExtendLookupTable:{index:2,layout:oe.struct([oe.u32("instruction"),T1(),oe.seq(Ar(),oe.offset(oe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe.struct([oe.u32("instruction")])},CloseLookupTable:{index:4,layout:oe.struct([oe.u32("instruction")])}}),GP=class{static{o(this,"AddressLookupTableInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Pd))if(a.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=bn(Pd.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=bn(Pd.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ht(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(h2.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},h2=class{static{o(this,"AddressLookupTableProgram")}constructor(){}static createLookupTable(e){let[r,n]=ht.findProgramAddressSync([e.authority.toBuffer(),pne.getU64Encoder().encode(e.recentSlot)],this.programId),i=Pd.CreateLookupTable,s=Vr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ns.programId,isSigner:!1,isWritable:!1}];return[new wn({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){let r=Pd.FreezeLookupTable,n=Vr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new wn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Pd.ExtendLookupTable,n=Vr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ns.programId,isSigner:!1,isWritable:!1}),new wn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Pd.DeactivateLookupTable,n=Vr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new wn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Pd.CloseLookupTable,n=Vr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new wn({programId:this.programId,keys:i,data:n})}};h2.programId=new ht("AddressLookupTab1e1111111111111111111111111");var $P=class{static{o(this,"ComputeBudgetInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u8("instruction").decode(e.data),i;for(let[s,a]of Object.entries(yl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=bn(yl.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=bn(yl.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=bn(yl.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=bn(yl.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(p2.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},yl=Object.freeze({RequestUnits:{index:0,layout:oe.struct([oe.u8("instruction"),oe.u32("units"),oe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:oe.struct([oe.u8("instruction"),oe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:oe.struct([oe.u8("instruction"),oe.u32("units")])},SetComputeUnitPrice:{index:3,layout:oe.struct([oe.u8("instruction"),T1("microLamports")])}}),p2=class{static{o(this,"ComputeBudgetProgram")}constructor(){}static requestUnits(e){let r=yl.RequestUnits,n=Vr(r,e);return new wn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=yl.RequestHeapFrame,n=Vr(r,e);return new wn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=yl.SetComputeUnitLimit,n=Vr(r,e);return new wn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=yl.SetComputeUnitPrice,n=Vr(r,{microLamports:BigInt(e.microLamports)});return new wn({keys:[],programId:this.programId,data:n})}};p2.programId=new ht("ComputeBudget111111111111111111111111111111");var one=64,sne=32,ane=64,cne=oe.struct([oe.u8("numSignatures"),oe.u8("padding"),oe.u16("signatureOffset"),oe.u16("signatureInstructionIndex"),oe.u16("publicKeyOffset"),oe.u16("publicKeyInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u16("messageInstructionIndex")]),k6=class t{static{o(this,"Ed25519Program")}constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Qr(r.length===sne,`Public Key must be ${sne} bytes but received ${r.length} bytes`),Qr(i.length===ane,`Signature must be ${ane} bytes but received ${i.length} bytes`);let a=cne.span,f=a+r.length,l=f+i.length,h=1,g=Kt.Buffer.alloc(l+n.length),b=s??65535;return cne.encode({numSignatures:h,padding:0,signatureOffset:f,signatureInstructionIndex:b,publicKeyOffset:a,publicKeyInstructionIndex:b,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:b},g),g.fill(r,a),g.fill(i,f),g.fill(n,l),new wn({keys:[],programId:t.programId,data:g})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Qr(r.length===one,`Private key must be ${one} bytes but received ${r.length} bytes`);try{let s=P6.fromSecretKey(r),a=s.publicKey.toBytes(),f=ek(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};k6.programId=new ht("Ed25519SigVerify111111111111111111111111111");var rke=o((t,e)=>{let r=JP.secp256k1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]},"ecdsaSign");JP.secp256k1.utils.isValidPrivateKey;var nke=JP.secp256k1.getPublicKey,fne=32,MP=20,une=64,ike=11,CP=oe.struct([oe.u8("numSignatures"),oe.u16("signatureOffset"),oe.u8("signatureInstructionIndex"),oe.u16("ethAddressOffset"),oe.u8("ethAddressInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u8("messageInstructionIndex"),oe.blob(20,"ethAddress"),oe.blob(64,"signature"),oe.u8("recoveryId")]),B6=class t{static{o(this,"Secp256k1Program")}constructor(){}static publicKeyToEthAddress(e){Qr(e.length===une,`Public key must be ${une} bytes but received ${e.length} bytes`);try{return Kt.Buffer.from($re.keccak_256(mr(e))).slice(-MP)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e,f;typeof r=="string"?r.startsWith("0x")?f=Kt.Buffer.from(r.substr(2),"hex"):f=Kt.Buffer.from(r,"hex"):f=r,Qr(f.length===MP,`Address must be ${MP} bytes but received ${f.length} bytes`);let l=1+ike,h=l,g=l+f.length,b=g+i.length+1,A=1,T=Kt.Buffer.alloc(CP.span+n.length);return CP.encode({numSignatures:A,signatureOffset:g,signatureInstructionIndex:a,ethAddressOffset:h,ethAddressInstructionIndex:a,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:a,signature:mr(i),ethAddress:mr(f),recoveryId:s},T),T.fill(mr(n),CP.span),new wn({keys:[],programId:t.programId,data:T})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Qr(r.length===fne,`Private key must be ${fne} bytes but received ${r.length} bytes`);try{let s=mr(r),a=nke(s,!1).slice(1),f=Kt.Buffer.from($re.keccak_256(mr(n))),[l,h]=rke(f,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:l,recoveryId:h,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};B6.programId=new ht("KeccakSecp256k11111111111111111111111111111");var Pne,kne=new ht("StakeConfig11111111111111111111111111111111"),L6=class{static{o(this,"Authorized")}constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},Dm=class{static{o(this,"Lockup")}constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Pne=Dm;Dm.default=new Pne(0,0,ht.default);var WP=class{static{o(this,"StakeInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Co))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=bn(Co.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new L6(new ht(r.staker),new ht(r.withdrawer)),lockup:new Dm(n.unixTimestamp,n.epoch,new ht(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),bn(Co.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=bn(Co.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=bn(Co.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ht(s),newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=bn(Co.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),bn(Co.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=bn(Co.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),bn(Co.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(O1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Co=Object.freeze({Initialize:{index:0,layout:oe.struct([oe.u32("instruction"),mCe(),gCe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Ar("newAuthorized"),oe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:oe.struct([oe.u32("instruction")])},Split:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Withdraw:{index:4,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Deactivate:{index:5,layout:oe.struct([oe.u32("instruction")])},Merge:{index:7,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:oe.struct([oe.u32("instruction"),Ar("newAuthorized"),oe.u32("stakeAuthorizationType"),km("authoritySeed"),Ar("authorityOwner")])}}),oke=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),O1=class{static{o(this,"StakeProgram")}constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Dm.default,a=Co.Initialize,f=Vr(a,{authorized:{staker:mr(n.staker.toBuffer()),withdrawer:mr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:mr(s.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:R1,isSigner:!1,isWritable:!1}],programId:this.programId,data:f};return new wn(l)}static createAccountWithSeed(e){let r=new vn;r.add(ns.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){let r=new vn;r.add(ns.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=Co.Delegate,a=Vr(s);return new vn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:T6,isSigner:!1,isWritable:!1},{pubkey:kne,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,f=Co.Authorize,l=Vr(f,{newAuthorized:mr(i.toBuffer()),stakeAuthorizationType:s.index}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ml,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new vn().add({keys:h,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:f,custodianPubkey:l}=e,h=Co.AuthorizeWithSeed,g=Vr(h,{newAuthorized:mr(a.toBuffer()),stakeAuthorizationType:f.index,authoritySeed:i,authorityOwner:mr(s.toBuffer())}),b=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:ml,isSigner:!1,isWritable:!1}];return l&&b.push({pubkey:l,isSigner:!0,isWritable:!1}),new vn().add({keys:b,programId:this.programId,data:g})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=Co.Split,f=Vr(a,{lamports:s});return new wn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static split(e,r){let n=new vn;return n.add(ns.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:f,lamports:l}=e,h=new vn;return h.add(ns.allocate({accountPubkey:s,basePubkey:a,seed:f,space:this.space,programId:this.programId})),r&&r>0&&h.add(ns.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Co.Merge,a=Vr(s);return new vn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:T6,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,f=Co.Withdraw,l=Vr(f,{lamports:s}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:T6,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new vn().add({keys:h,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Co.Deactivate,s=Vr(i);return new vn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};O1.programId=new ht("Stake11111111111111111111111111111111111111");O1.space=200;var D6=class{static{o(this,"VoteInit")}constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},YP=class{static{o(this,"VoteInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(bl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=bn(bl.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new D6(new ht(r.nodePubkey),new ht(r.authorizedVoter),new ht(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=bn(bl.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=bn(bl.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ht(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ht(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=bn(bl.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(N1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},bl=Object.freeze({InitializeAccount:{index:0,layout:oe.struct([oe.u32("instruction"),yCe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Ar("newAuthorized"),oe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),bCe()])}}),ske=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),N1=class t{static{o(this,"VoteProgram")}constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=bl.InitializeAccount,a=Vr(s,{voteInit:{nodePubkey:mr(i.nodePubkey.toBuffer()),authorizedVoter:mr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:mr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),f={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:R1,isSigner:!1,isWritable:!1},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new wn(f)}static createAccount(e){let r=new vn;return r.add(ns.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=bl.Authorize,f=Vr(a,{newAuthorized:mr(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new vn().add({keys:l,programId:this.programId,data:f})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:f}=e,l=bl.AuthorizeWithSeed,h=Vr(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:mr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:mr(s.toBuffer()),voteAuthorizationType:a.index}}),g=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:ml,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new vn().add({keys:g,programId:this.programId,data:h})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=bl.Withdraw,f=Vr(a,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new vn().add({keys:l,programId:this.programId,data:f})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=bl.UpdateValidatorIdentity,a=Vr(s),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new vn().add({keys:f,programId:this.programId,data:a})}};N1.programId=new ht("Vote111111111111111111111111111111111111111");N1.space=3762;var Bne=new ht("Va1idator1nfo111111111111111111111111111111"),ake=k.type({name:k.string(),website:k.optional(k.string()),details:k.optional(k.string()),iconUrl:k.optional(k.string()),keybaseUsername:k.optional(k.string())}),XP=class t{static{o(this,"ValidatorInfo")}constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Ba(r)!==2)return null;let i=[];for(let s=0;s<2;s++){let a=new ht(La(r,0,vl)),f=gl(r)===1;i.push({publicKey:a,isSigner:f})}if(i[0].publicKey.equals(Bne)&&i[1].isSigner){let s=km().decode(Kt.Buffer.from(r)),a=JSON.parse(s);return k.assert(a,ake),new t(i[1].publicKey,a)}return null}},cke=new ht("Vote111111111111111111111111111111111111111"),fke=oe.struct([Ar("nodePubkey"),Ar("authorizedWithdrawer"),oe.u8("commission"),oe.nu64(),oe.seq(oe.struct([oe.nu64("slot"),oe.u32("confirmationCount")]),oe.offset(oe.u32(),-8),"votes"),oe.u8("rootSlotValid"),oe.nu64("rootSlot"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),Ar("authorizedVoter")]),oe.offset(oe.u32(),-8),"authorizedVoters"),oe.struct([oe.seq(oe.struct([Ar("authorizedPubkey"),oe.nu64("epochOfLastAuthorizedSwitch"),oe.nu64("targetEpoch")]),32,"buf"),oe.nu64("idx"),oe.u8("isEmpty")],"priorVoters"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),oe.nu64("credits"),oe.nu64("prevCredits")]),oe.offset(oe.u32(),-8),"epochCredits"),oe.struct([oe.nu64("slot"),oe.nu64("timestamp")],"lastTimestamp")]),ZP=class t{static{o(this,"VoteAccount")}constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=fke.decode(mr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ht(n.nodePubkey),authorizedWithdrawer:new ht(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(uke),priorVoters:lke(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function uke({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ht(t)}}o(uke,"parseAuthorizedVoter");function lne({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ht(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}o(lne,"parsePriorVoters");function lke({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(lne),...t.slice(0,e).map(lne)]}o(lke,"getPriorVoters");var dne={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function dke(t,e){let r=e===!1?"http":"https";if(!t)return dne[r].devnet;let n=dne[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}o(dke,"clusterApiUrl");async function hke(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;let a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},f=await t.sendRawTransaction(e,a),l=s&&s.commitment,g=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(f,l))).value;if(g.err)throw f!=null?new Lm({action:a?.skipPreflight?"send":"simulate",signature:f,transactionMessage:`Status: (${JSON.stringify(g)})`}):new Error(`Raw transaction ${f} failed (${JSON.stringify(g)})`);return f}o(hke,"sendAndConfirmRawTransaction");var pke=1e9;pt.Account=kP;pt.AddressLookupTableAccount=l2;pt.AddressLookupTableInstruction=GP;pt.AddressLookupTableProgram=h2;pt.Authorized=L6;pt.BLOCKHASH_CACHE_TIMEOUT_MS=Ene;pt.BPF_LOADER_DEPRECATED_PROGRAM_ID=hCe;pt.BPF_LOADER_PROGRAM_ID=NCe;pt.BpfLoader=qP;pt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=yl;pt.ComputeBudgetInstruction=$P;pt.ComputeBudgetProgram=p2;pt.Connection=KP;pt.Ed25519Program=k6;pt.Enum=PP;pt.EpochSchedule=M6;pt.FeeCalculatorLayout=xne;pt.Keypair=P6;pt.LAMPORTS_PER_SOL=pke;pt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Pd;pt.Loader=I1;pt.Lockup=Dm;pt.MAX_SEED_LENGTH=gne;pt.Message=xl;pt.MessageAccountKeys=Bm;pt.MessageV0=A1;pt.NONCE_ACCOUNT_LENGTH=UP;pt.NonceAccount=N6;pt.PACKET_DATA_SIZE=l0;pt.PUBLIC_KEY_LENGTH=vl;pt.PublicKey=ht;pt.SIGNATURE_LENGTH_IN_BYTES=c2;pt.SOLANA_SCHEMA=s2;pt.STAKE_CONFIG_ID=kne;pt.STAKE_INSTRUCTION_LAYOUTS=Co;pt.SYSTEM_INSTRUCTION_LAYOUTS=Kn;pt.SYSVAR_CLOCK_PUBKEY=ml;pt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=ECe;pt.SYSVAR_INSTRUCTIONS_PUBKEY=SCe;pt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=R6;pt.SYSVAR_RENT_PUBKEY=R1;pt.SYSVAR_REWARDS_PUBKEY=ACe;pt.SYSVAR_SLOT_HASHES_PUBKEY=RCe;pt.SYSVAR_SLOT_HISTORY_PUBKEY=TCe;pt.SYSVAR_STAKE_HISTORY_PUBKEY=T6;pt.Secp256k1Program=B6;pt.SendTransactionError=Lm;pt.SolanaJSONRPCError=kt;pt.SolanaJSONRPCErrorCode=ICe;pt.StakeAuthorizationLayout=oke;pt.StakeInstruction=WP;pt.StakeProgram=O1;pt.Struct=a2;pt.SystemInstruction=FP;pt.SystemProgram=ns;pt.Transaction=vn;pt.TransactionExpiredBlockheightExceededError=f2;pt.TransactionExpiredNonceInvalidError=u0;pt.TransactionExpiredTimeoutError=u2;pt.TransactionInstruction=wn;pt.TransactionMessage=BP;pt.TransactionStatus=Cd;pt.VALIDATOR_INFO_KEY=Bne;pt.VERSION_PREFIX_MASK=U6;pt.VOTE_PROGRAM_ID=cke;pt.ValidatorInfo=XP;pt.VersionedMessage=tk;pt.VersionedTransaction=LP;pt.VoteAccount=ZP;pt.VoteAuthorizationLayout=ske;pt.VoteInit=D6;pt.VoteInstruction=YP;pt.VoteProgram=N1;pt.clusterApiUrl=dke;pt.sendAndConfirmRawTransaction=hke;pt.sendAndConfirmTransaction=DP});var tie=q(Ie=>{"use strict";p();m();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.s16=Ie.s8=Ie.nu64be=Ie.u48be=Ie.u40be=Ie.u32be=Ie.u24be=Ie.u16be=Ie.nu64=Ie.u48=Ie.u40=Ie.u32=Ie.u24=Ie.u16=Ie.u8=Ie.offset=Ie.greedy=Ie.Constant=Ie.UTF8=Ie.CString=Ie.Blob=Ie.Boolean=Ie.BitField=Ie.BitStructure=Ie.VariantLayout=Ie.Union=Ie.UnionLayoutDiscriminator=Ie.UnionDiscriminator=Ie.Structure=Ie.Sequence=Ie.DoubleBE=Ie.Double=Ie.FloatBE=Ie.Float=Ie.NearInt64BE=Ie.NearInt64=Ie.NearUInt64BE=Ie.NearUInt64=Ie.IntBE=Ie.Int=Ie.UIntBE=Ie.UInt=Ie.OffsetLayout=Ie.GreedyCount=Ie.ExternalLayout=Ie.bindConstructorLayout=Ie.nameWithProperty=Ie.Layout=Ie.uint8ArrayToBuffer=Ie.checkUint8Array=void 0;Ie.constant=Ie.utf8=Ie.cstr=Ie.blob=Ie.unionLayoutDiscriminator=Ie.union=Ie.seq=Ie.bits=Ie.struct=Ie.f64be=Ie.f64=Ie.f32be=Ie.f32=Ie.ns64be=Ie.s48be=Ie.s40be=Ie.s32be=Ie.s24be=Ie.s16be=Ie.ns64=Ie.s48=Ie.s40=Ie.s32=Ie.s24=void 0;var hk=ci();function L1(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(L1,"checkUint8Array");Ie.checkUint8Array=L1;function en(t){return L1(t),hk.Buffer.from(t.buffer,t.byteOffset,t.length)}o(en,"uint8ArrayToBuffer");Ie.uint8ArrayToBuffer=en;var dn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Ie.Layout=dn;function pk(t,e){return e.property?t+"["+e.property+"]":t}o(pk,"nameWithProperty");Ie.nameWithProperty=pk;function yke(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof dn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(yke,"bindConstructorLayout");Ie.bindConstructorLayout=yke;var Ps=class extends dn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Ie.ExternalLayout=Ps;var z6=class extends Ps{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){L1(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Ie.GreedyCount=z6;var m2=class extends Ps{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof dn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Da||this.layout instanceof bc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Ie.OffsetLayout=m2;var Da=class extends dn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return en(e).readUIntLE(r,this.span)}encode(e,r,n=0){return en(r).writeUIntLE(e,n,this.span),this.span}};Ie.UInt=Da;var bc=class extends dn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return en(e).readUIntBE(r,this.span)}encode(e,r,n=0){return en(r).writeUIntBE(e,n,this.span),this.span}};Ie.UIntBE=bc;var Bd=class extends dn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return en(e).readIntLE(r,this.span)}encode(e,r,n=0){return en(r).writeIntLE(e,n,this.span),this.span}};Ie.Int=Bd;var d0=class extends dn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return en(e).readIntBE(r,this.span)}encode(e,r,n=0){return en(r).writeIntBE(e,n,this.span),this.span}};Ie.IntBE=d0;var dk=Math.pow(2,32);function a4(t){let e=Math.floor(t/dk),r=t-e*dk;return{hi32:e,lo32:r}}o(a4,"divmodInt64");function c4(t,e){return t*dk+e}o(c4,"roundedInt64");var K6=class extends dn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=en(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return c4(s,i)}encode(e,r,n=0){let i=a4(e),s=en(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Ie.NearUInt64=K6;var G6=class extends dn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=en(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return c4(i,s)}encode(e,r,n=0){let i=a4(e),s=en(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearUInt64BE=G6;var $6=class extends dn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=en(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return c4(s,i)}encode(e,r,n=0){let i=a4(e),s=en(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Ie.NearInt64=$6;var W6=class extends dn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=en(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return c4(i,s)}encode(e,r,n=0){let i=a4(e),s=en(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearInt64BE=W6;var Y6=class extends dn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return en(e).readFloatLE(r)}encode(e,r,n=0){return en(r).writeFloatLE(e,n),4}};Ie.Float=Y6;var X6=class extends dn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return en(e).readFloatBE(r)}encode(e,r,n=0){return en(r).writeFloatBE(e,n),4}};Ie.FloatBE=X6;var Z6=class extends dn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return en(e).readDoubleLE(r)}encode(e,r,n=0){return en(r).writeDoubleLE(e,n),8}};Ie.Double=Z6;var J6=class extends dn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return en(e).readDoubleBE(r)}encode(e,r,n=0){return en(r).writeDoubleBE(e,n),8}};Ie.DoubleBE=J6;var Q6=class extends dn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof dn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Ps&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Ps)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Ps&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof Ps&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,f)=>a+i.encode(f,r,n+a),0);return this.count instanceof Ps&&this.count.encode(e.length,r,n),s}};Ie.Sequence=Q6;var e4=class extends dn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof dn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){L1(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let f of this.fields){let l=f.span;if(a=0<l?l:0,f.property!==void 0){let h=e[f.property];h!==void 0&&(a=f.encode(h,r,n),0>l&&(l=f.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Ie.Structure=e4;var g2=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Ie.UnionDiscriminator=g2;var B1=class extends g2{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof Ps&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Ie.UnionLayoutDiscriminator=B1;var y2=class extends dn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof Da||e instanceof bc)i=new B1(new m2(e));else if(e instanceof Ps&&e.isCount())i=new B1(e);else if(e instanceof g2)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof dn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof Da||e instanceof bc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Da||e instanceof bc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return a(f)},this.configGetSourceVariant=function(f){a=f.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let f=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[f.property]=f.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=s.layout.span),s.encode(e[s.property],r,n),f+a.encode(e[a.property],r,n+f)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new t4(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Ie.Union=y2;var t4=class extends dn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof y2))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof dn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Ie.VariantLayout=t4;function k1(t){return 0>t&&(t+=4294967296),t}o(k1,"fixBitwiseResult");var b2=class extends dn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof Da||e instanceof bc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=k1(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new v2(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new r4(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Ie.BitStructure=b2;var v2=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof b2))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,f)=>a+f.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=k1(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return k1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==k1(e&this.valueMask))throw new TypeError(pk("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=k1(e<<this.start);this.container._packedSetValue(k1(r&~this.wordMask)|n)}};Ie.BitField=v2;var r4=class extends v2{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ie.Boolean=r4;var n4=class extends dn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof Ps&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ps||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),en(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ps&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(pk("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=en(e);return en(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Ps&&this.length.encode(i,r,n),i}};Ie.Blob=n4;var i4=class extends dn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){L1(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return en(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=hk.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=en(r);return i.copy(a,n),a[n+s]=0,s+1}};Ie.CString=i4;var o4=class extends dn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return L1(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return en(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=hk.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(en(r),n),s}};Ie.UTF8=o4;var s4=class extends dn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Ie.Constant=s4;Ie.greedy=(t,e)=>new z6(t,e);Ie.offset=(t,e,r)=>new m2(t,e,r);Ie.u8=t=>new Da(1,t);Ie.u16=t=>new Da(2,t);Ie.u24=t=>new Da(3,t);Ie.u32=t=>new Da(4,t);Ie.u40=t=>new Da(5,t);Ie.u48=t=>new Da(6,t);Ie.nu64=t=>new K6(t);Ie.u16be=t=>new bc(2,t);Ie.u24be=t=>new bc(3,t);Ie.u32be=t=>new bc(4,t);Ie.u40be=t=>new bc(5,t);Ie.u48be=t=>new bc(6,t);Ie.nu64be=t=>new G6(t);Ie.s8=t=>new Bd(1,t);Ie.s16=t=>new Bd(2,t);Ie.s24=t=>new Bd(3,t);Ie.s32=t=>new Bd(4,t);Ie.s40=t=>new Bd(5,t);Ie.s48=t=>new Bd(6,t);Ie.ns64=t=>new $6(t);Ie.s16be=t=>new d0(2,t);Ie.s24be=t=>new d0(3,t);Ie.s32be=t=>new d0(4,t);Ie.s40be=t=>new d0(5,t);Ie.s48be=t=>new d0(6,t);Ie.ns64be=t=>new W6(t);Ie.f32=t=>new Y6(t);Ie.f32be=t=>new X6(t);Ie.f64=t=>new Z6(t);Ie.f64be=t=>new J6(t);Ie.struct=(t,e,r)=>new e4(t,e,r);Ie.bits=(t,e,r)=>new b2(t,e,r);Ie.seq=(t,e,r)=>new Q6(t,e,r);Ie.union=(t,e,r)=>new y2(t,e,r);Ie.unionLayoutDiscriminator=(t,e)=>new B1(t,e);Ie.blob=(t,e)=>new n4(t,e);Ie.cstr=t=>new i4(t);Ie.utf8=(t,e)=>new o4(t,e);Ie.constant=(t,e)=>new s4(t,e)});var jm=q((S4t,_k)=>{"use strict";p();m();var xk=65536,_ke=4294967295;function wke(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}o(wke,"oldBrowser");var Eke=or().Buffer,l4=self.crypto||self.msCrypto;l4&&l4.getRandomValues?_k.exports=Ske:_k.exports=wke;function Ske(t,e){if(t>_ke)throw new RangeError("requested too many random bytes");var r=Eke.allocUnsafe(t);if(t>0)if(t>xk)for(var n=0;n<t;n+=xk)l4.getRandomValues(r.slice(n,n+xk));else l4.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}o(Ske,"randomBytes")});var Gt=q((I4t,wk)=>{p();m();typeof Object.create=="function"?wk.exports=o(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):wk.exports=o(function(e,r){if(r){e.super_=r;var n=o(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")});var Ek=q((C4t,iie)=>{p();m();iie.exports=T_().EventEmitter});var _2=q(()=>{p();m()});var cie=q((F4t,aie)=>{"use strict";p();m();function oie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(oie,"ownKeys");function Ake(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oie(Object(r),!0).forEach(function(n){Rke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(Ake,"_objectSpread");function Rke(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Rke,"_defineProperty");function Tke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Tke,"_classCallCheck");function sie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(sie,"_defineProperties");function Ike(t,e,r){return e&&sie(t.prototype,e),r&&sie(t,r),t}o(Ike,"_createClass");var Oke=ci(),d4=Oke.Buffer,Nke=_2(),Sk=Nke.inspect,Mke=Sk&&Sk.custom||"inspect";function Cke(t,e,r){d4.prototype.copy.call(t,e,r)}o(Cke,"copyBuffer");aie.exports=function(){function t(){Tke(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),Ike(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return d4.alloc(0);for(var n=d4.allocUnsafe(r>>>0),i=this.head,s=0;i;)Cke(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,f=r>a.length?a.length:r;if(f===a.length?s+=a:s+=a.slice(0,r),r-=f,r===0){f===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(f));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=d4.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,f=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,f),r-=f,r===0){f===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(f));break}++s}return this.length-=s,n},"_getBuffer")},{key:Mke,value:o(function(r,n){return Sk(this,Ake({},n,{depth:0,customInspect:!1}))},"value")}]),t}()});var Rk=q((j4t,uie)=>{"use strict";p();m();function Pke(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ak,this,t)):process.nextTick(Ak,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(h4,r):(r._writableState.errorEmitted=!0,process.nextTick(fie,r,s)):process.nextTick(fie,r,s):e?(process.nextTick(h4,r),e(s)):process.nextTick(h4,r)}),this)}o(Pke,"destroy");function fie(t,e){Ak(t,e),h4(t)}o(fie,"emitErrorAndCloseNT");function h4(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(h4,"emitCloseNT");function kke(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(kke,"undestroy");function Ak(t,e){t.emit("error",e)}o(Ak,"emitErrorNT");function Bke(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(Bke,"errorOrDestroy");uie.exports={destroy:Pke,undestroy:kke,errorOrDestroy:Bke}});var zm=q(($4t,hie)=>{"use strict";p();m();function Lke(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(Lke,"_inheritsLoose");var die={};function tf(t,e,r){r||(r=Error);function n(s,a,f){return typeof e=="string"?e:e(s,a,f)}o(n,"getMessage");var i=function(s){Lke(a,s);function a(f,l,h){return s.call(this,n(f,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,die[t]=i}o(tf,"createErrorType");function lie(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(lie,"oneOf");function Dke(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(Dke,"startsWith");function Uke(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(Uke,"endsWith");function Fke(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(Fke,"includes");tf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);tf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Dke(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Uke(t," argument"))i="The ".concat(t," ").concat(n," ").concat(lie(e,"type"));else{var s=Fke(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(lie(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);tf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");tf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});tf("ERR_STREAM_PREMATURE_CLOSE","Premature close");tf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});tf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");tf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");tf("ERR_STREAM_WRITE_AFTER_END","write after end");tf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);tf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);tf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");hie.exports.codes=die});var Tk=q((Z4t,pie)=>{"use strict";p();m();var qke=zm().codes.ERR_INVALID_OPT_VALUE;function Hke(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(Hke,"highWaterMarkFrom");function Vke(t,e,r,n){var i=Hke(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new qke(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(Vke,"getHighWaterMark");pie.exports={getHighWaterMark:Vke}});var Ok=q((t8t,mie)=>{p();m();mie.exports=jke;function jke(t,e){if(Ik("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ik("throwDeprecation"))throw new Error(e);Ik("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n}o(jke,"deprecate");function Ik(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}o(Ik,"config")});var g4=q((o8t,_ie)=>{"use strict";p();m();_ie.exports=ki;function yie(t){var e=this;this.next=null,this.entry=null,this.finish=function(){gBe(e,t)}}o(yie,"CorkedRequest");var U1;ki.WritableState=E2;var zke={deprecate:Ok()},bie=Ek(),m4=ci().Buffer,Kke=self.Uint8Array||function(){};function Gke(t){return m4.from(t)}o(Gke,"_uint8ArrayToBuffer");function $ke(t){return m4.isBuffer(t)||t instanceof Kke}o($ke,"_isUint8Array");var Mk=Rk(),Wke=Tk(),Yke=Wke.getHighWaterMark,g0=zm().codes,Xke=g0.ERR_INVALID_ARG_TYPE,Zke=g0.ERR_METHOD_NOT_IMPLEMENTED,Jke=g0.ERR_MULTIPLE_CALLBACK,Qke=g0.ERR_STREAM_CANNOT_PIPE,eBe=g0.ERR_STREAM_DESTROYED,tBe=g0.ERR_STREAM_NULL_VALUES,rBe=g0.ERR_STREAM_WRITE_AFTER_END,nBe=g0.ERR_UNKNOWN_ENCODING,F1=Mk.errorOrDestroy;Gt()(ki,bie);function iBe(){}o(iBe,"nop");function E2(t,e,r){U1=U1||y0(),t=t||{},typeof r!="boolean"&&(r=e instanceof U1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Yke(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){lBe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new yie(this)}o(E2,"WritableState");E2.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(E2.prototype,"buffer",{get:zke.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var p4;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p4=Function.prototype[Symbol.hasInstance],Object.defineProperty(ki,Symbol.hasInstance,{value:o(function(e){return p4.call(this,e)?!0:this!==ki?!1:e&&e._writableState instanceof E2},"value")})):p4=o(function(e){return e instanceof this},"realHasInstance");function ki(t){U1=U1||y0();var e=this instanceof U1;if(!e&&!p4.call(ki,this))return new ki(t);this._writableState=new E2(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),bie.call(this)}o(ki,"Writable");ki.prototype.pipe=function(){F1(this,new Qke)};function oBe(t,e){var r=new rBe;F1(t,r),process.nextTick(e,r)}o(oBe,"writeAfterEnd");function sBe(t,e,r,n){var i;return r===null?i=new tBe:typeof r!="string"&&!e.objectMode&&(i=new Xke("chunk",["string","Buffer"],r)),i?(F1(t,i),process.nextTick(n,i),!1):!0}o(sBe,"validChunk");ki.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&$ke(t);return s&&!m4.isBuffer(t)&&(t=Gke(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=iBe),n.ending?oBe(this,r):(s||sBe(this,n,t,r))&&(n.pendingcb++,i=cBe(this,n,s,t,e,r)),i};ki.prototype.cork=function(){this._writableState.corked++};ki.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&vie(this,t))};ki.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new nBe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(ki.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function aBe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=m4.from(e,r)),e}o(aBe,"decodeChunk");Object.defineProperty(ki.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function cBe(t,e,r,n,i,s){if(!r){var a=aBe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var f=e.objectMode?1:n.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Nk(t,e,!1,f,n,i,s);return l}o(cBe,"writeOrBuffer");function Nk(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new eBe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(Nk,"doWrite");function fBe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(w2,t,e),t._writableState.errorEmitted=!0,F1(t,n)):(i(n),t._writableState.errorEmitted=!0,F1(t,n),w2(t,e))}o(fBe,"onwriteError");function uBe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(uBe,"onwriteStateUpdate");function lBe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Jke;if(uBe(r),e)fBe(t,r,n,e,i);else{var s=xie(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&vie(t,r),n?process.nextTick(gie,t,r,s,i):gie(t,r,s,i)}}o(lBe,"onwrite");function gie(t,e,r,n){r||dBe(t,e),e.pendingcb--,n(),w2(t,e)}o(gie,"afterWrite");function dBe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(dBe,"onwriteDrain");function vie(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,Nk(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new yie(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,g=r.callback,b=e.objectMode?1:l.length;if(Nk(t,e,!1,b,l,h,g),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(vie,"clearBuffer");ki.prototype._write=function(t,e,r){r(new Zke("_write()"))};ki.prototype._writev=null;ki.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||mBe(this,n,r),this};Object.defineProperty(ki.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function xie(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(xie,"needFinish");function hBe(t,e){t._final(function(r){e.pendingcb--,r&&F1(t,r),e.prefinished=!0,t.emit("prefinish"),w2(t,e)})}o(hBe,"callFinal");function pBe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(hBe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(pBe,"prefinish");function w2(t,e){var r=xie(e);if(r&&(pBe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(w2,"finishMaybe");function mBe(t,e,r){e.ending=!0,w2(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(mBe,"endWritable");function gBe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(gBe,"onCorkedFinish");Object.defineProperty(ki.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});ki.prototype.destroy=Mk.destroy;ki.prototype._undestroy=Mk.undestroy;ki.prototype._destroy=function(t,e){e(t)}});var y0=q((f8t,Eie)=>{"use strict";p();m();var yBe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Eie.exports=_l;var wie=v4(),Pk=g4();Gt()(_l,wie);for(Ck=yBe(Pk.prototype),y4=0;y4<Ck.length;y4++)b4=Ck[y4],_l.prototype[b4]||(_l.prototype[b4]=Pk.prototype[b4]);var Ck,b4,y4;function _l(t){if(!(this instanceof _l))return new _l(t);wie.call(this,t),Pk.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",bBe)))}o(_l,"Duplex");Object.defineProperty(_l.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(_l.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(_l.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function bBe(){this._writableState.ended||process.nextTick(vBe,this)}o(bBe,"onend");function vBe(t){t.end()}o(vBe,"onEndNT");Object.defineProperty(_l.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var q1=q(Aie=>{"use strict";p();m();var Bk=or().Buffer,Sie=Bk.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xBe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}o(xBe,"_normalizeEncoding");function _Be(t){var e=xBe(t);if(typeof e!="string"&&(Bk.isEncoding===Sie||!Sie(t)))throw new Error("Unknown encoding: "+t);return e||t}o(_Be,"normalizeEncoding");Aie.StringDecoder=S2;function S2(t){this.encoding=_Be(t);var e;switch(this.encoding){case"utf16le":this.text=TBe,this.end=IBe,e=4;break;case"utf8":this.fillLast=SBe,e=4;break;case"base64":this.text=OBe,this.end=NBe,e=3;break;default:this.write=MBe,this.end=CBe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Bk.allocUnsafe(e)}o(S2,"StringDecoder");S2.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};S2.prototype.end=RBe;S2.prototype.text=ABe;S2.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function kk(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}o(kk,"utf8CheckByte");function wBe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=kk(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=kk(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=kk(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}o(wBe,"utf8CheckIncomplete");function EBe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}o(EBe,"utf8CheckExtraBytes");function SBe(t){var e=this.lastTotal-this.lastNeed,r=EBe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}o(SBe,"utf8FillLast");function ABe(t,e){var r=wBe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}o(ABe,"utf8Text");function RBe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}o(RBe,"utf8End");function TBe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}o(TBe,"utf16Text");function IBe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}o(IBe,"utf16End");function OBe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}o(OBe,"base64Text");function NBe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}o(NBe,"base64End");function MBe(t){return t.toString(this.encoding)}o(MBe,"simpleWrite");function CBe(t){return t&&t.length?this.write(t):""}o(CBe,"simpleEnd")});var A2=q((y8t,Iie)=>{"use strict";p();m();var Rie=zm().codes.ERR_STREAM_PREMATURE_CLOSE;function PBe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(PBe,"once");function kBe(){}o(kBe,"noop");function BBe(t){return t.setHeader&&typeof t.abort=="function"}o(BBe,"isRequest");function Tie(t,e,r){if(typeof e=="function")return Tie(t,null,e);e||(e={}),r=PBe(r||kBe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||f()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,f=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),g=o(function(O){r.call(t,O)},"onerror"),b=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new Rie),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new Rie),r.call(t,O)},"onclose"),A=o(function(){t.req.on("finish",f)},"onrequest");return BBe(t)?(t.on("complete",f),t.on("abort",b),t.req?A():t.on("request",A)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",f),e.error!==!1&&t.on("error",g),t.on("close",b),function(){t.removeListener("complete",f),t.removeListener("abort",b),t.removeListener("request",A),t.req&&t.req.removeListener("finish",f),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",g),t.removeListener("close",b)}}o(Tie,"eos");Iie.exports=Tie});var Nie=q((_8t,Oie)=>{"use strict";p();m();var x4;function b0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(b0,"_defineProperty");var LBe=A2(),v0=Symbol("lastResolve"),Km=Symbol("lastReject"),R2=Symbol("error"),_4=Symbol("ended"),Gm=Symbol("lastPromise"),Lk=Symbol("handlePromise"),$m=Symbol("stream");function x0(t,e){return{value:t,done:e}}o(x0,"createIterResult");function DBe(t){var e=t[v0];if(e!==null){var r=t[$m].read();r!==null&&(t[Gm]=null,t[v0]=null,t[Km]=null,e(x0(r,!1)))}}o(DBe,"readAndResolve");function UBe(t){process.nextTick(DBe,t)}o(UBe,"onReadable");function FBe(t,e){return function(r,n){t.then(function(){if(e[_4]){r(x0(void 0,!0));return}e[Lk](r,n)},n)}}o(FBe,"wrapForNext");var qBe=Object.getPrototypeOf(function(){}),HBe=Object.setPrototypeOf((x4={get stream(){return this[$m]},next:o(function(){var e=this,r=this[R2];if(r!==null)return Promise.reject(r);if(this[_4])return Promise.resolve(x0(void 0,!0));if(this[$m].destroyed)return new Promise(function(a,f){process.nextTick(function(){e[R2]?f(e[R2]):a(x0(void 0,!0))})});var n=this[Gm],i;if(n)i=new Promise(FBe(n,this));else{var s=this[$m].read();if(s!==null)return Promise.resolve(x0(s,!1));i=new Promise(this[Lk])}return this[Gm]=i,i},"next")},b0(x4,Symbol.asyncIterator,function(){return this}),b0(x4,"return",o(function(){var e=this;return new Promise(function(r,n){e[$m].destroy(null,function(i){if(i){n(i);return}r(x0(void 0,!0))})})},"_return")),x4),qBe),VBe=o(function(e){var r,n=Object.create(HBe,(r={},b0(r,$m,{value:e,writable:!0}),b0(r,v0,{value:null,writable:!0}),b0(r,Km,{value:null,writable:!0}),b0(r,R2,{value:null,writable:!0}),b0(r,_4,{value:e._readableState.endEmitted,writable:!0}),b0(r,Lk,{value:o(function(s,a){var f=n[$m].read();f?(n[Gm]=null,n[v0]=null,n[Km]=null,s(x0(f,!1))):(n[v0]=s,n[Km]=a)},"value"),writable:!0}),r));return n[Gm]=null,LBe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Km];s!==null&&(n[Gm]=null,n[v0]=null,n[Km]=null,s(i)),n[R2]=i;return}var a=n[v0];a!==null&&(n[Gm]=null,n[v0]=null,n[Km]=null,a(x0(void 0,!0))),n[_4]=!0}),e.on("readable",UBe.bind(null,n)),n},"createReadableStreamAsyncIterator");Oie.exports=VBe});var Cie=q((A8t,Mie)=>{p();m();Mie.exports=function(){throw new Error("Readable.from is not available in the browser")}});var v4=q((O8t,Vie)=>{"use strict";p();m();Vie.exports=Wr;var H1;Wr.ReadableState=Lie;var I8t=T_().EventEmitter,Bie=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),I2=Ek(),w4=ci().Buffer,jBe=self.Uint8Array||function(){};function zBe(t){return w4.from(t)}o(zBe,"_uint8ArrayToBuffer");function KBe(t){return w4.isBuffer(t)||t instanceof jBe}o(KBe,"_isUint8Array");var Dk=_2(),wr;Dk&&Dk.debuglog?wr=Dk.debuglog("stream"):wr=o(function(){},"debug");var GBe=cie(),zk=Rk(),$Be=Tk(),WBe=$Be.getHighWaterMark,E4=zm().codes,YBe=E4.ERR_INVALID_ARG_TYPE,XBe=E4.ERR_STREAM_PUSH_AFTER_EOF,ZBe=E4.ERR_METHOD_NOT_IMPLEMENTED,JBe=E4.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,V1,Uk,Fk;Gt()(Wr,I2);var T2=zk.errorOrDestroy,qk=["error","close","destroy","pause","resume"];function QBe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(QBe,"prependListener");function Lie(t,e,r){H1=H1||y0(),t=t||{},typeof r!="boolean"&&(r=e instanceof H1),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=WBe(this,t,"readableHighWaterMark",r),this.buffer=new GBe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(V1||(V1=q1().StringDecoder),this.decoder=new V1(t.encoding),this.encoding=t.encoding)}o(Lie,"ReadableState");function Wr(t){if(H1=H1||y0(),!(this instanceof Wr))return new Wr(t);var e=this instanceof H1;this._readableState=new Lie(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),I2.call(this)}o(Wr,"Readable");Object.defineProperty(Wr.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});Wr.prototype.destroy=zk.destroy;Wr.prototype._undestroy=zk.undestroy;Wr.prototype._destroy=function(t,e){e(t)};Wr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=w4.from(t,e),e=""),n=!0),Die(this,t,e,!1,n)};Wr.prototype.unshift=function(t){return Die(this,t,null,!0,!1)};function Die(t,e,r,n,i){wr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,rLe(t,s);else{var a;if(i||(a=eLe(s,e)),a)T2(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==w4.prototype&&(e=zBe(e)),n)s.endEmitted?T2(t,new JBe):Hk(t,s,e,!0);else if(s.ended)T2(t,new XBe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Hk(t,s,e,!1):jk(t,s)):Hk(t,s,e,!1)}else n||(s.reading=!1,jk(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(Die,"readableAddChunk");function Hk(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S4(t)),jk(t,e)}o(Hk,"addChunk");function eLe(t,e){var r;return!KBe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new YBe("chunk",["string","Buffer","Uint8Array"],e)),r}o(eLe,"chunkInvalid");Wr.prototype.isPaused=function(){return this._readableState.flowing===!1};Wr.prototype.setEncoding=function(t){V1||(V1=q1().StringDecoder);var e=new V1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Pie=1073741824;function tLe(t){return t>=Pie?t=Pie:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(tLe,"computeNewHighWaterMark");function kie(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=tLe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(kie,"howMuchToRead");Wr.prototype.read=function(t){wr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return wr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Vk(this):S4(this),null;if(t=kie(t,e),t===0&&e.ended)return e.length===0&&Vk(this),null;var n=e.needReadable;wr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,wr("length less than watermark",n)),e.ended||e.reading?(n=!1,wr("reading or ended",n)):n&&(wr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=kie(r,e)));var i;return t>0?i=qie(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Vk(this)),i!==null&&this.emit("data",i),i};function rLe(t,e){if(wr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?S4(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Uie(t)))}}o(rLe,"onEofChunk");function S4(t){var e=t._readableState;wr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(wr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Uie,t))}o(S4,"emitReadable");function Uie(t){var e=t._readableState;wr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Kk(t)}o(Uie,"emitReadable_");function jk(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(nLe,t,e))}o(jk,"maybeReadMore");function nLe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(wr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(nLe,"maybeReadMore_");Wr.prototype._read=function(t){T2(this,new ZBe("_read()"))};Wr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,wr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?f:N;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(P,C){wr("onunpipe"),P===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,g())}o(a,"onunpipe");function f(){wr("onend"),t.end()}o(f,"onend");var l=iLe(r);t.on("drain",l);var h=!1;function g(){wr("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",A),t.removeListener("unpipe",a),r.removeListener("end",f),r.removeListener("end",N),r.removeListener("data",b),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(g,"cleanup"),r.on("data",b);function b(P){wr("ondata");var C=t.write(P);wr("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Hie(n.pipes,t)!==-1)&&!h&&(wr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(b,"ondata");function A(P){wr("onerror",P),N(),t.removeListener("error",A),Bie(t,"error")===0&&T2(t,P)}o(A,"onerror"),QBe(t,"error",A);function T(){t.removeListener("finish",O),N()}o(T,"onclose"),t.once("close",T);function O(){wr("onfinish"),t.removeListener("close",T),N()}o(O,"onfinish"),t.once("finish",O);function N(){wr("unpipe"),r.unpipe(t)}return o(N,"unpipe"),t.emit("pipe",r),n.flowing||(wr("pipe resume"),r.resume()),t};function iLe(t){return o(function(){var r=t._readableState;wr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Bie(t,"data")&&(r.flowing=!0,Kk(t))},"pipeOnDrainFunctionResult")}o(iLe,"pipeOnDrain");Wr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Hie(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Wr.prototype.on=function(t,e){var r=I2.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,wr("on readable",n.length,n.reading),n.length?S4(this):n.reading||process.nextTick(oLe,this)),r};Wr.prototype.addListener=Wr.prototype.on;Wr.prototype.removeListener=function(t,e){var r=I2.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Fie,this),r};Wr.prototype.removeAllListeners=function(t){var e=I2.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Fie,this),e};function Fie(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(Fie,"updateReadableListening");function oLe(t){wr("readable nexttick read 0"),t.read(0)}o(oLe,"nReadingNextTick");Wr.prototype.resume=function(){var t=this._readableState;return t.flowing||(wr("resume"),t.flowing=!t.readableListening,sLe(this,t)),t.paused=!1,this};function sLe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(aLe,t,e))}o(sLe,"resume");function aLe(t,e){wr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Kk(t),e.flowing&&!e.reading&&t.read(0)}o(aLe,"resume_");Wr.prototype.pause=function(){return wr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(wr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Kk(t){var e=t._readableState;for(wr("flow",e.flowing);e.flowing&&t.read()!==null;);}o(Kk,"flow");Wr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(wr("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(wr("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var f=e.push(a);f||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(f){return o(function(){return t[f].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<qk.length;s++)t.on(qk[s],this.emit.bind(this,qk[s]));return this._read=function(a){wr("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Wr.prototype[Symbol.asyncIterator]=function(){return Uk===void 0&&(Uk=Nie()),Uk(this)});Object.defineProperty(Wr.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(Wr.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(Wr.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});Wr._fromList=qie;Object.defineProperty(Wr.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function qie(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(qie,"fromList");function Vk(t){var e=t._readableState;wr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(cLe,e,t))}o(Vk,"endReadable");function cLe(t,e){if(wr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(cLe,"endReadableNT");typeof Symbol=="function"&&(Wr.from=function(t,e){return Fk===void 0&&(Fk=Cie()),Fk(Wr,t,e)});function Hie(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(Hie,"indexOf")});var T4=q((P8t,zie)=>{"use strict";p();m();zie.exports=Ud;var A4=zm().codes,fLe=A4.ERR_METHOD_NOT_IMPLEMENTED,uLe=A4.ERR_MULTIPLE_CALLBACK,lLe=A4.ERR_TRANSFORM_ALREADY_TRANSFORMING,dLe=A4.ERR_TRANSFORM_WITH_LENGTH_0,R4=y0();Gt()(Ud,R4);function hLe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new uLe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(hLe,"afterTransform");function Ud(t){if(!(this instanceof Ud))return new Ud(t);R4.call(this,t),this._transformState={afterTransform:hLe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pLe)}o(Ud,"Transform");function pLe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){jie(t,e,r)}):jie(this,null,null)}o(pLe,"prefinish");Ud.prototype.push=function(t,e){return this._transformState.needTransform=!1,R4.prototype.push.call(this,t,e)};Ud.prototype._transform=function(t,e,r){r(new fLe("_transform()"))};Ud.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ud.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ud.prototype._destroy=function(t,e){R4.prototype._destroy.call(this,t,function(r){e(r)})};function jie(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new dLe;if(t._transformState.transforming)throw new lLe;return t.push(null)}o(jie,"done")});var Gk=q((D8t,Gie)=>{"use strict";p();m();Gie.exports=O2;var Kie=T4();Gt()(O2,Kie);function O2(t){if(!(this instanceof O2))return new O2(t);Kie.call(this,t)}o(O2,"PassThrough");O2.prototype._transform=function(t,e,r){r(null,t)}});var Wk=q((H8t,Xie)=>{"use strict";p();m();var $k;function mLe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(mLe,"once");var Yie=zm().codes,gLe=Yie.ERR_MISSING_ARGS,yLe=Yie.ERR_STREAM_DESTROYED;function $ie(t){if(t)throw t}o($ie,"noop");function bLe(t){return t.setHeader&&typeof t.abort=="function"}o(bLe,"isRequest");function vLe(t,e,r,n){n=mLe(n);var i=!1;t.on("close",function(){i=!0}),$k===void 0&&($k=A2()),$k(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,bLe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new yLe("pipe"))}}}o(vLe,"destroyer");function Wie(t){t()}o(Wie,"call");function xLe(t,e){return t.pipe(e)}o(xLe,"pipe");function _Le(t){return!t.length||typeof t[t.length-1]!="function"?$ie:t.pop()}o(_Le,"popCallback");function wLe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=_Le(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new gLe("streams");var i,s=e.map(function(a,f){var l=f<e.length-1,h=f>0;return vLe(a,l,h,function(g){i||(i=g),g&&s.forEach(Wie),!l&&(s.forEach(Wie),n(i))})});return e.reduce(xLe)}o(wLe,"pipeline");Xie.exports=wLe});var Jie=q((rf,Zie)=>{p();m();rf=Zie.exports=v4();rf.Stream=rf;rf.Readable=rf;rf.Writable=g4();rf.Duplex=y0();rf.Transform=T4();rf.PassThrough=Gk();rf.finished=A2();rf.pipeline=Wk()});var Yk=q(($8t,eoe)=>{"use strict";p();m();var I4=or().Buffer,Qie=Jie().Transform,ELe=Gt();function SLe(t,e){if(!I4.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}o(SLe,"throwIfNotStringOrBuffer");function _0(t){Qie.call(this),this._block=I4.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(_0,"HashBase");ELe(_0,Qie);_0.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};_0.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};_0.prototype.update=function(t,e){if(SLe(t,"Data"),this._finalized)throw new Error("Digest already called");I4.isBuffer(t)||(t=I4.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};_0.prototype._update=function(){throw new Error("_update is not implemented")};_0.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};_0.prototype._digest=function(){throw new Error("_digest is not implemented")};eoe.exports=_0});var M4=q((Z8t,roe)=>{"use strict";p();m();var ALe=Gt(),toe=Yk(),RLe=or().Buffer,TLe=new Array(16);function O4(){toe.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o(O4,"MD5");ALe(O4,toe);O4.prototype._update=function(){for(var t=TLe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=ks(r,n,i,s,t[0],3614090360,7),s=ks(s,r,n,i,t[1],3905402710,12),i=ks(i,s,r,n,t[2],606105819,17),n=ks(n,i,s,r,t[3],3250441966,22),r=ks(r,n,i,s,t[4],4118548399,7),s=ks(s,r,n,i,t[5],1200080426,12),i=ks(i,s,r,n,t[6],2821735955,17),n=ks(n,i,s,r,t[7],4249261313,22),r=ks(r,n,i,s,t[8],1770035416,7),s=ks(s,r,n,i,t[9],2336552879,12),i=ks(i,s,r,n,t[10],4294925233,17),n=ks(n,i,s,r,t[11],2304563134,22),r=ks(r,n,i,s,t[12],1804603682,7),s=ks(s,r,n,i,t[13],4254626195,12),i=ks(i,s,r,n,t[14],2792965006,17),n=ks(n,i,s,r,t[15],1236535329,22),r=Bs(r,n,i,s,t[1],4129170786,5),s=Bs(s,r,n,i,t[6],3225465664,9),i=Bs(i,s,r,n,t[11],643717713,14),n=Bs(n,i,s,r,t[0],3921069994,20),r=Bs(r,n,i,s,t[5],3593408605,5),s=Bs(s,r,n,i,t[10],38016083,9),i=Bs(i,s,r,n,t[15],3634488961,14),n=Bs(n,i,s,r,t[4],3889429448,20),r=Bs(r,n,i,s,t[9],568446438,5),s=Bs(s,r,n,i,t[14],3275163606,9),i=Bs(i,s,r,n,t[3],4107603335,14),n=Bs(n,i,s,r,t[8],1163531501,20),r=Bs(r,n,i,s,t[13],2850285829,5),s=Bs(s,r,n,i,t[2],4243563512,9),i=Bs(i,s,r,n,t[7],1735328473,14),n=Bs(n,i,s,r,t[12],2368359562,20),r=Ls(r,n,i,s,t[5],4294588738,4),s=Ls(s,r,n,i,t[8],2272392833,11),i=Ls(i,s,r,n,t[11],1839030562,16),n=Ls(n,i,s,r,t[14],4259657740,23),r=Ls(r,n,i,s,t[1],2763975236,4),s=Ls(s,r,n,i,t[4],1272893353,11),i=Ls(i,s,r,n,t[7],4139469664,16),n=Ls(n,i,s,r,t[10],3200236656,23),r=Ls(r,n,i,s,t[13],681279174,4),s=Ls(s,r,n,i,t[0],3936430074,11),i=Ls(i,s,r,n,t[3],3572445317,16),n=Ls(n,i,s,r,t[6],76029189,23),r=Ls(r,n,i,s,t[9],3654602809,4),s=Ls(s,r,n,i,t[12],3873151461,11),i=Ls(i,s,r,n,t[15],530742520,16),n=Ls(n,i,s,r,t[2],3299628645,23),r=Ds(r,n,i,s,t[0],4096336452,6),s=Ds(s,r,n,i,t[7],1126891415,10),i=Ds(i,s,r,n,t[14],2878612391,15),n=Ds(n,i,s,r,t[5],4237533241,21),r=Ds(r,n,i,s,t[12],1700485571,6),s=Ds(s,r,n,i,t[3],2399980690,10),i=Ds(i,s,r,n,t[10],4293915773,15),n=Ds(n,i,s,r,t[1],2240044497,21),r=Ds(r,n,i,s,t[8],1873313359,6),s=Ds(s,r,n,i,t[15],4264355552,10),i=Ds(i,s,r,n,t[6],2734768916,15),n=Ds(n,i,s,r,t[13],1309151649,21),r=Ds(r,n,i,s,t[4],4149444226,6),s=Ds(s,r,n,i,t[11],3174756917,10),i=Ds(i,s,r,n,t[2],718787259,15),n=Ds(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};O4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=RLe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function N4(t,e){return t<<e|t>>>32-e}o(N4,"rotl");function ks(t,e,r,n,i,s,a){return N4(t+(e&r|~e&n)+i+s|0,a)+e|0}o(ks,"fnF");function Bs(t,e,r,n,i,s,a){return N4(t+(e&n|r&~n)+i+s|0,a)+e|0}o(Bs,"fnG");function Ls(t,e,r,n,i,s,a){return N4(t+(e^r^n)+i+s|0,a)+e|0}o(Ls,"fnH");function Ds(t,e,r,n,i,s,a){return N4(t+(r^(e|~n))+i+s|0,a)+e|0}o(Ds,"fnI");roe.exports=O4});var Zk=q((t5t,foe)=>{"use strict";p();m();var Xk=ci().Buffer,ILe=Gt(),coe=Yk(),OLe=new Array(16),N2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],M2=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],C2=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P2=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k2=[0,1518500249,1859775393,2400959708,2840853838],B2=[1352829926,1548603684,1836072691,2053994217,0];function C4(){coe.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(C4,"RIPEMD160");ILe(C4,coe);C4.prototype._update=function(){for(var t=OLe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=this._a|0,l=this._b|0,h=this._c|0,g=this._d|0,b=this._e|0,A=0;A<80;A+=1){var T,O;A<16?(T=noe(r,n,i,s,a,t[N2[A]],k2[0],C2[A]),O=aoe(f,l,h,g,b,t[M2[A]],B2[0],P2[A])):A<32?(T=ioe(r,n,i,s,a,t[N2[A]],k2[1],C2[A]),O=soe(f,l,h,g,b,t[M2[A]],B2[1],P2[A])):A<48?(T=ooe(r,n,i,s,a,t[N2[A]],k2[2],C2[A]),O=ooe(f,l,h,g,b,t[M2[A]],B2[2],P2[A])):A<64?(T=soe(r,n,i,s,a,t[N2[A]],k2[3],C2[A]),O=ioe(f,l,h,g,b,t[M2[A]],B2[3],P2[A])):(T=aoe(r,n,i,s,a,t[N2[A]],k2[4],C2[A]),O=noe(f,l,h,g,b,t[M2[A]],B2[4],P2[A])),r=a,a=s,s=Wm(i,10),i=n,n=T,f=b,b=g,g=Wm(h,10),h=l,l=O}var N=this._b+i+g|0;this._b=this._c+s+b|0,this._c=this._d+a+f|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=N};C4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Xk.alloc?Xk.alloc(20):new Xk(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Wm(t,e){return t<<e|t>>>32-e}o(Wm,"rotl");function noe(t,e,r,n,i,s,a,f){return Wm(t+(e^r^n)+s+a|0,f)+i|0}o(noe,"fn1");function ioe(t,e,r,n,i,s,a,f){return Wm(t+(e&r|~e&n)+s+a|0,f)+i|0}o(ioe,"fn2");function ooe(t,e,r,n,i,s,a,f){return Wm(t+((e|~r)^n)+s+a|0,f)+i|0}o(ooe,"fn3");function soe(t,e,r,n,i,s,a,f){return Wm(t+(e&n|r&~n)+s+a|0,f)+i|0}o(soe,"fn4");function aoe(t,e,r,n,i,s,a,f){return Wm(t+(e^(r|~n))+s+a|0,f)+i|0}o(aoe,"fn5");foe.exports=C4});var loe=q((o5t,uoe)=>{p();m();var NLe={}.toString;uoe.exports=Array.isArray||function(t){return NLe.call(t)=="[object Array]"}});var w0=q((c5t,doe)=>{"use strict";p();m();doe.exports=TypeError});var poe=q((l5t,hoe)=>{"use strict";p();m();hoe.exports=Object});var P4=q((p5t,moe)=>{"use strict";p();m();moe.exports=Error});var k4=q((y5t,goe)=>{"use strict";p();m();goe.exports=EvalError});var B4=q((x5t,yoe)=>{"use strict";p();m();yoe.exports=RangeError});var L4=q((E5t,boe)=>{"use strict";p();m();boe.exports=ReferenceError});var L2=q((R5t,voe)=>{"use strict";p();m();voe.exports=SyntaxError});var D4=q((O5t,xoe)=>{"use strict";p();m();xoe.exports=URIError});var woe=q((C5t,_oe)=>{"use strict";p();m();_oe.exports=Math.abs});var Soe=q((B5t,Eoe)=>{"use strict";p();m();Eoe.exports=Math.floor});var Roe=q((U5t,Aoe)=>{"use strict";p();m();Aoe.exports=Math.max});var Ioe=q((H5t,Toe)=>{"use strict";p();m();Toe.exports=Math.min});var Noe=q((z5t,Ooe)=>{"use strict";p();m();Ooe.exports=Math.pow});var Coe=q(($5t,Moe)=>{"use strict";p();m();Moe.exports=Math.round});var koe=q((X5t,Poe)=>{"use strict";p();m();Poe.exports=Number.isNaN||o(function(e){return e!==e},"isNaN")});var Loe=q((eRt,Boe)=>{"use strict";p();m();var MLe=koe();Boe.exports=o(function(e){return MLe(e)||e===0?e:e<0?-1:1},"sign")});var Uoe=q((iRt,Doe)=>{"use strict";p();m();Doe.exports=Object.getOwnPropertyDescriptor});var qoe=q((aRt,Foe)=>{"use strict";p();m();var U4=Uoe();if(U4)try{U4([],"length")}catch{U4=null}Foe.exports=U4});var Voe=q((uRt,Hoe)=>{"use strict";p();m();var F4=Object.defineProperty||!1;if(F4)try{F4({},"a",{value:1})}catch{F4=!1}Hoe.exports=F4});var zoe=q((hRt,joe)=>{"use strict";p();m();joe.exports=o(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,r);if(f.value!==i||f.enumerable!==!0)return!1}return!0},"hasSymbols")});var $oe=q((yRt,Goe)=>{"use strict";p();m();var Koe=typeof Symbol<"u"&&Symbol,CLe=zoe();Goe.exports=o(function(){return typeof Koe!="function"||typeof Symbol!="function"||typeof Koe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:CLe()},"hasNativeSymbols")});var Jk=q((_Rt,Woe)=>{"use strict";p();m();Woe.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Xoe=q((SRt,Yoe)=>{"use strict";p();m();Yoe.exports=Object});var Qk=q((TRt,Zoe)=>{"use strict";p();m();var PLe=Xoe();Zoe.exports=PLe.getPrototypeOf||null});var ese=q((NRt,Qoe)=>{"use strict";p();m();var kLe="Function.prototype.bind called on incompatible ",BLe=Object.prototype.toString,LLe=Math.max,DLe="[object Function]",Joe=o(function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},"concatty"),ULe=o(function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},"slicy"),FLe=o(function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},"joiny");Qoe.exports=o(function(e){var r=this;if(typeof r!="function"||BLe.apply(r)!==DLe)throw new TypeError(kLe+r);for(var n=ULe(arguments,1),i,s=o(function(){if(this instanceof i){var g=r.apply(this,Joe(n,arguments));return Object(g)===g?g:this}return r.apply(e,Joe(n,arguments))},"binder"),a=LLe(0,r.length-n.length),f=[],l=0;l<a;l++)f[l]="$"+l;if(i=Function("binder","return function ("+FLe(f,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var lu=q((kRt,tse)=>{"use strict";p();m();var qLe=ese();tse.exports=Function.prototype.bind||qLe});var q4=q((DRt,rse)=>{"use strict";p();m();rse.exports=Function.prototype.call});var H4=q((qRt,nse)=>{"use strict";p();m();nse.exports=Function.prototype.apply});var ose=q((jRt,ise)=>{"use strict";p();m();ise.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var eB=q((GRt,sse)=>{"use strict";p();m();var HLe=lu(),VLe=H4(),jLe=q4(),zLe=ose();sse.exports=zLe||HLe.call(jLe,VLe)});var V4=q((YRt,ase)=>{"use strict";p();m();var KLe=lu(),GLe=w0(),$Le=q4(),WLe=eB();ase.exports=o(function(e){if(e.length<1||typeof e[0]!="function")throw new GLe("a function is required");return WLe(KLe,$Le,e)},"callBindBasic")});var fse=q((QRt,cse)=>{"use strict";p();m();cse.exports=Object.getOwnPropertyDescriptor});var lse=q((rTt,use)=>{"use strict";p();m();var j4=fse();if(j4)try{j4([],"length")}catch{j4=null}use.exports=j4});var yse=q((oTt,gse)=>{"use strict";p();m();var YLe=V4(),dse=lse(),pse;try{pse=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var tB=!!pse&&dse&&dse(Object.prototype,"__proto__"),mse=Object,hse=mse.getPrototypeOf;gse.exports=tB&&typeof tB.get=="function"?YLe([tB.get]):typeof hse=="function"?o(function(e){return hse(e==null?e:mse(e))},"getDunder"):!1});var rB=q((fTt,_se)=>{"use strict";p();m();var bse=Jk(),vse=Qk(),xse=yse();_se.exports=bse?o(function(e){return bse(e)},"getProto"):vse?o(function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return vse(e)},"getProto"):xse?o(function(e){return xse(e)},"getProto"):null});var Ese=q((hTt,wse)=>{"use strict";p();m();var XLe=Function.prototype.call,ZLe=Object.prototype.hasOwnProperty,JLe=lu();wse.exports=JLe.call(XLe,ZLe)});var Nse=q((gTt,Ose)=>{"use strict";p();m();var Rr,QLe=poe(),eDe=P4(),tDe=k4(),rDe=B4(),nDe=L4(),G1=L2(),K1=w0(),iDe=D4(),oDe=woe(),sDe=Soe(),aDe=Roe(),cDe=Ioe(),fDe=Noe(),uDe=Coe(),lDe=Loe(),Tse=Function,nB=o(function(t){try{return Tse('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),D2=qoe(),dDe=Voe(),iB=o(function(){throw new K1},"throwTypeError"),hDe=D2?function(){try{return arguments.callee,iB}catch{try{return D2(arguments,"callee").get}catch{return iB}}}():iB,j1=$oe()(),Po=rB(),pDe=Qk(),mDe=Jk(),Ise=H4(),U2=q4(),z1={},gDe=typeof Uint8Array>"u"||!Po?Rr:Po(Uint8Array),Ym={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Rr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Rr:ArrayBuffer,"%ArrayIteratorPrototype%":j1&&Po?Po([][Symbol.iterator]()):Rr,"%AsyncFromSyncIteratorPrototype%":Rr,"%AsyncFunction%":z1,"%AsyncGenerator%":z1,"%AsyncGeneratorFunction%":z1,"%AsyncIteratorPrototype%":z1,"%Atomics%":typeof Atomics>"u"?Rr:Atomics,"%BigInt%":typeof BigInt>"u"?Rr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Rr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Rr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Rr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":eDe,"%eval%":eval,"%EvalError%":tDe,"%Float16Array%":typeof Float16Array>"u"?Rr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Rr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Rr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Rr:FinalizationRegistry,"%Function%":Tse,"%GeneratorFunction%":z1,"%Int8Array%":typeof Int8Array>"u"?Rr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Rr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Rr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j1&&Po?Po(Po([][Symbol.iterator]())):Rr,"%JSON%":typeof JSON=="object"?JSON:Rr,"%Map%":typeof Map>"u"?Rr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!j1||!Po?Rr:Po(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":QLe,"%Object.getOwnPropertyDescriptor%":D2,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Rr:Promise,"%Proxy%":typeof Proxy>"u"?Rr:Proxy,"%RangeError%":rDe,"%ReferenceError%":nDe,"%Reflect%":typeof Reflect>"u"?Rr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Rr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!j1||!Po?Rr:Po(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Rr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j1&&Po?Po(""[Symbol.iterator]()):Rr,"%Symbol%":j1?Symbol:Rr,"%SyntaxError%":G1,"%ThrowTypeError%":hDe,"%TypedArray%":gDe,"%TypeError%":K1,"%Uint8Array%":typeof Uint8Array>"u"?Rr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Rr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Rr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Rr:Uint32Array,"%URIError%":iDe,"%WeakMap%":typeof WeakMap>"u"?Rr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Rr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Rr:WeakSet,"%Function.prototype.call%":U2,"%Function.prototype.apply%":Ise,"%Object.defineProperty%":dDe,"%Object.getPrototypeOf%":pDe,"%Math.abs%":oDe,"%Math.floor%":sDe,"%Math.max%":aDe,"%Math.min%":cDe,"%Math.pow%":fDe,"%Math.round%":uDe,"%Math.sign%":lDe,"%Reflect.getPrototypeOf%":mDe};if(Po)try{null.error}catch(t){Sse=Po(Po(t)),Ym["%Error.prototype%"]=Sse}var Sse,yDe=o(function t(e){var r;if(e==="%AsyncFunction%")r=nB("async function () {}");else if(e==="%GeneratorFunction%")r=nB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=nB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Po&&(r=Po(i.prototype))}return Ym[e]=r,r},"doEval"),Ase={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F2=lu(),z4=Ese(),bDe=F2.call(U2,Array.prototype.concat),vDe=F2.call(Ise,Array.prototype.splice),Rse=F2.call(U2,String.prototype.replace),K4=F2.call(U2,String.prototype.slice),xDe=F2.call(U2,RegExp.prototype.exec),_De=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wDe=/\\(\\)?/g,EDe=o(function(e){var r=K4(e,0,1),n=K4(e,-1);if(r==="%"&&n!=="%")throw new G1("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new G1("invalid intrinsic syntax, expected opening `%`");var i=[];return Rse(e,_De,function(s,a,f,l){i[i.length]=f?Rse(l,wDe,"$1"):a||s}),i},"stringToPath"),SDe=o(function(e,r){var n=e,i;if(z4(Ase,n)&&(i=Ase[n],n="%"+i[0]+"%"),z4(Ym,n)){var s=Ym[n];if(s===z1&&(s=yDe(n)),typeof s>"u"&&!r)throw new K1("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new G1("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Ose.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new K1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new K1('"allowMissing" argument must be a boolean');if(xDe(/^%?[^%]*%?$/,e)===null)throw new G1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=EDe(e),i=n.length>0?n[0]:"",s=SDe("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],vDe(n,bDe([0,1],h)));for(var g=1,b=!0;g<n.length;g+=1){var A=n[g],T=K4(A,0,1),O=K4(A,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new G1("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),i+="."+A,a="%"+i+"%",z4(Ym,a))f=Ym[a];else if(f!=null){if(!(A in f)){if(!r)throw new K1("base intrinsic for "+e+" exists, but the property is not available.");return}if(D2&&g+1>=n.length){var N=D2(f,A);b=!!N,b&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[A]}else b=z4(f,A),f=f[A];b&&!l&&(Ym[a]=f)}}return f},"GetIntrinsic")});var oB=q((xTt,Pse)=>{"use strict";p();m();var Mse=Nse(),Cse=V4(),ADe=Cse([Mse("%String.prototype.indexOf%")]);Pse.exports=o(function(e,r){var n=Mse(e,!!r);return typeof n=="function"&&ADe(e,".prototype.")>-1?Cse([n]):n},"callBoundIntrinsic")});var uB=q((STt,Lse)=>{"use strict";p();m();var Bse=Function.prototype.toString,$1=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,aB,G4;if(typeof $1=="function"&&typeof Object.defineProperty=="function")try{aB=Object.defineProperty({},"length",{get:o(function(){throw G4},"get")}),G4={},$1(function(){throw 42},null,aB)}catch(t){t!==G4&&($1=null)}else $1=null;var RDe=/^\s*class\b/,cB=o(function(e){try{var r=Bse.call(e);return RDe.test(r)}catch{return!1}},"isES6ClassFunction"),sB=o(function(e){try{return cB(e)?!1:(Bse.call(e),!0)}catch{return!1}},"tryFunctionToStr"),$4=Object.prototype.toString,TDe="[object Object]",IDe="[object Function]",ODe="[object GeneratorFunction]",NDe="[object HTMLAllCollection]",MDe="[object HTML document.all class]",CDe="[object HTMLCollection]",PDe=typeof Symbol=="function"&&!!Symbol.toStringTag,kDe=!(0 in[,]),fB=o(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(kse=document.all,$4.call(kse)===$4.call(document.all)&&(fB=o(function(e){if((kDe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=$4.call(e);return(r===NDe||r===MDe||r===CDe||r===TDe)&&e("")==null}catch{}return!1},"isDocumentDotAll")));var kse;Lse.exports=o($1?function(e){if(fB(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{$1(e,null,aB)}catch(r){if(r!==G4)return!1}return!cB(e)&&sB(e)}:function(e){if(fB(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(PDe)return sB(e);if(cB(e))return!1;var r=$4.call(e);return r!==IDe&&r!==ODe&&!/^\[object HTML/.test(r)?!1:sB(e)},"isCallable")});var Fse=q((ITt,Use)=>{"use strict";p();m();var BDe=uB(),LDe=Object.prototype.toString,Dse=Object.prototype.hasOwnProperty,DDe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)Dse.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachArray"),UDe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},"forEachString"),FDe=o(function(e,r,n){for(var i in e)Dse.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachObject");function qDe(t){return LDe.call(t)==="[object Array]"}o(qDe,"isArray");Use.exports=o(function(e,r,n){if(!BDe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),qDe(e)?DDe(e,r,i):typeof e=="string"?UDe(e,r,i):FDe(e,r,i)},"forEach")});var Hse=q((CTt,qse)=>{"use strict";p();m();qse.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var jse=q((BTt,Vse)=>{"use strict";p();m();var lB=Hse(),HDe=typeof globalThis>"u"?self:globalThis;Vse.exports=o(function(){for(var e=[],r=0;r<lB.length;r++)typeof HDe[lB[r]]=="function"&&(e[e.length]=lB[r]);return e},"availableTypedArrays")});var W4=q((FTt,zse)=>{"use strict";p();m();zse.exports=o(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},"hasSymbols")});var W1=q((jTt,Gse)=>{"use strict";p();m();var Kse=typeof Symbol<"u"&&Symbol,VDe=W4();Gse.exports=o(function(){return typeof Kse!="function"||typeof Symbol!="function"||typeof Kse("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:VDe()},"hasNativeSymbols")});var q2=q(($Tt,Wse)=>{"use strict";p();m();var $se={foo:{}},jDe=Object;Wse.exports=o(function(){return{__proto__:$se}.foo===$se.foo&&!({__proto__:null}instanceof jDe)},"hasProto")});var Xse=q((ZTt,Yse)=>{"use strict";p();m();var zDe=Function.prototype.call,KDe=Object.prototype.hasOwnProperty,GDe=lu();Yse.exports=GDe.call(zDe,KDe)});var rae=q((eIt,tae)=>{"use strict";p();m();var Nr,$De=P4(),WDe=k4(),YDe=B4(),XDe=L4(),J1=L2(),Z1=w0(),ZDe=D4(),eae=Function,dB=o(function(t){try{return eae('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Xm=Object.getOwnPropertyDescriptor;if(Xm)try{Xm({},"")}catch{Xm=null}var hB=o(function(){throw new Z1},"throwTypeError"),JDe=Xm?function(){try{return arguments.callee,hB}catch{try{return Xm(arguments,"callee").get}catch{return hB}}}():hB,Y1=W1()(),QDe=q2()(),ko=Object.getPrototypeOf||(QDe?function(t){return t.__proto__}:null),X1={},eUe=typeof Uint8Array>"u"||!ko?Nr:ko(Uint8Array),Zm={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Nr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Nr:ArrayBuffer,"%ArrayIteratorPrototype%":Y1&&ko?ko([][Symbol.iterator]()):Nr,"%AsyncFromSyncIteratorPrototype%":Nr,"%AsyncFunction%":X1,"%AsyncGenerator%":X1,"%AsyncGeneratorFunction%":X1,"%AsyncIteratorPrototype%":X1,"%Atomics%":typeof Atomics>"u"?Nr:Atomics,"%BigInt%":typeof BigInt>"u"?Nr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Nr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Nr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Nr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$De,"%eval%":eval,"%EvalError%":WDe,"%Float32Array%":typeof Float32Array>"u"?Nr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Nr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Nr:FinalizationRegistry,"%Function%":eae,"%GeneratorFunction%":X1,"%Int8Array%":typeof Int8Array>"u"?Nr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Nr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Nr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Y1&&ko?ko(ko([][Symbol.iterator]())):Nr,"%JSON%":typeof JSON=="object"?JSON:Nr,"%Map%":typeof Map>"u"?Nr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Y1||!ko?Nr:ko(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Nr:Promise,"%Proxy%":typeof Proxy>"u"?Nr:Proxy,"%RangeError%":YDe,"%ReferenceError%":XDe,"%Reflect%":typeof Reflect>"u"?Nr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Nr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Y1||!ko?Nr:ko(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Nr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Y1&&ko?ko(""[Symbol.iterator]()):Nr,"%Symbol%":Y1?Symbol:Nr,"%SyntaxError%":J1,"%ThrowTypeError%":JDe,"%TypedArray%":eUe,"%TypeError%":Z1,"%Uint8Array%":typeof Uint8Array>"u"?Nr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Nr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Nr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Nr:Uint32Array,"%URIError%":ZDe,"%WeakMap%":typeof WeakMap>"u"?Nr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Nr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Nr:WeakSet};if(ko)try{null.error}catch(t){Zse=ko(ko(t)),Zm["%Error.prototype%"]=Zse}var Zse,tUe=o(function t(e){var r;if(e==="%AsyncFunction%")r=dB("async function () {}");else if(e==="%GeneratorFunction%")r=dB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=dB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ko&&(r=ko(i.prototype))}return Zm[e]=r,r},"doEval"),Jse={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H2=lu(),Y4=Xse(),rUe=H2.call(Function.call,Array.prototype.concat),nUe=H2.call(Function.apply,Array.prototype.splice),Qse=H2.call(Function.call,String.prototype.replace),X4=H2.call(Function.call,String.prototype.slice),iUe=H2.call(Function.call,RegExp.prototype.exec),oUe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sUe=/\\(\\)?/g,aUe=o(function(e){var r=X4(e,0,1),n=X4(e,-1);if(r==="%"&&n!=="%")throw new J1("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new J1("invalid intrinsic syntax, expected opening `%`");var i=[];return Qse(e,oUe,function(s,a,f,l){i[i.length]=f?Qse(l,sUe,"$1"):a||s}),i},"stringToPath"),cUe=o(function(e,r){var n=e,i;if(Y4(Jse,n)&&(i=Jse[n],n="%"+i[0]+"%"),Y4(Zm,n)){var s=Zm[n];if(s===X1&&(s=tUe(n)),typeof s>"u"&&!r)throw new Z1("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new J1("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");tae.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Z1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Z1('"allowMissing" argument must be a boolean');if(iUe(/^%?[^%]*%?$/,e)===null)throw new J1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=aUe(e),i=n.length>0?n[0]:"",s=cUe("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],nUe(n,rUe([0,1],h)));for(var g=1,b=!0;g<n.length;g+=1){var A=n[g],T=X4(A,0,1),O=X4(A,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new J1("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),i+="."+A,a="%"+i+"%",Y4(Zm,a))f=Zm[a];else if(f!=null){if(!(A in f)){if(!r)throw new Z1("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xm&&g+1>=n.length){var N=Xm(f,A);b=!!N,b&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[A]}else b=Y4(f,A),f=f[A];b&&!l&&(Zm[a]=f)}}return f},"GetIntrinsic")});var iae=q((iIt,nae)=>{"use strict";p();m();var fUe=Function.prototype.call,uUe=Object.prototype.hasOwnProperty,lUe=lu();nae.exports=lUe.call(fUe,uUe)});var uae=q((aIt,fae)=>{"use strict";p();m();var Mr,dUe=P4(),hUe=k4(),pUe=B4(),mUe=L4(),rb=L2(),tb=w0(),gUe=D4(),cae=Function,pB=o(function(t){try{return cae('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Jm=Object.getOwnPropertyDescriptor;if(Jm)try{Jm({},"")}catch{Jm=null}var mB=o(function(){throw new tb},"throwTypeError"),yUe=Jm?function(){try{return arguments.callee,mB}catch{try{return Jm(arguments,"callee").get}catch{return mB}}}():mB,Q1=W1()(),bUe=q2()(),Bo=Object.getPrototypeOf||(bUe?function(t){return t.__proto__}:null),eb={},vUe=typeof Uint8Array>"u"||!Bo?Mr:Bo(Uint8Array),Qm={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Mr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Mr:ArrayBuffer,"%ArrayIteratorPrototype%":Q1&&Bo?Bo([][Symbol.iterator]()):Mr,"%AsyncFromSyncIteratorPrototype%":Mr,"%AsyncFunction%":eb,"%AsyncGenerator%":eb,"%AsyncGeneratorFunction%":eb,"%AsyncIteratorPrototype%":eb,"%Atomics%":typeof Atomics>"u"?Mr:Atomics,"%BigInt%":typeof BigInt>"u"?Mr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Mr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Mr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Mr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":dUe,"%eval%":eval,"%EvalError%":hUe,"%Float32Array%":typeof Float32Array>"u"?Mr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Mr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Mr:FinalizationRegistry,"%Function%":cae,"%GeneratorFunction%":eb,"%Int8Array%":typeof Int8Array>"u"?Mr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Mr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Mr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q1&&Bo?Bo(Bo([][Symbol.iterator]())):Mr,"%JSON%":typeof JSON=="object"?JSON:Mr,"%Map%":typeof Map>"u"?Mr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q1||!Bo?Mr:Bo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Mr:Promise,"%Proxy%":typeof Proxy>"u"?Mr:Proxy,"%RangeError%":pUe,"%ReferenceError%":mUe,"%Reflect%":typeof Reflect>"u"?Mr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Mr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q1||!Bo?Mr:Bo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Mr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q1&&Bo?Bo(""[Symbol.iterator]()):Mr,"%Symbol%":Q1?Symbol:Mr,"%SyntaxError%":rb,"%ThrowTypeError%":yUe,"%TypedArray%":vUe,"%TypeError%":tb,"%Uint8Array%":typeof Uint8Array>"u"?Mr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Mr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Mr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Mr:Uint32Array,"%URIError%":gUe,"%WeakMap%":typeof WeakMap>"u"?Mr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Mr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Mr:WeakSet};if(Bo)try{null.error}catch(t){oae=Bo(Bo(t)),Qm["%Error.prototype%"]=oae}var oae,xUe=o(function t(e){var r;if(e==="%AsyncFunction%")r=pB("async function () {}");else if(e==="%GeneratorFunction%")r=pB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=pB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Bo&&(r=Bo(i.prototype))}return Qm[e]=r,r},"doEval"),sae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V2=lu(),Z4=iae(),_Ue=V2.call(Function.call,Array.prototype.concat),wUe=V2.call(Function.apply,Array.prototype.splice),aae=V2.call(Function.call,String.prototype.replace),J4=V2.call(Function.call,String.prototype.slice),EUe=V2.call(Function.call,RegExp.prototype.exec),SUe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,AUe=/\\(\\)?/g,RUe=o(function(e){var r=J4(e,0,1),n=J4(e,-1);if(r==="%"&&n!=="%")throw new rb("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new rb("invalid intrinsic syntax, expected opening `%`");var i=[];return aae(e,SUe,function(s,a,f,l){i[i.length]=f?aae(l,AUe,"$1"):a||s}),i},"stringToPath"),TUe=o(function(e,r){var n=e,i;if(Z4(sae,n)&&(i=sae[n],n="%"+i[0]+"%"),Z4(Qm,n)){var s=Qm[n];if(s===eb&&(s=xUe(n)),typeof s>"u"&&!r)throw new tb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new rb("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");fae.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new tb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new tb('"allowMissing" argument must be a boolean');if(EUe(/^%?[^%]*%?$/,e)===null)throw new rb("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=RUe(e),i=n.length>0?n[0]:"",s=TUe("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],wUe(n,_Ue([0,1],h)));for(var g=1,b=!0;g<n.length;g+=1){var A=n[g],T=J4(A,0,1),O=J4(A,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new rb("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),i+="."+A,a="%"+i+"%",Z4(Qm,a))f=Qm[a];else if(f!=null){if(!(A in f)){if(!r)throw new tb("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jm&&g+1>=n.length){var N=Jm(f,A);b=!!N,b&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[A]}else b=Z4(f,A),f=f[A];b&&!l&&(Qm[a]=f)}}return f},"GetIntrinsic")});var e8=q((lIt,lae)=>{"use strict";p();m();var IUe=uae(),Q4=IUe("%Object.defineProperty%",!0)||!1;if(Q4)try{Q4({},"a",{value:1})}catch{Q4=!1}lae.exports=Q4});var hae=q((pIt,dae)=>{"use strict";p();m();var OUe="Function.prototype.bind called on incompatible ",gB=Array.prototype.slice,NUe=Object.prototype.toString,MUe="[object Function]";dae.exports=o(function(e){var r=this;if(typeof r!="function"||NUe.call(r)!==MUe)throw new TypeError(OUe+r);for(var n=gB.call(arguments,1),i,s=o(function(){if(this instanceof i){var g=r.apply(this,n.concat(gB.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(gB.call(arguments)))},"binder"),a=Math.max(0,r.length-n.length),f=[],l=0;l<a;l++)f.push("$"+l);if(i=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var mae=q((bIt,pae)=>{"use strict";p();m();var CUe=hae();pae.exports=Function.prototype.bind||CUe});var yae=q((_It,gae)=>{"use strict";p();m();var PUe="Function.prototype.bind called on incompatible ",yB=Array.prototype.slice,kUe=Object.prototype.toString,BUe="[object Function]";gae.exports=o(function(e){var r=this;if(typeof r!="function"||kUe.call(r)!==BUe)throw new TypeError(PUe+r);for(var n=yB.call(arguments,1),i,s=o(function(){if(this instanceof i){var g=r.apply(this,n.concat(yB.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(yB.call(arguments)))},"binder"),a=Math.max(0,r.length-n.length),f=[],l=0;l<a;l++)f.push("$"+l);if(i=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var vae=q((AIt,bae)=>{"use strict";p();m();var LUe=yae();bae.exports=Function.prototype.bind||LUe});var t8=q((IIt,xae)=>{"use strict";p();m();var DUe=vae();xae.exports=DUe.call(Function.call,Object.prototype.hasOwnProperty)});var z2=q((MIt,Sae)=>{"use strict";p();m();var jr,ab=SyntaxError,Eae=Function,ob=TypeError,bB=o(function(t){try{return Eae('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),eg=Object.getOwnPropertyDescriptor;if(eg)try{eg({},"")}catch{eg=null}var vB=o(function(){throw new ob},"throwTypeError"),UUe=eg?function(){try{return arguments.callee,vB}catch{try{return eg(arguments,"callee").get}catch{return vB}}}():vB,nb=W1()(),E0=Object.getPrototypeOf||function(t){return t.__proto__},ib={},FUe=typeof Uint8Array>"u"?jr:E0(Uint8Array),sb={"%AggregateError%":typeof AggregateError>"u"?jr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?jr:ArrayBuffer,"%ArrayIteratorPrototype%":nb?E0([][Symbol.iterator]()):jr,"%AsyncFromSyncIteratorPrototype%":jr,"%AsyncFunction%":ib,"%AsyncGenerator%":ib,"%AsyncGeneratorFunction%":ib,"%AsyncIteratorPrototype%":ib,"%Atomics%":typeof Atomics>"u"?jr:Atomics,"%BigInt%":typeof BigInt>"u"?jr:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?jr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?jr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?jr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?jr:FinalizationRegistry,"%Function%":Eae,"%GeneratorFunction%":ib,"%Int8Array%":typeof Int8Array>"u"?jr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?jr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?jr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nb?E0(E0([][Symbol.iterator]())):jr,"%JSON%":typeof JSON=="object"?JSON:jr,"%Map%":typeof Map>"u"?jr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nb?jr:E0(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?jr:Promise,"%Proxy%":typeof Proxy>"u"?jr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?jr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?jr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nb?jr:E0(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?jr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nb?E0(""[Symbol.iterator]()):jr,"%Symbol%":nb?Symbol:jr,"%SyntaxError%":ab,"%ThrowTypeError%":UUe,"%TypedArray%":FUe,"%TypeError%":ob,"%Uint8Array%":typeof Uint8Array>"u"?jr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?jr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?jr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?jr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?jr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?jr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?jr:WeakSet},qUe=o(function t(e){var r;if(e==="%AsyncFunction%")r=bB("async function () {}");else if(e==="%GeneratorFunction%")r=bB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=E0(i.prototype))}return sb[e]=r,r},"doEval"),_ae={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j2=mae(),r8=t8(),HUe=j2.call(Function.call,Array.prototype.concat),VUe=j2.call(Function.apply,Array.prototype.splice),wae=j2.call(Function.call,String.prototype.replace),n8=j2.call(Function.call,String.prototype.slice),jUe=j2.call(Function.call,RegExp.prototype.exec),zUe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,KUe=/\\(\\)?/g,GUe=o(function(e){var r=n8(e,0,1),n=n8(e,-1);if(r==="%"&&n!=="%")throw new ab("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ab("invalid intrinsic syntax, expected opening `%`");var i=[];return wae(e,zUe,function(s,a,f,l){i[i.length]=f?wae(l,KUe,"$1"):a||s}),i},"stringToPath"),$Ue=o(function(e,r){var n=e,i;if(r8(_ae,n)&&(i=_ae[n],n="%"+i[0]+"%"),r8(sb,n)){var s=sb[n];if(s===ib&&(s=qUe(n)),typeof s>"u"&&!r)throw new ob("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ab("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Sae.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new ob("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ob('"allowMissing" argument must be a boolean');if(jUe(/^%?[^%]*%?$/,e)===null)throw new ab("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=GUe(e),i=n.length>0?n[0]:"",s=$Ue("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],VUe(n,HUe([0,1],h)));for(var g=1,b=!0;g<n.length;g+=1){var A=n[g],T=n8(A,0,1),O=n8(A,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new ab("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),i+="."+A,a="%"+i+"%",r8(sb,a))f=sb[a];else if(f!=null){if(!(A in f)){if(!r)throw new ob("base intrinsic for "+e+" exists, but the property is not available.");return}if(eg&&g+1>=n.length){var N=eg(f,A);b=!!N,b&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[A]}else b=r8(f,A),f=f[A];b&&!l&&(sb[a]=f)}}return f},"GetIntrinsic")});var tg=q((BIt,Aae)=>{"use strict";p();m();var WUe=z2(),i8=WUe("%Object.getOwnPropertyDescriptor%",!0);if(i8)try{i8([],"length")}catch{i8=null}Aae.exports=i8});var Oae=q((UIt,Iae)=>{"use strict";p();m();var Rae=e8(),YUe=L2(),cb=w0(),Tae=tg();Iae.exports=o(function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new cb("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new cb("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new cb("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new cb("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new cb("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new cb("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,l=!!Tae&&Tae(e,r);if(Rae)Rae(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(f||!i&&!s&&!a)e[r]=n;else throw new YUe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var Cae=q((VIt,Mae)=>{"use strict";p();m();var xB=e8(),Nae=o(function(){return!!xB},"hasPropertyDescriptors");Nae.hasArrayLengthDefineBug=o(function(){if(!xB)return null;try{return xB([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");Mae.exports=Nae});var Dae=q((GIt,Lae)=>{"use strict";p();m();var XUe=rae(),Pae=Oae(),ZUe=Cae()(),kae=tg(),Bae=w0(),JUe=XUe("%Math.floor%");Lae.exports=o(function(e,r){if(typeof e!="function")throw new Bae("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||JUe(r)!==r)throw new Bae("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&kae){var a=kae(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(ZUe?Pae(e,"length",r,!0,!0):Pae(e,"length",r)),e},"setFunctionLength")});var Fae=q((XIt,Uae)=>{"use strict";p();m();var QUe=lu(),eFe=H4(),tFe=eB();Uae.exports=o(function(){return tFe(QUe,eFe,arguments)},"applyBind")});var Vae=q((eOt,o8)=>{"use strict";p();m();var rFe=Dae(),qae=e8(),nFe=V4(),Hae=Fae();o8.exports=o(function(e){var r=nFe(arguments),n=e.length-(arguments.length-1);return rFe(r,1+(n>0?n:0),!0)},"callBind");qae?qae(o8.exports,"apply",{value:Hae}):o8.exports.apply=Hae});var zae=q((iOt,jae)=>{"use strict";p();m();jae.exports=Object.getOwnPropertyDescriptor});var Gae=q((aOt,Kae)=>{"use strict";p();m();var s8=zae();if(s8)try{s8([],"length")}catch{s8=null}Kae.exports=s8});var Wae=q((uOt,$ae)=>{"use strict";p();m();var iFe=W4();$ae.exports=o(function(){return iFe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var Qae=q((pOt,Jae)=>{"use strict";p();m();var f8=Fse(),oFe=jse(),Yae=Vae(),wB=oB(),c8=Gae(),a8=rB(),sFe=wB("Object.prototype.toString"),Zae=Wae()(),Xae=typeof globalThis>"u"?self:globalThis,_B=oFe(),EB=wB("String.prototype.slice"),aFe=wB("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),u8={__proto__:null};Zae&&c8&&a8?f8(_B,function(t){var e=new Xae[t];if(Symbol.toStringTag in e&&a8){var r=a8(e),n=c8(r,Symbol.toStringTag);if(!n&&r){var i=a8(r);n=c8(i,Symbol.toStringTag)}u8["$"+t]=Yae(n.get)}}):f8(_B,function(t){var e=new Xae[t],r=e.slice||e.set;r&&(u8["$"+t]=Yae(r))});var cFe=o(function(e){var r=!1;return f8(u8,function(n,i){if(!r)try{"$"+n(e)===i&&(r=EB(i,1))}catch{}}),r},"tryAllTypedArrays"),fFe=o(function(e){var r=!1;return f8(u8,function(n,i){if(!r)try{n(e),r=EB(i,1)}catch{}}),r},"tryAllSlices");Jae.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!Zae){var r=EB(sFe(e),8,-1);return aFe(_B,r)>-1?r:r!=="Object"?!1:fFe(e)}return c8?cFe(e):null},"whichTypedArray")});var tce=q((bOt,ece)=>{"use strict";p();m();var uFe=Qae();ece.exports=o(function(e){return!!uFe(e)},"isTypedArray")});var nce=q((wOt,rce)=>{"use strict";p();m();var lFe=w0(),dFe=oB(),hFe=dFe("TypedArray.prototype.buffer",!0),pFe=tce();rce.exports=hFe||o(function(e){if(!pFe(e))throw new lFe("Not a Typed Array");return e.buffer},"typedArrayBuffer")});var SB=q((ROt,oce)=>{"use strict";p();m();var du=or().Buffer,mFe=loe(),gFe=nce(),yFe=ArrayBuffer.isView||o(function(e){try{return gFe(e),!0}catch{return!1}},"isView"),bFe=typeof Uint8Array<"u",ice=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",vFe=ice&&(du.prototype instanceof Uint8Array||du.TYPED_ARRAY_SUPPORT);oce.exports=o(function(e,r){if(du.isBuffer(e))return e.constructor&&!("isBuffer"in e)?du.from(e):e;if(typeof e=="string")return du.from(e,r);if(ice&&yFe(e)){if(e.byteLength===0)return du.alloc(0);if(vFe){var n=du.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=du.from(i);if(s.length===e.byteLength)return s}if(bFe&&e instanceof Uint8Array)return du.from(e);var a=mFe(e);if(a)for(var f=0;f<e.length;f+=1){var l=e[f];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(a||du.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return du.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer")});var rg=q((NOt,sce)=>{"use strict";p();m();var xFe=or().Buffer,_Fe=SB();function l8(t,e){this._block=xFe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o(l8,"Hash");l8.prototype.update=function(t,e){t=_Fe(t,e||"utf8");for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var f=s%n,l=Math.min(i-a,n-f),h=0;h<l;h++)r[f+h]=t[a+h];s+=l,a+=l,s%n===0&&this._update(r)}return this._len+=i,this};l8.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};l8.prototype._update=function(){throw new Error("_update must be implemented by subclass")};sce.exports=l8});var fce=q((kOt,cce)=>{"use strict";p();m();var wFe=Gt(),ace=rg(),EFe=or().Buffer,SFe=[1518500249,1859775393,-1894007588,-899497514],AFe=new Array(80);function K2(){this.init(),this._w=AFe,ace.call(this,64,56)}o(K2,"Sha");wFe(K2,ace);K2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function RFe(t){return t<<5|t>>>27}o(RFe,"rotl5");function TFe(t){return t<<30|t>>>2}o(TFe,"rotl30");function IFe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(IFe,"ft");K2.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var l=0;l<80;++l){var h=~~(l/20),g=RFe(r)+IFe(h,n,i,s)+a+e[l]+SFe[h]|0;a=s,s=i,i=TFe(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};K2.prototype._hash=function(){var t=EFe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};cce.exports=K2});var dce=q((UOt,lce)=>{"use strict";p();m();var OFe=Gt(),uce=rg(),NFe=or().Buffer,MFe=[1518500249,1859775393,-1894007588,-899497514],CFe=new Array(80);function G2(){this.init(),this._w=CFe,uce.call(this,64,56)}o(G2,"Sha1");OFe(G2,uce);G2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function PFe(t){return t<<1|t>>>31}o(PFe,"rotl1");function kFe(t){return t<<5|t>>>27}o(kFe,"rotl5");function BFe(t){return t<<30|t>>>2}o(BFe,"rotl30");function LFe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(LFe,"ft");G2.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=PFe(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var l=0;l<80;++l){var h=~~(l/20),g=kFe(r)+LFe(h,n,i,s)+a+e[l]+MFe[h]|0;a=s,s=i,i=BFe(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};G2.prototype._hash=function(){var t=NFe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};lce.exports=G2});var AB=q((VOt,pce)=>{"use strict";p();m();var DFe=Gt(),hce=rg(),UFe=or().Buffer,FFe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],qFe=new Array(64);function $2(){this.init(),this._w=qFe,hce.call(this,64,56)}o($2,"Sha256");DFe($2,hce);$2.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function HFe(t,e,r){return r^t&(e^r)}o(HFe,"ch");function VFe(t,e,r){return t&e|r&(t|e)}o(VFe,"maj");function jFe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}o(jFe,"sigma0");function zFe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}o(zFe,"sigma1");function KFe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}o(KFe,"gamma0");function GFe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}o(GFe,"gamma1");$2.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,f=this._f|0,l=this._g|0,h=this._h|0,g=0;g<16;++g)e[g]=t.readInt32BE(g*4);for(;g<64;++g)e[g]=GFe(e[g-2])+e[g-7]+KFe(e[g-15])+e[g-16]|0;for(var b=0;b<64;++b){var A=h+zFe(a)+HFe(a,f,l)+FFe[b]+e[b]|0,T=jFe(r)+VFe(r,n,i)|0;h=l,l=f,f=a,a=s+A|0,s=i,i=n,n=r,r=A+T|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=f+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};$2.prototype._hash=function(){var t=UFe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};pce.exports=$2});var gce=q((GOt,mce)=>{"use strict";p();m();var $Fe=Gt(),WFe=AB(),YFe=rg(),XFe=or().Buffer,ZFe=new Array(64);function d8(){this.init(),this._w=ZFe,YFe.call(this,64,56)}o(d8,"Sha224");$Fe(d8,WFe);d8.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};d8.prototype._hash=function(){var t=XFe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};mce.exports=d8});var RB=q((XOt,Ece)=>{"use strict";p();m();var JFe=Gt(),wce=rg(),QFe=or().Buffer,yce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],eqe=new Array(160);function W2(){this.init(),this._w=eqe,wce.call(this,128,112)}o(W2,"Sha512");JFe(W2,wce);W2.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function bce(t,e,r){return r^t&(e^r)}o(bce,"Ch");function vce(t,e,r){return t&e|r&(t|e)}o(vce,"maj");function xce(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}o(xce,"sigma0");function _ce(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}o(_ce,"sigma1");function tqe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}o(tqe,"Gamma0");function rqe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}o(rqe,"Gamma0l");function nqe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}o(nqe,"Gamma1");function iqe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}o(iqe,"Gamma1l");function Lo(t,e){return t>>>0<e>>>0?1:0}o(Lo,"getCarry");W2.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,f=this._fh|0,l=this._gh|0,h=this._hh|0,g=this._al|0,b=this._bl|0,A=this._cl|0,T=this._dl|0,O=this._el|0,N=this._fl|0,P=this._gl|0,C=this._hl|0,D=0;D<32;D+=2)e[D]=t.readInt32BE(D*4),e[D+1]=t.readInt32BE(D*4+4);for(;D<160;D+=2){var M=e[D-30],U=e[D-15*2+1],V=tqe(M,U),j=rqe(U,M);M=e[D-2*2],U=e[D-2*2+1];var ee=nqe(M,U),Y=iqe(U,M),te=e[D-7*2],E=e[D-7*2+1],c=e[D-16*2],d=e[D-16*2+1],y=j+E|0,v=V+te+Lo(y,j)|0;y=y+Y|0,v=v+ee+Lo(y,Y)|0,y=y+d|0,v=v+c+Lo(y,d)|0,e[D]=v,e[D+1]=y}for(var w=0;w<160;w+=2){v=e[w],y=e[w+1];var S=vce(r,n,i),R=vce(g,b,A),x=xce(r,g),u=xce(g,r),_=_ce(a,O),H=_ce(O,a),F=yce[w],L=yce[w+1],$=bce(a,f,l),Q=bce(O,N,P),re=C+H|0,Me=h+_+Lo(re,C)|0;re=re+Q|0,Me=Me+$+Lo(re,Q)|0,re=re+L|0,Me=Me+F+Lo(re,L)|0,re=re+y|0,Me=Me+v+Lo(re,y)|0;var fe=u+R|0,le=x+S+Lo(fe,u)|0;h=l,C=P,l=f,P=N,f=a,N=O,O=T+re|0,a=s+Me+Lo(O,T)|0,s=i,T=A,i=n,A=b,n=r,b=g,g=re+fe|0,r=Me+le+Lo(g,re)|0}this._al=this._al+g|0,this._bl=this._bl+b|0,this._cl=this._cl+A|0,this._dl=this._dl+T|0,this._el=this._el+O|0,this._fl=this._fl+N|0,this._gl=this._gl+P|0,this._hl=this._hl+C|0,this._ah=this._ah+r+Lo(this._al,g)|0,this._bh=this._bh+n+Lo(this._bl,b)|0,this._ch=this._ch+i+Lo(this._cl,A)|0,this._dh=this._dh+s+Lo(this._dl,T)|0,this._eh=this._eh+a+Lo(this._el,O)|0,this._fh=this._fh+f+Lo(this._fl,N)|0,this._gh=this._gh+l+Lo(this._gl,P)|0,this._hh=this._hh+h+Lo(this._hl,C)|0};W2.prototype._hash=function(){var t=QFe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Ece.exports=W2});var Ace=q((e7t,Sce)=>{"use strict";p();m();var oqe=Gt(),sqe=RB(),aqe=rg(),cqe=or().Buffer,fqe=new Array(160);function h8(){this.init(),this._w=fqe,aqe.call(this,128,112)}o(h8,"Sha384");oqe(h8,sqe);h8.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};h8.prototype._hash=function(){var t=cqe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Sce.exports=h8});var p8=q((i7t,Fd)=>{"use strict";p();m();Fd.exports=o(function(e){var r=e.toLowerCase(),n=Fd.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},"SHA");Fd.exports.sha=fce();Fd.exports.sha1=dce();Fd.exports.sha224=gce();Fd.exports.sha256=AB();Fd.exports.sha384=Ace();Fd.exports.sha512=RB()});var IB=q((c7t,Rce)=>{p();m();Rce.exports=nf;var TB=T_().EventEmitter,uqe=Gt();uqe(nf,TB);nf.Readable=v4();nf.Writable=g4();nf.Duplex=y0();nf.Transform=T4();nf.PassThrough=Gk();nf.finished=A2();nf.pipeline=Wk();nf.Stream=nf;function nf(){TB.call(this)}o(nf,"Stream");nf.prototype.pipe=function(t,e){var r=this;function n(g){t.writable&&t.write(g)===!1&&r.pause&&r.pause()}o(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}o(i,"ondrain"),t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",f));var s=!1;function a(){s||(s=!0,t.end())}o(a,"onend");function f(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}o(f,"onclose");function l(g){if(h(),TB.listenerCount(this,"error")===0)throw g}o(l,"onerror"),r.on("error",l),t.on("error",l);function h(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",f),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return o(h,"cleanup"),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t}});var qd=q((d7t,Oce)=>{p();m();var Tce=or().Buffer,Ice=IB().Transform,lqe=q1().StringDecoder,dqe=Gt();function hu(t){Ice.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o(hu,"CipherBase");dqe(hu,Ice);hu.prototype.update=function(t,e,r){typeof t=="string"&&(t=Tce.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};hu.prototype.setAutoPadding=function(){};hu.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};hu.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};hu.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};hu.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};hu.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};hu.prototype._finalOrDigest=function(t){var e=this.__final()||Tce.alloc(0);return t&&(e=this._toString(e,t,!0)),e};hu.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new lqe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};Oce.exports=hu});var ng=q((g7t,Mce)=>{"use strict";p();m();var hqe=Gt(),pqe=M4(),mqe=Zk(),gqe=p8(),Nce=qd();function m8(t){Nce.call(this,"digest"),this._hash=t}o(m8,"Hash");hqe(m8,Nce);m8.prototype._update=function(t){this._hash.update(t)};m8.prototype._final=function(){return this._hash.digest()};Mce.exports=o(function(e){return e=e.toLowerCase(),e==="md5"?new pqe:e==="rmd160"||e==="ripemd160"?new mqe:new m8(gqe(e))},"createHash")});var kce=q((x7t,Pce)=>{"use strict";p();m();var yqe=Gt(),ig=or().Buffer,Cce=qd(),bqe=ig.alloc(128),fb=64;function g8(t,e){Cce.call(this,"digest"),typeof e=="string"&&(e=ig.from(e)),this._alg=t,this._key=e,e.length>fb?e=t(e):e.length<fb&&(e=ig.concat([e,bqe],fb));for(var r=this._ipad=ig.allocUnsafe(fb),n=this._opad=ig.allocUnsafe(fb),i=0;i<fb;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}o(g8,"Hmac");yqe(g8,Cce);g8.prototype._update=function(t){this._hash.push(t)};g8.prototype._final=function(){var t=this._alg(ig.concat(this._hash));return this._alg(ig.concat([this._opad,t]))};Pce.exports=g8});var Lce=q((S7t,Bce)=>{p();m();var vqe=M4();Bce.exports=function(t){return new vqe().update(t).digest()}});var MB=q((T7t,Uce)=>{"use strict";p();m();var xqe=Gt(),_qe=kce(),Dce=qd(),Y2=or().Buffer,wqe=Lce(),OB=Zk(),NB=p8(),Eqe=Y2.alloc(128);function X2(t,e){Dce.call(this,"digest"),typeof e=="string"&&(e=Y2.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new OB:NB(t);e=n.update(e).digest()}else e.length<r&&(e=Y2.concat([e,Eqe],r));for(var i=this._ipad=Y2.allocUnsafe(r),s=this._opad=Y2.allocUnsafe(r),a=0;a<r;a++)i[a]=e[a]^54,s[a]=e[a]^92;this._hash=t==="rmd160"?new OB:NB(t),this._hash.update(i)}o(X2,"Hmac");xqe(X2,Dce);X2.prototype._update=function(t){this._hash.update(t)};X2.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new OB:NB(this._alg);return e.update(this._opad).update(t).digest()};Uce.exports=o(function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new X2("rmd160",r):e==="md5"?new _qe(wqe,r):new X2(e,r)},"createHmac")});var CB=q((M7t,Sqe)=>{Sqe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var qce=q((C7t,Fce)=>{"use strict";p();m();Fce.exports=CB()});var PB=q((B7t,Hce)=>{"use strict";p();m();var Aqe=Math.pow(2,30)-1;Hce.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Aqe||e!==e)throw new TypeError("Bad key length")}});var kB=q((U7t,jce)=>{"use strict";p();m();var y8;self.process&&self.process.browser?y8="utf-8":self.process&&self.process.version?(Vce=parseInt(process.version.split(".")[0].slice(1),10),y8=Vce>=6?"utf-8":"binary"):y8="utf-8";var Vce;jce.exports=y8});var Gce=q((H7t,Kce)=>{"use strict";p();m();var Z2=4,zce=new Buffer(Z2);zce.fill(0);var Rqe=8,Tqe=16;function Iqe(t){if(t.length%Z2!==0){var e=t.length+(Z2-t.length%Z2);t=Buffer.concat([t,zce],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=Z2,i++)r[i]=t.readInt32LE(n);return r}o(Iqe,"toArray");Kce.exports=o(function(e,r){var n=r(Iqe(e),e.length*Rqe);e=new Buffer(Tqe);for(var i=0;i<n.length;i++)e.writeInt32LE(n[i],i<<2,!0);return e},"hash")});var Wce=q((K7t,$ce)=>{"use strict";p();m();var Oqe=Gce();function Nqe(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<t.length;a+=16){var f=r,l=n,h=i,g=s;r=Us(r,n,i,s,t[a+0],7,-680876936),s=Us(s,r,n,i,t[a+1],12,-389564586),i=Us(i,s,r,n,t[a+2],17,606105819),n=Us(n,i,s,r,t[a+3],22,-1044525330),r=Us(r,n,i,s,t[a+4],7,-176418897),s=Us(s,r,n,i,t[a+5],12,1200080426),i=Us(i,s,r,n,t[a+6],17,-1473231341),n=Us(n,i,s,r,t[a+7],22,-45705983),r=Us(r,n,i,s,t[a+8],7,1770035416),s=Us(s,r,n,i,t[a+9],12,-1958414417),i=Us(i,s,r,n,t[a+10],17,-42063),n=Us(n,i,s,r,t[a+11],22,-1990404162),r=Us(r,n,i,s,t[a+12],7,1804603682),s=Us(s,r,n,i,t[a+13],12,-40341101),i=Us(i,s,r,n,t[a+14],17,-1502002290),n=Us(n,i,s,r,t[a+15],22,1236535329),r=Fs(r,n,i,s,t[a+1],5,-165796510),s=Fs(s,r,n,i,t[a+6],9,-1069501632),i=Fs(i,s,r,n,t[a+11],14,643717713),n=Fs(n,i,s,r,t[a+0],20,-373897302),r=Fs(r,n,i,s,t[a+5],5,-701558691),s=Fs(s,r,n,i,t[a+10],9,38016083),i=Fs(i,s,r,n,t[a+15],14,-660478335),n=Fs(n,i,s,r,t[a+4],20,-405537848),r=Fs(r,n,i,s,t[a+9],5,568446438),s=Fs(s,r,n,i,t[a+14],9,-1019803690),i=Fs(i,s,r,n,t[a+3],14,-187363961),n=Fs(n,i,s,r,t[a+8],20,1163531501),r=Fs(r,n,i,s,t[a+13],5,-1444681467),s=Fs(s,r,n,i,t[a+2],9,-51403784),i=Fs(i,s,r,n,t[a+7],14,1735328473),n=Fs(n,i,s,r,t[a+12],20,-1926607734),r=qs(r,n,i,s,t[a+5],4,-378558),s=qs(s,r,n,i,t[a+8],11,-2022574463),i=qs(i,s,r,n,t[a+11],16,1839030562),n=qs(n,i,s,r,t[a+14],23,-35309556),r=qs(r,n,i,s,t[a+1],4,-1530992060),s=qs(s,r,n,i,t[a+4],11,1272893353),i=qs(i,s,r,n,t[a+7],16,-155497632),n=qs(n,i,s,r,t[a+10],23,-1094730640),r=qs(r,n,i,s,t[a+13],4,681279174),s=qs(s,r,n,i,t[a+0],11,-358537222),i=qs(i,s,r,n,t[a+3],16,-722521979),n=qs(n,i,s,r,t[a+6],23,76029189),r=qs(r,n,i,s,t[a+9],4,-640364487),s=qs(s,r,n,i,t[a+12],11,-421815835),i=qs(i,s,r,n,t[a+15],16,530742520),n=qs(n,i,s,r,t[a+2],23,-995338651),r=Hs(r,n,i,s,t[a+0],6,-198630844),s=Hs(s,r,n,i,t[a+7],10,1126891415),i=Hs(i,s,r,n,t[a+14],15,-1416354905),n=Hs(n,i,s,r,t[a+5],21,-57434055),r=Hs(r,n,i,s,t[a+12],6,1700485571),s=Hs(s,r,n,i,t[a+3],10,-1894986606),i=Hs(i,s,r,n,t[a+10],15,-1051523),n=Hs(n,i,s,r,t[a+1],21,-2054922799),r=Hs(r,n,i,s,t[a+8],6,1873313359),s=Hs(s,r,n,i,t[a+15],10,-30611744),i=Hs(i,s,r,n,t[a+6],15,-1560198380),n=Hs(n,i,s,r,t[a+13],21,1309151649),r=Hs(r,n,i,s,t[a+4],6,-145523070),s=Hs(s,r,n,i,t[a+11],10,-1120210379),i=Hs(i,s,r,n,t[a+2],15,718787259),n=Hs(n,i,s,r,t[a+9],21,-343485551),r=S0(r,f),n=S0(n,l),i=S0(i,h),s=S0(s,g)}return[r,n,i,s]}o(Nqe,"core_md5");function b8(t,e,r,n,i,s){return S0(Mqe(S0(S0(e,t),S0(n,s)),i),r)}o(b8,"md5_cmn");function Us(t,e,r,n,i,s,a){return b8(e&r|~e&n,t,e,i,s,a)}o(Us,"md5_ff");function Fs(t,e,r,n,i,s,a){return b8(e&n|r&~n,t,e,i,s,a)}o(Fs,"md5_gg");function qs(t,e,r,n,i,s,a){return b8(e^r^n,t,e,i,s,a)}o(qs,"md5_hh");function Hs(t,e,r,n,i,s,a){return b8(r^(e|~n),t,e,i,s,a)}o(Hs,"md5_ii");function S0(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}o(S0,"safe_add");function Mqe(t,e){return t<<e|t>>>32-e}o(Mqe,"bit_rol");$ce.exports=o(function(e){return Oqe(e,Nqe)},"md5")});var Zce=q((Y7t,Xce)=>{"use strict";p();m();var Yce=IB().Transform,Cqe=Gt();function A0(t){Yce.call(this),this._block=new Buffer(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(A0,"HashBase");Cqe(A0,Yce);A0.prototype._transform=function(t,e,r){var n=null;try{e!=="buffer"&&(t=new Buffer(t,e)),this.update(t)}catch(i){n=i}r(n)};A0.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(r){e=r}t(e)};A0.prototype.update=function(t,e){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=new Buffer(t,e||"binary"));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};A0.prototype._update=function(t){throw new Error("_update is not implemented")};A0.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return t!==void 0&&(e=e.toString(t)),e};A0.prototype._digest=function(){throw new Error("_digest is not implemented")};Xce.exports=A0});var efe=q((Q7t,Qce)=>{"use strict";p();m();var Pqe=Gt(),Jce=Zce();function v8(){Jce.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(v8,"RIPEMD160");Pqe(v8,Jce);v8.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d,a=this._e;r=tn(r,n,i,s,a,t[0],0,11),i=ye(i,10),a=tn(a,r,n,i,s,t[1],0,14),n=ye(n,10),s=tn(s,a,r,n,i,t[2],0,15),r=ye(r,10),i=tn(i,s,a,r,n,t[3],0,12),a=ye(a,10),n=tn(n,i,s,a,r,t[4],0,5),s=ye(s,10),r=tn(r,n,i,s,a,t[5],0,8),i=ye(i,10),a=tn(a,r,n,i,s,t[6],0,7),n=ye(n,10),s=tn(s,a,r,n,i,t[7],0,9),r=ye(r,10),i=tn(i,s,a,r,n,t[8],0,11),a=ye(a,10),n=tn(n,i,s,a,r,t[9],0,13),s=ye(s,10),r=tn(r,n,i,s,a,t[10],0,14),i=ye(i,10),a=tn(a,r,n,i,s,t[11],0,15),n=ye(n,10),s=tn(s,a,r,n,i,t[12],0,6),r=ye(r,10),i=tn(i,s,a,r,n,t[13],0,7),a=ye(a,10),n=tn(n,i,s,a,r,t[14],0,9),s=ye(s,10),r=tn(r,n,i,s,a,t[15],0,8),i=ye(i,10),a=rn(a,r,n,i,s,t[7],1518500249,7),n=ye(n,10),s=rn(s,a,r,n,i,t[4],1518500249,6),r=ye(r,10),i=rn(i,s,a,r,n,t[13],1518500249,8),a=ye(a,10),n=rn(n,i,s,a,r,t[1],1518500249,13),s=ye(s,10),r=rn(r,n,i,s,a,t[10],1518500249,11),i=ye(i,10),a=rn(a,r,n,i,s,t[6],1518500249,9),n=ye(n,10),s=rn(s,a,r,n,i,t[15],1518500249,7),r=ye(r,10),i=rn(i,s,a,r,n,t[3],1518500249,15),a=ye(a,10),n=rn(n,i,s,a,r,t[12],1518500249,7),s=ye(s,10),r=rn(r,n,i,s,a,t[0],1518500249,12),i=ye(i,10),a=rn(a,r,n,i,s,t[9],1518500249,15),n=ye(n,10),s=rn(s,a,r,n,i,t[5],1518500249,9),r=ye(r,10),i=rn(i,s,a,r,n,t[2],1518500249,11),a=ye(a,10),n=rn(n,i,s,a,r,t[14],1518500249,7),s=ye(s,10),r=rn(r,n,i,s,a,t[11],1518500249,13),i=ye(i,10),a=rn(a,r,n,i,s,t[8],1518500249,12),n=ye(n,10),s=nn(s,a,r,n,i,t[3],1859775393,11),r=ye(r,10),i=nn(i,s,a,r,n,t[10],1859775393,13),a=ye(a,10),n=nn(n,i,s,a,r,t[14],1859775393,6),s=ye(s,10),r=nn(r,n,i,s,a,t[4],1859775393,7),i=ye(i,10),a=nn(a,r,n,i,s,t[9],1859775393,14),n=ye(n,10),s=nn(s,a,r,n,i,t[15],1859775393,9),r=ye(r,10),i=nn(i,s,a,r,n,t[8],1859775393,13),a=ye(a,10),n=nn(n,i,s,a,r,t[1],1859775393,15),s=ye(s,10),r=nn(r,n,i,s,a,t[2],1859775393,14),i=ye(i,10),a=nn(a,r,n,i,s,t[7],1859775393,8),n=ye(n,10),s=nn(s,a,r,n,i,t[0],1859775393,13),r=ye(r,10),i=nn(i,s,a,r,n,t[6],1859775393,6),a=ye(a,10),n=nn(n,i,s,a,r,t[13],1859775393,5),s=ye(s,10),r=nn(r,n,i,s,a,t[11],1859775393,12),i=ye(i,10),a=nn(a,r,n,i,s,t[5],1859775393,7),n=ye(n,10),s=nn(s,a,r,n,i,t[12],1859775393,5),r=ye(r,10),i=on(i,s,a,r,n,t[1],2400959708,11),a=ye(a,10),n=on(n,i,s,a,r,t[9],2400959708,12),s=ye(s,10),r=on(r,n,i,s,a,t[11],2400959708,14),i=ye(i,10),a=on(a,r,n,i,s,t[10],2400959708,15),n=ye(n,10),s=on(s,a,r,n,i,t[0],2400959708,14),r=ye(r,10),i=on(i,s,a,r,n,t[8],2400959708,15),a=ye(a,10),n=on(n,i,s,a,r,t[12],2400959708,9),s=ye(s,10),r=on(r,n,i,s,a,t[4],2400959708,8),i=ye(i,10),a=on(a,r,n,i,s,t[13],2400959708,9),n=ye(n,10),s=on(s,a,r,n,i,t[3],2400959708,14),r=ye(r,10),i=on(i,s,a,r,n,t[7],2400959708,5),a=ye(a,10),n=on(n,i,s,a,r,t[15],2400959708,6),s=ye(s,10),r=on(r,n,i,s,a,t[14],2400959708,8),i=ye(i,10),a=on(a,r,n,i,s,t[5],2400959708,6),n=ye(n,10),s=on(s,a,r,n,i,t[6],2400959708,5),r=ye(r,10),i=on(i,s,a,r,n,t[2],2400959708,12),a=ye(a,10),n=sn(n,i,s,a,r,t[4],2840853838,9),s=ye(s,10),r=sn(r,n,i,s,a,t[0],2840853838,15),i=ye(i,10),a=sn(a,r,n,i,s,t[5],2840853838,5),n=ye(n,10),s=sn(s,a,r,n,i,t[9],2840853838,11),r=ye(r,10),i=sn(i,s,a,r,n,t[7],2840853838,6),a=ye(a,10),n=sn(n,i,s,a,r,t[12],2840853838,8),s=ye(s,10),r=sn(r,n,i,s,a,t[2],2840853838,13),i=ye(i,10),a=sn(a,r,n,i,s,t[10],2840853838,12),n=ye(n,10),s=sn(s,a,r,n,i,t[14],2840853838,5),r=ye(r,10),i=sn(i,s,a,r,n,t[1],2840853838,12),a=ye(a,10),n=sn(n,i,s,a,r,t[3],2840853838,13),s=ye(s,10),r=sn(r,n,i,s,a,t[8],2840853838,14),i=ye(i,10),a=sn(a,r,n,i,s,t[11],2840853838,11),n=ye(n,10),s=sn(s,a,r,n,i,t[6],2840853838,8),r=ye(r,10),i=sn(i,s,a,r,n,t[15],2840853838,5),a=ye(a,10),n=sn(n,i,s,a,r,t[13],2840853838,6),s=ye(s,10);var f=this._a,l=this._b,h=this._c,g=this._d,b=this._e;f=sn(f,l,h,g,b,t[5],1352829926,8),h=ye(h,10),b=sn(b,f,l,h,g,t[14],1352829926,9),l=ye(l,10),g=sn(g,b,f,l,h,t[7],1352829926,9),f=ye(f,10),h=sn(h,g,b,f,l,t[0],1352829926,11),b=ye(b,10),l=sn(l,h,g,b,f,t[9],1352829926,13),g=ye(g,10),f=sn(f,l,h,g,b,t[2],1352829926,15),h=ye(h,10),b=sn(b,f,l,h,g,t[11],1352829926,15),l=ye(l,10),g=sn(g,b,f,l,h,t[4],1352829926,5),f=ye(f,10),h=sn(h,g,b,f,l,t[13],1352829926,7),b=ye(b,10),l=sn(l,h,g,b,f,t[6],1352829926,7),g=ye(g,10),f=sn(f,l,h,g,b,t[15],1352829926,8),h=ye(h,10),b=sn(b,f,l,h,g,t[8],1352829926,11),l=ye(l,10),g=sn(g,b,f,l,h,t[1],1352829926,14),f=ye(f,10),h=sn(h,g,b,f,l,t[10],1352829926,14),b=ye(b,10),l=sn(l,h,g,b,f,t[3],1352829926,12),g=ye(g,10),f=sn(f,l,h,g,b,t[12],1352829926,6),h=ye(h,10),b=on(b,f,l,h,g,t[6],1548603684,9),l=ye(l,10),g=on(g,b,f,l,h,t[11],1548603684,13),f=ye(f,10),h=on(h,g,b,f,l,t[3],1548603684,15),b=ye(b,10),l=on(l,h,g,b,f,t[7],1548603684,7),g=ye(g,10),f=on(f,l,h,g,b,t[0],1548603684,12),h=ye(h,10),b=on(b,f,l,h,g,t[13],1548603684,8),l=ye(l,10),g=on(g,b,f,l,h,t[5],1548603684,9),f=ye(f,10),h=on(h,g,b,f,l,t[10],1548603684,11),b=ye(b,10),l=on(l,h,g,b,f,t[14],1548603684,7),g=ye(g,10),f=on(f,l,h,g,b,t[15],1548603684,7),h=ye(h,10),b=on(b,f,l,h,g,t[8],1548603684,12),l=ye(l,10),g=on(g,b,f,l,h,t[12],1548603684,7),f=ye(f,10),h=on(h,g,b,f,l,t[4],1548603684,6),b=ye(b,10),l=on(l,h,g,b,f,t[9],1548603684,15),g=ye(g,10),f=on(f,l,h,g,b,t[1],1548603684,13),h=ye(h,10),b=on(b,f,l,h,g,t[2],1548603684,11),l=ye(l,10),g=nn(g,b,f,l,h,t[15],1836072691,9),f=ye(f,10),h=nn(h,g,b,f,l,t[5],1836072691,7),b=ye(b,10),l=nn(l,h,g,b,f,t[1],1836072691,15),g=ye(g,10),f=nn(f,l,h,g,b,t[3],1836072691,11),h=ye(h,10),b=nn(b,f,l,h,g,t[7],1836072691,8),l=ye(l,10),g=nn(g,b,f,l,h,t[14],1836072691,6),f=ye(f,10),h=nn(h,g,b,f,l,t[6],1836072691,6),b=ye(b,10),l=nn(l,h,g,b,f,t[9],1836072691,14),g=ye(g,10),f=nn(f,l,h,g,b,t[11],1836072691,12),h=ye(h,10),b=nn(b,f,l,h,g,t[8],1836072691,13),l=ye(l,10),g=nn(g,b,f,l,h,t[12],1836072691,5),f=ye(f,10),h=nn(h,g,b,f,l,t[2],1836072691,14),b=ye(b,10),l=nn(l,h,g,b,f,t[10],1836072691,13),g=ye(g,10),f=nn(f,l,h,g,b,t[0],1836072691,13),h=ye(h,10),b=nn(b,f,l,h,g,t[4],1836072691,7),l=ye(l,10),g=nn(g,b,f,l,h,t[13],1836072691,5),f=ye(f,10),h=rn(h,g,b,f,l,t[8],2053994217,15),b=ye(b,10),l=rn(l,h,g,b,f,t[6],2053994217,5),g=ye(g,10),f=rn(f,l,h,g,b,t[4],2053994217,8),h=ye(h,10),b=rn(b,f,l,h,g,t[1],2053994217,11),l=ye(l,10),g=rn(g,b,f,l,h,t[3],2053994217,14),f=ye(f,10),h=rn(h,g,b,f,l,t[11],2053994217,14),b=ye(b,10),l=rn(l,h,g,b,f,t[15],2053994217,6),g=ye(g,10),f=rn(f,l,h,g,b,t[0],2053994217,14),h=ye(h,10),b=rn(b,f,l,h,g,t[5],2053994217,6),l=ye(l,10),g=rn(g,b,f,l,h,t[12],2053994217,9),f=ye(f,10),h=rn(h,g,b,f,l,t[2],2053994217,12),b=ye(b,10),l=rn(l,h,g,b,f,t[13],2053994217,9),g=ye(g,10),f=rn(f,l,h,g,b,t[9],2053994217,12),h=ye(h,10),b=rn(b,f,l,h,g,t[7],2053994217,5),l=ye(l,10),g=rn(g,b,f,l,h,t[10],2053994217,15),f=ye(f,10),h=rn(h,g,b,f,l,t[14],2053994217,8),b=ye(b,10),l=tn(l,h,g,b,f,t[12],0,8),g=ye(g,10),f=tn(f,l,h,g,b,t[15],0,5),h=ye(h,10),b=tn(b,f,l,h,g,t[10],0,12),l=ye(l,10),g=tn(g,b,f,l,h,t[4],0,9),f=ye(f,10),h=tn(h,g,b,f,l,t[1],0,12),b=ye(b,10),l=tn(l,h,g,b,f,t[5],0,5),g=ye(g,10),f=tn(f,l,h,g,b,t[8],0,14),h=ye(h,10),b=tn(b,f,l,h,g,t[7],0,6),l=ye(l,10),g=tn(g,b,f,l,h,t[6],0,8),f=ye(f,10),h=tn(h,g,b,f,l,t[2],0,13),b=ye(b,10),l=tn(l,h,g,b,f,t[13],0,6),g=ye(g,10),f=tn(f,l,h,g,b,t[14],0,5),h=ye(h,10),b=tn(b,f,l,h,g,t[0],0,15),l=ye(l,10),g=tn(g,b,f,l,h,t[3],0,13),f=ye(f,10),h=tn(h,g,b,f,l,t[9],0,11),b=ye(b,10),l=tn(l,h,g,b,f,t[11],0,11),g=ye(g,10);var A=this._b+i+g|0;this._b=this._c+s+b|0,this._c=this._d+a+f|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=A};v8.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function ye(t,e){return t<<e|t>>>32-e}o(ye,"rotl");function tn(t,e,r,n,i,s,a,f){return ye(t+(e^r^n)+s+a|0,f)+i|0}o(tn,"fn1");function rn(t,e,r,n,i,s,a,f){return ye(t+(e&r|~e&n)+s+a|0,f)+i|0}o(rn,"fn2");function nn(t,e,r,n,i,s,a,f){return ye(t+((e|~r)^n)+s+a|0,f)+i|0}o(nn,"fn3");function on(t,e,r,n,i,s,a,f){return ye(t+(e&n|r&~n)+s+a|0,f)+i|0}o(on,"fn4");function sn(t,e,r,n,i,s,a,f){return ye(t+(e^(r|~n))+s+a|0,f)+i|0}o(sn,"fn5");Qce.exports=v8});var BB=q((n9t,nfe)=>{"use strict";p();m();var kqe=or().Buffer,Bqe=SB(),rfe=typeof Uint8Array<"u",Lqe=rfe&&typeof ArrayBuffer<"u",tfe=Lqe&&ArrayBuffer.isView;nfe.exports=function(t,e,r){if(typeof t=="string"||kqe.isBuffer(t)||rfe&&t instanceof Uint8Array||tfe&&tfe(t))return Bqe(t,e);throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}});var LB=q((s9t,afe)=>{"use strict";p();m();var Dqe=Wce(),Uqe=efe(),Fqe=p8(),og=or().Buffer,qqe=PB(),ife=kB(),ofe=BB(),Hqe=og.alloc(128),x8={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},Vqe={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function jqe(t){return new Uqe().update(t).digest()}o(jqe,"rmd160Func");function zqe(t){function e(r){return Fqe(t).update(r).digest()}return o(e,"shaFunc"),t==="rmd160"||t==="ripemd160"?jqe:t==="md5"?Dqe:e}o(zqe,"getDigest");function sfe(t,e,r){var n=zqe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=og.concat([e,Hqe],i));for(var s=og.allocUnsafe(i+x8[t]),a=og.allocUnsafe(i+x8[t]),f=0;f<i;f++)s[f]=e[f]^54,a[f]=e[f]^92;var l=og.allocUnsafe(i+r+4);s.copy(l,0,0,i),this.ipad1=l,this.ipad2=s,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=x8[t]}o(sfe,"Hmac");sfe.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Kqe(t,e,r,n,i){qqe(r,n),t=ofe(t,ife,"Password"),e=ofe(e,ife,"Salt");var s=(i||"sha1").toLowerCase(),a=Vqe[s]||s,f=x8[a];if(typeof f!="number"||!f)throw new TypeError("Digest algorithm not supported: "+i);var l=new sfe(a,t,e.length),h=og.allocUnsafe(n),g=og.allocUnsafe(e.length+4);e.copy(g,0,0,e.length);for(var b=0,A=f,T=Math.ceil(n/A),O=1;O<=T;O++){g.writeUInt32BE(O,e.length);for(var N=l.run(g,l.ipad1),P=N,C=1;C<r;C++){P=l.run(P,l.ipad2);for(var D=0;D<A;D++)N[D]^=P[D]}N.copy(h,b),b+=A}return h}o(Kqe,"pbkdf2");afe.exports=Kqe});var pfe=q((u9t,hfe)=>{"use strict";p();m();var lfe=or().Buffer,Gqe=PB(),cfe=kB(),ffe=LB(),ufe=BB(),_8,J2=self.crypto&&self.crypto.subtle,$qe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},DB=[],sg;function UB(){return sg||(self.process&&self.process.nextTick?sg=self.process.nextTick:self.queueMicrotask?sg=self.queueMicrotask:self.setImmediate?sg=self.setImmediate:sg=self.setTimeout,sg)}o(UB,"getNextTick");function dfe(t,e,r,n,i){return J2.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return J2.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return lfe.from(s)})}o(dfe,"browserPbkdf2");function Wqe(t){if(self.process&&!self.process.browser||!J2||!J2.importKey||!J2.deriveBits)return Promise.resolve(!1);if(DB[t]!==void 0)return DB[t];_8=_8||lfe.alloc(8);var e=dfe(_8,_8,10,128,t).then(function(){return!0},function(){return!1});return DB[t]=e,e}o(Wqe,"checkNative");function Yqe(t,e){t.then(function(r){UB()(function(){e(null,r)})},function(r){UB()(function(){e(r)})})}o(Yqe,"resolvePromise");hfe.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var a=$qe[i.toLowerCase()];if(!a||typeof self.Promise!="function"){UB()(function(){var f;try{f=ffe(t,e,r,n,i)}catch(l){s(l);return}s(null,f)});return}if(Gqe(r,n),t=ufe(t,cfe,"Password"),e=ufe(e,cfe,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");Yqe(Wqe(a).then(function(f){return f?dfe(t,e,r,n,a):ffe(t,e,r,n,i)}),s)}});var w8=q(FB=>{"use strict";p();m();FB.pbkdf2=pfe();FB.pbkdf2Sync=LB()});var qB=q(of=>{"use strict";p();m();of.readUInt32BE=o(function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0},"readUInt32BE");of.writeUInt32BE=o(function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255},"writeUInt32BE");of.ip=o(function(e,r,n,i){for(var s=0,a=0,f=6;f>=0;f-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>>l+f&1}for(var f=6;f>=0;f-=2){for(var l=1;l<=25;l+=8)a<<=1,a|=r>>>l+f&1;for(var l=1;l<=25;l+=8)a<<=1,a|=e>>>l+f&1}n[i+0]=s>>>0,n[i+1]=a>>>0},"ip");of.rip=o(function(e,r,n,i){for(var s=0,a=0,f=0;f<4;f++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+f&1,s<<=1,s|=e>>>l+f&1;for(var f=4;f<8;f++)for(var l=24;l>=0;l-=8)a<<=1,a|=r>>>l+f&1,a<<=1,a|=e>>>l+f&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"rip");of.pc1=o(function(e,r,n,i){for(var s=0,a=0,f=7;f>=5;f--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+f&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var f=1;f<=3;f++){for(var l=0;l<=24;l+=8)a<<=1,a|=r>>l+f&1;for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+f&1}for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+f&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc1");of.r28shl=o(function(e,r){return e<<r&268435455|e>>>28-r},"r28shl");var E8=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];of.pc2=o(function(e,r,n,i){for(var s=0,a=0,f=E8.length>>>1,l=0;l<f;l++)s<<=1,s|=e>>>E8[l]&1;for(var l=f;l<E8.length;l++)a<<=1,a|=r>>>E8[l]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc2");of.expand=o(function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var mfe=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];of.substitute=o(function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,a=mfe[i*64+s];n<<=4,n|=a}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,a=mfe[4*64+i*64+s];n<<=4,n|=a}return n>>>0},"substitute");var gfe=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];of.permute=o(function(e){for(var r=0,n=0;n<gfe.length;n++)r<<=1,r|=e>>>gfe[n]&1;return r>>>0},"permute");of.padSplit=o(function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],a=0;a<r;a+=n)s.push(i.slice(a,a+n));return s.join(" ")},"padSplit")});var Sc=q((_9t,bfe)=>{p();m();bfe.exports=yfe;function yfe(t,e){if(!t)throw new Error(e||"Assertion failed")}o(yfe,"assert");yfe.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual")});var S8=q((A9t,vfe)=>{"use strict";p();m();var Xqe=Sc();function sf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}o(sf,"Cipher");vfe.exports=sf;sf.prototype._init=o(function(){},"_init");sf.prototype.update=o(function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)},"update");sf.prototype._buffer=o(function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n},"_buffer");sf.prototype._flushBuffer=o(function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize},"_flushBuffer");sf.prototype._updateEncrypt=o(function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s},"_updateEncrypt");sf.prototype._updateDecrypt=o(function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s},"_updateDecrypt");sf.prototype.final=o(function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");sf.prototype._pad=o(function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0},"_pad");sf.prototype._finalEncrypt=o(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},"_finalEncrypt");sf.prototype._unpad=o(function(e){return e},"_unpad");sf.prototype._finalDecrypt=o(function(){Xqe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)},"_finalDecrypt")});var HB=q((O9t,wfe)=>{"use strict";p();m();var xfe=Sc(),Zqe=Gt(),ho=qB(),_fe=S8();function Jqe(){this.tmp=new Array(2),this.keys=null}o(Jqe,"DESState");function wl(t){_fe.call(this,t);var e=new Jqe;this._desState=e,this.deriveKeys(e,t.key)}o(wl,"DES");Zqe(wl,_fe);wfe.exports=wl;wl.create=o(function(e){return new wl(e)},"create");var Qqe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];wl.prototype.deriveKeys=o(function(e,r){e.keys=new Array(16*2),xfe.equal(r.length,this.blockSize,"Invalid key length");var n=ho.readUInt32BE(r,0),i=ho.readUInt32BE(r,4);ho.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=Qqe[s>>>1];n=ho.r28shl(n,a),i=ho.r28shl(i,a),ho.pc2(n,i,e.keys,s)}},"deriveKeys");wl.prototype._update=o(function(e,r,n,i){var s=this._desState,a=ho.readUInt32BE(e,r),f=ho.readUInt32BE(e,r+4);ho.ip(a,f,s.tmp,0),a=s.tmp[0],f=s.tmp[1],this.type==="encrypt"?this._encrypt(s,a,f,s.tmp,0):this._decrypt(s,a,f,s.tmp,0),a=s.tmp[0],f=s.tmp[1],ho.writeUInt32BE(n,a,i),ho.writeUInt32BE(n,f,i+4)},"_update");wl.prototype._pad=o(function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0},"_pad");wl.prototype._unpad=o(function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)xfe.equal(e[n],r);return e.slice(0,e.length-r)},"_unpad");wl.prototype._encrypt=o(function(e,r,n,i,s){for(var a=r,f=n,l=0;l<e.keys.length;l+=2){var h=e.keys[l],g=e.keys[l+1];ho.expand(f,e.tmp,0),h^=e.tmp[0],g^=e.tmp[1];var b=ho.substitute(h,g),A=ho.permute(b),T=f;f=(a^A)>>>0,a=T}ho.rip(f,a,i,s)},"_encrypt");wl.prototype._decrypt=o(function(e,r,n,i,s){for(var a=n,f=r,l=e.keys.length-2;l>=0;l-=2){var h=e.keys[l],g=e.keys[l+1];ho.expand(a,e.tmp,0),h^=e.tmp[0],g^=e.tmp[1];var b=ho.substitute(h,g),A=ho.permute(b),T=a;a=(f^A)>>>0,f=T}ho.rip(a,f,i,s)},"_decrypt")});var Sfe=q(Efe=>{"use strict";p();m();var eHe=Sc(),tHe=Gt(),A8={};function rHe(t){eHe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}o(rHe,"CBCState");function nHe(t){function e(s){t.call(this,s),this._cbcInit()}o(e,"CBC"),tHe(e,t);for(var r=Object.keys(A8),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=A8[i]}return e.create=o(function(a){return new e(a)},"create"),e}o(nHe,"instantiate");Efe.instantiate=nHe;A8._cbcInit=o(function(){var e=new rHe(this.options.iv);this._cbcState=e},"_cbcInit");A8._update=o(function(e,r,n,i){var s=this._cbcState,a=this.constructor.super_.prototype,f=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)f[l]^=e[r+l];a._update.call(this,f,0,n,i);for(var l=0;l<this.blockSize;l++)f[l]=n[i+l]}else{a._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=f[l];for(var l=0;l<this.blockSize;l++)f[l]=e[r+l]}},"_update")});var Tfe=q((D9t,Rfe)=>{"use strict";p();m();var iHe=Sc(),oHe=Gt(),Afe=S8(),R0=HB();function sHe(t,e){iHe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[R0.create({type:"encrypt",key:r}),R0.create({type:"decrypt",key:n}),R0.create({type:"encrypt",key:i})]:this.ciphers=[R0.create({type:"decrypt",key:i}),R0.create({type:"encrypt",key:n}),R0.create({type:"decrypt",key:r})]}o(sHe,"EDEState");function ag(t){Afe.call(this,t);var e=new sHe(this.type,this.options.key);this._edeState=e}o(ag,"EDE");oHe(ag,Afe);Rfe.exports=ag;ag.create=o(function(e){return new ag(e)},"create");ag.prototype._update=o(function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");ag.prototype._pad=R0.prototype._pad;ag.prototype._unpad=R0.prototype._unpad});var Ife=q(ub=>{"use strict";p();m();ub.utils=qB();ub.Cipher=S8();ub.DES=HB();ub.CBC=Sfe();ub.EDE=Tfe()});var Mfe=q((z9t,Nfe)=>{p();m();var Ofe=qd(),Hd=Ife(),aHe=Gt(),cg=or().Buffer,Q2={"des-ede3-cbc":Hd.CBC.instantiate(Hd.EDE),"des-ede3":Hd.EDE,"des-ede-cbc":Hd.CBC.instantiate(Hd.EDE),"des-ede":Hd.EDE,"des-cbc":Hd.CBC.instantiate(Hd.DES),"des-ecb":Hd.DES};Q2.des=Q2["des-cbc"];Q2.des3=Q2["des-ede3-cbc"];Nfe.exports=R8;aHe(R8,Ofe);function R8(t){Ofe.call(this);var e=t.mode.toLowerCase(),r=Q2[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;cg.isBuffer(i)||(i=cg.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=cg.concat([i,i.slice(0,8)]));var s=t.iv;cg.isBuffer(s)||(s=cg.from(s)),this._des=r.create({key:i,iv:s,type:n})}o(R8,"DES");R8.prototype._update=function(t){return cg.from(this._des.update(t))};R8.prototype._final=function(){return cg.from(this._des.final())}});var Cfe=q(VB=>{p();m();VB.encrypt=function(t,e){return t._cipher.encryptBlock(e)};VB.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var lb=q((Z9t,Pfe)=>{p();m();Pfe.exports=o(function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},"xor")});var Bfe=q(jB=>{p();m();var kfe=lb();jB.encrypt=function(t,e){var r=kfe(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};jB.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return kfe(n,r)}});var Ufe=q(Dfe=>{p();m();var ew=or().Buffer,cHe=lb();function Lfe(t,e,r){var n=e.length,i=cHe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=ew.concat([t._prev,r?e:i]),i}o(Lfe,"encryptStart");Dfe.encrypt=function(t,e,r){for(var n=ew.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=ew.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=ew.concat([n,Lfe(t,e.slice(0,i),r)]),e=e.slice(i);else{n=ew.concat([n,Lfe(t,e,r)]);break}return n}});var qfe=q(Ffe=>{p();m();var zB=or().Buffer;function fHe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=zB.concat([t._prev.slice(1),zB.from([r?e:i])]),i}o(fHe,"encryptByte");Ffe.encrypt=function(t,e,r){for(var n=e.length,i=zB.allocUnsafe(n),s=-1;++s<n;)i[s]=fHe(t,e[s],r);return i}});var Vfe=q(Hfe=>{p();m();var T8=or().Buffer;function uHe(t,e,r){for(var n,i=-1,s=8,a=0,f,l;++i<s;)n=t._cipher.encryptBlock(t._prev),f=e&1<<7-i?128:0,l=n[0]^f,a+=(l&128)>>i%8,t._prev=lHe(t._prev,r?f:l);return a}o(uHe,"encryptByte");function lHe(t,e){var r=t.length,n=-1,i=T8.allocUnsafe(t.length);for(t=T8.concat([t,T8.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}o(lHe,"shiftIn");Hfe.encrypt=function(t,e,r){for(var n=e.length,i=T8.allocUnsafe(n),s=-1;++s<n;)i[s]=uHe(t,e[s],r);return i}});var zfe=q(jfe=>{p();m();var dHe=lb();function hHe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}o(hHe,"getBlock");jfe.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,hHe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),dHe(e,r)}});var KB=q((xNt,Kfe)=>{p();m();function pHe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}o(pHe,"incr32");Kfe.exports=pHe});var $B=q($fe=>{p();m();var mHe=lb(),Gfe=or().Buffer,gHe=KB();function yHe(t){var e=t._cipher.encryptBlockRaw(t._prev);return gHe(t._prev),e}o(yHe,"getBlock");var GB=16;$fe.encrypt=function(t,e){var r=Math.ceil(e.length/GB),n=t._cache.length;t._cache=Gfe.concat([t._cache,Gfe.allocUnsafe(r*GB)]);for(var i=0;i<r;i++){var s=yHe(t),a=n+i*GB;t._cache.writeUInt32BE(s[0],a+0),t._cache.writeUInt32BE(s[1],a+4),t._cache.writeUInt32BE(s[2],a+8),t._cache.writeUInt32BE(s[3],a+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),mHe(e,f)}});var WB=q((INt,bHe)=>{bHe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var O8=q((ONt,Wfe)=>{p();m();var vHe={ECB:Cfe(),CBC:Bfe(),CFB:Ufe(),CFB8:qfe(),CFB1:Vfe(),OFB:zfe(),CTR:$B(),GCM:$B()},I8=WB();for(YB in I8)I8[YB].module=vHe[I8[YB].mode];var YB;Wfe.exports=I8});var tw=q((CNt,Xfe)=>{p();m();var N8=or().Buffer;function ZB(t){N8.isBuffer(t)||(t=N8.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}o(ZB,"asUInt32Array");function XB(t){for(var e=0;e<t.length;t++)t[e]=0}o(XB,"scrubVec");function Yfe(t,e,r,n,i){for(var s=r[0],a=r[1],f=r[2],l=r[3],h=t[0]^e[0],g=t[1]^e[1],b=t[2]^e[2],A=t[3]^e[3],T,O,N,P,C=4,D=1;D<i;D++)T=s[h>>>24]^a[g>>>16&255]^f[b>>>8&255]^l[A&255]^e[C++],O=s[g>>>24]^a[b>>>16&255]^f[A>>>8&255]^l[h&255]^e[C++],N=s[b>>>24]^a[A>>>16&255]^f[h>>>8&255]^l[g&255]^e[C++],P=s[A>>>24]^a[h>>>16&255]^f[g>>>8&255]^l[b&255]^e[C++],h=T,g=O,b=N,A=P;return T=(n[h>>>24]<<24|n[g>>>16&255]<<16|n[b>>>8&255]<<8|n[A&255])^e[C++],O=(n[g>>>24]<<24|n[b>>>16&255]<<16|n[A>>>8&255]<<8|n[h&255])^e[C++],N=(n[b>>>24]<<24|n[A>>>16&255]<<16|n[h>>>8&255]<<8|n[g&255])^e[C++],P=(n[A>>>24]<<24|n[h>>>16&255]<<16|n[g>>>8&255]<<8|n[b&255])^e[C++],T=T>>>0,O=O>>>0,N=N>>>0,P=P>>>0,[T,O,N,P]}o(Yfe,"cryptBlock");var xHe=[0,1,2,4,8,16,32,64,128,27,54],to=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,f=0,l=0;l<256;++l){var h=f^f<<1^f<<2^f<<3^f<<4;h=h>>>8^h&255^99,r[a]=h,n[h]=a;var g=t[a],b=t[g],A=t[b],T=t[h]*257^h*16843008;i[0][a]=T<<24|T>>>8,i[1][a]=T<<16|T>>>16,i[2][a]=T<<8|T>>>24,i[3][a]=T,T=A*16843009^b*65537^g*257^a*16843008,s[0][h]=T<<24|T>>>8,s[1][h]=T<<16|T>>>16,s[2][h]=T<<8|T>>>24,s[3][h]=T,a===0?a=f=1:(a=g^t[t[t[A^g]]],f^=t[t[f]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function af(t){this._key=ZB(t),this._reset()}o(af,"AES");af.blockSize=4*4;af.keySize=256/8;af.prototype.blockSize=af.blockSize;af.prototype.keySize=af.keySize;af.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var a=i[s-1];s%e===0?(a=a<<8|a>>>24,a=to.SBOX[a>>>24]<<24|to.SBOX[a>>>16&255]<<16|to.SBOX[a>>>8&255]<<8|to.SBOX[a&255],a^=xHe[s/e|0]<<24):e>6&&s%e===4&&(a=to.SBOX[a>>>24]<<24|to.SBOX[a>>>16&255]<<16|to.SBOX[a>>>8&255]<<8|to.SBOX[a&255]),i[s]=i[s-e]^a}for(var f=[],l=0;l<n;l++){var h=n-l,g=i[h-(l%4?0:4)];l<4||h<=4?f[l]=g:f[l]=to.INV_SUB_MIX[0][to.SBOX[g>>>24]]^to.INV_SUB_MIX[1][to.SBOX[g>>>16&255]]^to.INV_SUB_MIX[2][to.SBOX[g>>>8&255]]^to.INV_SUB_MIX[3][to.SBOX[g&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=f};af.prototype.encryptBlockRaw=function(t){return t=ZB(t),Yfe(t,this._keySchedule,to.SUB_MIX,to.SBOX,this._nRounds)};af.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=N8.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};af.prototype.decryptBlock=function(t){t=ZB(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Yfe(t,this._invKeySchedule,to.INV_SUB_MIX,to.INV_SBOX,this._nRounds),n=N8.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};af.prototype.scrub=function(){XB(this._keySchedule),XB(this._invKeySchedule),XB(this._key)};Xfe.exports.AES=af});var Qfe=q((LNt,Jfe)=>{p();m();var db=or().Buffer,_He=db.alloc(16,0);function wHe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}o(wHe,"toArray");function Zfe(t){var e=db.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}o(Zfe,"fromArray");function rw(t){this.h=t,this.state=db.alloc(16,0),this.cache=db.allocUnsafe(0)}o(rw,"GHASH");rw.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};rw.prototype._multiply=function(){for(var t=wHe(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=Zfe(e)};rw.prototype.update=function(t){this.cache=db.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};rw.prototype.final=function(t,e){return this.cache.length&&this.ghash(db.concat([this.cache,_He],16)),this.ghash(Zfe([0,t,0,e])),this.state};Jfe.exports=rw});var JB=q((qNt,rue)=>{p();m();var EHe=tw(),ja=or().Buffer,eue=qd(),SHe=Gt(),tue=Qfe(),AHe=lb(),RHe=KB();function THe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}o(THe,"xorTest");function IHe(t,e,r){if(e.length===12)return t._finID=ja.concat([e,ja.from([0,0,0,1])]),ja.concat([e,ja.from([0,0,0,2])]);var n=new tue(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(ja.alloc(s,0))),n.update(ja.alloc(8,0));var a=i*8,f=ja.alloc(8);f.writeUIntBE(a,0,8),n.update(f),t._finID=n.state;var l=ja.from(t._finID);return RHe(l),l}o(IHe,"calcIv");function fg(t,e,r,n){eue.call(this);var i=ja.alloc(4,0);this._cipher=new EHe.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new tue(s),r=IHe(this,r,s),this._prev=ja.from(r),this._cache=ja.allocUnsafe(0),this._secCache=ja.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(fg,"StreamCipher");SHe(fg,eue);fg.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=ja.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};fg.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=AHe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&THe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};fg.prototype.getAuthTag=o(function(){if(this._decrypt||!ja.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");fg.prototype.setAuthTag=o(function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},"setAuthTag");fg.prototype.setAAD=o(function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},"setAAD");rue.exports=fg});var eL=q((zNt,iue)=>{p();m();var OHe=tw(),QB=or().Buffer,nue=qd(),NHe=Gt();function M8(t,e,r,n){nue.call(this),this._cipher=new OHe.AES(e),this._prev=QB.from(r),this._cache=QB.allocUnsafe(0),this._secCache=QB.allocUnsafe(0),this._decrypt=n,this._mode=t}o(M8,"StreamCipher");NHe(M8,nue);M8.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};M8.prototype._final=function(){this._cipher.scrub()};iue.exports=M8});var nw=q((WNt,oue)=>{p();m();var ug=or().Buffer,MHe=M4();function CHe(t,e,r,n){if(ug.isBuffer(t)||(t=ug.from(t,"binary")),e&&(ug.isBuffer(e)||(e=ug.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=ug.alloc(i),a=ug.alloc(n||0),f=ug.alloc(0);i>0||n>0;){var l=new MHe;l.update(f),l.update(t),e&&l.update(e),f=l.digest();var h=0;if(i>0){var g=s.length-i;h=Math.min(i,f.length),f.copy(s,g,0,h),i-=h}if(h<f.length&&n>0){var b=a.length-n,A=Math.min(n,f.length-h);f.copy(a,b,h,h+A),n-=A}}return f.fill(0),{key:s,iv:a}}o(CHe,"EVP_BytesToKey");oue.exports=CHe});var fue=q(tL=>{p();m();var sue=O8(),PHe=JB(),Vd=or().Buffer,kHe=eL(),aue=qd(),BHe=tw(),LHe=nw(),DHe=Gt();function iw(t,e,r){aue.call(this),this._cache=new C8,this._cipher=new BHe.AES(e),this._prev=Vd.from(r),this._mode=t,this._autopadding=!0}o(iw,"Cipher");DHe(iw,aue);iw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Vd.concat(n)};var UHe=Vd.alloc(16,16);iw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(UHe))throw this._cipher.scrub(),new Error("data not multiple of block length")};iw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function C8(){this.cache=Vd.allocUnsafe(0)}o(C8,"Splitter");C8.prototype.add=function(t){this.cache=Vd.concat([this.cache,t])};C8.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};C8.prototype.flush=function(){for(var t=16-this.cache.length,e=Vd.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Vd.concat([this.cache,e])};function cue(t,e,r){var n=sue[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Vd.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Vd.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new kHe(n.module,e,r):n.type==="auth"?new PHe(n.module,e,r):new iw(n.module,e,r)}o(cue,"createCipheriv");function FHe(t,e){var r=sue[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=LHe(e,!1,r.key,r.iv);return cue(t,n.key,n.iv)}o(FHe,"createCipher");tL.createCipheriv=cue;tL.createCipher=FHe});var hue=q(rL=>{p();m();var qHe=JB(),hb=or().Buffer,uue=O8(),HHe=eL(),lue=qd(),VHe=tw(),jHe=nw(),zHe=Gt();function ow(t,e,r){lue.call(this),this._cache=new P8,this._last=void 0,this._cipher=new VHe.AES(e),this._prev=hb.from(r),this._mode=t,this._autopadding=!0}o(ow,"Decipher");zHe(ow,lue);ow.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return hb.concat(n)};ow.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return KHe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};ow.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function P8(){this.cache=hb.allocUnsafe(0)}o(P8,"Splitter");P8.prototype.add=function(t){this.cache=hb.concat([this.cache,t])};P8.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};P8.prototype.flush=function(){if(this.cache.length)return this.cache};function KHe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}o(KHe,"unpad");function due(t,e,r){var n=uue[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=hb.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=hb.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new HHe(n.module,e,r,!0):n.type==="auth"?new qHe(n.module,e,r,!0):new ow(n.module,e,r)}o(due,"createDecipheriv");function GHe(t,e){var r=uue[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=jHe(e,!1,r.key,r.iv);return due(t,n.key,n.iv)}o(GHe,"createDecipher");rL.createDecipher=GHe;rL.createDecipheriv=due});var k8=q(pu=>{p();m();var pue=fue(),mue=hue(),$He=WB();function WHe(){return Object.keys($He)}o(WHe,"getCiphers");pu.createCipher=pu.Cipher=pue.createCipher;pu.createCipheriv=pu.Cipheriv=pue.createCipheriv;pu.createDecipher=pu.Decipher=mue.createDecipher;pu.createDecipheriv=pu.Decipheriv=mue.createDecipheriv;pu.listCiphers=pu.getCiphers=WHe});var gue=q(jd=>{p();m();jd["des-ecb"]={key:8,iv:0};jd["des-cbc"]=jd.des={key:8,iv:8};jd["des-ede3-cbc"]=jd.des3={key:24,iv:8};jd["des-ede3"]={key:24,iv:0};jd["des-ede-cbc"]={key:16,iv:8};jd["des-ede"]={key:16,iv:0}});var _ue=q(mu=>{p();m();var yue=Mfe(),nL=k8(),T0=O8(),zd=gue(),bue=nw();function YHe(t,e){t=t.toLowerCase();var r,n;if(T0[t])r=T0[t].key,n=T0[t].iv;else if(zd[t])r=zd[t].key*8,n=zd[t].iv;else throw new TypeError("invalid suite type");var i=bue(e,!1,r,n);return vue(t,i.key,i.iv)}o(YHe,"createCipher");function XHe(t,e){t=t.toLowerCase();var r,n;if(T0[t])r=T0[t].key,n=T0[t].iv;else if(zd[t])r=zd[t].key*8,n=zd[t].iv;else throw new TypeError("invalid suite type");var i=bue(e,!1,r,n);return xue(t,i.key,i.iv)}o(XHe,"createDecipher");function vue(t,e,r){if(t=t.toLowerCase(),T0[t])return nL.createCipheriv(t,e,r);if(zd[t])return new yue({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}o(vue,"createCipheriv");function xue(t,e,r){if(t=t.toLowerCase(),T0[t])return nL.createDecipheriv(t,e,r);if(zd[t])return new yue({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}o(xue,"createDecipheriv");function ZHe(){return Object.keys(zd).concat(nL.getCiphers())}o(ZHe,"getCiphers");mu.createCipher=mu.Cipher=YHe;mu.createCipheriv=mu.Cipheriv=vue;mu.createDecipher=mu.Decipher=XHe;mu.createDecipheriv=mu.Decipheriv=xue;mu.listCiphers=mu.getCiphers=ZHe});var oL=q((wue,iL)=>{p();m();(function(t,e){"use strict";function r(E,c){if(!E)throw new Error(c||"Assertion failed")}o(r,"assert");function n(E,c){E.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,c,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=o1().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,y):(this._parseBase(c,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},"init"),i.prototype._initNumber=o(function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},"_initNumber"),i.prototype._initArray=o(function(c,d,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,S,R=0;if(y==="be")for(v=c.length-1,w=0;v>=0;v-=3)S=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(y==="le")for(v=0,w=0;v<c.length;v+=3)S=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this.strip()},"_initArray");function a(E,c){var d=E.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(E,c,d){var y=a(E,d);return d-1>=c&&(y|=a(E,d-1)<<4),y}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,S=0,R;if(y==="be")for(v=c.length-1;v>=d;v-=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8;else{var x=c.length-d;for(v=x%2===0?d+1:d;v<c.length;v+=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8}this.strip()},"_parseHex");function l(E,c,d,y){for(var v=0,w=Math.min(E.length,d),S=c;S<w;S++){var R=E.charCodeAt(S)-48;v*=y,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,y){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=d)v++;v--,w=w/d|0;for(var S=c.length-y,R=S%v,x=Math.min(S,S-R)+y,u=0,_=y;_<x;_+=v)u=l(c,_,_+v,d),this.imuln(w),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=l(c,_,c.length,d),_=0;_<R;_++)H*=d;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var v=0,w=0,S=0;S<this.length;S++){var R=this.words[S],x=((R<<v|w)&16777215).toString(16);w=R>>>24-v&16777215,w!==0||S!==this.length-1?y=h[6-x.length]+x+y:y=x+y,v+=2,v>=26&&(v-=26,S--)}for(w!==0&&(y=w.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var u=g[c],_=b[c];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var F=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?y=F+y:y=h[u-F.length]+F+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,y){var v=this.byteLength(),w=y||Math.max(1,v);r(v<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var S=d==="le",R=new c(w),x,u,_=this.clone();if(S){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<w;u++)R[u]=0}else{for(u=0;u<w-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[w-u-1]=x}return R},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function A(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var y=d/26|0,v=d%26;c[d]=(E.words[y]&1<<v)>>>v}return c}o(A,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var y=c/26|0,v=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,v;this.length>c.length?(y=this,v=c):(y=c,v=this);for(var w=0,S=0;S<v.length;S++)d=(y.words[S]|0)+(v.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<y.length;S++)d=(y.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;y>0?(v=this,w=c):(v=c,w=this);for(var S=0,R=0;R<w.length;R++)d=(v.words[R]|0)-(w.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;for(;S!==0&&R<v.length;R++)d=(v.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;if(S===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function T(E,c,d){d.negative=c.negative^E.negative;var y=E.length+c.length|0;d.length=y,y=y-1|0;var v=E.words[0]|0,w=c.words[0]|0,S=v*w,R=S&67108863,x=S/67108864|0;d.words[0]=R;for(var u=1;u<y;u++){for(var _=x>>>26,H=x&67108863,F=Math.min(u,c.length-1),L=Math.max(0,u-E.length+1);L<=F;L++){var $=u-L|0;v=E.words[$]|0,w=c.words[L]|0,S=v*w+H,_+=S/67108864|0,H=S&67108863}d.words[u]=H|0,x=_|0}return x!==0?d.words[u]=x|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(c,d,y){var v=c.words,w=d.words,S=y.words,R=0,x,u,_,H=v[0]|0,F=H&8191,L=H>>>13,$=v[1]|0,Q=$&8191,re=$>>>13,Me=v[2]|0,fe=Me&8191,le=Me>>>13,xe=v[3]|0,he=xe&8191,ge=xe>>>13,tr=v[4]|0,Ae=tr&8191,Oe=tr>>>13,Bn=v[5]|0,He=Bn&8191,Pe=Bn>>>13,Ln=v[6]|0,Ue=Ln&8191,Be=Ln>>>13,Dn=v[7]|0,ke=Dn&8191,Le=Dn>>>13,Kr=v[8]|0,X=Kr&8191,Z=Kr>>>13,pe=v[9]|0,ne=pe&8191,de=pe>>>13,yt=w[0]|0,be=yt&8191,Se=yt>>>13,Xt=w[1]|0,Re=Xt&8191,Ne=Xt>>>13,Zn=w[2]|0,Fe=Zn&8191,De=Zn>>>13,Qi=w[3]|0,Ge=Qi&8191,$e=Qi>>>13,Un=w[4]|0,qe=Un&8191,Ve=Un>>>13,Vi=w[5]|0,je=Vi&8191,ze=Vi>>>13,ao=w[6]|0,Ce=ao&8191,Ke=ao>>>13,z=w[7]|0,G=z&8191,K=z>>>13,B=w[8]|0,W=B&8191,J=B>>>13,me=w[9]|0,se=me&8191,ue=me>>>13;y.negative=c.negative^d.negative,y.length=19,x=Math.imul(F,be),u=Math.imul(F,Se),u=u+Math.imul(L,be)|0,_=Math.imul(L,Se);var lt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Q,be),u=Math.imul(Q,Se),u=u+Math.imul(re,be)|0,_=Math.imul(re,Se),x=x+Math.imul(F,Re)|0,u=u+Math.imul(F,Ne)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Ne)|0;var rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(fe,be),u=Math.imul(fe,Se),u=u+Math.imul(le,be)|0,_=Math.imul(le,Se),x=x+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ne)|0,u=u+Math.imul(re,Re)|0,_=_+Math.imul(re,Ne)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(F,De)|0,u=u+Math.imul(L,Fe)|0,_=_+Math.imul(L,De)|0;var Bt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(he,be),u=Math.imul(he,Se),u=u+Math.imul(ge,be)|0,_=Math.imul(ge,Se),x=x+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,x=x+Math.imul(Q,Fe)|0,u=u+Math.imul(Q,De)|0,u=u+Math.imul(re,Fe)|0,_=_+Math.imul(re,De)|0,x=x+Math.imul(F,Ge)|0,u=u+Math.imul(F,$e)|0,u=u+Math.imul(L,Ge)|0,_=_+Math.imul(L,$e)|0;var st=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Ae,be),u=Math.imul(Ae,Se),u=u+Math.imul(Oe,be)|0,_=Math.imul(Oe,Se),x=x+Math.imul(he,Re)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Re)|0,_=_+Math.imul(ge,Ne)|0,x=x+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(le,Fe)|0,_=_+Math.imul(le,De)|0,x=x+Math.imul(Q,Ge)|0,u=u+Math.imul(Q,$e)|0,u=u+Math.imul(re,Ge)|0,_=_+Math.imul(re,$e)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(F,Ve)|0,u=u+Math.imul(L,qe)|0,_=_+Math.imul(L,Ve)|0;var vt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(He,be),u=Math.imul(He,Se),u=u+Math.imul(Pe,be)|0,_=Math.imul(Pe,Se),x=x+Math.imul(Ae,Re)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Oe,Re)|0,_=_+Math.imul(Oe,Ne)|0,x=x+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,_=_+Math.imul(ge,De)|0,x=x+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,x=x+Math.imul(Q,qe)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(re,qe)|0,_=_+Math.imul(re,Ve)|0,x=x+Math.imul(F,je)|0,u=u+Math.imul(F,ze)|0,u=u+Math.imul(L,je)|0,_=_+Math.imul(L,ze)|0;var xt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Ue,be),u=Math.imul(Ue,Se),u=u+Math.imul(Be,be)|0,_=Math.imul(Be,Se),x=x+Math.imul(He,Re)|0,u=u+Math.imul(He,Ne)|0,u=u+Math.imul(Pe,Re)|0,_=_+Math.imul(Pe,Ne)|0,x=x+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Oe,Fe)|0,_=_+Math.imul(Oe,De)|0,x=x+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,$e)|0,x=x+Math.imul(fe,qe)|0,u=u+Math.imul(fe,Ve)|0,u=u+Math.imul(le,qe)|0,_=_+Math.imul(le,Ve)|0,x=x+Math.imul(Q,je)|0,u=u+Math.imul(Q,ze)|0,u=u+Math.imul(re,je)|0,_=_+Math.imul(re,ze)|0,x=x+Math.imul(F,Ce)|0,u=u+Math.imul(F,Ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ke)|0;var Rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,x=Math.imul(ke,be),u=Math.imul(ke,Se),u=u+Math.imul(Le,be)|0,_=Math.imul(Le,Se),x=x+Math.imul(Ue,Re)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Be,Re)|0,_=_+Math.imul(Be,Ne)|0,x=x+Math.imul(He,Fe)|0,u=u+Math.imul(He,De)|0,u=u+Math.imul(Pe,Fe)|0,_=_+Math.imul(Pe,De)|0,x=x+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Oe,Ge)|0,_=_+Math.imul(Oe,$e)|0,x=x+Math.imul(he,qe)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,qe)|0,_=_+Math.imul(ge,Ve)|0,x=x+Math.imul(fe,je)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,ze)|0,x=x+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ke)|0,u=u+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ke)|0,x=x+Math.imul(F,G)|0,u=u+Math.imul(F,K)|0,u=u+Math.imul(L,G)|0,_=_+Math.imul(L,K)|0;var At=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(X,be),u=Math.imul(X,Se),u=u+Math.imul(Z,be)|0,_=Math.imul(Z,Se),x=x+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ne)|0,u=u+Math.imul(Le,Re)|0,_=_+Math.imul(Le,Ne)|0,x=x+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Be,Fe)|0,_=_+Math.imul(Be,De)|0,x=x+Math.imul(He,Ge)|0,u=u+Math.imul(He,$e)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,$e)|0,x=x+Math.imul(Ae,qe)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Oe,qe)|0,_=_+Math.imul(Oe,Ve)|0,x=x+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,_=_+Math.imul(ge,ze)|0,x=x+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ke)|0,x=x+Math.imul(Q,G)|0,u=u+Math.imul(Q,K)|0,u=u+Math.imul(re,G)|0,_=_+Math.imul(re,K)|0,x=x+Math.imul(F,W)|0,u=u+Math.imul(F,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var _t=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(ne,be),u=Math.imul(ne,Se),u=u+Math.imul(de,be)|0,_=Math.imul(de,Se),x=x+Math.imul(X,Re)|0,u=u+Math.imul(X,Ne)|0,u=u+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Ne)|0,x=x+Math.imul(ke,Fe)|0,u=u+Math.imul(ke,De)|0,u=u+Math.imul(Le,Fe)|0,_=_+Math.imul(Le,De)|0,x=x+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,$e)|0,x=x+Math.imul(He,qe)|0,u=u+Math.imul(He,Ve)|0,u=u+Math.imul(Pe,qe)|0,_=_+Math.imul(Pe,Ve)|0,x=x+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Oe,je)|0,_=_+Math.imul(Oe,ze)|0,x=x+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ke)|0,x=x+Math.imul(fe,G)|0,u=u+Math.imul(fe,K)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,K)|0,x=x+Math.imul(Q,W)|0,u=u+Math.imul(Q,J)|0,u=u+Math.imul(re,W)|0,_=_+Math.imul(re,J)|0,x=x+Math.imul(F,se)|0,u=u+Math.imul(F,ue)|0,u=u+Math.imul(L,se)|0,_=_+Math.imul(L,ue)|0;var Et=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(ne,Re),u=Math.imul(ne,Ne),u=u+Math.imul(de,Re)|0,_=Math.imul(de,Ne),x=x+Math.imul(X,Fe)|0,u=u+Math.imul(X,De)|0,u=u+Math.imul(Z,Fe)|0,_=_+Math.imul(Z,De)|0,x=x+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,$e)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,$e)|0,x=x+Math.imul(Ue,qe)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(He,je)|0,u=u+Math.imul(He,ze)|0,u=u+Math.imul(Pe,je)|0,_=_+Math.imul(Pe,ze)|0,x=x+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Oe,Ce)|0,_=_+Math.imul(Oe,Ke)|0,x=x+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,_=_+Math.imul(ge,K)|0,x=x+Math.imul(fe,W)|0,u=u+Math.imul(fe,J)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,J)|0,x=x+Math.imul(Q,se)|0,u=u+Math.imul(Q,ue)|0,u=u+Math.imul(re,se)|0,_=_+Math.imul(re,ue)|0;var wt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,_=Math.imul(de,De),x=x+Math.imul(X,Ge)|0,u=u+Math.imul(X,$e)|0,u=u+Math.imul(Z,Ge)|0,_=_+Math.imul(Z,$e)|0,x=x+Math.imul(ke,qe)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Le,qe)|0,_=_+Math.imul(Le,Ve)|0,x=x+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Be,je)|0,_=_+Math.imul(Be,ze)|0,x=x+Math.imul(He,Ce)|0,u=u+Math.imul(He,Ke)|0,u=u+Math.imul(Pe,Ce)|0,_=_+Math.imul(Pe,Ke)|0,x=x+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Oe,G)|0,_=_+Math.imul(Oe,K)|0,x=x+Math.imul(he,W)|0,u=u+Math.imul(he,J)|0,u=u+Math.imul(ge,W)|0,_=_+Math.imul(ge,J)|0,x=x+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),x=x+Math.imul(X,qe)|0,u=u+Math.imul(X,Ve)|0,u=u+Math.imul(Z,qe)|0,_=_+Math.imul(Z,Ve)|0,x=x+Math.imul(ke,je)|0,u=u+Math.imul(ke,ze)|0,u=u+Math.imul(Le,je)|0,_=_+Math.imul(Le,ze)|0,x=x+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Be,Ce)|0,_=_+Math.imul(Be,Ke)|0,x=x+Math.imul(He,G)|0,u=u+Math.imul(He,K)|0,u=u+Math.imul(Pe,G)|0,_=_+Math.imul(Pe,K)|0,x=x+Math.imul(Ae,W)|0,u=u+Math.imul(Ae,J)|0,u=u+Math.imul(Oe,W)|0,_=_+Math.imul(Oe,J)|0,x=x+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,_=_+Math.imul(ge,ue)|0;var dt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(ne,qe),u=Math.imul(ne,Ve),u=u+Math.imul(de,qe)|0,_=Math.imul(de,Ve),x=x+Math.imul(X,je)|0,u=u+Math.imul(X,ze)|0,u=u+Math.imul(Z,je)|0,_=_+Math.imul(Z,ze)|0,x=x+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ke)|0,u=u+Math.imul(Le,Ce)|0,_=_+Math.imul(Le,Ke)|0,x=x+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Be,G)|0,_=_+Math.imul(Be,K)|0,x=x+Math.imul(He,W)|0,u=u+Math.imul(He,J)|0,u=u+Math.imul(Pe,W)|0,_=_+Math.imul(Pe,J)|0,x=x+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Oe,se)|0,_=_+Math.imul(Oe,ue)|0;var ot=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,_=Math.imul(de,ze),x=x+Math.imul(X,Ce)|0,u=u+Math.imul(X,Ke)|0,u=u+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,Ke)|0,x=x+Math.imul(ke,G)|0,u=u+Math.imul(ke,K)|0,u=u+Math.imul(Le,G)|0,_=_+Math.imul(Le,K)|0,x=x+Math.imul(Ue,W)|0,u=u+Math.imul(Ue,J)|0,u=u+Math.imul(Be,W)|0,_=_+Math.imul(Be,J)|0,x=x+Math.imul(He,se)|0,u=u+Math.imul(He,ue)|0,u=u+Math.imul(Pe,se)|0,_=_+Math.imul(Pe,ue)|0;var ft=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,Ke),x=x+Math.imul(X,G)|0,u=u+Math.imul(X,K)|0,u=u+Math.imul(Z,G)|0,_=_+Math.imul(Z,K)|0,x=x+Math.imul(ke,W)|0,u=u+Math.imul(ke,J)|0,u=u+Math.imul(Le,W)|0,_=_+Math.imul(Le,J)|0,x=x+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Be,se)|0,_=_+Math.imul(Be,ue)|0;var ut=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,_=Math.imul(de,K),x=x+Math.imul(X,W)|0,u=u+Math.imul(X,J)|0,u=u+Math.imul(Z,W)|0,_=_+Math.imul(Z,J)|0,x=x+Math.imul(ke,se)|0,u=u+Math.imul(ke,ue)|0,u=u+Math.imul(Le,se)|0,_=_+Math.imul(Le,ue)|0;var tt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ne,W),u=Math.imul(ne,J),u=u+Math.imul(de,W)|0,_=Math.imul(de,J),x=x+Math.imul(X,se)|0,u=u+Math.imul(X,ue)|0,u=u+Math.imul(Z,se)|0,_=_+Math.imul(Z,ue)|0;var ve=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,S[0]=lt,S[1]=rt,S[2]=Bt,S[3]=st,S[4]=vt,S[5]=xt,S[6]=Rt,S[7]=At,S[8]=_t,S[9]=Et,S[10]=wt,S[11]=ct,S[12]=dt,S[13]=ot,S[14]=ft,S[15]=ut,S[16]=tt,S[17]=ve,S[18]=_e,R!==0&&(S[19]=R,y.length++),y},"comb10MulTo");Math.imul||(O=T);function N(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var y=0,v=0,w=0;w<d.length-1;w++){var S=v;v=0;for(var R=y&67108863,x=Math.min(w,c.length-1),u=Math.max(0,w-E.length+1);u<=x;u++){var _=w-u,H=E.words[_]|0,F=c.words[u]|0,L=H*F,$=L&67108863;S=S+(L/67108864|0)|0,$=$+R|0,R=$&67108863,S=S+($>>>26)|0,v+=S>>>26,S&=67108863}d.words[w]=R,y=S,S=v}return y!==0?d.words[w]=y:d.length--,d.strip()}o(N,"bigMulTo");function P(E,c,d){var y=new C;return y.mulp(E,c,d)}o(P,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var y,v=this.length+c.length;return this.length===10&&c.length===10?y=O(this,c,d):v<63?y=T(this,c,d):v<1024?y=N(this,c,d):y=P(this,c,d),y},"mulTo");function C(E,c){this.x=E,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),y=i.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,y,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,y){if(c===0||c===y-1)return c;for(var v=0,w=0;w<d;w++)v|=(c&1)<<d-w-1,c>>=1;return v},"revBin"),C.prototype.permute=o(function(c,d,y,v,w,S){for(var R=0;R<S;R++)v[R]=d[c[R]],w[R]=y[c[R]]},"permute"),C.prototype.transform=o(function(c,d,y,v,w,S){this.permute(S,c,d,y,v,w);for(var R=1;R<w;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<w;H+=x)for(var F=u,L=_,$=0;$<R;$++){var Q=y[H+$],re=v[H+$],Me=y[H+$+R],fe=v[H+$+R],le=F*Me-L*fe;fe=F*fe+L*Me,Me=le,y[H+$]=Q+Me,v[H+$]=re+fe,y[H+$+R]=Q-Me,v[H+$+R]=re-fe,$!==x&&(le=u*F-_*L,L=u*L+_*F,F=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var y=Math.max(d,c)|1,v=y&1,w=0;for(y=y/2|0;y;y=y>>>1)w++;return 1<<w+1+v},"guessLen13b"),C.prototype.conjugate=o(function(c,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var w=c[v];c[v]=c[y-v-1],c[y-v-1]=w,w=d[v],d[v]=-d[y-v-1],d[y-v-1]=-w}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var y=0,v=0;v<d/2;v++){var w=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+y;c[v]=w&67108863,w<67108864?y=0:y=w/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,y,v){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),y[2*S]=w&8191,w=w>>>13,y[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<v;++S)y[S]=0;r(w===0),r((w&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),y=0;y<c;y++)d[y]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,y){var v=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(v),S=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),F=new Array(v),L=y.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(d.words,d.length,_,v),this.transform(R,S,x,u,v,w),this.transform(_,S,H,F,v,w);for(var $=0;$<v;$++){var Q=x[$]*H[$]-u[$]*F[$];u[$]=x[$]*F[$]+u[$]*H[$],x[$]=Q}return this.conjugate(x,u,v),this.transform(x,u,L,S,v,w),this.conjugate(L,S,v),this.normalize13b(L,v),y.negative=c.negative^d.negative,y.length=c.length+d.length,y.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),P(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*c,w=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=w>>>26,this.words[y]=w&67108863}return d!==0&&(this.words[y]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=A(c);if(d.length===0)return new i(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var w=y.sqr();v<d.length;v++,w=w.sqr())d[v]!==0&&(y=y.mul(w));return y},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&v,x=(this.words[w]|0)-R<<d;this.words[w]=x|S,S=R>>>26-d}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,y){r(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var w=c%26,S=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,x=y;if(v-=S,v=Math.max(0,v),x){for(var u=0;u<S;u++)x.words[u]=this.words[u];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-w|H>>>w,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,y){return r(this.negative===0),this.iushrn(c,d,y)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return!1;var w=this.words[y];return!!(w&v)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,y){var v=c.length+y,w;this._expand(v);var S,R=0;for(w=0;w<c.length;w++){S=(this.words[w+y]|0)+R;var x=(c.words[w]|0)*d;S-=x&67108863,R=(S>>26)-(x/67108864|0),this.words[w+y]=S&67108863}for(;w<this.length-y;w++)S=(this.words[w+y]|0)+R,R=S>>26,this.words[w+y]=S&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+R,R=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var y=this.length-c.length,v=this.clone(),w=c,S=w.words[w.length-1]|0,R=this._countBits(S);y=26-R,y!==0&&(w=w.ushln(y),v.iushln(y),S=w.words[w.length-1]|0);var x=v.length-w.length,u;if(d!=="mod"){u=new i(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(w,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var F=x-1;F>=0;F--){var L=(v.words[w.length+F]|0)*67108864+(v.words[w.length+F-1]|0);for(L=Math.min(L/S|0,67108863),v._ishlnsubmul(w,L,F);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(w,1,F),v.isZero()||(v.negative^=1);u&&(u.words[F]=L)}return u&&u.strip(),v.strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:u||null,mod:v}},"_wordDiv"),i.prototype.divmod=o(function(c,d,y){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(v=S.div.neg()),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.iadd(c)),{div:v,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),w=c.andln(1),S=y.cmp(v);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,y=0,v=this.length-1;v>=0;v--)y=(d*y+(this.words[v]|0))%c;return y},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+d*67108864;this.words[y]=v/c|0,d=v%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=new i(0),R=new i(1),x=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++x;for(var u=y.clone(),_=d.clone();!d.isZero();){for(var H=0,F=1;!(d.words[0]&F)&&H<26;++H,F<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(u),w.isub(_)),v.iushrn(1),w.iushrn(1);for(var L=0,$=1;!(y.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(u),R.isub(_)),S.iushrn(1),R.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(S),w.isub(R)):(y.isub(d),S.isub(v),R.isub(w))}return{a:S,b:R,gcd:y.iushln(x)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var u=0,_=1;!(y.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(y.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(w)):(y.isub(d),w.isub(v))}var H;return d.cmpn(1)===0?H=v:H=w,H.cmpn(0)<0&&H.iadd(c),H},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=d.cmp(y);if(w<0){var S=d;d=y,y=S}else if(w===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var w=v,S=y;w!==0&&S<this.length;S++){var R=this.words[S]|0;R+=w,w=R>>>26,R&=67108863,this.words[S]=R}return w!==0&&(this.words[S]=w,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var y;if(this.length>1)y=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var v=this.words[0]|0;y=v===c?0:v<c?-1:1}return this.negative!==0?-y|0:y},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,w=c.words[y]|0;if(v!==w){v<w?d=-1:v>w&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var D={k256:null,p224:null,p192:null,p25519:null};function M(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var y=4194303,v=Math.min(c.length,9),w=0;w<v;w++)d.words[w]=c.words[w];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&y,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&y)<<4|S>>>22,S=R}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var v=c.words[y]|0;d+=v*977,c.words[y]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,"P224"),n(V,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function ee(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ee,"P25519"),n(ee,M),ee.prototype.imulK=o(function(c){for(var d=0,y=0;y<c.length;y++){var v=(c.words[y]|0)*19+d,w=v&67108863;v>>>=26,c.words[y]=w,d=v}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(D[c])return D[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new V;else if(c==="p192")d=new j;else if(c==="p25519")d=new ee;else throw new Error("Unknown prime "+c);return D[c]=d,d},"prime");function Y(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(c,y)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);r(!v.isZero());var S=new i(1).toRed(this),R=S.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),F=this.pow(c,v),L=w;F.cmp(S)!==0;){for(var $=F,Q=0;$.cmp(S)!==0;Q++)$=$.redSqr();r(Q<L);var re=this.pow(_,new i(1).iushln(L-Q-1));H=H.redMul(re),_=re.redSqr(),F=F.redMul(_),L=Q}return H},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,v=new Array(1<<y);v[0]=new i(1).toRed(this),v[1]=c;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],c);var S=v[0],R=0,x=0,u=d.bitLength()%26;for(u===0&&(u=26),w=d.length-1;w>=0;w--){for(var _=d.words[w],H=u-1;H>=0;H--){var F=_>>H&1;if(S!==v[0]&&(S=this.sqr(S)),F===0&&R===0){x=0;continue}R<<=1,R|=F,x++,!(x!==y&&(w!==0||H!==0))&&(S=this.mul(S,v[R]),x=0,R=0)}u=26}return S},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new te(c)},"mont");function te(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,"Mont"),n(te,Y),te.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),te.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),te.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"imul"),te.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var y=c.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"mul"),te.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof iL>"u"||iL,wue)});var Sue=q((Eue,sL)=>{p();m();(function(t,e){"use strict";function r(E,c){if(!E)throw new Error(c||"Assertion failed")}o(r,"assert");function n(E,c){E.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,c,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=o1().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,y):(this._parseBase(c,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},"init"),i.prototype._initNumber=o(function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},"_initNumber"),i.prototype._initArray=o(function(c,d,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,S,R=0;if(y==="be")for(v=c.length-1,w=0;v>=0;v-=3)S=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(y==="le")for(v=0,w=0;v<c.length;v+=3)S=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this.strip()},"_initArray");function a(E,c){var d=E.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(E,c,d){var y=a(E,d);return d-1>=c&&(y|=a(E,d-1)<<4),y}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,S=0,R;if(y==="be")for(v=c.length-1;v>=d;v-=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8;else{var x=c.length-d;for(v=x%2===0?d+1:d;v<c.length;v+=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8}this.strip()},"_parseHex");function l(E,c,d,y){for(var v=0,w=Math.min(E.length,d),S=c;S<w;S++){var R=E.charCodeAt(S)-48;v*=y,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,y){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=d)v++;v--,w=w/d|0;for(var S=c.length-y,R=S%v,x=Math.min(S,S-R)+y,u=0,_=y;_<x;_+=v)u=l(c,_,_+v,d),this.imuln(w),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=l(c,_,c.length,d),_=0;_<R;_++)H*=d;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var v=0,w=0,S=0;S<this.length;S++){var R=this.words[S],x=((R<<v|w)&16777215).toString(16);w=R>>>24-v&16777215,w!==0||S!==this.length-1?y=h[6-x.length]+x+y:y=x+y,v+=2,v>=26&&(v-=26,S--)}for(w!==0&&(y=w.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var u=g[c],_=b[c];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var F=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?y=F+y:y=h[u-F.length]+F+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,y){var v=this.byteLength(),w=y||Math.max(1,v);r(v<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var S=d==="le",R=new c(w),x,u,_=this.clone();if(S){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<w;u++)R[u]=0}else{for(u=0;u<w-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[w-u-1]=x}return R},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function A(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var y=d/26|0,v=d%26;c[d]=(E.words[y]&1<<v)>>>v}return c}o(A,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var y=c/26|0,v=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,v;this.length>c.length?(y=this,v=c):(y=c,v=this);for(var w=0,S=0;S<v.length;S++)d=(y.words[S]|0)+(v.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<y.length;S++)d=(y.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;y>0?(v=this,w=c):(v=c,w=this);for(var S=0,R=0;R<w.length;R++)d=(v.words[R]|0)-(w.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;for(;S!==0&&R<v.length;R++)d=(v.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;if(S===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function T(E,c,d){d.negative=c.negative^E.negative;var y=E.length+c.length|0;d.length=y,y=y-1|0;var v=E.words[0]|0,w=c.words[0]|0,S=v*w,R=S&67108863,x=S/67108864|0;d.words[0]=R;for(var u=1;u<y;u++){for(var _=x>>>26,H=x&67108863,F=Math.min(u,c.length-1),L=Math.max(0,u-E.length+1);L<=F;L++){var $=u-L|0;v=E.words[$]|0,w=c.words[L]|0,S=v*w+H,_+=S/67108864|0,H=S&67108863}d.words[u]=H|0,x=_|0}return x!==0?d.words[u]=x|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(c,d,y){var v=c.words,w=d.words,S=y.words,R=0,x,u,_,H=v[0]|0,F=H&8191,L=H>>>13,$=v[1]|0,Q=$&8191,re=$>>>13,Me=v[2]|0,fe=Me&8191,le=Me>>>13,xe=v[3]|0,he=xe&8191,ge=xe>>>13,tr=v[4]|0,Ae=tr&8191,Oe=tr>>>13,Bn=v[5]|0,He=Bn&8191,Pe=Bn>>>13,Ln=v[6]|0,Ue=Ln&8191,Be=Ln>>>13,Dn=v[7]|0,ke=Dn&8191,Le=Dn>>>13,Kr=v[8]|0,X=Kr&8191,Z=Kr>>>13,pe=v[9]|0,ne=pe&8191,de=pe>>>13,yt=w[0]|0,be=yt&8191,Se=yt>>>13,Xt=w[1]|0,Re=Xt&8191,Ne=Xt>>>13,Zn=w[2]|0,Fe=Zn&8191,De=Zn>>>13,Qi=w[3]|0,Ge=Qi&8191,$e=Qi>>>13,Un=w[4]|0,qe=Un&8191,Ve=Un>>>13,Vi=w[5]|0,je=Vi&8191,ze=Vi>>>13,ao=w[6]|0,Ce=ao&8191,Ke=ao>>>13,z=w[7]|0,G=z&8191,K=z>>>13,B=w[8]|0,W=B&8191,J=B>>>13,me=w[9]|0,se=me&8191,ue=me>>>13;y.negative=c.negative^d.negative,y.length=19,x=Math.imul(F,be),u=Math.imul(F,Se),u=u+Math.imul(L,be)|0,_=Math.imul(L,Se);var lt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Q,be),u=Math.imul(Q,Se),u=u+Math.imul(re,be)|0,_=Math.imul(re,Se),x=x+Math.imul(F,Re)|0,u=u+Math.imul(F,Ne)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Ne)|0;var rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(fe,be),u=Math.imul(fe,Se),u=u+Math.imul(le,be)|0,_=Math.imul(le,Se),x=x+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ne)|0,u=u+Math.imul(re,Re)|0,_=_+Math.imul(re,Ne)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(F,De)|0,u=u+Math.imul(L,Fe)|0,_=_+Math.imul(L,De)|0;var Bt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(he,be),u=Math.imul(he,Se),u=u+Math.imul(ge,be)|0,_=Math.imul(ge,Se),x=x+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,x=x+Math.imul(Q,Fe)|0,u=u+Math.imul(Q,De)|0,u=u+Math.imul(re,Fe)|0,_=_+Math.imul(re,De)|0,x=x+Math.imul(F,Ge)|0,u=u+Math.imul(F,$e)|0,u=u+Math.imul(L,Ge)|0,_=_+Math.imul(L,$e)|0;var st=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Ae,be),u=Math.imul(Ae,Se),u=u+Math.imul(Oe,be)|0,_=Math.imul(Oe,Se),x=x+Math.imul(he,Re)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Re)|0,_=_+Math.imul(ge,Ne)|0,x=x+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(le,Fe)|0,_=_+Math.imul(le,De)|0,x=x+Math.imul(Q,Ge)|0,u=u+Math.imul(Q,$e)|0,u=u+Math.imul(re,Ge)|0,_=_+Math.imul(re,$e)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(F,Ve)|0,u=u+Math.imul(L,qe)|0,_=_+Math.imul(L,Ve)|0;var vt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(He,be),u=Math.imul(He,Se),u=u+Math.imul(Pe,be)|0,_=Math.imul(Pe,Se),x=x+Math.imul(Ae,Re)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Oe,Re)|0,_=_+Math.imul(Oe,Ne)|0,x=x+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,_=_+Math.imul(ge,De)|0,x=x+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,x=x+Math.imul(Q,qe)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(re,qe)|0,_=_+Math.imul(re,Ve)|0,x=x+Math.imul(F,je)|0,u=u+Math.imul(F,ze)|0,u=u+Math.imul(L,je)|0,_=_+Math.imul(L,ze)|0;var xt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Ue,be),u=Math.imul(Ue,Se),u=u+Math.imul(Be,be)|0,_=Math.imul(Be,Se),x=x+Math.imul(He,Re)|0,u=u+Math.imul(He,Ne)|0,u=u+Math.imul(Pe,Re)|0,_=_+Math.imul(Pe,Ne)|0,x=x+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Oe,Fe)|0,_=_+Math.imul(Oe,De)|0,x=x+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,$e)|0,x=x+Math.imul(fe,qe)|0,u=u+Math.imul(fe,Ve)|0,u=u+Math.imul(le,qe)|0,_=_+Math.imul(le,Ve)|0,x=x+Math.imul(Q,je)|0,u=u+Math.imul(Q,ze)|0,u=u+Math.imul(re,je)|0,_=_+Math.imul(re,ze)|0,x=x+Math.imul(F,Ce)|0,u=u+Math.imul(F,Ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ke)|0;var Rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,x=Math.imul(ke,be),u=Math.imul(ke,Se),u=u+Math.imul(Le,be)|0,_=Math.imul(Le,Se),x=x+Math.imul(Ue,Re)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Be,Re)|0,_=_+Math.imul(Be,Ne)|0,x=x+Math.imul(He,Fe)|0,u=u+Math.imul(He,De)|0,u=u+Math.imul(Pe,Fe)|0,_=_+Math.imul(Pe,De)|0,x=x+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Oe,Ge)|0,_=_+Math.imul(Oe,$e)|0,x=x+Math.imul(he,qe)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,qe)|0,_=_+Math.imul(ge,Ve)|0,x=x+Math.imul(fe,je)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,ze)|0,x=x+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ke)|0,u=u+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ke)|0,x=x+Math.imul(F,G)|0,u=u+Math.imul(F,K)|0,u=u+Math.imul(L,G)|0,_=_+Math.imul(L,K)|0;var At=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(X,be),u=Math.imul(X,Se),u=u+Math.imul(Z,be)|0,_=Math.imul(Z,Se),x=x+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ne)|0,u=u+Math.imul(Le,Re)|0,_=_+Math.imul(Le,Ne)|0,x=x+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Be,Fe)|0,_=_+Math.imul(Be,De)|0,x=x+Math.imul(He,Ge)|0,u=u+Math.imul(He,$e)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,$e)|0,x=x+Math.imul(Ae,qe)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Oe,qe)|0,_=_+Math.imul(Oe,Ve)|0,x=x+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,_=_+Math.imul(ge,ze)|0,x=x+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ke)|0,x=x+Math.imul(Q,G)|0,u=u+Math.imul(Q,K)|0,u=u+Math.imul(re,G)|0,_=_+Math.imul(re,K)|0,x=x+Math.imul(F,W)|0,u=u+Math.imul(F,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var _t=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(ne,be),u=Math.imul(ne,Se),u=u+Math.imul(de,be)|0,_=Math.imul(de,Se),x=x+Math.imul(X,Re)|0,u=u+Math.imul(X,Ne)|0,u=u+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Ne)|0,x=x+Math.imul(ke,Fe)|0,u=u+Math.imul(ke,De)|0,u=u+Math.imul(Le,Fe)|0,_=_+Math.imul(Le,De)|0,x=x+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,$e)|0,x=x+Math.imul(He,qe)|0,u=u+Math.imul(He,Ve)|0,u=u+Math.imul(Pe,qe)|0,_=_+Math.imul(Pe,Ve)|0,x=x+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Oe,je)|0,_=_+Math.imul(Oe,ze)|0,x=x+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ke)|0,x=x+Math.imul(fe,G)|0,u=u+Math.imul(fe,K)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,K)|0,x=x+Math.imul(Q,W)|0,u=u+Math.imul(Q,J)|0,u=u+Math.imul(re,W)|0,_=_+Math.imul(re,J)|0,x=x+Math.imul(F,se)|0,u=u+Math.imul(F,ue)|0,u=u+Math.imul(L,se)|0,_=_+Math.imul(L,ue)|0;var Et=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(ne,Re),u=Math.imul(ne,Ne),u=u+Math.imul(de,Re)|0,_=Math.imul(de,Ne),x=x+Math.imul(X,Fe)|0,u=u+Math.imul(X,De)|0,u=u+Math.imul(Z,Fe)|0,_=_+Math.imul(Z,De)|0,x=x+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,$e)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,$e)|0,x=x+Math.imul(Ue,qe)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(He,je)|0,u=u+Math.imul(He,ze)|0,u=u+Math.imul(Pe,je)|0,_=_+Math.imul(Pe,ze)|0,x=x+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Oe,Ce)|0,_=_+Math.imul(Oe,Ke)|0,x=x+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,_=_+Math.imul(ge,K)|0,x=x+Math.imul(fe,W)|0,u=u+Math.imul(fe,J)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,J)|0,x=x+Math.imul(Q,se)|0,u=u+Math.imul(Q,ue)|0,u=u+Math.imul(re,se)|0,_=_+Math.imul(re,ue)|0;var wt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,_=Math.imul(de,De),x=x+Math.imul(X,Ge)|0,u=u+Math.imul(X,$e)|0,u=u+Math.imul(Z,Ge)|0,_=_+Math.imul(Z,$e)|0,x=x+Math.imul(ke,qe)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Le,qe)|0,_=_+Math.imul(Le,Ve)|0,x=x+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Be,je)|0,_=_+Math.imul(Be,ze)|0,x=x+Math.imul(He,Ce)|0,u=u+Math.imul(He,Ke)|0,u=u+Math.imul(Pe,Ce)|0,_=_+Math.imul(Pe,Ke)|0,x=x+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Oe,G)|0,_=_+Math.imul(Oe,K)|0,x=x+Math.imul(he,W)|0,u=u+Math.imul(he,J)|0,u=u+Math.imul(ge,W)|0,_=_+Math.imul(ge,J)|0,x=x+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),x=x+Math.imul(X,qe)|0,u=u+Math.imul(X,Ve)|0,u=u+Math.imul(Z,qe)|0,_=_+Math.imul(Z,Ve)|0,x=x+Math.imul(ke,je)|0,u=u+Math.imul(ke,ze)|0,u=u+Math.imul(Le,je)|0,_=_+Math.imul(Le,ze)|0,x=x+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Be,Ce)|0,_=_+Math.imul(Be,Ke)|0,x=x+Math.imul(He,G)|0,u=u+Math.imul(He,K)|0,u=u+Math.imul(Pe,G)|0,_=_+Math.imul(Pe,K)|0,x=x+Math.imul(Ae,W)|0,u=u+Math.imul(Ae,J)|0,u=u+Math.imul(Oe,W)|0,_=_+Math.imul(Oe,J)|0,x=x+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,_=_+Math.imul(ge,ue)|0;var dt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(ne,qe),u=Math.imul(ne,Ve),u=u+Math.imul(de,qe)|0,_=Math.imul(de,Ve),x=x+Math.imul(X,je)|0,u=u+Math.imul(X,ze)|0,u=u+Math.imul(Z,je)|0,_=_+Math.imul(Z,ze)|0,x=x+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ke)|0,u=u+Math.imul(Le,Ce)|0,_=_+Math.imul(Le,Ke)|0,x=x+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Be,G)|0,_=_+Math.imul(Be,K)|0,x=x+Math.imul(He,W)|0,u=u+Math.imul(He,J)|0,u=u+Math.imul(Pe,W)|0,_=_+Math.imul(Pe,J)|0,x=x+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Oe,se)|0,_=_+Math.imul(Oe,ue)|0;var ot=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,_=Math.imul(de,ze),x=x+Math.imul(X,Ce)|0,u=u+Math.imul(X,Ke)|0,u=u+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,Ke)|0,x=x+Math.imul(ke,G)|0,u=u+Math.imul(ke,K)|0,u=u+Math.imul(Le,G)|0,_=_+Math.imul(Le,K)|0,x=x+Math.imul(Ue,W)|0,u=u+Math.imul(Ue,J)|0,u=u+Math.imul(Be,W)|0,_=_+Math.imul(Be,J)|0,x=x+Math.imul(He,se)|0,u=u+Math.imul(He,ue)|0,u=u+Math.imul(Pe,se)|0,_=_+Math.imul(Pe,ue)|0;var ft=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,Ke),x=x+Math.imul(X,G)|0,u=u+Math.imul(X,K)|0,u=u+Math.imul(Z,G)|0,_=_+Math.imul(Z,K)|0,x=x+Math.imul(ke,W)|0,u=u+Math.imul(ke,J)|0,u=u+Math.imul(Le,W)|0,_=_+Math.imul(Le,J)|0,x=x+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Be,se)|0,_=_+Math.imul(Be,ue)|0;var ut=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,_=Math.imul(de,K),x=x+Math.imul(X,W)|0,u=u+Math.imul(X,J)|0,u=u+Math.imul(Z,W)|0,_=_+Math.imul(Z,J)|0,x=x+Math.imul(ke,se)|0,u=u+Math.imul(ke,ue)|0,u=u+Math.imul(Le,se)|0,_=_+Math.imul(Le,ue)|0;var tt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ne,W),u=Math.imul(ne,J),u=u+Math.imul(de,W)|0,_=Math.imul(de,J),x=x+Math.imul(X,se)|0,u=u+Math.imul(X,ue)|0,u=u+Math.imul(Z,se)|0,_=_+Math.imul(Z,ue)|0;var ve=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,S[0]=lt,S[1]=rt,S[2]=Bt,S[3]=st,S[4]=vt,S[5]=xt,S[6]=Rt,S[7]=At,S[8]=_t,S[9]=Et,S[10]=wt,S[11]=ct,S[12]=dt,S[13]=ot,S[14]=ft,S[15]=ut,S[16]=tt,S[17]=ve,S[18]=_e,R!==0&&(S[19]=R,y.length++),y},"comb10MulTo");Math.imul||(O=T);function N(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var y=0,v=0,w=0;w<d.length-1;w++){var S=v;v=0;for(var R=y&67108863,x=Math.min(w,c.length-1),u=Math.max(0,w-E.length+1);u<=x;u++){var _=w-u,H=E.words[_]|0,F=c.words[u]|0,L=H*F,$=L&67108863;S=S+(L/67108864|0)|0,$=$+R|0,R=$&67108863,S=S+($>>>26)|0,v+=S>>>26,S&=67108863}d.words[w]=R,y=S,S=v}return y!==0?d.words[w]=y:d.length--,d.strip()}o(N,"bigMulTo");function P(E,c,d){var y=new C;return y.mulp(E,c,d)}o(P,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var y,v=this.length+c.length;return this.length===10&&c.length===10?y=O(this,c,d):v<63?y=T(this,c,d):v<1024?y=N(this,c,d):y=P(this,c,d),y},"mulTo");function C(E,c){this.x=E,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),y=i.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,y,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,y){if(c===0||c===y-1)return c;for(var v=0,w=0;w<d;w++)v|=(c&1)<<d-w-1,c>>=1;return v},"revBin"),C.prototype.permute=o(function(c,d,y,v,w,S){for(var R=0;R<S;R++)v[R]=d[c[R]],w[R]=y[c[R]]},"permute"),C.prototype.transform=o(function(c,d,y,v,w,S){this.permute(S,c,d,y,v,w);for(var R=1;R<w;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<w;H+=x)for(var F=u,L=_,$=0;$<R;$++){var Q=y[H+$],re=v[H+$],Me=y[H+$+R],fe=v[H+$+R],le=F*Me-L*fe;fe=F*fe+L*Me,Me=le,y[H+$]=Q+Me,v[H+$]=re+fe,y[H+$+R]=Q-Me,v[H+$+R]=re-fe,$!==x&&(le=u*F-_*L,L=u*L+_*F,F=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var y=Math.max(d,c)|1,v=y&1,w=0;for(y=y/2|0;y;y=y>>>1)w++;return 1<<w+1+v},"guessLen13b"),C.prototype.conjugate=o(function(c,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var w=c[v];c[v]=c[y-v-1],c[y-v-1]=w,w=d[v],d[v]=-d[y-v-1],d[y-v-1]=-w}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var y=0,v=0;v<d/2;v++){var w=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+y;c[v]=w&67108863,w<67108864?y=0:y=w/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,y,v){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),y[2*S]=w&8191,w=w>>>13,y[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<v;++S)y[S]=0;r(w===0),r((w&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),y=0;y<c;y++)d[y]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,y){var v=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(v),S=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),F=new Array(v),L=y.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(d.words,d.length,_,v),this.transform(R,S,x,u,v,w),this.transform(_,S,H,F,v,w);for(var $=0;$<v;$++){var Q=x[$]*H[$]-u[$]*F[$];u[$]=x[$]*F[$]+u[$]*H[$],x[$]=Q}return this.conjugate(x,u,v),this.transform(x,u,L,S,v,w),this.conjugate(L,S,v),this.normalize13b(L,v),y.negative=c.negative^d.negative,y.length=c.length+d.length,y.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),P(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*c,w=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=w>>>26,this.words[y]=w&67108863}return d!==0&&(this.words[y]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=A(c);if(d.length===0)return new i(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var w=y.sqr();v<d.length;v++,w=w.sqr())d[v]!==0&&(y=y.mul(w));return y},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&v,x=(this.words[w]|0)-R<<d;this.words[w]=x|S,S=R>>>26-d}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,y){r(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var w=c%26,S=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,x=y;if(v-=S,v=Math.max(0,v),x){for(var u=0;u<S;u++)x.words[u]=this.words[u];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-w|H>>>w,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,y){return r(this.negative===0),this.iushrn(c,d,y)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return!1;var w=this.words[y];return!!(w&v)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,y){var v=c.length+y,w;this._expand(v);var S,R=0;for(w=0;w<c.length;w++){S=(this.words[w+y]|0)+R;var x=(c.words[w]|0)*d;S-=x&67108863,R=(S>>26)-(x/67108864|0),this.words[w+y]=S&67108863}for(;w<this.length-y;w++)S=(this.words[w+y]|0)+R,R=S>>26,this.words[w+y]=S&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+R,R=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var y=this.length-c.length,v=this.clone(),w=c,S=w.words[w.length-1]|0,R=this._countBits(S);y=26-R,y!==0&&(w=w.ushln(y),v.iushln(y),S=w.words[w.length-1]|0);var x=v.length-w.length,u;if(d!=="mod"){u=new i(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(w,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var F=x-1;F>=0;F--){var L=(v.words[w.length+F]|0)*67108864+(v.words[w.length+F-1]|0);for(L=Math.min(L/S|0,67108863),v._ishlnsubmul(w,L,F);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(w,1,F),v.isZero()||(v.negative^=1);u&&(u.words[F]=L)}return u&&u.strip(),v.strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:u||null,mod:v}},"_wordDiv"),i.prototype.divmod=o(function(c,d,y){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(v=S.div.neg()),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.iadd(c)),{div:v,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),w=c.andln(1),S=y.cmp(v);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,y=0,v=this.length-1;v>=0;v--)y=(d*y+(this.words[v]|0))%c;return y},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+d*67108864;this.words[y]=v/c|0,d=v%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=new i(0),R=new i(1),x=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++x;for(var u=y.clone(),_=d.clone();!d.isZero();){for(var H=0,F=1;!(d.words[0]&F)&&H<26;++H,F<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(u),w.isub(_)),v.iushrn(1),w.iushrn(1);for(var L=0,$=1;!(y.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(u),R.isub(_)),S.iushrn(1),R.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(S),w.isub(R)):(y.isub(d),S.isub(v),R.isub(w))}return{a:S,b:R,gcd:y.iushln(x)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var u=0,_=1;!(y.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(y.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(w)):(y.isub(d),w.isub(v))}var H;return d.cmpn(1)===0?H=v:H=w,H.cmpn(0)<0&&H.iadd(c),H},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=d.cmp(y);if(w<0){var S=d;d=y,y=S}else if(w===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var w=v,S=y;w!==0&&S<this.length;S++){var R=this.words[S]|0;R+=w,w=R>>>26,R&=67108863,this.words[S]=R}return w!==0&&(this.words[S]=w,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var y;if(this.length>1)y=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var v=this.words[0]|0;y=v===c?0:v<c?-1:1}return this.negative!==0?-y|0:y},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,w=c.words[y]|0;if(v!==w){v<w?d=-1:v>w&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var D={k256:null,p224:null,p192:null,p25519:null};function M(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var y=4194303,v=Math.min(c.length,9),w=0;w<v;w++)d.words[w]=c.words[w];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&y,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&y)<<4|S>>>22,S=R}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var v=c.words[y]|0;d+=v*977,c.words[y]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,"P224"),n(V,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function ee(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ee,"P25519"),n(ee,M),ee.prototype.imulK=o(function(c){for(var d=0,y=0;y<c.length;y++){var v=(c.words[y]|0)*19+d,w=v&67108863;v>>>=26,c.words[y]=w,d=v}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(D[c])return D[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new V;else if(c==="p192")d=new j;else if(c==="p25519")d=new ee;else throw new Error("Unknown prime "+c);return D[c]=d,d},"prime");function Y(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(c,y)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);r(!v.isZero());var S=new i(1).toRed(this),R=S.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),F=this.pow(c,v),L=w;F.cmp(S)!==0;){for(var $=F,Q=0;$.cmp(S)!==0;Q++)$=$.redSqr();r(Q<L);var re=this.pow(_,new i(1).iushln(L-Q-1));H=H.redMul(re),_=re.redSqr(),F=F.redMul(_),L=Q}return H},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,v=new Array(1<<y);v[0]=new i(1).toRed(this),v[1]=c;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],c);var S=v[0],R=0,x=0,u=d.bitLength()%26;for(u===0&&(u=26),w=d.length-1;w>=0;w--){for(var _=d.words[w],H=u-1;H>=0;H--){var F=_>>H&1;if(S!==v[0]&&(S=this.sqr(S)),F===0&&R===0){x=0;continue}R<<=1,R|=F,x++,!(x!==y&&(w!==0||H!==0))&&(S=this.mul(S,v[R]),x=0,R=0)}u=26}return S},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new te(c)},"mont");function te(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,"Mont"),n(te,Y),te.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),te.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),te.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"imul"),te.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var y=c.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"mul"),te.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof sL>"u"||sL,Eue)});var B8=q((EMt,fL)=>{p();m();var aL;fL.exports=o(function(e){return aL||(aL=new I0(null)),aL.generate(e)},"rand");function I0(t){this.rand=t}o(I0,"Rand");fL.exports.Rand=I0;I0.prototype.generate=o(function(e){return this._rand(e)},"generate");I0.prototype._rand=o(function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?I0.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?I0.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof self=="object"&&(I0.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(cL=pb(),typeof cL.randomBytes!="function")throw new Error("Not supported");I0.prototype._rand=o(function(e){return cL.randomBytes(e)},"_rand")}catch{}var cL});var uL=q((TMt,Aue)=>{p();m();var lg=Sue(),JHe=B8();function dg(t){this.rand=t||new JHe.Rand}o(dg,"MillerRabin");Aue.exports=dg;dg.create=o(function(e){return new dg(e)},"create");dg.prototype._randbelow=o(function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new lg(this.rand.generate(n));while(i.cmp(e)>=0);return i},"_randbelow");dg.prototype._randrange=o(function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))},"_randrange");dg.prototype.test=o(function(e,r,n){var i=e.bitLength(),s=lg.mont(e),a=new lg(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var f=e.subn(1),l=0;!f.testn(l);l++);for(var h=e.shrn(l),g=f.toRed(s),b=!0;r>0;r--){var A=this._randrange(new lg(2),f);n&&n(A);var T=A.toRed(s).redPow(h);if(!(T.cmp(a)===0||T.cmp(g)===0)){for(var O=1;O<l;O++){if(T=T.redSqr(),T.cmp(a)===0)return!1;if(T.cmp(g)===0)break}if(O===l)return!1}}return b},"test");dg.prototype.getDivisor=o(function(e,r){var n=e.bitLength(),i=lg.mont(e),s=new lg(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),f=0;!a.testn(f);f++);for(var l=e.shrn(f),h=a.toRed(i);r>0;r--){var g=this._randrange(new lg(2),a),b=e.gcd(g);if(b.cmpn(1)!==0)return b;var A=g.toRed(i).redPow(l);if(!(A.cmp(s)===0||A.cmp(h)===0)){for(var T=1;T<f;T++){if(A=A.redSqr(),A.cmp(s)===0)return A.fromRed().subn(1).gcd(e);if(A.cmp(h)===0)break}if(T===f)return A=A.redSqr(),A.fromRed().subn(1).gcd(e)}}return!1},"getDivisor")});var gL=q((BMt,Iue)=>{p();m();var QHe=jm();Iue.exports=mL;mL.simpleSieve=hL;mL.fermatTest=pL;var is=oL(),eVe=new is(24),tVe=uL(),Rue=new tVe,rVe=new is(1),dL=new is(2),nVe=new is(5),MMt=new is(16),CMt=new is(8),iVe=new is(10),oVe=new is(3),PMt=new is(7),sVe=new is(11),Tue=new is(4),kMt=new is(12),lL=null;function aVe(){if(lL!==null)return lL;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return lL=e,e}o(aVe,"_getPrimes");function hL(t){for(var e=aVe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}o(hL,"simpleSieve");function pL(t){var e=is.mont(t);return dL.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}o(pL,"fermatTest");function mL(t,e){if(t<16)return e===2||e===5?new is([140,123]):new is([140,39]);e=new is(e);for(var r,n;;){for(r=new is(QHe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(rVe),r.testn(1)||r.iadd(dL),e.cmp(dL)){if(!e.cmp(nVe))for(;r.mod(iVe).cmp(oVe);)r.iadd(Tue)}else for(;r.mod(eVe).cmp(sVe);)r.iadd(Tue);if(n=r.shrn(1),hL(n)&&hL(r)&&pL(n)&&pL(r)&&Rue.test(n)&&Rue.test(r))return r}}o(mL,"findPrime")});var Oue=q((FMt,cVe)=>{cVe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var Pue=q((qMt,Cue)=>{p();m();var cf=oL(),fVe=uL(),Nue=new fVe,uVe=new cf(24),lVe=new cf(11),dVe=new cf(10),hVe=new cf(3),pVe=new cf(7),Mue=gL(),mVe=jm();Cue.exports=Kd;function gVe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new cf(t),this}o(gVe,"setPublicKey");function yVe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new cf(t),this}o(yVe,"setPrivateKey");var L8={};function bVe(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in L8)return L8[n];var i=0;if(t.isEven()||!Mue.simpleSieve||!Mue.fermatTest(t)||!Nue.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,L8[n]=i,i;Nue.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(uVe).cmp(lVe)&&(i+=8);break;case"05":s=t.mod(dVe),s.cmp(hVe)&&s.cmp(pVe)&&(i+=8);break;default:i+=4}return L8[n]=i,i}o(bVe,"checkPrime");function Kd(t,e,r){this.setGenerator(e),this.__prime=new cf(t),this._prime=cf.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=gVe,this.setPrivateKey=yVe):this._primeCode=8}o(Kd,"DH");Object.defineProperty(Kd.prototype,"verifyError",{enumerable:!0,get:o(function(){return typeof this._primeCode!="number"&&(this._primeCode=bVe(this.__prime,this.__gen)),this._primeCode},"get")});Kd.prototype.generateKeys=function(){return this._priv||(this._priv=new cf(mVe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Kd.prototype.computeSecret=function(t){t=new cf(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};Kd.prototype.getPublicKey=o(function(e){return D8(this._pub,e)},"getPublicKey");Kd.prototype.getPrivateKey=o(function(e){return D8(this._priv,e)},"getPrivateKey");Kd.prototype.getPrime=function(t){return D8(this.__prime,t)};Kd.prototype.getGenerator=function(t){return D8(this._gen,t)};Kd.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new cf(t),this};function D8(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}o(D8,"formatReturnValue")});var Lue=q(mb=>{p();m();var vVe=gL(),kue=Oue(),yL=Pue();function xVe(t){var e=new Buffer(kue[t].prime,"hex"),r=new Buffer(kue[t].gen,"hex");return new yL(e,r)}o(xVe,"getDiffieHellman");var _Ve={binary:!0,hex:!0,base64:!0};function Bue(t,e,r,n){return Buffer.isBuffer(e)||_Ve[e]===void 0?Bue(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new yL(vVe(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new yL(t,r,!0)))}o(Bue,"createDiffieHellman");mb.DiffieHellmanGroup=mb.createDiffieHellmanGroup=mb.getDiffieHellman=xVe;mb.createDiffieHellman=mb.DiffieHellman=Bue});var bL=q((WMt,Due)=>{p();m();Due.exports=T_().EventEmitter});var jue=q((ZMt,Vue)=>{"use strict";p();m();function Uue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(Uue,"ownKeys");function Fue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uue(Object(r),!0).forEach(function(n){wVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uue(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(Fue,"_objectSpread");function wVe(t,e,r){return e=Hue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(wVe,"_defineProperty");function EVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(EVe,"_classCallCheck");function que(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hue(n.key),n)}}o(que,"_defineProperties");function SVe(t,e,r){return e&&que(t.prototype,e),r&&que(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(SVe,"_createClass");function Hue(t){var e=AVe(t,"string");return typeof e=="symbol"?e:String(e)}o(Hue,"_toPropertyKey");function AVe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(AVe,"_toPrimitive");var RVe=ci(),U8=RVe.Buffer,TVe=_2(),vL=TVe.inspect,IVe=vL&&vL.custom||"inspect";function OVe(t,e,r){U8.prototype.copy.call(t,e,r)}o(OVe,"copyBuffer");Vue.exports=function(){function t(){EVe(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),SVe(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return U8.alloc(0);for(var n=U8.allocUnsafe(r>>>0),i=this.head,s=0;i;)OVe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,f=r>a.length?a.length:r;if(f===a.length?s+=a:s+=a.slice(0,r),r-=f,r===0){f===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(f));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=U8.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,f=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,f),r-=f,r===0){f===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(f));break}++s}return this.length-=s,n},"_getBuffer")},{key:IVe,value:o(function(r,n){return vL(this,Fue(Fue({},n),{},{depth:0,customInspect:!1}))},"value")}]),t}()});var _L=q((tCt,Kue)=>{"use strict";p();m();function NVe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(xL,this,t)):process.nextTick(xL,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(F8,r):(r._writableState.errorEmitted=!0,process.nextTick(zue,r,s)):process.nextTick(zue,r,s):e?(process.nextTick(F8,r),e(s)):process.nextTick(F8,r)}),this)}o(NVe,"destroy");function zue(t,e){xL(t,e),F8(t)}o(zue,"emitErrorAndCloseNT");function F8(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(F8,"emitCloseNT");function MVe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(MVe,"undestroy");function xL(t,e){t.emit("error",e)}o(xL,"emitErrorNT");function CVe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(CVe,"errorOrDestroy");Kue.exports={destroy:NVe,undestroy:MVe,errorOrDestroy:CVe}});var hg=q((oCt,Wue)=>{"use strict";p();m();function PVe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(PVe,"_inheritsLoose");var $ue={};function ff(t,e,r){r||(r=Error);function n(s,a,f){return typeof e=="string"?e:e(s,a,f)}o(n,"getMessage");var i=function(s){PVe(a,s);function a(f,l,h){return s.call(this,n(f,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,$ue[t]=i}o(ff,"createErrorType");function Gue(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(Gue,"oneOf");function kVe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(kVe,"startsWith");function BVe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(BVe,"endsWith");function LVe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(LVe,"includes");ff("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ff("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&kVe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(BVe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Gue(e,"type"));else{var s=LVe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Gue(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ff("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ff("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ff("ERR_STREAM_PREMATURE_CLOSE","Premature close");ff("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ff("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ff("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ff("ERR_STREAM_WRITE_AFTER_END","write after end");ff("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ff("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ff("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Wue.exports.codes=$ue});var wL=q((fCt,Yue)=>{"use strict";p();m();var DVe=hg().codes.ERR_INVALID_OPT_VALUE;function UVe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(UVe,"highWaterMarkFrom");function FVe(t,e,r,n){var i=UVe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new DVe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(FVe,"getHighWaterMark");Yue.exports={getHighWaterMark:FVe}});var AL=q((hCt,tle)=>{"use strict";p();m();tle.exports=Bi;function Zue(t){var e=this;this.next=null,this.entry=null,this.finish=function(){dje(e,t)}}o(Zue,"CorkedRequest");var gb;Bi.WritableState=aw;var qVe={deprecate:Ok()},Jue=bL(),H8=ci().Buffer,HVe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function VVe(t){return H8.from(t)}o(VVe,"_uint8ArrayToBuffer");function jVe(t){return H8.isBuffer(t)||t instanceof HVe}o(jVe,"_isUint8Array");var SL=_L(),zVe=wL(),KVe=zVe.getHighWaterMark,O0=hg().codes,GVe=O0.ERR_INVALID_ARG_TYPE,$Ve=O0.ERR_METHOD_NOT_IMPLEMENTED,WVe=O0.ERR_MULTIPLE_CALLBACK,YVe=O0.ERR_STREAM_CANNOT_PIPE,XVe=O0.ERR_STREAM_DESTROYED,ZVe=O0.ERR_STREAM_NULL_VALUES,JVe=O0.ERR_STREAM_WRITE_AFTER_END,QVe=O0.ERR_UNKNOWN_ENCODING,yb=SL.errorOrDestroy;Gt()(Bi,Jue);function eje(){}o(eje,"nop");function aw(t,e,r){gb=gb||pg(),t=t||{},typeof r!="boolean"&&(r=e instanceof gb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=KVe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){aje(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Zue(this)}o(aw,"WritableState");aw.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(aw.prototype,"buffer",{get:qVe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var q8;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q8=Function.prototype[Symbol.hasInstance],Object.defineProperty(Bi,Symbol.hasInstance,{value:o(function(e){return q8.call(this,e)?!0:this!==Bi?!1:e&&e._writableState instanceof aw},"value")})):q8=o(function(e){return e instanceof this},"realHasInstance");function Bi(t){gb=gb||pg();var e=this instanceof gb;if(!e&&!q8.call(Bi,this))return new Bi(t);this._writableState=new aw(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Jue.call(this)}o(Bi,"Writable");Bi.prototype.pipe=function(){yb(this,new YVe)};function tje(t,e){var r=new JVe;yb(t,r),process.nextTick(e,r)}o(tje,"writeAfterEnd");function rje(t,e,r,n){var i;return r===null?i=new ZVe:typeof r!="string"&&!e.objectMode&&(i=new GVe("chunk",["string","Buffer"],r)),i?(yb(t,i),process.nextTick(n,i),!1):!0}o(rje,"validChunk");Bi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&jVe(t);return s&&!H8.isBuffer(t)&&(t=VVe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=eje),n.ending?tje(this,r):(s||rje(this,n,t,r))&&(n.pendingcb++,i=ije(this,n,s,t,e,r)),i};Bi.prototype.cork=function(){this._writableState.corked++};Bi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Que(this,t))};Bi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new QVe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Bi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function nje(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=H8.from(e,r)),e}o(nje,"decodeChunk");Object.defineProperty(Bi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function ije(t,e,r,n,i,s){if(!r){var a=nje(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var f=e.objectMode?1:n.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else EL(t,e,!1,f,n,i,s);return l}o(ije,"writeOrBuffer");function EL(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new XVe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(EL,"doWrite");function oje(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(sw,t,e),t._writableState.errorEmitted=!0,yb(t,n)):(i(n),t._writableState.errorEmitted=!0,yb(t,n),sw(t,e))}o(oje,"onwriteError");function sje(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(sje,"onwriteStateUpdate");function aje(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new WVe;if(sje(r),e)oje(t,r,n,e,i);else{var s=ele(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Que(t,r),n?process.nextTick(Xue,t,r,s,i):Xue(t,r,s,i)}}o(aje,"onwrite");function Xue(t,e,r,n){r||cje(t,e),e.pendingcb--,n(),sw(t,e)}o(Xue,"afterWrite");function cje(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(cje,"onwriteDrain");function Que(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,EL(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Zue(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,g=r.callback,b=e.objectMode?1:l.length;if(EL(t,e,!1,b,l,h,g),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(Que,"clearBuffer");Bi.prototype._write=function(t,e,r){r(new $Ve("_write()"))};Bi.prototype._writev=null;Bi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||lje(this,n,r),this};Object.defineProperty(Bi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function ele(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(ele,"needFinish");function fje(t,e){t._final(function(r){e.pendingcb--,r&&yb(t,r),e.prefinished=!0,t.emit("prefinish"),sw(t,e)})}o(fje,"callFinal");function uje(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(fje,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(uje,"prefinish");function sw(t,e){var r=ele(e);if(r&&(uje(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(sw,"finishMaybe");function lje(t,e,r){e.ending=!0,sw(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(lje,"endWritable");function dje(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(dje,"onCorkedFinish");Object.defineProperty(Bi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Bi.prototype.destroy=SL.destroy;Bi.prototype._undestroy=SL.undestroy;Bi.prototype._destroy=function(t,e){e(t)}});var pg=q((yCt,nle)=>{"use strict";p();m();var hje=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};nle.exports=El;var rle=IL(),TL=AL();Gt()(El,rle);for(RL=hje(TL.prototype),V8=0;V8<RL.length;V8++)j8=RL[V8],El.prototype[j8]||(El.prototype[j8]=TL.prototype[j8]);var RL,j8,V8;function El(t){if(!(this instanceof El))return new El(t);rle.call(this,t),TL.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",pje)))}o(El,"Duplex");Object.defineProperty(El.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(El.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(El.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function pje(){this._writableState.ended||process.nextTick(mje,this)}o(pje,"onend");function mje(t){t.end()}o(mje,"onEndNT");Object.defineProperty(El.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var z8=q((_Ct,sle)=>{"use strict";p();m();var ile=hg().codes.ERR_STREAM_PREMATURE_CLOSE;function gje(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(gje,"once");function yje(){}o(yje,"noop");function bje(t){return t.setHeader&&typeof t.abort=="function"}o(bje,"isRequest");function ole(t,e,r){if(typeof e=="function")return ole(t,null,e);e||(e={}),r=gje(r||yje);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||f()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,f=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),g=o(function(O){r.call(t,O)},"onerror"),b=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new ile),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new ile),r.call(t,O)},"onclose"),A=o(function(){t.req.on("finish",f)},"onrequest");return bje(t)?(t.on("complete",f),t.on("abort",b),t.req?A():t.on("request",A)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",f),e.error!==!1&&t.on("error",g),t.on("close",b),function(){t.removeListener("complete",f),t.removeListener("abort",b),t.removeListener("request",A),t.req&&t.req.removeListener("finish",f),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",g),t.removeListener("close",b)}}o(ole,"eos");sle.exports=ole});var cle=q((ACt,ale)=>{"use strict";p();m();var K8;function N0(t,e,r){return e=vje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(N0,"_defineProperty");function vje(t){var e=xje(t,"string");return typeof e=="symbol"?e:String(e)}o(vje,"_toPropertyKey");function xje(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(xje,"_toPrimitive");var _je=z8(),M0=Symbol("lastResolve"),mg=Symbol("lastReject"),cw=Symbol("error"),G8=Symbol("ended"),gg=Symbol("lastPromise"),OL=Symbol("handlePromise"),yg=Symbol("stream");function C0(t,e){return{value:t,done:e}}o(C0,"createIterResult");function wje(t){var e=t[M0];if(e!==null){var r=t[yg].read();r!==null&&(t[gg]=null,t[M0]=null,t[mg]=null,e(C0(r,!1)))}}o(wje,"readAndResolve");function Eje(t){process.nextTick(wje,t)}o(Eje,"onReadable");function Sje(t,e){return function(r,n){t.then(function(){if(e[G8]){r(C0(void 0,!0));return}e[OL](r,n)},n)}}o(Sje,"wrapForNext");var Aje=Object.getPrototypeOf(function(){}),Rje=Object.setPrototypeOf((K8={get stream(){return this[yg]},next:o(function(){var e=this,r=this[cw];if(r!==null)return Promise.reject(r);if(this[G8])return Promise.resolve(C0(void 0,!0));if(this[yg].destroyed)return new Promise(function(a,f){process.nextTick(function(){e[cw]?f(e[cw]):a(C0(void 0,!0))})});var n=this[gg],i;if(n)i=new Promise(Sje(n,this));else{var s=this[yg].read();if(s!==null)return Promise.resolve(C0(s,!1));i=new Promise(this[OL])}return this[gg]=i,i},"next")},N0(K8,Symbol.asyncIterator,function(){return this}),N0(K8,"return",o(function(){var e=this;return new Promise(function(r,n){e[yg].destroy(null,function(i){if(i){n(i);return}r(C0(void 0,!0))})})},"_return")),K8),Aje),Tje=o(function(e){var r,n=Object.create(Rje,(r={},N0(r,yg,{value:e,writable:!0}),N0(r,M0,{value:null,writable:!0}),N0(r,mg,{value:null,writable:!0}),N0(r,cw,{value:null,writable:!0}),N0(r,G8,{value:e._readableState.endEmitted,writable:!0}),N0(r,OL,{value:o(function(s,a){var f=n[yg].read();f?(n[gg]=null,n[M0]=null,n[mg]=null,s(C0(f,!1))):(n[M0]=s,n[mg]=a)},"value"),writable:!0}),r));return n[gg]=null,_je(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[mg];s!==null&&(n[gg]=null,n[M0]=null,n[mg]=null,s(i)),n[cw]=i;return}var a=n[M0];a!==null&&(n[gg]=null,n[M0]=null,n[mg]=null,a(C0(void 0,!0))),n[G8]=!0}),e.on("readable",Eje.bind(null,n)),n},"createReadableStreamAsyncIterator");ale.exports=Tje});var ule=q((OCt,fle)=>{p();m();fle.exports=function(){throw new Error("Readable.from is not available in the browser")}});var IL=q((PCt,xle)=>{"use strict";p();m();xle.exports=Yr;var bb;Yr.ReadableState=ple;var CCt=T_().EventEmitter,hle=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),uw=bL(),$8=ci().Buffer,Ije=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function Oje(t){return $8.from(t)}o(Oje,"_uint8ArrayToBuffer");function Nje(t){return $8.isBuffer(t)||t instanceof Ije}o(Nje,"_isUint8Array");var NL=_2(),Er;NL&&NL.debuglog?Er=NL.debuglog("stream"):Er=o(function(){},"debug");var Mje=jue(),DL=_L(),Cje=wL(),Pje=Cje.getHighWaterMark,W8=hg().codes,kje=W8.ERR_INVALID_ARG_TYPE,Bje=W8.ERR_STREAM_PUSH_AFTER_EOF,Lje=W8.ERR_METHOD_NOT_IMPLEMENTED,Dje=W8.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,vb,ML,CL;Gt()(Yr,uw);var fw=DL.errorOrDestroy,PL=["error","close","destroy","pause","resume"];function Uje(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(Uje,"prependListener");function ple(t,e,r){bb=bb||pg(),t=t||{},typeof r!="boolean"&&(r=e instanceof bb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Pje(this,t,"readableHighWaterMark",r),this.buffer=new Mje,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(vb||(vb=q1().StringDecoder),this.decoder=new vb(t.encoding),this.encoding=t.encoding)}o(ple,"ReadableState");function Yr(t){if(bb=bb||pg(),!(this instanceof Yr))return new Yr(t);var e=this instanceof bb;this._readableState=new ple(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),uw.call(this)}o(Yr,"Readable");Object.defineProperty(Yr.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});Yr.prototype.destroy=DL.destroy;Yr.prototype._undestroy=DL.undestroy;Yr.prototype._destroy=function(t,e){e(t)};Yr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=$8.from(t,e),e=""),n=!0),mle(this,t,e,!1,n)};Yr.prototype.unshift=function(t){return mle(this,t,null,!0,!1)};function mle(t,e,r,n,i){Er("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Hje(t,s);else{var a;if(i||(a=Fje(s,e)),a)fw(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==$8.prototype&&(e=Oje(e)),n)s.endEmitted?fw(t,new Dje):kL(t,s,e,!0);else if(s.ended)fw(t,new Bje);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?kL(t,s,e,!1):LL(t,s)):kL(t,s,e,!1)}else n||(s.reading=!1,LL(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(mle,"readableAddChunk");function kL(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Y8(t)),LL(t,e)}o(kL,"addChunk");function Fje(t,e){var r;return!Nje(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new kje("chunk",["string","Buffer","Uint8Array"],e)),r}o(Fje,"chunkInvalid");Yr.prototype.isPaused=function(){return this._readableState.flowing===!1};Yr.prototype.setEncoding=function(t){vb||(vb=q1().StringDecoder);var e=new vb(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var lle=1073741824;function qje(t){return t>=lle?t=lle:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(qje,"computeNewHighWaterMark");function dle(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=qje(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(dle,"howMuchToRead");Yr.prototype.read=function(t){Er("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Er("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?BL(this):Y8(this),null;if(t=dle(t,e),t===0&&e.ended)return e.length===0&&BL(this),null;var n=e.needReadable;Er("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Er("length less than watermark",n)),e.ended||e.reading?(n=!1,Er("reading or ended",n)):n&&(Er("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=dle(r,e)));var i;return t>0?i=ble(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&BL(this)),i!==null&&this.emit("data",i),i};function Hje(t,e){if(Er("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Y8(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,gle(t)))}}o(Hje,"onEofChunk");function Y8(t){var e=t._readableState;Er("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Er("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(gle,t))}o(Y8,"emitReadable");function gle(t){var e=t._readableState;Er("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,UL(t)}o(gle,"emitReadable_");function LL(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Vje,t,e))}o(LL,"maybeReadMore");function Vje(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Er("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(Vje,"maybeReadMore_");Yr.prototype._read=function(t){fw(this,new Lje("_read()"))};Yr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Er("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?f:N;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(P,C){Er("onunpipe"),P===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,g())}o(a,"onunpipe");function f(){Er("onend"),t.end()}o(f,"onend");var l=jje(r);t.on("drain",l);var h=!1;function g(){Er("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",A),t.removeListener("unpipe",a),r.removeListener("end",f),r.removeListener("end",N),r.removeListener("data",b),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(g,"cleanup"),r.on("data",b);function b(P){Er("ondata");var C=t.write(P);Er("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&vle(n.pipes,t)!==-1)&&!h&&(Er("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(b,"ondata");function A(P){Er("onerror",P),N(),t.removeListener("error",A),hle(t,"error")===0&&fw(t,P)}o(A,"onerror"),Uje(t,"error",A);function T(){t.removeListener("finish",O),N()}o(T,"onclose"),t.once("close",T);function O(){Er("onfinish"),t.removeListener("close",T),N()}o(O,"onfinish"),t.once("finish",O);function N(){Er("unpipe"),r.unpipe(t)}return o(N,"unpipe"),t.emit("pipe",r),n.flowing||(Er("pipe resume"),r.resume()),t};function jje(t){return o(function(){var r=t._readableState;Er("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&hle(t,"data")&&(r.flowing=!0,UL(t))},"pipeOnDrainFunctionResult")}o(jje,"pipeOnDrain");Yr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=vle(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Yr.prototype.on=function(t,e){var r=uw.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Er("on readable",n.length,n.reading),n.length?Y8(this):n.reading||process.nextTick(zje,this)),r};Yr.prototype.addListener=Yr.prototype.on;Yr.prototype.removeListener=function(t,e){var r=uw.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(yle,this),r};Yr.prototype.removeAllListeners=function(t){var e=uw.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(yle,this),e};function yle(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(yle,"updateReadableListening");function zje(t){Er("readable nexttick read 0"),t.read(0)}o(zje,"nReadingNextTick");Yr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Er("resume"),t.flowing=!t.readableListening,Kje(this,t)),t.paused=!1,this};function Kje(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Gje,t,e))}o(Kje,"resume");function Gje(t,e){Er("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),UL(t),e.flowing&&!e.reading&&t.read(0)}o(Gje,"resume_");Yr.prototype.pause=function(){return Er("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Er("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function UL(t){var e=t._readableState;for(Er("flow",e.flowing);e.flowing&&t.read()!==null;);}o(UL,"flow");Yr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Er("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Er("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var f=e.push(a);f||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(f){return o(function(){return t[f].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<PL.length;s++)t.on(PL[s],this.emit.bind(this,PL[s]));return this._read=function(a){Er("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Yr.prototype[Symbol.asyncIterator]=function(){return ML===void 0&&(ML=cle()),ML(this)});Object.defineProperty(Yr.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(Yr.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(Yr.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});Yr._fromList=ble;Object.defineProperty(Yr.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function ble(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(ble,"fromList");function BL(t){var e=t._readableState;Er("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick($je,e,t))}o(BL,"endReadable");function $je(t,e){if(Er("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o($je,"endReadableNT");typeof Symbol=="function"&&(Yr.from=function(t,e){return CL===void 0&&(CL=ule()),CL(Yr,t,e)});function vle(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(vle,"indexOf")});var FL=q((DCt,wle)=>{"use strict";p();m();wle.exports=Gd;var X8=hg().codes,Wje=X8.ERR_METHOD_NOT_IMPLEMENTED,Yje=X8.ERR_MULTIPLE_CALLBACK,Xje=X8.ERR_TRANSFORM_ALREADY_TRANSFORMING,Zje=X8.ERR_TRANSFORM_WITH_LENGTH_0,Z8=pg();Gt()(Gd,Z8);function Jje(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Yje);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(Jje,"afterTransform");function Gd(t){if(!(this instanceof Gd))return new Gd(t);Z8.call(this,t),this._transformState={afterTransform:Jje.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Qje)}o(Gd,"Transform");function Qje(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){_le(t,e,r)}):_le(this,null,null)}o(Qje,"prefinish");Gd.prototype.push=function(t,e){return this._transformState.needTransform=!1,Z8.prototype.push.call(this,t,e)};Gd.prototype._transform=function(t,e,r){r(new Wje("_transform()"))};Gd.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Gd.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Gd.prototype._destroy=function(t,e){Z8.prototype._destroy.call(this,t,function(r){e(r)})};function _le(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Zje;if(t._transformState.transforming)throw new Xje;return t.push(null)}o(_le,"done")});var Ale=q((HCt,Sle)=>{"use strict";p();m();Sle.exports=lw;var Ele=FL();Gt()(lw,Ele);function lw(t){if(!(this instanceof lw))return new lw(t);Ele.call(this,t)}o(lw,"PassThrough");lw.prototype._transform=function(t,e,r){r(null,t)}});var Nle=q((KCt,Ole)=>{"use strict";p();m();var qL;function eze(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(eze,"once");var Ile=hg().codes,tze=Ile.ERR_MISSING_ARGS,rze=Ile.ERR_STREAM_DESTROYED;function Rle(t){if(t)throw t}o(Rle,"noop");function nze(t){return t.setHeader&&typeof t.abort=="function"}o(nze,"isRequest");function ize(t,e,r,n){n=eze(n);var i=!1;t.on("close",function(){i=!0}),qL===void 0&&(qL=z8()),qL(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,nze(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new rze("pipe"))}}}o(ize,"destroyer");function Tle(t){t()}o(Tle,"call");function oze(t,e){return t.pipe(e)}o(oze,"pipe");function sze(t){return!t.length||typeof t[t.length-1]!="function"?Rle:t.pop()}o(sze,"popCallback");function aze(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=sze(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new tze("streams");var i,s=e.map(function(a,f){var l=f<e.length-1,h=f>0;return ize(a,l,h,function(g){i||(i=g),g&&s.forEach(Tle),!l&&(s.forEach(Tle),n(i))})});return e.reduce(oze)}o(aze,"pipeline");Ole.exports=aze});var Cle=q((uf,Mle)=>{p();m();uf=Mle.exports=IL();uf.Stream=uf;uf.Readable=uf;uf.Writable=AL();uf.Duplex=pg();uf.Transform=FL();uf.PassThrough=Ale();uf.finished=z8();uf.pipeline=Nle()});var J8=q((ZCt,Ble)=>{p();m();var xb=s1(),cze=jm();function fze(t){var e=Ple(t),r=e.toRed(xb.mont(t.modulus)).redPow(new xb(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}o(fze,"blind");function Ple(t){var e=t.modulus.byteLength(),r;do r=new xb(cze(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}o(Ple,"getr");function kle(t,e){var r=fze(e),n=e.modulus.byteLength(),i=new xb(t).mul(r.blinder).umod(e.modulus),s=i.toRed(xb.mont(e.prime1)),a=i.toRed(xb.mont(e.prime2)),f=e.coefficient,l=e.prime1,h=e.prime2,g=s.redPow(e.exponent1).fromRed(),b=a.redPow(e.exponent2).fromRed(),A=g.isub(b).imul(f).umod(l).imul(h);return b.iadd(A).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}o(kle,"crt");kle.getr=Ple;Ble.exports=kle});var Lle=q((tPt,uze)=>{uze.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Sl=q((Dle,HL)=>{p();m();(function(t,e){"use strict";function r(E,c){if(!E)throw new Error(c||"Assertion failed")}o(r,"assert");function n(E,c){E.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,c,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=o1().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,y):(this._parseBase(c,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},"init"),i.prototype._initNumber=o(function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},"_initNumber"),i.prototype._initArray=o(function(c,d,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,S,R=0;if(y==="be")for(v=c.length-1,w=0;v>=0;v-=3)S=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(y==="le")for(v=0,w=0;v<c.length;v+=3)S=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this.strip()},"_initArray");function a(E,c){var d=E.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(E,c,d){var y=a(E,d);return d-1>=c&&(y|=a(E,d-1)<<4),y}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,S=0,R;if(y==="be")for(v=c.length-1;v>=d;v-=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8;else{var x=c.length-d;for(v=x%2===0?d+1:d;v<c.length;v+=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8}this.strip()},"_parseHex");function l(E,c,d,y){for(var v=0,w=Math.min(E.length,d),S=c;S<w;S++){var R=E.charCodeAt(S)-48;v*=y,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,y){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=d)v++;v--,w=w/d|0;for(var S=c.length-y,R=S%v,x=Math.min(S,S-R)+y,u=0,_=y;_<x;_+=v)u=l(c,_,_+v,d),this.imuln(w),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=l(c,_,c.length,d),_=0;_<R;_++)H*=d;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var v=0,w=0,S=0;S<this.length;S++){var R=this.words[S],x=((R<<v|w)&16777215).toString(16);w=R>>>24-v&16777215,w!==0||S!==this.length-1?y=h[6-x.length]+x+y:y=x+y,v+=2,v>=26&&(v-=26,S--)}for(w!==0&&(y=w.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var u=g[c],_=b[c];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var F=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?y=F+y:y=h[u-F.length]+F+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,y){var v=this.byteLength(),w=y||Math.max(1,v);r(v<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var S=d==="le",R=new c(w),x,u,_=this.clone();if(S){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<w;u++)R[u]=0}else{for(u=0;u<w-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[w-u-1]=x}return R},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function A(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var y=d/26|0,v=d%26;c[d]=(E.words[y]&1<<v)>>>v}return c}o(A,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var y=c/26|0,v=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,v;this.length>c.length?(y=this,v=c):(y=c,v=this);for(var w=0,S=0;S<v.length;S++)d=(y.words[S]|0)+(v.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<y.length;S++)d=(y.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;y>0?(v=this,w=c):(v=c,w=this);for(var S=0,R=0;R<w.length;R++)d=(v.words[R]|0)-(w.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;for(;S!==0&&R<v.length;R++)d=(v.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;if(S===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function T(E,c,d){d.negative=c.negative^E.negative;var y=E.length+c.length|0;d.length=y,y=y-1|0;var v=E.words[0]|0,w=c.words[0]|0,S=v*w,R=S&67108863,x=S/67108864|0;d.words[0]=R;for(var u=1;u<y;u++){for(var _=x>>>26,H=x&67108863,F=Math.min(u,c.length-1),L=Math.max(0,u-E.length+1);L<=F;L++){var $=u-L|0;v=E.words[$]|0,w=c.words[L]|0,S=v*w+H,_+=S/67108864|0,H=S&67108863}d.words[u]=H|0,x=_|0}return x!==0?d.words[u]=x|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(c,d,y){var v=c.words,w=d.words,S=y.words,R=0,x,u,_,H=v[0]|0,F=H&8191,L=H>>>13,$=v[1]|0,Q=$&8191,re=$>>>13,Me=v[2]|0,fe=Me&8191,le=Me>>>13,xe=v[3]|0,he=xe&8191,ge=xe>>>13,tr=v[4]|0,Ae=tr&8191,Oe=tr>>>13,Bn=v[5]|0,He=Bn&8191,Pe=Bn>>>13,Ln=v[6]|0,Ue=Ln&8191,Be=Ln>>>13,Dn=v[7]|0,ke=Dn&8191,Le=Dn>>>13,Kr=v[8]|0,X=Kr&8191,Z=Kr>>>13,pe=v[9]|0,ne=pe&8191,de=pe>>>13,yt=w[0]|0,be=yt&8191,Se=yt>>>13,Xt=w[1]|0,Re=Xt&8191,Ne=Xt>>>13,Zn=w[2]|0,Fe=Zn&8191,De=Zn>>>13,Qi=w[3]|0,Ge=Qi&8191,$e=Qi>>>13,Un=w[4]|0,qe=Un&8191,Ve=Un>>>13,Vi=w[5]|0,je=Vi&8191,ze=Vi>>>13,ao=w[6]|0,Ce=ao&8191,Ke=ao>>>13,z=w[7]|0,G=z&8191,K=z>>>13,B=w[8]|0,W=B&8191,J=B>>>13,me=w[9]|0,se=me&8191,ue=me>>>13;y.negative=c.negative^d.negative,y.length=19,x=Math.imul(F,be),u=Math.imul(F,Se),u=u+Math.imul(L,be)|0,_=Math.imul(L,Se);var lt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Q,be),u=Math.imul(Q,Se),u=u+Math.imul(re,be)|0,_=Math.imul(re,Se),x=x+Math.imul(F,Re)|0,u=u+Math.imul(F,Ne)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Ne)|0;var rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(fe,be),u=Math.imul(fe,Se),u=u+Math.imul(le,be)|0,_=Math.imul(le,Se),x=x+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ne)|0,u=u+Math.imul(re,Re)|0,_=_+Math.imul(re,Ne)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(F,De)|0,u=u+Math.imul(L,Fe)|0,_=_+Math.imul(L,De)|0;var Bt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(he,be),u=Math.imul(he,Se),u=u+Math.imul(ge,be)|0,_=Math.imul(ge,Se),x=x+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,x=x+Math.imul(Q,Fe)|0,u=u+Math.imul(Q,De)|0,u=u+Math.imul(re,Fe)|0,_=_+Math.imul(re,De)|0,x=x+Math.imul(F,Ge)|0,u=u+Math.imul(F,$e)|0,u=u+Math.imul(L,Ge)|0,_=_+Math.imul(L,$e)|0;var st=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Ae,be),u=Math.imul(Ae,Se),u=u+Math.imul(Oe,be)|0,_=Math.imul(Oe,Se),x=x+Math.imul(he,Re)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Re)|0,_=_+Math.imul(ge,Ne)|0,x=x+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(le,Fe)|0,_=_+Math.imul(le,De)|0,x=x+Math.imul(Q,Ge)|0,u=u+Math.imul(Q,$e)|0,u=u+Math.imul(re,Ge)|0,_=_+Math.imul(re,$e)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(F,Ve)|0,u=u+Math.imul(L,qe)|0,_=_+Math.imul(L,Ve)|0;var vt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(He,be),u=Math.imul(He,Se),u=u+Math.imul(Pe,be)|0,_=Math.imul(Pe,Se),x=x+Math.imul(Ae,Re)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Oe,Re)|0,_=_+Math.imul(Oe,Ne)|0,x=x+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,_=_+Math.imul(ge,De)|0,x=x+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,x=x+Math.imul(Q,qe)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(re,qe)|0,_=_+Math.imul(re,Ve)|0,x=x+Math.imul(F,je)|0,u=u+Math.imul(F,ze)|0,u=u+Math.imul(L,je)|0,_=_+Math.imul(L,ze)|0;var xt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Ue,be),u=Math.imul(Ue,Se),u=u+Math.imul(Be,be)|0,_=Math.imul(Be,Se),x=x+Math.imul(He,Re)|0,u=u+Math.imul(He,Ne)|0,u=u+Math.imul(Pe,Re)|0,_=_+Math.imul(Pe,Ne)|0,x=x+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Oe,Fe)|0,_=_+Math.imul(Oe,De)|0,x=x+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,$e)|0,x=x+Math.imul(fe,qe)|0,u=u+Math.imul(fe,Ve)|0,u=u+Math.imul(le,qe)|0,_=_+Math.imul(le,Ve)|0,x=x+Math.imul(Q,je)|0,u=u+Math.imul(Q,ze)|0,u=u+Math.imul(re,je)|0,_=_+Math.imul(re,ze)|0,x=x+Math.imul(F,Ce)|0,u=u+Math.imul(F,Ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ke)|0;var Rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,x=Math.imul(ke,be),u=Math.imul(ke,Se),u=u+Math.imul(Le,be)|0,_=Math.imul(Le,Se),x=x+Math.imul(Ue,Re)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Be,Re)|0,_=_+Math.imul(Be,Ne)|0,x=x+Math.imul(He,Fe)|0,u=u+Math.imul(He,De)|0,u=u+Math.imul(Pe,Fe)|0,_=_+Math.imul(Pe,De)|0,x=x+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Oe,Ge)|0,_=_+Math.imul(Oe,$e)|0,x=x+Math.imul(he,qe)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,qe)|0,_=_+Math.imul(ge,Ve)|0,x=x+Math.imul(fe,je)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,ze)|0,x=x+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ke)|0,u=u+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ke)|0,x=x+Math.imul(F,G)|0,u=u+Math.imul(F,K)|0,u=u+Math.imul(L,G)|0,_=_+Math.imul(L,K)|0;var At=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(X,be),u=Math.imul(X,Se),u=u+Math.imul(Z,be)|0,_=Math.imul(Z,Se),x=x+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ne)|0,u=u+Math.imul(Le,Re)|0,_=_+Math.imul(Le,Ne)|0,x=x+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Be,Fe)|0,_=_+Math.imul(Be,De)|0,x=x+Math.imul(He,Ge)|0,u=u+Math.imul(He,$e)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,$e)|0,x=x+Math.imul(Ae,qe)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Oe,qe)|0,_=_+Math.imul(Oe,Ve)|0,x=x+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,_=_+Math.imul(ge,ze)|0,x=x+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ke)|0,x=x+Math.imul(Q,G)|0,u=u+Math.imul(Q,K)|0,u=u+Math.imul(re,G)|0,_=_+Math.imul(re,K)|0,x=x+Math.imul(F,W)|0,u=u+Math.imul(F,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var _t=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(ne,be),u=Math.imul(ne,Se),u=u+Math.imul(de,be)|0,_=Math.imul(de,Se),x=x+Math.imul(X,Re)|0,u=u+Math.imul(X,Ne)|0,u=u+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Ne)|0,x=x+Math.imul(ke,Fe)|0,u=u+Math.imul(ke,De)|0,u=u+Math.imul(Le,Fe)|0,_=_+Math.imul(Le,De)|0,x=x+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,$e)|0,x=x+Math.imul(He,qe)|0,u=u+Math.imul(He,Ve)|0,u=u+Math.imul(Pe,qe)|0,_=_+Math.imul(Pe,Ve)|0,x=x+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Oe,je)|0,_=_+Math.imul(Oe,ze)|0,x=x+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ke)|0,x=x+Math.imul(fe,G)|0,u=u+Math.imul(fe,K)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,K)|0,x=x+Math.imul(Q,W)|0,u=u+Math.imul(Q,J)|0,u=u+Math.imul(re,W)|0,_=_+Math.imul(re,J)|0,x=x+Math.imul(F,se)|0,u=u+Math.imul(F,ue)|0,u=u+Math.imul(L,se)|0,_=_+Math.imul(L,ue)|0;var Et=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(ne,Re),u=Math.imul(ne,Ne),u=u+Math.imul(de,Re)|0,_=Math.imul(de,Ne),x=x+Math.imul(X,Fe)|0,u=u+Math.imul(X,De)|0,u=u+Math.imul(Z,Fe)|0,_=_+Math.imul(Z,De)|0,x=x+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,$e)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,$e)|0,x=x+Math.imul(Ue,qe)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(He,je)|0,u=u+Math.imul(He,ze)|0,u=u+Math.imul(Pe,je)|0,_=_+Math.imul(Pe,ze)|0,x=x+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Oe,Ce)|0,_=_+Math.imul(Oe,Ke)|0,x=x+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,_=_+Math.imul(ge,K)|0,x=x+Math.imul(fe,W)|0,u=u+Math.imul(fe,J)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,J)|0,x=x+Math.imul(Q,se)|0,u=u+Math.imul(Q,ue)|0,u=u+Math.imul(re,se)|0,_=_+Math.imul(re,ue)|0;var wt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,_=Math.imul(de,De),x=x+Math.imul(X,Ge)|0,u=u+Math.imul(X,$e)|0,u=u+Math.imul(Z,Ge)|0,_=_+Math.imul(Z,$e)|0,x=x+Math.imul(ke,qe)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Le,qe)|0,_=_+Math.imul(Le,Ve)|0,x=x+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Be,je)|0,_=_+Math.imul(Be,ze)|0,x=x+Math.imul(He,Ce)|0,u=u+Math.imul(He,Ke)|0,u=u+Math.imul(Pe,Ce)|0,_=_+Math.imul(Pe,Ke)|0,x=x+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Oe,G)|0,_=_+Math.imul(Oe,K)|0,x=x+Math.imul(he,W)|0,u=u+Math.imul(he,J)|0,u=u+Math.imul(ge,W)|0,_=_+Math.imul(ge,J)|0,x=x+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),x=x+Math.imul(X,qe)|0,u=u+Math.imul(X,Ve)|0,u=u+Math.imul(Z,qe)|0,_=_+Math.imul(Z,Ve)|0,x=x+Math.imul(ke,je)|0,u=u+Math.imul(ke,ze)|0,u=u+Math.imul(Le,je)|0,_=_+Math.imul(Le,ze)|0,x=x+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Be,Ce)|0,_=_+Math.imul(Be,Ke)|0,x=x+Math.imul(He,G)|0,u=u+Math.imul(He,K)|0,u=u+Math.imul(Pe,G)|0,_=_+Math.imul(Pe,K)|0,x=x+Math.imul(Ae,W)|0,u=u+Math.imul(Ae,J)|0,u=u+Math.imul(Oe,W)|0,_=_+Math.imul(Oe,J)|0,x=x+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,_=_+Math.imul(ge,ue)|0;var dt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(ne,qe),u=Math.imul(ne,Ve),u=u+Math.imul(de,qe)|0,_=Math.imul(de,Ve),x=x+Math.imul(X,je)|0,u=u+Math.imul(X,ze)|0,u=u+Math.imul(Z,je)|0,_=_+Math.imul(Z,ze)|0,x=x+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ke)|0,u=u+Math.imul(Le,Ce)|0,_=_+Math.imul(Le,Ke)|0,x=x+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Be,G)|0,_=_+Math.imul(Be,K)|0,x=x+Math.imul(He,W)|0,u=u+Math.imul(He,J)|0,u=u+Math.imul(Pe,W)|0,_=_+Math.imul(Pe,J)|0,x=x+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Oe,se)|0,_=_+Math.imul(Oe,ue)|0;var ot=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,_=Math.imul(de,ze),x=x+Math.imul(X,Ce)|0,u=u+Math.imul(X,Ke)|0,u=u+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,Ke)|0,x=x+Math.imul(ke,G)|0,u=u+Math.imul(ke,K)|0,u=u+Math.imul(Le,G)|0,_=_+Math.imul(Le,K)|0,x=x+Math.imul(Ue,W)|0,u=u+Math.imul(Ue,J)|0,u=u+Math.imul(Be,W)|0,_=_+Math.imul(Be,J)|0,x=x+Math.imul(He,se)|0,u=u+Math.imul(He,ue)|0,u=u+Math.imul(Pe,se)|0,_=_+Math.imul(Pe,ue)|0;var ft=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,Ke),x=x+Math.imul(X,G)|0,u=u+Math.imul(X,K)|0,u=u+Math.imul(Z,G)|0,_=_+Math.imul(Z,K)|0,x=x+Math.imul(ke,W)|0,u=u+Math.imul(ke,J)|0,u=u+Math.imul(Le,W)|0,_=_+Math.imul(Le,J)|0,x=x+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Be,se)|0,_=_+Math.imul(Be,ue)|0;var ut=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,_=Math.imul(de,K),x=x+Math.imul(X,W)|0,u=u+Math.imul(X,J)|0,u=u+Math.imul(Z,W)|0,_=_+Math.imul(Z,J)|0,x=x+Math.imul(ke,se)|0,u=u+Math.imul(ke,ue)|0,u=u+Math.imul(Le,se)|0,_=_+Math.imul(Le,ue)|0;var tt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ne,W),u=Math.imul(ne,J),u=u+Math.imul(de,W)|0,_=Math.imul(de,J),x=x+Math.imul(X,se)|0,u=u+Math.imul(X,ue)|0,u=u+Math.imul(Z,se)|0,_=_+Math.imul(Z,ue)|0;var ve=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,S[0]=lt,S[1]=rt,S[2]=Bt,S[3]=st,S[4]=vt,S[5]=xt,S[6]=Rt,S[7]=At,S[8]=_t,S[9]=Et,S[10]=wt,S[11]=ct,S[12]=dt,S[13]=ot,S[14]=ft,S[15]=ut,S[16]=tt,S[17]=ve,S[18]=_e,R!==0&&(S[19]=R,y.length++),y},"comb10MulTo");Math.imul||(O=T);function N(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var y=0,v=0,w=0;w<d.length-1;w++){var S=v;v=0;for(var R=y&67108863,x=Math.min(w,c.length-1),u=Math.max(0,w-E.length+1);u<=x;u++){var _=w-u,H=E.words[_]|0,F=c.words[u]|0,L=H*F,$=L&67108863;S=S+(L/67108864|0)|0,$=$+R|0,R=$&67108863,S=S+($>>>26)|0,v+=S>>>26,S&=67108863}d.words[w]=R,y=S,S=v}return y!==0?d.words[w]=y:d.length--,d.strip()}o(N,"bigMulTo");function P(E,c,d){var y=new C;return y.mulp(E,c,d)}o(P,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var y,v=this.length+c.length;return this.length===10&&c.length===10?y=O(this,c,d):v<63?y=T(this,c,d):v<1024?y=N(this,c,d):y=P(this,c,d),y},"mulTo");function C(E,c){this.x=E,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),y=i.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,y,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,y){if(c===0||c===y-1)return c;for(var v=0,w=0;w<d;w++)v|=(c&1)<<d-w-1,c>>=1;return v},"revBin"),C.prototype.permute=o(function(c,d,y,v,w,S){for(var R=0;R<S;R++)v[R]=d[c[R]],w[R]=y[c[R]]},"permute"),C.prototype.transform=o(function(c,d,y,v,w,S){this.permute(S,c,d,y,v,w);for(var R=1;R<w;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<w;H+=x)for(var F=u,L=_,$=0;$<R;$++){var Q=y[H+$],re=v[H+$],Me=y[H+$+R],fe=v[H+$+R],le=F*Me-L*fe;fe=F*fe+L*Me,Me=le,y[H+$]=Q+Me,v[H+$]=re+fe,y[H+$+R]=Q-Me,v[H+$+R]=re-fe,$!==x&&(le=u*F-_*L,L=u*L+_*F,F=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var y=Math.max(d,c)|1,v=y&1,w=0;for(y=y/2|0;y;y=y>>>1)w++;return 1<<w+1+v},"guessLen13b"),C.prototype.conjugate=o(function(c,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var w=c[v];c[v]=c[y-v-1],c[y-v-1]=w,w=d[v],d[v]=-d[y-v-1],d[y-v-1]=-w}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var y=0,v=0;v<d/2;v++){var w=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+y;c[v]=w&67108863,w<67108864?y=0:y=w/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,y,v){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),y[2*S]=w&8191,w=w>>>13,y[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<v;++S)y[S]=0;r(w===0),r((w&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),y=0;y<c;y++)d[y]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,y){var v=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(v),S=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),F=new Array(v),L=y.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(d.words,d.length,_,v),this.transform(R,S,x,u,v,w),this.transform(_,S,H,F,v,w);for(var $=0;$<v;$++){var Q=x[$]*H[$]-u[$]*F[$];u[$]=x[$]*F[$]+u[$]*H[$],x[$]=Q}return this.conjugate(x,u,v),this.transform(x,u,L,S,v,w),this.conjugate(L,S,v),this.normalize13b(L,v),y.negative=c.negative^d.negative,y.length=c.length+d.length,y.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),P(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*c,w=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=w>>>26,this.words[y]=w&67108863}return d!==0&&(this.words[y]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=A(c);if(d.length===0)return new i(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var w=y.sqr();v<d.length;v++,w=w.sqr())d[v]!==0&&(y=y.mul(w));return y},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&v,x=(this.words[w]|0)-R<<d;this.words[w]=x|S,S=R>>>26-d}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,y){r(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var w=c%26,S=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,x=y;if(v-=S,v=Math.max(0,v),x){for(var u=0;u<S;u++)x.words[u]=this.words[u];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-w|H>>>w,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,y){return r(this.negative===0),this.iushrn(c,d,y)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return!1;var w=this.words[y];return!!(w&v)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,y){var v=c.length+y,w;this._expand(v);var S,R=0;for(w=0;w<c.length;w++){S=(this.words[w+y]|0)+R;var x=(c.words[w]|0)*d;S-=x&67108863,R=(S>>26)-(x/67108864|0),this.words[w+y]=S&67108863}for(;w<this.length-y;w++)S=(this.words[w+y]|0)+R,R=S>>26,this.words[w+y]=S&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+R,R=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var y=this.length-c.length,v=this.clone(),w=c,S=w.words[w.length-1]|0,R=this._countBits(S);y=26-R,y!==0&&(w=w.ushln(y),v.iushln(y),S=w.words[w.length-1]|0);var x=v.length-w.length,u;if(d!=="mod"){u=new i(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(w,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var F=x-1;F>=0;F--){var L=(v.words[w.length+F]|0)*67108864+(v.words[w.length+F-1]|0);for(L=Math.min(L/S|0,67108863),v._ishlnsubmul(w,L,F);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(w,1,F),v.isZero()||(v.negative^=1);u&&(u.words[F]=L)}return u&&u.strip(),v.strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:u||null,mod:v}},"_wordDiv"),i.prototype.divmod=o(function(c,d,y){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(v=S.div.neg()),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.iadd(c)),{div:v,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),w=c.andln(1),S=y.cmp(v);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,y=0,v=this.length-1;v>=0;v--)y=(d*y+(this.words[v]|0))%c;return y},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+d*67108864;this.words[y]=v/c|0,d=v%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=new i(0),R=new i(1),x=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++x;for(var u=y.clone(),_=d.clone();!d.isZero();){for(var H=0,F=1;!(d.words[0]&F)&&H<26;++H,F<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(u),w.isub(_)),v.iushrn(1),w.iushrn(1);for(var L=0,$=1;!(y.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(u),R.isub(_)),S.iushrn(1),R.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(S),w.isub(R)):(y.isub(d),S.isub(v),R.isub(w))}return{a:S,b:R,gcd:y.iushln(x)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var u=0,_=1;!(y.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(y.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(w)):(y.isub(d),w.isub(v))}var H;return d.cmpn(1)===0?H=v:H=w,H.cmpn(0)<0&&H.iadd(c),H},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=d.cmp(y);if(w<0){var S=d;d=y,y=S}else if(w===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var w=v,S=y;w!==0&&S<this.length;S++){var R=this.words[S]|0;R+=w,w=R>>>26,R&=67108863,this.words[S]=R}return w!==0&&(this.words[S]=w,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var y;if(this.length>1)y=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var v=this.words[0]|0;y=v===c?0:v<c?-1:1}return this.negative!==0?-y|0:y},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,w=c.words[y]|0;if(v!==w){v<w?d=-1:v>w&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var D={k256:null,p224:null,p192:null,p25519:null};function M(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var y=4194303,v=Math.min(c.length,9),w=0;w<v;w++)d.words[w]=c.words[w];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&y,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&y)<<4|S>>>22,S=R}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var v=c.words[y]|0;d+=v*977,c.words[y]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,"P224"),n(V,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function ee(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ee,"P25519"),n(ee,M),ee.prototype.imulK=o(function(c){for(var d=0,y=0;y<c.length;y++){var v=(c.words[y]|0)*19+d,w=v&67108863;v>>>=26,c.words[y]=w,d=v}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(D[c])return D[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new V;else if(c==="p192")d=new j;else if(c==="p25519")d=new ee;else throw new Error("Unknown prime "+c);return D[c]=d,d},"prime");function Y(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(c,y)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);r(!v.isZero());var S=new i(1).toRed(this),R=S.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),F=this.pow(c,v),L=w;F.cmp(S)!==0;){for(var $=F,Q=0;$.cmp(S)!==0;Q++)$=$.redSqr();r(Q<L);var re=this.pow(_,new i(1).iushln(L-Q-1));H=H.redMul(re),_=re.redSqr(),F=F.redMul(_),L=Q}return H},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,v=new Array(1<<y);v[0]=new i(1).toRed(this),v[1]=c;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],c);var S=v[0],R=0,x=0,u=d.bitLength()%26;for(u===0&&(u=26),w=d.length-1;w>=0;w--){for(var _=d.words[w],H=u-1;H>=0;H--){var F=_>>H&1;if(S!==v[0]&&(S=this.sqr(S)),F===0&&R===0){x=0;continue}R<<=1,R|=F,x++,!(x!==y&&(w!==0||H!==0))&&(S=this.mul(S,v[R]),x=0,R=0)}u=26}return S},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new te(c)},"mont");function te(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,"Mont"),n(te,Y),te.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),te.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),te.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"imul"),te.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var y=c.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"mul"),te.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof HL>"u"||HL,Dle)});var VL=q(qle=>{"use strict";p();m();var Q8=qle;function lze(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}o(lze,"toArray");Q8.toArray=lze;function Ule(t){return t.length===1?"0"+t:t}o(Ule,"zero2");Q8.zero2=Ule;function Fle(t){for(var e="",r=0;r<t.length;r++)e+=Ule(t[r].toString(16));return e}o(Fle,"toHex");Q8.toHex=Fle;Q8.encode=o(function(e,r){return r==="hex"?Fle(e):e},"encode")});var Ac=q(Hle=>{"use strict";p();m();var gu=Hle,dze=Sl(),hze=Sc(),e5=VL();gu.assert=hze;gu.toArray=e5.toArray;gu.zero2=e5.zero2;gu.toHex=e5.toHex;gu.encode=e5.encode;function pze(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var f,l=a.andln(s-1);a.isOdd()?(l>(s>>1)-1?f=(s>>1)-l:f=l,a.isubn(f)):f=0,n[i]=f,a.iushrn(1)}return n}o(pze,"getNAF");gu.getNAF=pze;function mze(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,f=e.andln(3)+i&3;a===3&&(a=-1),f===3&&(f=-1);var l;a&1?(s=t.andln(7)+n&7,(s===3||s===5)&&f===2?l=-a:l=a):l=0,r[0].push(l);var h;f&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?h=-f:h=f):h=0,r[1].push(h),2*n===l+1&&(n=1-n),2*i===h+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}o(mze,"getJSF");gu.getJSF=mze;function gze(t,e,r){var n="_"+e;t.prototype[e]=o(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}o(gze,"cachedProperty");gu.cachedProperty=gze;function yze(t){return typeof t=="string"?gu.toArray(t,"hex"):t}o(yze,"parseBytes");gu.parseBytes=yze;function bze(t){return new dze(t,"hex","le")}o(bze,"intFromLE");gu.intFromLE=bze});var hw=q((hPt,Vle)=>{"use strict";p();m();var bg=Sl(),dw=Ac(),t5=dw.getNAF,vze=dw.getJSF,r5=dw.assert;function P0(t,e){this.type=t,this.p=new bg(e.p,16),this.red=e.prime?bg.red(e.prime):bg.mont(this.p),this.zero=new bg(0).toRed(this.red),this.one=new bg(1).toRed(this.red),this.two=new bg(2).toRed(this.red),this.n=e.n&&new bg(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(P0,"BaseCurve");Vle.exports=P0;P0.prototype.point=o(function(){throw new Error("Not implemented")},"point");P0.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");P0.prototype._fixedNafMul=o(function(e,r){r5(e.precomputed);var n=e._getDoubles(),i=t5(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var h=f+n.step-1;h>=f;h--)l=(l<<1)+i[h];a.push(l)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),A=s;A>0;A--){for(f=0;f<a.length;f++)l=a[f],l===A?b=b.mixedAdd(n.points[f]):l===-A&&(b=b.mixedAdd(n.points[f].neg()));g=g.add(b)}return g.toP()},"_fixedNafMul");P0.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=t5(r,n,this._bitLength),f=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,f=f.dblp(h),l<0)break;var g=a[l];r5(g!==0),e.type==="affine"?g>0?f=f.mixedAdd(s[g-1>>1]):f=f.mixedAdd(s[-g-1>>1].neg()):g>0?f=f.add(s[g-1>>1]):f=f.add(s[-g-1>>1].neg())}return e.type==="affine"?f.toP():f},"_wnafMul");P0.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,f=this._wnafT2,l=this._wnafT3,h=0,g,b,A;for(g=0;g<i;g++){A=r[g];var T=A._getNAFPoints(e);a[g]=T.wnd,f[g]=T.points}for(g=i-1;g>=1;g-=2){var O=g-1,N=g;if(a[O]!==1||a[N]!==1){l[O]=t5(n[O],a[O],this._bitLength),l[N]=t5(n[N],a[N],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[N].length,h);continue}var P=[r[O],null,null,r[N]];r[O].y.cmp(r[N].y)===0?(P[1]=r[O].add(r[N]),P[2]=r[O].toJ().mixedAdd(r[N].neg())):r[O].y.cmp(r[N].y.redNeg())===0?(P[1]=r[O].toJ().mixedAdd(r[N]),P[2]=r[O].add(r[N].neg())):(P[1]=r[O].toJ().mixedAdd(r[N]),P[2]=r[O].toJ().mixedAdd(r[N].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],D=vze(n[O],n[N]);for(h=Math.max(D[0].length,h),l[O]=new Array(h),l[N]=new Array(h),b=0;b<h;b++){var M=D[0][b]|0,U=D[1][b]|0;l[O][b]=C[(M+1)*3+(U+1)],l[N][b]=0,f[O]=P}}var V=this.jpoint(null,null,null),j=this._wnafT4;for(g=h;g>=0;g--){for(var ee=0;g>=0;){var Y=!0;for(b=0;b<i;b++)j[b]=l[b][g]|0,j[b]!==0&&(Y=!1);if(!Y)break;ee++,g--}if(g>=0&&ee++,V=V.dblp(ee),g<0)break;for(b=0;b<i;b++){var te=j[b];te!==0&&(te>0?A=f[b][te-1>>1]:te<0&&(A=f[b][-te-1>>1].neg()),A.type==="affine"?V=V.mixedAdd(A):V=V.add(A))}}for(g=0;g<i;g++)f[g]=null;return s?V:V.toP()},"_wnafMulAdd");function lf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(lf,"BasePoint");P0.BasePoint=lf;lf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");lf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");P0.prototype.decodePoint=o(function(e,r){e=dw.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?r5(e[e.length-1]%2===0):e[0]===7&&r5(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");lf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");lf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");lf.prototype.encode=o(function(e,r){return dw.encode(this._encode(r),e)},"encode");lf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");lf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");lf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");lf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");lf.prototype._getBeta=o(function(){return null},"_getBeta");lf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp")});var zle=q((yPt,jle)=>{"use strict";p();m();var xze=Ac(),Li=Sl(),jL=Gt(),_b=hw(),_ze=xze.assert;function df(t){_b.call(this,"short",t),this.a=new Li(t.a,16).toRed(this.red),this.b=new Li(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(df,"ShortCurve");jL(df,_b);jle.exports=df;df.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Li(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Li(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],_ze(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new Li(f.a,16),b:new Li(f.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");df.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:Li.mont(e),n=new Li(2).toRed(r).redInvm(),i=n.redNeg(),s=new Li(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[a,f]},"_getEndoRoots");df.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Li(1),a=new Li(0),f=new Li(0),l=new Li(1),h,g,b,A,T,O,N,P=0,C,D;n.cmpn(0)!==0;){var M=i.div(n);C=i.sub(M.mul(n)),D=f.sub(M.mul(s));var U=l.sub(M.mul(a));if(!b&&C.cmp(r)<0)h=N.neg(),g=s,b=C.neg(),A=D;else if(b&&++P===2)break;N=C,i=n,n=C,f=s,s=D,l=a,a=U}T=C.neg(),O=D;var V=b.sqr().add(A.sqr()),j=T.sqr().add(O.sqr());return j.cmp(V)>=0&&(T=h,O=g),b.negative&&(b=b.neg(),A=A.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:b,b:A},{a:T,b:O}]},"_getEndoBasis");df.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),g=a.mul(i.b),b=e.sub(f).sub(l),A=h.add(g).neg();return{k1:b,k2:A}},"_endoSplit");df.prototype.pointFromX=o(function(e,r){e=new Li(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");df.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");df.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(r[a]),l=e[a],h=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var g=this._wnafMulAdd(1,i,s,a*2,n),b=0;b<a*2;b++)i[b]=null,s[b]=null;return g},"_endoWnafMulAdd");function Do(t,e,r,n){_b.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Li(e,16),this.y=new Li(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Do,"Point");jL(Do,_b.BasePoint);df.prototype.point=o(function(e,r,n){return new Do(this,e,r,n)},"point");df.prototype.pointFromJSON=o(function(e,r){return Do.fromJSON(this,e,r)},"pointFromJSON");Do.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Do.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Do.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(f){return e.point(f[0],f[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Do.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Do.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Do.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Do.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},"dbl");Do.prototype.getX=o(function(){return this.x.fromRed()},"getX");Do.prototype.getY=o(function(){return this.y.fromRed()},"getY");Do.prototype.mul=o(function(e){return e=new Li(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Do.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Do.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Do.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Do.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Do.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function os(t,e,r,n){_b.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Li(0)):(this.x=new Li(e,16),this.y=new Li(r,16),this.z=new Li(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(os,"JPoint");jL(os,_b.BasePoint);df.prototype.jpoint=o(function(e,r,n){return new os(this,e,r,n)},"jpoint");os.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");os.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");os.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(f);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=l.redSqr(),b=g.redMul(l),A=i.redMul(g),T=h.redSqr().redIAdd(b).redISub(A).redISub(A),O=h.redMul(A.redISub(T)).redISub(a.redMul(b)),N=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,O,N)},"add");os.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=s.redSub(a);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),g=h.redMul(f),b=n.redMul(h),A=l.redSqr().redIAdd(g).redISub(b).redISub(b),T=l.redMul(b.redISub(A)).redISub(s.redMul(g)),O=this.z.redMul(f);return this.curve.jpoint(A,T,O)},"mixedAdd");os.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,l=this.z,h=l.redSqr().redSqr(),g=f.redAdd(f);for(r=0;r<e;r++){var b=a.redSqr(),A=g.redSqr(),T=A.redSqr(),O=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(h)),N=a.redMul(A),P=O.redSqr().redISub(N.redAdd(N)),C=N.redISub(P),D=O.redMul(C);D=D.redIAdd(D).redISub(T);var M=g.redMul(l);r+1<e&&(h=h.redMul(T)),a=P,l=M,g=D}return this.curve.jpoint(a,g.redMul(s),l)},"dblp");os.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");os.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(f).redISub(f),g=a.redIAdd(a);g=g.redIAdd(g),g=g.redIAdd(g),e=h,r=l.redMul(f.redISub(h)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),A=this.y.redSqr(),T=A.redSqr(),O=this.x.redAdd(A).redSqr().redISub(b).redISub(T);O=O.redIAdd(O);var N=b.redAdd(b).redIAdd(b),P=N.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(O).redISub(O),r=N.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");os.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(f).redISub(f);e=h;var g=a.redIAdd(a);g=g.redIAdd(g),g=g.redIAdd(g),r=l.redMul(f.redISub(h)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),A=this.y.redSqr(),T=this.x.redMul(A),O=this.x.redSub(b).redMul(this.x.redAdd(b));O=O.redAdd(O).redIAdd(O);var N=T.redIAdd(T);N=N.redIAdd(N);var P=N.redAdd(N);e=O.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(b);var C=A.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(N.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");os.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),f=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var g=h.redMul(f),b=l.redSqr().redISub(g.redAdd(g)),A=g.redISub(b),T=f.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=l.redMul(A).redISub(T),N=n.redAdd(n).redMul(i);return this.curve.jpoint(b,O,N)},"_dbl");os.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var l=f.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=s.redIAdd(f).redSqr().redISub(a).redISub(l).redISub(h),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var A=this.x.redMul(l).redISub(b);A=A.redIAdd(A),A=A.redIAdd(A);var T=this.y.redMul(g.redMul(h.redISub(g)).redISub(f.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(A,T,O)},"trpl");os.prototype.mul=o(function(e,r){return e=new Li(e,r),this.curve._wnafMul(this,e)},"mul");os.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");os.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");os.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");os.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity")});var $le=q((_Pt,Gle)=>{"use strict";p();m();var wb=Sl(),Kle=Gt(),n5=hw(),wze=Ac();function Eb(t){n5.call(this,"mont",t),this.a=new wb(t.a,16).toRed(this.red),this.b=new wb(t.b,16).toRed(this.red),this.i4=new wb(4).toRed(this.red).redInvm(),this.two=new wb(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}o(Eb,"MontCurve");Kle(Eb,n5);Gle.exports=Eb;Eb.prototype.validate=o(function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function Uo(t,e,r){n5.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new wb(e,16),this.z=new wb(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(Uo,"Point");Kle(Uo,n5.BasePoint);Eb.prototype.decodePoint=o(function(e,r){return this.point(wze.toArray(e,r),1)},"decodePoint");Eb.prototype.point=o(function(e,r){return new Uo(this,e,r)},"point");Eb.prototype.pointFromJSON=o(function(e){return Uo.fromJSON(this,e)},"pointFromJSON");Uo.prototype.precompute=o(function(){},"precompute");Uo.prototype._encode=o(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");Uo.fromJSON=o(function(e,r){return new Uo(e,r[0],r[1]||e.one)},"fromJSON");Uo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Uo.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");Uo.prototype.dbl=o(function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),f=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,f)},"dbl");Uo.prototype.add=o(function(){throw new Error("Not supported on Montgomery curve")},"add");Uo.prototype.diffAdd=o(function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),f=a.redMul(n),l=s.redMul(i),h=r.z.redMul(f.redAdd(l).redSqr()),g=r.x.redMul(f.redISub(l).redSqr());return this.curve.point(h,g)},"diffAdd");Uo.prototype.mul=o(function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var f=a.length-1;f>=0;f--)a[f]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");Uo.prototype.mulAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");Uo.prototype.jumlAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");Uo.prototype.eq=o(function(e){return this.getX().cmp(e.getX())===0},"eq");Uo.prototype.normalize=o(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");Uo.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX")});var Xle=q((APt,Yle)=>{"use strict";p();m();var Eze=Ac(),$d=Sl(),Wle=Gt(),i5=hw(),Sze=Eze.assert;function Al(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,i5.call(this,"edwards",t),this.a=new $d(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new $d(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new $d(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Sze(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}o(Al,"EdwardsCurve");Wle(Al,i5);Yle.exports=Al;Al.prototype._mulA=o(function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},"_mulA");Al.prototype._mulC=o(function(e){return this.oneC?e:this.c.redMul(e)},"_mulC");Al.prototype.jpoint=o(function(e,r,n,i){return this.point(e,r,n,i)},"jpoint");Al.prototype.pointFromX=o(function(e,r){e=new $d(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var l=f.fromRed().isOdd();return(r&&!l||!r&&l)&&(f=f.redNeg()),this.point(e,f)},"pointFromX");Al.prototype.pointFromY=o(function(e,r){e=new $d(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)},"pointFromY");Al.prototype.validate=o(function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function Gn(t,e,r,n,i){i5.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new $d(e,16),this.y=new $d(r,16),this.z=n?new $d(n,16):this.curve.one,this.t=i&&new $d(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(Gn,"Point");Wle(Gn,i5.BasePoint);Al.prototype.pointFromJSON=o(function(e){return Gn.fromJSON(this,e)},"pointFromJSON");Al.prototype.point=o(function(e,r,n,i){return new Gn(this,e,r,n,i)},"point");Gn.fromJSON=o(function(e,r){return new Gn(e,r[0],r[1],r[2])},"fromJSON");Gn.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Gn.prototype.isInfinity=o(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");Gn.prototype._extDbl=o(function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),f=a.redSub(n),l=i.redSub(r),h=s.redMul(f),g=a.redMul(l),b=s.redMul(l),A=f.redMul(a);return this.curve.point(h,g,A,b)},"_extDbl");Gn.prototype._projDbl=o(function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,f,l,h;if(this.curve.twisted){f=this.curve._mulA(r);var g=f.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(g.redSub(this.curve.two)),s=g.redMul(f.redSub(n)),a=g.redSqr().redSub(g).redSub(g)):(l=this.z.redSqr(),h=g.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(h),s=g.redMul(f.redSub(n)),a=g.redMul(h))}else f=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),h=f.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(f)).redMul(h),s=this.curve._mulC(f).redMul(r.redISub(n)),a=f.redMul(h);return this.curve.point(i,s,a)},"_projDbl");Gn.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");Gn.prototype._extAdd=o(function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),f=s.redSub(i),l=s.redAdd(i),h=n.redAdd(r),g=a.redMul(f),b=l.redMul(h),A=a.redMul(h),T=f.redMul(l);return this.curve.point(g,b,T,A)},"_extAdd");Gn.prototype._projAdd=o(function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),f=n.redSub(a),l=n.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),g=r.redMul(f).redMul(h),b,A;return this.curve.twisted?(b=r.redMul(l).redMul(s.redSub(this.curve._mulA(i))),A=f.redMul(l)):(b=r.redMul(l).redMul(s.redSub(i)),A=this.curve._mulC(f).redMul(l)),this.curve.point(g,b,A)},"_projAdd");Gn.prototype.add=o(function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},"add");Gn.prototype.mul=o(function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},"mul");Gn.prototype.mulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)},"mulAdd");Gn.prototype.jmulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)},"jmulAdd");Gn.prototype.normalize=o(function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},"normalize");Gn.prototype.neg=o(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");Gn.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX");Gn.prototype.getY=o(function(){return this.normalize(),this.y.fromRed()},"getY");Gn.prototype.eq=o(function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},"eq");Gn.prototype.eqXToP=o(function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");Gn.prototype.toP=Gn.prototype.normalize;Gn.prototype.mixedAdd=Gn.prototype.add});var zL=q(Zle=>{"use strict";p();m();var o5=Zle;o5.base=hw();o5.short=zle();o5.mont=$le();o5.edwards=Xle()});var yu=q(qn=>{"use strict";p();m();var Aze=Sc(),Rze=Gt();qn.inherits=Rze;function Tze(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}o(Tze,"isSurrogatePair");function Ize(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Tze(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}o(Ize,"toArray");qn.toArray=Ize;function Oze(t){for(var e="",r=0;r<t.length;r++)e+=Qle(t[r].toString(16));return e}o(Oze,"toHex");qn.toHex=Oze;function Jle(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}o(Jle,"htonl");qn.htonl=Jle;function Nze(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Jle(i)),r+=ede(i.toString(16))}return r}o(Nze,"toHex32");qn.toHex32=Nze;function Qle(t){return t.length===1?"0"+t:t}o(Qle,"zero2");qn.zero2=Qle;function ede(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}o(ede,"zero8");qn.zero8=ede;function Mze(t,e,r,n){var i=r-e;Aze(i%4===0);for(var s=new Array(i/4),a=0,f=e;a<s.length;a++,f+=4){var l;n==="big"?l=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:l=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[a]=l>>>0}return s}o(Mze,"join32");qn.join32=Mze;function Cze(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}o(Cze,"split32");qn.split32=Cze;function Pze(t,e){return t>>>e|t<<32-e}o(Pze,"rotr32");qn.rotr32=Pze;function kze(t,e){return t<<e|t>>>32-e}o(kze,"rotl32");qn.rotl32=kze;function Bze(t,e){return t+e>>>0}o(Bze,"sum32");qn.sum32=Bze;function Lze(t,e,r){return t+e+r>>>0}o(Lze,"sum32_3");qn.sum32_3=Lze;function Dze(t,e,r,n){return t+e+r+n>>>0}o(Dze,"sum32_4");qn.sum32_4=Dze;function Uze(t,e,r,n,i){return t+e+r+n+i>>>0}o(Uze,"sum32_5");qn.sum32_5=Uze;function Fze(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,f=(a<n?1:0)+r+i;t[e]=f>>>0,t[e+1]=a}o(Fze,"sum64");qn.sum64=Fze;function qze(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}o(qze,"sum64_hi");qn.sum64_hi=qze;function Hze(t,e,r,n){var i=e+n;return i>>>0}o(Hze,"sum64_lo");qn.sum64_lo=Hze;function Vze(t,e,r,n,i,s,a,f){var l=0,h=e;h=h+n>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+f>>>0,l+=h<f?1:0;var g=t+r+i+a+l;return g>>>0}o(Vze,"sum64_4_hi");qn.sum64_4_hi=Vze;function jze(t,e,r,n,i,s,a,f){var l=e+n+s+f;return l>>>0}o(jze,"sum64_4_lo");qn.sum64_4_lo=jze;function zze(t,e,r,n,i,s,a,f,l,h){var g=0,b=e;b=b+n>>>0,g+=b<e?1:0,b=b+s>>>0,g+=b<s?1:0,b=b+f>>>0,g+=b<f?1:0,b=b+h>>>0,g+=b<h?1:0;var A=t+r+i+a+l+g;return A>>>0}o(zze,"sum64_5_hi");qn.sum64_5_hi=zze;function Kze(t,e,r,n,i,s,a,f,l,h){var g=e+n+s+f+h;return g>>>0}o(Kze,"sum64_5_lo");qn.sum64_5_lo=Kze;function Gze(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}o(Gze,"rotr64_hi");qn.rotr64_hi=Gze;function $ze(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o($ze,"rotr64_lo");qn.rotr64_lo=$ze;function Wze(t,e,r){return t>>>r}o(Wze,"shr64_hi");qn.shr64_hi=Wze;function Yze(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(Yze,"shr64_lo");qn.shr64_lo=Yze});var Sb=q(rde=>{"use strict";p();m();var tde=yu(),Xze=Sc();function s5(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}o(s5,"BlockHash");rde.BlockHash=s5;s5.prototype.update=o(function(e,r){if(e=tde.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=tde.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},"update");s5.prototype.digest=o(function(e){return this.update(this._pad()),Xze(this.pending===null),this._digest(e)},"digest");s5.prototype._pad=o(function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i},"pad")});var KL=q(Wd=>{"use strict";p();m();var Zze=yu(),Rl=Zze.rotr32;function Jze(t,e,r,n){if(t===0)return nde(e,r,n);if(t===1||t===3)return ode(e,r,n);if(t===2)return ide(e,r,n)}o(Jze,"ft_1");Wd.ft_1=Jze;function nde(t,e,r){return t&e^~t&r}o(nde,"ch32");Wd.ch32=nde;function ide(t,e,r){return t&e^t&r^e&r}o(ide,"maj32");Wd.maj32=ide;function ode(t,e,r){return t^e^r}o(ode,"p32");Wd.p32=ode;function Qze(t){return Rl(t,2)^Rl(t,13)^Rl(t,22)}o(Qze,"s0_256");Wd.s0_256=Qze;function eKe(t){return Rl(t,6)^Rl(t,11)^Rl(t,25)}o(eKe,"s1_256");Wd.s1_256=eKe;function tKe(t){return Rl(t,7)^Rl(t,18)^t>>>3}o(tKe,"g0_256");Wd.g0_256=tKe;function rKe(t){return Rl(t,17)^Rl(t,19)^t>>>10}o(rKe,"g1_256");Wd.g1_256=rKe});var cde=q((zPt,ade)=>{"use strict";p();m();var Ab=yu(),nKe=Sb(),iKe=KL(),GL=Ab.rotl32,pw=Ab.sum32,oKe=Ab.sum32_5,sKe=iKe.ft_1,sde=nKe.BlockHash,aKe=[1518500249,1859775393,2400959708,3395469782];function Tl(){if(!(this instanceof Tl))return new Tl;sde.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o(Tl,"SHA1");Ab.inherits(Tl,sde);ade.exports=Tl;Tl.blockSize=512;Tl.outSize=160;Tl.hmacStrength=80;Tl.padLength=64;Tl.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=GL(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],f=this.h[2],l=this.h[3],h=this.h[4];for(i=0;i<n.length;i++){var g=~~(i/20),b=oKe(GL(s,5),sKe(g,a,f,l),h,n[i],aKe[g]);h=l,l=f,f=GL(a,30),a=s,s=b}this.h[0]=pw(this.h[0],s),this.h[1]=pw(this.h[1],a),this.h[2]=pw(this.h[2],f),this.h[3]=pw(this.h[3],l),this.h[4]=pw(this.h[4],h)},"_update");Tl.prototype._digest=o(function(e){return e==="hex"?Ab.toHex32(this.h,"big"):Ab.split32(this.h,"big")},"digest")});var $L=q((WPt,ude)=>{"use strict";p();m();var Rb=yu(),cKe=Sb(),Tb=KL(),fKe=Sc(),bu=Rb.sum32,uKe=Rb.sum32_4,lKe=Rb.sum32_5,dKe=Tb.ch32,hKe=Tb.maj32,pKe=Tb.s0_256,mKe=Tb.s1_256,gKe=Tb.g0_256,yKe=Tb.g1_256,fde=cKe.BlockHash,bKe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Il(){if(!(this instanceof Il))return new Il;fde.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=bKe,this.W=new Array(64)}o(Il,"SHA256");Rb.inherits(Il,fde);ude.exports=Il;Il.blockSize=512;Il.outSize=256;Il.hmacStrength=192;Il.padLength=64;Il.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=uKe(yKe(n[i-2]),n[i-7],gKe(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],f=this.h[2],l=this.h[3],h=this.h[4],g=this.h[5],b=this.h[6],A=this.h[7];for(fKe(this.k.length===n.length),i=0;i<n.length;i++){var T=lKe(A,mKe(h),dKe(h,g,b),this.k[i],n[i]),O=bu(pKe(s),hKe(s,a,f));A=b,b=g,g=h,h=bu(l,T),l=f,f=a,a=s,s=bu(T,O)}this.h[0]=bu(this.h[0],s),this.h[1]=bu(this.h[1],a),this.h[2]=bu(this.h[2],f),this.h[3]=bu(this.h[3],l),this.h[4]=bu(this.h[4],h),this.h[5]=bu(this.h[5],g),this.h[6]=bu(this.h[6],b),this.h[7]=bu(this.h[7],A)},"_update");Il.prototype._digest=o(function(e){return e==="hex"?Rb.toHex32(this.h,"big"):Rb.split32(this.h,"big")},"digest")});var hde=q((JPt,dde)=>{"use strict";p();m();var WL=yu(),lde=$L();function Yd(){if(!(this instanceof Yd))return new Yd;lde.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o(Yd,"SHA224");WL.inherits(Yd,lde);dde.exports=Yd;Yd.blockSize=512;Yd.outSize=224;Yd.hmacStrength=192;Yd.padLength=64;Yd.prototype._digest=o(function(e){return e==="hex"?WL.toHex32(this.h.slice(0,7),"big"):WL.split32(this.h.slice(0,7),"big")},"digest")});var ZL=q((rkt,yde)=>{"use strict";p();m();var za=yu(),vKe=Sb(),xKe=Sc(),Ol=za.rotr64_hi,Nl=za.rotr64_lo,pde=za.shr64_hi,mde=za.shr64_lo,k0=za.sum64,YL=za.sum64_hi,XL=za.sum64_lo,_Ke=za.sum64_4_hi,wKe=za.sum64_4_lo,EKe=za.sum64_5_hi,SKe=za.sum64_5_lo,gde=vKe.BlockHash,AKe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function vu(){if(!(this instanceof vu))return new vu;gde.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=AKe,this.W=new Array(160)}o(vu,"SHA512");za.inherits(vu,gde);yde.exports=vu;vu.blockSize=1024;vu.outSize=512;vu.hmacStrength=192;vu.padLength=128;vu.prototype._prepareBlock=o(function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=LKe(n[i-4],n[i-3]),a=DKe(n[i-4],n[i-3]),f=n[i-14],l=n[i-13],h=kKe(n[i-30],n[i-29]),g=BKe(n[i-30],n[i-29]),b=n[i-32],A=n[i-31];n[i]=_Ke(s,a,f,l,h,g,b,A),n[i+1]=wKe(s,a,f,l,h,g,b,A)}},"_prepareBlock");vu.prototype._update=o(function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],f=this.h[3],l=this.h[4],h=this.h[5],g=this.h[6],b=this.h[7],A=this.h[8],T=this.h[9],O=this.h[10],N=this.h[11],P=this.h[12],C=this.h[13],D=this.h[14],M=this.h[15];xKe(this.k.length===n.length);for(var U=0;U<n.length;U+=2){var V=D,j=M,ee=CKe(A,T),Y=PKe(A,T),te=RKe(A,T,O,N,P,C),E=TKe(A,T,O,N,P,C),c=this.k[U],d=this.k[U+1],y=n[U],v=n[U+1],w=EKe(V,j,ee,Y,te,E,c,d,y,v),S=SKe(V,j,ee,Y,te,E,c,d,y,v);V=NKe(i,s),j=MKe(i,s),ee=IKe(i,s,a,f,l,h),Y=OKe(i,s,a,f,l,h);var R=YL(V,j,ee,Y),x=XL(V,j,ee,Y);D=P,M=C,P=O,C=N,O=A,N=T,A=YL(g,b,w,S),T=XL(b,b,w,S),g=l,b=h,l=a,h=f,a=i,f=s,i=YL(w,S,R,x),s=XL(w,S,R,x)}k0(this.h,0,i,s),k0(this.h,2,a,f),k0(this.h,4,l,h),k0(this.h,6,g,b),k0(this.h,8,A,T),k0(this.h,10,O,N),k0(this.h,12,P,C),k0(this.h,14,D,M)},"_update");vu.prototype._digest=o(function(e){return e==="hex"?za.toHex32(this.h,"big"):za.split32(this.h,"big")},"digest");function RKe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}o(RKe,"ch64_hi");function TKe(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}o(TKe,"ch64_lo");function IKe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}o(IKe,"maj64_hi");function OKe(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}o(OKe,"maj64_lo");function NKe(t,e){var r=Ol(t,e,28),n=Ol(e,t,2),i=Ol(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(NKe,"s0_512_hi");function MKe(t,e){var r=Nl(t,e,28),n=Nl(e,t,2),i=Nl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(MKe,"s0_512_lo");function CKe(t,e){var r=Ol(t,e,14),n=Ol(t,e,18),i=Ol(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(CKe,"s1_512_hi");function PKe(t,e){var r=Nl(t,e,14),n=Nl(t,e,18),i=Nl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(PKe,"s1_512_lo");function kKe(t,e){var r=Ol(t,e,1),n=Ol(t,e,8),i=pde(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(kKe,"g0_512_hi");function BKe(t,e){var r=Nl(t,e,1),n=Nl(t,e,8),i=mde(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(BKe,"g0_512_lo");function LKe(t,e){var r=Ol(t,e,19),n=Ol(e,t,29),i=pde(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(LKe,"g1_512_hi");function DKe(t,e){var r=Nl(t,e,19),n=Nl(e,t,29),i=mde(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(DKe,"g1_512_lo")});var xde=q((skt,vde)=>{"use strict";p();m();var JL=yu(),bde=ZL();function Xd(){if(!(this instanceof Xd))return new Xd;bde.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o(Xd,"SHA384");JL.inherits(Xd,bde);vde.exports=Xd;Xd.blockSize=1024;Xd.outSize=384;Xd.hmacStrength=192;Xd.padLength=128;Xd.prototype._digest=o(function(e){return e==="hex"?JL.toHex32(this.h.slice(0,12),"big"):JL.split32(this.h.slice(0,12),"big")},"digest")});var _de=q(Ib=>{"use strict";p();m();Ib.sha1=cde();Ib.sha224=hde();Ib.sha256=$L();Ib.sha384=xde();Ib.sha512=ZL()});var Tde=q(Rde=>{"use strict";p();m();var vg=yu(),UKe=Sb(),a5=vg.rotl32,wde=vg.sum32,mw=vg.sum32_3,Ede=vg.sum32_4,Ade=UKe.BlockHash;function Ml(){if(!(this instanceof Ml))return new Ml;Ade.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}o(Ml,"RIPEMD160");vg.inherits(Ml,Ade);Rde.ripemd160=Ml;Ml.blockSize=512;Ml.outSize=160;Ml.hmacStrength=192;Ml.padLength=64;Ml.prototype._update=o(function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],l=n,h=i,g=s,b=a,A=f,T=0;T<80;T++){var O=wde(a5(Ede(n,Sde(T,i,s,a),e[HKe[T]+r],FKe(T)),jKe[T]),f);n=f,f=a,a=a5(s,10),s=i,i=O,O=wde(a5(Ede(l,Sde(79-T,h,g,b),e[VKe[T]+r],qKe(T)),zKe[T]),A),l=A,A=b,b=a5(g,10),g=h,h=O}O=mw(this.h[1],s,b),this.h[1]=mw(this.h[2],a,A),this.h[2]=mw(this.h[3],f,l),this.h[3]=mw(this.h[4],n,h),this.h[4]=mw(this.h[0],i,g),this.h[0]=O},"update");Ml.prototype._digest=o(function(e){return e==="hex"?vg.toHex32(this.h,"little"):vg.split32(this.h,"little")},"digest");function Sde(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}o(Sde,"f");function FKe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}o(FKe,"K");function qKe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}o(qKe,"Kh");var HKe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],VKe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],jKe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],zKe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Ode=q((ykt,Ide)=>{"use strict";p();m();var KKe=yu(),GKe=Sc();function Ob(t,e,r){if(!(this instanceof Ob))return new Ob(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(KKe.toArray(e,r))}o(Ob,"Hmac");Ide.exports=Ob;Ob.prototype._init=o(function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),GKe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},"init");Ob.prototype.update=o(function(e,r){return this.inner.update(e,r),this},"update");Ob.prototype.digest=o(function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},"digest")});var Nb=q(Nde=>{p();m();var ss=Nde;ss.utils=yu();ss.common=Sb();ss.sha=_de();ss.ripemd=Tde();ss.hmac=Ode();ss.sha1=ss.sha.sha1;ss.sha256=ss.sha.sha256;ss.sha224=ss.sha.sha224;ss.sha384=ss.sha.sha384;ss.sha512=ss.sha.sha512;ss.ripemd160=ss.ripemd.ripemd160});var Cde=q((Skt,Mde)=>{p();m();Mde.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var c5=q(Bde=>{"use strict";p();m();var eD=Bde,B0=Nb(),QL=zL(),$Ke=Ac(),Pde=$Ke.assert;function kde(t){t.type==="short"?this.curve=new QL.short(t):t.type==="edwards"?this.curve=new QL.edwards(t):this.curve=new QL.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Pde(this.g.validate(),"Invalid curve"),Pde(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(kde,"PresetCurve");eD.PresetCurve=kde;function L0(t,e){Object.defineProperty(eD,t,{configurable:!0,enumerable:!0,get:o(function(){var r=new kde(e);return Object.defineProperty(eD,t,{configurable:!0,enumerable:!0,value:r}),r},"get")})}o(L0,"defineCurve");L0("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:B0.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});L0("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:B0.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});L0("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:B0.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});L0("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:B0.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});L0("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:B0.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});L0("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:B0.sha256,gRed:!1,g:["9"]});L0("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:B0.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var tD;try{tD=Cde()}catch{tD=void 0}L0("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:B0.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",tD]})});var Ude=q((Mkt,Dde)=>{"use strict";p();m();var WKe=Nb(),xg=VL(),Lde=Sc();function D0(t){if(!(this instanceof D0))return new D0(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=xg.toArray(t.entropy,t.entropyEnc||"hex"),r=xg.toArray(t.nonce,t.nonceEnc||"hex"),n=xg.toArray(t.pers,t.persEnc||"hex");Lde(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(D0,"HmacDRBG");Dde.exports=D0;D0.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");D0.prototype._hmac=o(function(){return new WKe.hmac(this.hash,this.K)},"hmac");D0.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");D0.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=xg.toArray(e,r),n=xg.toArray(n,i),Lde(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");D0.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=xg.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,xg.encode(a,r)},"generate")});var qde=q((Bkt,Fde)=>{"use strict";p();m();var YKe=Sl(),XKe=Ac(),rD=XKe.assert;function Vs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(Vs,"KeyPair");Fde.exports=Vs;Vs.fromPublic=o(function(e,r,n){return r instanceof Vs?r:new Vs(e,{pub:r,pubEnc:n})},"fromPublic");Vs.fromPrivate=o(function(e,r,n){return r instanceof Vs?r:new Vs(e,{priv:r,privEnc:n})},"fromPrivate");Vs.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");Vs.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");Vs.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");Vs.prototype._importPrivate=o(function(e,r){this.priv=new YKe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");Vs.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?rD(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&rD(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");Vs.prototype.derive=o(function(e){return e.validate()||rD(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");Vs.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");Vs.prototype.verify=o(function(e,r,n){return this.ec.verify(e,r,this,void 0,n)},"verify");Vs.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var jde=q((Fkt,Vde)=>{"use strict";p();m();var f5=Sl(),oD=Ac(),ZKe=oD.assert;function u5(t,e){if(t instanceof u5)return t;this._importDER(t,e)||(ZKe(t.r&&t.s,"Signature without r or s"),this.r=new f5(t.r,16),this.s=new f5(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(u5,"Signature");Vde.exports=u5;function JKe(){this.place=0}o(JKe,"Position");function nD(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(nD,"getLength");function Hde(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(Hde,"rmPadding");u5.prototype._importDER=o(function(e,r){e=oD.toArray(e,r);var n=new JKe;if(e[n.place++]!==48)return!1;var i=nD(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=nD(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=nD(e,n);if(f===!1||e.length!==f+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new f5(a),this.s=new f5(l),this.recoveryParam=null,!0},"_importDER");function iD(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(iD,"constructLength");u5.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Hde(r),n=Hde(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];iD(i,r.length),i=i.concat(r),i.push(2),iD(i,n.length);var s=i.concat(n),a=[48];return iD(a,s.length),a=a.concat(s),oD.encode(a,e)},"toDER")});var Gde=q((jkt,Kde)=>{"use strict";p();m();var xu=Sl(),zde=Ude(),QKe=Ac(),sD=c5(),eGe=B8(),_g=QKe.assert,aD=qde(),l5=jde();function hf(t){if(!(this instanceof hf))return new hf(t);typeof t=="string"&&(_g(Object.prototype.hasOwnProperty.call(sD,t),"Unknown curve "+t),t=sD[t]),t instanceof sD.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(hf,"EC");Kde.exports=hf;hf.prototype.keyPair=o(function(e){return new aD(this,e)},"keyPair");hf.prototype.keyFromPrivate=o(function(e,r){return aD.fromPrivate(this,e,r)},"keyFromPrivate");hf.prototype.keyFromPublic=o(function(e,r){return aD.fromPublic(this,e,r)},"keyFromPublic");hf.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new zde({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||eGe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new xu(2));;){var s=new xu(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");hf.prototype._truncateToN=o(function(e,r,n){var i;if(xu.isBN(e)||typeof e=="number")e=new xu(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new xu(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new xu(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");hf.prototype.sign=o(function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!xu.isBN(e)){_g(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),_g(e.length>>>0===e.length);for(var s=0;s<e.length;s++)_g((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),_g(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),f=r.getPrivate().toArray("be",a),l=e.toArray("be",a);_g(new xu(l).eq(e),"Can not sign message");for(var h=new zde({hash:this.hash,entropy:f,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new xu(1)),b=0;;b++){var A=i.k?i.k(b):new xu(h.generate(this.n.byteLength()));if(A=this._truncateToN(A,!0),!(A.cmpn(1)<=0||A.cmp(g)>=0)){var T=this.g.mul(A);if(!T.isInfinity()){var O=T.getX(),N=O.umod(this.n);if(N.cmpn(0)!==0){var P=A.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var C=(T.getY().isOdd()?1:0)|(O.cmp(N)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),C^=1),new l5({r:N,s:P,recoveryParam:C})}}}}}},"sign");hf.prototype.verify=o(function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new l5(r,"hex");var a=r.r,f=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||f.cmpn(1)<0||f.cmp(this.n)>=0)return!1;var l=f.invm(this.n),h=l.mul(e).umod(this.n),g=l.mul(a).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(h,n.getPublic(),g),b.isInfinity()?!1:b.eqXToP(a)):(b=this.g.mulAdd(h,n.getPublic(),g),b.isInfinity()?!1:b.getX().umod(this.n).cmp(a)===0)},"verify");hf.prototype.recoverPubKey=function(t,e,r,n){_g((3&r)===r,"The recovery param is more than two bits"),e=new l5(e,n);var i=this.n,s=new xu(t),a=e.r,f=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var g=e.r.invm(i),b=i.sub(s).mul(g).umod(i),A=f.mul(g).umod(i);return this.g.mulAdd(b,a,A)};hf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new l5(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Xde=q(($kt,Yde)=>{"use strict";p();m();var gw=Ac(),Wde=gw.assert,$de=gw.parseBytes,Mb=gw.cachedProperty;function Fo(t,e){this.eddsa=t,this._secret=$de(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=$de(e.pub)}o(Fo,"KeyPair");Fo.fromPublic=o(function(e,r){return r instanceof Fo?r:new Fo(e,{pub:r})},"fromPublic");Fo.fromSecret=o(function(e,r){return r instanceof Fo?r:new Fo(e,{secret:r})},"fromSecret");Fo.prototype.secret=o(function(){return this._secret},"secret");Mb(Fo,"pubBytes",o(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));Mb(Fo,"pub",o(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));Mb(Fo,"privBytes",o(function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));Mb(Fo,"priv",o(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));Mb(Fo,"hash",o(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));Mb(Fo,"messagePrefix",o(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));Fo.prototype.sign=o(function(e){return Wde(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},"sign");Fo.prototype.verify=o(function(e,r){return this.eddsa.verify(e,r,this)},"verify");Fo.prototype.getSecret=o(function(e){return Wde(this._secret,"KeyPair is public only"),gw.encode(this.secret(),e)},"getSecret");Fo.prototype.getPublic=o(function(e){return gw.encode(this.pubBytes(),e)},"getPublic");Yde.exports=Fo});var Qde=q((Zkt,Jde)=>{"use strict";p();m();var tGe=Sl(),d5=Ac(),Zde=d5.assert,h5=d5.cachedProperty,rGe=d5.parseBytes;function wg(t,e){this.eddsa=t,typeof e!="object"&&(e=rGe(e)),Array.isArray(e)&&(Zde(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Zde(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof tGe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(wg,"Signature");h5(wg,"S",o(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));h5(wg,"R",o(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));h5(wg,"Rencoded",o(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));h5(wg,"Sencoded",o(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));wg.prototype.toBytes=o(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");wg.prototype.toHex=o(function(){return d5.encode(this.toBytes(),"hex").toUpperCase()},"toHex");Jde.exports=wg});var ihe=q((tBt,nhe)=>{"use strict";p();m();var nGe=Nb(),iGe=c5(),Cb=Ac(),oGe=Cb.assert,the=Cb.parseBytes,rhe=Xde(),ehe=Qde();function Ka(t){if(oGe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ka))return new Ka(t);t=iGe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=nGe.sha512}o(Ka,"EDDSA");nhe.exports=Ka;Ka.prototype.sign=o(function(e,r){e=the(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),f=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),l=i.add(f).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:a})},"sign");Ka.prototype.verify=o(function(e,r,n){if(e=the(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),f=r.R().add(i.pub().mul(s));return f.eq(a)},"verify");Ka.prototype.hashInt=o(function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Cb.intFromLE(e.digest()).umod(this.curve.n)},"hashInt");Ka.prototype.keyFromPublic=o(function(e){return rhe.fromPublic(this,e)},"keyFromPublic");Ka.prototype.keyFromSecret=o(function(e){return rhe.fromSecret(this,e)},"keyFromSecret");Ka.prototype.makeSignature=o(function(e){return e instanceof ehe?e:new ehe(this,e)},"makeSignature");Ka.prototype.encodePoint=o(function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r},"encodePoint");Ka.prototype.decodePoint=o(function(e){e=Cb.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Cb.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");Ka.prototype.encodeInt=o(function(e){return e.toArray("le",this.encodingLength)},"encodeInt");Ka.prototype.decodeInt=o(function(e){return Cb.intFromLE(e)},"decodeInt");Ka.prototype.isPoint=o(function(e){return e instanceof this.pointClass},"isPoint")});var p5=q(ohe=>{"use strict";p();m();var Eg=ohe;Eg.version=Lle().version;Eg.utils=Ac();Eg.rand=B8();Eg.curve=zL();Eg.curves=c5();Eg.ec=Gde();Eg.eddsa=ihe()});var fD=q((she,cD)=>{p();m();(function(t,e){"use strict";function r(E,c){if(!E)throw new Error(c||"Assertion failed")}o(r,"assert");function n(E,c){E.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,c,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=o1().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,y):(this._parseBase(c,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},"init"),i.prototype._initNumber=o(function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},"_initNumber"),i.prototype._initArray=o(function(c,d,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,S,R=0;if(y==="be")for(v=c.length-1,w=0;v>=0;v-=3)S=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(y==="le")for(v=0,w=0;v<c.length;v+=3)S=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this.strip()},"_initArray");function a(E,c){var d=E.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(E,c,d){var y=a(E,d);return d-1>=c&&(y|=a(E,d-1)<<4),y}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,S=0,R;if(y==="be")for(v=c.length-1;v>=d;v-=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8;else{var x=c.length-d;for(v=x%2===0?d+1:d;v<c.length;v+=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8}this.strip()},"_parseHex");function l(E,c,d,y){for(var v=0,w=Math.min(E.length,d),S=c;S<w;S++){var R=E.charCodeAt(S)-48;v*=y,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,y){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=d)v++;v--,w=w/d|0;for(var S=c.length-y,R=S%v,x=Math.min(S,S-R)+y,u=0,_=y;_<x;_+=v)u=l(c,_,_+v,d),this.imuln(w),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=l(c,_,c.length,d),_=0;_<R;_++)H*=d;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var v=0,w=0,S=0;S<this.length;S++){var R=this.words[S],x=((R<<v|w)&16777215).toString(16);w=R>>>24-v&16777215,w!==0||S!==this.length-1?y=h[6-x.length]+x+y:y=x+y,v+=2,v>=26&&(v-=26,S--)}for(w!==0&&(y=w.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var u=g[c],_=b[c];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var F=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?y=F+y:y=h[u-F.length]+F+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,y){var v=this.byteLength(),w=y||Math.max(1,v);r(v<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var S=d==="le",R=new c(w),x,u,_=this.clone();if(S){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<w;u++)R[u]=0}else{for(u=0;u<w-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[w-u-1]=x}return R},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function A(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var y=d/26|0,v=d%26;c[d]=(E.words[y]&1<<v)>>>v}return c}o(A,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var y=c/26|0,v=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,v;this.length>c.length?(y=this,v=c):(y=c,v=this);for(var w=0,S=0;S<v.length;S++)d=(y.words[S]|0)+(v.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<y.length;S++)d=(y.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;y>0?(v=this,w=c):(v=c,w=this);for(var S=0,R=0;R<w.length;R++)d=(v.words[R]|0)-(w.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;for(;S!==0&&R<v.length;R++)d=(v.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;if(S===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function T(E,c,d){d.negative=c.negative^E.negative;var y=E.length+c.length|0;d.length=y,y=y-1|0;var v=E.words[0]|0,w=c.words[0]|0,S=v*w,R=S&67108863,x=S/67108864|0;d.words[0]=R;for(var u=1;u<y;u++){for(var _=x>>>26,H=x&67108863,F=Math.min(u,c.length-1),L=Math.max(0,u-E.length+1);L<=F;L++){var $=u-L|0;v=E.words[$]|0,w=c.words[L]|0,S=v*w+H,_+=S/67108864|0,H=S&67108863}d.words[u]=H|0,x=_|0}return x!==0?d.words[u]=x|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(c,d,y){var v=c.words,w=d.words,S=y.words,R=0,x,u,_,H=v[0]|0,F=H&8191,L=H>>>13,$=v[1]|0,Q=$&8191,re=$>>>13,Me=v[2]|0,fe=Me&8191,le=Me>>>13,xe=v[3]|0,he=xe&8191,ge=xe>>>13,tr=v[4]|0,Ae=tr&8191,Oe=tr>>>13,Bn=v[5]|0,He=Bn&8191,Pe=Bn>>>13,Ln=v[6]|0,Ue=Ln&8191,Be=Ln>>>13,Dn=v[7]|0,ke=Dn&8191,Le=Dn>>>13,Kr=v[8]|0,X=Kr&8191,Z=Kr>>>13,pe=v[9]|0,ne=pe&8191,de=pe>>>13,yt=w[0]|0,be=yt&8191,Se=yt>>>13,Xt=w[1]|0,Re=Xt&8191,Ne=Xt>>>13,Zn=w[2]|0,Fe=Zn&8191,De=Zn>>>13,Qi=w[3]|0,Ge=Qi&8191,$e=Qi>>>13,Un=w[4]|0,qe=Un&8191,Ve=Un>>>13,Vi=w[5]|0,je=Vi&8191,ze=Vi>>>13,ao=w[6]|0,Ce=ao&8191,Ke=ao>>>13,z=w[7]|0,G=z&8191,K=z>>>13,B=w[8]|0,W=B&8191,J=B>>>13,me=w[9]|0,se=me&8191,ue=me>>>13;y.negative=c.negative^d.negative,y.length=19,x=Math.imul(F,be),u=Math.imul(F,Se),u=u+Math.imul(L,be)|0,_=Math.imul(L,Se);var lt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Q,be),u=Math.imul(Q,Se),u=u+Math.imul(re,be)|0,_=Math.imul(re,Se),x=x+Math.imul(F,Re)|0,u=u+Math.imul(F,Ne)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Ne)|0;var rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(fe,be),u=Math.imul(fe,Se),u=u+Math.imul(le,be)|0,_=Math.imul(le,Se),x=x+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ne)|0,u=u+Math.imul(re,Re)|0,_=_+Math.imul(re,Ne)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(F,De)|0,u=u+Math.imul(L,Fe)|0,_=_+Math.imul(L,De)|0;var Bt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(he,be),u=Math.imul(he,Se),u=u+Math.imul(ge,be)|0,_=Math.imul(ge,Se),x=x+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,x=x+Math.imul(Q,Fe)|0,u=u+Math.imul(Q,De)|0,u=u+Math.imul(re,Fe)|0,_=_+Math.imul(re,De)|0,x=x+Math.imul(F,Ge)|0,u=u+Math.imul(F,$e)|0,u=u+Math.imul(L,Ge)|0,_=_+Math.imul(L,$e)|0;var st=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Ae,be),u=Math.imul(Ae,Se),u=u+Math.imul(Oe,be)|0,_=Math.imul(Oe,Se),x=x+Math.imul(he,Re)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Re)|0,_=_+Math.imul(ge,Ne)|0,x=x+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(le,Fe)|0,_=_+Math.imul(le,De)|0,x=x+Math.imul(Q,Ge)|0,u=u+Math.imul(Q,$e)|0,u=u+Math.imul(re,Ge)|0,_=_+Math.imul(re,$e)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(F,Ve)|0,u=u+Math.imul(L,qe)|0,_=_+Math.imul(L,Ve)|0;var vt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(He,be),u=Math.imul(He,Se),u=u+Math.imul(Pe,be)|0,_=Math.imul(Pe,Se),x=x+Math.imul(Ae,Re)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Oe,Re)|0,_=_+Math.imul(Oe,Ne)|0,x=x+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,_=_+Math.imul(ge,De)|0,x=x+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,x=x+Math.imul(Q,qe)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(re,qe)|0,_=_+Math.imul(re,Ve)|0,x=x+Math.imul(F,je)|0,u=u+Math.imul(F,ze)|0,u=u+Math.imul(L,je)|0,_=_+Math.imul(L,ze)|0;var xt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Ue,be),u=Math.imul(Ue,Se),u=u+Math.imul(Be,be)|0,_=Math.imul(Be,Se),x=x+Math.imul(He,Re)|0,u=u+Math.imul(He,Ne)|0,u=u+Math.imul(Pe,Re)|0,_=_+Math.imul(Pe,Ne)|0,x=x+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Oe,Fe)|0,_=_+Math.imul(Oe,De)|0,x=x+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,$e)|0,x=x+Math.imul(fe,qe)|0,u=u+Math.imul(fe,Ve)|0,u=u+Math.imul(le,qe)|0,_=_+Math.imul(le,Ve)|0,x=x+Math.imul(Q,je)|0,u=u+Math.imul(Q,ze)|0,u=u+Math.imul(re,je)|0,_=_+Math.imul(re,ze)|0,x=x+Math.imul(F,Ce)|0,u=u+Math.imul(F,Ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ke)|0;var Rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,x=Math.imul(ke,be),u=Math.imul(ke,Se),u=u+Math.imul(Le,be)|0,_=Math.imul(Le,Se),x=x+Math.imul(Ue,Re)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Be,Re)|0,_=_+Math.imul(Be,Ne)|0,x=x+Math.imul(He,Fe)|0,u=u+Math.imul(He,De)|0,u=u+Math.imul(Pe,Fe)|0,_=_+Math.imul(Pe,De)|0,x=x+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Oe,Ge)|0,_=_+Math.imul(Oe,$e)|0,x=x+Math.imul(he,qe)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,qe)|0,_=_+Math.imul(ge,Ve)|0,x=x+Math.imul(fe,je)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,ze)|0,x=x+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ke)|0,u=u+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ke)|0,x=x+Math.imul(F,G)|0,u=u+Math.imul(F,K)|0,u=u+Math.imul(L,G)|0,_=_+Math.imul(L,K)|0;var At=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(X,be),u=Math.imul(X,Se),u=u+Math.imul(Z,be)|0,_=Math.imul(Z,Se),x=x+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ne)|0,u=u+Math.imul(Le,Re)|0,_=_+Math.imul(Le,Ne)|0,x=x+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Be,Fe)|0,_=_+Math.imul(Be,De)|0,x=x+Math.imul(He,Ge)|0,u=u+Math.imul(He,$e)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,$e)|0,x=x+Math.imul(Ae,qe)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Oe,qe)|0,_=_+Math.imul(Oe,Ve)|0,x=x+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,_=_+Math.imul(ge,ze)|0,x=x+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ke)|0,x=x+Math.imul(Q,G)|0,u=u+Math.imul(Q,K)|0,u=u+Math.imul(re,G)|0,_=_+Math.imul(re,K)|0,x=x+Math.imul(F,W)|0,u=u+Math.imul(F,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var _t=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(ne,be),u=Math.imul(ne,Se),u=u+Math.imul(de,be)|0,_=Math.imul(de,Se),x=x+Math.imul(X,Re)|0,u=u+Math.imul(X,Ne)|0,u=u+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Ne)|0,x=x+Math.imul(ke,Fe)|0,u=u+Math.imul(ke,De)|0,u=u+Math.imul(Le,Fe)|0,_=_+Math.imul(Le,De)|0,x=x+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,$e)|0,x=x+Math.imul(He,qe)|0,u=u+Math.imul(He,Ve)|0,u=u+Math.imul(Pe,qe)|0,_=_+Math.imul(Pe,Ve)|0,x=x+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Oe,je)|0,_=_+Math.imul(Oe,ze)|0,x=x+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ke)|0,x=x+Math.imul(fe,G)|0,u=u+Math.imul(fe,K)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,K)|0,x=x+Math.imul(Q,W)|0,u=u+Math.imul(Q,J)|0,u=u+Math.imul(re,W)|0,_=_+Math.imul(re,J)|0,x=x+Math.imul(F,se)|0,u=u+Math.imul(F,ue)|0,u=u+Math.imul(L,se)|0,_=_+Math.imul(L,ue)|0;var Et=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(ne,Re),u=Math.imul(ne,Ne),u=u+Math.imul(de,Re)|0,_=Math.imul(de,Ne),x=x+Math.imul(X,Fe)|0,u=u+Math.imul(X,De)|0,u=u+Math.imul(Z,Fe)|0,_=_+Math.imul(Z,De)|0,x=x+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,$e)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,$e)|0,x=x+Math.imul(Ue,qe)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(He,je)|0,u=u+Math.imul(He,ze)|0,u=u+Math.imul(Pe,je)|0,_=_+Math.imul(Pe,ze)|0,x=x+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Oe,Ce)|0,_=_+Math.imul(Oe,Ke)|0,x=x+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,_=_+Math.imul(ge,K)|0,x=x+Math.imul(fe,W)|0,u=u+Math.imul(fe,J)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,J)|0,x=x+Math.imul(Q,se)|0,u=u+Math.imul(Q,ue)|0,u=u+Math.imul(re,se)|0,_=_+Math.imul(re,ue)|0;var wt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,_=Math.imul(de,De),x=x+Math.imul(X,Ge)|0,u=u+Math.imul(X,$e)|0,u=u+Math.imul(Z,Ge)|0,_=_+Math.imul(Z,$e)|0,x=x+Math.imul(ke,qe)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Le,qe)|0,_=_+Math.imul(Le,Ve)|0,x=x+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Be,je)|0,_=_+Math.imul(Be,ze)|0,x=x+Math.imul(He,Ce)|0,u=u+Math.imul(He,Ke)|0,u=u+Math.imul(Pe,Ce)|0,_=_+Math.imul(Pe,Ke)|0,x=x+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Oe,G)|0,_=_+Math.imul(Oe,K)|0,x=x+Math.imul(he,W)|0,u=u+Math.imul(he,J)|0,u=u+Math.imul(ge,W)|0,_=_+Math.imul(ge,J)|0,x=x+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),x=x+Math.imul(X,qe)|0,u=u+Math.imul(X,Ve)|0,u=u+Math.imul(Z,qe)|0,_=_+Math.imul(Z,Ve)|0,x=x+Math.imul(ke,je)|0,u=u+Math.imul(ke,ze)|0,u=u+Math.imul(Le,je)|0,_=_+Math.imul(Le,ze)|0,x=x+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Be,Ce)|0,_=_+Math.imul(Be,Ke)|0,x=x+Math.imul(He,G)|0,u=u+Math.imul(He,K)|0,u=u+Math.imul(Pe,G)|0,_=_+Math.imul(Pe,K)|0,x=x+Math.imul(Ae,W)|0,u=u+Math.imul(Ae,J)|0,u=u+Math.imul(Oe,W)|0,_=_+Math.imul(Oe,J)|0,x=x+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,_=_+Math.imul(ge,ue)|0;var dt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(ne,qe),u=Math.imul(ne,Ve),u=u+Math.imul(de,qe)|0,_=Math.imul(de,Ve),x=x+Math.imul(X,je)|0,u=u+Math.imul(X,ze)|0,u=u+Math.imul(Z,je)|0,_=_+Math.imul(Z,ze)|0,x=x+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ke)|0,u=u+Math.imul(Le,Ce)|0,_=_+Math.imul(Le,Ke)|0,x=x+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Be,G)|0,_=_+Math.imul(Be,K)|0,x=x+Math.imul(He,W)|0,u=u+Math.imul(He,J)|0,u=u+Math.imul(Pe,W)|0,_=_+Math.imul(Pe,J)|0,x=x+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Oe,se)|0,_=_+Math.imul(Oe,ue)|0;var ot=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,_=Math.imul(de,ze),x=x+Math.imul(X,Ce)|0,u=u+Math.imul(X,Ke)|0,u=u+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,Ke)|0,x=x+Math.imul(ke,G)|0,u=u+Math.imul(ke,K)|0,u=u+Math.imul(Le,G)|0,_=_+Math.imul(Le,K)|0,x=x+Math.imul(Ue,W)|0,u=u+Math.imul(Ue,J)|0,u=u+Math.imul(Be,W)|0,_=_+Math.imul(Be,J)|0,x=x+Math.imul(He,se)|0,u=u+Math.imul(He,ue)|0,u=u+Math.imul(Pe,se)|0,_=_+Math.imul(Pe,ue)|0;var ft=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,Ke),x=x+Math.imul(X,G)|0,u=u+Math.imul(X,K)|0,u=u+Math.imul(Z,G)|0,_=_+Math.imul(Z,K)|0,x=x+Math.imul(ke,W)|0,u=u+Math.imul(ke,J)|0,u=u+Math.imul(Le,W)|0,_=_+Math.imul(Le,J)|0,x=x+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Be,se)|0,_=_+Math.imul(Be,ue)|0;var ut=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,_=Math.imul(de,K),x=x+Math.imul(X,W)|0,u=u+Math.imul(X,J)|0,u=u+Math.imul(Z,W)|0,_=_+Math.imul(Z,J)|0,x=x+Math.imul(ke,se)|0,u=u+Math.imul(ke,ue)|0,u=u+Math.imul(Le,se)|0,_=_+Math.imul(Le,ue)|0;var tt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ne,W),u=Math.imul(ne,J),u=u+Math.imul(de,W)|0,_=Math.imul(de,J),x=x+Math.imul(X,se)|0,u=u+Math.imul(X,ue)|0,u=u+Math.imul(Z,se)|0,_=_+Math.imul(Z,ue)|0;var ve=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,S[0]=lt,S[1]=rt,S[2]=Bt,S[3]=st,S[4]=vt,S[5]=xt,S[6]=Rt,S[7]=At,S[8]=_t,S[9]=Et,S[10]=wt,S[11]=ct,S[12]=dt,S[13]=ot,S[14]=ft,S[15]=ut,S[16]=tt,S[17]=ve,S[18]=_e,R!==0&&(S[19]=R,y.length++),y},"comb10MulTo");Math.imul||(O=T);function N(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var y=0,v=0,w=0;w<d.length-1;w++){var S=v;v=0;for(var R=y&67108863,x=Math.min(w,c.length-1),u=Math.max(0,w-E.length+1);u<=x;u++){var _=w-u,H=E.words[_]|0,F=c.words[u]|0,L=H*F,$=L&67108863;S=S+(L/67108864|0)|0,$=$+R|0,R=$&67108863,S=S+($>>>26)|0,v+=S>>>26,S&=67108863}d.words[w]=R,y=S,S=v}return y!==0?d.words[w]=y:d.length--,d.strip()}o(N,"bigMulTo");function P(E,c,d){var y=new C;return y.mulp(E,c,d)}o(P,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var y,v=this.length+c.length;return this.length===10&&c.length===10?y=O(this,c,d):v<63?y=T(this,c,d):v<1024?y=N(this,c,d):y=P(this,c,d),y},"mulTo");function C(E,c){this.x=E,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),y=i.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,y,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,y){if(c===0||c===y-1)return c;for(var v=0,w=0;w<d;w++)v|=(c&1)<<d-w-1,c>>=1;return v},"revBin"),C.prototype.permute=o(function(c,d,y,v,w,S){for(var R=0;R<S;R++)v[R]=d[c[R]],w[R]=y[c[R]]},"permute"),C.prototype.transform=o(function(c,d,y,v,w,S){this.permute(S,c,d,y,v,w);for(var R=1;R<w;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<w;H+=x)for(var F=u,L=_,$=0;$<R;$++){var Q=y[H+$],re=v[H+$],Me=y[H+$+R],fe=v[H+$+R],le=F*Me-L*fe;fe=F*fe+L*Me,Me=le,y[H+$]=Q+Me,v[H+$]=re+fe,y[H+$+R]=Q-Me,v[H+$+R]=re-fe,$!==x&&(le=u*F-_*L,L=u*L+_*F,F=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var y=Math.max(d,c)|1,v=y&1,w=0;for(y=y/2|0;y;y=y>>>1)w++;return 1<<w+1+v},"guessLen13b"),C.prototype.conjugate=o(function(c,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var w=c[v];c[v]=c[y-v-1],c[y-v-1]=w,w=d[v],d[v]=-d[y-v-1],d[y-v-1]=-w}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var y=0,v=0;v<d/2;v++){var w=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+y;c[v]=w&67108863,w<67108864?y=0:y=w/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,y,v){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),y[2*S]=w&8191,w=w>>>13,y[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<v;++S)y[S]=0;r(w===0),r((w&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),y=0;y<c;y++)d[y]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,y){var v=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(v),S=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),F=new Array(v),L=y.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(d.words,d.length,_,v),this.transform(R,S,x,u,v,w),this.transform(_,S,H,F,v,w);for(var $=0;$<v;$++){var Q=x[$]*H[$]-u[$]*F[$];u[$]=x[$]*F[$]+u[$]*H[$],x[$]=Q}return this.conjugate(x,u,v),this.transform(x,u,L,S,v,w),this.conjugate(L,S,v),this.normalize13b(L,v),y.negative=c.negative^d.negative,y.length=c.length+d.length,y.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),P(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*c,w=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=w>>>26,this.words[y]=w&67108863}return d!==0&&(this.words[y]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=A(c);if(d.length===0)return new i(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var w=y.sqr();v<d.length;v++,w=w.sqr())d[v]!==0&&(y=y.mul(w));return y},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&v,x=(this.words[w]|0)-R<<d;this.words[w]=x|S,S=R>>>26-d}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,y){r(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var w=c%26,S=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,x=y;if(v-=S,v=Math.max(0,v),x){for(var u=0;u<S;u++)x.words[u]=this.words[u];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-w|H>>>w,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,y){return r(this.negative===0),this.iushrn(c,d,y)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return!1;var w=this.words[y];return!!(w&v)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,y){var v=c.length+y,w;this._expand(v);var S,R=0;for(w=0;w<c.length;w++){S=(this.words[w+y]|0)+R;var x=(c.words[w]|0)*d;S-=x&67108863,R=(S>>26)-(x/67108864|0),this.words[w+y]=S&67108863}for(;w<this.length-y;w++)S=(this.words[w+y]|0)+R,R=S>>26,this.words[w+y]=S&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+R,R=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var y=this.length-c.length,v=this.clone(),w=c,S=w.words[w.length-1]|0,R=this._countBits(S);y=26-R,y!==0&&(w=w.ushln(y),v.iushln(y),S=w.words[w.length-1]|0);var x=v.length-w.length,u;if(d!=="mod"){u=new i(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(w,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var F=x-1;F>=0;F--){var L=(v.words[w.length+F]|0)*67108864+(v.words[w.length+F-1]|0);for(L=Math.min(L/S|0,67108863),v._ishlnsubmul(w,L,F);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(w,1,F),v.isZero()||(v.negative^=1);u&&(u.words[F]=L)}return u&&u.strip(),v.strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:u||null,mod:v}},"_wordDiv"),i.prototype.divmod=o(function(c,d,y){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(v=S.div.neg()),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.iadd(c)),{div:v,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),w=c.andln(1),S=y.cmp(v);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,y=0,v=this.length-1;v>=0;v--)y=(d*y+(this.words[v]|0))%c;return y},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+d*67108864;this.words[y]=v/c|0,d=v%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=new i(0),R=new i(1),x=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++x;for(var u=y.clone(),_=d.clone();!d.isZero();){for(var H=0,F=1;!(d.words[0]&F)&&H<26;++H,F<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(u),w.isub(_)),v.iushrn(1),w.iushrn(1);for(var L=0,$=1;!(y.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(u),R.isub(_)),S.iushrn(1),R.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(S),w.isub(R)):(y.isub(d),S.isub(v),R.isub(w))}return{a:S,b:R,gcd:y.iushln(x)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var u=0,_=1;!(y.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(y.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(w)):(y.isub(d),w.isub(v))}var H;return d.cmpn(1)===0?H=v:H=w,H.cmpn(0)<0&&H.iadd(c),H},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=d.cmp(y);if(w<0){var S=d;d=y,y=S}else if(w===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var w=v,S=y;w!==0&&S<this.length;S++){var R=this.words[S]|0;R+=w,w=R>>>26,R&=67108863,this.words[S]=R}return w!==0&&(this.words[S]=w,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var y;if(this.length>1)y=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var v=this.words[0]|0;y=v===c?0:v<c?-1:1}return this.negative!==0?-y|0:y},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,w=c.words[y]|0;if(v!==w){v<w?d=-1:v>w&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var D={k256:null,p224:null,p192:null,p25519:null};function M(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var y=4194303,v=Math.min(c.length,9),w=0;w<v;w++)d.words[w]=c.words[w];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&y,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&y)<<4|S>>>22,S=R}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var v=c.words[y]|0;d+=v*977,c.words[y]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,"P224"),n(V,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function ee(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ee,"P25519"),n(ee,M),ee.prototype.imulK=o(function(c){for(var d=0,y=0;y<c.length;y++){var v=(c.words[y]|0)*19+d,w=v&67108863;v>>>=26,c.words[y]=w,d=v}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(D[c])return D[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new V;else if(c==="p192")d=new j;else if(c==="p25519")d=new ee;else throw new Error("Unknown prime "+c);return D[c]=d,d},"prime");function Y(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(c,y)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);r(!v.isZero());var S=new i(1).toRed(this),R=S.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),F=this.pow(c,v),L=w;F.cmp(S)!==0;){for(var $=F,Q=0;$.cmp(S)!==0;Q++)$=$.redSqr();r(Q<L);var re=this.pow(_,new i(1).iushln(L-Q-1));H=H.redMul(re),_=re.redSqr(),F=F.redMul(_),L=Q}return H},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,v=new Array(1<<y);v[0]=new i(1).toRed(this),v[1]=c;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],c);var S=v[0],R=0,x=0,u=d.bitLength()%26;for(u===0&&(u=26),w=d.length-1;w>=0;w--){for(var _=d.words[w],H=u-1;H>=0;H--){var F=_>>H&1;if(S!==v[0]&&(S=this.sqr(S)),F===0&&R===0){x=0;continue}R<<=1,R|=F,x++,!(x!==y&&(w!==0||H!==0))&&(S=this.mul(S,v[R]),x=0,R=0)}u=26}return S},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new te(c)},"mont");function te(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,"Mont"),n(te,Y),te.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),te.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),te.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"imul"),te.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var y=c.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"mul"),te.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof cD>"u"||cD,she)});var g5=q((lBt,ahe)=>{"use strict";p();m();var m5=ci(),Pb=m5.Buffer,pf={},mf;for(mf in m5)m5.hasOwnProperty(mf)&&(mf==="SlowBuffer"||mf==="Buffer"||(pf[mf]=m5[mf]));var kb=pf.Buffer={};for(mf in Pb)Pb.hasOwnProperty(mf)&&(mf==="allocUnsafe"||mf==="allocUnsafeSlow"||(kb[mf]=Pb[mf]));pf.Buffer.prototype=Pb.prototype;(!kb.from||kb.from===Uint8Array.from)&&(kb.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Pb(t,e,r)});kb.alloc||(kb.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Pb(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!pf.kStringMaxLength)try{pf.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}pf.constants||(pf.constants={MAX_LENGTH:pf.kMaxLength},pf.kStringMaxLength&&(pf.constants.MAX_STRING_LENGTH=pf.kStringMaxLength));ahe.exports=pf});var y5=q(che=>{"use strict";p();m();var sGe=Gt();function gf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}o(gf,"Reporter");che.Reporter=gf;gf.prototype.isError=o(function(e){return e instanceof Bb},"isError");gf.prototype.save=o(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");gf.prototype.restore=o(function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)},"restore");gf.prototype.enterKey=o(function(e){return this._reporterState.path.push(e)},"enterKey");gf.prototype.exitKey=o(function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)},"exitKey");gf.prototype.leaveKey=o(function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)},"leaveKey");gf.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");gf.prototype.enterObject=o(function(){let e=this._reporterState,r=e.obj;return e.obj={},r},"enterObject");gf.prototype.leaveObject=o(function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n},"leaveObject");gf.prototype.error=o(function(e){let r,n=this._reporterState,i=e instanceof Bb;if(i?r=e:r=new Bb(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");gf.prototype.wrapResult=o(function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e},"wrapResult");function Bb(t,e){this.path=t,this.rethrow(e)}o(Bb,"ReporterError");sGe(Bb,Error);Bb.prototype.rethrow=o(function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Bb),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var Ub=q(uD=>{"use strict";p();m();var aGe=Gt(),b5=y5().Reporter,Lb=g5().Buffer;function yf(t,e){if(b5.call(this,e),!Lb.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o(yf,"DecoderBuffer");aGe(yf,b5);uD.DecoderBuffer=yf;yf.isDecoderBuffer=o(function(e){return e instanceof yf?!0:typeof e=="object"&&Lb.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");yf.prototype.save=o(function(){return{offset:this.offset,reporter:b5.prototype.save.call(this)}},"save");yf.prototype.restore=o(function(e){let r=new yf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,b5.prototype.restore.call(this,e.reporter),r},"restore");yf.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");yf.prototype.readUInt8=o(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");yf.prototype.skip=o(function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new yf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},"skip");yf.prototype.raw=o(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function Db(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Db.isEncoderBuffer(r)||(r=new Db(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Lb.byteLength(t);else if(Lb.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}o(Db,"EncoderBuffer");uD.EncoderBuffer=Db;Db.isEncoderBuffer=o(function(e){return e instanceof Db?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");Db.prototype.join=o(function(e,r){return e||(e=Lb.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Lb.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e},"join")});var v5=q((wBt,uhe)=>{"use strict";p();m();var cGe=y5().Reporter,fGe=Ub().EncoderBuffer,uGe=Ub().DecoderBuffer,ua=Sc(),fhe=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],lGe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(fhe),dGe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function On(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(On,"Node");uhe.exports=On;var hGe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];On.prototype.clone=o(function(){let e=this._baseState,r={};hGe.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");On.prototype._wrap=o(function(){let e=this._baseState;lGe.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");On.prototype._init=o(function(e){let r=this._baseState;ua(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),ua.equal(r.children.length,1,"Root node can have only one child")},"init");On.prototype._useArgs=o(function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(ua(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(ua(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let f=i[a];s[f]=a}),s}))},"useArgs");dGe.forEach(function(t){On.prototype[t]=o(function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)},"_overrided")});fhe.forEach(function(t){On.prototype[t]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return ua(r.tag===null),r.tag=t,this._useArgs(n),this},"_tagMethod")});On.prototype.use=o(function(e){ua(e);let r=this._baseState;return ua(r.use===null),r.use=e,this},"use");On.prototype.optional=o(function(){let e=this._baseState;return e.optional=!0,this},"optional");On.prototype.def=o(function(e){let r=this._baseState;return ua(r.default===null),r.default=e,r.optional=!0,this},"def");On.prototype.explicit=o(function(e){let r=this._baseState;return ua(r.explicit===null&&r.implicit===null),r.explicit=e,this},"explicit");On.prototype.implicit=o(function(e){let r=this._baseState;return ua(r.explicit===null&&r.implicit===null),r.implicit=e,this},"implicit");On.prototype.obj=o(function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");On.prototype.key=o(function(e){let r=this._baseState;return ua(r.key===null),r.key=e,this},"key");On.prototype.any=o(function(){let e=this._baseState;return e.any=!0,this},"any");On.prototype.choice=o(function(e){let r=this._baseState;return ua(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this},"choice");On.prototype.contains=o(function(e){let r=this._baseState;return ua(r.use===null),r.contains=e,this},"contains");On.prototype._decode=o(function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let h=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(h)}else if(s=this._peekTag(e,l,n.any),e.isError(s))return s}let f;if(n.obj&&s&&(f=e.enterObject()),s){if(n.explicit!==null){let h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}let l=e.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=e.save());let g=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(g))return g;n.any?i=e.raw(h):e=g}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(g){g._decode(e,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let h=new uGe(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,r)}}return n.obj&&s&&(i=e.leaveObject(f)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i},"decode");On.prototype._decodeGeneric=o(function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)},"decodeGeneric");On.prototype._getUse=o(function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),ua(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");On.prototype._decodeChoice=o(function(e,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let f=e.save(),l=n.choice[a];try{let h=l._decode(e,r);if(e.isError(h))return!1;i={type:a,value:h},s=!0}catch{return e.restore(f),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");On.prototype._createEncoderBuffer=o(function(e){return new fGe(e,this.reporter)},"createEncoderBuffer");On.prototype._encode=o(function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");On.prototype._encodeValue=o(function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new cGe);let s=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let a=null,f=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),f=!0;else if(i.children)a=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let h=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let g=l._encode(e[l._baseState.key],r,e);return r.leaveKey(h),g},this).filter(function(l){return l}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(h){let g=this._baseState;return this._getUse(g.args[0],e)._encode(h,r)},l))}else i.use!==null?s=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),f=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,h=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(l,f,h,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");On.prototype._encodeChoice=o(function(e,r){let n=this._baseState,i=n.choice[e.type];return i||ua(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)},"encodeChoice");On.prototype._encodePrimitive=o(function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)},"encodePrimitive");On.prototype._isNumstr=o(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");On.prototype._isPrintstr=o(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr")});var x5=q(Sg=>{"use strict";p();m();function lhe(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}o(lhe,"reverse");Sg.tagClass={0:"universal",1:"application",2:"context",3:"private"};Sg.tagClassByName=lhe(Sg.tagClass);Sg.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Sg.tagByName=lhe(Sg.tag)});var dD=q((NBt,phe)=>{"use strict";p();m();var pGe=Gt(),Zd=g5().Buffer,dhe=v5(),lD=x5();function hhe(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new _u,this.tree._init(t.body)}o(hhe,"DEREncoder");phe.exports=hhe;hhe.prototype.encode=o(function(e,r){return this.tree._encode(e,r).join()},"encode");function _u(t){dhe.call(this,"der",t)}o(_u,"DERNode");pGe(_u,dhe);_u.prototype._encodeComposite=o(function(e,r,n,i){let s=mGe(e,r,n,this.reporter);if(i.length<128){let l=Zd.alloc(2);return l[0]=s,l[1]=i.length,this._createEncoderBuffer([l,i])}let a=1;for(let l=i.length;l>=256;l>>=8)a++;let f=Zd.alloc(2+a);f[0]=s,f[1]=128|a;for(let l=1+a,h=i.length;h>0;l--,h>>=8)f[l]=h&255;return this._createEncoderBuffer([f,i])},"encodeComposite");_u.prototype._encodeStr=o(function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=Zd.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");_u.prototype._encodeObjid=o(function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let f=0;f<e.length;f++){let l=e[f];for(i++;l>=128;l>>=7)i++}let s=Zd.alloc(i),a=s.length-1;for(let f=e.length-1;f>=0;f--){let l=e[f];for(s[a--]=l&127;(l>>=7)>0;)s[a--]=128|l&127}return this._createEncoderBuffer(s)},"encodeObjid");function bf(t){return t<10?"0"+t:t}o(bf,"two");_u.prototype._encodeTime=o(function(e,r){let n,i=new Date(e);return r==="gentime"?n=[bf(i.getUTCFullYear()),bf(i.getUTCMonth()+1),bf(i.getUTCDate()),bf(i.getUTCHours()),bf(i.getUTCMinutes()),bf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[bf(i.getUTCFullYear()%100),bf(i.getUTCMonth()+1),bf(i.getUTCDate()),bf(i.getUTCHours()),bf(i.getUTCMinutes()),bf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");_u.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");_u.prototype._encodeInt=o(function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Zd.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=Zd.from(s)}if(Zd.isBuffer(e)){let s=e.length;e.length===0&&s++;let a=Zd.alloc(s);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Zd.from(i))},"encodeInt");_u.prototype._encodeBool=o(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");_u.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree},"use");_u.prototype._skipDefault=o(function(e,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function mGe(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),lD.tagByName.hasOwnProperty(t))i=lD.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=lD.tagClassByName[r||"universal"]<<6,i)}o(mGe,"encodeTag")});var ghe=q((kBt,mhe)=>{"use strict";p();m();var gGe=Gt(),hD=dD();function pD(t){hD.call(this,t),this.enc="pem"}o(pD,"PEMEncoder");gGe(pD,hD);mhe.exports=pD;pD.prototype.encode=o(function(e,r){let i=hD.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var mD=q(bhe=>{"use strict";p();m();var yhe=bhe;yhe.der=dD();yhe.pem=ghe()});var yD=q((HBt,She)=>{"use strict";p();m();var yGe=Gt(),bGe=fD(),vhe=Ub().DecoderBuffer,_he=v5(),xhe=x5();function whe(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Rc,this.tree._init(t.body)}o(whe,"DERDecoder");She.exports=whe;whe.prototype.decode=o(function(e,r){return vhe.isDecoderBuffer(e)||(e=new vhe(e,r)),this.tree._decode(e,r)},"decode");function Rc(t){_he.call(this,"der",t)}o(Rc,"DERNode");yGe(Rc,_he);Rc.prototype._peekTag=o(function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),s=gD(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");Rc.prototype._decodeTag=o(function(e,r,n){let i=gD(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let s=Ehe(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let a=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");Rc.prototype._skipUntilEnd=o(function(e,r){for(;;){let n=gD(e,r);if(e.isError(n))return n;let i=Ehe(e,n.primitive,r);if(e.isError(i))return i;let s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");Rc.prototype._decodeList=o(function(e,r,n,i){let s=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let f=n.decode(e,"der",i);if(e.isError(f)&&a)break;s.push(f)}return s},"decodeList");Rc.prototype._decodeStr=o(function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");Rc.prototype._decodeObjid=o(function(e,r,n){let i,s=[],a=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),a<<=7,a|=f&127,f&128||(s.push(a),a=0);f&128&&s.push(a);let l=s[0]/40|0,h=s[0]%40;if(n?i=s:i=[l,h].concat(s.slice(1)),r){let g=r[i.join(" ")];g===void 0&&(g=r[i.join(".")]),g!==void 0&&(i=g)}return i},"decodeObjid");Rc.prototype._decodeTime=o(function(e,r){let n=e.raw().toString(),i,s,a,f,l,h;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,f=n.slice(8,10)|0,l=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,f=n.slice(6,8)|0,l=n.slice(8,10)|0,h=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,f,l,h,0)},"decodeTime");Rc.prototype._decodeNull=o(function(){return null},"decodeNull");Rc.prototype._decodeBool=o(function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0},"decodeBool");Rc.prototype._decodeInt=o(function(e,r){let n=e.raw(),i=new bGe(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");Rc.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree},"use");function gD(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=xhe.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=xhe.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(gD,"derDecodeTag");function Ehe(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}o(Ehe,"derDecodeLen")});var Rhe=q((KBt,Ahe)=>{"use strict";p();m();var vGe=Gt(),xGe=g5().Buffer,bD=yD();function vD(t){bD.call(this,t),this.enc="pem"}o(vD,"PEMDecoder");vGe(vD,bD);Ahe.exports=vD;vD.prototype.decode=o(function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,f=-1;for(let g=0;g<n.length;g++){let b=n[g].match(s);if(b!==null&&b[2]===i)if(a===-1){if(b[1]!=="BEGIN")break;a=g}else{if(b[1]!=="END")break;f=g;break}}if(a===-1||f===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(a+1,f).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let h=xGe.from(l,"base64");return bD.prototype.decode.call(this,h,r)},"decode")});var xD=q(Ihe=>{"use strict";p();m();var The=Ihe;The.der=yD();The.pem=Rhe()});var Nhe=q(Ohe=>{"use strict";p();m();var _Ge=mD(),wGe=xD(),EGe=Gt(),SGe=Ohe;SGe.define=o(function(e,r){return new Fb(e,r)},"define");function Fb(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o(Fb,"Entity");Fb.prototype._createNamed=o(function(e){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),EGe(n,e),n.prototype._initNamed=o(function(s,a){e.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");Fb.prototype._getDecoder=o(function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(wGe[e])),this.decoders[e]},"_getDecoder");Fb.prototype.decode=o(function(e,r,n){return this._getDecoder(r).decode(e,n)},"decode");Fb.prototype._getEncoder=o(function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(_Ge[e])),this.encoders[e]},"_getEncoder");Fb.prototype.encode=o(function(e,r,n){return this._getEncoder(r).encode(e,n)},"encode")});var Che=q(Mhe=>{"use strict";p();m();var _5=Mhe;_5.Reporter=y5().Reporter;_5.DecoderBuffer=Ub().DecoderBuffer;_5.EncoderBuffer=Ub().EncoderBuffer;_5.Node=v5()});var Bhe=q(khe=>{"use strict";p();m();var Phe=khe;Phe._reverse=o(function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r},"reverse");Phe.der=x5()});var _D=q(Lhe=>{"use strict";p();m();var qb=Lhe;qb.bignum=fD();qb.define=Nhe().define;qb.base=Che();qb.constants=Bhe();qb.decoders=xD();qb.encoders=mD()});var qhe=q((dLt,Fhe)=>{"use strict";p();m();var wu=_D(),Dhe=wu.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AGe=wu.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),wD=wu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),RGe=wu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(wD),this.key("subjectPublicKey").bitstr())}),TGe=wu.define("RelativeDistinguishedName",function(){this.setof(AGe)}),IGe=wu.define("RDNSequence",function(){this.seqof(TGe)}),Uhe=wu.define("Name",function(){this.choice({rdnSequence:this.use(IGe)})}),OGe=wu.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Dhe),this.key("notAfter").use(Dhe))}),NGe=wu.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),MGe=wu.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(wD),this.key("issuer").use(Uhe),this.key("validity").use(OGe),this.key("subject").use(Uhe),this.key("subjectPublicKeyInfo").use(RGe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(NGe).optional())}),CGe=wu.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(MGe),this.key("signatureAlgorithm").use(wD),this.key("signatureValue").bitstr())});Fhe.exports=CGe});var Vhe=q(Su=>{"use strict";p();m();var Eu=_D();Su.certificate=qhe();var PGe=Eu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Su.RSAPrivateKey=PGe;var kGe=Eu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Su.RSAPublicKey=kGe;var BGe=Eu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Hhe),this.key("subjectPublicKey").bitstr())});Su.PublicKey=BGe;var Hhe=Eu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),LGe=Eu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Hhe),this.key("subjectPrivateKey").octstr())});Su.PrivateKey=LGe;var DGe=Eu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Su.EncryptedPrivateKey=DGe;var UGe=Eu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Su.DSAPrivateKey=UGe;Su.DSAparam=Eu.define("DSAparam",function(){this.int()});var FGe=Eu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(qGe),this.key("publicKey").optional().explicit(1).bitstr())});Su.ECPrivateKey=FGe;var qGe=Eu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Su.signature=Eu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var jhe=q((bLt,HGe)=>{HGe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Khe=q((vLt,zhe)=>{p();m();var VGe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,jGe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,zGe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,KGe=nw(),GGe=k8(),w5=or().Buffer;zhe.exports=function(t,e){var r=t.toString(),n=r.match(VGe),i;if(n){var a="aes"+n[1],f=w5.from(n[2],"hex"),l=w5.from(n[3].replace(/[\r\n]/g,""),"base64"),h=KGe(e,f.slice(0,8),parseInt(n[1],10)).key,g=[],b=GGe.createDecipheriv(a,h,f);g.push(b.update(l)),g.push(b.final()),i=w5.concat(g)}else{var s=r.match(zGe);i=w5.from(s[2].replace(/[\r\n]/g,""),"base64")}var A=r.match(jGe)[1];return{tag:A,data:i}}});var yw=q((wLt,$he)=>{p();m();var Ga=Vhe(),$Ge=jhe(),WGe=Khe(),YGe=k8(),XGe=w8(),ED=or().Buffer;$he.exports=Ghe;function Ghe(t){var e;typeof t=="object"&&!ED.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=ED.from(t));var r=WGe(t,e),n=r.tag,i=r.data,s,a;switch(n){case"CERTIFICATE":a=Ga.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=Ga.PublicKey.decode(i,"der")),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ga.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=Ga.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=Ga.EncryptedPrivateKey.decode(i,"der"),i=ZGe(i,e);case"PRIVATE KEY":switch(a=Ga.PrivateKey.decode(i,"der"),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ga.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:Ga.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=Ga.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Ga.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return Ga.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Ga.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=Ga.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}o(Ghe,"parseKeys");Ghe.signature=Ga.signature;function ZGe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=$Ge[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,f=parseInt(i.split("-")[1],10)/8,l=XGe.pbkdf2Sync(e,r,n,f,"sha1"),h=YGe.createDecipheriv(i,l,s),g=[];return g.push(h.update(a)),g.push(h.final()),ED.concat(g)}o(ZGe,"decrypt")});var SD=q((RLt,JGe)=>{JGe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var Xhe=q((TLt,S5)=>{"use strict";p();m();var js=or().Buffer,Ag=MB(),QGe=J8(),e$e=p5().ec,E5=s1(),t$e=yw(),r$e=SD(),n$e=1;function i$e(t,e,r,n,i){var s=t$e(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return o$e(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return s$e(t,s,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==n$e)throw new Error("illegal or unsupported padding mode");t=js.concat([i,t]);for(var a=s.modulus.byteLength(),f=[0,1];t.length+f.length+1<a;)f.push(255);f.push(0);for(var l=-1;++l<t.length;)f.push(t[l]);var h=QGe(f,s);return h}o(i$e,"sign");function o$e(t,e){var r=r$e[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new e$e(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return js.from(s.toDER())}o(o$e,"ecSign");function s$e(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,a=e.params.g,f=new E5(0),l,h=AD(t,s).mod(s),g=!1,b=Whe(n,s,t,r);g===!1;)l=Yhe(s,b,r),f=f$e(a,l,i,s),g=l.invm(s).imul(h.add(n.mul(f))).mod(s),g.cmpn(0)===0&&(g=!1,f=new E5(0));return a$e(f,g)}o(s$e,"dsaSign");function a$e(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),js.from(n)}o(a$e,"toDER");function Whe(t,e,r,n){if(t=js.from(t.toArray()),t.length<e.byteLength()){var i=js.alloc(e.byteLength()-t.length);t=js.concat([i,t])}var s=r.length,a=c$e(r,e),f=js.alloc(s);f.fill(1);var l=js.alloc(s);return l=Ag(n,l).update(f).update(js.from([0])).update(t).update(a).digest(),f=Ag(n,l).update(f).digest(),l=Ag(n,l).update(f).update(js.from([1])).update(t).update(a).digest(),f=Ag(n,l).update(f).digest(),{k:l,v:f}}o(Whe,"getKey");function AD(t,e){var r=new E5(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}o(AD,"bits2int");function c$e(t,e){t=AD(t,e),t=t.mod(e);var r=js.from(t.toArray());if(r.length<e.byteLength()){var n=js.alloc(e.byteLength()-r.length);r=js.concat([n,r])}return r}o(c$e,"bits2octets");function Yhe(t,e,r){var n,i;do{for(n=js.alloc(0);n.length*8<t.bitLength();)e.v=Ag(r,e.k).update(e.v).digest(),n=js.concat([n,e.v]);i=AD(n,t),e.k=Ag(r,e.k).update(e.v).update(js.from([0])).digest(),e.v=Ag(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}o(Yhe,"makeKey");function f$e(t,e,r,n){return t.toRed(E5.mont(r)).redPow(e).fromRed().mod(n)}o(f$e,"makeR");S5.exports=i$e;S5.exports.getKey=Whe;S5.exports.makeKey=Yhe});var e0e=q((MLt,Qhe)=>{"use strict";p();m();var RD=or().Buffer,bw=s1(),u$e=p5().ec,Jhe=yw(),l$e=SD();function d$e(t,e,r,n,i){var s=Jhe(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return h$e(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return p$e(t,e,s)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=RD.concat([i,e]);for(var a=s.modulus.byteLength(),f=[1],l=0;e.length+f.length+2<a;)f.push(255),l+=1;f.push(0);for(var h=-1;++h<e.length;)f.push(e[h]);f=RD.from(f);var g=bw.mont(s.modulus);t=new bw(t).toRed(g),t=t.redPow(new bw(s.publicExponent)),t=RD.from(t.fromRed().toArray());var b=l<8?1:0;for(a=Math.min(t.length,f.length),t.length!==f.length&&(b=1),h=-1;++h<a;)b|=t[h]^f[h];return b===0}o(d$e,"verify");function h$e(t,e,r){var n=l$e[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new u$e(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}o(h$e,"ecVerify");function p$e(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,a=r.data.pub_key,f=Jhe.signature.decode(t,"der"),l=f.s,h=f.r;Zhe(l,i),Zhe(h,i);var g=bw.mont(n),b=l.invm(i),A=s.toRed(g).redPow(new bw(e).mul(b).mod(i)).fromRed().mul(a.toRed(g).redPow(h.mul(b).mod(i)).fromRed()).mod(n).mod(i);return A.cmp(h)===0}o(p$e,"dsaVerify");function Zhe(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}o(Zhe,"checkValue");Qhe.exports=d$e});var s0e=q((BLt,o0e)=>{"use strict";p();m();var A5=or().Buffer,n0e=ng(),R5=Cle(),i0e=Gt(),m$e=Xhe(),g$e=e0e(),Rg=CB();Object.keys(Rg).forEach(function(t){Rg[t].id=A5.from(Rg[t].id,"hex"),Rg[t.toLowerCase()]=Rg[t]});function vw(t){R5.Writable.call(this);var e=Rg[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=n0e(e.hash),this._tag=e.id,this._signType=e.sign}o(vw,"Sign");i0e(vw,R5.Writable);vw.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");vw.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?A5.from(e,r):e),this},"update");vw.prototype.sign=o(function(e,r){this.end();var n=this._hash.digest(),i=m$e(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function xw(t){R5.Writable.call(this);var e=Rg[t];if(!e)throw new Error("Unknown message digest");this._hash=n0e(e.hash),this._tag=e.id,this._signType=e.sign}o(xw,"Verify");i0e(xw,R5.Writable);xw.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");xw.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?A5.from(e,r):e),this},"update");xw.prototype.verify=o(function(e,r,n){var i=typeof r=="string"?A5.from(r,n):r;this.end();var s=this._hash.digest();return g$e(i,s,e,this._signType,this._tag)},"verifyMethod");function t0e(t){return new vw(t)}o(t0e,"createSign");function r0e(t){return new xw(t)}o(r0e,"createVerify");o0e.exports={Sign:t0e,Verify:r0e,createSign:t0e,createVerify:r0e}});var c0e=q((a0e,TD)=>{p();m();(function(t,e){"use strict";function r(E,c){if(!E)throw new Error(c||"Assertion failed")}o(r,"assert");function n(E,c){E.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,c,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=o1().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,y):(this._parseBase(c,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},"init"),i.prototype._initNumber=o(function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},"_initNumber"),i.prototype._initArray=o(function(c,d,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,S,R=0;if(y==="be")for(v=c.length-1,w=0;v>=0;v-=3)S=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(y==="le")for(v=0,w=0;v<c.length;v+=3)S=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this.strip()},"_initArray");function a(E,c){var d=E.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(E,c,d){var y=a(E,d);return d-1>=c&&(y|=a(E,d-1)<<4),y}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,S=0,R;if(y==="be")for(v=c.length-1;v>=d;v-=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8;else{var x=c.length-d;for(v=x%2===0?d+1:d;v<c.length;v+=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8}this.strip()},"_parseHex");function l(E,c,d,y){for(var v=0,w=Math.min(E.length,d),S=c;S<w;S++){var R=E.charCodeAt(S)-48;v*=y,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,y){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=d)v++;v--,w=w/d|0;for(var S=c.length-y,R=S%v,x=Math.min(S,S-R)+y,u=0,_=y;_<x;_+=v)u=l(c,_,_+v,d),this.imuln(w),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=l(c,_,c.length,d),_=0;_<R;_++)H*=d;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var v=0,w=0,S=0;S<this.length;S++){var R=this.words[S],x=((R<<v|w)&16777215).toString(16);w=R>>>24-v&16777215,w!==0||S!==this.length-1?y=h[6-x.length]+x+y:y=x+y,v+=2,v>=26&&(v-=26,S--)}for(w!==0&&(y=w.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var u=g[c],_=b[c];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var F=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?y=F+y:y=h[u-F.length]+F+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,y){var v=this.byteLength(),w=y||Math.max(1,v);r(v<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var S=d==="le",R=new c(w),x,u,_=this.clone();if(S){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<w;u++)R[u]=0}else{for(u=0;u<w-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[w-u-1]=x}return R},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function A(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var y=d/26|0,v=d%26;c[d]=(E.words[y]&1<<v)>>>v}return c}o(A,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var y=c/26|0,v=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,v;this.length>c.length?(y=this,v=c):(y=c,v=this);for(var w=0,S=0;S<v.length;S++)d=(y.words[S]|0)+(v.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<y.length;S++)d=(y.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;y>0?(v=this,w=c):(v=c,w=this);for(var S=0,R=0;R<w.length;R++)d=(v.words[R]|0)-(w.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;for(;S!==0&&R<v.length;R++)d=(v.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;if(S===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function T(E,c,d){d.negative=c.negative^E.negative;var y=E.length+c.length|0;d.length=y,y=y-1|0;var v=E.words[0]|0,w=c.words[0]|0,S=v*w,R=S&67108863,x=S/67108864|0;d.words[0]=R;for(var u=1;u<y;u++){for(var _=x>>>26,H=x&67108863,F=Math.min(u,c.length-1),L=Math.max(0,u-E.length+1);L<=F;L++){var $=u-L|0;v=E.words[$]|0,w=c.words[L]|0,S=v*w+H,_+=S/67108864|0,H=S&67108863}d.words[u]=H|0,x=_|0}return x!==0?d.words[u]=x|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(c,d,y){var v=c.words,w=d.words,S=y.words,R=0,x,u,_,H=v[0]|0,F=H&8191,L=H>>>13,$=v[1]|0,Q=$&8191,re=$>>>13,Me=v[2]|0,fe=Me&8191,le=Me>>>13,xe=v[3]|0,he=xe&8191,ge=xe>>>13,tr=v[4]|0,Ae=tr&8191,Oe=tr>>>13,Bn=v[5]|0,He=Bn&8191,Pe=Bn>>>13,Ln=v[6]|0,Ue=Ln&8191,Be=Ln>>>13,Dn=v[7]|0,ke=Dn&8191,Le=Dn>>>13,Kr=v[8]|0,X=Kr&8191,Z=Kr>>>13,pe=v[9]|0,ne=pe&8191,de=pe>>>13,yt=w[0]|0,be=yt&8191,Se=yt>>>13,Xt=w[1]|0,Re=Xt&8191,Ne=Xt>>>13,Zn=w[2]|0,Fe=Zn&8191,De=Zn>>>13,Qi=w[3]|0,Ge=Qi&8191,$e=Qi>>>13,Un=w[4]|0,qe=Un&8191,Ve=Un>>>13,Vi=w[5]|0,je=Vi&8191,ze=Vi>>>13,ao=w[6]|0,Ce=ao&8191,Ke=ao>>>13,z=w[7]|0,G=z&8191,K=z>>>13,B=w[8]|0,W=B&8191,J=B>>>13,me=w[9]|0,se=me&8191,ue=me>>>13;y.negative=c.negative^d.negative,y.length=19,x=Math.imul(F,be),u=Math.imul(F,Se),u=u+Math.imul(L,be)|0,_=Math.imul(L,Se);var lt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Q,be),u=Math.imul(Q,Se),u=u+Math.imul(re,be)|0,_=Math.imul(re,Se),x=x+Math.imul(F,Re)|0,u=u+Math.imul(F,Ne)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Ne)|0;var rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(fe,be),u=Math.imul(fe,Se),u=u+Math.imul(le,be)|0,_=Math.imul(le,Se),x=x+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ne)|0,u=u+Math.imul(re,Re)|0,_=_+Math.imul(re,Ne)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(F,De)|0,u=u+Math.imul(L,Fe)|0,_=_+Math.imul(L,De)|0;var Bt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(he,be),u=Math.imul(he,Se),u=u+Math.imul(ge,be)|0,_=Math.imul(ge,Se),x=x+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,x=x+Math.imul(Q,Fe)|0,u=u+Math.imul(Q,De)|0,u=u+Math.imul(re,Fe)|0,_=_+Math.imul(re,De)|0,x=x+Math.imul(F,Ge)|0,u=u+Math.imul(F,$e)|0,u=u+Math.imul(L,Ge)|0,_=_+Math.imul(L,$e)|0;var st=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Ae,be),u=Math.imul(Ae,Se),u=u+Math.imul(Oe,be)|0,_=Math.imul(Oe,Se),x=x+Math.imul(he,Re)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Re)|0,_=_+Math.imul(ge,Ne)|0,x=x+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(le,Fe)|0,_=_+Math.imul(le,De)|0,x=x+Math.imul(Q,Ge)|0,u=u+Math.imul(Q,$e)|0,u=u+Math.imul(re,Ge)|0,_=_+Math.imul(re,$e)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(F,Ve)|0,u=u+Math.imul(L,qe)|0,_=_+Math.imul(L,Ve)|0;var vt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(He,be),u=Math.imul(He,Se),u=u+Math.imul(Pe,be)|0,_=Math.imul(Pe,Se),x=x+Math.imul(Ae,Re)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Oe,Re)|0,_=_+Math.imul(Oe,Ne)|0,x=x+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,_=_+Math.imul(ge,De)|0,x=x+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,x=x+Math.imul(Q,qe)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(re,qe)|0,_=_+Math.imul(re,Ve)|0,x=x+Math.imul(F,je)|0,u=u+Math.imul(F,ze)|0,u=u+Math.imul(L,je)|0,_=_+Math.imul(L,ze)|0;var xt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Ue,be),u=Math.imul(Ue,Se),u=u+Math.imul(Be,be)|0,_=Math.imul(Be,Se),x=x+Math.imul(He,Re)|0,u=u+Math.imul(He,Ne)|0,u=u+Math.imul(Pe,Re)|0,_=_+Math.imul(Pe,Ne)|0,x=x+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Oe,Fe)|0,_=_+Math.imul(Oe,De)|0,x=x+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,$e)|0,x=x+Math.imul(fe,qe)|0,u=u+Math.imul(fe,Ve)|0,u=u+Math.imul(le,qe)|0,_=_+Math.imul(le,Ve)|0,x=x+Math.imul(Q,je)|0,u=u+Math.imul(Q,ze)|0,u=u+Math.imul(re,je)|0,_=_+Math.imul(re,ze)|0,x=x+Math.imul(F,Ce)|0,u=u+Math.imul(F,Ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ke)|0;var Rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,x=Math.imul(ke,be),u=Math.imul(ke,Se),u=u+Math.imul(Le,be)|0,_=Math.imul(Le,Se),x=x+Math.imul(Ue,Re)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Be,Re)|0,_=_+Math.imul(Be,Ne)|0,x=x+Math.imul(He,Fe)|0,u=u+Math.imul(He,De)|0,u=u+Math.imul(Pe,Fe)|0,_=_+Math.imul(Pe,De)|0,x=x+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Oe,Ge)|0,_=_+Math.imul(Oe,$e)|0,x=x+Math.imul(he,qe)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,qe)|0,_=_+Math.imul(ge,Ve)|0,x=x+Math.imul(fe,je)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,ze)|0,x=x+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ke)|0,u=u+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ke)|0,x=x+Math.imul(F,G)|0,u=u+Math.imul(F,K)|0,u=u+Math.imul(L,G)|0,_=_+Math.imul(L,K)|0;var At=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(X,be),u=Math.imul(X,Se),u=u+Math.imul(Z,be)|0,_=Math.imul(Z,Se),x=x+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ne)|0,u=u+Math.imul(Le,Re)|0,_=_+Math.imul(Le,Ne)|0,x=x+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Be,Fe)|0,_=_+Math.imul(Be,De)|0,x=x+Math.imul(He,Ge)|0,u=u+Math.imul(He,$e)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,$e)|0,x=x+Math.imul(Ae,qe)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Oe,qe)|0,_=_+Math.imul(Oe,Ve)|0,x=x+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,_=_+Math.imul(ge,ze)|0,x=x+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ke)|0,x=x+Math.imul(Q,G)|0,u=u+Math.imul(Q,K)|0,u=u+Math.imul(re,G)|0,_=_+Math.imul(re,K)|0,x=x+Math.imul(F,W)|0,u=u+Math.imul(F,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var _t=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(ne,be),u=Math.imul(ne,Se),u=u+Math.imul(de,be)|0,_=Math.imul(de,Se),x=x+Math.imul(X,Re)|0,u=u+Math.imul(X,Ne)|0,u=u+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Ne)|0,x=x+Math.imul(ke,Fe)|0,u=u+Math.imul(ke,De)|0,u=u+Math.imul(Le,Fe)|0,_=_+Math.imul(Le,De)|0,x=x+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,$e)|0,x=x+Math.imul(He,qe)|0,u=u+Math.imul(He,Ve)|0,u=u+Math.imul(Pe,qe)|0,_=_+Math.imul(Pe,Ve)|0,x=x+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Oe,je)|0,_=_+Math.imul(Oe,ze)|0,x=x+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ke)|0,x=x+Math.imul(fe,G)|0,u=u+Math.imul(fe,K)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,K)|0,x=x+Math.imul(Q,W)|0,u=u+Math.imul(Q,J)|0,u=u+Math.imul(re,W)|0,_=_+Math.imul(re,J)|0,x=x+Math.imul(F,se)|0,u=u+Math.imul(F,ue)|0,u=u+Math.imul(L,se)|0,_=_+Math.imul(L,ue)|0;var Et=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(ne,Re),u=Math.imul(ne,Ne),u=u+Math.imul(de,Re)|0,_=Math.imul(de,Ne),x=x+Math.imul(X,Fe)|0,u=u+Math.imul(X,De)|0,u=u+Math.imul(Z,Fe)|0,_=_+Math.imul(Z,De)|0,x=x+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,$e)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,$e)|0,x=x+Math.imul(Ue,qe)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(He,je)|0,u=u+Math.imul(He,ze)|0,u=u+Math.imul(Pe,je)|0,_=_+Math.imul(Pe,ze)|0,x=x+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Oe,Ce)|0,_=_+Math.imul(Oe,Ke)|0,x=x+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,_=_+Math.imul(ge,K)|0,x=x+Math.imul(fe,W)|0,u=u+Math.imul(fe,J)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,J)|0,x=x+Math.imul(Q,se)|0,u=u+Math.imul(Q,ue)|0,u=u+Math.imul(re,se)|0,_=_+Math.imul(re,ue)|0;var wt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,_=Math.imul(de,De),x=x+Math.imul(X,Ge)|0,u=u+Math.imul(X,$e)|0,u=u+Math.imul(Z,Ge)|0,_=_+Math.imul(Z,$e)|0,x=x+Math.imul(ke,qe)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Le,qe)|0,_=_+Math.imul(Le,Ve)|0,x=x+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Be,je)|0,_=_+Math.imul(Be,ze)|0,x=x+Math.imul(He,Ce)|0,u=u+Math.imul(He,Ke)|0,u=u+Math.imul(Pe,Ce)|0,_=_+Math.imul(Pe,Ke)|0,x=x+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Oe,G)|0,_=_+Math.imul(Oe,K)|0,x=x+Math.imul(he,W)|0,u=u+Math.imul(he,J)|0,u=u+Math.imul(ge,W)|0,_=_+Math.imul(ge,J)|0,x=x+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),x=x+Math.imul(X,qe)|0,u=u+Math.imul(X,Ve)|0,u=u+Math.imul(Z,qe)|0,_=_+Math.imul(Z,Ve)|0,x=x+Math.imul(ke,je)|0,u=u+Math.imul(ke,ze)|0,u=u+Math.imul(Le,je)|0,_=_+Math.imul(Le,ze)|0,x=x+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Be,Ce)|0,_=_+Math.imul(Be,Ke)|0,x=x+Math.imul(He,G)|0,u=u+Math.imul(He,K)|0,u=u+Math.imul(Pe,G)|0,_=_+Math.imul(Pe,K)|0,x=x+Math.imul(Ae,W)|0,u=u+Math.imul(Ae,J)|0,u=u+Math.imul(Oe,W)|0,_=_+Math.imul(Oe,J)|0,x=x+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,_=_+Math.imul(ge,ue)|0;var dt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(ne,qe),u=Math.imul(ne,Ve),u=u+Math.imul(de,qe)|0,_=Math.imul(de,Ve),x=x+Math.imul(X,je)|0,u=u+Math.imul(X,ze)|0,u=u+Math.imul(Z,je)|0,_=_+Math.imul(Z,ze)|0,x=x+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ke)|0,u=u+Math.imul(Le,Ce)|0,_=_+Math.imul(Le,Ke)|0,x=x+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Be,G)|0,_=_+Math.imul(Be,K)|0,x=x+Math.imul(He,W)|0,u=u+Math.imul(He,J)|0,u=u+Math.imul(Pe,W)|0,_=_+Math.imul(Pe,J)|0,x=x+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Oe,se)|0,_=_+Math.imul(Oe,ue)|0;var ot=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,_=Math.imul(de,ze),x=x+Math.imul(X,Ce)|0,u=u+Math.imul(X,Ke)|0,u=u+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,Ke)|0,x=x+Math.imul(ke,G)|0,u=u+Math.imul(ke,K)|0,u=u+Math.imul(Le,G)|0,_=_+Math.imul(Le,K)|0,x=x+Math.imul(Ue,W)|0,u=u+Math.imul(Ue,J)|0,u=u+Math.imul(Be,W)|0,_=_+Math.imul(Be,J)|0,x=x+Math.imul(He,se)|0,u=u+Math.imul(He,ue)|0,u=u+Math.imul(Pe,se)|0,_=_+Math.imul(Pe,ue)|0;var ft=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,Ke),x=x+Math.imul(X,G)|0,u=u+Math.imul(X,K)|0,u=u+Math.imul(Z,G)|0,_=_+Math.imul(Z,K)|0,x=x+Math.imul(ke,W)|0,u=u+Math.imul(ke,J)|0,u=u+Math.imul(Le,W)|0,_=_+Math.imul(Le,J)|0,x=x+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Be,se)|0,_=_+Math.imul(Be,ue)|0;var ut=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,_=Math.imul(de,K),x=x+Math.imul(X,W)|0,u=u+Math.imul(X,J)|0,u=u+Math.imul(Z,W)|0,_=_+Math.imul(Z,J)|0,x=x+Math.imul(ke,se)|0,u=u+Math.imul(ke,ue)|0,u=u+Math.imul(Le,se)|0,_=_+Math.imul(Le,ue)|0;var tt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ne,W),u=Math.imul(ne,J),u=u+Math.imul(de,W)|0,_=Math.imul(de,J),x=x+Math.imul(X,se)|0,u=u+Math.imul(X,ue)|0,u=u+Math.imul(Z,se)|0,_=_+Math.imul(Z,ue)|0;var ve=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,S[0]=lt,S[1]=rt,S[2]=Bt,S[3]=st,S[4]=vt,S[5]=xt,S[6]=Rt,S[7]=At,S[8]=_t,S[9]=Et,S[10]=wt,S[11]=ct,S[12]=dt,S[13]=ot,S[14]=ft,S[15]=ut,S[16]=tt,S[17]=ve,S[18]=_e,R!==0&&(S[19]=R,y.length++),y},"comb10MulTo");Math.imul||(O=T);function N(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var y=0,v=0,w=0;w<d.length-1;w++){var S=v;v=0;for(var R=y&67108863,x=Math.min(w,c.length-1),u=Math.max(0,w-E.length+1);u<=x;u++){var _=w-u,H=E.words[_]|0,F=c.words[u]|0,L=H*F,$=L&67108863;S=S+(L/67108864|0)|0,$=$+R|0,R=$&67108863,S=S+($>>>26)|0,v+=S>>>26,S&=67108863}d.words[w]=R,y=S,S=v}return y!==0?d.words[w]=y:d.length--,d.strip()}o(N,"bigMulTo");function P(E,c,d){var y=new C;return y.mulp(E,c,d)}o(P,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var y,v=this.length+c.length;return this.length===10&&c.length===10?y=O(this,c,d):v<63?y=T(this,c,d):v<1024?y=N(this,c,d):y=P(this,c,d),y},"mulTo");function C(E,c){this.x=E,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),y=i.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,y,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,y){if(c===0||c===y-1)return c;for(var v=0,w=0;w<d;w++)v|=(c&1)<<d-w-1,c>>=1;return v},"revBin"),C.prototype.permute=o(function(c,d,y,v,w,S){for(var R=0;R<S;R++)v[R]=d[c[R]],w[R]=y[c[R]]},"permute"),C.prototype.transform=o(function(c,d,y,v,w,S){this.permute(S,c,d,y,v,w);for(var R=1;R<w;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<w;H+=x)for(var F=u,L=_,$=0;$<R;$++){var Q=y[H+$],re=v[H+$],Me=y[H+$+R],fe=v[H+$+R],le=F*Me-L*fe;fe=F*fe+L*Me,Me=le,y[H+$]=Q+Me,v[H+$]=re+fe,y[H+$+R]=Q-Me,v[H+$+R]=re-fe,$!==x&&(le=u*F-_*L,L=u*L+_*F,F=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var y=Math.max(d,c)|1,v=y&1,w=0;for(y=y/2|0;y;y=y>>>1)w++;return 1<<w+1+v},"guessLen13b"),C.prototype.conjugate=o(function(c,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var w=c[v];c[v]=c[y-v-1],c[y-v-1]=w,w=d[v],d[v]=-d[y-v-1],d[y-v-1]=-w}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var y=0,v=0;v<d/2;v++){var w=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+y;c[v]=w&67108863,w<67108864?y=0:y=w/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,y,v){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),y[2*S]=w&8191,w=w>>>13,y[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<v;++S)y[S]=0;r(w===0),r((w&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),y=0;y<c;y++)d[y]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,y){var v=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(v),S=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),F=new Array(v),L=y.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(d.words,d.length,_,v),this.transform(R,S,x,u,v,w),this.transform(_,S,H,F,v,w);for(var $=0;$<v;$++){var Q=x[$]*H[$]-u[$]*F[$];u[$]=x[$]*F[$]+u[$]*H[$],x[$]=Q}return this.conjugate(x,u,v),this.transform(x,u,L,S,v,w),this.conjugate(L,S,v),this.normalize13b(L,v),y.negative=c.negative^d.negative,y.length=c.length+d.length,y.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),P(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*c,w=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=w>>>26,this.words[y]=w&67108863}return d!==0&&(this.words[y]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=A(c);if(d.length===0)return new i(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var w=y.sqr();v<d.length;v++,w=w.sqr())d[v]!==0&&(y=y.mul(w));return y},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&v,x=(this.words[w]|0)-R<<d;this.words[w]=x|S,S=R>>>26-d}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,y){r(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var w=c%26,S=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,x=y;if(v-=S,v=Math.max(0,v),x){for(var u=0;u<S;u++)x.words[u]=this.words[u];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-w|H>>>w,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,y){return r(this.negative===0),this.iushrn(c,d,y)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return!1;var w=this.words[y];return!!(w&v)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,y){var v=c.length+y,w;this._expand(v);var S,R=0;for(w=0;w<c.length;w++){S=(this.words[w+y]|0)+R;var x=(c.words[w]|0)*d;S-=x&67108863,R=(S>>26)-(x/67108864|0),this.words[w+y]=S&67108863}for(;w<this.length-y;w++)S=(this.words[w+y]|0)+R,R=S>>26,this.words[w+y]=S&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+R,R=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var y=this.length-c.length,v=this.clone(),w=c,S=w.words[w.length-1]|0,R=this._countBits(S);y=26-R,y!==0&&(w=w.ushln(y),v.iushln(y),S=w.words[w.length-1]|0);var x=v.length-w.length,u;if(d!=="mod"){u=new i(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(w,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var F=x-1;F>=0;F--){var L=(v.words[w.length+F]|0)*67108864+(v.words[w.length+F-1]|0);for(L=Math.min(L/S|0,67108863),v._ishlnsubmul(w,L,F);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(w,1,F),v.isZero()||(v.negative^=1);u&&(u.words[F]=L)}return u&&u.strip(),v.strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:u||null,mod:v}},"_wordDiv"),i.prototype.divmod=o(function(c,d,y){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(v=S.div.neg()),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.iadd(c)),{div:v,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),w=c.andln(1),S=y.cmp(v);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,y=0,v=this.length-1;v>=0;v--)y=(d*y+(this.words[v]|0))%c;return y},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+d*67108864;this.words[y]=v/c|0,d=v%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=new i(0),R=new i(1),x=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++x;for(var u=y.clone(),_=d.clone();!d.isZero();){for(var H=0,F=1;!(d.words[0]&F)&&H<26;++H,F<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(u),w.isub(_)),v.iushrn(1),w.iushrn(1);for(var L=0,$=1;!(y.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(u),R.isub(_)),S.iushrn(1),R.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(S),w.isub(R)):(y.isub(d),S.isub(v),R.isub(w))}return{a:S,b:R,gcd:y.iushln(x)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var u=0,_=1;!(y.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(y.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(w)):(y.isub(d),w.isub(v))}var H;return d.cmpn(1)===0?H=v:H=w,H.cmpn(0)<0&&H.iadd(c),H},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=d.cmp(y);if(w<0){var S=d;d=y,y=S}else if(w===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var w=v,S=y;w!==0&&S<this.length;S++){var R=this.words[S]|0;R+=w,w=R>>>26,R&=67108863,this.words[S]=R}return w!==0&&(this.words[S]=w,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var y;if(this.length>1)y=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var v=this.words[0]|0;y=v===c?0:v<c?-1:1}return this.negative!==0?-y|0:y},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,w=c.words[y]|0;if(v!==w){v<w?d=-1:v>w&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var D={k256:null,p224:null,p192:null,p25519:null};function M(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var y=4194303,v=Math.min(c.length,9),w=0;w<v;w++)d.words[w]=c.words[w];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&y,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&y)<<4|S>>>22,S=R}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var v=c.words[y]|0;d+=v*977,c.words[y]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,"P224"),n(V,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function ee(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ee,"P25519"),n(ee,M),ee.prototype.imulK=o(function(c){for(var d=0,y=0;y<c.length;y++){var v=(c.words[y]|0)*19+d,w=v&67108863;v>>>=26,c.words[y]=w,d=v}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(D[c])return D[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new V;else if(c==="p192")d=new j;else if(c==="p25519")d=new ee;else throw new Error("Unknown prime "+c);return D[c]=d,d},"prime");function Y(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(c,y)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);r(!v.isZero());var S=new i(1).toRed(this),R=S.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),F=this.pow(c,v),L=w;F.cmp(S)!==0;){for(var $=F,Q=0;$.cmp(S)!==0;Q++)$=$.redSqr();r(Q<L);var re=this.pow(_,new i(1).iushln(L-Q-1));H=H.redMul(re),_=re.redSqr(),F=F.redMul(_),L=Q}return H},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,v=new Array(1<<y);v[0]=new i(1).toRed(this),v[1]=c;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],c);var S=v[0],R=0,x=0,u=d.bitLength()%26;for(u===0&&(u=26),w=d.length-1;w>=0;w--){for(var _=d.words[w],H=u-1;H>=0;H--){var F=_>>H&1;if(S!==v[0]&&(S=this.sqr(S)),F===0&&R===0){x=0;continue}R<<=1,R|=F,x++,!(x!==y&&(w!==0||H!==0))&&(S=this.mul(S,v[R]),x=0,R=0)}u=26}return S},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new te(c)},"mont");function te(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,"Mont"),n(te,Y),te.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),te.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),te.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"imul"),te.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var y=c.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"mul"),te.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof TD>"u"||TD,a0e)});var u0e=q((VLt,f0e)=>{p();m();var y$e=p5(),b$e=c0e();f0e.exports=o(function(e){return new Tg(e)},"createECDH");var Tc={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Tc.p224=Tc.secp224r1;Tc.p256=Tc.secp256r1=Tc.prime256v1;Tc.p192=Tc.secp192r1=Tc.prime192v1;Tc.p384=Tc.secp384r1;Tc.p521=Tc.secp521r1;function Tg(t){this.curveType=Tc[t],this.curveType||(this.curveType={name:t}),this.curve=new y$e.ec(this.curveType.name),this.keys=void 0}o(Tg,"ECDH");Tg.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Tg.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return ID(i,r,this.curveType.byteLength)};Tg.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),ID(r,t)};Tg.prototype.getPrivateKey=function(t){return ID(this.keys.getPrivate(),t)};Tg.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Tg.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new b$e(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function ID(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}o(ID,"formatReturnValue")});var ND=q((GLt,l0e)=>{p();m();var v$e=ng(),OD=or().Buffer;l0e.exports=function(t,e){for(var r=OD.alloc(0),n=0,i;r.length<e;)i=x$e(n++),r=OD.concat([r,v$e("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function x$e(t){var e=OD.allocUnsafe(4);return e.writeUInt32BE(t,0),e}o(x$e,"i2ops")});var MD=q((XLt,d0e)=>{p();m();d0e.exports=o(function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},"xor")});var T5=q((h0e,CD)=>{p();m();(function(t,e){"use strict";function r(E,c){if(!E)throw new Error(c||"Assertion failed")}o(r,"assert");function n(E,c){E.super_=c;var d=o(function(){},"TempCtor");d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,c,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=o1().Buffer}catch{}i.isBN=o(function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},"isBN"),i.max=o(function(c,d){return c.cmp(d)>0?c:d},"max"),i.min=o(function(c,d){return c.cmp(d)<0?c:d},"min"),i.prototype._init=o(function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,y):(this._parseBase(c,d,v),y==="le"&&this._initArray(this.toArray(),d,y)))},"init"),i.prototype._initNumber=o(function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},"_initNumber"),i.prototype._initArray=o(function(c,d,y){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,S,R=0;if(y==="be")for(v=c.length-1,w=0;v>=0;v-=3)S=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(y==="le")for(v=0,w=0;v<c.length;v+=3)S=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[w]|=S<<R&67108863,this.words[w+1]=S>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this.strip()},"_initArray");function a(E,c){var d=E.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function f(E,c,d){var y=a(E,d);return d-1>=c&&(y|=a(E,d-1)<<4),y}o(f,"parseHexByte"),i.prototype._parseHex=o(function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,S=0,R;if(y==="be")for(v=c.length-1;v>=d;v-=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8;else{var x=c.length-d;for(v=x%2===0?d+1:d;v<c.length;v+=2)R=f(c,d,v)<<w,this.words[S]|=R&67108863,w>=18?(w-=18,S+=1,this.words[S]|=R>>>26):w+=8}this.strip()},"_parseHex");function l(E,c,d,y){for(var v=0,w=Math.min(E.length,d),S=c;S<w;S++){var R=E.charCodeAt(S)-48;v*=y,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}o(l,"parseBase"),i.prototype._parseBase=o(function(c,d,y){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=d)v++;v--,w=w/d|0;for(var S=c.length-y,R=S%v,x=Math.min(S,S-R)+y,u=0,_=y;_<x;_+=v)u=l(c,_,_+v,d),this.imuln(w),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=l(c,_,c.length,d),_=0;_<R;_++)H*=d;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},"copy"),i.prototype.clone=o(function(){var c=new i(null);return this.copy(c),c},"clone"),i.prototype._expand=o(function(c){for(;this.length<c;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var v=0,w=0,S=0;S<this.length;S++){var R=this.words[S],x=((R<<v|w)&16777215).toString(16);w=R>>>24-v&16777215,w!==0||S!==this.length-1?y=h[6-x.length]+x+y:y=x+y,v+=2,v>=26&&(v-=26,S--)}for(w!==0&&(y=w.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var u=g[c],_=b[c];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var F=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?y=F+y:y=h[u-F.length]+F+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(c,d){return r(typeof s<"u"),this.toArrayLike(s,c,d)},"toBuffer"),i.prototype.toArray=o(function(c,d){return this.toArrayLike(Array,c,d)},"toArray"),i.prototype.toArrayLike=o(function(c,d,y){var v=this.byteLength(),w=y||Math.max(1,v);r(v<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var S=d==="le",R=new c(w),x,u,_=this.clone();if(S){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<w;u++)R[u]=0}else{for(u=0;u<w-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[w-u-1]=x}return R},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(c){return 32-Math.clz32(c)},"_countBits"):i.prototype._countBits=o(function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},"_countBits"),i.prototype._zeroBits=o(function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},"_zeroBits"),i.prototype.bitLength=o(function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d},"bitLength");function A(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var y=d/26|0,v=d%26;c[d]=(E.words[y]&1<<v)>>>v}return c}o(A,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(c){return r((this.negative|c.negative)===0),this.iuor(c)},"ior"),i.prototype.or=o(function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},"or"),i.prototype.uor=o(function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(c){return r((this.negative|c.negative)===0),this.iuand(c)},"iand"),i.prototype.and=o(function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},"and"),i.prototype.uand=o(function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var v=0;v<y.length;v++)this.words[v]=d.words[v]^y.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},"ixor"),i.prototype.xor=o(function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},"inotn"),i.prototype.notn=o(function(c){return this.clone().inotn(c)},"notn"),i.prototype.setn=o(function(c,d){r(typeof c=="number"&&c>=0);var y=c/26|0,v=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},"setn"),i.prototype.iadd=o(function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,v;this.length>c.length?(y=this,v=c):(y=c,v=this);for(var w=0,S=0;S<v.length;S++)d=(y.words[S]|0)+(v.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<y.length;S++)d=(y.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},"iadd"),i.prototype.add=o(function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},"add"),i.prototype.isub=o(function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;y>0?(v=this,w=c):(v=c,w=this);for(var S=0,R=0;R<w.length;R++)d=(v.words[R]|0)-(w.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;for(;S!==0&&R<v.length;R++)d=(v.words[R]|0)+S,S=d>>26,this.words[R]=d&67108863;if(S===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(c){return this.clone().isub(c)},"sub");function T(E,c,d){d.negative=c.negative^E.negative;var y=E.length+c.length|0;d.length=y,y=y-1|0;var v=E.words[0]|0,w=c.words[0]|0,S=v*w,R=S&67108863,x=S/67108864|0;d.words[0]=R;for(var u=1;u<y;u++){for(var _=x>>>26,H=x&67108863,F=Math.min(u,c.length-1),L=Math.max(0,u-E.length+1);L<=F;L++){var $=u-L|0;v=E.words[$]|0,w=c.words[L]|0,S=v*w+H,_+=S/67108864|0,H=S&67108863}d.words[u]=H|0,x=_|0}return x!==0?d.words[u]=x|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(c,d,y){var v=c.words,w=d.words,S=y.words,R=0,x,u,_,H=v[0]|0,F=H&8191,L=H>>>13,$=v[1]|0,Q=$&8191,re=$>>>13,Me=v[2]|0,fe=Me&8191,le=Me>>>13,xe=v[3]|0,he=xe&8191,ge=xe>>>13,tr=v[4]|0,Ae=tr&8191,Oe=tr>>>13,Bn=v[5]|0,He=Bn&8191,Pe=Bn>>>13,Ln=v[6]|0,Ue=Ln&8191,Be=Ln>>>13,Dn=v[7]|0,ke=Dn&8191,Le=Dn>>>13,Kr=v[8]|0,X=Kr&8191,Z=Kr>>>13,pe=v[9]|0,ne=pe&8191,de=pe>>>13,yt=w[0]|0,be=yt&8191,Se=yt>>>13,Xt=w[1]|0,Re=Xt&8191,Ne=Xt>>>13,Zn=w[2]|0,Fe=Zn&8191,De=Zn>>>13,Qi=w[3]|0,Ge=Qi&8191,$e=Qi>>>13,Un=w[4]|0,qe=Un&8191,Ve=Un>>>13,Vi=w[5]|0,je=Vi&8191,ze=Vi>>>13,ao=w[6]|0,Ce=ao&8191,Ke=ao>>>13,z=w[7]|0,G=z&8191,K=z>>>13,B=w[8]|0,W=B&8191,J=B>>>13,me=w[9]|0,se=me&8191,ue=me>>>13;y.negative=c.negative^d.negative,y.length=19,x=Math.imul(F,be),u=Math.imul(F,Se),u=u+Math.imul(L,be)|0,_=Math.imul(L,Se);var lt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(Q,be),u=Math.imul(Q,Se),u=u+Math.imul(re,be)|0,_=Math.imul(re,Se),x=x+Math.imul(F,Re)|0,u=u+Math.imul(F,Ne)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Ne)|0;var rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(fe,be),u=Math.imul(fe,Se),u=u+Math.imul(le,be)|0,_=Math.imul(le,Se),x=x+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ne)|0,u=u+Math.imul(re,Re)|0,_=_+Math.imul(re,Ne)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(F,De)|0,u=u+Math.imul(L,Fe)|0,_=_+Math.imul(L,De)|0;var Bt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(he,be),u=Math.imul(he,Se),u=u+Math.imul(ge,be)|0,_=Math.imul(ge,Se),x=x+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Ne)|0,u=u+Math.imul(le,Re)|0,_=_+Math.imul(le,Ne)|0,x=x+Math.imul(Q,Fe)|0,u=u+Math.imul(Q,De)|0,u=u+Math.imul(re,Fe)|0,_=_+Math.imul(re,De)|0,x=x+Math.imul(F,Ge)|0,u=u+Math.imul(F,$e)|0,u=u+Math.imul(L,Ge)|0,_=_+Math.imul(L,$e)|0;var st=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(st>>>26)|0,st&=67108863,x=Math.imul(Ae,be),u=Math.imul(Ae,Se),u=u+Math.imul(Oe,be)|0,_=Math.imul(Oe,Se),x=x+Math.imul(he,Re)|0,u=u+Math.imul(he,Ne)|0,u=u+Math.imul(ge,Re)|0,_=_+Math.imul(ge,Ne)|0,x=x+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(le,Fe)|0,_=_+Math.imul(le,De)|0,x=x+Math.imul(Q,Ge)|0,u=u+Math.imul(Q,$e)|0,u=u+Math.imul(re,Ge)|0,_=_+Math.imul(re,$e)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(F,Ve)|0,u=u+Math.imul(L,qe)|0,_=_+Math.imul(L,Ve)|0;var vt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,x=Math.imul(He,be),u=Math.imul(He,Se),u=u+Math.imul(Pe,be)|0,_=Math.imul(Pe,Se),x=x+Math.imul(Ae,Re)|0,u=u+Math.imul(Ae,Ne)|0,u=u+Math.imul(Oe,Re)|0,_=_+Math.imul(Oe,Ne)|0,x=x+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,_=_+Math.imul(ge,De)|0,x=x+Math.imul(fe,Ge)|0,u=u+Math.imul(fe,$e)|0,u=u+Math.imul(le,Ge)|0,_=_+Math.imul(le,$e)|0,x=x+Math.imul(Q,qe)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(re,qe)|0,_=_+Math.imul(re,Ve)|0,x=x+Math.imul(F,je)|0,u=u+Math.imul(F,ze)|0,u=u+Math.imul(L,je)|0,_=_+Math.imul(L,ze)|0;var xt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Ue,be),u=Math.imul(Ue,Se),u=u+Math.imul(Be,be)|0,_=Math.imul(Be,Se),x=x+Math.imul(He,Re)|0,u=u+Math.imul(He,Ne)|0,u=u+Math.imul(Pe,Re)|0,_=_+Math.imul(Pe,Ne)|0,x=x+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Oe,Fe)|0,_=_+Math.imul(Oe,De)|0,x=x+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,$e)|0,x=x+Math.imul(fe,qe)|0,u=u+Math.imul(fe,Ve)|0,u=u+Math.imul(le,qe)|0,_=_+Math.imul(le,Ve)|0,x=x+Math.imul(Q,je)|0,u=u+Math.imul(Q,ze)|0,u=u+Math.imul(re,je)|0,_=_+Math.imul(re,ze)|0,x=x+Math.imul(F,Ce)|0,u=u+Math.imul(F,Ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ke)|0;var Rt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,x=Math.imul(ke,be),u=Math.imul(ke,Se),u=u+Math.imul(Le,be)|0,_=Math.imul(Le,Se),x=x+Math.imul(Ue,Re)|0,u=u+Math.imul(Ue,Ne)|0,u=u+Math.imul(Be,Re)|0,_=_+Math.imul(Be,Ne)|0,x=x+Math.imul(He,Fe)|0,u=u+Math.imul(He,De)|0,u=u+Math.imul(Pe,Fe)|0,_=_+Math.imul(Pe,De)|0,x=x+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Oe,Ge)|0,_=_+Math.imul(Oe,$e)|0,x=x+Math.imul(he,qe)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,qe)|0,_=_+Math.imul(ge,Ve)|0,x=x+Math.imul(fe,je)|0,u=u+Math.imul(fe,ze)|0,u=u+Math.imul(le,je)|0,_=_+Math.imul(le,ze)|0,x=x+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ke)|0,u=u+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ke)|0,x=x+Math.imul(F,G)|0,u=u+Math.imul(F,K)|0,u=u+Math.imul(L,G)|0,_=_+Math.imul(L,K)|0;var At=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(X,be),u=Math.imul(X,Se),u=u+Math.imul(Z,be)|0,_=Math.imul(Z,Se),x=x+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ne)|0,u=u+Math.imul(Le,Re)|0,_=_+Math.imul(Le,Ne)|0,x=x+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Be,Fe)|0,_=_+Math.imul(Be,De)|0,x=x+Math.imul(He,Ge)|0,u=u+Math.imul(He,$e)|0,u=u+Math.imul(Pe,Ge)|0,_=_+Math.imul(Pe,$e)|0,x=x+Math.imul(Ae,qe)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Oe,qe)|0,_=_+Math.imul(Oe,Ve)|0,x=x+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,_=_+Math.imul(ge,ze)|0,x=x+Math.imul(fe,Ce)|0,u=u+Math.imul(fe,Ke)|0,u=u+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ke)|0,x=x+Math.imul(Q,G)|0,u=u+Math.imul(Q,K)|0,u=u+Math.imul(re,G)|0,_=_+Math.imul(re,K)|0,x=x+Math.imul(F,W)|0,u=u+Math.imul(F,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var _t=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(ne,be),u=Math.imul(ne,Se),u=u+Math.imul(de,be)|0,_=Math.imul(de,Se),x=x+Math.imul(X,Re)|0,u=u+Math.imul(X,Ne)|0,u=u+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Ne)|0,x=x+Math.imul(ke,Fe)|0,u=u+Math.imul(ke,De)|0,u=u+Math.imul(Le,Fe)|0,_=_+Math.imul(Le,De)|0,x=x+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Be,Ge)|0,_=_+Math.imul(Be,$e)|0,x=x+Math.imul(He,qe)|0,u=u+Math.imul(He,Ve)|0,u=u+Math.imul(Pe,qe)|0,_=_+Math.imul(Pe,Ve)|0,x=x+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Oe,je)|0,_=_+Math.imul(Oe,ze)|0,x=x+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ke)|0,x=x+Math.imul(fe,G)|0,u=u+Math.imul(fe,K)|0,u=u+Math.imul(le,G)|0,_=_+Math.imul(le,K)|0,x=x+Math.imul(Q,W)|0,u=u+Math.imul(Q,J)|0,u=u+Math.imul(re,W)|0,_=_+Math.imul(re,J)|0,x=x+Math.imul(F,se)|0,u=u+Math.imul(F,ue)|0,u=u+Math.imul(L,se)|0,_=_+Math.imul(L,ue)|0;var Et=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(ne,Re),u=Math.imul(ne,Ne),u=u+Math.imul(de,Re)|0,_=Math.imul(de,Ne),x=x+Math.imul(X,Fe)|0,u=u+Math.imul(X,De)|0,u=u+Math.imul(Z,Fe)|0,_=_+Math.imul(Z,De)|0,x=x+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,$e)|0,u=u+Math.imul(Le,Ge)|0,_=_+Math.imul(Le,$e)|0,x=x+Math.imul(Ue,qe)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Ve)|0,x=x+Math.imul(He,je)|0,u=u+Math.imul(He,ze)|0,u=u+Math.imul(Pe,je)|0,_=_+Math.imul(Pe,ze)|0,x=x+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Oe,Ce)|0,_=_+Math.imul(Oe,Ke)|0,x=x+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,_=_+Math.imul(ge,K)|0,x=x+Math.imul(fe,W)|0,u=u+Math.imul(fe,J)|0,u=u+Math.imul(le,W)|0,_=_+Math.imul(le,J)|0,x=x+Math.imul(Q,se)|0,u=u+Math.imul(Q,ue)|0,u=u+Math.imul(re,se)|0,_=_+Math.imul(re,ue)|0;var wt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,_=Math.imul(de,De),x=x+Math.imul(X,Ge)|0,u=u+Math.imul(X,$e)|0,u=u+Math.imul(Z,Ge)|0,_=_+Math.imul(Z,$e)|0,x=x+Math.imul(ke,qe)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Le,qe)|0,_=_+Math.imul(Le,Ve)|0,x=x+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Be,je)|0,_=_+Math.imul(Be,ze)|0,x=x+Math.imul(He,Ce)|0,u=u+Math.imul(He,Ke)|0,u=u+Math.imul(Pe,Ce)|0,_=_+Math.imul(Pe,Ke)|0,x=x+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Oe,G)|0,_=_+Math.imul(Oe,K)|0,x=x+Math.imul(he,W)|0,u=u+Math.imul(he,J)|0,u=u+Math.imul(ge,W)|0,_=_+Math.imul(ge,J)|0,x=x+Math.imul(fe,se)|0,u=u+Math.imul(fe,ue)|0,u=u+Math.imul(le,se)|0,_=_+Math.imul(le,ue)|0;var ct=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,_=Math.imul(de,$e),x=x+Math.imul(X,qe)|0,u=u+Math.imul(X,Ve)|0,u=u+Math.imul(Z,qe)|0,_=_+Math.imul(Z,Ve)|0,x=x+Math.imul(ke,je)|0,u=u+Math.imul(ke,ze)|0,u=u+Math.imul(Le,je)|0,_=_+Math.imul(Le,ze)|0,x=x+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Be,Ce)|0,_=_+Math.imul(Be,Ke)|0,x=x+Math.imul(He,G)|0,u=u+Math.imul(He,K)|0,u=u+Math.imul(Pe,G)|0,_=_+Math.imul(Pe,K)|0,x=x+Math.imul(Ae,W)|0,u=u+Math.imul(Ae,J)|0,u=u+Math.imul(Oe,W)|0,_=_+Math.imul(Oe,J)|0,x=x+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,_=_+Math.imul(ge,ue)|0;var dt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,x=Math.imul(ne,qe),u=Math.imul(ne,Ve),u=u+Math.imul(de,qe)|0,_=Math.imul(de,Ve),x=x+Math.imul(X,je)|0,u=u+Math.imul(X,ze)|0,u=u+Math.imul(Z,je)|0,_=_+Math.imul(Z,ze)|0,x=x+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ke)|0,u=u+Math.imul(Le,Ce)|0,_=_+Math.imul(Le,Ke)|0,x=x+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Be,G)|0,_=_+Math.imul(Be,K)|0,x=x+Math.imul(He,W)|0,u=u+Math.imul(He,J)|0,u=u+Math.imul(Pe,W)|0,_=_+Math.imul(Pe,J)|0,x=x+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Oe,se)|0,_=_+Math.imul(Oe,ue)|0;var ot=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,_=Math.imul(de,ze),x=x+Math.imul(X,Ce)|0,u=u+Math.imul(X,Ke)|0,u=u+Math.imul(Z,Ce)|0,_=_+Math.imul(Z,Ke)|0,x=x+Math.imul(ke,G)|0,u=u+Math.imul(ke,K)|0,u=u+Math.imul(Le,G)|0,_=_+Math.imul(Le,K)|0,x=x+Math.imul(Ue,W)|0,u=u+Math.imul(Ue,J)|0,u=u+Math.imul(Be,W)|0,_=_+Math.imul(Be,J)|0,x=x+Math.imul(He,se)|0,u=u+Math.imul(He,ue)|0,u=u+Math.imul(Pe,se)|0,_=_+Math.imul(Pe,ue)|0;var ft=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,_=Math.imul(de,Ke),x=x+Math.imul(X,G)|0,u=u+Math.imul(X,K)|0,u=u+Math.imul(Z,G)|0,_=_+Math.imul(Z,K)|0,x=x+Math.imul(ke,W)|0,u=u+Math.imul(ke,J)|0,u=u+Math.imul(Le,W)|0,_=_+Math.imul(Le,J)|0,x=x+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Be,se)|0,_=_+Math.imul(Be,ue)|0;var ut=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,_=Math.imul(de,K),x=x+Math.imul(X,W)|0,u=u+Math.imul(X,J)|0,u=u+Math.imul(Z,W)|0,_=_+Math.imul(Z,J)|0,x=x+Math.imul(ke,se)|0,u=u+Math.imul(ke,ue)|0,u=u+Math.imul(Le,se)|0,_=_+Math.imul(Le,ue)|0;var tt=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ne,W),u=Math.imul(ne,J),u=u+Math.imul(de,W)|0,_=Math.imul(de,J),x=x+Math.imul(X,se)|0,u=u+Math.imul(X,ue)|0,u=u+Math.imul(Z,se)|0,_=_+Math.imul(Z,ue)|0;var ve=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,_=Math.imul(de,ue);var _e=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,S[0]=lt,S[1]=rt,S[2]=Bt,S[3]=st,S[4]=vt,S[5]=xt,S[6]=Rt,S[7]=At,S[8]=_t,S[9]=Et,S[10]=wt,S[11]=ct,S[12]=dt,S[13]=ot,S[14]=ft,S[15]=ut,S[16]=tt,S[17]=ve,S[18]=_e,R!==0&&(S[19]=R,y.length++),y},"comb10MulTo");Math.imul||(O=T);function N(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var y=0,v=0,w=0;w<d.length-1;w++){var S=v;v=0;for(var R=y&67108863,x=Math.min(w,c.length-1),u=Math.max(0,w-E.length+1);u<=x;u++){var _=w-u,H=E.words[_]|0,F=c.words[u]|0,L=H*F,$=L&67108863;S=S+(L/67108864|0)|0,$=$+R|0,R=$&67108863,S=S+($>>>26)|0,v+=S>>>26,S&=67108863}d.words[w]=R,y=S,S=v}return y!==0?d.words[w]=y:d.length--,d.strip()}o(N,"bigMulTo");function P(E,c,d){var y=new C;return y.mulp(E,c,d)}o(P,"jumboMulTo"),i.prototype.mulTo=o(function(c,d){var y,v=this.length+c.length;return this.length===10&&c.length===10?y=O(this,c,d):v<63?y=T(this,c,d):v<1024?y=N(this,c,d):y=P(this,c,d),y},"mulTo");function C(E,c){this.x=E,this.y=c}o(C,"FFTM"),C.prototype.makeRBT=o(function(c){for(var d=new Array(c),y=i.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,y,c);return d},"makeRBT"),C.prototype.revBin=o(function(c,d,y){if(c===0||c===y-1)return c;for(var v=0,w=0;w<d;w++)v|=(c&1)<<d-w-1,c>>=1;return v},"revBin"),C.prototype.permute=o(function(c,d,y,v,w,S){for(var R=0;R<S;R++)v[R]=d[c[R]],w[R]=y[c[R]]},"permute"),C.prototype.transform=o(function(c,d,y,v,w,S){this.permute(S,c,d,y,v,w);for(var R=1;R<w;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<w;H+=x)for(var F=u,L=_,$=0;$<R;$++){var Q=y[H+$],re=v[H+$],Me=y[H+$+R],fe=v[H+$+R],le=F*Me-L*fe;fe=F*fe+L*Me,Me=le,y[H+$]=Q+Me,v[H+$]=re+fe,y[H+$+R]=Q-Me,v[H+$+R]=re-fe,$!==x&&(le=u*F-_*L,L=u*L+_*F,F=le)}},"transform"),C.prototype.guessLen13b=o(function(c,d){var y=Math.max(d,c)|1,v=y&1,w=0;for(y=y/2|0;y;y=y>>>1)w++;return 1<<w+1+v},"guessLen13b"),C.prototype.conjugate=o(function(c,d,y){if(!(y<=1))for(var v=0;v<y/2;v++){var w=c[v];c[v]=c[y-v-1],c[y-v-1]=w,w=d[v],d[v]=-d[y-v-1],d[y-v-1]=-w}},"conjugate"),C.prototype.normalize13b=o(function(c,d){for(var y=0,v=0;v<d/2;v++){var w=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+y;c[v]=w&67108863,w<67108864?y=0:y=w/67108864|0}return c},"normalize13b"),C.prototype.convert13b=o(function(c,d,y,v){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),y[2*S]=w&8191,w=w>>>13,y[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<v;++S)y[S]=0;r(w===0),r((w&-8192)===0)},"convert13b"),C.prototype.stub=o(function(c){for(var d=new Array(c),y=0;y<c;y++)d[y]=0;return d},"stub"),C.prototype.mulp=o(function(c,d,y){var v=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(v),S=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),F=new Array(v),L=y.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(d.words,d.length,_,v),this.transform(R,S,x,u,v,w),this.transform(_,S,H,F,v,w);for(var $=0;$<v;$++){var Q=x[$]*H[$]-u[$]*F[$];u[$]=x[$]*F[$]+u[$]*H[$],x[$]=Q}return this.conjugate(x,u,v),this.transform(x,u,L,S,v,w),this.conjugate(L,S,v),this.normalize13b(L,v),y.negative=c.negative^d.negative,y.length=c.length+d.length,y.strip()},"mulp"),i.prototype.mul=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},"mul"),i.prototype.mulf=o(function(c){var d=new i(null);return d.words=new Array(this.length+c.length),P(this,c,d)},"mulf"),i.prototype.imul=o(function(c){return this.clone().mulTo(c,this)},"imul"),i.prototype.imuln=o(function(c){r(typeof c=="number"),r(c<67108864);for(var d=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*c,w=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=w>>>26,this.words[y]=w&67108863}return d!==0&&(this.words[y]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(c){return this.clone().imuln(c)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(c){var d=A(c);if(d.length===0)return new i(1);for(var y=this,v=0;v<d.length&&d[v]===0;v++,y=y.sqr());if(++v<d.length)for(var w=y.sqr();v<d.length;v++,w=w.sqr())d[v]!==0&&(y=y.mul(w));return y},"pow"),i.prototype.iushln=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&v,x=(this.words[w]|0)-R<<d;this.words[w]=x|S,S=R>>>26-d}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this.strip()},"iushln"),i.prototype.ishln=o(function(c){return r(this.negative===0),this.iushln(c)},"ishln"),i.prototype.iushrn=o(function(c,d,y){r(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var w=c%26,S=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,x=y;if(v-=S,v=Math.max(0,v),x){for(var u=0;u<S;u++)x.words[u]=this.words[u];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-w|H>>>w,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(c,d,y){return r(this.negative===0),this.iushrn(c,d,y)},"ishrn"),i.prototype.shln=o(function(c){return this.clone().ishln(c)},"shln"),i.prototype.ushln=o(function(c){return this.clone().iushln(c)},"ushln"),i.prototype.shrn=o(function(c){return this.clone().ishrn(c)},"shrn"),i.prototype.ushrn=o(function(c){return this.clone().iushrn(c)},"ushrn"),i.prototype.testn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return!1;var w=this.words[y];return!!(w&v)},"testn"),i.prototype.imaskn=o(function(c){r(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},"imaskn"),i.prototype.maskn=o(function(c){return this.clone().imaskn(c)},"maskn"),i.prototype.iaddn=o(function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},"iaddn"),i.prototype._iaddn=o(function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(c){return this.clone().iaddn(c)},"addn"),i.prototype.subn=o(function(c){return this.clone().isubn(c)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(c,d,y){var v=c.length+y,w;this._expand(v);var S,R=0;for(w=0;w<c.length;w++){S=(this.words[w+y]|0)+R;var x=(c.words[w]|0)*d;S-=x&67108863,R=(S>>26)-(x/67108864|0),this.words[w+y]=S&67108863}for(;w<this.length-y;w++)S=(this.words[w+y]|0)+R,R=S>>26,this.words[w+y]=S&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+R,R=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(c,d){var y=this.length-c.length,v=this.clone(),w=c,S=w.words[w.length-1]|0,R=this._countBits(S);y=26-R,y!==0&&(w=w.ushln(y),v.iushln(y),S=w.words[w.length-1]|0);var x=v.length-w.length,u;if(d!=="mod"){u=new i(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(w,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var F=x-1;F>=0;F--){var L=(v.words[w.length+F]|0)*67108864+(v.words[w.length+F-1]|0);for(L=Math.min(L/S|0,67108863),v._ishlnsubmul(w,L,F);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(w,1,F),v.isZero()||(v.negative^=1);u&&(u.words[F]=L)}return u&&u.strip(),v.strip(),d!=="div"&&y!==0&&v.iushrn(y),{div:u||null,mod:v}},"_wordDiv"),i.prototype.divmod=o(function(c,d,y){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(v=S.div.neg()),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.iadd(c)),{div:v,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),y&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,d)},"divmod"),i.prototype.div=o(function(c){return this.divmod(c,"div",!1).div},"div"),i.prototype.mod=o(function(c){return this.divmod(c,"mod",!1).mod},"mod"),i.prototype.umod=o(function(c){return this.divmod(c,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),w=c.andln(1),S=y.cmp(v);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(c){r(c<=67108863);for(var d=(1<<26)%c,y=0,v=this.length-1;v>=0;v--)y=(d*y+(this.words[v]|0))%c;return y},"modn"),i.prototype.idivn=o(function(c){r(c<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+d*67108864;this.words[y]=v/c|0,d=v%c}return this.strip()},"idivn"),i.prototype.divn=o(function(c){return this.clone().idivn(c)},"divn"),i.prototype.egcd=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=new i(0),R=new i(1),x=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++x;for(var u=y.clone(),_=d.clone();!d.isZero();){for(var H=0,F=1;!(d.words[0]&F)&&H<26;++H,F<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(u),w.isub(_)),v.iushrn(1),w.iushrn(1);for(var L=0,$=1;!(y.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(u),R.isub(_)),S.iushrn(1),R.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(S),w.isub(R)):(y.isub(d),S.isub(v),R.isub(w))}return{a:S,b:R,gcd:y.iushln(x)}},"egcd"),i.prototype._invmp=o(function(c){r(c.negative===0),r(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new i(1),w=new i(0),S=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var u=0,_=1;!(y.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(y.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(y)>=0?(d.isub(y),v.isub(w)):(y.isub(d),w.isub(v))}var H;return d.cmpn(1)===0?H=v:H=w,H.cmpn(0)<0&&H.iadd(c),H},"_invmp"),i.prototype.gcd=o(function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var v=0;d.isEven()&&y.isEven();v++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=d.cmp(y);if(w<0){var S=d;d=y,y=S}else if(w===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(v)},"gcd"),i.prototype.invm=o(function(c){return this.egcd(c).a.umod(c)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(c){return this.words[0]&c},"andln"),i.prototype.bincn=o(function(c){r(typeof c=="number");var d=c%26,y=(c-d)/26,v=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var w=v,S=y;w!==0&&S<this.length;S++){var R=this.words[S]|0;R+=w,w=R>>>26,R&=67108863,this.words[S]=R}return w!==0&&(this.words[S]=w,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var y;if(this.length>1)y=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var v=this.words[0]|0;y=v===c?0:v<c?-1:1}return this.negative!==0?-y|0:y},"cmpn"),i.prototype.cmp=o(function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,w=c.words[y]|0;if(v!==w){v<w?d=-1:v>w&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(c){return this.cmpn(c)===1},"gtn"),i.prototype.gt=o(function(c){return this.cmp(c)===1},"gt"),i.prototype.gten=o(function(c){return this.cmpn(c)>=0},"gten"),i.prototype.gte=o(function(c){return this.cmp(c)>=0},"gte"),i.prototype.ltn=o(function(c){return this.cmpn(c)===-1},"ltn"),i.prototype.lt=o(function(c){return this.cmp(c)===-1},"lt"),i.prototype.lten=o(function(c){return this.cmpn(c)<=0},"lten"),i.prototype.lte=o(function(c){return this.cmp(c)<=0},"lte"),i.prototype.eqn=o(function(c){return this.cmpn(c)===0},"eqn"),i.prototype.eq=o(function(c){return this.cmp(c)===0},"eq"),i.red=o(function(c){return new Y(c)},"red"),i.prototype.toRed=o(function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(c){return this.red=c,this},"_forceRed"),i.prototype.forceRed=o(function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},"forceRed"),i.prototype.redAdd=o(function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},"redAdd"),i.prototype.redIAdd=o(function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},"redIAdd"),i.prototype.redSub=o(function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},"redSub"),i.prototype.redISub=o(function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},"redISub"),i.prototype.redShl=o(function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},"redShl"),i.prototype.redMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},"redMul"),i.prototype.redIMul=o(function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)},"redPow");var D={k256:null,p224:null,p192:null,p25519:null};function M(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},"_tmp"),M.prototype.ireduce=o(function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var v=y<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(c,d){c.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(c){return c.imul(this.k)},"imulK");function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,"K256"),n(U,M),U.prototype.split=o(function(c,d){for(var y=4194303,v=Math.min(c.length,9),w=0;w<v;w++)d.words[w]=c.words[w];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&y,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&y)<<4|S>>>22,S=R}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},"split"),U.prototype.imulK=o(function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var v=c.words[y]|0;d+=v*977,c.words[y]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c},"imulK");function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,"P224"),n(V,M);function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(j,"P192"),n(j,M);function ee(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ee,"P25519"),n(ee,M),ee.prototype.imulK=o(function(c){for(var d=0,y=0;y<c.length;y++){var v=(c.words[y]|0)*19+d,w=v&67108863;v>>>=26,c.words[y]=w,d=v}return d!==0&&(c.words[c.length++]=d),c},"imulK"),i._prime=o(function(c){if(D[c])return D[c];var d;if(c==="k256")d=new U;else if(c==="p224")d=new V;else if(c==="p192")d=new j;else if(c==="p25519")d=new ee;else throw new Error("Unknown prime "+c);return D[c]=d,d},"prime");function Y(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(Y,"Red"),Y.prototype._verify1=o(function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},"_verify1"),Y.prototype._verify2=o(function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},"_verify2"),Y.prototype.imod=o(function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},"imod"),Y.prototype.neg=o(function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},"neg"),Y.prototype.add=o(function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},"add"),Y.prototype.iadd=o(function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},"iadd"),Y.prototype.sub=o(function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},"sub"),Y.prototype.isub=o(function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},"isub"),Y.prototype.shl=o(function(c,d){return this._verify1(c),this.imod(c.ushln(d))},"shl"),Y.prototype.imul=o(function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},"imul"),Y.prototype.mul=o(function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},"mul"),Y.prototype.isqr=o(function(c){return this.imul(c,c.clone())},"isqr"),Y.prototype.sqr=o(function(c){return this.mul(c,c)},"sqr"),Y.prototype.sqrt=o(function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(c,y)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);r(!v.isZero());var S=new i(1).toRed(this),R=S.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),F=this.pow(c,v),L=w;F.cmp(S)!==0;){for(var $=F,Q=0;$.cmp(S)!==0;Q++)$=$.redSqr();r(Q<L);var re=this.pow(_,new i(1).iushln(L-Q-1));H=H.redMul(re),_=re.redSqr(),F=F.redMul(_),L=Q}return H},"sqrt"),Y.prototype.invm=o(function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),Y.prototype.pow=o(function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,v=new Array(1<<y);v[0]=new i(1).toRed(this),v[1]=c;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],c);var S=v[0],R=0,x=0,u=d.bitLength()%26;for(u===0&&(u=26),w=d.length-1;w>=0;w--){for(var _=d.words[w],H=u-1;H>=0;H--){var F=_>>H&1;if(S!==v[0]&&(S=this.sqr(S)),F===0&&R===0){x=0;continue}R<<=1,R|=F,x++,!(x!==y&&(w!==0||H!==0))&&(S=this.mul(S,v[R]),x=0,R=0)}u=26}return S},"pow"),Y.prototype.convertTo=o(function(c){var d=c.umod(this.m);return d===c?d.clone():d},"convertTo"),Y.prototype.convertFrom=o(function(c){var d=c.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(c){return new te(c)},"mont");function te(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,"Mont"),n(te,Y),te.prototype.convertTo=o(function(c){return this.imod(c.ushln(this.shift))},"convertTo"),te.prototype.convertFrom=o(function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},"convertFrom"),te.prototype.imul=o(function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"imul"),te.prototype.mul=o(function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var y=c.mul(d),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(v).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},"mul"),te.prototype.invm=o(function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof CD>"u"||CD,h0e)});var PD=q((nDt,m0e)=>{p();m();var p0e=T5(),_$e=or().Buffer;function w$e(t,e){return _$e.from(t.toRed(p0e.mont(e.modulus)).redPow(new p0e(e.publicExponent)).fromRed().toArray())}o(w$e,"withPublic");m0e.exports=w$e});var v0e=q((aDt,b0e)=>{p();m();var E$e=yw(),kD=jm(),S$e=ng(),g0e=ND(),y0e=MD(),BD=T5(),A$e=PD(),R$e=J8(),Au=or().Buffer;b0e.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=E$e(e),a;if(i===4)a=T$e(s,r);else if(i===1)a=I$e(s,r,n);else if(i===3){if(a=new BD(r),a.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?R$e(a,s):A$e(a,s)},"publicEncrypt");function T$e(t,e){var r=t.modulus.byteLength(),n=e.length,i=S$e("sha1").update(Au.alloc(0)).digest(),s=i.length,a=2*s;if(n>r-a-2)throw new Error("message too long");var f=Au.alloc(r-n-a-2),l=r-s-1,h=kD(s),g=y0e(Au.concat([i,f,Au.alloc(1,1),e],l),g0e(h,l)),b=y0e(h,g0e(g,s));return new BD(Au.concat([Au.alloc(1),b,g],r))}o(T$e,"oaep");function I$e(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=Au.alloc(i-n-3,255):s=O$e(i-n-3),new BD(Au.concat([Au.from([0,r?1:2]),s,Au.alloc(1),e],i))}o(I$e,"pkcs1");function O$e(t){for(var e=Au.allocUnsafe(t),r=0,n=kD(t*2),i=0,s;r<t;)i===n.length&&(n=kD(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}o(O$e,"nonZero")});var S0e=q((lDt,E0e)=>{p();m();var N$e=yw(),x0e=ND(),_0e=MD(),w0e=T5(),M$e=J8(),C$e=ng(),P$e=PD(),_w=or().Buffer;E0e.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=N$e(e),a=s.modulus.byteLength();if(r.length>a||new w0e(r).cmp(s.modulus)>=0)throw new Error("decryption error");var f;n?f=P$e(new w0e(r),s):f=M$e(r,s);var l=_w.alloc(a-f.length);if(f=_w.concat([l,f],a),i===4)return k$e(s,f);if(i===1)return B$e(s,f,n);if(i===3)return f;throw new Error("unknown padding")},"privateDecrypt");function k$e(t,e){var r=t.modulus.byteLength(),n=C$e("sha1").update(_w.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),a=e.slice(i+1),f=_0e(s,x0e(a,i)),l=_0e(a,x0e(f,r-i-1));if(L$e(n,l.slice(0,i)))throw new Error("decryption error");for(var h=i;l[h]===0;)h++;if(l[h++]!==1)throw new Error("decryption error");return l.slice(h)}o(k$e,"oaep");function B$e(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var a=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}o(B$e,"pkcs1");function L$e(t,e){t=_w.from(t),e=_w.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}o(L$e,"compare")});var A0e=q(Ig=>{p();m();Ig.publicEncrypt=v0e();Ig.privateDecrypt=S0e();Ig.privateEncrypt=o(function(e,r){return Ig.publicEncrypt(e,r,!0)},"privateEncrypt");Ig.publicDecrypt=o(function(e,r){return Ig.privateDecrypt(e,r,!0)},"publicDecrypt")});var B0e=q(ww=>{"use strict";p();m();function R0e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}o(R0e,"oldBrowser");var I0e=or(),T0e=jm(),O0e=I0e.Buffer,N0e=I0e.kMaxLength,LD=self.crypto||self.msCrypto,M0e=Math.pow(2,32)-1;function C0e(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>M0e||t<0)throw new TypeError("offset must be a uint32");if(t>N0e||t>e)throw new RangeError("offset out of range")}o(C0e,"assertOffset");function P0e(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>M0e||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>N0e)throw new RangeError("buffer too small")}o(P0e,"assertSize");LD&&LD.getRandomValues?(ww.randomFill=D$e,ww.randomFillSync=U$e):(ww.randomFill=R0e,ww.randomFillSync=R0e);function D$e(t,e,r,n){if(!O0e.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return C0e(e,t.length),P0e(r,e,t.length),k0e(t,e,r,n)}o(D$e,"randomFill");function k0e(t,e,r,n){var i=t.buffer,s=new Uint8Array(i,e,r);if(LD.getRandomValues(s),n){process.nextTick(function(){n(null,t)});return}return t;var a}o(k0e,"actualFill");function U$e(t,e,r){if(typeof e>"u"&&(e=0),!O0e.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return C0e(e,t.length),r===void 0&&(r=t.length-e),P0e(r,e,t.length),k0e(t,e,r)}o(U$e,"randomFillSync")});var pb=q(gr=>{"use strict";p();m();gr.randomBytes=gr.rng=gr.pseudoRandomBytes=gr.prng=jm();gr.createHash=gr.Hash=ng();gr.createHmac=gr.Hmac=MB();var F$e=qce(),q$e=Object.keys(F$e),H$e=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(q$e);gr.getHashes=function(){return H$e};var L0e=w8();gr.pbkdf2=L0e.pbkdf2;gr.pbkdf2Sync=L0e.pbkdf2Sync;var Cl=_ue();gr.Cipher=Cl.Cipher;gr.createCipher=Cl.createCipher;gr.Cipheriv=Cl.Cipheriv;gr.createCipheriv=Cl.createCipheriv;gr.Decipher=Cl.Decipher;gr.createDecipher=Cl.createDecipher;gr.Decipheriv=Cl.Decipheriv;gr.createDecipheriv=Cl.createDecipheriv;gr.getCiphers=Cl.getCiphers;gr.listCiphers=Cl.listCiphers;var Ew=Lue();gr.DiffieHellmanGroup=Ew.DiffieHellmanGroup;gr.createDiffieHellmanGroup=Ew.createDiffieHellmanGroup;gr.getDiffieHellman=Ew.getDiffieHellman;gr.createDiffieHellman=Ew.createDiffieHellman;gr.DiffieHellman=Ew.DiffieHellman;var I5=s0e();gr.createSign=I5.createSign;gr.Sign=I5.Sign;gr.createVerify=I5.createVerify;gr.Verify=I5.Verify;gr.createECDH=u0e();var O5=A0e();gr.publicEncrypt=O5.publicEncrypt;gr.privateEncrypt=O5.privateEncrypt;gr.publicDecrypt=O5.publicDecrypt;gr.privateDecrypt=O5.privateDecrypt;var D0e=B0e();gr.randomFill=D0e.randomFill;gr.randomFillSync=D0e.randomFillSync;gr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};gr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var dU=q(Kw=>{"use strict";p();m();Object.defineProperty(Kw,"__esModule",{value:!0});Kw.SupportedAlgorithm=void 0;var bXe;(function(t){t.sha256="sha256",t.sha512="sha512"})(bXe=Kw.SupportedAlgorithm||(Kw.SupportedAlgorithm={}))});var ume=q(uR=>{"use strict";p();m();Object.defineProperty(uR,"__esModule",{value:!0});uR.version=void 0;uR.version="sha2/5.7.0"});var dme=q(Ef=>{"use strict";p();m();var vXe=Ef&&Ef.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.computeHmac=Ef.sha512=Ef.sha256=Ef.ripemd160=void 0;var Gw=vXe(Nb()),$w=Xo(),xXe=dU(),lme=aa(),_Xe=ume(),wXe=new lme.Logger(_Xe.version);function EXe(t){return"0x"+Gw.default.ripemd160().update((0,$w.arrayify)(t)).digest("hex")}o(EXe,"ripemd160");Ef.ripemd160=EXe;function SXe(t){return"0x"+Gw.default.sha256().update((0,$w.arrayify)(t)).digest("hex")}o(SXe,"sha256");Ef.sha256=SXe;function AXe(t){return"0x"+Gw.default.sha512().update((0,$w.arrayify)(t)).digest("hex")}o(AXe,"sha512");Ef.sha512=AXe;function RXe(t,e,r){return xXe.SupportedAlgorithm[t]||wXe.throwError("unsupported algorithm "+t,lme.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Gw.default.hmac(Gw.default[t],(0,$w.arrayify)(e)).update((0,$w.arrayify)(r)).digest("hex")}o(RXe,"computeHmac");Ef.computeHmac=RXe});var hU=q(Sf=>{"use strict";p();m();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.SupportedAlgorithm=Sf.sha512=Sf.sha256=Sf.ripemd160=Sf.computeHmac=void 0;var lR=dme();Object.defineProperty(Sf,"computeHmac",{enumerable:!0,get:o(function(){return lR.computeHmac},"get")});Object.defineProperty(Sf,"ripemd160",{enumerable:!0,get:o(function(){return lR.ripemd160},"get")});Object.defineProperty(Sf,"sha256",{enumerable:!0,get:o(function(){return lR.sha256},"get")});Object.defineProperty(Sf,"sha512",{enumerable:!0,get:o(function(){return lR.sha512},"get")});var TXe=dU();Object.defineProperty(Sf,"SupportedAlgorithm",{enumerable:!0,get:o(function(){return TXe.SupportedAlgorithm},"get")})});var LU=q((BU,Dme)=>{"use strict";p();m();(function(t){function e(u){return parseInt(u)===u}o(e,"checkInt");function r(u){if(!e(u.length))return!1;for(var _=0;_<u.length;_++)if(!e(u[_])||u[_]<0||u[_]>255)return!1;return!0}o(r,"checkInts");function n(u,_){if(u.buffer&&ArrayBuffer.isView(u)&&u.name==="Uint8Array")return _&&(u.slice?u=u.slice():u=Array.prototype.slice.call(u)),u;if(Array.isArray(u)){if(!r(u))throw new Error("Array contains invalid value: "+u);return new Uint8Array(u)}if(e(u.length)&&r(u))return new Uint8Array(u);throw new Error("unsupported array-like object")}o(n,"coerceArray");function i(u){return new Uint8Array(u)}o(i,"createArray");function s(u,_,H,F,L){(F!=null||L!=null)&&(u.slice?u=u.slice(F,L):u=Array.prototype.slice.call(u,F,L)),_.set(u,H)}o(s,"copyArray");var a=function(){function u(H){var F=[],L=0;for(H=encodeURI(H);L<H.length;){var $=H.charCodeAt(L++);$===37?(F.push(parseInt(H.substr(L,2),16)),L+=2):F.push($)}return n(F)}o(u,"toBytes");function _(H){for(var F=[],L=0;L<H.length;){var $=H[L];$<128?(F.push(String.fromCharCode($)),L++):$>191&&$<224?(F.push(String.fromCharCode(($&31)<<6|H[L+1]&63)),L+=2):(F.push(String.fromCharCode(($&15)<<12|(H[L+1]&63)<<6|H[L+2]&63)),L+=3)}return F.join("")}return o(_,"fromBytes"),{toBytes:u,fromBytes:_}}(),f=function(){function u(F){for(var L=[],$=0;$<F.length;$+=2)L.push(parseInt(F.substr($,2),16));return L}o(u,"toBytes");var _="0123456789abcdef";function H(F){for(var L=[],$=0;$<F.length;$++){var Q=F[$];L.push(_[(Q&240)>>4]+_[Q&15])}return L.join("")}return o(H,"fromBytes"),{toBytes:u,fromBytes:H}}(),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],b=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],A=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],O=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],N=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],P=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],M=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],j=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ee=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Y(u){for(var _=[],H=0;H<u.length;H+=4)_.push(u[H]<<24|u[H+1]<<16|u[H+2]<<8|u[H+3]);return _}o(Y,"convertToInt32");var te=o(function(u){if(!(this instanceof te))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(u,!0)}),this._prepare()},"AES");te.prototype._prepare=function(){var u=l[this.key.length];if(u==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var _=0;_<=u;_++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var H=(u+1)*4,F=this.key.length/4,L=Y(this.key),$,_=0;_<F;_++)$=_>>2,this._Ke[$][_%4]=L[_],this._Kd[u-$][_%4]=L[_];for(var Q=0,re=F,Me;re<H;){if(Me=L[F-1],L[0]^=g[Me>>16&255]<<24^g[Me>>8&255]<<16^g[Me&255]<<8^g[Me>>24&255]^h[Q]<<24,Q+=1,F!=8)for(var _=1;_<F;_++)L[_]^=L[_-1];else{for(var _=1;_<F/2;_++)L[_]^=L[_-1];Me=L[F/2-1],L[F/2]^=g[Me&255]^g[Me>>8&255]<<8^g[Me>>16&255]<<16^g[Me>>24&255]<<24;for(var _=F/2+1;_<F;_++)L[_]^=L[_-1]}for(var _=0,fe,le;_<F&&re<H;)fe=re>>2,le=re%4,this._Ke[fe][le]=L[_],this._Kd[u-fe][le]=L[_++],re++}for(var fe=1;fe<u;fe++)for(var le=0;le<4;le++)Me=this._Kd[fe][le],this._Kd[fe][le]=U[Me>>24&255]^V[Me>>16&255]^j[Me>>8&255]^ee[Me&255]},te.prototype.encrypt=function(u){if(u.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var _=this._Ke.length-1,H=[0,0,0,0],F=Y(u),L=0;L<4;L++)F[L]^=this._Ke[0][L];for(var $=1;$<_;$++){for(var L=0;L<4;L++)H[L]=A[F[L]>>24&255]^T[F[(L+1)%4]>>16&255]^O[F[(L+2)%4]>>8&255]^N[F[(L+3)%4]&255]^this._Ke[$][L];F=H.slice()}for(var Q=i(16),re,L=0;L<4;L++)re=this._Ke[_][L],Q[4*L]=(g[F[L]>>24&255]^re>>24)&255,Q[4*L+1]=(g[F[(L+1)%4]>>16&255]^re>>16)&255,Q[4*L+2]=(g[F[(L+2)%4]>>8&255]^re>>8)&255,Q[4*L+3]=(g[F[(L+3)%4]&255]^re)&255;return Q},te.prototype.decrypt=function(u){if(u.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var _=this._Kd.length-1,H=[0,0,0,0],F=Y(u),L=0;L<4;L++)F[L]^=this._Kd[0][L];for(var $=1;$<_;$++){for(var L=0;L<4;L++)H[L]=P[F[L]>>24&255]^C[F[(L+3)%4]>>16&255]^D[F[(L+2)%4]>>8&255]^M[F[(L+1)%4]&255]^this._Kd[$][L];F=H.slice()}for(var Q=i(16),re,L=0;L<4;L++)re=this._Kd[_][L],Q[4*L]=(b[F[L]>>24&255]^re>>24)&255,Q[4*L+1]=(b[F[(L+3)%4]>>16&255]^re>>16)&255,Q[4*L+2]=(b[F[(L+2)%4]>>8&255]^re>>8)&255,Q[4*L+3]=(b[F[(L+1)%4]&255]^re)&255;return Q};var E=o(function(u){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new te(u)},"ModeOfOperationECB");E.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=i(u.length),H=i(16),F=0;F<u.length;F+=16)s(u,H,0,F,F+16),H=this._aes.encrypt(H),s(H,_,F);return _},E.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=i(u.length),H=i(16),F=0;F<u.length;F+=16)s(u,H,0,F,F+16),H=this._aes.decrypt(H),s(H,_,F);return _};var c=o(function(u,_){if(!(this instanceof c))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!_)_=i(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(_,!0),this._aes=new te(u)},"ModeOfOperationCBC");c.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=i(u.length),H=i(16),F=0;F<u.length;F+=16){s(u,H,0,F,F+16);for(var L=0;L<16;L++)H[L]^=this._lastCipherblock[L];this._lastCipherblock=this._aes.encrypt(H),s(this._lastCipherblock,_,F)}return _},c.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=i(u.length),H=i(16),F=0;F<u.length;F+=16){s(u,H,0,F,F+16),H=this._aes.decrypt(H);for(var L=0;L<16;L++)_[F+L]=H[L]^this._lastCipherblock[L];s(u,this._lastCipherblock,0,F,F+16)}return _};var d=o(function(u,_,H){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!_)_=i(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");H||(H=1),this.segmentSize=H,this._shiftRegister=n(_,!0),this._aes=new te(u)},"ModeOfOperationCFB");d.prototype.encrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var _=n(u,!0),H,F=0;F<_.length;F+=this.segmentSize){H=this._aes.encrypt(this._shiftRegister);for(var L=0;L<this.segmentSize;L++)_[F+L]^=H[L];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(_,this._shiftRegister,16-this.segmentSize,F,F+this.segmentSize)}return _},d.prototype.decrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var _=n(u,!0),H,F=0;F<_.length;F+=this.segmentSize){H=this._aes.encrypt(this._shiftRegister);for(var L=0;L<this.segmentSize;L++)_[F+L]^=H[L];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(u,this._shiftRegister,16-this.segmentSize,F,F+this.segmentSize)}return _};var y=o(function(u,_){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!_)_=i(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(_,!0),this._lastPrecipherIndex=16,this._aes=new te(u)},"ModeOfOperationOFB");y.prototype.encrypt=function(u){for(var _=n(u,!0),H=0;H<_.length;H++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),_[H]^=this._lastPrecipher[this._lastPrecipherIndex++];return _},y.prototype.decrypt=y.prototype.encrypt;var v=o(function(u){if(!(this instanceof v))throw Error("Counter must be instanitated with `new`");u!==0&&!u&&(u=1),typeof u=="number"?(this._counter=i(16),this.setValue(u)):this.setBytes(u)},"Counter");v.prototype.setValue=function(u){if(typeof u!="number"||parseInt(u)!=u)throw new Error("invalid counter value (must be an integer)");for(var _=15;_>=0;--_)this._counter[_]=u%256,u=u>>8},v.prototype.setBytes=function(u){if(u=n(u,!0),u.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=u},v.prototype.increment=function(){for(var u=15;u>=0;u--)if(this._counter[u]===255)this._counter[u]=0;else{this._counter[u]++;break}};var w=o(function(u,_){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",_ instanceof v||(_=new v(_)),this._counter=_,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new te(u)},"ModeOfOperationCTR");w.prototype.encrypt=function(u){for(var _=n(u,!0),H=0;H<_.length;H++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),_[H]^=this._remainingCounter[this._remainingCounterIndex++];return _},w.prototype.decrypt=w.prototype.encrypt;function S(u){u=n(u,!0);var _=16-u.length%16,H=i(u.length+_);s(u,H);for(var F=u.length;F<H.length;F++)H[F]=_;return H}o(S,"pkcs7pad");function R(u){if(u=n(u,!0),u.length<16)throw new Error("PKCS#7 invalid length");var _=u[u.length-1];if(_>16)throw new Error("PKCS#7 padding byte out of range");for(var H=u.length-_,F=0;F<_;F++)if(u[H+F]!==_)throw new Error("PKCS#7 invalid padding byte");var L=i(H);return s(u,L,0,0,H),L}o(R,"pkcs7strip");var x={AES:te,Counter:v,ModeOfOperation:{ecb:E,cbc:c,cfb:d,ofb:y,ctr:w},utils:{hex:f,utf8:a},padding:{pkcs7:{pad:S,strip:R}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof BU<"u"?Dme.exports=x:typeof define=="function"&&define.amd?define(x):(t.aesjs&&(x._aesjs=t.aesjs),t.aesjs=x)})(BU)});var Hme=q((jU,qme)=>{"use strict";p();m();(function(t){function r(T){let O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),N=1779033703,P=3144134277,C=1013904242,D=2773480762,M=1359893119,U=2600822924,V=528734635,j=1541459225,ee=new Uint32Array(64);function Y(w){let S=0,R=w.length;for(;R>=64;){let x=N,u=P,_=C,H=D,F=M,L=U,$=V,Q=j,re,Me,fe,le,xe;for(Me=0;Me<16;Me++)fe=S+Me*4,ee[Me]=(w[fe]&255)<<24|(w[fe+1]&255)<<16|(w[fe+2]&255)<<8|w[fe+3]&255;for(Me=16;Me<64;Me++)re=ee[Me-2],le=(re>>>17|re<<15)^(re>>>19|re<<13)^re>>>10,re=ee[Me-15],xe=(re>>>7|re<<25)^(re>>>18|re<<14)^re>>>3,ee[Me]=(le+ee[Me-7]|0)+(xe+ee[Me-16]|0)|0;for(Me=0;Me<64;Me++)le=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&L^~F&$)|0)+(Q+(O[Me]+ee[Me]|0)|0)|0,xe=((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+(x&u^x&_^u&_)|0,Q=$,$=L,L=F,F=H+le|0,H=_,_=u,u=x,x=le+xe|0;N=N+x|0,P=P+u|0,C=C+_|0,D=D+H|0,M=M+F|0,U=U+L|0,V=V+$|0,j=j+Q|0,S+=64,R-=64}}o(Y,"blocks"),Y(T);let te,E=T.length%64,c=T.length/536870912|0,d=T.length<<3,y=E<56?56:120,v=T.slice(T.length-E,T.length);for(v.push(128),te=E+1;te<y;te++)v.push(0);return v.push(c>>>24&255),v.push(c>>>16&255),v.push(c>>>8&255),v.push(c>>>0&255),v.push(d>>>24&255),v.push(d>>>16&255),v.push(d>>>8&255),v.push(d>>>0&255),Y(v),[N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255]}o(r,"SHA256");function n(T,O,N){T=T.length<=64?T:r(T);let P=64+O.length+4,C=new Array(P),D=new Array(64),M,U=[];for(M=0;M<64;M++)C[M]=54;for(M=0;M<T.length;M++)C[M]^=T[M];for(M=0;M<O.length;M++)C[64+M]=O[M];for(M=P-4;M<P;M++)C[M]=0;for(M=0;M<64;M++)D[M]=92;for(M=0;M<T.length;M++)D[M]^=T[M];function V(){for(let j=P-1;j>=P-4;j--){if(C[j]++,C[j]<=255)return;C[j]=0}}for(o(V,"incrementCounter");N>=32;)V(),U=U.concat(r(D.concat(r(C)))),N-=32;return N>0&&(V(),U=U.concat(r(D.concat(r(C))).slice(0,N))),U}o(n,"PBKDF2_HMAC_SHA256_OneIter");function i(T,O,N,P,C){let D;for(l(T,(2*N-1)*16,C,0,16),D=0;D<2*N;D++)f(T,D*16,C,16),a(C,P),l(C,0,T,O+D*16,16);for(D=0;D<N;D++)l(T,O+D*2*16,T,D*16,16);for(D=0;D<N;D++)l(T,O+(D*2+1)*16,T,(D+N)*16,16)}o(i,"blockmix_salsa8");function s(T,O){return T<<O|T>>>32-O}o(s,"R");function a(T,O){l(T,0,O,0,16);for(let N=8;N>0;N-=2)O[4]^=s(O[0]+O[12],7),O[8]^=s(O[4]+O[0],9),O[12]^=s(O[8]+O[4],13),O[0]^=s(O[12]+O[8],18),O[9]^=s(O[5]+O[1],7),O[13]^=s(O[9]+O[5],9),O[1]^=s(O[13]+O[9],13),O[5]^=s(O[1]+O[13],18),O[14]^=s(O[10]+O[6],7),O[2]^=s(O[14]+O[10],9),O[6]^=s(O[2]+O[14],13),O[10]^=s(O[6]+O[2],18),O[3]^=s(O[15]+O[11],7),O[7]^=s(O[3]+O[15],9),O[11]^=s(O[7]+O[3],13),O[15]^=s(O[11]+O[7],18),O[1]^=s(O[0]+O[3],7),O[2]^=s(O[1]+O[0],9),O[3]^=s(O[2]+O[1],13),O[0]^=s(O[3]+O[2],18),O[6]^=s(O[5]+O[4],7),O[7]^=s(O[6]+O[5],9),O[4]^=s(O[7]+O[6],13),O[5]^=s(O[4]+O[7],18),O[11]^=s(O[10]+O[9],7),O[8]^=s(O[11]+O[10],9),O[9]^=s(O[8]+O[11],13),O[10]^=s(O[9]+O[8],18),O[12]^=s(O[15]+O[14],7),O[13]^=s(O[12]+O[15],9),O[14]^=s(O[13]+O[12],13),O[15]^=s(O[14]+O[13],18);for(let N=0;N<16;++N)T[N]+=O[N]}o(a,"salsa20_8");function f(T,O,N,P){for(let C=0;C<P;C++)N[C]^=T[O+C]}o(f,"blockxor");function l(T,O,N,P,C){for(;C--;)N[P++]=T[O++]}o(l,"arraycopy");function h(T){if(!T||typeof T.length!="number")return!1;for(let O=0;O<T.length;O++){let N=T[O];if(typeof N!="number"||N%1||N<0||N>=256)return!1}return!0}o(h,"checkBufferish");function g(T,O){if(typeof T!="number"||T%1)throw new Error("invalid "+O);return T}o(g,"ensureInteger");function b(T,O,N,P,C,D,M){if(N=g(N,"N"),P=g(P,"r"),C=g(C,"p"),D=g(D,"dkLen"),N===0||N&N-1)throw new Error("N must be power of 2");if(N>2147483647/128/P)throw new Error("N too large");if(P>2147483647/128/C)throw new Error("r too large");if(!h(T))throw new Error("password must be an array or buffer");if(T=Array.prototype.slice.call(T),!h(O))throw new Error("salt must be an array or buffer");O=Array.prototype.slice.call(O);let U=n(T,O,C*128*P),V=new Uint32Array(C*32*P);for(let F=0;F<V.length;F++){let L=F*4;V[F]=(U[L+3]&255)<<24|(U[L+2]&255)<<16|(U[L+1]&255)<<8|(U[L+0]&255)<<0}let j=new Uint32Array(64*P),ee=new Uint32Array(32*P*N),Y=32*P,te=new Uint32Array(16),E=new Uint32Array(16),c=C*N*2,d=0,y=null,v=!1,w=0,S=0,R,x,u=M?parseInt(1e3/P):4294967295,_=typeof setImmediate<"u"?setImmediate:setTimeout,H=o(function(){if(v)return M(new Error("cancelled"),d/c);let F;switch(w){case 0:x=S*32*P,l(V,x,j,0,Y),w=1,R=0;case 1:F=N-R,F>u&&(F=u);for(let $=0;$<F;$++)l(j,0,ee,(R+$)*Y,Y),i(j,Y,P,te,E);if(R+=F,d+=F,M){let $=parseInt(1e3*d/c);if($!==y){if(v=M(null,d/c),v)break;y=$}}if(R<N)break;R=0,w=2;case 2:F=N-R,F>u&&(F=u);for(let $=0;$<F;$++){let Q=(2*P-1)*16,re=j[Q]&N-1;f(ee,re*Y,j,Y),i(j,Y,P,te,E)}if(R+=F,d+=F,M){let $=parseInt(1e3*d/c);if($!==y){if(v=M(null,d/c),v)break;y=$}}if(R<N)break;if(l(j,0,V,x,Y),S++,S<C){w=0;break}U=[];for(let $=0;$<V.length;$++)U.push(V[$]>>0&255),U.push(V[$]>>8&255),U.push(V[$]>>16&255),U.push(V[$]>>24&255);let L=n(T,U,D);return M&&M(null,1,L),L}M&&_(H)},"incrementalSMix");if(!M)for(;;){let F=H();if(F!=null)return F}H()}o(b,"_scrypt");let A={scrypt:o(function(T,O,N,P,C,D,M){return new Promise(function(U,V){let j=0;M&&M(0),b(T,O,N,P,C,D,function(ee,Y,te){if(ee)V(ee);else if(te)M&&j!==1&&M(1),U(new Uint8Array(te));else if(M&&Y!==j)return j=Y,M(Y)})})},"scrypt"),syncScrypt:o(function(T,O,N,P,C,D){return new Uint8Array(b(T,O,N,P,C,D))},"syncScrypt")};typeof jU<"u"?qme.exports=A:typeof define=="function"&&define.amd?define(A):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=A)})(jU)});var wv=q(_v=>{"use strict";p();m();Object.defineProperty(_v,"__esModule",{value:!0});_v.bech32m=_v.bech32=void 0;var fT="qpzry9x8gf2tvdw0s3jn54khce6mua7l",eye={};for(let t=0;t<fT.length;t++){let e=fT.charAt(t);eye[e]=t}function xv(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}o(xv,"polymodStep");function Qge(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=xv(e)^n>>5}e=xv(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=xv(e)^n&31}return e}o(Qge,"prefixChk");function $F(t,e,r,n){let i=0,s=0,a=(1<<r)-1,f=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,f.push(i>>s&a);if(n)s>0&&f.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return f}o($F,"convert");function rQe(t){return $F(t,8,5,!0)}o(rQe,"toWords");function nQe(t){let e=$F(t,5,8,!1);if(Array.isArray(e))return e}o(nQe,"fromWordsUnsafe");function iQe(t){let e=$F(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}o(iQe,"fromWords");function tye(t){let e;t==="bech32"?e=1:e=734539939;function r(a,f,l){if(l=l||90,a.length+7+f.length>l)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let h=Qge(a);if(typeof h=="string")throw new Error(h);let g=a+"1";for(let b=0;b<f.length;++b){let A=f[b];if(A>>5)throw new Error("Non 5-bit word");h=xv(h)^A,g+=fT.charAt(A)}for(let b=0;b<6;++b)h=xv(h);h^=e;for(let b=0;b<6;++b){let A=h>>(5-b)*5&31;g+=fT.charAt(A)}return g}o(r,"encode");function n(a,f){if(f=f||90,a.length<8)return a+" too short";if(a.length>f)return"Exceeds length limit";let l=a.toLowerCase(),h=a.toUpperCase();if(a!==l&&a!==h)return"Mixed-case string "+a;a=l;let g=a.lastIndexOf("1");if(g===-1)return"No separator character for "+a;if(g===0)return"Missing prefix for "+a;let b=a.slice(0,g),A=a.slice(g+1);if(A.length<6)return"Data too short";let T=Qge(b);if(typeof T=="string")return T;let O=[];for(let N=0;N<A.length;++N){let P=A.charAt(N),C=eye[P];if(C===void 0)return"Unknown character "+P;T=xv(T)^C,!(N+6>=A.length)&&O.push(C)}return T!==e?"Invalid checksum for "+a:{prefix:b,words:O}}o(n,"__decode");function i(a,f){let l=n(a,f);if(typeof l=="object")return l}o(i,"decodeUnsafe");function s(a,f){let l=n(a,f);if(typeof l=="object")return l;throw new Error(l)}return o(s,"decode"),{decodeUnsafe:i,decode:s,encode:r,toWords:rQe,fromWordsUnsafe:nQe,fromWords:iQe}}o(tye,"getLibraryFromEncoding");_v.bech32=tye("bech32");_v.bech32m=tye("bech32m")});var fh=q((oer,lT)=>{p();m();(function(t){"use strict";var e=o(function(z){var G,K=new Float64Array(16);if(z)for(G=0;G<z.length;G++)K[G]=z[G];return K},"gf"),r=o(function(){throw new Error("no PRNG")},"randombytes"),n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),f=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),A=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(z,G,K,B){z[G]=K>>24&255,z[G+1]=K>>16&255,z[G+2]=K>>8&255,z[G+3]=K&255,z[G+4]=B>>24&255,z[G+5]=B>>16&255,z[G+6]=B>>8&255,z[G+7]=B&255}o(T,"ts64");function O(z,G,K,B,W){var J,me=0;for(J=0;J<W;J++)me|=z[G+J]^K[B+J];return(1&me-1>>>8)-1}o(O,"vn");function N(z,G,K,B){return O(z,G,K,B,16)}o(N,"crypto_verify_16");function P(z,G,K,B){return O(z,G,K,B,32)}o(P,"crypto_verify_32");function C(z,G,K,B){for(var W=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,J=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,rt=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Bt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,st=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,vt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,xt=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,Rt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Et=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,ct=W,dt=J,ot=me,ft=se,ut=ue,tt=lt,ve=rt,_e=Bt,Qe=st,Ye=vt,Xe=xt,it=Rt,Ht=At,nr=_t,cr=Et,ir=wt,ae,vr=0;vr<20;vr+=2)ae=ct+Ht|0,ut^=ae<<7|ae>>>25,ae=ut+ct|0,Qe^=ae<<9|ae>>>23,ae=Qe+ut|0,Ht^=ae<<13|ae>>>19,ae=Ht+Qe|0,ct^=ae<<18|ae>>>14,ae=tt+dt|0,Ye^=ae<<7|ae>>>25,ae=Ye+tt|0,nr^=ae<<9|ae>>>23,ae=nr+Ye|0,dt^=ae<<13|ae>>>19,ae=dt+nr|0,tt^=ae<<18|ae>>>14,ae=Xe+ve|0,cr^=ae<<7|ae>>>25,ae=cr+Xe|0,ot^=ae<<9|ae>>>23,ae=ot+cr|0,ve^=ae<<13|ae>>>19,ae=ve+ot|0,Xe^=ae<<18|ae>>>14,ae=ir+it|0,ft^=ae<<7|ae>>>25,ae=ft+ir|0,_e^=ae<<9|ae>>>23,ae=_e+ft|0,it^=ae<<13|ae>>>19,ae=it+_e|0,ir^=ae<<18|ae>>>14,ae=ct+ft|0,dt^=ae<<7|ae>>>25,ae=dt+ct|0,ot^=ae<<9|ae>>>23,ae=ot+dt|0,ft^=ae<<13|ae>>>19,ae=ft+ot|0,ct^=ae<<18|ae>>>14,ae=tt+ut|0,ve^=ae<<7|ae>>>25,ae=ve+tt|0,_e^=ae<<9|ae>>>23,ae=_e+ve|0,ut^=ae<<13|ae>>>19,ae=ut+_e|0,tt^=ae<<18|ae>>>14,ae=Xe+Ye|0,it^=ae<<7|ae>>>25,ae=it+Xe|0,Qe^=ae<<9|ae>>>23,ae=Qe+it|0,Ye^=ae<<13|ae>>>19,ae=Ye+Qe|0,Xe^=ae<<18|ae>>>14,ae=ir+cr|0,Ht^=ae<<7|ae>>>25,ae=Ht+ir|0,nr^=ae<<9|ae>>>23,ae=nr+Ht|0,cr^=ae<<13|ae>>>19,ae=cr+nr|0,ir^=ae<<18|ae>>>14;ct=ct+W|0,dt=dt+J|0,ot=ot+me|0,ft=ft+se|0,ut=ut+ue|0,tt=tt+lt|0,ve=ve+rt|0,_e=_e+Bt|0,Qe=Qe+st|0,Ye=Ye+vt|0,Xe=Xe+xt|0,it=it+Rt|0,Ht=Ht+At|0,nr=nr+_t|0,cr=cr+Et|0,ir=ir+wt|0,z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=dt>>>0&255,z[5]=dt>>>8&255,z[6]=dt>>>16&255,z[7]=dt>>>24&255,z[8]=ot>>>0&255,z[9]=ot>>>8&255,z[10]=ot>>>16&255,z[11]=ot>>>24&255,z[12]=ft>>>0&255,z[13]=ft>>>8&255,z[14]=ft>>>16&255,z[15]=ft>>>24&255,z[16]=ut>>>0&255,z[17]=ut>>>8&255,z[18]=ut>>>16&255,z[19]=ut>>>24&255,z[20]=tt>>>0&255,z[21]=tt>>>8&255,z[22]=tt>>>16&255,z[23]=tt>>>24&255,z[24]=ve>>>0&255,z[25]=ve>>>8&255,z[26]=ve>>>16&255,z[27]=ve>>>24&255,z[28]=_e>>>0&255,z[29]=_e>>>8&255,z[30]=_e>>>16&255,z[31]=_e>>>24&255,z[32]=Qe>>>0&255,z[33]=Qe>>>8&255,z[34]=Qe>>>16&255,z[35]=Qe>>>24&255,z[36]=Ye>>>0&255,z[37]=Ye>>>8&255,z[38]=Ye>>>16&255,z[39]=Ye>>>24&255,z[40]=Xe>>>0&255,z[41]=Xe>>>8&255,z[42]=Xe>>>16&255,z[43]=Xe>>>24&255,z[44]=it>>>0&255,z[45]=it>>>8&255,z[46]=it>>>16&255,z[47]=it>>>24&255,z[48]=Ht>>>0&255,z[49]=Ht>>>8&255,z[50]=Ht>>>16&255,z[51]=Ht>>>24&255,z[52]=nr>>>0&255,z[53]=nr>>>8&255,z[54]=nr>>>16&255,z[55]=nr>>>24&255,z[56]=cr>>>0&255,z[57]=cr>>>8&255,z[58]=cr>>>16&255,z[59]=cr>>>24&255,z[60]=ir>>>0&255,z[61]=ir>>>8&255,z[62]=ir>>>16&255,z[63]=ir>>>24&255}o(C,"core_salsa20");function D(z,G,K,B){for(var W=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,J=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,rt=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Bt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,st=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,vt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,xt=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,Rt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Et=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,ct=W,dt=J,ot=me,ft=se,ut=ue,tt=lt,ve=rt,_e=Bt,Qe=st,Ye=vt,Xe=xt,it=Rt,Ht=At,nr=_t,cr=Et,ir=wt,ae,vr=0;vr<20;vr+=2)ae=ct+Ht|0,ut^=ae<<7|ae>>>25,ae=ut+ct|0,Qe^=ae<<9|ae>>>23,ae=Qe+ut|0,Ht^=ae<<13|ae>>>19,ae=Ht+Qe|0,ct^=ae<<18|ae>>>14,ae=tt+dt|0,Ye^=ae<<7|ae>>>25,ae=Ye+tt|0,nr^=ae<<9|ae>>>23,ae=nr+Ye|0,dt^=ae<<13|ae>>>19,ae=dt+nr|0,tt^=ae<<18|ae>>>14,ae=Xe+ve|0,cr^=ae<<7|ae>>>25,ae=cr+Xe|0,ot^=ae<<9|ae>>>23,ae=ot+cr|0,ve^=ae<<13|ae>>>19,ae=ve+ot|0,Xe^=ae<<18|ae>>>14,ae=ir+it|0,ft^=ae<<7|ae>>>25,ae=ft+ir|0,_e^=ae<<9|ae>>>23,ae=_e+ft|0,it^=ae<<13|ae>>>19,ae=it+_e|0,ir^=ae<<18|ae>>>14,ae=ct+ft|0,dt^=ae<<7|ae>>>25,ae=dt+ct|0,ot^=ae<<9|ae>>>23,ae=ot+dt|0,ft^=ae<<13|ae>>>19,ae=ft+ot|0,ct^=ae<<18|ae>>>14,ae=tt+ut|0,ve^=ae<<7|ae>>>25,ae=ve+tt|0,_e^=ae<<9|ae>>>23,ae=_e+ve|0,ut^=ae<<13|ae>>>19,ae=ut+_e|0,tt^=ae<<18|ae>>>14,ae=Xe+Ye|0,it^=ae<<7|ae>>>25,ae=it+Xe|0,Qe^=ae<<9|ae>>>23,ae=Qe+it|0,Ye^=ae<<13|ae>>>19,ae=Ye+Qe|0,Xe^=ae<<18|ae>>>14,ae=ir+cr|0,Ht^=ae<<7|ae>>>25,ae=Ht+ir|0,nr^=ae<<9|ae>>>23,ae=nr+Ht|0,cr^=ae<<13|ae>>>19,ae=cr+nr|0,ir^=ae<<18|ae>>>14;z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=tt>>>0&255,z[5]=tt>>>8&255,z[6]=tt>>>16&255,z[7]=tt>>>24&255,z[8]=Xe>>>0&255,z[9]=Xe>>>8&255,z[10]=Xe>>>16&255,z[11]=Xe>>>24&255,z[12]=ir>>>0&255,z[13]=ir>>>8&255,z[14]=ir>>>16&255,z[15]=ir>>>24&255,z[16]=ve>>>0&255,z[17]=ve>>>8&255,z[18]=ve>>>16&255,z[19]=ve>>>24&255,z[20]=_e>>>0&255,z[21]=_e>>>8&255,z[22]=_e>>>16&255,z[23]=_e>>>24&255,z[24]=Qe>>>0&255,z[25]=Qe>>>8&255,z[26]=Qe>>>16&255,z[27]=Qe>>>24&255,z[28]=Ye>>>0&255,z[29]=Ye>>>8&255,z[30]=Ye>>>16&255,z[31]=Ye>>>24&255}o(D,"core_hsalsa20");function M(z,G,K,B){C(z,G,K,B)}o(M,"crypto_core_salsa20");function U(z,G,K,B){D(z,G,K,B)}o(U,"crypto_core_hsalsa20");var V=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function j(z,G,K,B,W,J,me){var se=new Uint8Array(16),ue=new Uint8Array(64),lt,rt;for(rt=0;rt<16;rt++)se[rt]=0;for(rt=0;rt<8;rt++)se[rt]=J[rt];for(;W>=64;){for(M(ue,se,me,V),rt=0;rt<64;rt++)z[G+rt]=K[B+rt]^ue[rt];for(lt=1,rt=8;rt<16;rt++)lt=lt+(se[rt]&255)|0,se[rt]=lt&255,lt>>>=8;W-=64,G+=64,B+=64}if(W>0)for(M(ue,se,me,V),rt=0;rt<W;rt++)z[G+rt]=K[B+rt]^ue[rt];return 0}o(j,"crypto_stream_salsa20_xor");function ee(z,G,K,B,W){var J=new Uint8Array(16),me=new Uint8Array(64),se,ue;for(ue=0;ue<16;ue++)J[ue]=0;for(ue=0;ue<8;ue++)J[ue]=B[ue];for(;K>=64;){for(M(me,J,W,V),ue=0;ue<64;ue++)z[G+ue]=me[ue];for(se=1,ue=8;ue<16;ue++)se=se+(J[ue]&255)|0,J[ue]=se&255,se>>>=8;K-=64,G+=64}if(K>0)for(M(me,J,W,V),ue=0;ue<K;ue++)z[G+ue]=me[ue];return 0}o(ee,"crypto_stream_salsa20");function Y(z,G,K,B,W){var J=new Uint8Array(32);U(J,B,W,V);for(var me=new Uint8Array(8),se=0;se<8;se++)me[se]=B[se+16];return ee(z,G,K,me,J)}o(Y,"crypto_stream");function te(z,G,K,B,W,J,me){var se=new Uint8Array(32);U(se,J,me,V);for(var ue=new Uint8Array(8),lt=0;lt<8;lt++)ue[lt]=J[lt+16];return j(z,G,K,B,W,ue,se)}o(te,"crypto_stream_xor");var E=o(function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var G,K,B,W,J,me,se,ue;G=z[0]&255|(z[1]&255)<<8,this.r[0]=G&8191,K=z[2]&255|(z[3]&255)<<8,this.r[1]=(G>>>13|K<<3)&8191,B=z[4]&255|(z[5]&255)<<8,this.r[2]=(K>>>10|B<<6)&7939,W=z[6]&255|(z[7]&255)<<8,this.r[3]=(B>>>7|W<<9)&8191,J=z[8]&255|(z[9]&255)<<8,this.r[4]=(W>>>4|J<<12)&255,this.r[5]=J>>>1&8190,me=z[10]&255|(z[11]&255)<<8,this.r[6]=(J>>>14|me<<2)&8191,se=z[12]&255|(z[13]&255)<<8,this.r[7]=(me>>>11|se<<5)&8065,ue=z[14]&255|(z[15]&255)<<8,this.r[8]=(se>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8},"poly1305");E.prototype.blocks=function(z,G,K){for(var B=this.fin?0:2048,W,J,me,se,ue,lt,rt,Bt,st,vt,xt,Rt,At,_t,Et,wt,ct,dt,ot,ft=this.h[0],ut=this.h[1],tt=this.h[2],ve=this.h[3],_e=this.h[4],Qe=this.h[5],Ye=this.h[6],Xe=this.h[7],it=this.h[8],Ht=this.h[9],nr=this.r[0],cr=this.r[1],ir=this.r[2],ae=this.r[3],vr=this.r[4],Gr=this.r[5],$r=this.r[6],dr=this.r[7],qr=this.r[8],Hr=this.r[9];K>=16;)W=z[G+0]&255|(z[G+1]&255)<<8,ft+=W&8191,J=z[G+2]&255|(z[G+3]&255)<<8,ut+=(W>>>13|J<<3)&8191,me=z[G+4]&255|(z[G+5]&255)<<8,tt+=(J>>>10|me<<6)&8191,se=z[G+6]&255|(z[G+7]&255)<<8,ve+=(me>>>7|se<<9)&8191,ue=z[G+8]&255|(z[G+9]&255)<<8,_e+=(se>>>4|ue<<12)&8191,Qe+=ue>>>1&8191,lt=z[G+10]&255|(z[G+11]&255)<<8,Ye+=(ue>>>14|lt<<2)&8191,rt=z[G+12]&255|(z[G+13]&255)<<8,Xe+=(lt>>>11|rt<<5)&8191,Bt=z[G+14]&255|(z[G+15]&255)<<8,it+=(rt>>>8|Bt<<8)&8191,Ht+=Bt>>>5|B,st=0,vt=st,vt+=ft*nr,vt+=ut*(5*Hr),vt+=tt*(5*qr),vt+=ve*(5*dr),vt+=_e*(5*$r),st=vt>>>13,vt&=8191,vt+=Qe*(5*Gr),vt+=Ye*(5*vr),vt+=Xe*(5*ae),vt+=it*(5*ir),vt+=Ht*(5*cr),st+=vt>>>13,vt&=8191,xt=st,xt+=ft*cr,xt+=ut*nr,xt+=tt*(5*Hr),xt+=ve*(5*qr),xt+=_e*(5*dr),st=xt>>>13,xt&=8191,xt+=Qe*(5*$r),xt+=Ye*(5*Gr),xt+=Xe*(5*vr),xt+=it*(5*ae),xt+=Ht*(5*ir),st+=xt>>>13,xt&=8191,Rt=st,Rt+=ft*ir,Rt+=ut*cr,Rt+=tt*nr,Rt+=ve*(5*Hr),Rt+=_e*(5*qr),st=Rt>>>13,Rt&=8191,Rt+=Qe*(5*dr),Rt+=Ye*(5*$r),Rt+=Xe*(5*Gr),Rt+=it*(5*vr),Rt+=Ht*(5*ae),st+=Rt>>>13,Rt&=8191,At=st,At+=ft*ae,At+=ut*ir,At+=tt*cr,At+=ve*nr,At+=_e*(5*Hr),st=At>>>13,At&=8191,At+=Qe*(5*qr),At+=Ye*(5*dr),At+=Xe*(5*$r),At+=it*(5*Gr),At+=Ht*(5*vr),st+=At>>>13,At&=8191,_t=st,_t+=ft*vr,_t+=ut*ae,_t+=tt*ir,_t+=ve*cr,_t+=_e*nr,st=_t>>>13,_t&=8191,_t+=Qe*(5*Hr),_t+=Ye*(5*qr),_t+=Xe*(5*dr),_t+=it*(5*$r),_t+=Ht*(5*Gr),st+=_t>>>13,_t&=8191,Et=st,Et+=ft*Gr,Et+=ut*vr,Et+=tt*ae,Et+=ve*ir,Et+=_e*cr,st=Et>>>13,Et&=8191,Et+=Qe*nr,Et+=Ye*(5*Hr),Et+=Xe*(5*qr),Et+=it*(5*dr),Et+=Ht*(5*$r),st+=Et>>>13,Et&=8191,wt=st,wt+=ft*$r,wt+=ut*Gr,wt+=tt*vr,wt+=ve*ae,wt+=_e*ir,st=wt>>>13,wt&=8191,wt+=Qe*cr,wt+=Ye*nr,wt+=Xe*(5*Hr),wt+=it*(5*qr),wt+=Ht*(5*dr),st+=wt>>>13,wt&=8191,ct=st,ct+=ft*dr,ct+=ut*$r,ct+=tt*Gr,ct+=ve*vr,ct+=_e*ae,st=ct>>>13,ct&=8191,ct+=Qe*ir,ct+=Ye*cr,ct+=Xe*nr,ct+=it*(5*Hr),ct+=Ht*(5*qr),st+=ct>>>13,ct&=8191,dt=st,dt+=ft*qr,dt+=ut*dr,dt+=tt*$r,dt+=ve*Gr,dt+=_e*vr,st=dt>>>13,dt&=8191,dt+=Qe*ae,dt+=Ye*ir,dt+=Xe*cr,dt+=it*nr,dt+=Ht*(5*Hr),st+=dt>>>13,dt&=8191,ot=st,ot+=ft*Hr,ot+=ut*qr,ot+=tt*dr,ot+=ve*$r,ot+=_e*Gr,st=ot>>>13,ot&=8191,ot+=Qe*vr,ot+=Ye*ae,ot+=Xe*ir,ot+=it*cr,ot+=Ht*nr,st+=ot>>>13,ot&=8191,st=(st<<2)+st|0,st=st+vt|0,vt=st&8191,st=st>>>13,xt+=st,ft=vt,ut=xt,tt=Rt,ve=At,_e=_t,Qe=Et,Ye=wt,Xe=ct,it=dt,Ht=ot,G+=16,K-=16;this.h[0]=ft,this.h[1]=ut,this.h[2]=tt,this.h[3]=ve,this.h[4]=_e,this.h[5]=Qe,this.h[6]=Ye,this.h[7]=Xe,this.h[8]=it,this.h[9]=Ht},E.prototype.finish=function(z,G){var K=new Uint16Array(10),B,W,J,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(B=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=B,B=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=B*5,B=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=B,B=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=B,K[0]=this.h[0]+5,B=K[0]>>>13,K[0]&=8191,me=1;me<10;me++)K[me]=this.h[me]+B,B=K[me]>>>13,K[me]&=8191;for(K[9]-=8192,W=(B^1)-1,me=0;me<10;me++)K[me]&=W;for(W=~W,me=0;me<10;me++)this.h[me]=this.h[me]&W|K[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,J=this.h[0]+this.pad[0],this.h[0]=J&65535,me=1;me<8;me++)J=(this.h[me]+this.pad[me]|0)+(J>>>16)|0,this.h[me]=J&65535;z[G+0]=this.h[0]>>>0&255,z[G+1]=this.h[0]>>>8&255,z[G+2]=this.h[1]>>>0&255,z[G+3]=this.h[1]>>>8&255,z[G+4]=this.h[2]>>>0&255,z[G+5]=this.h[2]>>>8&255,z[G+6]=this.h[3]>>>0&255,z[G+7]=this.h[3]>>>8&255,z[G+8]=this.h[4]>>>0&255,z[G+9]=this.h[4]>>>8&255,z[G+10]=this.h[5]>>>0&255,z[G+11]=this.h[5]>>>8&255,z[G+12]=this.h[6]>>>0&255,z[G+13]=this.h[6]>>>8&255,z[G+14]=this.h[7]>>>0&255,z[G+15]=this.h[7]>>>8&255},E.prototype.update=function(z,G,K){var B,W;if(this.leftover){for(W=16-this.leftover,W>K&&(W=K),B=0;B<W;B++)this.buffer[this.leftover+B]=z[G+B];if(K-=W,G+=W,this.leftover+=W,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(K>=16&&(W=K-K%16,this.blocks(z,G,W),G+=W,K-=W),K){for(B=0;B<K;B++)this.buffer[this.leftover+B]=z[G+B];this.leftover+=K}};function c(z,G,K,B,W,J){var me=new E(J);return me.update(K,B,W),me.finish(z,G),0}o(c,"crypto_onetimeauth");function d(z,G,K,B,W,J){var me=new Uint8Array(16);return c(me,0,K,B,W,J),N(z,G,me,0)}o(d,"crypto_onetimeauth_verify");function y(z,G,K,B,W){var J;if(K<32)return-1;for(te(z,0,G,0,K,B,W),c(z,16,z,32,K-32,z),J=0;J<16;J++)z[J]=0;return 0}o(y,"crypto_secretbox");function v(z,G,K,B,W){var J,me=new Uint8Array(32);if(K<32||(Y(me,0,32,B,W),d(G,16,G,32,K-32,me)!==0))return-1;for(te(z,0,G,0,K,B,W),J=0;J<32;J++)z[J]=0;return 0}o(v,"crypto_secretbox_open");function w(z,G){var K;for(K=0;K<16;K++)z[K]=G[K]|0}o(w,"set25519");function S(z){var G,K,B=1;for(G=0;G<16;G++)K=z[G]+B+65535,B=Math.floor(K/65536),z[G]=K-B*65536;z[0]+=B-1+37*(B-1)}o(S,"car25519");function R(z,G,K){for(var B,W=~(K-1),J=0;J<16;J++)B=W&(z[J]^G[J]),z[J]^=B,G[J]^=B}o(R,"sel25519");function x(z,G){var K,B,W,J=e(),me=e();for(K=0;K<16;K++)me[K]=G[K];for(S(me),S(me),S(me),B=0;B<2;B++){for(J[0]=me[0]-65517,K=1;K<15;K++)J[K]=me[K]-65535-(J[K-1]>>16&1),J[K-1]&=65535;J[15]=me[15]-32767-(J[14]>>16&1),W=J[15]>>16&1,J[14]&=65535,R(me,J,1-W)}for(K=0;K<16;K++)z[2*K]=me[K]&255,z[2*K+1]=me[K]>>8}o(x,"pack25519");function u(z,G){var K=new Uint8Array(32),B=new Uint8Array(32);return x(K,z),x(B,G),P(K,0,B,0)}o(u,"neq25519");function _(z){var G=new Uint8Array(32);return x(G,z),G[0]&1}o(_,"par25519");function H(z,G){var K;for(K=0;K<16;K++)z[K]=G[2*K]+(G[2*K+1]<<8);z[15]&=32767}o(H,"unpack25519");function F(z,G,K){for(var B=0;B<16;B++)z[B]=G[B]+K[B]}o(F,"A");function L(z,G,K){for(var B=0;B<16;B++)z[B]=G[B]-K[B]}o(L,"Z");function $(z,G,K){var B,W,J=0,me=0,se=0,ue=0,lt=0,rt=0,Bt=0,st=0,vt=0,xt=0,Rt=0,At=0,_t=0,Et=0,wt=0,ct=0,dt=0,ot=0,ft=0,ut=0,tt=0,ve=0,_e=0,Qe=0,Ye=0,Xe=0,it=0,Ht=0,nr=0,cr=0,ir=0,ae=K[0],vr=K[1],Gr=K[2],$r=K[3],dr=K[4],qr=K[5],Hr=K[6],ji=K[7],xn=K[8],Ni=K[9],Mi=K[10],Ci=K[11],co=K[12],ws=K[13],Es=K[14],Ss=K[15];B=G[0],J+=B*ae,me+=B*vr,se+=B*Gr,ue+=B*$r,lt+=B*dr,rt+=B*qr,Bt+=B*Hr,st+=B*ji,vt+=B*xn,xt+=B*Ni,Rt+=B*Mi,At+=B*Ci,_t+=B*co,Et+=B*ws,wt+=B*Es,ct+=B*Ss,B=G[1],me+=B*ae,se+=B*vr,ue+=B*Gr,lt+=B*$r,rt+=B*dr,Bt+=B*qr,st+=B*Hr,vt+=B*ji,xt+=B*xn,Rt+=B*Ni,At+=B*Mi,_t+=B*Ci,Et+=B*co,wt+=B*ws,ct+=B*Es,dt+=B*Ss,B=G[2],se+=B*ae,ue+=B*vr,lt+=B*Gr,rt+=B*$r,Bt+=B*dr,st+=B*qr,vt+=B*Hr,xt+=B*ji,Rt+=B*xn,At+=B*Ni,_t+=B*Mi,Et+=B*Ci,wt+=B*co,ct+=B*ws,dt+=B*Es,ot+=B*Ss,B=G[3],ue+=B*ae,lt+=B*vr,rt+=B*Gr,Bt+=B*$r,st+=B*dr,vt+=B*qr,xt+=B*Hr,Rt+=B*ji,At+=B*xn,_t+=B*Ni,Et+=B*Mi,wt+=B*Ci,ct+=B*co,dt+=B*ws,ot+=B*Es,ft+=B*Ss,B=G[4],lt+=B*ae,rt+=B*vr,Bt+=B*Gr,st+=B*$r,vt+=B*dr,xt+=B*qr,Rt+=B*Hr,At+=B*ji,_t+=B*xn,Et+=B*Ni,wt+=B*Mi,ct+=B*Ci,dt+=B*co,ot+=B*ws,ft+=B*Es,ut+=B*Ss,B=G[5],rt+=B*ae,Bt+=B*vr,st+=B*Gr,vt+=B*$r,xt+=B*dr,Rt+=B*qr,At+=B*Hr,_t+=B*ji,Et+=B*xn,wt+=B*Ni,ct+=B*Mi,dt+=B*Ci,ot+=B*co,ft+=B*ws,ut+=B*Es,tt+=B*Ss,B=G[6],Bt+=B*ae,st+=B*vr,vt+=B*Gr,xt+=B*$r,Rt+=B*dr,At+=B*qr,_t+=B*Hr,Et+=B*ji,wt+=B*xn,ct+=B*Ni,dt+=B*Mi,ot+=B*Ci,ft+=B*co,ut+=B*ws,tt+=B*Es,ve+=B*Ss,B=G[7],st+=B*ae,vt+=B*vr,xt+=B*Gr,Rt+=B*$r,At+=B*dr,_t+=B*qr,Et+=B*Hr,wt+=B*ji,ct+=B*xn,dt+=B*Ni,ot+=B*Mi,ft+=B*Ci,ut+=B*co,tt+=B*ws,ve+=B*Es,_e+=B*Ss,B=G[8],vt+=B*ae,xt+=B*vr,Rt+=B*Gr,At+=B*$r,_t+=B*dr,Et+=B*qr,wt+=B*Hr,ct+=B*ji,dt+=B*xn,ot+=B*Ni,ft+=B*Mi,ut+=B*Ci,tt+=B*co,ve+=B*ws,_e+=B*Es,Qe+=B*Ss,B=G[9],xt+=B*ae,Rt+=B*vr,At+=B*Gr,_t+=B*$r,Et+=B*dr,wt+=B*qr,ct+=B*Hr,dt+=B*ji,ot+=B*xn,ft+=B*Ni,ut+=B*Mi,tt+=B*Ci,ve+=B*co,_e+=B*ws,Qe+=B*Es,Ye+=B*Ss,B=G[10],Rt+=B*ae,At+=B*vr,_t+=B*Gr,Et+=B*$r,wt+=B*dr,ct+=B*qr,dt+=B*Hr,ot+=B*ji,ft+=B*xn,ut+=B*Ni,tt+=B*Mi,ve+=B*Ci,_e+=B*co,Qe+=B*ws,Ye+=B*Es,Xe+=B*Ss,B=G[11],At+=B*ae,_t+=B*vr,Et+=B*Gr,wt+=B*$r,ct+=B*dr,dt+=B*qr,ot+=B*Hr,ft+=B*ji,ut+=B*xn,tt+=B*Ni,ve+=B*Mi,_e+=B*Ci,Qe+=B*co,Ye+=B*ws,Xe+=B*Es,it+=B*Ss,B=G[12],_t+=B*ae,Et+=B*vr,wt+=B*Gr,ct+=B*$r,dt+=B*dr,ot+=B*qr,ft+=B*Hr,ut+=B*ji,tt+=B*xn,ve+=B*Ni,_e+=B*Mi,Qe+=B*Ci,Ye+=B*co,Xe+=B*ws,it+=B*Es,Ht+=B*Ss,B=G[13],Et+=B*ae,wt+=B*vr,ct+=B*Gr,dt+=B*$r,ot+=B*dr,ft+=B*qr,ut+=B*Hr,tt+=B*ji,ve+=B*xn,_e+=B*Ni,Qe+=B*Mi,Ye+=B*Ci,Xe+=B*co,it+=B*ws,Ht+=B*Es,nr+=B*Ss,B=G[14],wt+=B*ae,ct+=B*vr,dt+=B*Gr,ot+=B*$r,ft+=B*dr,ut+=B*qr,tt+=B*Hr,ve+=B*ji,_e+=B*xn,Qe+=B*Ni,Ye+=B*Mi,Xe+=B*Ci,it+=B*co,Ht+=B*ws,nr+=B*Es,cr+=B*Ss,B=G[15],ct+=B*ae,dt+=B*vr,ot+=B*Gr,ft+=B*$r,ut+=B*dr,tt+=B*qr,ve+=B*Hr,_e+=B*ji,Qe+=B*xn,Ye+=B*Ni,Xe+=B*Mi,it+=B*Ci,Ht+=B*co,nr+=B*ws,cr+=B*Es,ir+=B*Ss,J+=38*dt,me+=38*ot,se+=38*ft,ue+=38*ut,lt+=38*tt,rt+=38*ve,Bt+=38*_e,st+=38*Qe,vt+=38*Ye,xt+=38*Xe,Rt+=38*it,At+=38*Ht,_t+=38*nr,Et+=38*cr,wt+=38*ir,W=1,B=J+W+65535,W=Math.floor(B/65536),J=B-W*65536,B=me+W+65535,W=Math.floor(B/65536),me=B-W*65536,B=se+W+65535,W=Math.floor(B/65536),se=B-W*65536,B=ue+W+65535,W=Math.floor(B/65536),ue=B-W*65536,B=lt+W+65535,W=Math.floor(B/65536),lt=B-W*65536,B=rt+W+65535,W=Math.floor(B/65536),rt=B-W*65536,B=Bt+W+65535,W=Math.floor(B/65536),Bt=B-W*65536,B=st+W+65535,W=Math.floor(B/65536),st=B-W*65536,B=vt+W+65535,W=Math.floor(B/65536),vt=B-W*65536,B=xt+W+65535,W=Math.floor(B/65536),xt=B-W*65536,B=Rt+W+65535,W=Math.floor(B/65536),Rt=B-W*65536,B=At+W+65535,W=Math.floor(B/65536),At=B-W*65536,B=_t+W+65535,W=Math.floor(B/65536),_t=B-W*65536,B=Et+W+65535,W=Math.floor(B/65536),Et=B-W*65536,B=wt+W+65535,W=Math.floor(B/65536),wt=B-W*65536,B=ct+W+65535,W=Math.floor(B/65536),ct=B-W*65536,J+=W-1+37*(W-1),W=1,B=J+W+65535,W=Math.floor(B/65536),J=B-W*65536,B=me+W+65535,W=Math.floor(B/65536),me=B-W*65536,B=se+W+65535,W=Math.floor(B/65536),se=B-W*65536,B=ue+W+65535,W=Math.floor(B/65536),ue=B-W*65536,B=lt+W+65535,W=Math.floor(B/65536),lt=B-W*65536,B=rt+W+65535,W=Math.floor(B/65536),rt=B-W*65536,B=Bt+W+65535,W=Math.floor(B/65536),Bt=B-W*65536,B=st+W+65535,W=Math.floor(B/65536),st=B-W*65536,B=vt+W+65535,W=Math.floor(B/65536),vt=B-W*65536,B=xt+W+65535,W=Math.floor(B/65536),xt=B-W*65536,B=Rt+W+65535,W=Math.floor(B/65536),Rt=B-W*65536,B=At+W+65535,W=Math.floor(B/65536),At=B-W*65536,B=_t+W+65535,W=Math.floor(B/65536),_t=B-W*65536,B=Et+W+65535,W=Math.floor(B/65536),Et=B-W*65536,B=wt+W+65535,W=Math.floor(B/65536),wt=B-W*65536,B=ct+W+65535,W=Math.floor(B/65536),ct=B-W*65536,J+=W-1+37*(W-1),z[0]=J,z[1]=me,z[2]=se,z[3]=ue,z[4]=lt,z[5]=rt,z[6]=Bt,z[7]=st,z[8]=vt,z[9]=xt,z[10]=Rt,z[11]=At,z[12]=_t,z[13]=Et,z[14]=wt,z[15]=ct}o($,"M");function Q(z,G){$(z,G,G)}o(Q,"S");function re(z,G){var K=e(),B;for(B=0;B<16;B++)K[B]=G[B];for(B=253;B>=0;B--)Q(K,K),B!==2&&B!==4&&$(K,K,G);for(B=0;B<16;B++)z[B]=K[B]}o(re,"inv25519");function Me(z,G){var K=e(),B;for(B=0;B<16;B++)K[B]=G[B];for(B=250;B>=0;B--)Q(K,K),B!==1&&$(K,K,G);for(B=0;B<16;B++)z[B]=K[B]}o(Me,"pow2523");function fe(z,G,K){var B=new Uint8Array(32),W=new Float64Array(80),J,me,se=e(),ue=e(),lt=e(),rt=e(),Bt=e(),st=e();for(me=0;me<31;me++)B[me]=G[me];for(B[31]=G[31]&127|64,B[0]&=248,H(W,K),me=0;me<16;me++)ue[me]=W[me],rt[me]=se[me]=lt[me]=0;for(se[0]=rt[0]=1,me=254;me>=0;--me)J=B[me>>>3]>>>(me&7)&1,R(se,ue,J),R(lt,rt,J),F(Bt,se,lt),L(se,se,lt),F(lt,ue,rt),L(ue,ue,rt),Q(rt,Bt),Q(st,se),$(se,lt,se),$(lt,ue,Bt),F(Bt,se,lt),L(se,se,lt),Q(ue,se),L(lt,rt,st),$(se,lt,f),F(se,se,rt),$(lt,lt,se),$(se,rt,st),$(rt,ue,W),Q(ue,Bt),R(se,ue,J),R(lt,rt,J);for(me=0;me<16;me++)W[me+16]=se[me],W[me+32]=lt[me],W[me+48]=ue[me],W[me+64]=rt[me];var vt=W.subarray(32),xt=W.subarray(16);return re(vt,vt),$(xt,xt,vt),x(z,xt),0}o(fe,"crypto_scalarmult");function le(z,G){return fe(z,G,i)}o(le,"crypto_scalarmult_base");function xe(z,G){return r(G,32),le(z,G)}o(xe,"crypto_box_keypair");function he(z,G,K){var B=new Uint8Array(32);return fe(B,K,G),U(z,n,B,V)}o(he,"crypto_box_beforenm");var ge=y,tr=v;function Ae(z,G,K,B,W,J){var me=new Uint8Array(32);return he(me,W,J),ge(z,G,K,B,me)}o(Ae,"crypto_box");function Oe(z,G,K,B,W,J){var me=new Uint8Array(32);return he(me,W,J),tr(z,G,K,B,me)}o(Oe,"crypto_box_open");var Bn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function He(z,G,K,B){for(var W=new Int32Array(16),J=new Int32Array(16),me,se,ue,lt,rt,Bt,st,vt,xt,Rt,At,_t,Et,wt,ct,dt,ot,ft,ut,tt,ve,_e,Qe,Ye,Xe,it,Ht=z[0],nr=z[1],cr=z[2],ir=z[3],ae=z[4],vr=z[5],Gr=z[6],$r=z[7],dr=G[0],qr=G[1],Hr=G[2],ji=G[3],xn=G[4],Ni=G[5],Mi=G[6],Ci=G[7],co=0;B>=128;){for(ut=0;ut<16;ut++)tt=8*ut+co,W[ut]=K[tt+0]<<24|K[tt+1]<<16|K[tt+2]<<8|K[tt+3],J[ut]=K[tt+4]<<24|K[tt+5]<<16|K[tt+6]<<8|K[tt+7];for(ut=0;ut<80;ut++)if(me=Ht,se=nr,ue=cr,lt=ir,rt=ae,Bt=vr,st=Gr,vt=$r,xt=dr,Rt=qr,At=Hr,_t=ji,Et=xn,wt=Ni,ct=Mi,dt=Ci,ve=$r,_e=Ci,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=(ae>>>14|xn<<18)^(ae>>>18|xn<<14)^(xn>>>9|ae<<23),_e=(xn>>>14|ae<<18)^(xn>>>18|ae<<14)^(ae>>>9|xn<<23),Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=ae&vr^~ae&Gr,_e=xn&Ni^~xn&Mi,Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=Bn[ut*2],_e=Bn[ut*2+1],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=W[ut%16],_e=J[ut%16],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,ot=Xe&65535|it<<16,ft=Qe&65535|Ye<<16,ve=ot,_e=ft,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=(Ht>>>28|dr<<4)^(dr>>>2|Ht<<30)^(dr>>>7|Ht<<25),_e=(dr>>>28|Ht<<4)^(Ht>>>2|dr<<30)^(Ht>>>7|dr<<25),Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ve=Ht&nr^Ht&cr^nr&cr,_e=dr&qr^dr&Hr^qr&Hr,Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,vt=Xe&65535|it<<16,dt=Qe&65535|Ye<<16,ve=lt,_e=_t,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=ot,_e=ft,Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,lt=Xe&65535|it<<16,_t=Qe&65535|Ye<<16,nr=me,cr=se,ir=ue,ae=lt,vr=rt,Gr=Bt,$r=st,Ht=vt,qr=xt,Hr=Rt,ji=At,xn=_t,Ni=Et,Mi=wt,Ci=ct,dr=dt,ut%16===15)for(tt=0;tt<16;tt++)ve=W[tt],_e=J[tt],Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=W[(tt+9)%16],_e=J[(tt+9)%16],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ot=W[(tt+1)%16],ft=J[(tt+1)%16],ve=(ot>>>1|ft<<31)^(ot>>>8|ft<<24)^ot>>>7,_e=(ft>>>1|ot<<31)^(ft>>>8|ot<<24)^(ft>>>7|ot<<25),Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,ot=W[(tt+14)%16],ft=J[(tt+14)%16],ve=(ot>>>19|ft<<13)^(ft>>>29|ot<<3)^ot>>>6,_e=(ft>>>19|ot<<13)^(ot>>>29|ft<<3)^(ft>>>6|ot<<26),Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,W[tt]=Xe&65535|it<<16,J[tt]=Qe&65535|Ye<<16;ve=Ht,_e=dr,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[0],_e=G[0],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[0]=Ht=Xe&65535|it<<16,G[0]=dr=Qe&65535|Ye<<16,ve=nr,_e=qr,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[1],_e=G[1],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[1]=nr=Xe&65535|it<<16,G[1]=qr=Qe&65535|Ye<<16,ve=cr,_e=Hr,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[2],_e=G[2],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[2]=cr=Xe&65535|it<<16,G[2]=Hr=Qe&65535|Ye<<16,ve=ir,_e=ji,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[3],_e=G[3],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[3]=ir=Xe&65535|it<<16,G[3]=ji=Qe&65535|Ye<<16,ve=ae,_e=xn,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[4],_e=G[4],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[4]=ae=Xe&65535|it<<16,G[4]=xn=Qe&65535|Ye<<16,ve=vr,_e=Ni,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[5],_e=G[5],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[5]=vr=Xe&65535|it<<16,G[5]=Ni=Qe&65535|Ye<<16,ve=Gr,_e=Mi,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[6],_e=G[6],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[6]=Gr=Xe&65535|it<<16,G[6]=Mi=Qe&65535|Ye<<16,ve=$r,_e=Ci,Qe=_e&65535,Ye=_e>>>16,Xe=ve&65535,it=ve>>>16,ve=z[7],_e=G[7],Qe+=_e&65535,Ye+=_e>>>16,Xe+=ve&65535,it+=ve>>>16,Ye+=Qe>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[7]=$r=Xe&65535|it<<16,G[7]=Ci=Qe&65535|Ye<<16,co+=128,B-=128}return B}o(He,"crypto_hashblocks_hl");function Pe(z,G,K){var B=new Int32Array(8),W=new Int32Array(8),J=new Uint8Array(256),me,se=K;for(B[0]=1779033703,B[1]=3144134277,B[2]=1013904242,B[3]=2773480762,B[4]=1359893119,B[5]=2600822924,B[6]=528734635,B[7]=1541459225,W[0]=4089235720,W[1]=2227873595,W[2]=4271175723,W[3]=1595750129,W[4]=2917565137,W[5]=725511199,W[6]=4215389547,W[7]=327033209,He(B,W,G,K),K%=128,me=0;me<K;me++)J[me]=G[se-K+me];for(J[K]=128,K=256-128*(K<112?1:0),J[K-9]=0,T(J,K-8,se/536870912|0,se<<3),He(B,W,J,K),me=0;me<8;me++)T(z,8*me,B[me],W[me]);return 0}o(Pe,"crypto_hash");function Ln(z,G){var K=e(),B=e(),W=e(),J=e(),me=e(),se=e(),ue=e(),lt=e(),rt=e();L(K,z[1],z[0]),L(rt,G[1],G[0]),$(K,K,rt),F(B,z[0],z[1]),F(rt,G[0],G[1]),$(B,B,rt),$(W,z[3],G[3]),$(W,W,h),$(J,z[2],G[2]),F(J,J,J),L(me,B,K),L(se,J,W),F(ue,J,W),F(lt,B,K),$(z[0],me,se),$(z[1],lt,ue),$(z[2],ue,se),$(z[3],me,lt)}o(Ln,"add");function Ue(z,G,K){var B;for(B=0;B<4;B++)R(z[B],G[B],K)}o(Ue,"cswap");function Be(z,G){var K=e(),B=e(),W=e();re(W,G[2]),$(K,G[0],W),$(B,G[1],W),x(z,B),z[31]^=_(K)<<7}o(Be,"pack");function Dn(z,G,K){var B,W;for(w(z[0],s),w(z[1],a),w(z[2],a),w(z[3],s),W=255;W>=0;--W)B=K[W/8|0]>>(W&7)&1,Ue(z,G,B),Ln(G,z),Ln(z,z),Ue(z,G,B)}o(Dn,"scalarmult");function ke(z,G){var K=[e(),e(),e(),e()];w(K[0],g),w(K[1],b),w(K[2],a),$(K[3],g,b),Dn(z,K,G)}o(ke,"scalarbase");function Le(z,G,K){var B=new Uint8Array(64),W=[e(),e(),e(),e()],J;for(K||r(G,32),Pe(B,G,32),B[0]&=248,B[31]&=127,B[31]|=64,ke(W,B),Be(z,W),J=0;J<32;J++)G[J+32]=z[J];return 0}o(Le,"crypto_sign_keypair");var Kr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function X(z,G){var K,B,W,J;for(B=63;B>=32;--B){for(K=0,W=B-32,J=B-12;W<J;++W)G[W]+=K-16*G[B]*Kr[W-(B-32)],K=Math.floor((G[W]+128)/256),G[W]-=K*256;G[W]+=K,G[B]=0}for(K=0,W=0;W<32;W++)G[W]+=K-(G[31]>>4)*Kr[W],K=G[W]>>8,G[W]&=255;for(W=0;W<32;W++)G[W]-=K*Kr[W];for(B=0;B<32;B++)G[B+1]+=G[B]>>8,z[B]=G[B]&255}o(X,"modL");function Z(z){var G=new Float64Array(64),K;for(K=0;K<64;K++)G[K]=z[K];for(K=0;K<64;K++)z[K]=0;X(z,G)}o(Z,"reduce");function pe(z,G,K,B){var W=new Uint8Array(64),J=new Uint8Array(64),me=new Uint8Array(64),se,ue,lt=new Float64Array(64),rt=[e(),e(),e(),e()];Pe(W,B,32),W[0]&=248,W[31]&=127,W[31]|=64;var Bt=K+64;for(se=0;se<K;se++)z[64+se]=G[se];for(se=0;se<32;se++)z[32+se]=W[32+se];for(Pe(me,z.subarray(32),K+32),Z(me),ke(rt,me),Be(z,rt),se=32;se<64;se++)z[se]=B[se];for(Pe(J,z,K+64),Z(J),se=0;se<64;se++)lt[se]=0;for(se=0;se<32;se++)lt[se]=me[se];for(se=0;se<32;se++)for(ue=0;ue<32;ue++)lt[se+ue]+=J[se]*W[ue];return X(z.subarray(32),lt),Bt}o(pe,"crypto_sign");function ne(z,G){var K=e(),B=e(),W=e(),J=e(),me=e(),se=e(),ue=e();return w(z[2],a),H(z[1],G),Q(W,z[1]),$(J,W,l),L(W,W,z[2]),F(J,z[2],J),Q(me,J),Q(se,me),$(ue,se,me),$(K,ue,W),$(K,K,J),Me(K,K),$(K,K,W),$(K,K,J),$(K,K,J),$(z[0],K,J),Q(B,z[0]),$(B,B,J),u(B,W)&&$(z[0],z[0],A),Q(B,z[0]),$(B,B,J),u(B,W)?-1:(_(z[0])===G[31]>>7&&L(z[0],s,z[0]),$(z[3],z[0],z[1]),0)}o(ne,"unpackneg");function de(z,G,K,B){var W,J=new Uint8Array(32),me=new Uint8Array(64),se=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(K<64||ne(ue,B))return-1;for(W=0;W<K;W++)z[W]=G[W];for(W=0;W<32;W++)z[W+32]=B[W];if(Pe(me,z,K),Z(me),Dn(se,ue,me),ke(ue,G.subarray(32)),Ln(se,ue),Be(J,se),K-=64,P(G,0,J,0)){for(W=0;W<K;W++)z[W]=0;return-1}for(W=0;W<K;W++)z[W]=G[W+64];return K}o(de,"crypto_sign_open");var yt=32,be=24,Se=32,Xt=16,Re=32,Ne=32,Zn=32,Fe=32,De=32,Qi=be,Ge=Se,$e=Xt,Un=64,qe=32,Ve=64,Vi=32,je=64;t.lowlevel={crypto_core_hsalsa20:U,crypto_stream_xor:te,crypto_stream:Y,crypto_stream_salsa20_xor:j,crypto_stream_salsa20:ee,crypto_onetimeauth:c,crypto_onetimeauth_verify:d,crypto_verify_16:N,crypto_verify_32:P,crypto_secretbox:y,crypto_secretbox_open:v,crypto_scalarmult:fe,crypto_scalarmult_base:le,crypto_box_beforenm:he,crypto_box_afternm:ge,crypto_box:Ae,crypto_box_open:Oe,crypto_box_keypair:xe,crypto_hash:Pe,crypto_sign:pe,crypto_sign_keypair:Le,crypto_sign_open:de,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:be,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:Xt,crypto_scalarmult_BYTES:Re,crypto_scalarmult_SCALARBYTES:Ne,crypto_box_PUBLICKEYBYTES:Zn,crypto_box_SECRETKEYBYTES:Fe,crypto_box_BEFORENMBYTES:De,crypto_box_NONCEBYTES:Qi,crypto_box_ZEROBYTES:Ge,crypto_box_BOXZEROBYTES:$e,crypto_sign_BYTES:Un,crypto_sign_PUBLICKEYBYTES:qe,crypto_sign_SECRETKEYBYTES:Ve,crypto_sign_SEEDBYTES:Vi,crypto_hash_BYTES:je,gf:e,D:l,L:Kr,pack25519:x,unpack25519:H,M:$,A:F,S:Q,Z:L,pow2523:Me,add:Ln,set25519:w,modL:X,scalarmult:Dn,scalarbase:ke};function ze(z,G){if(z.length!==yt)throw new Error("bad key size");if(G.length!==be)throw new Error("bad nonce size")}o(ze,"checkLengths");function ao(z,G){if(z.length!==Zn)throw new Error("bad public key size");if(G.length!==Fe)throw new Error("bad secret key size")}o(ao,"checkBoxLengths");function Ce(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}o(Ce,"checkArrayTypes");function Ke(z){for(var G=0;G<z.length;G++)z[G]=0}o(Ke,"cleanup"),t.randomBytes=function(z){var G=new Uint8Array(z);return r(G,z),G},t.secretbox=function(z,G,K){Ce(z,G,K),ze(K,G);for(var B=new Uint8Array(Se+z.length),W=new Uint8Array(B.length),J=0;J<z.length;J++)B[J+Se]=z[J];return y(W,B,B.length,G,K),W.subarray(Xt)},t.secretbox.open=function(z,G,K){Ce(z,G,K),ze(K,G);for(var B=new Uint8Array(Xt+z.length),W=new Uint8Array(B.length),J=0;J<z.length;J++)B[J+Xt]=z[J];return B.length<32||v(W,B,B.length,G,K)!==0?null:W.subarray(Se)},t.secretbox.keyLength=yt,t.secretbox.nonceLength=be,t.secretbox.overheadLength=Xt,t.scalarMult=function(z,G){if(Ce(z,G),z.length!==Ne)throw new Error("bad n size");if(G.length!==Re)throw new Error("bad p size");var K=new Uint8Array(Re);return fe(K,z,G),K},t.scalarMult.base=function(z){if(Ce(z),z.length!==Ne)throw new Error("bad n size");var G=new Uint8Array(Re);return le(G,z),G},t.scalarMult.scalarLength=Ne,t.scalarMult.groupElementLength=Re,t.box=function(z,G,K,B){var W=t.box.before(K,B);return t.secretbox(z,G,W)},t.box.before=function(z,G){Ce(z,G),ao(z,G);var K=new Uint8Array(De);return he(K,z,G),K},t.box.after=t.secretbox,t.box.open=function(z,G,K,B){var W=t.box.before(K,B);return t.secretbox.open(z,G,W)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var z=new Uint8Array(Zn),G=new Uint8Array(Fe);return xe(z,G),{publicKey:z,secretKey:G}},t.box.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Fe)throw new Error("bad secret key size");var G=new Uint8Array(Zn);return le(G,z),{publicKey:G,secretKey:new Uint8Array(z)}},t.box.publicKeyLength=Zn,t.box.secretKeyLength=Fe,t.box.sharedKeyLength=De,t.box.nonceLength=Qi,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(z,G){if(Ce(z,G),G.length!==Ve)throw new Error("bad secret key size");var K=new Uint8Array(Un+z.length);return pe(K,z,z.length,G),K},t.sign.open=function(z,G){if(Ce(z,G),G.length!==qe)throw new Error("bad public key size");var K=new Uint8Array(z.length),B=de(K,z,z.length,G);if(B<0)return null;for(var W=new Uint8Array(B),J=0;J<W.length;J++)W[J]=K[J];return W},t.sign.detached=function(z,G){for(var K=t.sign(z,G),B=new Uint8Array(Un),W=0;W<B.length;W++)B[W]=K[W];return B},t.sign.detached.verify=function(z,G,K){if(Ce(z,G,K),G.length!==Un)throw new Error("bad signature size");if(K.length!==qe)throw new Error("bad public key size");var B=new Uint8Array(Un+z.length),W=new Uint8Array(Un+z.length),J;for(J=0;J<Un;J++)B[J]=G[J];for(J=0;J<z.length;J++)B[J+Un]=z[J];return de(W,B,B.length,K)>=0},t.sign.keyPair=function(){var z=new Uint8Array(qe),G=new Uint8Array(Ve);return Le(z,G),{publicKey:z,secretKey:G}},t.sign.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Ve)throw new Error("bad secret key size");for(var G=new Uint8Array(qe),K=0;K<G.length;K++)G[K]=z[32+K];return{publicKey:G,secretKey:new Uint8Array(z)}},t.sign.keyPair.fromSeed=function(z){if(Ce(z),z.length!==Vi)throw new Error("bad seed size");for(var G=new Uint8Array(qe),K=new Uint8Array(Ve),B=0;B<32;B++)K[B]=z[B];return Le(G,K,!0),{publicKey:G,secretKey:K}},t.sign.publicKeyLength=qe,t.sign.secretKeyLength=Ve,t.sign.seedLength=Vi,t.sign.signatureLength=Un,t.hash=function(z){Ce(z);var G=new Uint8Array(je);return Pe(G,z,z.length),G},t.hash.hashLength=je,t.verify=function(z,G){return Ce(z,G),z.length===0||G.length===0||z.length!==G.length?!1:O(z,0,G,0,z.length)===0},t.setPRNG=function(z){r=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var G=65536;t.setPRNG(function(K,B){var W,J=new Uint8Array(B);for(W=0;W<B;W+=G)z.getRandomValues(J.subarray(W,W+Math.min(B-W,G)));for(W=0;W<B;W++)K[W]=J[W];Ke(J)})}else typeof CW<"u"&&(z=pb(),z&&z.randomBytes&&t.setPRNG(function(K,B){var W,J=z.randomBytes(B);for(W=0;W<B;W++)K[W]=J[W];Ke(J)}))}()})(typeof lT<"u"&&lT.exports?lT.exports:self.nacl=self.nacl||{})});var cye=q(ha=>{"use strict";p();m();Object.defineProperty(ha,"__esModule",{value:!0});ha.output=ha.exists=ha.hash=ha.bytes=ha.bool=ha.number=void 0;function gT(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(gT,"number");ha.number=gT;function iye(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(iye,"bool");ha.bool=iye;function rq(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(rq,"bytes");ha.bytes=rq;function oye(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gT(t.outputLen),gT(t.blockLen)}o(oye,"hash");ha.hash=oye;function sye(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(sye,"exists");ha.exists=sye;function aye(t,e){rq(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(aye,"output");ha.output=aye;var gQe={number:gT,bool:iye,bytes:rq,hash:oye,exists:sye,output:aye};ha.default=gQe});var fye=q(yT=>{"use strict";p();m();Object.defineProperty(yT,"__esModule",{value:!0});yT.crypto=void 0;yT.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var cE=q(Sr=>{"use strict";p();m();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.randomBytes=Sr.wrapConstructorWithOpts=Sr.wrapConstructor=Sr.checkOpts=Sr.Hash=Sr.concatBytes=Sr.toBytes=Sr.utf8ToBytes=Sr.asyncLoop=Sr.nextTick=Sr.hexToBytes=Sr.bytesToHex=Sr.isLE=Sr.rotr=Sr.createView=Sr.u32=Sr.u8=void 0;var bT=fye(),yQe=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");Sr.u8=yQe;var bQe=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");Sr.u32=bQe;var vQe=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");Sr.createView=vQe;var xQe=o((t,e)=>t<<32-e|t>>>e,"rotr");Sr.rotr=xQe;Sr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Sr.isLE)throw new Error("Non little-endian hardware is not supported");var _Qe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wQe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=_Qe[t[r]];return e}o(wQe,"bytesToHex");Sr.bytesToHex=wQe;function EQe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(EQe,"hexToBytes");Sr.hexToBytes=EQe;var SQe=o(async()=>{},"nextTick");Sr.nextTick=SQe;async function AQe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Sr.nextTick)(),n+=s)}}o(AQe,"asyncLoop");Sr.asyncLoop=AQe;function uye(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}o(uye,"utf8ToBytes");Sr.utf8ToBytes=uye;function iq(t){if(typeof t=="string"&&(t=uye(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}o(iq,"toBytes");Sr.toBytes=iq;function RQe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(RQe,"concatBytes");Sr.concatBytes=RQe;var nq=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};Sr.Hash=nq;var TQe=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function IQe(t,e){if(e!==void 0&&(typeof e!="object"||!TQe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}o(IQe,"checkOpts");Sr.checkOpts=IQe;function OQe(t){let e=o(n=>t().update(iq(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(OQe,"wrapConstructor");Sr.wrapConstructor=OQe;function NQe(t){let e=o((n,i)=>t(i).update(iq(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(NQe,"wrapConstructorWithOpts");Sr.wrapConstructorWithOpts=NQe;function MQe(t=32){if(bT.crypto.web)return bT.crypto.web.getRandomValues(new Uint8Array(t));if(bT.crypto.node)return new Uint8Array(bT.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}o(MQe,"randomBytes");Sr.randomBytes=MQe});var xT=q(vT=>{"use strict";p();m();Object.defineProperty(vT,"__esModule",{value:!0});vT.SHA2=void 0;var oq=cye(),fE=cE();function CQe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(CQe,"setBigUint64");var sq=class extends fE.Hash{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,fE.createView)(this.buffer)}update(e){oq.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,fE.toBytes)(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,fE.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oq.default.exists(this),oq.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;CQe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,fE.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};vT.SHA2=sq});var cq=q(Sv=>{"use strict";p();m();Object.defineProperty(Sv,"__esModule",{value:!0});Sv.sha224=Sv.sha256=void 0;var PQe=xT(),Nf=cE(),kQe=o((t,e,r)=>t&e^~t&r,"Chi"),BQe=o((t,e,r)=>t&e^t&r^e&r,"Maj"),LQe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gp=new Uint32Array(64),_T=class extends PQe.SHA2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=mp[0]|0,this.B=mp[1]|0,this.C=mp[2]|0,this.D=mp[3]|0,this.E=mp[4]|0,this.F=mp[5]|0,this.G=mp[6]|0,this.H=mp[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)gp[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let A=gp[b-15],T=gp[b-2],O=(0,Nf.rotr)(A,7)^(0,Nf.rotr)(A,18)^A>>>3,N=(0,Nf.rotr)(T,17)^(0,Nf.rotr)(T,19)^T>>>10;gp[b]=N+gp[b-7]+O+gp[b-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:g}=this;for(let b=0;b<64;b++){let A=(0,Nf.rotr)(f,6)^(0,Nf.rotr)(f,11)^(0,Nf.rotr)(f,25),T=g+A+kQe(f,l,h)+LQe[b]+gp[b]|0,N=((0,Nf.rotr)(n,2)^(0,Nf.rotr)(n,13)^(0,Nf.rotr)(n,22))+BQe(n,i,s)|0;g=h,h=l,l=f,f=a+T|0,a=s,s=i,i=n,n=T+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(n,i,s,a,f,l,h,g)}roundClean(){gp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},aq=class extends _T{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Sv.sha256=(0,Nf.wrapConstructor)(()=>new _T);Sv.sha224=(0,Nf.wrapConstructor)(()=>new aq)});var dye=q((jtr,lye)=>{"use strict";p();m();function DQe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var a=t.length,f=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function g(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var O=0,N=0,P=0,C=T.length;P!==C&&T[P]===0;)P++,O++;for(var D=(C-P)*h+1>>>0,M=new Uint8Array(D);P!==C;){for(var U=T[P],V=0,j=D-1;(U!==0||V<N)&&j!==-1;j--,V++)U+=256*M[j]>>>0,M[j]=U%a>>>0,U=U/a>>>0;if(U!==0)throw new Error("Non-zero carry");N=V,P++}for(var ee=D-N;ee!==D&&M[ee]===0;)ee++;for(var Y=f.repeat(O);ee<D;++ee)Y+=t.charAt(M[ee]);return Y}o(g,"encode");function b(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var O=0,N=0,P=0;T[O]===f;)N++,O++;for(var C=(T.length-O)*l+1>>>0,D=new Uint8Array(C);T[O];){var M=e[T.charCodeAt(O)];if(M===255)return;for(var U=0,V=C-1;(M!==0||U<P)&&V!==-1;V--,U++)M+=a*D[V]>>>0,D[V]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");P=U,O++}for(var j=C-P;j!==C&&D[j]===0;)j++;for(var ee=new Uint8Array(N+(C-j)),Y=N;j!==C;)ee[Y++]=D[j++];return ee}o(b,"decodeUnsafe");function A(T){var O=b(T);if(O)return O;throw new Error("Non-base"+a+" character")}return o(A,"decode"),{encode:g,decodeUnsafe:b,decode:A}}o(DQe,"base");lye.exports=DQe});var pye=q(($tr,hye)=>{p();m();var UQe=dye(),FQe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";hye.exports=UQe(FQe)});var gye=q((Xtr,mye)=>{"use strict";p();m();var fq=pye();mye.exports=function(t){function e(s){var a=Uint8Array.from(s),f=t(a),l=a.length+4,h=new Uint8Array(l);return h.set(a,0),h.set(f.subarray(0,4),a.length),fq.encode(h,l)}o(e,"encode");function r(s){var a=s.slice(0,-4),f=s.slice(-4),l=t(a);if(!(f[0]^l[0]|f[1]^l[1]|f[2]^l[2]|f[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=fq.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=fq.decode(s),f=r(a,t);if(!f)throw new Error("Invalid checksum");return f}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Av=q((err,bye)=>{"use strict";p();m();var{sha256:yye}=cq(),qQe=gye();function HQe(t){return yye(yye(t))}o(HQe,"sha256x2");bye.exports=qQe(HQe)});var xye=q((irr,vye)=>{"use strict";p();m();var uq=iu(),VQe=or().Buffer;vye.exports=function(t){function e(s){var a=t(s);return uq.encode(VQe.concat([s,a],s.length+4))}o(e,"encode");function r(s){var a=s.slice(0,-4),f=s.slice(-4),l=t(a);if(!(f[0]^l[0]|f[1]^l[1]|f[2]^l[2]|f[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=uq.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=uq.decode(s),f=r(a,t);if(!f)throw new Error("Invalid checksum");return f}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Eye=q((crr,wye)=>{"use strict";p();m();var _ye=ng(),jQe=xye();function zQe(t){var e=_ye("sha256").update(t).digest();return _ye("sha256").update(e).digest()}o(zQe,"sha256x2");wye.exports=jQe(zQe)});var hq=q((drr,Aye)=>{p();m();var lq=Eye();function Sye(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}o(Sye,"decodeRaw");function dq(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}o(dq,"encodeRaw");function KQe(t,e){return Sye(lq.decode(t),e)}o(KQe,"decode");function GQe(t,e,r){return typeof t=="number"?lq.encode(dq(t,e,r)):lq.encode(dq(t.version,t.privateKey,t.compressed))}o(GQe,"encode");Aye.exports={decode:KQe,decodeRaw:Sye,encode:GQe,encodeRaw:dq}});var Jye=q(Pr=>{"use strict";p();m();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.utils=Pr.schnorr=Pr.verify=Pr.signSync=Pr.sign=Pr.getSharedSecret=Pr.recoverPublicKey=Pr.getPublicKey=Pr.Signature=Pr.Point=Pr.CURVE=void 0;var QQe=pb(),Dr=BigInt(0),ni=BigInt(1),vp=BigInt(2),lE=BigInt(3),Pye=BigInt(8),Mn=Object.freeze({a:Dr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ni,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Pr.CURVE=Mn;var kye=o((t,e)=>(t+e/vp)/e,"divNearest"),ST={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Mn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ni*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=kye(s*t,e),l=kye(-n*t,e),h=gt(t-f*r-l*i,e),g=gt(-f*n-l*s,e),b=h>a,A=g>a;if(b&&(h=e-h),A&&(g=e-g),h>a||g>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:h,k2neg:A,k2:g}}},Du=32,jg=32,Hye=32,OT=Du+1,NT=2*Du+1;function Bye(t){let{a:e,b:r}=Mn,n=gt(t*t),i=gt(n*t);return gt(i+e*t+r)}o(Bye,"weierstrass");var AT=Mn.a===Dr,hE=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function Lye(t){if(!(t instanceof pa))throw new TypeError("JacobianPoint expected")}o(Lye,"assertJacPoint");var pa=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof $n))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals($n.ZERO)?t.ZERO:new t(e.x,e.y,ni)}static toAffineBatch(e){let r=iet(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Lye(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e,l=gt(i*i),h=gt(f*f),g=gt(r*h),b=gt(s*l),A=gt(gt(n*f)*h),T=gt(gt(a*i)*l);return g===b&&A===T}negate(){return new t(this.x,gt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=gt(e*e),s=gt(r*r),a=gt(s*s),f=e+s,l=gt(vp*(gt(f*f)-i-a)),h=gt(lE*i),g=gt(h*h),b=gt(g-vp*l),A=gt(h*(l-b)-Pye*a),T=gt(vp*r*n);return new t(b,A,T)}add(e){Lye(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e;if(s===Dr||a===Dr)return this;if(r===Dr||n===Dr)return e;let l=gt(i*i),h=gt(f*f),g=gt(r*h),b=gt(s*l),A=gt(gt(n*f)*h),T=gt(gt(a*i)*l),O=gt(b-g),N=gt(T-A);if(O===Dr)return N===Dr?this.double():t.ZERO;let P=gt(O*O),C=gt(O*P),D=gt(g*P),M=gt(N*N-C-vp*D),U=gt(N*(D-M)-A*C),V=gt(i*f*O);return new t(M,U,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Dr)return r;let n=Fye(e);if(n===ni)return this;if(!AT){let b=r,A=this;for(;n>Dr;)n&ni&&(b=b.add(A)),A=A.double(),n>>=ni;return b}let{k1neg:i,k1:s,k2neg:a,k2:f}=ST.splitScalar(n),l=r,h=r,g=this;for(;s>Dr||f>Dr;)s&ni&&(l=l.add(g)),f&ni&&(h=h.add(g)),g=g.double(),s>>=ni,f>>=ni;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(gt(h.x*ST.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=AT?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let f=1;f<2**(e-1);f++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=$n.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&pq.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),pq.set(r,i)));let s=t.ZERO,a=t.BASE,f=1+(AT?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let A=0;A<f;A++){let T=A*l,O=Number(e&h);e>>=b,O>l&&(O-=g,e+=ni);let N=T,P=T+Math.abs(O)-1,C=A%2!==0,D=O<0;O===0?a=a.add(RT(C,i[N])):s=s.add(RT(D,i[P]))}return{p:s,f:a}}multiply(e,r){let n=Fye(e),i,s;if(AT){let{k1neg:a,k1:f,k2neg:l,k2:h}=ST.splitScalar(n),{p:g,f:b}=this.wNAF(f,r),{p:A,f:T}=this.wNAF(h,r);g=RT(a,g),A=RT(l,A),A=new t(gt(A.x*ST.beta),A.y,A.z),i=g.add(A),s=b.add(T)}else{let{p:a,f}=this.wNAF(n,r);i=a,s=f}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Pye:Mv(i));let a=e,f=gt(a*a),l=gt(f*a),h=gt(r*f),g=gt(n*l),b=gt(i*a);if(s)return $n.ZERO;if(b!==ni)throw new Error("invZ was invalid");return new $n(h,g)}};pa.BASE=new pa(Mn.Gx,Mn.Gy,ni);pa.ZERO=new pa(Dr,ni,Dr);function RT(t,e){let r=e.negate();return t?r:e}o(RT,"constTimeNegate");var pq=new WeakMap,$n=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,pq.delete(this)}hasEvenY(){return this.y%vp===Dr}static fromCompressedHex(e){let r=e.length===32,n=kc(r?e:e.subarray(1));if(!IT(n))throw new Error("Point is not on curve");let i=Bye(n),s=net(i),a=(s&ni)===ni;r?a&&(s=gt(-s)):(e[0]&1)===1!==a&&(s=gt(-s));let f=new t(n,s);return f.assertValidity(),f}static fromUncompressedHex(e){let r=kc(e.subarray(1,Du+1)),n=kc(e.subarray(Du+1,Du*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Kl(e),n=r.length,i=r[0];if(n===Du)return this.fromCompressedHex(r);if(n===OT&&(i===2||i===3))return this.fromCompressedHex(r);if(n===NT&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${OT} compressed bytes or ${NT} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(zg(e))}static fromSignature(e,r,n){let{r:i,s}=jye(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=mq(Kl(e)),{n:f}=Mn,l=n===2||n===3?i+f:i,h=Mv(l,f),g=gt(-a*h,f),b=gt(s*h,f),A=n&1?"03":"02",T=t.fromHex(A+xp(l)),O=t.BASE.multiplyAndAddUnsafe(T,g,b);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return _p(this.toHex(e))}toHex(e=!1){let r=xp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${xp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!IT(r)||!IT(n))throw new Error(e);let i=gt(n*n),s=Bye(r);if(gt(i-s)!==Dr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,gt(-this.y))}double(){return pa.fromAffine(this).double().toAffine()}add(e){return pa.fromAffine(this).add(pa.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return pa.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=pa.fromAffine(this),s=r===Dr||r===ni||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=pa.fromAffine(e).multiplyUnsafe(n),f=s.add(a);return f.equals(pa.ZERO)?void 0:f.toAffine()}};Pr.Point=$n;$n.BASE=new $n(Mn.Gx,Mn.Gy);$n.ZERO=new $n(Dr,Dr);function Dye(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(Dye,"sliceDER");function Uye(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Tv(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:kc(r),left:t.subarray(e+2)}}o(Uye,"parseDERInt");function eet(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Tv(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Uye(t.subarray(2)),{data:n,left:i}=Uye(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Tv(i)}`);return{r:e,s:n}}o(eet,"parseDERSignature");var Vg=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Tv(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(MT(i.slice(0,64)),MT(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=eet(r?e:_p(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Ov(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ov(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Mn.n>>ni;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,gt(-this.s,Mn.n)):this}toDERRawBytes(){return _p(this.toDERHex())}toDERHex(){let e=Dye(uE(this.s)),r=Dye(uE(this.r)),n=e.length/2,i=r.length/2,s=uE(n),a=uE(i);return`30${uE(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return _p(this.toCompactHex())}toCompactHex(){return xp(this.r)+xp(this.s)}};Pr.Signature=Vg;function bp(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(bp,"concatBytes");var tet=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tv(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=tet[t[r]];return e}o(Tv,"bytesToHex");var ret=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function xp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Dr<=t&&t<ret))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(xp,"numTo32bStr");function Iv(t){let e=_p(xp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(Iv,"numTo32b");function uE(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(uE,"numberToHexUnpadded");function MT(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(MT,"hexToNumber");function _p(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(_p,"hexToBytes");function kc(t){return MT(Tv(t))}o(kc,"bytesToNumber");function Kl(t){return t instanceof Uint8Array?Uint8Array.from(t):_p(t)}o(Kl,"ensureBytes");function Fye(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Ov(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(Fye,"normalizeScalar");function gt(t,e=Mn.P){let r=t%e;return r>=Dr?r:e+r}o(gt,"mod");function Mf(t,e){let{P:r}=Mn,n=t;for(;e-- >Dr;)n*=n,n%=r;return n}o(Mf,"pow2");function net(t){let{P:e}=Mn,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),l=t*t*t%e,h=l*l*t%e,g=Mf(h,lE)*h%e,b=Mf(g,lE)*h%e,A=Mf(b,vp)*l%e,T=Mf(A,n)*A%e,O=Mf(T,i)*T%e,N=Mf(O,a)*O%e,P=Mf(N,f)*N%e,C=Mf(P,a)*O%e,D=Mf(C,lE)*h%e,M=Mf(D,s)*T%e,U=Mf(M,r)*l%e,V=Mf(U,vp);if(V*V%e!==t)throw new Error("Cannot find square root");return V}o(net,"sqrtMod");function Mv(t,e=Mn.P){if(t===Dr||e<=Dr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=gt(t,e),n=e,i=Dr,s=ni,a=ni,f=Dr;for(;r!==Dr;){let h=n/r,g=n%r,b=i-a*h,A=s-f*h;n=r,r=g,i=a,s=f,a=b,f=A}if(n!==ni)throw new Error("invert: does not exist");return gt(i,e)}o(Mv,"invert");function iet(t,e=Mn.P){let r=new Array(t.length),n=t.reduce((s,a,f)=>a===Dr?s:(r[f]=s,gt(s*a,e)),ni),i=Mv(n,e);return t.reduceRight((s,a,f)=>a===Dr?s:(r[f]=gt(s*r[f],e),gt(s*a,e)),i),r}o(iet,"invertBatch");function oet(t){let e=t.length*8-jg*8,r=kc(t);return e>0?r>>BigInt(e):r}o(oet,"bits2int_2");function mq(t,e=!1){let r=oet(t);if(e)return r;let{n}=Mn;return r>=n?r-n:r}o(mq,"truncateHash");var Rv,dE,CT=class{static{o(this,"HmacDrbg")}constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Pr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return dE(this.k,...e)}checkSync(){if(typeof dE!="function")throw new hE("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return bp(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return bp(...r)}};function Ov(t){return Dr<t&&t<Mn.n}o(Ov,"isWithinCurveOrder");function IT(t){return Dr<t&&t<Mn.P}o(IT,"isValidFieldElement");function Vye(t,e,r,n=!0){let{n:i}=Mn,s=mq(t,!0);if(!Ov(s))return;let a=Mv(s,i),f=$n.BASE.multiply(s),l=gt(f.x,i);if(l===Dr)return;let h=gt(a*gt(e+r*l,i),i);if(h===Dr)return;let g=new Vg(l,h),b=(f.x===g.r?0:2)|Number(f.y&ni);return n&&g.hasHighS()&&(g=g.normalizeS(),b^=1),{sig:g,recovery:b}}o(Vye,"kmdToSig");function zg(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*jg)throw new Error("Expected 32 bytes of private key");e=MT(t)}else if(t instanceof Uint8Array){if(t.length!==jg)throw new Error("Expected 32 bytes of private key");e=kc(t)}else throw new TypeError("Expected valid private key");if(!Ov(e))throw new Error("Expected private key: 0 < key < n");return e}o(zg,"normalizePrivateKey");function gq(t){return t instanceof $n?(t.assertValidity(),t):$n.fromHex(t)}o(gq,"normalizePublicKey");function jye(t){if(t instanceof Vg)return t.assertValidity(),t;try{return Vg.fromDER(t)}catch{return Vg.fromCompact(t)}}o(jye,"normalizeSignature");function set(t,e=!1){return $n.fromPrivateKey(t).toRawBytes(e)}o(set,"getPublicKey");Pr.getPublicKey=set;function aet(t,e,r,n=!1){return $n.fromSignature(t,e,r).toRawBytes(n)}o(aet,"recoverPublicKey");Pr.recoverPublicKey=aet;function qye(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===OT||n===NT:r?n===OT*2||n===NT*2:t instanceof $n}o(qye,"isProbPub");function cet(t,e,r=!1){if(qye(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!qye(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=gq(e);return n.assertValidity(),n.multiply(zg(t)).toRawBytes(r)}o(cet,"getSharedSecret");Pr.getSharedSecret=cet;function zye(t){let e=t.length>Du?t.slice(0,Du):t;return kc(e)}o(zye,"bits2int");function fet(t){let e=zye(t),r=gt(e,Mn.n);return Kye(r<Dr?e:r)}o(fet,"bits2octets");function Kye(t){return Iv(t)}o(Kye,"int2octets");function Gye(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Kl(t),i=zg(e),s=[Kye(i),fet(n)];if(r!=null){r===!0&&(r=Pr.utils.randomBytes(Du));let l=Kl(r);if(l.length!==Du)throw new Error(`sign: Expected ${Du} bytes of extra data`);s.push(l)}let a=bp(...s),f=zye(n);return{seed:a,m:f,d:i}}o(Gye,"initSigArgs");function $ye(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}o($ye,"finalizeSig");async function uet(t,e,r={}){let{seed:n,m:i,d:s}=Gye(t,e,r.extraEntropy),a=new CT(Hye,jg);await a.reseed(n);let f;for(;!(f=Vye(await a.generate(),i,s,r.canonical));)await a.reseed();return $ye(f,r)}o(uet,"sign");Pr.sign=uet;function det(t,e,r={}){let{seed:n,m:i,d:s}=Gye(t,e,r.extraEntropy),a=new CT(Hye,jg);a.reseedSync(n);let f;for(;!(f=Vye(a.generateSync(),i,s,r.canonical));)a.reseedSync();return $ye(f,r)}o(det,"signSync");Pr.signSync=det;var het={strict:!0};function pet(t,e,r,n=het){let i;try{i=jye(t),e=Kl(e)}catch{return!1}let{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;let f=mq(e),l;try{l=gq(r)}catch{return!1}let{n:h}=Mn,g=Mv(a,h),b=gt(f*g,h),A=gt(s*g,h),T=$n.BASE.multiplyAndAddUnsafe(l,b,A);return T?gt(T.x,h)===s:!1}o(pet,"verify");Pr.verify=pet;function PT(t){return gt(kc(t),Mn.n)}o(PT,"schnorrChallengeFinalize");var Nv=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Kl(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=kc(r.subarray(0,32)),i=kc(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!IT(e)||!Ov(r))throw new Error("Invalid signature")}toHex(){return xp(this.r)+xp(this.s)}toRawBytes(){return _p(this.toHex())}};function met(t){return $n.fromPrivateKey(t).toRawX()}o(met,"schnorrGetPublicKey");var kT=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=Pr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Kl(e);let{x:i,scalar:s}=this.getScalar(zg(r));if(this.px=i,this.d=s,this.rand=Kl(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=$n.fromPrivateKey(e),n=r.hasEvenY()?e:Mn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Iv(e^kc(r))}finalizeNonce(e){let r=gt(kc(e),Mn.n);if(r===Dr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new Nv(e.x,gt(r+n*i,Mn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=Pr.utils.taggedHash,a=this.initNonce(r,await s(yp.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(await s(yp.nonce,a,n,e)),g=PT(await s(yp.challenge,l,n,e)),b=this.finalizeSig(f,h,g,r);return await Xye(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=Pr.utils.taggedHashSync,a=this.initNonce(r,s(yp.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(s(yp.nonce,a,n,e)),g=PT(s(yp.challenge,l,n,e)),b=this.finalizeSig(f,h,g,r);return Zye(b,e,n)||this.error(),b}};async function get(t,e,r){return new kT(t,e,r).calc()}o(get,"schnorrSign");function yet(t,e,r){return new kT(t,e,r).calcSync()}o(yet,"schnorrSignSync");function Wye(t,e,r){let n=t instanceof Nv,i=n?t:Nv.fromHex(t);return n&&i.assertValidity(),{...i,m:Kl(e),P:gq(r)}}o(Wye,"initSchnorrVerify");function Yye(t,e,r,n){let i=$n.BASE.multiplyAndAddUnsafe(e,zg(r),gt(-n,Mn.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(Yye,"finalizeSchnorrVerify");async function Xye(t,e,r){try{let{r:n,s:i,m:s,P:a}=Wye(t,e,r),f=PT(await Pr.utils.taggedHash(yp.challenge,Iv(n),a.toRawX(),s));return Yye(n,a,i,f)}catch{return!1}}o(Xye,"schnorrVerify");function Zye(t,e,r){try{let{r:n,s:i,m:s,P:a}=Wye(t,e,r),f=PT(Pr.utils.taggedHashSync(yp.challenge,Iv(n),a.toRawX(),s));return Yye(n,a,i,f)}catch(n){if(n instanceof hE)throw n;return!1}}o(Zye,"schnorrVerifySync");Pr.schnorr={Signature:Nv,getPublicKey:met,sign:get,verify:Xye,signSync:yet,verifySync:Zye};$n.BASE._setWindowSize(8);var Pc={node:QQe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},yp={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},TT={};Pr.utils={bytesToHex:Tv,hexToBytes:_p,concatBytes:bp,mod:gt,invert:Mv,isValidPrivateKey(t){try{return zg(t),!0}catch{return!1}},_bigintTo32Bytes:Iv,_normalizePrivateKey:zg,hashToPrivateKey:o(t=>{t=Kl(t);let e=jg+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=gt(kc(t),Mn.n-ni)+ni;return Iv(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(Pc.web)return Pc.web.getRandomValues(new Uint8Array(t));if(Pc.node){let{randomBytes:e}=Pc.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Pr.utils.hashToPrivateKey(Pr.utils.randomBytes(jg+8)),"randomPrivateKey"),precompute(t=8,e=$n.BASE){let r=e===$n.BASE?e:new $n(e.x,e.y);return r._setWindowSize(t),r.multiply(lE),r},sha256:o(async(...t)=>{if(Pc.web){let e=await Pc.web.subtle.digest("SHA-256",bp(...t));return new Uint8Array(e)}else if(Pc.node){let{createHash:e}=Pc.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(Pc.web){let r=await Pc.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=bp(...e),i=await Pc.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Pc.node){let{createHmac:r}=Pc.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=TT[t];if(r===void 0){let n=await Pr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=bp(n,n),TT[t]=r}return Pr.utils.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof Rv!="function")throw new hE("sha256Sync is undefined, you need to set it");let r=TT[t];if(r===void 0){let n=Rv(Uint8Array.from(t,i=>i.charCodeAt(0)));r=bp(n,n),TT[t]=r}return Rv(r,...e)},"taggedHashSync"),_JacobianPoint:pa};Object.defineProperties(Pr.utils,{sha256Sync:{configurable:!1,get(){return Rv},set(t){Rv||(Rv=t)}},hmacSha256Sync:{configurable:!1,get(){return dE},set(t){dE||(dE=t)}}})});var bq=q(ma=>{"use strict";p();m();Object.defineProperty(ma,"__esModule",{value:!0});ma.output=ma.exists=ma.hash=ma.bytes=ma.bool=ma.number=void 0;function BT(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(BT,"number");ma.number=BT;function Qye(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(Qye,"bool");ma.bool=Qye;function yq(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(yq,"bytes");ma.bytes=yq;function e1e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");BT(t.outputLen),BT(t.blockLen)}o(e1e,"hash");ma.hash=e1e;function t1e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(t1e,"exists");ma.exists=t1e;function r1e(t,e){yq(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(r1e,"output");ma.output=r1e;var bet={number:BT,bool:Qye,bytes:yq,hash:e1e,exists:t1e,output:r1e};ma.default=bet});var n1e=q(LT=>{"use strict";p();m();Object.defineProperty(LT,"__esModule",{value:!0});LT.crypto=void 0;LT.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var UT=q(yr=>{"use strict";p();m();Object.defineProperty(yr,"__esModule",{value:!0});yr.randomBytes=yr.wrapXOFConstructorWithOpts=yr.wrapConstructorWithOpts=yr.wrapConstructor=yr.checkOpts=yr.Hash=yr.concatBytes=yr.toBytes=yr.utf8ToBytes=yr.asyncLoop=yr.nextTick=yr.hexToBytes=yr.bytesToHex=yr.isLE=yr.rotr=yr.createView=yr.u32=yr.u8=void 0;var vq=n1e(),_q=o(t=>t instanceof Uint8Array,"u8a"),vet=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");yr.u8=vet;var xet=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");yr.u32=xet;var _et=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");yr.createView=_et;var wet=o((t,e)=>t<<32-e|t>>>e,"rotr");yr.rotr=wet;yr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yr.isLE)throw new Error("Non little-endian hardware is not supported");var Eet=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Aet(t){if(!_q(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Eet[t[r]];return e}o(Aet,"bytesToHex");yr.bytesToHex=Aet;function Ret(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(Ret,"hexToBytes");yr.hexToBytes=Ret;var Tet=o(async()=>{},"nextTick");yr.nextTick=Tet;async function Iet(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,yr.nextTick)(),n+=s)}}o(Iet,"asyncLoop");yr.asyncLoop=Iet;function i1e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(i1e,"utf8ToBytes");yr.utf8ToBytes=i1e;function DT(t){if(typeof t=="string"&&(t=i1e(t)),!_q(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(DT,"toBytes");yr.toBytes=DT;function Oet(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!_q(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(Oet,"concatBytes");yr.concatBytes=Oet;var xq=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};yr.Hash=xq;var Net=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function Met(t,e){if(e!==void 0&&(typeof e!="object"||!Net(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(Met,"checkOpts");yr.checkOpts=Met;function Cet(t){let e=o(n=>t().update(DT(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Cet,"wrapConstructor");yr.wrapConstructor=Cet;function Pet(t){let e=o((n,i)=>t(i).update(DT(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Pet,"wrapConstructorWithOpts");yr.wrapConstructorWithOpts=Pet;function ket(t){let e=o((n,i)=>t(i).update(DT(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(ket,"wrapXOFConstructorWithOpts");yr.wrapXOFConstructorWithOpts=ket;function Bet(t=32){if(vq.crypto&&typeof vq.crypto.getRandomValues=="function")return vq.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(Bet,"randomBytes");yr.randomBytes=Bet});var s1e=q(Kg=>{"use strict";p();m();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.hmac=Kg.HMAC=void 0;var FT=bq(),o1e=UT(),pE=class extends o1e.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,FT.default.hash(e);let n=(0,o1e.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return FT.default.exists(this),this.iHash.update(e),this}digestInto(e){FT.default.exists(this),FT.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Kg.HMAC=pE;var Let=o((t,e,r)=>new pE(t,e).update(r).digest(),"hmac");Kg.hmac=Let;Kg.hmac.create=(t,e)=>new pE(t,e)});var a1e=q(qT=>{"use strict";p();m();Object.defineProperty(qT,"__esModule",{value:!0});qT.SHA2=void 0;var wq=bq(),mE=UT();function Det(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(Det,"setBigUint64");var Eq=class extends mE.Hash{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,mE.createView)(this.buffer)}update(e){wq.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,mE.toBytes)(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=(0,mE.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wq.default.exists(this),wq.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;Det(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=(0,mE.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};qT.SHA2=Eq});var c1e=q(Cv=>{"use strict";p();m();Object.defineProperty(Cv,"__esModule",{value:!0});Cv.sha224=Cv.sha256=void 0;var Uet=a1e(),Cf=UT(),Fet=o((t,e,r)=>t&e^~t&r,"Chi"),qet=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Het=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ep=new Uint32Array(64),HT=class extends Uet.SHA2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=wp[0]|0,this.B=wp[1]|0,this.C=wp[2]|0,this.D=wp[3]|0,this.E=wp[4]|0,this.F=wp[5]|0,this.G=wp[6]|0,this.H=wp[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)Ep[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let A=Ep[b-15],T=Ep[b-2],O=(0,Cf.rotr)(A,7)^(0,Cf.rotr)(A,18)^A>>>3,N=(0,Cf.rotr)(T,17)^(0,Cf.rotr)(T,19)^T>>>10;Ep[b]=N+Ep[b-7]+O+Ep[b-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:g}=this;for(let b=0;b<64;b++){let A=(0,Cf.rotr)(f,6)^(0,Cf.rotr)(f,11)^(0,Cf.rotr)(f,25),T=g+A+Fet(f,l,h)+Het[b]+Ep[b]|0,N=((0,Cf.rotr)(n,2)^(0,Cf.rotr)(n,13)^(0,Cf.rotr)(n,22))+qet(n,i,s)|0;g=h,h=l,l=f,f=a+T|0,a=s,s=i,i=n,n=T+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(n,i,s,a,f,l,h,g)}roundClean(){Ep.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Sq=class extends HT{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Cv.sha256=(0,Cf.wrapConstructor)(()=>new HT);Cv.sha224=(0,Cf.wrapConstructor)(()=>new Sq)});var Mq=q(ro=>{"use strict";p();m();var Vet=Jye(),jet=s1e(),f1e=c1e();function zet(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(zet,"_interopNamespaceDefault");var hn=zet(Vet);hn.utils.hmacSha256Sync=(t,...e)=>jet.hmac(f1e.sha256,t,hn.utils.concatBytes(...e));hn.utils.sha256Sync=(...t)=>f1e.sha256(hn.utils.concatBytes(...t));var Tq=hn.utils._normalizePrivateKey,Ket=32,Get=32,Aq=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),$et=32;function Rq(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}o(Rq,"cmpBN32");function gE(t){return!(!(t instanceof Uint8Array)||t.length!==Get||Rq(t,Aq)>=0)}o(gE,"isTweak");function u1e(t){return t instanceof Uint8Array&&t.length===64&&Rq(t.subarray(0,32),Aq)<0&&Rq(t.subarray(32,64),Aq)<0}o(u1e,"isSignature");function VT(t){return t instanceof Uint8Array&&t.length===Ket}o(VT,"isHash");function l1e(t){return t===void 0||t instanceof Uint8Array&&t.length===$et}o(l1e,"isExtraData");function d1e(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(d1e,"hexToNumber");function Wet(t){return d1e(hn.utils.bytesToHex(t))}o(Wet,"bytesToNumber");function Iq(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=d1e(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=Wet(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}o(Iq,"normalizeScalar");var Yet=o((t,e)=>{let r=Tq(t),n=Iq(e),i=hn.utils._bigintTo32Bytes(hn.utils.mod(r+n,hn.CURVE.n));return hn.utils.isValidPrivateKey(i)?i:null},"_privateAdd"),Xet=o((t,e)=>{let r=Tq(t),n=Iq(e),i=hn.utils._bigintTo32Bytes(hn.utils.mod(r-n,hn.CURVE.n));return hn.utils.isValidPrivateKey(i)?i:null},"_privateSub"),Zet=o(t=>{let e=Tq(t),r=hn.utils._bigintTo32Bytes(hn.CURVE.n-e);return hn.utils.isValidPrivateKey(r)?r:null},"_privateNegate"),h1e=o((t,e,r)=>{let n=hn.Point.fromHex(t),i=Iq(e),s=hn.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(r)},"_pointAddScalar"),Jet=o((t,e,r)=>{let n=hn.Point.fromHex(t),i=typeof e=="string"?e:hn.utils.bytesToHex(e),s=BigInt(`0x${i}`);return n.multiply(s).toRawBytes(r)},"_pointMultiply");function yE(t,e){return t===void 0?e!==void 0?p1e(e):!0:!!t}o(yE,"assumeCompression");function Gg(t){try{return t()}catch{return null}}o(Gg,"throwToNull");function Oq(t,e){if(t.length===32!==e)return!1;try{return!!hn.Point.fromHex(t)}catch{return!1}}o(Oq,"_isPoint");function Sp(t){return Oq(t,!1)}o(Sp,"isPoint");function p1e(t){return Oq(t,!1)&&t.length===33}o(p1e,"isPointCompressed");function Ap(t){return hn.utils.isValidPrivateKey(t)}o(Ap,"isPrivate");function Nq(t){return Oq(t,!0)}o(Nq,"isXOnlyPoint");function Qet(t,e){if(!Nq(t))throw new Error("Expected Point");if(!gE(e))throw new Error("Expected Tweak");return Gg(()=>{let r=h1e(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}o(Qet,"xOnlyPointAddTweak");function m1e(t){if(!Sp(t))throw new Error("Expected Point");return t.slice(1,33)}o(m1e,"xOnlyPointFromPoint");function g1e(t,e){if(!Ap(t))throw new Error("Expected Private");return Gg(()=>hn.getPublicKey(t,yE(e)))}o(g1e,"pointFromScalar");function ett(t){if(!Ap(t))throw new Error("Expected Private");return m1e(g1e(t))}o(ett,"xOnlyPointFromScalar");function ttt(t,e){if(!Sp(t))throw new Error("Expected Point");return hn.Point.fromHex(t).toRawBytes(yE(e,t))}o(ttt,"pointCompress");function rtt(t,e,r){if(!Sp(t))throw new Error("Expected Point");if(!gE(e))throw new Error("Expected Tweak");return Gg(()=>Jet(t,e,yE(r,t)))}o(rtt,"pointMultiply");function ntt(t,e,r){if(!Sp(t)||!Sp(e))throw new Error("Expected Point");return Gg(()=>{let n=hn.Point.fromHex(t),i=hn.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(yE(r,t))})}o(ntt,"pointAdd");function itt(t,e,r){if(!Sp(t))throw new Error("Expected Point");if(!gE(e))throw new Error("Expected Tweak");return Gg(()=>h1e(t,e,yE(r,t)))}o(itt,"pointAddScalar");function ott(t,e){if(Ap(t)===!1)throw new Error("Expected Private");if(gE(e)===!1)throw new Error("Expected Tweak");return Gg(()=>Yet(t,e))}o(ott,"privateAdd");function stt(t,e){if(Ap(t)===!1)throw new Error("Expected Private");if(gE(e)===!1)throw new Error("Expected Tweak");return Gg(()=>Xet(t,e))}o(stt,"privateSub");function att(t){if(Ap(t)===!1)throw new Error("Expected Private");return Zet(t)}o(att,"privateNegate");function ctt(t,e,r){if(!Ap(e))throw new Error("Expected Private");if(!VT(t))throw new Error("Expected Scalar");if(!l1e(r))throw new Error("Expected Extra Data (32 bytes)");return hn.signSync(t,e,{der:!1,extraEntropy:r})}o(ctt,"sign");function ftt(t,e,r=Buffer.alloc(32,0)){if(!Ap(e))throw new Error("Expected Private");if(!VT(t))throw new Error("Expected Scalar");if(!l1e(r))throw new Error("Expected Extra Data (32 bytes)");return hn.schnorr.signSync(t,e,r)}o(ftt,"signSchnorr");function utt(t,e,r,n){if(!Sp(e))throw new Error("Expected Point");if(!u1e(r))throw new Error("Expected Signature");if(!VT(t))throw new Error("Expected Scalar");return hn.verify(r,t,e,{strict:n})}o(utt,"verify");function ltt(t,e,r){if(!Nq(e))throw new Error("Expected Point");if(!u1e(r))throw new Error("Expected Signature");if(!VT(t))throw new Error("Expected Scalar");return hn.schnorr.verifySync(r,t,e)}o(ltt,"verifySchnorr");ro.isPoint=Sp;ro.isPointCompressed=p1e;ro.isPrivate=Ap;ro.isXOnlyPoint=Nq;ro.pointAdd=ntt;ro.pointAddScalar=itt;ro.pointCompress=ttt;ro.pointFromScalar=g1e;ro.pointMultiply=rtt;ro.privateAdd=ott;ro.privateNegate=att;ro.privateSub=stt;ro.sign=ctt;ro.signSchnorr=ftt;ro.verify=utt;ro.verifySchnorr=ltt;ro.xOnlyPointAddTweak=Qet;ro.xOnlyPointFromPoint=m1e;ro.xOnlyPointFromScalar=ett});var Pf=q(Tp=>{"use strict";p();m();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.testnet=Tp.regtest=Tp.bitcoin=void 0;Tp.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Tp.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Tp.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var Pq=q(Ip=>{"use strict";p();m();Object.defineProperty(Ip,"__esModule",{value:!0});Ip.encode=Ip.decode=Ip.check=void 0;function xtt(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}o(xtt,"check");Ip.check=xtt;function _tt(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}o(_tt,"decode");Ip.decode=_tt;function wtt(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}o(wtt,"encode");Ip.encode=wtt});var zT=q(Pv=>{"use strict";p();m();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.REVERSE_OPS=Pv.OPS=void 0;var kq={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Pv.OPS=kq;var E1e={};Pv.REVERSE_OPS=E1e;for(let t of Object.keys(kq)){let e=kq[t];E1e[e]=t}});var A1e=q(Np=>{"use strict";p();m();Object.defineProperty(Np,"__esModule",{value:!0});Np.decode=Np.encode=Np.encodingLength=void 0;var Op=zT();function S1e(t){return t<Op.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}o(S1e,"encodingLength");Np.encodingLength=S1e;function Ett(t,e,r){let n=S1e(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Op.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Op.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Op.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}o(Ett,"encode");Np.encode=Ett;function Stt(t,e){let r=t.readUInt8(e),n,i;if(r<Op.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Op.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Op.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Op.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}o(Stt,"decode");Np.decode=Stt});var R1e=q(kv=>{"use strict";p();m();Object.defineProperty(kv,"__esModule",{value:!0});kv.encode=kv.decode=void 0;function Att(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),a=t.readUInt8(4);return a&128?-((a&-129)*4294967296+s):a*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}o(Att,"decode");kv.decode=Att;function Rtt(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}o(Rtt,"scriptNumSize");function Ttt(t){let e=Math.abs(t),r=Rtt(e),n=Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}o(Ttt,"encode");kv.encode=Ttt});var KT=q((Wnr,T1e)=>{p();m();var vE={Array:o(function(t){return t!=null&&t.constructor===Array},"Array"),Boolean:o(function(t){return typeof t=="boolean"},"Boolean"),Function:o(function(t){return typeof t=="function"},"Function"),Nil:o(function(t){return t==null},"Nil"),Number:o(function(t){return typeof t=="number"},"Number"),Object:o(function(t){return typeof t=="object"},"Object"),String:o(function(t){return typeof t=="string"},"String"),"":function(){return!0}};vE.Null=vE.Nil;for(Bq in vE)vE[Bq].toJSON=function(t){return t}.bind(null,Bq);var Bq;T1e.exports=vE});var Uq=q((Jnr,N1e)=>{p();m();var $g=KT();function I1e(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}o(I1e,"getTypeName");function Lq(t){return $g.Nil(t)?"":I1e(t.constructor)}o(Lq,"getValueTypeName");function Itt(t){return $g.Function(t)?"":$g.String(t)?JSON.stringify(t):t&&$g.Object(t)?"":t}o(Itt,"getValue");function Dq(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}o(Dq,"captureStackTrace");function GT(t){return $g.Function(t)?t.toJSON?t.toJSON():I1e(t):$g.Array(t)?"Array":t&&$g.Object(t)?"Object":t!==void 0?t:""}o(GT,"tfJSON");function O1e(t,e,r){var n=Itt(e);return"Expected "+GT(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}o(O1e,"tfErrorString");function uh(t,e,r){r=r||Lq(e),this.message=O1e(t,e,r),Dq(this,uh),this.__type=t,this.__value=e,this.__valueTypeName=r}o(uh,"TfTypeError");uh.prototype=Object.create(Error.prototype);uh.prototype.constructor=uh;function Ott(t,e,r,n,i){var s='" of type ';return e==="key"&&(s='" with key type '),O1e('property "'+GT(r)+s+GT(t),n,i)}o(Ott,"tfPropertyErrorString");function Bv(t,e,r,n,i){t?(i=i||Lq(n),this.message=Ott(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',Dq(this,uh),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}o(Bv,"TfPropertyTypeError");Bv.prototype=Object.create(Error.prototype);Bv.prototype.constructor=uh;function Ntt(t,e){return new uh(t,{},e)}o(Ntt,"tfCustomError");function Mtt(t,e,r){return t instanceof Bv?(e=e+"."+t.__property,t=new Bv(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof uh&&(t=new Bv(t.__type,e,r,t.__value,t.__valueTypeName)),Dq(t),t}o(Mtt,"tfSubError");N1e.exports={TfTypeError:uh,TfPropertyTypeError:Bv,tfCustomError:Ntt,tfSubError:Mtt,tfJSON:GT,getValueTypeName:Lq}});var k1e=q((rir,P1e)=>{p();m();var Vq=KT(),Ctt=Uq();function M1e(t){return Buffer.isBuffer(t)}o(M1e,"_Buffer");function C1e(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}o(C1e,"Hex");function $T(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw Ctt.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return o(n,"Length"),n.toJSON=function(){return r},n}o($T,"_LengthN");var Ptt=$T.bind(null,Vq.Array),ktt=$T.bind(null,M1e),Btt=$T.bind(null,C1e),Ltt=$T.bind(null,Vq.String);function Dtt(t,e,r){r=r||Vq.Number;function n(i,s){return r(i,s)&&i>t&&i<e}return o(n,"_range"),n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}o(Dtt,"Range");var qq=Math.pow(2,53)-1;function Utt(t){return typeof t=="number"&&isFinite(t)}o(Utt,"Finite");function Ftt(t){return t<<24>>24===t}o(Ftt,"Int8");function qtt(t){return t<<16>>16===t}o(qtt,"Int16");function Htt(t){return(t|0)===t}o(Htt,"Int32");function Vtt(t){return typeof t=="number"&&t>=-qq&&t<=qq&&Math.floor(t)===t}o(Vtt,"Int53");function jtt(t){return(t&255)===t}o(jtt,"UInt8");function ztt(t){return(t&65535)===t}o(ztt,"UInt16");function Ktt(t){return t>>>0===t}o(Ktt,"UInt32");function Gtt(t){return typeof t=="number"&&t>=0&&t<=qq&&Math.floor(t)===t}o(Gtt,"UInt53");var Hq={ArrayN:Ptt,Buffer:M1e,BufferN:ktt,Finite:Utt,Hex:C1e,HexN:Btt,Int8:Ftt,Int16:qtt,Int32:Htt,Int53:Vtt,Range:Dtt,StringN:Ltt,UInt8:jtt,UInt16:ztt,UInt32:Ktt,UInt53:Gtt};for(Fq in Hq)Hq[Fq].toJSON=function(t){return t}.bind(null,Fq);var Fq;P1e.exports=Hq});var F1e=q((sir,U1e)=>{p();m();var _E=Uq(),fs=KT(),lh=_E.tfJSON,L1e=_E.TfTypeError,D1e=_E.TfPropertyTypeError,xE=_E.tfSubError,$tt=_E.getValueTypeName,dh={arrayOf:o(function(e,r){e=Gl(e),r=r||{};function n(i,s){return!fs.Array(i)||fs.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(a,f){try{return ga(e,a,s)}catch(l){throw xE(l,f)}})}return o(n,"_arrayOf"),n.toJSON=function(){var i="["+lh(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},"arrayOf"),maybe:o(function t(e){e=Gl(e);function r(n,i){return fs.Nil(n)||e(n,i,t)}return o(r,"_maybe"),r.toJSON=function(){return"?"+lh(e)},r},"maybe"),map:o(function(e,r){e=Gl(e),r&&(r=Gl(r));function n(i,s){if(!fs.Object(i)||fs.Nil(i))return!1;for(var a in i){try{r&&ga(r,a,s)}catch(l){throw xE(l,a,"key")}try{var f=i[a];ga(e,f,s)}catch(l){throw xE(l,a)}}return!0}return o(n,"_map"),r?n.toJSON=function(){return"{"+lh(r)+": "+lh(e)+"}"}:n.toJSON=function(){return"{"+lh(e)+"}"},n},"map"),object:o(function(e){var r={};for(var n in e)r[n]=Gl(e[n]);function i(s,a){if(!fs.Object(s)||fs.Nil(s))return!1;var f;try{for(f in r){var l=r[f],h=s[f];ga(l,h,a)}}catch(g){throw xE(g,f)}if(a){for(f in s)if(!r[f])throw new D1e(void 0,f)}return!0}return o(i,"_object"),i.toJSON=function(){return lh(r)},i},"object"),anyOf:o(function(){var e=[].slice.call(arguments).map(Gl);function r(n,i){return e.some(function(s){try{return ga(s,n,i)}catch{return!1}})}return o(r,"_anyOf"),r.toJSON=function(){return e.map(lh).join("|")},r},"anyOf"),allOf:o(function(){var e=[].slice.call(arguments).map(Gl);function r(n,i){return e.every(function(s){try{return ga(s,n,i)}catch{return!1}})}return o(r,"_allOf"),r.toJSON=function(){return e.map(lh).join(" & ")},r},"allOf"),quacksLike:o(function(e){function r(n){return e===$tt(n)}return o(r,"_quacksLike"),r.toJSON=function(){return e},r},"quacksLike"),tuple:o(function(){var e=[].slice.call(arguments).map(Gl);function r(n,i){return fs.Nil(n)||fs.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(s,a){try{return ga(s,n[a],i)}catch(f){throw xE(f,a)}})}return o(r,"_tuple"),r.toJSON=function(){return"("+e.map(lh).join(", ")+")"},r},"tuple"),value:o(function(e){function r(n){return n===e}return o(r,"_value"),r.toJSON=function(){return e},r},"value")};dh.oneOf=dh.anyOf;function Gl(t){if(fs.String(t))return t[0]==="?"?dh.maybe(t.slice(1)):fs[t]||dh.quacksLike(t);if(t&&fs.Object(t)){if(fs.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return dh.arrayOf(t[0])}return dh.object(t)}else if(fs.Function(t))return t;return dh.value(t)}o(Gl,"compile");function ga(t,e,r,n){if(fs.Function(t)){if(t(e,r))return!0;throw new L1e(n||t,e)}return ga(Gl(t),e,r)}o(ga,"typeforce");for(hh in fs)ga[hh]=fs[hh];var hh;for(hh in dh)ga[hh]=dh[hh];var B1e=k1e();for(hh in B1e)ga[hh]=B1e[hh];ga.compile=Gl;ga.TfTypeError=L1e;ga.TfPropertyTypeError=D1e;U1e.exports=ga});var us=q(at=>{"use strict";p();m();Object.defineProperty(at,"__esModule",{value:!0});at.oneOf=at.Null=at.BufferN=at.Function=at.UInt32=at.UInt8=at.tuple=at.maybe=at.Hex=at.Buffer=at.String=at.Boolean=at.Array=at.Number=at.Hash256bit=at.Hash160bit=at.Buffer256bit=at.isTaptree=at.isTapleaf=at.TAPLEAF_VERSION_MASK=at.Network=at.ECPoint=at.Satoshi=at.Signer=at.BIP32Path=at.UInt31=at.isPoint=at.typeforce=void 0;var WT=ci();at.typeforce=F1e();var q1e=WT.Buffer.alloc(32,0),H1e=WT.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Wtt(t){if(!WT.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(q1e)===0||r.compare(H1e)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(q1e)===0||n.compare(H1e)>=0?!1:e===4&&t.length===65}o(Wtt,"isPoint");at.isPoint=Wtt;var Ytt=Math.pow(2,31)-1;function Xtt(t){return at.typeforce.UInt32(t)&&t<=Ytt}o(Xtt,"UInt31");at.UInt31=Xtt;function V1e(t){return at.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}o(V1e,"BIP32Path");at.BIP32Path=V1e;V1e.toJSON=()=>"BIP32 derivation path";function Ztt(t){return(at.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}o(Ztt,"Signer");at.Signer=Ztt;var Jtt=21*1e14;function Qtt(t){return at.typeforce.UInt53(t)&&t<=Jtt}o(Qtt,"Satoshi");at.Satoshi=Qtt;at.ECPoint=at.typeforce.quacksLike("Point");at.Network=at.typeforce.compile({messagePrefix:at.typeforce.oneOf(at.typeforce.Buffer,at.typeforce.String),bip32:{public:at.typeforce.UInt32,private:at.typeforce.UInt32},pubKeyHash:at.typeforce.UInt8,scriptHash:at.typeforce.UInt8,wif:at.typeforce.UInt8});at.TAPLEAF_VERSION_MASK=254;function j1e(t){return!t||!("output"in t)||!WT.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&at.TAPLEAF_VERSION_MASK)===t.version:!0}o(j1e,"isTapleaf");at.isTapleaf=j1e;function z1e(t){return(0,at.Array)(t)?t.length!==2?!1:t.every(e=>z1e(e)):j1e(t)}o(z1e,"isTaptree");at.isTaptree=z1e;at.Buffer256bit=at.typeforce.BufferN(32);at.Hash160bit=at.typeforce.BufferN(20);at.Hash256bit=at.typeforce.BufferN(32);at.Number=at.typeforce.Number;at.Array=at.typeforce.Array;at.Boolean=at.typeforce.Boolean;at.String=at.typeforce.String;at.Buffer=at.typeforce.Buffer;at.Hex=at.typeforce.Hex;at.maybe=at.typeforce.maybe;at.tuple=at.typeforce.tuple;at.UInt8=at.typeforce.UInt8;at.UInt32=at.typeforce.UInt32;at.Function=at.typeforce.Function;at.BufferN=at.typeforce.BufferN;at.Null=at.typeforce.Null;at.oneOf=at.typeforce.oneOf});var Y1e=q(Dv=>{"use strict";p();m();Object.defineProperty(Dv,"__esModule",{value:!0});Dv.encode=Dv.decode=void 0;var{Buffer:Lv}=ci(),W1e=Pq(),jq=us(),{typeforce:ert}=jq,K1e=Lv.alloc(1,0);function G1e(t){let e=0;for(;t[e]===0;)++e;return e===t.length?K1e:(t=t.slice(e),t[0]&128?Lv.concat([K1e,t],1+t.length):t)}o(G1e,"toDER");function $1e(t){t[0]===0&&(t=t.slice(1));let e=Lv.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}o($1e,"fromDER");function trt(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=W1e.decode(t.slice(0,-1)),i=$1e(n.r),s=$1e(n.s);return{signature:Lv.concat([i,s],64),hashType:e}}o(trt,"decode");Dv.decode=trt;function rrt(t,e){ert({signature:jq.BufferN(64),hashType:jq.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Lv.allocUnsafe(1);n.writeUInt8(e,0);let i=G1e(t.slice(0,32)),s=G1e(t.slice(32,64));return Lv.concat([W1e.encode(i,s),n])}o(rrt,"encode");Dv.encode=rrt});var ya=q(Cn=>{"use strict";p();m();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.signature=Cn.number=Cn.isCanonicalScriptSignature=Cn.isDefinedHashType=Cn.isCanonicalPubKey=Cn.toStack=Cn.fromASM=Cn.toASM=Cn.decompile=Cn.compile=Cn.countNonPushOnlyOPs=Cn.isPushOnly=Cn.OPS=void 0;var nrt=Pq(),Xa=zT();Object.defineProperty(Cn,"OPS",{enumerable:!0,get:o(function(){return Xa.OPS},"get")});var zq=A1e(),X1e=R1e(),irt=Y1e(),$l=us(),{typeforce:wE}=$l,Z1e=Xa.OPS.OP_RESERVED;function ort(t){return $l.Number(t)&&(t===Xa.OPS.OP_0||t>=Xa.OPS.OP_1&&t<=Xa.OPS.OP_16||t===Xa.OPS.OP_1NEGATE)}o(ort,"isOPInt");function J1e(t){return $l.Buffer(t)||ort(t)}o(J1e,"isPushOnlyChunk");function Q1e(t){return $l.Array(t)&&t.every(J1e)}o(Q1e,"isPushOnly");Cn.isPushOnly=Q1e;function srt(t){return t.length-t.filter(J1e).length}o(srt,"countNonPushOnlyOPs");Cn.countNonPushOnlyOPs=srt;function YT(t){if(t.length===0)return Xa.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return Z1e+t[0];if(t[0]===129)return Xa.OPS.OP_1NEGATE}}o(YT,"asMinimalOP");function ebe(t){return Buffer.isBuffer(t)}o(ebe,"chunksIsBuffer");function art(t){return $l.Array(t)}o(art,"chunksIsArray");function XT(t){return Buffer.isBuffer(t)}o(XT,"singleChunkIsBuffer");function tbe(t){if(ebe(t))return t;wE($l.Array,t);let e=t.reduce((i,s)=>XT(s)?s.length===1&&YT(s)!==void 0?i+1:i+zq.encodingLength(s.length)+s.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(XT(i)){let s=YT(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=zq.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}o(tbe,"compile");Cn.compile=tbe;function Kq(t){if(art(t))return t;wE($l.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Xa.OPS.OP_0&&n<=Xa.OPS.OP_PUSHDATA4){let i=zq.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let a=YT(s);a!==void 0?e.push(a):e.push(s)}else e.push(n),r+=1}return e}o(Kq,"decompile");Cn.decompile=Kq;function crt(t){return ebe(t)&&(t=Kq(t)),t.map(e=>{if(XT(e)){let r=YT(e);if(r===void 0)return e.toString("hex");e=r}return Xa.REVERSE_OPS[e]}).join(" ")}o(crt,"toASM");Cn.toASM=crt;function frt(t){return wE($l.String,t),tbe(t.split(" ").map(e=>Xa.OPS[e]!==void 0?Xa.OPS[e]:(wE($l.Hex,e),Buffer.from(e,"hex"))))}o(frt,"fromASM");Cn.fromASM=frt;function urt(t){return t=Kq(t),wE(Q1e,t),t.map(e=>XT(e)?e:e===Xa.OPS.OP_0?Buffer.allocUnsafe(0):X1e.encode(e-Z1e))}o(urt,"toStack");Cn.toStack=urt;function lrt(t){return $l.isPoint(t)}o(lrt,"isCanonicalPubKey");Cn.isCanonicalPubKey=lrt;function rbe(t){let e=t&-129;return e>0&&e<4}o(rbe,"isDefinedHashType");Cn.isDefinedHashType=rbe;function drt(t){return!Buffer.isBuffer(t)||!rbe(t[t.length-1])?!1:nrt.check(t.slice(0,-1))}o(drt,"isCanonicalScriptSignature");Cn.isCanonicalScriptSignature=drt;Cn.number=X1e;Cn.signature=irt});var ph=q(Uv=>{"use strict";p();m();Object.defineProperty(Uv,"__esModule",{value:!0});Uv.value=Uv.prop=void 0;function hrt(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}o(hrt,"prop");Uv.prop=hrt;function prt(t){let e;return()=>(e!==void 0||(e=t()),e)}o(prt,"value");Uv.value=prt});var obe=q(JT=>{"use strict";p();m();Object.defineProperty(JT,"__esModule",{value:!0});JT.p2data=void 0;var mrt=Pf(),ZT=ya(),mh=us(),nbe=ph(),ibe=ZT.OPS;function grt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(grt,"stacksEqual");function yrt(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,mh.typeforce)({network:mh.typeforce.maybe(mh.typeforce.Object),output:mh.typeforce.maybe(mh.typeforce.Buffer),data:mh.typeforce.maybe(mh.typeforce.arrayOf(mh.typeforce.Buffer))},t);let n={name:"embed",network:t.network||mrt.bitcoin};if(nbe.prop(n,"output",()=>{if(t.data)return ZT.compile([ibe.OP_RETURN].concat(t.data))}),nbe.prop(n,"data",()=>{if(t.output)return ZT.decompile(t.output).slice(1)}),e.validate&&t.output){let i=ZT.decompile(t.output);if(i[0]!==ibe.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(mh.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!grt(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}o(yrt,"p2data");JT.p2data=yrt});var abe=q(eI=>{"use strict";p();m();Object.defineProperty(eI,"__esModule",{value:!0});eI.p2ms=void 0;var brt=Pf(),Fv=ya(),go=us(),Mp=ph(),qv=Fv.OPS,QT=qv.OP_RESERVED;function sbe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(sbe,"stacksEqual");function vrt(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return Fv.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===qv.OP_0)!==void 0}o(r,"isAcceptableSignature"),(0,go.typeforce)({network:go.typeforce.maybe(go.typeforce.Object),m:go.typeforce.maybe(go.typeforce.Number),n:go.typeforce.maybe(go.typeforce.Number),output:go.typeforce.maybe(go.typeforce.Buffer),pubkeys:go.typeforce.maybe(go.typeforce.arrayOf(go.isPoint)),signatures:go.typeforce.maybe(go.typeforce.arrayOf(r)),input:go.typeforce.maybe(go.typeforce.Buffer)},t);let i={network:t.network||brt.bitcoin},s=[],a=!1;function f(l){a||(a=!0,s=Fv.decompile(l),i.m=s[0]-QT,i.n=s[s.length-2]-QT,i.pubkeys=s.slice(1,-2))}if(o(f,"decode"),Mp.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return Fv.compile([].concat(QT+t.m,t.pubkeys,QT+i.n,qv.OP_CHECKMULTISIG))}),Mp.prop(i,"m",()=>{if(i.output)return f(i.output),i.m}),Mp.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),Mp.prop(i,"pubkeys",()=>{if(t.output)return f(t.output),i.pubkeys}),Mp.prop(i,"signatures",()=>{if(t.input)return Fv.decompile(t.input).slice(1)}),Mp.prop(i,"input",()=>{if(t.signatures)return Fv.compile([qv.OP_0].concat(t.signatures))}),Mp.prop(i,"witness",()=>{if(i.input)return[]}),Mp.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(f(t.output),!go.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!go.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==qv.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,go.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!sbe(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==qv.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!sbe(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}o(vrt,"p2ms");eI.p2ms=vrt});var fbe=q(tI=>{"use strict";p();m();Object.defineProperty(tI,"__esModule",{value:!0});tI.p2pk=void 0;var xrt=Pf(),Vv=ya(),Uu=us(),Hv=ph(),cbe=Vv.OPS;function _rt(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Uu.typeforce)({network:Uu.typeforce.maybe(Uu.typeforce.Object),output:Uu.typeforce.maybe(Uu.typeforce.Buffer),pubkey:Uu.typeforce.maybe(Uu.isPoint),signature:Uu.typeforce.maybe(Vv.isCanonicalScriptSignature),input:Uu.typeforce.maybe(Uu.typeforce.Buffer)},t);let r=Hv.value(()=>Vv.decompile(t.input)),i={name:"p2pk",network:t.network||xrt.bitcoin};if(Hv.prop(i,"output",()=>{if(t.pubkey)return Vv.compile([t.pubkey,cbe.OP_CHECKSIG])}),Hv.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),Hv.prop(i,"signature",()=>{if(t.input)return r()[0]}),Hv.prop(i,"input",()=>{if(t.signature)return Vv.compile([t.signature])}),Hv.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==cbe.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Uu.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!Vv.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}o(_rt,"p2pk");tI.p2pk=_rt});var hbe=q(jv=>{"use strict";p();m();Object.defineProperty(jv,"__esModule",{value:!0});jv.ripemd160=jv.RIPEMD160=void 0;var wrt=xT(),Ert=cE(),Srt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),lbe=Uint8Array.from({length:16},(t,e)=>e),Art=lbe.map(t=>(9*t+5)%16),Gq=[lbe],$q=[Art];for(let t=0;t<4;t++)for(let e of[Gq,$q])e.push(e[t].map(r=>Srt[r]));var dbe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Rrt=Gq.map((t,e)=>t.map(r=>dbe[e][r])),Trt=$q.map((t,e)=>t.map(r=>dbe[e][r])),Irt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Ort=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rI=o((t,e)=>t<<e|t>>>32-e,"rotl");function ube(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(ube,"f");var nI=new Uint32Array(16),iI=class extends wrt.SHA2{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let T=0;T<16;T++,r+=4)nI[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,f=this.h2|0,l=f,h=this.h3|0,g=h,b=this.h4|0,A=b;for(let T=0;T<5;T++){let O=4-T,N=Irt[T],P=Ort[T],C=Gq[T],D=$q[T],M=Rrt[T],U=Trt[T];for(let V=0;V<16;V++){let j=rI(n+ube(T,s,f,h)+nI[C[V]]+N,M[V])+b|0;n=b,b=h,h=rI(f,10)|0,f=s,s=j}for(let V=0;V<16;V++){let j=rI(i+ube(O,a,l,g)+nI[D[V]]+P,U[V])+A|0;i=A,A=g,g=rI(l,10)|0,l=a,a=j}}this.set(this.h1+f+g|0,this.h2+h+A|0,this.h3+b+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){nI.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};jv.RIPEMD160=iI;jv.ripemd160=(0,Ert.wrapConstructor)(()=>new iI)});var pbe=q(oI=>{"use strict";p();m();Object.defineProperty(oI,"__esModule",{value:!0});oI.sha1=void 0;var Nrt=xT(),Mrt=cE(),Wq=o((t,e)=>t<<e|t>>>32-e>>>0,"rotl"),Crt=o((t,e,r)=>t&e^~t&r,"Chi"),Prt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),EE=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Cp=new Uint32Array(80),Yq=class extends Nrt.SHA2{static{o(this,"SHA1")}constructor(){super(64,20,8,!1),this.A=EE[0]|0,this.B=EE[1]|0,this.C=EE[2]|0,this.D=EE[3]|0,this.E=EE[4]|0}get(){let{A:e,B:r,C:n,D:i,E:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)Cp[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)Cp[l]=Wq(Cp[l-3]^Cp[l-8]^Cp[l-14]^Cp[l-16],1);let{A:n,B:i,C:s,D:a,E:f}=this;for(let l=0;l<80;l++){let h,g;l<20?(h=Crt(i,s,a),g=1518500249):l<40?(h=i^s^a,g=1859775393):l<60?(h=Prt(i,s,a),g=2400959708):(h=i^s^a,g=3395469782);let b=Wq(n,5)+h+f+g+Cp[l]|0;f=a,a=s,s=Wq(i,30),i=n,n=b}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,this.set(n,i,s,a,f)}roundClean(){Cp.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};oI.sha1=(0,Mrt.wrapConstructor)(()=>new Yq)});var Wl=q(yo=>{"use strict";p();m();Object.defineProperty(yo,"__esModule",{value:!0});yo.taggedHash=yo.TAGGED_HASH_PREFIXES=yo.TAGS=yo.hash256=yo.hash160=yo.sha256=yo.sha1=yo.ripemd160=void 0;var{Buffer:ba}=ci(),mbe=hbe(),krt=pbe(),sI=cq();function Brt(t){return ba.from((0,mbe.ripemd160)(Uint8Array.from(t)))}o(Brt,"ripemd160");yo.ripemd160=Brt;function Lrt(t){return ba.from((0,krt.sha1)(Uint8Array.from(t)))}o(Lrt,"sha1");yo.sha1=Lrt;function gbe(t){return ba.from((0,sI.sha256)(Uint8Array.from(t)))}o(gbe,"sha256");yo.sha256=gbe;function Drt(t){return ba.from((0,mbe.ripemd160)((0,sI.sha256)(Uint8Array.from(t))))}o(Drt,"hash160");yo.hash160=Drt;function Urt(t){return ba.from((0,sI.sha256)((0,sI.sha256)(Uint8Array.from(t))))}o(Urt,"hash256");yo.hash256=Urt;yo.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];yo.TAGGED_HASH_PREFIXES={"BIP0340/challenge":ba.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":ba.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":ba.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:ba.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:ba.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:ba.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:ba.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":ba.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":ba.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Frt(t,e){return gbe(ba.concat([yo.TAGGED_HASH_PREFIXES[t],e]))}o(Frt,"taggedHash");yo.taggedHash=Frt});var bbe=q(aI=>{"use strict";p();m();Object.defineProperty(aI,"__esModule",{value:!0});aI.p2pkh=void 0;var Xq=Wl(),qrt=Pf(),zv=ya(),va=us(),gh=ph(),ybe=Av(),Pp=zv.OPS;function Hrt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,va.typeforce)({network:va.typeforce.maybe(va.typeforce.Object),address:va.typeforce.maybe(va.typeforce.String),hash:va.typeforce.maybe(va.typeforce.BufferN(20)),output:va.typeforce.maybe(va.typeforce.BufferN(25)),pubkey:va.typeforce.maybe(va.isPoint),signature:va.typeforce.maybe(zv.isCanonicalScriptSignature),input:va.typeforce.maybe(va.typeforce.Buffer)},t);let r=gh.value(()=>{let a=Buffer.from(ybe.decode(t.address)),f=a.readUInt8(0),l=a.slice(1);return{version:f,hash:l}}),n=gh.value(()=>zv.decompile(t.input)),i=t.network||qrt.bitcoin,s={name:"p2pkh",network:i};if(gh.prop(s,"address",()=>{if(!s.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(i.pubKeyHash,0),s.hash.copy(a,1),ybe.encode(a)}),gh.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return Xq.hash160(t.pubkey||s.pubkey)}),gh.prop(s,"output",()=>{if(s.hash)return zv.compile([Pp.OP_DUP,Pp.OP_HASH160,s.hash,Pp.OP_EQUALVERIFY,Pp.OP_CHECKSIG])}),gh.prop(s,"pubkey",()=>{if(t.input)return n()[1]}),gh.prop(s,"signature",()=>{if(t.input)return n()[0]}),gh.prop(s,"input",()=>{if(t.pubkey&&t.signature)return zv.compile([t.signature,t.pubkey])}),gh.prop(s,"witness",()=>{if(s.input)return[]}),e.validate){let a=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");a=r().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Pp.OP_DUP||t.output[1]!==Pp.OP_HASH160||t.output[2]!==20||t.output[23]!==Pp.OP_EQUALVERIFY||t.output[24]!==Pp.OP_CHECKSIG)throw new TypeError("Output is invalid");let f=t.output.slice(3,23);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(t.pubkey){let f=Xq.hash160(t.pubkey);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(t.input){let f=n();if(f.length!==2)throw new TypeError("Input is invalid");if(!zv.isCanonicalScriptSignature(f[0]))throw new TypeError("Input has invalid signature");if(!(0,va.isPoint)(f[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(f[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(f[1]))throw new TypeError("Pubkey mismatch");let l=Xq.hash160(f[1]);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}o(Hrt,"p2pkh");aI.p2pkh=Hrt});var _be=q(cI=>{"use strict";p();m();Object.defineProperty(cI,"__esModule",{value:!0});cI.p2sh=void 0;var vbe=Wl(),Vrt=Pf(),Xl=ya(),di=us(),Yl=ph(),xbe=Av(),SE=Xl.OPS;function jrt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(jrt,"stacksEqual");function zrt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,di.typeforce)({network:di.typeforce.maybe(di.typeforce.Object),address:di.typeforce.maybe(di.typeforce.String),hash:di.typeforce.maybe(di.typeforce.BufferN(20)),output:di.typeforce.maybe(di.typeforce.BufferN(23)),redeem:di.typeforce.maybe({network:di.typeforce.maybe(di.typeforce.Object),output:di.typeforce.maybe(di.typeforce.Buffer),input:di.typeforce.maybe(di.typeforce.Buffer),witness:di.typeforce.maybe(di.typeforce.arrayOf(di.typeforce.Buffer))}),input:di.typeforce.maybe(di.typeforce.Buffer),witness:di.typeforce.maybe(di.typeforce.arrayOf(di.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||Vrt.bitcoin);let n={network:r},i=Yl.value(()=>{let f=Buffer.from(xbe.decode(t.address)),l=f.readUInt8(0),h=f.slice(1);return{version:l,hash:h}}),s=Yl.value(()=>Xl.decompile(t.input)),a=Yl.value(()=>{let f=s(),l=f[f.length-1];return{network:r,output:l===SE.OP_FALSE?Buffer.from([]):l,input:Xl.compile(f.slice(0,-1)),witness:t.witness||[]}});if(Yl.prop(n,"address",()=>{if(!n.hash)return;let f=Buffer.allocUnsafe(21);return f.writeUInt8(n.network.scriptHash,0),n.hash.copy(f,1),xbe.encode(f)}),Yl.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return vbe.hash160(n.redeem.output)}),Yl.prop(n,"output",()=>{if(n.hash)return Xl.compile([SE.OP_HASH160,n.hash,SE.OP_EQUAL])}),Yl.prop(n,"redeem",()=>{if(t.input)return a()}),Yl.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Xl.compile([].concat(Xl.decompile(t.redeem.input),t.redeem.output))}),Yl.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Yl.prop(n,"name",()=>{let f=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&f.push(n.redeem.name),f.join("-")}),e.validate){let f=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");f=i().hash}if(t.hash){if(f.length>0&&!f.equals(t.hash))throw new TypeError("Hash mismatch");f=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==SE.OP_HASH160||t.output[1]!==20||t.output[22]!==SE.OP_EQUAL)throw new TypeError("Output is invalid");let h=t.output.slice(2,22);if(f.length>0&&!f.equals(h))throw new TypeError("Hash mismatch");f=h}let l=o(h=>{if(h.output){let g=Xl.decompile(h.output);if(!g||g.length<1)throw new TypeError("Redeem.output too short");if(h.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Xl.countNonPushOnlyOPs(g)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let b=vbe.hash160(h.output);if(f.length>0&&!f.equals(b))throw new TypeError("Hash mismatch");f=b}if(h.input){let g=h.input.length>0,b=h.witness&&h.witness.length>0;if(!g&&!b)throw new TypeError("Empty input");if(g&&b)throw new TypeError("Input and witness provided");if(g){let A=Xl.decompile(h.input);if(!Xl.isPushOnly(A))throw new TypeError("Non push-only scriptSig")}}},"checkRedeem");if(t.input){let h=s();if(!h||h.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(a().output))throw new TypeError("Input is invalid");l(a())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let h=a();if(t.redeem.output&&!t.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!jrt(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}o(zrt,"p2sh");cI.p2sh=zrt});var Ebe=q(lI=>{"use strict";p();m();Object.defineProperty(lI,"__esModule",{value:!0});lI.p2wpkh=void 0;var{Buffer:Jq}=ci(),Zq=Wl(),Krt=Pf(),uI=ya(),bo=us(),kp=ph(),fI=wv(),wbe=uI.OPS,Grt=Jq.alloc(0);function $rt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,bo.typeforce)({address:bo.typeforce.maybe(bo.typeforce.String),hash:bo.typeforce.maybe(bo.typeforce.BufferN(20)),input:bo.typeforce.maybe(bo.typeforce.BufferN(0)),network:bo.typeforce.maybe(bo.typeforce.Object),output:bo.typeforce.maybe(bo.typeforce.BufferN(22)),pubkey:bo.typeforce.maybe(bo.isPoint),signature:bo.typeforce.maybe(uI.isCanonicalScriptSignature),witness:bo.typeforce.maybe(bo.typeforce.arrayOf(bo.typeforce.Buffer))},t);let r=kp.value(()=>{let s=fI.bech32.decode(t.address),a=s.words.shift(),f=fI.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:Jq.from(f)}}),n=t.network||Krt.bitcoin,i={name:"p2wpkh",network:n};if(kp.prop(i,"address",()=>{if(!i.hash)return;let s=fI.bech32.toWords(i.hash);return s.unshift(0),fI.bech32.encode(n.bech32,s)}),kp.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return Zq.hash160(t.pubkey||i.pubkey)}),kp.prop(i,"output",()=>{if(i.hash)return uI.compile([wbe.OP_0,i.hash])}),kp.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),kp.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),kp.prop(i,"input",()=>{if(i.witness)return Grt}),kp.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let s=Jq.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==wbe.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let a=Zq.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");if(s=a,!(0,bo.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!uI.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,bo.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let a=Zq.hash160(t.witness[1]);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}o($rt,"p2wpkh");lI.p2wpkh=$rt});var Rbe=q(mI=>{"use strict";p();m();Object.defineProperty(mI,"__esModule",{value:!0});mI.p2wsh=void 0;var{Buffer:pI}=ci(),Sbe=Wl(),Wrt=Pf(),bh=ya(),ii=us(),yh=ph(),dI=wv(),Abe=bh.OPS,Qq=pI.alloc(0);function Yrt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(Yrt,"stacksEqual");function hI(t){return!!(pI.isBuffer(t)&&t.length===65&&t[0]===4&&(0,ii.isPoint)(t))}o(hI,"chunkHasUncompressedPubkey");function Xrt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ii.typeforce)({network:ii.typeforce.maybe(ii.typeforce.Object),address:ii.typeforce.maybe(ii.typeforce.String),hash:ii.typeforce.maybe(ii.typeforce.BufferN(32)),output:ii.typeforce.maybe(ii.typeforce.BufferN(34)),redeem:ii.typeforce.maybe({input:ii.typeforce.maybe(ii.typeforce.Buffer),network:ii.typeforce.maybe(ii.typeforce.Object),output:ii.typeforce.maybe(ii.typeforce.Buffer),witness:ii.typeforce.maybe(ii.typeforce.arrayOf(ii.typeforce.Buffer))}),input:ii.typeforce.maybe(ii.typeforce.BufferN(0)),witness:ii.typeforce.maybe(ii.typeforce.arrayOf(ii.typeforce.Buffer))},t);let r=yh.value(()=>{let a=dI.bech32.decode(t.address),f=a.words.shift(),l=dI.bech32.fromWords(a.words);return{version:f,prefix:a.prefix,data:pI.from(l)}}),n=yh.value(()=>bh.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||Wrt.bitcoin);let s={network:i};if(yh.prop(s,"address",()=>{if(!s.hash)return;let a=dI.bech32.toWords(s.hash);return a.unshift(0),dI.bech32.encode(i.bech32,a)}),yh.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return Sbe.sha256(s.redeem.output)}),yh.prop(s,"output",()=>{if(s.hash)return bh.compile([Abe.OP_0,s.hash])}),yh.prop(s,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:Qq,witness:t.witness.slice(0,-1)}}),yh.prop(s,"input",()=>{if(s.witness)return Qq}),yh.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let a=bh.toStack(n());return s.redeem=Object.assign({witness:a},t.redeem),s.redeem.input=Qq,[].concat(a,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),yh.prop(s,"name",()=>{let a=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&a.push(s.redeem.name),a.join("-")}),e.validate){let a=pI.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==Abe.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let f=t.output.slice(2);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let f=bh.decompile(t.redeem.output);if(!f||f.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(bh.countNonPushOnlyOPs(f)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=Sbe.sha256(t.redeem.output);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch");a=l}if(t.redeem.input&&!bh.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!Yrt(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(hI)||t.redeem.output&&(bh.decompile(t.redeem.output)||[]).some(hI))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let f=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(f))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(hI)||(bh.decompile(f)||[]).some(hI))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}o(Xrt,"p2wsh");mI.p2wsh=Xrt});var gI=q(Kv=>{"use strict";p();m();Object.defineProperty(Kv,"__esModule",{value:!0});Kv.getEccLib=Kv.initEccLib=void 0;var AE={};function Zrt(t){t?t!==AE.eccLib&&(Qrt(t),AE.eccLib=t):AE.eccLib=t}o(Zrt,"initEccLib");Kv.initEccLib=Zrt;function Jrt(){if(!AE.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return AE.eccLib}o(Jrt,"getEccLib");Kv.getEccLib=Jrt;var vh=o(t=>Buffer.from(t,"hex"),"h");function Qrt(t){kf(typeof t.isXOnlyPoint=="function"),kf(t.isXOnlyPoint(vh("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),kf(t.isXOnlyPoint(vh("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),kf(t.isXOnlyPoint(vh("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),kf(t.isXOnlyPoint(vh("0000000000000000000000000000000000000000000000000000000000000001"))),kf(!t.isXOnlyPoint(vh("0000000000000000000000000000000000000000000000000000000000000000"))),kf(!t.isXOnlyPoint(vh("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),kf(typeof t.xOnlyPointAddTweak=="function"),ent.forEach(e=>{let r=t.xOnlyPointAddTweak(vh(e.pubkey),vh(e.tweak));e.result===null?kf(r===null):(kf(r!==null),kf(r.parity===e.parity),kf(Buffer.from(r.xOnlyPubkey).equals(vh(e.result))))})}o(Qrt,"verifyEcc");function kf(t){if(!t)throw new Error("ecc library invalid")}o(kf,"assert");var ent=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var Obe=q((yor,Ibe)=>{"use strict";p();m();var eH=or().Buffer,tnt=9007199254740991;function tH(t){if(t<0||t>tnt||t%1!==0)throw new RangeError("value out of range")}o(tH,"checkUInt53");function RE(t,e,r){if(tH(t),e||(e=eH.allocUnsafe(Tbe(t))),!eH.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),RE.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),RE.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),RE.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),RE.bytes=9),e}o(RE,"encode");function TE(t,e){if(!eH.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return TE.bytes=1,r;if(r===253)return TE.bytes=3,t.readUInt16LE(e+1);if(r===254)return TE.bytes=5,t.readUInt32LE(e+1);TE.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return tH(s),s}o(TE,"decode");function Tbe(t){return tH(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(Tbe,"encodingLength");Ibe.exports={encode:RE,decode:TE,encodingLength:Tbe}});var OE=q($s=>{"use strict";p();m();Object.defineProperty($s,"__esModule",{value:!0});$s.BufferReader=$s.BufferWriter=$s.cloneBuffer=$s.reverseBuffer=$s.writeUInt64LE=$s.readUInt64LE=$s.varuint=void 0;var Wg=us(),{typeforce:Nbe}=Wg,IE=Obe();$s.varuint=IE;function Mbe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(Mbe,"verifuint");function Cbe(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Mbe(n+r,9007199254740991),n+r}o(Cbe,"readUInt64LE");$s.readUInt64LE=Cbe;function Pbe(t,e,r){return Mbe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(Pbe,"writeUInt64LE");$s.writeUInt64LE=Pbe;function rnt(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(rnt,"reverseBuffer");$s.reverseBuffer=rnt;function nnt(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}o(nnt,"cloneBuffer");$s.cloneBuffer=nnt;var rH=class t{static{o(this,"BufferWriter")}static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,Nbe(Wg.tuple(Wg.Buffer,Wg.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=Pbe(this.buffer,e,this.offset)}writeVarInt(e){IE.encode(e,this.buffer,this.offset),this.offset+=IE.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};$s.BufferWriter=rH;var nH=class{static{o(this,"BufferReader")}constructor(e,r=0){this.buffer=e,this.offset=r,Nbe(Wg.tuple(Wg.Buffer,Wg.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=Cbe(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=IE.decode(this.buffer,this.offset);return this.offset+=IE.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};$s.BufferReader=nH});var yI=q(vo=>{"use strict";p();m();Object.defineProperty(vo,"__esModule",{value:!0});vo.tweakKey=vo.tapTweakHash=vo.tapleafHash=vo.findScriptPath=vo.toHashTree=vo.rootHashFromPath=vo.MAX_TAPTREE_DEPTH=vo.LEAF_VERSION_TAPSCRIPT=void 0;var Bp=ci(),int=gI(),aH=Wl(),kbe=OE(),ont=us();vo.LEAF_VERSION_TAPSCRIPT=192;vo.MAX_TAPTREE_DEPTH=128;var snt=o(t=>"left"in t&&"right"in t,"isHashBranch");function ant(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=sH(n,s):n=sH(s,n)}return n}o(ant,"rootHashFromPath");vo.rootHashFromPath=ant;function iH(t){if((0,ont.isTapleaf)(t))return{hash:Bbe(t)};let e=[iH(t[0]),iH(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:sH(r.hash,n.hash),left:r,right:n}}o(iH,"toHashTree");vo.toHashTree=iH;function oH(t,e){if(snt(t)){let r=oH(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=oH(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}o(oH,"findScriptPath");vo.findScriptPath=oH;function Bbe(t){let e=t.version||vo.LEAF_VERSION_TAPSCRIPT;return aH.taggedHash("TapLeaf",Bp.Buffer.concat([Bp.Buffer.from([e]),fnt(t.output)]))}o(Bbe,"tapleafHash");vo.tapleafHash=Bbe;function Lbe(t,e){return aH.taggedHash("TapTweak",Bp.Buffer.concat(e?[t,e]:[t]))}o(Lbe,"tapTweakHash");vo.tapTweakHash=Lbe;function cnt(t,e){if(!Bp.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=Lbe(t,e),n=(0,int.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Bp.Buffer.from(n.xOnlyPubkey)}}o(cnt,"tweakKey");vo.tweakKey=cnt;function sH(t,e){return aH.taggedHash("TapBranch",Bp.Buffer.concat([t,e]))}o(sH,"tapBranchHash");function fnt(t){let e=kbe.varuint.encodingLength(t.length),r=Bp.Buffer.allocUnsafe(e);return kbe.varuint.encode(t.length,r),Bp.Buffer.concat([r,t])}o(fnt,"serializeScript")});var qbe=q(xI=>{"use strict";p();m();Object.defineProperty(xI,"__esModule",{value:!0});xI.p2tr=void 0;var bI=ci(),unt=Pf(),cH=ya(),Tr=us(),Dbe=gI(),Za=yI(),Bf=ph(),vI=wv(),Ube=cH.OPS,Fbe=1,lnt=80;function dnt(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Tr.typeforce)({address:Tr.typeforce.maybe(Tr.typeforce.String),input:Tr.typeforce.maybe(Tr.typeforce.BufferN(0)),network:Tr.typeforce.maybe(Tr.typeforce.Object),output:Tr.typeforce.maybe(Tr.typeforce.BufferN(34)),internalPubkey:Tr.typeforce.maybe(Tr.typeforce.BufferN(32)),hash:Tr.typeforce.maybe(Tr.typeforce.BufferN(32)),pubkey:Tr.typeforce.maybe(Tr.typeforce.BufferN(32)),signature:Tr.typeforce.maybe(Tr.typeforce.anyOf(Tr.typeforce.BufferN(64),Tr.typeforce.BufferN(65))),witness:Tr.typeforce.maybe(Tr.typeforce.arrayOf(Tr.typeforce.Buffer)),scriptTree:Tr.typeforce.maybe(Tr.isTaptree),redeem:Tr.typeforce.maybe({output:Tr.typeforce.maybe(Tr.typeforce.Buffer),redeemVersion:Tr.typeforce.maybe(Tr.typeforce.Number),witness:Tr.typeforce.maybe(Tr.typeforce.arrayOf(Tr.typeforce.Buffer))}),redeemVersion:Tr.typeforce.maybe(Tr.typeforce.Number)},t);let r=Bf.value(()=>{let f=vI.bech32m.decode(t.address),l=f.words.shift(),h=vI.bech32m.fromWords(f.words);return{version:l,prefix:f.prefix,data:bI.Buffer.from(h)}}),n=Bf.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===lnt?t.witness.slice(0,-1):t.witness.slice()}),i=Bf.value(()=>{if(t.scriptTree)return(0,Za.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||unt.bitcoin,a={name:"p2tr",network:s};if(Bf.prop(a,"address",()=>{if(!a.pubkey)return;let f=vI.bech32m.toWords(a.pubkey);return f.unshift(Fbe),vI.bech32m.encode(s.bech32,f)}),Bf.prop(a,"hash",()=>{let f=i();if(f)return f.hash;let l=n();if(l&&l.length>1){let h=l[l.length-1],g=h[0]&Tr.TAPLEAF_VERSION_MASK,b=l[l.length-2],A=(0,Za.tapleafHash)({output:b,version:g});return(0,Za.rootHashFromPath)(h,A)}return null}),Bf.prop(a,"output",()=>{if(a.pubkey)return cH.compile([Ube.OP_1,a.pubkey])}),Bf.prop(a,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Za.LEAF_VERSION_TAPSCRIPT),Bf.prop(a,"redeem",()=>{let f=n();if(!(!f||f.length<2))return{output:f[f.length-2],witness:f.slice(0,-2),redeemVersion:f[f.length-1][0]&Tr.TAPLEAF_VERSION_MASK}}),Bf.prop(a,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(a.internalPubkey){let f=(0,Za.tweakKey)(a.internalPubkey,a.hash);if(f)return f.x}}),Bf.prop(a,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let f=n();if(f&&f.length>1)return f[f.length-1].slice(1,33)}),Bf.prop(a,"signature",()=>{if(t.signature)return t.signature;let f=n();if(!(!f||f.length!==1))return f[0]}),Bf.prop(a,"witness",()=>{if(t.witness)return t.witness;let f=i();if(f&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,Za.tapleafHash)({output:t.redeem.output,version:a.redeemVersion}),h=(0,Za.findScriptPath)(f,l);if(!h)return;let g=(0,Za.tweakKey)(t.internalPubkey,f.hash);if(!g)return;let b=bI.Buffer.concat([bI.Buffer.from([a.redeemVersion|g.parity]),t.internalPubkey].concat(h));return[t.redeem.output,b]}if(t.signature)return[t.signature]}),e.validate){let f=bI.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==Fbe)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");f=r().data}if(t.pubkey){if(f.length>0&&!f.equals(t.pubkey))throw new TypeError("Pubkey mismatch");f=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==Ube.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(f.length>0&&!f.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");f=t.output.slice(2)}if(t.internalPubkey){let g=(0,Za.tweakKey)(t.internalPubkey,a.hash);if(f.length>0&&!f.equals(g.x))throw new TypeError("Pubkey mismatch");f=g.x}if(f&&f.length&&!(0,Dbe.getEccLib)().isXOnlyPoint(f))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let g=(0,Za.tapleafHash)({output:t.redeem.output,version:a.redeemVersion});if(!(0,Za.findScriptPath)(l,g))throw new TypeError("Redeem script not in tree")}let h=n();if(t.redeem&&a.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==a.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(cH.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(a.redeem.output&&!t.redeem.output.equals(a.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&a.redeem.witness&&!hnt(t.redeem.witness,a.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(h.length===1){if(t.signature&&!t.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{let g=h[h.length-1];if(g.length<33)throw new TypeError(`The control-block length is too small. Got ${g.length}, expected min 33.`);if((g.length-33)%32!==0)throw new TypeError(`The control-block length of ${g.length} is incorrect!`);let b=(g.length-33)/32;if(b>128)throw new TypeError(`The script path is too long. Got ${b}, expected max 128.`);let A=g.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(A))throw new TypeError("Internal pubkey mismatch");if(!(0,Dbe.getEccLib)().isXOnlyPoint(A))throw new TypeError("Invalid internalPubkey for p2tr witness");let T=g[0]&Tr.TAPLEAF_VERSION_MASK,O=h[h.length-2],N=(0,Za.tapleafHash)({output:O,version:T}),P=(0,Za.rootHashFromPath)(g,N),C=(0,Za.tweakKey)(A,P);if(!C)throw new TypeError("Invalid outputKey for p2tr witness");if(f.length&&!f.equals(C.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(C.parity!==(g[0]&1))throw new Error("Incorrect parity")}}return Object.assign(a,t)}o(dnt,"p2tr");xI.p2tr=dnt;function hnt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(hnt,"stacksEqual")});var Gv=q(zo=>{"use strict";p();m();Object.defineProperty(zo,"__esModule",{value:!0});zo.p2tr=zo.p2wsh=zo.p2wpkh=zo.p2sh=zo.p2pkh=zo.p2pk=zo.p2ms=zo.embed=void 0;var pnt=obe();Object.defineProperty(zo,"embed",{enumerable:!0,get:o(function(){return pnt.p2data},"get")});var mnt=abe();Object.defineProperty(zo,"p2ms",{enumerable:!0,get:o(function(){return mnt.p2ms},"get")});var gnt=fbe();Object.defineProperty(zo,"p2pk",{enumerable:!0,get:o(function(){return gnt.p2pk},"get")});var ynt=bbe();Object.defineProperty(zo,"p2pkh",{enumerable:!0,get:o(function(){return ynt.p2pkh},"get")});var bnt=_be();Object.defineProperty(zo,"p2sh",{enumerable:!0,get:o(function(){return bnt.p2sh},"get")});var vnt=Ebe();Object.defineProperty(zo,"p2wpkh",{enumerable:!0,get:o(function(){return vnt.p2wpkh},"get")});var xnt=Rbe();Object.defineProperty(zo,"p2wsh",{enumerable:!0,get:o(function(){return xnt.p2wsh},"get")});var _nt=qbe();Object.defineProperty(zo,"p2tr",{enumerable:!0,get:o(function(){return _nt.p2tr},"get")})});var fH=q(Ja=>{"use strict";p();m();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.toOutputScript=Ja.fromOutputScript=Ja.toBech32=Ja.toBase58Check=Ja.fromBech32=Ja.fromBase58Check=void 0;var Hbe=Pf(),Zl=Gv(),Vbe=ya(),_I=us(),$v=wv(),jbe=Av(),zbe=40,Kbe=2,Gbe=16,$be=2,Wbe=80,Ybe="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function wnt(t,e){let r=t.slice(2);if(r.length<Kbe||r.length>zbe)throw new TypeError("Invalid program length for segwit address");let n=t[0]-Wbe;if(n<$be||n>Gbe)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(Ybe),Jbe(r,n,e.bech32)}o(wnt,"_toFutureSegwitAddress");function Xbe(t){let e=Buffer.from(jbe.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}o(Xbe,"fromBase58Check");Ja.fromBase58Check=Xbe;function Zbe(t){let e,r;try{e=$v.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=$v.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=$v.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}o(Zbe,"fromBech32");Ja.fromBech32=Zbe;function Ent(t,e){(0,_I.typeforce)((0,_I.tuple)(_I.Hash160bit,_I.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),jbe.encode(r)}o(Ent,"toBase58Check");Ja.toBase58Check=Ent;function Jbe(t,e,r){let n=$v.bech32.toWords(t);return n.unshift(e),e===0?$v.bech32.encode(r,n):$v.bech32m.encode(r,n)}o(Jbe,"toBech32");Ja.toBech32=Jbe;function Snt(t,e){e=e||Hbe.bitcoin;try{return Zl.p2pkh({output:t,network:e}).address}catch{}try{return Zl.p2sh({output:t,network:e}).address}catch{}try{return Zl.p2wpkh({output:t,network:e}).address}catch{}try{return Zl.p2wsh({output:t,network:e}).address}catch{}try{return Zl.p2tr({output:t,network:e}).address}catch{}try{return wnt(t,e)}catch{}throw new Error(Vbe.toASM(t)+" has no matching Address")}o(Snt,"fromOutputScript");Ja.fromOutputScript=Snt;function Ant(t,e){e=e||Hbe.bitcoin;let r,n;try{r=Xbe(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Zl.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Zl.p2sh({hash:r.hash}).output}else{try{n=Zbe(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Zl.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Zl.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Zl.p2tr({pubkey:n.data}).output}else if(n.version>=$be&&n.version<=Gbe&&n.data.length>=Kbe&&n.data.length<=zbe)return console.warn(Ybe),Vbe.compile([n.version+Wbe,n.data])}}throw new Error(t+" has no matching Script")}o(Ant,"toOutputScript");Ja.toOutputScript=Ant});var Qbe=q(wI=>{"use strict";p();m();Object.defineProperty(wI,"__esModule",{value:!0});wI.fastMerkleRoot=void 0;function Rnt(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let s=0;s<r;s+=2,++i){let a=n[s],f=s+1===r?a:n[s+1],l=Buffer.concat([a,f]);n[i]=e(l)}r=i}return n[0]}o(Rnt,"fastMerkleRoot");wI.fastMerkleRoot=Rnt});var Wv=q(EI=>{"use strict";p();m();Object.defineProperty(EI,"__esModule",{value:!0});EI.Transaction=void 0;var{Buffer:Ws}=ci(),no=OE(),xa=Wl(),eve=ya(),Tnt=ya(),Zr=us(),{typeforce:Jl}=Zr;function Ql(t){let e=t.length;return no.varuint.encodingLength(e)+e}o(Ql,"varSliceSize");function Int(t){let e=t.length;return no.varuint.encodingLength(e)+t.reduce((r,n)=>r+Ql(n),0)}o(Int,"vectorSize");var Lp=Ws.allocUnsafe(0),tve=[],uH=Ws.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),rve=Ws.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Ont=Ws.from("ffffffffffffffff","hex"),Nnt={script:Lp,valueBuffer:Ont};function Mnt(t){return t.value!==void 0}o(Mnt,"isOutput");var Bc=class t{static{o(this,"Transaction")}constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new no.BufferReader(e),i=new t;i.version=n.readInt32();let s=n.readUInt8(),a=n.readUInt8(),f=!1;s===t.ADVANCED_TRANSACTION_MARKER&&a===t.ADVANCED_TRANSACTION_FLAG?f=!0:n.offset-=2;let l=n.readVarInt();for(let g=0;g<l;++g)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:tve});let h=n.readVarInt();for(let g=0;g<h;++g)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(f){for(let g=0;g<l;++g)i.ins[g].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(Ws.from(e,"hex"),!1)}static isCoinbaseHash(e){Jl(Zr.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Jl(Zr.tuple(Zr.Hash256bit,Zr.UInt32,Zr.maybe(Zr.UInt32),Zr.maybe(Zr.Buffer)),arguments),Zr.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Lp,sequence:n,witness:tve})-1}addOutput(e,r){return Jl(Zr.tuple(Zr.Buffer,Zr.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+no.varuint.encodingLength(this.ins.length)+no.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Ql(i.script),0)+this.outs.reduce((n,i)=>n+8+Ql(i.script),0)+(r?this.ins.reduce((n,i)=>n+Int(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Jl(Zr.tuple(Zr.UInt32,Zr.Buffer,Zr.Number),arguments),e>=this.ins.length)return rve;let i=eve.compile(eve.decompile(r).filter(f=>f!==Tnt.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===t.SIGHASH_NONE)s.outs=[],s.ins.forEach((f,l)=>{l!==e&&(f.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return rve;s.outs.length=e+1;for(let f=0;f<e;f++)s.outs[f]=Nnt;s.ins.forEach((f,l)=>{l!==e&&(f.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(f=>{f.script=Lp}),s.ins[e].script=i);let a=Ws.allocUnsafe(s.byteLength(!1)+4);return a.writeInt32LE(n,a.length-4),s.__toBuffer(a,0,!1),xa.hash256(a)}hashForWitnessV1(e,r,n,i,s,a){if(Jl(Zr.tuple(Zr.UInt32,Jl.arrayOf(Zr.Buffer),Jl.arrayOf(Zr.Satoshi),Zr.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let f=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,h=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,g=f===t.SIGHASH_NONE,b=f===t.SIGHASH_SINGLE,A=Lp,T=Lp,O=Lp,N=Lp,P=Lp;if(!h){let U=no.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(V=>{U.writeSlice(V.hash),U.writeUInt32(V.index)}),A=xa.sha256(U.end()),U=no.BufferWriter.withCapacity(8*this.ins.length),n.forEach(V=>U.writeUInt64(V)),T=xa.sha256(U.end()),U=no.BufferWriter.withCapacity(r.map(Ql).reduce((V,j)=>V+j)),r.forEach(V=>U.writeVarSlice(V)),O=xa.sha256(U.end()),U=no.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(V=>U.writeUInt32(V.sequence)),N=xa.sha256(U.end())}if(g||b){if(b&&e<this.outs.length){let U=this.outs[e],V=no.BufferWriter.withCapacity(8+Ql(U.script));V.writeUInt64(U.value),V.writeVarSlice(U.script),P=xa.sha256(V.end())}}else{let U=this.outs.map(j=>8+Ql(j.script)).reduce((j,ee)=>j+ee),V=no.BufferWriter.withCapacity(U);this.outs.forEach(j=>{V.writeUInt64(j.value),V.writeVarSlice(j.script)}),P=xa.sha256(V.end())}let C=(s?2:0)+(a?1:0),D=174-(h?49:0)-(g?32:0)+(a?32:0)+(s?37:0),M=no.BufferWriter.withCapacity(D);if(M.writeUInt8(i),M.writeInt32(this.version),M.writeUInt32(this.locktime),M.writeSlice(A),M.writeSlice(T),M.writeSlice(O),M.writeSlice(N),g||b||M.writeSlice(P),M.writeUInt8(C),h){let U=this.ins[e];M.writeSlice(U.hash),M.writeUInt32(U.index),M.writeUInt64(n[e]),M.writeVarSlice(r[e]),M.writeUInt32(U.sequence)}else M.writeUInt32(e);if(a){let U=no.BufferWriter.withCapacity(Ql(a));U.writeVarSlice(a),M.writeSlice(xa.sha256(U.end()))}return b&&M.writeSlice(P),s&&(M.writeSlice(s),M.writeUInt8(0),M.writeUInt32(4294967295)),xa.taggedHash("TapSighash",Ws.concat([Ws.from([0]),M.end()]))}hashForWitnessV0(e,r,n,i){Jl(Zr.tuple(Zr.UInt32,Zr.Buffer,Zr.Satoshi,Zr.UInt32),arguments);let s=Ws.from([]),a,f=uH,l=uH,h=uH;if(i&t.SIGHASH_ANYONECANPAY||(s=Ws.allocUnsafe(36*this.ins.length),a=new no.BufferWriter(s,0),this.ins.forEach(b=>{a.writeSlice(b.hash),a.writeUInt32(b.index)}),l=xa.hash256(s)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(s=Ws.allocUnsafe(4*this.ins.length),a=new no.BufferWriter(s,0),this.ins.forEach(b=>{a.writeUInt32(b.sequence)}),h=xa.hash256(s)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let b=this.outs.reduce((A,T)=>A+8+Ql(T.script),0);s=Ws.allocUnsafe(b),a=new no.BufferWriter(s,0),this.outs.forEach(A=>{a.writeUInt64(A.value),a.writeVarSlice(A.script)}),f=xa.hash256(s)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let b=this.outs[e];s=Ws.allocUnsafe(8+Ql(b.script)),a=new no.BufferWriter(s,0),a.writeUInt64(b.value),a.writeVarSlice(b.script),f=xa.hash256(s)}s=Ws.allocUnsafe(156+Ql(r)),a=new no.BufferWriter(s,0);let g=this.ins[e];return a.writeInt32(this.version),a.writeSlice(l),a.writeSlice(h),a.writeSlice(g.hash),a.writeUInt32(g.index),a.writeVarSlice(r),a.writeUInt64(n),a.writeUInt32(g.sequence),a.writeSlice(f),a.writeUInt32(this.locktime),a.writeUInt32(i),xa.hash256(s)}getHash(e){return e&&this.isCoinbase()?Ws.alloc(32,0):xa.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,no.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Jl(Zr.tuple(Zr.Number,Zr.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Jl(Zr.tuple(Zr.Number,[Zr.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=Ws.allocUnsafe(this.byteLength(n)));let i=new no.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(a=>{i.writeSlice(a.hash),i.writeUInt32(a.index),i.writeVarSlice(a.script),i.writeUInt32(a.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(a=>{Mnt(a)?i.writeUInt64(a.value):i.writeSlice(a.valueBuffer),i.writeVarSlice(a.script)}),s&&this.ins.forEach(a=>{i.writeVector(a.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};EI.Transaction=Bc;Bc.DEFAULT_SEQUENCE=4294967295;Bc.SIGHASH_DEFAULT=0;Bc.SIGHASH_ALL=1;Bc.SIGHASH_NONE=2;Bc.SIGHASH_SINGLE=3;Bc.SIGHASH_ANYONECANPAY=128;Bc.SIGHASH_OUTPUT_MASK=3;Bc.SIGHASH_INPUT_MASK=128;Bc.ADVANCED_TRANSACTION_MARKER=0;Bc.ADVANCED_TRANSACTION_FLAG=1});var sve=q(SI=>{"use strict";p();m();Object.defineProperty(SI,"__esModule",{value:!0});SI.Block=void 0;var Yg=OE(),lH=Wl(),Cnt=Qbe(),Pnt=Wv(),ove=us(),{typeforce:knt}=ove,dH=new TypeError("Cannot compute merkle root for zero transactions"),nve=new TypeError("Cannot compute witness commit for non-segwit block"),hH=class t{static{o(this,"Block")}constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new Yg.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=o(()=>{let f=Pnt.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=f.byteLength(),f},"readTransaction"),s=r.readVarInt();n.transactions=[];for(let f=0;f<s;++f){let l=i();n.transactions.push(l)}let a=n.getWitnessCommit();return a&&(n.witnessCommit=a),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(knt([{getHash:ove.Function}],e),e.length===0)throw dH;if(r&&!ive(e))throw nve;let n=e.map(s=>s.getHash(r)),i=(0,Cnt.fastMerkleRoot)(n,lH.hash256);return r?lH.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!ive(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return Bnt(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+Yg.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return lH.hash256(this.toBuffer(!0))}getId(){return(0,Yg.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new Yg.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(Yg.varuint.encode(this.transactions.length,r,n.offset),n.offset+=Yg.varuint.encode.bytes,this.transactions.forEach(i=>{let s=i.byteLength();i.toBuffer(r,n.offset),n.offset+=s})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,Yg.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw dH;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw dH;if(!this.hasWitnessCommit())throw nve;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};SI.Block=hH;function ive(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}o(ive,"txesHaveWitnessCommit");function Bnt(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}o(Bnt,"anyTxHasWitness")});var Ko=q(Fu=>{"use strict";p();m();Object.defineProperty(Fu,"__esModule",{value:!0});var Lnt;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Lnt=Fu.GlobalTypes||(Fu.GlobalTypes={}));Fu.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Dnt;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Dnt=Fu.InputTypes||(Fu.InputTypes={}));Fu.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var Unt;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(Unt=Fu.OutputTypes||(Fu.OutputTypes={}));Fu.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var cve=q(Xg=>{"use strict";p();m();Object.defineProperty(Xg,"__esModule",{value:!0});var ave=Ko(),Fnt=o(t=>[...Array(t).keys()],"range");function qnt(t){if(t.key[0]!==ave.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of Fnt(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),a=i&2147483647;r.path+="/"+a.toString(10)+(s?"'":"")}return r}o(qnt,"decode");Xg.decode=qnt;function Hnt(t){let e=Buffer.from([ave.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(a=>{let f=a.slice(-1)==="'",l=2147483647&parseInt(f?a.slice(0,-1):a,10);f&&(l+=2147483648),i.writeUInt32LE(l,s),s+=4}),{key:r,value:i}}o(Hnt,"encode");Xg.encode=Hnt;Xg.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Vnt(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}o(Vnt,"check");Xg.check=Vnt;function jnt(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}o(jnt,"canAddToArray");Xg.canAddToArray=jnt});var fve=q(pH=>{"use strict";p();m();Object.defineProperty(pH,"__esModule",{value:!0});var znt=Ko();function Knt(t){return{key:Buffer.from([znt.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}o(Knt,"encode");pH.encode=Knt});var lve=q(Zg=>{"use strict";p();m();Object.defineProperty(Zg,"__esModule",{value:!0});var uve=Ko();function Gnt(t){if(t.key[0]!==uve.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}o(Gnt,"decode");Zg.decode=Gnt;function $nt(t){return{key:Buffer.from([uve.InputTypes.FINAL_SCRIPTSIG]),value:t}}o($nt,"encode");Zg.encode=$nt;Zg.expected="Buffer";function Wnt(t){return Buffer.isBuffer(t)}o(Wnt,"check");Zg.check=Wnt;function Ynt(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}o(Ynt,"canAdd");Zg.canAdd=Ynt});var hve=q(Jg=>{"use strict";p();m();Object.defineProperty(Jg,"__esModule",{value:!0});var dve=Ko();function Xnt(t){if(t.key[0]!==dve.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}o(Xnt,"decode");Jg.decode=Xnt;function Znt(t){return{key:Buffer.from([dve.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}o(Znt,"encode");Jg.encode=Znt;Jg.expected="Buffer";function Jnt(t){return Buffer.isBuffer(t)}o(Jnt,"check");Jg.check=Jnt;function Qnt(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}o(Qnt,"canAdd");Jg.canAdd=Qnt});var mve=q(Qg=>{"use strict";p();m();Object.defineProperty(Qg,"__esModule",{value:!0});var pve=Ko();function eit(t){if(t.key[0]!==pve.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}o(eit,"decode");Qg.decode=eit;function tit(t){return{key:Buffer.from([pve.InputTypes.NON_WITNESS_UTXO]),value:t}}o(tit,"encode");Qg.encode=tit;Qg.expected="Buffer";function rit(t){return Buffer.isBuffer(t)}o(rit,"check");Qg.check=rit;function nit(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}o(nit,"canAdd");Qg.canAdd=nit});var yve=q(ey=>{"use strict";p();m();Object.defineProperty(ey,"__esModule",{value:!0});var gve=Ko();function iit(t){if(t.key[0]!==gve.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}o(iit,"decode");ey.decode=iit;function oit(t){let e=Buffer.from([gve.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}o(oit,"encode");ey.encode=oit;ey.expected="{ pubkey: Buffer; signature: Buffer; }";function sit(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&ait(t.signature)}o(sit,"check");ey.check=sit;function ait(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}o(ait,"isDerSigWithSighash");function cit(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}o(cit,"canAddToArray");ey.canAddToArray=cit});var vve=q(ty=>{"use strict";p();m();Object.defineProperty(ty,"__esModule",{value:!0});var bve=Ko();function fit(t){if(t.key[0]!==bve.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}o(fit,"decode");ty.decode=fit;function uit(t){return{key:Buffer.from([bve.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}o(uit,"encode");ty.encode=uit;ty.expected="string";function lit(t){return typeof t=="string"}o(lit,"check");ty.check=lit;function dit(t,e){return!!t&&!!e&&t.porCommitment===void 0}o(dit,"canAdd");ty.canAdd=dit});var _ve=q(ry=>{"use strict";p();m();Object.defineProperty(ry,"__esModule",{value:!0});var xve=Ko();function hit(t){if(t.key[0]!==xve.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}o(hit,"decode");ry.decode=hit;function pit(t){let e=Buffer.from([xve.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}o(pit,"encode");ry.encode=pit;ry.expected="number";function mit(t){return typeof t=="number"}o(mit,"check");ry.check=mit;function git(t,e){return!!t&&!!e&&t.sighashType===void 0}o(git,"canAdd");ry.canAdd=git});var Sve=q(ny=>{"use strict";p();m();Object.defineProperty(ny,"__esModule",{value:!0});var wve=Ko();function yit(t){if(t.key[0]!==wve.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!Eve(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}o(yit,"decode");ny.decode=yit;function bit(t){return{key:Buffer.from([wve.InputTypes.TAP_KEY_SIG]),value:t}}o(bit,"encode");ny.encode=bit;ny.expected="Buffer";function Eve(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}o(Eve,"check");ny.check=Eve;function vit(t,e){return!!t&&!!e&&t.tapKeySig===void 0}o(vit,"canAdd");ny.canAdd=vit});var Rve=q(iy=>{"use strict";p();m();Object.defineProperty(iy,"__esModule",{value:!0});var Ave=Ko();function xit(t){if(t.key[0]!==Ave.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}o(xit,"decode");iy.decode=xit;function _it(t){let e=Buffer.from([Ave.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}o(_it,"encode");iy.encode=_it;iy.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function wit(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}o(wit,"check");iy.check=wit;function Eit(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}o(Eit,"canAddToArray");iy.canAddToArray=Eit});var Ove=q(oy=>{"use strict";p();m();Object.defineProperty(oy,"__esModule",{value:!0});var Tve=Ko();function Sit(t){if(t.key[0]!==Tve.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!Ive(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}o(Sit,"decode");oy.decode=Sit;function Ait(t){return{key:Buffer.from([Tve.InputTypes.TAP_MERKLE_ROOT]),value:t}}o(Ait,"encode");oy.encode=Ait;oy.expected="Buffer";function Ive(t){return Buffer.isBuffer(t)&&t.length===32}o(Ive,"check");oy.check=Ive;function Rit(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}o(Rit,"canAdd");oy.canAdd=Rit});var Mve=q(sy=>{"use strict";p();m();Object.defineProperty(sy,"__esModule",{value:!0});var Nve=Ko();function Tit(t){if(t.key[0]!==Nve.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}o(Tit,"decode");sy.decode=Tit;function Iit(t){let e=Buffer.from([Nve.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}o(Iit,"encode");sy.encode=Iit;sy.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Oit(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}o(Oit,"check");sy.check=Oit;function Nit(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}o(Nit,"canAddToArray");sy.canAddToArray=Nit});var Dp=q(CE=>{"use strict";p();m();Object.defineProperty(CE,"__esModule",{value:!0});var Mit=9007199254740991;function mH(t){if(t<0||t>Mit||t%1!==0)throw new RangeError("value out of range")}o(mH,"checkUInt53");function NE(t,e,r){if(mH(t),e||(e=Buffer.allocUnsafe(Cve(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(NE,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(NE,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(NE,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(NE,{bytes:9})),e}o(NE,"encode");CE.encode=NE;function ME(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(ME,{bytes:1}),r;if(r===253)return Object.assign(ME,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(ME,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(ME,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return mH(s),s}}o(ME,"decode");CE.decode=ME;function Cve(t){return mH(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(Cve,"encodingLength");CE.encodingLength=Cve});var RI=q(Up=>{"use strict";p();m();Object.defineProperty(Up,"__esModule",{value:!0});var AI=Dp();Up.range=t=>[...Array(t).keys()];function Cit(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(Cit,"reverseBuffer");Up.reverseBuffer=Cit;function Pit(t){let e=t.map(Pve);return e.push(Buffer.from([0])),Buffer.concat(e)}o(Pit,"keyValsToBuffer");Up.keyValsToBuffer=Pit;function Pve(t){let e=t.key.length,r=t.value.length,n=AI.encodingLength(e),i=AI.encodingLength(r),s=Buffer.allocUnsafe(n+e+i+r);return AI.encode(e,s,0),t.key.copy(s,n),AI.encode(r,s,n+e),t.value.copy(s,n+e+i),s}o(Pve,"keyValToBuffer");Up.keyValToBuffer=Pve;function kve(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(kve,"verifuint");function kit(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,kve(n+r,9007199254740991),n+r}o(kit,"readUInt64LE");Up.readUInt64LE=kit;function Bit(t,e,r){return kve(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(Bit,"writeUInt64LE");Up.writeUInt64LE=Bit});var Dve=q(ay=>{"use strict";p();m();Object.defineProperty(ay,"__esModule",{value:!0});var Bve=Ko(),Lve=RI(),TI=Dp();function Lit(t){if(t.key[0]!==Bve.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=Lve.readUInt64LE(t.value,0),r=8,n=TI.decode(t.value,r);r+=TI.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}o(Lit,"decode");ay.decode=Lit;function Dit(t){let{script:e,value:r}=t,n=TI.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return Lve.writeUInt64LE(i,r,0),TI.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([Bve.InputTypes.WITNESS_UTXO]),value:i}}o(Dit,"encode");ay.encode=Dit;ay.expected="{ script: Buffer; value: number; }";function Uit(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}o(Uit,"check");ay.check=Uit;function Fit(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}o(Fit,"canAdd");ay.canAdd=Fit});var Fve=q(cy=>{"use strict";p();m();Object.defineProperty(cy,"__esModule",{value:!0});var Uve=Ko(),gH=Dp();function qit(t){if(t.key[0]!==Uve.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=gH.decode(t.value,e);e+=gH.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}o(qit,"decode");cy.decode=qit;function Hit(t){let e=Buffer.from([Uve.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),gH.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}o(Hit,"encode");cy.encode=Hit;cy.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function Vit(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}o(Vit,"check");cy.check=Vit;function jit(t,e){return!!t&&!!e&&t.tapTree===void 0}o(jit,"canAdd");cy.canAdd=jit});var bH=q(yH=>{"use strict";p();m();Object.defineProperty(yH,"__esModule",{value:!0});var zit=o(t=>[...Array(t).keys()],"range"),Kit=o(t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4,"isValidDERKey");function Git(t,e=Kit){function r(f){if(f.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+f.key.toString("hex"));let l=f.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+f.key.toString("hex"));if(f.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let h={masterFingerprint:f.value.slice(0,4),pubkey:l,path:"m"};for(let g of zit(f.value.length/4-1)){let b=f.value.readUInt32LE(g*4+4),A=!!(b&2147483648),T=b&2147483647;h.path+="/"+T.toString(10)+(A?"'":"")}return h}o(r,"decode");function n(f){let l=Buffer.from([t]),h=Buffer.concat([l,f.pubkey]),g=f.path.split("/"),b=Buffer.allocUnsafe(g.length*4);f.masterFingerprint.copy(b,0);let A=4;return g.slice(1).forEach(T=>{let O=T.slice(-1)==="'",N=2147483647&parseInt(O?T.slice(0,-1):T,10);O&&(N+=2147483648),b.writeUInt32LE(N,A),A+=4}),{key:h,value:b}}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(f){return Buffer.isBuffer(f.pubkey)&&Buffer.isBuffer(f.masterFingerprint)&&typeof f.path=="string"&&e(f.pubkey)&&f.masterFingerprint.length===4}o(s,"check");function a(f,l,h){let g=l.pubkey.toString("hex");return h.has(g)?!1:(h.add(g),f.filter(b=>b.pubkey.equals(l.pubkey)).length===0)}return o(a,"canAddToArray"),{decode:r,encode:n,check:s,expected:i,canAddToArray:a}}o(Git,"makeConverter");yH.makeConverter=Git});var qve=q(vH=>{"use strict";p();m();Object.defineProperty(vH,"__esModule",{value:!0});function $it(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}o($it,"makeChecker");vH.makeChecker=$it});var Hve=q(xH=>{"use strict";p();m();Object.defineProperty(xH,"__esModule",{value:!0});function Wit(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,f){return!!a&&!!f&&a.redeemScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(Wit,"makeConverter");xH.makeConverter=Wit});var Vve=q(_H=>{"use strict";p();m();Object.defineProperty(_H,"__esModule",{value:!0});var II=Dp(),Yit=bH(),Xit=o(t=>t.length===32,"isValidBIP340Key");function Zit(t){let e=Yit.makeConverter(t,Xit);function r(a){let f=II.decode(a.value),l=II.encodingLength(f),h=e.decode({key:a.key,value:a.value.slice(l+f*32)}),g=new Array(f);for(let b=0,A=l;b<f;b++,A+=32)g[b]=a.value.slice(A,A+32);return Object.assign({},h,{leafHashes:g})}o(r,"decode");function n(a){let f=e.encode(a),l=II.encodingLength(a.leafHashes.length),h=Buffer.allocUnsafe(l);II.encode(a.leafHashes.length,h);let g=Buffer.concat([h,...a.leafHashes,f.value]);return Object.assign({},f,{value:g})}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(a){return Array.isArray(a.leafHashes)&&a.leafHashes.every(f=>Buffer.isBuffer(f)&&f.length===32)&&e.check(a)}return o(s,"check"),{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}o(Zit,"makeConverter");_H.makeConverter=Zit});var jve=q(wH=>{"use strict";p();m();Object.defineProperty(wH,"__esModule",{value:!0});function Jit(t){function e(a){if(a.key[0]!==t||a.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+a.key.toString("hex"));if(a.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)&&a.length===32}o(i,"check");function s(a,f){return!!a&&!!f&&a.tapInternalKey===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(Jit,"makeConverter");wH.makeConverter=Jit});var zve=q(EH=>{"use strict";p();m();Object.defineProperty(EH,"__esModule",{value:!0});function Qit(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,f){return!!a&&!!f&&a.witnessScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(Qit,"makeConverter");EH.makeConverter=Qit});var OI=q(PE=>{"use strict";p();m();Object.defineProperty(PE,"__esModule",{value:!0});var Lc=Ko(),eot=cve(),tot=fve(),rot=lve(),not=hve(),iot=mve(),oot=yve(),sot=vve(),aot=_ve(),cot=Sve(),fot=Rve(),uot=Ove(),lot=Mve(),dot=Dve(),hot=Fve(),Kve=bH(),SH=qve(),Gve=Hve(),$ve=Vve(),Wve=jve(),Yve=zve(),pot={unsignedTx:tot,globalXpub:eot,checkPubkey:SH.makeChecker([])};PE.globals=pot;var mot={nonWitnessUtxo:iot,partialSig:oot,sighashType:aot,finalScriptSig:rot,finalScriptWitness:not,porCommitment:sot,witnessUtxo:dot,bip32Derivation:Kve.makeConverter(Lc.InputTypes.BIP32_DERIVATION),redeemScript:Gve.makeConverter(Lc.InputTypes.REDEEM_SCRIPT),witnessScript:Yve.makeConverter(Lc.InputTypes.WITNESS_SCRIPT),checkPubkey:SH.makeChecker([Lc.InputTypes.PARTIAL_SIG,Lc.InputTypes.BIP32_DERIVATION]),tapKeySig:cot,tapScriptSig:lot,tapLeafScript:fot,tapBip32Derivation:$ve.makeConverter(Lc.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:Wve.makeConverter(Lc.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:uot};PE.inputs=mot;var got={bip32Derivation:Kve.makeConverter(Lc.OutputTypes.BIP32_DERIVATION),redeemScript:Gve.makeConverter(Lc.OutputTypes.REDEEM_SCRIPT),witnessScript:Yve.makeConverter(Lc.OutputTypes.WITNESS_SCRIPT),checkPubkey:SH.makeChecker([Lc.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:$ve.makeConverter(Lc.OutputTypes.TAP_BIP32_DERIVATION),tapTree:hot,tapInternalKey:Wve.makeConverter(Lc.OutputTypes.TAP_INTERNAL_KEY)};PE.outputs=got});var Jve=q(kE=>{"use strict";p();m();Object.defineProperty(kE,"__esModule",{value:!0});var oi=OI(),NI=RI(),Xve=Dp(),ur=Ko();function yot(t,e){let r=0;function n(){let P=Xve.decode(t,r);r+=Xve.encodingLength(P);let C=t.slice(r,r+P);return r+=P,C}o(n,"varSlice");function i(){let P=t.readUInt32BE(r);return r+=4,P}o(i,"readUInt32BE");function s(){let P=t.readUInt8(r);return r+=1,P}o(s,"readUInt8");function a(){let P=n(),C=n();return{key:P,value:C}}o(a,"getKeyValue");function f(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let P=t.readUInt8(r)===0;return P&&r++,P}if(o(f,"checkEndOfKeyValPairs"),i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],h={};for(;!f();){let P=a(),C=P.key.toString("hex");if(h[C])throw new Error("Format Error: Keys must be unique for global keymap: key "+C);h[C]=1,l.push(P)}let g=l.filter(P=>P.key[0]===ur.GlobalTypes.UNSIGNED_TX);if(g.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let b=e(g[0].value),{inputCount:A,outputCount:T}=b.getInputOutputCounts(),O=[],N=[];for(let P of NI.range(A)){let C={},D=[];for(;!f();){let M=a(),U=M.key.toString("hex");if(C[U])throw new Error("Format Error: Keys must be unique for each input: input index "+P+" key "+U);C[U]=1,D.push(M)}O.push(D)}for(let P of NI.range(T)){let C={},D=[];for(;!f();){let M=a(),U=M.key.toString("hex");if(C[U])throw new Error("Format Error: Keys must be unique for each output: output index "+P+" key "+U);C[U]=1,D.push(M)}N.push(D)}return Zve(b,{globalMapKeyVals:l,inputKeyVals:O,outputKeyVals:N})}o(yot,"psbtFromBuffer");kE.psbtFromBuffer=yot;function ls(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}o(ls,"checkKeyBuffer");kE.checkKeyBuffer=ls;function Zve(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let g of e)switch(g.key[0]){case ur.GlobalTypes.UNSIGNED_TX:if(ls("global",g.key,ur.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case ur.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(oi.globals.globalXpub.decode(g));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(g)}let a=r.length,f=n.length,l=[],h=[];for(let g of NI.range(a)){let b={};for(let A of r[g])switch(oi.inputs.checkPubkey(A),A.key[0]){case ur.InputTypes.NON_WITNESS_UTXO:if(ls("input",A.key,ur.InputTypes.NON_WITNESS_UTXO),b.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");b.nonWitnessUtxo=oi.inputs.nonWitnessUtxo.decode(A);break;case ur.InputTypes.WITNESS_UTXO:if(ls("input",A.key,ur.InputTypes.WITNESS_UTXO),b.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");b.witnessUtxo=oi.inputs.witnessUtxo.decode(A);break;case ur.InputTypes.PARTIAL_SIG:b.partialSig===void 0&&(b.partialSig=[]),b.partialSig.push(oi.inputs.partialSig.decode(A));break;case ur.InputTypes.SIGHASH_TYPE:if(ls("input",A.key,ur.InputTypes.SIGHASH_TYPE),b.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");b.sighashType=oi.inputs.sighashType.decode(A);break;case ur.InputTypes.REDEEM_SCRIPT:if(ls("input",A.key,ur.InputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");b.redeemScript=oi.inputs.redeemScript.decode(A);break;case ur.InputTypes.WITNESS_SCRIPT:if(ls("input",A.key,ur.InputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");b.witnessScript=oi.inputs.witnessScript.decode(A);break;case ur.InputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(oi.inputs.bip32Derivation.decode(A));break;case ur.InputTypes.FINAL_SCRIPTSIG:ls("input",A.key,ur.InputTypes.FINAL_SCRIPTSIG),b.finalScriptSig=oi.inputs.finalScriptSig.decode(A);break;case ur.InputTypes.FINAL_SCRIPTWITNESS:ls("input",A.key,ur.InputTypes.FINAL_SCRIPTWITNESS),b.finalScriptWitness=oi.inputs.finalScriptWitness.decode(A);break;case ur.InputTypes.POR_COMMITMENT:ls("input",A.key,ur.InputTypes.POR_COMMITMENT),b.porCommitment=oi.inputs.porCommitment.decode(A);break;case ur.InputTypes.TAP_KEY_SIG:ls("input",A.key,ur.InputTypes.TAP_KEY_SIG),b.tapKeySig=oi.inputs.tapKeySig.decode(A);break;case ur.InputTypes.TAP_SCRIPT_SIG:b.tapScriptSig===void 0&&(b.tapScriptSig=[]),b.tapScriptSig.push(oi.inputs.tapScriptSig.decode(A));break;case ur.InputTypes.TAP_LEAF_SCRIPT:b.tapLeafScript===void 0&&(b.tapLeafScript=[]),b.tapLeafScript.push(oi.inputs.tapLeafScript.decode(A));break;case ur.InputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(oi.inputs.tapBip32Derivation.decode(A));break;case ur.InputTypes.TAP_INTERNAL_KEY:ls("input",A.key,ur.InputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=oi.inputs.tapInternalKey.decode(A);break;case ur.InputTypes.TAP_MERKLE_ROOT:ls("input",A.key,ur.InputTypes.TAP_MERKLE_ROOT),b.tapMerkleRoot=oi.inputs.tapMerkleRoot.decode(A);break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(A)}l.push(b)}for(let g of NI.range(f)){let b={};for(let A of n[g])switch(oi.outputs.checkPubkey(A),A.key[0]){case ur.OutputTypes.REDEEM_SCRIPT:if(ls("output",A.key,ur.OutputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");b.redeemScript=oi.outputs.redeemScript.decode(A);break;case ur.OutputTypes.WITNESS_SCRIPT:if(ls("output",A.key,ur.OutputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");b.witnessScript=oi.outputs.witnessScript.decode(A);break;case ur.OutputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(oi.outputs.bip32Derivation.decode(A));break;case ur.OutputTypes.TAP_INTERNAL_KEY:ls("output",A.key,ur.OutputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=oi.outputs.tapInternalKey.decode(A);break;case ur.OutputTypes.TAP_TREE:ls("output",A.key,ur.OutputTypes.TAP_TREE),b.tapTree=oi.outputs.tapTree.decode(A);break;case ur.OutputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(oi.outputs.tapBip32Derivation.decode(A));break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(A)}h.push(b)}return{globalMap:i,inputs:l,outputs:h}}o(Zve,"psbtFromKeyVals");kE.psbtFromKeyVals=Zve});var txe=q(MI=>{"use strict";p();m();Object.defineProperty(MI,"__esModule",{value:!0});var AH=OI(),Qve=RI();function bot({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=exe({globalMap:t,inputs:e,outputs:r}),a=Qve.keyValsToBuffer(n),f=o(b=>b.length===0?[Buffer.from([0])]:b.map(Qve.keyValsToBuffer),"keyValsOrEmptyToBuffer"),l=f(i),h=f(s),g=Buffer.allocUnsafe(5);return g.writeUIntBE(482972169471,0,5),Buffer.concat([g,a].concat(l,h))}o(bot,"psbtToBuffer");MI.psbtToBuffer=bot;var vot=o((t,e)=>t.key.compare(e.key),"sortKeyVals");function RH(t,e){let r=new Set,n=Object.entries(t).reduce((s,[a,f])=>{if(a==="unknownKeyVals")return s;let l=e[a];if(l===void 0)return s;let h=(Array.isArray(f)?f:[f]).map(l.encode);return h.map(b=>b.key.toString("hex")).forEach(b=>{if(r.has(b))throw new Error("Serialize Error: Duplicate key: "+b);r.add(b)}),s.concat(h)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(vot)}o(RH,"keyValsFromMap");function exe({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:RH(t,AH.globals),inputKeyVals:e.map(n=>RH(n,AH.inputs)),outputKeyVals:r.map(n=>RH(n,AH.outputs))}}o(exe,"psbtToKeyVals");MI.psbtToKeyVals=exe});var TH=q(CI=>{"use strict";p();m();function rxe(t){for(var e in t)CI.hasOwnProperty(e)||(CI[e]=t[e])}o(rxe,"__export");Object.defineProperty(CI,"__esModule",{value:!0});rxe(Jve());rxe(txe())});var ixe=q(NH=>{"use strict";p();m();Object.defineProperty(NH,"__esModule",{value:!0});var IH=TH();function xot(t){let e=t[0],r=IH.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=nxe(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=Yv(r.globalKeyVals),a=r.inputKeyVals.map(Yv),f=r.outputKeyVals.map(Yv);for(let l of n){let h=nxe(l);if(h===void 0||!h.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let g=IH.psbtToKeyVals(l);Yv(g.globalKeyVals).forEach(OH(s,r.globalKeyVals,g.globalKeyVals)),g.inputKeyVals.map(Yv).forEach((O,N)=>O.forEach(OH(a[N],r.inputKeyVals[N],g.inputKeyVals[N]))),g.outputKeyVals.map(Yv).forEach((O,N)=>O.forEach(OH(f[N],r.outputKeyVals[N],g.outputKeyVals[N])))}return IH.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}o(xot,"combine");NH.combine=xot;function OH(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}o(OH,"keyPusher");function nxe(t){return t.globalMap.unsignedTx}o(nxe,"getTx");function Yv(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}o(Yv,"getKeySet")});var CH=q(Ys=>{"use strict";p();m();Object.defineProperty(Ys,"__esModule",{value:!0});var _ot=OI();function sxe(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}o(sxe,"checkForInput");Ys.checkForInput=sxe;function axe(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}o(axe,"checkForOutput");Ys.checkForOutput=axe;function wot(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}o(wot,"checkHasKey");Ys.checkHasKey=wot;function Eot(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}o(Eot,"getEnumLength");Ys.getEnumLength=Eot;function Sot(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,a=!i||!!e.finalScriptWitness,f=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&a&&f}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}o(Sot,"inputCheckUncleanFinalized");Ys.inputCheckUncleanFinalized=Sot;function oxe(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}o(oxe,"throwForUpdateMaker");function MH(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:a,check:f,expected:l}=_ot[t+"s"][n]||{},h=!!a;if(f)if(h){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(f)||oxe(t,n,l,i);let g=r[n]||[],b=new Set;if(!i.every(A=>a(g,A,b)))throw new Error("Can not add duplicate data to array");r[n]=g.concat(i)}else{if(f(i)||oxe(t,n,l,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}o(MH,"updateMaker");Ys.updateGlobal=MH("global");Ys.updateInput=MH("input");Ys.updateOutput=MH("output");function Aot(t,e){let r=t.length-1,n=sxe(t,r);Ys.updateInput(e,n)}o(Aot,"addInputAttributes");Ys.addInputAttributes=Aot;function Rot(t,e){let r=t.length-1,n=axe(t,r);Ys.updateOutput(e,n)}o(Rot,"addOutputAttributes");Ys.addOutputAttributes=Rot;function Tot(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}o(Tot,"defaultVersionSetter");Ys.defaultVersionSetter=Tot;function Iot(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}o(Iot,"defaultLocktimeSetter");Ys.defaultLocktimeSetter=Iot});var fxe=q(BH=>{"use strict";p();m();Object.defineProperty(BH,"__esModule",{value:!0});var Oot=ixe(),cxe=TH(),PH=Ko(),ds=CH(),kH=class{static{o(this,"Psbt")}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=cxe.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return cxe.psbtToBuffer(this)}updateGlobal(e){return ds.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=ds.checkForInput(this.inputs,e);return ds.updateInput(r,n),this}updateOutput(e,r){let n=ds.checkForOutput(this.outputs,e);return ds.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return ds.checkHasKey(e,this.globalMap.unknownKeyVals,ds.getEnumLength(PH.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=ds.checkForInput(this.inputs,e);return ds.checkHasKey(r,n.unknownKeyVals,ds.getEnumLength(PH.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=ds.checkForOutput(this.outputs,e);return ds.checkHasKey(r,n.unknownKeyVals,ds.getEnumLength(PH.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),ds.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),ds.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=ds.checkForInput(this.inputs,e);ds.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Oot.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};BH.Psbt=kH});var kI=q(Wn=>{"use strict";p();m();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.signatureBlocksAction=Wn.checkInputForSig=Wn.pubkeyInScript=Wn.pubkeyPositionInScript=Wn.witnessStackToScriptWitness=Wn.isP2TR=Wn.isP2SHScript=Wn.isP2WSHScript=Wn.isP2WPKH=Wn.isP2PKH=Wn.isP2PK=Wn.isP2MS=void 0;var uxe=Dp(),BE=ya(),PI=Wv(),Not=Wl(),fy=Gv();function uy(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}o(uy,"isPaymentFactory");Wn.isP2MS=uy(fy.p2ms);Wn.isP2PK=uy(fy.p2pk);Wn.isP2PKH=uy(fy.p2pkh);Wn.isP2WPKH=uy(fy.p2wpkh);Wn.isP2WSHScript=uy(fy.p2wsh);Wn.isP2SHScript=uy(fy.p2sh);Wn.isP2TR=uy(fy.p2tr);function Mot(t){let e=Buffer.allocUnsafe(0);function r(a){e=Buffer.concat([e,Buffer.from(a)])}o(r,"writeSlice");function n(a){let f=e.length,l=uxe.encodingLength(a);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),uxe.encode(a,e,f)}o(n,"writeVarInt");function i(a){n(a.length),r(a)}o(i,"writeVarSlice");function s(a){n(a.length),a.forEach(i)}return o(s,"writeVector"),s(t),e}o(Mot,"witnessStackToScriptWitness");Wn.witnessStackToScriptWitness=Mot;function lxe(t,e){let r=(0,Not.hash160)(t),n=t.slice(1,33),i=BE.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}o(lxe,"pubkeyPositionInScript");Wn.pubkeyPositionInScript=lxe;function Cot(t,e){return lxe(t,e)!==-1}o(Cot,"pubkeyInScript");Wn.pubkeyInScript=Cot;function Pot(t,e){return kot(t).some(n=>dxe(n,BE.signature.decode,e))}o(Pot,"checkInputForSig");Wn.checkInputForSig=Pot;function dxe(t,e,r){let{hashType:n}=e(t),i=[];switch(n&PI.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case PI.Transaction.SIGHASH_ALL:break;case PI.Transaction.SIGHASH_SINGLE:case PI.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}o(dxe,"signatureBlocksAction");Wn.signatureBlocksAction=dxe;function kot(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=Bot(t)}else e=t.partialSig;return e.map(r=>r.signature)}o(kot,"extractPartialSigs");function Bot(t){let e=t.finalScriptSig?BE.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?BE.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&BE.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}o(Bot,"getPsigsFromInputFinalScripts")});var pxe=q(hi=>{"use strict";p();m();Object.defineProperty(hi,"__esModule",{value:!0});hi.checkTaprootInputForSigs=hi.tapTreeFromList=hi.tapTreeToList=hi.tweakInternalPubKey=hi.checkTaprootOutputFields=hi.checkTaprootInputFields=hi.isTaprootOutput=hi.isTaprootInput=hi.serializeTaprootSignature=hi.tapScriptFinalizer=hi.toXOnly=void 0;var FH=us(),Lot=Wv(),DI=kI(),Fp=yI(),Dot=Gv(),Uot=kI(),Fot=o(t=>t.length===32?t:t.slice(1,33),"toXOnly");hi.toXOnly=Fot;function qot(t,e,r){let n=ist(e,t,r);try{let s=rst(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,DI.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}o(qot,"tapScriptFinalizer");hi.tapScriptFinalizer=qot;function Hot(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}o(Hot,"serializeTaprootSignature");hi.serializeTaprootSignature=Hot;function BI(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,DI.isP2TR)(t.witnessUtxo.script))}o(BI,"isTaprootInput");hi.isTaprootInput=BI;function LI(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,DI.isP2TR)(e))}o(LI,"isTaprootOutput");hi.isTaprootOutput=LI;function Vot(t,e,r){Qot(t,e,r),tst(t,e,r)}o(Vot,"checkTaprootInputFields");hi.checkTaprootInputFields=Vot;function jot(t,e,r){est(t,e,r),zot(t,e)}o(jot,"checkTaprootOutputFields");hi.checkTaprootOutputFields=jot;function zot(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=Kot(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}o(zot,"checkTaprootScriptPubkey");function Kot(t,e){let r=e&&hxe(e.leaves),{output:n}=(0,Dot.p2tr)({internalPubkey:t,scriptTree:r});return n}o(Kot,"getTaprootScripPubkey");function Got(t,e){let r=e.tapInternalKey,n=r&&(0,Fp.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}o(Got,"tweakInternalPubKey");hi.tweakInternalPubKey=Got;function $ot(t){if(!(0,FH.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return DH(t)}o($ot,"tapTreeToList");hi.tapTreeToList=$ot;function hxe(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:Jot(t)}o(hxe,"tapTreeFromList");hi.tapTreeFromList=hxe;function Wot(t,e){return Xot(t).some(n=>(0,Uot.signatureBlocksAction)(n,Yot,e))}o(Wot,"checkTaprootInputForSigs");hi.checkTaprootInputForSigs=Wot;function Yot(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||Lot.Transaction.SIGHASH_DEFAULT}}o(Yot,"decodeSchnorrSignature");function Xot(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=Zot(t.finalScriptWitness);r&&e.push(r)}return e}o(Xot,"extractTaprootSigs");function Zot(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}o(Zot,"getTapKeySigFromWithness");function DH(t,e=[],r=0){if(r>Fp.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,FH.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Fp.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&DH(t[0],e,r+1),t[1]&&DH(t[1],e,r+1),e):[]}o(DH,"_tapTreeToList");function Jot(t){let e;for(let r of t)if(e=UH(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}o(Jot,"instertLeavesInTree");function UH(t,e,r=0){if(r>Fp.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,FH.isTapleaf)(e))return;let n=UH(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=UH(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}o(UH,"instertLeafInTree");function Qot(t,e,r){let n=BI(t)&&Xv(e),i=Xv(t)&&BI(e),s=t===e&&BI(e)&&Xv(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(Qot,"checkMixedTaprootAndNonTaprootInputFields");function est(t,e,r){let n=LI(t)&&Xv(e),i=Xv(t)&&LI(e),s=t===e&&LI(e)&&Xv(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(est,"checkMixedTaprootAndNonTaprootOutputFields");function tst(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>LH(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>LH(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>LH(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}o(tst,"checkIfTapLeafInTree");function LH(t,e){if(!e)return!0;let r=(0,Fp.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Fp.rootHashFromPath)(t.controlBlock,r).equals(e)}o(LH,"isTapLeafInTree");function rst(t,e){let r=(0,Fp.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>nst(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}o(rst,"sortSignatures");function nst(t,e){return Object.assign({positionInScript:(0,DI.pubkeyPositionInScript)(e.pubkey,t)},e)}o(nst,"addPubkeyPositionInScript");function ist(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>ost(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}o(ist,"findTapLeafToFinalize");function ost(t,e,r){let n=(0,Fp.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}o(ost,"canFinalizeLeaf");function Xv(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}o(Xv,"hasNonTaprootFields")});var Uxe=q(zI=>{"use strict";p();m();Object.defineProperty(zI,"__esModule",{value:!0});zI.Psbt=void 0;var mxe=fxe(),gxe=Dp(),_a=CH(),yxe=fH(),FI=OE(),sst=Pf(),Lf=Gv(),ast=yI(),xh=ya(),hs=Wv(),Si=pxe(),io=kI(),cst={network:sst.bitcoin,maximumFeeRate:5e3},HH=class t{static{o(this,"Psbt")}static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=mxe.Psbt.fromBuffer(e,fst),i=new t(r,n);return pst(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new mxe.Psbt(new qI)){this.data=r,this.opts=Object.assign({},cst,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=o((i,s,a,f)=>Object.defineProperty(i,s,{enumerable:a,writable:f}),"dpew");n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,FI.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,yxe.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,FI.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){UI(e),this.opts.maximumFeeRate=e}setVersion(e){UI(e),LE(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){UI(e),LE(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){UI(r),LE(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Si.checkTaprootInputFields)(e,e,"addInput"),LE(this.data.inputs,"addInput"),e.witnessScript&&HI(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];Ixe(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&jH(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");LE(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,yxe.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Si.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(Rxe))throw new Error("Not finalized");let r=this.__CACHE;if(e||lst(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return kxe(this.data.inputs,n,r,!0),n}getFeeRate(){return wxe("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return wxe("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,_a.checkForInput)(this.data.inputs,0),DE(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,_a.checkForInput)(this.data.inputs,e);return(0,Si.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Si.tapScriptFinalizer){let i=(0,_a.checkForInput)(this.data.inputs,e);if((0,Si.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=mst){let{script:i,isP2SH:s,isP2WSH:a,isSegwit:f}=vst(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);dst(r);let{finalScriptSig:l,finalScriptWitness:h}=n(e,r,i,f,s,a);if(l&&this.data.updateInput(e,{finalScriptSig:l}),h&&this.data.updateInput(e,{finalScriptWitness:h}),!l&&!h)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Si.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=Lf.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),a=(0,io.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:a})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,_a.checkForInput)(this.data.inputs,e),n=Bxe(e,r,this.__CACHE),i=jI(n,e,"input",r.redeemScript||Sst(r.finalScriptSig),r.witnessScript||Ast(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",a=Dxe(i.meaningfulScript);return s+a}inputHasPubkey(e,r){let n=(0,_a.checkForInput)(this.data.inputs,e);return wst(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,_a.checkForInput)(this.data.inputs,e),i=vxe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,_a.checkForOutput)(this.data.outputs,e);return Est(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,_a.checkForOutput)(this.data.outputs,e),i=vxe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,_a.checkForInput)(this.data.inputs,0),DE(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Si.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let a=n?s.filter(b=>b.pubkey.equals(n)):s;if(a.length<1)throw new Error("No signatures for this pubkey");let f=[],l,h,g;for(let b of a){let A=xh.signature.decode(b.signature),{hash:T,script:O}=g!==A.hashType?Nxe(e,Object.assign({},i,{sighashType:A.hashType}),this.__CACHE,!0):{hash:l,script:h};g=A.hashType,l=T,h=O,Txe(b.pubkey,O,"verify"),f.push(r(b.pubkey,T,A.signature))}return f.every(b=>b===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,a=(i||{}).tapScriptSig;if(!i&&!s&&!(a&&!a.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Si.toXOnly)(n);let f=n?VH(e,i,this.data.inputs,n,this.__CACHE):yst(e,i,this.data.inputs,this.__CACHE);if(!f.length)throw new Error("No signatures for this pubkey");let l=f.find(g=>!g.leafHash),h=0;if(s&&l){if(!r(l.pubkey,l.hash,Sxe(s)))return!1;h++}if(a)for(let g of a){let b=f.find(A=>g.pubkey.equals(A.pubkey));if(b){if(!r(g.pubkey,b.hash,Sxe(g.signature)))return!1;h++}}return h>0}signAllInputsHD(e,r=[hs.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of DE(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[hs.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],a=[];for(let f of DE(this.data.inputs.length))a.push(this.signInputHDAsync(f,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(f=>f===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[hs.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return Axe(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[hs.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let f=Axe(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(f).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of DE(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],a=[];for(let[f]of this.data.inputs.entries())a.push(this.signInputAsync(f,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(f=>f===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,_a.checkForInput)(this.data.inputs,e);return(0,Si.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,_a.checkForInput)(this.data.inputs,e);if((0,Si.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[hs.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=Exe(this.data.inputs,e,r.publicKey,this.__CACHE,n),a=[{pubkey:r.publicKey,signature:xh.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:a}),this}_signTaprootInput(e,r,n,i,s=[hs.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),f=a.filter(h=>!h.leafHash).map(h=>(0,Si.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType))[0],l=a.filter(h=>!!h.leafHash).map(h=>({pubkey:(0,Si.toXOnly)(n.publicKey),signature:(0,Si.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType),leafHash:h.leafHash}));return f&&this.data.updateInput(e,{tapKeySig:f}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,_a.checkForInput)(this.data.inputs,e);return(0,Si.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,_a.checkForInput)(this.data.inputs,e);if((0,Si.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[hs.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=Exe(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(a=>{let f=[{pubkey:r.publicKey,signature:xh.signature.encode(a,s)}];this.data.updateInput(e,{partialSig:f})})}async _signTaprootInputAsync(e,r,n,i,s=[hs.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),f=[],l=a.filter(g=>!g.leafHash)[0];if(l){let g=Promise.resolve(n.signSchnorr(l.hash)).then(b=>({tapKeySig:(0,Si.serializeTaprootSignature)(b,r.sighashType)}));f.push(g)}let h=a.filter(g=>!!g.leafHash);if(h.length){let g=h.map(b=>Promise.resolve(n.signSchnorr(b.hash)).then(A=>({tapScriptSig:[{pubkey:(0,Si.toXOnly)(n.publicKey),signature:(0,Si.serializeTaprootSignature)(A,r.sighashType),leafHash:b.leafHash}]})));f.push(...g)}return Promise.all(f).then(g=>{g.forEach(b=>this.data.updateInput(e,b))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let a=VH(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!a||!a.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return a}toBuffer(){return qH(this.__CACHE),this.data.toBuffer()}toHex(){return qH(this.__CACHE),this.data.toHex()}toBase64(){return qH(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&HI(r.witnessScript),(0,Si.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&jH(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Si.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};zI.Psbt=HH;var fst=o(t=>new qI(t),"transactionFromBuffer"),qI=class{static{o(this,"PsbtTransaction")}constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=hs.Transaction.fromBuffer(e),hst(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,FI.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function ust(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return bxe(1,t.partialSig);case"multisig":let n=Lf.p2ms({output:e});return bxe(n.m,t.partialSig,n.pubkeys);default:return!1}}o(ust,"canFinalize");function qH(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}o(qH,"checkCache");function bxe(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=Rst(i);return e.find(a=>a.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}o(bxe,"hasSigs");function Rxe(t){return!!t.finalScriptSig||!!t.finalScriptWitness}o(Rxe,"isFinalized");function vxe(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}o(vxe,"bip32DerivationIsMine");function UI(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}o(UI,"check32Bit");function lst(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}o(lst,"checkFees");function LE(t,e){t.forEach(r=>{if((0,Si.isTaprootInput)(r)?(0,Si.checkTaprootInputForSigs)(r,e):(0,io.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}o(LE,"checkInputsForPartialSig");function dst(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=xh.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}o(dst,"checkPartialSigSighashes");function Txe(t,e,r){if(!(0,io.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}o(Txe,"checkScriptForPubkey");function hst(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}o(hst,"checkTxEmpty");function pst(t,e){t.ins.forEach(r=>{Ixe(e,r)})}o(pst,"checkTxForDupeIns");function Ixe(t,e){let r=(0,FI.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}o(Ixe,"checkTxInputCache");function Oxe(t,e){return(r,n,i,s)=>{let a=t({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}o(Oxe,"scriptCheckerFactory");var xxe=Oxe(Lf.p2sh,"Redeem script"),_xe=Oxe(Lf.p2wsh,"Witness script");function wxe(t,e,r,n){if(!r.every(Rxe))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),kxe(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}o(wxe,"getTxCacheValue");function mst(t,e,r,n,i,s){let a=Dxe(r);if(!ust(e,r,a))throw new Error(`Can not finalize input #${t}`);return gst(r,a,e.partialSig,n,i,s)}o(mst,"getFinalScripts");function gst(t,e,r,n,i,s){let a,f,l=bst(t,e,r),h=s?Lf.p2wsh({redeem:l}):null,g=i?Lf.p2sh({redeem:h||l}):null;return n?(h?f=(0,io.witnessStackToScriptWitness)(h.witness):f=(0,io.witnessStackToScriptWitness)(l.witness),g&&(a=g.input)):g?a=g.input:a=l.input,{finalScriptSig:a,finalScriptWitness:f}}o(gst,"prepareFinalScripts");function Exe(t,e,r,n,i){let s=(0,_a.checkForInput)(t,e),{hash:a,sighashType:f,script:l}=Nxe(e,s,n,!1,i);return Txe(r,l,"sign"),{hash:a,sighashType:f}}o(Exe,"getHashAndSighashType");function Nxe(t,e,r,n,i){let s=r.__TX,a=e.sighashType||hs.Transaction.SIGHASH_ALL;Cxe(a,i);let f,l;if(e.nonWitnessUtxo){let b=VI(r,e,t),A=s.ins[t].hash,T=b.getHash();if(!A.equals(T))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let O=s.ins[t].index;l=b.outs[O]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:h,type:g}=jI(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(g)>=0)f=s.hashForWitnessV0(t,h,l.value,a);else if((0,io.isP2WPKH)(h)){let b=Lf.p2pkh({hash:h.slice(2)}).output;f=s.hashForWitnessV0(t,b,l.value,a)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),f=s.hashForSignature(t,h,a)}return{script:h,sighashType:a,hash:f}}o(Nxe,"getHashForSig");function yst(t,e,r,n){let i=[];if(e.tapInternalKey){let a=Mxe(t,e,n);a&&i.push(a)}if(e.tapScriptSig){let a=e.tapScriptSig.map(f=>f.pubkey);i.push(...a)}return i.map(a=>VH(t,e,r,a,n)).flat()}o(yst,"getAllTaprootHashesForSig");function Mxe(t,e,r){let{script:n}=zH(t,e,r);return(0,io.isP2TR)(n)?n.subarray(2,34):null}o(Mxe,"getPrevoutTaprootKey");function Sxe(t){return t.length===64?t:t.subarray(0,64)}o(Sxe,"trimTaprootSig");function VH(t,e,r,n,i,s,a){let f=i.__TX,l=e.sighashType||hs.Transaction.SIGHASH_DEFAULT;Cxe(l,a);let h=r.map((O,N)=>zH(N,O,i)),g=h.map(O=>O.script),b=h.map(O=>O.value),A=[];if(e.tapInternalKey&&!s){let O=Mxe(t,e,i)||Buffer.from([]);if((0,Si.toXOnly)(n).equals(O)){let N=f.hashForWitnessV1(t,g,b,l);A.push({pubkey:n,hash:N})}}let T=(e.tapLeafScript||[]).filter(O=>(0,io.pubkeyInScript)(n,O.script)).map(O=>{let N=(0,ast.tapleafHash)({output:O.script,version:O.leafVersion});return Object.assign({hash:N},O)}).filter(O=>!s||s.equals(O.hash)).map(O=>{let N=f.hashForWitnessV1(t,g,b,hs.Transaction.SIGHASH_DEFAULT,O.hash);return{pubkey:n,hash:N,leafHash:O.hash}});return A.concat(T)}o(VH,"getTaprootHashesForSig");function Cxe(t,e){if(e&&e.indexOf(t)<0){let r=_st(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}o(Cxe,"checkSighashTypeAllowed");function bst(t,e,r){let n;switch(e){case"multisig":let i=xst(t,r);n=Lf.p2ms({output:t,signatures:i});break;case"pubkey":n=Lf.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Lf.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Lf.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}o(bst,"getPayment");function vst(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=VI(r,e,t),a=n.ins[t].index;i.script=s.outs[a].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,io.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}o(vst,"getScriptFromInput");function Axe(t,e,r){let n=(0,_a.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(a=>{if(a.masterFingerprint.equals(r.fingerprint))return a}).filter(a=>!!a);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(a=>{let f=r.derivePath(a.path);if(!a.pubkey.equals(f.publicKey))throw new Error("pubkey did not match bip32Derivation");return f})}o(Axe,"getSignersFromHD");function xst(t,e){return Lf.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}o(xst,"getSortedSigs");function Pxe(t){let e=0;function r(a){return e+=a,t.slice(e-a,e)}o(r,"readSlice");function n(){let a=gxe.decode(t,e);return e+=gxe.decode.bytes,a}o(n,"readVarInt");function i(){return r(n())}o(i,"readVarSlice");function s(){let a=n(),f=[];for(let l=0;l<a;l++)f.push(i());return f}return o(s,"readVector"),s()}o(Pxe,"scriptWitnessToWitnessStack");function _st(t){let e=t&hs.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case hs.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case hs.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case hs.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}o(_st,"sighashTypeToString");function jH(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=hs.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let a=i.__NON_WITNESS_UTXO_BUF_CACHE[s],f=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(a!==void 0)return a;{let l=f.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=l,l}},set(a){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=a}})}o(jH,"addNonWitnessTxCache");function kxe(t,e,r,n){let i=0;t.forEach((l,h)=>{if(n&&l.finalScriptSig&&(e.ins[h].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[h].witness=Pxe(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let g=VI(r,l,h),b=e.ins[h].index,A=g.outs[b];i+=A.value}});let s=e.outs.reduce((l,h)=>l+h.value,0),a=i-s;if(a<0)throw new Error("Outputs are spending more than Inputs");let f=e.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(a/f)}o(kxe,"inputFinalizeGetAmts");function VI(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||jH(t,e,r),n[r]}o(VI,"nonWitnessUtxoTxFromCache");function Bxe(t,e,r){let{script:n}=zH(t,e,r);return n}o(Bxe,"getScriptFromUtxo");function zH(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=VI(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}o(zH,"getScriptAndAmountFromUtxo");function wst(t,e,r,n){let i=Bxe(r,e,n),{meaningfulScript:s}=jI(i,r,"input",e.redeemScript,e.witnessScript);return(0,io.pubkeyInScript)(t,s)}o(wst,"pubkeyInInput");function Est(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=jI(i,r,"output",e.redeemScript,e.witnessScript);return(0,io.pubkeyInScript)(t,s)}o(Est,"pubkeyInOutput");function Sst(t){if(!t)return;let e=xh.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||Lxe(r)||Tst(r)||!xh.decompile(r)))return r}o(Sst,"redeemFromFinalScriptSig");function Ast(t){if(!t)return;let e=Pxe(t),r=e[e.length-1];if(!(Lxe(r)||!xh.decompile(r)))return r}o(Ast,"redeemFromFinalWitnessScript");function Rst(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}o(Rst,"compressPubkey");function Lxe(t){return t.length===33&&xh.isCanonicalPubKey(t)}o(Lxe,"isPubkeyLike");function Tst(t){return xh.isCanonicalScriptSignature(t)}o(Tst,"isSigLike");function jI(t,e,r,n,i){let s=(0,io.isP2SHScript)(t),a=s&&n&&(0,io.isP2WSHScript)(n),f=(0,io.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((f||a)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return a?(l=i,xxe(e,t,n,r),_xe(e,n,i,r),HI(l)):f?(l=i,_xe(e,t,i,r),HI(l)):s?(l=n,xxe(e,t,n,r)):l=t,{meaningfulScript:l,type:a?"p2sh-p2wsh":s?"p2sh":f?"p2wsh":"raw"}}o(jI,"getMeaningfulScript");function HI(t){if((0,io.isP2WPKH)(t)||(0,io.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}o(HI,"checkInvalidP2WSH");function Dxe(t){return(0,io.isP2WPKH)(t)?"witnesspubkeyhash":(0,io.isP2PKH)(t)?"pubkeyhash":(0,io.isP2MS)(t)?"multisig":(0,io.isP2PK)(t)?"pubkey":"nonstandard"}o(Dxe,"classifyScript");function DE(t){return[...Array(t).keys()]}o(DE,"range")});var KH=q(Ui=>{"use strict";p();m();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.initEccLib=Ui.Transaction=Ui.opcodes=Ui.Psbt=Ui.Block=Ui.script=Ui.payments=Ui.networks=Ui.crypto=Ui.address=void 0;var Ist=fH();Ui.address=Ist;var Ost=Wl();Ui.crypto=Ost;var Nst=Pf();Ui.networks=Nst;var Mst=Gv();Ui.payments=Mst;var Cst=ya();Ui.script=Cst;var Pst=sve();Object.defineProperty(Ui,"Block",{enumerable:!0,get:o(function(){return Pst.Block},"get")});var kst=Uxe();Object.defineProperty(Ui,"Psbt",{enumerable:!0,get:o(function(){return kst.Psbt},"get")});var Bst=zT();Object.defineProperty(Ui,"opcodes",{enumerable:!0,get:o(function(){return Bst.OPS},"get")});var Lst=Wv();Object.defineProperty(Ui,"Transaction",{enumerable:!0,get:o(function(){return Lst.Transaction},"get")});var Dst=gI();Object.defineProperty(Ui,"initEccLib",{enumerable:!0,get:o(function(){return Dst.initEccLib},"get")})});var hSe=q((lCr,dSe)=>{p();m();var Mdt=xOe(),Cdt=FM(),Pdt="[object Date]";function kdt(t){return Cdt(t)&&Mdt(t)==Pdt}o(kdt,"baseIsDate");dSe.exports=kdt});var ySe=q((mCr,gSe)=>{p();m();var Bdt=hSe(),Ldt=qM(),pSe=HM(),mSe=pSe&&pSe.isDate,Ddt=mSe?Ldt(mSe):Bdt;gSe.exports=Ddt});var Ch=q(Ur=>{"use strict";p();m();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.DEFAULT_TLRU_TTL_MS=Ur.BANDIT_ASSIGNMENT_SHARDS=Ur.MAX_EVENT_QUEUE_SIZE=Ur.NULL_SENTINEL=Ur.SESSION_ASSIGNMENT_CONFIG_LOADED=Ur.PRECOMPUTED_FLAGS_ENDPOINT=Ur.PRECOMPUTED_BASE_URL=Ur.BANDIT_ENDPOINT=Ur.UFC_ENDPOINT=Ur.BASE_URL=Ur.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Ur.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Ur.POLL_JITTER_PCT=Ur.DEFAULT_POLL_INTERVAL_MS=Ur.REQUEST_TIMEOUT_MILLIS=Ur.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Ur.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Ur.REQUEST_TIMEOUT_MILLIS=Ur.DEFAULT_REQUEST_TIMEOUT_MS;Ur.DEFAULT_POLL_INTERVAL_MS=3e4;Ur.POLL_JITTER_PCT=.1;Ur.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Ur.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Ur.BASE_URL="https://fscdn.eppo.cloud/api";Ur.UFC_ENDPOINT="/flag-config/v1/config";Ur.BANDIT_ENDPOINT="/flag-config/v1/bandits";Ur.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Ur.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Ur.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Ur.NULL_SENTINEL="EPPO_NULL";Ur.MAX_EVENT_QUEUE_SIZE=100;Ur.BANDIT_ASSIGNMENT_SHARDS=1e4;Ur.DEFAULT_TLRU_TTL_MS=6e5});var z7=q(cz=>{"use strict";p();m();Object.defineProperty(cz,"__esModule",{value:!0});var j7=Ch(),az=class{static{o(this,"ApiEndpoints")}constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??j7.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(j7.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(j7.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(j7.PRECOMPUTED_FLAGS_ENDPOINT)}};cz.default=az});var kSe=q((Ikr,PSe)=>{"use strict";p();m();function dht(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}o(dht,"tryStringify");PSe.exports=hht;function hht(t,e,r){var n=r&&r.stringify||dht,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=n(t);for(var f=1;f<s;f++)a[f]=n(e[f]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var h="",g=1-i,b=-1,A=t&&t.length||0,T=0;T<A;){if(t.charCodeAt(T)===37&&T+1<A){switch(b=b>-1?b:0,t.charCodeAt(T+1)){case 100:case 102:if(g>=l||e[g]==null)break;b<T&&(h+=t.slice(b,T)),h+=Number(e[g]),b=T+2,T++;break;case 105:if(g>=l||e[g]==null)break;b<T&&(h+=t.slice(b,T)),h+=Math.floor(Number(e[g])),b=T+2,T++;break;case 79:case 111:case 106:if(g>=l||e[g]===void 0)break;b<T&&(h+=t.slice(b,T));var O=typeof e[g];if(O==="string"){h+="'"+e[g]+"'",b=T+2,T++;break}if(O==="function"){h+=e[g].name||"<anonymous>",b=T+2,T++;break}h+=n(e[g]),b=T+2,T++;break;case 115:if(g>=l)break;b<T&&(h+=t.slice(b,T)),h+=String(e[g]),b=T+2,T++;break;case 37:b<T&&(h+=t.slice(b,T)),h+="%",b=T+2,T++,g--;break}++g}++T}return b===-1?t:(b<A&&(h+=t.slice(b)),h)}o(hht,"format")});var qSe=q((Ckr,G7)=>{"use strict";p();m();var BSe=kSe();G7.exports=Ph;var MS=Iht().console||{},pht={mapHttpRequest:K7,mapHttpResponse:K7,wrapRequestSerializer:fz,wrapResponseSerializer:fz,wrapErrorSerializer:fz,req:K7,res:K7,err:DSe,errWithCause:DSe};function em(t,e){return t==="silent"?1/0:e.levels.values[t]}o(em,"levelToValue");var dz=Symbol("pino.logFuncs"),uz=Symbol("pino.hierarchy"),mht={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function LSe(t,e){let r={logger:e,parent:t[uz]};e[uz]=r}o(LSe,"appendChildLogger");function ght(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:MS[i]||MS[mht[i]||"log"]||Rx}),t[dz]=n}o(ght,"setupBaseLogFunctions");function yht(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}o(yht,"shouldSerialize");function Ph(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||MS;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=yht(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let a=Object.keys(t.customLevels||{}),f=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&f.forEach(function(N){r[N]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",h=Object.create(r);h.log||(h.log=Rx),ght(h,f,r),LSe({},h),Object.defineProperty(h,"levelVal",{get:b}),Object.defineProperty(h,"level",{get:A,set:T});let g={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:f,timestamp:Aht(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Rx};h.levels=bht(t),h.level=l,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=Rx,h.serializers=n,h._serialize=i,h._stdErrSerialize=s,h.child=function(...N){return O.call(this,g,...N)},e&&(h._logEvent=lz());function b(){return em(this.level,this)}o(b,"getLevelVal");function A(){return this._level}o(A,"getLevel");function T(N){if(N!=="silent"&&!this.levels.values[N])throw Error("unknown level "+N);this._level=N,Oy(this,g,h,"error"),Oy(this,g,h,"fatal"),Oy(this,g,h,"warn"),Oy(this,g,h,"info"),Oy(this,g,h,"debug"),Oy(this,g,h,"trace"),a.forEach(P=>{Oy(this,g,h,P)})}o(T,"setLevel");function O(N,P,C){if(!P)throw new Error("missing bindings for child Pino");C=C||{},i&&P.serializers&&(C.serializers=P.serializers);let D=C.serializers;if(i&&D){var M=Object.assign({},n,D),U=t.browser.serialize===!0?Object.keys(M):i;delete P.serializers,hz([P],U,M,this._stdErrSerialize)}function V(ee){this._childLevel=(ee._childLevel|0)+1,this.bindings=P,M&&(this.serializers=M,this._serialize=U),e&&(this._logEvent=lz([].concat(ee._logEvent.bindings,P)))}o(V,"Child"),V.prototype=this;let j=new V(this);return LSe(this,j),j.child=function(...ee){return O.call(this,N,...ee)},j.level=C.level||this.level,N.onChild(j),j}return o(O,"child"),h}o(Ph,"pino");function bht(t){let e=t.customLevels||{},r=Object.assign({},Ph.levels.values,e),n=Object.assign({},Ph.levels.labels,vht(e));return{values:r,labels:n}}o(bht,"getLevels");function vht(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}o(vht,"invertObject");Ph.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ph.stdSerializers=pht;Ph.stdTimeFunctions=Object.assign({},{nullTime:USe,epochTime:FSe,unixTime:Rht,isoTime:Tht});function xht(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[uz];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}o(xht,"getBindingChain");function Oy(t,e,r,n){if(Object.defineProperty(t,n,{value:em(t.level,r)>em(n,r)?Rx:r[dz][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===Rx){if(!e.transmit)return;let s=e.transmit.level||t.level,a=em(s,r);if(em(n,r)<a)return}t[n]=wht(t,e,r,n);let i=xht(t);i.length!==0&&(t[n]=_ht(i,t[n]))}o(Oy,"set");function _ht(t,e){return function(){return e.apply(this,[...t,...arguments])}}o(_ht,"prependBindingsInArguments");function wht(t,e,r,n){return function(i){return o(function(){let a=e.timestamp(),f=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===MS?MS:this;for(var h=0;h<f.length;h++)f[h]=arguments[h];var g=!1;if(e.serialize&&(hz(f,this._serialize,this.serializers,this._stdErrSerialize),g=!0),e.asObject||e.formatters?i.call(l,Eht(this,n,f,a,e)):i.apply(l,f),e.transmit){let b=e.transmit.level||t._level,A=em(b,r),T=em(n,r);if(T<A)return;Sht(this,{ts:a,methodLevel:n,methodValue:T,transmitLevel:b,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:em(t._level,r)},f,g)}},"LOG")}(t[dz][n])}o(wht,"createWrap");function Eht(t,e,r,n,i){let{level:s,log:a=o(A=>A,"logObjectFormatter")}=i.formatters||{},f=r.slice(),l=f[0],h={};if(n&&(h.time=n),s){let A=s(e,t.levels.values[e]);Object.assign(h,A)}else h.level=t.levels.values[e];let g=(t._childLevel|0)+1;if(g<1&&(g=1),l!==null&&typeof l=="object"){for(;g--&&typeof f[0]=="object";)Object.assign(h,f.shift());l=f.length?BSe(f.shift(),f):void 0}else typeof l=="string"&&(l=BSe(f.shift(),f));return l!==void 0&&(h[i.messageKey]=l),a(h)}o(Eht,"asObject");function hz(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=Ph.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let s in t[i])e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}o(hz,"applySerializers");function Sht(t,e,r,n=!1){let i=e.send,s=e.ts,a=e.methodLevel,f=e.methodValue,l=e.val,h=t._logEvent.bindings;n||hz(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(g){return h.indexOf(g)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=f,i(a,t._logEvent,l),t._logEvent=lz(h)}o(Sht,"transmit");function lz(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}o(lz,"createLogEventShape");function DSe(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}o(DSe,"asErrValue");function Aht(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?USe:FSe}o(Aht,"getTimeFunction");function K7(){return{}}o(K7,"mock");function fz(t){return t}o(fz,"passthrough");function Rx(){}o(Rx,"noop");function USe(){return!1}o(USe,"nullTime");function FSe(){return Date.now()}o(FSe,"epochTime");function Rht(){return Math.round(Date.now()/1e3)}o(Rht,"unixTime");function Tht(){return new Date(Date.now()).toISOString()}o(Tht,"isoTime");function Iht(){function t(e){return typeof e<"u"&&e}o(t,"defd");try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:o(function(){return delete Object.prototype.globalThis,this.globalThis=this},"get"),configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}o(Iht,"pfGlobalThisOrFallback");G7.exports.default=Ph;G7.exports.pino=Ph});var dd=q(Tx=>{"use strict";p();m();Object.defineProperty(Tx,"__esModule",{value:!0});Tx.logger=Tx.loggerPrefix=void 0;var Oht=qSe();Tx.loggerPrefix="[Eppo SDK]";Tx.logger=(0,Oht.default)({level:I.LOG_LEVEL??(I.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var gz=q((pz,mz)=>{p();m();(function(t,e){typeof pz=="object"&&typeof mz<"u"?mz.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:pz,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=Array.prototype.slice.call(s),f=function(L){var $={};return L.forEach(function(Q,re){return $[Q]=re}),$}(a),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),g=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(L){return new Uint8Array(Array.prototype.slice.call(L,0))},b=o(function(L){return L.replace(/=/g,"").replace(/[+\/]/g,function($){return $=="+"?"-":"_"})},"_mkUriSafe"),A=o(function(L){return L.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),T=o(function(L){for(var $,Q,re,Me,fe="",le=L.length%3,xe=0;xe<L.length;){if((Q=L.charCodeAt(xe++))>255||(re=L.charCodeAt(xe++))>255||(Me=L.charCodeAt(xe++))>255)throw new TypeError("invalid character found");$=Q<<16|re<<8|Me,fe+=a[$>>18&63]+a[$>>12&63]+a[$>>6&63]+a[$&63]}return le?fe.slice(0,le-3)+"===".substring(le):fe},"btoaPolyfill"),O=typeof btoa=="function"?function(L){return btoa(L)}:r?function(L){return Buffer.from(L,"binary").toString("base64")}:T,N=r?function(L){return Buffer.from(L).toString("base64")}:function(L){for(var $=4096,Q=[],re=0,Me=L.length;re<Me;re+=$)Q.push(h.apply(null,L.subarray(re,re+$)));return O(Q.join(""))},P=o(function(L,$){return $===void 0&&($=!1),$?b(N(L)):N(L)},"fromUint8Array"),C=o(function(L){if(L.length<2){var $=L.charCodeAt(0);return $<128?L:$<2048?h(192|$>>>6)+h(128|$&63):h(224|$>>>12&15)+h(128|$>>>6&63)+h(128|$&63)}else{var $=65536+(L.charCodeAt(0)-55296)*1024+(L.charCodeAt(1)-56320);return h(240|$>>>18&7)+h(128|$>>>12&63)+h(128|$>>>6&63)+h(128|$&63)}},"cb_utob"),D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,M=o(function(L){return L.replace(D,C)},"utob"),U=r?function(L){return Buffer.from(L,"utf8").toString("base64")}:i?function(L){return N(i.encode(L))}:function(L){return O(M(L))},V=o(function(L,$){return $===void 0&&($=!1),$?b(U(L)):U(L)},"encode"),j=o(function(L){return V(L,!0)},"encodeURI"),ee=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Y=o(function(L){switch(L.length){case 4:var $=(7&L.charCodeAt(0))<<18|(63&L.charCodeAt(1))<<12|(63&L.charCodeAt(2))<<6|63&L.charCodeAt(3),Q=$-65536;return h((Q>>>10)+55296)+h((Q&1023)+56320);case 3:return h((15&L.charCodeAt(0))<<12|(63&L.charCodeAt(1))<<6|63&L.charCodeAt(2));default:return h((31&L.charCodeAt(0))<<6|63&L.charCodeAt(1))}},"cb_btou"),te=o(function(L){return L.replace(ee,Y)},"btou"),E=o(function(L){if(L=L.replace(/\s+/g,""),!l.test(L))throw new TypeError("malformed base64.");L+="==".slice(2-(L.length&3));for(var $,Q="",re,Me,fe=0;fe<L.length;)$=f[L.charAt(fe++)]<<18|f[L.charAt(fe++)]<<12|(re=f[L.charAt(fe++)])<<6|(Me=f[L.charAt(fe++)]),Q+=re===64?h($>>16&255):Me===64?h($>>16&255,$>>8&255):h($>>16&255,$>>8&255,$&255);return Q},"atobPolyfill"),c=typeof atob=="function"?function(L){return atob(A(L))}:r?function(L){return Buffer.from(L,"base64").toString("binary")}:E,d=r?function(L){return g(Buffer.from(L,"base64"))}:function(L){return g(c(L).split("").map(function($){return $.charCodeAt(0)}))},y=o(function(L){return d(w(L))},"toUint8Array"),v=r?function(L){return Buffer.from(L,"base64").toString("utf8")}:n?function(L){return n.decode(d(L))}:function(L){return te(c(L))},w=o(function(L){return A(L.replace(/[-_]/g,function($){return $=="-"?"+":"/"}))},"_unURI"),S=o(function(L){return v(w(L))},"decode"),R=o(function(L){if(typeof L!="string")return!1;var $=L.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test($)||!/[^\s0-9a-zA-Z\-_]/.test($)},"isValid"),x=o(function(L){return{value:L,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),u=o(function(){var L=o(function($,Q){return Object.defineProperty(String.prototype,$,x(Q))},"_add");L("fromBase64",function(){return S(this)}),L("toBase64",function($){return V(this,$)}),L("toBase64URI",function(){return V(this,!0)}),L("toBase64URL",function(){return V(this,!0)}),L("toUint8Array",function(){return y(this)})},"extendString"),_=o(function(){var L=o(function($,Q){return Object.defineProperty(Uint8Array.prototype,$,x(Q))},"_add");L("toBase64",function($){return P(this,$)}),L("toBase64URI",function(){return P(this,!0)}),L("toBase64URL",function(){return P(this,!0)})},"extendUint8Array"),H=o(function(){u(),_()},"extendBuiltins"),F={version:t,VERSION:e,atob:c,atobPolyfill:E,btoa:O,btoaPolyfill:T,fromBase64:S,toBase64:V,encode:V,encodeURI:j,encodeURL:j,utob:M,btou:te,decode:S,isValid:R,fromUint8Array:P,toUint8Array:y,extendString:u,extendUint8Array:_,extendBuiltins:H};return F.Base64={},Object.keys(F).forEach(function(L){return F.Base64[L]=F[L]}),F})});var jSe=q((HSe,VSe)=>{p();m();(function(t){if(typeof HSe=="object")VSe.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=o(function(C,D){return C+D&4294967295},"add32"),r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(C,D,M,U,V,j){return D=e(e(D,C),e(U,j)),e(D<<V|D>>>32-V,M)}o(n,"cmn");function i(C,D){var M=C[0],U=C[1],V=C[2],j=C[3];M+=(U&V|~U&j)+D[0]-680876936|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&V)+D[1]-389564586|0,j=(j<<12|j>>>20)+M|0,V+=(j&M|~j&U)+D[2]+606105819|0,V=(V<<17|V>>>15)+j|0,U+=(V&j|~V&M)+D[3]-1044525330|0,U=(U<<22|U>>>10)+V|0,M+=(U&V|~U&j)+D[4]-176418897|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&V)+D[5]+1200080426|0,j=(j<<12|j>>>20)+M|0,V+=(j&M|~j&U)+D[6]-1473231341|0,V=(V<<17|V>>>15)+j|0,U+=(V&j|~V&M)+D[7]-45705983|0,U=(U<<22|U>>>10)+V|0,M+=(U&V|~U&j)+D[8]+1770035416|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&V)+D[9]-1958414417|0,j=(j<<12|j>>>20)+M|0,V+=(j&M|~j&U)+D[10]-42063|0,V=(V<<17|V>>>15)+j|0,U+=(V&j|~V&M)+D[11]-1990404162|0,U=(U<<22|U>>>10)+V|0,M+=(U&V|~U&j)+D[12]+1804603682|0,M=(M<<7|M>>>25)+U|0,j+=(M&U|~M&V)+D[13]-40341101|0,j=(j<<12|j>>>20)+M|0,V+=(j&M|~j&U)+D[14]-1502002290|0,V=(V<<17|V>>>15)+j|0,U+=(V&j|~V&M)+D[15]+1236535329|0,U=(U<<22|U>>>10)+V|0,M+=(U&j|V&~j)+D[1]-165796510|0,M=(M<<5|M>>>27)+U|0,j+=(M&V|U&~V)+D[6]-1069501632|0,j=(j<<9|j>>>23)+M|0,V+=(j&U|M&~U)+D[11]+643717713|0,V=(V<<14|V>>>18)+j|0,U+=(V&M|j&~M)+D[0]-373897302|0,U=(U<<20|U>>>12)+V|0,M+=(U&j|V&~j)+D[5]-701558691|0,M=(M<<5|M>>>27)+U|0,j+=(M&V|U&~V)+D[10]+38016083|0,j=(j<<9|j>>>23)+M|0,V+=(j&U|M&~U)+D[15]-660478335|0,V=(V<<14|V>>>18)+j|0,U+=(V&M|j&~M)+D[4]-405537848|0,U=(U<<20|U>>>12)+V|0,M+=(U&j|V&~j)+D[9]+568446438|0,M=(M<<5|M>>>27)+U|0,j+=(M&V|U&~V)+D[14]-1019803690|0,j=(j<<9|j>>>23)+M|0,V+=(j&U|M&~U)+D[3]-187363961|0,V=(V<<14|V>>>18)+j|0,U+=(V&M|j&~M)+D[8]+1163531501|0,U=(U<<20|U>>>12)+V|0,M+=(U&j|V&~j)+D[13]-1444681467|0,M=(M<<5|M>>>27)+U|0,j+=(M&V|U&~V)+D[2]-51403784|0,j=(j<<9|j>>>23)+M|0,V+=(j&U|M&~U)+D[7]+1735328473|0,V=(V<<14|V>>>18)+j|0,U+=(V&M|j&~M)+D[12]-1926607734|0,U=(U<<20|U>>>12)+V|0,M+=(U^V^j)+D[5]-378558|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^V)+D[8]-2022574463|0,j=(j<<11|j>>>21)+M|0,V+=(j^M^U)+D[11]+1839030562|0,V=(V<<16|V>>>16)+j|0,U+=(V^j^M)+D[14]-35309556|0,U=(U<<23|U>>>9)+V|0,M+=(U^V^j)+D[1]-1530992060|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^V)+D[4]+1272893353|0,j=(j<<11|j>>>21)+M|0,V+=(j^M^U)+D[7]-155497632|0,V=(V<<16|V>>>16)+j|0,U+=(V^j^M)+D[10]-1094730640|0,U=(U<<23|U>>>9)+V|0,M+=(U^V^j)+D[13]+681279174|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^V)+D[0]-358537222|0,j=(j<<11|j>>>21)+M|0,V+=(j^M^U)+D[3]-722521979|0,V=(V<<16|V>>>16)+j|0,U+=(V^j^M)+D[6]+76029189|0,U=(U<<23|U>>>9)+V|0,M+=(U^V^j)+D[9]-640364487|0,M=(M<<4|M>>>28)+U|0,j+=(M^U^V)+D[12]-421815835|0,j=(j<<11|j>>>21)+M|0,V+=(j^M^U)+D[15]+530742520|0,V=(V<<16|V>>>16)+j|0,U+=(V^j^M)+D[2]-995338651|0,U=(U<<23|U>>>9)+V|0,M+=(V^(U|~j))+D[0]-198630844|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~V))+D[7]+1126891415|0,j=(j<<10|j>>>22)+M|0,V+=(M^(j|~U))+D[14]-1416354905|0,V=(V<<15|V>>>17)+j|0,U+=(j^(V|~M))+D[5]-57434055|0,U=(U<<21|U>>>11)+V|0,M+=(V^(U|~j))+D[12]+1700485571|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~V))+D[3]-1894986606|0,j=(j<<10|j>>>22)+M|0,V+=(M^(j|~U))+D[10]-1051523|0,V=(V<<15|V>>>17)+j|0,U+=(j^(V|~M))+D[1]-2054922799|0,U=(U<<21|U>>>11)+V|0,M+=(V^(U|~j))+D[8]+1873313359|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~V))+D[15]-30611744|0,j=(j<<10|j>>>22)+M|0,V+=(M^(j|~U))+D[6]-1560198380|0,V=(V<<15|V>>>17)+j|0,U+=(j^(V|~M))+D[13]+1309151649|0,U=(U<<21|U>>>11)+V|0,M+=(V^(U|~j))+D[4]-145523070|0,M=(M<<6|M>>>26)+U|0,j+=(U^(M|~V))+D[11]-1120210379|0,j=(j<<10|j>>>22)+M|0,V+=(M^(j|~U))+D[2]+718787259|0,V=(V<<15|V>>>17)+j|0,U+=(j^(V|~M))+D[9]-343485551|0,U=(U<<21|U>>>11)+V|0,C[0]=M+C[0]|0,C[1]=U+C[1]|0,C[2]=V+C[2]|0,C[3]=j+C[3]|0}o(i,"md5cycle");function s(C){var D=[],M;for(M=0;M<64;M+=4)D[M>>2]=C.charCodeAt(M)+(C.charCodeAt(M+1)<<8)+(C.charCodeAt(M+2)<<16)+(C.charCodeAt(M+3)<<24);return D}o(s,"md5blk");function a(C){var D=[],M;for(M=0;M<64;M+=4)D[M>>2]=C[M]+(C[M+1]<<8)+(C[M+2]<<16)+(C[M+3]<<24);return D}o(a,"md5blk_array");function f(C){var D=C.length,M=[1732584193,-271733879,-1732584194,271733878],U,V,j,ee,Y,te;for(U=64;U<=D;U+=64)i(M,s(C.substring(U-64,U)));for(C=C.substring(U-64),V=C.length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<V;U+=1)j[U>>2]|=C.charCodeAt(U)<<(U%4<<3);if(j[U>>2]|=128<<(U%4<<3),U>55)for(i(M,j),U=0;U<16;U+=1)j[U]=0;return ee=D*8,ee=ee.toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(ee[2],16),te=parseInt(ee[1],16)||0,j[14]=Y,j[15]=te,i(M,j),M}o(f,"md51");function l(C){var D=C.length,M=[1732584193,-271733879,-1732584194,271733878],U,V,j,ee,Y,te;for(U=64;U<=D;U+=64)i(M,a(C.subarray(U-64,U)));for(C=U-64<D?C.subarray(U-64):new Uint8Array(0),V=C.length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<V;U+=1)j[U>>2]|=C[U]<<(U%4<<3);if(j[U>>2]|=128<<(U%4<<3),U>55)for(i(M,j),U=0;U<16;U+=1)j[U]=0;return ee=D*8,ee=ee.toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(ee[2],16),te=parseInt(ee[1],16)||0,j[14]=Y,j[15]=te,i(M,j),M}o(l,"md51_array");function h(C){var D="",M;for(M=0;M<4;M+=1)D+=r[C>>M*8+4&15]+r[C>>M*8&15];return D}o(h,"rhex");function g(C){var D;for(D=0;D<C.length;D+=1)C[D]=h(C[D]);return C.join("")}o(g,"hex"),g(f("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=o(function(C,D){var M=(C&65535)+(D&65535),U=(C>>16)+(D>>16)+(M>>16);return U<<16|M&65535},"add32")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(D,M){return D=D|0||0,D<0?Math.max(D+M,0):Math.min(D,M)}o(C,"clamp"),ArrayBuffer.prototype.slice=function(D,M){var U=this.byteLength,V=C(D,U),j=U,ee,Y,te,E;return M!==t&&(j=C(M,U)),V>j?new ArrayBuffer(0):(ee=j-V,Y=new ArrayBuffer(ee),te=new Uint8Array(Y),E=new Uint8Array(this,V,ee),te.set(E),Y)}}();function b(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}o(b,"toUtf8");function A(C,D){var M=C.length,U=new ArrayBuffer(M),V=new Uint8Array(U),j;for(j=0;j<M;j+=1)V[j]=C.charCodeAt(j);return D?V:U}o(A,"utf8Str2ArrayBuffer");function T(C){return String.fromCharCode.apply(null,new Uint8Array(C))}o(T,"arrayBuffer2Utf8Str");function O(C,D,M){var U=new Uint8Array(C.byteLength+D.byteLength);return U.set(new Uint8Array(C)),U.set(new Uint8Array(D),C.byteLength),M?U:U.buffer}o(O,"concatenateArrayBuffers");function N(C){var D=[],M=C.length,U;for(U=0;U<M-1;U+=2)D.push(parseInt(C.substr(U,2),16));return String.fromCharCode.apply(String,D)}o(N,"hexToBinaryString");function P(){this.reset()}return o(P,"SparkMD5"),P.prototype.append=function(C){return this.appendBinary(b(C)),this},P.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var D=this._buff.length,M;for(M=64;M<=D;M+=64)i(this._hash,s(this._buff.substring(M-64,M)));return this._buff=this._buff.substring(M-64),this},P.prototype.end=function(C){var D=this._buff,M=D.length,U,V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j;for(U=0;U<M;U+=1)V[U>>2]|=D.charCodeAt(U)<<(U%4<<3);return this._finish(V,M),j=g(this._hash),C&&(j=N(j)),this.reset(),j},P.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},P.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},P.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},P.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},P.prototype._finish=function(C,D){var M=D,U,V,j;if(C[M>>2]|=128<<(M%4<<3),M>55)for(i(this._hash,C),M=0;M<16;M+=1)C[M]=0;U=this._length*8,U=U.toString(16).match(/(.*?)(.{0,8})$/),V=parseInt(U[2],16),j=parseInt(U[1],16)||0,C[14]=V,C[15]=j,i(this._hash,C)},P.hash=function(C,D){return P.hashBinary(b(C),D)},P.hashBinary=function(C,D){var M=f(C),U=g(M);return D?N(U):U},P.ArrayBuffer=function(){this.reset()},P.ArrayBuffer.prototype.append=function(C){var D=O(this._buff.buffer,C,!0),M=D.length,U;for(this._length+=C.byteLength,U=64;U<=M;U+=64)i(this._hash,a(D.subarray(U-64,U)));return this._buff=U-64<M?new Uint8Array(D.buffer.slice(U-64)):new Uint8Array(0),this},P.ArrayBuffer.prototype.end=function(C){var D=this._buff,M=D.length,U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V,j;for(V=0;V<M;V+=1)U[V>>2]|=D[V]<<(V%4<<3);return this._finish(U,M),j=g(this._hash),C&&(j=N(j)),this.reset(),j},P.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},P.ArrayBuffer.prototype.getState=function(){var C=P.prototype.getState.call(this);return C.buff=T(C.buff),C},P.ArrayBuffer.prototype.setState=function(C){return C.buff=A(C.buff,!0),P.prototype.setState.call(this,C)},P.ArrayBuffer.prototype.destroy=P.prototype.destroy,P.ArrayBuffer.prototype._finish=P.prototype._finish,P.ArrayBuffer.hash=function(C,D){var M=l(new Uint8Array(C)),U=g(M);return D?N(U):U},P})});var kh=q(tm=>{"use strict";p();m();Object.defineProperty(tm,"__esModule",{value:!0});tm.getMD5Hash=yz;tm.encodeBase64=Xu;tm.attributeEncodeBase64=GSe;tm.decodeBase64=Mht;tm.obfuscatePrecomputedBanditMap=Cht;tm.obfuscatePrecomputedFlags=kht;var KSe=gz(),Nht=jSe();function yz(t,e=""){return new Nht().append(e).append(t).end()}o(yz,"getMD5Hash");function Xu(t){return KSe.encode(t)}o(Xu,"encodeBase64");function GSe(t){return Xu(typeof t!="string"?String(t):t)}o(GSe,"attributeEncodeBase64");function Mht(t){return KSe.decode(t)}o(Mht,"decodeBase64");function Cht(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[yz(r,t),Pht(n)]))}o(Cht,"obfuscatePrecomputedBanditMap");function Pht(t){return{banditKey:Xu(t.banditKey),action:Xu(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:Xu(t.modelVersion),actionNumericAttributes:zSe(t.actionNumericAttributes),actionCategoricalAttributes:zSe(t.actionCategoricalAttributes)}}o(Pht,"obfuscatePrecomputedBandit");function zSe(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[Xu(e),GSe(r)]))}o(zSe,"encodeAttributes");function kht(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],s=Object.fromEntries(Object.entries(i.extraLogging??{}).map(f=>f.map(Xu))),a=yz(n,t);r[a]={flagKey:a,variationType:i.variationType,extraLogging:s,doLog:i.doLog,allocationKey:Xu(i.allocationKey??""),variationKey:Xu(i.variationKey??""),variationValue:Xu(i.variationValue)}}),r}o(kht,"obfuscatePrecomputedFlags")});var CS=q(Ix=>{"use strict";p();m();Object.defineProperty(Ix,"__esModule",{value:!0});Ix.AbstractAssignmentCache=void 0;Ix.assignmentCacheKeyToString=bz;Ix.assignmentCacheValueToString=vz;var $Se=kh();function bz({subjectKey:t,flagKey:e}){return(0,$Se.getMD5Hash)([t,e].join(";"))}o(bz,"assignmentCacheKeyToString");function vz(t){return(0,$Se.getMD5Hash)(Object.values(t).join(";"))}o(vz,"assignmentCacheValueToString");var xz=class{static{o(this,"AbstractAssignmentCache")}constructor(e){this.delegate=e}has(e){return this.get(e)===vz(e)}get(e){return this.delegate.get(bz(e))}set(e){this.delegate.set(bz(e),vz(e))}entries(){return this.delegate.entries()}};Ix.AbstractAssignmentCache=xz});var wz=q($7=>{"use strict";p();m();Object.defineProperty($7,"__esModule",{value:!0});$7.LRUCache=void 0;var _z=class{static{o(this,"LRUCache")}constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};$7.LRUCache=_z});var Y7=q(W7=>{"use strict";p();m();Object.defineProperty(W7,"__esModule",{value:!0});W7.LRUInMemoryAssignmentCache=void 0;var Bht=CS(),Lht=wz(),Ez=class extends Bht.AbstractAssignmentCache{static{o(this,"LRUInMemoryAssignmentCache")}constructor(e){super(new Lht.LRUCache(e))}};W7.LRUInMemoryAssignmentCache=Ez});var Z7=q(X7=>{"use strict";p();m();Object.defineProperty(X7,"__esModule",{value:!0});X7.NonExpiringInMemoryAssignmentCache=void 0;var Dht=CS(),Sz=class extends Dht.AbstractAssignmentCache{static{o(this,"NonExpiringInMemoryAssignmentCache")}constructor(e=new Map){super(e)}};X7.NonExpiringInMemoryAssignmentCache=Sz});var Rz=q(Ny=>{"use strict";p();m();Object.defineProperty(Ny,"__esModule",{value:!0});Ny.isInstanceOfContextualAttributes=J7;Ny.ensureNonContextualSubjectAttributes=Uht;Ny.ensureContextualSubjectAttributes=Fht;Ny.deduceAttributeContext=Az;Ny.ensureActionsWithContextualAttributes=qht;function J7(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}o(J7,"isInstanceOfContextualAttributes");function Uht(t){let e;if(J7(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}o(Uht,"ensureNonContextualSubjectAttributes");function Fht(t){return J7(t)?t:Az(t)}o(Fht,"ensureContextualSubjectAttributes");function Az(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}o(Az,"deduceAttributeContext");function qht(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(J7)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=Az(n)}),e}o(qht,"ensureActionsWithContextualAttributes")});var Oz=q(rm=>{"use strict";p();m();Object.defineProperty(rm,"__esModule",{value:!0});rm.DeterministicSharder=rm.MD5Sharder=rm.Sharder=void 0;var Hht=kh(),PS=class{static{o(this,"Sharder")}};rm.Sharder=PS;var Tz=class extends PS{static{o(this,"MD5Sharder")}getShard(e,r){let n=(0,Hht.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};rm.MD5Sharder=Tz;var Iz=class extends PS{static{o(this,"DeterministicSharder")}constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};rm.DeterministicSharder=Iz});var WSe=q(Q7=>{"use strict";p();m();Object.defineProperty(Q7,"__esModule",{value:!0});Q7.BanditEvaluator=void 0;var Vht=Ch(),jht=Oz(),Nz=class{static{o(this,"BanditEvaluator")}constructor(){this.assignmentShards=Vht.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new jht.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:s}=this.getTopScore(i);return s}evaluateBandit(e,r,n,i,s){let a=this.scoreActions(n,i,s),f=this.weighActions(a,s.gamma,s.actionProbabilityFloor),l=this.selectAction(e,r,f),g=Object.values(a).reduce((b,A)=>A>b?A:b,-1/0)-a[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:a[l],actionWeight:f[l],gamma:s.gamma,optimalityGap:g}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([s,a])=>{let f=n.defaultActionScore,l=n.coefficients[s];l&&(f=l.intercept,f+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),f+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),f+=this.scoreNumericAttributes(l.actionNumericCoefficients,a.numericAttributes),f+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,a.categoricalAttributes)),i[s]=f}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey];return typeof s=="number"&&isFinite(s)?n+=s*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey]?.toString(),a=s&&i.valueCoefficients[s];return n+=typeof a=="number"?a:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},s=Object.entries(e);if(!s.length)return i;let{topScore:a,topAction:f}=this.getTopScore(e);if(a===null||f===null)throw new Error("Unable to find top score");let l=a,h=f,g=s.length,b=n/g,A=0;return s.forEach(([T,O])=>{if(T===h)return;let N=1/(g+r*(l-O)),P=Math.max(N,b);A+=P,i[T]=P}),i[h]=Math.max(1-A,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((h,g)=>{let b=this.sharder.getShard(`${e}-${r}-${h[0]}`,this.assignmentShards),A=this.sharder.getShard(`${e}-${r}-${g[0]}`,this.assignmentShards),T=b-A;return T===0&&(T=h[0]<g[0]?-1:1),T}),a=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,f=0,l=null;for(let h of i)if(f+=h[1],f>a){l=h[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([s,a])=>{(n===null||i===null||a>n||a===n&&s<i)&&(n=a,i=s)}),{topScore:n,topAction:i}}};Q7.BanditEvaluator=Nz});var YSe=q(e9=>{"use strict";p();m();Object.defineProperty(e9,"__esModule",{value:!0});e9.TLRUCache=void 0;var zht=wz(),Mz=class extends zht.LRUCache{static{o(this,"TLRUCache")}constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};e9.TLRUCache=Mz});var XSe=q(t9=>{"use strict";p();m();Object.defineProperty(t9,"__esModule",{value:!0});t9.TLRUInMemoryAssignmentCache=void 0;var Kht=Ch(),Ght=CS(),$ht=YSe(),Cz=class extends Ght.AbstractAssignmentCache{static{o(this,"TLRUInMemoryAssignmentCache")}constructor(e,r=Kht.DEFAULT_TLRU_TTL_MS){super(new $ht.TLRUCache(e,r))}};t9.TLRUInMemoryAssignmentCache=Cz});var Bh=q(nm=>{"use strict";p();m();Object.defineProperty(nm,"__esModule",{value:!0});nm.FormatEnum=nm.UNKNOWN_ENVIRONMENT_NAME=nm.VariationType=void 0;var ZSe;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(ZSe||(nm.VariationType=ZSe={}));nm.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var JSe;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(JSe||(nm.FormatEnum=JSe={}))});var eAe=q(hd=>{"use strict";p();m();Object.defineProperty(hd,"__esModule",{value:!0});hd.ConfigurationWireV1=hd.ObfuscatedPrecomputedConfigurationResponse=hd.PrecomputedConfigurationResponse=hd.PrecomputedConfiguration=void 0;var Wht=Bh(),QSe=kh(),r9=class{static{o(this,"BasePrecomputedConfigurationResponse")}constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=Wht.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},Pz=class t{static{o(this,"PrecomputedConfiguration")}constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,s,a){let f=new i9(e,r,n,i,s,a);return new t(JSON.stringify(f),e,s)}static unobfuscated(e,r,n,i,s){let a=new n9(e,r,n,i,s);return new t(JSON.stringify(a),e,i)}};hd.PrecomputedConfiguration=Pz;var n9=class extends r9{static{o(this,"PrecomputedConfigurationResponse")}constructor(e,r,n,i,s){super(e,i,s),this.flags=r,this.bandits=n,this.obfuscated=!1}};hd.PrecomputedConfigurationResponse=n9;var i9=class extends r9{static{o(this,"ObfuscatedPrecomputedConfigurationResponse")}constructor(e,r,n,i,s,a){super(e,s,a),this.obfuscated=!0,this.salt=i,this.bandits=(0,QSe.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,QSe.obfuscatePrecomputedFlags)(this.salt,r)}};hd.ObfuscatedPrecomputedConfigurationResponse=i9;var kz=class{static{o(this,"ConfigurationWireV1")}constructor(e){this.precomputed=e,this.version=1}};hd.ConfigurationWireV1=kz});var Lz=q(Bz=>{"use strict";p();m();Object.defineProperty(Bz,"__esModule",{value:!0});Bz.hydrateConfigurationStore=Yht;async function Yht(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}o(Yht,"hydrateConfigurationStore")});var qz=q(Fz=>{"use strict";p();m();Object.defineProperty(Fz,"__esModule",{value:!0});var Dz=Lz(),Uz=class{static{o(this,"ConfigurationRequestor")}constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,Dz.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,Dz.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let s=await this.httpClient.getBanditParameters();s?.bandits&&(await(0,Dz.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:s.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let s=r[i.flagKey];s||(s=[],r[i.flagKey]=s),s.push(i)})}),r}};Fz.default=Uz});var s9=q(Yf=>{"use strict";p();m();Object.defineProperty(Yf,"__esModule",{value:!0});Yf.decodeFlag=Xht;Yf.decodeVariations=tAe;Yf.decodeValue=Vz;Yf.decodeAllocation=rAe;Yf.decodeSplit=nAe;Yf.decodeShard=iAe;Yf.decodeObject=o9;Yf.decodeObjectTo=jz;Yf.decodePrecomputedFlag=Zht;Yf.decodePrecomputedBandit=Jht;var Hz=Bh(),ta=kh();function Xht(t){return{...t,variations:tAe(t.variations,t.variationType),allocations:t.allocations.map(rAe)}}o(Xht,"decodeFlag");function tAe(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,ta.decodeBase64)(r.key);return[n,{key:n,value:Vz(r.value,e)}]}))}o(tAe,"decodeVariations");function Vz(t,e){switch(e){case Hz.VariationType.INTEGER:case Hz.VariationType.NUMERIC:return Number((0,ta.decodeBase64)(t));case Hz.VariationType.BOOLEAN:return(0,ta.decodeBase64)(t)==="true";default:return(0,ta.decodeBase64)(t)}}o(Vz,"decodeValue");function rAe(t){return{...t,key:(0,ta.decodeBase64)(t.key),splits:t.splits.map(nAe),startAt:t.startAt?new Date((0,ta.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,ta.decodeBase64)(t.endAt)).toISOString():void 0}}o(rAe,"decodeAllocation");function nAe(t){return{extraLogging:t.extraLogging?o9(t.extraLogging):void 0,variationKey:(0,ta.decodeBase64)(t.variationKey),shards:t.shards.map(iAe)}}o(nAe,"decodeSplit");function iAe(t){return{...t,salt:(0,ta.decodeBase64)(t.salt)}}o(iAe,"decodeShard");function o9(t){return jz(t,e=>e)}o(o9,"decodeObject");function jz(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,ta.decodeBase64)(r),e((0,ta.decodeBase64)(n))]))}o(jz,"decodeObjectTo");function Zht(t){return{...t,allocationKey:(0,ta.decodeBase64)(t.allocationKey??""),variationKey:(0,ta.decodeBase64)(t.variationKey??""),variationValue:Vz(t.variationValue,t.variationType),extraLogging:o9(t.extraLogging??{})}}o(Zht,"decodePrecomputedFlag");function Jht(t){return{...t,banditKey:(0,ta.decodeBase64)(t.banditKey),action:(0,ta.decodeBase64)(t.action),modelVersion:(0,ta.decodeBase64)(t.modelVersion),actionNumericAttributes:jz(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:o9(t.actionCategoricalAttributes??{})}}o(Jht,"decodePrecomputedBandit")});var oAe=q(Ox=>{"use strict";p();m();Object.defineProperty(Ox,"__esModule",{value:!0});Ox.EppoValue=Ox.EppoValueType=void 0;var kS=Bh(),Qht=kh(),Xf;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(Xf||(Ox.EppoValueType=Xf={}));var zz=class t{static{o(this,"EppoValue")}constructor(e,r,n,i,s){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=s}static valueOf(e,r){if(e==null)return t.Null();switch(r){case kS.VariationType.BOOLEAN:return t.Bool(e);case kS.VariationType.NUMERIC:return t.Numeric(e);case kS.VariationType.INTEGER:return t.Numeric(e);case kS.VariationType.STRING:return t.String(e);case kS.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case Xf.NullType:return"null";case Xf.BoolType:return this.boolValue?"true":"false";case Xf.NumericType:return this.numericValue?this.numericValue.toString():"0";case Xf.StringType:return this.stringValue??"";case Xf.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,Qht.getMD5Hash)(e)}static Bool(e){return new t(Xf.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(Xf.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(Xf.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(Xf.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(Xf.NullType,void 0,void 0,void 0,void 0)}};Ox.EppoValue=zz});var Gz=q(im=>{"use strict";p();m();Object.defineProperty(im,"__esModule",{value:!0});im.FlagEvaluationDetailsBuilder=im.AllocationEvaluationCode=im.flagEvaluationCodes=void 0;var e0t=Bh();im.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var a9;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(a9||(im.AllocationEvaluationCode=a9={}));var Kz=class{static{o(this,"FlagEvaluationDetailsBuilder")}constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=s=>{this.unmatchedAllocations.push(s)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(s,a,f,l,h)=>(this.variationKey=a.key,this.variationValue=h===e0t.VariationType.JSON&&typeof a.value=="string"?JSON.parse(a.value):a.value,this.matchedRule=l,this.matchedAllocation={key:f.key,allocationEvaluationCode:a9.MATCH,orderPosition:s+1},this),this.buildForNoneResult=(s,a)=>this.setNone().build(s,a),this.build=(s,a)=>({environmentName:this.environmentName,flagEvaluationCode:s,flagEvaluationDescription:a,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(s,a)=>{try{return this.build(s,a)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let s=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,a=s+1;return this.allocations.slice(s).map((f,l)=>({key:f.key,allocationEvaluationCode:a9.UNEVALUATED,orderPosition:a+l}))},this.setNone()}};im.FlagEvaluationDetailsBuilder=Kz});var Wz=q(c9=>{"use strict";p();m();Object.defineProperty(c9,"__esModule",{value:!0});c9.FlagEvaluationError=void 0;var $z=class extends Error{static{o(this,"FlagEvaluationError")}};c9.FlagEvaluationError=$z});var BS=q((cLr,sAe)=>{p();m();var t0t="2.0.0",r0t=Number.MAX_SAFE_INTEGER||9007199254740991,n0t=16,i0t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];sAe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:n0t,MAX_SAFE_INTEGER:r0t,RELEASE_TYPES:i0t,SEMVER_SPEC_VERSION:t0t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var LS=q((lLr,aAe)=>{p();m();var o0t=typeof process=="object"&&I&&I.NODE_DEBUG&&/\bsemver\b/i.test(I.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};aAe.exports=o0t});var Nx=q((Lh,cAe)=>{p();m();var{MAX_SAFE_COMPONENT_LENGTH:Yz}=BS(),s0t=LS();Lh=cAe.exports={};var a0t=Lh.re=[],c0t=Lh.safeRe=[],Ct=Lh.src=[],Pt=Lh.t={},f0t=0,br=o((t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=f0t++;s0t(t,i,e),Pt[t]=i,Ct[i]=e,a0t[i]=new RegExp(e,r?"g":void 0),c0t[i]=new RegExp(n,r?"g":void 0)},"createToken");br("NUMERICIDENTIFIER","0|[1-9]\\d*");br("NUMERICIDENTIFIERLOOSE","[0-9]+");br("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");br("MAINVERSION",`(${Ct[Pt.NUMERICIDENTIFIER]})\\.(${Ct[Pt.NUMERICIDENTIFIER]})\\.(${Ct[Pt.NUMERICIDENTIFIER]})`);br("MAINVERSIONLOOSE",`(${Ct[Pt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[Pt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[Pt.NUMERICIDENTIFIERLOOSE]})`);br("PRERELEASEIDENTIFIER",`(?:${Ct[Pt.NUMERICIDENTIFIER]}|${Ct[Pt.NONNUMERICIDENTIFIER]})`);br("PRERELEASEIDENTIFIERLOOSE",`(?:${Ct[Pt.NUMERICIDENTIFIERLOOSE]}|${Ct[Pt.NONNUMERICIDENTIFIER]})`);br("PRERELEASE",`(?:-(${Ct[Pt.PRERELEASEIDENTIFIER]}(?:\\.${Ct[Pt.PRERELEASEIDENTIFIER]})*))`);br("PRERELEASELOOSE",`(?:-?(${Ct[Pt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ct[Pt.PRERELEASEIDENTIFIERLOOSE]})*))`);br("BUILDIDENTIFIER","[0-9A-Za-z-]+");br("BUILD",`(?:\\+(${Ct[Pt.BUILDIDENTIFIER]}(?:\\.${Ct[Pt.BUILDIDENTIFIER]})*))`);br("FULLPLAIN",`v?${Ct[Pt.MAINVERSION]}${Ct[Pt.PRERELEASE]}?${Ct[Pt.BUILD]}?`);br("FULL",`^${Ct[Pt.FULLPLAIN]}$`);br("LOOSEPLAIN",`[v=\\s]*${Ct[Pt.MAINVERSIONLOOSE]}${Ct[Pt.PRERELEASELOOSE]}?${Ct[Pt.BUILD]}?`);br("LOOSE",`^${Ct[Pt.LOOSEPLAIN]}$`);br("GTLT","((?:<|>)?=?)");br("XRANGEIDENTIFIERLOOSE",`${Ct[Pt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);br("XRANGEIDENTIFIER",`${Ct[Pt.NUMERICIDENTIFIER]}|x|X|\\*`);br("XRANGEPLAIN",`[v=\\s]*(${Ct[Pt.XRANGEIDENTIFIER]})(?:\\.(${Ct[Pt.XRANGEIDENTIFIER]})(?:\\.(${Ct[Pt.XRANGEIDENTIFIER]})(?:${Ct[Pt.PRERELEASE]})?${Ct[Pt.BUILD]}?)?)?`);br("XRANGEPLAINLOOSE",`[v=\\s]*(${Ct[Pt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[Pt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[Pt.XRANGEIDENTIFIERLOOSE]})(?:${Ct[Pt.PRERELEASELOOSE]})?${Ct[Pt.BUILD]}?)?)?`);br("XRANGE",`^${Ct[Pt.GTLT]}\\s*${Ct[Pt.XRANGEPLAIN]}$`);br("XRANGELOOSE",`^${Ct[Pt.GTLT]}\\s*${Ct[Pt.XRANGEPLAINLOOSE]}$`);br("COERCE",`(^|[^\\d])(\\d{1,${Yz}})(?:\\.(\\d{1,${Yz}}))?(?:\\.(\\d{1,${Yz}}))?(?:$|[^\\d])`);br("COERCERTL",Ct[Pt.COERCE],!0);br("LONETILDE","(?:~>?)");br("TILDETRIM",`(\\s*)${Ct[Pt.LONETILDE]}\\s+`,!0);Lh.tildeTrimReplace="$1~";br("TILDE",`^${Ct[Pt.LONETILDE]}${Ct[Pt.XRANGEPLAIN]}$`);br("TILDELOOSE",`^${Ct[Pt.LONETILDE]}${Ct[Pt.XRANGEPLAINLOOSE]}$`);br("LONECARET","(?:\\^)");br("CARETTRIM",`(\\s*)${Ct[Pt.LONECARET]}\\s+`,!0);Lh.caretTrimReplace="$1^";br("CARET",`^${Ct[Pt.LONECARET]}${Ct[Pt.XRANGEPLAIN]}$`);br("CARETLOOSE",`^${Ct[Pt.LONECARET]}${Ct[Pt.XRANGEPLAINLOOSE]}$`);br("COMPARATORLOOSE",`^${Ct[Pt.GTLT]}\\s*(${Ct[Pt.LOOSEPLAIN]})$|^$`);br("COMPARATOR",`^${Ct[Pt.GTLT]}\\s*(${Ct[Pt.FULLPLAIN]})$|^$`);br("COMPARATORTRIM",`(\\s*)${Ct[Pt.GTLT]}\\s*(${Ct[Pt.LOOSEPLAIN]}|${Ct[Pt.XRANGEPLAIN]})`,!0);Lh.comparatorTrimReplace="$1$2$3";br("HYPHENRANGE",`^\\s*(${Ct[Pt.XRANGEPLAIN]})\\s+-\\s+(${Ct[Pt.XRANGEPLAIN]})\\s*$`);br("HYPHENRANGELOOSE",`^\\s*(${Ct[Pt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ct[Pt.XRANGEPLAINLOOSE]})\\s*$`);br("STAR","(<|>)?=?\\s*\\*");br("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");br("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var f9=q((yLr,fAe)=>{p();m();var u0t=Object.freeze({loose:!0}),l0t=Object.freeze({}),d0t=o(t=>t?typeof t!="object"?u0t:t:l0t,"parseOptions");fAe.exports=d0t});var Xz=q((_Lr,dAe)=>{p();m();var uAe=/^[0-9]+$/,lAe=o((t,e)=>{let r=uAe.test(t),n=uAe.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),h0t=o((t,e)=>lAe(e,t),"rcompareIdentifiers");dAe.exports={compareIdentifiers:lAe,rcompareIdentifiers:h0t}});var ra=q((ALr,gAe)=>{p();m();var u9=LS(),{MAX_LENGTH:hAe,MAX_SAFE_INTEGER:l9}=BS(),{safeRe:pAe,t:mAe}=Nx(),p0t=f9(),{compareIdentifiers:Mx}=Xz(),Zz=class t{static{o(this,"SemVer")}constructor(e,r){if(r=p0t(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>hAe)throw new TypeError(`version is longer than ${hAe} characters`);u9("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?pAe[mAe.LOOSE]:pAe[mAe.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>l9||this.major<0)throw new TypeError("Invalid major version");if(this.minor>l9||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>l9||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<l9)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(u9("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Mx(this.major,e.major)||Mx(this.minor,e.minor)||Mx(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(u9("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Mx(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(u9("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Mx(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Mx(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};gAe.exports=Zz});var My=q((OLr,bAe)=>{p();m();var yAe=ra(),m0t=o((t,e,r=!1)=>{if(t instanceof yAe)return t;try{return new yAe(t,e)}catch(n){if(!r)return null;throw n}},"parse");bAe.exports=m0t});var xAe=q((PLr,vAe)=>{p();m();var g0t=My(),y0t=o((t,e)=>{let r=g0t(t,e);return r?r.version:null},"valid");vAe.exports=y0t});var wAe=q((DLr,_Ae)=>{p();m();var b0t=My(),v0t=o((t,e)=>{let r=b0t(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");_Ae.exports=v0t});var AAe=q((HLr,SAe)=>{p();m();var EAe=ra(),x0t=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new EAe(t instanceof EAe?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");SAe.exports=x0t});var IAe=q((KLr,TAe)=>{p();m();var RAe=My(),_0t=o((t,e)=>{let r=RAe(t,null,!0),n=RAe(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,f=s?n:r,l=!!a.prerelease.length;if(!!f.prerelease.length&&!l)return!f.patch&&!f.minor?"major":a.patch?"patch":a.minor?"minor":"major";let g=l?"pre":"";return r.major!==n.major?g+"major":r.minor!==n.minor?g+"minor":r.patch!==n.patch?g+"patch":"prerelease"},"diff");TAe.exports=_0t});var NAe=q((YLr,OAe)=>{p();m();var w0t=ra(),E0t=o((t,e)=>new w0t(t,e).major,"major");OAe.exports=E0t});var CAe=q((QLr,MAe)=>{p();m();var S0t=ra(),A0t=o((t,e)=>new S0t(t,e).minor,"minor");MAe.exports=A0t});var kAe=q((nDr,PAe)=>{p();m();var R0t=ra(),T0t=o((t,e)=>new R0t(t,e).patch,"patch");PAe.exports=T0t});var LAe=q((aDr,BAe)=>{p();m();var I0t=My(),O0t=o((t,e)=>{let r=I0t(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");BAe.exports=O0t});var Zf=q((lDr,UAe)=>{p();m();var DAe=ra(),N0t=o((t,e,r)=>new DAe(t,r).compare(new DAe(e,r)),"compare");UAe.exports=N0t});var qAe=q((mDr,FAe)=>{p();m();var M0t=Zf(),C0t=o((t,e,r)=>M0t(e,t,r),"rcompare");FAe.exports=C0t});var VAe=q((vDr,HAe)=>{p();m();var P0t=Zf(),k0t=o((t,e)=>P0t(t,e,!0),"compareLoose");HAe.exports=k0t});var d9=q((EDr,zAe)=>{p();m();var jAe=ra(),B0t=o((t,e,r)=>{let n=new jAe(t,r),i=new jAe(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");zAe.exports=B0t});var GAe=q((TDr,KAe)=>{p();m();var L0t=d9(),D0t=o((t,e)=>t.sort((r,n)=>L0t(r,n,e)),"sort");KAe.exports=D0t});var WAe=q((MDr,$Ae)=>{p();m();var U0t=d9(),F0t=o((t,e)=>t.sort((r,n)=>U0t(n,r,e)),"rsort");$Ae.exports=F0t});var DS=q((BDr,YAe)=>{p();m();var q0t=Zf(),H0t=o((t,e,r)=>q0t(t,e,r)>0,"gt");YAe.exports=H0t});var h9=q((FDr,XAe)=>{p();m();var V0t=Zf(),j0t=o((t,e,r)=>V0t(t,e,r)<0,"lt");XAe.exports=j0t});var Jz=q((jDr,ZAe)=>{p();m();var z0t=Zf(),K0t=o((t,e,r)=>z0t(t,e,r)===0,"eq");ZAe.exports=K0t});var Qz=q(($Dr,JAe)=>{p();m();var G0t=Zf(),$0t=o((t,e,r)=>G0t(t,e,r)!==0,"neq");JAe.exports=$0t});var p9=q((ZDr,QAe)=>{p();m();var W0t=Zf(),Y0t=o((t,e,r)=>W0t(t,e,r)>=0,"gte");QAe.exports=Y0t});var m9=q((tUr,e3e)=>{p();m();var X0t=Zf(),Z0t=o((t,e,r)=>X0t(t,e,r)<=0,"lte");e3e.exports=Z0t});var eK=q((oUr,t3e)=>{p();m();var J0t=Jz(),Q0t=Qz(),ept=DS(),tpt=p9(),rpt=h9(),npt=m9(),ipt=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return J0t(t,r,n);case"!=":return Q0t(t,r,n);case">":return ept(t,r,n);case">=":return tpt(t,r,n);case"<":return rpt(t,r,n);case"<=":return npt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");t3e.exports=ipt});var n3e=q((fUr,r3e)=>{p();m();var opt=ra(),spt=My(),{safeRe:g9,t:y9}=Nx(),apt=o((t,e)=>{if(t instanceof opt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(g9[y9.COERCE]);else{let n;for(;(n=g9[y9.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),g9[y9.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;g9[y9.COERCERTL].lastIndex=-1}return r===null?null:spt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)},"coerce");r3e.exports=apt});var o3e=q((hUr,i3e)=>{"use strict";p();m();i3e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var a3e=q((gUr,s3e)=>{"use strict";p();m();s3e.exports=fn;fn.Node=Cy;fn.create=fn;function fn(t){var e=this;if(e instanceof fn||(e=new fn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}o(fn,"Yallist");fn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};fn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};fn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};fn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)fpt(this,arguments[t]);return this.length};fn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)upt(this,arguments[t]);return this.length};fn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};fn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};fn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};fn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};fn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};fn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};fn.prototype.map=function(t,e){e=e||this;for(var r=new fn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};fn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new fn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};fn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};fn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};fn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};fn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};fn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new fn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};fn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new fn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};fn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=cpt(this,i,r[n]);return s};fn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function cpt(t,e,r){var n=e===t.head?new Cy(r,null,e,t):new Cy(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}o(cpt,"insert");function fpt(t,e){t.tail=new Cy(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}o(fpt,"push");function upt(t,e){t.head=new Cy(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}o(upt,"unshift");function Cy(t,e,r,n){if(!(this instanceof Cy))return new Cy(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}o(Cy,"Node");try{o3e()(fn)}catch{}});var d3e=q((xUr,l3e)=>{"use strict";p();m();var lpt=a3e(),Py=Symbol("max"),Uh=Symbol("length"),Cx=Symbol("lengthCalculator"),FS=Symbol("allowStale"),ky=Symbol("maxAge"),Dh=Symbol("dispose"),c3e=Symbol("noDisposeOnSet"),$o=Symbol("lruList"),Zu=Symbol("cache"),u3e=Symbol("updateAgeOnGet"),tK=o(()=>1,"naiveLength"),nK=class{static{o(this,"LRUCache")}constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Py]=e.max||1/0,n=e.length||tK;if(this[Cx]=typeof n!="function"?tK:n,this[FS]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ky]=e.maxAge||0,this[Dh]=e.dispose,this[c3e]=e.noDisposeOnSet||!1,this[u3e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Py]=e||1/0,US(this)}get max(){return this[Py]}set allowStale(e){this[FS]=!!e}get allowStale(){return this[FS]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ky]=e,US(this)}get maxAge(){return this[ky]}set lengthCalculator(e){typeof e!="function"&&(e=tK),e!==this[Cx]&&(this[Cx]=e,this[Uh]=0,this[$o].forEach(r=>{r.length=this[Cx](r.value,r.key),this[Uh]+=r.length})),US(this)}get lengthCalculator(){return this[Cx]}get length(){return this[Uh]}get itemCount(){return this[$o].length}rforEach(e,r){r=r||this;for(let n=this[$o].tail;n!==null;){let i=n.prev;f3e(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[$o].head;n!==null;){let i=n.next;f3e(this,e,n,r),n=i}}keys(){return this[$o].toArray().map(e=>e.key)}values(){return this[$o].toArray().map(e=>e.value)}reset(){this[Dh]&&this[$o]&&this[$o].length&&this[$o].forEach(e=>this[Dh](e.key,e.value)),this[Zu]=new Map,this[$o]=new lpt,this[Uh]=0}dump(){return this[$o].map(e=>b9(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[$o]}set(e,r,n){if(n=n||this[ky],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[Cx](r,e);if(this[Zu].has(e)){if(s>this[Py])return Px(this,this[Zu].get(e)),!1;let l=this[Zu].get(e).value;return this[Dh]&&(this[c3e]||this[Dh](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Uh]+=s-l.length,l.length=s,this.get(e),US(this),!0}let a=new iK(e,r,s,i,n);return a.length>this[Py]?(this[Dh]&&this[Dh](e,r),!1):(this[Uh]+=a.length,this[$o].unshift(a),this[Zu].set(e,this[$o].head),US(this),!0)}has(e){if(!this[Zu].has(e))return!1;let r=this[Zu].get(e).value;return!b9(this,r)}get(e){return rK(this,e,!0)}peek(e){return rK(this,e,!1)}pop(){let e=this[$o].tail;return e?(Px(this,e),e.value):null}del(e){Px(this,this[Zu].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let a=s-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Zu].forEach((e,r)=>rK(this,r,!1))}},rK=o((t,e,r)=>{let n=t[Zu].get(e);if(n){let i=n.value;if(b9(t,i)){if(Px(t,n),!t[FS])return}else r&&(t[u3e]&&(n.value.now=Date.now()),t[$o].unshiftNode(n));return i.value}},"get"),b9=o((t,e)=>{if(!e||!e.maxAge&&!t[ky])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[ky]&&r>t[ky]},"isStale"),US=o(t=>{if(t[Uh]>t[Py])for(let e=t[$o].tail;t[Uh]>t[Py]&&e!==null;){let r=e.prev;Px(t,e),e=r}},"trim"),Px=o((t,e)=>{if(e){let r=e.value;t[Dh]&&t[Dh](r.key,r.value),t[Uh]-=r.length,t[Zu].delete(r.key),t[$o].removeNode(e)}},"del"),iK=class{static{o(this,"Entry")}constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},f3e=o((t,e,r,n)=>{let i=r.value;b9(t,i)&&(Px(t,r),t[FS]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},"forEachStep");l3e.exports=nK});var Jf=q((SUr,g3e)=>{p();m();var oK=class t{static{o(this,"Range")}constructor(e,r){if(r=hpt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof sK)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!p3e(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&xpt(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&bpt)|(this.options.loose&&vpt))+":"+e,i=h3e.get(n);if(i)return i;let s=this.options.loose,a=s?ac[Aa.HYPHENRANGELOOSE]:ac[Aa.HYPHENRANGE];e=e.replace(a,Npt(this.options.includePrerelease)),Ai("hyphen replace",e),e=e.replace(ac[Aa.COMPARATORTRIM],mpt),Ai("comparator trim",e),e=e.replace(ac[Aa.TILDETRIM],gpt),e=e.replace(ac[Aa.CARETTRIM],ypt);let f=e.split(" ").map(b=>_pt(b,this.options)).join(" ").split(/\s+/).map(b=>Opt(b,this.options));s&&(f=f.filter(b=>(Ai("loose invalid filter",b,this.options),!!b.match(ac[Aa.COMPARATORLOOSE])))),Ai("range list",f);let l=new Map,h=f.map(b=>new sK(b,this.options));for(let b of h){if(p3e(b))return[b];l.set(b.value,b)}l.size>1&&l.has("")&&l.delete("");let g=[...l.values()];return h3e.set(n,g),g}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>m3e(n,r)&&e.set.some(i=>m3e(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ppt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Mpt(this.set[r],e,this.options))return!0;return!1}};g3e.exports=oK;var dpt=d3e(),h3e=new dpt({max:1e3}),hpt=f9(),sK=qS(),Ai=LS(),ppt=ra(),{safeRe:ac,t:Aa,comparatorTrimReplace:mpt,tildeTrimReplace:gpt,caretTrimReplace:ypt}=Nx(),{FLAG_INCLUDE_PRERELEASE:bpt,FLAG_LOOSE:vpt}=BS(),p3e=o(t=>t.value==="<0.0.0-0","isNullSet"),xpt=o(t=>t.value==="","isAny"),m3e=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),_pt=o((t,e)=>(Ai("comp",t,e),t=Spt(t,e),Ai("caret",t),t=wpt(t,e),Ai("tildes",t),t=Rpt(t,e),Ai("xrange",t),t=Ipt(t,e),Ai("stars",t),t),"parseComparator"),Ra=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),wpt=o((t,e)=>t.trim().split(/\s+/).map(r=>Ept(r,e)).join(" "),"replaceTildes"),Ept=o((t,e)=>{let r=e.loose?ac[Aa.TILDELOOSE]:ac[Aa.TILDE];return t.replace(r,(n,i,s,a,f)=>{Ai("tilde",t,n,i,s,a,f);let l;return Ra(i)?l="":Ra(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Ra(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:f?(Ai("replaceTilde pr",f),l=`>=${i}.${s}.${a}-${f} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Ai("tilde return",l),l})},"replaceTilde"),Spt=o((t,e)=>t.trim().split(/\s+/).map(r=>Apt(r,e)).join(" "),"replaceCarets"),Apt=o((t,e)=>{Ai("caret",t,e);let r=e.loose?ac[Aa.CARETLOOSE]:ac[Aa.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,f,l)=>{Ai("caret",t,i,s,a,f,l);let h;return Ra(s)?h="":Ra(a)?h=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ra(f)?s==="0"?h=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(Ai("replaceCaret pr",l),s==="0"?a==="0"?h=`>=${s}.${a}.${f}-${l} <${s}.${a}.${+f+1}-0`:h=`>=${s}.${a}.${f}-${l} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${f}-${l} <${+s+1}.0.0-0`):(Ai("no pr"),s==="0"?a==="0"?h=`>=${s}.${a}.${f}${n} <${s}.${a}.${+f+1}-0`:h=`>=${s}.${a}.${f}${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${f} <${+s+1}.0.0-0`),Ai("caret return",h),h})},"replaceCaret"),Rpt=o((t,e)=>(Ai("replaceXRanges",t,e),t.split(/\s+/).map(r=>Tpt(r,e)).join(" ")),"replaceXRanges"),Tpt=o((t,e)=>{t=t.trim();let r=e.loose?ac[Aa.XRANGELOOSE]:ac[Aa.XRANGE];return t.replace(r,(n,i,s,a,f,l)=>{Ai("xRange",t,n,i,s,a,f,l);let h=Ra(s),g=h||Ra(a),b=g||Ra(f),A=b;return i==="="&&A&&(i=""),l=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&A?(g&&(a=0),f=0,i===">"?(i=">=",g?(s=+s+1,a=0,f=0):(a=+a+1,f=0)):i==="<="&&(i="<",g?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${f}${l}`):g?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:b&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),Ai("xRange return",n),n})},"replaceXRange"),Ipt=o((t,e)=>(Ai("replaceStars",t,e),t.trim().replace(ac[Aa.STAR],"")),"replaceStars"),Opt=o((t,e)=>(Ai("replaceGTE0",t,e),t.trim().replace(ac[e.includePrerelease?Aa.GTE0PRE:Aa.GTE0],"")),"replaceGTE0"),Npt=o(t=>(e,r,n,i,s,a,f,l,h,g,b,A,T)=>(Ra(n)?r="":Ra(i)?r=`>=${n}.0.0${t?"-0":""}`:Ra(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ra(h)?l="":Ra(g)?l=`<${+h+1}.0.0-0`:Ra(b)?l=`<${h}.${+g+1}.0-0`:A?l=`<=${h}.${g}.${b}-${A}`:t?l=`<${h}.${g}.${+b+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),"hyphenReplace"),Mpt=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ai(t[n].semver),t[n].semver!==sK.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var qS=q((IUr,w3e)=>{p();m();var HS=Symbol("SemVer ANY"),fK=class t{static{o(this,"Comparator")}static get ANY(){return HS}constructor(e,r){if(r=y3e(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),cK("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===HS?this.value="":this.value=this.operator+this.semver.version,cK("comp",this)}parse(e){let r=this.options.loose?b3e[v3e.COMPARATORLOOSE]:b3e[v3e.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new x3e(n[2],this.options.loose):this.semver=HS}toString(){return this.value}test(e){if(cK("Comparator.test",e,this.options.loose),this.semver===HS||e===HS)return!0;if(typeof e=="string")try{e=new x3e(e,this.options)}catch{return!1}return aK(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new _3e(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new _3e(this.value,r).test(e.semver):(r=y3e(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||aK(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||aK(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};w3e.exports=fK;var y3e=f9(),{safeRe:b3e,t:v3e}=Nx(),aK=eK(),cK=LS(),x3e=ra(),_3e=Jf()});var VS=q((CUr,E3e)=>{p();m();var Cpt=Jf(),Ppt=o((t,e,r)=>{try{e=new Cpt(e,r)}catch{return!1}return e.test(t)},"satisfies");E3e.exports=Ppt});var A3e=q((LUr,S3e)=>{p();m();var kpt=Jf(),Bpt=o((t,e)=>new kpt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");S3e.exports=Bpt});var T3e=q((qUr,R3e)=>{p();m();var Lpt=ra(),Dpt=Jf(),Upt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new Dpt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Lpt(n,r))}),n},"maxSatisfying");R3e.exports=Upt});var O3e=q((zUr,I3e)=>{p();m();var Fpt=ra(),qpt=Jf(),Hpt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new qpt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new Fpt(n,r))}),n},"minSatisfying");I3e.exports=Hpt});var C3e=q((WUr,M3e)=>{p();m();var uK=ra(),Vpt=Jf(),N3e=DS(),jpt=o((t,e)=>{t=new Vpt(t,e);let r=new uK("0.0.0");if(t.test(r)||(r=new uK("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let f=new uK(a.semver.version);switch(a.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!s||N3e(f,s))&&(s=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||N3e(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");M3e.exports=jpt});var k3e=q((JUr,P3e)=>{p();m();var zpt=Jf(),Kpt=o((t,e)=>{try{return new zpt(t,e).range||"*"}catch{return null}},"validRange");P3e.exports=Kpt});var v9=q((rFr,U3e)=>{p();m();var Gpt=ra(),D3e=qS(),{ANY:$pt}=D3e,Wpt=Jf(),Ypt=VS(),B3e=DS(),L3e=h9(),Xpt=m9(),Zpt=p9(),Jpt=o((t,e,r,n)=>{t=new Gpt(t,n),e=new Wpt(e,n);let i,s,a,f,l;switch(r){case">":i=B3e,s=Xpt,a=L3e,f=">",l=">=";break;case"<":i=L3e,s=Zpt,a=B3e,f="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ypt(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let g=e.set[h],b=null,A=null;if(g.forEach(T=>{T.semver===$pt&&(T=new D3e(">=0.0.0")),b=b||T,A=A||T,i(T.semver,b.semver,n)?b=T:a(T.semver,A.semver,n)&&(A=T)}),b.operator===f||b.operator===l||(!A.operator||A.operator===f)&&s(t,A.semver))return!1;if(A.operator===l&&a(t,A.semver))return!1}return!0},"outside");U3e.exports=Jpt});var q3e=q((sFr,F3e)=>{p();m();var Qpt=v9(),emt=o((t,e,r)=>Qpt(t,e,">",r),"gtr");F3e.exports=emt});var V3e=q((uFr,H3e)=>{p();m();var tmt=v9(),rmt=o((t,e,r)=>tmt(t,e,"<",r),"ltr");H3e.exports=rmt});var K3e=q((pFr,z3e)=>{p();m();var j3e=Jf(),nmt=o((t,e,r)=>(t=new j3e(t,r),e=new j3e(e,r),t.intersects(e,r)),"intersects");z3e.exports=nmt});var $3e=q((bFr,G3e)=>{p();m();var imt=VS(),omt=Zf();G3e.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((g,b)=>omt(g,b,r));for(let g of a)imt(g,e,r)?(s=g,i||(i=g)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let f=[];for(let[g,b]of n)g===b?f.push(g):!b&&g===a[0]?f.push("*"):b?g===a[0]?f.push(`<=${b}`):f.push(`${g} - ${b}`):f.push(`>=${g}`);let l=f.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return l.length<h.length?l:e}});var Q3e=q((_Fr,J3e)=>{p();m();var W3e=Jf(),dK=qS(),{ANY:lK}=dK,jS=VS(),hK=Zf(),smt=o((t,e,r={})=>{if(t===e)return!0;t=new W3e(t,r),e=new W3e(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=cmt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),amt=[new dK(">=0.0.0-0")],Y3e=[new dK(">=0.0.0")],cmt=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===lK){if(e.length===1&&e[0].semver===lK)return!0;r.includePrerelease?t=amt:t=Y3e}if(e.length===1&&e[0].semver===lK){if(r.includePrerelease)return!0;e=Y3e}let n=new Set,i,s;for(let T of t)T.operator===">"||T.operator===">="?i=X3e(i,T,r):T.operator==="<"||T.operator==="<="?s=Z3e(s,T,r):n.add(T.semver);if(n.size>1)return null;let a;if(i&&s){if(a=hK(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let T of n){if(i&&!jS(T,String(i),r)||s&&!jS(T,String(s),r))return null;for(let O of e)if(!jS(T,String(O),r))return!1;return!0}let f,l,h,g,b=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,A=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;b&&b.prerelease.length===1&&s.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(let T of e){if(g=g||T.operator===">"||T.operator===">=",h=h||T.operator==="<"||T.operator==="<=",i){if(A&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===A.major&&T.semver.minor===A.minor&&T.semver.patch===A.patch&&(A=!1),T.operator===">"||T.operator===">="){if(f=X3e(i,T,r),f===T&&f!==i)return!1}else if(i.operator===">="&&!jS(i.semver,String(T),r))return!1}if(s){if(b&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===b.major&&T.semver.minor===b.minor&&T.semver.patch===b.patch&&(b=!1),T.operator==="<"||T.operator==="<="){if(l=Z3e(s,T,r),l===T&&l!==s)return!1}else if(s.operator==="<="&&!jS(s.semver,String(T),r))return!1}if(!T.operator&&(s||i)&&a!==0)return!1}return!(i&&h&&!s&&a!==0||s&&g&&!i&&a!==0||A||b)},"simpleSubset"),X3e=o((t,e,r)=>{if(!t)return e;let n=hK(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),Z3e=o((t,e,r)=>{if(!t)return e;let n=hK(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");J3e.exports=smt});var n6e=q((AFr,r6e)=>{p();m();var pK=Nx(),e6e=BS(),fmt=ra(),t6e=Xz(),umt=My(),lmt=xAe(),dmt=wAe(),hmt=AAe(),pmt=IAe(),mmt=NAe(),gmt=CAe(),ymt=kAe(),bmt=LAe(),vmt=Zf(),xmt=qAe(),_mt=VAe(),wmt=d9(),Emt=GAe(),Smt=WAe(),Amt=DS(),Rmt=h9(),Tmt=Jz(),Imt=Qz(),Omt=p9(),Nmt=m9(),Mmt=eK(),Cmt=n3e(),Pmt=qS(),kmt=Jf(),Bmt=VS(),Lmt=A3e(),Dmt=T3e(),Umt=O3e(),Fmt=C3e(),qmt=k3e(),Hmt=v9(),Vmt=q3e(),jmt=V3e(),zmt=K3e(),Kmt=$3e(),Gmt=Q3e();r6e.exports={parse:umt,valid:lmt,clean:dmt,inc:hmt,diff:pmt,major:mmt,minor:gmt,patch:ymt,prerelease:bmt,compare:vmt,rcompare:xmt,compareLoose:_mt,compareBuild:wmt,sort:Emt,rsort:Smt,gt:Amt,lt:Rmt,eq:Tmt,neq:Imt,gte:Omt,lte:Nmt,cmp:Mmt,coerce:Cmt,Comparator:Pmt,Range:kmt,satisfies:Bmt,toComparators:Lmt,maxSatisfying:Dmt,minSatisfying:Umt,minVersion:Fmt,validRange:qmt,outside:Hmt,gtr:Vmt,ltr:jmt,intersects:zmt,simplifyRange:Kmt,subset:Gmt,SemVer:fmt,re:pK.re,src:pK.src,tokens:pK.t,SEMVER_SPEC_VERSION:e6e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e6e.RELEASE_TYPES,compareIdentifiers:t6e.compareIdentifiers,rcompareIdentifiers:t6e.rcompareIdentifiers}});var u6e=q(Ly=>{"use strict";p();m();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.ObfuscatedOperatorType=Ly.OperatorType=void 0;Ly.matchesRule=$mt;var Ju=n6e(),By=kh(),gs;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(gs||(Ly.OperatorType=gs={}));var ys;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(ys||(Ly.ObfuscatedOperatorType=ys={}));var Fh;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(Fh||(Fh={}));function $mt(t,e,r){return!Wmt(e,t.conditions,r).includes(!1)}o($mt,"matchesRule");function Wmt(t,e,r){return e.map(n=>r?Xmt(Object.entries(t).reduce((i,[s,a])=>({[(0,By.getMD5Hash)(s)]:a,...i}),{}),n):Ymt(t,n))}o(Wmt,"evaluateRuleConditions");function Ymt(t,e){let r=t[e.attribute];if(e.operator===gs.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case gs.GTE:case gs.GT:case gs.LTE:case gs.LT:{if(f6e(e.value)===Fh.SEM_VER){let s=e.operator===gs.GTE?Ju.gte:e.operator===gs.GT?Ju.gt:e.operator===gs.LTE?Ju.lte:Ju.lt;return c6e(r,e.value,s)}let i=o((s,a)=>e.operator===gs.GTE?s>=a:e.operator===gs.GT?s>a:e.operator===gs.LTE?s<=a:s<a,"comparator");return a6e(r,e.value,i)}case gs.MATCHES:return new RegExp(e.value).test(r);case gs.NOT_MATCHES:return!new RegExp(e.value).test(r);case gs.ONE_OF:return i6e(r.toString(),e.value);case gs.NOT_ONE_OF:return o6e(r.toString(),e.value)}return!1}o(Ymt,"evaluateCondition");function Xmt(t,e){let r=t[e.attribute];if(e.operator===ys.IS_NULL)return e.value===(0,By.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case ys.GTE:case ys.GT:case ys.LTE:case ys.LT:{let n=(0,By.decodeBase64)(e.value);if(f6e(n)===Fh.SEM_VER){let a=e.operator===ys.GTE?Ju.gte:e.operator===ys.GT?Ju.gt:e.operator===ys.LTE?Ju.lte:Ju.lt;return c6e(r,n,a)}let s=o((a,f)=>e.operator===ys.GTE?a>=f:e.operator===ys.GT?a>f:e.operator===ys.LTE?a<=f:a<f,"comparator");return a6e(r,Number(n),s)}case ys.MATCHES:return new RegExp((0,By.decodeBase64)(e.value)).test(r);case ys.NOT_MATCHES:return!new RegExp((0,By.decodeBase64)(e.value)).test(r);case ys.ONE_OF:return i6e((0,By.getMD5Hash)(r.toString()),e.value);case ys.NOT_ONE_OF:return o6e((0,By.getMD5Hash)(r.toString()),e.value)}return!1}o(Xmt,"evaluateObfuscatedCondition");function i6e(t,e){return s6e(t,e).length>0}o(i6e,"isOneOf");function o6e(t,e){return s6e(t,e).length===0}o(o6e,"isNotOneOf");function s6e(t,e){return e.filter(r=>r===t)}o(s6e,"getMatchingStringValues");function a6e(t,e,r){return r(Number(t),Number(e))}o(a6e,"compareNumber");function c6e(t,e,r){return!!(0,Ju.valid)(t)&&!!(0,Ju.valid)(e)&&r(t,e)}o(c6e,"compareSemVer");function f6e(t){return typeof t=="number"?Fh.NUMERIC:Array.isArray(t)?Fh.STRING_ARRAY:typeof t=="string"&&(0,Ju.valid)(t)?Fh.SEM_VER:isNaN(Number(t))?Fh.PLAIN_STRING:Fh.NUMERIC}o(f6e,"targetingRuleConditionValuesTypesFromValues")});var p6e=q(om=>{"use strict";p();m();Object.defineProperty(om,"__esModule",{value:!0});om.Evaluator=void 0;om.isInShardRange=l6e;om.hashKey=d6e;om.noneResult=gK;om.matchesRules=h6e;var Zmt=x9(),zS=Gz(),Jmt=Wz(),Qmt=u6e(),egt=Oz(),mK=class{static{o(this,"Evaluator")}constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,s,a)=>{if(!(0,Zmt.checkValueTypeMatch)(a,r.value)){let{key:b,value:A}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${b}) is configured for type ${a}, but is set to incompatible value (${A})`}}let f=!!n.rules?.length,l=n.splits.length>1,h=i.shards.length>1,g=l||h;return f&&g?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${s} belongs to the range of traffic assigned to "${i.variationKey}".`}:f&&!g?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${s} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new egt.MD5Sharder}evaluateFlag(e,r,n,i,s,a){let f=new zS.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return gK(e.key,n,i,f.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let h=0;h<e.allocations.length;h++){let g=e.allocations[h],b=o(O=>{f.addUnmatchedAllocation({key:g.key,allocationEvaluationCode:O,orderPosition:h+1})},"addUnmatchedAllocation");if(g.startAt&&l<new Date(g.startAt)){b(zS.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(g.endAt&&l>new Date(g.endAt)){b(zS.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:A,matchedRule:T}=h6e(g?.rules??[],{id:n,...i},s);if(A){for(let O of g.splits)if(O.shards.every(N=>this.matchesShard(N,n,e.totalShards))){let N=e.variations[O.variationKey],{flagEvaluationCode:P,flagEvaluationDescription:C}=this.getMatchedEvaluationCodeAndDescription(N,g,O,n,a),D=f.setMatch(h,N,g,T,a).build(P,C);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:g.key,variation:N,extraLogging:O.extraLogging??{},doLog:g.doLog,flagEvaluationDetails:D}}b(zS.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else b(zS.AllocationEvaluationCode.FAILING_RULE)}return gK(e.key,n,i,f.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let h=f.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(h){let g=new Jmt.FlagEvaluationError(l.message);throw g.flagEvaluationDetails=h,g}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(d6e(e.salt,r),n);return e.ranges.some(s=>l6e(i,s))}};om.Evaluator=mK;function l6e(t,e){return e.start<=t&&t<e.end}o(l6e,"isInShardRange");function d6e(t,e){return`${t}-${e}`}o(d6e,"hashKey");function gK(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}o(gK,"noneResult");function h6e(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(s=>{let a=(0,Qmt.matchesRule)(s,e,r);return a&&(n=s),a})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}o(h6e,"matchesRules")});var bK=q(_9=>{"use strict";p();m();Object.defineProperty(_9,"__esModule",{value:!0});_9.BoundedEventQueue=void 0;var tgt=dd(),rgt=Ch(),yK=class{static{o(this,"BoundedEventQueue")}constructor(e,r=new Array,n=rgt.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&tgt.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};_9.BoundedEventQueue=yK});var _K=q(xK=>{"use strict";p();m();Object.defineProperty(xK,"__esModule",{value:!0});var vK=class{static{o(this,"NoOpEventDispatcher")}dispatch(e){}};xK.default=vK});var w9=q(KS=>{"use strict";p();m();Object.defineProperty(KS,"__esModule",{value:!0});KS.HttpRequestError=void 0;var Qu=class extends Error{static{o(this,"HttpRequestError")}constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};KS.HttpRequestError=Qu;var wK=class{static{o(this,"FetchHttpClient")}constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),s=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!s?.ok)throw new Qu("Failed to fetch data",s?.status);return await s.json()}catch(r){throw r.name==="AbortError"?new Qu("Request timed out",408,r):r instanceof Qu?r:new Qu("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,s=setTimeout(()=>n.abort(),this.timeout),a=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(s),!a?.ok){let f=await a.text();throw new Qu(f||"Failed to post data",a?.status)}return await a.json()}catch(n){throw n.name==="AbortError"?new Qu("Request timed out",408,n):n instanceof Qu?n:new Qu("Network error",0,n)}}};KS.default=wK});var m6e=q(EK=>{"use strict";p();m();Object.defineProperty(EK,"__esModule",{value:!0});EK.waitForMs=ngt;async function ngt(t){await new Promise(e=>setTimeout(e,t))}o(ngt,"waitForMs")});var AK=q(SK=>{"use strict";p();m();Object.defineProperty(SK,"__esModule",{value:!0});SK.default=ogt;var zc=dd(),E9=Ch(),igt=m6e();function ogt(t,e,r){let n=!1,i=0,s=t,a=!1,f,l=o(async()=>{n=!1;let b=!1,A=r?.skipInitialPoll?0:1+(r?.maxStartRetries??E9.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),T=null;for(;!b&&A>0;)try{await e(),b=!0,a=!1,zc.logger.info("Eppo SDK successfully requested initial configuration")}catch(N){if(a=!0,zc.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${N.message}`),--A>0){let P=g6e(t);zc.logger.warn(`Eppo SDK will retry the initial poll again in ${P} ms (${A} attempts remaining)`),await(0,igt.waitForMs)(P)}else r?.pollAfterFailedStart?zc.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(zc.logger.error("Eppo SDK initial poll failed. Aborting polling"),h()),r?.errorOnFailedStart&&(T=N)}if(!n&&(b&&r?.pollAfterSuccessfulStart||!b&&r?.pollAfterFailedStart)?(zc.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),f=setTimeout(g,t)):zc.logger.info("Eppo SDK will not poll for configuration updates"),T)throw zc.logger.info("Eppo SDK rethrowing start error"),T},"start"),h=o(()=>{n||(n=!0,f&&clearTimeout(f),zc.logger.info("Eppo SDK polling stopped"))},"stop");async function g(){if(!n){try{await e(),i=0,s=t,a&&(a=!1,zc.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(b){a=!0,zc.logger.warn(`Eppo SDK encountered an error polling configurations: ${b.message}`);let A=1+(r?.maxPollRetries??E9.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<A){let T=Math.pow(2,i),O=g6e(t);s=T*t+O,zc.logger.warn(`Eppo SDK will try polling again in ${s} ms (${A-i} attempts remaining)`)}else zc.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),h()}setTimeout(g,s)}}return o(g,"poll"),{start:l,stop:h}}o(ogt,"initPoller");function g6e(t){let e=t*E9.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*E9.POLL_JITTER_PCT/2),1);return e+r}o(g6e,"randomJitterMs")});var A9=q(GS=>{"use strict";p();m();Object.defineProperty(GS,"__esModule",{value:!0});GS.InvalidArgumentError=void 0;GS.validateNotBlank=sgt;var S9=class extends Error{static{o(this,"InvalidArgumentError")}};GS.InvalidArgumentError=S9;function sgt(t,e){if(t==null||t.length===0)throw new S9(e)}o(sgt,"validateNotBlank")});var y6e=q((sqr,agt)=>{agt.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var RK=q(R9=>{"use strict";p();m();Object.defineProperty(R9,"__esModule",{value:!0});R9.LIB_VERSION=void 0;var cgt=y6e();R9.LIB_VERSION=cgt.version});var x9=q(WS=>{"use strict";p();m();Object.defineProperty(WS,"__esModule",{value:!0});WS.checkTypeMatch=E6e;WS.checkValueTypeMatch=wgt;var fgt=m6(),ugt=z7(),Ri=dd(),Dy=Rz(),lgt=WSe(),dgt=Y7(),b6e=Z7(),hgt=XSe(),v6e=eAe(),pgt=qz(),$S=Ch(),mgt=s9(),Uy=oAe(),T9=p6e(),x6e=bK(),ggt=_K(),_6e=Gz(),ygt=Wz(),bgt=w9(),pd=Bh(),vgt=kh(),xgt=AK(),w6e=A9(),_gt=RK(),TK=class{static{o(this,"EppoClient")}constructor({eventDispatcher:e=new ggt.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:s,configurationRequestParameters:a}){this.assignmentEventsQueue=new x6e.BoundedEventQueue("assignments"),this.banditEventsQueue=new x6e.BoundedEventQueue("bandit"),this.banditEvaluator=new lgt.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new T9.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=s,this.configurationRequestParameters=a,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=$S.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=$S.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:f=$S.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:g=!1,skipInitialPoll:b=!1}=this.configurationRequestParameters,{pollingIntervalMs:A=$S.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;A<=0&&(Ri.logger.error("pollingIntervalMs must be greater than 0. Using default"),A=$S.DEFAULT_POLL_INTERVAL_MS);let T=new ugt.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),O=new bgt.default(T,s),N=new pgt.default(O,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),P=o(async()=>{if(await this.flagConfigurationStore.isExpired())return N.fetchAndStoreConfigurations()},"pollingCallback");this.requestPoller=(0,xgt.default)(A,P,{maxStartRetries:a,maxPollRetries:f,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:g,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Uy.EppoValue.String(i),pd.VariationType.STRING);return{variation:s.stringValue??i,action:null,evaluationDetails:a}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Uy.EppoValue.Bool(i),pd.VariationType.BOOLEAN);return{variation:s.boolValue??i,action:null,evaluationDetails:a}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Uy.EppoValue.Numeric(i),pd.VariationType.INTEGER);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Uy.EppoValue.Numeric(i),pd.VariationType.NUMERIC);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,Uy.EppoValue.JSON(i),pd.VariationType.JSON);return{variation:s.objectValue??i,action:null,evaluationDetails:a}}getBanditAction(e,r,n,i,s){let{variation:a,action:f}=this.getBanditActionDetails(e,r,n,i,s);return{variation:a,action:f}}getBestAction(e,r,n,i){let s=null,f=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(f){let l=this.getBandit(f);if(l){let h=(0,Dy.ensureContextualSubjectAttributes)(r),g=(0,Dy.ensureActionsWithContextualAttributes)(n);s=this.banditEvaluator.evaluateBestBanditAction(h,g,l.modelData)}}return s??i}getBanditActionDetails(e,r,n,i,s){let a=s,f=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let h=(0,Dy.ensureNonContextualSubjectAttributes)(n),{variation:g,evaluationDetails:b}=this.getStringAssignmentDetails(e,r,h,s);a=g,l=b;let A=this.findBanditByVariation(e,a);if(!A)return{variation:a,action:null,evaluationDetails:l};l.banditKey=A.banditKey;let T=this.evaluateBanditAction(e,r,n,i,A.modelData);if(T?.actionKey){f=T.actionKey;let O={timestamp:new Date().toISOString(),featureFlag:e,bandit:A.banditKey,subject:r,action:f,actionProbability:T.actionWeight,optimalityGap:T.optimalityGap,modelVersion:A.modelVersion,subjectNumericAttributes:T.subjectAttributes.numericAttributes,subjectCategoricalAttributes:T.subjectAttributes.categoricalAttributes,actionNumericAttributes:T.actionAttributes.numericAttributes,actionCategoricalAttributes:T.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(O)}catch(N){Ri.logger.error("Error logging bandit event",N)}l.banditAction=f}}catch(h){if(Ri.logger.error("Error determining bandit action",h),!this.isGracefulFailureMode)throw h;a&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${h.message}`}return{variation:a,action:f,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:s,treatmentVariationEntries:a}=e,f=this.getStringAssignment(i,r,n,"control");if(f==="control")return s;if(!f.startsWith("treatment-"))return Ri.logger.warn(`Variation '${f}' cannot be mapped to a container. Defaulting to control variation.`),s;let l=Number.parseInt(f.split("-")[1])-1;return isNaN(l)?(Ri.logger.warn(`Variation '${f}' cannot be mapped to a container. Defaulting to control variation.`),s):l>=a.length?(Ri.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),s):a[l]}evaluateBanditAction(e,r,n,i,s){if(!Object.keys(i).length)return null;let a=(0,Dy.ensureContextualSubjectAttributes)(n),f=(0,Dy.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,a,f,s)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(f){Ri.logger.warn("Error encountered logging bandit action",f)}}getAssignmentVariation(e,r,n,i,s){try{let a=this.getAssignmentDetail(e,r,n,s);return this.parseVariationWithDetails(a,i,s)}catch(a){let f=this.rethrowIfNotGraceful(a,i);if(a instanceof ygt.FlagEvaluationError&&a.flagEvaluationDetails)return{eppoValue:f,flagEvaluationDetails:a.flagEvaluationDetails};{let l=new _6e.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${a.message}`);return{eppoValue:f,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:Uy.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(s){return{eppoValue:this.rethrowIfNotGraceful(s,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return Ri.logger.error(`${Ri.loggerPrefix} Error getting assignment: ${e.message}`),r??Uy.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),s={};return i.forEach(a=>{let f=this.getFlag(a);if(!f){Ri.logger.debug(`${Ri.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(f,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){Ri.logger.debug(`${Ri.loggerPrefix} No assigned variation: ${a}`);return}s[a]={flagKey:a,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:f.variationType,variationValue:l.variation.value.toString()}}),s}getPrecomputedConfiguration(e,r={},n={},i){let s=this.getConfigDetails(),a=(0,Dy.ensureContextualSubjectAttributes)(r),f=(0,Dy.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,f),h=this.computeBanditsForFlags(e,a,n,l),g=v6e.PrecomputedConfiguration.obfuscated(e,l,h,i??"",a,s.configEnvironment),b=new v6e.ConfigurationWireV1(g);return JSON.stringify(b)}getAssignmentDetail(e,r,n={},i){(0,w6e.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,w6e.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.newFlagEvaluationDetailsBuilder(e),a=this.getConfigDetails(),f=this.getFlag(e);if(f===null){Ri.logger.warn(`${Ri.loggerPrefix} No assigned variation. Flag not found: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,T9.noneResult)(e,r,n,h,a.configFormat)}if(!E6e(i,f.variationType)){let h=`Variation value does not have the correct type. Found ${f.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let g=s.buildForNoneResult("TYPE_MISMATCH",h);return(0,T9.noneResult)(e,r,n,g,a.configFormat)}throw new TypeError(h)}if(!f.enabled){Ri.logger.info(`${Ri.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,T9.noneResult)(e,r,n,h,a.configFormat)}let l=this.evaluator.evaluateFlag(f,a,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(h){Ri.logger.error(`${Ri.loggerPrefix} Error logging assignment event: ${h}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,fgt.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new _6e.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,vgt.getMD5Hash)(e));return r?(0,mgt.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new b6e.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new dgt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new b6e.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new hgt.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(s){Ri.logger.error(`${Ri.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:s,subjectAttributes:a,variation:f}=e,l={...e.extraLogging??{},allocation:s??null,experiment:s?`${r}-${s}`:null,featureFlag:r,format:n,variation:f?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:a,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(f&&s&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:s,variationKey:f.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:s??"__eppo_no_allocation",variationKey:f?.key??"__eppo_no_variation"})}catch(h){Ri.logger.error(`${Ri.loggerPrefix} Error logging assignment event: ${h.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:_gt.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let s={};return Object.keys(n).forEach(a=>{let f=i[a];if(f){let l=this.getPrecomputedBandit(a,f.variationValue,e,r,n[a]);l&&(s[a]=l)}}),s}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(s=>s.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,s){let a=this.findBanditByVariation(e,r);if(!a)return null;let f=this.evaluateBanditAction(e,n,i,s,a.modelData);return f?{banditKey:a.banditKey,action:f.actionKey,actionNumericAttributes:f.actionAttributes.numericAttributes,actionCategoricalAttributes:f.actionAttributes.categoricalAttributes,actionProbability:f.actionWeight,modelVersion:a.modelVersion,optimalityGap:f.optimalityGap}:null}};WS.default=TK;function E6e(t,e){return t===void 0||e===t}o(E6e,"checkTypeMatch");function wgt(t,e){if(t==null)return!0;switch(t){case pd.VariationType.STRING:return typeof e=="string";case pd.VariationType.BOOLEAN:return typeof e=="boolean";case pd.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case pd.VariationType.NUMERIC:return typeof e=="number";case pd.VariationType.JSON:return typeof e=="string";default:return!1}}o(wgt,"checkValueTypeMatch")});var R6e=q(OK=>{"use strict";p();m();Object.defineProperty(OK,"__esModule",{value:!0});var S6e=Lz(),A6e=Bh(),IK=class{static{o(this,"PrecomputedFlagRequestor")}constructor(e,r,n,i,s,a){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=s,this.banditActions=a}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,S6e.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:A6e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,S6e.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:A6e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};OK.default=IK});var N6e=q(MK=>{"use strict";p();m();Object.defineProperty(MK,"__esModule",{value:!0});var Egt=z7(),Yn=dd(),T6e=Rz(),Sgt=Y7(),Agt=Z7(),Fy=Ch(),I6e=s9(),Rgt=w9(),YS=Bh(),O6e=kh(),Tgt=AK(),Igt=R6e(),Ogt=A9(),Ngt=RK(),Mgt=x9(),NK=class{static{o(this,"EppoPrecomputedClient")}constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,T6e.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||Yn.logger.error(`${Yn.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&Yn.logger.error(`${Yn.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||Yn.logger.error(`${Yn.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&Yn.logger.warn(`${Yn.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=Fy.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=Fy.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:f=Fy.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:g=!1,skipInitialPoll:b=!1}=this.requestParameters,{subjectKey:A,subjectAttributes:T}=this.subject,{pollingIntervalMs:O=Fy.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;O<=0&&(Yn.logger.error("pollingIntervalMs must be greater than 0. Using default"),O=Fy.DEFAULT_POLL_INTERVAL_MS);let N=new Egt.default({baseUrl:i??Fy.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),P=new Rgt.default(N,s),C=new Igt.default(P,this.precomputedFlagStore,A,T,this.precomputedBanditStore,this.banditActions),D=o(async()=>{if(await this.precomputedFlagStore.isExpired())return C.fetchAndStorePrecomputedFlags()},"pollingCallback");this.requestPoller=(0,Tgt.default)(O,D,{maxStartRetries:a,maxPollRetries:f,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:g,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=s=>s){(0,Ogt.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.getPrecomputedFlag(e);if(s==null)return Yn.logger.warn(`${Yn.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,Mgt.checkTypeMatch)(n,s.variationType)){let f=`${Yn.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${s.variationType}`;return Yn.logger.error(f),r}let a={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,T6e.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:s.variationKey??"",value:s.variationValue},allocationKey:s.allocationKey??"",extraLogging:s.extraLogging??{},doLog:s.doLog};try{a?.doLog&&this.logAssignment(a)}catch(f){Yn.logger.error(`${Yn.loggerPrefix} Error logging assignment event: ${f}`)}try{return a.variation?.value!==void 0?i(a.variation.value):r}catch(f){return Yn.logger.error(`${Yn.loggerPrefix} Error transforming value: ${f}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,YS.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,YS.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,YS.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,YS.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,YS.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return Yn.logger.warn(`${Yn.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),s={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(s)}catch(a){Yn.logger.error(`${Yn.loggerPrefix} Error logging bandit action: ${a}`)}return{variation:i,action:s.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,O6e.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,I6e.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,I6e.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,O6e.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new Agt.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new Sgt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(s){Yn.logger.error(`${Yn.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:s,variation:a,format:f}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:f,variation:a?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(a&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:a.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<Fy.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:a?.key??"__eppo_no_variation"})}catch(h){Yn.logger.error(`${Yn.loggerPrefix} Error logging assignment event: ${h.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(f){Yn.logger.warn("Error encountered logging bandit action",f)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:Ngt.LIB_VERSION}}};MK.default=NK});var M6e=q(O9=>{"use strict";p();m();Object.defineProperty(O9,"__esModule",{value:!0});O9.HybridConfigurationStore=void 0;var I9=dd(),CK=class{static{o(this,"HybridConfigurationStore")}constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||I9.logger.warn(`${I9.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||I9.logger.warn(`${I9.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};O9.HybridConfigurationStore=CK});var C6e=q(kx=>{"use strict";p();m();Object.defineProperty(kx,"__esModule",{value:!0});kx.MemoryOnlyConfigurationStore=kx.MemoryStore=void 0;var N9=class{static{o(this,"MemoryStore")}constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};kx.MemoryStore=N9;var PK=class{static{o(this,"MemoryOnlyConfigurationStore")}constructor(){this.servingStore=new N9,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};kx.MemoryOnlyConfigurationStore=PK});var LK=q(BK=>{"use strict";p();m();Object.defineProperty(BK,"__esModule",{value:!0});var Cgt=100,Pgt=1e4,kK=class{static{o(this,"BatchEventProcessor")}constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(Cgt,Math.min(Pgt,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};BK.default=kK});var P6e=q(FK=>{"use strict";p();m();Object.defineProperty(FK,"__esModule",{value:!0});var DK=dd(),UK=class{static{o(this,"BatchRetryManager")}constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:s}=this.config,a=Math.min(n*Math.pow(2,r),i);DK.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${a}ms...`),await new Promise(l=>setTimeout(l,a));let{failedEvents:f}=await this.delivery.deliver(e);return f.length===0?(DK.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<s-1?this.retry(f,r+1):(DK.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${s} tries, bailing`),e)}};FK.default=UK});var k6e=q(HK=>{"use strict";p();m();Object.defineProperty(HK,"__esModule",{value:!0});var M9=dd(),qK=class{static{o(this,"EventDelivery")}constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{M9.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return M9.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){M9.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(M9.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:s})=>i.has(s))}):{failedEvents:[]}}};HK.default=qK});var L6e=q(jK=>{"use strict";p();m();Object.defineProperty(jK,"__esModule",{value:!0});var kgt=gz(),B6e="v0/i",VK=class{static{o(this,"SdkKeyDecoder")}decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=kgt.Base64.decode(r),s=new URLSearchParams(n).get("eh");if(!s)return null;let a=s.endsWith("/")?`${s}${B6e}`:`${s}/${B6e}`;return!a.startsWith("http://")&&!a.startsWith("https://")?`https://${a}`:a}};jK.default=VK});var D6e=q(md=>{"use strict";p();m();Object.defineProperty(md,"__esModule",{value:!0});md.DEFAULT_EVENT_DISPATCHER_CONFIG=md.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;md.newDefaultEventDispatcher=qgt;var Bx=dd(),Bgt=LK(),Lgt=P6e(),Dgt=k6e(),Ugt=_K(),Fgt=L6e();md.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;md.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var C9=class{static{o(this,"DefaultEventDispatcher")}constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:s,retryIntervalMs:a,maxRetryDelayMs:f,maxRetries:l=3}=n;this.eventDelivery=new Dgt.default(i,s),this.retryManager=new Lgt.default(this.eventDelivery,{retryIntervalMs:a,maxRetryDelayMs:f,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(h=>{Bx.logger.info(`[EventDispatcher] Network status change, isOffline=${h}.`),this.isOffline=h,h?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){Bx.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){Bx.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}Bx.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(Bx.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};md.default=C9;function qgt(t,e,r,n=md.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=md.DEFAULT_EVENT_DISPATCHER_CONFIG){let a=new Fgt.default().decodeEventIngestionUrl(r);return a?new C9(new Bgt.default(t,n),e,{...i,ingestionUrl:a,sdkKey:r}):(Bx.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new Ugt.default)}o(qgt,"newDefaultEventDispatcher")});var H6e=q(Ft=>{"use strict";p();m();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.decodePrecomputedFlag=Ft.DefaultEventDispatcher=Ft.BatchEventProcessor=Ft.newDefaultEventDispatcher=Ft.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Ft.DEFAULT_EVENT_DISPATCHER_CONFIG=Ft.BoundedEventQueue=Ft.FormatEnum=Ft.VariationType=Ft.assignmentCacheValueToString=Ft.assignmentCacheKeyToString=Ft.LRUInMemoryAssignmentCache=Ft.NonExpiringInMemoryAssignmentCache=Ft.MemoryOnlyConfigurationStore=Ft.HybridConfigurationStore=Ft.MemoryStore=Ft.EppoPrecomputedClient=Ft.validation=Ft.HttpClient=Ft.FlagConfigRequestor=Ft.ApiEndpoints=Ft.constants=Ft.EppoClient=Ft.AbstractAssignmentCache=Ft.applicationLogger=Ft.loggerPrefix=void 0;var Hgt=z7();Ft.ApiEndpoints=Hgt.default;var U6e=dd();Object.defineProperty(Ft,"applicationLogger",{enumerable:!0,get:o(function(){return U6e.logger},"get")});Object.defineProperty(Ft,"loggerPrefix",{enumerable:!0,get:o(function(){return U6e.loggerPrefix},"get")});var zK=CS();Object.defineProperty(Ft,"AbstractAssignmentCache",{enumerable:!0,get:o(function(){return zK.AbstractAssignmentCache},"get")});Object.defineProperty(Ft,"assignmentCacheKeyToString",{enumerable:!0,get:o(function(){return zK.assignmentCacheKeyToString},"get")});Object.defineProperty(Ft,"assignmentCacheValueToString",{enumerable:!0,get:o(function(){return zK.assignmentCacheValueToString},"get")});var Vgt=Y7();Object.defineProperty(Ft,"LRUInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return Vgt.LRUInMemoryAssignmentCache},"get")});var jgt=Z7();Object.defineProperty(Ft,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return jgt.NonExpiringInMemoryAssignmentCache},"get")});var zgt=x9();Ft.EppoClient=zgt.default;var Kgt=N6e();Ft.EppoPrecomputedClient=Kgt.default;var Ggt=qz();Ft.FlagConfigRequestor=Ggt.default;var $gt=M6e();Object.defineProperty(Ft,"HybridConfigurationStore",{enumerable:!0,get:o(function(){return $gt.HybridConfigurationStore},"get")});var F6e=C6e();Object.defineProperty(Ft,"MemoryStore",{enumerable:!0,get:o(function(){return F6e.MemoryStore},"get")});Object.defineProperty(Ft,"MemoryOnlyConfigurationStore",{enumerable:!0,get:o(function(){return F6e.MemoryOnlyConfigurationStore},"get")});var Wgt=Ch();Ft.constants=Wgt;var Ygt=s9();Object.defineProperty(Ft,"decodePrecomputedFlag",{enumerable:!0,get:o(function(){return Ygt.decodePrecomputedFlag},"get")});var Xgt=LK();Ft.BatchEventProcessor=Xgt.default;var Zgt=bK();Object.defineProperty(Ft,"BoundedEventQueue",{enumerable:!0,get:o(function(){return Zgt.BoundedEventQueue},"get")});var P9=D6e();Ft.DefaultEventDispatcher=P9.default;Object.defineProperty(Ft,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:o(function(){return P9.DEFAULT_EVENT_DISPATCHER_CONFIG},"get")});Object.defineProperty(Ft,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:o(function(){return P9.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE},"get")});Object.defineProperty(Ft,"newDefaultEventDispatcher",{enumerable:!0,get:o(function(){return P9.newDefaultEventDispatcher},"get")});var Jgt=w9();Ft.HttpClient=Jgt.default;var q6e=Bh();Object.defineProperty(Ft,"VariationType",{enumerable:!0,get:o(function(){return q6e.VariationType},"get")});Object.defineProperty(Ft,"FormatEnum",{enumerable:!0,get:o(function(){return q6e.FormatEnum},"get")});var Qgt=A9();Ft.validation=Qgt});var J4e=q((tJr,Z4e)=>{p();m();function w1t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}o(w1t,"arrayEach");Z4e.exports=w1t});var e8e=q((oJr,Q4e)=>{p();m();var E1t=s3(),S1t=NY();function A1t(t,e){return t&&E1t(e,S1t(e),t)}o(A1t,"baseAssign");Q4e.exports=A1t});var r8e=q((fJr,t8e)=>{p();m();var R1t=s3(),T1t=VM();function I1t(t,e){return t&&R1t(e,T1t(e),t)}o(I1t,"baseAssignIn");t8e.exports=I1t});var i8e=q((hJr,n8e)=>{p();m();var O1t=s3(),N1t=MY();function M1t(t,e){return O1t(t,N1t(t),e)}o(M1t,"copySymbols");n8e.exports=M1t});var DG=q((yJr,o8e)=>{p();m();var C1t=NOe(),P1t=MOe(),k1t=MY(),B1t=OOe(),L1t=Object.getOwnPropertySymbols,D1t=L1t?function(t){for(var e=[];t;)C1t(e,k1t(t)),t=P1t(t);return e}:B1t;o8e.exports=D1t});var a8e=q((xJr,s8e)=>{p();m();var U1t=s3(),F1t=DG();function q1t(t,e){return U1t(t,F1t(t),e)}o(q1t,"copySymbolsIn");s8e.exports=q1t});var f8e=q((SJr,c8e)=>{p();m();var H1t=COe(),V1t=DG(),j1t=VM();function z1t(t){return H1t(t,j1t,V1t)}o(z1t,"getAllKeysIn");c8e.exports=z1t});var l8e=q((IJr,u8e)=>{p();m();var K1t=Object.prototype,G1t=K1t.hasOwnProperty;function $1t(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&G1t.call(t,"index")&&(r.index=t.index,r.input=t.input),r}o($1t,"initCloneArray");u8e.exports=$1t});var h8e=q((CJr,d8e)=>{p();m();var W1t=CY();function Y1t(t,e){var r=e?W1t(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}o(Y1t,"cloneDataView");d8e.exports=Y1t});var m8e=q((LJr,p8e)=>{p();m();var X1t=/\w*$/;function Z1t(t){var e=new t.constructor(t.source,X1t.exec(t));return e.lastIndex=t.lastIndex,e}o(Z1t,"cloneRegExp");p8e.exports=Z1t});var x8e=q((qJr,v8e)=>{p();m();var g8e=vOe(),y8e=g8e?g8e.prototype:void 0,b8e=y8e?y8e.valueOf:void 0;function J1t(t){return b8e?Object(b8e.call(t)):{}}o(J1t,"cloneSymbol");v8e.exports=J1t});var w8e=q((zJr,_8e)=>{p();m();var Q1t=CY(),ebt=h8e(),tbt=m8e(),rbt=x8e(),nbt=kOe(),ibt="[object Boolean]",obt="[object Date]",sbt="[object Map]",abt="[object Number]",cbt="[object RegExp]",fbt="[object Set]",ubt="[object String]",lbt="[object Symbol]",dbt="[object ArrayBuffer]",hbt="[object DataView]",pbt="[object Float32Array]",mbt="[object Float64Array]",gbt="[object Int8Array]",ybt="[object Int16Array]",bbt="[object Int32Array]",vbt="[object Uint8Array]",xbt="[object Uint8ClampedArray]",_bt="[object Uint16Array]",wbt="[object Uint32Array]";function Ebt(t,e,r){var n=t.constructor;switch(e){case dbt:return Q1t(t);case ibt:case obt:return new n(+t);case hbt:return ebt(t,r);case pbt:case mbt:case gbt:case ybt:case bbt:case vbt:case xbt:case _bt:case wbt:return nbt(t,r);case sbt:return new n;case abt:case ubt:return new n(t);case cbt:return tbt(t);case fbt:return new n;case lbt:return rbt(t)}}o(Ebt,"initCloneByTag");_8e.exports=Ebt});var S8e=q((WJr,E8e)=>{p();m();var Sbt=jM(),Abt=FM(),Rbt="[object Map]";function Tbt(t){return Abt(t)&&Sbt(t)==Rbt}o(Tbt,"baseIsMap");E8e.exports=Tbt});var I8e=q((JJr,T8e)=>{p();m();var Ibt=S8e(),Obt=qM(),A8e=HM(),R8e=A8e&&A8e.isMap,Nbt=R8e?Obt(R8e):Ibt;T8e.exports=Nbt});var N8e=q((tQr,O8e)=>{p();m();var Mbt=jM(),Cbt=FM(),Pbt="[object Set]";function kbt(t){return Cbt(t)&&Mbt(t)==Pbt}o(kbt,"baseIsSet");O8e.exports=kbt});var k8e=q((oQr,P8e)=>{p();m();var Bbt=N8e(),Lbt=qM(),M8e=HM(),C8e=M8e&&M8e.isSet,Dbt=C8e?Lbt(C8e):Bbt;P8e.exports=Dbt});var F8e=q((cQr,U8e)=>{p();m();var Ubt=EOe(),Fbt=J4e(),qbt=SOe(),Hbt=e8e(),Vbt=r8e(),jbt=TOe(),zbt=IOe(),Kbt=i8e(),Gbt=a8e(),$bt=POe(),Wbt=f8e(),Ybt=jM(),Xbt=l8e(),Zbt=w8e(),Jbt=BOe(),Qbt=AOe(),evt=ROe(),tvt=I8e(),rvt=wOe(),nvt=k8e(),ivt=NY(),ovt=VM(),svt=1,avt=2,cvt=4,B8e="[object Arguments]",fvt="[object Array]",uvt="[object Boolean]",lvt="[object Date]",dvt="[object Error]",L8e="[object Function]",hvt="[object GeneratorFunction]",pvt="[object Map]",mvt="[object Number]",D8e="[object Object]",gvt="[object RegExp]",yvt="[object Set]",bvt="[object String]",vvt="[object Symbol]",xvt="[object WeakMap]",_vt="[object ArrayBuffer]",wvt="[object DataView]",Evt="[object Float32Array]",Svt="[object Float64Array]",Avt="[object Int8Array]",Rvt="[object Int16Array]",Tvt="[object Int32Array]",Ivt="[object Uint8Array]",Ovt="[object Uint8ClampedArray]",Nvt="[object Uint16Array]",Mvt="[object Uint32Array]",Xn={};Xn[B8e]=Xn[fvt]=Xn[_vt]=Xn[wvt]=Xn[uvt]=Xn[lvt]=Xn[Evt]=Xn[Svt]=Xn[Avt]=Xn[Rvt]=Xn[Tvt]=Xn[pvt]=Xn[mvt]=Xn[D8e]=Xn[gvt]=Xn[yvt]=Xn[bvt]=Xn[vvt]=Xn[Ivt]=Xn[Ovt]=Xn[Nvt]=Xn[Mvt]=!0;Xn[dvt]=Xn[L8e]=Xn[xvt]=!1;function lN(t,e,r,n,i,s){var a,f=e&svt,l=e&avt,h=e&cvt;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!rvt(t))return t;var g=Qbt(t);if(g){if(a=Xbt(t),!f)return zbt(t,a)}else{var b=Ybt(t),A=b==L8e||b==hvt;if(evt(t))return jbt(t,f);if(b==D8e||b==B8e||A&&!i){if(a=l||A?{}:Jbt(t),!f)return l?Gbt(t,Vbt(a,t)):Kbt(t,Hbt(a,t))}else{if(!Xn[b])return i?t:{};a=Zbt(t,b,f)}}s||(s=new Ubt);var T=s.get(t);if(T)return T;s.set(t,a),nvt(t)?t.forEach(function(P){a.add(lN(P,e,r,P,t,s))}):tvt(t)&&t.forEach(function(P,C){a.set(C,lN(P,e,r,C,t,s))});var O=h?l?Wbt:$bt:l?ovt:ivt,N=g?void 0:O(t);return Fbt(N||t,function(P,C){N&&(C=P,P=t[C]),qbt(a,C,lN(P,e,r,C,t,s))}),a}o(lN,"baseClone");U8e.exports=lN});var Lvt=q((dQr,q8e)=>{p();m();var Cvt=F8e(),Pvt=1,kvt=4;function Bvt(t){return Cvt(t,Pvt|kvt)}o(Bvt,"cloneDeep");q8e.exports=Bvt});var wA=q((Etn,iRe)=>{"use strict";p();m();var x_t=W4();iRe.exports=o(function(){return x_t()&&!!Symbol.toStringTag},"hasToStringTagShams")});var sRe=q((Ttn,oRe)=>{"use strict";p();m();var __t="Function.prototype.bind called on incompatible ",C$=Array.prototype.slice,w_t=Object.prototype.toString,E_t="[object Function]";oRe.exports=o(function(e){var r=this;if(typeof r!="function"||w_t.call(r)!==E_t)throw new TypeError(__t+r);for(var n=C$.call(arguments,1),i,s=o(function(){if(this instanceof i){var g=r.apply(this,n.concat(C$.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(C$.call(arguments)))},"binder"),a=Math.max(0,r.length-n.length),f=[],l=0;l<a;l++)f.push("$"+l);if(i=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var cRe=q((Mtn,aRe)=>{"use strict";p();m();var S_t=sRe();aRe.exports=Function.prototype.bind||S_t});var JN=q((ktn,ZN)=>{"use strict";p();m();var P$=cRe(),c_=z2(),lRe=c_("%Function.prototype.apply%"),dRe=c_("%Function.prototype.call%"),hRe=c_("%Reflect.apply%",!0)||P$.call(dRe,lRe),fRe=c_("%Object.getOwnPropertyDescriptor%",!0),Xy=c_("%Object.defineProperty%",!0),A_t=c_("%Math.max%");if(Xy)try{Xy({},"a",{value:1})}catch{Xy=null}ZN.exports=o(function(e){var r=hRe(P$,dRe,arguments);if(fRe&&Xy){var n=fRe(r,"length");n.configurable&&Xy(r,"length",{value:1+A_t(0,e.length-(arguments.length-1))})}return r},"callBind");var uRe=o(function(){return hRe(P$,lRe,arguments)},"applyBind");Xy?Xy(ZN.exports,"apply",{value:uRe}):ZN.exports.apply=uRe});var k$=q((Utn,gRe)=>{"use strict";p();m();var pRe=z2(),mRe=JN(),R_t=mRe(pRe("String.prototype.indexOf"));gRe.exports=o(function(e,r){var n=pRe(e,!!r);return typeof n=="function"&&R_t(e,".prototype.")>-1?mRe(n):n},"callBoundIntrinsic")});var vRe=q((Vtn,bRe)=>{"use strict";p();m();var T_t=wA()(),I_t=k$(),B$=I_t("Object.prototype.toString"),QN=o(function(e){return T_t&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:B$(e)==="[object Arguments]"},"isArguments"),yRe=o(function(e){return QN(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&B$(e)!=="[object Array]"&&B$(e.callee)==="[object Function]"},"isArguments"),O_t=function(){return QN(arguments)}();QN.isLegacyArguments=yRe;bRe.exports=O_t?QN:yRe});var wRe=q((Gtn,_Re)=>{"use strict";p();m();var N_t=Object.prototype.toString,M_t=Function.prototype.toString,C_t=/^\s*(?:function)?\*/,xRe=wA()(),L$=Object.getPrototypeOf,P_t=o(function(){if(!xRe)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),D$;_Re.exports=o(function(e){if(typeof e!="function")return!1;if(C_t.test(M_t.call(e)))return!0;if(!xRe){var r=N_t.call(e);return r==="[object GeneratorFunction]"}if(!L$)return!1;if(typeof D$>"u"){var n=P_t();D$=n?L$(n):!1}return L$(e)===D$},"isGeneratorFunction")});var ARe=q((Xtn,SRe)=>{"use strict";p();m();var k_t=uB(),B_t=Object.prototype.toString,ERe=Object.prototype.hasOwnProperty,L_t=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)ERe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachArray"),D_t=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},"forEachString"),U_t=o(function(e,r,n){for(var i in e)ERe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachObject"),F_t=o(function(e,r,n){if(!k_t(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),B_t.call(e)==="[object Array]"?L_t(e,r,i):typeof e=="string"?D_t(e,r,i):U_t(e,r,i)},"forEach");SRe.exports=F_t});var F$=q((ern,RRe)=>{"use strict";p();m();var U$=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],q_t=typeof globalThis>"u"?self:globalThis;RRe.exports=o(function(){for(var e=[],r=0;r<U$.length;r++)typeof q_t[U$[r]]=="function"&&(e[e.length]=U$[r]);return e},"availableTypedArrays")});var IRe=q((irn,TRe)=>{"use strict";p();m();var H_t="Function.prototype.bind called on incompatible ",q$=Array.prototype.slice,V_t=Object.prototype.toString,j_t="[object Function]";TRe.exports=o(function(e){var r=this;if(typeof r!="function"||V_t.call(r)!==j_t)throw new TypeError(H_t+r);for(var n=q$.call(arguments,1),i,s=o(function(){if(this instanceof i){var g=r.apply(this,n.concat(q$.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(q$.call(arguments)))},"binder"),a=Math.max(0,r.length-n.length),f=[],l=0;l<a;l++)f.push("$"+l);if(i=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var NRe=q((crn,ORe)=>{"use strict";p();m();var z_t=IRe();ORe.exports=Function.prototype.bind||z_t});var rM=q((lrn,BRe)=>{"use strict";p();m();var kr,d_=SyntaxError,kRe=Function,l_=TypeError,H$=o(function(t){try{return kRe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Zy=Object.getOwnPropertyDescriptor;if(Zy)try{Zy({},"")}catch{Zy=null}var V$=o(function(){throw new l_},"throwTypeError"),K_t=Zy?function(){try{return arguments.callee,V$}catch{try{return Zy(arguments,"callee").get}catch{return V$}}}():V$,f_=W1()(),G_t=q2()(),Wo=Object.getPrototypeOf||(G_t?function(t){return t.__proto__}:null),u_={},$_t=typeof Uint8Array>"u"||!Wo?kr:Wo(Uint8Array),Jy={"%AggregateError%":typeof AggregateError>"u"?kr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?kr:ArrayBuffer,"%ArrayIteratorPrototype%":f_&&Wo?Wo([][Symbol.iterator]()):kr,"%AsyncFromSyncIteratorPrototype%":kr,"%AsyncFunction%":u_,"%AsyncGenerator%":u_,"%AsyncGeneratorFunction%":u_,"%AsyncIteratorPrototype%":u_,"%Atomics%":typeof Atomics>"u"?kr:Atomics,"%BigInt%":typeof BigInt>"u"?kr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?kr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?kr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?kr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?kr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?kr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?kr:FinalizationRegistry,"%Function%":kRe,"%GeneratorFunction%":u_,"%Int8Array%":typeof Int8Array>"u"?kr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?kr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?kr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f_&&Wo?Wo(Wo([][Symbol.iterator]())):kr,"%JSON%":typeof JSON=="object"?JSON:kr,"%Map%":typeof Map>"u"?kr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!f_||!Wo?kr:Wo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?kr:Promise,"%Proxy%":typeof Proxy>"u"?kr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?kr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?kr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!f_||!Wo?kr:Wo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?kr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f_&&Wo?Wo(""[Symbol.iterator]()):kr,"%Symbol%":f_?Symbol:kr,"%SyntaxError%":d_,"%ThrowTypeError%":K_t,"%TypedArray%":$_t,"%TypeError%":l_,"%Uint8Array%":typeof Uint8Array>"u"?kr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?kr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?kr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?kr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?kr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?kr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?kr:WeakSet};if(Wo)try{null.error}catch(t){MRe=Wo(Wo(t)),Jy["%Error.prototype%"]=MRe}var MRe,W_t=o(function t(e){var r;if(e==="%AsyncFunction%")r=H$("async function () {}");else if(e==="%GeneratorFunction%")r=H$("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=H$("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Wo&&(r=Wo(i.prototype))}return Jy[e]=r,r},"doEval"),CRe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},EA=NRe(),eM=t8(),Y_t=EA.call(Function.call,Array.prototype.concat),X_t=EA.call(Function.apply,Array.prototype.splice),PRe=EA.call(Function.call,String.prototype.replace),tM=EA.call(Function.call,String.prototype.slice),Z_t=EA.call(Function.call,RegExp.prototype.exec),J_t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q_t=/\\(\\)?/g,e2t=o(function(e){var r=tM(e,0,1),n=tM(e,-1);if(r==="%"&&n!=="%")throw new d_("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new d_("invalid intrinsic syntax, expected opening `%`");var i=[];return PRe(e,J_t,function(s,a,f,l){i[i.length]=f?PRe(l,Q_t,"$1"):a||s}),i},"stringToPath"),t2t=o(function(e,r){var n=e,i;if(eM(CRe,n)&&(i=CRe[n],n="%"+i[0]+"%"),eM(Jy,n)){var s=Jy[n];if(s===u_&&(s=W_t(n)),typeof s>"u"&&!r)throw new l_("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new d_("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");BRe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new l_("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new l_('"allowMissing" argument must be a boolean');if(Z_t(/^%?[^%]*%?$/,e)===null)throw new d_("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=e2t(e),i=n.length>0?n[0]:"",s=t2t("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],X_t(n,Y_t([0,1],h)));for(var g=1,b=!0;g<n.length;g+=1){var A=n[g],T=tM(A,0,1),O=tM(A,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new d_("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),i+="."+A,a="%"+i+"%",eM(Jy,a))f=Jy[a];else if(f!=null){if(!(A in f)){if(!r)throw new l_("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zy&&g+1>=n.length){var N=Zy(f,A);b=!!N,b&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[A]}else b=eM(f,A),f=f[A];b&&!l&&(Jy[a]=f)}}return f},"GetIntrinsic")});var nM=q((mrn,LRe)=>{"use strict";p();m();var r2t=z2(),j$=r2t("%Object.defineProperty%",!0),z$=o(function(){if(j$)try{return j$({},"a",{value:1}),!0}catch{return!1}return!1},"hasPropertyDescriptors");z$.hasArrayLengthDefineBug=o(function(){if(!z$())return null;try{return j$([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");LRe.exports=z$});var URe=q((vrn,DRe)=>{"use strict";p();m();var n2t="Function.prototype.bind called on incompatible ",K$=Array.prototype.slice,i2t=Object.prototype.toString,o2t="[object Function]";DRe.exports=o(function(e){var r=this;if(typeof r!="function"||i2t.call(r)!==o2t)throw new TypeError(n2t+r);for(var n=K$.call(arguments,1),i,s=o(function(){if(this instanceof i){var g=r.apply(this,n.concat(K$.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(K$.call(arguments)))},"binder"),a=Math.max(0,r.length-n.length),f=[],l=0;l<a;l++)f.push("$"+l);if(i=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var qRe=q((Ern,FRe)=>{"use strict";p();m();var s2t=URe();FRe.exports=Function.prototype.bind||s2t});var GRe=q((Rrn,KRe)=>{"use strict";p();m();var Br,g_=SyntaxError,zRe=Function,m_=TypeError,G$=o(function(t){try{return zRe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Qy=Object.getOwnPropertyDescriptor;if(Qy)try{Qy({},"")}catch{Qy=null}var $$=o(function(){throw new m_},"throwTypeError"),a2t=Qy?function(){try{return arguments.callee,$$}catch{try{return Qy(arguments,"callee").get}catch{return $$}}}():$$,h_=W1()(),c2t=q2()(),Yo=Object.getPrototypeOf||(c2t?function(t){return t.__proto__}:null),p_={},f2t=typeof Uint8Array>"u"||!Yo?Br:Yo(Uint8Array),e1={"%AggregateError%":typeof AggregateError>"u"?Br:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Br:ArrayBuffer,"%ArrayIteratorPrototype%":h_&&Yo?Yo([][Symbol.iterator]()):Br,"%AsyncFromSyncIteratorPrototype%":Br,"%AsyncFunction%":p_,"%AsyncGenerator%":p_,"%AsyncGeneratorFunction%":p_,"%AsyncIteratorPrototype%":p_,"%Atomics%":typeof Atomics>"u"?Br:Atomics,"%BigInt%":typeof BigInt>"u"?Br:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Br:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Br:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Br:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Br:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Br:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Br:FinalizationRegistry,"%Function%":zRe,"%GeneratorFunction%":p_,"%Int8Array%":typeof Int8Array>"u"?Br:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Br:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Br:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h_&&Yo?Yo(Yo([][Symbol.iterator]())):Br,"%JSON%":typeof JSON=="object"?JSON:Br,"%Map%":typeof Map>"u"?Br:Map,"%MapIteratorPrototype%":typeof Map>"u"||!h_||!Yo?Br:Yo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Br:Promise,"%Proxy%":typeof Proxy>"u"?Br:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Br:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Br:Set,"%SetIteratorPrototype%":typeof Set>"u"||!h_||!Yo?Br:Yo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Br:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h_&&Yo?Yo(""[Symbol.iterator]()):Br,"%Symbol%":h_?Symbol:Br,"%SyntaxError%":g_,"%ThrowTypeError%":a2t,"%TypedArray%":f2t,"%TypeError%":m_,"%Uint8Array%":typeof Uint8Array>"u"?Br:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Br:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Br:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Br:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Br:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Br:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Br:WeakSet};if(Yo)try{null.error}catch(t){HRe=Yo(Yo(t)),e1["%Error.prototype%"]=HRe}var HRe,u2t=o(function t(e){var r;if(e==="%AsyncFunction%")r=G$("async function () {}");else if(e==="%GeneratorFunction%")r=G$("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=G$("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Yo&&(r=Yo(i.prototype))}return e1[e]=r,r},"doEval"),VRe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},SA=qRe(),iM=t8(),l2t=SA.call(Function.call,Array.prototype.concat),d2t=SA.call(Function.apply,Array.prototype.splice),jRe=SA.call(Function.call,String.prototype.replace),oM=SA.call(Function.call,String.prototype.slice),h2t=SA.call(Function.call,RegExp.prototype.exec),p2t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m2t=/\\(\\)?/g,g2t=o(function(e){var r=oM(e,0,1),n=oM(e,-1);if(r==="%"&&n!=="%")throw new g_("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new g_("invalid intrinsic syntax, expected opening `%`");var i=[];return jRe(e,p2t,function(s,a,f,l){i[i.length]=f?jRe(l,m2t,"$1"):a||s}),i},"stringToPath"),y2t=o(function(e,r){var n=e,i;if(iM(VRe,n)&&(i=VRe[n],n="%"+i[0]+"%"),iM(e1,n)){var s=e1[n];if(s===p_&&(s=u2t(n)),typeof s>"u"&&!r)throw new m_("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new g_("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");KRe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new m_("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new m_('"allowMissing" argument must be a boolean');if(h2t(/^%?[^%]*%?$/,e)===null)throw new g_("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=g2t(e),i=n.length>0?n[0]:"",s=y2t("%"+i+"%",r),a=s.name,f=s.value,l=!1,h=s.alias;h&&(i=h[0],d2t(n,l2t([0,1],h)));for(var g=1,b=!0;g<n.length;g+=1){var A=n[g],T=oM(A,0,1),O=oM(A,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new g_("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),i+="."+A,a="%"+i+"%",iM(e1,a))f=e1[a];else if(f!=null){if(!(A in f)){if(!r)throw new m_("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qy&&g+1>=n.length){var N=Qy(f,A);b=!!N,b&&"get"in N&&!("originalValue"in N.get)?f=N.get:f=f[A]}else b=iM(f,A),f=f[A];b&&!l&&(e1[a]=f)}}return f},"GetIntrinsic")});var YRe=q((Nrn,WRe)=>{"use strict";p();m();var b2t=nM()(),W$=GRe(),AA=b2t&&W$("%Object.defineProperty%",!0);if(AA)try{AA({},"a",{value:1})}catch{AA=!1}var v2t=W$("%SyntaxError%"),y_=W$("%TypeError%"),$Re=tg();WRe.exports=o(function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new y_("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new y_("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new y_("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new y_("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new y_("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new y_("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,l=!!$Re&&$Re(e,r);if(AA)AA(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(f||!i&&!s&&!a)e[r]=n;else throw new v2t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var tTe=q((krn,eTe)=>{"use strict";p();m();var QRe=rM(),XRe=YRe(),x2t=nM()(),ZRe=tg(),JRe=QRe("%TypeError%"),_2t=QRe("%Math.floor%");eTe.exports=o(function(e,r){if(typeof e!="function")throw new JRe("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||_2t(r)!==r)throw new JRe("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&ZRe){var a=ZRe(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(x2t?XRe(e,"length",r,!0,!0):XRe(e,"length",r)),e},"setFunctionLength")});var X$=q((Urn,sM)=>{"use strict";p();m();var Y$=lu(),b_=rM(),w2t=tTe(),E2t=b_("%TypeError%"),nTe=b_("%Function.prototype.apply%"),iTe=b_("%Function.prototype.call%"),oTe=b_("%Reflect.apply%",!0)||Y$.call(iTe,nTe),RA=b_("%Object.defineProperty%",!0),S2t=b_("%Math.max%");if(RA)try{RA({},"a",{value:1})}catch{RA=null}sM.exports=o(function(e){if(typeof e!="function")throw new E2t("a function is required");var r=oTe(Y$,iTe,arguments);return w2t(r,1+S2t(0,e.length-(arguments.length-1)),!0)},"callBind");var rTe=o(function(){return oTe(Y$,nTe,arguments)},"applyBind");RA?RA(sM.exports,"apply",{value:rTe}):sM.exports.apply=rTe});var fTe=q((Vrn,cTe)=>{"use strict";p();m();var sTe=rM(),aTe=X$(),A2t=aTe(sTe("String.prototype.indexOf"));cTe.exports=o(function(e,r){var n=sTe(e,!!r);return typeof n=="function"&&A2t(e,".prototype.")>-1?aTe(n):n},"callBoundIntrinsic")});var pTe=q((Grn,hTe)=>{"use strict";p();m();var cM=ARe(),R2t=F$(),uTe=X$(),Q$=fTe(),aM=tg(),T2t=Q$("Object.prototype.toString"),dTe=wA()(),lTe=typeof globalThis>"u"?self:globalThis,J$=R2t(),eW=Q$("String.prototype.slice"),Z$=Object.getPrototypeOf,I2t=Q$("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),fM={__proto__:null};dTe&&aM&&Z$?cM(J$,function(t){var e=new lTe[t];if(Symbol.toStringTag in e){var r=Z$(e),n=aM(r,Symbol.toStringTag);if(!n){var i=Z$(r);n=aM(i,Symbol.toStringTag)}fM["$"+t]=uTe(n.get)}}):cM(J$,function(t){var e=new lTe[t],r=e.slice||e.set;r&&(fM["$"+t]=uTe(r))});var O2t=o(function(e){var r=!1;return cM(fM,function(n,i){if(!r)try{"$"+n(e)===i&&(r=eW(i,1))}catch{}}),r},"tryAllTypedArrays"),N2t=o(function(e){var r=!1;return cM(fM,function(n,i){if(!r)try{n(e),r=eW(i,1)}catch{}}),r},"tryAllSlices");hTe.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!dTe){var r=eW(T2t(e),8,-1);return I2t(J$,r)>-1?r:r!=="Object"?!1:N2t(e)}return aM?O2t(e):null},"whichTypedArray")});var gTe=q((Xrn,mTe)=>{p();m();var M2t=Object.prototype.hasOwnProperty,C2t=Object.prototype.toString;mTe.exports=o(function(e,r,n){if(C2t.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)r.call(n,e[s],s,e);else for(var a in e)M2t.call(e,a)&&r.call(n,e[a],a,e)},"forEach")});var bTe=q((enn,yTe)=>{"use strict";p();m();yTe.exports=tg()});var STe=q((nnn,ETe)=>{"use strict";p();m();var vTe=gTe(),P2t=F$(),rW=k$(),k2t=rW("Object.prototype.toString"),xTe=wA()(),B2t=typeof globalThis>"u"?self:globalThis,_Te=P2t(),L2t=rW("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),D2t=rW("String.prototype.slice"),wTe={},uM=bTe(),tW=Object.getPrototypeOf;xTe&&uM&&tW&&vTe(_Te,function(t){var e=new B2t[t];if(Symbol.toStringTag in e){var r=tW(e),n=uM(r,Symbol.toStringTag);if(!n){var i=tW(r);n=uM(i,Symbol.toStringTag)}wTe[t]=n.get}});var U2t=o(function(e){var r=!1;return vTe(wTe,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},"tryAllTypedArrays");ETe.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!xTe||!(Symbol.toStringTag in e)){var r=D2t(k2t(e),8,-1);return L2t(_Te,r)>-1}return uM?U2t(e):!1},"isTypedArray")});var UTe=q(Ir=>{"use strict";p();m();var F2t=vRe(),q2t=wRe(),ol=pTe(),ATe=STe();function v_(t){return t.call.bind(t)}o(v_,"uncurryThis");var RTe=typeof BigInt<"u",TTe=typeof Symbol<"u",tu=v_(Object.prototype.toString),H2t=v_(Number.prototype.valueOf),V2t=v_(String.prototype.valueOf),j2t=v_(Boolean.prototype.valueOf);RTe&&(ITe=v_(BigInt.prototype.valueOf));var ITe;TTe&&(OTe=v_(Symbol.prototype.valueOf));var OTe;function IA(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}o(IA,"checkBoxedPrimitive");Ir.isArgumentsObject=F2t;Ir.isGeneratorFunction=q2t;Ir.isTypedArray=ATe;function z2t(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(z2t,"isPromise");Ir.isPromise=z2t;function K2t(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):ATe(t)||MTe(t)}o(K2t,"isArrayBufferView");Ir.isArrayBufferView=K2t;function G2t(t){return ol(t)==="Uint8Array"}o(G2t,"isUint8Array");Ir.isUint8Array=G2t;function $2t(t){return ol(t)==="Uint8ClampedArray"}o($2t,"isUint8ClampedArray");Ir.isUint8ClampedArray=$2t;function W2t(t){return ol(t)==="Uint16Array"}o(W2t,"isUint16Array");Ir.isUint16Array=W2t;function Y2t(t){return ol(t)==="Uint32Array"}o(Y2t,"isUint32Array");Ir.isUint32Array=Y2t;function X2t(t){return ol(t)==="Int8Array"}o(X2t,"isInt8Array");Ir.isInt8Array=X2t;function Z2t(t){return ol(t)==="Int16Array"}o(Z2t,"isInt16Array");Ir.isInt16Array=Z2t;function J2t(t){return ol(t)==="Int32Array"}o(J2t,"isInt32Array");Ir.isInt32Array=J2t;function Q2t(t){return ol(t)==="Float32Array"}o(Q2t,"isFloat32Array");Ir.isFloat32Array=Q2t;function ewt(t){return ol(t)==="Float64Array"}o(ewt,"isFloat64Array");Ir.isFloat64Array=ewt;function twt(t){return ol(t)==="BigInt64Array"}o(twt,"isBigInt64Array");Ir.isBigInt64Array=twt;function rwt(t){return ol(t)==="BigUint64Array"}o(rwt,"isBigUint64Array");Ir.isBigUint64Array=rwt;function lM(t){return tu(t)==="[object Map]"}o(lM,"isMapToString");lM.working=typeof Map<"u"&&lM(new Map);function nwt(t){return typeof Map>"u"?!1:lM.working?lM(t):t instanceof Map}o(nwt,"isMap");Ir.isMap=nwt;function dM(t){return tu(t)==="[object Set]"}o(dM,"isSetToString");dM.working=typeof Set<"u"&&dM(new Set);function iwt(t){return typeof Set>"u"?!1:dM.working?dM(t):t instanceof Set}o(iwt,"isSet");Ir.isSet=iwt;function hM(t){return tu(t)==="[object WeakMap]"}o(hM,"isWeakMapToString");hM.working=typeof WeakMap<"u"&&hM(new WeakMap);function owt(t){return typeof WeakMap>"u"?!1:hM.working?hM(t):t instanceof WeakMap}o(owt,"isWeakMap");Ir.isWeakMap=owt;function iW(t){return tu(t)==="[object WeakSet]"}o(iW,"isWeakSetToString");iW.working=typeof WeakSet<"u"&&iW(new WeakSet);function swt(t){return iW(t)}o(swt,"isWeakSet");Ir.isWeakSet=swt;function pM(t){return tu(t)==="[object ArrayBuffer]"}o(pM,"isArrayBufferToString");pM.working=typeof ArrayBuffer<"u"&&pM(new ArrayBuffer);function NTe(t){return typeof ArrayBuffer>"u"?!1:pM.working?pM(t):t instanceof ArrayBuffer}o(NTe,"isArrayBuffer");Ir.isArrayBuffer=NTe;function mM(t){return tu(t)==="[object DataView]"}o(mM,"isDataViewToString");mM.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&mM(new DataView(new ArrayBuffer(1),0,1));function MTe(t){return typeof DataView>"u"?!1:mM.working?mM(t):t instanceof DataView}o(MTe,"isDataView");Ir.isDataView=MTe;var nW=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function TA(t){return tu(t)==="[object SharedArrayBuffer]"}o(TA,"isSharedArrayBufferToString");function CTe(t){return typeof nW>"u"?!1:(typeof TA.working>"u"&&(TA.working=TA(new nW)),TA.working?TA(t):t instanceof nW)}o(CTe,"isSharedArrayBuffer");Ir.isSharedArrayBuffer=CTe;function awt(t){return tu(t)==="[object AsyncFunction]"}o(awt,"isAsyncFunction");Ir.isAsyncFunction=awt;function cwt(t){return tu(t)==="[object Map Iterator]"}o(cwt,"isMapIterator");Ir.isMapIterator=cwt;function fwt(t){return tu(t)==="[object Set Iterator]"}o(fwt,"isSetIterator");Ir.isSetIterator=fwt;function uwt(t){return tu(t)==="[object Generator]"}o(uwt,"isGeneratorObject");Ir.isGeneratorObject=uwt;function lwt(t){return tu(t)==="[object WebAssembly.Module]"}o(lwt,"isWebAssemblyCompiledModule");Ir.isWebAssemblyCompiledModule=lwt;function PTe(t){return IA(t,H2t)}o(PTe,"isNumberObject");Ir.isNumberObject=PTe;function kTe(t){return IA(t,V2t)}o(kTe,"isStringObject");Ir.isStringObject=kTe;function BTe(t){return IA(t,j2t)}o(BTe,"isBooleanObject");Ir.isBooleanObject=BTe;function LTe(t){return RTe&&IA(t,ITe)}o(LTe,"isBigIntObject");Ir.isBigIntObject=LTe;function DTe(t){return TTe&&IA(t,OTe)}o(DTe,"isSymbolObject");Ir.isSymbolObject=DTe;function dwt(t){return PTe(t)||kTe(t)||BTe(t)||LTe(t)||DTe(t)}o(dwt,"isBoxedPrimitive");Ir.isBoxedPrimitive=dwt;function hwt(t){return typeof Uint8Array<"u"&&(NTe(t)||CTe(t))}o(hwt,"isAnyArrayBuffer");Ir.isAnyArrayBuffer=hwt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Ir,t,{enumerable:!1,value:o(function(){throw new Error(t+" is not supported in userland")},"value")})})});var qTe=q((lnn,FTe)=>{p();m();FTe.exports=o(function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},"isBuffer")});var __=q(Or=>{p();m();var HTe=Object.getOwnPropertyDescriptors||o(function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},"getOwnPropertyDescriptors"),pwt=/%[sdj%]/g;Or.format=function(t){if(!wM(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(xm(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(pwt,function(f){if(f==="%%")return"%";if(r>=i)return f;switch(f){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return f}}),a=n[r];r<i;a=n[++r])_M(a)||!x_(a)?s+=" "+a:s+=" "+xm(a);return s};Or.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Or.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n};var gM={},VTe=/^$/;I.NODE_DEBUG&&(yM=I.NODE_DEBUG,yM=yM.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),VTe=new RegExp("^"+yM+"$","i"));var yM;Or.debuglog=function(t){if(t=t.toUpperCase(),!gM[t])if(VTe.test(t)){var e=process.pid;gM[t]=function(){var r=Or.format.apply(Or,arguments);console.error("%s %d: %s",t,e,r)}}else gM[t]=function(){};return gM[t]};function xm(t,e){var r={seen:[],stylize:gwt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),cW(e)?r.showHidden=e:e&&Or._extend(r,e),r1(r.showHidden)&&(r.showHidden=!1),r1(r.depth)&&(r.depth=2),r1(r.colors)&&(r.colors=!1),r1(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=mwt),vM(r,t,r.depth)}o(xm,"inspect");Or.inspect=xm;xm.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};xm.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function mwt(t,e){var r=xm.styles[e];return r?"\x1B["+xm.colors[r][0]+"m"+t+"\x1B["+xm.colors[r][1]+"m":t}o(mwt,"stylizeWithColor");function gwt(t,e){return t}o(gwt,"stylizeNoColor");function ywt(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}o(ywt,"arrayToHash");function vM(t,e,r){if(t.customInspect&&e&&bM(e.inspect)&&e.inspect!==Or.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return wM(n)||(n=vM(t,n,r)),n}var i=bwt(t,e);if(i)return i;var s=Object.keys(e),a=ywt(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),NA(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return oW(e);if(s.length===0){if(bM(e)){var f=e.name?": "+e.name:"";return t.stylize("[Function"+f+"]","special")}if(OA(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(xM(e))return t.stylize(Date.prototype.toString.call(e),"date");if(NA(e))return oW(e)}var l="",h=!1,g=["{","}"];if(jTe(e)&&(h=!0,g=["[","]"]),bM(e)){var b=e.name?": "+e.name:"";l=" [Function"+b+"]"}if(OA(e)&&(l=" "+RegExp.prototype.toString.call(e)),xM(e)&&(l=" "+Date.prototype.toUTCString.call(e)),NA(e)&&(l=" "+oW(e)),s.length===0&&(!h||e.length==0))return g[0]+l+g[1];if(r<0)return OA(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var A;return h?A=vwt(t,e,r,a,s):A=s.map(function(T){return aW(t,e,r,a,T,h)}),t.seen.pop(),xwt(A,l,g)}o(vM,"formatValue");function bwt(t,e){if(r1(e))return t.stylize("undefined","undefined");if(wM(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(zTe(e))return t.stylize(""+e,"number");if(cW(e))return t.stylize(""+e,"boolean");if(_M(e))return t.stylize("null","null")}o(bwt,"formatPrimitive");function oW(t){return"["+Error.prototype.toString.call(t)+"]"}o(oW,"formatError");function vwt(t,e,r,n,i){for(var s=[],a=0,f=e.length;a<f;++a)KTe(e,String(a))?s.push(aW(t,e,r,n,String(a),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(aW(t,e,r,n,l,!0))}),s}o(vwt,"formatArray");function aW(t,e,r,n,i,s){var a,f,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?f=t.stylize("[Getter/Setter]","special"):f=t.stylize("[Getter]","special"):l.set&&(f=t.stylize("[Setter]","special")),KTe(n,i)||(a="["+i+"]"),f||(t.seen.indexOf(l.value)<0?(_M(r)?f=vM(t,l.value,null):f=vM(t,l.value,r-1),f.indexOf(`
`)>-1&&(s?f=f.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):f=`
`+f.split(`
`).map(function(h){return"   "+h}).join(`
`))):f=t.stylize("[Circular]","special")),r1(a)){if(s&&i.match(/^\d+$/))return f;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+f}o(aW,"formatProperty");function xwt(t,e,r){var n=0,i=t.reduce(function(s,a){return n++,a.indexOf(`
`)>=0&&n++,s+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}o(xwt,"reduceToSingleString");Or.types=UTe();function jTe(t){return Array.isArray(t)}o(jTe,"isArray");Or.isArray=jTe;function cW(t){return typeof t=="boolean"}o(cW,"isBoolean");Or.isBoolean=cW;function _M(t){return t===null}o(_M,"isNull");Or.isNull=_M;function _wt(t){return t==null}o(_wt,"isNullOrUndefined");Or.isNullOrUndefined=_wt;function zTe(t){return typeof t=="number"}o(zTe,"isNumber");Or.isNumber=zTe;function wM(t){return typeof t=="string"}o(wM,"isString");Or.isString=wM;function wwt(t){return typeof t=="symbol"}o(wwt,"isSymbol");Or.isSymbol=wwt;function r1(t){return t===void 0}o(r1,"isUndefined");Or.isUndefined=r1;function OA(t){return x_(t)&&fW(t)==="[object RegExp]"}o(OA,"isRegExp");Or.isRegExp=OA;Or.types.isRegExp=OA;function x_(t){return typeof t=="object"&&t!==null}o(x_,"isObject");Or.isObject=x_;function xM(t){return x_(t)&&fW(t)==="[object Date]"}o(xM,"isDate");Or.isDate=xM;Or.types.isDate=xM;function NA(t){return x_(t)&&(fW(t)==="[object Error]"||t instanceof Error)}o(NA,"isError");Or.isError=NA;Or.types.isNativeError=NA;function bM(t){return typeof t=="function"}o(bM,"isFunction");Or.isFunction=bM;function Ewt(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}o(Ewt,"isPrimitive");Or.isPrimitive=Ewt;Or.isBuffer=qTe();function fW(t){return Object.prototype.toString.call(t)}o(fW,"objectToString");function sW(t){return t<10?"0"+t.toString(10):t.toString(10)}o(sW,"pad");var Swt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Awt(){var t=new Date,e=[sW(t.getHours()),sW(t.getMinutes()),sW(t.getSeconds())].join(":");return[t.getDate(),Swt[t.getMonth()],e].join(" ")}o(Awt,"timestamp");Or.log=function(){console.log("%s - %s",Awt(),Or.format.apply(Or,arguments))};Or.inherits=Gt();Or._extend=function(t,e){if(!e||!x_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function KTe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(KTe,"hasOwnProperty");var t1=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Or.promisify=o(function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(t1&&e[t1]){var r=e[t1];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,t1,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(l,h){n=l,i=h}),a=[],f=0;f<arguments.length;f++)a.push(arguments[f]);a.push(function(l,h){l?i(l):n(h)});try{e.apply(this,a)}catch(l){i(l)}return s}return o(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),t1&&Object.defineProperty(r,t1,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,HTe(e))},"promisify");Or.promisify.custom=t1;function Rwt(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}o(Rwt,"callbackifyOnRejected");function Twt(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,a=o(function(){return i.apply(s,arguments)},"cb");t.apply(this,r).then(function(f){process.nextTick(a.bind(null,null,f))},function(f){process.nextTick(Rwt.bind(null,f,a))})}return o(e,"callbackified"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,HTe(t)),e}o(Twt,"callbackify");Or.callbackify=Twt});var hW=q((vnn,WTe)=>{"use strict";p();m();function w_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w_=o(function(r){return typeof r},"_typeof"):w_=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),w_(t)}o(w_,"_typeof");function Iwt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Iwt,"_classCallCheck");function Owt(t,e){return e&&(w_(e)==="object"||typeof e=="function")?e:Nwt(t)}o(Owt,"_possibleConstructorReturn");function Nwt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(Nwt,"_assertThisInitialized");function lW(t){return lW=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),lW(t)}o(lW,"_getPrototypeOf");function Mwt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dW(t,e)}o(Mwt,"_inherits");function dW(t,e){return dW=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),dW(t,e)}o(dW,"_setPrototypeOf");var $Te={},E_,uW;function MA(t,e,r){r||(r=Error);function n(s,a,f){return typeof e=="string"?e:e(s,a,f)}o(n,"getMessage");var i=function(s){Mwt(a,s);function a(f,l,h){var g;return Iwt(this,a),g=Owt(this,lW(a).call(this,n(f,l,h))),g.code=t,g}return o(a,"NodeError"),a}(r);$Te[t]=i}o(MA,"createErrorType");function GTe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(GTe,"oneOf");function Cwt(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(Cwt,"startsWith");function Pwt(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(Pwt,"endsWith");function kwt(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(kwt,"includes");MA("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);MA("ERR_INVALID_ARG_TYPE",function(t,e,r){E_===void 0&&(E_=pW()),E_(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&Cwt(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Pwt(t," argument"))i="The ".concat(t," ").concat(n," ").concat(GTe(e,"type"));else{var s=kwt(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(GTe(e,"type"))}return i+=". Received type ".concat(w_(r)),i},TypeError);MA("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";uW===void 0&&(uW=__());var n=uW.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);MA("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(w_(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);MA("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];E_===void 0&&(E_=pW()),E_(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);WTe.exports.codes=$Te});var QTe=q((Enn,JTe)=>{"use strict";p();m();function Bwt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Lwt(t,i,r[i])})}return t}o(Bwt,"_objectSpread");function Lwt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Lwt,"_defineProperty");function Dwt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Dwt,"_classCallCheck");function YTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(YTe,"_defineProperties");function Uwt(t,e,r){return e&&YTe(t.prototype,e),r&&YTe(t,r),t}o(Uwt,"_createClass");function S_(t,e){return e&&(ru(e)==="object"||typeof e=="function")?e:mW(t)}o(S_,"_possibleConstructorReturn");function mW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(mW,"_assertThisInitialized");function Fwt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BA(t,e)}o(Fwt,"_inherits");function gW(t){var e=typeof Map=="function"?new Map:void 0;return gW=o(function(n){if(n===null||!Hwt(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return EM(n,arguments,_m(this).constructor)}return o(i,"Wrapper"),i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),BA(i,n)},"_wrapNativeSuper"),gW(t)}o(gW,"_wrapNativeSuper");function qwt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}o(qwt,"isNativeReflectConstruct");function EM(t,e,r){return qwt()?EM=Reflect.construct:EM=o(function(i,s,a){var f=[null];f.push.apply(f,s);var l=Function.bind.apply(i,f),h=new l;return a&&BA(h,a.prototype),h},"_construct"),EM.apply(null,arguments)}o(EM,"_construct");function Hwt(t){return Function.toString.call(t).indexOf("[native code]")!==-1}o(Hwt,"_isNativeFunction");function BA(t,e){return BA=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),BA(t,e)}o(BA,"_setPrototypeOf");function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),_m(t)}o(_m,"_getPrototypeOf");function ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=o(function(r){return typeof r},"_typeof"):ru=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),ru(t)}o(ru,"_typeof");var Vwt=__(),yW=Vwt.inspect,jwt=hW(),zwt=jwt.codes.ERR_INVALID_ARG_TYPE;function XTe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(XTe,"endsWith");function Kwt(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}o(Kwt,"repeat");var sl="",CA="",PA="",_s="",n1={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Gwt=10;function ZTe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}o(ZTe,"copyError");function kA(t){return yW(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}o(kA,"inspectValue");function $wt(t,e,r){var n="",i="",s=0,a="",f=!1,l=kA(t),h=l.split(`
`),g=kA(e).split(`
`),b=0,A="";if(r==="strictEqual"&&ru(t)==="object"&&ru(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),h.length===1&&g.length===1&&h[0]!==g[0]){var T=h[0].length+g[0].length;if(T<=Gwt){if((ru(t)!=="object"||t===null)&&(ru(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(n1[r],`

`)+"".concat(h[0]," !== ").concat(g[0],`
`)}else if(r!=="strictEqualObject"){var O=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(T<O){for(;h[0][b]===g[0][b];)b++;b>2&&(A=`
  `.concat(Kwt(" ",b),"^"),b=0)}}}for(var N=h[h.length-1],P=g[g.length-1];N===P&&(b++<2?a=`
  `.concat(N).concat(a):n=N,h.pop(),g.pop(),!(h.length===0||g.length===0));)N=h[h.length-1],P=g[g.length-1];var C=Math.max(h.length,g.length);if(C===0){var D=l.split(`
`);if(D.length>30)for(D[26]="".concat(sl,"...").concat(_s);D.length>27;)D.pop();return"".concat(n1.notIdentical,`

`).concat(D.join(`
`),`
`)}b>3&&(a=`
`.concat(sl,"...").concat(_s).concat(a),f=!0),n!==""&&(a=`
  `.concat(n).concat(a),n="");var M=0,U=n1[r]+`
`.concat(CA,"+ actual").concat(_s," ").concat(PA,"- expected").concat(_s),V=" ".concat(sl,"...").concat(_s," Lines skipped");for(b=0;b<C;b++){var j=b-s;if(h.length<b+1)j>1&&b>2&&(j>4?(i+=`
`.concat(sl,"...").concat(_s),f=!0):j>3&&(i+=`
  `.concat(g[b-2]),M++),i+=`
  `.concat(g[b-1]),M++),s=b,n+=`
`.concat(PA,"-").concat(_s," ").concat(g[b]),M++;else if(g.length<b+1)j>1&&b>2&&(j>4?(i+=`
`.concat(sl,"...").concat(_s),f=!0):j>3&&(i+=`
  `.concat(h[b-2]),M++),i+=`
  `.concat(h[b-1]),M++),s=b,i+=`
`.concat(CA,"+").concat(_s," ").concat(h[b]),M++;else{var ee=g[b],Y=h[b],te=Y!==ee&&(!XTe(Y,",")||Y.slice(0,-1)!==ee);te&&XTe(ee,",")&&ee.slice(0,-1)===Y&&(te=!1,Y+=","),te?(j>1&&b>2&&(j>4?(i+=`
`.concat(sl,"...").concat(_s),f=!0):j>3&&(i+=`
  `.concat(h[b-2]),M++),i+=`
  `.concat(h[b-1]),M++),s=b,i+=`
`.concat(CA,"+").concat(_s," ").concat(Y),n+=`
`.concat(PA,"-").concat(_s," ").concat(ee),M+=2):(i+=n,n="",(j===1||b===0)&&(i+=`
  `.concat(Y),M++))}if(M>20&&b<C-2)return"".concat(U).concat(V,`
`).concat(i,`
`).concat(sl,"...").concat(_s).concat(n,`
`)+"".concat(sl,"...").concat(_s)}return"".concat(U).concat(f?V:"",`
`).concat(i).concat(n).concat(a).concat(A)}o($wt,"createErrDiff");var Wwt=function(t){Fwt(e,t);function e(r){var n;if(Dwt(this,e),ru(r)!=="object"||r===null)throw new zwt("options","Object",r);var i=r.message,s=r.operator,a=r.stackStartFn,f=r.actual,l=r.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=S_(this,_m(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(sl="\x1B[34m",CA="\x1B[32m",_s="\x1B[39m",PA="\x1B[31m"):(sl="",CA="",_s="",PA="")),ru(f)==="object"&&f!==null&&ru(l)==="object"&&l!==null&&"stack"in f&&f instanceof Error&&"stack"in l&&l instanceof Error&&(f=ZTe(f),l=ZTe(l)),s==="deepStrictEqual"||s==="strictEqual")n=S_(this,_m(e).call(this,$wt(f,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var g=n1[s],b=kA(f).split(`
`);if(s==="notStrictEqual"&&ru(f)==="object"&&f!==null&&(g=n1.notStrictEqualObject),b.length>30)for(b[26]="".concat(sl,"...").concat(_s);b.length>27;)b.pop();b.length===1?n=S_(this,_m(e).call(this,"".concat(g," ").concat(b[0]))):n=S_(this,_m(e).call(this,"".concat(g,`

`).concat(b.join(`
`),`
`)))}else{var A=kA(f),T="",O=n1[s];s==="notDeepEqual"||s==="notEqual"?(A="".concat(n1[s],`

`).concat(A),A.length>1024&&(A="".concat(A.slice(0,1021),"..."))):(T="".concat(kA(l)),A.length>512&&(A="".concat(A.slice(0,509),"...")),T.length>512&&(T="".concat(T.slice(0,509),"...")),s==="deepEqual"||s==="equal"?A="".concat(O,`

`).concat(A,`

should equal

`):T=" ".concat(s," ").concat(T)),n=S_(this,_m(e).call(this,"".concat(A).concat(T)))}return Error.stackTraceLimit=h,n.generatedMessage=!i,Object.defineProperty(mW(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=f,n.expected=l,n.operator=s,Error.captureStackTrace&&Error.captureStackTrace(mW(n),a),n.stack,n.name="AssertionError",S_(n)}return o(e,"AssertionError"),Uwt(e,[{key:"toString",value:o(function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)},"toString")},{key:yW.custom,value:o(function(n,i){return yW(this,Bwt({},i,{customInspect:!1,depth:0}))},"value")}]),e}(gW(Error));JTe.exports=Wwt});var rIe=q((Tnn,tIe)=>{"use strict";p();m();function eIe(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s=Object.keys(Object(i)),a=0,f=s.length;a<f;a++){var l=s[a],h=Object.getOwnPropertyDescriptor(i,l);h!==void 0&&h.enumerable&&(r[l]=i[l])}}return r}o(eIe,"assign");function Ywt(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:eIe})}o(Ywt,"polyfill");tIe.exports={assign:eIe,polyfill:Ywt}});var bW=q((Mnn,iIe)=>{"use strict";p();m();var nIe=Object.prototype.toString;iIe.exports=o(function(e){var r=nIe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&nIe.call(e.callee)==="[object Function]"),n},"isArguments")});var hIe=q((Bnn,dIe)=>{"use strict";p();m();var lIe;Object.keys||(LA=Object.prototype.hasOwnProperty,vW=Object.prototype.toString,oIe=bW(),xW=Object.prototype.propertyIsEnumerable,sIe=!xW.call({toString:null},"toString"),aIe=xW.call(function(){},"prototype"),DA=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],SM=o(function(t){var e=t.constructor;return e&&e.prototype===t},"equalsConstructorPrototype"),cIe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},fIe=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!cIe["$"+t]&&LA.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{SM(self[t])}catch{return!0}}catch{return!0}return!1}(),uIe=o(function(t){if(typeof self>"u"||!fIe)return SM(t);try{return SM(t)}catch{return!1}},"equalsConstructorPrototypeIfNotBuggy"),lIe=o(function(e){var r=e!==null&&typeof e=="object",n=vW.call(e)==="[object Function]",i=oIe(e),s=r&&vW.call(e)==="[object String]",a=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=aIe&&n;if(s&&e.length>0&&!LA.call(e,0))for(var l=0;l<e.length;++l)a.push(String(l));if(i&&e.length>0)for(var h=0;h<e.length;++h)a.push(String(h));else for(var g in e)!(f&&g==="prototype")&&LA.call(e,g)&&a.push(String(g));if(sIe)for(var b=uIe(e),A=0;A<DA.length;++A)!(b&&DA[A]==="constructor")&&LA.call(e,DA[A])&&a.push(DA[A]);return a},"keys"));var LA,vW,oIe,xW,sIe,aIe,DA,SM,cIe,fIe,uIe;dIe.exports=lIe});var yIe=q((Fnn,gIe)=>{"use strict";p();m();var Xwt=Array.prototype.slice,Zwt=bW(),pIe=Object.keys,AM=pIe?o(function(e){return pIe(e)},"keys"):hIe(),mIe=Object.keys;AM.shim=o(function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=o(function(n){return Zwt(n)?mIe(Xwt.call(n)):mIe(n)},"keys"))}else Object.keys=AM;return Object.keys||AM},"shimObjectKeys");gIe.exports=AM});var UA=q((jnn,_Ie)=>{"use strict";p();m();var Jwt=yIe(),Qwt=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",eEt=Object.prototype.toString,tEt=Array.prototype.concat,bIe=Object.defineProperty,rEt=o(function(t){return typeof t=="function"&&eEt.call(t)==="[object Function]"},"isFunction"),nEt=nM()(),vIe=bIe&&nEt,iEt=o(function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!rEt(n)||!n())return}vIe?bIe(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},"defineProperty"),xIe=o(function(t,e){var r=arguments.length>2?arguments[2]:{},n=Jwt(e);Qwt&&(n=tEt.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)iEt(t,n[i],e[n[i]],r[n[i]])},"defineProperties");xIe.supportsDescriptors=!!vIe;_Ie.exports=xIe});var _W=q(($nn,EIe)=>{"use strict";p();m();var wIe=o(function(t){return t!==t},"numberIsNaN");EIe.exports=o(function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||wIe(e)&&wIe(r))},"is")});var wW=q((Znn,SIe)=>{"use strict";p();m();var oEt=_W();SIe.exports=o(function(){return typeof Object.is=="function"?Object.is:oEt},"getPolyfill")});var RIe=q((tin,AIe)=>{"use strict";p();m();var sEt=wW(),aEt=UA();AIe.exports=o(function(){var e=sEt();return aEt(Object,{is:e},{is:o(function(){return Object.is!==e},"testObjectIs")}),e},"shimObjectIs")});var EW=q((oin,OIe)=>{"use strict";p();m();var cEt=UA(),fEt=JN(),uEt=_W(),TIe=wW(),lEt=RIe(),IIe=fEt(TIe(),Object);cEt(IIe,{getPolyfill:TIe,implementation:uEt,shim:lEt});OIe.exports=IIe});var SW=q((cin,NIe)=>{"use strict";p();m();NIe.exports=o(function(e){return e!==e},"isNaN")});var AW=q((din,MIe)=>{"use strict";p();m();var dEt=SW();MIe.exports=o(function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:dEt},"getPolyfill")});var PIe=q((gin,CIe)=>{"use strict";p();m();var hEt=UA(),pEt=AW();CIe.exports=o(function(){var e=pEt();return hEt(Number,{isNaN:e},{isNaN:o(function(){return Number.isNaN!==e},"testIsNaN")}),e},"shimNumberIsNaN")});var DIe=q((xin,LIe)=>{"use strict";p();m();var mEt=JN(),gEt=UA(),yEt=SW(),kIe=AW(),bEt=PIe(),BIe=mEt(kIe(),Number);gEt(BIe,{getPolyfill:kIe,implementation:yEt,shim:bEt});LIe.exports=BIe});var rOe=q((Ein,tOe)=>{"use strict";p();m();function UIe(t,e){return _Et(t)||xEt(t,e)||vEt()}o(UIe,"_slicedToArray");function vEt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}o(vEt,"_nonIterableRest");function xEt(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),f;!(n=(f=a.next()).done)&&(r.push(f.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}o(xEt,"_iterableToArrayLimit");function _Et(t){if(Array.isArray(t))return t}o(_Et,"_arrayWithHoles");function Yc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yc=o(function(r){return typeof r},"_typeof"):Yc=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Yc(t)}o(Yc,"_typeof");var wEt=/a/g.flags!==void 0,CM=o(function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},"arrayFromSet"),FIe=o(function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},"arrayFromMap"),XIe=Object.is?Object.is:EW(),NM=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},RW=Number.isNaN?Number.isNaN:DIe();function IW(t){return t.call.bind(t)}o(IW,"uncurryThis");var qA=IW(Object.prototype.hasOwnProperty),MM=IW(Object.prototype.propertyIsEnumerable),qIe=IW(Object.prototype.toString),Ia=__().types,EEt=Ia.isAnyArrayBuffer,SEt=Ia.isArrayBufferView,HIe=Ia.isDate,RM=Ia.isMap,VIe=Ia.isRegExp,TM=Ia.isSet,AEt=Ia.isNativeError,REt=Ia.isBoxedPrimitive,jIe=Ia.isNumberObject,zIe=Ia.isStringObject,KIe=Ia.isBooleanObject,GIe=Ia.isBigIntObject,TEt=Ia.isSymbolObject,IEt=Ia.isFloat32Array,OEt=Ia.isFloat64Array;function NEt(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}o(NEt,"isNonIndex");function IM(t){return Object.keys(t).filter(NEt).concat(NM(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}o(IM,"getOwnNonIndexProperties");function ZIe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}o(ZIe,"compare");var OM=void 0,MEt=!0,CEt=!1,TW=0,OW=1,JIe=2,QIe=3;function PEt(t,e){return wEt?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}o(PEt,"areSimilarRegExps");function kEt(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}o(kEt,"areSimilarFloatArrays");function BEt(t,e){return t.byteLength!==e.byteLength?!1:ZIe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}o(BEt,"areSimilarTypedArrays");function LEt(t,e){return t.byteLength===e.byteLength&&ZIe(new Uint8Array(t),new Uint8Array(e))===0}o(LEt,"areEqualArrayBuffers");function DEt(t,e){return jIe(t)?jIe(e)&&XIe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):zIe(t)?zIe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):KIe(t)?KIe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):GIe(t)?GIe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):TEt(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}o(DEt,"isEqualBoxedPrimitive");function nu(t,e,r,n){if(t===e)return t!==0?!0:r?XIe(t,e):!0;if(r){if(Yc(t)!=="object")return typeof t=="number"&&RW(t)&&RW(e);if(Yc(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Yc(t)!=="object")return e===null||Yc(e)!=="object"?t==e:!1;if(e===null||Yc(e)!=="object")return!1}var i=qIe(t),s=qIe(e);if(i!==s)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=IM(t,OM),f=IM(e,OM);return a.length!==f.length?!1:FA(t,e,r,n,OW,a)}if(i==="[object Object]"&&(!RM(t)&&RM(e)||!TM(t)&&TM(e)))return!1;if(HIe(t)){if(!HIe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(VIe(t)){if(!VIe(e)||!PEt(t,e))return!1}else if(AEt(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(SEt(t)){if(!r&&(IEt(t)||OEt(t))){if(!kEt(t,e))return!1}else if(!BEt(t,e))return!1;var l=IM(t,OM),h=IM(e,OM);return l.length!==h.length?!1:FA(t,e,r,n,TW,l)}else{if(TM(t))return!TM(e)||t.size!==e.size?!1:FA(t,e,r,n,JIe);if(RM(t))return!RM(e)||t.size!==e.size?!1:FA(t,e,r,n,QIe);if(EEt(t)){if(!LEt(t,e))return!1}else if(REt(t)&&!DEt(t,e))return!1}return FA(t,e,r,n,TW)}o(nu,"innerDeepEqual");function $Ie(t,e){return e.filter(function(r){return MM(t,r)})}o($Ie,"getEnumerables");function FA(t,e,r,n,i,s){if(arguments.length===5){s=Object.keys(t);var a=Object.keys(e);if(s.length!==a.length)return!1}for(var f=0;f<s.length;f++)if(!qA(e,s[f]))return!1;if(r&&arguments.length===5){var l=NM(t);if(l.length!==0){var h=0;for(f=0;f<l.length;f++){var g=l[f];if(MM(t,g)){if(!MM(e,g))return!1;s.push(g),h++}else if(MM(e,g))return!1}var b=NM(e);if(l.length!==b.length&&$Ie(e,b).length!==h)return!1}else{var A=NM(e);if(A.length!==0&&$Ie(e,A).length!==0)return!1}}if(s.length===0&&(i===TW||i===OW&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var T=n.val1.get(t);if(T!==void 0){var O=n.val2.get(e);if(O!==void 0)return T===O}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var N=VEt(t,e,r,s,n,i);return n.val1.delete(t),n.val2.delete(e),N}o(FA,"keyCheck");function WIe(t,e,r,n){for(var i=CM(t),s=0;s<i.length;s++){var a=i[s];if(nu(e,a,r,n))return t.delete(a),!0}return!1}o(WIe,"setHasEqualElement");function eOe(t){switch(Yc(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(RW(t))return!1}return!0}o(eOe,"findLooseMatchingPrimitives");function UEt(t,e,r){var n=eOe(r);return n??(e.has(n)&&!t.has(n))}o(UEt,"setMightHaveLoosePrim");function FEt(t,e,r,n,i){var s=eOe(r);if(s!=null)return s;var a=e.get(s);return a===void 0&&!e.has(s)||!nu(n,a,!1,i)?!1:!t.has(s)&&nu(n,a,!1,i)}o(FEt,"mapMightHaveLoosePrim");function qEt(t,e,r,n){for(var i=null,s=CM(t),a=0;a<s.length;a++){var f=s[a];if(Yc(f)==="object"&&f!==null)i===null&&(i=new Set),i.add(f);else if(!e.has(f)){if(r||!UEt(t,e,f))return!1;i===null&&(i=new Set),i.add(f)}}if(i!==null){for(var l=CM(e),h=0;h<l.length;h++){var g=l[h];if(Yc(g)==="object"&&g!==null){if(!WIe(i,g,r,n))return!1}else if(!r&&!t.has(g)&&!WIe(i,g,r,n))return!1}return i.size===0}return!0}o(qEt,"setEquiv");function YIe(t,e,r,n,i,s){for(var a=CM(t),f=0;f<a.length;f++){var l=a[f];if(nu(r,l,i,s)&&nu(n,e.get(l),i,s))return t.delete(l),!0}return!1}o(YIe,"mapHasEqualEntry");function HEt(t,e,r,n){for(var i=null,s=FIe(t),a=0;a<s.length;a++){var f=UIe(s[a],2),l=f[0],h=f[1];if(Yc(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var g=e.get(l);if(g===void 0&&!e.has(l)||!nu(h,g,r,n)){if(r||!FEt(t,e,l,h,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var b=FIe(e),A=0;A<b.length;A++){var T=UIe(b[A],2),l=T[0],O=T[1];if(Yc(l)==="object"&&l!==null){if(!YIe(i,t,l,O,r,n))return!1}else if(!r&&(!t.has(l)||!nu(t.get(l),O,!1,n))&&!YIe(i,t,l,O,!1,n))return!1}return i.size===0}return!0}o(HEt,"mapEquiv");function VEt(t,e,r,n,i,s){var a=0;if(s===JIe){if(!qEt(t,e,r,i))return!1}else if(s===QIe){if(!HEt(t,e,r,i))return!1}else if(s===OW)for(;a<t.length;a++)if(qA(t,a)){if(!qA(e,a)||!nu(t[a],e[a],r,i))return!1}else{if(qA(e,a))return!1;for(var f=Object.keys(t);a<f.length;a++){var l=f[a];if(!qA(e,l)||!nu(t[l],e[l],r,i))return!1}return f.length===Object.keys(e).length}for(a=0;a<n.length;a++){var h=n[a];if(!nu(t[h],e[h],r,i))return!1}return!0}o(VEt,"objEquiv");function jEt(t,e){return nu(t,e,CEt)}o(jEt,"isDeepEqual");function zEt(t,e){return nu(t,e,MEt)}o(zEt,"isDeepStrictEqual");tOe.exports={isDeepEqual:jEt,isDeepStrictEqual:zEt}});var pW=q((Tin,bOe)=>{"use strict";p();m();function wm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wm=o(function(r){return typeof r},"_typeof"):wm=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),wm(t)}o(wm,"_typeof");function KEt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(KEt,"_classCallCheck");var GEt=hW(),VA=GEt.codes,nOe=VA.ERR_AMBIGUOUS_ARGUMENT,HA=VA.ERR_INVALID_ARG_TYPE,$Et=VA.ERR_INVALID_ARG_VALUE,WEt=VA.ERR_INVALID_RETURN_VALUE,Sm=VA.ERR_MISSING_ARGS,i1=QTe(),YEt=__(),XEt=YEt.inspect,aOe=__().types,ZEt=aOe.isPromise,NW=aOe.isRegExp,JEt=Object.assign?Object.assign:rIe().assign,cOe=Object.is?Object.is:EW(),Em,PM;function jA(){var t=rOe();Em=t.isDeepEqual,PM=t.isDeepStrictEqual}o(jA,"lazyLoadComparison");var iOe=!1,bi=bOe.exports=MW,kM={};function al(t){throw t.message instanceof Error?t.message:new i1(t)}o(al,"innerFail");function fOe(t,e,r,n,i){var s=arguments.length,a;if(s===0)a="Failed";else if(s===1)r=t,t=void 0;else{if(iOe===!1){iOe=!0;var f=process.emitWarning?process.emitWarning:console.warn.bind(console);f("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||fOe};r!==void 0&&(l.message=r);var h=new i1(l);throw a&&(h.message=a,h.generatedMessage=!0),h}o(fOe,"fail");bi.fail=fOe;bi.AssertionError=i1;function uOe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new i1({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=i,s}}o(uOe,"innerOk");function MW(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];uOe.apply(void 0,[MW,e.length].concat(e))}o(MW,"ok");bi.ok=MW;bi.equal=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");e!=r&&al({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},"equal");bi.notEqual=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");e==r&&al({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},"notEqual");bi.deepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");Em===void 0&&jA(),Em(e,r)||al({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},"deepEqual");bi.notDeepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");Em===void 0&&jA(),Em(e,r)&&al({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},"notDeepEqual");bi.deepStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");Em===void 0&&jA(),PM(e,r)||al({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},"deepStrictEqual");bi.notDeepStrictEqual=lOe;function lOe(t,e,r){if(arguments.length<2)throw new Sm("actual","expected");Em===void 0&&jA(),PM(t,e)&&al({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:lOe})}o(lOe,"notDeepStrictEqual");bi.strictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");cOe(e,r)||al({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},"strictEqual");bi.notStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Sm("actual","expected");cOe(e,r)&&al({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})},"notStrictEqual");var oOe=o(function t(e,r,n){var i=this;KEt(this,t),r.forEach(function(s){s in e&&(n!==void 0&&typeof n[s]=="string"&&NW(e[s])&&e[s].test(n[s])?i[s]=n[s]:i[s]=e[s])})},"Comparison");function QEt(t,e,r,n,i,s){if(!(r in t)||!PM(t[r],e[r])){if(!n){var a=new oOe(t,i),f=new oOe(e,i,t),l=new i1({actual:a,expected:f,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=t,l.expected=e,l.operator=s.name,l}al({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}o(QEt,"compareExceptionKey");function dOe(t,e,r,n){if(typeof e!="function"){if(NW(e))return e.test(t);if(arguments.length===2)throw new HA("expected",["Function","RegExp"],e);if(wm(t)!=="object"||t===null){var i=new i1({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new $Et("error",e,"may not be an empty object");return Em===void 0&&jA(),s.forEach(function(a){typeof t[a]=="string"&&NW(e[a])&&e[a].test(t[a])||QEt(t,e,a,r,s,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}o(dOe,"expectedException");function hOe(t){if(typeof t!="function")throw new HA("fn","Function",t);try{t()}catch(e){return e}return kM}o(hOe,"getActual");function sOe(t){return ZEt(t)||t!==null&&wm(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(sOe,"checkIsPromise");function pOe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!sOe(e))throw new WEt("instance of Promise","promiseFn",e)}else if(sOe(t))e=t;else throw new HA("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return kM}).catch(function(r){return r})})}o(pOe,"waitForActual");function mOe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new HA("error",["Object","Error","Function","RegExp"],r);if(wm(e)==="object"&&e!==null){if(e.message===r)throw new nOe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new nOe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&wm(r)!=="object"&&typeof r!="function")throw new HA("error",["Object","Error","Function","RegExp"],r);if(e===kM){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s=t.name==="rejects"?"rejection":"exception";al({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:t})}if(r&&!dOe(e,r,n,t))throw e}o(mOe,"expectsError");function gOe(t,e,r,n){if(e!==kM){if(typeof r=="string"&&(n=r,r=void 0),!r||dOe(e,r)){var i=n?": ".concat(n):".",s=t.name==="doesNotReject"?"rejection":"exception";al({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}o(gOe,"expectsNoError");bi.throws=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];mOe.apply(void 0,[t,hOe(e)].concat(n))},"throws");bi.rejects=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return pOe(e).then(function(s){return mOe.apply(void 0,[t,s].concat(n))})},"rejects");bi.doesNotThrow=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];gOe.apply(void 0,[t,hOe(e)].concat(n))},"doesNotThrow");bi.doesNotReject=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return pOe(e).then(function(s){return gOe.apply(void 0,[t,s].concat(n))})},"doesNotReject");bi.ifError=o(function t(e){if(e!=null){var r="ifError got unwanted exception: ";wm(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=XEt(e);var n=new i1({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var a=n.stack.split(`
`),f=0;f<s.length;f++){var l=a.indexOf(s[f]);if(l!==-1){a=a.slice(0,l);break}}n.stack="".concat(a.join(`
`),`
`).concat(s.join(`
`))}throw n}},"ifError");function yOe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];uOe.apply(void 0,[yOe,e.length].concat(e))}o(yOe,"strict");bi.strict=JEt(yOe,bi,{equal:bi.strictEqual,deepEqual:bi.deepStrictEqual,notEqual:bi.notStrictEqual,notDeepEqual:bi.notDeepStrictEqual});bi.strict.strict=bi.strict});p();m();var qm=et(ci(),1),Ki=et(H6(),1),kd=et(iu(),1);p();m();R_.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});p();m();var mke=o((t,e)=>t+e,"add"),Lne=o(t=>t.reduce(mke,0),"sum");var Dne=qm.Buffer.alloc(64).fill(0),ok=o(t=>Qc(t)?qm.Buffer.from(t.message.serialize()):t.serializeMessage(),"transactionToSerializedMessage"),V6=o(t=>kd.default.encode(ok(t)),"transactionToMessageString"),Une=o(t=>{try{return V6(P1(t,"bs58"))}catch{return V6(P1(t,"base64"))}},"transactionStringToMessageString"),Fne=o(t=>{try{return P1(t,"bs58").version}catch{return P1(t,"base64").version}},"transactionStringToVersion"),qne=o(t=>sk(ck(t)),"messageStringToTransactionString"),Qc=o(t=>t&&"version"in t,"isVersionedTransaction"),j6=o((t,e)=>Qc(t)?qm.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),"transactionToSerializedTransaction"),sk=o((t,e)=>kd.default.encode(j6(t,e)),"transactionToBase58TransactionString"),Hne=o((t,e)=>j6(t,e).toString("base64"),"transactionToBase64TransactionString"),P1=o((t,e)=>{let r;if(e==="base64")r=qm.Buffer.from(t,"base64");else if(e==="bs58")r=kd.default.decode(t);else throw new Error("Unsupported encoding");return Ki.VersionedTransaction.deserialize(r)},"transactionStringToTransaction");function ak(t){return Qc(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}o(ak,"isAlreadySigned");var Vne=o(t=>{let e=t.map(r=>Ki.VersionedMessage.deserialize(kd.default.decode(r)));return Lne(e.map(r=>r.header.numRequiredSignatures))},"getRequiredSignatures"),ck=o(t=>{let e=kd.default.decode(t);if(Ki.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=Ki.Message.from(e);return Ki.Transaction.populate(i,[])}let n=Ki.VersionedMessage.deserialize(e);return new Ki.VersionedTransaction(n)},"messageStringToTransaction"),jne=o((t,e=[])=>{let r=kd.default.decode(t);if(Ki.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=Ki.Message.from(r);return Ki.Transaction.populate(i,e.map(a=>a?kd.default.encode(a):kd.default.encode(Dne)))}else{let i=Ki.VersionedMessage.deserialize(r);return new Ki.VersionedTransaction(i,e.map(a=>a||Dne))}},"messageAndSignaturesToTransaction"),zne=o(t=>t.compileMessage().accountKeys,"getAccountsFromTransaction"),fk=o(t=>Qc(t)?t.message.recentBlockhash:t.recentBlockhash,"getRecentBlockhash"),Kne=o((t,e)=>{Qc(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},"setRecentBlockhash"),Gne=o(async(t,e)=>{if(fk(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;Kne(t,r)},"setRecentBlockhashIfNotExists"),$ne=o(async(t,e)=>{if(ak(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;Kne(t,r)},"setRecentBlockhashIfNotSigned"),uk=o((t,e)=>{Qc(t)||(t.feePayer=e)},"setFeePayer"),lk=o(t=>Qc(t)?t.message.staticAccountKeys[0]:t.feePayer,"getFeePayer"),Wne=o((t,e)=>{lk(t)||uk(t,e)},"setFeePayerIfNotExists"),Yne=o((t,e)=>{Qc(t)?t.sign(e):t.partialSign(...e)},"signWithAdditionalSigners"),Xne=o(t=>Qc(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),"getSignaturePubKeys"),Zne=o(t=>Qc(t)?t.signatures.map(e=>qm.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null),"getSignatures");function Jne(t){if(!gke(qm.Buffer.from(t)))return!1;let e;try{e=Ki.Message.from(t)}catch{e=void 0}let r;try{r=Ki.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}o(Jne,"isSafeMessage");function gke(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}o(gke,"isValidUTF8");var Qne=o(t=>R_(t).dividedBy(Ki.LAMPORTS_PER_SOL),"lamportsToSolana"),eie=o(t=>R_(t).multipliedBy(Ki.LAMPORTS_PER_SOL),"solanaToLamports");var ef={};PW(ef,{BufferLayout:()=>xke,Message:()=>Ua.Message,MessageV0:()=>Ua.MessageV0,Transaction:()=>Ua.Transaction,TransactionInstruction:()=>Ua.TransactionInstruction,TransactionMessage:()=>Ua.TransactionMessage,VersionedMessage:()=>Ua.VersionedMessage,VersionedTransaction:()=>Ua.VersionedTransaction,getAccountsFromTransaction:()=>zne,getFeePayer:()=>lk,getRecentBlockhash:()=>fk,getRequiredSignatures:()=>Vne,getSignaturePubKeys:()=>Xne,getSignatures:()=>Zne,isAlreadySigned:()=>ak,isSafeMessage:()=>Jne,isVersionedTransaction:()=>Qc,lamportsToSolana:()=>Qne,messageAndSignaturesToTransaction:()=>jne,messageStringToTransaction:()=>ck,messageStringToTransactionString:()=>qne,setFeePayer:()=>uk,setFeePayerIfNotExists:()=>Wne,setRecentBlockhashIfNotExists:()=>Gne,setRecentBlockhashIfNotSigned:()=>$ne,signWithAdditionalSigners:()=>Yne,solanaInstructionEncodeData:()=>nie,solanaToLamports:()=>eie,transactionStringToMessageString:()=>Une,transactionStringToTransaction:()=>P1,transactionStringToVersion:()=>Fne,transactionToBase58TransactionString:()=>sk,transactionToBase64TransactionString:()=>Hne,transactionToMessageString:()=>V6,transactionToSerializedMessage:()=>ok,transactionToSerializedTransaction:()=>j6});p();m();var xke=et(tie(),1),Ua=et(H6(),1);Kh(ef,et(H6(),1));p();m();var rie=et(ci());p();m();var bke=et(ci()),D1=et(kC());function mk(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return mk({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(mk,"getAlloc");function nie(t,e){let r=t.layout.span>=0?t.layout.span:mk(t,e),n=rie.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(nie,"encodeData");p();m();var We;(function(t){t.BitcoinTaproot="bip122_p2tr",t.BitcoinNativeSegwit="bip122_p2wpkh",t.BitcoinNestedSegwit="bip122_p2sh",t.BitcoinLegacy="bip122_p2pkh",t.Solana="solana",t.EVM="eip155",t.Sui="sui"})(We||(We={}));var f4=[We.BitcoinTaproot,We.BitcoinNativeSegwit,We.BitcoinNestedSegwit,We.BitcoinLegacy],x2=we.enum(f4);p();m();var St;(function(t){t.Solana="solana",t.Monad="monad",t.Ethereum="ethereum",t.Base="base",t.Arbitrum="arbitrum",t.Polygon="polygon",t.Bitcoin="bitcoin",t.Sui="sui",t.Hypercore="hypercore",t.Hyperevm="hyperevm"})(St||(St={}));var En;(function(t){t.Ethereum="60",t.Monad="143",t.Polygon="966",t.Base="8453",t.Arbitrum="9001",t.Solana="501",t.Bitcoin="0",t.Sui="784",t.Hypercore="925",t.Hyperevm="60"})(En||(En={}));p();m();var Gi;(function(t){t.Mainnet="solana:101",t.Testnet="solana:102",t.Devnet="solana:103",t.Localnet="solana:localnet"})(Gi||(Gi={}));var h0=we.union([we.literal(Gi.Mainnet),we.literal(Gi.Testnet),we.literal(Gi.Devnet),we.literal(Gi.Localnet)]),Fa;(function(t){t.Mainnet="eip155:1",t.Sepolia="eip155:11155111"})(Fa||(Fa={}));var u4=we.union([we.literal(Fa.Mainnet),we.literal(Fa.Sepolia)]),vc;(function(t){t.Mainnet="eip155:137",t.Amoy="eip155:80002"})(vc||(vc={}));var gk=we.union([we.literal(vc.Mainnet),we.literal(vc.Amoy)]),xc;(function(t){t.Mainnet="eip155:8453",t.Sepolia="eip155:84532"})(xc||(xc={}));var yk=we.union([we.literal(xc.Mainnet),we.literal(xc.Sepolia)]),_c;(function(t){t.Mainnet="eip155:42161",t.Sepolia="eip155:421614"})(_c||(_c={}));var bk=we.union([we.literal(_c.Mainnet),we.literal(_c.Sepolia)]),wc;(function(t){t.Mainnet="eip155:143",t.Testnet="eip155:10143"})(wc||(wc={}));var vk=we.union([we.literal(wc.Mainnet),we.literal(wc.Testnet)]),qa;(function(t){t.Mainnet="bip122:000000000019d6689c085ae165831e93",t.Testnet="bip122:000000000933ea01ad0ee984209779ba"})(qa||(qa={}));var p0=we.union([we.literal(qa.Mainnet),we.literal(qa.Testnet)]),Ec;(function(t){t.Mainnet="sui:mainnet",t.Testnet="sui:testnet"})(Ec||(Ec={}));var Hm=we.union([we.literal(Ec.Mainnet),we.literal(Ec.Testnet)]),Ha;(function(t){t.Mainnet="hypercore:mainnet",t.Testnet="hypercore:testnet"})(Ha||(Ha={}));var Ld=we.union([we.literal(Ha.Mainnet),we.literal(Ha.Testnet)]),Va;(function(t){t.Mainnet="eip155:999",t.Testnet="eip155:998"})(Va||(Va={}));var Vm=we.union([we.literal(Va.Mainnet),we.literal(Va.Testnet)]),m0=we.union([u4,gk,yk,vk,bk,Ld,Vm]),Dd=we.union([p0,m0,h0,Hm,Ld,Vm]),Sn={Bitcoin:qa,Ethereum:Fa,Polygon:vc,Solana:Gi,Sui:Ec,Base:xc,Monad:wc,Arbitrum:_c,Hypercore:Ha,Hyperevm:Va};p();m();p();m();p();m();p();m();p();m();p();m();var V$e=et(pb(),1);var qo=BigInt(0),zr=BigInt(1),q0=BigInt(2),j$e=BigInt(8),U0e=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),ei=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:U0e,n:U0e,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var j0e=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Sw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),RDt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),z$e=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),K$e=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),G$e=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),$$e=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),po=class t{static{o(this,"ExtendedPoint")}constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof $i))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals($i.ZERO)?t.ZERO:new t(e.x,e.y,zr,Je(e.x*e.y))}static toAffineBatch(e){let r=X$e(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){q0e(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e,l=Je(r*f),h=Je(s*i),g=Je(n*f),b=Je(a*i);return l===h&&g===b}negate(){return new t(Je(-this.x),this.y,this.z,Je(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=ei,s=Je(e*e),a=Je(r*r),f=Je(q0*Je(n*n)),l=Je(i*s),h=e+r,g=Je(Je(h*h)-s-a),b=l+a,A=b-f,T=l-a,O=Je(g*A),N=Je(b*T),P=Je(g*T),C=Je(A*b);return new t(O,N,C,P)}add(e){q0e(e);let{x:r,y:n,z:i,t:s}=this,{x:a,y:f,z:l,t:h}=e,g=Je((n-r)*(f+a)),b=Je((n+r)*(f-a)),A=Je(b-g);if(A===qo)return this.double();let T=Je(i*q0*h),O=Je(s*q0*l),N=O+T,P=b+g,C=O-T,D=Je(N*A),M=Je(P*C),U=Je(N*C),V=Je(A*P);return new t(D,M,V,U)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let f=1;f<2**(e-1);f++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=$i.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&qD.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),qD.set(r,i)));let s=t.ZERO,a=t.BASE,f=1+256/n,l=2**(n-1),h=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let A=0;A<f;A++){let T=A*l,O=Number(e&h);e>>=b,O>l&&(O-=g,e+=zr);let N=T,P=T+Math.abs(O)-1,C=A%2!==0,D=O<0;O===0?a=a.add(F0e(C,i[N])):s=s.add(F0e(D,i[P]))}return t.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(M5(e,ei.l),r)}multiplyUnsafe(e){let r=M5(e,ei.l,!1),n=t.BASE,i=t.ZERO;if(r===qo)return i;if(this.equals(i)||r===zr)return this;if(this.equals(n))return this.wNAF(r);let s=i,a=this;for(;r>qo;)r&zr&&(s=s.add(a)),a=a.double(),r>>=zr;return s}isSmallOrder(){return this.multiplyUnsafe(ei.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(ei.l/q0).double();return ei.l%q0&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?j$e:P5(i));let a=Je(r*e),f=Je(n*e),l=Je(i*e);if(s)return $i.ZERO;if(l!==zr)throw new Error("invZ was invalid");return new $i(a,f)}fromRistrettoBytes(){UD()}toRistrettoBytes(){UD()}fromRistrettoHash(){UD()}};po.BASE=new po(ei.Gx,ei.Gy,zr,Je(ei.Gx*ei.Gy));po.ZERO=new po(qo,zr,zr,qo);function F0e(t,e){let r=e.negate();return t?r:e}o(F0e,"constTimeNegate");function q0e(t){if(!(t instanceof po))throw new TypeError("ExtendedPoint expected")}o(q0e,"assertExtPoint");function DD(t){if(!(t instanceof Og))throw new TypeError("RistrettoPoint expected")}o(DD,"assertRstPoint");function UD(){throw new Error("Legacy method: switch to RistrettoPoint")}o(UD,"legacyRist");var Og=class t{static{o(this,"RistrettoPoint")}constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=ei,n=Je(Sw*e*e),i=Je((n+zr)*G$e),s=BigInt(-1),a=Je((s-r*n)*Je(n+r)),{isValid:f,value:l}=VD(i,a),h=Je(l*e);F0(h)||(h=Je(-h)),f||(l=h),f||(s=n);let g=Je(s*(n-zr)*$$e-a),b=l*l,A=Je((l+l)*a),T=Je(g*z$e),O=Je(zr-b),N=Je(zr+b);return new po(Je(A*N),Je(O*T),Je(T*N),Je(A*O))}static hashToCurve(e){e=H0(e,64);let r=FD(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=FD(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new t(n.add(s))}static fromHex(e){e=H0(e,32);let{a:r,d:n}=ei,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=FD(e);if(!J$e(Tw(s),e)||F0(s))throw new Error(i);let a=Je(s*s),f=Je(zr+r*a),l=Je(zr-r*a),h=Je(f*f),g=Je(l*l),b=Je(r*n*h-g),{isValid:A,value:T}=V0e(Je(b*g)),O=Je(T*l),N=Je(T*O*b),P=Je((s+s)*O);F0(P)&&(P=Je(-P));let C=Je(f*N),D=Je(P*C);if(!A||F0(D)||C===qo)throw new Error(i);return new t(new po(P,C,zr,D))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=Je(Je(n+r)*Je(n-r)),a=Je(e*r),f=Je(a*a),{value:l}=V0e(Je(s*f)),h=Je(l*s),g=Je(l*a),b=Je(h*g*i),A;if(F0(i*b)){let O=Je(r*Sw),N=Je(e*Sw);e=O,r=N,A=Je(h*K$e)}else A=g;F0(e*b)&&(r=Je(-r));let T=Je((n-r)*A);return F0(T)&&(T=Je(-T)),Tw(T)}toHex(){return Iw(this.toRawBytes())}toString(){return this.toHex()}equals(e){DD(e);let r=this.ep,n=e.ep,i=Je(r.x*n.y)===Je(r.y*n.x),s=Je(r.y*n.y)===Je(r.x*n.x);return i||s}add(e){return DD(e),new t(this.ep.add(e.ep))}subtract(e){return DD(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Og.BASE=new Og(po.BASE);Og.ZERO=new Og(po.ZERO);var qD=new WeakMap,$i=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,qD.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=ei;e=H0(e,32);let s=e.slice();s[31]=e[31]&-129;let a=Ow(s);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=j0e)throw new Error("Expected 0 < hex < 2**256");let f=Je(a*a),l=Je(f-zr),h=Je(n*f+zr),{isValid:g,value:b}=VD(l,h);if(!g)throw new Error("Point.fromHex: invalid y coordinate");let A=(b&zr)===zr;return(e[31]&128)!==0!==A&&(b=Je(-b)),new t(b,a)}static async fromPrivateKey(e){return(await $0e(e)).point}toRawBytes(){let e=Tw(this.y);return e[31]|=this.x&zr?128:0,e}toHex(){return Iw(this.toRawBytes())}toX25519(){let{y:e}=this,r=Je((zr+e)*P5(zr-e));return Tw(r)}isTorsionFree(){return po.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(Je(-this.x),this.y)}add(e){return po.fromAffine(this).add(po.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return po.fromAffine(this).multiply(e,this).toAffine()}};$i.BASE=new $i(ei.Gx,ei.Gy);$i.ZERO=new $i(qo,zr);var Rw=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=H0(e,64),n=$i.fromHex(r.slice(0,32),!1),i=Ow(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof $i))throw new Error("Expected Point instance");return M5(r,ei.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Tw(this.s),32),e}toHex(){return Iw(this.toRawBytes())}};function H0e(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(H0e,"concatBytes");var W$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Iw(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=W$e[t[r]];return e}o(Iw,"bytesToHex");function HD(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(HD,"hexToBytes");function z0e(t){let r=t.toString(16).padStart(64,"0");return HD(r)}o(z0e,"numberTo32BytesBE");function Tw(t){return z0e(t).reverse()}o(Tw,"numberTo32BytesLE");function F0(t){return(Je(t)&zr)===zr}o(F0,"edIsNegative");function Ow(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Iw(Uint8Array.from(t).reverse()))}o(Ow,"bytesToNumberLE");var Y$e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function FD(t){return Je(Ow(t)&Y$e)}o(FD,"bytes255ToNumberLE");function Je(t,e=ei.P){let r=t%e;return r>=qo?r:e+r}o(Je,"mod");function P5(t,e=ei.P){if(t===qo||e<=qo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Je(t,e),n=e,i=qo,s=zr,a=zr,f=qo;for(;r!==qo;){let h=n/r,g=n%r,b=i-a*h,A=s-f*h;n=r,r=g,i=a,s=f,a=b,f=A}if(n!==zr)throw new Error("invert: does not exist");return Je(i,e)}o(P5,"invert");function X$e(t,e=ei.P){let r=new Array(t.length),n=t.reduce((s,a,f)=>a===qo?s:(r[f]=s,Je(s*a,e)),zr),i=P5(n,e);return t.reduceRight((s,a,f)=>a===qo?s:(r[f]=Je(s*r[f],e),Je(s*a,e)),i),r}o(X$e,"invertBatch");function Pl(t,e){let{P:r}=ei,n=t;for(;e-- >qo;)n*=n,n%=r;return n}o(Pl,"pow2");function Z$e(t){let{P:e}=ei,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),l=t*t%e*t%e,h=Pl(l,q0)*l%e,g=Pl(h,zr)*t%e,b=Pl(g,r)*g%e,A=Pl(b,n)*b%e,T=Pl(A,i)*A%e,O=Pl(T,s)*T%e,N=Pl(O,a)*O%e,P=Pl(N,a)*O%e,C=Pl(P,n)*b%e;return{pow_p_5_8:Pl(C,q0)*t%e,b2:l}}o(Z$e,"pow_2_252_3");function VD(t,e){let r=Je(e*e*e),n=Je(r*r*e),i=Z$e(t*n).pow_p_5_8,s=Je(t*r*i),a=Je(e*s*s),f=s,l=Je(s*Sw),h=a===t,g=a===Je(-t),b=a===Je(-t*Sw);return h&&(s=f),(g||b)&&(s=l),F0(s)&&(s=Je(-s)),{isValid:h||g,value:s}}o(VD,"uvRatio");function V0e(t){return VD(zr,t)}o(V0e,"invertSqrt");function N5(t){return Je(Ow(t),ei.l)}o(N5,"modlLE");function J$e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(J$e,"equalBytes");function H0(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):HD(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}o(H0,"ensureBytes");function M5(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(qo<t)return t}else if(qo<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}o(M5,"normalizeScalar");function Q$e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(Q$e,"adjustBytes25519");function K0e(t){if(t=typeof t=="bigint"||typeof t=="number"?z0e(M5(t,j0e)):H0(t),t.length!==32)throw new Error("Expected 32 bytes");return t}o(K0e,"checkPrivateKey");function G0e(t){let e=Q$e(t.slice(0,32)),r=t.slice(32,64),n=N5(e),i=$i.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}o(G0e,"getKeyFromHash");var Aw;function C5(...t){if(typeof Aw!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Aw(...t)}o(C5,"sha512s");async function $0e(t){return G0e(await Jd.sha512(K0e(t)))}o($0e,"getExtendedPublicKey");function jD(t){return G0e(C5(K0e(t)))}o(jD,"getExtendedPublicKeySync");function eWe(t){return jD(t).pointBytes}o(eWe,"getPublicKeySync");function tWe(t,e){t=H0(t);let{prefix:r,scalar:n,pointBytes:i}=jD(e),s=N5(C5(r,t)),a=$i.BASE.multiply(s),f=N5(C5(a.toRawBytes(),i,t)),l=Je(s+f*n,ei.l);return new Rw(a,l).toRawBytes()}o(tWe,"signSync");function rWe(t,e,r){e=H0(e),r instanceof $i||(r=$i.fromHex(r,!1));let{r:n,s:i}=t instanceof Rw?t.assertValidity():Rw.fromHex(t),s=po.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}o(rWe,"prepareVerification");function nWe(t,e,r,n){let i=N5(n),s=po.fromAffine(t).multiplyUnsafe(i);return po.fromAffine(e).add(s).subtract(r).multiplyUnsafe(ei.h).equals(po.ZERO)}o(nWe,"finishVerification");function iWe(t,e,r){let{r:n,SB:i,msg:s,pub:a}=rWe(t,e,r),f=C5(n.toRawBytes(),a.toRawBytes(),s);return nWe(a,n,i,f)}o(iWe,"verifySync");var k5={getExtendedPublicKey:jD,getPublicKey:eWe,sign:tWe,verify:iWe};$i.BASE._setWindowSize(8);var U0={node:V$e,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Jd={bytesToHex:Iw,hexToBytes:HD,concatBytes:H0e,getExtendedPublicKey:$0e,mod:Je,invert:P5,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:o(t=>{if(t=H0(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Je(Ow(t),ei.l-zr)+zr},"hashToPrivateScalar"),randomBytes:o((t=32)=>{if(U0.web)return U0.web.getRandomValues(new Uint8Array(t));if(U0.node){let{randomBytes:e}=U0.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Jd.randomBytes(32),"randomPrivateKey"),sha512:o(async(...t)=>{let e=H0e(...t);if(U0.web){let r=await U0.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(U0.node)return Uint8Array.from(U0.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},"sha512"),precompute(t=8,e=$i.BASE){let r=e.equals($i.BASE)?e:new $i(e.x,e.y);return r._setWindowSize(t),r.multiply(q0),r},sha512Sync:void 0};Object.defineProperties(Jd,{sha512Sync:{configurable:!1,get(){return Aw},set(t){Aw||(Aw=t)}}});p();m();p();m();p();m();function zD(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(zD,"number");function oWe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(oWe,"bool");function W0e(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(W0e,"bytes");function sWe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zD(t.outputLen),zD(t.blockLen)}o(sWe,"hash");function aWe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(aWe,"exists");function cWe(t,e){W0e(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(cWe,"output");var fWe={number:zD,bool:oWe,bytes:W0e,hash:sWe,exists:aWe,output:cWe},Nn=fWe;p();m();p();m();var Nw={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Hb=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32"),Vb=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Ru=o((t,e)=>t<<32-e|t>>>e,"rotr"),uWe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!uWe)throw new Error("Non little-endian hardware is not supported");var lWe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dWe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=lWe[t[r]];return e}o(dWe,"bytesToHex");function hWe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(hWe,"hexToBytes");var pWe=o(async()=>{},"nextTick");async function B5(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await pWe(),n+=s)}}o(B5,"asyncLoop");function mWe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}o(mWe,"utf8ToBytes");function Tu(t){if(typeof t=="string"&&(t=mWe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}o(Tu,"toBytes");var V0=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},gWe=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function L5(t,e){if(e!==void 0&&(typeof e!="object"||!gWe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}o(L5,"checkOpts");function kl(t){let e=o(n=>t().update(Tu(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(kl,"wrapConstructor");function Y0e(t){let e=o((n,i)=>t(i).update(Tu(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Y0e,"wrapConstructorWithOpts");function KD(t=32){if(Nw.web)return Nw.web.getRandomValues(new Uint8Array(t));if(Nw.node)return new Uint8Array(Nw.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}o(KD,"randomBytes");function yWe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(yWe,"setBigUint64");var jb=class extends V0{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Vb(this.buffer)}update(e){Nn.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Tu(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=Vb(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nn.exists(this),Nn.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;yWe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=Vb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};p();m();var D5=BigInt(4294967295),GD=BigInt(32);function X0e(t,e=!1){return e?{h:Number(t&D5),l:Number(t>>GD&D5)}:{h:Number(t>>GD&D5)|0,l:Number(t&D5)|0}}o(X0e,"fromBig");function bWe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=X0e(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(bWe,"split");var vWe=o((t,e)=>BigInt(t>>>0)<<GD|BigInt(e>>>0),"toBig"),xWe=o((t,e,r)=>t>>>r,"shrSH"),_We=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),wWe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),EWe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),SWe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),AWe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),RWe=o((t,e)=>e,"rotr32H"),TWe=o((t,e)=>t,"rotr32L"),IWe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),OWe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),NWe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),MWe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function CWe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(CWe,"add");var PWe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),kWe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),BWe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),LWe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),DWe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),UWe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H"),FWe={fromBig:X0e,split:bWe,toBig:vWe,shrSH:xWe,shrSL:_We,rotrSH:wWe,rotrSL:EWe,rotrBH:SWe,rotrBL:AWe,rotr32H:RWe,rotr32L:TWe,rotlSH:IWe,rotlSL:OWe,rotlBH:NWe,rotlBL:MWe,add:CWe,add3L:PWe,add3H:kWe,add4L:BWe,add4H:LWe,add5H:UWe,add5L:DWe},$t=FWe;var[qWe,HWe]=$t.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),j0=new Uint32Array(80),z0=new Uint32Array(80),zb=class extends jb{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:g,Fh:b,Fl:A,Gh:T,Gl:O,Hh:N,Hl:P}=this;return[e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P]}set(e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=g|0,this.Fh=b|0,this.Fl=A|0,this.Gh=T|0,this.Gl=O|0,this.Hh=N|0,this.Hl=P|0}process(e,r){for(let M=0;M<16;M++,r+=4)j0[M]=e.getUint32(r),z0[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=j0[M-15]|0,V=z0[M-15]|0,j=$t.rotrSH(U,V,1)^$t.rotrSH(U,V,8)^$t.shrSH(U,V,7),ee=$t.rotrSL(U,V,1)^$t.rotrSL(U,V,8)^$t.shrSL(U,V,7),Y=j0[M-2]|0,te=z0[M-2]|0,E=$t.rotrSH(Y,te,19)^$t.rotrBH(Y,te,61)^$t.shrSH(Y,te,6),c=$t.rotrSL(Y,te,19)^$t.rotrBL(Y,te,61)^$t.shrSL(Y,te,6),d=$t.add4L(ee,c,z0[M-7],z0[M-16]),y=$t.add4H(d,j,E,j0[M-7],j0[M-16]);j0[M]=y|0,z0[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:g,Eh:b,El:A,Fh:T,Fl:O,Gh:N,Gl:P,Hh:C,Hl:D}=this;for(let M=0;M<80;M++){let U=$t.rotrSH(b,A,14)^$t.rotrSH(b,A,18)^$t.rotrBH(b,A,41),V=$t.rotrSL(b,A,14)^$t.rotrSL(b,A,18)^$t.rotrBL(b,A,41),j=b&T^~b&N,ee=A&O^~A&P,Y=$t.add5L(D,V,ee,HWe[M],z0[M]),te=$t.add5H(Y,C,U,j,qWe[M],j0[M]),E=Y|0,c=$t.rotrSH(n,i,28)^$t.rotrBH(n,i,34)^$t.rotrBH(n,i,39),d=$t.rotrSL(n,i,28)^$t.rotrBL(n,i,34)^$t.rotrBL(n,i,39),y=n&s^n&f^s&f,v=i&a^i&l^a&l;C=N|0,D=P|0,N=T|0,P=O|0,T=b|0,O=A|0,{h:b,l:A}=$t.add(h|0,g|0,te|0,E|0),h=f|0,g=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let w=$t.add3L(E,d,v);n=$t.add3H(w,te,c,y),i=w|0}({h:n,l:i}=$t.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=$t.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=$t.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:g}=$t.add(this.Dh|0,this.Dl|0,h|0,g|0),{h:b,l:A}=$t.add(this.Eh|0,this.El|0,b|0,A|0),{h:T,l:O}=$t.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:N,l:P}=$t.add(this.Gh|0,this.Gl|0,N|0,P|0),{h:C,l:D}=$t.add(this.Hh|0,this.Hl|0,C|0,D|0),this.set(n,i,s,a,f,l,h,g,b,A,T,O,N,P,C,D)}roundClean(){j0.fill(0),z0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},$D=class extends zb{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},WD=class extends zb{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},YD=class extends zb{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Bl=kl(()=>new zb),rUt=kl(()=>new $D),nUt=kl(()=>new WD),iUt=kl(()=>new YD);p();m();var VWe=et(pb(),1);var an=BigInt(0),ui=BigInt(1),G0=BigInt(2),Pw=BigInt(3),Z0e=BigInt(8),li=Object.freeze({a:an,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ui,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),J0e=o((t,e)=>(t+e/G0)/e,"divNearest"),U5={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=li,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ui*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=J0e(s*t,e),l=J0e(-n*t,e),h=Tt(t-f*r-l*i,e),g=Tt(-f*n-l*s,e),b=h>a,A=g>a;if(b&&(h=e-h),A&&(g=e-g),h>a||g>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:h,k2neg:A,k2:g}}},Kb=32,Bw=32;var Q0e=Kb+1,epe=2*Kb+1;function tpe(t){let{a:e,b:r}=li,n=Tt(t*t),i=Tt(n*t);return Tt(i+e*t+r)}o(tpe,"weierstrass");var F5=li.a===an,j5=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function rpe(t){if(!(t instanceof la))throw new TypeError("JacobianPoint expected")}o(rpe,"assertJacPoint");var la=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Wi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Wi.ZERO)?t.ZERO:new t(e.x,e.y,ui)}static toAffineBatch(e){let r=$We(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){rpe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e,l=Tt(i*i),h=Tt(f*f),g=Tt(r*h),b=Tt(s*l),A=Tt(Tt(n*f)*h),T=Tt(Tt(a*i)*l);return g===b&&A===T}negate(){return new t(this.x,Tt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Tt(e*e),s=Tt(r*r),a=Tt(s*s),f=e+s,l=Tt(G0*(Tt(f*f)-i-a)),h=Tt(Pw*i),g=Tt(h*h),b=Tt(g-G0*l),A=Tt(h*(l-b)-Z0e*a),T=Tt(G0*r*n);return new t(b,A,T)}add(e){rpe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:f}=e;if(s===an||a===an)return this;if(r===an||n===an)return e;let l=Tt(i*i),h=Tt(f*f),g=Tt(r*h),b=Tt(s*l),A=Tt(Tt(n*f)*h),T=Tt(Tt(a*i)*l),O=Tt(b-g),N=Tt(T-A);if(O===an)return N===an?this.double():t.ZERO;let P=Tt(O*O),C=Tt(O*P),D=Tt(g*P),M=Tt(N*N-C-G0*D),U=Tt(N*(D-M)-A*C),V=Tt(i*f*O);return new t(M,U,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===an)return r;let n=ope(e);if(n===ui)return this;if(!F5){let b=r,A=this;for(;n>an;)n&ui&&(b=b.add(A)),A=A.double(),n>>=ui;return b}let{k1neg:i,k1:s,k2neg:a,k2:f}=U5.splitScalar(n),l=r,h=r,g=this;for(;s>an||f>an;)s&ui&&(l=l.add(g)),f&ui&&(h=h.add(g)),g=g.double(),s>>=ui,f>>=ui;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(Tt(h.x*U5.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=F5?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let f=1;f<2**(e-1);f++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Wi.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ZD.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),ZD.set(r,i)));let s=t.ZERO,a=t.BASE,f=1+(F5?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),g=2**n,b=BigInt(n);for(let A=0;A<f;A++){let T=A*l,O=Number(e&h);e>>=b,O>l&&(O-=g,e+=ui);let N=T,P=T+Math.abs(O)-1,C=A%2!==0,D=O<0;O===0?a=a.add(q5(C,i[N])):s=s.add(q5(D,i[P]))}return{p:s,f:a}}multiply(e,r){let n=ope(e),i,s;if(F5){let{k1neg:a,k1:f,k2neg:l,k2:h}=U5.splitScalar(n),{p:g,f:b}=this.wNAF(f,r),{p:A,f:T}=this.wNAF(h,r);g=q5(a,g),A=q5(l,A),A=new t(Tt(A.x*U5.beta),A.y,A.z),i=g.add(A),s=b.add(T)}else{let{p:a,f}=this.wNAF(n,r);i=a,s=f}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Z0e:$5(i));let a=e,f=Tt(a*a),l=Tt(f*a),h=Tt(r*f),g=Tt(n*l),b=Tt(i*a);if(s)return Wi.ZERO;if(b!==ui)throw new Error("invZ was invalid");return new Wi(h,g)}};la.BASE=new la(li.Gx,li.Gy,ui);la.ZERO=new la(an,ui,an);function q5(t,e){let r=e.negate();return t?r:e}o(q5,"constTimeNegate");var ZD=new WeakMap,Wi=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ZD.delete(this)}hasEvenY(){return this.y%G0===an}static fromCompressedHex(e){let r=e.length===32,n=xf(r?e:e.subarray(1));if(!V5(n))throw new Error("Point is not on curve");let i=tpe(n),s=GWe(i),a=(s&ui)===ui;r?a&&(s=Tt(-s)):(e[0]&1)===1!==a&&(s=Tt(-s));let f=new t(n,s);return f.assertValidity(),f}static fromUncompressedHex(e){let r=xf(e.subarray(1,Kb+1)),n=xf(e.subarray(Kb+1,Kb*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Ng(e),n=r.length,i=r[0];if(n===Kb)return this.fromCompressedHex(r);if(n===Q0e&&(i===2||i===3))return this.fromCompressedHex(r);if(n===epe&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Q0e} compressed bytes or ${epe} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Uw(e))}static fromSignature(e,r,n){let{r:i,s}=ZWe(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=YWe(Ng(e)),{n:f}=li,l=n===2||n===3?i+f:i,h=$5(l,f),g=Tt(-a*h,f),b=Tt(s*h,f),A=n&1?"03":"02",T=t.fromHex(A+$0(l)),O=t.BASE.multiplyAndAddUnsafe(T,g,b);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return W0(this.toHex(e))}toHex(e=!1){let r=$0(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${$0(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!V5(r)||!V5(n))throw new Error(e);let i=Tt(n*n),s=tpe(r);if(Tt(i-s)!==an)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Tt(-this.y))}double(){return la.fromAffine(this).double().toAffine()}add(e){return la.fromAffine(this).add(la.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return la.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=la.fromAffine(this),s=r===an||r===ui||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=la.fromAffine(e).multiplyUnsafe(n),f=s.add(a);return f.equals(la.ZERO)?void 0:f.toAffine()}};Wi.BASE=new Wi(li.Gx,li.Gy);Wi.ZERO=new Wi(an,an);function npe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(npe,"sliceDER");function ipe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${$b(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:xf(r),left:t.subarray(e+2)}}o(ipe,"parseDERInt");function jWe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${$b(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=ipe(t.subarray(2)),{data:n,left:i}=ipe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${$b(i)}`);return{r:e,s:n}}o(jWe,"parseDERSignature");var kw=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?$b(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(z5(i.slice(0,64)),z5(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=jWe(r?e:W0(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Dw(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Dw(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=li.n>>ui;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Tt(-this.s,li.n)):this}toDERRawBytes(){return W0(this.toDERHex())}toDERHex(){let e=npe(Cw(this.s)),r=npe(Cw(this.r)),n=e.length/2,i=r.length/2,s=Cw(n),a=Cw(i);return`30${Cw(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return W0(this.toCompactHex())}toCompactHex(){return $0(this.r)+$0(this.s)}};function Mw(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Mw,"concatBytes");var zWe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $b(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=zWe[t[r]];return e}o($b,"bytesToHex");var KWe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function $0(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(an<=t&&t<KWe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o($0,"numTo32bStr");function Lw(t){let e=W0($0(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(Lw,"numTo32b");function Cw(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(Cw,"numberToHexUnpadded");function z5(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(z5,"hexToNumber");function W0(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(W0,"hexToBytes");function xf(t){return z5($b(t))}o(xf,"bytesToNumber");function Ng(t){return t instanceof Uint8Array?Uint8Array.from(t):W0(t)}o(Ng,"ensureBytes");function ope(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Dw(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(ope,"normalizeScalar");function Tt(t,e=li.P){let r=t%e;return r>=an?r:e+r}o(Tt,"mod");function vf(t,e){let{P:r}=li,n=t;for(;e-- >an;)n*=n,n%=r;return n}o(vf,"pow2");function GWe(t){let{P:e}=li,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),l=t*t*t%e,h=l*l*t%e,g=vf(h,Pw)*h%e,b=vf(g,Pw)*h%e,A=vf(b,G0)*l%e,T=vf(A,n)*A%e,O=vf(T,i)*T%e,N=vf(O,a)*O%e,P=vf(N,f)*N%e,C=vf(P,a)*O%e,D=vf(C,Pw)*h%e,M=vf(D,s)*T%e,U=vf(M,r)*l%e,V=vf(U,G0);if(V*V%e!==t)throw new Error("Cannot find square root");return V}o(GWe,"sqrtMod");function $5(t,e=li.P){if(t===an||e<=an)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Tt(t,e),n=e,i=an,s=ui,a=ui,f=an;for(;r!==an;){let h=n/r,g=n%r,b=i-a*h,A=s-f*h;n=r,r=g,i=a,s=f,a=b,f=A}if(n!==ui)throw new Error("invert: does not exist");return Tt(i,e)}o($5,"invert");function $We(t,e=li.P){let r=new Array(t.length),n=t.reduce((s,a,f)=>a===an?s:(r[f]=s,Tt(s*a,e)),ui),i=$5(n,e);return t.reduceRight((s,a,f)=>a===an?s:(r[f]=Tt(s*r[f],e),Tt(s*a,e)),i),r}o($We,"invertBatch");function WWe(t){let e=t.length*8-Bw*8,r=xf(t);return e>0?r>>BigInt(e):r}o(WWe,"bits2int_2");function YWe(t,e=!1){let r=WWe(t);if(e)return r;let{n}=li;return r>=n?r-n:r}o(YWe,"truncateHash");var Gb,XD;function Dw(t){return an<t&&t<li.n}o(Dw,"isWithinCurveOrder");function V5(t){return an<t&&t<li.P}o(V5,"isValidFieldElement");function Uw(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Bw)throw new Error("Expected 32 bytes of private key");e=z5(t)}else if(t instanceof Uint8Array){if(t.length!==Bw)throw new Error("Expected 32 bytes of private key");e=xf(t)}else throw new TypeError("Expected valid private key");if(!Dw(e))throw new Error("Expected private key: 0 < key < n");return e}o(Uw,"normalizePrivateKey");function XWe(t){return t instanceof Wi?(t.assertValidity(),t):Wi.fromHex(t)}o(XWe,"normalizePublicKey");function ZWe(t){if(t instanceof kw)return t.assertValidity(),t;try{return kw.fromDER(t)}catch{return kw.fromCompact(t)}}o(ZWe,"normalizeSignature");function Yb(t,e=!1){return Wi.fromPrivateKey(t).toRawBytes(e)}o(Yb,"getPublicKey");function K5(t){return Tt(xf(t),li.n)}o(K5,"schnorrChallengeFinalize");var Wb=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ng(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=xf(r.subarray(0,32)),i=xf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!V5(e)||!Dw(r))throw new Error("Invalid signature")}toHex(){return $0(this.r)+$0(this.s)}toRawBytes(){return W0(this.toHex())}};function JWe(t){return Wi.fromPrivateKey(t).toRawX()}o(JWe,"schnorrGetPublicKey");var G5=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=Ll.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Ng(e);let{x:i,scalar:s}=this.getScalar(Uw(r));if(this.px=i,this.d=s,this.rand=Ng(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=Wi.fromPrivateKey(e),n=r.hasEvenY()?e:li.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Lw(e^xf(r))}finalizeNonce(e){let r=Tt(xf(e),li.n);if(r===an)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new Wb(e.x,Tt(r+n*i,li.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=Ll.taggedHash,a=this.initNonce(r,await s(K0.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(await s(K0.nonce,a,n,e)),g=K5(await s(K0.challenge,l,n,e)),b=this.finalizeSig(f,h,g,r);return await cpe(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=Ll.taggedHashSync,a=this.initNonce(r,s(K0.aux,i)),{R:f,rx:l,k:h}=this.finalizeNonce(s(K0.nonce,a,n,e)),g=K5(s(K0.challenge,l,n,e)),b=this.finalizeSig(f,h,g,r);return fpe(b,e,n)||this.error(),b}};async function QWe(t,e,r){return new G5(t,e,r).calc()}o(QWe,"schnorrSign");function eYe(t,e,r){return new G5(t,e,r).calcSync()}o(eYe,"schnorrSignSync");function spe(t,e,r){let n=t instanceof Wb,i=n?t:Wb.fromHex(t);return n&&i.assertValidity(),{...i,m:Ng(e),P:XWe(r)}}o(spe,"initSchnorrVerify");function ape(t,e,r,n){let i=Wi.BASE.multiplyAndAddUnsafe(e,Uw(r),Tt(-n,li.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(ape,"finalizeSchnorrVerify");async function cpe(t,e,r){try{let{r:n,s:i,m:s,P:a}=spe(t,e,r),f=K5(await Ll.taggedHash(K0.challenge,Lw(n),a.toRawX(),s));return ape(n,a,i,f)}catch{return!1}}o(cpe,"schnorrVerify");function fpe(t,e,r){try{let{r:n,s:i,m:s,P:a}=spe(t,e,r),f=K5(Ll.taggedHashSync(K0.challenge,Lw(n),a.toRawX(),s));return ape(n,a,i,f)}catch(n){if(n instanceof j5)throw n;return!1}}o(fpe,"schnorrVerifySync");var fUt={Signature:Wb,getPublicKey:JWe,sign:QWe,verify:cpe,signSync:eYe,verifySync:fpe};Wi.BASE._setWindowSize(8);var Ic={node:VWe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},K0={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},H5={},Ll={bytesToHex:$b,hexToBytes:W0,concatBytes:Mw,mod:Tt,invert:$5,isValidPrivateKey(t){try{return Uw(t),!0}catch{return!1}},_bigintTo32Bytes:Lw,_normalizePrivateKey:Uw,hashToPrivateKey:o(t=>{t=Ng(t);let e=Bw+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Tt(xf(t),li.n-ui)+ui;return Lw(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(Ic.web)return Ic.web.getRandomValues(new Uint8Array(t));if(Ic.node){let{randomBytes:e}=Ic.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Ll.hashToPrivateKey(Ll.randomBytes(Bw+8)),"randomPrivateKey"),precompute(t=8,e=Wi.BASE){let r=e===Wi.BASE?e:new Wi(e.x,e.y);return r._setWindowSize(t),r.multiply(Pw),r},sha256:o(async(...t)=>{if(Ic.web){let e=await Ic.web.subtle.digest("SHA-256",Mw(...t));return new Uint8Array(e)}else if(Ic.node){let{createHash:e}=Ic.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(Ic.web){let r=await Ic.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Mw(...e),i=await Ic.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Ic.node){let{createHmac:r}=Ic.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=H5[t];if(r===void 0){let n=await Ll.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Mw(n,n),H5[t]=r}return Ll.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof Gb!="function")throw new j5("sha256Sync is undefined, you need to set it");let r=H5[t];if(r===void 0){let n=Gb(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Mw(n,n),H5[t]=r}return Gb(r,...e)},"taggedHashSync"),_JacobianPoint:la};Object.defineProperties(Ll,{sha256Sync:{configurable:!1,get(){return Gb},set(t){Gb||(Gb=t)}},hmacSha256Sync:{configurable:!1,get(){return XD},set(t){XD||(XD=t)}}});p();m();var tYe=new Error("Unsupported path."),as=o((t,e=tYe)=>{throw e},"assertNever");p();m();var upe=new RegExp("^[0-9]+'?$"),Fw=2147483648;p();m();p();m();var W5=class extends V0{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Nn.hash(e);let n=Tu(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Nn.exists(this),this.iHash.update(e),this}digestInto(e){Nn.exists(this),Nn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Qd=o((t,e,r)=>new W5(t,e).update(r).digest(),"hmac");Qd.create=(t,e)=>new W5(t,e);var OUt=new RegExp("^m(\\/[0-9]+')+$");var rYe="ed25519 seed",lpe=o(t=>{let e=Buffer.from(Qd(Bl,Buffer.from(rYe),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),dpe=o(({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),s=Buffer.from(Qd(Bl,e,i)).toString("hex"),a=s.slice(0,64),f=s.slice(64);return{key:Buffer.from(a,"hex"),chainCode:Buffer.from(f,"hex")}},"CKDPriv");p();m();var eh=et(ci());var Xb=et(Xo());var nYe=eh.Buffer.from("Bitcoin seed"),hpe=mn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ppe=o(t=>{let e=eh.Buffer.from(Qd(Bl,eh.Buffer.from(nYe),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:eh.Buffer.from(r,"hex"),chainCode:eh.Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),mpe=o((t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&Fw)i.set(r,1);else{let b=Yb(r,!0);i.set((0,Xb.arrayify)(b))}for(let b=24;b>=0;b-=8)i[33+(b>>3)]=e>>24-b&255;let s=eh.Buffer.from(Qd(Bl,n,i)).toString("hex"),a=s.slice(0,64),f=s.slice(64),l=mn.from(`0x${a}`);if(l.gte(hpe))throw new Error("Invalid private key");let h=l.add(`0x${r.toString("hex")}`).mod(hpe);if(h.eq(mn.from(0)))throw new Error("Invalid private key");let g=(0,Xb.hexZeroPad)((0,Xb.hexlify)(h),32);return{key:eh.Buffer.from(g.replace("0x",""),"hex"),chainCode:eh.Buffer.from(f,"hex")}},"CKDPriv");p();m();var JD=we.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!upe.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."}),Ee;(function(t){t.BitcoinTaproot="bitcoinTaproot",t.BitcoinNativeSegwit="bitcoinNativeSegwit",t.BitcoinNestedSegwit="bitcoinNestedSegwit",t.BitcoinLegacy="bitcoinLegacy",t.Bip44RootSolana="bip44Root",t.Bip44Solana="bip44",t.Bip44ChangeSolana="bip44Change",t.DeprecatedSolana="deprecated",t.Bip44RootEthereum="bip44RootEthereum",t.Bip44Ethereum="bip44Ethereum",t.Bip44EthereumSecondary="bip44EthereumSecondary",t.Bip44EthereumTertiary="bip44EthereumTertiary",t.Bip44Sui="bip44Sui"})(Ee||(Ee={}));var iYe=we.union([we.literal(Ee.BitcoinTaproot),we.literal(Ee.BitcoinNativeSegwit),we.literal(Ee.BitcoinNestedSegwit),we.literal(Ee.BitcoinLegacy)]),oYe=we.union([we.literal(Ee.Bip44RootEthereum),we.literal(Ee.Bip44Ethereum),we.literal(Ee.Bip44EthereumSecondary),we.literal(Ee.Bip44EthereumTertiary)]),sYe=we.union([we.literal(Ee.Bip44RootSolana),we.literal(Ee.Bip44Solana),we.literal(Ee.Bip44ChangeSolana),we.literal(Ee.DeprecatedSolana)]),aYe=we.literal(Ee.Bip44Sui);p();m();var cYe=we.union([we.literal(Ee.Bip44ChangeSolana),we.literal(Ee.Bip44Solana),we.literal(Ee.DeprecatedSolana)]),fYe=we.union([we.literal(Ee.Bip44Ethereum),we.literal(Ee.Bip44EthereumSecondary),we.literal(Ee.Bip44EthereumTertiary)]),uYe=we.union([we.literal(Ee.BitcoinTaproot),we.literal(Ee.BitcoinNativeSegwit),we.literal(Ee.BitcoinNestedSegwit),we.literal(Ee.BitcoinLegacy)]),lYe=we.literal(Ee.Bip44Sui),Y5=we.number().int().min(0),dYe=we.object({pathType:we.literal(Ee.Bip44RootSolana),index:we.number().optional()}),hYe=we.object({pathType:cYe,index:Y5}),pYe=we.object({pathType:we.literal(Ee.Bip44RootEthereum),index:we.number().optional()}),mYe=we.object({pathType:fYe,index:Y5}),gYe=we.object({pathType:uYe,index:Y5}),yYe=we.object({pathType:lYe,index:Y5}),ype=we.union([dYe,hYe,pYe,mYe,gYe,yYe]),qw=new Error("Invalid derivation path."),bpe=new Error("Unsupported derivation path."),bYe=o(t=>{if(!ype.safeParse(t).success)throw qw;switch(t.pathType){case Ee.BitcoinTaproot:return`m/86'/0'/0'/0/${t.index}`;case Ee.BitcoinNativeSegwit:return`m/84'/0'/0'/0/${t.index}`;case Ee.BitcoinNestedSegwit:return`m/46'/0'/0'/0/${t.index}`;case Ee.BitcoinLegacy:return`m/44'/0'/0'/0/${t.index}`;case Ee.Bip44RootEthereum:return"m/44'/60'";case Ee.Bip44Ethereum:return`m/44'/60'/0'/0/${t.index}`;case Ee.Bip44EthereumSecondary:return`m/44'/60'/1'/0/${t.index}`;case Ee.Bip44EthereumTertiary:return`m/44'/60'/2'/0/${t.index}`;case Ee.Bip44RootSolana:return"m/44'/501'";case Ee.DeprecatedSolana:return`m/501'/${t.index}'/0/0`;case Ee.Bip44Solana:return`m/44'/501'/${t.index}'`;case Ee.Bip44ChangeSolana:return`m/44'/501'/${t.index}'/0'`;case Ee.Bip44Sui:return`m/44'/784'/${t.index}'/0'/0'`}},"getDerivationPath"),gpe=1<<31>>>0,vYe=o(t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw qw;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let s="";for(let l=0;l<4;l++)s+=e[1+i*4+l];let a=parseInt(s,16),f=a>=gpe;f&&(a-=gpe),n+=`/${a.toString(10)}${f?"'":""}`}return n}catch{throw qw}},"parseHexEncodedPayload"),xYe=o(t=>{let e,r=JD.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=vYe(t)}catch{throw qw}if(e==="m/44'/501'")return{pathType:Ee.Bip44RootSolana};if(e==="m/44'/60'")return{pathType:Ee.Bip44RootEthereum};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinTaproot,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinNativeSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinNestedSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinLegacy,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.Bip44Ethereum,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:Ee.Bip44EthereumSecondary,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:Ee.Bip44EthereumTertiary,index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:Ee.Bip44ChangeSolana,index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:Ee.Bip44Solana,index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:Ee.DeprecatedSolana,index:parseInt(n[1],10)}}catch{}throw bpe},"parseDerivationPath");p();m();var tFt=new Error("Unsupported path."),_Ye=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:return!0;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:case Ee.Bip44Sui:return!1}},"isBitcoinDerivationPathType"),wYe=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:return!1;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:return!0;case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:case Ee.Bip44Sui:return!1}},"isEVMDerivationPathType"),EYe=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44Sui:return!1;case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:return!0}},"isSolanaDerivationPathType");Jd.sha512Sync=(...t)=>Bl(Jd.concatBytes(...t));var{getPublicKey:SYe}=k5,Dl=class{static{o(this,"CachedHDWallet")}#t;#e;constructor(e){this.#t={ellipticCurve:"ed25519",value:lpe(e),nodes:{}},this.#e={ellipticCurve:"secp256k1",value:ppe(e),nodes:{}}}derivePathType(e,r){switch(e){case Ee.BitcoinTaproot:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinNativeSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinNestedSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinLegacy:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.Bip44Ethereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case Ee.Bip44EthereumSecondary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case Ee.Bip44EthereumTertiary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case Ee.Bip44RootEthereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case Ee.Bip44ChangeSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case Ee.Bip44Solana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case Ee.DeprecatedSolana:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case Ee.Bip44RootSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case Ee.Bip44Sui:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):as(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,s=n.split("/"),a=this.#t;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let g=a.nodes?.[h]??null;if(!g){let b={ellipticCurve:r,value:dpe(a.value,parseInt(h,10)+Fw),nodes:{}};g=b,a.nodes[h]=b}a=g}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let f=SYe(a.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(a.value.key),{publicKey:f,secretKey:l};case 64:return l=new Uint8Array(64),l.set(a.value.key),l.set(f,32),{publicKey:f,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,s=n.split("/"),a=this.#e;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let g=a.nodes?.[h]??null;if(!g){let b=0;h.endsWith("'")&&(b=Fw);let A={ellipticCurve:r,value:mpe(a.value,parseInt(h,10)+b),nodes:{}};g=A,a.nodes[h]=A}a=g}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let f=a.value.key;return{publicKey:Yb(f,i),secretKey:new Uint8Array(f)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#t),this.cleanUpTree(this.#e),this.#t=null,this.#e=null}};var X5=class{static{o(this,"BitcoinLegacyAddressType")}type=We.BitcoinLegacy;displayName="Legacy";defaultDerivationPathType=Ee.BitcoinLegacy;otherDerivationPathType=[]};p();m();var Z5=class{static{o(this,"BitcoinNativeSegwitAddressType")}type=We.BitcoinNativeSegwit;displayName="Native Segwit";defaultDerivationPathType=Ee.BitcoinNativeSegwit;otherDerivationPathType=[]};p();m();var J5=class{static{o(this,"BitcoinNestedSegwitAddressType")}type=We.BitcoinNestedSegwit;displayName="Nested Segwit";defaultDerivationPathType=Ee.BitcoinNestedSegwit;otherDerivationPathType=[]};p();m();var Q5=class{static{o(this,"BitcoinTaprootAddressType")}type=We.BitcoinTaproot;displayName="Taproot";defaultDerivationPathType=Ee.BitcoinTaproot;otherDerivationPathType=[]};p();m();var eR=class{static{o(this,"EVMAddressType")}type=We.EVM;displayName="Ethereum";defaultDerivationPathType=Ee.Bip44Ethereum;otherDerivationPathType=[Ee.Bip44RootEthereum,Ee.Bip44EthereumSecondary,Ee.Bip44EthereumTertiary]};p();m();var tR=class{static{o(this,"SolanaAddressType")}type=We.Solana;displayName="Solana";defaultDerivationPathType=Ee.Bip44ChangeSolana;otherDerivationPathType=[Ee.Bip44RootSolana,Ee.Bip44Solana,Ee.DeprecatedSolana]};p();m();var rR=class{static{o(this,"SuiAddressType")}type=We.Sui;displayName="Sui";defaultDerivationPathType=Ee.Bip44Sui;otherDerivationPathType=[]};var QD=class{static{o(this,"AddressTypesClass")}[We.BitcoinTaproot]=new Q5;[We.BitcoinNativeSegwit]=new Z5;[We.BitcoinNestedSegwit]=new J5;[We.BitcoinLegacy]=new X5;[We.EVM]=new eR;[We.Solana]=new tR;[We.Sui]=new rR;allAddressTypes=Object.values(We);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},Mg=new QD;p();m();function vpe(t){return Buffer.from(t).toString("base64")}o(vpe,"toBase64");p();m();p();m();p();m();p();m();var xpe="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",_f=class t{static{o(this,"ObfuscatedBytes")}#t;#e;constructor(e){let r=e.length,n=KD(r),i=_pe(e,n);this.#e=n,this.#t=i}static from(e){return new t(e)}read=o(e=>{let r=nR(this.#t,this.#e);try{e(r)}finally{this.cleanup(r)}},"read");readAsync=o(async e=>{let r=nR(this.#t,this.#e);try{await e(r)}finally{this.cleanup(r)}},"readAsync");fold=o(e=>{let r=nR(this.#t,this.#e);try{let n=e(r);if(n===r)throw new Error(xpe);return n}finally{this.cleanup(r)}},"fold");foldAsync=o(async e=>{let r=nR(this.#t,this.#e);try{let n=await e(r);if(n===r)throw new Error(xpe);return n}finally{this.cleanup(r)}},"foldAsync");cleanup=o(e=>{let r=KD(e.length),n=_pe(e,r);this.#e=r,this.#t=n,e.fill(0)},"cleanup")},_pe=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"encrypt"),nR=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"decrypt");p();m();var RYe=o(t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),"encodeBase64URL");p();m();p();m();var eU=/^[A-Za-z0-9-_]*$/;var tU=o(t=>{if(!t.match(eU))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")},"decodeBase64URL");p();m();var wpe=et(iu(),1);function TYe(t){let e=tU(t);return wpe.default.encode(e)}o(TYe,"base64URLToBase58");p();m();function IYe(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}o(IYe,"strip0xPrefix");p();m();p();m();p();m();var iR=class{static{o(this,"KeypairGeneratorChainPluginBitcoin")}addressTypes=[We.BitcoinTaproot,We.BitcoinNativeSegwit,We.BitcoinNestedSegwit,We.BitcoinLegacy];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:Yb(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Dl(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};p();m();p();m();p();m();p();m();var Spe=et(aa());p();m();var Epe="properties/5.7.0";var OYe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(g){try{h(n.next(g))}catch(b){a(b)}}o(f,"fulfilled");function l(g){try{h(n.throw(g))}catch(b){a(b)}}o(l,"rejected");function h(g){g.done?s(g.value):i(g.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},oR=new Spe.Logger(Epe);function qt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}o(qt,"defineReadOnly");function OHt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}o(OHt,"getStatic");function th(t){return OYe(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}o(th,"resolveProperties");function Ape(t,e){(!t||typeof t!="object")&&oR.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||oR.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}o(Ape,"checkProperties");function Vw(t){let e={};for(let r in t)e[r]=t[r];return e}o(Vw,"shallowCopy");var NYe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Rpe(t){if(t==null||NYe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Rpe(n))return!1}return!0}return oR.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(Rpe,"_isFrozen");function MYe(t){if(Rpe(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Hw(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&qt(e,r,Hw(n))}return e}return oR.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(MYe,"_deepCopy");function Hw(t){return MYe(t)}o(Hw,"deepCopy");var Y0=class{static{o(this,"Description")}constructor(e){for(let r in e)this[r]=Hw(e[r])}};var Ope=et(aa());p();m();var Tpe="abstract-provider/5.7.0";var CYe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(g){try{h(n.next(g))}catch(b){a(b)}}o(f,"fulfilled");function l(g){try{h(n.throw(g))}catch(b){a(b)}}o(l,"rejected");function h(g){g.done?s(g.value):i(g.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},PYe=new Ope.Logger(Tpe),Ipe=class extends Y0{static{o(this,"ForkEvent")}static isForkEvent(e){return!!(e&&e._isForkEvent)}};var sR=class t{static{o(this,"Provider")}constructor(){PYe.checkAbstract(new.target,t),qt(this,"_isProvider",!0)}getFeeData(){return CYe(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield th({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=mn.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};p();m();var Ul=et(aa());p();m();var Npe="abstract-signer/5.7.0";var Iu=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(g){try{h(n.next(g))}catch(b){a(b)}}o(f,"fulfilled");function l(g){try{h(n.throw(g))}catch(b){a(b)}}o(l,"rejected");function h(g){g.done?s(g.value):i(g.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},wf=new Ul.Logger(Npe),kYe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],BYe=[Ul.Logger.errors.INSUFFICIENT_FUNDS,Ul.Logger.errors.NONCE_EXPIRED,Ul.Logger.errors.REPLACEMENT_UNDERPRICED],jw=class t{static{o(this,"Signer")}constructor(){wf.checkAbstract(new.target,t),qt(this,"_isSigner",!0)}getBalance(e){return Iu(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Iu(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Iu(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield th(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Iu(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield th(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Iu(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Iu(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Iu(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Iu(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Iu(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)kYe.indexOf(n)===-1&&wf.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=Vw(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&wf.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Iu(this,void 0,void 0,function*(){let r=yield th(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Iu(this,void 0,void 0,function*(){if(i==null)return null;let s=yield this.resolveName(i);return s==null&&wf.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?wf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&wf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&wf.throwError("network does not support EIP-1559",Ul.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):wf.throwError("failed to get consistent fee data",Ul.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(BYe.indexOf(i.code)>=0)throw i;return wf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ul.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&wf.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield th(r)})}_checkProvider(e){this.provider||wf.throwError("missing provider",Ul.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},Mpe=class t extends jw{static{o(this,"VoidSigner")}constructor(e,r){super(),qt(this,"address",e),qt(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{wf.throwError(e,Ul.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var Mu=et(Xo());p();m();p();m();p();m();p();m();p();m();var LYe="0x0000000000000000000000000000000000000000";p();m();var DYe=mn.from(-1),rU=mn.from(0),UYe=mn.from(1);var FYe=mn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");p();m();var qYe="0x0000000000000000000000000000000000000000000000000000000000000000";p();m();var nU=et(Xo()),Ppe=et(aa());p();m();var Cpe="strings/5.7.0";var kpe=new Ppe.Logger(Cpe),Ou;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Ou||(Ou={}));var $a;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})($a||($a={}));function HYe(t,e,r,n,i){return kpe.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}o(HYe,"errorFunc");function Bpe(t,e,r,n,i){if(t===$a.BAD_PREFIX||t===$a.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===$a.OVERRUN?r.length-e-1:0}o(Bpe,"ignoreFunc");function VYe(t,e,r,n,i){return t===$a.OVERLONG?(n.push(i),0):(n.push(65533),Bpe(t,e,r,n,i))}o(VYe,"replaceFunc");var Lpe=Object.freeze({error:HYe,ignore:Bpe,replace:VYe});function Dpe(t,e){e==null&&(e=Lpe.error),t=(0,nU.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e($a.UNEXPECTED_CONTINUE,n-1,t,r):n+=e($a.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e($a.OVERRUN,n-1,t,r);continue}let f=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let h=t[n];if((h&192)!=128){n+=e($a.MISSING_CONTINUE,n,t,r),f=null;break}f=f<<6|h&63,n++}if(f!==null){if(f>1114111){n+=e($a.OUT_OF_RANGE,n-1-s,t,r,f);continue}if(f>=55296&&f<=57343){n+=e($a.UTF16_SURROGATE,n-1-s,t,r,f);continue}if(f<=a){n+=e($a.OVERLONG,n-1-s,t,r,f);continue}r.push(f)}}return r}o(Dpe,"getUtf8CodePoints");function Ho(t,e=Ou.current){e!=Ou.current&&(kpe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,nU.arrayify)(r)}o(Ho,"toUtf8Bytes");function jYe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}o(jYe,"_toUtf8String");function Upe(t,e){return jYe(Dpe(t,e))}o(Upe,"toUtf8String");function iU(t,e=Ou.current){return Dpe(Ho(t,e))}o(iU,"toUtf8CodePoints");function Zb(t){return _n(Ho(t))}o(Zb,"id");p();m();var Jb=et(Xo());var Jpe=et(aa());p();m();var aR="hash/5.7.0";p();m();p();m();p();m();p();m();var oU=et(Xo());function sU(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,oU.arrayify)(e)}o(sU,"decode");function zYe(t){t=(0,oU.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}o(zYe,"encode");p();m();function qpe(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=o(function(s,a){n.call(s,function(f){a>0&&Array.isArray(f)?i(f,a-1):r.push(f)})},"flatDeep");return i(t,e),r}o(qpe,"flat");function KYe(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}o(KYe,"fromEntries");function GYe(t){let e=0;function r(){return t[e++]<<8|t[e++]}o(r,"u16");let n=r(),i=1,s=[0,1];for(let V=1;V<n;V++)s.push(i+=r());let a=r(),f=e;e+=a;let l=0,h=0;function g(){return l==0&&(h=h<<8|t[e++],l=8),h>>--l&1}o(g,"read_bit");let b=31,A=Math.pow(2,b),T=A>>>1,O=T>>1,N=A-1,P=0;for(let V=0;V<b;V++)P=P<<1|g();let C=[],D=0,M=A;for(;;){let V=Math.floor(((P-D+1)*i-1)/M),j=0,ee=n;for(;ee-j>1;){let E=j+ee>>>1;V<s[E]?ee=E:j=E}if(j==0)break;C.push(j);let Y=D+Math.floor(M*s[j]/i),te=D+Math.floor(M*s[j+1]/i)-1;for(;!((Y^te)&T);)P=P<<1&N|g(),Y=Y<<1&N,te=te<<1&N|1;for(;Y&~te&O;)P=P&T|P<<1&N>>>1|g(),Y=Y<<1^T,te=(te^T)<<1|T|1;D=Y,M=1+te-Y}let U=n-4;return C.map(V=>{switch(V-U){case 3:return U+65792+(t[f++]<<16|t[f++]<<8|t[f++]);case 2:return U+256+(t[f++]<<8|t[f++]);case 1:return U+t[f++];default:return V-1}})}o(GYe,"decode_arithmetic");function $Ye(t){let e=0;return()=>t[e++]}o($Ye,"read_payload");function Hpe(t){return $Ye(GYe(t))}o(Hpe,"read_compressed_payload");function WYe(t){return t&1?~t>>1:t>>1}o(WYe,"signed");function YYe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}o(YYe,"read_counts");function Fpe(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}o(Fpe,"read_ascending");function XYe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=WYe(e());return r}o(XYe,"read_deltas");function zw(t,e){let r=Fpe(t(),t),n=t(),i=Fpe(n,t),s=YYe(n,t);for(let a=0;a<n;a++)for(let f=0;f<s[a];f++)r.push(i[a]+f);return e?r.map(a=>e[a]):r}o(zw,"read_member_array");function Vpe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(JYe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(QYe(r,t))}return KYe(qpe(e))}o(Vpe,"read_mapped_map");function ZYe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}o(ZYe,"read_zero_terminated_array");function jpe(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)XYe(t,r).forEach((s,a)=>n[a].push(s));return n}o(jpe,"read_transposed");function JYe(t,e){let r=1+e(),n=e(),i=ZYe(e),s=jpe(i.length,1+t,e);return qpe(s.map((a,f)=>{let l=a[0],h=a.slice(1);return Array(i[f]).fill(void 0).map((g,b)=>{let A=b*n;return[l+b*r,h.map(T=>T+A)]})}))}o(JYe,"read_linear_table");function QYe(t,e){let r=1+e();return jpe(r,1+t,e).map(i=>[i[0],i.slice(1)])}o(QYe,"read_replacement_table");function zpe(t){let e=zw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let h=zw(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,g)=>g.set.size-h.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let f=i==1,l=i==2;return{branches:n,valid:s,fe0f:a,save:f,check:l}}}o(zpe,"read_emoji_trie");function Kpe(){return Hpe(sU("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}o(Kpe,"getData");var cR=Kpe(),eXe=new Set(zw(cR)),tXe=new Set(zw(cR)),rXe=Vpe(cR),nXe=zpe(cR),Gpe=45,$pe=95;function Wpe(t){return iU(t)}o(Wpe,"explode_cp");function iXe(t){return t.filter(e=>e!=65039)}o(iXe,"filter_fe0f");function Ype(t){for(let e of t.split(".")){let r=Wpe(e);try{for(let n=r.lastIndexOf($pe)-1;n>=0;n--)if(r[n]!==$pe)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Gpe&&r[3]===Gpe)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}o(Ype,"ens_normalize_post_check");function Xpe(t){return Ype(oXe(t,iXe))}o(Xpe,"ens_normalize");function oXe(t,e){let r=Wpe(t).reverse(),n=[];for(;r.length;){let i=aXe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(eXe.has(s)){n.push(s);continue}if(tXe.has(s))continue;let a=rXe[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Ype(sXe(String.fromCodePoint(...n)))}o(oXe,"normalize");function sXe(t){return t.normalize("NFC")}o(sXe,"nfc");function aXe(t,e){var r;let n=nXe,i,s,a=[],f=t.length;for(e&&(e.length=0);f;){let l=t[--f];if(n=(r=n.branches.find(h=>h.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;a.push(l),n.fe0f&&(a.push(65039),f>0&&t[f-1]==65039&&f--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(f).reverse()),t.length=f)}return i}o(aXe,"consume_emoji_reversed");var cXe=new Jpe.Logger(aR),Qpe=new Uint8Array(32);Qpe.fill(0);function Zpe(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}o(Zpe,"checkComponent");function eme(t){let e=Ho(Xpe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Zpe(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Zpe(e.slice(n))),r}o(eme,"ensNameSplit");function fXe(t){typeof t!="string"&&cXe.throwArgumentError("invalid ENS name; not a string","name",t);let e=Qpe,r=eme(t);for(;r.length;)e=_n((0,Jb.concat)([e,_n(r.pop())]));return(0,Jb.hexlify)(e)}o(fXe,"namehash");function uXe(t){return(0,Jb.hexlify)((0,Jb.concat)(eme(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}o(uXe,"dnsEncode");p();m();var tme=et(Xo());var rme=`Ethereum Signed Message:
`;function aU(t){return typeof t=="string"&&(t=Ho(t)),_n((0,tme.concat)([Ho(rme),Ho(String(t.length)),t]))}o(aU,"hashMessage");p();m();var Di=et(Xo());var sme=et(aa());var lXe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(g){try{h(n.next(g))}catch(b){a(b)}}o(f,"fulfilled");function l(g){try{h(n.throw(g))}catch(b){a(b)}}o(l,"rejected");function h(g){g.done?s(g.value):i(g.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},xi=new sme.Logger(aR),ame=new Uint8Array(32);ame.fill(0);var dXe=mn.from(-1),cme=mn.from(0),fme=mn.from(1),hXe=mn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function pXe(t){let e=(0,Di.arrayify)(t),r=e.length%32;return r?(0,Di.hexConcat)([e,ame.slice(r)]):(0,Di.hexlify)(e)}o(pXe,"hexPadRight");var mXe=(0,Di.hexZeroPad)(fme.toHexString(),32),gXe=(0,Di.hexZeroPad)(cme.toHexString(),32),nme={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},cU=["name","version","chainId","verifyingContract","salt"];function ime(t){return function(e){return typeof e!="string"&&xi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}o(ime,"checkString");var yXe={name:ime("name"),version:ime("version"),chainId:o(function(t){try{return mn.from(t).toString()}catch{}return xi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},"chainId"),verifyingContract:o(function(t){try{return Zo(t).toLowerCase()}catch{}return xi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},"verifyingContract"),salt:o(function(t){try{let e=(0,Di.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Di.hexlify)(e)}catch{}return xi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)},"salt")};function fU(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&xi.throwArgumentError("invalid numeric width","type",t);let i=hXe.mask(r?n-1:n),s=r?i.add(fme).mul(dXe):cme;return function(a){let f=mn.from(a);return(f.lt(s)||f.gt(i))&&xi.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),(0,Di.hexZeroPad)(f.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&xi.throwArgumentError("invalid bytes width","type",t),function(n){return(0,Di.arrayify)(n).length!==r&&xi.throwArgumentError(`invalid length for ${t}`,"value",n),pXe(n)}}}switch(t){case"address":return function(e){return(0,Di.hexZeroPad)(Zo(e),32)};case"bool":return function(e){return e?mXe:gXe};case"bytes":return function(e){return _n(e)};case"string":return function(e){return Zb(e)}}return null}o(fU,"getBaseEncoder");function ome(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}o(ome,"encodeType");var Qb=class t{static{o(this,"TypedDataEncoder")}constructor(e){qt(this,"types",Object.freeze(Hw(e))),qt(this,"_encoderCache",{}),qt(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(f=>{r[f]={},n[f]=[],i[f]={}});for(let f in e){let l={};e[f].forEach(h=>{l[h.name]&&xi.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(f)}`,"types",e),l[h.name]=!0;let g=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];g===f&&xi.throwArgumentError(`circular type reference to ${JSON.stringify(g)}`,"types",e),!fU(g)&&(n[g]||xi.throwArgumentError(`unknown type ${JSON.stringify(g)}`,"types",e),n[g].push(f),r[f][g]=!0)})}let s=Object.keys(n).filter(f=>n[f].length===0);s.length===0?xi.throwArgumentError("missing primary type","types",e):s.length>1&&xi.throwArgumentError(`ambiguous primary types or unused types: ${s.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),qt(this,"primaryType",s[0]);function a(f,l){l[f]&&xi.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),l[f]=!0,Object.keys(r[f]).forEach(h=>{n[h]&&(a(h,l),Object.keys(l).forEach(g=>{i[g][h]=!0}))}),delete l[f]}o(a,"checkCircular"),a(this.primaryType,{});for(let f in i){let l=Object.keys(i[f]);l.sort(),this._types[f]=ome(f,e[f])+l.map(h=>ome(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=fU(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return f=>{a>=0&&f.length!==a&&xi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",f);let l=f.map(s);return this._types[i]&&(l=l.map(_n)),_n((0,Di.hexConcat)(l))}}let n=this.types[e];if(n){let i=Zb(this._types[e]);return s=>{let a=n.map(({name:f,type:l})=>{let h=this.getEncoder(l)(s[f]);return this._types[l]?_n(h):h});return a.unshift(i),(0,Di.hexConcat)(a)}}return xi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||xi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return _n(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(fU(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let a=i[1],f=parseInt(i[3]);return f>=0&&r.length!==f&&xi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(a,l,n))}let s=this.types[e];return s?s.reduce((a,{name:f,type:l})=>(a[f]=this._visit(l,r[f],n),a),{}):xi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=nme[n];i||xi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>cU.indexOf(n.name)-cU.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,Di.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return _n(t.encode(e,r,n))}static resolveNames(e,r,n,i){return lXe(this,void 0,void 0,function*(){e=Vw(e);let s={};e.verifyingContract&&!(0,Di.isHexString)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let a=t.from(r);a.visit(n,(f,l)=>(f==="address"&&!(0,Di.isHexString)(l,20)&&(s[l]="0x"),l));for(let f in s)s[f]=yield i(f);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(f,l)=>f==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},s=[];cU.forEach(l=>{let h=e[l];h!=null&&(i[l]=yXe[l](h),s.push({name:l,type:nme[l]}))});let a=t.from(r),f=Vw(r);return f.EIP712Domain?xi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):f.EIP712Domain=s,a.encode(n),{types:f,domain:i,primaryType:a.primaryType,message:a.visit(n,(l,h)=>{if(l.match(/^bytes(\d*)/))return(0,Di.hexlify)((0,Di.arrayify)(h));if(l.match(/^u?int/))return mn.from(h).toString();switch(l){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&xi.throwArgumentError("invalid string","value",h),h}return xi.throwArgumentError("unsupported type","type",l)})}}};p();m();p();m();var uU=et(Xo());var fR=class{static{o(this,"BaseX")}constructor(e){qt(this,"alphabet",e),qt(this,"base",e.length),qt(this,"_alphabetMap",{}),qt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,uU.arrayify)(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let f=0;f<n.length;++f)a+=n[f]<<8,n[f]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,uU.arrayify)(new Uint8Array(r.reverse()))}},Kjt=new fR("abcdefghijklmnopqrstuvwxyz234567"),lU=new fR("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Xr=et(Xo());p();m();p();m();var X0=et(Xo()),pU=et(hU());function Cg(t,e,r,n,i){t=(0,X0.arrayify)(t),e=(0,X0.arrayify)(e);let s,a=1,f=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let h,g;for(let b=1;b<=a;b++){l[e.length]=b>>24&255,l[e.length+1]=b>>16&255,l[e.length+2]=b>>8&255,l[e.length+3]=b&255;let A=(0,X0.arrayify)((0,pU.computeHmac)(i,t,l));s||(s=A.length,g=new Uint8Array(s),a=Math.ceil(n/s),h=n-(a-1)*s),g.set(A);for(let N=1;N<r;N++){A=(0,X0.arrayify)((0,pU.computeHmac)(i,t,A));for(let P=0;P<s;P++)g[P]^=A[P]}let T=(b-1)*s,O=b===a?h:s;f.set((0,X0.arrayify)(g).slice(0,O),T)}return(0,X0.hexlify)(f)}o(Cg,"pbkdf2");p();m();p();m();var rr=et(s1()),Fl=et(Nb());function ev(t,e,r){return r={path:e,exports:{},require:o(function(n,i){return IXe(n,i??r.path)},"require")},t(r,r.exports),r.exports}o(ev,"createCommonjsModule");function IXe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}o(IXe,"commonjsRequire");var bU=pme;function pme(t,e){if(!t)throw new Error(e||"Assertion failed")}o(pme,"assert");pme.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var Nu=ev(function(t,e){"use strict";var r=e;function n(a,f){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)l[h]=a[h]|0;return l}if(f==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)l.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var g=a.charCodeAt(h),b=g>>8,A=g&255;b?l.push(b,A):l.push(A)}return l}o(n,"toArray"),r.toArray=n;function i(a){return a.length===1?"0"+a:a}o(i,"zero2"),r.zero2=i;function s(a){for(var f="",l=0;l<a.length;l++)f+=i(a[l].toString(16));return f}o(s,"toHex"),r.toHex=s,r.encode=o(function(f,l){return l==="hex"?s(f):f},"encode")}),Oc=ev(function(t,e){"use strict";var r=e;r.assert=bU,r.toArray=Nu.toArray,r.zero2=Nu.zero2,r.toHex=Nu.toHex,r.encode=Nu.encode;function n(l,h,g){var b=new Array(Math.max(l.bitLength(),g)+1);b.fill(0);for(var A=1<<h+1,T=l.clone(),O=0;O<b.length;O++){var N,P=T.andln(A-1);T.isOdd()?(P>(A>>1)-1?N=(A>>1)-P:N=P,T.isubn(N)):N=0,b[O]=N,T.iushrn(1)}return b}o(n,"getNAF"),r.getNAF=n;function i(l,h){var g=[[],[]];l=l.clone(),h=h.clone();for(var b=0,A=0,T;l.cmpn(-b)>0||h.cmpn(-A)>0;){var O=l.andln(3)+b&3,N=h.andln(3)+A&3;O===3&&(O=-1),N===3&&(N=-1);var P;O&1?(T=l.andln(7)+b&7,(T===3||T===5)&&N===2?P=-O:P=O):P=0,g[0].push(P);var C;N&1?(T=h.andln(7)+A&7,(T===3||T===5)&&O===2?C=-N:C=N):C=0,g[1].push(C),2*b===P+1&&(b=1-b),2*A===C+1&&(A=1-A),l.iushrn(1),h.iushrn(1)}return g}o(i,"getJSF"),r.getJSF=i;function s(l,h,g){var b="_"+h;l.prototype[h]=o(function(){return this[b]!==void 0?this[b]:this[b]=g.call(this)},"cachedProperty")}o(s,"cachedProperty"),r.cachedProperty=s;function a(l){return typeof l=="string"?r.toArray(l,"hex"):l}o(a,"parseBytes"),r.parseBytes=a;function f(l){return new rr.default(l,"hex","le")}o(f,"intFromLE"),r.intFromLE=f}),pR=Oc.getNAF,OXe=Oc.getJSF,mR=Oc.assert;function J0(t,e){this.type=t,this.p=new rr.default(e.p,16),this.red=e.prime?rr.default.red(e.prime):rr.default.mont(this.p),this.zero=new rr.default(0).toRed(this.red),this.one=new rr.default(1).toRed(this.red),this.two=new rr.default(2).toRed(this.red),this.n=e.n&&new rr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(J0,"BaseCurve");var Pg=J0;J0.prototype.point=o(function(){throw new Error("Not implemented")},"point");J0.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");J0.prototype._fixedNafMul=o(function(e,r){mR(e.precomputed);var n=e._getDoubles(),i=pR(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var h=f+n.step-1;h>=f;h--)l=(l<<1)+i[h];a.push(l)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),A=s;A>0;A--){for(f=0;f<a.length;f++)l=a[f],l===A?b=b.mixedAdd(n.points[f]):l===-A&&(b=b.mixedAdd(n.points[f].neg()));g=g.add(b)}return g.toP()},"_fixedNafMul");J0.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=pR(r,n,this._bitLength),f=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,f=f.dblp(h),l<0)break;var g=a[l];mR(g!==0),e.type==="affine"?g>0?f=f.mixedAdd(s[g-1>>1]):f=f.mixedAdd(s[-g-1>>1].neg()):g>0?f=f.add(s[g-1>>1]):f=f.add(s[-g-1>>1].neg())}return e.type==="affine"?f.toP():f},"_wnafMul");J0.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,f=this._wnafT2,l=this._wnafT3,h=0,g,b,A;for(g=0;g<i;g++){A=r[g];var T=A._getNAFPoints(e);a[g]=T.wnd,f[g]=T.points}for(g=i-1;g>=1;g-=2){var O=g-1,N=g;if(a[O]!==1||a[N]!==1){l[O]=pR(n[O],a[O],this._bitLength),l[N]=pR(n[N],a[N],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[N].length,h);continue}var P=[r[O],null,null,r[N]];r[O].y.cmp(r[N].y)===0?(P[1]=r[O].add(r[N]),P[2]=r[O].toJ().mixedAdd(r[N].neg())):r[O].y.cmp(r[N].y.redNeg())===0?(P[1]=r[O].toJ().mixedAdd(r[N]),P[2]=r[O].add(r[N].neg())):(P[1]=r[O].toJ().mixedAdd(r[N]),P[2]=r[O].toJ().mixedAdd(r[N].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],D=OXe(n[O],n[N]);for(h=Math.max(D[0].length,h),l[O]=new Array(h),l[N]=new Array(h),b=0;b<h;b++){var M=D[0][b]|0,U=D[1][b]|0;l[O][b]=C[(M+1)*3+(U+1)],l[N][b]=0,f[O]=P}}var V=this.jpoint(null,null,null),j=this._wnafT4;for(g=h;g>=0;g--){for(var ee=0;g>=0;){var Y=!0;for(b=0;b<i;b++)j[b]=l[b][g]|0,j[b]!==0&&(Y=!1);if(!Y)break;ee++,g--}if(g>=0&&ee++,V=V.dblp(ee),g<0)break;for(b=0;b<i;b++){var te=j[b];te!==0&&(te>0?A=f[b][te-1>>1]:te<0&&(A=f[b][-te-1>>1].neg()),A.type==="affine"?V=V.mixedAdd(A):V=V.add(A))}}for(g=0;g<i;g++)f[g]=null;return s?V:V.toP()},"_wnafMulAdd");function Rf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(Rf,"BasePoint");J0.BasePoint=Rf;Rf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");Rf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");J0.prototype.decodePoint=o(function(e,r){e=Oc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?mR(e[e.length-1]%2===0):e[0]===7&&mR(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");Rf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");Rf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Rf.prototype.encode=o(function(e,r){return Oc.encode(this._encode(r),e)},"encode");Rf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Rf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");Rf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");Rf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");Rf.prototype._getBeta=o(function(){return null},"_getBeta");Rf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp");var vU=ev(function(t){typeof Object.create=="function"?t.exports=o(function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):t.exports=o(function(r,n){if(n){r.super_=n;var i=o(function(){},"TempCtor");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},"inherits")}),NXe=Oc.assert;function Tf(t){Pg.call(this,"short",t),this.a=new rr.default(t.a,16).toRed(this.red),this.b=new rr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Tf,"ShortCurve");vU(Tf,Pg);var MXe=Tf;Tf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new rr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new rr.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],NXe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new rr.default(f.a,16),b:new rr.default(f.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Tf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:rr.default.mont(e),n=new rr.default(2).toRed(r).redInvm(),i=n.redNeg(),s=new rr.default(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[a,f]},"_getEndoRoots");Tf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new rr.default(1),a=new rr.default(0),f=new rr.default(0),l=new rr.default(1),h,g,b,A,T,O,N,P=0,C,D;n.cmpn(0)!==0;){var M=i.div(n);C=i.sub(M.mul(n)),D=f.sub(M.mul(s));var U=l.sub(M.mul(a));if(!b&&C.cmp(r)<0)h=N.neg(),g=s,b=C.neg(),A=D;else if(b&&++P===2)break;N=C,i=n,n=C,f=s,s=D,l=a,a=U}T=C.neg(),O=D;var V=b.sqr().add(A.sqr()),j=T.sqr().add(O.sqr());return j.cmp(V)>=0&&(T=h,O=g),b.negative&&(b=b.neg(),A=A.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:b,b:A},{a:T,b:O}]},"_getEndoBasis");Tf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),g=a.mul(i.b),b=e.sub(f).sub(l),A=h.add(g).neg();return{k1:b,k2:A}},"_endoSplit");Tf.prototype.pointFromX=o(function(e,r){e=new rr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Tf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Tf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(r[a]),l=e[a],h=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var g=this._wnafMulAdd(1,i,s,a*2,n),b=0;b<a*2;b++)i[b]=null,s[b]=null;return g},"_endoWnafMulAdd");function Vo(t,e,r,n){Pg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Vo,"Point");vU(Vo,Pg.BasePoint);Tf.prototype.point=o(function(e,r,n){return new Vo(this,e,r,n)},"point");Tf.prototype.pointFromJSON=o(function(e,r){return Vo.fromJSON(this,e,r)},"pointFromJSON");Vo.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Vo.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Vo.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(f){return e.point(f[0],f[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Vo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Vo.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Vo.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Vo.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},"dbl");Vo.prototype.getX=o(function(){return this.x.fromRed()},"getX");Vo.prototype.getY=o(function(){return this.y.fromRed()},"getY");Vo.prototype.mul=o(function(e){return e=new rr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Vo.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Vo.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Vo.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Vo.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Vo.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function cs(t,e,r,n){Pg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rr.default(0)):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),this.z=new rr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(cs,"JPoint");vU(cs,Pg.BasePoint);Tf.prototype.jpoint=o(function(e,r,n){return new cs(this,e,r,n)},"jpoint");cs.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");cs.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");cs.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(f);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=l.redSqr(),b=g.redMul(l),A=i.redMul(g),T=h.redSqr().redIAdd(b).redISub(A).redISub(A),O=h.redMul(A.redISub(T)).redISub(a.redMul(b)),N=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,O,N)},"add");cs.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=s.redSub(a);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),g=h.redMul(f),b=n.redMul(h),A=l.redSqr().redIAdd(g).redISub(b).redISub(b),T=l.redMul(b.redISub(A)).redISub(s.redMul(g)),O=this.z.redMul(f);return this.curve.jpoint(A,T,O)},"mixedAdd");cs.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,l=this.z,h=l.redSqr().redSqr(),g=f.redAdd(f);for(r=0;r<e;r++){var b=a.redSqr(),A=g.redSqr(),T=A.redSqr(),O=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(h)),N=a.redMul(A),P=O.redSqr().redISub(N.redAdd(N)),C=N.redISub(P),D=O.redMul(C);D=D.redIAdd(D).redISub(T);var M=g.redMul(l);r+1<e&&(h=h.redMul(T)),a=P,l=M,g=D}return this.curve.jpoint(a,g.redMul(s),l)},"dblp");cs.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");cs.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(f).redISub(f),g=a.redIAdd(a);g=g.redIAdd(g),g=g.redIAdd(g),e=h,r=l.redMul(f.redISub(h)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),A=this.y.redSqr(),T=A.redSqr(),O=this.x.redAdd(A).redSqr().redISub(b).redISub(T);O=O.redIAdd(O);var N=b.redAdd(b).redIAdd(b),P=N.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(O).redISub(O),r=N.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");cs.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(f).redISub(f);e=h;var g=a.redIAdd(a);g=g.redIAdd(g),g=g.redIAdd(g),r=l.redMul(f.redISub(h)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),A=this.y.redSqr(),T=this.x.redMul(A),O=this.x.redSub(b).redMul(this.x.redAdd(b));O=O.redAdd(O).redIAdd(O);var N=T.redIAdd(T);N=N.redIAdd(N);var P=N.redAdd(N);e=O.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(b);var C=A.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(N.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");cs.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),f=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var g=h.redMul(f),b=l.redSqr().redISub(g.redAdd(g)),A=g.redISub(b),T=f.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=l.redMul(A).redISub(T),N=n.redAdd(n).redMul(i);return this.curve.jpoint(b,O,N)},"_dbl");cs.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var l=f.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=s.redIAdd(f).redSqr().redISub(a).redISub(l).redISub(h),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var A=this.x.redMul(l).redISub(b);A=A.redIAdd(A),A=A.redIAdd(A);var T=this.y.redMul(g.redMul(h.redISub(g)).redISub(f.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(A,T,O)},"trpl");cs.prototype.mul=o(function(e,r){return e=new rr.default(e,r),this.curve._wnafMul(this,e)},"mul");cs.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");cs.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");cs.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");cs.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");var dR=ev(function(t,e){"use strict";var r=e;r.base=Pg,r.short=MXe,r.mont=null,r.edwards=null}),hR=ev(function(t,e){"use strict";var r=e,n=Oc.assert;function i(f){f.type==="short"?this.curve=new dR.short(f):f.type==="edwards"?this.curve=new dR.edwards(f):this.curve=new dR.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(i,"PresetCurve"),r.PresetCurve=i;function s(f,l){Object.defineProperty(r,f,{configurable:!0,enumerable:!0,get:o(function(){var h=new i(l);return Object.defineProperty(r,f,{configurable:!0,enumerable:!0,value:h}),h},"get")})}o(s,"defineCurve"),s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Fl.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Fl.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Fl.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Fl.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Fl.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Fl.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Fl.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Fl.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Z0(t){if(!(this instanceof Z0))return new Z0(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Nu.toArray(t.entropy,t.entropyEnc||"hex"),r=Nu.toArray(t.nonce,t.nonceEnc||"hex"),n=Nu.toArray(t.pers,t.persEnc||"hex");bU(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(Z0,"HmacDRBG");var mme=Z0;Z0.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");Z0.prototype._hmac=o(function(){return new Fl.default.hmac(this.hash,this.K)},"hmac");Z0.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");Z0.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Nu.toArray(e,r),n=Nu.toArray(n,i),bU(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");Z0.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Nu.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Nu.encode(a,r)},"generate");var yU=Oc.assert;function zs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(zs,"KeyPair");var xU=zs;zs.fromPublic=o(function(e,r,n){return r instanceof zs?r:new zs(e,{pub:r,pubEnc:n})},"fromPublic");zs.fromPrivate=o(function(e,r,n){return r instanceof zs?r:new zs(e,{priv:r,privEnc:n})},"fromPrivate");zs.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");zs.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");zs.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");zs.prototype._importPrivate=o(function(e,r){this.priv=new rr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");zs.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?yU(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yU(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");zs.prototype.derive=o(function(e){return e.validate()||yU(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");zs.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");zs.prototype.verify=o(function(e,r){return this.ec.verify(e,r,this)},"verify");zs.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect");var CXe=Oc.assert;function gR(t,e){if(t instanceof gR)return t;this._importDER(t,e)||(CXe(t.r&&t.s,"Signature without r or s"),this.r=new rr.default(t.r,16),this.s=new rr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(gR,"Signature");var yR=gR;function PXe(){this.place=0}o(PXe,"Position");function mU(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(mU,"getLength");function hme(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(hme,"rmPadding");gR.prototype._importDER=o(function(e,r){e=Oc.toArray(e,r);var n=new PXe;if(e[n.place++]!==48)return!1;var i=mU(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=mU(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=mU(e,n);if(f===!1||e.length!==f+n.place)return!1;var l=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new rr.default(a),this.s=new rr.default(l),this.recoveryParam=null,!0},"_importDER");function gU(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(gU,"constructLength");gR.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=hme(r),n=hme(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];gU(i,r.length),i=i.concat(r),i.push(2),gU(i,n.length);var s=i.concat(n),a=[48];return gU(a,s.length),a=a.concat(s),Oc.encode(a,e)},"toDER");var kXe=o(function(){throw new Error("unsupported")},"rand"),gme=Oc.assert;function Af(t){if(!(this instanceof Af))return new Af(t);typeof t=="string"&&(gme(Object.prototype.hasOwnProperty.call(hR,t),"Unknown curve "+t),t=hR[t]),t instanceof hR.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Af,"EC");var BXe=Af;Af.prototype.keyPair=o(function(e){return new xU(this,e)},"keyPair");Af.prototype.keyFromPrivate=o(function(e,r){return xU.fromPrivate(this,e,r)},"keyFromPrivate");Af.prototype.keyFromPublic=o(function(e,r){return xU.fromPublic(this,e,r)},"keyFromPublic");Af.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new mme({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||kXe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new rr.default(2));;){var s=new rr.default(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Af.prototype._truncateToN=o(function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Af.prototype.sign=o(function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new rr.default(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),f=e.toArray("be",s),l=new mme({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new rr.default(1)),g=0;;g++){var b=i.k?i.k(g):new rr.default(l.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(h)>=0)){var A=this.g.mul(b);if(!A.isInfinity()){var T=A.getX(),O=T.umod(this.n);if(O.cmpn(0)!==0){var N=b.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var P=(A.getY().isOdd()?1:0)|(T.cmp(O)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),P^=1),new yR({r:O,s:N,recoveryParam:P})}}}}}},"sign");Af.prototype.verify=o(function(e,r,n,i){e=this._truncateToN(new rr.default(e,16)),n=this.keyFromPublic(n,i),r=new yR(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),l=f.mul(e).umod(this.n),h=f.mul(s).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(l,n.getPublic(),h),g.isInfinity()?!1:g.eqXToP(s)):(g=this.g.mulAdd(l,n.getPublic(),h),g.isInfinity()?!1:g.getX().umod(this.n).cmp(s)===0)},"verify");Af.prototype.recoverPubKey=function(t,e,r,n){gme((3&r)===r,"The recovery param is more than two bits"),e=new yR(e,n);var i=this.n,s=new rr.default(t),a=e.r,f=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var g=e.r.invm(i),b=i.sub(s).mul(g).umod(i),A=f.mul(g).umod(i);return this.g.mulAdd(b,a,A)};Af.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new yR(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var LXe=ev(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Oc,r.rand=function(){throw new Error("unsupported")},r.curve=dR,r.curves=hR,r.ec=BXe,r.eddsa=null}),yme=LXe.ec;var ti=et(Xo());var vme=et(aa());p();m();var bme="signing-key/5.7.0";var wU=new vme.Logger(bme),_U=null;function ql(){return _U||(_U=new yme("secp256k1")),_U}o(ql,"getCurve");var Hl=class{static{o(this,"SigningKey")}constructor(e){qt(this,"curve","secp256k1"),qt(this,"privateKey",(0,ti.hexlify)(e)),(0,ti.hexDataLength)(this.privateKey)!==32&&wU.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=ql().keyFromPrivate((0,ti.arrayify)(this.privateKey));qt(this,"publicKey","0x"+r.getPublic(!1,"hex")),qt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),qt(this,"_isSigningKey",!0)}_addPoint(e){let r=ql().keyFromPublic((0,ti.arrayify)(this.publicKey)),n=ql().keyFromPublic((0,ti.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=ql().keyFromPrivate((0,ti.arrayify)(this.privateKey)),n=(0,ti.arrayify)(e);n.length!==32&&wU.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,ti.splitSignature)({recoveryParam:i.recoveryParam,r:(0,ti.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,ti.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=ql().keyFromPrivate((0,ti.arrayify)(this.privateKey)),n=ql().keyFromPublic((0,ti.arrayify)(EU(e)));return(0,ti.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function xme(t,e){let r=(0,ti.splitSignature)(e),n={r:(0,ti.arrayify)(r.r),s:(0,ti.arrayify)(r.s)};return"0x"+ql().recoverPubKey((0,ti.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}o(xme,"recoverPublicKey");function EU(t,e){let r=(0,ti.arrayify)(t);if(r.length===32){let n=new Hl(r);return e?"0x"+ql().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,ti.hexlify)(r):"0x"+ql().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+ql().keyFromPublic(r).getPublic(!0,"hex"):(0,ti.hexlify)(r)}return wU.throwArgumentError("invalid public or private key","key","[REDACTED]")}o(EU,"computePublicKey");var Wa=et(hU());p();m();var er=et(Xo());var bR=et(aa());p();m();var _me="transactions/5.7.0";var Gs=new bR.Logger(_me),wme;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(wme||(wme={}));function AU(t){return t==="0x"?null:Zo(t)}o(AU,"handleAddress");function Ks(t){return t==="0x"?rU:mn.from(t)}o(Ks,"handleNumber");var DXe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],UXe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Vl(t){let e=EU(t);return Zo((0,er.hexDataSlice)(_n((0,er.hexDataSlice)(e,1)),12))}o(Vl,"computeAddress");function RU(t,e){return Vl(xme((0,er.arrayify)(t),e))}o(RU,"recoverAddress");function Nc(t,e){let r=(0,er.stripZeros)(mn.from(t).toHexString());return r.length>32&&Gs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}o(Nc,"formatNumber");function SU(t,e){return{address:Zo(t),storageKeys:(e||[]).map((r,n)=>((0,er.hexDataLength)(r)!==32&&Gs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}o(SU,"accessSetify");function TU(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Gs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),SU(r[0],r[1])):SU(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return SU(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}o(TU,"accessListify");function Eme(t){return TU(t).map(e=>[e.address,e.storageKeys])}o(Eme,"formatAccessList");function Sme(t,e){if(t.gasPrice!=null){let n=mn.from(t.gasPrice),i=mn.from(t.maxFeePerGas||0);n.eq(i)||Gs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[Nc(t.chainId||0,"chainId"),Nc(t.nonce||0,"nonce"),Nc(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Nc(t.maxFeePerGas||0,"maxFeePerGas"),Nc(t.gasLimit||0,"gasLimit"),t.to!=null?Zo(t.to):"0x",Nc(t.value||0,"value"),t.data||"0x",Eme(t.accessList||[])];if(e){let n=(0,er.splitSignature)(e);r.push(Nc(n.recoveryParam,"recoveryParam")),r.push((0,er.stripZeros)(n.r)),r.push((0,er.stripZeros)(n.s))}return(0,er.hexConcat)(["0x02",a1(r)])}o(Sme,"_serializeEip1559");function Ame(t,e){let r=[Nc(t.chainId||0,"chainId"),Nc(t.nonce||0,"nonce"),Nc(t.gasPrice||0,"gasPrice"),Nc(t.gasLimit||0,"gasLimit"),t.to!=null?Zo(t.to):"0x",Nc(t.value||0,"value"),t.data||"0x",Eme(t.accessList||[])];if(e){let n=(0,er.splitSignature)(e);r.push(Nc(n.recoveryParam,"recoveryParam")),r.push((0,er.stripZeros)(n.r)),r.push((0,er.stripZeros)(n.s))}return(0,er.hexConcat)(["0x01",a1(r)])}o(Ame,"_serializeEip2930");function FXe(t,e){Ape(t,UXe);let r=[];DXe.forEach(function(a){let f=t[a.name]||[],l={};a.numeric&&(l.hexPad="left"),f=(0,er.arrayify)((0,er.hexlify)(f,l)),a.length&&f.length!==a.length&&f.length>0&&Gs.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,f),a.maxLength&&(f=(0,er.stripZeros)(f),f.length>a.maxLength&&Gs.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,f)),r.push((0,er.hexlify)(f))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Gs.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,er.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,er.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return a1(r);let i=(0,er.splitSignature)(e),s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Gs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Gs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,er.hexlify)(s)),r.push((0,er.stripZeros)((0,er.arrayify)(i.r))),r.push((0,er.stripZeros)((0,er.arrayify)(i.s))),a1(r)}o(FXe,"_serialize");function IU(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Gs.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),FXe(t,e);switch(t.type){case 1:return Ame(t,e);case 2:return Sme(t,e);default:break}return Gs.throwError(`unsupported transaction type: ${t.type}`,bR.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}o(IU,"serialize");function Rme(t,e,r){try{let n=Ks(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Gs.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,er.hexZeroPad)(e[1],32),t.s=(0,er.hexZeroPad)(e[2],32);try{let n=_n(r(t));t.from=RU(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}o(Rme,"_parseEipSignature");function qXe(t){let e=zA(t.slice(1));e.length!==9&&e.length!==12&&Gs.throwArgumentError("invalid component count for transaction type: 2","payload",(0,er.hexlify)(t));let r=Ks(e[2]),n=Ks(e[3]),i={type:2,chainId:Ks(e[0]).toNumber(),nonce:Ks(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ks(e[4]),to:AU(e[5]),value:Ks(e[6]),data:e[7],accessList:TU(e[8])};return e.length===9||(i.hash=_n(t),Rme(i,e.slice(9),Sme)),i}o(qXe,"_parseEip1559");function HXe(t){let e=zA(t.slice(1));e.length!==8&&e.length!==11&&Gs.throwArgumentError("invalid component count for transaction type: 1","payload",(0,er.hexlify)(t));let r={type:1,chainId:Ks(e[0]).toNumber(),nonce:Ks(e[1]).toNumber(),gasPrice:Ks(e[2]),gasLimit:Ks(e[3]),to:AU(e[4]),value:Ks(e[5]),data:e[6],accessList:TU(e[7])};return e.length===8||(r.hash=_n(t),Rme(r,e.slice(8),Ame)),r}o(HXe,"_parseEip2930");function VXe(t){let e=zA(t);e.length!==9&&e.length!==6&&Gs.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:Ks(e[0]).toNumber(),gasPrice:Ks(e[1]),gasLimit:Ks(e[2]),to:AU(e[3]),value:Ks(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=mn.from(e[6]).toNumber()}catch{return r}if(r.r=(0,er.hexZeroPad)(e[7],32),r.s=(0,er.hexZeroPad)(e[8],32),mn.from(r.r).isZero()&&mn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,er.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let s=_n(a1(i));try{r.from=RU(s,{r:(0,er.hexlify)(r.r),s:(0,er.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=_n(t)}return r.type=null,r}o(VXe,"_parse");function jzt(t){let e=(0,er.arrayify)(t);if(e[0]>127)return VXe(e);switch(e[0]){case 1:return HXe(e);case 2:return qXe(e);default:break}return Gs.throwError(`unsupported transaction type: ${e[0]}`,bR.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}o(jzt,"parse");p();m();p();m();var Ime=et(aa());p();m();var Tme="wordlists/5.7.0";var jXe=!1,zXe=new Ime.Logger(Tme),tv=class t{static{o(this,"Wordlist")}constructor(e){zXe.checkAbstract(new.target,t),qt(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Zb(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),jXe)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||qt(n._ethers.wordlists,r,e))}catch{}}};p();m();p();m();var KXe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",Ww=null;function Ome(t){if(Ww==null&&(Ww=KXe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),tv.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ww=null,new Error("BIP39 Wordlist for en (English) FAILED")}o(Ome,"loadWords");var OU=class extends tv{static{o(this,"LangEn")}constructor(){super("en")}getWord(e){return Ome(this),Ww[e]}getWordIndex(e){return Ome(this),Ww.indexOf(e)}},NU=new OU;tv.register(NU);var vR={en:NU};var Cme=et(aa());p();m();var Nme="hdnode/5.7.0";var _R=new Cme.Logger(Nme),GXe=mn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$Xe=Ho("Bitcoin seed"),Yw=2147483648;function Pme(t){return(1<<t)-1<<8-t}o(Pme,"getUpperMask");function WXe(t){return(1<<t)-1}o(WXe,"getLowerMask");function xR(t){return(0,Xr.hexZeroPad)((0,Xr.hexlify)(t),32)}o(xR,"bytes32");function Mme(t){return lU.encode((0,Xr.concat)([t,(0,Xr.hexDataSlice)((0,Wa.sha256)((0,Wa.sha256)(t)),0,4)]))}o(Mme,"base58check");function MU(t){if(t==null)return vR.en;if(typeof t=="string"){let e=vR[t];return e==null&&_R.throwArgumentError("unknown locale","wordlist",t),e}return t}o(MU,"getWordlist");var rv={},kg="m/44'/60'/0'/0/0",Q0=class t{static{o(this,"HDNode")}constructor(e,r,n,i,s,a,f,l){if(e!==rv)throw new Error("HDNode constructor cannot be called directly");if(r){let h=new Hl(r);qt(this,"privateKey",h.privateKey),qt(this,"publicKey",h.compressedPublicKey)}else qt(this,"privateKey",null),qt(this,"publicKey",(0,Xr.hexlify)(n));qt(this,"parentFingerprint",i),qt(this,"fingerprint",(0,Xr.hexDataSlice)((0,Wa.ripemd160)((0,Wa.sha256)(this.publicKey)),0,4)),qt(this,"address",Vl(this.publicKey)),qt(this,"chainCode",s),qt(this,"index",a),qt(this,"depth",f),l==null?(qt(this,"mnemonic",null),qt(this,"path",null)):typeof l=="string"?(qt(this,"mnemonic",null),qt(this,"path",l)):(qt(this,"mnemonic",l),qt(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Mme((0,Xr.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,Xr.hexlify)(this.depth),this.parentFingerprint,(0,Xr.hexZeroPad)((0,Xr.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,Xr.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(rv,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Yw));let n=new Uint8Array(37);if(e&Yw){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,Xr.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,Xr.arrayify)(this.publicKey));for(let b=24;b>=0;b-=8)n[33+(b>>3)]=e>>24-b&255;let i=(0,Xr.arrayify)((0,Wa.computeHmac)(Wa.SupportedAlgorithm.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32),f=null,l=null;this.privateKey?f=xR(mn.from(s).add(this.privateKey).mod(GXe)):l=new Hl((0,Xr.hexlify)(s))._addPoint(this.publicKey);let h=r,g=this.mnemonic;return g&&(h=Object.freeze({phrase:g.phrase,path:r,locale:g.locale||"en"})),new t(rv,f,l,this.fingerprint,xR(a),e,this.depth+1,h)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let s=r[i];if(s.match(/^[0-9]+'$/)){let a=parseInt(s.substring(0,s.length-1));if(a>=Yw)throw new Error("invalid path index - "+s);n=n._derive(Yw+a)}else if(s.match(/^[0-9]+$/)){let a=parseInt(s);if(a>=Yw)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){let n=(0,Xr.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,Xr.arrayify)((0,Wa.computeHmac)(Wa.SupportedAlgorithm.sha512,$Xe,n));return new t(rv,xR(i.slice(0,32)),null,"0x00000000",xR(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=MU(n),e=Xw(CU(e,n),n),t._fromSeed(YXe(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=lU.decode(e);(r.length!==82||Mme(r.slice(0,78))!==e)&&_R.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,Xr.hexlify)(r.slice(5,9)),s=parseInt((0,Xr.hexlify)(r.slice(9,13)).substring(2),16),a=(0,Xr.hexlify)(r.slice(13,45)),f=r.slice(45,78);switch((0,Xr.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(rv,null,(0,Xr.hexlify)(f),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new t(rv,(0,Xr.hexlify)(f.slice(1)),null,i,a,s,n,null)}return _R.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function YXe(t,e){e||(e="");let r=Ho("mnemonic"+e,Ou.NFKD);return Cg(Ho(t,Ou.NFKD),r,2048,64,"sha512")}o(YXe,"mnemonicToSeed");function CU(t,e){e=MU(e),_R.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,Xr.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let h=0;h<r.length;h++){let g=e.getWordIndex(r[h].normalize("NFKD"));if(g===-1)throw new Error("invalid mnemonic");for(let b=0;b<11;b++)g&1<<10-b&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,a=r.length/3,f=Pme(a);if(((0,Xr.arrayify)((0,Wa.sha256)(n.slice(0,s/8)))[0]&f)!==(n[n.length-1]&f))throw new Error("invalid checksum");return(0,Xr.hexlify)(n.slice(0,s/8))}o(CU,"mnemonicToEntropy");function Xw(t,e){if(e=MU(e),t=(0,Xr.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&WXe(8-n)),n+=3);let i=t.length/4,s=(0,Xr.arrayify)((0,Wa.sha256)(t))[0]&Pme(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}o(Xw,"entropyToMnemonic");p();m();p();m();var Lme=et(Xo()),kU=et(aa());p();m();var kme="random/5.7.0";var PU=new kU.Logger(kme);function XXe(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}o(XXe,"getGlobal");var Bme=XXe(),wR=Bme.crypto||Bme.msCrypto;(!wR||!wR.getRandomValues)&&(PU.warn("WARNING: Missing strong random number source"),wR={getRandomValues:o(function(t){return PU.throwError("no secure random source avaialble",kU.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})},"getRandomValues")});function ep(t){(t<=0||t>1024||t%1||t!=t)&&PU.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return wR.getRandomValues(e),(0,Lme.arrayify)(e)}o(ep,"randomBytes");p();m();p();m();var DU=et(LU());var UU=et(Xo());var Fme=et(aa());p();m();var ER="json-wallets/5.7.0";p();m();var nv=et(Xo());function rh(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,nv.arrayify)(t)}o(rh,"looseArrayify");function iv(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}o(iv,"zpad");function Zw(t){return typeof t=="string"?Ho(t,Ou.NFKC):(0,nv.arrayify)(t)}o(Zw,"getPassword");function _i(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(let a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}o(_i,"searchPath");function Ume(t){let e=(0,nv.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,nv.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}o(Ume,"uuidV4");var ZXe=new Fme.Logger(ER),FU=class extends Y0{static{o(this,"CrowdsaleAccount")}isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function qU(t,e){let r=JSON.parse(t);e=Zw(e);let n=Zo(_i(r,"ethaddr")),i=rh(_i(r,"encseed"));(!i||i.length%16!==0)&&ZXe.throwArgumentError("invalid encseed","json",t);let s=(0,UU.arrayify)(Cg(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),f=i.slice(16),l=new DU.default.ModeOfOperation.cbc(s,a),h=DU.default.padding.pkcs7.strip((0,UU.arrayify)(l.decrypt(f))),g="";for(let T=0;T<h.length;T++)g+=String.fromCharCode(h[T]);let b=Ho(g),A=_n(b);return new FU({_isCrowdsaleAccount:!0,address:n,privateKey:A})}o(qU,"decrypt");p();m();function HU(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}o(HU,"isCrowdsaleWallet");function VU(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}o(VU,"isKeystoreWallet");p();m();var nh=et(LU()),AR=et(Hme());var wi=et(Xo());var SR=et(aa());var JXe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(g){try{h(n.next(g))}catch(b){a(b)}}o(f,"fulfilled");function l(g){try{h(n.throw(g))}catch(b){a(b)}}o(l,"rejected");function h(g){g.done?s(g.value):i(g.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},zU=new SR.Logger(ER);function Vme(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}o(Vme,"hasMnemonic");var KU=class extends Y0{static{o(this,"KeystoreAccount")}isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function QXe(t,e,r){if(_i(t,"crypto/cipher")==="aes-128-ctr"){let i=rh(_i(t,"crypto/cipherparams/iv")),s=new nh.default.Counter(i),a=new nh.default.ModeOfOperation.ctr(e,s);return(0,wi.arrayify)(a.decrypt(r))}return null}o(QXe,"_decrypt");function jme(t,e){let r=rh(_i(t,"crypto/ciphertext"));if((0,wi.hexlify)(_n((0,wi.concat)([e.slice(16,32),r]))).substring(2)!==_i(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=QXe(t,e.slice(0,16),r);i||zU.throwError("unsupported cipher",SR.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=e.slice(32,64),a=Vl(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),Zo(l)!==a)throw new Error("address mismatch")}let f={_isKeystoreAccount:!0,address:a,privateKey:(0,wi.hexlify)(i)};if(_i(t,"x-ethers/version")==="0.1"){let l=rh(_i(t,"x-ethers/mnemonicCiphertext")),h=rh(_i(t,"x-ethers/mnemonicCounter")),g=new nh.default.Counter(h),b=new nh.default.ModeOfOperation.ctr(s,g),A=_i(t,"x-ethers/path")||kg,T=_i(t,"x-ethers/locale")||"en",O=(0,wi.arrayify)(b.decrypt(l));try{let N=Xw(O,T),P=Q0.fromMnemonic(N,null,T).derivePath(A);if(P.privateKey!=f.privateKey)throw new Error("mnemonic mismatch");f.mnemonic=P.mnemonic}catch(N){if(N.code!==SR.Logger.errors.INVALID_ARGUMENT||N.argument!=="wordlist")throw N}}return new KU(f)}o(jme,"_getAccount");function zme(t,e,r,n,i){return(0,wi.arrayify)(Cg(t,e,r,n,i))}o(zme,"pbkdf2Sync");function eZe(t,e,r,n,i){return Promise.resolve(zme(t,e,r,n,i))}o(eZe,"pbkdf2");function Kme(t,e,r,n,i){let s=Zw(e),a=_i(t,"crypto/kdf");if(a&&typeof a=="string"){let f=o(function(l,h){return zU.throwArgumentError("invalid key-derivation function parameters",l,h)},"throwError");if(a.toLowerCase()==="scrypt"){let l=rh(_i(t,"crypto/kdfparams/salt")),h=parseInt(_i(t,"crypto/kdfparams/n")),g=parseInt(_i(t,"crypto/kdfparams/r")),b=parseInt(_i(t,"crypto/kdfparams/p"));(!h||!g||!b)&&f("kdf",a),h&h-1&&f("N",h);let A=parseInt(_i(t,"crypto/kdfparams/dklen"));return A!==32&&f("dklen",A),n(s,l,h,g,b,64,i)}else if(a.toLowerCase()==="pbkdf2"){let l=rh(_i(t,"crypto/kdfparams/salt")),h=null,g=_i(t,"crypto/kdfparams/prf");g==="hmac-sha256"?h="sha256":g==="hmac-sha512"?h="sha512":f("prf",g);let b=parseInt(_i(t,"crypto/kdfparams/c")),A=parseInt(_i(t,"crypto/kdfparams/dklen"));return A!==32&&f("dklen",A),r(s,l,b,A,h)}}return zU.throwArgumentError("unsupported key-derivation function","kdf",a)}o(Kme,"_computeKdfKey");function Gme(t,e){let r=JSON.parse(t),n=Kme(r,e,zme,AR.default.syncScrypt);return jme(r,n)}o(Gme,"decryptSync");function $me(t,e,r){return JXe(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield Kme(n,e,eZe,AR.default.scrypt,r);return jme(n,i)})}o($me,"decrypt");function GU(t,e,r,n){try{if(Zo(t.address)!==Vl(t.privateKey))throw new Error("address/privateKey mismatch");if(Vme(t)){let P=t.mnemonic;if(Q0.fromMnemonic(P.phrase,null,P.locale).derivePath(P.path||kg).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(P){return Promise.reject(P)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,wi.arrayify)(t.privateKey),s=Zw(e),a=null,f=null,l=null;if(Vme(t)){let P=t.mnemonic;a=(0,wi.arrayify)(CU(P.phrase,P.locale||"en")),f=P.path||kg,l=P.locale||"en"}let h=r.client;h||(h="ethers.js");let g=null;r.salt?g=(0,wi.arrayify)(r.salt):g=ep(32);let b=null;if(r.iv){if(b=(0,wi.arrayify)(r.iv),b.length!==16)throw new Error("invalid iv")}else b=ep(16);let A=null;if(r.uuid){if(A=(0,wi.arrayify)(r.uuid),A.length!==16)throw new Error("invalid uuid")}else A=ep(16);let T=1<<17,O=8,N=1;return r.scrypt&&(r.scrypt.N&&(T=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&(N=r.scrypt.p)),AR.default.scrypt(s,g,T,O,N,64,n).then(P=>{P=(0,wi.arrayify)(P);let C=P.slice(0,16),D=P.slice(16,32),M=P.slice(32,64),U=new nh.default.Counter(b),V=new nh.default.ModeOfOperation.ctr(C,U),j=(0,wi.arrayify)(V.encrypt(i)),ee=_n((0,wi.concat)([D,j])),Y={address:t.address.substring(2).toLowerCase(),id:Ume(A),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,wi.hexlify)(b).substring(2)},ciphertext:(0,wi.hexlify)(j).substring(2),kdf:"scrypt",kdfparams:{salt:(0,wi.hexlify)(g).substring(2),n:T,dklen:32,p:N,r:O},mac:ee.substring(2)}};if(a){let te=ep(16),E=new nh.default.Counter(te),c=new nh.default.ModeOfOperation.ctr(M,E),d=(0,wi.arrayify)(c.encrypt(a)),y=new Date,v=y.getUTCFullYear()+"-"+iv(y.getUTCMonth()+1,2)+"-"+iv(y.getUTCDate(),2)+"T"+iv(y.getUTCHours(),2)+"-"+iv(y.getUTCMinutes(),2)+"-"+iv(y.getUTCSeconds(),2)+".0Z";Y["x-ethers"]={client:h,gethFilename:"UTC--"+v+"--"+Y.address,mnemonicCounter:(0,wi.hexlify)(te).substring(2),mnemonicCiphertext:(0,wi.hexlify)(d).substring(2),path:f,locale:l,version:"0.1"}}return JSON.stringify(Y)})}o(GU,"encrypt");function Wme(t,e,r){if(HU(t)){r&&r(0);let n=qU(t,e);return r&&r(1),Promise.resolve(n)}return VU(t)?$me(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}o(Wme,"decryptJsonWallet");function Yme(t,e){if(HU(t))return qU(t,e);if(VU(t))return Gme(t,e);throw new Error("invalid JSON wallet")}o(Yme,"decryptJsonWalletSync");var $U=et(aa());p();m();var Xme="wallet/5.7.0";var Zme=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function f(g){try{h(n.next(g))}catch(b){a(b)}}o(f,"fulfilled");function l(g){try{h(n.throw(g))}catch(b){a(b)}}o(l,"rejected");function h(g){g.done?s(g.value):i(g.value).then(f,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},ov=new $U.Logger(Xme);function tZe(t){return t!=null&&(0,Mu.isHexString)(t.privateKey,32)&&t.address!=null}o(tZe,"isAccount");function rZe(t){let e=t.mnemonic;return e&&e.phrase}o(rZe,"hasMnemonic");var sv=class t extends jw{static{o(this,"Wallet")}constructor(e,r){if(super(),tZe(e)){let n=new Hl(e.privateKey);if(qt(this,"_signingKey",()=>n),qt(this,"address",Vl(this.publicKey)),this.address!==Zo(e.address)&&ov.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),rZe(e)){let i=e.mnemonic;qt(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||kg,locale:i.locale||"en"}));let s=this.mnemonic,a=Q0.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Vl(a.privateKey)!==this.address&&ov.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else qt(this,"_mnemonic",()=>null)}else{if(Hl.isSigningKey(e))e.curve!=="secp256k1"&&ov.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),qt(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new Hl(e);qt(this,"_signingKey",()=>n)}qt(this,"_mnemonic",()=>null),qt(this,"address",Vl(this.publicKey))}r&&!sR.isProvider(r)&&ov.throwArgumentError("invalid provider","provider",r),qt(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return th(e).then(r=>{r.from!=null&&(Zo(r.from)!==this.address&&ov.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(_n(IU(r)));return IU(r,n)})}signMessage(e){return Zme(this,void 0,void 0,function*(){return(0,Mu.joinSignature)(this._signingKey().signDigest(aU(e)))})}_signTypedData(e,r,n){return Zme(this,void 0,void 0,function*(){let i=yield Qb.resolveNames(e,r,n,s=>(this.provider==null&&ov.throwError("cannot resolve ENS names without a provider",$U.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return(0,Mu.joinSignature)(this._signingKey().signDigest(Qb.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),GU(this,e,r,n)}static createRandom(e){let r=ep(16);e||(e={}),e.extraEntropy&&(r=(0,Mu.arrayify)((0,Mu.hexDataSlice)(_n((0,Mu.concat)([r,e.extraEntropy])),0,16)));let n=Xw(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Wme(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(Yme(e,r))}static fromMnemonic(e,r,n){return r||(r=kg),new t(Q0.fromMnemonic(e,null,n).derivePath(r))}};var RR=class{static{o(this,"KeypairGeneratorChainPluginEthereum")}addressTypes=[We.EVM];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new sv(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Dl(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};p();m();p();m();Jd.sha512Sync=(...t)=>Bl(Jd.concatBytes(...t));var{getPublicKey:nZe}=k5,WU=o(t=>{let e=nZe(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"getDeprecatedSolanaKeyPairFromPrivateKey");var TR=class{static{o(this,"KeypairGeneratorChainPluginSolana")}addressTypes=[We.Solana];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new ef.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Dl(s));try{let s=i.derivePathType(n,r);switch(n){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44Sui:return{publicKey:s.publicKey,privateKey:s.secretKey};case Ee.DeprecatedSolana:{let a=WU(s.secretKey);return{publicKey:a.publicKey,privateKey:a.secretKey}}}}finally{i.cleanup()}}};p();m();p();m();p();m();p();m();p();m();p();m();p();m();function iZe(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){let g=t.charAt(h),b=g.charCodeAt(0);if(e[b]!==255)throw new TypeError(g+" is ambiguous");e[b]=h}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let g=0,b=0,A=0,T=h.length;for(;A!==T&&h[A]===0;)A++,g++;let O=(T-A)*s+1>>>0,N=new Uint8Array(O);for(;A!==T;){let D=h[A],M=0;for(let U=O-1;(D!==0||M<b)&&U!==-1;U--,M++)D+=256*N[U]>>>0,N[U]=D%r>>>0,D=D/r>>>0;if(D!==0)throw new Error("Non-zero carry");b=M,A++}let P=O-b;for(;P!==O&&N[P]===0;)P++;let C=n.repeat(g);for(;P<O;++P)C+=t.charAt(N[P]);return C}o(a,"encode");function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let g=0,b=0,A=0;for(;h[g]===n;)b++,g++;let T=(h.length-g)*i+1>>>0,O=new Uint8Array(T);for(;h[g];){let D=e[h.charCodeAt(g)];if(D===255)return;let M=0;for(let U=T-1;(D!==0||M<A)&&U!==-1;U--,M++)D+=r*O[U]>>>0,O[U]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");A=M,g++}let N=T-A;for(;N!==T&&O[N]===0;)N++;let P=new Uint8Array(b+(T-N)),C=b;for(;N!==T;)P[C++]=O[N++];return P}o(f,"decodeUnsafe");function l(h){let g=f(h);if(g)return g;throw new Error("Non-base"+r+" character")}return o(l,"decode"),{encode:a,decodeUnsafe:f,decode:l}}o(iZe,"base");var Jme=iZe;var oZe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",YU=Jme(oZe);var Bg=o(t=>YU.encode(t),"toBase58"),Lg=o(t=>YU.decode(t),"fromBase58");p();m();function jo(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}o(jo,"fromBase64");var XU=8192;function Ei(t){if(t.length<XU)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=XU){let n=t.slice(r,r+XU);e+=String.fromCharCode(...n)}return btoa(e)}o(Ei,"toBase64");p();m();p();m();function tp(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}o(tp,"fromHex");function If(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(If,"toHex");p();m();p();m();function av(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}o(av,"ulebEncode");function Qme(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}o(Qme,"ulebDecode");var IR=class{static{o(this,"BcsReader")}constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=Qme(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};p();m();p();m();function ZU(t,e){switch(e){case"base58":return Bg(t);case"base64":return Ei(t);case"hex":return If(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}o(ZU,"encodeStr");function JU(t,e=["<",">"]){let[r,n]=e,i=[],s="",a=0;for(let f=0;f<t.length;f++){let l=t[f];if(l===r&&a++,l===n&&a--,a===0&&l===","){i.push(s.trim()),s="";continue}s+=l}return i.push(s.trim()),i}o(JU,"splitGenericParameters");var OR=class{static{o(this,"BcsWriter")}constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return QU(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return QU(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return QU(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return av(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return ZU(this.toBytes(),e)}};function QU(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}o(QU,"toLittleEndian");var ege=o(t=>{throw TypeError(t)},"__typeError"),tge=o((t,e,r)=>e.has(t)||ege("Cannot "+r),"__accessCheck"),Cu=o((t,e,r)=>(tge(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),MR=o((t,e,r)=>e.has(t)?ege("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),CR=o((t,e,r,n)=>(tge(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),cv,Jw,NR,rp,sZe=class rge{static{o(this,"_BcsType")}constructor(e){MR(this,cv),MR(this,Jw),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),CR(this,cv,e.write),CR(this,Jw,e.serialize??((r,n)=>{let i=new OR({initialSize:this.serializedSize(r)??void 0,...n});return Cu(this,cv).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Cu(this,cv).call(this,e,r)}serialize(e,r){return this.validate(e),new eF(this,Cu(this,Jw).call(this,e,r))}parse(e){let r=new IR(e);return this.read(r)}fromHex(e){return this.parse(tp(e))}fromBase58(e){return this.parse(Lg(e))}fromBase64(e){return this.parse(jo(e))}transform({name:e,input:r,output:n,validate:i}){return new rge({name:e??this.name,read:o(s=>n(this.read(s)),"read"),write:o((s,a)=>Cu(this,cv).call(this,r(s),a),"write"),serializedSize:o(s=>this.serializedSize(r(s)),"serializedSize"),serialize:o((s,a)=>Cu(this,Jw).call(this,r(s),a),"serialize"),validate:o(s=>{i?.(s),this.validate(r(s))},"validate")})}};cv=new WeakMap;Jw=new WeakMap;var jl=sZe,aZe=Symbol.for("@mysten/serialized-bcs");var eF=class{static{o(this,"SerializedBcs")}constructor(e,r){MR(this,NR),MR(this,rp),CR(this,NR,e),CR(this,rp,r)}get[aZe](){return!0}toBytes(){return Cu(this,rp)}toHex(){return If(Cu(this,rp))}toBase64(){return Ei(Cu(this,rp))}toBase58(){return Bg(Cu(this,rp))}parse(){return Cu(this,NR).parse(Cu(this,rp))}};NR=new WeakMap;rp=new WeakMap;function Qw({size:t,...e}){return new jl({...e,serializedSize:o(()=>t,"serializedSize")})}o(Qw,"fixedSizeBcsType");function PR({readMethod:t,writeMethod:e,...r}){return Qw({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](n),"write"),validate:o(n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)},"validate")})}o(PR,"uIntBcsType");function kR({readMethod:t,writeMethod:e,...r}){return Qw({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](BigInt(n)),"write"),validate:o(n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)},"validate")})}o(kR,"bigUIntBcsType");function nge({serialize:t,...e}){let r=new jl({...e,serialize:t,write:o((n,i)=>{for(let s of r.serialize(n).toBytes())i.write8(s)},"write")});return r}o(nge,"dynamicSizeBcsType");function ige({toBytes:t,fromBytes:e,...r}){return new jl({...r,read:o(n=>{let i=n.readULEB(),s=n.readBytes(i);return e(s)},"read"),write:o((n,i)=>{let s=t(n);i.writeULEB(s.length);for(let a=0;a<s.length;a++)i.write8(s[a])},"write"),serialize:o(n=>{let i=t(n),s=av(i.length),a=new Uint8Array(s.length+i.length);return a.set(s,0),a.set(i,s.length),a},"serialize"),validate:o(n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)},"validate")})}o(ige,"stringLikeBcsType");function oge(t){let e=null;function r(){return e||(e=t()),e}return o(r,"getType"),new jl({name:"lazy",read:o(n=>r().read(n),"read"),serializedSize:o(n=>r().serializedSize(n),"serializedSize"),write:o((n,i)=>r().write(n,i),"write"),serialize:o((n,i)=>r().serialize(n,i).toBytes(),"serialize")})}o(oge,"lazyBcsType");p();m();var ie={u8(t){return PR({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return PR({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return PR({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return kR({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return kR({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return kR({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return Qw({name:"bool",size:1,read:o(e=>e.read8()===1,"read"),write:o((e,r)=>r.write8(e?1:0),"write"),...t,validate:o(e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)},"validate")})},uleb128(t){return nge({name:"uleb128",read:o(e=>e.readULEB(),"read"),serialize:o(e=>Uint8Array.from(av(e)),"serialize"),...t})},bytes(t,e){return Qw({name:`bytes[${t}]`,size:t,read:o(r=>r.readBytes(t),"read"),write:o((r,n)=>{let i=new Uint8Array(r);for(let s=0;s<t;s++)n.write8(i[s]??0)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)},"validate")})},string(t){return ige({name:"string",toBytes:o(e=>new TextEncoder().encode(e),"toBytes"),fromBytes:o(e=>new TextDecoder().decode(e),"fromBytes"),...t})},fixedArray(t,e,r){return new jl({name:`${e.name}[${t}]`,read:o(n=>{let i=new Array(t);for(let s=0;s<t;s++)i[s]=e.read(n);return i},"read"),write:o((n,i)=>{for(let s of n)e.write(s,i)},"write"),...r,validate:o(n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)},"validate")})},option(t){return ie.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:o(e=>e==null?{None:!0}:{Some:e},"input"),output:o(e=>e.$kind==="Some"?e.Some:null,"output")})},vector(t,e){return new jl({name:`vector<${t.name}>`,read:o(r=>{let n=r.readULEB(),i=new Array(n);for(let s=0;s<n;s++)i[s]=t.read(r);return i},"read"),write:o((r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)},"validate")})},tuple(t,e){return new jl({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:o(r=>{let n=0;for(let i=0;i<t.length;i++){let s=t[i].serializedSize(r[i]);if(s==null)return null;n+=s}return n},"serializedSize"),read:o(r=>{let n=[];for(let i of t)n.push(i.read(r));return n},"read"),write:o((r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)},"validate")})},struct(t,e,r){let n=Object.entries(e);return new jl({name:t,serializedSize:o(i=>{let s=0;for(let[a,f]of n){let l=f.serializedSize(i[a]);if(l==null)return null;s+=l}return s},"serializedSize"),read:o(i=>{let s={};for(let[a,f]of n)s[a]=f.read(i);return s},"read"),write:o((i,s)=>{for(let[a,f]of n)f.write(i[a],s)},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)},"validate")})},enum(t,e,r){let n=Object.entries(e);return new jl({name:t,read:o(i=>{let s=i.readULEB(),a=n[s];if(!a)throw new TypeError(`Unknown value ${s} for enum ${t}`);let[f,l]=a;return{[f]:l?.read(i)??!0,$kind:f}},"read"),write:o((i,s)=>{let[a,f]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[h,g]=n[l];if(h===a){s.writeULEB(l),g?.write(f,s);return}}},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let s=Object.keys(i).filter(f=>i[f]!==void 0&&Object.hasOwn(e,f));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${t}}`);let[a]=s;if(!Object.hasOwn(e,a))throw new TypeError(`Invalid enum variant ${a}`)},"validate")})},map(t,e){return ie.vector(ie.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:o(r=>[...r.entries()],"input"),output:o(r=>{let n=new Map;for(let[i,s]of r)n.set(i,s);return n},"output")})},lazy(t){return oge(t)}};p();m();p();m();p();m();var np=32;function sge(t){return cZe(t)&&fZe(t)===np}o(sge,"isValidSuiAddress");function zl(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(np*2,"0")}`}o(zl,"normalizeSuiAddress");function cZe(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}o(cZe,"isHex");function fZe(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}o(fZe,"getHexByteLength");p();m();var uZe=/^vector<(.+)>$/,lZe=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,eE=class t{static{o(this,"TypeTagSerializer")}static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(uZe);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(lZe);if(i)return{struct:{address:r?zl(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return JU(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function dZe(t){return ie.u64({name:"unsafe_u64",...t}).transform({input:o(e=>e,"input"),output:o(e=>Number(e),"output")})}o(dZe,"unsafe_u64");function hZe(t){return ie.enum("Option",{None:null,Some:t})}o(hZe,"optionEnum");var ri=ie.bytes(np).transform({validate:o(t=>{let e=typeof t=="string"?t:If(t);if(!e||!sge(zl(e)))throw new Error(`Invalid Sui address ${e}`)},"validate"),input:o(t=>typeof t=="string"?tp(zl(t)):t,"input"),output:o(t=>zl(If(t)),"output")}),Mc=ie.vector(ie.u8()).transform({name:"ObjectDigest",input:o(t=>Lg(t),"input"),output:o(t=>Bg(new Uint8Array(t)),"output"),validate:o(t=>{if(Lg(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")},"validate")}),Ya=ie.struct("SuiObjectRef",{objectId:ri,version:ie.u64(),digest:Mc}),tF=ie.struct("SharedObjectRef",{objectId:ri,initialSharedVersion:ie.u64(),mutable:ie.bool()}),rF=ie.enum("ObjectArg",{ImmOrOwnedObject:Ya,SharedObject:tF,Receiving:Ya}),nF=ie.enum("CallArg",{Pure:ie.struct("Pure",{bytes:ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?jo(t):t,"input"),output:o(t=>Ei(new Uint8Array(t)),"output")})}),Object:rF}),iF=ie.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:ie.lazy(()=>iF),struct:ie.lazy(()=>uF),u16:null,u32:null,u256:null}),BR=iF.transform({input:o(t=>typeof t=="string"?eE.parseFromStr(t,!0):t,"input"),output:o(t=>eE.tagToString(t),"output")}),Pu=ie.enum("Argument",{GasCoin:null,Input:ie.u16(),Result:ie.u16(),NestedResult:ie.tuple([ie.u16(),ie.u16()])}),oF=ie.struct("ProgrammableMoveCall",{package:ri,module:ie.string(),function:ie.string(),typeArguments:ie.vector(BR),arguments:ie.vector(Pu)}),sF=ie.enum("Command",{MoveCall:oF,TransferObjects:ie.struct("TransferObjects",{objects:ie.vector(Pu),address:Pu}),SplitCoins:ie.struct("SplitCoins",{coin:Pu,amounts:ie.vector(Pu)}),MergeCoins:ie.struct("MergeCoins",{destination:Pu,sources:ie.vector(Pu)}),Publish:ie.struct("Publish",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?jo(t):t,"input"),output:o(t=>Ei(new Uint8Array(t)),"output")})),dependencies:ie.vector(ri)}),MakeMoveVec:ie.struct("MakeMoveVec",{type:hZe(BR).transform({input:o(t=>t===null?{None:!0}:{Some:t},"input"),output:o(t=>t.Some??null,"output")}),elements:ie.vector(Pu)}),Upgrade:ie.struct("Upgrade",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?jo(t):t,"input"),output:o(t=>Ei(new Uint8Array(t)),"output")})),dependencies:ie.vector(ri),package:ri,ticket:Pu})}),aF=ie.struct("ProgrammableTransaction",{inputs:ie.vector(nF),commands:ie.vector(sF)}),cF=ie.enum("TransactionKind",{ProgrammableTransaction:aF,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),fF=ie.enum("TransactionExpiration",{None:null,Epoch:dZe()}),uF=ie.struct("StructTag",{address:ri,module:ie.string(),name:ie.string(),typeParams:ie.vector(iF)}),lF=ie.struct("GasData",{payment:ie.vector(Ya),owner:ri,price:ie.u64(),budget:ie.u64()}),dF=ie.struct("TransactionDataV1",{kind:cF,sender:ri,gasData:lF,expiration:fF}),hF=ie.enum("TransactionData",{V1:dF}),pF=ie.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),mF=ie.enum("IntentVersion",{V0:null}),gF=ie.enum("AppId",{Sui:null}),yF=ie.struct("Intent",{scope:pF,version:mF,appId:gF});function bF(t){return ie.struct(`IntentMessage<${t.name}>`,{intent:yF,value:t})}o(bF,"IntentMessage");var vF=ie.enum("CompressedSignature",{ED25519:ie.fixedArray(64,ie.u8()),Secp256k1:ie.fixedArray(64,ie.u8()),Secp256r1:ie.fixedArray(64,ie.u8()),ZkLogin:ie.vector(ie.u8())}),xF=ie.enum("PublicKey",{ED25519:ie.fixedArray(32,ie.u8()),Secp256k1:ie.fixedArray(33,ie.u8()),Secp256r1:ie.fixedArray(33,ie.u8()),ZkLogin:ie.vector(ie.u8())}),_F=ie.struct("MultiSigPkMap",{pubKey:xF,weight:ie.u8()}),wF=ie.struct("MultiSigPublicKey",{pk_map:ie.vector(_F),threshold:ie.u16()}),age=ie.struct("MultiSig",{sigs:ie.vector(vF),bitmap:ie.u16(),multisig_pk:wF}),pZe=ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?jo(t):t,"input"),output:o(t=>Ei(new Uint8Array(t)),"output")}),EF=ie.struct("SenderSignedTransaction",{intentMessage:bF(hF),txSignatures:ie.vector(pZe)}),cge=ie.vector(EF,{name:"SenderSignedData"});p();m();var mZe=ie.enum("PackageUpgradeError",{UnableToFetchPackage:ie.struct("UnableToFetchPackage",{packageId:ri}),NotAPackage:ie.struct("NotAPackage",{objectId:ri}),IncompatibleUpgrade:null,DigestDoesNotMatch:ie.struct("DigestDoesNotMatch",{digest:ie.vector(ie.u8())}),UnknownUpgradePolicy:ie.struct("UnknownUpgradePolicy",{policy:ie.u8()}),PackageIDDoesNotMatch:ie.struct("PackageIDDoesNotMatch",{packageId:ri,ticketId:ri})}),gZe=ie.struct("ModuleId",{address:ri,name:ie.string()}),fge=ie.struct("MoveLocation",{module:gZe,function:ie.u16(),instruction:ie.u16(),functionName:ie.option(ie.string())}),yZe=ie.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:ie.struct("IndexOutOfBounds",{idx:ie.u16()}),SecondaryIndexOutOfBounds:ie.struct("SecondaryIndexOutOfBounds",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidResultArity:ie.struct("InvalidResultArity",{resultIdx:ie.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),bZe=ie.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),vZe=ie.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:ie.struct("MoveObjectTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),MovePackageTooBig:ie.struct("MovePackageTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),CircularObjectOwnership:ie.struct("CircularObjectOwnership",{object:ri}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:ie.option(fge),MoveAbort:ie.tuple([fge,ie.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:ie.struct("CommandArgumentError",{argIdx:ie.u16(),kind:yZe}),TypeArgumentError:ie.struct("TypeArgumentError",{argumentIdx:ie.u16(),kind:bZe}),UnusedValueWithoutDrop:ie.struct("UnusedValueWithoutDrop",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidPublicFunctionReturnType:ie.struct("InvalidPublicFunctionReturnType",{idx:ie.u16()}),InvalidTransferObject:null,EffectsTooLarge:ie.struct("EffectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:ie.struct("PackageUpgradeError",{upgradeError:mZe}),WrittenObjectsTooLarge:ie.struct("WrittenObjectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:ie.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:ie.vector(ri)}),AddressDeniedForCoin:ie.struct("AddressDeniedForCoin",{address:ri,coinType:ie.string()}),CoinTypeGlobalPause:ie.struct("CoinTypeGlobalPause",{coinType:ie.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),uge=ie.enum("ExecutionStatus",{Success:null,Failed:ie.struct("ExecutionFailed",{error:vZe,command:ie.option(ie.u64())})}),lge=ie.struct("GasCostSummary",{computationCost:ie.u64(),storageCost:ie.u64(),storageRebate:ie.u64(),nonRefundableStorageFee:ie.u64()}),fv=ie.enum("Owner",{AddressOwner:ri,ObjectOwner:ri,Shared:ie.struct("Shared",{initialSharedVersion:ie.u64()}),Immutable:null}),xZe=ie.struct("TransactionEffectsV1",{status:uge,executedEpoch:ie.u64(),gasUsed:lge,modifiedAtVersions:ie.vector(ie.tuple([ri,ie.u64()])),sharedObjects:ie.vector(Ya),transactionDigest:Mc,created:ie.vector(ie.tuple([Ya,fv])),mutated:ie.vector(ie.tuple([Ya,fv])),unwrapped:ie.vector(ie.tuple([Ya,fv])),deleted:ie.vector(Ya),unwrappedThenDeleted:ie.vector(Ya),wrapped:ie.vector(Ya),gasObject:ie.tuple([Ya,fv]),eventsDigest:ie.option(Mc),dependencies:ie.vector(Mc)}),SF=ie.tuple([ie.u64(),Mc]),_Ze=ie.enum("ObjectIn",{NotExist:null,Exist:ie.tuple([SF,fv])}),wZe=ie.enum("ObjectOut",{NotExist:null,ObjectWrite:ie.tuple([Mc,fv]),PackageWrite:SF}),EZe=ie.enum("IDOperation",{None:null,Created:null,Deleted:null}),SZe=ie.struct("EffectsObjectChange",{inputState:_Ze,outputState:wZe,idOperation:EZe}),AZe=ie.enum("UnchangedSharedKind",{ReadOnlyRoot:SF,MutateDeleted:ie.u64(),ReadDeleted:ie.u64(),Cancelled:ie.u64(),PerEpochConfig:null}),RZe=ie.struct("TransactionEffectsV2",{status:uge,executedEpoch:ie.u64(),gasUsed:lge,transactionDigest:Mc,gasObjectIndex:ie.option(ie.u32()),eventsDigest:ie.option(Mc),dependencies:ie.vector(Mc),lamportVersion:ie.u64(),changedObjects:ie.vector(ie.tuple([ri,SZe])),unchangedSharedObjects:ie.vector(ie.tuple([ri,AZe])),auxDataDigest:ie.option(Mc)}),dge=ie.enum("TransactionEffects",{V1:xZe,V2:RZe});var ih={...ie,U8:ie.u8(),U16:ie.u16(),U32:ie.u32(),U64:ie.u64(),U128:ie.u128(),U256:ie.u256(),ULEB128:ie.uleb128(),Bool:ie.bool(),String:ie.string(),Address:ri,AppId:gF,Argument:Pu,CallArg:nF,CompressedSignature:vF,GasData:lF,Intent:yF,IntentMessage:bF,IntentScope:pF,IntentVersion:mF,MultiSig:age,MultiSigPkMap:_F,MultiSigPublicKey:wF,ObjectArg:rF,ObjectDigest:Mc,ProgrammableMoveCall:oF,ProgrammableTransaction:aF,PublicKey:xF,SenderSignedData:cge,SenderSignedTransaction:EF,SharedObjectRef:tF,StructTag:uF,SuiObjectRef:Ya,Command:sF,TransactionData:hF,TransactionDataV1:dF,TransactionExpiration:fF,TransactionKind:cF,TypeTag:BR,TransactionEffects:dge};p();m();p();m();p();m();p();m();function uv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}o(uv,"number");function TZe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(TZe,"isBytes");function lv(t,...e){if(!TZe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}o(lv,"bytes");function hge(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");uv(t.outputLen),uv(t.blockLen)}o(hge,"hash");function oh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(oh,"exists");function LR(t,e){lv(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(LR,"output");p();m();var dv=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32"),DR=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");var op=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,mge=o(t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,"byteSwap"),ku=op?t=>t:t=>mge(t);function Dg(t){for(let e=0;e<t.length;e++)t[e]=mge(t[e])}o(Dg,"byteSwap32");var IZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function UR(t){lv(t);let e="";for(let r=0;r<t.length;r++)e+=IZe[t[r]];return e}o(UR,"bytesToHex");var sh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function pge(t){if(t>=sh._0&&t<=sh._9)return t-sh._0;if(t>=sh._A&&t<=sh._F)return t-(sh._A-10);if(t>=sh._a&&t<=sh._f)return t-(sh._a-10)}o(pge,"asciiToBase16");function gge(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=pge(t.charCodeAt(s)),f=pge(t.charCodeAt(s+1));if(a===void 0||f===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+f}return n}o(gge,"hexToBytes");function OZe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(OZe,"utf8ToBytes");function Of(t){return typeof t=="string"&&(t=OZe(t)),lv(t),t}o(Of,"toBytes");var ip=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},RYt={}.toString;function yge(t){let e=o(n=>t().update(Of(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(yge,"wrapConstructor");function bge(t){let e=o((n,i)=>t(i).update(Of(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(bge,"wrapConstructorWithOpts");var vge=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),FR=class extends ip{static{o(this,"BLAKE")}constructor(e,r,n={},i,s,a){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,uv(e),uv(r),uv(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==a)throw new Error(`personalization must be ${a} byte long or undefined`);this.buffer32=dv(this.buffer=new Uint8Array(e))}update(e){oh(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=Of(e);let s=e.length,a=e.byteOffset,f=e.buffer;for(let l=0;l<s;){this.pos===r&&(op||Dg(i),this.compress(i,0,!1),op||Dg(i),this.pos=0);let h=Math.min(r-this.pos,s-l),g=a+l;if(h===r&&!(g%4)&&l+h<s){let b=new Uint32Array(f,g,Math.floor((s-l)/4));op||Dg(b);for(let A=0;l+r<s;A+=i.length,l+=r)this.length+=r,this.compress(b,A,!1);op||Dg(b);continue}n.set(e.subarray(l,l+h),this.pos),this.pos+=h,this.length+=h,l+=h}return this}digestInto(e){oh(this),LR(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),op||Dg(n),this.compress(n,0,!0),op||Dg(n);let i=dv(e);this.get().forEach((s,a)=>i[a]=ku(s))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:a,pos:f}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=s,e.outputLen=a,e.buffer.set(r),e.pos=f,e}};p();m();var qR=BigInt(4294967295),AF=BigInt(32);function xge(t,e=!1){return e?{h:Number(t&qR),l:Number(t>>AF&qR)}:{h:Number(t>>AF&qR)|0,l:Number(t&qR)|0}}o(xge,"fromBig");function NZe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=xge(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(NZe,"split");var MZe=o((t,e)=>BigInt(t>>>0)<<AF|BigInt(e>>>0),"toBig"),CZe=o((t,e,r)=>t>>>r,"shrSH"),PZe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),kZe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),BZe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),LZe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),DZe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),UZe=o((t,e)=>e,"rotr32H"),FZe=o((t,e)=>t,"rotr32L"),qZe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),HZe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),VZe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),jZe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function zZe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(zZe,"add");var KZe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),GZe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),$Ze=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),WZe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),YZe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),XZe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var ZZe={fromBig:xge,split:NZe,toBig:MZe,shrSH:CZe,shrSL:PZe,rotrSH:kZe,rotrSL:BZe,rotrBH:LZe,rotrBL:DZe,rotr32H:UZe,rotr32L:FZe,rotlSH:qZe,rotlSL:HZe,rotlBH:VZe,rotlBL:jZe,add:zZe,add3L:KZe,add3H:GZe,add4L:$Ze,add4H:WZe,add5H:XZe,add5L:YZe},Lt=ZZe;var mo=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),mt=new Uint32Array(32);function sp(t,e,r,n,i,s){let a=i[s],f=i[s+1],l=mt[2*t],h=mt[2*t+1],g=mt[2*e],b=mt[2*e+1],A=mt[2*r],T=mt[2*r+1],O=mt[2*n],N=mt[2*n+1],P=Lt.add3L(l,g,a);h=Lt.add3H(P,h,b,f),l=P|0,{Dh:N,Dl:O}={Dh:N^h,Dl:O^l},{Dh:N,Dl:O}={Dh:Lt.rotr32H(N,O),Dl:Lt.rotr32L(N,O)},{h:T,l:A}=Lt.add(T,A,N,O),{Bh:b,Bl:g}={Bh:b^T,Bl:g^A},{Bh:b,Bl:g}={Bh:Lt.rotrSH(b,g,24),Bl:Lt.rotrSL(b,g,24)},mt[2*t]=l,mt[2*t+1]=h,mt[2*e]=g,mt[2*e+1]=b,mt[2*r]=A,mt[2*r+1]=T,mt[2*n]=O,mt[2*n+1]=N}o(sp,"G1b");function ap(t,e,r,n,i,s){let a=i[s],f=i[s+1],l=mt[2*t],h=mt[2*t+1],g=mt[2*e],b=mt[2*e+1],A=mt[2*r],T=mt[2*r+1],O=mt[2*n],N=mt[2*n+1],P=Lt.add3L(l,g,a);h=Lt.add3H(P,h,b,f),l=P|0,{Dh:N,Dl:O}={Dh:N^h,Dl:O^l},{Dh:N,Dl:O}={Dh:Lt.rotrSH(N,O,16),Dl:Lt.rotrSL(N,O,16)},{h:T,l:A}=Lt.add(T,A,N,O),{Bh:b,Bl:g}={Bh:b^T,Bl:g^A},{Bh:b,Bl:g}={Bh:Lt.rotrBH(b,g,63),Bl:Lt.rotrBL(b,g,63)},mt[2*t]=l,mt[2*t+1]=h,mt[2*e]=g,mt[2*e+1]=b,mt[2*r]=A,mt[2*r+1]=T,mt[2*n]=O,mt[2*n+1]=N}o(ap,"G2b");var RF=class extends FR{static{o(this,"BLAKE2b")}constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=mo[0]|0,this.v0h=mo[1]|0,this.v1l=mo[2]|0,this.v1h=mo[3]|0,this.v2l=mo[4]|0,this.v2h=mo[5]|0,this.v3l=mo[6]|0,this.v3h=mo[7]|0,this.v4l=mo[8]|0,this.v4h=mo[9]|0,this.v5l=mo[10]|0,this.v5h=mo[11]|0,this.v6l=mo[12]|0,this.v6h=mo[13]|0,this.v7l=mo[14]|0,this.v7h=mo[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=dv(Of(e.salt));this.v4l^=ku(n[0]),this.v4h^=ku(n[1]),this.v5l^=ku(n[2]),this.v5h^=ku(n[3])}if(e.personalization){let n=dv(Of(e.personalization));this.v6l^=ku(n[0]),this.v6h^=ku(n[1]),this.v7l^=ku(n[2]),this.v7h^=ku(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(Of(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:a,v3l:f,v3h:l,v4l:h,v4h:g,v5l:b,v5h:A,v6l:T,v6h:O,v7l:N,v7h:P}=this;return[e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P]}set(e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=f|0,this.v3h=l|0,this.v4l=h|0,this.v4h=g|0,this.v5l=b|0,this.v5h=A|0,this.v6l=T|0,this.v6h=O|0,this.v7l=N|0,this.v7h=P|0}compress(e,r,n){this.get().forEach((l,h)=>mt[h]=l),mt.set(mo,16);let{h:i,l:s}=Lt.fromBig(BigInt(this.length));mt[24]=mo[8]^s,mt[25]=mo[9]^i,n&&(mt[28]=~mt[28],mt[29]=~mt[29]);let a=0,f=vge;for(let l=0;l<12;l++)sp(0,4,8,12,e,r+2*f[a++]),ap(0,4,8,12,e,r+2*f[a++]),sp(1,5,9,13,e,r+2*f[a++]),ap(1,5,9,13,e,r+2*f[a++]),sp(2,6,10,14,e,r+2*f[a++]),ap(2,6,10,14,e,r+2*f[a++]),sp(3,7,11,15,e,r+2*f[a++]),ap(3,7,11,15,e,r+2*f[a++]),sp(0,5,10,15,e,r+2*f[a++]),ap(0,5,10,15,e,r+2*f[a++]),sp(1,6,11,12,e,r+2*f[a++]),ap(1,6,11,12,e,r+2*f[a++]),sp(2,7,8,13,e,r+2*f[a++]),ap(2,7,8,13,e,r+2*f[a++]),sp(3,4,9,14,e,r+2*f[a++]),ap(3,4,9,14,e,r+2*f[a++]);this.v0l^=mt[0]^mt[16],this.v0h^=mt[1]^mt[17],this.v1l^=mt[2]^mt[18],this.v1h^=mt[3]^mt[19],this.v2l^=mt[4]^mt[20],this.v2h^=mt[5]^mt[21],this.v3l^=mt[6]^mt[22],this.v3h^=mt[7]^mt[23],this.v4l^=mt[8]^mt[24],this.v4h^=mt[9]^mt[25],this.v5l^=mt[10]^mt[26],this.v5h^=mt[11]^mt[27],this.v6l^=mt[12]^mt[28],this.v6h^=mt[13]^mt[29],this.v7l^=mt[14]^mt[30],this.v7h^=mt[15]^mt[31],mt.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Ug=bge(t=>new RF(t));p();m();p();m();function HR(t,e){return ih.IntentMessage(ih.fixedArray(e.length,ih.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}o(HR,"messageWithIntent");function TF(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(TF,"bytesEqual");var hv=class{static{o(this,"PublicKey")}equals(e){return TF(this.toRawBytes(),e.toRawBytes())}toBase64(){return Ei(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return Ei(e)}verifyWithIntent(e,r,n){let i=HR(n,e),s=Ug(i,{dkLen:32});return this.verify(s,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(ih.vector(ih.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return zl(UR(Ug(this.toSuiBytes(),{dkLen:32})).slice(0,np*2))}};p();m();var ah={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},_ge={ED25519:32,Secp256k1:33,Secp256r1:33},VR={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};p();m();p();m();p();m();function wge(t,e){if(!!!t)throw new Error(e)}o(wge,"devAssert");p();m();var OF={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},JZe=new Set(Object.keys(OF));function NF(t){let e=t?.kind;return typeof e=="string"&&JZe.has(e)}o(NF,"isNode");var IF;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(IF||(IF={}));p();m();var tE;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(tE||(tE={}));p();m();p();m();function MF(t){return t===9||t===32}o(MF,"isWhiteSpace");function Ege(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(T=>T.length===0||MF(T.charCodeAt(0))),a=r.endsWith('\\"""'),f=t.endsWith('"')&&!a,l=t.endsWith("\\"),h=f||l,g=!(e!=null&&e.minimize)&&(!i||t.length>70||h||s||a),b="",A=i&&MF(t.charCodeAt(0));return(g&&!A||s)&&(b+=`
`),b+=r,(g||h)&&(b+=`
`),'"""'+b+'"""'}o(Ege,"printBlockString");p();m();function Sge(t){return jR(t,[])}o(Sge,"inspect");function jR(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return QZe(t,e);default:return String(t)}}o(jR,"formatValue");function QZe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(eJe(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:jR(n,r)}else if(Array.isArray(t))return rJe(t,r);return tJe(t,r)}o(QZe,"formatObjectValue");function eJe(t){return typeof t.toJSON=="function"}o(eJe,"isJSONable");function tJe(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+nJe(t)+"]":"{ "+r.map(([i,s])=>i+": "+jR(s,e)).join(", ")+" }"}o(tJe,"formatObject");function rJe(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(jR(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}o(rJe,"formatArray");function nJe(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}o(nJe,"getObjectTag");p();m();p();m();function Age(t){return`"${t.replace(iJe,oJe)}"`}o(Age,"printString");var iJe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function oJe(t){return sJe[t.charCodeAt(0)]}o(oJe,"escapedReplacer");var sJe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];p();m();var Rge=Object.freeze({});function CF(t,e,r=OF){let n=new Map;for(let C of Object.values(tE))n.set(C,Tge(e,C));let i,s=Array.isArray(t),a=[t],f=-1,l=[],h=t,g,b,A=[],T=[];do{f++;let C=f===a.length,D=C&&l.length!==0;if(C){if(g=T.length===0?void 0:A[A.length-1],h=b,b=T.pop(),D)if(s){h=h.slice();let U=0;for(let[V,j]of l){let ee=V-U;j===null?(h.splice(ee,1),U++):h[ee]=j}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(let[U,V]of l)h[U]=V}f=i.index,a=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(b){if(g=s?f:a[f],h=b[g],h==null)continue;A.push(g)}let M;if(!Array.isArray(h)){var O,N;NF(h)||wge(!1,`Invalid AST Node: ${Sge(h)}.`);let U=C?(O=n.get(h.kind))===null||O===void 0?void 0:O.leave:(N=n.get(h.kind))===null||N===void 0?void 0:N.enter;if(M=U?.call(e,h,g,b,A,T),M===Rge)break;if(M===!1){if(!C){A.pop();continue}}else if(M!==void 0&&(l.push([g,M]),!C))if(NF(M))h=M;else{A.pop();continue}}if(M===void 0&&D&&l.push([g,h]),C)A.pop();else{var P;i={inArray:s,index:f,keys:a,edits:l,prev:i},s=Array.isArray(h),a=s?h:(P=r[h.kind])!==null&&P!==void 0?P:[],f=-1,l=[],b&&T.push(b),b=h}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}o(CF,"visit");function Tge(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}o(Tge,"getEnterLeaveForKind");function KR(t){return CF(t,cJe)}o(KR,"print");var aJe=80,cJe={Name:{leave:o(t=>t.value,"leave")},Variable:{leave:o(t=>"$"+t.name,"leave")},Document:{leave:o(t=>Mt(t.definitions,`

`),"leave")},OperationDefinition:{leave(t){let e=Cr("(",Mt(t.variableDefinitions,", "),")"),r=Mt([t.operation,Mt([t.name,e]),Mt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:o(({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Cr(" = ",r)+Cr(" ",Mt(n," ")),"leave")},SelectionSet:{leave:o(({selections:t})=>Bu(t),"leave")},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let s=Cr("",t,": ")+e,a=s+Cr("(",Mt(r,", "),")");return a.length>aJe&&(a=s+Cr(`(
`,zR(Mt(r,`
`)),`
)`)),Mt([a,Mt(n," "),i]," ")}},Argument:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},FragmentSpread:{leave:o(({name:t,directives:e})=>"..."+t+Cr(" ",Mt(e," ")),"leave")},InlineFragment:{leave:o(({typeCondition:t,directives:e,selectionSet:r})=>Mt(["...",Cr("on ",t),Mt(e," "),r]," "),"leave")},FragmentDefinition:{leave:o(({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${Cr("(",Mt(r,", "),")")} on ${e} ${Cr("",Mt(n," ")," ")}`+i,"leave")},IntValue:{leave:o(({value:t})=>t,"leave")},FloatValue:{leave:o(({value:t})=>t,"leave")},StringValue:{leave:o(({value:t,block:e})=>e?Ege(t):Age(t),"leave")},BooleanValue:{leave:o(({value:t})=>t?"true":"false","leave")},NullValue:{leave:o(()=>"null","leave")},EnumValue:{leave:o(({value:t})=>t,"leave")},ListValue:{leave:o(({values:t})=>"["+Mt(t,", ")+"]","leave")},ObjectValue:{leave:o(({fields:t})=>"{"+Mt(t,", ")+"}","leave")},ObjectField:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},Directive:{leave:o(({name:t,arguments:e})=>"@"+t+Cr("(",Mt(e,", "),")"),"leave")},NamedType:{leave:o(({name:t})=>t,"leave")},ListType:{leave:o(({type:t})=>"["+t+"]","leave")},NonNullType:{leave:o(({type:t})=>t+"!","leave")},SchemaDefinition:{leave:o(({description:t,directives:e,operationTypes:r})=>Cr("",t,`
`)+Mt(["schema",Mt(e," "),Bu(r)]," "),"leave")},OperationTypeDefinition:{leave:o(({operation:t,type:e})=>t+": "+e,"leave")},ScalarTypeDefinition:{leave:o(({description:t,name:e,directives:r})=>Cr("",t,`
`)+Mt(["scalar",e,Mt(r," ")]," "),"leave")},ObjectTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Cr("",t,`
`)+Mt(["type",e,Cr("implements ",Mt(r," & ")),Mt(n," "),Bu(i)]," "),"leave")},FieldDefinition:{leave:o(({description:t,name:e,arguments:r,type:n,directives:i})=>Cr("",t,`
`)+e+(Ige(r)?Cr(`(
`,zR(Mt(r,`
`)),`
)`):Cr("(",Mt(r,", "),")"))+": "+n+Cr(" ",Mt(i," ")),"leave")},InputValueDefinition:{leave:o(({description:t,name:e,type:r,defaultValue:n,directives:i})=>Cr("",t,`
`)+Mt([e+": "+r,Cr("= ",n),Mt(i," ")]," "),"leave")},InterfaceTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Cr("",t,`
`)+Mt(["interface",e,Cr("implements ",Mt(r," & ")),Mt(n," "),Bu(i)]," "),"leave")},UnionTypeDefinition:{leave:o(({description:t,name:e,directives:r,types:n})=>Cr("",t,`
`)+Mt(["union",e,Mt(r," "),Cr("= ",Mt(n," | "))]," "),"leave")},EnumTypeDefinition:{leave:o(({description:t,name:e,directives:r,values:n})=>Cr("",t,`
`)+Mt(["enum",e,Mt(r," "),Bu(n)]," "),"leave")},EnumValueDefinition:{leave:o(({description:t,name:e,directives:r})=>Cr("",t,`
`)+Mt([e,Mt(r," ")]," "),"leave")},InputObjectTypeDefinition:{leave:o(({description:t,name:e,directives:r,fields:n})=>Cr("",t,`
`)+Mt(["input",e,Mt(r," "),Bu(n)]," "),"leave")},DirectiveDefinition:{leave:o(({description:t,name:e,arguments:r,repeatable:n,locations:i})=>Cr("",t,`
`)+"directive @"+e+(Ige(r)?Cr(`(
`,zR(Mt(r,`
`)),`
)`):Cr("(",Mt(r,", "),")"))+(n?" repeatable":"")+" on "+Mt(i," | "),"leave")},SchemaExtension:{leave:o(({directives:t,operationTypes:e})=>Mt(["extend schema",Mt(t," "),Bu(e)]," "),"leave")},ScalarTypeExtension:{leave:o(({name:t,directives:e})=>Mt(["extend scalar",t,Mt(e," ")]," "),"leave")},ObjectTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Mt(["extend type",t,Cr("implements ",Mt(e," & ")),Mt(r," "),Bu(n)]," "),"leave")},InterfaceTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Mt(["extend interface",t,Cr("implements ",Mt(e," & ")),Mt(r," "),Bu(n)]," "),"leave")},UnionTypeExtension:{leave:o(({name:t,directives:e,types:r})=>Mt(["extend union",t,Mt(e," "),Cr("= ",Mt(r," | "))]," "),"leave")},EnumTypeExtension:{leave:o(({name:t,directives:e,values:r})=>Mt(["extend enum",t,Mt(e," "),Bu(r)]," "),"leave")},InputObjectTypeExtension:{leave:o(({name:t,directives:e,fields:r})=>Mt(["extend input",t,Mt(e," "),Bu(r)]," "),"leave")}};function Mt(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}o(Mt,"join");function Bu(t){return Cr(`{
`,zR(Mt(t,`
`)),`
}`)}o(Bu,"block");function Cr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}o(Cr,"wrap");function zR(t){return Cr("  ",t.replace(/\n/g,`
  `))}o(zR,"indent");function Ige(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}o(Ige,"hasMultilineItems");p();m();var Oge=o(t=>{throw TypeError(t)},"__typeError"),Nge=o((t,e,r)=>e.has(t)||Oge("Cannot "+r),"__accessCheck"),GR=o((t,e,r)=>(Nge(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),$R=o((t,e,r)=>e.has(t)?Oge("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),WR=o((t,e,r,n)=>(Nge(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),YR,XR,ZR,JR,PF=class extends Error{static{o(this,"SuiGraphQLRequestError")}},QR=class{static{o(this,"SuiGraphQLClient")}constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){$R(this,YR),$R(this,XR),$R(this,ZR),$R(this,JR),WR(this,YR,e),WR(this,XR,i),WR(this,ZR,n),WR(this,JR,(...s)=>r(...s))}async query(e){let r=await GR(this,JR).call(this,GR(this,YR),{method:"POST",headers:{"Content-Type":"application/json",...GR(this,ZR)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):KR(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new PF(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:GR(this,XR)[e]})}};YR=new WeakMap;XR=new WeakMap;ZR=new WeakMap;JR=new WeakMap;p();m();p();m();p();m();var rE={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var LF=class extends Error{static{o(this,"GraphQLError")}constructor(e,r,n,i,s,a,f){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),a&&(this.originalError=a);var l=f;if(!l&&a){var h=a.extensions;h&&typeof h=="object"&&(l=h)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},cn,Ut;function Yi(t){return new LF(`Syntax Error: Unexpected token at ${Ut} in ${t}`)}o(Yi,"error");function Cc(t){if(t.lastIndex=Ut,t.test(cn))return cn.slice(Ut,Ut=t.lastIndex)}o(Cc,"advance");var eT=/ +(?=[^\s])/y;function fJe(t){for(var e=t.split(`
`),r="",n=0,i=0,s=e.length-1,a=0;a<e.length;a++)eT.lastIndex=0,eT.test(e[a])&&(a&&(!n||eT.lastIndex<n)&&(n=eT.lastIndex),i=i||a,s=a);for(var f=i;f<=s;f++)f!==i&&(r+=`
`),r+=e[f].slice(n).replace(/\\"""/g,'"""');return r}o(fJe,"blockString");function ar(){for(var t=0|cn.charCodeAt(Ut++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|cn.charCodeAt(Ut++))if(t===35)for(;(t=cn.charCodeAt(Ut++))!==10&&t!==13;);Ut--}o(ar,"ignored");var da=/[_A-Za-z]\w*/y,kF=new RegExp("(?:(null|true|false)|\\$("+da.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+da.source+"))","y"),cp=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(cp||{}),uJe=/\\/;function tT(t){var e,r;if(kF.lastIndex=Ut,cn.charCodeAt(Ut)===91){Ut++,ar();for(var n=[];cn.charCodeAt(Ut)!==93;)n.push(tT(t));return Ut++,ar(),{kind:"ListValue",values:n}}else if(cn.charCodeAt(Ut)===123){Ut++,ar();for(var i=[];cn.charCodeAt(Ut)!==125;){if((e=Cc(da))==null||(ar(),cn.charCodeAt(Ut++)!==58))throw Yi("ObjectField");ar(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:tT(t)})}return Ut++,ar(),{kind:"ObjectValue",fields:i}}else if((r=kF.exec(cn))!=null){if(Ut=kF.lastIndex,ar(),(e=r[cp.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[cp.Var])!=null){if(t)throw Yi("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[cp.Int])!=null){var s;return(s=r[cp.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=r[cp.BlockString])!=null)return{kind:"StringValue",value:fJe(e.slice(3,-3)),block:!0};if((e=r[cp.String])!=null)return{kind:"StringValue",value:uJe.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[cp.Enum])!=null)return{kind:"EnumValue",value:e}}}throw Yi("Value")}o(tT,"value");function Mge(t){if(cn.charCodeAt(Ut)===40){var e=[];Ut++,ar();var r;do{if((r=Cc(da))==null||(ar(),cn.charCodeAt(Ut++)!==58))throw Yi("Argument");ar(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:tT(t)})}while(cn.charCodeAt(Ut)!==41);return Ut++,ar(),e}}o(Mge,"arguments_");function pv(t){if(cn.charCodeAt(Ut)===64){var e=[],r;do{if(Ut++,(r=Cc(da))==null)throw Yi("Directive");ar(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:Mge(t)})}while(cn.charCodeAt(Ut)===64);return e}}o(pv,"directives");function lJe(){for(var t,e=0;cn.charCodeAt(Ut)===91;)e++,Ut++,ar();if((t=Cc(da))==null)throw Yi("NamedType");ar();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(cn.charCodeAt(Ut)===33&&(Ut++,ar(),r={kind:"NonNullType",type:r}),e){if(cn.charCodeAt(Ut++)!==93)throw Yi("NamedType");ar(),r={kind:"ListType",type:r}}while(e--);return r}o(lJe,"type");var BF=new RegExp("(?:(\\.{3})|("+da.source+"))","y"),DF=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(DF||{});function rT(){var t=[],e,r;do if(BF.lastIndex=Ut,(r=BF.exec(cn))!=null){if(Ut=BF.lastIndex,r[DF.Spread]!=null){ar();var n=Cc(da);if(n!=null&&n!=="on")ar(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:pv(!1)});else{if(ar(),n==="on"){if((n=Cc(da))==null)throw Yi("NamedType");ar()}var i=pv(!1);if(cn.charCodeAt(Ut++)!==123)throw Yi("InlineFragment");ar(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:rT()})}}else if((e=r[DF.Name])!=null){var s=void 0;if(ar(),cn.charCodeAt(Ut)===58){if(Ut++,ar(),s=e,(e=Cc(da))==null)throw Yi("Field");ar()}var a=Mge(!1);ar();var f=pv(!1),l=void 0;cn.charCodeAt(Ut)===123&&(Ut++,ar(),l=rT()),t.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:a,directives:f,selectionSet:l})}}else throw Yi("SelectionSet");while(cn.charCodeAt(Ut)!==125);return Ut++,ar(),{kind:"SelectionSet",selections:t}}o(rT,"selectionSet");function dJe(){var t,e;if((t=Cc(da))==null||(ar(),Cc(da)!=="on")||(ar(),(e=Cc(da))==null))throw Yi("FragmentDefinition");ar();var r=pv(!1);if(cn.charCodeAt(Ut++)!==123)throw Yi("FragmentDefinition");return ar(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:rT()}}o(dJe,"fragmentDefinition");var hJe=/(?:query|mutation|subscription|fragment)/y;function pJe(t){var e,r,n;if(t&&(ar(),e=Cc(da),r=o(function(){if(ar(),cn.charCodeAt(Ut)===40){var s=[];Ut++,ar();var a;do{if(cn.charCodeAt(Ut++)!==36||(a=Cc(da))==null)throw Yi("Variable");if(ar(),cn.charCodeAt(Ut++)!==58)throw Yi("VariableDefinition");ar();var f=lJe(),l=void 0;cn.charCodeAt(Ut)===61&&(Ut++,ar(),l=tT(!0)),ar(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:a}},type:f,defaultValue:l,directives:pv(!0)})}while(cn.charCodeAt(Ut)!==41);return Ut++,ar(),s}},"variableDefinitions")(),n=pv(!1)),cn.charCodeAt(Ut)===123)return Ut++,ar(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:rT()}}o(pJe,"operationDefinition");function Cge(t,e){return Ut=0,o(function(n,i){var s,a;ar();var f=[];do if((s=Cc(hJe))==="fragment")ar(),f.push(dJe());else if((a=pJe(s))!=null)f.push(a);else throw Yi("Document");while(Ut<n.length);if(!i){var l;return{kind:"Document",definitions:f,set loc(h){l=h},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:f}},"document")(cn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}o(Cge,"parse");var Pge=0,UF=new Set;function FF(){function t(e,r){var n=Cge(e).definitions,i=new Set;for(var s of r||[])for(var a of s.definitions)a.kind===rE.FRAGMENT_DEFINITION&&!i.has(a)&&(n.push(a),i.add(a));var f;(f=n[0].kind===rE.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(h=>h.name.value!=="_unmask"));var l;return{kind:rE.DOCUMENT,definitions:n,get loc(){if(!l&&f){var h=e+o(function(b){try{Pge++;var A="";for(var T of b)if(!UF.has(T)){UF.add(T);var{loc:O}=T;O&&(A+=O.source.body)}return A}finally{--Pge==0&&UF.clear()}},"concatLocSources")(r||[]);return{start:0,end:h.length,source:{body:h,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(h){l=h}}}return o(t,"graphql"),t.scalar=o(function(r,n){return n},"scalar"),t.persisted=o(function(r,n){return{kind:rE.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},"persisted"),t}o(FF,"initGraphQLTada");var zZt=FF();var kge=FF();p();m();function mJe(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(mJe,"base64UrlCharTo6Bits");function gJe(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=mJe(n);e=e.concat(i)}return e}o(gJe,"base64UrlStringToBitVector");function yJe(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=gJe(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let s=new Uint8Array(Math.floor(r.length/8)),a=0;for(let f=0;f<r.length;f+=8){let l=r.slice(f,f+8),h=parseInt(l.join(""),2);s[a++]=h}return new TextDecoder().decode(s)}o(yJe,"decodeBase64URL");function bJe(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}o(bJe,"verifyExtendedClaim");function Bge(t,e){let r=yJe(t.value,t.indexMod4),[n,i]=bJe(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}o(Bge,"extractClaimValue");p();m();p();m();var Lge=ie.struct("ZkLoginSignature",{inputs:ie.struct("ZkLoginSignatureInputs",{proofPoints:ie.struct("ZkLoginSignatureInputsProofPoints",{a:ie.vector(ie.string()),b:ie.vector(ie.vector(ie.string())),c:ie.vector(ie.string())}),issBase64Details:ie.struct("ZkLoginSignatureInputsClaim",{value:ie.string(),indexMod4:ie.u8()}),headerBase64:ie.string(),addressSeed:ie.string()}),maxEpoch:ie.u64(),userSignature:ie.vector(ie.u8())});function Dge(t){return Lge.parse(typeof t=="string"?jo(t):t)}o(Dge,"parseZkLoginSignature");p();m();function vJe(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}o(vJe,"findFirstNonZeroIndex");function nT(t,e){let r=t.toString(16);return gge(r.padStart(e*2,"0").slice(-e*2))}o(nT,"toPaddedBigEndianBytes");function qF(t,e){let r=nT(t,e),n=vJe(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(qF,"toBigEndianBytes");var qge=o(t=>{throw TypeError(t)},"__typeError"),Hge=o((t,e,r)=>e.has(t)||qge("Cannot "+r),"__accessCheck"),ch=o((t,e,r)=>(Hge(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),HF=o((t,e,r)=>e.has(t)?qge("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),mv=o((t,e,r,n)=>(Hge(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),Lu,nE,iE,xJe=class VF extends hv{static{o(this,"_ZkLoginPublicIdentifier")}constructor(e,{client:r}={}){super(),HF(this,Lu),HF(this,nE),HF(this,iE),mv(this,nE,r),typeof e=="string"?mv(this,Lu,jo(e)):e instanceof Uint8Array?mv(this,Lu,e):mv(this,Lu,Uint8Array.from(e)),mv(this,iE,ch(this,Lu).length!==ch(this,Lu)[0]+1+32),ch(this,iE)&&mv(this,Lu,Uge(ch(this,Lu)))}equals(e){return super.equals(e)}toSuiAddress(){if(ch(this,iE)){let e=Uge(ch(this,Lu),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),zl(UR(Ug(r,{dkLen:32})).slice(0,np*2))}return super.toSuiAddress()}toRawBytes(){return ch(this,Lu)}flag(){return ah.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=iT(r),i=new VF(n.publicKey).toSuiAddress();return Fge({address:i,bytes:Ei(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:ch(this,nE)})}verifyTransaction(e,r){let n=iT(r),i=new VF(n.publicKey).toSuiAddress();return Fge({address:i,bytes:Ei(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:ch(this,nE)})}};Lu=new WeakMap;nE=new WeakMap;iE=new WeakMap;var _Je=xJe;function wJe(t,e,r){let n=r?.legacyAddress?qF(t,32):nT(t,32),i=new TextEncoder().encode(e),s=new Uint8Array(1+i.length+n.length);return s.set([i.length],0),s.set(i,1),s.set(n,1+i.length),new _Je(s,r)}o(wJe,"toZkLoginPublicIdentifier");var EJe=kge(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function Uge(t,e=!1){let r=t[0]+1,n=BigInt(`0x${If(t.slice(r))}`),i=e?qF(n,32):nT(n,32),s=new Uint8Array(r+i.length);return s.set(t.slice(0,r),0),s.set(i,r),s}o(Uge,"normalizeZkLoginPublicKeyBytes");async function Fge({address:t,bytes:e,signature:r,intentScope:n,client:i=new QR({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let s=await i.query({query:EJe,variables:{bytes:e,signature:r,intentScope:n,author:t}});return s.data?.verifyZkloginSignature.success===!0&&s.data?.verifyZkloginSignature.errors.length===0}o(Fge,"graphqlVerifyZkLoginSignature");function iT(t){let e=typeof t=="string"?jo(t):t;if(e[0]!==ah.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:s}=Dge(r),{issBase64Details:a,addressSeed:f}=n,l=Bge(a,"iss"),h=wJe(BigInt(f),l);return{serializedSignature:Ei(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:s,iss:l,addressSeed:BigInt(f)},signature:e,publicKey:h.toRawBytes()}}o(iT,"parseSerializedZkLoginSignature");function Vge({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([ah[e]]),i.set(t,1),i.set(n,1+t.length),Ei(i)}o(Vge,"toSerializedSignature");function jge(t){let e=jo(t),r=VR[e[0]];switch(r){case"MultiSig":let n=ih.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return iT(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=_ge[r],s=e.slice(1,e.length-i),a=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:r,signature:s,publicKey:a,bytes:e};default:throw new Error("Unsupported signature scheme")}}o(jge,"parseSerializedSignature");p();m();p();m();p();m();function gv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(gv,"anumber");function SJe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(SJe,"isBytes");function oE(t,...e){if(!SJe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(oE,"abytes");function oT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gv(t.outputLen),gv(t.blockLen)}o(oT,"ahash");function yv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(yv,"aexists");function zge(t,e){oE(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(zge,"aoutput");p();m();p();m();p();m();var vv=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");function AJe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}o(AJe,"utf8ToBytes");function fp(t){return typeof t=="string"&&(t=AJe(t)),oE(t),t}o(fp,"toBytes");var bv=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};function Kge(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(Kge,"checkOpts");function Gge(t){let e=o(n=>t().update(fp(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Gge,"wrapConstructor");var sT=class extends bv{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,oT(e);let n=fp(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return yv(this),this.iHash.update(e),this}digestInto(e){yv(this),oE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},jF=o((t,e,r)=>new sT(t,e).update(r).digest(),"hmac");jF.create=(t,e)=>new sT(t,e);function RJe(t,e,r,n){oT(t);let i=Kge({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:f}=i;if(gv(s),gv(a),gv(f),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=fp(e),h=fp(r),g=new Uint8Array(a),b=jF.create(t,l),A=b._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:f,DK:g,PRF:b,PRFSalt:A}}o(RJe,"pbkdf2Init");function TJe(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(TJe,"pbkdf2Output");function $ge(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:f,PRFSalt:l}=RJe(t,e,r,n),h,g=new Uint8Array(4),b=vv(g),A=new Uint8Array(f.outputLen);for(let T=1,O=0;O<s;T++,O+=f.outputLen){let N=a.subarray(O,O+f.outputLen);b.setInt32(0,T,!1),(h=l._cloneInto(h)).update(g).digestInto(A),N.set(A.subarray(0,N.length));for(let P=1;P<i;P++){f._cloneInto(h).update(A).digestInto(A);for(let C=0;C<N.length;C++)N[C]^=A[C]}}return TJe(f,l,a,h,A)}o($ge,"pbkdf2");p();m();function IJe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(IJe,"setBigUint64");var aT=class extends bv{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=vv(this.buffer)}update(e){yv(this);let{view:r,buffer:n,blockLen:i}=this;e=fp(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=vv(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){yv(this),zge(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;IJe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=vv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};p();m();p();m();var cT=BigInt(4294967295),zF=BigInt(32);function Wge(t,e=!1){return e?{h:Number(t&cT),l:Number(t>>zF&cT)}:{h:Number(t>>zF&cT)|0,l:Number(t&cT)|0}}o(Wge,"fromBig");function OJe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=Wge(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(OJe,"split");var NJe=o((t,e)=>BigInt(t>>>0)<<zF|BigInt(e>>>0),"toBig"),MJe=o((t,e,r)=>t>>>r,"shrSH"),CJe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),PJe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),kJe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),BJe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),LJe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),DJe=o((t,e)=>e,"rotr32H"),UJe=o((t,e)=>t,"rotr32L"),FJe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),qJe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),HJe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),VJe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function jJe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(jJe,"add");var zJe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),KJe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),GJe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),$Je=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),WJe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),YJe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var XJe={fromBig:Wge,split:OJe,toBig:NJe,shrSH:MJe,shrSL:CJe,rotrSH:PJe,rotrSL:kJe,rotrBH:BJe,rotrBL:LJe,rotr32H:DJe,rotr32L:UJe,rotlSH:FJe,rotlSL:qJe,rotlBH:HJe,rotlBL:VJe,add:jJe,add3L:zJe,add3H:KJe,add4L:GJe,add4H:$Je,add5H:YJe,add5L:WJe},fr=XJe;var[ZJe,JJe]=fr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),up=new Uint32Array(80),lp=new Uint32Array(80),KF=class extends aT{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:g,Fh:b,Fl:A,Gh:T,Gl:O,Hh:N,Hl:P}=this;return[e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P]}set(e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=g|0,this.Fh=b|0,this.Fl=A|0,this.Gh=T|0,this.Gl=O|0,this.Hh=N|0,this.Hl=P|0}process(e,r){for(let M=0;M<16;M++,r+=4)up[M]=e.getUint32(r),lp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=up[M-15]|0,V=lp[M-15]|0,j=fr.rotrSH(U,V,1)^fr.rotrSH(U,V,8)^fr.shrSH(U,V,7),ee=fr.rotrSL(U,V,1)^fr.rotrSL(U,V,8)^fr.shrSL(U,V,7),Y=up[M-2]|0,te=lp[M-2]|0,E=fr.rotrSH(Y,te,19)^fr.rotrBH(Y,te,61)^fr.shrSH(Y,te,6),c=fr.rotrSL(Y,te,19)^fr.rotrBL(Y,te,61)^fr.shrSL(Y,te,6),d=fr.add4L(ee,c,lp[M-7],lp[M-16]),y=fr.add4H(d,j,E,up[M-7],up[M-16]);up[M]=y|0,lp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:g,Eh:b,El:A,Fh:T,Fl:O,Gh:N,Gl:P,Hh:C,Hl:D}=this;for(let M=0;M<80;M++){let U=fr.rotrSH(b,A,14)^fr.rotrSH(b,A,18)^fr.rotrBH(b,A,41),V=fr.rotrSL(b,A,14)^fr.rotrSL(b,A,18)^fr.rotrBL(b,A,41),j=b&T^~b&N,ee=A&O^~A&P,Y=fr.add5L(D,V,ee,JJe[M],lp[M]),te=fr.add5H(Y,C,U,j,ZJe[M],up[M]),E=Y|0,c=fr.rotrSH(n,i,28)^fr.rotrBH(n,i,34)^fr.rotrBH(n,i,39),d=fr.rotrSL(n,i,28)^fr.rotrBL(n,i,34)^fr.rotrBL(n,i,39),y=n&s^n&f^s&f,v=i&a^i&l^a&l;C=N|0,D=P|0,N=T|0,P=O|0,T=b|0,O=A|0,{h:b,l:A}=fr.add(h|0,g|0,te|0,E|0),h=f|0,g=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let w=fr.add3L(E,d,v);n=fr.add3H(w,te,c,y),i=w|0}({h:n,l:i}=fr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=fr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=fr.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:g}=fr.add(this.Dh|0,this.Dl|0,h|0,g|0),{h:b,l:A}=fr.add(this.Eh|0,this.El|0,b|0,A|0),{h:T,l:O}=fr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:N,l:P}=fr.add(this.Gh|0,this.Gl|0,N|0,P|0),{h:C,l:D}=fr.add(this.Hh|0,this.Hl|0,C|0,D|0),this.set(n,i,s,a,f,l,h,g,b,A,T,O,N,P,C,D)}roundClean(){up.fill(0),lp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Yge=Gge(()=>new KF);function Xge(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}o(Xge,"nfkd");function QJe(t){let e=Xge(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}o(QJe,"normalize");var eQe=o(t=>Xge("mnemonic"+t),"salt");function Zge(t,e=""){return $ge(Yge,QJe(t).nfkd,eQe(e),{c:2048,dkLen:64})}o(Zge,"mnemonicToSeedSync");function GF(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}o(GF,"isValidHardenedPath");function tQe(t){return Zge(t,"")}o(tQe,"mnemonicToSeed");function Jge(t){return If(tQe(t))}o(Jge,"mnemonicToSeedHex");p();m();var sE=et(wv(),1);var Ev=32;var WF="suiprivkey",uT=class{static{o(this,"Signer")}async signWithIntent(e,r){let n=HR(r,e),i=Ug(n,{dkLen:32});return{signature:Vge({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Ei(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(ie.vector(ie.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Ei(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},aE=class extends uT{static{o(this,"Keypair")}};function Fg(t){let{prefix:e,words:r}=sE.bech32.decode(t);if(e!==WF)throw new Error("invalid private key prefix");let n=new Uint8Array(sE.bech32.fromWords(r)),i=n.slice(1);return{schema:VR[n[0]],secretKey:i}}o(Fg,"decodeSuiPrivateKey");function YF(t,e){if(t.length!==Ev)throw new Error("Invalid bytes length");let r=ah[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),sE.bech32.encode(WF,sE.bech32.toWords(n))}o(YF,"encodeSuiPrivateKey");p();m();p();m();var qg=et(fh(),1);p();m();p();m();var dT=class extends ip{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,hge(e);let n=Of(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return oh(this),this.iHash.update(e),this}digestInto(e){oh(this),lv(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},hT=o((t,e,r)=>new dT(t,e).update(r).digest(),"hmac");hT.create=(t,e)=>new dT(t,e);p();m();p();m();function oQe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(oQe,"setBigUint64");var pT=class extends ip{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=DR(this.buffer)}update(e){oh(this);let{view:r,buffer:n,blockLen:i}=this;e=Of(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=DR(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oh(this),LR(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;oQe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=DR(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var[sQe,aQe]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),dp=new Uint32Array(80),hp=new Uint32Array(80),XF=class extends pT{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:f,Dl:l,Eh:h,El:g,Fh:b,Fl:A,Gh:T,Gl:O,Hh:N,Hl:P}=this;return[e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P]}set(e,r,n,i,s,a,f,l,h,g,b,A,T,O,N,P){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=l|0,this.Eh=h|0,this.El=g|0,this.Fh=b|0,this.Fl=A|0,this.Gh=T|0,this.Gl=O|0,this.Hh=N|0,this.Hl=P|0}process(e,r){for(let M=0;M<16;M++,r+=4)dp[M]=e.getUint32(r),hp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let U=dp[M-15]|0,V=hp[M-15]|0,j=Lt.rotrSH(U,V,1)^Lt.rotrSH(U,V,8)^Lt.shrSH(U,V,7),ee=Lt.rotrSL(U,V,1)^Lt.rotrSL(U,V,8)^Lt.shrSL(U,V,7),Y=dp[M-2]|0,te=hp[M-2]|0,E=Lt.rotrSH(Y,te,19)^Lt.rotrBH(Y,te,61)^Lt.shrSH(Y,te,6),c=Lt.rotrSL(Y,te,19)^Lt.rotrBL(Y,te,61)^Lt.shrSL(Y,te,6),d=Lt.add4L(ee,c,hp[M-7],hp[M-16]),y=Lt.add4H(d,j,E,dp[M-7],dp[M-16]);dp[M]=y|0,hp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:f,Cl:l,Dh:h,Dl:g,Eh:b,El:A,Fh:T,Fl:O,Gh:N,Gl:P,Hh:C,Hl:D}=this;for(let M=0;M<80;M++){let U=Lt.rotrSH(b,A,14)^Lt.rotrSH(b,A,18)^Lt.rotrBH(b,A,41),V=Lt.rotrSL(b,A,14)^Lt.rotrSL(b,A,18)^Lt.rotrBL(b,A,41),j=b&T^~b&N,ee=A&O^~A&P,Y=Lt.add5L(D,V,ee,aQe[M],hp[M]),te=Lt.add5H(Y,C,U,j,sQe[M],dp[M]),E=Y|0,c=Lt.rotrSH(n,i,28)^Lt.rotrBH(n,i,34)^Lt.rotrBH(n,i,39),d=Lt.rotrSL(n,i,28)^Lt.rotrBL(n,i,34)^Lt.rotrBL(n,i,39),y=n&s^n&f^s&f,v=i&a^i&l^a&l;C=N|0,D=P|0,N=T|0,P=O|0,T=b|0,O=A|0,{h:b,l:A}=Lt.add(h|0,g|0,te|0,E|0),h=f|0,g=l|0,f=s|0,l=a|0,s=n|0,a=i|0;let w=Lt.add3L(E,d,v);n=Lt.add3H(w,te,c,y),i=w|0}({h:n,l:i}=Lt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Lt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l}=Lt.add(this.Ch|0,this.Cl|0,f|0,l|0),{h,l:g}=Lt.add(this.Dh|0,this.Dl|0,h|0,g|0),{h:b,l:A}=Lt.add(this.Eh|0,this.El|0,b|0,A|0),{h:T,l:O}=Lt.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:N,l:P}=Lt.add(this.Gh|0,this.Gl|0,N|0,P|0),{h:C,l:D}=Lt.add(this.Hh|0,this.Hl|0,C|0,D|0),this.set(n,i,s,a,f,l,h,g,b,A,T,O,N,P,C,D)}roundClean(){dp.fill(0),hp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var ZF=yge(()=>new XF);var cQe=et(fh(),1);var fQe="ed25519 seed",uQe=2147483648,lQe=new RegExp("^m(\\/[0-9]+')+$"),rye=o(t=>t.replace("'",""),"replaceDerive"),dQe=o(t=>{let r=hT.create(ZF,fQe).update(tp(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},"getMasterKeyFromSeed"),hQe=o(({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let s=new Uint8Array(1+t.length+n.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(n,0,n.byteLength),t.length+1);let a=hT.create(ZF,e).update(s).digest(),f=a.slice(0,32),l=a.slice(32);return{key:f,chainCode:l}},"CKDPriv");var pQe=o(t=>lQe.test(t)?!t.split("/").slice(1).map(rye).some(isNaN):!1,"isValidPath"),JF=o((t,e,r=uQe)=>{if(!pQe(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=dQe(e);return t.split("/").slice(1).map(rye).map(a=>parseInt(a,10)).reduce((a,f)=>hQe(a,f+r),{key:n,chainCode:i})},"derivePath");p();m();var nye=et(fh(),1);var QF=32,pp=class extends hv{static{o(this,"Ed25519PublicKey")}constructor(e){if(super(),typeof e=="string"?this.data=jo(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==QF)throw new Error(`Invalid public key input. Expected ${QF} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return ah.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=jge(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!TF(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return nye.default.sign.detached.verify(e,n,this.toRawBytes())}};pp.SIZE=QF;var eq="m/44'/784'/0'/0'/0'",Hg=class t extends aE{static{o(this,"Ed25519Keypair")}constructor(e){super(),e?this.keypair=e:this.keypair=qg.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(qg.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let s=Fg(e);if(s.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${s.schema}`);return this.fromSecretKey(s.secretKey,r)}let n=e.length;if(n!==Ev)throw new Error(`Wrong secretKey size. Expected ${Ev} bytes, got ${n}.`);let i=qg.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let a=new TextEncoder().encode("sui validation"),f=qg.default.sign.detached(a,i.secretKey);if(!qg.default.sign.detached.verify(a,f,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new pp(this.keypair.publicKey)}getSecretKey(){return YF(this.keypair.secretKey.slice(0,Ev),this.getKeyScheme())}async sign(e){return qg.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=eq),!GF(r))throw new Error("Invalid derivation path");let{key:n}=JF(r,Jge(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=eq),!GF(r))throw new Error("Invalid derivation path");let{key:n}=JF(r,e);return t.fromSecretKey(n)}};var mT=class{static{o(this,"KeypairGeneratorChainPluginSui")}addressTypes=[We.Sui];generateKeypairFromPrivateKey(e){let r=e.fold(a=>new Uint8Array(a)),n=Hg.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),s=Fg(n.getSecretKey());if(s.schema!=="ED25519")throw new Error(`got unexpected schema ${s.schema} for Sui`);return{publicKey:i,privateKey:s.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Dl(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};var tq=class{static{o(this,"KeypairGenerator")}cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new iR),this.registerChainPlugin(new RR),this.registerChainPlugin(new TR),this.registerChainPlugin(new mT)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=Mg.getAddressType(n),s=this.cryptoChainPlugins.get(i);if(!s)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return s.generateKeypairFromSeed(e,r,n)}};p();m();function mQe(t){return Mg.getAll().includes(t)}o(mQe,"isAddressType");p();m();var Rye=et(iu()),Tye=et(Av()),ET=et(fh()),Iye=et(hq());var Oye=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:try{return{key:$Qe(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case We.EVM:try{return{key:WQe(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case We.Solana:try{return XQe(e)}catch{throw new Error("Could not find encoding for Solana private key")}case We.Sui:try{return{key:YQe(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return as(r)}},"decodePrivateKeyFromString"),$Qe=o((t,e)=>{try{let{privateKey:r}=Iye.decodeRaw(Tye.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},"decodeBitcoinPrivateKey"),WQe=o(t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new sv(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},"decodeEthereumPrivateKey"),wT=o(t=>{let e=ET.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=ET.default.sign.detached(r,t);if(!ET.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},"decodeSolanaPrivateKey"),YQe=o(t=>{try{let e=Fg(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},"decodeSuiPrivateKey"),XQe=o(t=>{try{let e=JSON.parse(t);return wT(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=Rye.default.decode(t);return wT(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return wT(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return wT(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")},"enumerateSolanaPrivateKeyEncodings");p();m();var Nye=et(iu()),Mye=et(Av()),Cye=et(hq());var ZQe=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:return Mye.default.encode(Cye.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case We.EVM:return"0x"+Buffer.from(e).toString("hex");case We.Solana:return Nye.default.encode(e);case We.Sui:return Hg.fromSecretKey(e).getSecretKey();default:return as(r)}},"exportPrivateKeyAsString");p();m();var JQe=o(t=>{try{return _f.from(Oye(t).key)}catch(e){return console.error(e),_f.from(Buffer.from(""))}},"getPrivateKeyAsObfuscatedBytes");p();m();var Ust=et(Mq());p();m();var[v1e,x1e,_1e]=[[],[],[]],dtt=BigInt(0),bE=BigInt(1),htt=BigInt(2),ptt=BigInt(7),mtt=BigInt(256),gtt=BigInt(113);for(let t=0,e=bE,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],v1e.push(2*(5*n+r)),x1e.push((t+1)*(t+2)/2%64);let i=dtt;for(let s=0;s<7;s++)e=(e<<bE^(e>>ptt)*gtt)%mtt,e&htt&&(i^=bE<<(bE<<BigInt(s))-bE);_1e.push(i)}var[ytt,btt]=$t.split(_1e,!0),y1e=o((t,e,r)=>r>32?$t.rotlBH(t,e,r):$t.rotlSH(t,e,r),"rotlH"),b1e=o((t,e,r)=>r>32?$t.rotlBL(t,e,r):$t.rotlSL(t,e,r),"rotlL");function vtt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let f=(a+8)%10,l=(a+2)%10,h=r[l],g=r[l+1],b=y1e(h,g,1)^r[f],A=b1e(h,g,1)^r[f+1];for(let T=0;T<50;T+=10)t[a+T]^=b,t[a+T+1]^=A}let i=t[2],s=t[3];for(let a=0;a<24;a++){let f=x1e[a],l=y1e(i,s,f),h=b1e(i,s,f),g=v1e[a];i=t[g],s=t[g+1],t[g]=l,t[g+1]=h}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=t[a+f];for(let f=0;f<10;f++)t[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}t[0]^=ytt[n],t[1]^=btt[n]}r.fill(0)}o(vtt,"keccakP");var jT=class t extends V0{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Nn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Hb(this.state)}keccak(){vtt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Nn.exists(this);let{blockLen:r,state:n}=this;e=Tu(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let f=0;f<a;f++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Nn.exists(this,!1),Nn.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Nn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Nn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},Rp=o((t,e,r)=>kl(()=>new jT(e,t,r)),"gen"),ynr=Rp(6,144,224/8),bnr=Rp(6,136,256/8),vnr=Rp(6,104,384/8),xnr=Rp(6,72,512/8),_nr=Rp(1,144,224/8),Cq=Rp(1,136,256/8),wnr=Rp(1,104,384/8),Enr=Rp(1,72,512/8),w1e=o((t,e,r)=>Y0e((n={})=>new jT(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake"),Snr=w1e(31,168,128/8),Anr=w1e(31,136,256/8);var qu=et(KH()),Fxe=et(iu());function Fst(t){let{publicKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:return qst(e,r,t.networkID);case We.EVM:return Hst(e);case We.Solana:return Fxe.default.encode(e);case We.Sui:return new pp(e).toSuiAddress();default:return as(r)}}o(Fst,"publicKeyToAddress");var qst=o((t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?qu.networks.testnet:qu.networks.bitcoin,i;switch(e){case We.BitcoinTaproot:qu.initEccLib(Ust),i=qu.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case We.BitcoinNativeSegwit:i=qu.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case We.BitcoinNestedSegwit:{let s=Buffer.from(t),a=qu.payments.p2wpkh({pubkey:s,network:n},{validate:!1});i=qu.payments.p2sh({pubkey:s,network:n,redeem:a},{validate:!1})?.address;break}case We.BitcoinLegacy:{i=qu.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:as(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},"getBitcoinAddress"),Hst=o(t=>{let e=t.slice(1),n=Cq(e).slice(12);return Vst(`0x${Buffer.from(n).toString("hex")}`)},"computeChecksumAddress"),Vst=o(t=>{if(!kW.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(Cq(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},"toChecksumAddress");p();m();function jst(t){return x2.safeParse(t).success}o(jst,"isBitcoinAddressType");p();m();function zst(t){switch(t){case Ee.Bip44RootSolana:case Ee.Bip44ChangeSolana:case Ee.Bip44Solana:case Ee.DeprecatedSolana:return We.Solana;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:return We.EVM;case Ee.BitcoinLegacy:return We.BitcoinLegacy;case Ee.BitcoinNativeSegwit:return We.BitcoinNativeSegwit;case Ee.BitcoinNestedSegwit:return We.BitcoinNestedSegwit;case Ee.BitcoinTaproot:return We.BitcoinTaproot;case Ee.Bip44Sui:return We.Sui}}o(zst,"getAddressTypeFromDerivationPathType");p();m();p();m();var qxe={id:St.Arbitrum,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{[_c.Mainnet]:{id:_c.Mainnet,name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},[_c.Sepolia]:{id:_c.Sepolia,name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:_c.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:En.Arbitrum,parentChain:St.Ethereum};p();m();var Hxe={id:St.Base,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{[xc.Mainnet]:{id:xc.Mainnet,name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},[xc.Sepolia]:{id:xc.Sepolia,name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:xc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:En.Base,parentChain:St.Ethereum};p();m();var Kst=et(Mq());var KI=et(KH());var Zv=we.string().refine(t=>{try{return KI.initEccLib(Kst),KI.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),UE=we.object({networkID:p0,addressType:we.nativeEnum(We),address:Zv,publicKey:we.instanceof(Uint8Array).optional()}),GH={id:St.Bitcoin,addressTypes:[We.BitcoinTaproot,We.BitcoinNativeSegwit],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{[qa.Mainnet]:{id:qa.Mainnet,name:"Bitcoin",value:128},[qa.Testnet]:{id:qa.Testnet,name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:qa.Mainnet,tokenDecimals:8,tokenSymbol:"BTC",slip44:En.Bitcoin};p();m();var GI=we.object({networkID:m0,addressType:we.nativeEnum(We),address:c1}),Vxe={id:St.Ethereum,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{[Fa.Mainnet]:{id:Fa.Mainnet,name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},[Fa.Sepolia]:{id:Fa.Sepolia,name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:Fa.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:En.Ethereum};p();m();var jxe={id:St.Hypercore,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{[Ha.Mainnet]:{id:Ha.Mainnet,name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},[Ha.Testnet]:{id:Ha.Testnet,name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:Ha.Mainnet,tokenDecimals:9,tokenSymbol:"ETH",slip44:En.Hypercore},zxe=we.object({networkID:Ld,addressType:we.nativeEnum(We),address:KA});p();m();var Kxe={id:St.Hyperevm,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/hyperevm.png",name:"HyperEVM",networks:{[Va.Mainnet]:{id:Va.Mainnet,name:"HyperEVM",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/mainnet",value:999},[Va.Testnet]:{id:Va.Testnet,name:"HyperEVM Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/testnet",value:998}},mainnetID:Va.Mainnet,tokenDecimals:18,tokenSymbol:"HYPE",slip44:En.Hyperevm};p();m();var Gxe={id:St.Monad,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{[wc.Mainnet]:{id:wc.Mainnet,name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143},[wc.Testnet]:{id:wc.Testnet,name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143}},mainnetID:wc.Mainnet,tokenDecimals:18,tokenSymbol:"MON",slip44:En.Monad};p();m();var $xe={id:St.Polygon,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{[vc.Mainnet]:{id:vc.Mainnet,name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},[vc.Amoy]:{id:vc.Amoy,name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:vc.Mainnet,tokenDecimals:18,tokenSymbol:"POL",slip44:En.Polygon,parentChain:St.Ethereum};p();m();var FE=we.object({networkID:h0,addressType:we.nativeEnum(We),address:f1}),$H={id:St.Solana,addressTypes:[We.Solana],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{[Gi.Mainnet]:{id:Gi.Mainnet,name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},[Gi.Testnet]:{id:Gi.Testnet,name:"Solana Testnet",shortName:"Testnet",value:"testnet"},[Gi.Devnet]:{id:Gi.Devnet,name:"Solana Devnet",shortName:"Devnet",value:"devnet"},[Gi.Localnet]:{id:Gi.Localnet,name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:Gi.Localnet,mainnetID:Gi.Mainnet,tokenDecimals:9,tokenSymbol:"SOL",slip44:En.Solana};p();m();var Wxe={id:St.Sui,addressTypes:[We.Sui],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{[Ec.Mainnet]:{id:Ec.Mainnet,name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},[Ec.Testnet]:{id:Ec.Testnet,name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:Ec.Mainnet,tokenDecimals:9,tokenSymbol:"SUI",slip44:En.Sui},Yxe=we.object({networkID:Hm,addressType:we.nativeEnum(We),address:u1,publicKey:we.instanceof(Uint8Array).optional()});p();m();var WH=class extends Error{static{o(this,"UnsupportedChainFeatureError")}chain;feature;constructor(e,r){super(`${r} is not yet supported for ${e}`),this.chain=e,this.feature=r,this.name="UnsupportedChainFeatureError"}},YH=class extends WH{static{o(this,"UnsupportedSuiChainError")}constructor(e){super(St.Sui,e)}};p();m();function $I(t){return Object.values(St).includes(t)}o($I,"isChain");var Go={[St.Bitcoin]:GH,[St.Ethereum]:Vxe,[St.Polygon]:$xe,[St.Monad]:Gxe,[St.Solana]:$H,[St.Base]:Hxe,[St.Sui]:Wxe,[St.Arbitrum]:qxe,[St.Hypercore]:jxe,[St.Hyperevm]:Kxe},WI={[St.Solana]:1,[St.Ethereum]:2,[St.Monad]:3,[St.Base]:4,[St.Sui]:5,[St.Polygon]:6,[St.Bitcoin]:7,[St.Arbitrum]:8,[St.Hypercore]:9,[St.Hyperevm]:10},Gst={[St.Solana]:!0,[St.Ethereum]:!0,[St.Monad]:!0,[St.Base]:!0,[St.Polygon]:!0,[St.Bitcoin]:!0,[St.Sui]:!0,[St.Arbitrum]:!1,[St.Hypercore]:!1,[St.Hyperevm]:!0},XH=o((t,e)=>{let r=WI[t]-WI[e];return r===0?0:r>0?1:-1},"compareChain"),$st=o(()=>{let t=Object.values(St).sort(XH),e=t.map(xe=>Go[xe]),r={},n=[],i={},s={},a={};e.forEach(xe=>{let he=Object.fromEntries(Object.entries(xe.networks).filter(([Ae,Oe])=>!Oe.hidden)),ge=Object.keys(he);n.push(...ge),ge.forEach(Ae=>{r[Ae]=xe});let tr=Object.values(he);i[xe.id]=tr.map(Ae=>Ae.id),tr.forEach(Ae=>{s[Ae.id]=Ae});for(let Ae of xe.addressTypes){let Oe=a[Ae];Oe?Oe.push(xe.id):a[Ae]=[xe.id]}});let f=new Set(n);function l(xe){return xe?.evmOnly?t.filter(he=>Go[he].addressTypes.includes(We.EVM)):t}o(l,"getAllChainIDs");function h(xe){return Gst[xe]}o(h,"isChainDefaultEnabled");function g(xe){return n.filter(he=>r[he].id===xe)}o(g,"getNetworkIDs");function b(xe){if(!xe)return n;let he=n;return xe.evmOnly&&(he=he.filter(ge=>x(ge))),xe.mainnetOnly&&(he=he.filter(ge=>L(ge))),he}o(b,"getAllNetworkIDs");function A(xe){return r[xe]}o(A,"getChainDefinition");function T(xe){return s[xe].rpcProxyUrl}o(T,"getRpcProxyUrl");function O(xe){return r[xe].addressTypes[0]}o(O,"_DO_NOT_USE_getAddressType");function N(xe){let he=r[xe];if(he.addressTypes.length===1){let[ge]=he.addressTypes;return ge}else throw`The chain ${he.id} has multiple address types`}o(N,"getAddressType");function P(xe){return r[xe].addressTypes}o(P,"getAddressTypes");function C(xe){return r[xe].id}o(C,"getChainID");function D(xe){return Go[le(xe)].name}o(D,"getChainName");function M(xe){return r[xe].tokenDecimals}o(M,"getTokenDecimals");function U(xe){return(te(xe)?r[xe]:Go[xe]).tokenSymbol}o(U,"getTokenSymbol");function V(xe){return(te(xe)?r[xe]:Go[xe]).iconUrl}o(V,"getChainIconUrl");function j(xe){return r[xe].slip44}o(j,"getSlip44");function ee(xe){return Go[le(xe)].mainnetID}o(ee,"getMainnetNetworkID");function Y(xe){let he;if(x(xe)&&(he=s[xe].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${xe}. Must be an EVM NetworkID.`)}o(Y,"getEVMNetworkIDValue");function te(xe){return f.has(xe)}o(te,"isNetworkID");function E(xe){return Object.keys(Go.bitcoin.networks).includes(xe)}o(E,"isBitcoinNetworkID");function c(xe){return Object.keys(Go.ethereum.networks).includes(xe)}o(c,"isEthereumNetworkID");function d(xe){return Object.keys(Go.polygon.networks).includes(xe)}o(d,"isPolygonNetworkID");function y(xe){return Object.keys(Go.base.networks).includes(xe)}o(y,"isBaseNetworkID");function v(xe){return Object.keys(Go.arbitrum.networks).includes(xe)}o(v,"isArbitrumNetworkID");function w(xe){return Object.keys(Go.monad.networks).includes(xe)}o(w,"isMonadNetworkID");function S(xe){return Object.keys(Go.hypercore.networks).includes(xe)}o(S,"isHypercoreNetworkID");function R(xe){return Object.keys(Go.hyperevm.networks).includes(xe)}o(R,"isHyperevmNetworkID");function x(xe){return c(xe)||d(xe)||y(xe)||w(xe)||v(xe)||S(xe)||R(xe)}o(x,"isEVMNetworkID");function u(xe){return Object.keys(Go.solana.networks).includes(xe)}o(u,"isSolanaNetworkID");function _(xe){return Object.keys(Go.sui.networks).includes(xe)}o(_,"isSuiNetworkID");function H(xe){if(!u(xe))throw new Error(`Invalid NetworkID: ${xe}. Must be a Solana NetworkID.`);return Go.solana.networks[xe].value}o(H,"getSolanaNetworkIDValue");function F(xe){return r[xe].localnetID===xe}o(F,"isLocalNetworkID");function L(xe){return r[xe].mainnetID===xe}o(L,"isMainnetNetworkID");function $(xe){return s[xe]}o($,"getNetworkDefinition");function Q(xe,he=!1){let ge=s[xe];return he&&ge.shortName?ge.shortName:ge.name}o(Q,"getNetworkName");function re(xe){return r[xe].parentChain}o(re,"getParentChain");function Me(xe){return a[xe]}o(Me,"getChainIDs");function fe(xe,he){let ge=r[xe].id,tr=r[he].id;return XH(ge,tr)}o(fe,"compareNetworkID");function le(xe){return $I(xe)?xe:te(xe)?Ot.getChainID(xe):as(xe)}return o(le,"getChain"),{...Go,getAllChainIDs:l,isChainDefaultEnabled:h,getNetworkIDs:g,getAllNetworkIDs:b,getChainDefinition:A,getAddressType:N,getAddressTypes:P,getChainID:C,getChainName:D,getTokenDecimals:M,getTokenSymbol:U,getChainIconUrl:V,getSlip44:j,getMainnetNetworkID:ee,getEVMNetworkIDValue:Y,getSolanaNetworkIDValue:H,_DO_NOT_USE_getAddressType:O,isNetworkID:te,isMonadNetworkID:w,isBitcoinNetworkID:E,isEVMNetworkID:x,isSolanaNetworkID:u,isEthereumNetworkID:c,isPolygonNetworkID:d,isBaseNetworkID:y,isArbitrumNetworkID:v,isSuiNetworkID:_,isHypercoreNetworkID:S,isHyperevmNetworkID:R,isLocalNetworkID:F,isMainnetNetworkID:L,getNetworkDefinition:$,getNetworkName:Q,getChainIDs:Me,compareChain:XH,compareNetworkID:fe,getRpcProxyUrl:T,getParentChain:re}},"createChains"),Ot=$st();p();m();p();m();var qur=we.union([UE,GI,FE,Yxe,zxe]);var pn;(function(t){t.address="address",t.tx="tx",t.nativeToken="nativeToken"})(pn||(pn={}));var Xxe=we.string(),Zxe=we.object({chainId:Dd,resourceType:we.nativeEnum(pn)}),ZH=Zxe.extend({resourceType:we.literal(pn.nativeToken),slip44:we.nativeEnum(En)}),_h=Zxe.extend({resourceType:we.literal(pn.address),address:we.string()}),JH=_h.extend({chainId:h0,address:f1}),QH=_h.extend({chainId:m0,address:c1,tokenId:we.string().optional()}),eV=_h.extend({chainId:p0,address:Zv.or(we.string())}),Wst=_h.extend({chainId:Hm,address:u1,tokenId:we.string().optional()}),Jxe=_h.extend({chainId:Ld,address:KA,tokenId:we.string().optional()}),Qxe=_h.extend({chainId:Vm,address:BW,tokenId:we.string().optional()}),e_e=we.union([ZH,_h,JH,QH,eV,Wst]);p();m();var t_e=o(t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(Ot.isEVMNetworkID(r)||Ot.isSolanaNetworkID(r)||Ot.isBitcoinNetworkID(r)||Ot.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,s]=n;if(!i||!s)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(pn).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i===pn.nativeToken){if(!Object.values(En).includes(s))throw new Error(`Unsupported slip44 '${s}'`);return{chainId:r,resourceType:i,slip44:s}}else if(Ot.isEVMNetworkID(r)){if(i===pn.address)return e.length===3?{chainId:r,address:s,resourceType:i,tokenId:e[2]}:{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Ot.isSolanaNetworkID(r)){if(i===pn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Ot.isBitcoinNetworkID(r)){if(i===pn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Ot.isSuiNetworkID(r)){if(i===pn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)},"decodeCaip19");p();m();var r_e=o(t=>{if(t.resourceType===pn.nativeToken)return`${t.chainId}/${pn.nativeToken}:${t.slip44}`;if(Ot.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${pn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${pn.address}:${t.address}`;if(Ot.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${pn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${pn.address}:${t.address}`;if(Ot.isSolanaNetworkID(t.chainId))return`${t.chainId}/${pn.address}:${t.address}`;if(Ot.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/${pn.address}:${e.address}`}return Ot.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${pn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${pn.address}:${t.address}`:as(t.chainId)},"encodeCaip19");p();m();p();m();var n_e=we.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let s=i[0],a=i[1];return typeof t=="string"&&Ot.isNetworkID(r)&&s.match(/^[-a-z0-9]{2,8}/)&&a.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});p();m();function i_e(t){return!t||t.resourceType!==pn.address?!1:!!Ot.isEVMNetworkID(t.chainId)}o(i_e,"isEvmCaip19Address");p();m();function o_e(t,e){return Ot.isBitcoinNetworkID(e)?Zv.safeParse(t).success:Ot.isEVMNetworkID(e)?c1.safeParse(t).success:Ot.isSolanaNetworkID(e)?f1.safeParse(t).success:Ot.isSuiNetworkID(e)?u1.safeParse(t).success:as(e)}o(o_e,"validateAddress");p();m();var s_e=o(t=>{let e=Ot.getNetworkIDs(t),r=Ot.getMainnetNetworkID(e[0]),n=Ot[t].slip44;return{chainId:r,resourceType:pn.nativeToken,slip44:n}},"getNativeFungibleCaip19ForChain");p();m();p();m();function a_e(t){return UE.safeParse(t).success}o(a_e,"isBitcoinChainAddress");function c_e(t){return FE.safeParse(t).success}o(c_e,"isSolanaChainAddress");function f_e(t){return GI.safeParse(t).success}o(f_e,"isEVMChainAddress");var u_e=we.object({networkID:Dd,addressType:we.nativeEnum(We),address:we.string()}),Yst=o(t=>`${t.networkID}-${t.address}`,"toKey"),l_e={toKey:Yst},d_e=o(t=>{let e={chainId:t.networkID,address:t.address,resourceType:pn.address};return Ot.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e},"chainAddressToCaip19Address");p();m();function h_e(t){return[Sn.Solana.Devnet,Sn.Solana.Testnet,Sn.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}o(h_e,"hexToCAIP2");p();m();var p_e=we.object({id:Dd,name:we.string(),symbol:we.string(),imageUrl:we.string()});function m_e(t){let{name:e,tokenSymbol:r,iconUrl:n}=Ot.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}o(m_e,"getNetworkMetadata");p();m();function g_e(t){switch(t){case"devnet":return Sn.Solana.Devnet;case"mainnet":return Sn.Solana.Mainnet;case"testnet":return Sn.Solana.Testnet;case"localnet":return Sn.Solana.Localnet}}o(g_e,"solanaNetworkIDToCAIPSolanaNetworkID");function y_e(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}o(y_e,"solanaNetworkIDToClusterID");p();m();var b_e=o((t,e)=>{if(Ot.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return We.BitcoinTaproot;case(e.startsWith("bc1q")||e.startsWith("tb1q")):return We.BitcoinNativeSegwit;case(e.startsWith("3")||e.startsWith("2")):return We.BitcoinNestedSegwit;case(e.startsWith("1")||e.startsWith("m")):return We.BitcoinLegacy}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return Ot.isEVMNetworkID(t)?We.EVM:Ot.isSolanaNetworkID(t)?We.Solana:Ot.isSuiNetworkID(t)?We.Sui:as(t)},"addressTypeFromAddress");p();m();var Xst=Ot.getAllNetworkIDs().filter(t=>Ot.isEVMNetworkID(t)),v_e=o(t=>Xst.find(e=>Ot.getNetworkDefinition(e).value===t),"evmNetworkIdForChainIdValue");p();m();var x_e=o(t=>Ot.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return Ot.isMainnetNetworkID(e);if(t==="testnets_only")return!Ot.isMainnetNetworkID(e)}else return!0}).map(tV),"getEthSupportedNetworkIds"),tV=o(t=>`0x${Ot.getNetworkDefinition(t).value.toString(16)}`,"networkIDToHex");p();m();var W_e=et(A_(),1),Y_e=et(fo(),1);p();m();var YI=et(fo(),1);p();m();var __e;var Jv=o(t=>{__e=t},"setCurrentConsumer"),Fi=o(()=>__e,"getCurrentConsumer");var XI=(0,YI.createContext)(void 0);function ZI(){return(0,YI.useContext)(XI)}o(ZI,"useScope");function qp(t){let e=Fi()?.scope??ZI();if(!e)throw new Error("useContext must be used within a signal hook, a withContext, or a component");return e.getContext(t)??t.defaultValue}o(qp,"useContext");p();m();p();m();p();m();var rV=class{static{o(this,"WeakRefPolyfill")}value;constructor(e){this.value=e}deref(){return this.value}},w_e=typeof WeakRef=="function"?WeakRef:rV;p();m();p();m();p();m();var Zst=o(t=>{setTimeout(()=>{t()},0)},"_scheduleFlush"),Jst=o(t=>t(),"_runBatch");var nV=o(t=>{Zst(t)},"scheduleFlush"),E_e=o(t=>{Jst(t)},"runBatch");p();m();p();m();var S_e=0;function qE(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:S_e++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=S_e++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}o(qE,"createEdge");function A_e(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}o(A_e,"findAndRemoveDirty");p();m();function ly(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())ly(n);dy(t)&&wh(t)}}o(ly,"watchSignal");function JI(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())JI(i);dy(t)&&t._value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}o(JI,"unwatchSignal");p();m();p();m();function QI(t){let e=t._state;e!==2&&(t._state=2,e<3&&iV(t))}o(QI,"dirtySignal");function iV(t){if(Fi()===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");dy(t)?t.watchCount>0&&tO(t):(t._isListener&&eO(t),HE(t.subs),t.subs=new Map)}o(iV,"propagateDirty");function HE(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,iV(n);break;case 1:case 3:case 4:{let s=n.dirtyHead,a=r.ord;if(s.ord>a)n.dirtyHead=r,r.nextDirty=s,(i===1||i===4)&&(n._state=3,iV(n));else{let f=s.nextDirty;for(;f!==void 0&&f.ord<a;)s=f,f=s.nextDirty;r.nextDirty=f,s.nextDirty=r}break}}}}o(HE,"dirtySignalConsumers");p();m();var Qst=0,oV=class{static{o(this,"StateSignal")}_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,s)=>i===s,n="signal"){this._value=e,this._equals=r,this._id=Qst++,this._desc=n}get value(){return this.consume(),this._value}update(e){this.value=e(this._value)}set value(e){this._equals(e,this._value)||(this._value=e,this.notify())}consume(){let e=Fi(),r=Hu();e!==void 0&&(r?.emit({type:Dc.ConsumeState,id:e.tracerMeta.id,name:this._desc,childId:this._id,value:this._value,setValue:o(n=>{this.value=n},"setValue")}),this._subs.set(e.ref,e.computedCount))}notify(){let{_subs:e}=this;for(let[r,n]of e.entries()){let i=r.deref();i===void 0||n!==i.computedCount||QI(i)}this._subs=new Map,rO(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function R_e(t){let e=t._listeners;if(e!==null)for(let r of e)r()}o(R_e,"runListeners");var eat=o(()=>!1,"FALSE_EQUALS");function Hp(t,e){let r=e?.equals===!1?eat:e?.equals??((n,i)=>n===i);return new oV(t,r,e?.desc)}o(Hp,"signal");p();m();var nO=o((t,e)=>t===e,"DEFAULT_EQUALS"),tat=o(()=>!1,"FALSE_EQUALS"),iO=o(t=>t===!1?tat:t??nO,"equalsFrom");p();m();p();m();p();m();var rat=function*(){}().constructor;function oO(t){return t.constructor===rat}o(oO,"isGeneratorResult");function Qv(t){return t.constructor===Promise}o(Qv,"isPromise");function T_e(t,e){function r(n){return typeof n=="object"&&n!==null&&(Qv(n)||Vu(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(g,b){let A=Fi();try{Jv(e);let T=g(b);T.done?n(T.value):r(T.value).then(l,h)}catch(T){i(T)}finally{Jv(A)}}o(s,"step");let a=t.next.bind(t),f=t.throw.bind(t);function l(g){s(a,g)}o(l,"fulfilled");function h(g){s(f,g)}o(h,"rejected"),s(a)})}o(T_e,"generatorResultToPromiseWithConsumer");function I_e(t,e){function r(n){return typeof n=="object"&&n!==null&&(Qv(n)||Vu(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(g,b){let A=sO();try{ex(e);let T=g(b);T.done?n(T.value):r(T.value).then(l,h)}catch(T){i(T)}finally{ex(A)}}o(s,"step");let a=t.next.bind(t),f=t.throw.bind(t);function l(g){s(a,g)}o(l,"fulfilled");function h(g){s(f,g)}o(h,"rejected"),s(a)})}o(I_e,"generatorResultToPromiseWithScope");var VE,sV=class{static{o(this,"Callback")}scope;deps;_callbacks;fn;constructor(e,r,n){this.deps=n,this.scope=r,this.setFn(e)}get callbacks(){return this._callbacks??(this._callbacks=[])}setFn(e){this.fn=(...r)=>{let n=this.scope,i=sO(),s=VE;try{VE=this,ex(n);let a=e(...r);return typeof a=="object"&&a!==null&&oO(a)?I_e(a,n):a}finally{VE=s,ex(i)}}}};function aV(t,e,r){return new sV(t,e,r)}o(aV,"createCallback");function Xi(t,e,r){let n;if(VE!==void 0)n=VE.callbacks;else{let s=Fi();if(s===void 0)throw new Error("callback must be used within a reactive function, component, or nested callback");n=s.callbacks??(s.callbacks=[])}let i=n[e];return i===void 0?i=n[e]=aV(t,tx(),r):r&&i.deps?.findIndex((s,a)=>s!==r[a])!==-1&&(i.setFn(t),i.deps=r),i.fn}o(Xi,"callback");var aO=Array.from;function nat(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}o(nat,"isThenable");function cO(t,e,r){nat(t)?t.then(e,r):e(t)}o(cO,"thenLoop");var fO=class t{static{o(this,"ReactivePromiseImpl")}_value=void 0;_error=void 0;_flags=1;_signal=void 0;_equals=nO;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_updatedCount=0;_version=Hp(0);run=void 0;constructor(e){if(N_e(this),e){let r=o(i=>{i&&typeof i.then=="function"?this._setPromise(i):this._setValue(i)},"resolve"),n=o(i=>{this._setError(i)},"reject");try{e(r,n)}catch(i){n(i)}}}static all(e){let r=new t,n=aO(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,f=!1,l=o(g=>b=>{f||(s[g]=b,--a===0&&r._setValue(s))},"onFulfillAt"),h=o(g=>{f||(f=!0,r._setError(g))},"onReject");for(let g=0;g<i;g++)cO(n[g],l(g),h);return r}static race(e){let r=new t,n=aO(e),i=n.length;if(i===0)return r;let s=!1,a=o(l=>{s||(s=!0,r._setValue(l))},"onFulfill"),f=o(l=>{s||(s=!0,r._setError(l))},"onReject");for(let l=0;l<i;l++)cO(n[l],a,f);return r}static any(e){let r=new t,n=aO(e),i=n.length;if(i===0)return r._setError(new AggregateError([],"No promises were provided to ReactivePromise.any")),r;let s=i,a=new Array(i),f=!1,l=o(g=>{f||(f=!0,r._setValue(g))},"onFulfill"),h=o(g=>b=>{f||(a[g]=b,--s===0&&r._setError(new AggregateError(a,"All promises were rejected in ReactivePromise.any")))},"onRejectAt");for(let g=0;g<i;g++)cO(n[g],l,h(g));return r}static allSettled(e){let r=new t,n=aO(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,f=o(h=>g=>{s[h]={status:"fulfilled",value:g},--a===0&&r._setValue(s)},"onFulfillAt"),l=o(h=>g=>{s[h]={status:"rejected",reason:g},--a===0&&r._setValue(s)},"onRejectAt");for(let h=0;h<i;h++)cO(n[h],f(h),l(h));return r}static resolve(e){return e instanceof t?e:new t(r=>r(e))}static reject(e){return new t((r,n)=>n(e))}static withResolvers(){let e=new t;return e._equals=nO,e._initFlags(1),{promise:e,resolve:o(i=>{i&&typeof i.then=="function"?e._setPromise(i):e._setValue(i)},"resolve"),reject:o(i=>{e._setError(i)},"reject")}}_initFlags(e){let r=Hu();r!==void 0&&this._signal!==void 0&&e&1&&r.emit({type:Dc.StartLoading,id:this._signal.tracerMeta.id}),this._flags=e}_consumeFlags(e){let r=Fi();if(r===void 0)return;this._flags&128&&this._connect();let n=r.ref,i=this._stateSubs,s=i.get(n)??0;i.set(n,s|e)}_connect(){let e=this._signal,r=Fi();if(r?.watchCount===0){let{ref:n,computedCount:i,deps:s}=r,a=s.get(e);if(a?.consumedAt!==i){let f=qE(a,0,e,e.updatedCount,i);e.subs.set(n,f),s.set(e,f)}}else jE(e)}_setFlags(e,r=0,n=0){let i=this._flags,s=i&~r|e,a=i^s|n;if(this._flags=s,a===0)return;a&48&&this._updatedCount++;let f=this._stateSubs;for(let[h,g]of f)if(g&a){let b=h.deref();b&&QI(b),f.delete(h)}this._version.update(h=>h+1);let l=Hu();l!==void 0&&this._signal!==void 0&&(e&1&&a&1?l.emit({type:Dc.StartLoading,id:this._signal.tracerMeta.id}):r&1&&a&1&&l.emit({type:Dc.EndLoading,id:this._signal.tracerMeta.id,value:cV(this)?"...":this._value}))}_setPending(){return this._setFlags(1),HE(this._awaitSubs),this._awaitSubs=new Map}_clearPending(){this._setFlags(0,1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(n=this._setPending());try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,s=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,s=16),n&2&&(s=32,this._error=void 0),n&1?this._scheduleSubs(r,s!==0):s!==0&&HE(r),this._awaitSubs=r=new Map,this._setFlags(12,3,s);let a=this._pending;this._pending=[];let f=this._updatedCount;for(let{ref:l,edge:h,resolve:g}of a)g?.(i),l!==void 0&&(h.updatedAt=f,r.set(l,h))}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._flags&1?this._scheduleSubs(r,i!==0):i!==0&&HE(r),this._awaitSubs=r=new Map,this._setFlags(2,5,i);let s=this._pending;this._pending=[];let a=this._updatedCount;for(let{ref:f,edge:l,reject:h}of s)h?.(n),f!==void 0&&(l.updatedAt=a,r.set(f,l))}_scheduleSubs(e,r){let n=r?2:4;for(let i of e.keys()){let s=i.deref();s!==void 0&&(s._state=n,tO(s))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}then(e,r){let n=this._flags;return new Promise((i,s)=>{let a,f,l=Fi();if(l!==void 0){n&128&&this._connect(),a=l.ref;let b=this._awaitSubs.get(a)??A_e(l,this);f=qE(b,1,this,this._updatedCount,l.computedCount)}let h=e?b=>{try{let A=e(b);i(A)}catch(A){s(A)}}:i,g=r?b=>{try{let A=r(b);i(A)}catch(A){s(A)}}:s;n&1?this._pending.push({ref:a,edge:f,resolve:h,reject:g}):(n&4?h(this._value):n&2&&g(this._error),a&&this._awaitSubs.set(a,f))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}},O_e=new WeakSet;function N_e(t){O_e.add(t)}o(N_e,"setReactivePromise");function Vu(t){return O_e.has(t)}o(Vu,"isReactivePromise");function cV(t){return Vu(t)&&(t._flags&128)!==0}o(cV,"isRelay");function M_e(t,e){let r=new fO;return r._signal=e,r._equals=e.def.equals,r._initFlags(1),r._setPromise(t),r}o(M_e,"createPromise");function C_e(t,e,r){let n=new fO,{fn:i}=aV(t,e);return n._equals=iO(r?.equals),n._initFlags(64),n.run=(...s)=>(n._setPromise(i(...s)),n),n}o(C_e,"createTask");function jE(t){let e=Fi();if(e!==void 0){let{ref:r,computedCount:n,deps:i}=e,s=i.get(t);if(s?.consumedAt!==n){s===void 0&&(Hu()?.emit({type:Dc.Connected,id:e.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:lO.Reactive}),e.watchCount>0&&ly(t));let f=wh(t),l=qE(s,0,t,f,n);t.subs.set(r,l),i.set(t,l)}else{let f=wh(t);s!==void 0&&(s.updatedAt=f)}}else wh(t);return t._value}o(jE,"getSignal");function wh(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r>=3){let i=t.dirtyHead;for(;i!==void 0;){if(i.type===1){let f=i.dep;if(f.isPending){let l=t._value;return f._awaitSubs.set(e,i),l._setPending(),t._state=1,t.dirtyHead=i,t.updatedCount}else if(i.updatedAt!==i.dep._updatedCount){t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty;continue}let s=i.dep,a=wh(s);if(s.subs.set(e,i),i.updatedAt!==a){t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty}}let n=t._state;return n===2?t._isLazy?t.updatedCount++:P_e(t):n===4&&t._value._clearPending(),t._state=0,t.dirtyHead=void 0,Hu()!==void 0&&t.tracerMeta?.tracer&&fV(t.tracerMeta.tracer),t.updatedCount}o(wh,"checkSignal");function P_e(t){let e=Hu();e?.emit({type:Dc.StartUpdate,id:t.tracerMeta.id});let r=Fi(),n=t.updatedCount,i=++t.computedCount;try{Jv(t);let s=n!==0,a=t._value,f=t.def.compute(...t.args),l=!1;f!==null&&typeof f=="object"&&(oO(f)?(f=T_e(f,t),l=!0):Qv(f)&&(l=!0)),l?a!==null&&typeof a=="object"&&Vu(a)?a._setPromise(f):(t._value=M_e(f,t),t.updatedCount=n+1):(!s||!t.def.equals(a,f))&&(t._value=f,t.updatedCount=t._isLazy?n:n+1)}finally{Jv(r),e?.emit({type:Dc.EndUpdate,id:t.tracerMeta.id,value:dy(t)?"...":t._value});let{ref:s,deps:a}=t;for(let[f,l]of a)l.consumedAt!==i&&(uO(f),f.subs.delete(s),a.delete(f),e?.emit({type:Dc.Disconnected,id:t.tracerMeta.id,childId:f.tracerMeta.id}))}}o(P_e,"runSignal");function k_e(t){let e=t.listeners,r=wh(t);return e!==null&&e.updatedAt!==r&&(e.updatedAt=r,rO(t)),r}o(k_e,"checkAndRunListeners");var iat=typeof requestIdleCallback=="function"?requestIdleCallback:t=>nV(t),B_e=!1,KE=new Set,hO=[],pO=new Map,uV=[],lV=[],dO=new Set,oat=o(()=>Promise.resolve(),"microtask"),mO=null,GE=o(t=>{if(mO)return;let e;mO={promise:new Promise(n=>e=n),resolve:e},nV(rx)},"scheduleFlush");var eO=o(t=>{KE.add(t),GE(rx)},"schedulePull"),L_e=o(t=>{KE.delete(t)},"cancelPull"),tO=o(t=>{hO.push(t),GE(rx)},"scheduleAsyncPull"),uO=o(t=>{let e=pO.get(t)??0;pO.set(t,e+1),GE(rx)},"scheduleUnwatch"),rO=o(t=>{uV.push(t),GE(rx)},"scheduleListeners"),fV=o(t=>{lV.push(t),GE(rx)},"scheduleTracer"),D_e=o(t=>{dO.add(t),!(dO.size>1)&&iat(()=>{for(let e of dO)e.sweepGc();dO.clear()})},"scheduleGcSweep"),rx=o(async()=>{let t=mO;for(;B_e||hO.length>0||KE.size>0;){B_e=!1;let e=hO;hO=[];for(let n of e)wh(n);let r=KE;KE=new Set;for(let n of r)k_e(n);await oat()}mO=null,E_e(()=>{for(let[e,r]of pO)JI(e,r);for(let e of uV)e instanceof $E?U_e(e):R_e(e);for(let e of lV)e.flush();pO.clear(),uV=[],lV=[]}),t.resolve()},"flushWatchers");var sat,Hu=o(()=>sat,"getTracerProxy"),Dc;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(Dc||(Dc={}));var lO;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(lO||(lO={}));p();m();var aat=0,F_e=new Map;function q_e(t){let e=F_e.get(t);return e===void 0&&(e=`unknownSignal${aat++}`,F_e.set(t,e)),e}o(q_e,"getUnknownSignalFnName");p();m();var{log:H_e,floor:V_e,imul:xo,abs:cat}=Math;function Df(t,e=0){let r=e^t.length,n=3432918353,i=461845907,s=0;for(;s+4<=t.length;){let f=t.charCodeAt(s)&255|(t.charCodeAt(s+1)&255)<<8|(t.charCodeAt(s+2)&255)<<16|(t.charCodeAt(s+3)&255)<<24;f=xo(f,n),f=f<<15|f>>>17,f=xo(f,i),r^=f,r=r<<13|r>>>19,r=xo(r,5)+3864292196,s+=4}let a=0;switch(t.length&3){case 3:a^=(t.charCodeAt(s+2)&255)<<16;case 2:a^=(t.charCodeAt(s+1)&255)<<8;case 1:a^=t.charCodeAt(s)&255,a=xo(a,n),a=a<<15|a>>>17,a=xo(a,i),r^=a}return r^=t.length,r^=r>>>16,r=xo(r,2246822507),r^=r>>>13,r=xo(r,3266489909),r^=r>>>16,r>>>0}o(Df,"hashStr");function z_e(t,e=0){t=cat(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let a=t&4294967295;t=V_e(t/4294967296),a=xo(a,n),a=a<<15|a>>>17,a=xo(a,i),r^=a,r=r<<13|r>>>19,r=xo(r,5)+3864292196}if(t>0){let a=t&4294967295;a=xo(a,n),a=a<<15|a>>>17,a=xo(a,i),r^=a}let s=t===0?1:V_e(H_e(t)/H_e(256))+1;return r^=s,r^=r>>>16,r=xo(r,2246822507),r^=r>>>13,r=xo(r,3266489909),r^=r>>>16,r>>>0}o(z_e,"hashNumber");function hV(t){let e=7,r=3432918353,n=461845907;for(let i of t){let s=Uf(i);s=xo(s,r),s=s<<15|s>>>17,s=xo(s,n),e^=s,e=e<<13|e>>>19,e=xo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=xo(e,2246822507),e^=e>>>13,e=xo(e,3266489909),e^=e>>>16,e>>>0}o(hV,"hashArray");function fat(t){let e=bat,r=Object.keys(t);for(let n of r)e+=Uf(n)^Uf(t[n]);return e>>>0}o(fat,"hashObject");function uat(t){let e=13;for(let r of t)e+=Uf(r);return e>>>0}o(uat,"hashSet");function lat(t){let e=12;for(let[r,n]of t)e+=Uf(r)^Uf(n);return e>>>0}o(lat,"hashMap");function dat(t){return z_e(t.getTime(),14)}o(dat,"hashDate");function hat(t){return(Df(t.source+t.flags,15)^t.lastIndex)>>>0}o(hat,"hashRegExp");var pat=Df("undefined",0),mat=Df("null",1),gat=Df("true",2),yat=Df("false",3),apr=Df("array",7),bat=Df("object",8),vat=Object.getPrototypeOf,xat=new Map([[Object.prototype,fat],[Array.prototype,hV],[Map.prototype,lat],[Set.prototype,uat],[Date.prototype,dat],[RegExp.prototype,hat]]);function Uf(t,e=[]){switch(typeof t){case"undefined":return pat;case"boolean":return t?gat:yat;case"number":return Df(String(t),4);case"string":return Df(t,5);case"bigint":return Df(t.toString(),6);case"object":{if(t===null)return mat;let r=e.indexOf(t);if(r!==-1)return Df(String(r),11);let n=xat.get(vat(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return dV(t)}case"function":return dV(t);case"symbol":return Df(t.toString(),10)}}o(Uf,"hashValue");var j_e=new WeakMap,_at=1;function dV(t){let e=j_e.get(t);return e===void 0&&(e=z_e(_at++,9),j_e.set(t,e)),e}o(dV,"getObjectHash");var wat=hV([]);function K_e(t,e){return dV(t)^(e.length>0?hV(e):wat)}o(K_e,"hashReactiveFn");p();m();var G_e=new WeakMap,Eat=1;function pV(t){let e=G_e.get(t);return e===void 0&&(e=`obj-${Eat++}`,G_e.set(t,e)),e}o(pV,"getObjectId");function Sat(t){return Object.getPrototypeOf(t)===Object.prototype}o(Sat,"isPOJO");function Aat(t){return Array.isArray(t)}o(Aat,"isPlainArray");function gO(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():Aat(t)?`[${t.map(gO).join(",")}]`:Sat(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${gO(n)}`).join(", ")} }`:pV(t);case"function":return pV(t);default:return pV(t)}}o(gO,"stringifyValue");var $_e=0,$E=class{static{o(this,"ReactiveFnSignal")}flags;scope=void 0;id=++$_e;subs=new Map;deps=new Map;ref=new w_e(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;key;args;callbacks=void 0;_listeners=null;_value=void 0;tracerMeta;def;constructor(e,r,n,i){this.flags=(e.isRelay?8:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,Hu()!==void 0&&(this.tracerMeta={id:e.id??n??Uf([e.compute,$_e++]),desc:e.desc??e.compute.name??q_e(e.compute),params:r.map(s=>gO(s)).join(", "),tracer:e.tracer})}get _state(){return this.flags&7}set _state(e){this.flags=this.flags&-8|e}get _isListener(){return(this.flags&16)!==0}set _isListener(e){e?this.flags|=16:this.flags&=-17}get _isLazy(){return(this.flags&32)!==0}set _isLazy(e){e?this.flags|=32:this.flags&=-33}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get value(){return jE(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(ly(this),this.flags|=16),eO(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(L_e(this),uO(this),this.flags&=-17))}}addListenerLazy(){return this._isListener||(ly(this),this.flags|=16),this.listeners.cachedBoundAdd}},U_e=o(t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},"runListeners"),dy=o(t=>(t.flags&8)!==0,"isRelay");function zE(t,e=[],r,n){return new $E(t,e,r,n)}o(zE,"createReactiveFnSignal");var Rat=0,mV=class{static{o(this,"ContextImpl")}defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${Rat++}`,this._key=Symbol(this._description)}},hy=o((t,e)=>new mV(t,e),"context");var WE=o(t=>{let e=bO??Fi()?.scope;if(e===void 0)throw new Error("getContext must be used within a reactive function, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue},"getContext"),nx=class t{static{o(this,"SignalScope")}parentScope;constructor(e,r){this.parentScope=r,this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n,typeof n=="object"&&n!==null&&Tat.set(n,this);this.signals.clear()}getChild(e){let r=Uf(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r){let n=e.paramKey?.(...r),i=K_e(e.compute,n?[n]:r),s=this.signals.get(i);return s===void 0&&(s=zE(e,r,i,this),this.signals.set(i,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),D_e(this))}removeFromGc(e){this.gcCandidates.delete(e);let{key:r}=e;r&&this.signals.set(r,e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){let e=this.signals;for(let r of this.gcCandidates)r.watchCount===0&&e.delete(r.key);this.gcCandidates=new Set}},gV=new nx([]),yO=o(()=>gV,"getGlobalScope");function yV(t){gV.setContexts(t)}o(yV,"setGlobalContexts");var bO,ex=o(t=>{bO=t},"setCurrentScope"),sO=o(()=>bO,"getInternalCurrentScope"),tx=o((t=gV)=>bO??Fi()?.scope??t,"getCurrentScope"),Tat=new WeakMap;function Iat({children:t,contexts:e=[],inherit:r=!0}){let n=(0,Y_e.useContext)(XI)??yO(),i=new nx(e,r?n:void 0);return(0,W_e.jsx)(XI.Provider,{value:i,children:t})}o(Iat,"ContextProvider");p();m();p();m();var Nat=et(A_(),1),bV=et(fo(),1);p();m();var vO=et(fo(),1);var X_e=(0,vO.createContext)(!1),Oat=X_e.Provider;function xO(){return(0,vO.useContext)(X_e)}o(xO,"useSignalsSuspended");p();m();var Cat=et(fo(),1);p();m();p();m();var Z_e=new Map;function vV(t,e){let r=Z_e.get(t);if(!r){let n={compute:t,equals:iO(e?.equals),isRelay:!1,id:e?.id,desc:e?.desc,paramKey:e?.paramKey,tracer:void 0},i=tx();r=[o((...a)=>tx(i).get(n,a).value,"reactiveFn"),n],Z_e.set(t,r)}return r}o(vV,"getReactiveFnAndDefinition");function si(t,e){return vV(t,e)[0]}o(si,"reactive");var YE=o((t,e)=>{let r=tx();return C_e(t,r,e)},"task");p();m();p();m();var XE=et(fo(),1);var J_e=o(t=>{let e=xO();return(0,XE.useSyncExternalStore)((0,XE.useCallback)(e?()=>()=>{}:r=>t.addListener(r),[t,e]),()=>t.value,()=>t.value)},"useStateSignal"),Q_e=o(t=>{let e=xO();return(0,XE.useSyncExternalStore)(e?()=>()=>{}:t.addListenerLazy(),()=>t.value,()=>t.value)},"useReactiveFnSignal"),e2e=o(t=>(cV(t)&&Q_e(t._signal),J_e(t._version),t),"useReactivePromise"),Pat=o((t,...e)=>{let[,r]=vV(t),i=(ZI()??yO()).get(r,e),s=Q_e(i);return typeof s=="object"&&s!==null&&Vu(s)?e2e(s):s},"useReactiveFn"),kat=o(t=>typeof t=="object"&&t!==null&&Vu(t),"isNonNullishAsyncSignal");function Ff(t,...e){return Fi()?typeof t=="function"?t(...e):kat(t)?t:t.value:typeof t=="function"?Pat(t,...e):typeof t=="object"&&t!==null&&Vu(t)?e2e(t):J_e(t)}o(Ff,"useReactive");p();m();var Nt;(function(t){t.Debug="debug",t.Fatal="fatal",t.Error="error",t.Info="info"})(Nt||(Nt={}));var ed;(function(t){t.PD="PD",t.WP="WP",t.IO="IO",t.PL="PL",t.TRA="TRA",t.SOC="SOC",t.CASH="CASH"})(ed||(ed={}));var nt;(function(t){t.Account="account",t.Auth="Auth",t.ActionBanner="actionBanner",t.Authentication="authentication",t.AutoConfirm="autoConfirm",t.BugReporter="bugReporter",t.Chat="chat",t.Collectibles="collectibles",t.DappBrowser="dappBrowser",t.DappRegistry="dappRegistry",t.DeepLinks="deepLinks",t.FeatureFlags="featureFlags",t.Feed="feed",t.FeedNotifications="feedNotifications",t.FileLogger="fileLogger",t.Fungibles="fungibles",t.History="history",t.Ledger="ledger",t.MagicEden="magicEden",t.Migration="migration",t.MobileWalletAdapter="mobileWalletAdapter",t.MobileEmbedded="mobileEmbedded",t.PhantomConnect="phantomConnect",t.Network="network",t.Notifications="notifications",t.OnRamp="onRamp",t.Performance="performance",t.Perps="perps",t.Prices="prices",t.Profiles="profiles",t.Provider="provider",t.Seedless="se*dless",t.Settings="settings",t.Simulation="simulation",t.Staking="staking",t.Storage="storage",t.StartUp="startUp",t.Swapper="swapper",t.Transaction="transaction",t.Safeguard="safeguard",t.Tokens="tokens",t.TrustedApps="trustedApps",t.UserSearch="userSearch",t.Generic="generic",t.WebTokenPage="webTokenPage",t.WebUserPage="webUserPage",t.WebPortal="webPortal",t.WebExplorePage="webExplorePage",t.WebAppPage="webAppPage",t.WebPublicSite="webPublicSite",t.Stripe="stripe",t.Kyc="kyc",t.Cash="cash",t.WebTokensSitemap="webTokensSitemap"})(nt||(nt={}));p();m();p();m();var Bat="Error message ignored by logging middleware.",t2e=o(t=>({beforeEvent:o((...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(Bat);return{value:e,...r.data?{data:r.data}:{}}},"beforeEvent"),afterEvent:void 0}),"ignoreMessages");p();m();var Lat="Sensitive data detected by pki scanner. File logging blocked.",Dat=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],r2e=new RegExp(`(${Dat.join("|")})`,"mi"),_O={beforeEvent:o((...[t,e])=>{let r=t instanceof Error?t.message:t;if(r2e.test(r)||e.data&&r2e.test(JSON.stringify(e.data)))throw new Error(Lat);return{value:t,...e.data?{data:e.data}:{}}},"beforeEvent"),afterEvent:void 0};var Uat=["premature close"],Fat=t2e(Uat),py=class extends Error{static{o(this,"FileLoggerUninitializedError")}constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function qat(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}o(r,"init");async function n(l){if(!e)throw new py;return e.provider.downloadLog(l)}o(n,"downloadLog");async function i(){if(!e)throw new py;return e.provider.getLogFilePaths()}o(i,"getLogFilePaths");async function s(){if(!e)throw new py;return e.provider.getRecentLogs()}o(s,"getRecentLogs");async function a(l){if(!e)throw new py;return e.provider.sendLogFilesByEmail(l)}o(a,"sendLogFilesByEmail");function f(l,h,g,b){if(!e)throw new py;for(let A of t)if(A?.beforeEvent!==void 0)try{A.beforeEvent(l,{featureTag:h,severity:g})}catch(T){Oa()&&T instanceof Error&&console.warn(T.message);return}e.provider.write(l,h,g,b);for(let A of t)if(A?.afterEvent!==void 0)try{A.afterEvent(l,{featureTag:h,severity:g})}catch(T){Oa()&&T instanceof Error&&console.warn(T.message);return}}return o(f,"write"),{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:s,sendLogFilesByEmail:a,write:f}}o(qat,"createFileLogger");var ZE=qat([Fat,_O]);p();m();p();m();p();m();p();m();p();m();p();m();function ix(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return n2e[t]>=n2e[r.getLevel()]&&i.includes(e)}o(ix,"isAuthorized");var jt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},n2e={[jt.ok]:0,[jt.debug]:1,[jt.info]:2,[jt.notice]:4,[jt.warn]:5,[jt.error]:6,[jt.critical]:7,[jt.alert]:8,[jt.emerg]:9};p();m();function Vp(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}o(Vp,"createErrorFieldFromRawError");var Hat=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(a=t[f])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},my={console:"console",http:"http",silent:"silent"},i2e=Object.keys(jt),Xs=class{static{o(this,"Logger")}constructor(e,r,n=my.http,i=jt.debug,s={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=g1("logger"),this.contextManager.setContext(s),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=jt.info,i,s){let a=h1(r),f;if(i!=null){let l=ZW({stackTrace:QW(i)?ZA(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:As.LOGGER,handling:"handled",startClocks:qW()});f=p1({error:Vp(l,{includeMessage:!0})},a)}else f=a;this.handleLogStrategy({message:h1(e),context:f,status:n},this,s)}log(e,r,n=jt.info,i){let s;ix(n,my.http,this)&&(s=UM("log")),this.logImplementation(e,r,n,i,s)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};Hat([jW],Xs.prototype,"logImplementation",null);Xs.prototype.ok=Eh(jt.ok);Xs.prototype.debug=Eh(jt.debug);Xs.prototype.info=Eh(jt.info);Xs.prototype.notice=Eh(jt.notice);Xs.prototype.warn=Eh(jt.warn);Xs.prototype.error=Eh(jt.error);Xs.prototype.critical=Eh(jt.critical);Xs.prototype.alert=Eh(jt.alert);Xs.prototype.emerg=Eh(jt.emerg);function Eh(t){return function(e,r,n){let i;ix(t,my.http,this)&&(i=UM("log")),this.logImplementation(e,r,t,n,i)}}o(Eh,"createLoggerMethod");p();m();function o2e(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}o(o2e,"buildCommonContext");p();m();p();m();var jat=32*1024;function a2e(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&cl.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=$W(t),r=s2e(t.forwardConsoleLogs,DM(eo),"Forward Console Logs"),n=s2e(t.forwardReports,DM(rY),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(eo.error)&&r.push(eo.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:jat,...e}}o(a2e,"validateAndBuildLogsConfiguration");function s2e(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){cl.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:sY(t)}o(s2e,"validateAndBuildForwardOption");function c2e(t){let e=WW(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}o(c2e,"serializeLogsConfiguration");function f2e(t,e,r){let n=aY(),i,s,a=e.observable.subscribe(f);function f(){if(!s||!i||!e.isGranted())return;a.unsubscribe();let l=r(i,s);n.drain(l)}return o(f,"tryStartLogs"),{init(l){if(!l){cl.error("Missing configuration");return}if(YW(l.enableExperimentalFeatures),wd()&&(l=zat(l)),i=l,s){QA("DD_LOGS",l);return}let h=a2e(l);h&&(s=h,n3().subscribe(dc),e.tryToInit(h.trackingConsent),f())},get initConfiguration(){return i},getInternalContext:dc,handleLog(l,h,g,b=t(),A=Gh()){n.add(T=>T.handleLog(l,h,g,b,A))}}}o(f2e,"createPreStartStrategy");function zat(t){return{...t,clientToken:"empty"}}o(zat,"overrideInitConfigurationForBridge");var xV="logs";function u2e(t){let e=g1("global context"),r=g1("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=g1("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=KW();function s(){return o2e(e,r,n)}o(s,"getCommonContext");let a=f2e(s,i,(h,g)=>{h.storeContextsAcrossPages&&(i3(g,e,xV,2),i3(g,r,xV,1),i3(g,n,xV,4));let b=t(h,g,s,i);return a=Kat(h,b),b}),f={},l=new Xs((...h)=>a.handleLog(...h));return tY({logger:l,init:Jn(h=>a.init(h)),setTrackingConsent:Jn(h=>{i.update(h),dY({feature:"set-tracking-consent",tracking_consent:h})}),getGlobalContext:Jn(()=>e.getContext()),setGlobalContext:Jn(h=>e.setContext(h)),setGlobalContextProperty:Jn((h,g)=>e.setContextProperty(h,g)),removeGlobalContextProperty:Jn(h=>e.removeContextProperty(h)),clearGlobalContext:Jn(()=>e.clearContext()),createLogger:Jn((h,g={})=>(f[h]=new Xs((...b)=>a.handleLog(...b),h1(h),g.handler,g.level,h1(g.context)),f[h])),getLogger:Jn(h=>f[h]),getInitConfiguration:Jn(()=>oY(a.initConfiguration)),getInternalContext:Jn(h=>a.getInternalContext(h)),setUser:Jn(r.setContext),getUser:Jn(r.getContext),setUserProperty:Jn(r.setContextProperty),removeUserProperty:Jn(r.removeContextProperty),clearUser:Jn(r.clearContext),setAccount:Jn(n.setContext),getAccount:Jn(n.getContext),setAccountProperty:Jn(n.setContextProperty),removeAccountProperty:Jn(n.removeContextProperty),clearAccount:Jn(n.clearContext)})}o(u2e,"makeLogsPublicApi");function Kat(t,e){return{init:o(r=>{QA("DD_LOGS",r)},"init"),initConfiguration:t,...e}}o(Kat,"createPostStartStrategy");p();m();p();m();var Gat="logs";function l2e(t,e){let r=hY(t,Gat,n=>$at(t,n),e);return{findTrackedSession:o((n,i={returnInactive:!1})=>{let s=r.findSession(n,i);return s&&s.trackingType==="1"?{id:s.id,anonymousId:s.anonymousId}:void 0},"findTrackedSession"),expireObservable:r.expireObservable}}o(l2e,"startLogsSessionManager");function d2e(t){let r=h2e(t)==="1"?{}:void 0;return{findTrackedSession:o(()=>r,"findTrackedSession"),expireObservable:new XA}}o(d2e,"startLogsSessionManagerStub");function h2e(t){return YA(t.sessionSampleRate)?"1":"0"}o(h2e,"computeTrackingType");function $at(t,e){let r=Wat(e)?e:h2e(t);return{trackingType:r,isTracked:r==="1"}}o($at,"computeSessionState");function Wat(t){return t==="0"||t==="1"}o(Wat,"hasValidLoggerSession");p();m();p();m();var p2e=!1;function ox(t){let e=self;if(o3()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!p2e&&(p2e=!0,$h("Logs sent before RUM is injected by the synthetics worker",{testId:SY(),resultId:AY()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}o(ox,"getRUMInternalContext");function m2e(t,e,r,n,i){let s=i2e.concat(["custom"]),a={};s.forEach(f=>{a[f]=vY(f,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:f,messageContext:l=void 0,savedCommonContext:h=void 0,domainContext:g})=>{var b,A;let T=HW(f.date),O=t.findTrackedSession(T);if(!t.findTrackedSession(T,{returnInactive:!0}))return;let P=h||n(),C;!LM(P.account)&&P.account.id&&(C=P.account),O&&O.anonymousId&&!P.user.anonymous_id&&(P.user.anonymous_id=O.anonymousId);let D=p1({service:e.service,session_id:O?O.id:void 0,session:O?{id:O.id}:void 0,usr:LM(P.user)?void 0:P.user,account:C,view:P.view},P.context,ox(T),f,l);((b=e.beforeSend)===null||b===void 0?void 0:b.call(e,D,g))===!1||D.origin!==As.AGENT&&((A=a[D.status])!==null&&A!==void 0?A:a.custom).isLimitReached()||r.notify(1,D)})}o(m2e,"startLogsAssembly");p();m();var Yat={[eo.log]:jt.info,[eo.debug]:jt.debug,[eo.info]:jt.info,[eo.warn]:jt.warn,[eo.error]:jt.error};function g2e(t,e){let r=wY(t.forwardConsoleLogs).subscribe(n=>{var i;let s={rawLogsEvent:{date:Gh(),message:n.message,origin:As.CONSOLE,error:n.error&&Vp(n.error),status:Yat[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,s)});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(g2e,"startConsoleCollection");p();m();function y2e(t,e){let r=nY(t,t.forwardReports).subscribe(n=>{let i=n.message,s,a=n.originalError.type==="deprecation"?jt.warn:jt.error;a===jt.error?s=Vp(n):n.stack&&(i+=` Found in ${JW(n.stack)}`),e.notify(0,{rawLogsEvent:{date:Gh(),message:i,origin:As.REPORT,error:s,status:a}})});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(y2e,"startReportCollection");p();m();function b2e(t,e){if(!t.forwardErrorsToLogs)return{stop:dc};let r=_Y(t).subscribe(s=>{s.state==="complete"&&i("xhr",s)}),n=n3().subscribe(s=>{s.state==="resolve"&&i("fetch",s)});function i(s,a){!GW(a.url)&&(Qat(a)||pY(a.status))&&("xhr"in a?Xat(a.xhr,t,f):a.response?Jat(a.response,t,f):a.error&&Zat(a.error,t,f));function f(l){let h={isAborted:a.isAborted,handlingStack:a.handlingStack};e.notify(0,{rawLogsEvent:{message:`${ect(s)} error ${a.method} ${a.url}`,date:a.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:a.method,status_code:a.status,url:a.url},status:jt.error,origin:As.NETWORK},domainContext:h})}o(f,"onResponseDataAvailable")}return o(i,"handleResponse"),{stop:o(()=>{r.unsubscribe(),n.unsubscribe()},"stop")}}o(b2e,"startNetworkErrorCollection");function Xat(t,e,r){typeof t.response=="string"?r(_V(t.response,e)):r(t.response)}o(Xat,"computeXhrResponseData");function Zat(t,e,r){r(_V(XW(ZA(t)),e))}o(Zat,"computeFetchErrorText");function Jat(t,e,r){let n=mY(t);!n||!n.body?r():self.TextDecoder?tct(n.body,e.requestErrorResponseLengthLimit,(i,s)=>{r(i?`Unable to retrieve response: ${i}`:s)}):n.text().then(Jn(i=>r(_V(i,e))),Jn(i=>r(`Unable to retrieve response: ${i}`)))}o(Jat,"computeFetchResponseText");function Qat(t){return t.status===0&&t.responseType!=="opaque"}o(Qat,"isRejected");function _V(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}o(_V,"truncateResponseText");function ect(t){return t==="xhr"?"XHR":"Fetch"}o(ect,"format");function tct(t,e,r){EY(t,(n,i,s)=>{if(n)r(n);else{let a=new TextDecoder().decode(i);s&&(a+="..."),r(void 0,a)}},{bytesLimit:e,collectStreamBody:!0})}o(tct,"truncateResponseStream");p();m();function v2e(t,e){if(!t.forwardErrorsToLogs)return{stop:dc};let r=new XA,{stop:n}=eY(r),i=r.subscribe(s=>{e.notify(0,{rawLogsEvent:{message:s.message,date:s.startClocks.timeStamp,error:Vp(s),origin:As.SOURCE,status:jt.error},messageContext:s.context})});return{stop:o(()=>{n(),i.unsubscribe()},"stop")}}o(v2e,"startRuntimeErrorCollection");p();m();var x2e=bY;p();m();function _2e(t){function e(r,n,i,s,a){let f=p1(n.getContext(),r.context);if(ix(r.status,my.console,n)&&nct(r,f),ix(r.status,my.http,n)){let l={rawLogsEvent:{date:a||Gh(),message:r.message,status:r.status,origin:As.LOGGER},messageContext:f,savedCommonContext:s};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return o(e,"handleLog"),{handleLog:e}}o(_2e,"startLoggerCollection");var rct={[jt.ok]:eo.debug,[jt.debug]:eo.debug,[jt.info]:eo.info,[jt.notice]:eo.info,[jt.warn]:eo.warn,[jt.error]:eo.error,[jt.critical]:eo.error,[jt.alert]:eo.error,[jt.emerg]:eo.error};function nct({status:t,message:e},r){DW[rct[t]].call(LW,e,r)}o(nct,"displayInConsole");p();m();function w2e(t,e,r,n,i){let s=r3(t,{endpoint:t.logsEndpointBuilder,encoder:m1()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:m1()},r,n,i.expireObservable);return e.subscribe(1,a=>{s.add(a)}),s}o(w2e,"startLogsBatch");p();m();function E2e(t){let e=t3();t.subscribe(1,r=>{e.send("log",r)})}o(E2e,"startLogsBridge");p();m();function S2e(t){return{get:o(e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}},"get")}}o(S2e,"startInternalContext");p();m();function A2e(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:As.AGENT,status:jt.error}}),$h("Error reported to customer",{"error.message":e.message})}}o(A2e,"startReportError");p();m();function R2e(t,e,r,n,i){let s=cY("browser-logs-sdk",e);s.setContextProvider(()=>{var f,l,h,g,b,A;return{application:{id:(f=ox())===null||f===void 0?void 0:f.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(g=(h=ox())===null||h===void 0?void 0:h.view)===null||g===void 0?void 0:g.id},action:{id:(A=(b=ox())===null||b===void 0?void 0:b.user_action)===null||A===void 0?void 0:A.id}}});let a=[];if(wd()){let f=t3(),l=s.observable.subscribe(h=>f.send("internal_telemetry",h));a.push(()=>l.unsubscribe())}else{let f=r3(e,{endpoint:e.rumEndpointBuilder,encoder:m1()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:m1()},r,n,i.expireObservable);a.push(()=>f.stop());let l=s.observable.subscribe(h=>f.add(h,uY(e)));a.push(()=>l.unsubscribe())}return fY(),lY(c2e(t)),{telemetry:s,stop:o(()=>{a.forEach(f=>f())},"stop")}}o(R2e,"startLogsTelemetry");function T2e(t,e,r,n){let i=new x2e,s=[];i.subscribe(1,A=>iY("logs",A));let a=A2e(i),f=yY(e),l=e.sessionStoreStrategyType&&!wd()&&!o3()?l2e(e,n):d2e(e),{stop:h}=R2e(t,e,a,f,l);s.push(()=>h()),b2e(e,i),v2e(e,i),g2e(e,i),y2e(e,i);let{handleLog:g}=_2e(i);if(m2e(l,e,i,r,a),wd())E2e(i);else{let{stop:A}=w2e(e,i,a,f,l);s.push(()=>A())}let b=S2e(l);return{handleLog:g,getInternalContext:b.get,stop:o(()=>{s.forEach(A=>A())},"stop")}}o(T2e,"startLogs");var jp=u2e(T2e);JA(d1(),"DD_LOGS",jp);p();m();p();m();p();m();p();m();function JE(t,e,r){let n=0,i=[],s,a=0,f=[],{stop:l}=O_(t,e,"message",({data:b})=>{if(b.type!=="wrote"||b.streamId!==r)return;n+=b.additionalBytesCount,i.push(b.result),s=b.trailer;let A=f.shift();A&&A.id===b.id?A.writeCallback?A.writeCallback(b.result.byteLength):A.finishCallback&&A.finishCallback():(l(),$h("Worker responses received out of order."))});function h(){let b=i.length===0?new Uint8Array(0):VW(i.concat(s)),A={rawBytesCount:n,output:b,outputBytesCount:b.byteLength,encoding:"deflate"};return n=0,i=[],A}o(h,"consumeResult");function g(){a>0&&(e.postMessage({action:"reset",streamId:r}),a=0)}return o(g,"sendResetIfNeeded"),{isAsync:!0,get isEmpty(){return a===0},write(b,A){e.postMessage({action:"write",id:a,data:b,streamId:r}),f.push({id:a,writeCallback:A,data:b}),a+=1},finish(b){g(),f.length?(f.forEach(A=>{delete A.writeCallback}),f[f.length-1].finishCallback=()=>b(h())):b(h())},finishSync(){g();let b=f.map(A=>(delete A.writeCallback,delete A.finishCallback,A.data)).join("");return{...h(),pendingData:b}},estimateEncodedBytesCount(b){return b.length/8},stop(){l()}}}o(JE,"createDeflateEncoder");p();m();p();m();function sx({configuredUrl:t,error:e,source:r,scriptType:n}){if(cl.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&ict(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",cl.error(`${i} See documentation at ${UW}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&e3(e)}o(sx,"reportScriptLoadingError");function ict(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}o(ict,"isMessageCspRelated");var oct=30*FW;function I2e(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}o(I2e,"createDeflateWorker");var Zi={status:0};function QE(t,e,r,n=I2e){switch(Zi.status===0&&sct(t,e,n),Zi.status){case 1:return Zi.initializationFailureCallbacks.push(r),Zi.worker;case 3:return Zi.worker}}o(QE,"startDeflateWorker");function wO(){return Zi.status}o(wO,"getDeflateWorkerStatus");function sct(t,e,r=I2e){try{let n=r(t),{stop:i}=O_(t,n,"error",f=>{wV(t,e,f)}),{stop:s}=O_(t,n,"message",({data:f})=>{f.type==="errored"?wV(t,e,f.error,f.streamId):f.type==="initialized"&&cct(f.version)});n.postMessage({action:"init"}),zW(()=>act(e),oct),Zi={status:1,worker:n,stop:o(()=>{i(),s()},"stop"),initializationFailureCallbacks:[]}}catch(n){wV(t,e,n)}}o(sct,"doStartDeflateWorker");function act(t){Zi.status===1&&(cl.error(`${t} failed to start: a timeout occurred while initializing the Worker`),Zi.initializationFailureCallbacks.forEach(e=>e()),Zi={status:2})}o(act,"onTimeout");function cct(t){Zi.status===1&&(Zi={status:3,worker:Zi.worker,stop:Zi.stop,version:t})}o(cct,"onInitialized");function wV(t,e,r,n){Zi.status===1||Zi.status===0?(sx({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),Zi.status===1&&Zi.initializationFailureCallbacks.forEach(i=>i()),Zi={status:2}):e3(r,{worker_version:Zi.status===3&&Zi.version,stream_id:n})}o(wV,"onError");p();m();function EO(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}o(EO,"isBrowserSupported");p();m();p();m();function O2e(t,e,r,n){let i=e.findTrackedSession(),s=fct(i,n),a=r.findView();return IY(t,{viewContext:a,errorType:s,session:i})}o(O2e,"getSessionReplayLink");function fct(t,e){if(!EO())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}o(fct,"getErrorType");function N2e(t,e,r,n,i,s){let a=0,f;e.subscribe(9,()=>{(a===2||a===3)&&(g(),a=1)}),e.subscribe(10,()=>{a===1&&h()});let l=o(async()=>{let[b]=await Promise.all([i(),xY(t,"interactive")]);if(a!==2)return;let A=s();if(!A||!b){a=0;return}({stop:f}=b(e,t,r,n,A)),a=3},"doStart");function h(b){let A=r.findTrackedSession();if(uct(A,b)){a=1;return}lct(a)||(a=2,l().catch(I_),dct(A,b)&&r.setForcedReplay())}o(h,"start");function g(){a===3&&f?.(),a=0}return o(g,"stop"),{start:h,stop:g,getSessionReplayLink(){return O2e(t,r,n,a!==0)},isRecording:o(()=>a===3,"isRecording")}}o(N2e,"createPostStartStrategy");function uct(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}o(uct,"canStartRecording");function lct(t){return t===2||t===3}o(lct,"isRecordingInProgress");function dct(t,e){return e&&e.force&&t.sessionReplay===0}o(dct,"shouldForceReplay");p();m();function M2e(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:dc},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}o(M2e,"createPreStartStrategy");function C2e(t,e){if(wd()&&!gY("records")||!EO())return{start:dc,stop:dc,getReplayStats:o(()=>{},"getReplayStats"),onRumStart:dc,isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:o(()=>{},"getSessionReplayLink")};let{strategy:r,shouldStartImmediately:n}=M2e();return{start:o(s=>r.start(s),"start"),stop:o(()=>r.stop(),"stop"),getSessionReplayLink:o(()=>r.getSessionReplayLink(),"getSessionReplayLink"),onRumStart:i,isRecording:o(()=>wO()===3&&r.isRecording(),"isRecording"),getReplayStats:o(s=>wO()===3?OY(s):void 0,"getReplayStats")};function i(s,a,f,l,h){let g;function b(){return g||(h??(h=QE(a,"Datadog Session Replay",()=>{r.stop()},e)),h&&(g=JE(a,h,1))),g}o(b,"getOrCreateDeflateEncoder"),r=N2e(a,s,f,l,t,b),n(a)&&r.start()}}o(C2e,"makeRecorderApi");p();m();async function P2e(t=hct){try{return await t()}catch(e){sx({error:e,source:"Recorder",scriptType:"module"})}}o(P2e,"lazyLoadRecorder");async function hct(){return(await import("./startRecording-BJY2IEG4.js")).startRecording}o(hct,"importRecorder");p();m();p();m();function k2e(){return d1().Profiler!==void 0}o(k2e,"isProfilingSupported");p();m();async function B2e(t=pct){try{return await t()}catch(e){sx({error:e,source:"Profiler",scriptType:"module"})}}o(B2e,"lazyLoadProfiler");async function pct(){return(await import("./profiler-STL6OX5E.js")).createRumProfiler}o(pct,"importProfiler");function L2e(){let t;function e(r,n,i,s){!k2e()||!YA(n.profilingSampleRate)||B2e().then(a=>{if(!a){$h("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=a(n,r,i),t.start(s.findView())}).catch(I_)}return o(e,"onRumStart"),{onRumStart:e,stop:o(()=>{t?.stop().catch(I_)},"stop")}}o(L2e,"makeProfilerApi");var mct=C2e(P2e),gct=L2e(),gy=RY(TY,mct,gct,{startDeflateWorker:QE,createDeflateEncoder:JE});JA(d1(),"DD_RUM",gy);p();m();var eS={init:o(async(t,e)=>{},"init"),captureError:o((t,e)=>{},"captureError"),captureMessage:o((t,e,r=Nt.Info)=>{},"captureMessage"),addBreadcrumb:o((t,e,r)=>{},"addBreadcrumb"),setUser:o(async t=>{},"setUser"),setTags:o(async t=>{},"setTags"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{},"startInactiveSpan"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};p();m();var ax=o(t=>{switch(t){case nt.Collectibles:case nt.MagicEden:case nt.Fungibles:case nt.Staking:case nt.Swapper:case nt.Perps:case nt.Prices:case nt.WebTokenPage:case nt.WebExplorePage:case nt.Tokens:case nt.WebTokensSitemap:return ed.PD;case nt.AutoConfirm:case nt.DeepLinks:case nt.DappBrowser:case nt.DappRegistry:case nt.Network:case nt.Transaction:case nt.Provider:case nt.History:case nt.TrustedApps:case nt.Simulation:case nt.MobileEmbedded:return ed.WP;case nt.WebAppPage:case nt.Account:case nt.Auth:case nt.ActionBanner:case nt.Authentication:case nt.Ledger:case nt.Seedless:case nt.PhantomConnect:case nt.Settings:case nt.Migration:case nt.MobileWalletAdapter:case nt.Generic:case nt.StartUp:case nt.WebPortal:case nt.Notifications:case nt.WebPublicSite:return ed.IO;case nt.BugReporter:case nt.Storage:case nt.FileLogger:case nt.FeatureFlags:case nt.Performance:return ed.PL;case nt.Safeguard:return ed.TRA;case nt.Chat:case nt.Profiles:case nt.Feed:case nt.FeedNotifications:case nt.WebUserPage:case nt.UserSearch:return ed.SOC;case nt.Stripe:case nt.Kyc:case nt.OnRamp:case nt.Cash:return ed.CASH}},"teamForTag");p();m();var SO;function D2e(){return SO===void 0&&(typeof process<"u"&&I?SO=I.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(SO=self.process.env.DATADOG_CLIENT_TOKEN)),SO}o(D2e,"getDatadogClientToken");var yct={init:o(async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||D2e();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate;gy.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:BM,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"],defaultPrivacyLevel:"mask"}),jp.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:BM,silentMultipleInit:!0,trackAnonymousUser:!1})},"init"),captureError:o((t,e)=>{EV(t.message,Nt.Error,{feature:e,team:ax(e)},t)},"captureError"),captureMessage:o((t,e,r=Nt.Info)=>{EV(t,r,{feature:e,team:ax(e)})},"captureMessage"),addBreadcrumb:o((t,e,r,n={})=>{EV(e,r,{category:t,...n})},"addBreadcrumb"),setUser:o(async t=>{jp.setUser(t),gy.setUser(t)},"setUser"),setTags:o(async t=>{gy.setGlobalContext({tags:t}),jp.setGlobalContext({tags:t})},"setTags"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(()=>{},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{gy.addFeatureFlagEvaluation(t,e)},"trackFeatureFlag")};function EV(t,e,r,n){switch((e===Nt.Error||e===Nt.Fatal)&&gy.addError(n??t,r),e){case Nt.Fatal:!n&&jp.logger.critical(t,{context:r});break;case Nt.Error:!n&&jp.logger.error(t,{context:r});break;case Nt.Info:jp.logger.info(t,{context:r},n);break;case Nt.Debug:break}}o(EV,"reportToDatadog");function bct(){return typeof document<"u"}o(bct,"envSupportsDatadog");var U2e=bct()?yct:eS;p();m();var F2e=o(t=>({beforeEvent:o((...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},"beforeEvent"),afterEvent:void 0}),"fileLoggerMiddleware");p();m();p();m();var vct=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,xct=/\b0x[a-fA-F0-9]{64}\b/g,_ct=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,wct=/\b0x[a-fA-F0-9]{40}\b/g,q2e={SOLANA_SIGNATURE:vct,EVM_SIGNATURE:xct,SOLANA_PUBKEY:_ct,EVM_PUBKEY:wct},H2e=o(t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=AO(n):e[r]=n,e),{}),"stripSignaturesAndPubkeysFromContextObject"),AO=o(t=>{let e=t;for(let r in q2e){let n=q2e[r];e=e.replace(n,"")}return e},"stripSignaturesAndPubkeysFromString"),Ect=o(t=>(t.message&&(t.message=AO(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=AO(t.cause)),t),"stripSignaturesAndPubkeysFromError"),V2e=o(t=>t instanceof Error?Ect(t):AO(t),"stripSignaturesAndPubkeysFromStringOrError");var j2e={beforeEvent:o((...[t,e])=>({value:V2e(t),...e.data?{data:H2e(e.data)}:{}}),"beforeEvent"),afterEvent:void 0};p();m();function z2e(t,e){return{init:o(async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},"init"),captureError:o((r,n)=>{qf(()=>t.captureError(r,n)),qf(()=>e.captureError(r,n))},"captureError"),captureMessage:o((r,n,i=Nt.Info)=>{qf(()=>t.captureMessage(r,n,i)),qf(()=>e.captureMessage(r,n,i))},"captureMessage"),addBreadcrumb:o((r,n,i,s)=>{qf(()=>t.addBreadcrumb(r,n,i,s)),qf(()=>e.addBreadcrumb(r,n,i,s))},"addBreadcrumb"),setUser:o(async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},"setUser"),setTags:o(async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},"setTags"),captureMetric:o(async(r,n,i)=>{qf(()=>e.captureMetric(r,n,i))},"captureMetric"),startSpan:o((r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),"startSpan"),startInactiveSpan:o(r=>{let n=qf(()=>t.startInactiveSpan(r)),i=qf(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:o(()=>Sct(n,i),"end")})},"startInactiveSpan"),trackFeatureFlag:o((r,n)=>{qf(()=>t.trackFeatureFlag(r,n)),qf(()=>e.trackFeatureFlag(r,n))},"trackFeatureFlag")}}o(z2e,"createMultiProvider");function qf(t){try{return t()}catch(e){Oa()&&console.error("[MultiProvider] Error:",e);return}}o(qf,"safeTry");function Sct(...t){for(let e of t)e&&qf(()=>e.then(r=>r.end()))}o(Sct,"endSpans");p();m();p();m();p();m();p();m();p();m();p();m();var Dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();p();m();p();m();var ju="8.55.0";var zt=globalThis;function zp(t,e,r){let n=r||zt,i=n.__SENTRY__=n.__SENTRY__||{},s=i[ju]=i[ju]||{};return s[t]||(s[t]=e())}o(zp,"getGlobalSingleton");p();m();p();m();var Qa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();var Act="Sentry Logger ",tS=["debug","info","warn","error","log","assert","trace"],cx={};function ec(t){if(!("console"in zt))return t();let e=zt.console,r={},n=Object.keys(cx);n.forEach(i=>{let s=cx[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}o(ec,"consoleSandbox");function Rct(){let t=!1,e={enable:o(()=>{t=!0},"enable"),disable:o(()=>{t=!1},"disable"),isEnabled:o(()=>t,"isEnabled")};return Qa?tS.forEach(r=>{e[r]=(...n)=>{t&&ec(()=>{zt.console[r](`${Act}[${r}]:`,...n)})}}):tS.forEach(r=>{e[r]=()=>{}}),e}o(Rct,"makeLogger");var Ze=zp("logger",Rct);p();m();var td="?",K2e=/\(error: (.*)\)/,G2e=/captureMessage|captureException/;function TO(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let s=[],a=r.split(`
`);for(let f=n;f<a.length;f++){let l=a[f];if(l.length>1024)continue;let h=K2e.test(l)?l.replace(K2e,"$1"):l;if(!h.match(/\S*Error: /)){for(let g of e){let b=g(h);if(b){s.push(b);break}}if(s.length>=50+i)break}}return $2e(s.slice(i))}}o(TO,"createStackParser");function AV(t){return Array.isArray(t)?TO(...t):t}o(AV,"stackParserFromStackParserOptions");function $2e(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(RO(e).function||"")&&e.pop(),e.reverse(),G2e.test(RO(e).function||"")&&(e.pop(),G2e.test(RO(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||RO(e).filename,function:r.function||td}))}o($2e,"stripSentryFramesAndReverse");function RO(t){return t[t.length-1]||{}}o(RO,"getLastStackFrame");var SV="<anonymous>";function tc(t){try{return!t||typeof t!="function"?SV:t.name||SV}catch{return SV}}o(tc,"getFunctionName");function IO(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}o(IO,"getFramesFromEvent");var OO={},W2e={};function Zs(t,e){OO[t]=OO[t]||[],OO[t].push(e)}o(Zs,"addHandler");function Js(t,e){if(!W2e[t]){W2e[t]=!0;try{e()}catch(r){Qa&&Ze.error(`Error while instrumenting ${t}`,r)}}}o(Js,"maybeInstrument");function oo(t,e){let r=t&&OO[t];if(r)for(let n of r)try{n(e)}catch(i){Qa&&Ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${tc(n)}
Error:`,i)}}o(oo,"triggerHandlers");var RV=null;function rS(t){let e="error";Zs(e,t),Js(e,Tct)}o(rS,"addGlobalErrorInstrumentationHandler");function Tct(){RV=zt.onerror,zt.onerror=function(t,e,r,n,i){return oo("error",{column:n,error:i,line:r,msg:t,url:e}),RV?RV.apply(this,arguments):!1},zt.onerror.__SENTRY_INSTRUMENTED__=!0}o(Tct,"instrumentError");p();m();var TV=null;function nS(t){let e="unhandledrejection";Zs(e,t),Js(e,Ict)}o(nS,"addGlobalUnhandledRejectionInstrumentationHandler");function Ict(){TV=zt.onunhandledrejection,zt.onunhandledrejection=function(t){return oo("unhandledrejection",t),TV?TV.apply(this,arguments):!0},zt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(Ict,"instrumentUnhandledRejection");p();m();p();m();p();m();function Uc(){return iS(zt),zt}o(Uc,"getMainCarrier");function iS(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||ju,e[ju]=e[ju]||{}}o(iS,"getSentryCarrier");p();m();p();m();p();m();p();m();p();m();p();m();p();m();var Y2e=Object.prototype.toString;function yy(t){switch(Y2e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Fc(t,Error)}}o(yy,"isError");function fx(t,e){return Y2e.call(t)===`[object ${e}]`}o(fx,"isBuiltin");function NO(t){return fx(t,"ErrorEvent")}o(NO,"isErrorEvent");function MO(t){return fx(t,"DOMError")}o(MO,"isDOMError");function IV(t){return fx(t,"DOMException")}o(IV,"isDOMException");function wa(t){return fx(t,"String")}o(wa,"isString");function ux(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(ux,"isParameterizedString");function by(t){return t===null||ux(t)||typeof t!="object"&&typeof t!="function"}o(by,"isPrimitive");function zu(t){return fx(t,"Object")}o(zu,"isPlainObject");function vy(t){return typeof Event<"u"&&Fc(t,Event)}o(vy,"isEvent");function OV(t){return typeof Element<"u"&&Fc(t,Element)}o(OV,"isElement");function NV(t){return fx(t,"RegExp")}o(NV,"isRegExp");function Ku(t){return!!(t&&t.then&&typeof t.then=="function")}o(Ku,"isThenable");function MV(t){return zu(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(MV,"isSyntheticEvent");function Fc(t,e){try{return t instanceof e}catch{return!1}}o(Fc,"isInstanceOf");function oS(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(oS,"isVueViewModel");var lx=zt,Oct=80;function qc(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],s=0,a=0,f=" > ",l=f.length,h,g=Array.isArray(e)?e:e.keyAttrs,b=!Array.isArray(e)&&e.maxStringLength||Oct;for(;r&&s++<n&&(h=Nct(r,g),!(h==="html"||s>1&&a+i.length*l+h.length>=b));)i.push(h),a+=h.length,r=r.parentNode;return i.reverse().join(f)}catch{return"<unknown>"}}o(qc,"htmlTreeAsString");function Nct(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(lx.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let a=r.className;if(a&&wa(a)){let f=a.split(/\s+/);for(let l of f)n.push(`.${l}`)}}let s=["aria-label","type","name","title","alt"];for(let a of s){let f=r.getAttribute(a);f&&n.push(`[${a}="${f}"]`)}return n.join("")}o(Nct,"_htmlElementAsString");function CV(){try{return lx.document.location.href}catch{return""}}o(CV,"getLocationHref");function PV(t){return lx.document&&lx.document.querySelector?lx.document.querySelector(t):null}o(PV,"getDomElement");function sS(t){if(!lx.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(sS,"getComponentName");p();m();function rd(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(rd,"truncate");function CO(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{oS(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}o(CO,"safeJoin");function X2e(t,e,r=!1){return wa(t)?NV(e)?e.test(t):wa(e)?r?t===e:t.includes(e):!1:!1}o(X2e,"isMatchingPattern");function nd(t,e=[],r=!1){return e.some(n=>X2e(t,n,r))}o(nd,"stringMatchesSomePattern");function _o(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&PO(i,n);try{t[e]=i}catch{Qa&&Ze.log(`Failed to replace method "${e}" in object`,t)}}o(_o,"fill");function Ji(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Qa&&Ze.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(Ji,"addNonEnumerableProperty");function PO(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,Ji(t,"__sentry_original__",e)}catch{}}o(PO,"markFunctionWrapped");function xy(t){return t.__sentry_original__}o(xy,"getOriginalFunction");function kO(t){if(yy(t))return{message:t.message,name:t.name,stack:t.stack,...J2e(t)};if(vy(t)){let e={type:t.type,target:Z2e(t.target),currentTarget:Z2e(t.currentTarget),...J2e(t)};return typeof CustomEvent<"u"&&Fc(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(kO,"convertToPlainObject");function Z2e(t){try{return OV(t)?qc(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(Z2e,"serializeEventTarget");function J2e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}o(J2e,"getOwnProperties");function BV(t,e=40){let r=Object.keys(kO(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return rd(n,e);for(let i=r.length;i>0;i--){let s=r.slice(0,i).join(", ");if(!(s.length>e))return i===r.length?s:rd(s,e)}return""}o(BV,"extractExceptionKeysForMessage");function Pn(t){return kV(t,new Map)}o(Pn,"dropUndefinedKeys");function kV(t,e){if(Mct(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=kV(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(kV(i,e))}),n}return t}o(kV,"_dropUndefinedKeys");function Mct(t){if(!zu(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(Mct,"isPojo");p();m();var Q2e=1e3;function id(){return Date.now()/Q2e}o(id,"dateTimestampInSeconds");function Cct(){let{performance:t}=zt;if(!t||!t.now)return id;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/Q2e}o(Cct,"createUnixTimestampInSecondsFunc");var qi=Cct(),aS,so=(()=>{let{performance:t}=zt;if(!t||!t.now){aS="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):e,h=l<e;return s||h?i<=l?(aS="timeOrigin",t.timeOrigin):(aS="navigationStart",a):(aS="dateNow",n)})();p();m();function wo(){let t=zt,e=t.crypto||t.msCrypto,r=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=o(()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}o(wo,"uuid4");function ewe(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(ewe,"getFirstException");function Gu(t){let{message:e,event_id:r}=t;if(e)return e;let n=ewe(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}o(Gu,"getEventDescription");function dx(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}o(dx,"addExceptionTypeValue");function od(t,e){let r=ewe(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};r.mechanism.data=s}}o(od,"addExceptionMechanism");function BO(t){if(Pct(t))return!0;try{Ji(t,"__sentry_captured__",!0)}catch{}return!1}o(BO,"checkOrSetAlreadyCaught");function Pct(t){try{return t.__sentry_captured__}catch{}}o(Pct,"isAlreadyCaptured");p();m();var Sh;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(Sh||(Sh={}));function Hf(t){return new $u(e=>{e(t)})}o(Hf,"resolvedSyncPromise");function Kp(t){return new $u((e,r)=>{r(t)})}o(Kp,"rejectedSyncPromise");var $u=class t{static{o(this,"SyncPromise")}constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=Sh.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{n(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(Sh.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Sh.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===Sh.PENDING){if(Ku(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Sh.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Sh.RESOLVED&&r[1](this._value),this._state===Sh.REJECTED&&r[2](this._value),r[0]=!0)})}}};function twe(t){let e=qi(),r={sid:wo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>kct(r),"toJSON")};return t&&Ah(r,t),r}o(twe,"makeSession");function Ah(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||qi(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:wo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(Ah,"updateSession");function rwe(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Ah(t,r)}o(rwe,"closeSession");function kct(t){return Pn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(kct,"sessionToJSON");p();m();function rc(){return wo()}o(rc,"generateTraceId");function nc(){return wo().substring(16)}o(nc,"generateSpanId");p();m();function hx(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=hx(n[i],e[i],r-1));return n}o(hx,"merge");p();m();var LV="_sentrySpan";function Rh(t,e){e?Ji(t,LV,e):delete t[LV]}o(Rh,"_setSpanForScope");function _y(t){return t[LV]}o(_y,"_getSpanForScope");var Bct=100,DV=class t{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:rc(),spanId:nc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Rh(e,_y(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ah(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof Hc?[r.getScopeData(),r.getRequestSession()]:zu(r)?[e,e.requestSession]:[],{tags:s,extra:a,user:f,contexts:l,level:h,fingerprint:g=[],propagationContext:b}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},f&&Object.keys(f).length&&(this._user=f),h&&(this._level=h),g.length&&(this._fingerprint=g),b&&(this._propagationContext=b),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Rh(this,void 0),this._attachments=[],this.setPropagationContext({traceId:rc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Bct;if(n<=0)return this;let i={timestamp:id(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_y(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=hx(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:nc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:wo();if(!this._client)return Ze.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:wo();if(!this._client)return Ze.warn("No client configured on scope - will not capture message!"),i;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:wo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(Ze.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},Hc=DV;function nwe(){return zp("defaultCurrentScope",()=>new Hc)}o(nwe,"getDefaultCurrentScope");function iwe(){return zp("defaultIsolationScope",()=>new Hc)}o(iwe,"getDefaultIsolationScope");var UV=class{static{o(this,"AsyncContextStack")}constructor(e,r){let n;e?n=e:n=new Hc;let i;r?i=r:i=new Hc,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return Ku(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function px(){let t=Uc(),e=iS(t);return e.stack=e.stack||new UV(nwe(),iwe())}o(px,"getAsyncContextStack");function Lct(t){return px().withScope(t)}o(Lct,"withScope");function Dct(t,e){let r=px();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}o(Dct,"withSetScope");function owe(t){return px().withScope(()=>t(px().getIsolationScope()))}o(owe,"withIsolationScope");function swe(){return{withIsolationScope:owe,withScope:Lct,withSetScope:Dct,withSetIsolationScope:o((t,e)=>owe(e),"withSetIsolationScope"),getCurrentScope:o(()=>px().getScope(),"getCurrentScope"),getIsolationScope:o(()=>px().getIsolationScope(),"getIsolationScope")}}o(swe,"getStackAsyncContextStrategy");function sd(t){let e=iS(t);return e.acs?e.acs:swe()}o(sd,"getAsyncContextStrategy");p();m();function lr(){let t=Uc();return sd(t).getCurrentScope()}o(lr,"getCurrentScope");function Eo(){let t=Uc();return sd(t).getIsolationScope()}o(Eo,"getIsolationScope");function LO(){return zp("globalScope",()=>new Hc)}o(LO,"getGlobalScope");function Gp(...t){let e=Uc(),r=sd(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}o(Gp,"withScope");function Wt(){return lr().getClient()}o(Wt,"getClient");function FV(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Pn({trace_id:r,span_id:n,parent_span_id:i})}o(FV,"getTraceContextFromScope");p();m();var Uct="_sentryMetrics";function cS(t){let e=t[Uct];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(Pn(i));return r}o(cS,"getMetricSummaryJsonForSpan");p();m();var Qs="sentry.source",mx="sentry.sample_rate",Ea="sentry.op",kn="sentry.origin",gx="sentry.idle_span_finish_reason",$p="sentry.measurement_unit",Wp="sentry.measurement_value",fS="sentry.custom_span_name",qV="sentry.profile_id",wy="sentry.exclusive_time";p();m();function HV(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}o(HV,"getSpanStatusFromHttpCode");function yx(t,e){t.setAttribute("http.response.status_code",e);let r=HV(e);r.message!=="unknown_error"&&t.setStatus(r)}o(yx,"setHttpStatus");p();m();p();m();var DO="sentry-",Fct=/^sentry-/,qct=8192;function UO(t){let e=Hct(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(Fct)){let a=i.slice(DO.length);n[a]=s}return n},{});if(Object.keys(r).length>0)return r}o(UO,"baggageHeaderToDynamicSamplingContext");function VV(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${DO}${n}`]=i),r),{});return Vct(e)}o(VV,"dynamicSamplingContextToSentryBaggageHeader");function Hct(t){if(!(!t||!wa(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=awe(r);return Object.entries(n).forEach(([i,s])=>{e[i]=s}),e},{}):awe(t)}o(Hct,"parseBaggageHeader");function awe(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}o(awe,"baggageHeaderToObject");function Vct(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=i===0?s:`${e},${s}`;return a.length>qct?(Qa&&Ze.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}o(Vct,"objectToBaggageHeader");var FO=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function cwe(t){if(!t)return;let e=t.match(FO);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}o(cwe,"extractTraceparentData");function jV(t,e){let r=cwe(t),n=UO(e);if(!r||!r.traceId)return{traceId:rc(),spanId:nc()};let{traceId:i,parentSpanId:s,parentSampled:a}=r,f=nc();return{traceId:i,parentSpanId:s,spanId:f,sampled:a,dsc:n||{}}}o(jV,"propagationContextFromHeaders");function uS(t=rc(),e=nc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}o(uS,"generateSentryTraceHeader");var qO=0,KV=1,fwe=!1;function lwe(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:a,origin:f}=Yt(t);return Pn({parent_span_id:s,span_id:e,trace_id:r,data:n,op:i,status:a,origin:f})}o(lwe,"spanToTransactionTraceContext");function GV(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Yt(t).parent_span_id,s=n?nc():e;return Pn({parent_span_id:i,span_id:s,trace_id:r})}o(GV,"spanToTraceContext");function HO(t){let{traceId:e,spanId:r}=t.spanContext(),n=Vf(t);return uS(e,r,n)}o(HO,"spanToTraceHeader");function Wu(t){return typeof t=="number"?uwe(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?uwe(t.getTime()):qi()}o(Wu,"spanTimeInputToSeconds");function uwe(t){return t>9999999999?t/1e3:t}o(uwe,"ensureTimestampInSeconds");function Yt(t){if(Gct(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(Kct(t)){let{attributes:n,startTime:i,name:s,endTime:a,parentSpanId:f,status:l}=t;return Pn({span_id:e,trace_id:r,data:n,description:s,parent_span_id:f,start_timestamp:Wu(i),timestamp:Wu(a)||void 0,status:VO(l),op:n[Ea],origin:n[kn],_metrics_summary:cS(t)})}return{span_id:e,trace_id:r}}catch{return{}}}o(Yt,"spanToJSON");function Kct(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(Kct,"spanIsOpenTelemetrySdkTraceBaseSpan");function Gct(t){return typeof t.getSpanJSON=="function"}o(Gct,"spanIsSentrySpan");function Vf(t){let{traceFlags:e}=t.spanContext();return e===KV}o(Vf,"spanIsSampled");function VO(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}o(VO,"getStatusMessage");var Ey="_sentryChildSpans",zV="_sentryRootSpan";function jO(t,e){let r=t[zV]||t;Ji(e,zV,r),t[Ey]?t[Ey].add(e):Ji(t,Ey,new Set([e]))}o(jO,"addChildSpanToSpan");function dwe(t,e){t[Ey]&&t[Ey].delete(e)}o(dwe,"removeChildSpanFromSpan");function Yp(t){let e=new Set;function r(n){if(!e.has(n)&&Vf(n)){e.add(n);let i=n[Ey]?Array.from(n[Ey]):[];for(let s of i)r(s)}}return o(r,"addSpanChildren"),r(t),Array.from(e)}o(Yp,"getSpanDescendants");function An(t){return t[zV]||t}o(An,"getRootSpan");function Rn(){let t=Uc(),e=sd(t);return e.getActiveSpan?e.getActiveSpan():_y(lr())}o(Rn,"getActiveSpan");function zO(){fwe||(ec(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),fwe=!0)}o(zO,"showSpanDropWarning");var hwe=!1;function KO(){hwe||(hwe=!0,rS($V),nS($V))}o(KO,"registerSpanErrorInstrumentation");function $V(){let t=Rn(),e=t&&An(t);if(e){let r="internal_error";Dt&&Ze.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}o($V,"errorCallback");$V.tag="sentry_tracingErrorCallback";p();m();var pwe="_sentryScope",mwe="_sentryIsolationScope";function gwe(t,e,r){t&&(Ji(t,mwe,r),Ji(t,pwe,e))}o(gwe,"setCapturedScopesOnSpan");function WV(t){return{scope:t[pwe],isolationScope:t[mwe]}}o(WV,"getCapturedScopesOnSpan");p();m();p();m();function Sa(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Wt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}o(Sa,"hasTracingEnabled");p();m();var ic=class{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||rc(),this._spanId=e.spanId||nc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:qO}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};p();m();p();m();function ywe(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return $ct(n,e,r)}o(ywe,"handleCallbackErrors");function $ct(t,e,r){return Ku(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}o($ct,"maybeHandlePromiseRejection");p();m();p();m();var bx="production";var bwe="_frozenDsc";function YV(t,e){Ji(t,bwe,e)}o(YV,"freezeDscOnSpan");function XV(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Pn({environment:r.environment||bx,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}o(XV,"getDynamicSamplingContextFromClient");function lS(t,e){let r=e.getPropagationContext();return r.dsc||XV(r.traceId,t)}o(lS,"getDynamicSamplingContextFromScope");function Vc(t){let e=Wt();if(!e)return{};let r=An(t),n=r[bwe];if(n)return n;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&UO(s);if(a)return a;let f=XV(t.spanContext().traceId,e),l=Yt(r),h=l.data||{},g=h[mx];g!=null&&(f.sample_rate=`${g}`);let b=h[Qs],A=l.description;return b!=="url"&&A&&(f.transaction=A),Sa()&&(f.sampled=String(Vf(r))),e.emit("createDsc",f,r),f}o(Vc,"getDynamicSamplingContextFromSpan");p();m();function vwe(t){if(!Dt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Yt(t),{spanId:i}=t.spanContext(),s=Vf(t),a=An(t),f=a===t,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${f?"root ":""}span`,h=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&h.push(`parent ID: ${n}`),!f){let{op:g,description:b}=Yt(a);h.push(`root ID: ${a.spanContext().spanId}`),g&&h.push(`root op: ${g}`),b&&h.push(`root description: ${b}`)}Ze.log(`${l}
  ${h.join(`
  `)}`)}o(vwe,"logSpanStart");function xwe(t){if(!Dt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=Yt(t),{spanId:n}=t.spanContext(),s=An(t)===t,a=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${e}" with ID ${n}`;Ze.log(a)}o(xwe,"logSpanEnd");p();m();p();m();function GO(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Dt&&Ze.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(GO,"parseSampleRate");function _we(t,e){if(!Sa(t))return[!1];let r=Eo().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let s=GO(i);return s===void 0?(Dt&&Ze.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Dt&&Ze.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Dt&&Ze.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}o(_we,"sampleSpan");p();m();p();m();p();m();var Wct=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Yct(t){return t==="http"||t==="https"}o(Yct,"isValidProtocol");function ad(t,e=!1){let{host:r,path:n,pass:i,port:s,projectId:a,protocol:f,publicKey:l}=t;return`${f}://${l}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${a}`}o(ad,"dsnToString");function wwe(t){let e=Wct.exec(t);if(!e){ec(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",s="",a="",f=""]=e.slice(1),l="",h=f,g=h.split("/");if(g.length>1&&(l=g.slice(0,-1).join("/"),h=g.pop()),h){let b=h.match(/^\d+/);b&&(h=b[0])}return Ewe({host:s,pass:i,path:l,projectId:h,port:a,protocol:r,publicKey:n})}o(wwe,"dsnFromString");function Ewe(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(Ewe,"dsnFromComponents");function Xct(t){if(!Qa)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Ze.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?Yct(n)?e&&isNaN(parseInt(e,10))?(Ze.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Ze.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Ze.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}o(Xct,"validateDsn");function ZV(t){let e=typeof t=="string"?wwe(t):Ewe(t);if(!(!e||!Xct(e)))return e}o(ZV,"makeDsn");p();m();p();m();p();m();function Swe(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}o(r,"memoize");function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return o(n,"unmemoize"),[r,n]}o(Swe,"memoBuilder");function jf(t,e=100,r=1/0){try{return JV("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}o(jf,"normalize");function $O(t,e=3,r=100*1024){let n=jf(t,e);return eft(n)>r?$O(t,e-1,r):n}o($O,"normalizeToSize");function JV(t,e,r=1/0,n=1/0,i=Swe()){let[s,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let f=Zct(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return f.replace("object ","");if(s(e))return"[Circular ~]";let h=e;if(h&&typeof h.toJSON=="function")try{let T=h.toJSON();return JV("",T,l-1,n,i)}catch{}let g=Array.isArray(e)?[]:{},b=0,A=kO(e);for(let T in A){if(!Object.prototype.hasOwnProperty.call(A,T))continue;if(b>=n){g[T]="[MaxProperties ~]";break}let O=A[T];g[T]=JV(T,O,l-1,n,i),b++}return a(e),g}o(JV,"visit");function Zct(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(oS(e))return"[VueViewModel]";if(MV(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${tc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=Jct(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}o(Zct,"stringifyValue");function Jct(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(Jct,"getConstructorName");function Qct(t){return~-encodeURI(t).split(/%..|./).length}o(Qct,"utf8Length");function eft(t){return Qct(JSON.stringify(t))}o(eft,"jsonSize");function Yu(t,e=[]){return[t,e]}o(Yu,"createEnvelope");function ej(t,e){let[r,n]=t;return[r,[...n,e]]}o(ej,"addItemToEnvelope");function WO(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}o(WO,"forEachEnvelopeItem");function QV(t){return zt.__SENTRY__&&zt.__SENTRY__.encodePolyfill?zt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(QV,"encodeUTF8");function tj(t){let[e,r]=t,n=JSON.stringify(e);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[QV(n),s]:n.push(typeof s=="string"?QV(s):s)}o(i,"append");for(let s of r){let[a,f]=s;if(i(`
${JSON.stringify(a)}
`),typeof f=="string"||f instanceof Uint8Array)i(f);else{let l;try{l=JSON.stringify(f)}catch{l=JSON.stringify(jf(f))}i(l)}}return typeof n=="string"?n:tft(n)}o(tj,"serializeEnvelope");function tft(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}o(tft,"concatBuffers");function rj(t){return[{type:"span"},t]}o(rj,"createSpanEnvelopeItem");function nj(t){let e=typeof t.data=="string"?QV(t.data):t.data;return[Pn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(nj,"createAttachmentEnvelopeItem");var rft={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function YO(t){return rft[t]}o(YO,"envelopeItemTypeToDataCategory");function XO(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}o(XO,"getSdkMetadataForEnvelopeHeader");function ij(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:ad(n)},...i&&{trace:Pn({...i})}}}o(ij,"createEventEnvelopeHeaders");function nft(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(nft,"enhanceEventWithSdkInfo");function Awe(t,e,r,n){let i=XO(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:ad(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Yu(s,[a])}o(Awe,"createSessionEnvelope");function Rwe(t,e,r,n){let i=XO(r),s=t.type&&t.type!=="replay_event"?t.type:"event";nft(t,r&&r.sdk);let a=ij(t,i,n,e);return delete t.sdkProcessingMetadata,Yu(a,[[{type:s},t]])}o(Rwe,"createEventEnvelope");function Twe(t,e){function r(g){return!!g.trace_id&&!!g.public_key}o(r,"dscHasRequiredProps");let n=Vc(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!s&&i&&{dsn:ad(i)}},f=e&&e.getOptions().beforeSendSpan,l=f?g=>{let b=f(Yt(g));return b||zO(),b}:g=>Yt(g),h=[];for(let g of t){let b=l(g);b&&h.push(rj(b))}return Yu(a,h)}o(Twe,"createSpanEnvelope");p();m();function ZO(t,e,r,n=Rn()){let i=n&&An(n);i&&(Dt&&Ze.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[Wp]:e,[$p]:r}))}o(ZO,"setMeasurement");function JO(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[$p],s=n[Wp];typeof i=="string"&&typeof s=="number"&&(e[r.name]={value:s,unit:i})}),e}o(JO,"timedEventsToMeasurements");var Iwe=1e3,vx=class{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||rc(),this._spanId=e.spanId||nc(),this._startTime=e.startTimestamp||qi(),this._attributes={},this.setAttributes({[kn]:"manual",[Ea]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?KV:qO}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Wu(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Qs,"custom"),this}end(e){this._endTime||(this._endTime=Wu(e),xwe(this),this._onSpanEnded())}getSpanJSON(){return Pn({data:this._attributes,description:this._name,op:this._attributes[Ea],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:VO(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[kn],_metrics_summary:cS(this),profile_id:this._attributes[qV],exclusive_time:this._attributes[wy],measurements:JO(this._events),is_segment:this._isStandaloneSpan&&An(this)===this||void 0,segment_id:this._isStandaloneSpan?An(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Dt&&Ze.log("[Tracing] Adding an event to span:",e);let i=Owe(r)?r:n||qi(),s=Owe(r)?{}:r||{},a={name:e,time:Wu(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Wt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===An(this)))return;if(this._isStandaloneSpan){this._sampled?oft(Twe([this],e)):(Dt&&Ze.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(WV(this).scope||lr()).captureEvent(n)}_convertSpanToTransaction(){if(!Nwe(Yt(this)))return;this._name||(Dt&&Ze.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=WV(this),i=(e||lr()).getClient()||Wt();if(this._sampled!==!0){Dt&&Ze.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let a=Yp(this).filter(b=>b!==this&&!ift(b)).map(b=>Yt(b)).filter(Nwe),f=this._attributes[Qs];delete this._attributes[fS],a.forEach(b=>{b.data&&delete b.data[fS]});let l={contexts:{trace:lwe(this)},spans:a.length>Iwe?a.sort((b,A)=>b.start_timestamp-A.start_timestamp).slice(0,Iwe):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...Pn({dynamicSamplingContext:Vc(this)})},_metrics_summary:cS(this),...f&&{transaction_info:{source:f}}},h=JO(this._events);return h&&Object.keys(h).length&&(Dt&&Ze.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),l.measurements=h),l}};function Owe(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(Owe,"isSpanTimeInput");function Nwe(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(Nwe,"isFullFinishedSpan");function ift(t){return t instanceof vx&&t.isStandaloneSpan()}o(ift,"isStandaloneSpan");function oft(t){let e=Wt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(oft,"sendSpanEnvelope");var Cwe="__SENTRY_SUPPRESS_TRACING__";function QO(t,e){let r=oj();if(r.startSpan)return r.startSpan(t,e);let n=kwe(t),{forceTransaction:i,parentSpan:s}=t;return Gp(t.scope,()=>aft(s)(()=>{let f=lr(),l=Bwe(f),g=t.onlyIfParent&&!l?new ic:Pwe({parentSpan:l,spanArguments:n,forceTransaction:i,scope:f});return Rh(f,g),ywe(()=>e(g),()=>{let{status:b}=Yt(g);g.isRecording()&&(!b||b==="ok")&&g.setStatus({code:2,message:"internal_error"})},()=>g.end())}))}o(QO,"startSpan");function jc(t){let e=oj();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=kwe(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?a=>Gp(t.scope,a):i!==void 0?a=>xx(i,a):a=>a())(()=>{let a=lr(),f=Bwe(a);return t.onlyIfParent&&!f?new ic:Pwe({parentSpan:f,spanArguments:r,forceTransaction:n,scope:a})})}o(jc,"startInactiveSpan");function xx(t,e){let r=oj();return r.withActiveSpan?r.withActiveSpan(t,e):Gp(n=>(Rh(n,t||void 0),e(n)))}o(xx,"withActiveSpan");function Pwe({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!Sa())return new ic;let i=Eo(),s;if(t&&!r)s=sft(t,n,e),jO(t,s);else if(t){let a=Vc(t),{traceId:f,spanId:l}=t.spanContext(),h=Vf(t);s=Mwe({traceId:f,parentSpanId:l,...e},n,h),YV(s,a)}else{let{traceId:a,dsc:f,parentSpanId:l,sampled:h}={...i.getPropagationContext(),...n.getPropagationContext()};s=Mwe({traceId:a,parentSpanId:l,...e},n,h),f&&YV(s,f)}return vwe(s),gwe(s,n,i),s}o(Pwe,"createChildOrRootSpan");function kwe(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=Wu(t.startTime),delete n.startTime,n}return r}o(kwe,"parseSentrySpanArguments");function oj(){let t=Uc();return sd(t)}o(oj,"getAcs");function Mwe(t,e,r){let n=Wt(),i=n&&n.getOptions()||{},{name:s="",attributes:a}=t,[f,l]=e.getScopeData().sdkProcessingMetadata[Cwe]?[!1]:_we(i,{name:s,parentSampled:r,attributes:a,transactionContext:{name:s,parentSampled:r}}),h=new vx({...t,attributes:{[Qs]:"custom",...t.attributes},sampled:f});return l!==void 0&&h.setAttribute(mx,l),n&&n.emit("spanStart",h),h}o(Mwe,"_startRootSpan");function sft(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[Cwe]?!1:Vf(t),a=s?new vx({...r,parentSpanId:n,traceId:i,sampled:s}):new ic({traceId:i});jO(t,a);let f=Wt();return f&&(f.emit("spanStart",a),r.endTimestamp&&f.emit("spanEnd",a)),a}o(sft,"_startChildSpan");function Bwe(t){let e=_y(t);if(!e)return;let r=Wt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?An(e):e}o(Bwe,"getParentSpan");function aft(t){return t!==void 0?e=>xx(t,e):e=>e()}o(aft,"getActiveSpanWrapper");var _x={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},cft="heartbeatFailed",fft="idleTimeout",uft="finalTimeout",lft="externalFinish";function e7(t,e={}){let r=new Map,n=!1,i,s=lft,a=!e.disableAutoFinish,f=[],{idleTimeout:l=_x.idleTimeout,finalTimeout:h=_x.finalTimeout,childSpanTimeout:g=_x.childSpanTimeout,beforeSpanEnd:b}=e,A=Wt();if(!A||!Sa())return new ic;let T=lr(),O=Rn(),N=dft(t);N.end=new Proxy(N.end,{apply(j,ee,Y){b&&b(N);let[te,...E]=Y,c=te||qi(),d=Wu(c),y=Yp(N).filter(x=>x!==N);if(!y.length)return V(d),Reflect.apply(j,ee,[d,...E]);let v=y.map(x=>Yt(x).timestamp).filter(x=>!!x),w=v.length?Math.max(...v):void 0,S=Yt(N).start_timestamp,R=Math.min(S?S+h/1e3:1/0,Math.max(S||-1/0,Math.min(d,w||1/0)));return V(R),Reflect.apply(j,ee,[R,...E])}});function P(){i&&(clearTimeout(i),i=void 0)}o(P,"_cancelIdleTimeout");function C(j){P(),i=setTimeout(()=>{!n&&r.size===0&&a&&(s=fft,N.end(j))},l)}o(C,"_restartIdleTimeout");function D(j){i=setTimeout(()=>{!n&&a&&(s=cft,N.end(j))},g)}o(D,"_restartChildSpanTimeout");function M(j){P(),r.set(j,!0);let ee=qi();D(ee+g/1e3)}o(M,"_pushActivity");function U(j){if(r.has(j)&&r.delete(j),r.size===0){let ee=qi();C(ee+l/1e3)}}o(U,"_popActivity");function V(j){n=!0,r.clear(),f.forEach(d=>d()),Rh(T,O);let ee=Yt(N),{start_timestamp:Y}=ee;if(!Y)return;(ee.data||{})[gx]||N.setAttribute(gx,s),Ze.log(`[Tracing] Idle span "${ee.op}" finished`);let E=Yp(N).filter(d=>d!==N),c=0;E.forEach(d=>{d.isRecording()&&(d.setStatus({code:2,message:"cancelled"}),d.end(j),Dt&&Ze.log("[Tracing] Cancelling span since span ended early",JSON.stringify(d,void 0,2)));let y=Yt(d),{timestamp:v=0,start_timestamp:w=0}=y,S=w<=j,R=(h+l)/1e3,x=v-w<=R;if(Dt){let u=JSON.stringify(d,void 0,2);S?x||Ze.log("[Tracing] Discarding span since it finished after idle span final timeout",u):Ze.log("[Tracing] Discarding span since it happened after idle span was finished",u)}(!x||!S)&&(dwe(N,d),c++)}),c>0&&N.setAttribute("sentry.idle_span_discarded_spans",c)}return o(V,"onIdleSpanEnded"),f.push(A.on("spanStart",j=>{if(n||j===N||Yt(j).timestamp)return;Yp(N).includes(j)&&M(j.spanContext().spanId)})),f.push(A.on("spanEnd",j=>{n||U(j.spanContext().spanId)})),f.push(A.on("idleSpanEnableAutoFinish",j=>{j===N&&(a=!0,C(),r.size&&D())})),e.disableAutoFinish||C(),setTimeout(()=>{n||(N.setStatus({code:2,message:"deadline_exceeded"}),s=uft,N.end())},h),N}o(e7,"startIdleSpan");function dft(t){let e=jc(t);return Rh(lr(),e),Dt&&Ze.log("[Tracing] Started span is an idle span"),e}o(dft,"_startIdleSpan");p();m();p();m();p();m();function t7(t,e,r,n=0){return new $u((i,s)=>{let a=t[n];if(e===null||typeof a!="function")i(e);else{let f=a({...e},r);Dt&&a.id&&f===null&&Ze.log(`Event processor "${a.id}" dropped event`),Ku(f)?f.then(l=>t7(t,l,r,n+1).then(i)).then(null,s):t7(t,f,r,n+1).then(i).then(null,s)}})}o(t7,"notifyEventProcessors");p();m();var r7,Lwe,n7;function Dwe(t){let e=zt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return n7&&r.length===Lwe||(Lwe=r.length,n7=r.reduce((n,i)=>{r7||(r7={});let s=r7[i];if(s)n[s[0]]=s[1];else{let a=t(i);for(let f=a.length-1;f>=0;f--){let l=a[f],h=l&&l.filename,g=e[i];if(h&&g){n[h]=g,r7[i]=[h,g];break}}}return n},{})),n7}o(Dwe,"getFilenameToDebugIdMap");p();m();function Uwe(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=e;hft(t,e),n&&gft(t,n),yft(t,r),pft(t,i),mft(t,s)}o(Uwe,"applyScopeDataToEvent");function sj(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:f,breadcrumbs:l,fingerprint:h,eventProcessors:g,attachments:b,propagationContext:A,transactionName:T,span:O}=e;i7(t,"extra",r),i7(t,"tags",n),i7(t,"user",i),i7(t,"contexts",s),t.sdkProcessingMetadata=hx(t.sdkProcessingMetadata,f,2),a&&(t.level=a),T&&(t.transactionName=T),O&&(t.span=O),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),h.length&&(t.fingerprint=[...t.fingerprint,...h]),g.length&&(t.eventProcessors=[...t.eventProcessors,...g]),b.length&&(t.attachments=[...t.attachments,...b]),t.propagationContext={...t.propagationContext,...A}}o(sj,"mergeScopeData");function i7(t,e,r){t[e]=hx(t[e],r,1)}o(i7,"mergeAndOverwriteScopeData");function hft(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:f}=e,l=Pn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let h=Pn(n);h&&Object.keys(h).length&&(t.tags={...h,...t.tags});let g=Pn(i);g&&Object.keys(g).length&&(t.user={...g,...t.user});let b=Pn(s);b&&Object.keys(b).length&&(t.contexts={...b,...t.contexts}),a&&(t.level=a),f&&t.type!=="transaction"&&(t.transaction=f)}o(hft,"applyDataToEvent");function pft(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}o(pft,"applyBreadcrumbsToEvent");function mft(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(mft,"applySdkMetadataToEvent");function gft(t,e){t.contexts={trace:GV(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Vc(e),...t.sdkProcessingMetadata};let r=An(e),n=Yt(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}o(gft,"applySpanToEvent");function yft(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(yft,"applyFingerprintToEvent");function Fwe(t,e,r,n,i,s){let{normalizeDepth:a=3,normalizeMaxBreadth:f=1e3}=t,l={...e,event_id:e.event_id||r.event_id||wo(),timestamp:e.timestamp||id()},h=r.integrations||t.integrations.map(P=>P.name);bft(l,t),_ft(l,h),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&vft(l,t.stackParser);let g=Eft(n,r.captureContext);r.mechanism&&od(l,r.mechanism);let b=i?i.getEventProcessors():[],A=LO().getScopeData();if(s){let P=s.getScopeData();sj(A,P)}if(g){let P=g.getScopeData();sj(A,P)}let T=[...r.attachments||[],...A.attachments];T.length&&(r.attachments=T),Uwe(l,A);let O=[...b,...A.eventProcessors];return t7(O,l,r).then(P=>(P&&xft(P),typeof a=="number"&&a>0?wft(P,a,f):P))}o(Fwe,"prepareEvent");function bft(t,e){let{environment:r,release:n,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||r||bx,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=rd(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=rd(a.value,s));let f=t.request;f&&f.url&&(f.url=rd(f.url,s))}o(bft,"applyClientOptions");function vft(t,e){let r=Dwe(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}o(vft,"applyDebugIds");function xft(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}o(xft,"applyDebugMeta");function _ft(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(_ft,"applyIntegrationsMetadata");function wft(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:jf(i.data,e,r)}}))},...t.user&&{user:jf(t.user,e,r)},...t.contexts&&{contexts:jf(t.contexts,e,r)},...t.extra&&{extra:jf(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=jf(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:jf(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=jf(t.contexts.flags,3,r)),n}o(wft,"normalizeEvent");function Eft(t,e){if(!e)return t;let r=t?t.clone():new Hc;return r.update(e),r}o(Eft,"getFinalScope");function qwe(t){if(t)return Sft(t)?{captureContext:t}:Rft(t)?{captureContext:t}:t}o(qwe,"parseEventHintOrCaptureContext");function Sft(t){return t instanceof Hc||typeof t=="function"}o(Sft,"hintIsScopeOrFunction");var Aft=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Rft(t){return Object.keys(t).some(e=>Aft.includes(e))}o(Rft,"hintIsScopeContext");function wx(t,e){return lr().captureException(t,qwe(e))}o(wx,"captureException");function o7(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return lr().captureMessage(t,r,n)}o(o7,"captureMessage");function dS(t,e){return lr().captureEvent(t,e)}o(dS,"captureEvent");function s7(t,e){Eo().setContext(t,e)}o(s7,"setContext");function a7(t){Eo().setTags(t)}o(a7,"setTags");function c7(t){Eo().setUser(t)}o(c7,"setUser");function aj(){let t=Wt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}o(aj,"isEnabled");function hS(t){let e=Wt(),r=Eo(),n=lr(),{release:i,environment:s=bx}=e&&e.getOptions()||{},{userAgent:a}=zt.navigator||{},f=twe({release:i,environment:s,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...t}),l=r.getSession();return l&&l.status==="ok"&&Ah(l,{status:"exited"}),f7(),r.setSession(f),n.setSession(f),f}o(hS,"startSession");function f7(){let t=Eo(),e=lr(),r=e.getSession()||t.getSession();r&&rwe(r),Vwe(),t.setSession(),e.setSession()}o(f7,"endSession");function Vwe(){let t=Eo(),e=lr(),r=Wt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}o(Vwe,"_sendSessionUpdate");function pS(t=!1){if(t){f7();return}Vwe()}o(pS,"captureSession");p();m();var Tft="7";function Ift(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}o(Ift,"getBaseApiEndpoint");function Oft(t){return`${Ift(t)}${t.projectId}/envelope/`}o(Oft,"_getIngestEndpoint");function Nft(t,e){let r={sentry_version:Tft};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}o(Nft,"_encodedAuth");function jwe(t,e,r){return e||`${Oft(t)}?${Nft(t,r)}`}o(jwe,"getEnvelopeEndpointWithUrlEncodedAuth");p();m();p();m();var zwe=[];function Mft(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}o(Mft,"filterDuplicates");function cj(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let a=r(e);n=Array.isArray(a)?a:[a]}else n=e;let i=Mft(n),s=i.findIndex(a=>a.name==="Debug");if(s>-1){let[a]=i.splice(s,1);i.push(a)}return i}o(cj,"getIntegrationsToSetup");function Kwe(t,e){let r={};return e.forEach(n=>{n&&uj(t,n,r)}),r}o(Kwe,"setupIntegrations");function fj(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}o(fj,"afterSetupIntegrations");function uj(t,e,r){if(r[e.name]){Dt&&Ze.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,zwe.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),zwe.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>n(i,s,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((s,a)=>n(s,a,t),{id:e.name});t.addEventProcessor(i)}Dt&&Ze.log(`Integration installed: ${e.name}`)}o(uj,"setupIntegration");p();m();function Gwe(t,e,r){let n=[{type:"client_report"},{timestamp:r||id(),discarded_events:t}];return Yu(e?{dsn:e}:{},[n])}o(Gwe,"createClientReportEnvelope");p();m();var ea=class extends Error{static{o(this,"SentryError")}constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var $we="Not capturing exception because it's already been captured.",mS=class{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ZV(e.dsn):Dt&&Ze.warn("No DSN provided, client will not send events."),this._dsn){let i=jwe(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&ec(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=wo();if(BO(e))return Dt&&Ze.log($we),i;let s={event_id:i,...r};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,n))),s.event_id}captureMessage(e,r,n,i){let s={event_id:wo(),...n},a=ux(e)?e:String(e),f=by(e)?this.eventFromMessage(a,r,s):this.eventFromException(e,s);return this._process(f.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(e,r,n){let i=wo();if(r&&r.originalException&&BO(r.originalException))return Dt&&Ze.log($we),i;let s={event_id:i,...r},f=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,f||n)),s.event_id}captureSession(e){typeof e.release!="string"?Dt&&Ze.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ah(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):Hf(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];uj(this,e,this._integrations),r||fj(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=Rwe(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=ej(n,nj(s));let i=this.sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=Awe(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,s=`${e}:${r}`;Dt&&Ze.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Dt&&Ze.error("Error while sending envelope:",r),r)):(Dt&&Ze.error("Transport disabled"),Hf({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=Kwe(this,e),fj(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,s=r.exception&&r.exception.values;if(s){i=!0;for(let l of s){let h=l.mechanism;if(h&&h.handled===!1){n=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&n)&&(Ah(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new $u(r=>{let n=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=lr(),i=Eo()){let s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),Fwe(s,e,r,n,this,i).then(f=>{if(f===null)return f;f.contexts={trace:FV(n),...f.contexts};let l=lS(this,n);return f.sdkProcessingMetadata={dynamicSamplingContext:l,...f.sdkProcessingMetadata},f})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Dt&&(i instanceof ea&&i.logLevel==="log"?Ze.log(i.message):Ze.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:s}=i,a=Ywe(e),f=Wwe(e),l=e.type||"error",h=`before send for type \`${l}\``,g=typeof s>"u"?void 0:GO(s);if(f&&typeof g=="number"&&Math.random()>g)return this.recordDroppedEvent("sample_rate","error",e),Kp(new ea(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let b=l==="replay_event"?"replay":l,T=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,T).then(O=>{if(O===null)throw this.recordDroppedEvent("event_processor",b,e),new ea("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return O;let P=Pft(this,i,O,r);return Cft(P,h)}).then(O=>{if(O===null){if(this.recordDroppedEvent("before_send",b,e),a){let D=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",D)}throw new ea(`${h} returned \`null\`, will not send event.`,"log")}let N=n&&n.getSession();if(!a&&N&&this._updateSessionFromEvent(N,O),a){let C=O.sdkProcessingMetadata&&O.sdkProcessingMetadata.spanCountBeforeProcessing||0,D=O.spans?O.spans.length:0,M=C-D;M>0&&this.recordDroppedEvent("before_send","span",M)}let P=O.transaction_info;if(a&&P&&O.transaction!==e.transaction){let C="custom";O.transaction_info={...P,source:C}}return this.sendEvent(O,r),O}).then(null,O=>{throw O instanceof ea?O:(this.captureException(O,{data:{__sentry__:!0},originalException:O}),new ea(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${O}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,s]=r.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){Dt&&Ze.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Dt&&Ze.log("No outcomes to send");return}if(!this._dsn){Dt&&Ze.log("No dsn provided, will not send outcomes");return}Dt&&Ze.log("Sending outcomes:",e);let r=Gwe(e,this._options.tunnel&&ad(this._dsn));this.sendEnvelope(r)}};function Cft(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Ku(t))return t.then(n=>{if(!zu(n)&&n!==null)throw new ea(r);return n},n=>{throw new ea(`${e} rejected with ${n}`)});if(!zu(t)&&t!==null)throw new ea(r);return t}o(Cft,"_validateBeforeSendResult");function Pft(t,e,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=e;if(Wwe(r)&&i)return i(r,n);if(Ywe(r)){if(r.spans&&a){let f=[];for(let l of r.spans){let h=a(l);h?f.push(h):(zO(),t.recordDroppedEvent("before_send","span"))}r.spans=f}if(s){if(r.spans){let f=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:f}}return s(r,n)}}return r}o(Pft,"processBeforeSend");function Wwe(t){return t.type===void 0}o(Wwe,"isErrorEvent");function Ywe(t){return t.type==="transaction"}o(Ywe,"isTransactionEvent");p();m();function lj(t,e){e.debug===!0&&(Dt?Ze.enable():ec(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),lr().update(e.initialScope);let n=new t(e);return dj(n),n.init(),n}o(lj,"initAndBind");function dj(t){lr().setClient(t)}o(dj,"setCurrentClient");p();m();p();m();function Xwe(t){let e=[];function r(){return t===void 0||e.length<t}o(r,"isReady");function n(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(n,"remove");function i(a){if(!r())return Kp(new ea("Not adding Promise because buffer limit was reached."));let f=a();return e.indexOf(f)===-1&&e.push(f),f.then(()=>n(f)).then(null,()=>n(f).then(null,()=>{})),f}o(i,"add");function s(a){return new $u((f,l)=>{let h=e.length;if(!h)return f(!0);let g=setTimeout(()=>{a&&a>0&&f(!1)},a);e.forEach(b=>{Hf(b).then(()=>{--h||(clearTimeout(g),f(!0))},l)})})}return o(s,"drain"),{$:e,add:i,drain:s}}o(Xwe,"makePromiseBuffer");p();m();function kft(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}o(kft,"parseRetryAfterHeader");function Bft(t,e){return t[e]||t.all||0}o(Bft,"disabledUntil");function Zwe(t,e,r=Date.now()){return Bft(t,e)>r}o(Zwe,"isRateLimited");function Jwe(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let f of s.trim().split(",")){let[l,h,,,g]=f.split(":",5),b=parseInt(l,10),A=(isNaN(b)?60:b)*1e3;if(!h)i.all=n+A;else for(let T of h.split(";"))T==="metric_bucket"?(!g||g.split(";").includes("custom"))&&(i[T]=n+A):i[T]=n+A}else a?i.all=n+kft(a,n):e===429&&(i.all=n+60*1e3);return i}o(Jwe,"updateRateLimits");var Lft=64;function u7(t,e,r=Xwe(t.bufferSize||Lft)){let n={},i=o(a=>r.drain(a),"flush");function s(a){let f=[];if(WO(a,(b,A)=>{let T=YO(A);if(Zwe(n,T)){let O=Qwe(b,A);t.recordDroppedEvent("ratelimit_backoff",T,O)}else f.push(b)}),f.length===0)return Hf({});let l=Yu(a[0],f),h=o(b=>{WO(l,(A,T)=>{let O=Qwe(A,T);t.recordDroppedEvent(b,YO(T),O)})},"recordEnvelopeLoss"),g=o(()=>e({body:tj(l)}).then(b=>(b.statusCode!==void 0&&(b.statusCode<200||b.statusCode>=300)&&Dt&&Ze.warn(`Sentry responded with status code ${b.statusCode} to sent event.`),n=Jwe(n,b),b),b=>{throw h("network_error"),b}),"requestTask");return r.add(g).then(b=>b,b=>{if(b instanceof ea)return Dt&&Ze.error("Skipped sending event because buffer is full."),h("queue_overflow"),Hf({});throw b})}return o(s,"send"),{send:s,flush:i}}o(u7,"createTransport");function Qwe(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(Qwe,"getEventForEnvelopeItem");p();m();function gS(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:ju})),version:ju}),t._metadata=i}o(gS,"applySdkMetadata");p();m();function yS(t={}){let e=Wt();if(!aj()||!e)return{};let r=Uc(),n=sd(r);if(n.getTraceData)return n.getTraceData(t);let i=lr(),s=t.span||Rn(),a=s?HO(s):Dft(i),f=s?Vc(s):lS(e,i),l=VV(f);return FO.test(a)?{"sentry-trace":a,baggage:l}:(Ze.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}o(yS,"getTraceData");function Dft(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return uS(e,n,r)}o(Dft,"scopeToTraceHeader");p();m();var Uft=100;function zf(t,e){let r=Wt(),n=Eo();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Uft}=r.getOptions();if(s<=0)return;let f={timestamp:id(),...t},l=i?ec(()=>i(f,e)):f;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,s))}o(zf,"addBreadcrumb");p();m();var eEe,Fft="FunctionToString",tEe=new WeakMap,qft=o(()=>({name:Fft,setupOnce(){eEe=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=xy(this),r=tEe.has(Wt())&&e!==void 0?e:this;return eEe.apply(r,t)}}catch{}},setup(t){tEe.set(t,!0)}}),"_functionToStringIntegration"),l7=qft;p();m();var Hft=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Vft="InboundFilters",jft=o((t={})=>({name:Vft,processEvent(e,r,n){let i=n.getOptions(),s=zft(t,i);return Kft(e,s)?null:e}}),"_inboundFiltersIntegration"),h7=jft;function zft(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Hft],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(zft,"_mergeOptions");function Kft(t,e){return e.ignoreInternal&&Zft(t)?(Dt&&Ze.warn(`Event dropped due to being internal Sentry Error.
Event: ${Gu(t)}`),!0):Gft(t,e.ignoreErrors)?(Dt&&Ze.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Gu(t)}`),!0):Qft(t)?(Dt&&Ze.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Gu(t)}`),!0):$ft(t,e.ignoreTransactions)?(Dt&&Ze.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Gu(t)}`),!0):Wft(t,e.denyUrls)?(Dt&&Ze.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Gu(t)}.
Url: ${d7(t)}`),!0):Yft(t,e.allowUrls)?!1:(Dt&&Ze.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Gu(t)}.
Url: ${d7(t)}`),!0)}o(Kft,"_shouldDropEvent");function Gft(t,e){return t.type||!e||!e.length?!1:Xft(t).some(r=>nd(r,e))}o(Gft,"_isIgnoredError");function $ft(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?nd(r,e):!1}o($ft,"_isIgnoredTransaction");function Wft(t,e){if(!e||!e.length)return!1;let r=d7(t);return r?nd(r,e):!1}o(Wft,"_isDeniedUrl");function Yft(t,e){if(!e||!e.length)return!0;let r=d7(t);return r?nd(r,e):!0}o(Yft,"_isAllowedUrl");function Xft(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}o(Xft,"_getPossibleEventMessages");function Zft(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(Zft,"_isSentryError");function Jft(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}o(Jft,"_getLastValidUrl");function d7(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Jft(e):null}catch{return Dt&&Ze.error(`Cannot extract url for event ${Gu(t)}`),null}}o(d7,"_getEventFilterUrl");function Qft(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(Qft,"_isUselessError");p();m();function pj(t,e,r=250,n,i,s,a){if(!s.exception||!s.exception.values||!a||!Fc(a.originalException,Error))return;let f=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;f&&(s.exception.values=eut(hj(t,e,i,a.originalException,n,s.exception.values,f,0),r))}o(pj,"applyAggregateErrorsToEvent");function hj(t,e,r,n,i,s,a,f){if(s.length>=r+1)return s;let l=[...s];if(Fc(n[i],Error)){rEe(a,f);let h=t(e,n[i]),g=l.length;nEe(h,i,g,f),l=hj(t,e,r,n[i],i,[h,...l],h,g)}return Array.isArray(n.errors)&&n.errors.forEach((h,g)=>{if(Fc(h,Error)){rEe(a,f);let b=t(e,h),A=l.length;nEe(b,`errors[${g}]`,A,f),l=hj(t,e,r,h,i,[b,...l],b,A)}}),l}o(hj,"aggregateExceptionsFromError");function rEe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(rEe,"applyExceptionGroupFieldsForParentException");function nEe(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}o(nEe,"applyExceptionGroupFieldsForChildException");function eut(t,e){return t.map(r=>(r.value&&(r.value=rd(r.value,e)),r))}o(eut,"truncateAggregateExceptions");p();m();function Kf(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}o(Kf,"parseUrl");p();m();function mj(t){let e="console";Zs(e,t),Js(e,tut)}o(mj,"addConsoleInstrumentationHandler");function tut(){"console"in zt&&tS.forEach(function(t){t in zt.console&&_o(zt.console,t,function(e){return cx[t]=e,function(...r){oo("console",{args:r,level:t});let i=cx[t];i&&i.apply(zt.console,r)}})})}o(tut,"instrumentConsole");p();m();function gj(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(gj,"severityLevelFromString");p();m();var rut="Dedupe",nut=o(()=>{let t;return{name:rut,processEvent(e){if(e.type)return e;try{if(iut(e,t))return Dt&&Ze.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),p7=nut;function iut(t,e){return e?!!(out(t,e)||sut(t,e)):!1}o(iut,"_shouldDropEvent");function out(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!sEe(t,e)||!oEe(t,e))}o(out,"_isSameMessageEvent");function sut(t,e){let r=iEe(e),n=iEe(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!sEe(t,e)||!oEe(t,e))}o(sut,"_isSameExceptionEvent");function oEe(t,e){let r=IO(t),n=IO(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}o(oEe,"_isSameStacktrace");function sEe(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}o(sEe,"_isSameFingerprint");function iEe(t){return t.exception&&t.exception.values&&t.exception.values[0]}o(iEe,"_getExceptionFromEvent");p();m();function yj(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let s=Sa()&&e(t.fetchData.url);if(t.endTimestamp&&s){let A=t.fetchData.__span;if(!A)return;let T=n[A];T&&(fut(T,t),delete n[A]);return}let{method:a,url:f}=t.fetchData,l=cut(f),h=l?Kf(l).host:void 0,g=!!Rn(),b=s&&g?jc({name:`${a} ${f}`,attributes:{url:f,type:"fetch","http.method":a,"http.url":l,"server.address":h,[kn]:i,[Ea]:"http.client"}}):new ic;if(t.fetchData.__span=b.spanContext().spanId,n[b.spanContext().spanId]=b,r(t.fetchData.url)){let A=t.args[0],T=t.args[1]||{},O=aut(A,T,Sa()&&g?b:void 0);O&&(t.args[1]=T,T.headers=O)}return b}o(yj,"instrumentFetchRequest");function aut(t,e,r){let n=yS({span:r}),i=n["sentry-trace"],s=n.baggage;if(!i)return;let a=e.headers||(uut(t)?t.headers:void 0);if(a)if(lut(a)){let f=new Headers(a);if(f.set("sentry-trace",i),s){let l=f.get("baggage");if(l){let h=m7(l);f.set("baggage",h?`${h},${s}`:s)}else f.set("baggage",s)}return f}else if(Array.isArray(a)){let f=[...a.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[h,g,...b]=l;return[h,m7(g),...b]}else return l}),["sentry-trace",i]];return s&&f.push(["baggage",s]),f}else{let f="baggage"in a?a.baggage:void 0,l=[];return Array.isArray(f)?l=f.map(h=>typeof h=="string"?m7(h):h).filter(h=>h===""):f&&l.push(m7(f)),s&&l.push(s),{...a,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}o(aut,"_addTracingHeadersToFetchRequest");function cut(t){try{return new URL(t).href}catch{return}}o(cut,"getFullURL");function fut(t,e){if(e.response){yx(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}o(fut,"endSpan");function m7(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(DO)).join(",")}o(m7,"stripBaggageHeaderOfSentryBaggageValues");function uut(t){return typeof Request<"u"&&Fc(t,Request)}o(uut,"isRequest");function lut(t){return typeof Headers<"u"&&Fc(t,Headers)}o(lut,"isHeaders");p();m();function g7(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(g7,"getBreadcrumbLogLevelFromHttpStatusCode");p();m();p();m();var bj=zt;function y7(){if(!("fetch"in bj))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(y7,"supportsFetch");function bS(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(bS,"isNativeFunction");function vj(){if(typeof EdgeRuntime=="string")return!0;if(!y7())return!1;if(bS(bj.fetch))return!0;let t=!1,e=bj.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=bS(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Qa&&Ze.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}o(vj,"supportsNativeFetch");function vS(t,e){let r="fetch";Zs(r,t),Js(r,()=>cEe(void 0,e))}o(vS,"addFetchInstrumentationHandler");function _j(t){let e="fetch-body-resolved";Zs(e,t),Js(e,()=>cEe(hut))}o(_j,"addFetchEndInstrumentationHandler");function cEe(t,e=!1){e&&!vj()||_o(zt,"fetch",function(r){return function(...n){let i=new Error,{method:s,url:a}=put(n),f={args:n,fetchData:{method:s,url:a},startTimestamp:qi()*1e3,virtualError:i};return t||oo("fetch",{...f}),r.apply(zt,n).then(async l=>(t?t(l):oo("fetch",{...f,endTimestamp:qi()*1e3,response:l}),l),l=>{throw oo("fetch",{...f,endTimestamp:qi()*1e3,error:l}),yy(l)&&l.stack===void 0&&(l.stack=i.stack,Ji(l,"framesToPop",1)),l})}})}o(cEe,"instrumentFetch");async function dut(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),s=!0;for(;s;){let a;try{a=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:f}=await n.read();clearTimeout(a),f&&(e(),s=!1)}catch{s=!1}finally{clearTimeout(a)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}o(dut,"resolveResponse");function hut(t){let e;try{e=t.clone()}catch{return}dut(e,()=>{oo("fetch-body-resolved",{endTimestamp:qi()*1e3,response:t})})}o(hut,"streamHandler");function xj(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(xj,"hasProp");function aEe(t){return typeof t=="string"?t:t?xj(t,"url")?t.url:t.toString?t.toString():"":""}o(aEe,"getUrlFromResource");function put(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:aEe(r),method:xj(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:aEe(e),method:xj(e,"method")?String(e.method).toUpperCase():"GET"}}o(put,"parseFetchArgs");p();m();function wj(){return"npm"}o(wj,"getSDKSource");p();m();var b7=zt;function Ej(){let t=b7.chrome,e=t&&t.app&&t.app.runtime,r="history"in b7&&!!b7.history.pushState&&!!b7.history.replaceState;return!e&&r}o(Ej,"supportsHistory");p();m();var Vt=zt,Sj=0;function Aj(){return Sj>0}o(Aj,"shouldIgnoreOnError");function Out(){Sj++,setTimeout(()=>{Sj--})}o(Out,"ignoreNextOnError");function Sy(t,e={}){function r(i){return typeof i=="function"}if(o(r,"isFunction"),!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(xy(t))return t}catch{return t}let n=o(function(...i){try{let s=i.map(a=>Sy(a,e));return t.apply(this,s)}catch(s){throw Out(),Gp(a=>{a.addEventProcessor(f=>(e.mechanism&&(dx(f,void 0,void 0),od(f,e.mechanism)),f.extra={...f.extra,arguments:i},f)),wx(s)}),s}},"sentryWrapped");try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}PO(n,t),Ji(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}o(Sy,"wrap");p();m();p();m();var ps=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();function v7(t,e){let r=Ij(t,e),n={type:kut(e),value:But(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}o(v7,"exceptionFromError");function Nut(t,e,r,n){let i=Wt(),s=i&&i.getOptions().normalizeDepth,a=Uut(e),f={__serialized__:$O(e,s)};if(a)return{exception:{values:[v7(t,a)]},extra:f};let l={exception:{values:[{type:vy(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:Lut(e,{isUnhandledRejection:n})}]},extra:f};if(r){let h=Ij(t,r);h.length&&(l.exception.values[0].stacktrace={frames:h})}return l}o(Nut,"eventFromPlainObject");function Rj(t,e){return{exception:{values:[v7(t,e)]}}}o(Rj,"eventFromError");function Ij(t,e){let r=e.stacktrace||e.stack||"",n=Cut(e),i=Put(e);try{return t(r,n,i)}catch{}return[]}o(Ij,"parseStackFrames");var Mut=/Minified React error #\d+;/i;function Cut(t){return t&&Mut.test(t.message)?1:0}o(Cut,"getSkipFirstStackStringLines");function Put(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(Put,"getPopFirstTopFrames");function uEe(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(uEe,"isWebAssemblyException");function kut(t){let e=t&&t.name;return!e&&uEe(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(kut,"extractType");function But(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:uEe(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(But,"extractMessage");function lEe(t,e,r,n){let i=r&&r.syntheticException||void 0,s=x7(t,e,i,n);return od(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),Hf(s)}o(lEe,"eventFromException");function dEe(t,e,r="info",n,i){let s=n&&n.syntheticException||void 0,a=Tj(t,e,s,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),Hf(a)}o(dEe,"eventFromMessage");function x7(t,e,r,n,i){let s;if(NO(e)&&e.error)return Rj(t,e.error);if(MO(e)||IV(e)){let a=e;if("stack"in e)s=Rj(t,e);else{let f=a.name||(MO(a)?"DOMError":"DOMException"),l=a.message?`${f}: ${a.message}`:f;s=Tj(t,l,r,n),dx(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return yy(e)?Rj(t,e):zu(e)||vy(e)?(s=Nut(t,e,r,i),od(s,{synthetic:!0}),s):(s=Tj(t,e,r,n),dx(s,`${e}`,void 0),od(s,{synthetic:!0}),s)}o(x7,"eventFromUnknownInput");function Tj(t,e,r,n){let i={};if(n&&r){let s=Ij(t,r);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),od(i,{synthetic:!0})}if(ux(e)){let{__sentry_template_string__:s,__sentry_template_values__:a}=e;return i.logentry={message:s,params:a},i}return i.message=e,i}o(Tj,"eventFromString");function Lut(t,{isUnhandledRejection:e}){let r=BV(t),n=e?"promise rejection":"exception";return NO(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:vy(t)?`Event \`${Dut(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}o(Lut,"getNonErrorObjectExceptionValue");function Dut(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(Dut,"getObjectClassName");function Uut(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}o(Uut,"getErrorPropertyFromObject");p();m();function hEe(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:ad(n)}},s=Fut(t);return Yu(i,[s])}o(hEe,"createUserFeedbackEnvelope");function Fut(t){return[{type:"user_report"},t]}o(Fut,"createUserFeedbackEnvelopeItem");var _7=class extends mS{static{o(this,"BrowserClient")}constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Vt.SENTRY_SDK_SOURCE||wj();gS(r,"browser",["browser"],n),super(r),r.sendClientReports&&Vt.document&&Vt.document.addEventListener("visibilitychange",()=>{Vt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return lEe(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return dEe(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){ps&&Ze.warn("SDK not enabled, will not capture user feedback.");return}let r=hEe(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};p();m();p();m();p();m();p();m();var Ex=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();p();m();var qut=o((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good","getRating"),Gf=o((t,e,r,n)=>{let i,s;return a=>{e.value>=0&&(a||n)&&(s=e.value-(i||0),(s||i===void 0)&&(i=e.value,e.delta=s,e.rating=qut(e.value,r),t(e)))}},"bindReporter");p();m();p();m();var It=zt;p();m();var pEe=o(()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,"generateUniqueID");p();m();p();m();var Th=o((t=!0)=>{let e=It.performance&&It.performance.getEntriesByType&&It.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},"getNavigationEntry");var cd=o(()=>{let t=Th();return t&&t.activationStart||0},"getActivationStart");var $f=o((t,e)=>{let r=Th(),n="navigate";return r&&(It.document&&It.document.prerendering||cd()>0?n="prerender":It.document&&It.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:pEe(),navigationType:n}},"initMetric");p();m();var oc=o((t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}},"observe");p();m();var Wf=o(t=>{let e=o(r=>{(r.type==="pagehide"||It.document&&It.document.visibilityState==="hidden")&&t(r)},"onHiddenOrPageHide");It.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},"onHidden");p();m();var Zp=o(t=>{let e=!1;return()=>{e||(t(),e=!0)}},"runOnce");p();m();p();m();var _S=-1,Hut=o(()=>It.document.visibilityState==="hidden"&&!It.document.prerendering?0:1/0,"initHiddenTime"),w7=o(t=>{It.document.visibilityState==="hidden"&&_S>-1&&(_S=t.type==="visibilitychange"?t.timeStamp:0,jut())},"onVisibilityUpdate"),Vut=o(()=>{addEventListener("visibilitychange",w7,!0),addEventListener("prerenderingchange",w7,!0)},"addChangeListeners"),jut=o(()=>{removeEventListener("visibilitychange",w7,!0),removeEventListener("prerenderingchange",w7,!0)},"removeChangeListeners"),Jp=o(()=>(It.document&&_S<0&&(_S=Hut(),Vut()),{get firstHiddenTime(){return _S}}),"getVisibilityWatcher");p();m();var fd=o(t=>{It.document&&It.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},"whenActivated");var zut=[1800,3e3],mEe=o((t,e={})=>{fd(()=>{let r=Jp(),n=$f("FCP"),i,a=oc("paint",o(f=>{f.forEach(l=>{l.name==="first-contentful-paint"&&(a.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-cd(),0),n.entries.push(l),i(!0)))})},"handleEntries"));a&&(i=Gf(t,n,zut,e.reportAllChanges))})},"onFCP");var Kut=[.1,.25],gEe=o((t,e={})=>{mEe(Zp(()=>{let r=$f("CLS",0),n,i=0,s=[],a=o(l=>{l.forEach(h=>{if(!h.hadRecentInput){let g=s[0],b=s[s.length-1];i&&g&&b&&h.startTime-b.startTime<1e3&&h.startTime-g.startTime<5e3?(i+=h.value,s.push(h)):(i=h.value,s=[h])}}),i>r.value&&(r.value=i,r.entries=s,n())},"handleEntries"),f=oc("layout-shift",a);f&&(n=Gf(t,r,Kut,e.reportAllChanges),Wf(()=>{a(f.takeRecords()),n(!0)}),setTimeout(n,0))}))},"onCLS");p();m();var Gut=[100,300],yEe=o((t,e={})=>{fd(()=>{let r=Jp(),n=$f("FID"),i,s=o(l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},"handleEntry"),a=o(l=>{l.forEach(s)},"handleEntries"),f=oc("first-input",a);i=Gf(t,n,Gut,e.reportAllChanges),f&&Wf(Zp(()=>{a(f.takeRecords()),f.disconnect()}))})},"onFID");p();m();p();m();p();m();var bEe=0,Oj=1/0,E7=0,$ut=o(t=>{t.forEach(e=>{e.interactionId&&(Oj=Math.min(Oj,e.interactionId),E7=Math.max(E7,e.interactionId),bEe=E7?(E7-Oj)/7+1:0)})},"updateEstimate"),Nj,vEe=o(()=>Nj?bEe:performance.interactionCount||0,"getInteractionCount"),xEe=o(()=>{"interactionCount"in performance||Nj||(Nj=oc("event",$ut,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill");var Ih=[],Mj=new Map,_Ee=40,Wut=0,Yut=o(()=>vEe()-Wut,"getInteractionCountForNavigation"),wEe=o(()=>{let t=Math.min(Ih.length-1,Math.floor(Yut()/50));return Ih[t]},"estimateP98LongestInteraction"),Cj=10,Xut=[],EEe=o(t=>{if(Xut.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=Ih[Ih.length-1],r=Mj.get(t.interactionId);if(r||Ih.length<Cj||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};Mj.set(n.id,n),Ih.push(n)}Ih.sort((n,i)=>i.latency-n.latency),Ih.length>Cj&&Ih.splice(Cj).forEach(n=>Mj.delete(n.id))}},"processInteractionEntry");p();m();var S7=o(t=>{let e=It.requestIdleCallback||It.setTimeout,r=-1;return t=Zp(t),It.document&&It.document.visibilityState==="hidden"?t():(r=e(t),Wf(t)),r},"whenIdle");var Zut=[200,500],SEe=o((t,e={})=>{"PerformanceEventTiming"in It&&"interactionId"in PerformanceEventTiming.prototype&&fd(()=>{xEe();let r=$f("INP"),n,i=o(a=>{S7(()=>{a.forEach(EEe);let f=wEe();f&&f.latency!==r.value&&(r.value=f.latency,r.entries=f.entries,n())})},"handleEntries"),s=oc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:_Ee});n=Gf(t,r,Zut,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Wf(()=>{i(s.takeRecords()),n(!0)}))})},"onINP");p();m();var Jut=[2500,4e3],AEe={},REe=o((t,e={})=>{fd(()=>{let r=Jp(),n=$f("LCP"),i,s=o(f=>{e.reportAllChanges||(f=f.slice(-1)),f.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-cd(),0),n.entries=[l],i())})},"handleEntries"),a=oc("largest-contentful-paint",s);if(a){i=Gf(t,n,Jut,e.reportAllChanges);let f=Zp(()=>{AEe[n.id]||(s(a.takeRecords()),a.disconnect(),AEe[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{It.document&&addEventListener(l,()=>S7(f),{once:!0,capture:!0})}),Wf(f)}})},"onLCP");p();m();var Qut=[800,1800],Pj=o(t=>{It.document&&It.document.prerendering?fd(()=>Pj(t)):It.document&&It.document.readyState!=="complete"?addEventListener("load",()=>Pj(t),!0):setTimeout(t,0)},"whenReady"),TEe=o((t,e={})=>{let r=$f("TTFB"),n=Gf(t,r,Qut,e.reportAllChanges);Pj(()=>{let i=Th();i&&(r.value=Math.max(i.responseStart-cd(),0),r.entries=[i],n(!0))})},"onTTFB");var wS={},A7={},IEe,OEe,NEe,MEe,CEe;function ES(t,e=!1){return SS("cls",t,elt,IEe,e)}o(ES,"addClsInstrumentationHandler");function kj(t,e=!1){return SS("lcp",t,rlt,NEe,e)}o(kj,"addLcpInstrumentationHandler");function Bj(t){return SS("fid",t,tlt,OEe)}o(Bj,"addFidInstrumentationHandler");function Lj(t){return SS("ttfb",t,nlt,MEe)}o(Lj,"addTtfbInstrumentationHandler");function Dj(t){return SS("inp",t,ilt,CEe)}o(Dj,"addInpInstrumentationHandler");function Oh(t,e){return PEe(t,e),A7[t]||(olt(t),A7[t]=!0),kEe(t,e)}o(Oh,"addPerformanceInstrumentationHandler");function Sx(t,e){let r=wS[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){Ex&&Ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${tc(n)}
Error:`,i)}}o(Sx,"triggerHandlers");function elt(){return gEe(t=>{Sx("cls",{metric:t}),IEe=t},{reportAllChanges:!0})}o(elt,"instrumentCls");function tlt(){return yEe(t=>{Sx("fid",{metric:t}),OEe=t})}o(tlt,"instrumentFid");function rlt(){return REe(t=>{Sx("lcp",{metric:t}),NEe=t},{reportAllChanges:!0})}o(rlt,"instrumentLcp");function nlt(){return TEe(t=>{Sx("ttfb",{metric:t}),MEe=t})}o(nlt,"instrumentTtfb");function ilt(){return SEe(t=>{Sx("inp",{metric:t}),CEe=t})}o(ilt,"instrumentInp");function SS(t,e,r,n,i=!1){PEe(t,e);let s;return A7[t]||(s=r(),A7[t]=!0),n&&e({metric:n}),kEe(t,e,i?s:void 0)}o(SS,"addMetricObserver");function olt(t){let e={};t==="event"&&(e.durationThreshold=0),oc(t,r=>{Sx(t,{entries:r})},e)}o(olt,"instrumentPerformanceObserver");function PEe(t,e){wS[t]=wS[t]||[],wS[t].push(e)}o(PEe,"addHandler");function kEe(t,e,r){return()=>{r&&r();let n=wS[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}o(kEe,"getCleanupCallback");function BEe(t){return"duration"in t}o(BEe,"isPerformanceEventTiming");p();m();p();m();p();m();function R7(t){return typeof t=="number"&&isFinite(t)}o(R7,"isMeasurementValue");function ud(t,e,r,{...n}){let i=Yt(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),xx(t,()=>{let s=jc({startTime:e,...n});return s&&s.end(r),s})}o(ud,"startAndEndSpan");function T7(t){let e=Wt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:s}=t,{release:a,environment:f}=e.getOptions(),l=e.getIntegrationByName("Replay"),h=l&&l.getReplayId(),g=lr(),b=g.getUser(),A=b!==void 0?b.email||b.id||b.ip_address:void 0,T;try{T=g.getScopeData().contexts.profile.profile_id}catch{}let O={release:a,environment:f,user:A||void 0,profile_id:T||void 0,replay_id:h||void 0,transaction:n,"user_agent.original":It.navigator&&It.navigator.userAgent,...i};return jc({name:r,attributes:O,startTime:s,experimental:{standalone:!0}})}o(T7,"startStandaloneWebVitalSpan");function AS(){return It&&It.addEventListener&&It.performance}o(AS,"getBrowserPerformanceAPI");function pi(t){return t/1e3}o(pi,"msToSec");function RS(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}o(RS,"extractNetworkProtocol");function LEe(){let t=0,e,r;if(!alt())return;let n=!1;function i(){n||(n=!0,r&&slt(t,e,r),s())}o(i,"_collectClsOnce");let s=ES(({metric:a})=>{let f=a.entries[a.entries.length-1];f&&(t=a.value,e=f)},!0);Wf(()=>{i()}),setTimeout(()=>{let a=Wt();if(!a)return;let f=a.on("startNavigationSpan",()=>{i(),f&&f()}),l=Rn(),h=l&&An(l),g=h&&Yt(h);g&&g.op==="pageload"&&(r=h.spanContext().spanId)},0)}o(LEe,"trackClsAsStandaloneSpan");function slt(t,e,r){Ex&&Ze.log(`Sending CLS span (${t})`);let n=pi((so||0)+(e&&e.startTime||0)),i=lr().getScopeData().transactionName,s=e?qc(e.sources[0]&&e.sources[0].node):"Layout shift",a=Pn({[kn]:"auto.http.browser.cls",[Ea]:"ui.webvital.cls",[wy]:e&&e.duration||0,"sentry.pageload.span_id":r}),f=T7({name:s,transaction:i,attributes:a,startTime:n});f&&(f.addEvent("cls",{[$p]:"",[Wp]:t}),f.end(n))}o(slt,"sendStandaloneClsSpan");function alt(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}o(alt,"supportsLayoutShift");var clt=2147483647,DEe=0,ms={},sc,TS;function Fj({recordClsStandaloneSpans:t}){let e=AS();if(e&&so){e.mark&&It.performance.mark("sentry-tracing-init");let r=llt(),n=ult(),i=dlt(),s=t?LEe():flt();return()=>{r(),n(),i(),s&&s()}}return()=>{}}o(Fj,"startTrackingWebVitals");function qj(){Oh("longtask",({entries:t})=>{let e=Rn();if(!e)return;let{op:r,start_timestamp:n}=Yt(e);for(let i of t){let s=pi(so+i.startTime),a=pi(i.duration);r==="navigation"&&n&&s<n||ud(e,s,s+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[kn]:"auto.ui.browser.metrics"}})}})}o(qj,"startTrackingLongTasks");function Hj(){new PerformanceObserver(e=>{let r=Rn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=pi(so+n.startTime),{start_timestamp:s,op:a}=Yt(r);if(a==="navigation"&&s&&i<s)continue;let f=pi(n.duration),l={[kn]:"auto.ui.browser.metrics"},h=n.scripts[0],{invoker:g,invokerType:b,sourceURL:A,sourceFunctionName:T,sourceCharPosition:O}=h;l["browser.script.invoker"]=g,l["browser.script.invoker_type"]=b,A&&(l["code.filepath"]=A),T&&(l["code.function"]=T),O!==-1&&(l["browser.script.source_char_position"]=O),ud(r,i,i+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}o(Hj,"startTrackingLongAnimationFrames");function Vj(){Oh("event",({entries:t})=>{let e=Rn();if(e){for(let r of t)if(r.name==="click"){let n=pi(so+r.startTime),i=pi(r.duration),s={name:qc(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[kn]:"auto.ui.browser.metrics"}},a=sS(r.target);a&&(s.attributes["ui.component_name"]=a),ud(e,n,n+i,s)}}})}o(Vj,"startTrackingInteractions");function flt(){return ES(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(ms.cls={value:t.value,unit:""},TS=e)},!0)}o(flt,"_trackCLS");function ult(){return kj(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(ms.lcp={value:t.value,unit:"millisecond"},sc=e)},!0)}o(ult,"_trackLCP");function llt(){return Bj(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=pi(so),n=pi(e.startTime);ms.fid={value:t.value,unit:"millisecond"},ms["mark.fid"]={value:r+n,unit:"second"}})}o(llt,"_trackFID");function dlt(){return Lj(({metric:t})=>{t.entries[t.entries.length-1]&&(ms.ttfb={value:t.value,unit:"millisecond"})})}o(dlt,"_trackTtfb");function jj(t,e){let r=AS();if(!r||!r.getEntries||!so)return;let n=pi(so),i=r.getEntries(),{op:s,start_timestamp:a}=Yt(t);if(i.slice(DEe).forEach(f=>{let l=pi(f.startTime),h=pi(Math.max(0,f.duration));if(!(s==="navigation"&&a&&n+l<a))switch(f.entryType){case"navigation":{plt(t,f,n);break}case"mark":case"paint":case"measure":{hlt(t,f,l,h,n);let g=Jp(),b=f.startTime<g.firstHiddenTime;f.name==="first-paint"&&b&&(ms.fp={value:f.startTime,unit:"millisecond"}),f.name==="first-contentful-paint"&&b&&(ms.fcp={value:f.startTime,unit:"millisecond"});break}case"resource":{ylt(t,f,f.name,l,h,n);break}}}),DEe=Math.max(i.length-1,0),blt(t),s==="pageload"){xlt(ms);let f=ms["mark.fid"];f&&ms.fid&&(ud(t,f.value,f.value+pi(ms.fid.value),{name:"first input delay",op:"ui.action",attributes:{[kn]:"auto.ui.browser.metrics"}}),delete ms["mark.fid"]),(!("fcp"in ms)||!e.recordClsOnPageloadSpan)&&delete ms.cls,Object.entries(ms).forEach(([l,h])=>{ZO(l,h.value,h.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",cd()),vlt(t)}sc=void 0,TS=void 0,ms={}}o(jj,"addPerformanceEntries");function hlt(t,e,r,n,i){let s=Th(!1),a=pi(s?s.requestStart:0),f=i+Math.max(r,a),l=i+r,h=l+n,g={[kn]:"auto.resource.browser.metrics"};return f!==l&&(g["sentry.browser.measure_happened_before_request"]=!0,g["sentry.browser.measure_start_time"]=f),ud(t,f,h,{name:e.name,op:e.entryType,attributes:g}),f}o(hlt,"_addMeasureSpans");function plt(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{I7(t,e,n,r)}),I7(t,e,"secureConnection",r,"TLS/SSL"),I7(t,e,"fetch",r,"cache"),I7(t,e,"domainLookup",r,"DNS"),glt(t,e,r)}o(plt,"_addNavigationSpans");function I7(t,e,r,n,i=r){let s=mlt(r),a=e[s],f=e[`${r}Start`];!f||!a||ud(t,n+pi(f),n+pi(a),{op:`browser.${i}`,name:e.name,attributes:{[kn]:"auto.ui.browser.metrics"}})}o(I7,"_addPerformanceNavigationTiming");function mlt(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}o(mlt,"_getEndPropertyNameForNavigationTiming");function glt(t,e,r){let n=r+pi(e.requestStart),i=r+pi(e.responseEnd),s=r+pi(e.responseStart);e.responseEnd&&(ud(t,n,i,{op:"browser.request",name:e.name,attributes:{[kn]:"auto.ui.browser.metrics"}}),ud(t,s,i,{op:"browser.response",name:e.name,attributes:{[kn]:"auto.ui.browser.metrics"}}))}o(glt,"_addRequest");function ylt(t,e,r,n,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a=Kf(r),f={[kn]:"auto.resource.browser.metrics"};Uj(f,e,"transferSize","http.response_transfer_size"),Uj(f,e,"encodedBodySize","http.response_content_length"),Uj(f,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(f["http.response_delivery_type"]=l);let h=e.renderBlockingStatus;h&&(f["resource.render_blocking_status"]=h),a.protocol&&(f["url.scheme"]=a.protocol.split(":").pop()),a.host&&(f["server.address"]=a.host),f["url.same_origin"]=r.includes(It.location.origin);let{name:g,version:b}=RS(e.nextHopProtocol);f["network.protocol.name"]=g,f["network.protocol.version"]=b;let A=s+n,T=A+i;ud(t,A,T,{name:r.replace(It.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:f})}o(ylt,"_addResourceSpans");function blt(t){let e=It.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),R7(r.rtt)&&(ms["connection.rtt"]={value:r.rtt,unit:"millisecond"})),R7(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),R7(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}o(blt,"_trackNavigator");function vlt(t){sc&&(sc.element&&t.setAttribute("lcp.element",qc(sc.element)),sc.id&&t.setAttribute("lcp.id",sc.id),sc.url&&t.setAttribute("lcp.url",sc.url.trim().slice(0,200)),sc.loadTime!=null&&t.setAttribute("lcp.loadTime",sc.loadTime),sc.renderTime!=null&&t.setAttribute("lcp.renderTime",sc.renderTime),t.setAttribute("lcp.size",sc.size)),TS&&TS.sources&&TS.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,qc(e.node)))}o(vlt,"_setWebVitalAttributes");function Uj(t,e,r,n){let i=e[r];i!=null&&i<clt&&(t[n]=i)}o(Uj,"setResourceEntrySizeData");function xlt(t){let e=Th(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}o(xlt,"_addTtfbRequestTimeToMeasurements");p();m();var _lt=1e3,UEe,zj,Kj;function Gj(t){let e="dom";Zs(e,t),Js(e,wlt)}o(Gj,"addClickKeypressInstrumentationHandler");function wlt(){if(!It.document)return;let t=oo.bind(null,"dom"),e=FEe(t,!0);It.document.addEventListener("click",e,!1),It.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=It[r],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(_o(s,"addEventListener",function(a){return function(f,l,h){if(f==="click"||f=="keypress")try{let g=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},b=g[f]=g[f]||{refCount:0};if(!b.handler){let A=FEe(t);b.handler=A,a.call(this,f,A,h)}b.refCount++}catch{}return a.call(this,f,l,h)}}),_o(s,"removeEventListener",function(a){return function(f,l,h){if(f==="click"||f=="keypress")try{let g=this.__sentry_instrumentation_handlers__||{},b=g[f];b&&(b.refCount--,b.refCount<=0&&(a.call(this,f,b.handler,h),b.handler=void 0,delete g[f]),Object.keys(g).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,f,l,h)}}))})}o(wlt,"instrumentDOM");function Elt(t){if(t.type!==zj)return!1;try{if(!t.target||t.target._sentryId!==Kj)return!1}catch{}return!0}o(Elt,"isSimilarToLastCapturedEvent");function Slt(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(Slt,"shouldSkipDOMEvent");function FEe(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=Alt(r);if(Slt(r.type,n))return;Ji(r,"_sentryCaptured",!0),n&&!n._sentryId&&Ji(n,"_sentryId",wo());let i=r.type==="keypress"?"input":r.type;Elt(r)||(t({event:r,name:i,global:e}),zj=r.type,Kj=n?n._sentryId:void 0),clearTimeout(UEe),UEe=It.setTimeout(()=>{Kj=void 0,zj=void 0},_lt)}}o(FEe,"makeDOMEventHandler");function Alt(t){try{return t.target}catch{return null}}o(Alt,"getEventTarget");p();m();var O7;function Ay(t){let e="history";Zs(e,t),Js(e,Rlt)}o(Ay,"addHistoryInstrumentationHandler");function Rlt(){if(!Ej())return;let t=It.onpopstate;It.onpopstate=function(...r){let n=It.location.href,i=O7;if(O7=n,oo("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let s=O7,a=String(i);O7=a,oo("history",{from:s,to:a})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),_o(It.history,"pushState",e),_o(It.history,"replaceState",e)}o(Rlt,"instrumentHistory");p();m();var N7={};function $j(t){let e=N7[t];if(e)return e;let r=It[t];if(bS(r))return N7[t]=r.bind(It);let n=It.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let s=i.contentWindow;s&&s[t]&&(r=s[t]),n.head.removeChild(i)}catch(i){Ex&&Ze.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(N7[t]=r.bind(It))}o($j,"getNativeImplementation");function M7(t){N7[t]=void 0}o(M7,"clearCachedImplementation");p();m();var Nh="__sentry_xhr_v3__";function IS(t){let e="xhr";Zs(e,t),Js(e,Tlt)}o(IS,"addXhrInstrumentationHandler");function Tlt(){if(!It.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,s=qi()*1e3,a=wa(n[0])?n[0].toUpperCase():void 0,f=Ilt(n[1]);if(!a||!f)return e.apply(r,n);r[Nh]={method:a,url:f,request_headers:{}},a==="POST"&&f.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=o(()=>{let h=r[Nh];if(h&&r.readyState===4){try{h.status_code=r.status}catch{}let g={endTimestamp:qi()*1e3,startTimestamp:s,xhr:r,virtualError:i};oo("xhr",g)}},"onreadystatechangeHandler");return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(h,g,b){return l(),h.apply(g,b)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(h,g,b){let[A,T]=b,O=g[Nh];return O&&wa(A)&&wa(T)&&(O.request_headers[A.toLowerCase()]=T),h.apply(g,b)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[Nh];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let s={startTimestamp:qi()*1e3,xhr:r};return oo("xhr",s),e.apply(r,n)}})}o(Tlt,"instrumentXHR");function Ilt(t){if(wa(t))return t;try{return t.toString()}catch{}}o(Ilt,"parseUrl");p();m();var Wj=[],C7=new Map;function Yj(){if(AS()&&so){let e=Olt();return()=>{e()}}return()=>{}}o(Yj,"startTrackingINP");var qEe={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Olt(){return Dj(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(O=>O.duration===t.value&&qEe[O.name]);if(!e)return;let{interactionId:r}=e,n=qEe[e.name],i=pi(so+e.startTime),s=pi(t.value),a=Rn(),f=a?An(a):void 0,h=(r!=null?C7.get(r):void 0)||f,g=h?Yt(h).description:lr().getScopeData().transactionName,b=qc(e.target),A=Pn({[kn]:"auto.http.browser.inp",[Ea]:`ui.interaction.${n}`,[wy]:e.duration}),T=T7({name:b,transaction:g,attributes:A,startTime:i});T&&(T.addEvent("inp",{[$p]:"millisecond",[Wp]:t.value}),T.end(i+s))})}o(Olt,"_trackINP");function Xj(t){let e=o(({entries:r})=>{let n=Rn(),i=n&&An(n);r.forEach(s=>{if(!BEe(s)||!i)return;let a=s.interactionId;if(a!=null&&!C7.has(a)){if(Wj.length>10){let f=Wj.shift();C7.delete(f)}Wj.push(a),C7.set(a,i)}})},"handleEntries");Oh("event",e),Oh("first-input",e)}o(Xj,"registerInpInteractionListener");function HEe(t,e=$j("fetch")){let r=0,n=0;function i(s){let a=s.body.length;r+=a,n++;let f={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return M7("fetch"),Kp("No fetch implementation available");try{return e(t.url,f).then(l=>(r-=a,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return M7("fetch"),r-=a,n--,Kp(l)}}return o(i,"makeRequest"),u7(t,i)}o(HEe,"makeFetchTransport");p();m();var Nlt=30;var Mlt=50;function Zj(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?td:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}o(Zj,"createFrame");var Clt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Plt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,klt=/\((\S*)(?::(\d+))(?::(\d+))\)/,Blt=o(t=>{let e=Clt.exec(t);if(e){let[,n,i,s]=e;return Zj(n,td,+i,+s)}let r=Plt.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=klt.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=jEe(r[1]||td,r[2]);return Zj(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},"chromeStackParserFn"),Llt=[Nlt,Blt],Dlt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ult=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Flt=o(t=>{let e=Dlt.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let s=Ult.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],i=e[1]||td;return[i,n]=jEe(i,n),Zj(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko"),qlt=[Mlt,Flt];var Hlt=[Llt,qlt],VEe=TO(...Hlt),jEe=o((t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:td,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails");p();m();p();m();var P7=1024,Vlt="Breadcrumbs",jlt=o((t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Vlt,setup(r){e.console&&mj(Glt(r)),e.dom&&Gj(Klt(r,e.dom)),e.xhr&&IS($lt(r)),e.fetch&&vS(Wlt(r)),e.history&&Ay(Ylt(r)),e.sentry&&r.on("beforeSendEvent",zlt(r))}}},"_breadcrumbsIntegration"),OS=jlt;function zlt(t){return o(function(r){Wt()===t&&zf({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Gu(r)},{event:r})},"addSentryBreadcrumb")}o(zlt,"_getSentryBreadcrumbHandler");function Klt(t,e){return o(function(n){if(Wt()!==t)return;let i,s,a=typeof e=="object"?e.serializeAttribute:void 0,f=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;f&&f>P7&&(ps&&Ze.warn(`\`dom.maxStringLength\` cannot exceed ${P7}, but a value of ${f} was configured. Sentry will use ${P7} instead.`),f=P7),typeof a=="string"&&(a=[a]);try{let h=n.event,g=Xlt(h)?h.target:h;i=qc(g,{keyAttrs:a,maxStringLength:f}),s=sS(g)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};s&&(l.data={"ui.component_name":s}),zf(l,{event:n.event,name:n.name,global:n.global})},"_innerDomBreadcrumb")}o(Klt,"_getDomBreadcrumbHandler");function Glt(t){return o(function(r){if(Wt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:gj(r.level),message:CO(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${CO(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;zf(n,{input:r.args,level:r.level})},"_consoleBreadcrumb")}o(Glt,"_getConsoleBreadcrumbHandler");function $lt(t){return o(function(r){if(Wt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,s=r.xhr[Nh];if(!n||!i||!s)return;let{method:a,url:f,status_code:l,body:h}=s,g={method:a,url:f,status_code:l},b={xhr:r.xhr,input:h,startTimestamp:n,endTimestamp:i},A=g7(l);zf({category:"xhr",data:g,type:"http",level:A},b)},"_xhrBreadcrumb")}o($lt,"_getXhrBreadcrumbHandler");function Wlt(t){return o(function(r){if(Wt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};zf({category:"fetch",data:s,level:"error",type:"http"},a)}else{let s=r.response,a={...r.fetchData,status_code:s&&s.status},f={input:r.args,response:s,startTimestamp:n,endTimestamp:i},l=g7(a.status_code);zf({category:"fetch",data:a,type:"http",level:l},f)}},"_fetchBreadcrumb")}o(Wlt,"_getFetchBreadcrumbHandler");function Ylt(t){return o(function(r){if(Wt()!==t)return;let n=r.from,i=r.to,s=Kf(Vt.location.href),a=n?Kf(n):void 0,f=Kf(i);(!a||!a.path)&&(a=s),s.protocol===f.protocol&&s.host===f.host&&(i=f.relative),s.protocol===a.protocol&&s.host===a.host&&(n=a.relative),zf({category:"navigation",data:{from:n,to:i}})},"_historyBreadcrumb")}o(Ylt,"_getHistoryBreadcrumbHandler");function Xlt(t){return!!t&&!!t.target}o(Xlt,"_isEvent");p();m();var Zlt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Jlt="BrowserApiErrors",Qlt=o((t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:Jlt,setupOnce(){e.setTimeout&&_o(Vt,"setTimeout",zEe),e.setInterval&&_o(Vt,"setInterval",zEe),e.requestAnimationFrame&&_o(Vt,"requestAnimationFrame",edt),e.XMLHttpRequest&&"XMLHttpRequest"in Vt&&_o(XMLHttpRequest.prototype,"send",tdt);let r=e.eventTarget;r&&(Array.isArray(r)?r:Zlt).forEach(rdt)}}},"_browserApiErrorsIntegration"),KEe=Qlt;function zEe(t){return function(...e){let r=e[0];return e[0]=Sy(r,{mechanism:{data:{function:tc(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(zEe,"_wrapTimeFunction");function edt(t){return function(e){return t.apply(this,[Sy(e,{mechanism:{data:{function:"requestAnimationFrame",handler:tc(t)},handled:!1,type:"instrument"}})])}}o(edt,"_wrapRAF");function tdt(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&_o(r,i,function(s){let a={mechanism:{data:{function:i,handler:tc(s)},handled:!1,type:"instrument"}},f=xy(s);return f&&(a.mechanism.data.handler=tc(f)),Sy(s,a)})}),t.apply(this,e)}}o(tdt,"_wrapXHR");function rdt(t){let r=Vt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(_o(n,"addEventListener",function(i){return function(s,a,f){try{ndt(a)&&(a.handleEvent=Sy(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:tc(a),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,Sy(a,{mechanism:{data:{function:"addEventListener",handler:tc(a),target:t},handled:!1,type:"instrument"}}),f])}}),_o(n,"removeEventListener",function(i){return function(s,a,f){try{let l=a.__sentry_wrapped__;l&&i.call(this,s,l,f)}catch{}return i.call(this,s,a,f)}}))}o(rdt,"_wrapEventTarget");function ndt(t){return typeof t.handleEvent=="function"}o(ndt,"isEventListenerObject");p();m();var GEe=()=>({name:"BrowserSession",setupOnce(){if(typeof Vt.document>"u"){ps&&Ze.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}hS({ignoreDuration:!0}),pS(),Ay(({from:t,to:e})=>{t!==void 0&&t!==e&&(hS({ignoreDuration:!0}),pS())})}});p();m();var idt="GlobalHandlers",odt=o((t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:idt,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(sdt(r),$Ee("onerror")),e.onunhandledrejection&&(adt(r),$Ee("onunhandledrejection"))}}},"_globalHandlersIntegration"),WEe=odt;function sdt(t){rS(e=>{let{stackParser:r,attachStacktrace:n}=YEe();if(Wt()!==t||Aj())return;let{msg:i,url:s,line:a,column:f,error:l}=e,h=udt(x7(r,l||i,void 0,n,!1),s,a,f);h.level="error",dS(h,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}o(sdt,"_installGlobalOnErrorHandler");function adt(t){nS(e=>{let{stackParser:r,attachStacktrace:n}=YEe();if(Wt()!==t||Aj())return;let i=cdt(e),s=by(i)?fdt(i):x7(r,i,void 0,n,!0);s.level="error",dS(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(adt,"_installGlobalOnUnhandledRejectionHandler");function cdt(t){if(by(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(cdt,"_getUnhandledRejectionError");function fdt(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(fdt,"_eventFromRejectionWithPrimitive");function udt(t,e,r,n){let i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},f=a.stacktrace=a.stacktrace||{},l=f.frames=f.frames||[],h=n,g=r,b=wa(e)&&e.length>0?e:CV();return l.length===0&&l.push({colno:h,filename:b,function:td,in_app:!0,lineno:g}),t}o(udt,"_enhanceEventWithInitialFrame");function $Ee(t){ps&&Ze.log(`Global Handler attached: ${t}`)}o($Ee,"globalHandlerLog");function YEe(){let t=Wt();return t&&t.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(YEe,"getOptions");p();m();var XEe=()=>({name:"HttpContext",preprocessEvent(t){if(!Vt.navigator&&!Vt.location&&!Vt.document)return;let e=t.request&&t.request.url||Vt.location&&Vt.location.href,{referrer:r}=Vt.document||{},{userAgent:n}=Vt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...t.request,...e&&{url:e},headers:i};t.request=s}});p();m();var ldt="cause",ddt=5,hdt="LinkedErrors",pdt=o((t={})=>{let e=t.limit||ddt,r=t.key||ldt;return{name:hdt,preprocessEvent(n,i,s){let a=s.getOptions();pj(v7,a.stackParser,a.maxValueLength,r,e,n,i)}}},"_linkedErrorsIntegration"),ZEe=pdt;function JEe(t){let e=[h7(),l7(),KEe(),OS(),WEe(),ZEe(),p7(),XEe()];return t.autoSessionTracking!==!1&&e.push(GEe()),e}o(JEe,"getDefaultIntegrations");function mdt(t={}){let e={defaultIntegrations:JEe(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Vt.SENTRY_RELEASE&&Vt.SENTRY_RELEASE.id?Vt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(mdt,"applyDefaultOptions");function gdt(){let t=typeof Vt.window<"u"&&Vt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Vt.location&&Vt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!n&&Vt===Vt.top&&s.some(l=>i.startsWith(`${l}//`)),f=typeof t.nw<"u";return!!n&&!a&&!f}o(gdt,"shouldShowBrowserExtensionError");function Jj(t={}){let e=mdt(t);if(!e.skipBrowserExtensionCheck&&gdt()){ec(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ps&&(y7()||Ze.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:AV(e.stackParser||VEe),integrations:cj(e),transport:e.transport||HEe};return lj(_7,r)}o(Jj,"init");p();m();var QEe=new WeakMap,Qj=new Map,NS={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function tSe(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:f}={traceFetch:NS.traceFetch,traceXHR:NS.traceXHR,trackFetchStreamPerformance:NS.trackFetchStreamPerformance,...e},l=typeof s=="function"?s:b=>!0,h=o(b=>vdt(b,f),"shouldAttachHeadersWithTargets"),g={};r&&(t.addEventProcessor(b=>(b.type==="transaction"&&b.spans&&b.spans.forEach(A=>{if(A.op==="http.client"){let T=Qj.get(A.span_id);T&&(A.timestamp=T/1e3,Qj.delete(A.span_id))}}),b)),i&&_j(b=>{if(b.response){let A=QEe.get(b.response);A&&b.endTimestamp&&Qj.set(A,b.endTimestamp)}}),vS(b=>{let A=yj(b,l,h,g);if(b.response&&b.fetchData.__span&&QEe.set(b.response,b.fetchData.__span),A){let T=rSe(b.fetchData.url),O=T?Kf(T).host:void 0;A.setAttributes({"http.url":T,"server.address":O})}a&&A&&eSe(A)})),n&&IS(b=>{let A=xdt(b,l,h,g);a&&A&&eSe(A)})}o(tSe,"instrumentOutgoingRequests");function ydt(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}o(ydt,"isPerformanceResourceTiming");function eSe(t){let{url:e}=Yt(t).data||{};if(!e||typeof e!="string")return;let r=Oh("resource",({entries:n})=>{n.forEach(i=>{ydt(i)&&i.name.endsWith(e)&&(bdt(i).forEach(a=>t.setAttribute(...a)),setTimeout(r))})})}o(eSe,"addHTTPTimings");function ld(t=0){return((so||performance.timeOrigin)+t)/1e3}o(ld,"getAbsoluteTime");function bdt(t){let{name:e,version:r}=RS(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),so?[...n,["http.request.redirect_start",ld(t.redirectStart)],["http.request.fetch_start",ld(t.fetchStart)],["http.request.domain_lookup_start",ld(t.domainLookupStart)],["http.request.domain_lookup_end",ld(t.domainLookupEnd)],["http.request.connect_start",ld(t.connectStart)],["http.request.secure_connection_start",ld(t.secureConnectionStart)],["http.request.connection_end",ld(t.connectEnd)],["http.request.request_start",ld(t.requestStart)],["http.request.response_start",ld(t.responseStart)],["http.request.response_end",ld(t.responseEnd)]]:n}o(bdt,"resourceTimingEntryToSpanData");function vdt(t,e){let r=Vt.location&&Vt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let s=n.origin===i;return e?nd(n.toString(),e)||s&&nd(n.pathname,e):s}else{let n=!!t.match(/^\/(?!\/)/);return e?nd(t,e):n}}o(vdt,"shouldAttachHeaders");function xdt(t,e,r,n){let i=t.xhr,s=i&&i[Nh];if(!i||i.__sentry_own_request__||!s)return;let a=Sa()&&e(s.url);if(t.endTimestamp&&a){let b=i.__sentry_xhr_span_id__;if(!b)return;let A=n[b];A&&s.status_code!==void 0&&(yx(A,s.status_code),A.end(),delete n[b]);return}let f=rSe(s.url),l=f?Kf(f).host:void 0,h=!!Rn(),g=a&&h?jc({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":f,url:s.url,"server.address":l,[kn]:"auto.http.browser",[Ea]:"http.client"}}):new ic;return i.__sentry_xhr_span_id__=g.spanContext().spanId,n[i.__sentry_xhr_span_id__]=g,r(s.url)&&_dt(i,Sa()&&h?g:void 0),g}o(xdt,"xhrCallback");function _dt(t,e){let{"sentry-trace":r,baggage:n}=yS({span:e});r&&wdt(t,r,n)}o(_dt,"addTracingHeadersToXhrRequest");function wdt(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}o(wdt,"setHeaderOnXhr");function rSe(t){try{return new URL(t,Vt.location.origin).href}catch{return}}o(rSe,"getFullURL");p();m();p();m();function nSe(){Vt&&Vt.document?Vt.document.addEventListener("visibilitychange",()=>{let t=Rn();if(!t)return;let e=An(t);if(Vt.document.hidden&&e){let r="cancelled",{op:n,status:i}=Yt(e);ps&&Ze.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):ps&&Ze.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(nSe,"registerBackgroundTabDetection");var Edt="BrowserTracing",Sdt={..._x,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...NS},ez=o((t={})=>{KO();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:f,finalTimeout:l,childSpanTimeout:h,markBackgroundSpan:g,traceFetch:b,traceXHR:A,trackFetchStreamPerformance:T,shouldCreateSpanForRequest:O,enableHTTPTimings:N,instrumentPageLoad:P,instrumentNavigation:C}={...Sdt,...t},D=Fj({recordClsStandaloneSpans:s||!1});e&&Yj(),n&&zt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Hj():r&&qj(),i&&Vj();let M={name:void 0,source:void 0};function U(V,j){let ee=j.op==="pageload",Y=a?a(j):j,te=Y.attributes||{};j.name!==Y.name&&(te[Qs]="custom",Y.attributes=te),M.name=Y.name,M.source=te[Qs];let E=e7(Y,{idleTimeout:f,finalTimeout:l,childSpanTimeout:h,disableAutoFinish:ee,beforeSpanEnd:o(d=>{D(),jj(d,{recordClsOnPageloadSpan:!s})},"beforeSpanEnd")});function c(){["interactive","complete"].includes(Vt.document.readyState)&&V.emit("idleSpanEnableAutoFinish",E)}return o(c,"emitFinish"),ee&&Vt.document&&(Vt.document.addEventListener("readystatechange",()=>{c()}),c()),E}return o(U,"_createRouteSpan"),{name:Edt,afterAllSetup(V){let j,ee=Vt.location&&Vt.location.href;function Y(){j&&!Yt(j).timestamp&&(ps&&Ze.log(`[Tracing] Finishing current active span with op: ${Yt(j).op}`),j.end())}o(Y,"maybeEndActiveSpan"),V.on("startNavigationSpan",te=>{Wt()===V&&(Y(),j=U(V,{op:"navigation",...te}))}),V.on("startPageLoadSpan",(te,E={})=>{if(Wt()!==V)return;Y();let c=E.sentryTrace||iSe("sentry-trace"),d=E.baggage||iSe("baggage"),y=jV(c,d);lr().setPropagationContext(y),j=U(V,{op:"pageload",...te})}),V.on("spanEnd",te=>{let E=Yt(te).op;if(te!==An(te)||E!=="navigation"&&E!=="pageload")return;let c=lr(),d=c.getPropagationContext();c.setPropagationContext({...d,sampled:d.sampled!==void 0?d.sampled:Vf(te),dsc:d.dsc||Vc(te)})}),Vt.location&&(P&&oSe(V,{name:Vt.location.pathname,startTime:so?so/1e3:void 0,attributes:{[Qs]:"url",[kn]:"auto.pageload.browser"}}),C&&Ay(({to:te,from:E})=>{if(E===void 0&&ee&&ee.indexOf(te)!==-1){ee=void 0;return}E!==te&&(ee=void 0,sSe(V,{name:Vt.location.pathname,attributes:{[Qs]:"url",[kn]:"auto.navigation.browser"}}))})),g&&nSe(),i&&Adt(f,l,h,M),e&&Xj(),tSe(V,{traceFetch:b,traceXHR:A,trackFetchStreamPerformance:T,tracePropagationTargets:V.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:O,enableHTTPTimings:N})}}},"browserTracingIntegration");function oSe(t,e,r){t.emit("startPageLoadSpan",e,r),lr().setTransactionName(e.name);let n=Rn();return(n&&Yt(n).op)==="pageload"?n:void 0}o(oSe,"startBrowserTracingPageLoadSpan");function sSe(t,e){Eo().setPropagationContext({traceId:rc()}),lr().setPropagationContext({traceId:rc()}),t.emit("startNavigationSpan",e),lr().setTransactionName(e.name);let r=Rn();return(r&&Yt(r).op)==="navigation"?r:void 0}o(sSe,"startBrowserTracingNavigationSpan");function iSe(t){let e=PV(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}o(iSe,"getMetaContent");function Adt(t,e,r,n){let i,s=o(()=>{let a="ui.action.click",f=Rn(),l=f&&An(f);if(l){let h=Yt(l).op;if(["navigation","pageload"].includes(h)){ps&&Ze.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(gx,"interactionInterrupted"),i.end(),i=void 0),!n.name){ps&&Ze.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=e7({name:n.name,op:a,attributes:{[Qs]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})},"registerInteractionTransaction");Vt.document&&addEventListener("click",s,{once:!1,capture:!0})}o(Adt,"registerInteractionListener");p();m();var aSe=et(fo(),1);function tz(t){let e={...t};return gS(e,"react"),s7("react",{version:aSe.version}),Jj(e)}o(tz,"init");p();m();var rz={op:"function"};var Tdt=["The server encountered a temporary error","premature close","The browser is shutting down."],Idt=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],Odt=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],cSe=!1,fSe={init:o(async(t,{appVersion:e,sentry:r})=>{r.enabled&&tz({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:o(n=>{let i=n.transactionContext.name;return Idt.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},"tracesSampler"),beforeSend:o(async(n,i)=>{let s=i?.originalException;for(let a of Tdt)if(s instanceof Error&&s.message===a||typeof s=="string"&&s===a)return null;if(s&&!cSe){let f=`${new Date().toISOString()}-logs.txt`,l=await ZE.getRecentLogs();i.attachments=[{filename:f,data:l}],cSe=!0}return n},"beforeSend"),dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:o((n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,"beforeBreadcrumb"),integrations:o(function(n){return n.filter(function(s){return!Odt.includes(s.name)}).concat([OS({dom:!1,history:!1,console:!1}),ez({traceFetch:!1,traceXHR:!1,enableInp:!0})])},"integrations")})},"init"),captureError:o((t,e)=>{wx(t,{tags:{feature:e,team:ax(e)}})},"captureError"),captureMessage:o((t,e,r=Nt.Info)=>{o7(t,{tags:{feature:e,team:ax(e)},level:r})},"captureMessage"),addBreadcrumb:o((t,e,r,n)=>{zf({category:t,message:e,level:r,data:n})},"addBreadcrumb"),setUser:o(async t=>{c7(t)},"setUser"),setTags:o(async t=>{a7(t)},"setTags"),startSpan:o((t,e)=>{let r=QO({...rz,name:t},e);return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{let e=jc({...rz,name:t});return e?Promise.resolve(e):void 0},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};p();m();p();m();p();m();function uSe(){return Oa()}o(uSe,"isLocalRun");var Ndt=we.enum(["disabled","console","standard","debug"]);function lSe(){let t=I.TELEMETRY_ENV,e=Ndt.optional().parse(I.TELEMETRY_MODE),r=uSe(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}o(lSe,"createTelemetryConfig");p();m();var bSe=et(ySe(),1),vSe=et(_Oe(),1);var k7="[Telemetry Development Log]",B7={[Nt.Debug]:console.log,[Nt.Info]:console.warn,[Nt.Error]:console.error,[Nt.Fatal]:console.error};function Udt(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}o(Udt,"hasToString");function Fdt(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,vSe.default)(n)||(0,bSe.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:Udt(n)&&(e[r]=n.toString())),e),{})}o(Fdt,"safeBreadcrumbData");function Ax(t,e,{featureTag:r,value:n,severity:i,data:s}){let a={value:n,data:s};for(let f of t){let l=f[e];if(l){let h=l(a.value,{featureTag:r,severity:i,data:a.data});a.value=h.value,h.data&&(a.data=h.data)}}return a}o(Ax,"runMiddleware");function xSe(t,e){let r,n=eS;async function i(P){if(!r){if(r=lSe(),n=r.isSubmitEnabled?t.provider:eS,Oa()){let C=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${C}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,P)}}o(i,"init");function s(){return r}o(s,"getConfig");function a(P,C){if(r)try{let D=Ax(e,"beforeEvent",{value:P,featureTag:C,severity:Nt.Error});r.shouldLogToConsole&&B7[Nt.Error](k7,D.value,D.data),D.value instanceof Error?n.captureError(D.value,C):n.captureError(new Error(D.value),C),Ax(e,"afterEvent",{value:D.value,featureTag:C,severity:Nt.Error})}catch(D){Oa()&&console.warn(D)}}o(a,"captureError");function f(P,C,D=Nt.Info){if(r)try{let M=Ax(e,"beforeEvent",{value:P,featureTag:C,severity:D});r.shouldLogToConsole&&B7[D](k7,M.value),n.captureMessage(M.value instanceof Error?M.value.message:M.value,C,D),Ax(e,"afterEvent",{value:M.value,featureTag:C,severity:D})}catch(M){Oa()&&console.warn(M)}}o(f,"captureMessage");function l(P,C,D,M){if(r)try{let U=Ax(e,"beforeEvent",{featureTag:P,value:C,severity:D,data:M});r.shouldLogToConsole&&B7[D](...[k7,U.value,U.data].filter(Boolean)),n.addBreadcrumb(P,U.value instanceof Error?U.value.message:U.value,D,U.data),Ax(e,"afterEvent",{featureTag:P,value:U.value,severity:D,data:U.data})}catch(U){Oa()&&console.warn(U)}}o(l,"addBreadcrumb");async function h(P){r&&await n.setUser(P)}o(h,"setUser");async function g(P){r&&await n.setTags(P)}o(g,"setTags");function b(P,C){return r?n.startSpan(P,C):Promise.resolve(C())}o(b,"startSpan");function A(P,C){return r?()=>n.startSpan(P,C):()=>Promise.resolve(C())}o(A,"startSpanCallback");function T(P){if(r)return n.startInactiveSpan(P)}o(T,"startInactiveSpan");async function O(P,C,D){r&&await t.provider.captureMetric(P,C,D)}o(O,"captureMetric");function N(P,C){r&&n.trackFeatureFlag(P,C)}return o(N,"trackFeatureFlag"),{init:i,getConfig:s,captureError:a,captureMessage:f,addBreadcrumb:l,setUser:h,setTags:g,startSpan:b,startSpanCallback:A,startInactiveSpan:T,captureMetric:O,trackFeatureFlag:N}}o(xSe,"createTelemetry");var qdt=[_O,j2e],Hdt=F2e(ZE),Vdt=[...qdt,Hdt],_r=xSe({provider:z2e(fSe,U2e)},Vdt);p();m();p();m();p();m();function _Se(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}o(_Se,"formatNetworkRequestInfo");p();m();var jdt="Logger not initialized",zdt="Method not supported on this platform",wSe=["publicKey"];var U7=o(t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let s=ESe(e);switch(s){case"Object":return Kdt(t);case"Array":return Gdt(t);case"function":return $dt(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return s;default:return"?"}},"stringify"),Kdt=o(t=>{let{obj:e,indent:r,...n}=t,i="{",s=t.depth;if(nz(e)>0){i+=`
`,s++;let a=0;for(let f in e){i+=D7(s,r),i+=f+": ";let l=U7({...n,obj:e[f],depth:s,indent:r});l&&(i+=l),a<nz(e)-1&&(i+=","),i+=`
`,a++}s--,i+=D7(s,r)}return i+="}",i},"stringifyObject"),Gdt=o(t=>{let{obj:e,indent:r,...n}=t,i="[",s=t.depth,a=!1;if(e.length>0){s++;for(let f=0;f<e.length;f++){let l=ESe(e[f]),h=!1;l==="Object"&&nz(e[f])>0&&(h=!0),l==="Array"&&e[f].length>0&&(h=!0),!a&&h&&(i+=`
`);let g=U7({...n,obj:e[f],depth:s,indent:r});g&&(h&&(i+=D7(s,r)),i+=g,f<e.length-1&&(i+=", "),h&&(i+=`
`)),a=h}s--}return i+="]",i},"stringifyArray"),$dt=o(t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(s=>{s.match(/\}/)&&i--;let a=D7(i,n)+s.trim();return s.match(/\{/)&&i++,a}).join(`
`)},"stringifyFunction"),ESe=o(t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},"determineType"),D7=o((t,e)=>e.repeat(Math.max(t,0)),"indentsForDepth"),nz=o(t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},"objectSize"),Wdt=`======================================================
Application State
======================================================

`,Ydt=`======================================================
Network Logs
======================================================

`,Xdt=`======================================================
Application Logs
======================================================

`,L7=`------------------------------------------------
`,Zdt=["authorization","x-phantomauthtoken","x-phantomnonce"],Jdt=o((t,e=[])=>{let r=Wdt;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${L7}`,r+=`${n}
${L7}
`,r+=U7({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=Ydt;for(let n of e){if(n.requestHeaders)for(let i of Zdt)delete n.requestHeaders[i.toLowerCase()];r+=`${L7}`,r+=`${n.id}
${L7}
`,r+=_Se(n),r+=`

`}}return r+=Xdt,r},"formatAppState"),Qdt=o(t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),"removeKeywordsFromLogs"),eht=o(t=>t?JSON.parse(JSON.stringify(t,(e,r)=>wSe.includes(e)?void 0:r)):null,"removeKeysFromLogs");p();m();var tht=we.object({maxRequests:we.number(),ignoredUrls:we.array(we.string()),ignoredHosts:we.array(we.string())});p();m();p();m();p();m();p();m();p();m();var Ry=o(()=>{let t=Hp(void 0,{equals:o(()=>!1,"equals")});return{consume:o(()=>t.value,"consume"),notify:o(()=>t.value=void 0,"notify")}},"createNotifier");p();m();p();m();p();m();var F7=class{static{o(this,"MMKVStorage")}namespaces=new Map;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}destroy(){for(let e of this.namespaces.values())e.destroy()}},Ty=hy(null);function iz(){let t=qp(Ty);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}o(iz,"useMMKVStorage");var rht=o(async t=>{let e=new F7({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return yV([[Ty,e]]),await e.init(),SSe(),e},"initMMKVStorage"),SSe,nht=new Promise(t=>{SSe=t}),q7=o(async(t,e)=>(await nht,t(e)),"waitForMMKV");var iht=o(t=>{switch(t){case"boolean":return we.boolean();case"number":return we.number();case"string":return we.string();case"array":return we.array(we.any());default:return we.object({}).passthrough()}},"zodValidatorFromValue"),oht=o((t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let a=typeof n.defaultValue;if(a!=="undefined"&&a!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let s=n.validator??iht(i);n.nullable&&(s=s.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:s,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}},"createItemMap");function Mh(t,e,r){let n=oht(e,r),i=si(f=>{let l=WE(Ty);if(!l)throw new Error("MMKVStorage is not initialized");return l.get(t,n(f))}),s=si(f=>{let l=WE(Ty);return Xi(h=>{if(!l)throw new Error("MMKVStorage is not initialized");return l.set(t,n(f),h)},0,[l,t,n,f])}),a=si(function*(f){let l=WE(Ty);if(!l)throw new Error("MMKVStorage is not initialized");return yield l.init(),l.get(t,n(f))});return[i,s,a]}o(Mh,"defineMMKVSchema");p();m();var H7=o((t,e)=>{if(!t)throw new Error(e);return t},"expect"),oz=class t{static{o(this,"MMKVNamespace")}_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=Ry();eventNotifiers={change:Ry(),idle:Ry()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this.disableRemoteUpdates=e.disableRemoteUpdates??!1,this._init=e.init??void 0,this._deps=r}get state(){return H7(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return H7(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return H7(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return H7(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=o(e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let s=e.eventVersions[n];i<s&&(r.eventVersions[n]=s,this.eventNotifiers[n].notify())}}},"onStoreChange");async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:o(()=>this.state.remoteState,"get"),set:o(i=>{this.setRemoteState(i)},"set"),onChange:o(i=>{this.onChangeCallbacks.push(i)},"onChange")};this._hooks=await this._init?.(this.deps,n,r)??{}}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState=si(e=>{let r=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},n=this.disableRemoteUpdates,i=e.updateOn,s=n?0:this.state.eventVersions[i],a=n?void 0:this.eventNotifiers[i];if(r.version<s||this.disableCache){if(this.hooks.getValue){r.value=this.hooks.getValue(e,r.value);let f=e.validator.safeParse(r.value);r.value=f.success?f.data:null}r.value===null&&(r.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),r.version=s,this.store.setItem(this.key,e.schema,e.key,r)}if(r.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return a?.consume(),this.localNotifier.consume(),Hp(r.value)});get=si(e=>this.getState(e).value);async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),s=await this.hooks.setValue?.(e,i.value,n)??n;i.value=s,await this.store.setItem(this.key,e.schema,e.key,{value:s,version:this.state.remoteVersion}),this.state.localVersion++,this.localNotifier.notify(),await this.store.setNamespace(this.key,this.state)}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}async invalidate(){let r=this.state.remoteVersion+1;this.state.eventVersions.change=r,this.state.eventVersions.idle=r,this.state.remoteVersion=r,this.eventNotifiers.change.notify(),this.eventNotifiers.idle.notify(),await this.store.setNamespace(this.key,this.state)}destroy(){this._removeStoreListener?.()}};function Iy(t){return new oz(t)}o(Iy,"createMMKVNamespace");p();m();var Qp;(function(t){t.DismissedActionBanners="dismissedActionBanners",t.AppLaunchTimes="appLaunchTimes",t.LastOnboardedAt="lastOnboardedAt"})(Qp||(Qp={}));var ASe=[{legacyKey:Qp.DismissedActionBanners,targetSchema:"interstitials",targetKey:Qp.DismissedActionBanners},{legacyKey:Qp.AppLaunchTimes,targetSchema:"interstitials",targetKey:Qp.AppLaunchTimes},{legacyKey:Qp.LastOnboardedAt,targetSchema:"interstitials",targetKey:Qp.LastOnboardedAt}],RSe=Iy({key:"localStorage",disableRemoteUpdates:!0,init:o(async t=>{let{legacyStorage:e}=t,r=ASe.map(i=>i.legacyKey),n=await e.getAll(r);return{getValue:o((i,s)=>{let a=ASe.find(f=>f.targetSchema===i.schema&&f.targetKey===i.key);return a&&s===null?n[a.legacyKey]:s},"getValue")}},"init")}),sht=o((t,e)=>Mh(RSe,t,e),"defineLocalStorageItems");p();m();var TSe=o((t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`,"syncedStorageEndpoint"),ISe=2,OSe=500,aht=3e5,cht=o(async(t,e)=>{try{let{rb:r,responseIsOkay:n,getBearerToken:i}=await import("./dist-6VXS22DI.js");if(!await i({skipAutoLogin:!0}))return null;let a=TSe(t,e),f=await r.api().retry(ISe,OSe).get(a);if(n(f))return f.data;_r.addBreadcrumb(nt.Storage,`\u274C Failed to fetch from cloud: ${JSON.stringify(f)}`,Nt.Info)}catch(r){_r.addBreadcrumb(nt.Storage,`\u274C Failed to fetch from cloud: ${JSON.stringify(r)}`,Nt.Info)}return null},"fetchFromCloud"),fht=o(async(t,e,r)=>{try{let{rb:n,responseIsOkay:i,getBearerToken:s}=await import("./dist-6VXS22DI.js");if(!await s({skipAutoLogin:!0}))return!1;let f=TSe(t,e),l=await n.api().retry(ISe,OSe).put(f,{value:r});if(i(l))return _r.addBreadcrumb(nt.Storage,`\u2705 Synced to cloud: ${e}`,Nt.Info),!0;_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync to cloud: ${e} => Error: ${JSON.stringify(l)}`,Nt.Info)}catch(n){_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync to cloud: ${JSON.stringify(n)}`,Nt.Info)}return!1},"syncToCloud"),NSe=new Map,MSe=o((t,e)=>`${t}:${e}`,"getResolverKey"),uht=o((t,e,r)=>{NSe.set(MSe(t,e),r)},"registerResolver"),CSe=Iy({key:"syncedStorage",init:o(async(t,e,r)=>{let{authRepository:n,pollingInterval:i=aht}=t,s=null,a=o(async()=>{if(!s){let l=await n.getUser().catch(()=>null);if(!l?.userID)return;s=l.userID}let f=await cht(s);f&&(_r.addBreadcrumb(nt.Storage,"\u2705 Fetched synced storage from cloud",Nt.Info),e.set(f))},"fetchAndUpdateRemoteState");setInterval(()=>{a()},i);try{if(r>0){let f=new Promise(l=>{setTimeout(()=>{_r.addBreadcrumb(nt.Storage,`\u23F1\uFE0F Synced storage initialization timed out after ${r}ms`,Nt.Info),l()},r)});await Promise.race([a(),f])}else _r.addBreadcrumb(nt.Storage,"\u23F1\uFE0F Synced storage initialization skipped - deadline is 0 or negative",Nt.Info)}catch(f){_r.captureError(new Error(`\u274C Failed to initialize synced storage: ${JSON.stringify(f)}`),nt.Storage)}return{getValue:o((f,l)=>{let g=e.get()?.[f.key]??null,b=MSe(f.schema,f.key),A=NSe.get(b);return A?A(l,g):g??l},"getValue"),setValue:o(async(f,l,h)=>(s&&fht(s,f.key,h),h),"setValue")}},"init")}),sz=o((t,e)=>{for(let r of e)r.resolver&&uht(t,r.key,r.resolver);return Mh(CSe,t,e)},"defineSyncedStorageItems");p();m();var V7=class{static{o(this,"EppoAssignmentLogger")}analytics;constructor(e){this.analytics=e}logAssignment(e){try{let{allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,subjectAttributes:f}=e,{holdoutKey:l,holdoutVariation:h}=lht(e);if(r!==null&&s!==null&&n!==null){let b={allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,timestamp:new Date().toISOString(),subjectAttributes:f,...l&&{holdoutKey:l},...h&&{holdoutVariation:h}};this.analytics.capture("eppoRandomizationEvent",{data:{distinctId:a,properties:b}})}}catch(r){console.warn("EppoAssignmentLogger: Failed to log assignment event",r)}}};function lht(t){let e,r;return t.holdout&&typeof t.holdout=="string"&&(e=t.holdout??void 0),t.holdout_variation&&typeof t.holdout_variation=="string"&&(r=t.holdout_variation??void 0),{holdoutKey:e,holdoutVariation:r}}o(lht,"parseHoldoutLogging");p();m();var B9=et(H6e(),1);var eyt="eppo-phantom",tyt="0.0.1",ryt="https://eppo-proxy.phantom.app/api",KK=class extends B9.MemoryOnlyConfigurationStore{static{o(this,"PhantomStorageFlagConfigurationStore")}state;constructor(e){super(),this.state=e;let r=this.state.get();r&&super.setEntries(r),this.state.onChange(n=>{super.setEntries(n)})}setEntries(e){return this.state.set(e),super.setEntries(e)}},k9=null;async function nyt({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i,pollingIntervalMs:s}){let a=new KK(r),f=new B9.EppoClient({flagConfigurationStore:a}),l={apiKey:t,sdkName:eyt,sdkVersion:tyt,baseUrl:ryt,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e,pollingIntervalMs:s};f.setConfigurationRequestParameters(l);let h=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await a.init();let g=f.fetchFlagConfigurations();a.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([g,new Promise(A=>setTimeout(A,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let b=performance.now()-h;return n?.(`Eppo: Initialized Eppo provider in ${b.toFixed(2)}ms`),f}o(nyt,"_initEppo");async function V6e(t){return k9||(k9=nyt(t),k9)}o(V6e,"initEppo");var j6e={getBooleanAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getBooleanAssignmentDetails"),getStringAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getStringAssignmentDetails"),getNumericAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getNumericAssignmentDetails"),getJSONAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getJSONAssignmentDetails"),setAssignmentLogger:o(t=>{},"setAssignmentLogger"),useNonExpiringInMemoryAssignmentCache:o(()=>{},"useNonExpiringInMemoryAssignmentCache")};var iyt=o(async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if(!l1()||GA())n=j6e;else{let i={get:o(()=>e.get()?.eppoConfig??null,"get"),set:o(s=>{let a=e.get();e.set({overrides:a?.overrides??{},eppoConfig:s,userId:a?.userId??void 0})},"set"),onChange:o(s=>e.onChange(({eppoConfig:a})=>s(a)),"onChange")};if(n=await V6e({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r,pollingIntervalMs:3e5}),t.analytics){let s=new V7(t.analytics);n.setAssignmentLogger(s),n.useNonExpiringInMemoryAssignmentCache()}}return{getValue:o((i,s)=>{try{let a,f,l=i.key,{deviceId:h,subjectAttributes:g}=t,b=e.get(),A=i.subjectAssignment??"user";if(A==="user"&&!b?.userId)return i.defaultValue??null;let T;switch(A){case"user":T=b?.userId??h;break;case"device":T=h;break}if(b?.overrides[l]!==void 0)return b.overrides[l]??null;if(i.isLegacyStringBoolean)a=n.getStringAssignmentDetails(l,T,g,"DEFAULT"),a.variation==="DEFAULT"?f=i.defaultValue??null:f=a.variation==="variant";else{switch(i.type){case"boolean":a=n.getBooleanAssignmentDetails(l,T,g,i.defaultValue);break;case"string":a=n.getStringAssignmentDetails(l,T,g,i.defaultValue);break;case"number":a=n.getNumericAssignmentDetails(l,T,g,i.defaultValue);break;default:a=n.getJSONAssignmentDetails(l,T,g,i.defaultValue)}f=a.variation}return t.telemetry&&a.evaluationDetails&&t.telemetry.trackFeatureFlag(l,f),f??null}catch(a){return console.error("Error fetching feature flag",a),i.defaultValue??null}},"getValue")}},"flagNamespaceInit"),XS=Iy({key:"flags",init:iyt,disableCache:Oa()}),oyt=o(()=>Ff(syt),"useFlagOverrides"),syt=si(()=>{let e=iz().getNamespace(XS);return[e.getRemoteState()?.overrides,Xi(r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(Xi(i=>({eppoConfig:i?.eppoConfig??{},overrides:n,userId:i?.userId}),0,[n])),e.sendEvent("idle")},0,[e])]}),GK=new WeakMap,$K=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:l1()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=Mh(XS,`feature:${t}`,r);return GK.set(n,e),n},"defineFeatureFlags"),WK=o((t,e)=>{let r=e.map(s=>({key:typeof s=="string"?s:s.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof s=="object"?s.isLegacyStringBoolean:!1,subjectAssignment:typeof s=="object"?s.subjectAssignment:void 0})),[n]=Mh(XS,`kill-switch:${t}`,r),i=o(s=>{try{return n(s)}catch{return!1}},"useValueWrapper");return GK.set(i,r),i},"defineKillSwitches"),YK=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:l1()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=Mh(XS,`config:${t}`,r);return GK.set(n,e),n},"defineRemoteConfigs");var XK=o(t=>Ff(gd,t),"useFeatureFlag"),gd=$K("general",[{key:"enable-receive-qr-default-view",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-portfolio-token-balances",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-feed-nux",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-live-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-tokens-for-you",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-similar-tokens",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-per-actor-notifications-toggle",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-tab",defaultValue:!1,devDefaultValue:!0},{key:"enable-home-trending-tokens",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-home-tab-price-streaming",defaultValue:!1,devDefaultValue:!0},{key:"enable-profile-holdings",defaultValue:!1,devDefaultValue:!0},{key:"enable-follow-module",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-badges",defaultValue:!1,devDefaultValue:!0},{key:"enable-token-gated-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-leaderboard",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-relay-withdrawal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-skia-charts",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trending-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-limit-orders",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-direct-open-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-remove-funding-ctas",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-markets",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-swapper-coozie",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perp-actions-v2",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-bitcoin-swap",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-activation-funnel-improvements",defaultValue:!1,devDefaultValue:!0},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0,subjectAssignment:"device"},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-native-convert",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-native-delayed-convert",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-phantom-login",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"spending_limits_cumulative",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account-ext",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"always-show-all-sites-permissions",defaultValue:!1,subjectAssignment:"device"},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-hyperevm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-home-redesign",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-open-access-cash-lite",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-general-access",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-buy-flow-warning",defaultValue:!1,subjectAssignment:"device"},{key:"enable-onboarding-aa",defaultValue:!1,subjectAssignment:"device"},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-cards",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-price-streaming",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-app-icon",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-mainnet",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-swapper",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-feature-flag-invalidate-test",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-braze-content-cards",type:"boolean",devDefaultValue:!0,defaultValue:!1}]),L9=YK("general",[{key:"token-chat-leaderboard-config",type:"string",nullable:!0,devDefaultValue:"banner-badges",subjectAssignment:"device"},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"latest-notification-updated-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enable-implicit-terms-agreement",type:"boolean",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"home-token-lists",type:"string",defaultValue:"trending,following",subjectAssignment:"user"},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0,subjectAssignment:"device"},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"psol-popup-copy-test",type:"string",nullable:!0,subjectAssignment:"device"},{key:"swapper-poll-interval-json",type:"object",nullable:!0,subjectAssignment:"device"},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enabled-ugc-programs",type:"object",nullable:!0,subjectAssignment:"device"},{key:"trade-hub-variant",type:"string",nullable:!0,devDefaultValue:"trade-menu",subjectAssignment:"device"},{key:"funds-in-transit-amounts",type:"object",nullable:!0,subjectAssignment:"device"},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0,subjectAssignment:"device"},{key:"explore-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"launches-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200,subjectAssignment:"device"},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0,subjectAssignment:"device"},{key:"network-logger-config-json",type:"object",nullable:!0,subjectAssignment:"device"}]),ZK=o(t=>Ff(L9,t),"useRemoteConfig"),ayt=o(t=>Ff(Lx,t),"useKillSwitch"),Lx=WK("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check","kill-sync-account-names",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-validators-v2","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-cash-funding","kill-perps-funding","kill-perps-withdrawal","kill-add-to-wallet","kill-cash-feedback-form","kill-cash-fees","kill-cash-fiat-ramp","kill-cash-fiat-ramp-apple-pay","kill-cash-fiat-ramp-bank","kill-cash-fiat-ramp-card","kill-cash-invalidate-auth-bandaid","kill-cash-open-cash-cta","kill-cash-out-disable","kill-cash-out-rent-exemption","kill-cash-out-tx-simulation","kill-cash-perps-quote-chain-addresses","kill-cash-balance-optimistic-update","kill-cash-swap-listener","kill-welcome-cash-modal"]);p();m();var cyt=o(t=>Ff(fyt,t),"useFeatureFlags"),fyt=si(t=>({data:t.map(Xi(r=>r.startsWith("kill-")?Lx(r):gd(r),0)),isLoading:!1,isFetched:!0})),qy={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:t.startsWith("kill-")?Lx(t):gd(t)},isFeatureEnabledAsync(t){return t.startsWith("kill-")?q7(Lx,t):q7(gd,t)},getMultivariateAssignment(t,e){let r=L9(t);return typeof r=="string"||r===null?r:JSON.stringify(r)}};p();m();p();m();var uyt=I.EPPO_API_KEY;p();m();function lyt(){let t=ZK("trade-hub-variant");return XK("enable-replace-classic-ngs")||!!t}o(lyt,"useIsTradeHubText");p();m();var JK=hy(null);function z6e(){let t=qp(JK);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}o(z6e,"useStorage");p();m();var K6e=hy(null);function QK(){let t=qp(K6e),e=qp(JK);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}o(QK,"useSyncedStorage");p();m();var Ti;(function(t){t.AuthEnabled="authEnabled",t.BalanceHiddenStatus="balanceHiddenStatus",t.BuyFormValues="buyFormValues",t.CachedBlocklistDiff="cachedBlocklistDiff",t.CachedBloomFilter="cachedBloomFilter",t.CachedBloomFilterHash="cachedBloomFilterHash",t.CachedScanDataCursor="cachedScanDataCursor",t.CachedScanDataRecents="cachedScanDataRecents",t.CustomGasControls="customGasControls",t.DappBrowserBookmarks="dAppBrowserBookmarks",t.DeviceId="deviceId",t.DevicePerformanceInfo="devicePerformanceInfo",t.ExploreFilters="exploreFilters",t.LatestCleanedStorageVersion="latestCleanedStorageVersion",t.LockTimerMs="lockTimerMs",t.MaxWalletIndex="maxWalletIndex",t.MinedTransactionsForAnalytics="minedTransactionsForAnalytics",t.OnboardingDone="onboardingDone",t.OwnerToClusterToLamportBalance="ownerToClusterToLamportBalance",t.OwnerToHiddenMints="ownerToHiddenMints",t.PendingTransactions="pendingTransactions",t.PriceMap="priceMap",t.RecentlyViewedSearchItems="RecentlyViewedSearchItems",t.SeedlessPinVerificationLockTimerInMs="seedlessPinVerificationLockTimerInMs",t.SeedlessDeviceID="seedlessDeviceID",t.SettingReduceMotion="settingReduceMotion",t.SettingMotionLevel="settingMotionLevel",t.UserExplorerPreferenceV2="userExplorerPreferenceV2",t.UserIdCache="userIdCache",t.UserPropsCache="userPropsCache",t.UserRecentAddresses="userRecentAddresses",t.UserSavedAddresses="userSavedAddresses",t.UserTrustedApps="userTrustedApps",t.UserWhitelistSubdomains="userWhitelistedSubdomains",t.UserWhitelistedOrigins="userWhitelistedOrigins",t.RudderstackIdentifyData="rudderstackIdentifyData",t.Cluster="cluster",t.EncryptedMnemonic="encryptedMnemonic",t.EncryptedSeedAndMnemonic="encryptedSeedAndMnemonic",t.MainnetRpcUrl="mainnetRpcEndpoint",t.SwapQuoteFromAsset="swapQuoteFromAsset",t.SwapQuoteSlippage="swapQuoteSlippage",t.SwapQuoteToAsset="swapQuoteToAsset",t.TokenList="tokenList",t.TrustedApplicationsByOwnerBrowser="trustedApplicationsByOwner",t.TrustedApplicationsByOwnerBrowserV2="trustedApplicationsByOwnerBrowser",t.TrustedApplicationsByOwnerMobile="trustedApplicationsByOwnerMobile",t.UnencryptedSeedAndMnemonic="unencryptedSeedAndMnemonic",t.UserExplorerPreference="userExplorerPreference"})(Ti||(Ti={}));var eG;(function(t){t.DeleteStorageValue="deleteStorageValue",t.LockExtension="lockExtension"})(eG||(eG={}));var dyt={recipientError:void 0,amountError:void 0};p();m();p();m();p();m();p();m();var G6e="REACT_QUERY_OFFLINE_CACHE";function ZS(t,e,...r){t&&console.log(e,...r)}o(ZS,"debugLog");var hyt=o(({underlyingStorage:t,throttleMs:e,cacheKey:r=G6e,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let s=null,a=o(async()=>{if(s)try{let f=JSON.stringify(s),l=f.length;l<n?await t.set(r,f):(await t.remove(r),ZS(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),s=null}catch{}},"persistCache");return setInterval(()=>{a()},e),{persistClient:o(f=>{s=f},"persistClient"),restoreClient:o(async()=>{try{let f=await t.get(r);if(!f){ZS(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(f),h=f.length;return ZS(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",h,"bytes"),l}catch{ZS(i,"[React Query Offline Cache] Error restoring offline cache.");return}},"restoreClient"),removeClient:o(()=>(ZS(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r)),"removeClient")}},"createReactQueryCache");p();m();p();m();p();m();p();m();var cc=class{static{o(this,"Subscribable")}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};p();m();p();m();var pyt={setTimeout:o((t,e)=>setTimeout(t,e),"setTimeout"),clearTimeout:o(t=>clearTimeout(t),"clearTimeout"),setInterval:o((t,e)=>setInterval(t,e),"setInterval"),clearInterval:o(t=>clearInterval(t),"clearInterval")},myt=class{static{o(this,"TimeoutManager")}#t=pyt;#e=!1;setTimeoutProvider(t){I.NODE_ENV!=="production"&&this.#e&&t!==this.#t&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#t,provider:t}),this.#t=t,I.NODE_ENV!=="production"&&(this.#e=!1)}setTimeout(t,e){return I.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return I.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},yd=new myt;function $6e(t){setTimeout(t,0)}o($6e,"systemSetTimeoutZero");var fc=typeof self>"u"||"Deno"in globalThis;function Hn(){}o(Hn,"noop");function X6e(t,e){return typeof t=="function"?t(e):t}o(X6e,"functionalUpdate");function JS(t){return typeof t=="number"&&t>=0&&t!==1/0}o(JS,"isValidTimeout");function D9(t,e){return Math.max(t+(e||0)-Date.now(),0)}o(D9,"timeUntilStale");function el(t,e){return typeof t=="function"?t(e):t}o(el,"resolveStaleTime");function uc(t,e){return typeof t=="function"?t(e):t}o(uc,"resolveEnabled");function U9(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:f}=t;if(a){if(n){if(e.queryHash!==QS(a,e.options))return!1}else if(!Hy(e.queryKey,a))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||i&&i!==e.state.fetchStatus||s&&!s(e))}o(U9,"matchQuery");function F9(t,e){let{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(bd(e.options.mutationKey)!==bd(s))return!1}else if(!Hy(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}o(F9,"matchMutation");function QS(t,e){return(e?.queryKeyHashFn||bd)(t)}o(QS,"hashQueryKeyByOptions");function bd(t){return JSON.stringify(t,(e,r)=>tG(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}o(bd,"hashKey");function Hy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Hy(t[r],e[r])):!1}o(Hy,"partialMatchKey");var gyt=Object.prototype.hasOwnProperty;function Dx(t,e){if(t===e)return t;let r=W6e(t)&&W6e(e);if(!r&&!(tG(t)&&tG(e)))return e;let i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,f=r?new Array(a):{},l=0;for(let h=0;h<a;h++){let g=r?h:s[h],b=t[g],A=e[g];if(b===A){f[g]=b,(r?h<i:gyt.call(t,g))&&l++;continue}if(b===null||A===null||typeof b!="object"||typeof A!="object"){f[g]=A;continue}let T=Dx(b,A);f[g]=T,T===b&&l++}return i===a&&l===i?t:f}o(Dx,"replaceEqualDeep");function am(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}o(am,"shallowEqualObjects");function W6e(t){return Array.isArray(t)&&t.length===Object.keys(t).length}o(W6e,"isPlainArray");function tG(t){if(!Y6e(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!Y6e(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}o(tG,"isPlainObject");function Y6e(t){return Object.prototype.toString.call(t)==="[object Object]"}o(Y6e,"hasObjectPrototype");function Z6e(t){return new Promise(e=>{yd.setTimeout(e,t)})}o(Z6e,"sleep");function eA(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(I.NODE_ENV!=="production")try{return Dx(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return Dx(t,e)}return e}o(eA,"replaceData");function J6e(t){return t}o(J6e,"keepPreviousData");function Q6e(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}o(Q6e,"addToEnd");function e4e(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}o(e4e,"addToStart");var sm=Symbol();function q9(t,e){return I.NODE_ENV!=="production"&&t.queryFn===sm&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===sm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}o(q9,"ensureQueryFn");function tA(t,e){return typeof t=="function"?t(...e):!!t}o(tA,"shouldThrowError");var yyt=class extends cc{static{o(this,"FocusManager")}#t;#e;#r;constructor(){super(),this.#r=t=>{if(!fc&&self.addEventListener){let e=o(()=>t(),"listener");return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ux=new yyt;p();m();p();m();function rA(){let t,e,r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return o(n,"finalize"),r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}o(rA,"pendingThenable");function t4e(t){let e;if(t.then(r=>(e=r,r),Hn)?.catch(Hn),e!==void 0)return{data:e}}o(t4e,"tryResolveSync");function r4e(t){return t}o(r4e,"defaultTransformerFn");function byt(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}o(byt,"dehydrateMutation");function vyt(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(I.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}o(vyt,"dehydrateQuery");function n4e(t){return t.state.isPaused}o(n4e,"defaultShouldDehydrateMutation");function i4e(t){return t.state.status==="success"}o(i4e,"defaultShouldDehydrateQuery");function xyt(t){return!0}o(xyt,"defaultShouldRedactErrors");function H9(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??n4e,n=t.getMutationCache().getAll().flatMap(l=>r(l)?[byt(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??i4e,s=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??xyt,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??r4e,f=t.getQueryCache().getAll().flatMap(l=>i(l)?[vyt(l,a,s)]:[]);return{mutations:n,queries:f}}o(H9,"dehydrate");function rG(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),s=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??r4e,a=e.mutations||[],f=e.queries||[];a.forEach(({state:l,...h})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...h},l)}),f.forEach(({queryKey:l,state:h,queryHash:g,meta:b,promise:A,dehydratedAt:T})=>{let O=A?t4e(A):void 0,N=h.data===void 0?O?.data:h.data,P=N===void 0?N:s(N),C=i.get(g),D=C?.state.status==="pending",M=C?.state.fetchStatus==="fetching";if(C){let U=O&&T!==void 0&&T>C.state.dataUpdatedAt;if(h.dataUpdatedAt>C.state.dataUpdatedAt||U){let{fetchStatus:V,...j}=h;C.setState({...j,data:P})}}else C=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:g,meta:b},{...h,data:P,fetchStatus:"idle",status:P!==void 0?"success":h.status});A&&!D&&!M&&(T===void 0||T>C.state.dataUpdatedAt)&&C.fetch(void 0,{initialPromise:Promise.resolve(A).then(s)})})}o(rG,"hydrate");p();m();p();m();p();m();var o4e=$6e;function _yt(){let t=[],e=0,r=o(f=>{f()},"notifyFn"),n=o(f=>{f()},"batchNotifyFn"),i=o4e,s=o(f=>{e?t.push(f):i(()=>{r(f)})},"schedule"),a=o(()=>{let f=t;t=[],f.length&&i(()=>{n(()=>{f.forEach(l=>{r(l)})})})},"flush");return{batch:o(f=>{let l;e++;try{l=f()}finally{e--,e||a()}return l},"batch"),batchCalls:o(f=>(...l)=>{s(()=>{f(...l)})},"batchCalls"),schedule:s,setNotifyFunction:o(f=>{r=f},"setNotifyFunction"),setBatchNotifyFunction:o(f=>{n=f},"setBatchNotifyFunction"),setScheduler:o(f=>{i=f},"setScheduler")}}o(_yt,"createNotifyManager");var Fr=_yt();p();m();p();m();p();m();var wyt=class extends cc{static{o(this,"OnlineManager")}#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!fc&&self.addEventListener){let e=o(()=>t(!0),"onlineListener"),r=o(()=>t(!1),"offlineListener");return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},Fx=new wyt;function Eyt(t){return Math.min(1e3*2**t,3e4)}o(Eyt,"defaultRetryDelay");function nG(t){return(t??"online")==="online"?Fx.isOnline():!0}o(nG,"canFetch");var V9=class extends Error{static{o(this,"CancelledError")}constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function j9(t){let e=!1,r=0,n,i=rA(),s=o(()=>i.status!=="pending","isResolved"),a=o(N=>{if(!s()){let P=new V9(N);A(P),t.onCancel?.(P)}},"cancel"),f=o(()=>{e=!0},"cancelRetry"),l=o(()=>{e=!1},"continueRetry"),h=o(()=>Ux.isFocused()&&(t.networkMode==="always"||Fx.isOnline())&&t.canRun(),"canContinue"),g=o(()=>nG(t.networkMode)&&t.canRun(),"canStart"),b=o(N=>{s()||(n?.(),i.resolve(N))},"resolve"),A=o(N=>{s()||(n?.(),i.reject(N))},"reject"),T=o(()=>new Promise(N=>{n=o(P=>{(s()||h())&&N(P)},"continueFn"),t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),"pause"),O=o(()=>{if(s())return;let N,P=r===0?t.initialPromise:void 0;try{N=P??t.fn()}catch(C){N=Promise.reject(C)}Promise.resolve(N).then(b).catch(C=>{if(s())return;let D=t.retry??(fc?0:3),M=t.retryDelay??Eyt,U=typeof M=="function"?M(r,C):M,V=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,C);if(e||!V){A(C);return}r++,t.onFail?.(r,C),Z6e(U).then(()=>h()?void 0:T()).then(()=>{e?A(C):O()})})},"run");return{promise:i,status:o(()=>i.status,"status"),cancel:a,continue:o(()=>(n?.(),i),"continue"),cancelRetry:f,continueRetry:l,canStart:g,start:o(()=>(g()?O():T().then(O),i),"start")}}o(j9,"createRetryer");p();m();var z9=class{static{o(this,"Removable")}#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JS(this.gcTime)&&(this.#t=yd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(yd.clearTimeout(this.#t),this.#t=void 0)}};var a4e=class extends z9{static{o(this,"Query")}#t;#e;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=s4e(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=s4e(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=eA(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>uc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>el(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D9(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let f=this.observers.find(l=>l.options.queryFn);f&&this.setOptions(f.options)}I.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=o(f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:o(()=>(this.#a=!0,r.signal),"get")})},"addSignalProperty"),i=o(()=>{let f=q9(this.options,e),h=o(()=>{let g={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(g),g},"createQueryFnContext")();return this.#a=!1,this.options.persister?this.options.persister(f,h,this):f(h)},"fetchFn"),a=o(()=>{let f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(f),f},"createFetchContext")();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=j9({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o(f=>{f instanceof V9&&f.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},"onCancel"),onFail:o((f,l)=>{this.#o({type:"failed",failureCount:f,error:l})},"onFail"),onPause:o(()=>{this.#o({type:"pause"})},"onPause"),onContinue:o(()=>{this.#o({type:"continue"})},"onContinue"),retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:o(()=>!0,"canRun")});try{let f=await this.#i.start();if(f===void 0)throw I.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof V9){if(f.silent)return this.#i.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#o({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#o(t){let e=o(r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...iG(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}},"reducer");this.state=e(this.state),Fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function iG(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nG(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}o(iG,"fetchState");function s4e(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}o(s4e,"getDefaultState");var qh=class extends cc{static{o(this,"QueryObserver")}constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=rA(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#u;#l;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),c4e(this.#e,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oG(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oG(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#e.removeObserver(this)}setOptions(t){let e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof uc(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!am(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let n=this.hasListeners();n&&f4e(this.#e,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#e!==r||uc(this.options.enabled,this.#e)!==uc(e.enabled,this.#e)||el(this.options.staleTime,this.#e)!==el(e.staleTime,this.#e))&&this.#g();let i=this.#y();n&&(this.#e!==r||uc(this.options.enabled,this.#e)!==uc(e.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return Ayt(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:o((r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n)),"get")})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Hn)),e}#g(){this.#x();let t=el(this.options.staleTime,this.#e);if(fc||this.#n.isStale||!JS(t))return;let r=D9(this.#n.dataUpdatedAt,t)+1;this.#u=yd.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#_(),this.#f=t,!(fc||uc(this.options.enabled,this.#e)===!1||!JS(this.#f)||this.#f===0)&&(this.#l=yd.setInterval(()=>{(this.options.refetchIntervalInBackground||Ux.isFocused())&&this.#p()},this.#f))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#u&&(yd.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#l&&(yd.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#e,n=this.options,i=this.#n,s=this.#i,a=this.#s,l=t!==r?t.state:this.#r,{state:h}=t,g={...h},b=!1,A;if(e._optimisticResults){let Y=this.hasListeners(),te=!Y&&c4e(t,e),E=Y&&f4e(t,r,e,n);(te||E)&&(g={...g,...iG(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:T,errorUpdatedAt:O,status:N}=g;A=g.data;let P=!1;if(e.placeholderData!==void 0&&A===void 0&&N==="pending"){let Y;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(Y=i.data,P=!0):Y=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,Y!==void 0&&(N="success",A=eA(i?.data,Y,e),b=!0)}if(e.select&&A!==void 0&&!P)if(i&&A===s?.data&&e.select===this.#c)A=this.#d;else try{this.#c=e.select,A=e.select(A),A=eA(i?.data,A,e),this.#d=A,this.#o=null}catch(Y){this.#o=Y}this.#o&&(T=this.#o,A=this.#d,O=Date.now(),N="error");let C=g.fetchStatus==="fetching",D=N==="pending",M=N==="error",U=D&&C,V=A!==void 0,ee={status:N,fetchStatus:g.fetchStatus,isPending:D,isSuccess:N==="success",isError:M,isInitialLoading:U,isLoading:U,data:A,dataUpdatedAt:g.dataUpdatedAt,error:T,errorUpdatedAt:O,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!D,isLoadingError:M&&!V,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:M&&V,isStale:sG(t,e),refetch:this.refetch,promise:this.#a,isEnabled:uc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let Y=o(c=>{ee.status==="error"?c.reject(ee.error):ee.data!==void 0&&c.resolve(ee.data)},"finalizeThenableIfPossible"),te=o(()=>{let c=this.#a=ee.promise=rA();Y(c)},"recreateThenable"),E=this.#a;switch(E.status){case"pending":t.queryHash===r.queryHash&&Y(E);break;case"fulfilled":(ee.status==="error"||ee.data!==E.value)&&te();break;case"rejected":(ee.status!=="error"||ee.error!==E.reason)&&te();break}}return ee}updateResult(){let t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),am(e,t))return;this.#n=e;let r=o(()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(a=>{let f=a;return this.#n[f]!==t[f]&&s.has(f)})},"shouldNotifyListeners");this.#E({listeners:r()})}#w(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;let e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#E(t){Fr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Syt(t,e){return uc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}o(Syt,"shouldLoadOnMount");function c4e(t,e){return Syt(t,e)||t.state.data!==void 0&&oG(t,e,e.refetchOnMount)}o(c4e,"shouldFetchOnMount");function oG(t,e,r){if(uc(e.enabled,t)!==!1&&el(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&sG(t,e)}return!1}o(oG,"shouldFetchOn");function f4e(t,e,r,n){return(t!==e||uc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&sG(t,r)}o(f4e,"shouldFetchOptionally");function sG(t,e){return uc(e.enabled,t)!==!1&&t.isStaleByTime(el(e.staleTime,t))}o(sG,"isStale");function Ayt(t,e){return!am(t.getCurrentResult(),e)}o(Ayt,"shouldAssignObserverCurrentProperties");p();m();function qx(t){return{onFetch:o((e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],f={pages:[],pageParams:[]},l=0,h=o(async()=>{let g=!1,b=o(O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:o(()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal),"get")})},"addSignalProperty"),A=q9(e.options,e.fetchOptions),T=o(async(O,N,P)=>{if(g)return Promise.reject();if(N==null&&O.pages.length)return Promise.resolve(O);let D=o(()=>{let j={client:e.client,queryKey:e.queryKey,pageParam:N,direction:P?"backward":"forward",meta:e.options.meta};return b(j),j},"createQueryFnContext")(),M=await A(D),{maxPages:U}=e.options,V=P?e4e:Q6e;return{pages:V(O.pages,M,U),pageParams:V(O.pageParams,N,U)}},"fetchPage");if(i&&s.length){let O=i==="backward",N=O?u4e:aG,P={pages:s,pageParams:a},C=N(n,P);f=await T(P,C,O)}else{let O=t??s.length;do{let N=l===0?a[0]??n.initialPageParam:aG(n,f);if(l>0&&N==null)break;f=await T(f,N),l++}while(l<O)}return f},"fetchFn");e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h},"onFetch")}}o(qx,"infiniteQueryBehavior");function aG(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}o(aG,"getNextPageParam");function u4e(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}o(u4e,"getPreviousPageParam");function l4e(t,e){return e?aG(t,e)!=null:!1}o(l4e,"hasNextPage");function d4e(t,e){return!e||!t.getPreviousPageParam?!1:u4e(t,e)!=null}o(d4e,"hasPreviousPage");var cG=class extends qh{static{o(this,"InfiniteQueryObserver")}constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:qx()})}getOptimisticResult(t){return t.behavior=qx(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:a,isRefetchError:f}=n,l=r.fetchMeta?.fetchMore?.direction,h=a&&l==="forward",g=i&&l==="forward",b=a&&l==="backward",A=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:l4e(e,r.data),hasPreviousPage:d4e(e,r.data),isFetchNextPageError:h,isFetchingNextPage:g,isFetchPreviousPageError:b,isFetchingPreviousPage:A,isRefetchError:f&&!h&&!b,isRefetching:s&&!g&&!A}}};p();m();p();m();var h4e=class extends z9{static{o(this,"Mutation")}#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||fG(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=o(()=>{this.#n({type:"continue"})},"onContinue");this.#r=j9({fn:o(()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),"fn"),onFail:o((i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},"onFail"),onPause:o(()=>{this.#n({type:"pause"})},"onPause"),onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:o(()=>this.#e.canRun(this),"canRun")});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){let e=o(r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}},"reducer");this.state=e(this.state),Fr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function fG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}o(fG,"getDefaultState");var p4e=class extends cc{static{o(this,"MutationCache")}constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){let n=new h4e({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);let e=K9(t);if(typeof e=="string"){let r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){let e=K9(t);if(typeof e=="string"){let r=this.#e.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=K9(t);if(typeof e=="string"){let n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=K9(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>F9(e,r))}findAll(t={}){return this.getAll().filter(e=>F9(t,e))}notify(t){Fr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return Fr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Hn))))}};function K9(t){return t.options.scope?.id}o(K9,"scopeFor");p();m();var uG=class extends cc{static{o(this,"MutationObserver")}#t;#e=void 0;#r;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),am(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&bd(e.mutationKey)!==bd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??fG();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){Fr.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#e)})})}};p();m();function m4e(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}o(m4e,"difference");function Ryt(t,e,r){let n=t.slice(0);return n[e]=r,n}o(Ryt,"replaceAt");var lG=class extends cc{static{o(this,"QueriesObserver")}#t;#e;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#t=t,this.#n=r,this.#r=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,I.NODE_ENV!=="production"){let r=t.map(n=>this.#t.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}Fr.batch(()=>{let r=this.#i,n=this.#u(this.#r);this.#c=n,n.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));let i=n.map(l=>l.observer),s=i.map(l=>l.getCurrentResult()),a=i.some((l,h)=>l!==r[h]),f=r.length===i.length&&!a?s.some((l,h)=>{let g=this.#e[h];return!g||!am(l,g)}):!0;!a&&!f||(a&&(this.#i=i),this.#e=s,this.hasListeners()&&(a&&(m4e(r,i).forEach(l=>{l.destroy()}),m4e(i,r).forEach(l=>{l.subscribe(h=>{this.#l(l,h)})})),this.#f()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#u(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,s=>{e.forEach(a=>{a.observer.trackProp(s)})})})}#h(t,e){return e?((!this.#s||this.#e!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#e,this.#s=Dx(this.#s,e(t))),this.#s):t}#u(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#t.defaultQueryOptions(n),s=e.get(i.queryHash);s?r.push({defaultedQueryOptions:i,observer:s}):r.push({defaultedQueryOptions:i,observer:new qh(this.#t,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#e=Ryt(this.#e,r,e),this.#f())}#f(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#e,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&Fr.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}};p();m();var g4e=class extends cc{static{o(this,"QueryCache")}constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,i=e.queryHash??QS(n,e),s=this.get(i);return s||(s=new a4e({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>U9(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>U9(t,r)):e}notify(t){Fr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};p();m();var y4e=class{static{o(this,"QueryClient")}#t;#e;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new g4e,this.#e=t.mutationCache||new p4e,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Ux.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=Fx.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(el(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,a=X6e(e,s);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Fr.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){let e=this.#t;Fr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t;return Fr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=Fr.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Hn).catch(Hn)}invalidateQueries(t,e={}){return Fr.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=Fr.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Hn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Hn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(el(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=qx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=qx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fx.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(bd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{Hy(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(bd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{Hy(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};p();m();var vd=et(fo(),1);p();m();var Hx=et(fo(),1),b4e=et(A_(),1);var dG=Hx.createContext(void 0),cm=o(t=>{let e=Hx.useContext(dG);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},"useQueryClient"),G9=o(({client:t,children:e})=>(Hx.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,b4e.jsx)(dG.Provider,{value:t,children:e})),"QueryClientProvider");p();m();var $9=et(fo(),1);var v4e=$9.createContext(!1),nA=o(()=>$9.useContext(v4e),"useIsRestoring"),hG=v4e.Provider;p();m();var iA=et(fo(),1),Tyt=et(A_(),1);function Iyt(){let t=!1;return{clearReset:o(()=>{t=!1},"clearReset"),reset:o(()=>{t=!0},"reset"),isReset:o(()=>t,"isReset")}}o(Iyt,"createValue");var Oyt=iA.createContext(Iyt()),W9=o(()=>iA.useContext(Oyt),"useQueryErrorResetBoundary");p();m();var x4e=et(fo(),1);var Y9=o((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},"ensurePreventErrorBoundaryRetry"),X9=o(t=>{x4e.useEffect(()=>{t.clearReset()},[t])},"useClearResetErrorBoundary"),Z9=o(({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||tA(r,[t.error,n])),"getHasError");p();m();var J9=o(t=>{if(t.suspense){let r=o(i=>i==="static"?i:Math.max(i??1e3,1e3),"clamp"),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},"ensureSuspenseTimers"),Q9=o((t,e)=>t.isLoading&&t.isFetching&&!e,"willFetch"),oA=o((t,e)=>t?.suspense&&e.isPending,"shouldSuspend"),Vx=o((t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()}),"fetchOptimistic");function _4e({queries:t,...e},r){let n=cm(r),i=nA(),s=W9(),a=vd.useMemo(()=>t.map(N=>{let P=n.defaultQueryOptions(N);return P._optimisticResults=i?"isRestoring":"optimistic",P}),[t,n,i]);a.forEach(N=>{J9(N),Y9(N,s)}),X9(s);let[f]=vd.useState(()=>new lG(n,a,e)),[l,h,g]=f.getOptimisticResult(a,e.combine),b=!i&&e.subscribed!==!1;vd.useSyncExternalStore(vd.useCallback(N=>b?f.subscribe(Fr.batchCalls(N)):Hn,[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),vd.useEffect(()=>{f.setQueries(a,e)},[a,e,f]);let T=l.some((N,P)=>oA(a[P],N))?l.flatMap((N,P)=>{let C=a[P];if(C){let D=new qh(n,C);if(oA(C,N))return Vx(C,D,s);Q9(N,i)&&Vx(C,D,s)}return[]}):[];if(T.length>0)throw Promise.all(T);let O=l.find((N,P)=>{let C=a[P];return C&&Z9({result:N,errorResetBoundary:s,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(O?.error)throw O.error;return h(g())}o(_4e,"useQueries");p();m();p();m();var fm=et(fo(),1);function eN(t,e,r){if(I.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=nA(),i=W9(),s=cm(r),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),I.NODE_ENV!=="production"&&(a.queryFn||console.error(`[${a.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),a._optimisticResults=n?"isRestoring":"optimistic",J9(a),Y9(a,i),X9(i);let f=!s.getQueryCache().get(a.queryHash),[l]=fm.useState(()=>new e(s,a)),h=l.getOptimisticResult(a),g=!n&&t.subscribed!==!1;if(fm.useSyncExternalStore(fm.useCallback(b=>{let A=g?l.subscribe(Fr.batchCalls(b)):Hn;return l.updateResult(),A},[l,g]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),fm.useEffect(()=>{l.setOptions(a)},[a,l]),oA(a,h))throw Vx(a,l,i);if(Z9({result:h,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!fc&&Q9(h,n)&&(f?Vx(a,l,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Hn).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?h:l.trackResult(h)}o(eN,"useBaseQuery");function pG(t,e){return eN(t,qh,e)}o(pG,"useQuery");p();m();var Hh=et(fo(),1);function w4e(t,e){let r=cm(e),[n]=Hh.useState(()=>new uG(r,t));Hh.useEffect(()=>{n.setOptions(t)},[n,t]);let i=Hh.useSyncExternalStore(Hh.useCallback(a=>n.subscribe(Fr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=Hh.useCallback((a,f)=>{n.mutate(a,f).catch(Hn)},[n]);if(i.error&&tA(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}o(w4e,"useMutation");p();m();function E4e(t,e){return eN(t,cG,e)}o(E4e,"useInfiniteQuery");p();m();var Nyt=["added","removed","updated"];function S4e(t){return Nyt.includes(t)}o(S4e,"isCacheEventType");async function R4e({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let s=await e.restoreClient();if(s)if(s.timestamp){let a=Date.now()-s.timestamp>r,f=s.buster!==n;if(a||f)return e.removeClient();rG(t,s.clientState,i)}else return e.removeClient()}catch(s){throw I.NODE_ENV!=="production"&&(console.error(s),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),s}}o(R4e,"persistQueryClientRestore");async function A4e({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:H9(t,n)};await e.persistClient(i)}o(A4e,"persistQueryClientSave");function T4e(t){let e=t.queryClient.getQueryCache().subscribe(n=>{S4e(n.type)&&A4e(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{S4e(n.type)&&A4e(t)});return()=>{e(),r()}}o(T4e,"persistQueryClientSubscribe");p();m();var um=et(fo(),1);var mG=et(A_(),1);var Myt=o(({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[s,a]=um.useState(!0),f=um.useRef({persistOptions:e,onSuccess:r,onError:n}),l=um.useRef(!1);return um.useEffect(()=>{f.current={persistOptions:e,onSuccess:r,onError:n}}),um.useEffect(()=>{let h={...f.current.persistOptions,queryClient:i.client};return l.current||(l.current=!0,R4e(h).then(()=>f.current.onSuccess?.()).catch(()=>f.current.onError?.()).finally(()=>{a(!1)})),s?void 0:T4e(h)},[i.client,s]),(0,mG.jsx)(G9,{...i,children:(0,mG.jsx)(hG,{value:s,children:t})})},"PersistQueryClientProvider");p();m();p();m();var tN=et(fo(),1);var Cyt=tN.default.createContext(!1);function I4e(){return(0,tN.useContext)(Cyt)}o(I4e,"useIsInert");var O4e=et(fo());function gG(t,e){let r=I4e(),n=(0,O4e.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,s=t?.enabled===!1;if(i&&!s)return{...t,refetchInterval:!1}}return t},[r,t]);return pG(n,e)}o(gG,"useQuery");p();m();var N4e="__STORAGE_RESET_KEY__",M4e=[Ti.AuthEnabled,Ti.BalanceHiddenStatus,Ti.BuyFormValues,Ti.CustomGasControls,Ti.DappBrowserBookmarks,Ti.DeviceId,Ti.LatestCleanedStorageVersion,Ti.LockTimerMs,Ti.MaxWalletIndex,Ti.OnboardingDone,Ti.OwnerToHiddenMints,Ti.PendingTransactions,Ti.PriceMap,Ti.UserExplorerPreferenceV2,Ti.UserRecentAddresses,Ti.UserSavedAddresses,Ti.UserTrustedApps,Ti.UserWhitelistSubdomains,Ti.UserWhitelistedOrigins];var Pyt="Error processing storage data",kyt="Error getting storage data",Byt=["export-storage"],Lyt=o((t,e)=>{let r=[...M4e,...e];return gG({queryKey:Byt,queryFn:o(()=>Dyt(t,r),"queryFn"),gcTime:0,staleTime:0})},"useStorageExport"),Dyt=o(async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let s=await i.getAll();r[n]=Uyt(s,e)}return r}catch(r){throw new Error(`${kyt}: ${JSON.stringify(r)}`)}},"getStorageExport"),Uyt=o((t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${Pyt}: ${JSON.stringify(r)}`)}},"cleanUpStorageData");p();m();var jx=class{static{o(this,"StorageNotifierCache")}notifierCache=new Map;constructor(e){this.storage=e,e.subscribe(r=>{r===N4e?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}getNotifier(e){let r=this.notifierCache.get(e);return r||(r=Ry(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},C4e=new WeakMap,sA=o(()=>{let t=z6e(),e=C4e.get(t);return e===void 0&&(e=new jx(t),C4e.set(t,e)),e},"useStorageSignalProxy");var Fyt=si(t=>sA().get(t));var qyt=si(t=>{let e=sA();return YE(function*(r){return e.set(t,r)})});p();m();p();m();p();m();p();m();p();m();var EG=et(iu()),L4e=et(fh());p();m();p();m();p();m();var Hyt=o((t,e,r)=>t&e^~t&r,"Chi"),Vyt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),jyt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dm=new Uint32Array(64),rN=class extends jb{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=lm[0]|0,this.B=lm[1]|0,this.C=lm[2]|0,this.D=lm[3]|0,this.E=lm[4]|0,this.F=lm[5]|0,this.G=lm[6]|0,this.H=lm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)dm[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let A=dm[b-15],T=dm[b-2],O=Ru(A,7)^Ru(A,18)^A>>>3,N=Ru(T,17)^Ru(T,19)^T>>>10;dm[b]=N+dm[b-7]+O+dm[b-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:g}=this;for(let b=0;b<64;b++){let A=Ru(f,6)^Ru(f,11)^Ru(f,25),T=g+A+Hyt(f,l,h)+jyt[b]+dm[b]|0,N=(Ru(n,2)^Ru(n,13)^Ru(n,22))+Vyt(n,i,s)|0;g=h,h=l,l=f,f=a+T|0,a=s,s=i,i=n,n=T+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(n,i,s,a,f,l,h,g)}roundClean(){dm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},yG=class extends rN{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},bG=kl(()=>new rN),A$r=kl(()=>new yG);p();m();function zyt(t,e,r,n){Nn.hash(t);let i=L5({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:f}=i;if(Nn.number(s),Nn.number(a),Nn.number(f),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=Tu(e),h=Tu(r),g=new Uint8Array(a),b=Qd.create(t,l),A=b._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:f,DK:g,PRF:b,PRFSalt:A}}o(zyt,"pbkdf2Init");function Kyt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(Kyt,"pbkdf2Output");function vG(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:f,PRFSalt:l}=zyt(t,e,r,n),h,g=new Uint8Array(4),b=Vb(g),A=new Uint8Array(f.outputLen);for(let T=1,O=0;O<s;T++,O+=f.outputLen){let N=a.subarray(O,O+f.outputLen);b.setInt32(0,T,!1),(h=l._cloneInto(h)).update(g).digestInto(A),N.set(A.subarray(0,N.length));for(let P=1;P<i;P++){f._cloneInto(h).update(A).digestInto(A);for(let C=0;C<N.length;C++)N[C]^=A[C]}}return Kyt(f,l,a,h,A)}o(vG,"pbkdf2");var un=o((t,e)=>t<<e|t>>>32-e,"rotl");function P4e(t,e,r,n,i,s){let a=t[e++]^r[n++],f=t[e++]^r[n++],l=t[e++]^r[n++],h=t[e++]^r[n++],g=t[e++]^r[n++],b=t[e++]^r[n++],A=t[e++]^r[n++],T=t[e++]^r[n++],O=t[e++]^r[n++],N=t[e++]^r[n++],P=t[e++]^r[n++],C=t[e++]^r[n++],D=t[e++]^r[n++],M=t[e++]^r[n++],U=t[e++]^r[n++],V=t[e++]^r[n++],j=a,ee=f,Y=l,te=h,E=g,c=b,d=A,y=T,v=O,w=N,S=P,R=C,x=D,u=M,_=U,H=V;for(let F=0;F<8;F+=2)E^=un(j+x|0,7),v^=un(E+j|0,9),x^=un(v+E|0,13),j^=un(x+v|0,18),w^=un(c+ee|0,7),u^=un(w+c|0,9),ee^=un(u+w|0,13),c^=un(ee+u|0,18),_^=un(S+d|0,7),Y^=un(_+S|0,9),d^=un(Y+_|0,13),S^=un(d+Y|0,18),te^=un(H+R|0,7),y^=un(te+H|0,9),R^=un(y+te|0,13),H^=un(R+y|0,18),ee^=un(j+te|0,7),Y^=un(ee+j|0,9),te^=un(Y+ee|0,13),j^=un(te+Y|0,18),d^=un(c+E|0,7),y^=un(d+c|0,9),E^=un(y+d|0,13),c^=un(E+y|0,18),R^=un(S+w|0,7),v^=un(R+S|0,9),w^=un(v+R|0,13),S^=un(w+v|0,18),x^=un(H+_|0,7),u^=un(x+H|0,9),_^=un(u+x|0,13),H^=un(_+u|0,18);i[s++]=a+j|0,i[s++]=f+ee|0,i[s++]=l+Y|0,i[s++]=h+te|0,i[s++]=g+E|0,i[s++]=b+c|0,i[s++]=A+d|0,i[s++]=T+y|0,i[s++]=O+v|0,i[s++]=N+w|0,i[s++]=P+S|0,i[s++]=C+R|0,i[s++]=D+x|0,i[s++]=M+u|0,i[s++]=U+_|0,i[s++]=V+H|0}o(P4e,"XorAndSalsa");function xG(t,e,r,n,i){let s=n+0,a=n+16*i;for(let f=0;f<16;f++)r[a+f]=t[e+(2*i-1)*16+f];for(let f=0;f<i;f++,s+=16,e+=16)P4e(r,a,t,e,r,s),f>0&&(a+=16),P4e(r,s,t,e+=16,r,a)}o(xG,"BlockMix");function Gyt(t,e,r){let n=L5({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:a,dkLen:f,asyncTick:l,maxmem:h,onProgress:g}=n;if(Nn.number(i),Nn.number(s),Nn.number(a),Nn.number(f),Nn.number(l),Nn.number(h),g!==void 0&&typeof g!="function")throw new Error("progressCb should be function");let b=128*s,A=b/4;if(i<=1||i&i-1||i>=2**(b/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(f<0||f>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let T=b*(i+a);if(T>h)throw new Error(`Scrypt: parameters too large, ${T} (128 * r * (N + p)) > ${h} (maxmem)`);let O=vG(bG,t,e,{c:1,dkLen:b*a}),N=Hb(O),P=Hb(new Uint8Array(b*i)),C=Hb(new Uint8Array(b)),D=o(()=>{},"blockMixCb");if(g){let M=2*i*a,U=Math.max(Math.floor(M/1e4),1),V=0;D=o(()=>{V++,g&&(!(V%U)||V===M)&&g(V/M)},"blockMixCb")}return{N:i,r:s,p:a,dkLen:f,blockSize32:A,V:P,B32:N,B:O,tmp:C,blockMixCb:D,asyncTick:l}}o(Gyt,"scryptInit");function $yt(t,e,r,n,i){let s=vG(bG,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),s}o($yt,"scryptOutput");async function k4e(t,e,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:f,V:l,B32:h,B:g,tmp:b,blockMixCb:A,asyncTick:T}=Gyt(t,e,r);for(let O=0;O<s;O++){let N=f*O;for(let C=0;C<f;C++)l[C]=h[N+C];let P=0;await B5(n-1,T,C=>{xG(l,P,l,P+=f,i),A()}),xG(l,(n-1)*f,h,N,i),A(),await B5(n,T,C=>{let D=h[N+f-16]%n;for(let M=0;M<f;M++)b[M]=h[N+M]^l[D*f+M];xG(b,0,h,N,i),A()})}return $yt(t,a,g,l,b)}o(k4e,"scryptAsync");var _G=et(iu()),B4e=et(w8()),wG=et(fh());var nN=o(async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await k4e(t,_G.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:wG.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,B4e.pbkdf2)(t,_G.default.decode(e.salt),e.iterations,wG.secretbox.keyLength,e.digest,(i,s)=>i?n(i):r(s)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)},"deriveEncryptionKeyAsync");var SG=o(async(t,e)=>{let r=L4e.secretbox.open(EG.default.decode(t.encrypted),EG.default.decode(t.nonce),await nN(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r},"openSecretBoxAsync");async function zx(t,e){try{return await SG(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await SG(t,n);return i&&_r.addBreadcrumb(nt.Storage,"DecryptEncryptedText: Legacy decryption successful \u2705",Nt.Info),i}}o(zx,"decryptEncryptedTextAsync");p();m();var aA=et(iu()),Kx=et(fh());var Gx=o(async(t,e)=>{let r={kdf:"scrypt",salt:aA.default.encode((0,Kx.randomBytes)(16)),nonce:aA.default.encode((0,Kx.randomBytes)(Kx.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await nN(e,r),i=(0,Kx.secretbox)(t,aA.default.decode(r.nonce),n);return{...r,encrypted:aA.default.encode(i)}},"generateEncryptedText");p();m();async function iN(t,e){return Gx(Buffer.from(t),e)}o(iN,"generateEncryptedTextAsync");p();m();var AG=we.object({encrypted:we.string(),nonce:we.string(),kdf:we.string(),salt:we.string(),iterations:we.number(),digest:we.string()});var D4e=we.object({version:we.literal(1),content:AG}),lc;(function(t){t.Plain="plain",t.Secure="secure"})(lc||(lc={}));var RG=class{static{o(this,"EncryptedStorage")}storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:lc.Plain},r)}static fromSecureStorage(e,r){return new this({store:e,type:lc.Secure},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),s={};for(let[a,f]of Object.entries(i)){let l=await this.encrypt(f,r);s[a]=l}return n(s,e)})}async getSecureValue(e){let r;switch(this.storage.type){case lc.Plain:{r=await this.storage.store.get(e);break}case lc.Secure:{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case lc.Plain:{n=await this.storage.store.getAll(e);break}case lc.Secure:{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,s]of Object.entries(n)){let a=D4e.safeParse(s);if(a.success){let f=await this.decrypt(a.data);r[i]=f}}return r}async removeSecureValue(e){switch(this.storage.type){case lc.Plain:{await this.storage.store.remove(e);break}case lc.Secure:{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case lc.Plain:{await this.storage.store.set(e,n);break}case lc.Secure:{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let s=await this.encrypt(i);r[n]=s}switch(this.storage.type){case lc.Plain:{await this.storage.store.setAll(r);break}case lc.Secure:{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(a=>iN(n,a))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>zx(e.content,i));return JSON.parse(Buffer.from(n).toString())}};p();m();var U4e=et(fh());var fA=class extends Error{static{o(this,"StorageEncryptionKeyErrorMissingPassword")}message="Failed to get the encryption password"},oN=class extends Error{static{o(this,"StorageEncryptionKeyErrorPasswordNeverSet")}message="Failed to update password that has never been set"},TG=class extends Error{static{o(this,"StorageEncryptionKeyErrorInvalidPassword")}message="Failed to decrypt using the password"},cA=".phantom-labs.encryption.encryptionKey",IG=class{static{o(this,"MiddleEncryptionKeyManager")}tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?_f.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=_f.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=_f.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=o(async s=>await this.encrypt(s,r),"encryptionCallback"),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new fA;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new oN;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new fA;if(!await this.fetchAndDecryptExistingKey())throw new oN;let i=_f.from(this.randomEncryptionKey());return e(i,async(s,a)=>{let f=a??r,l=await i.foldAsync(h=>this.encrypt(h,f));return await this.saveExistingKey(l,s),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(_r.addBreadcrumb(nt.Storage,"Failed to get existing encryption key!",Nt.Info),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return _r.addBreadcrumb(nt.Storage,"Failed to get existing encryption key!",Nt.Info),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new fA;return e}async fetchExistingKey(){return this.deps.storage.get(cA)}async saveExistingKey(e,r){if(r){let n={...r,[cA]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(cA,e)}async deleteExistingKey(){return this.deps.storage.remove(cA)}randomEncryptionKey(){return(0,U4e.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>Gx(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>zx(e.encryptedKey,n)).catch(()=>{throw new TG})}};p();m();p();m();p();m();var sN=o((t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`,"syncedStorageEndpoint");p();m();p();m();function Vy(){return(t,e)=>e??t}o(Vy,"REMOTE_OVER_LOCAL");var F4e=o(async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(a=>Object.prototype.hasOwnProperty.call(e,a)),s=await t.getAll();try{await t.setAll(i.reduce((a,f)=>{let l=s[f],h=r[f];if(h!=null){let{resolver:g=Vy}=e[f];a[f]=g(l,h)}return a},{})).then(()=>{_r.addBreadcrumb(nt.Storage,"\u2705 Synced remote data to disk!",Nt.Info)})}catch{try{for(let f of i){let l=s[f],h=r[f];if(h==null)continue;let{resolver:g=Vy}=e[f];await t.set(f,g(l,h)).then(()=>{_r.addBreadcrumb(nt.Storage,`\u2705 Synced remote data to disk: ${f}`,Nt.Info)}).catch(b=>{_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync remote data to disk: ${f} => Error: ${b}`,Nt.Info)})}}catch(f){_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync remote data to disk: ${f}`,Nt.Info)}}},"persistRemoteStorageToDisk");var OG=2,NG=500,uA=class t{static{o(this,"SyncedStorage")}static#t;#e;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){this.#e=e,this.#n=r,this.#s=n,this.#i=i,this.#a=s}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){return this.#t||(this.#t=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s})),this.#t}clear(){this.#o=null,this.#r={},this.#c=!1,_r.addBreadcrumb(nt.Storage,"\u{1F5D1}\uFE0F  SyncedStorage cleared!",Nt.Info)}async hydrateIfNeeded(e=!0){if(GA())return;if(await qy.isFeatureEnabledAsync("kill-sync-account-names")&&(delete this.#n[".phantom-labs.account.accountMetadata"],_r.addBreadcrumb(nt.Storage,"\u{1F7E0} SyncedStorage: kill-sync-account-names is enabled, removing from keyRegistry",Nt.Info)),!this.#s||!this.#e||!this.#n)return _r.addBreadcrumb(nt.Storage,"\u{1F7E0} SyncedStorage: Not initialized!",Nt.Info);if(!await this.#a())return _r.addBreadcrumb(nt.Storage,"\u{1F7E0} SyncedStorage: Not onboarded!",Nt.Info);try{let n=await this.#s.getUser();if(!n)return _r.addBreadcrumb(nt.Storage,"\u{1F7E0} SyncedStorage: No user found",Nt.Info);if(n?.userID===this.#o)return;this.#o=n.userID;let i=await this.syncFromCloud();if(i){_r.addBreadcrumb(nt.Storage,"\u2705 SyncedStorage found!",Nt.Info),this.#r=i,e&&(await F4e({storage:this.#e,keyRegistry:this.#n,allRemoteData:i}),this.#c=!0);let s=Object.values(this.#n).map(a=>a.queryKey).flat();await this.#i?.invalidateQueries({queryKey:s})}}catch(n){_r.captureError(new Error(`\u274C Failed to initialize Synced Storage: ${JSON.stringify(n)}`),nt.Storage)}}async syncFromCloud(e){if(this.#o)try{let r=sN(this.#o,e),n=await $A.api().bearer(!0).retry(OG,NG).get(r);if(WA(n))return n.data;_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync from cloud: ${JSON.stringify(n)}`,Nt.Info)}catch(r){_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync from cloud: ${JSON.stringify(r)}`,Nt.Info)}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=sN(this.#o,e),i=await $A.api().bearer(!0).retry(OG,NG).put(n,{value:r});if(WA(i))return _r.addBreadcrumb(nt.Storage,`\u2705 Synced to cloud: ${e}`,Nt.Info),!0;_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,Nt.Info)}catch(n){_r.addBreadcrumb(nt.Storage,`\u274C Failed to sync to cloud: ${JSON.stringify(n)}`,Nt.Info)}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=sN(this.#o,e),n=await $A.api().bearer(!0).retry(OG,NG).delete(r);if(WA(n))return _r.addBreadcrumb(nt.Storage,`\u2705 Removed from cloud: ${e}`,Nt.Info),!0;_r.addBreadcrumb(nt.Storage,`\u274C Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,Nt.Info)}catch(r){_r.addBreadcrumb(nt.Storage,`\u274C Failed to remove from cloud: ${JSON.stringify(r)}`,Nt.Info)}return!1}async get(e){let r=await this.#e.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=Vy,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let s=i?await this.syncFromCloud(e):this.#r[e];return n(r,s)}async getAll(e){return this.#e.getAll(e)}async remove(e){await this.#e.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#e.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#e.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#e.subscribe(e)}async update(e,r){await this.#e.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};p();m();var aN=o((t,e,r=Vy(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}}),"generateKeyRegistry");p();m();var q4e=new WeakMap,H4e=o(()=>{let t=sA(),e=QK();if(e instanceof uA){let r=q4e.get(e);return r===void 0&&(r=new jx(e),q4e.set(e,r)),r}return t},"useSyncedStorageSignalProxy"),Wyt=si(t=>H4e().get(t)),Yyt=o(t=>Ff(Wyt,t),"useSyncedStorageValue"),Xyt=si(t=>{let e=H4e();return YE(function*(r){return e.set(t,r)})}),Zyt=o(t=>Ff(Xyt,t),"useSetSyncedStorageValue");p();m();var Jyt={[Sn.Monad.Mainnet]:1,[Sn.Monad.Testnet]:1,[Sn.Ethereum.Mainnet]:6,[Sn.Ethereum.Sepolia]:6,[Sn.Polygon.Mainnet]:128,[Sn.Polygon.Amoy]:128,[Sn.Base.Mainnet]:3,[Sn.Base.Sepolia]:3,[Sn.Arbitrum.Mainnet]:1,[Sn.Arbitrum.Sepolia]:1,[Sn.Hypercore.Mainnet]:1,[Sn.Hypercore.Testnet]:1,[Sn.Hyperevm.Mainnet]:1,[Sn.Hyperevm.Testnet]:1},Qyt={[Sn.Bitcoin.Mainnet]:1,[Sn.Bitcoin.Testnet]:1};var e1t="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",t1t=100;p();m();p();m();function r1t(t,e){return e.getSupportedChains().includes(t)}o(r1t,"isChainSupported");function V4e(t,e){if($I(t))return e.get(t);if(Ot.isNetworkID(t)){let r=Ot.getChainID(t);if(r1t(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}o(V4e,"get");function MG(t){return{get:o(e=>V4e(e,t),"get"),supportedChains:t.getSupportedChains()}}o(MG,"createChainConfig");p();m();var CG=class{static{o(this,"ChainConfigRegistry")}chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};p();m();p();m();var jy="@phantom/chains",lA={enabledChains:[`${jy}:enabled-chains`],enabledAddressTypes:[`${jy}:enabled-address-types`],enabledNetworkIDs(t){return[`${jy}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${jy}:chain-availability`,t]}};var $x=".phantom-labs.internal.enabledChainsOverrideSettings",PG=si(()=>{try{return kG($x)?.settings}catch{return null}});var j4e=si(()=>{let t=[],e;try{e=PG(),e&&Object.entries(e).forEach(Xi(([r,n])=>{n||t.push(r)},0,[t]))}catch{}try{Ot.getAllChainIDs().forEach(Xi(r=>{e&&e[r]||Ot.isChainDefaultEnabled(r)||t.push(r)},1,[e,t]))}catch{}return[...new Set(t)]});var xXr=o(async t=>{let e=await PG(),r=cN($x),n=t.reduce((i,s)=>(i[s]=!0,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"enableChainIDs"),_Xr=o(async t=>{let e=await PG(),r=cN($x),n=t.reduce((i,s)=>(i[s]=!1,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"disableChainIDs"),hm=".phantom-labs.internal.disabledAddressTypes",n1t=we.object({version:we.literal(1),settings:we.record(we.boolean())}),i1t=we.object({version:we.literal(1),addressTypes:we.array(we.nativeEnum(We))}),o1t=o((t,e)=>{let r=t,n=e;return!r&&!n?null:{version:1,settings:{...r?.settings??{},...n?.settings??{}}}},"enabledChainsOverridesResolver"),s1t=o((t,e)=>{let r=t,n=e;if(!r&&!n)return null;let i=new Set([...r?.addressTypes??[],...n?.addressTypes??[]]);return{version:1,addressTypes:Array.from(i)}},"disabledAddressTypesResolver"),[kG,cN,z4e]=sz("chains",[{key:$x,type:"object",validator:n1t,nullable:!0,resolver:o1t,updateOn:"change"},{key:hm,type:"object",validator:i1t,nullable:!0,resolver:s1t,updateOn:"change"}]);var a1t=si(()=>{let t;try{t=kG(hm)!==null}catch{t=!1}return t}),K4e=si(()=>{let t;try{t=kG(hm)?.addressTypes??[]}catch{t=[]}return[...new Set([...t,We.BitcoinNestedSegwit,We.BitcoinLegacy])]}),c1t=o(async t=>{let e=await z4e(hm),r=new Set(e?.addressTypes??[]);return r.delete(t),cN(hm)({version:1,addressTypes:Array.from(r)})},"enableAddressType"),f1t=o(async t=>{let e=await z4e(hm),r=new Set(e?.addressTypes??[]);return r.add(t),cN(hm)({version:1,addressTypes:Array.from(r)})},"disableAddressType"),u1t=o((t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),"syncedEnabledChainsOverridesResolver"),l1t={...aN($x,[`${jy}:chain-availability`,`${jy}:enabled-network-ids`,...lA.enabledChains],u1t),...aN(hm,[...lA.enabledAddressTypes])};p();m();var Wx=et(fo());var fN={async deriveAddresses(){},getUIConfig:o(()=>({}),"getUIConfig"),supportedUIConfigChains:[]},G4e=(0,Wx.createContext)(fN);function d1t({children:t,registry:e,effects:r}){let n=e?MG(e):void 0,i={deriveAddresses:r?.deriveAddresses??fN.deriveAddresses,getUIConfig:o(s=>n?n.get(s):fN.getUIConfig(s),"getUIConfig"),supportedUIConfigChains:n?n.supportedChains:fN.supportedUIConfigChains};return Wx.default.createElement(G4e.Provider,{value:i},t)}o(d1t,"ChainDependencyProvider");function h1t(){return(0,Wx.useContext)(G4e)}o(h1t,"useChainDependencies");p();m();var $4e=!1,p1t=si(()=>{let t=gd("enable-arbitrum"),e=gd("enable-hyperevm"),r=gd("enable-monad-mainnet"),n=!l1();$4e||(_r.addBreadcrumb(nt.Network,"Fetched chain availability",Nt.Info,{skipFileLogger:!0}),$4e=!0);let i=Ot.getAllChainIDs().filter(Xi(M=>(M!==St.Arbitrum||t)&&(M!==St.Hypercore||n)&&(M!==St.Hyperevm||e),0,[t,n,e])),s=j4e(),a=new Set(s),f=i.filter(Xi(M=>!a.has(M),1,[a])),l=Xi(M=>{let U=Ot.getChainID(M);return!r&&U===St.Monad&&Ot.isMainnetNetworkID(M)?!1:f.includes(U)},2,[r,f]),h=Ot.getAllNetworkIDs({mainnetOnly:!1}).filter(l),g=Ot.getAllNetworkIDs({mainnetOnly:!0}).filter(l),b=new Set(s.flatMap(Xi(M=>Ot.getNetworkIDs(M),3))),A=h.filter(Xi(M=>!b.has(M),4,[b])),T=g.filter(Xi(M=>!b.has(M),5,[b])),O=A.filter(Xi(M=>!Ot.isMainnetNetworkID(M),6)),N=Mg.getAll(),P=K4e(),C=new Set(P);for(let M of N){let U=Ot.getChainIDs(M);if(!U){C.add(M);continue}U.every(Xi(j=>a.has(j),7,[a]))&&C.add(M)}let D=N.filter(Xi(M=>!C.has(M),8,[C]));return{supportedChainIDs:i,supportedAddressTypes:N,disabledChainIDs:s,enabledChainIDs:f,enabledAddressTypes:D,enabledNetworkIDs:A,enabledMainnetOnlyNetworkIDs:T,enabledTestnetOnlyNetworkIDs:O}});p();m();var W4e=[],m1t=o(t=>{W4e.push(t)},"registerExtraChainAvailabilityInvalidator"),g1t=o(async t=>{let e=qy.isFeatureEnabled("enable-arbitrum"),r=qy.isFeatureEnabled("enable-hyperevm"),n=qy.isFeatureEnabled("enable-monad-mainnet");await t.invalidateQueries({queryKey:lA.chainAvailability({isArbitrumEnabled:e,isHyperevmEnabled:r,isMonadMainnetEnabled:n})}),await Promise.all(W4e.map(i=>i(t)))},"invalidateChainAvailability");p();m();var y1t={days:o(t=>t*864e5,"days"),hours:o(t=>t*36e5,"hours"),minutes:o(t=>t*6e4,"minutes"),seconds:o(t=>t*1e3,"seconds"),milliseconds:o(t=>t,"milliseconds"),microseconds:o(t=>t/1e3,"microseconds"),nanoseconds:o(t=>t/1e6,"nanoseconds")};function wZr(t){let e=0;for(let[r,n]of Object.entries(t)){let i=y1t[r];e+=i(n)}return e}o(wZr,"toMilliseconds");p();m();var Yx=et(fo());var Y4e=(0,Yx.createContext)(null);function TZr({children:t,analytics:e}){return Yx.default.createElement(Y4e.Provider,{value:e},t)}o(TZr,"AnalyticsProvider");function IZr(){let t=(0,Yx.useContext)(Y4e);return t||{capture:o(async()=>{},"capture"),addUserProperties:o(async()=>{},"addUserProperties"),identify:o(async()=>{},"identify"),getDeviceId:o(async()=>"","getDeviceId"),setDeviceId:o(()=>{},"setDeviceId"),setAnalyticsOptedOut:o(async()=>{},"setAnalyticsOptedOut"),setDisplayLanguage:o(async()=>{},"setDisplayLanguage"),screen:o(()=>{},"screen"),page:o(()=>{},"page"),rudderClient:null}}o(IZr,"useAnalytics");p();m();p();m();var b1t=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),BG={randomUUID:b1t};p();m();var uN,v1t=new Uint8Array(16);function LG(){if(!uN&&(uN=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!uN))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uN(v1t)}o(LG,"rng");p();m();var bs=[];for(let t=0;t<256;++t)bs.push((t+256).toString(16).slice(1));function X4e(t,e=0){return bs[t[e+0]]+bs[t[e+1]]+bs[t[e+2]]+bs[t[e+3]]+"-"+bs[t[e+4]]+bs[t[e+5]]+"-"+bs[t[e+6]]+bs[t[e+7]]+"-"+bs[t[e+8]]+bs[t[e+9]]+"-"+bs[t[e+10]]+bs[t[e+11]]+bs[t[e+12]]+bs[t[e+13]]+bs[t[e+14]]+bs[t[e+15]]}o(X4e,"unsafeStringify");function x1t(t,e,r){if(BG.randomUUID&&!e&&!t)return BG.randomUUID();t=t||{};let n=t.random||(t.rng||LG)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return X4e(n)}o(x1t,"v4");var _1t=x1t;p();m();p();m();p();m();p();m();p();m();p();m();function H8e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(H8e,"number");function UG(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(UG,"bytes");function V8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");H8e(t.outputLen),H8e(t.blockLen)}o(V8e,"hash");function Xx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(Xx,"exists");function j8e(t,e){UG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(j8e,"output");p();m();p();m();var dN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var z8e=o(t=>t instanceof Uint8Array,"u8a");var hN=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),tl=o((t,e)=>t<<32-e|t>>>e,"rotr"),Dvt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Dvt)throw new Error("Non little-endian hardware is not supported");function Uvt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(Uvt,"utf8ToBytes");function dA(t){if(typeof t=="string"&&(t=Uvt(t)),!z8e(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(dA,"toBytes");function K8e(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!z8e(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(K8e,"concatBytes");var Zx=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},SQr={}.toString;function pN(t){let e=o(n=>t().update(dA(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(pN,"wrapConstructor");function mN(t=32){if(dN&&typeof dN.getRandomValues=="function")return dN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(mN,"randomBytes");function Fvt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),f=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,f,n)}o(Fvt,"setBigUint64");var Jx=class extends Zx{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=hN(this.buffer)}update(e){Xx(this);let{view:r,buffer:n,blockLen:i}=this;e=dA(e);let s=e.length;for(let a=0;a<s;){let f=Math.min(i-this.pos,s-a);if(f===i){let l=hN(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xx(this),j8e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let b=a;b<i;b++)r[b]=0;Fvt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let f=hN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)f.setUint32(4*b,g[b],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:f}=this;return e.length=i,e.pos=f,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var qvt=o((t,e,r)=>t&e^~t&r,"Chi"),Hvt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Vvt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mm=new Uint32Array(64),FG=class extends Jx{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=pm[0]|0,this.B=pm[1]|0,this.C=pm[2]|0,this.D=pm[3]|0,this.E=pm[4]|0,this.F=pm[5]|0,this.G=pm[6]|0,this.H=pm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:f,H:l}=this;return[e,r,n,i,s,a,f,l]}set(e,r,n,i,s,a,f,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=f|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)mm[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let A=mm[b-15],T=mm[b-2],O=tl(A,7)^tl(A,18)^A>>>3,N=tl(T,17)^tl(T,19)^T>>>10;mm[b]=N+mm[b-7]+O+mm[b-16]|0}let{A:n,B:i,C:s,D:a,E:f,F:l,G:h,H:g}=this;for(let b=0;b<64;b++){let A=tl(f,6)^tl(f,11)^tl(f,25),T=g+A+qvt(f,l,h)+Vvt[b]+mm[b]|0,N=(tl(n,2)^tl(n,13)^tl(n,22))+Hvt(n,i,s)|0;g=h,h=l,l=f,f=a+T|0,a=s,s=i,i=n,n=T+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(n,i,s,a,f,l,h,g)}roundClean(){mm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var na=pN(()=>new FG);p();m();var jG={};PW(jG,{bitGet:()=>Yvt,bitLen:()=>Wvt,bitMask:()=>hA,bitSet:()=>Xvt,bytesToHex:()=>zy,bytesToNumberBE:()=>vs,bytesToNumberLE:()=>bN,concatBytes:()=>Vh,createHmacDrbg:()=>VG,ensureBytes:()=>So,equalBytes:()=>Gvt,hexToBytes:()=>Ky,hexToNumber:()=>HG,numberToBytesBE:()=>rl,numberToBytesLE:()=>vN,numberToHexUnpadded:()=>W8e,numberToVarBytesBE:()=>Kvt,utf8ToBytes:()=>$vt,validateObject:()=>gm});p();m();var $8e=BigInt(0),gN=BigInt(1),jvt=BigInt(2),yN=o(t=>t instanceof Uint8Array,"u8a"),zvt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zy(t){if(!yN(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=zvt[t[r]];return e}o(zy,"bytesToHex");function W8e(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(W8e,"numberToHexUnpadded");function HG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(HG,"hexToNumber");function Ky(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(Ky,"hexToBytes");function vs(t){return HG(zy(t))}o(vs,"bytesToNumberBE");function bN(t){if(!yN(t))throw new Error("Uint8Array expected");return HG(zy(Uint8Array.from(t).reverse()))}o(bN,"bytesToNumberLE");function rl(t,e){return Ky(t.toString(16).padStart(e*2,"0"))}o(rl,"numberToBytesBE");function vN(t,e){return rl(t,e).reverse()}o(vN,"numberToBytesLE");function Kvt(t){return Ky(W8e(t))}o(Kvt,"numberToVarBytesBE");function So(t,e,r){let n;if(typeof e=="string")try{n=Ky(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(yN(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(So,"ensureBytes");function Vh(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!yN(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(Vh,"concatBytes");function Gvt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(Gvt,"equalBytes");function $vt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o($vt,"utf8ToBytes");function Wvt(t){let e;for(e=0;t>$8e;t>>=gN,e+=1);return e}o(Wvt,"bitLen");function Yvt(t,e){return t>>BigInt(e)&gN}o(Yvt,"bitGet");var Xvt=o((t,e,r)=>t|(r?gN:$8e)<<BigInt(e),"bitSet"),hA=o(t=>(jvt<<BigInt(t-1))-gN,"bitMask"),qG=o(t=>new Uint8Array(t),"u8n"),G8e=o(t=>Uint8Array.from(t),"u8fr");function VG(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=qG(t),i=qG(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),f=o((...b)=>r(i,n,...b),"h"),l=o((b=qG())=>{i=f(G8e([0]),b),n=f(),b.length!==0&&(i=f(G8e([1]),b),n=f())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,A=[];for(;b<e;){n=f();let T=n.slice();A.push(T),b+=n.length}return Vh(...A)},"gen");return o((b,A)=>{a(),l(b);let T;for(;!(T=A(h()));)l();return a(),T},"genUntil")}o(VG,"createHmacDrbg");var Zvt={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||t instanceof Uint8Array,"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function gm(t,e,r={}){let n=o((i,s,a)=>{let f=Zvt[s];if(typeof f!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!f(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(gm,"validateObject");var Ro=BigInt(0),Hi=BigInt(1),Gy=BigInt(2),Jvt=BigInt(3),zG=BigInt(4),Y8e=BigInt(5),X8e=BigInt(8),Qvt=BigInt(9),ext=BigInt(16);function Ao(t,e){let r=t%e;return r>=Ro?r:e+r}o(Ao,"mod");function txt(t,e,r){if(r<=Ro||e<Ro)throw new Error("Expected power/modulo > 0");if(r===Hi)return Ro;let n=Hi;for(;e>Ro;)e&Hi&&(n=n*t%r),t=t*t%r,e>>=Hi;return n}o(txt,"pow");function Kc(t,e,r){let n=t;for(;e-- >Ro;)n*=n,n%=r;return n}o(Kc,"pow2");function xN(t,e){if(t===Ro||e<=Ro)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ao(t,e),n=e,i=Ro,s=Hi,a=Hi,f=Ro;for(;r!==Ro;){let h=n/r,g=n%r,b=i-a*h,A=s-f*h;n=r,r=g,i=a,s=f,a=b,f=A}if(n!==Hi)throw new Error("invert: does not exist");return Ao(i,e)}o(xN,"invert");function rxt(t){let e=(t-Hi)/Gy,r,n,i;for(r=t-Hi,n=0;r%Gy===Ro;r/=Gy,n++);for(i=Gy;i<t&&txt(i,e,t)!==t-Hi;i++);if(n===1){let a=(t+Hi)/zG;return o(function(l,h){let g=l.pow(h,a);if(!l.eql(l.sqr(g),h))throw new Error("Cannot find square root");return g},"tonelliFast")}let s=(r+Hi)/Gy;return o(function(f,l){if(f.pow(l,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let h=n,g=f.pow(f.mul(f.ONE,i),r),b=f.pow(l,s),A=f.pow(l,r);for(;!f.eql(A,f.ONE);){if(f.eql(A,f.ZERO))return f.ZERO;let T=1;for(let N=f.sqr(A);T<h&&!f.eql(N,f.ONE);T++)N=f.sqr(N);let O=f.pow(g,Hi<<BigInt(h-T-1));g=f.sqr(O),b=f.mul(b,O),A=f.mul(A,g),h=T}return b},"tonelliSlow")}o(rxt,"tonelliShanks");function nxt(t){if(t%zG===Jvt){let e=(t+Hi)/zG;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%X8e===Y8e){let e=(t-Y8e)/X8e;return o(function(n,i){let s=n.mul(i,Gy),a=n.pow(s,e),f=n.mul(i,a),l=n.mul(n.mul(f,Gy),a),h=n.mul(f,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%ext,rxt(t)}o(nxt,"FpSqrt");var ixt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KG(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ixt.reduce((n,i)=>(n[i]="function",n),e);return gm(t,r)}o(KG,"validateField");function oxt(t,e,r){if(r<Ro)throw new Error("Expected power > 0");if(r===Ro)return t.ONE;if(r===Hi)return e;let n=t.ONE,i=e;for(;r>Ro;)r&Hi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Hi;return n}o(oxt,"FpPow");function sxt(t,e){let r=new Array(e.length),n=e.reduce((s,a,f)=>t.is0(a)?s:(r[f]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,f)=>t.is0(a)?s:(r[f]=t.mul(s,r[f]),t.mul(s,a)),i),r}o(sxt,"FpInvertBatch");function GG(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(GG,"nLength");function Z8e(t,e,r=!1,n={}){if(t<=Ro)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=GG(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=nxt(t),f=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:hA(i),ZERO:Ro,ONE:Hi,create:o(l=>Ao(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ro<=l&&l<t},"isValid"),is0:o(l=>l===Ro,"is0"),isOdd:o(l=>(l&Hi)===Hi,"isOdd"),neg:o(l=>Ao(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>Ao(l*l,t),"sqr"),add:o((l,h)=>Ao(l+h,t),"add"),sub:o((l,h)=>Ao(l-h,t),"sub"),mul:o((l,h)=>Ao(l*h,t),"mul"),pow:o((l,h)=>oxt(f,l,h),"pow"),div:o((l,h)=>Ao(l*xN(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>xN(l,t),"inv"),sqrt:n.sqrt||(l=>a(f,l)),invertBatch:o(l=>sxt(f,l),"invertBatch"),cmov:o((l,h,g)=>g?h:l,"cmov"),toBytes:o(l=>r?vN(l,s):rl(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?bN(l):vs(l)},"fromBytes")});return Object.freeze(f)}o(Z8e,"Field");function J8e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(J8e,"getFieldBytesLength");function $G(t){let e=J8e(t);return e+Math.ceil(e/2)}o($G,"getMinHashLength");function Q8e(t,e,r=!1){let n=t.length,i=J8e(e),s=$G(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?vs(t):bN(t),f=Ao(a,e-Hi)+Hi;return r?vN(f,i):rl(f,i)}o(Q8e,"mapHashToField");p();m();p();m();var cxt=BigInt(0),WG=BigInt(1);function e5e(t,e){let r=o((i,s)=>{let a=s.negate();return i?a:s},"constTimeNegate"),n=o(i=>{let s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}},"opts");return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,f=i;for(;s>cxt;)s&WG&&(a=a.add(f)),f=f.double(),s>>=WG;return a},precomputeWindow(i,s){let{windows:a,windowSize:f}=n(s),l=[],h=i,g=h;for(let b=0;b<a;b++){g=h,l.push(g);for(let A=1;A<f;A++)g=g.add(h),l.push(g);h=g.double()}return l},wNAF(i,s,a){let{windows:f,windowSize:l}=n(i),h=t.ZERO,g=t.BASE,b=BigInt(2**i-1),A=2**i,T=BigInt(i);for(let O=0;O<f;O++){let N=O*l,P=Number(a&b);a>>=T,P>l&&(P-=A,a+=WG);let C=N,D=N+Math.abs(P)-1,M=O%2!==0,U=P<0;P===0?g=g.add(r(M,s[C])):h=h.add(r(U,s[D]))}return{p:h,f:g}},wNAFCached(i,s,a,f){let l=i._WINDOW_SIZE||1,h=s.get(i);return h||(h=this.precomputeWindow(i,l),l!==1&&s.set(i,f(h))),this.wNAF(l,h,a)}}}o(e5e,"wNAF");function YG(t){return KG(t.Fp),gm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...GG(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(YG,"validateBasic");function fxt(t){let e=YG(t);gm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(fxt,"validatePointOpts");var{bytesToNumberBE:uxt,hexToBytes:lxt}=jG,$y={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=$y;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:uxt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=$y,r=typeof t=="string"?lxt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=$y._parseInt(r.subarray(2)),{d:a,l:f}=$y._parseInt(s);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=o(h=>Number.parseInt(h[0],16)&8?"00"+h:h,"slice"),r=o(h=>{let g=h.toString(16);return g.length&1?`0${g}`:g},"h"),n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,f=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${f}${n}`}},jh=BigInt(0),Qf=BigInt(1),nen=BigInt(2),t5e=BigInt(3),ien=BigInt(4);function dxt(t){let e=fxt(t),{Fp:r}=e,n=e.toBytes||((O,N,P)=>{let C=N.toAffine();return Vh(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(O=>{let N=O.subarray(1),P=r.fromBytes(N.subarray(0,r.BYTES)),C=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:P,y:C}});function s(O){let{a:N,b:P}=e,C=r.sqr(O),D=r.mul(C,O);return r.add(r.add(D,r.mul(O,N)),P)}if(o(s,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(O){return typeof O=="bigint"&&jh<O&&O<e.n}o(a,"isWithinCurveOrder");function f(O){if(!a(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}o(f,"assertGE");function l(O){let{allowedPrivateKeyLengths:N,nByteLength:P,wrapPrivateKey:C,n:D}=e;if(N&&typeof O!="bigint"){if(O instanceof Uint8Array&&(O=zy(O)),typeof O!="string"||!N.includes(O.length))throw new Error("Invalid key");O=O.padStart(P*2,"0")}let M;try{M=typeof O=="bigint"?O:vs(So("private key",O,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof O}`)}return C&&(M=Ao(M,D)),f(M),M}o(l,"normPrivateKeyToScalar");let h=new Map;function g(O){if(!(O instanceof b))throw new Error("ProjectivePoint expected")}o(g,"assertPrjPoint");class b{static{o(this,"Point")}constructor(N,P,C){if(this.px=N,this.py=P,this.pz=C,N==null||!r.isValid(N))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(N){let{x:P,y:C}=N||{};if(!N||!r.isValid(P)||!r.isValid(C))throw new Error("invalid affine point");if(N instanceof b)throw new Error("projective point not allowed");let D=o(M=>r.eql(M,r.ZERO),"is0");return D(P)&&D(C)?b.ZERO:new b(P,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let P=r.invertBatch(N.map(C=>C.pz));return N.map((C,D)=>C.toAffine(P[D])).map(b.fromAffine)}static fromHex(N){let P=b.fromAffine(i(So("pointHex",N)));return P.assertValidity(),P}static fromPrivateKey(N){return b.BASE.multiply(l(N))}_setWindowSize(N){this._WINDOW_SIZE=N,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:P}=this.toAffine();if(!r.isValid(N)||!r.isValid(P))throw new Error("bad point: x or y not FE");let C=r.sqr(P),D=s(N);if(!r.eql(C,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(r.isOdd)return!r.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);let{px:P,py:C,pz:D}=this,{px:M,py:U,pz:V}=N,j=r.eql(r.mul(P,V),r.mul(M,D)),ee=r.eql(r.mul(C,V),r.mul(U,D));return j&&ee}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:N,b:P}=e,C=r.mul(P,t5e),{px:D,py:M,pz:U}=this,V=r.ZERO,j=r.ZERO,ee=r.ZERO,Y=r.mul(D,D),te=r.mul(M,M),E=r.mul(U,U),c=r.mul(D,M);return c=r.add(c,c),ee=r.mul(D,U),ee=r.add(ee,ee),V=r.mul(N,ee),j=r.mul(C,E),j=r.add(V,j),V=r.sub(te,j),j=r.add(te,j),j=r.mul(V,j),V=r.mul(c,V),ee=r.mul(C,ee),E=r.mul(N,E),c=r.sub(Y,E),c=r.mul(N,c),c=r.add(c,ee),ee=r.add(Y,Y),Y=r.add(ee,Y),Y=r.add(Y,E),Y=r.mul(Y,c),j=r.add(j,Y),E=r.mul(M,U),E=r.add(E,E),Y=r.mul(E,c),V=r.sub(V,Y),ee=r.mul(E,te),ee=r.add(ee,ee),ee=r.add(ee,ee),new b(V,j,ee)}add(N){g(N);let{px:P,py:C,pz:D}=this,{px:M,py:U,pz:V}=N,j=r.ZERO,ee=r.ZERO,Y=r.ZERO,te=e.a,E=r.mul(e.b,t5e),c=r.mul(P,M),d=r.mul(C,U),y=r.mul(D,V),v=r.add(P,C),w=r.add(M,U);v=r.mul(v,w),w=r.add(c,d),v=r.sub(v,w),w=r.add(P,D);let S=r.add(M,V);return w=r.mul(w,S),S=r.add(c,y),w=r.sub(w,S),S=r.add(C,D),j=r.add(U,V),S=r.mul(S,j),j=r.add(d,y),S=r.sub(S,j),Y=r.mul(te,w),j=r.mul(E,y),Y=r.add(j,Y),j=r.sub(d,Y),Y=r.add(d,Y),ee=r.mul(j,Y),d=r.add(c,c),d=r.add(d,c),y=r.mul(te,y),w=r.mul(E,w),d=r.add(d,y),y=r.sub(c,y),y=r.mul(te,y),w=r.add(w,y),c=r.mul(d,w),ee=r.add(ee,c),c=r.mul(S,w),j=r.mul(v,j),j=r.sub(j,c),c=r.mul(v,d),Y=r.mul(S,Y),Y=r.add(Y,c),new b(j,ee,Y)}subtract(N){return this.add(N.negate())}is0(){return this.equals(b.ZERO)}wNAF(N){return T.wNAFCached(this,h,N,P=>{let C=r.invertBatch(P.map(D=>D.pz));return P.map((D,M)=>D.toAffine(C[M])).map(b.fromAffine)})}multiplyUnsafe(N){let P=b.ZERO;if(N===jh)return P;if(f(N),N===Qf)return this;let{endo:C}=e;if(!C)return T.unsafeLadder(this,N);let{k1neg:D,k1:M,k2neg:U,k2:V}=C.splitScalar(N),j=P,ee=P,Y=this;for(;M>jh||V>jh;)M&Qf&&(j=j.add(Y)),V&Qf&&(ee=ee.add(Y)),Y=Y.double(),M>>=Qf,V>>=Qf;return D&&(j=j.negate()),U&&(ee=ee.negate()),ee=new b(r.mul(ee.px,C.beta),ee.py,ee.pz),j.add(ee)}multiply(N){f(N);let P=N,C,D,{endo:M}=e;if(M){let{k1neg:U,k1:V,k2neg:j,k2:ee}=M.splitScalar(P),{p:Y,f:te}=this.wNAF(V),{p:E,f:c}=this.wNAF(ee);Y=T.constTimeNegate(U,Y),E=T.constTimeNegate(j,E),E=new b(r.mul(E.px,M.beta),E.py,E.pz),C=Y.add(E),D=te.add(c)}else{let{p:U,f:V}=this.wNAF(P);C=U,D=V}return b.normalizeZ([C,D])[0]}multiplyAndAddUnsafe(N,P,C){let D=b.BASE,M=o((V,j)=>j===jh||j===Qf||!V.equals(D)?V.multiplyUnsafe(j):V.multiply(j),"mul"),U=M(this,P).add(M(N,C));return U.is0()?void 0:U}toAffine(N){let{px:P,py:C,pz:D}=this,M=this.is0();N==null&&(N=M?r.ONE:r.inv(D));let U=r.mul(P,N),V=r.mul(C,N),j=r.mul(D,N);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:U,y:V}}isTorsionFree(){let{h:N,isTorsionFree:P}=e;if(N===Qf)return!0;if(P)return P(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:P}=e;return N===Qf?this:P?P(b,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(b,this,N)}toHex(N=!0){return zy(this.toRawBytes(N))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let A=e.nBitLength,T=e5e(b,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}o(dxt,"weierstrassPoints");function hxt(t){let e=YG(t);return gm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(hxt,"validateOpts");function r5e(t){let e=hxt(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(w){return jh<w&&w<r.ORDER}o(a,"isValidFieldElement");function f(w){return Ao(w,n)}o(f,"modN");function l(w){return xN(w,n)}o(l,"invN");let{ProjectivePoint:h,normPrivateKeyToScalar:g,weierstrassEquation:b,isWithinCurveOrder:A}=dxt({...e,toBytes(w,S,R){let x=S.toAffine(),u=r.toBytes(x.x),_=Vh;return R?_(Uint8Array.from([S.hasEvenY()?2:3]),u):_(Uint8Array.from([4]),u,r.toBytes(x.y))},fromBytes(w){let S=w.length,R=w[0],x=w.subarray(1);if(S===i&&(R===2||R===3)){let u=vs(x);if(!a(u))throw new Error("Point is not on curve");let _=b(u),H=r.sqrt(_),F=(H&Qf)===Qf;return(R&1)===1!==F&&(H=r.neg(H)),{x:u,y:H}}else if(S===s&&R===4){let u=r.fromBytes(x.subarray(0,r.BYTES)),_=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:u,y:_}}else throw new Error(`Point of length ${S} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),T=o(w=>zy(rl(w,e.nByteLength)),"numToNByteStr");function O(w){let S=n>>Qf;return w>S}o(O,"isBiggerThanHalfOrder");function N(w){return O(w)?f(-w):w}o(N,"normalizeS");let P=o((w,S,R)=>vs(w.slice(S,R)),"slcNum");class C{static{o(this,"Signature")}constructor(S,R,x){this.r=S,this.s=R,this.recovery=x,this.assertValidity()}static fromCompact(S){let R=e.nByteLength;return S=So("compactSignature",S,R*2),new C(P(S,0,R),P(S,R,2*R))}static fromDER(S){let{r:R,s:x}=$y.toSig(So("DER",S));return new C(R,x)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new C(this.r,this.s,S)}recoverPublicKey(S){let{r:R,s:x,recovery:u}=this,_=ee(So("msgHash",S));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let H=u===2||u===3?R+e.n:R;if(H>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let F=u&1?"03":"02",L=h.fromHex(F+T(H)),$=l(H),Q=f(-_*$),re=f(x*$),Me=h.BASE.multiplyAndAddUnsafe(L,Q,re);if(!Me)throw new Error("point at infinify");return Me.assertValidity(),Me}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Ky(this.toDERHex())}toDERHex(){return $y.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ky(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let D={isValidPrivateKey(w){try{return g(w),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:o(()=>{let w=$G(e.n);return Q8e(e.randomBytes(w),e.n)},"randomPrivateKey"),precompute(w=8,S=h.BASE){return S._setWindowSize(w),S.multiply(BigInt(3)),S}};function M(w,S=!0){return h.fromPrivateKey(w).toRawBytes(S)}o(M,"getPublicKey");function U(w){let S=w instanceof Uint8Array,R=typeof w=="string",x=(S||R)&&w.length;return S?x===i||x===s:R?x===2*i||x===2*s:w instanceof h}o(U,"isProbPub");function V(w,S,R=!0){if(U(w))throw new Error("first arg must be private key");if(!U(S))throw new Error("second arg must be public key");return h.fromHex(S).multiply(g(w)).toRawBytes(R)}o(V,"getSharedSecret");let j=e.bits2int||function(w){let S=vs(w),R=w.length*8-e.nBitLength;return R>0?S>>BigInt(R):S},ee=e.bits2int_modN||function(w){return f(j(w))},Y=hA(e.nBitLength);function te(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(jh<=w&&w<Y))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rl(w,e.nByteLength)}o(te,"int2octets");function E(w,S,R=c){if(["recovered","canonical"].some(le=>le in R))throw new Error("sign() legacy options not supported");let{hash:x,randomBytes:u}=e,{lowS:_,prehash:H,extraEntropy:F}=R;_==null&&(_=!0),w=So("msgHash",w),H&&(w=So("prehashed msgHash",x(w)));let L=ee(w),$=g(S),Q=[te($),te(L)];if(F!=null){let le=F===!0?u(r.BYTES):F;Q.push(So("extraEntropy",le))}let re=Vh(...Q),Me=L;function fe(le){let xe=j(le);if(!A(xe))return;let he=l(xe),ge=h.BASE.multiply(xe).toAffine(),tr=f(ge.x);if(tr===jh)return;let Ae=f(he*f(Me+tr*$));if(Ae===jh)return;let Oe=(ge.x===tr?0:2)|Number(ge.y&Qf),Bn=Ae;return _&&O(Ae)&&(Bn=N(Ae),Oe^=1),new C(tr,Bn,Oe)}return o(fe,"k2sig"),{seed:re,k2sig:fe}}o(E,"prepSig");let c={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function y(w,S,R=c){let{seed:x,k2sig:u}=E(w,S,R),_=e;return VG(_.hash.outputLen,_.nByteLength,_.hmac)(x,u)}o(y,"sign"),h.BASE._setWindowSize(8);function v(w,S,R,x=d){let u=w;if(S=So("msgHash",S),R=So("publicKey",R),"strict"in x)throw new Error("options.strict was renamed to lowS");let{lowS:_,prehash:H}=x,F,L;try{if(typeof u=="string"||u instanceof Uint8Array)try{F=C.fromDER(u)}catch(ge){if(!(ge instanceof $y.Err))throw ge;F=C.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ge,s:tr}=u;F=new C(ge,tr)}else throw new Error("PARSE");L=h.fromHex(R)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_&&F.hasHighS())return!1;H&&(S=e.hash(S));let{r:$,s:Q}=F,re=ee(S),Me=l(Q),fe=f(re*Me),le=f($*Me),xe=h.BASE.multiplyAndAddUnsafe(L,fe,le)?.toAffine();return xe?f(xe.x)===$:!1}return o(v,"verify"),{CURVE:e,getPublicKey:M,getSharedSecret:V,sign:y,verify:v,ProjectivePoint:h,Signature:C,utils:D}}o(r5e,"weierstrass");p();m();p();m();var _N=class extends Zx{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,V8e(e);let n=dA(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Xx(this),this.iHash.update(e),this}digestInto(e){Xx(this),UG(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:f}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},XG=o((t,e,r)=>new _N(t,e).update(r).digest(),"hmac");XG.create=(t,e)=>new _N(t,e);function pxt(t){return{hash:t,hmac:o((e,...r)=>XG(t,e,K8e(...r)),"hmac"),randomBytes:mN}}o(pxt,"getHash");function n5e(t,e){let r=o(n=>r5e({...t,...pxt(n)}),"create");return Object.freeze({...r(e),create:r})}o(n5e,"createCurve");var AN=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),s5e=BigInt(1),EN=BigInt(2),i5e=o((t,e)=>(t+e/EN)/e,"divNearest");function a5e(t){let e=AN,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),f=BigInt(44),l=BigInt(88),h=t*t*t%e,g=h*h*t%e,b=Kc(g,r,e)*g%e,A=Kc(b,r,e)*g%e,T=Kc(A,EN,e)*h%e,O=Kc(T,i,e)*T%e,N=Kc(O,s,e)*O%e,P=Kc(N,f,e)*N%e,C=Kc(P,l,e)*P%e,D=Kc(C,f,e)*N%e,M=Kc(D,r,e)*g%e,U=Kc(M,a,e)*O%e,V=Kc(U,n,e)*h%e,j=Kc(V,EN,e);if(!JG.eql(JG.sqr(j),t))throw new Error("Cannot find square root");return j}o(a5e,"sqrtMod");var JG=Z8e(AN,void 0,void 0,{sqrt:a5e}),Qx=n5e({a:BigInt(0),b:BigInt(7),Fp:JG,n:wN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=wN,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-s5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),f=i5e(s*t,e),l=i5e(-n*t,e),h=Ao(t-f*r-l*i,e),g=Ao(-f*n-l*s,e),b=h>a,A=g>a;if(b&&(h=e-h),A&&(g=e-g),h>a||g>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:h,k2neg:A,k2:g}},"splitScalar")}},na),RN=BigInt(0),c5e=o(t=>typeof t=="bigint"&&RN<t&&t<AN,"fe"),mxt=o(t=>typeof t=="bigint"&&RN<t&&t<wN,"ge"),o5e={};function SN(t,...e){let r=o5e[t];if(r===void 0){let n=na(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Vh(n,n),o5e[t]=r}return na(Vh(r,...e))}o(SN,"taggedHash");var t$=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),QG=o(t=>rl(t,32),"numTo32b"),ZG=o(t=>Ao(t,AN),"modP"),pA=o(t=>Ao(t,wN),"modN"),r$=Qx.ProjectivePoint,gxt=o((t,e,r)=>r$.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function e$(t){let e=Qx.utils.normPrivateKeyToScalar(t),r=r$.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:pA(-e),bytes:t$(r)}}o(e$,"schnorrGetExtPubKey");function f5e(t){if(!c5e(t))throw new Error("bad x: need 0 < x < p");let e=ZG(t*t),r=ZG(e*t+BigInt(7)),n=a5e(r);n%EN!==RN&&(n=ZG(-n));let i=new r$(t,n,s5e);return i.assertValidity(),i}o(f5e,"lift_x");function u5e(...t){return pA(vs(SN("BIP0340/challenge",...t)))}o(u5e,"challenge");function yxt(t){return e$(t).bytes}o(yxt,"schnorrGetPublicKey");function bxt(t,e,r=mN(32)){let n=So("message",t),{bytes:i,scalar:s}=e$(e),a=So("auxRand",r,32),f=QG(s^vs(SN("BIP0340/aux",a))),l=SN("BIP0340/nonce",f,i,n),h=pA(vs(l));if(h===RN)throw new Error("sign failed: k is zero");let{bytes:g,scalar:b}=e$(h),A=u5e(g,i,n),T=new Uint8Array(64);if(T.set(g,0),T.set(QG(pA(b+A*s)),32),!l5e(T,n,i))throw new Error("sign: Invalid signature produced");return T}o(bxt,"schnorrSign");function l5e(t,e,r){let n=So("signature",t,64),i=So("message",e),s=So("publicKey",r,32);try{let a=f5e(vs(s)),f=vs(n.subarray(0,32));if(!c5e(f))return!1;let l=vs(n.subarray(32,64));if(!mxt(l))return!1;let h=u5e(QG(f),t$(a),i),g=gxt(a,l,pA(-h));return!(!g||!g.hasEvenY()||g.toAffine().x!==f)}catch{return!1}}o(l5e,"schnorrVerify");var Gc={getPublicKey:yxt,sign:bxt,verify:l5e,utils:{randomPrivateKey:Qx.utils.randomPrivateKey,lift_x:f5e,pointToBytes:t$,numberToBytesBE:rl,bytesToNumberBE:vs,taggedHash:SN,mod:Ao}};p();m();var vxt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),h5e=Uint8Array.from({length:16},(t,e)=>e),xxt=h5e.map(t=>(9*t+5)%16),i$=[h5e],o$=[xxt];for(let t=0;t<4;t++)for(let e of[i$,o$])e.push(e[t].map(r=>vxt[r]));var p5e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),_xt=i$.map((t,e)=>t.map(r=>p5e[e][r])),wxt=o$.map((t,e)=>t.map(r=>p5e[e][r])),Ext=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Sxt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),TN=o((t,e)=>t<<e|t>>>32-e,"rotl");function d5e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(d5e,"f");var IN=new Uint32Array(16),n$=class extends Jx{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let T=0;T<16;T++,r+=4)IN[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,f=this.h2|0,l=f,h=this.h3|0,g=h,b=this.h4|0,A=b;for(let T=0;T<5;T++){let O=4-T,N=Ext[T],P=Sxt[T],C=i$[T],D=o$[T],M=_xt[T],U=wxt[T];for(let V=0;V<16;V++){let j=TN(n+d5e(T,s,f,h)+IN[C[V]]+N,M[V])+b|0;n=b,b=h,h=TN(f,10)|0,f=s,s=j}for(let V=0;V<16;V++){let j=TN(i+d5e(O,a,l,g)+IN[D[V]]+P,U[V])+A|0;i=A,A=g,g=TN(l,10)|0,l=a,a=j}}this.set(this.h1+f+g|0,this.h2+h+A|0,this.h3+b+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){IN.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},m5e=pN(()=>new n$);p();m();function e_(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}o(e_,"assertNumber");function NN(...t){let e=o((i,s)=>a=>i(s(a)),"wrap"),r=Array.from(t).reverse().reduce((i,s)=>i?e(i,s.encode):s.encode,void 0),n=t.reduce((i,s)=>i?e(i,s.decode):s.decode,void 0);return{encode:r,decode:n}}o(NN,"chain");function c$(t){return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})},"decode")}}o(c$,"alphabet");function f$(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},"encode"),decode:o(e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)},"decode")}}o(f$,"join");function Axt(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:o(e=>e,"encode"),decode:o(e=>t(e),"decode")}}o(Axt,"normalize");function g5e(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(a=>{if(a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,f=!0;for(let l=n;l<s.length;l++){let h=s[l],g=e*a+h;if(!Number.isSafeInteger(g)||e*a/e!==a||g-h!==e*a)throw new Error("convertRadix: carry overflow");a=g%r;let b=Math.floor(g/r);if(s[l]=b,!Number.isSafeInteger(b)||b*r+a!==g)throw new Error("convertRadix: carry overflow");if(f)b?f=!1:n=l;else continue}if(i.push(a),f)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}o(g5e,"convertRadix");var x5e=o((t,e)=>e?x5e(e,t%e):t,"gcd"),ON=o((t,e)=>t+(e-x5e(t,e)),"radix2carry");function s$(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ON(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${ON(e,r)}`);let i=0,s=0,a=2**r-1,f=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)f.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&f.push(i>>>0),f}o(s$,"convertRadix2");function Rxt(t){return{encode:o(e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return g5e(Array.from(e),2**8,t)},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(g5e(e,t,2**8))},"decode")}}o(Rxt,"radix");function _5e(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ON(8,t)>32||ON(t,8)>32)throw new Error("radix2: carry overflow");return{encode:o(r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return s$(Array.from(r),8,t,!e)},"encode"),decode:o(r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(s$(r,t,8,e))},"decode")}}o(_5e,"radix2");function y5e(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}o(y5e,"unsafeWrapper");function Txt(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let a=0;a<t;a++)if(i[a]!==s[a])throw new Error("Invalid checksum");return n}}}o(Txt,"checksum");var Ixt=o(t=>NN(Rxt(58),c$(t),f$("")),"genBase58"),Oxt=Ixt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var w5e=o(t=>NN(Txt(4,e=>t(t(e))),Oxt),"base58check"),a$=NN(c$("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),f$("")),b5e=[996825010,642813549,513874426,1027748829,705979059];function mA(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<b5e.length;n++)(e>>n&1)===1&&(r^=b5e[n]);return r}o(mA,"bech32Polymod");function v5e(t,e,r=1){let n=t.length,i=1;for(let s=0;s<n;s++){let a=t.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);i=mA(i)^a>>5}i=mA(i);for(let s=0;s<n;s++)i=mA(i)^t.charCodeAt(s)&31;for(let s of e)i=mA(i)^s;for(let s=0;s<6;s++)i=mA(i);return i^=r,a$.encode(s$([i%2**30],30,5,!1))}o(v5e,"bechChecksum");function E5e(t){let e=t==="bech32"?1:734539939,r=_5e(5),n=r.decode,i=r.encode,s=y5e(n);function a(g,b,A=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(b)||b.length&&typeof b[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof b}`);let T=g.length+7+b.length;if(A!==!1&&T>A)throw new TypeError(`Length ${T} exceeds limit ${A}`);let O=g.toLowerCase(),N=v5e(O,b,e);return`${O}1${a$.encode(b)}${N}`}o(a,"encode");function f(g,b=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||b!==!1&&g.length>b)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${b})`);let A=g.toLowerCase();if(g!==A&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=A;let T=g.lastIndexOf("1");if(T===0||T===-1)throw new Error('Letter "1" must be present between prefix and data only');let O=g.slice(0,T),N=g.slice(T+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");let P=a$.decode(N).slice(0,-6),C=v5e(O,P,e);if(!N.endsWith(C))throw new Error(`Invalid checksum in ${g}: expected "${C}"`);return{prefix:O,words:P}}o(f,"decode");let l=y5e(f);function h(g){let{prefix:b,words:A}=f(g,!1);return{prefix:b,words:A,bytes:n(A)}}return o(h,"decodeToBytes"),{encode:a,decode:f,decodeToBytes:h,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:s,toWords:i}}o(E5e,"genBech32");var MN=E5e("bech32"),u$=E5e("bech32m"),l$={encode:o(t=>new TextDecoder().decode(t),"encode"),decode:o(t=>new TextEncoder().encode(t),"decode")},Ii=NN(_5e(4),c$("0123456789abcdef"),f$(""),Axt(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));p();m();var Oi=new Uint8Array,DN=new Uint8Array([0]);function ai(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(ai,"equalBytes");function CN(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(CN,"concatBytes");var $c=o(t=>t instanceof Uint8Array,"isBytes"),PN=class{static{o(this,"Reader")}constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(ym(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=LN(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!$c(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(ai(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Ii.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},kN=class{static{o(this,"Writer")}constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=CN(...this.buffers);for(let r of this.ptrs){let n=e.length;e=CN(e,r.buffer);let i=r.ptr.encode(n);for(let s=0;s<i.length;s++)e[r.pos+s]=i[s]}return e}length(e,r){if(e===null)return;if(ym(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=LN(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},BN=o(t=>Uint8Array.from(t).reverse(),"swap");function S5e(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}o(S5e,"checkBounds");function To(t){return{...t,encode:o(e=>{let r=new kN;return t.encodeStream(r,e),r.buffer},"encode"),decode:o(e=>{let r=new PN(e),n=t.decodeStream(r);return r.finish(),n},"decode")}}o(To,"wrap");function LN(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}o(LN,"getPath");function ym(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}o(ym,"isCoder");function Mxt(){return{encode:o(t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},"encode"),decode:o(t=>Object.entries(t),"decode")}}o(Mxt,"dict");var Cxt={encode:o(t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},"encode"),decode:o(t=>BigInt(t),"decode")};function Pxt(t){return{encode:o(e=>t[e],"encode"),decode:o(e=>t[e],"decode")}}o(Pxt,"tsEnum");function kxt(t){let e=10n**BigInt(t);return{encode:o(r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let s=n.length-1;for(;s>=i&&n[s]==="0";s--);let[a,f]=[n.slice(0,i),n.slice(i,s+1)];return a||(a="0"),r<0n&&(a="-"+a),f?`${a}.${f}`:a},"encode"),decode:o(r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[s,a]=[r.slice(0,i),r.slice(i+1)],f=BigInt(s)*e,l=Math.min(a.length,t),h=BigInt(a.slice(0,l))*10n**BigInt(t-l),g=f+h;return n?-g:g},"decode")}}o(kxt,"decimal");function Bxt(t){return{encode:o(e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},"encode"),decode:o(e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)},"decode")}}o(Bxt,"match");var t_={dict:Mxt,number:Cxt,tsEnum:Pxt,decimal:kxt,match:Bxt};var Wc=o((t,e=!1,r=!1)=>To({size:t,encodeStream:o((n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let s=BigInt(i),a=BigInt(t);S5e(n,s,8n*a,!!r);let f=2n**(8n*a-1n);r&&s<0&&(s=s|f);let l=[];for(let g=0;g<t;g++)l.push(Number(s&255n)),s>>=8n;let h=new Uint8Array(l).reverse();n.bytes(e?h.reverse():h)},"encodeStream"),decodeStream:o(n=>{let i=BigInt(t),s=n.bytes(t);e&&(s=BN(s));let a=BN(s),f=2n**(8n*i-1n),l=0n;for(let h=0;h<a.length;h++)l|=BigInt(a[h])<<8n*BigInt(h);return r&&l&f&&(l=(l^f)-f),S5e(n,l,8n*i,!!r),l},"decodeStream")}),"bigint"),jen=Wc(32,!0),A5e=Wc(32,!1),zen=Wc(32,!0,!0),Ken=Wc(32,!1,!0),Gen=Wc(16,!0),$en=Wc(16,!1),Wen=Wc(16,!0,!0),Yen=Wc(16,!1,!0),gA=Wc(8,!0),Xen=Wc(8,!1),R5e=Wc(8,!0,!0),Zen=Wc(8,!1,!0),xd=o((t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return bA(Wc(t,e,r),t_.number)},"int"),Vn=xd(4,!0),T5e=xd(4,!1),r_=xd(4,!0,!0),Jen=xd(4,!1,!0),d$=xd(2,!0),Qen=xd(2,!1),etn=xd(2,!0,!0),ttn=xd(2,!1,!0),zh=xd(1,!1),rtn=xd(1,!1,!0),ntn=To({size:1,encodeStream:o((t,e)=>t.byte(e?1:0),"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1},"decodeStream")}),mi=o((t,e=!1)=>To({size:typeof t=="number"?t:void 0,encodeStream:o((r,n)=>{if(!$c(n))throw r.err(`bytes: invalid value ${n}`);$c(t)||r.length(t,n.length),r.bytes(e?BN(n):n),$c(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n;if($c(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?BN(n):n},"decodeStream")}),"bytes"),yA=o((t,e=!1)=>{let r=mi(t,e);return To({size:r.size,encodeStream:o((n,i)=>r.encodeStream(n,l$.decode(i)),"encodeStream"),decodeStream:o(n=>l$.encode(r.decodeStream(n)),"decodeStream")})},"string"),itn=yA(DN),I5e=o((t,e=!1,r=!1)=>{let n=mi(t,e);return To({size:n.size,encodeStream:o((i,s)=>{if(r&&!s.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let a=Ii.decode(r?s.slice(2):s);return n.encodeStream(i,a)},"encodeStream"),decodeStream:o(i=>(r?"0x":"")+Ii.encode(n.decodeStream(i)),"decodeStream")})},"hex");function bA(t,e){if(!ym(t))throw new Error(`apply: invalid inner value ${t}`);return To({size:t.size,encodeStream:o((r,n)=>{let i;try{i=e.decode(n)}catch(s){throw r.err(""+s)}return t.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}},"decodeStream")})}o(bA,"apply");function eu(t,e){if(!ym(t))throw new Error(`validate: invalid inner value ${t}`);return To({size:t.size,encodeStream:o((r,n)=>t.encodeStream(r,e(n)),"encodeStream"),decodeStream:o(r=>e(t.decodeStream(r)),"decodeStream")})}o(eu,"validate");var O5e=o((t,e=!1)=>To({size:t.length,encodeStream:o((r,n)=>{!!n!==e&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes>=t.length;return n&&(n=ai(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e},"decodeStream")}),"flag");function N5e(t,e,r){if(!ym(e))throw new Error(`flagged: invalid inner value ${e}`);return To({encodeStream:o((n,i)=>{typeof t=="string"?LN(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},"encodeStream"),decodeStream:o(n=>{let i=!1;if(typeof t=="string"?i=LN(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)},"decodeStream")})}o(N5e,"flagged");function vA(t,e,r=!0){if(!ym(t))throw new Error(`flagged: invalid inner value ${t}`);return To({size:t.size,encodeStream:o((n,i)=>t.encodeStream(n,e),"encodeStream"),decodeStream:o(n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||$c(e)&&!ai(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)},"decodeStream")})}o(vA,"magic");function M5e(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}o(M5e,"sizeof");function ia(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return To({size:M5e(Object.values(t)),encodeStream:o((e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(ia,"struct");function C5e(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return To({size:M5e(t),encodeStream:o((e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(C5e,"tuple");function P5e(t,e){if(!ym(e))throw new Error(`prefix: invalid inner value ${e}`);if($c(t))throw new Error("prefix: len cannot be Uint8Array");let r=mi(t);return To({size:typeof t=="number"?t:void 0,encodeStream:o((n,i)=>{let s=new kN(n.path,n.fieldPath);e.encodeStream(s,i),r.encodeStream(n,s.buffer)},"encodeStream"),decodeStream:o(n=>{let i=r.decodeStream(n);return e.decodeStream(new PN(i,n.path,n.fieldPath))},"decodeStream")})}o(P5e,"prefix");function Ta(t,e){if(!ym(e))throw new Error(`array: invalid inner value ${e}`);return To({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:o((r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);$c(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let s=n[i],a=r.pos;if(e.encodeStream(r,s),$c(t)){if(t.length>r.pos-a)continue;let f=r.buffer.subarray(a,r.pos);if(ai(f.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${s} data=${f}`)}r.fieldPathPop()}r.path.pop(),$c(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if($c(t)){let i=0;for(r.path.push(n);;){if(ai(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let s=0;s<i;s++)r.fieldPathPush(""+s),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n},"decodeStream")})}o(Ta,"array");var otn=vA(mi(0),Oi);var{ProjectivePoint:GN,sign:k5e,getPublicKey:Dxt}=Qx,HN=Qx.CURVE.n,_A=o((t,e)=>t===void 0?e:t,"def"),yi=$c,$N=o(t=>m5e(na(t)),"hash160"),bm=o((...t)=>na(na(vm(...t))),"sha256x2"),vm=CN,W5e=w5e(na);function VN(t){if(Array.isArray(t))return t.map(e=>VN(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,VN(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}o(VN,"cloneDeep");var sa;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(sa||(sa={}));function s_(t,e){let r=t.length;if(e===sa.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return GN.fromHex(t),t}else if(e===sa.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Gc.utils.lift_x(Gc.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}o(s_,"validatePubkey");function Yy(t,e){try{return s_(t,e),!0}catch{return!1}}o(Yy,"isValidPubkey");var B5e=o(t=>t.r<HN/2n,"hasLowR");function Uxt(t,e,r=!1){let n=k5e(t,e);if(r&&!B5e(n)){let i=new Uint8Array(32);for(let s=0;s<Number.MAX_SAFE_INTEGER&&(i.set(Vn.encode(s)),n=k5e(t,e,{extraEntropy:i}),!B5e(n));s++);}return n.toDERRawBytes()}o(Uxt,"signECDSA");function Y5e(t,e){let r=Gc.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=HN)throw new Error("tweak higher than curve order");return i}o(Y5e,"tapTweak");function Fxt(t,e=new Uint8Array){let r=Gc.utils,n=r.bytesToNumberBE(t),i=GN.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,HN),a=r.pointToBytes(i),f=Y5e(a,e);return r.numberToBytesBE(r.mod(s+f,HN),32)}o(Fxt,"taprootTweakPrivKey");function X5e(t,e){let r=Gc.utils,n=Y5e(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(GN.fromPrivateKey(n)),a=s.hasEvenY()?0:1;return[r.pointToBytes(s),a]}o(X5e,"taprootTweakPubkey");var y$=eu(mi(null),t=>s_(t,sa.ecdsa)),jN=eu(mi(32),t=>s_(t,sa.schnorr)),L5e=eu(mi(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var a_={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var qxt=8,Hxt=2,Wy=0,Z5e=4294967295,UN=new Uint8Array(32),htn=t_.decimal(qxt);function b$(t,e){if(!yi(t)||!yi(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}o(b$,"_cmpBytes");var Io;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(Io||(Io={}));var oa=To({encodeStream:o((t,e)=>{for(let r of e){if(typeof r=="string"){if(Io[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(Io[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(Io.OP_1-1+r);continue}}if(typeof r=="number"&&(r=J5e().encode(BigInt(r))),!yi(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<Io.PUSHDATA1?t.byte(n):n<=255?(t.byte(Io.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(Io.PUSHDATA2),t.bytes(d$.encode(n))):(t.byte(Io.PUSHDATA4),t.bytes(Vn.encode(n))),t.bytes(r)}},"encodeStream"),decodeStream:o(t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(Io.OP_0<r&&r<=Io.PUSHDATA4){let n;if(r<Io.PUSHDATA1)n=r;else if(r===Io.PUSHDATA1)n=zh.decodeStream(t);else if(r===Io.PUSHDATA2)n=d$.decodeStream(t);else if(r===Io.PUSHDATA4)n=Vn.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(Io.OP_1<=r&&r<=Io.OP_16)e.push(r-(Io.OP_1-1));else{let n=Io[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e},"decodeStream")});function J5e(t=6,e=!1){return To({encodeStream:o((r,n)=>{if(n===0n)return;let i=n<0,s=BigInt(n),a=[];for(let f=i?-s:s;f;f>>=8n)a.push(Number(f&0xffn));a[a.length-1]>=128?a.push(i?128:0):i&&(a[a.length-1]|=128),r.bytes(new Uint8Array(a))},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,s=0n;for(let a=0;a<n;++a)i=r.byte(),s|=BigInt(i)<<8n*BigInt(a);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s},"decodeStream")})}o(J5e,"ScriptNum");function Vxt(t,e=4,r=!0){if(typeof t=="number")return t;if(yi(t))try{let n=J5e(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}o(Vxt,"OpToNum");var D5e={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},WN=To({encodeStream:o((t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,s]of Object.values(D5e))if(!(i>e||e>s)){t.byte(r);for(let a=0;a<n;a++)t.byte(Number(e>>8n*BigInt(a)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=D5e[e],s=0n;for(let a=0;a<n;a++)s|=BigInt(t.byte())<<8n*BigInt(a);if(s<i)throw t.err(`Wrong CompactSize(${8*n})`);return s},"decodeStream")}),il=bA(WN,t_.number),U5e=o(t=>Ta(WN,t),"BTCArray"),nl=mi(WN),jxt=ia({txid:mi(32,!0),index:Vn,finalScriptSig:nl,sequence:Vn}),i_=ia({amount:gA,script:nl}),zxt={amount:0xffffffffffffffffn,script:Oi},T$=Ta(il,nl),Kxt=ia({version:r_,segwitFlag:O5e(new Uint8Array([0,1])),inputs:U5e(jxt),outputs:U5e(i_),witnesses:N5e("segwitFlag",Ta("inputs/length",T$)),lockTime:Vn});function Gxt(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}o(Gxt,"validateRawTx");var _d=eu(Kxt,Gxt);function v$(t){let[e,r,n,i,s,a]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:a}}o(v$,"PSBTKeyInfo");var YN=ia({fingerprint:T5e,path:Ta(null,Vn)}),$xt=ia({version:zh,internalKey:mi(32),merklePath:Ta(null,mi(32))}),o_=eu($xt,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),Q5e=ia({hashes:Ta(il,mi(32)),der:YN}),Wxt=mi(78),Yxt=ia({pubKey:jN,leafHash:mi(32)}),Xxt=Ta(null,ia({depth:zh,version:zh,script:nl})),Oo=mi(null),F5e=mi(20),xA=mi(32),I$={unsignedTx:[0,!1,_d,[0],[0],!1],xpub:[1,Wxt,YN,[],[0,2],!1],txVersion:[2,!1,Vn,[2],[2],!1],fallbackLocktime:[3,!1,Vn,[],[2],!1],inputCount:[4,!1,il,[2],[2],!1],outputCount:[5,!1,il,[2],[2],!1],txModifiable:[6,!1,zh,[],[2],!1],version:[251,!1,Vn,[],[0,2],!1],proprietary:[252,Oo,Oo,[],[0,2],!1]},zN={nonWitnessUtxo:[0,!1,_d,[],[0,2],!1],witnessUtxo:[1,!1,i_,[],[0,2],!1],partialSig:[2,y$,Oo,[],[0,2],!1],sighashType:[3,!1,Vn,[],[0,2],!1],redeemScript:[4,!1,Oo,[],[0,2],!1],witnessScript:[5,!1,Oo,[],[0,2],!1],bip32Derivation:[6,y$,YN,[],[0,2],!1],finalScriptSig:[7,!1,Oo,[],[0,2],!1],finalScriptWitness:[8,!1,T$,[],[0,2],!1],porCommitment:[9,!1,Oo,[],[0,2],!1],ripemd160:[10,F5e,Oo,[],[0,2],!1],sha256:[11,xA,Oo,[],[0,2],!1],hash160:[12,F5e,Oo,[],[0,2],!1],hash256:[13,xA,Oo,[],[0,2],!1],txid:[14,!1,xA,[2],[2],!0],index:[15,!1,Vn,[2],[2],!0],sequence:[16,!1,Vn,[],[2],!0],requiredTimeLocktime:[17,!1,Vn,[],[2],!1],requiredHeightLocktime:[18,!1,Vn,[],[2],!1],tapKeySig:[19,!1,L5e,[],[0,2],!1],tapScriptSig:[20,Yxt,L5e,[],[0,2],!1],tapLeafScript:[21,o_,Oo,[],[0,2],!1],tapBip32Derivation:[22,xA,Q5e,[],[0,2],!1],tapInternalKey:[23,!1,jN,[],[0,2],!1],tapMerkleRoot:[24,!1,xA,[],[0,2],!1],proprietary:[252,Oo,Oo,[],[0,2],!1]},Zxt=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],Jxt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],KN={redeemScript:[0,!1,Oo,[],[0,2],!1],witnessScript:[1,!1,Oo,[],[0,2],!1],bip32Derivation:[2,y$,YN,[],[0,2],!1],amount:[3,!1,R5e,[2],[2],!0],script:[4,!1,Oo,[2],[2],!0],tapInternalKey:[5,!1,jN,[],[0,2],!1],tapTree:[6,!1,Xxt,[],[0,2],!1],tapBip32Derivation:[7,jN,Q5e,[],[0,2],!1],proprietary:[252,Oo,Oo,[],[0,2],!1]},Qxt=[],q5e=Ta(DN,ia({key:P5e(il,ia({type:il,key:mi(null)})),value:mi(il)})),ptn=ia({type:il,key:mi(null)});function O$(t){let e={};for(let r in t){let[n,i,s]=t[r];e[n]=[r,i,s]}return To({encodeStream:o((r,n)=>{let i=[];for(let s in t){let a=n[s];if(a===void 0)continue;let[f,l,h]=t[s];if(!l)i.push({key:{type:f,key:Oi},value:h.encode(a)});else{let g=a.map(([b,A])=>[l.encode(b),h.encode(A)]);g.sort((b,A)=>b$(b[0],A[0]));for(let[b,A]of g)i.push({key:{key:b,type:f},value:A})}}if(n.unknown){n.unknown.sort((s,a)=>b$(s[0].key,a[0].key));for(let[s,a]of n.unknown)i.push({key:s,value:a})}q5e.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=q5e.decodeStream(r),i={},s={};for(let a of n){let f="unknown",l=a.key.key,h=a.value;if(e[a.key.type]){let[g,b,A]=e[a.key.type];if(f=g,!b&&l.length)throw new Error(`PSBT: Non-empty key for ${f} (key=${Ii.encode(l)} value=${Ii.encode(h)}`);if(l=b?b.decode(l):void 0,h=A.decode(h),!b){if(i[f])throw new Error(`PSBT: Same keys: ${f} (key=${l} value=${h})`);i[f]=h,s[f]=!0;continue}}else l={type:a.key.type,key:a.key.key};if(s[f])throw new Error(`PSBT: Key type with empty key and no key=${f} val=${h}`);i[f]||(i[f]=[]),i[f].push([l,h])}return i},"decodeStream")})}o(O$,"PSBTKeyMap");function H5e(t,e){if(!ai(t.hash,na(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=xs.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}o(H5e,"checkWSH");function x$(t,e,r){if(t){let n=xs.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!ai(n.hash,$N(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=xs.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&H5e(n,r)}if(e){let n=xs.decode(e);n.type==="wsh"&&r&&H5e(n,r)}}o(x$,"checkScript");var N$=eu(O$(zN),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)s_(e,sa.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)s_(e,sa.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!ai(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=R$.fromRaw(_d.encode(t.nonWitnessUtxo)),n=Ii.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),M$=eu(O$(KN),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)s_(e,sa.ecdsa);return t}),eRe=eu(O$(I$),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),e_t=ia({magic:vA(yA(new Uint8Array([255])),"psbt"),global:eRe,inputs:Ta("global/unsignedTx/inputs/length",N$),outputs:Ta(null,M$)}),t_t=ia({magic:vA(yA(new Uint8Array([255])),"psbt"),global:eRe,inputs:Ta("global/inputCount",N$),outputs:Ta("global/outputCount",M$)}),mtn=ia({magic:vA(yA(new Uint8Array([255])),"psbt"),items:Ta(null,bA(Ta(DN,C5e([I5e(il),mi(WN)])),t_.dict()))});function h$(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=v$(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=v$(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}o(h$,"validatePSBTFields");function V5e(t,e,r){let n={};for(let i in r){let s=i;if(s!=="unknown"){if(!e[s])continue;let{allowInc:a,silentIgnore:f}=v$(e[s]);if(!a.includes(t)){if(f)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${s} but versions allows inclusion=${a}`)}}n[s]=r[s]}return n}o(V5e,"cleanPSBTFields");function tRe(t){let e=t&&t.global&&t.global.version||0;h$(e,I$,t.global);for(let a of t.inputs)h$(e,zN,a);for(let a of t.outputs)h$(e,KN,a);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let s=t.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return t}o(tRe,"validatePSBT");function p$(t,e,r,n){let i={...r,...e};for(let s in t){let a=s,[f,l,h]=t[a],g=n&&!n.includes(s);if(e[s]===void 0&&s in e){if(g)throw new Error(`Cannot remove signed field=${s}`);delete i[s]}else if(l){let b=r&&r[s]?r[s]:[],A=e[a];if(A){if(!Array.isArray(A))throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);A=A.map(N=>{if(N.length!==2)throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);return[typeof N[0]=="string"?l.decode(Ii.decode(N[0])):N[0],typeof N[1]=="string"?h.decode(Ii.decode(N[1])):N[1]]});let T={},O=o((N,P,C)=>{if(T[N]===void 0){T[N]=[P,C];return}let D=Ii.encode(h.encode(T[N][1])),M=Ii.encode(h.encode(C));if(D!==M)throw new Error(`keyMap(${a}): same key=${N} oldVal=${D} newVal=${M}`)},"add");for(let[N,P]of b){let C=Ii.encode(l.encode(N));O(C,N,P)}for(let[N,P]of A){let C=Ii.encode(l.encode(N));if(P===void 0){if(g)throw new Error(`Cannot remove signed field=${a}/${N}`);delete T[C]}else O(C,N,P)}i[a]=Object.values(T)}}else if(typeof i[s]=="string")i[s]=h.decode(Ii.decode(i[s]));else if(g&&s in e&&r&&r[s]!==void 0&&!ai(h.encode(e[s]),h.encode(r[s])))throw new Error(`Cannot change signed field=${s}`)}for(let s in i)t[s]||delete i[s];return i}o(p$,"mergeKeyMap");var j5e=eu(e_t,tRe),z5e=eu(t_t,tRe),m$=ia({txid:mi(32,!0),index:Vn}),r_t={encode(t){if(!(t.length!==2||!yi(t[0])||!Yy(t[0],sa.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:o(t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0,"decode")};var n_t={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!yi(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:o(t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0,"decode")};var i_t={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!yi(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:o(t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0,"decode")},gtn=o((t,e=a_)=>{let r=t.script;if(!yi(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=$N(r),i=xs.encode({type:"sh",hash:n});x$(i,r,t.witnessScript);let s={type:"sh",redeemScript:r,script:xs.encode({type:"sh",hash:n}),address:XN(e).encode({type:"sh",hash:n})};return t.witnessScript&&(s.witnessScript=t.witnessScript),s},"p2sh"),o_t={encode(t){if(!(t.length!==2||t[0]!==0||!yi(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:o(t=>t.type==="wsh"?[0,t.hash]:void 0,"decode")};var s_t={encode(t){if(!(t.length!==2||t[0]!==0||!yi(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:o(t=>t.type==="wpkh"?[0,t.hash]:void 0,"decode")},ytn=o((t,e=a_)=>{if(!Yy(t,sa.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=$N(t);return{type:"wpkh",script:xs.encode({type:"wpkh",hash:r}),address:XN(e).encode({type:"wpkh",hash:r})}},"p2wpkh"),a_t={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let s of i)if(!yi(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:o(t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0,"decode")};var c_t={encode(t){if(!(t.length!==2||t[0]!==1||!yi(t[1])))return{type:"tr",pubkey:t[1]}},decode:o(t=>t.type==="tr"?[1,t.pubkey]:void 0,"decode")};function f_t(t){let e=Array.from(t);for(;e.length>=2;){e.sort((a,f)=>(f.weight||1)-(a.weight||1));let n=e.pop(),i=e.pop(),s=(i?.weight||1)+(n?.weight||1);e.push({weight:s,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}o(f_t,"taprootListToTree");function u_t(t,e,r=!1){let n=xs.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let s of i.pubkeys){if(ai(s,rRe))throw new Error("Unspendable taproot key in leaf script");if(ai(s,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}o(u_t,"checkTaprootScript");function _$(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:f,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!ai(t.tapMerkleRoot,Oi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let h=typeof l=="string"?Ii.decode(l):l;if(!yi(h))throw new Error(`checkScript: wrong script type=${h}`);return u_t(h,e,r),{type:"leaf",version:f,script:h,hash:qN(h,f)}}if(t.length!==2&&(t=f_t(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=_$(t[0],e,r),i=_$(t[1],e,r),[s,a]=[n.hash,i.hash];return b$(a,s)===-1&&([s,a]=[a,s]),{type:"branch",left:n,right:i,hash:Gc.utils.taggedHash("TapBranch",s,a)}}o(_$,"taprootHashTree");function w$(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:w$(t.left,[t.right.hash,...e]),right:w$(t.right,[t.left.hash,...e])}}o(w$,"taprootAddPath");function E$(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...E$(t.left),...E$(t.right)]}o(E$,"taprootWalkTree");var rRe=na(GN.BASE.toRawBytes(!1));function btn(t,e,r=a_,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?Ii.decode(t):t||rRe;if(!Yy(i,sa.schnorr))throw new Error("p2tr: non-schnorr pubkey");let s=e?w$(_$(e,i,n)):void 0,a=s?s.hash:void 0,[f,l]=X5e(i,a||Oi),h;s&&(h=E$(s).map(A=>({...A,controlBlock:o_.encode({version:(A.version||A$)+l,internalKey:i,merklePath:A.path})})));let g;h&&(g=h.map(A=>[o_.decode(A.controlBlock),vm(A.script,new Uint8Array([A.version||A$]))]));let b={type:"tr",script:xs.encode({type:"tr",pubkey:f}),address:XN(r).encode({type:"tr",pubkey:f}),tweakedPubkey:f,tapInternalKey:i};return h&&(b.leaves=h),g&&(b.tapLeafScript=g),a&&(b.tapMerkleRoot=a),b}o(btn,"p2tr");var l_t={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!yi(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:o(t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e},"decode")};var d_t={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=Vxt(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let s=t[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!yi(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:o(t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e},"decode")};var h_t={encode(t){return{type:"unknown",script:oa.encode(t)}},decode:o(t=>t.type==="unknown"?oa.decode(t.script):void 0,"decode")},p_t=[r_t,n_t,i_t,o_t,s_t,a_t,c_t,l_t,d_t,h_t],m_t=bA(oa,t_.match(p_t)),xs=eu(m_t,t=>{if(t.type==="pk"&&!Yy(t.pubkey,sa.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!yi(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!yi(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!yi(t.pubkey)||!Yy(t.pubkey,sa.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!Yy(r,sa.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!Yy(e,sa.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function nRe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}o(nRe,"validateWitness");function g$(t,e,r=a_){nRe(t,e);let n=t===0?MN:u$;return n.encode(r.bech32,[t].concat(n.toWords(e)))}o(g$,"programToWitness");function K5e(t,e){return W5e.encode(vm(Uint8Array.from(e),t))}o(K5e,"formatKey");function XN(t=a_){return{encode(e){let{type:r}=e;if(r==="wpkh")return g$(0,e.hash,t);if(r==="wsh")return g$(0,e.hash,t);if(r==="tr")return g$(1,e.pubkey,t);if(r==="pkh")return K5e(e.hash,[t.pubKeyHash]);if(r==="sh")return K5e(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=MN.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=u$.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...s]=n.words,a=MN.fromWords(s);if(nRe(i,a),i===0&&a.length===32)return{type:"wsh",hash:a};if(i===0&&a.length===20)return{type:"wpkh",hash:a};if(i===1&&a.length===32)return{type:"tr",pubkey:a};throw new Error("Unknown witness program")}let r=W5e.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}o(XN,"Address");var gi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(gi||(gi={}));var S$;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(S$||(S$={}));function g_t(t){if(typeof t!="number"||typeof S$[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}o(g_t,"validateSigHash");function G5e(t){let e=t&31;return{isAny:!!(t&gi.ANYONECANPAY),isNone:e===gi.NONE,isSingle:e===gi.SINGLE}}o(G5e,"unpackSighash");function FN(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:_A(t.sequence,Z5e),finalScriptSig:_A(t.finalScriptSig,Oi)}}o(FN,"inputBeforeSign");function $5e(t){for(let e in t){let r=e;Zxt.includes(r)||delete t[r]}}o($5e,"cleanFinalInput");function n_(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}o(n_,"outputBeforeSign");var A$=192,qN=o((t,e=A$)=>Gc.utils.taggedHash("TapLeaf",new Uint8Array([e]),nl.encode(t)),"tapLeafHash");function y_t(t,e,r,n=Oi){return ai(r,e)&&(t=Fxt(t,n),e=Gc.getPublicKey(t)),{privKey:t,pubKey:e}}o(y_t,"getTaprootKeys");var b_t={}.toString;function v_t(t){if(t!==void 0&&b_t.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:_A(t.version,Hxt),lockTime:_A(t.lockTime,0),PSBTVersion:_A(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(Vn.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}o(v_t,"validateOpts");var R$=class t{static{o(this,"Transaction")}constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=v_t(e);r.lockTime!==Wy&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=_d.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(e,r={}){let n;try{n=j5e.decode(e)}catch(b){try{n=z5e.decode(e)}catch{throw b}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let s=n.global.unsignedTx,a=i===0?s?.version:n.global.txVersion,f=i===0?s?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:a,lockTime:f,PSBTVersion:i}),h=i===0?s?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,h).map((b,A)=>({finalScriptSig:Oi,...n.global.unsignedTx?.inputs[A],...b}));let g=i===0?s?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,g).map((b,A)=>({...b,...n.global.unsignedTx?.outputs[A]})),l.global={...n.global,txVersion:a},f!==Wy&&(l.global.fallbackLocktime=f),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(s=>V5e(e,zN,s));for(let s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;let n=this.outputs.map(s=>V5e(e,KN,s)),i={...this.global};return e===0?(i.unsignedTx=_d.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===Wy&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?j5e:z5e).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=Wy,r=0,n=Wy,i=0;for(let s of this.inputs)s.requiredHeightLocktime&&(e=Math.max(e,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?e:n!==Wy?n:this.global.fallbackLocktime||Wy}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===gi.DEFAULT?gi.ALL:r&3;return{sigInputs:r&gi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;let{sigInputs:f,sigOutputs:l}=this.inputSighash(s);if(f===gi.ANYONECANPAY?n.push(s):e=!1,l===gi.ALL)r=!1;else if(l===gi.SINGLE)i.push(s);else if(l!==gi.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(n_);this.hasWitnesses&&(e+=2),e+=4*il.encode(this.inputs.length).length,e+=4*il.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*nl.encode(n.finalScriptSig||Oi).length;for(let n of r)e+=32+4*nl.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=T$.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return _d.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(FN).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Oi})),outputs:this.outputs.map(n_),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return Ii.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Ii.encode(bm(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Ii.encode(bm(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),VN(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:s}=e;typeof i=="string"&&(i=Ii.decode(i)),yi(i)&&(i=_d.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof s=="string"&&(s=Ii.decode(s)),s===void 0&&(s=r?.txid);let a={...r,...e,nonWitnessUtxo:i,txid:s};a.nonWitnessUtxo===void 0&&delete a.nonWitnessUtxo,a.sequence===void 0&&(a.sequence=Z5e),a.tapMerkleRoot===null&&delete a.tapMerkleRoot,a=p$(zN,a,r,n),N$.encode(a);let f;return a.nonWitnessUtxo&&a.index!==void 0?f=a.nonWitnessUtxo.outputs[a.index]:a.witnessUtxo&&(f=a.witnessUtxo),f&&!this.opts.disableScriptCheck&&x$(f&&f.script,a.redeemScript,a.witnessScript),a}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addInput||s.inputs.includes(e))&&(i=Jxt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),VN(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:s}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof s=="string"&&(s=Ii.decode(s)),s===void 0&&(s=r?.script);let a={...r,...e,amount:i,script:s};if(a.amount===void 0&&delete a.amount,a=p$(KN,a,r,n),M$.encode(a),a.script&&!this.opts.allowUnknownOutputs&&xs.decode(a.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||x$(a.script,a.redeemScript,a.witnessScript),a}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addOutput||s.outputs.includes(e))&&(i=Qxt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=a_){return this.addOutput({script:xs.encode(XN(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(n_);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:s,isSingle:a}=G5e(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(a&&e>=this.outputs.length||e>=this.inputs.length)return A5e.encode(1n);r=oa.encode(oa.decode(r).filter(g=>g!=="CODESEPARATOR"));let f=this.inputs.map(FN).map((g,b)=>({...g,finalScriptSig:b===e?r:Oi}));i?f=[f[e]]:(s||a)&&(f=f.map((g,b)=>({...g,sequence:b===e?g.sequence:0})));let l=this.outputs.map(n_);s?l=[]:a&&(l=l.slice(0,e).fill(zxt).concat([l[e]]));let h=_d.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:f,outputs:l});return bm(h,r_.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:s,isNone:a,isSingle:f}=G5e(n),l=UN,h=UN,g=UN,b=this.inputs.map(FN),A=this.outputs.map(n_);s||(l=bm(...b.map(m$.encode))),!s&&!f&&!a&&(h=bm(...b.map(O=>Vn.encode(O.sequence)))),!f&&!a?g=bm(...A.map(i_.encode)):f&&e<A.length&&(g=bm(i_.encode(A[e])));let T=b[e];return bm(r_.encode(this.version),l,h,mi(32,!0).encode(T.txid),Vn.encode(T.index),nl.encode(r),gA.encode(i),Vn.encode(T.sequence),g,Vn.encode(this.lockTime),Vn.encode(n))}preimageWitnessV1(e,r,n,i,s=-1,a,f=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let h=[zh.encode(0),zh.encode(n),r_.encode(this.version),Vn.encode(this.lockTime)],g=n===gi.DEFAULT?gi.ALL:n&3,b=n&gi.ANYONECANPAY,A=this.inputs.map(FN),T=this.outputs.map(n_);b!==gi.ANYONECANPAY&&h.push(...[A.map(m$.encode),i.map(gA.encode),r.map(nl.encode),A.map(N=>Vn.encode(N.sequence))].map(N=>na(vm(...N)))),g===gi.ALL&&h.push(na(vm(...T.map(i_.encode))));let O=(l?1:0)|(a?2:0);if(h.push(new Uint8Array([O])),b===gi.ANYONECANPAY){let N=A[e];h.push(m$.encode(N),gA.encode(i[e]),nl.encode(r[e]),Vn.encode(N.sequence))}else h.push(Vn.encode(e));return O&1&&h.push(na(nl.encode(l||Oi))),g===gi.SINGLE&&h.push(e<T.length?na(i_.encode(T[e])):UN),a&&h.push(qN(a,f),zh.encode(0),r_.encode(s)),Gc.utils.taggedHash("TapSighash",...h)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=gi.ALL,i=this.prevOut(e),s=xs.decode(i.script),a=s.type,f=s,l=[s];if(s.type==="tr")return n=gi.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let A=xs.decode(e.redeemScript);(A.type==="wpkh"||A.type==="wsh")&&(r="segwit"),l.push(A),f=A,a+=`-${A.type}`}if(f.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let A=xs.decode(e.witnessScript);A.type==="wsh"&&(r="segwit"),l.push(A),f=A,a+=`-${A.type}`}let h=l[l.length-1];if(h.type==="sh"||h.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let g=xs.encode(h),b={type:a,txType:r,last:h,lastScript:g,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return b}}signIdx(e,r,n,i){this.checkInputIdx(r);let s=this.inputs[r],a=this.inputType(s);if(!yi(e)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");let g=s.bip32Derivation.filter(A=>A[1].fingerprint==e.fingerprint).map(([A,{path:T}])=>{let O=e;for(let N of T)O=O.deriveChild(N);if(!ai(O.publicKey,A))throw new Error("bip32Derivation: wrong pubKey");if(!O.privateKey)throw new Error("bip32Derivation: no privateKey");return O});if(!g.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let b=!1;for(let A of g)this.signIdx(A.privateKey,r)&&(b=!0);return b}n?n.forEach(g_t):n=[a.defaultSighash];let f=a.sighash;if(!n.includes(f))throw new Error(`Input with not allowed sigHash=${f}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===gi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let h=this.prevOut(s);if(a.txType==="taproot"){if(s.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let g=this.inputs.map(this.prevOut),b=g.map(P=>P.script),A=g.map(P=>P.amount),T=!1,O=Gc.getPublicKey(e),N=s.tapMerkleRoot||Oi;if(s.tapInternalKey){let{pubKey:P,privKey:C}=y_t(e,O,s.tapInternalKey,N),[D,M]=X5e(s.tapInternalKey,N);if(ai(D,P)){let U=this.preimageWitnessV1(r,b,f,A),V=vm(Gc.sign(U,C,i),f!==gi.DEFAULT?new Uint8Array([f]):Oi);this.updateInput(r,{tapKeySig:V},!0),T=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(let[P,C]of s.tapLeafScript){let D=C.subarray(0,-1),M=oa.decode(D),U=C[C.length-1],V=qN(D,U);if(M.findIndex(te=>yi(te)&&ai(te,O))===-1)continue;let ee=this.preimageWitnessV1(r,b,f,A,void 0,D,U),Y=vm(Gc.sign(ee,e,i),f!==gi.DEFAULT?new Uint8Array([f]):Oi);this.updateInput(r,{tapScriptSig:[[{pubKey:O,leafHash:V},Y]]},!0),T=!0}}if(!T)throw new Error("No taproot scripts signed");return!0}else{let g=Dxt(e),b=!1,A=$N(g);for(let N of oa.decode(a.lastScript))yi(N)&&(ai(N,g)||ai(N,A))&&(b=!0);if(!b)throw new Error(`Input script doesn't have pubKey: ${a.lastScript}`);let T;if(a.txType==="legacy")T=this.preimageLegacy(r,a.lastScript,f);else if(a.txType==="segwit"){let N=a.lastScript;a.last.type==="wpkh"&&(N=xs.encode({type:"pkh",hash:a.last.hash})),T=this.preimageWitnessV0(r,N,f,h.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${a.txType}`);let O=Uxt(T,e,this.opts.lowR);this.updateInput(r,{partialSig:[[g,vm(O,new Uint8Array([f]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(e,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((h,g)=>o_.encode(h[0]).length-o_.encode(g[0]).length);for(let[h,g]of l){let b=g.slice(0,-1),A=g[g.length-1],T=xs.decode(b),O=qN(b,A),N=r.tapScriptSig.filter(C=>ai(C[0].leafHash,O)),P=[];if(T.type==="tr_ms"){let C=T.m,D=T.pubkeys,M=0;for(let U of D){let V=N.findIndex(j=>ai(j[0].pubKey,U));if(M===C||V===-1){P.push(Oi);continue}P.push(N[V][1]),M++}if(M!==C)continue}else if(T.type==="tr_ns"){for(let C of T.pubkeys){let D=N.findIndex(M=>ai(M[0].pubKey,C));D!==-1&&P.push(N[D][1])}if(P.length!==T.pubkeys.length)continue}else if(T.type==="unknown"&&this.opts.allowUnknownInputs){let C=oa.decode(b);if(P=N.map(([{pubKey:D},M])=>{let U=C.findIndex(V=>yi(V)&&ai(V,D));if(U===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:M,pos:U}}).sort((D,M)=>D.pos-M.pos).map(D=>D.signature),!P.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=P.reverse().concat([b,o_.encode(h)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Oi,$5e(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Oi,s=[];if(n.last.type==="ms"){let l=n.last.m,h=n.last.pubkeys,g=[];for(let b of h){let A=r.partialSig.find(T=>ai(b,T[0]));A&&g.push(A[1])}if(g=g.slice(0,l),g.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${h.length} signatures=${g.length}`);i=oa.encode([0,...g])}else if(n.last.type==="pk")i=oa.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=oa.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Oi,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let a,f;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=oa.decode(i).map(l=>{if(l===0)return Oi;if(yi(l))return l;throw new Error(`Wrong witness op=${l}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(f=s),n.type.startsWith("sh-wsh-")?a=oa.encode([oa.encode([0,na(n.lastScript)])]):n.type.startsWith("sh-")?a=oa.encode([...oa.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(a=i),!a&&!f)throw new Error("Unknown error finalizing input");a&&(r.finalScriptSig=a),f&&(r.finalScriptWitness=f),$5e(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?_d.encode(this.global.unsignedTx):Oi,n=e.global.unsignedTx?_d.encode(e.global.unsignedTx):Oi;if(!ai(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=p$(I$,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};export{KX as a,H6 as b,tie as c,nie as d,ok as e,Une as f,Qc as g,sk as h,P1 as i,ak as j,ck as k,Gne as l,$ne as m,Wne as n,Yne as o,Xne as p,Zne as q,Jne as r,Qne as s,eie as t,xke as u,Ua as v,ef as w,_1t as x,jm as y,Jie as z,ng as A,w8 as B,p5 as C,pb as D,dWe as E,hWe as F,mWe as G,KD as H,Bl as I,Yb as J,fUt as K,as as L,Ee as M,iYe as N,oYe as O,sYe as P,ype as Q,bYe as R,xYe as S,_Ye as T,wYe as U,EYe as V,Dl as W,We as X,f4 as Y,x2 as Z,St as _,En as $,Gi as aa,h0 as ba,Fa as ca,vc as da,xc as ea,_c as fa,wc as ga,qa as ha,p0 as ia,Ec as ja,Hm as ka,Ha as la,Ld as ma,m0 as na,Dd as oa,Sn as pa,Mg as qa,qt as ra,OHt as sa,th as ta,Ape as ua,Vw as va,Hw as wa,Y0 as xa,Ipe as ya,sR as za,jw as Aa,Mpe as Ba,LYe as Ca,DYe as Da,rU as Ea,UYe as Fa,FYe as Ga,qYe as Ha,Ho as Ia,Upe as Ja,Zb as Ka,sU as La,zYe as Ma,fXe as Na,uXe as Oa,Qb as Pa,lU as Qa,hU as Ra,Hl as Sa,EU as Ta,TU as Ua,IU as Va,jzt as Wa,Q0 as Xa,WU as Ya,Bg as Za,Lg as _a,jo as $a,Ei as ab,tp as bb,If as cb,JU as db,ie as eb,KR as fb,FF as gb,Zge as hb,wv as ib,fh as jb,tq as kb,mQe as lb,cye as mb,cE as nb,xT as ob,cq as pb,Av as qb,hq as rb,ZQe as sb,_f as tb,vpe as ub,RYe as vb,eU as wb,tU as xb,TYe as yb,IYe as zb,JQe as Ab,Mq as Bb,F1e as Cb,ya as Db,hbe as Eb,Obe as Fb,fH as Gb,pxe as Hb,KH as Ib,Fst as Jb,jst as Kb,zst as Lb,Zv as Mb,$H as Nb,YH as Ob,Ot as Pb,n_e as Qb,pn as Rb,Xxe as Sb,_h as Tb,e_e as Ub,t_e as Vb,r_e as Wb,i_e as Xb,a_e as Yb,c_e as Zb,f_e as _b,u_e as $b,l_e as ac,d_e as bc,h_e as cc,p_e as dc,m_e as ec,g_e as fc,y_e as gc,o_e as hc,b_e as ic,s_e as jc,v_e as kc,x_e as lc,tV as mc,MG as nc,CG as oc,Xi as pc,si as qc,Iat as rc,Ff as sc,rht as tc,RSe as uc,sht as vc,Nt as wc,nt as xc,ZE as yc,Fdt as zc,_r as Ac,jdt as Bc,zdt as Cc,U7 as Dc,Jdt as Ec,Qdt as Fc,eht as Gc,tht as Hc,CSe as Ic,sz as Jc,n6e as Kc,XS as Lc,oyt as Mc,GK as Nc,XK as Oc,gd as Pc,L9 as Qc,ZK as Rc,ayt as Sc,Lx as Tc,uyt as Uc,cyt as Vc,qy as Wc,lyt as Xc,uA as Yc,aN as Zc,JK as _c,z6e as $c,K6e as ad,QK as bd,hyt as cd,J6e as dd,sm as ed,H9 as fd,Fr as gd,qh as hd,cG as id,y4e as jd,cm as kd,_4e as ld,w4e as md,E4e as nd,Myt as od,gG as pd,Ti as qd,eG as rd,dyt as sd,Lyt as td,bG as ud,vG as vd,D4e as wd,RG as xd,IG as yd,Yyt as zd,Zyt as Ad,$x as Bd,xXr as Cd,_Xr as Dd,a1t as Ed,c1t as Fd,f1t as Gd,l1t as Hd,Jyt as Id,Qyt as Jd,e1t as Kd,t1t as Ld,d1t as Md,h1t as Nd,p1t as Od,m1t as Pd,g1t as Qd,Lvt as Rd,pW as Sd,wZr as Td,a_ as Ud,oa as Vd,gtn as Wd,ytn as Xd,btn as Yd,xs as Zd,R$ as _d,TZr as $d,IZr as ae};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-GSVPXWLR.js.map
