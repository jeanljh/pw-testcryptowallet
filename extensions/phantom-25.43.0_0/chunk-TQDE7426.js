import{G as ti,N as mt,O as ei,Pa as oi,Ya as ni,da as Po,eb as li,gb as di,ib as mi,jb as pi,sa as Ct,t as Xr,y as Zr}from"./chunk-5RCV3KPE.js";import{e as Ao,qa as _e}from"./chunk-RKMQYZSN.js";import{E as Dr,Nb as Wr,Wa as Vr,db as Kr,jc as vt,n as Rr,na as Br,nc as qr,rb as ae,s as he}from"./chunk-COS4XKZ5.js";import{$d as ii,Ec as Yr,Lc as ze,Pd as qt,T as To,U as It,Zc as Jr,Zd as ri,_d as U,ae as ai,bc as vn,be as si,fc as Ce,h as Le,hb as bo,jc as jr,je as ci,kc as Hr,mc as xn,me as ui,nc as Gr,ne as Se,pb as vo,pc as Io,qb as xo,qc as $r,sb as Qt,wc as Eo,zc as Qr}from"./chunk-IJLITZAC.js";import{$c as qe,Ac as $,Jc as Lr,Oc as yt,Pb as N,Pd as Nr,Rc as Cr,Sc as Mr,Td as Q,Vb as Er,Vc as Or,Wb as ie,X as q,Zc as Fr,_ as dt,aa as fe,ae as Wt,b as yr,bc as Pr,c as Fs,kd as bt,m as Tr,md as Pe,oa as Tn,pa as Tt,pd as C,s as br,sc as Ee,t as vr,u as wt,v as Y,vc as _r,w as A,xc as G}from"./chunk-GSVPXWLR.js";import{b as go,d as Os}from"./chunk-P42QO3R7.js";import{Fa as xt,X as wo,a as L,ca as ct,d as X,e as W,ga as zr,ja as Z,m as v,pb as bn,q as Ur,r as J}from"./chunk-LYTSCHVN.js";import{h as lt,k as Kt}from"./chunk-P5BPG5MC.js";import{A as xr,B as yo,C as Ir,b as wn,c as We,d as re,e as Ar,f as wr,g as b,m as xe,x as Ie,z as ko}from"./chunk-PPQ6BNOX.js";import{a as i,d as Cs,g as _,i as u,l as Ms,m as Buffer,n as l}from"./chunk-NSVULBS3.js";var ja=Cs(P=>{"use strict";u();l();var bu=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P,"__esModule",{value:!0});P.map=P.array=P.rustEnum=P.str=P.vecU8=P.tagged=P.vec=P.bool=P.option=P.publicKey=P.i256=P.u256=P.i128=P.u128=P.i64=P.u64=P.struct=P.f64=P.f32=P.i32=P.u32=P.i16=P.u16=P.i8=P.u8=void 0;var z=vn(),vu=yr(),xu=bu(go()),Xt=vn();Object.defineProperty(P,"u8",{enumerable:!0,get:i(function(){return Xt.u8},"get")});Object.defineProperty(P,"i8",{enumerable:!0,get:i(function(){return Xt.s8},"get")});Object.defineProperty(P,"u16",{enumerable:!0,get:i(function(){return Xt.u16},"get")});Object.defineProperty(P,"i16",{enumerable:!0,get:i(function(){return Xt.s16},"get")});Object.defineProperty(P,"u32",{enumerable:!0,get:i(function(){return Xt.u32},"get")});Object.defineProperty(P,"i32",{enumerable:!0,get:i(function(){return Xt.s32},"get")});Object.defineProperty(P,"f32",{enumerable:!0,get:i(function(){return Xt.f32},"get")});Object.defineProperty(P,"f64",{enumerable:!0,get:i(function(){return Xt.f64},"get")});Object.defineProperty(P,"struct",{enumerable:!0,get:i(function(){return Xt.struct},"get")});var ue=class extends z.Layout{static{i(this,"BNLayout")}constructor(e,o,n){super(e,n),this.blob=(0,z.blob)(e),this.signed=o}decode(e,o=0){let n=new xu.default(this.blob.decode(e,o),10,"le");return this.signed?n.fromTwos(this.span*8).clone():n}encode(e,o,n=0){return this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),o,n)}};function qa(t){return new ue(8,!1,t)}i(qa,"u64");P.u64=qa;function Iu(t){return new ue(8,!0,t)}i(Iu,"i64");P.i64=Iu;function Eu(t){return new ue(16,!1,t)}i(Eu,"u128");P.u128=Eu;function Pu(t){return new ue(16,!0,t)}i(Pu,"i128");P.i128=Pu;function _u(t){return new ue(32,!1,t)}i(_u,"u256");P.u256=_u;function Lu(t){return new ue(32,!0,t)}i(Lu,"i256");P.i256=Lu;var $t=class extends z.Layout{static{i(this,"WrappedLayout")}constructor(e,o,n,r){super(e.span,r),this.layout=e,this.decoder=o,this.encoder=n}decode(e,o){return this.decoder(this.layout.decode(e,o))}encode(e,o,n){return this.layout.encode(this.encoder(e),o,n)}getSpan(e,o){return this.layout.getSpan(e,o)}};function Cu(t){return new $t((0,z.blob)(32),e=>new vu.PublicKey(e),e=>e.toBuffer(),t)}i(Cu,"publicKey");P.publicKey=Cu;var sr=class extends z.Layout{static{i(this,"OptionLayout")}constructor(e,o){super(-1,o),this.layout=e,this.discriminator=(0,z.u8)()}encode(e,o,n=0){return e==null?this.discriminator.encode(0,o,n):(this.discriminator.encode(1,o,n),this.layout.encode(e,o,n+1)+1)}decode(e,o=0){let n=this.discriminator.decode(e,o);if(n===0)return null;if(n===1)return this.layout.decode(e,o+1);throw new Error("Invalid option "+this.property)}getSpan(e,o=0){let n=this.discriminator.decode(e,o);if(n===0)return 1;if(n===1)return this.layout.getSpan(e,o+1)+1;throw new Error("Invalid option "+this.property)}};function Mu(t,e){return new sr(t,e)}i(Mu,"option");P.option=Mu;function Ou(t){return new $t((0,z.u8)(),Fu,Nu,t)}i(Ou,"bool");P.bool=Ou;function Fu(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}i(Fu,"decodeBool");function Nu(t){return t?1:0}i(Nu,"encodeBool");function Uu(t,e){let o=(0,z.u32)("length"),n=(0,z.struct)([o,(0,z.seq)(t,(0,z.offset)(o,-o.span),"values")]);return new $t(n,({values:r})=>r,r=>({values:r}),e)}i(Uu,"vec");P.vec=Uu;function Ru(t,e,o){let n=(0,z.struct)([qa("tag"),e.replicate("data")]);function r({tag:a,data:s}){if(!a.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+a.toString("hex"));return s}return i(r,"decodeTag"),new $t(n,r,a=>({tag:t,data:a}),o)}i(Ru,"tagged");P.tagged=Ru;function za(t){let e=(0,z.u32)("length"),o=(0,z.struct)([e,(0,z.blob)((0,z.offset)(e,-e.span),"data")]);return new $t(o,({data:n})=>n,n=>({data:n}),t)}i(za,"vecU8");P.vecU8=za;function Du(t){return new $t(za(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),t)}i(Du,"str");P.str=Du;function Bu(t,e,o){let n=(0,z.union)(o??(0,z.u8)(),e);return t.forEach((r,a)=>n.addVariant(a,r,r.property)),n}i(Bu,"rustEnum");P.rustEnum=Bu;function Vu(t,e,o){let n=(0,z.struct)([(0,z.seq)(t,e,"values")]);return new $t(n,({values:r})=>r,r=>({values:r}),o)}i(Vu,"array");P.array=Vu;var cr=class extends z.Layout{static{i(this,"MapEntryLayout")}constructor(e,o,n){super(e.span+o.span,n),this.keyLayout=e,this.valueLayout=o}decode(e,o){o=o||0;let n=this.keyLayout.decode(e,o),r=this.valueLayout.decode(e,o+this.keyLayout.getSpan(e,o));return[n,r]}encode(e,o,n){n=n||0;let r=this.keyLayout.encode(e[0],o,n),a=this.valueLayout.encode(e[1],o,n+r);return r+a}getSpan(e,o){return this.keyLayout.getSpan(e,o)+this.valueLayout.getSpan(e,o)}};function Ku(t,e,o){let n=(0,z.u32)("length"),r=(0,z.struct)([n,(0,z.seq)(new cr(t,e),(0,z.offset)(n,-n.span),"values")]);return new $t(r,({values:a})=>new Map(a),a=>({values:Array.from(a.entries())}),o)}i(Ku,"map");P.map=Ku});u();l();var Et;(function(t){t.DirectLink="Deep Link",t.Modal="Modal",t.BottomSheet="Bottom Sheet"})(Et||(Et={}));var je;(function(t){t.Buy="Buy",t.Collectibles="Collectibles",t.ConnectHardwareWallet="Connect Hardware Wallet",t.ConvertStakeAccount="Convert Stake Account",t.ConvertToJito="Convert to Jito",t.MintPSOL="Mint PSOL",t.Explore="Explore",t.Perps="Perps",t.MintCollectible="Mint Collectible",t.SocialLogin="Social Login",t.SettingsClaimUsername="Settings: Claim Username",t.SettingsCurrency="Settings: Currency",t.SettingsImportSeedPhrase="Settings: Import Seed Phrase",t.SettingsNotificationPreferences="Settings: Notification Preferences",t.SettingsSecurityAndPrivacy="Settings: Security & Privacy",t.TokenCategory="Token Category",t.Swapper="Swapper",t.ExternalLink="External Link",t.Token="Token",t.TokenChat="Token Chat"})(je||(je={}));var Ns=b.enum(["dark","light"]).default("dark").catch("dark"),Ol=b.object({theme:Ns}),E;(function(t){t.Multichain="Multichain",t.MultichainSwapper="MultichainSwapper",t.InvalidChecksum="InvalidChecksum",t.AdditionalPermissions="AdditionalPermissions",t.SuiWelcome="SuiWelcome",t.SuiWelcomeDefaultOn="SuiWelcomeDefaultOn",t.MonadMainnetWelcome="MonadMainnetWelcome",t.ArbitrumWelcome="ArbitrumWelcome",t.StakingWelcome="StakingWelcomeNew",t.ClaimUsernameNudge="ClaimUsernameNudge",t.QuickClaimUsername="QuickClaimUsername",t.SeedlessPinVerification="SeedlessPinVerification",t.TermsOfServiceUpdate="TermsOfServiceUpdate",t.NotificationsUpdate="NotificationsUpdate",t.SocialFeedNux="SocialFeedNux",t.SocialFeedNuxWelcome="SocialFeedNuxWelcome",t.PerpsJoinFeedbackGroup="PerpsJoinFeedbackGroup",t.PerpsIntro="PerpsIntro",t.CashWaitlistActivated="CashWaitlistActivated"})(E||(E={}));u();l();u();l();var _o=i(t=>{let e=[];for(let o in t.errors)Array.isArray(t.errors[o])&&e.push(t.errors[o].join(", "));return e.join(", ")},"formatErrorMessages");var Lo;(function(t){t.Upgrade="upgrade",t.Noop="noop"})(Lo||(Lo={}));var hi=i(async({locale:t})=>{let e;try{let o=JSON.stringify({platform:ko,appVersion:Ie,locale:t}),n=await lt.api().headers({"Content-Type":"application/json"}).post(({apiEnv:a})=>`/banners/force_upgrade/${a}/v1`,o);if(n.status===400){let a=await n.data,s=_o(a);throw new Error(s)}else if(n.status<200||n.status>299)throw new Error(`status code: ${n.status}, body: ${n.statusText}`);let r=n.data;return r?{...r}:fi}catch(o){return e===400&&o instanceof Error&&$.captureError(o,G.ActionBanner),fi}},"fetchForceUpgradeStatus"),fi={forceUpgradeStatus:Lo.Noop};u();l();u();l();u();l();var zt="@phantom/interstitials",Me=`${zt}:action-banners`,Si=`${zt}:force-upgrade`,In={actionBanners:i((t,e)=>[Me,{accountIdentifier:t,accessToken:e}],"actionBanners"),hasSeenInterstitial:i(t=>[`${zt}:has-seen-interstitial`,{feature:t}],"hasSeenInterstitial"),interstitialViewHistory:i(t=>[`${zt}:interstitial-view-history`,{feature:t}],"interstitialViewHistory"),appLaunchTimes:i(()=>[`${zt}:app-launch-times`],"appLaunchTimes"),lastOnboardedAt:i(()=>[`${zt}:last-onboarded-at`],"lastOnboardedAt"),contentCards:[`${zt}:content-cards`]};u();l();var Us={[E.Multichain]:2,[E.MultichainSwapper]:1,[E.InvalidChecksum]:1,[E.SuiWelcome]:1,[E.SuiWelcomeDefaultOn]:1,[E.MonadMainnetWelcome]:1,[E.ArbitrumWelcome]:1,[E.ClaimUsernameNudge]:1,[E.QuickClaimUsername]:1,[E.SeedlessPinVerification]:1,[E.AdditionalPermissions]:1,[E.TermsOfServiceUpdate]:1,[E.StakingWelcome]:1,[E.SocialFeedNux]:1,[E.SocialFeedNuxWelcome]:1,[E.PerpsJoinFeedbackGroup]:1,[E.PerpsIntro]:1,[E.NotificationsUpdate]:1,[E.CashWaitlistActivated]:1},Rs={[E.Multichain]:3,[E.MultichainSwapper]:1,[E.InvalidChecksum]:1,[E.SuiWelcome]:1,[E.SuiWelcomeDefaultOn]:1,[E.MonadMainnetWelcome]:1,[E.ArbitrumWelcome]:1,[E.StakingWelcome]:1,[E.ClaimUsernameNudge]:1,[E.QuickClaimUsername]:1,[E.AdditionalPermissions]:1,[E.SeedlessPinVerification]:1,[E.TermsOfServiceUpdate]:1,[E.SocialFeedNux]:1,[E.SocialFeedNuxWelcome]:1,[E.PerpsJoinFeedbackGroup]:1,[E.PerpsIntro]:1,[E.NotificationsUpdate]:1,[E.CashWaitlistActivated]:1},Co=i(t=>yo?Us[t]:xr?Rs[t]:-1,"getMostRecentVersion");var Ds=1,Mo=".phantom-labs.settings.interstitials";var Bs={...Fr(Mo,[`${zt}:has-seen-interstitial`,`${zt}:interstitial-view-history`],(t,e)=>({version:Ds,interstitialsSeen:{...t?.interstitialsSeen,...e?.interstitialsSeen},interstitialsViewHistory:{...t?.interstitialsViewHistory,...e?.interstitialsViewHistory}}))};u();l();var En=class{static{i(this,"ActionBannerAnalytics")}#t;constructor(e){this.#t=e}onBannerSeen=i(e=>{this.#t.capture("actionBannerSeenByUser",{data:{banner:e}})},"onBannerSeen");onBannerClick=i(e=>{this.#t.capture("actionBannerClickedByUser",{data:{banner:e}})},"onBannerClick");onBannerDismiss=i(e=>{this.#t.capture("actionBannerDismissedByUser",{data:{banner:e}})},"onBannerDismiss");onInterstitialSeen=i(e=>{this.#t.capture("actionBannerInterstitialSeenByUser",{data:{banner:e}})},"onInterstitialSeen");onInterstitialPrimaryClick=i(e=>{this.#t.capture("actionBannerInterstitialPrimaryButtonClickedByUser",{data:{banner:e}})},"onInterstitialPrimaryClick");onInterstitialSecondaryClick=i(e=>{this.#t.capture("actionBannerInterstitialSecondaryButtonClickedByUser",{data:{banner:e}})},"onInterstitialSecondaryClick");onInterstitialDismiss=i(e=>{this.#t.capture("actionBannerInterstitialDismissedByUser",{data:{banner:e}})},"onInterstitialDismiss")};u();l();var Vs=i(({id:t,humanReadableId:e,description:o,bannerType:n})=>({id:t,humanReadableId:e,description:o,type:n}),"generateActionBannerBaseAnalyticsPayload"),Ks=i(({id:t,humanReadableId:e,description:o,bannerType:n,interstitial:r})=>{let{title:a,primaryButtonText:s,secondaryButtonText:c}=r,d;if(n===Et.Modal)for(let[m,f]of Object.values(r.lineItems).entries())d={...d??{},[`lineItem${m+1}`]:{title:f.title,description:f.description}};return{id:t,humanReadableId:e,description:o,type:n,interstitial:{title:a,body:d,primaryButtonText:s??v.t("commandContinue"),secondaryButtonText:c??v.t("commandDismiss")}}},"generateActionBannerInterstitialAnalyticsPayload");u();l();var Ws=1,qs=b.object({version:b.literal(1),interstitialsSeen:b.record(b.number()).optional(),interstitialsViewHistory:b.record(b.array(b.number())).optional()}),zs=i((t,e)=>{let o=t,n=e;return!o&&!n?null:{version:Ws,interstitialsSeen:{...o?.interstitialsSeen??{},...n?.interstitialsSeen??{}},interstitialsViewHistory:{...o?.interstitialsViewHistory??{},...n?.interstitialsViewHistory??{}}}},"interstitialsResolver"),[gi,js,Hs]=Lr("interstitials",[{key:Mo,type:"object",validator:qs,nullable:!0,resolver:zs,updateOn:"idle"}]);var ki=i((...t)=>Ee(js,...t),"useSetInterstitialsStorage"),yi=i((...t)=>Ee(Hs,...t),"useAsyncInterstitialsStorage");u();l();u();l();var Ai=i(async({locale:t})=>({...await hi({locale:t})}),"fetchForceUpgrade");var Gs=i(()=>C({queryKey:[Si],queryFn:i(async()=>{let e=Ao(v.language)??"en";return Ai({locale:e})},"queryFn"),enabled:!!Ie,staleTime:Q({minutes:5})}),"useForceUpgrade");u();l();var Pn=i(t=>{let{value:e,isReady:o}=yi(".phantom-labs.settings.interstitials"),n=Co(t);return{isReady:o,data:(e?.interstitialsSeen?.[t]??0)>=n}},"useHasSeenInterstitial");u();l();var wi=_(L());var $s=1,Mt=i(t=>{let e=ki(".phantom-labs.settings.interstitials");return(0,wi.useCallback)(async()=>{let o=gi(".phantom-labs.settings.interstitials"),n=Co(t);await e({version:$s,interstitialsSeen:{...o?.interstitialsSeen??{},[t]:n},interstitialsViewHistory:{...o?.interstitialsViewHistory??{},[t]:[...o?.interstitialsViewHistory?.[t]??[],Date.now()]}})},[t,e])},"useSetHasSeenInterstitial");u();l();u();l();var Ti=_(L());var Oo=class extends Ti.default.Component{static{i(this,"ErrorBoundary")}constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return e instanceof Error?{error:e}:typeof e=="string"?{error:new Error(e)}:{error:new Error}}componentDidCatch(e,o){e instanceof Error&&$.captureError(e,G.Generic)}render(){return this.state.error?typeof this.props.fallback=="function"?this.props.fallback(this.state.error):this.props.fallback:this.props.children}};var Oe=_(L(),1);var ge=Oe.default.memo(({children:t,i18nKey:e,...o})=>{let{t:n}=J(),r=(0,Oe.useMemo)(()=>(e?`${n(e,{...o,...o.values})}`:"").replace(/<\/?[^>]+(>|$)/g,""),[e,o,n]);return Oe.default.createElement(Oo,{fallback:r},Oe.default.createElement(Ur,{i18nKey:e,...o},t))});u();l();u();l();u();l();u();l();var[Fo,bi]=_r("interstitials",[{key:"lastOnboardedAt",defaultValue:-1,type:"number"},{key:"appLaunchTimes",defaultValue:[],type:"array",validator:b.array(b.number())},{key:"dismissedActionBanners",defaultValue:[],type:"array",validator:b.array(b.string())}]),Fe=i((...t)=>Ee(Fo,...t),"useInterstitialStorage"),_n=i((...t)=>Ee(bi,...t),"useSetInterstitialStorage");u();l();u();l();var xi=i(async({accountID:t,deviceId:e,locale:o,rootId:n,selectedAccountAddresses:r,accessToken:a})=>{let s;try{let c={accountID:t,deviceId:e,locale:o,platform:ko,rootId:n,selectedAccountAddresses:r,version:Ie},d=await lt.api().headers({"Content-Type":"application/json"}).bearer(a).post(({apiEnv:f})=>`/banners/get_banners/${f}/v2`,c);if(d.status===400){let f=await d.data,p=_o(f);throw new Error(p)}else if(d.status<200||d.status>299)throw new Error(`status code: ${d.status}, body: ${await d.statusText}`);let m=d.data;return m?{...m,banners:m.banners??[]}:vi}catch(c){return s===400&&c instanceof Error&&$.captureError(c,G.ActionBanner),vi}},"fetchSanityActionBanners"),vi={id:void 0,banners:[]};u();l();u();l();var Ln=i(t=>t?Object.values(je).includes(t):!1,"isActionBannerDestinationSupported");u();l();var Ii=i(t=>{switch(t){case Et.BottomSheet:return yo;case Et.Modal:return!0;default:return!1}},"isActionBannerInterstitialSupported");var Ei=i(t=>{let{bannerType:e,destinationType:o}=t;switch(e){case Et.DirectLink:return Ln(o);case Et.BottomSheet:case Et.Modal:return Ii(e)&&Ln(o);default:return!1}},"isActionBannerSupported");var Pi=i(async({accountID:t,deviceId:e,dismissedBanners:o,locale:n,rootId:r,selectedAccountAddresses:a,accessToken:s})=>{let c=await xi({accountID:t,deviceId:e,locale:n,rootId:r,selectedAccountAddresses:a,accessToken:s});return{...c,banners:c.banners.filter(d=>Ei(d)&&!o.includes(d.id))}},"fetchActionBanners");var Qs=Q({minutes:1}),Ys=i(()=>{let t=Wt(),{data:e,isLoading:o}=Br(),{data:n}=ae(),r=i(async()=>{let a=n?.type!==he.ReadOnly?n?.addresses.map(Pr)??[]:[],s=n?.type===he.Seed?n.seedIdentifier:null,c=Fo("dismissedActionBanners"),d=Ao(v.language)??"en",m=await t.getDeviceId();return Pi({accountID:n?.identifier??"",deviceId:m,dismissedBanners:c,locale:d,rootId:s,selectedAccountAddresses:a,accessToken:e?.accessToken})},"queryFn");return C({queryKey:In.actionBanners(n?.identifier,e?.accessToken),queryFn:r,enabled:!o&&!!n?.identifier,staleTime:Qs})},"useActionBanners");u();l();var No=_(L());u();l();var _i=i(()=>{let t=Fe("lastOnboardedAt"),e=Fe("appLaunchTimes");if(e.length<2)return!0;if(t!==void 0){let[o,n]=e;if(t<o&&t<n)return!1}return!0},"useHasJustOnboarded");function ke(t,e,o){let{data:n,isReady:r}=Pn(t),{data:a}=Or(e?[e]:[]),s=a?.length===1?a[0]:!0,c=_i(),d=(0,No.useCallback)(()=>o(),[o]);return(0,No.useMemo)(()=>s&&r&&!n&&!c&&d(),[s,n,c,d,r])}i(ke,"useNewFeatureVisibility");u();l();var jt=_(L());var Cn={data:{feature:"arbitrum"}},Js=i(({onPrimaryAction:t,onSecondaryAction:e,image:o,condition:n=i(()=>!0,"condition")})=>{let{t:r}=J(),{mutateAsync:a}=Vr(),[s]=Kr([dt.Arbitrum]),c=Mt(E.ArbitrumWelcome),d=ke(E.ArbitrumWelcome,"enable-arbitrum",()=>n()&&!s&&!xe()),m=(0,jt.useCallback)(async()=>{await a({chainIDs:[dt.Arbitrum]}),t(),c()},[a,t,c]),f=(0,jt.useCallback)(()=>{e(),c()},[e,c]),p=(0,jt.useMemo)(()=>({title:r("interstitialArbitrumWelcomeTitle"),items:[{key:"arbitrumValueProp1",title:r("interstitialArbitrumWelcomeItemTitle_1"),icon:jt.default.createElement(xt,{icon:"InfoCircle",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:r("interstitialArbitrumWelcomeItemDescription_1")},{key:"arbitrumValueProp2",title:r("interstitialArbitrumWelcomeItemTitle_2"),icon:jt.default.createElement(xt,{icon:"InfoCircle",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:r("interstitialArbitrumWelcomeItemDescription_2")},{key:"arbitrumValueProp3",title:r("interstitialArbitrumWelcomeItemTitle_3"),icon:jt.default.createElement(xt,{icon:"InfoCircle",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:r("interstitialArbitrumWelcomeItemDescription_3")}],primaryButton:{children:r("interstitialArbitrumWelcomePrimaryButtonText"),onAction:m,analyticsEvent:{event:"welcomeInterstitialPrimaryButtonClickedByUser",payload:Cn}},secondaryButton:{children:r("commandNotNow"),onAction:f,analyticsEvent:{event:"welcomeInterstitialSecondaryButtonClickedByUser",payload:Cn}},onDismiss:c,image:o,displayEvent:{event:"welcomeInterstitialSeen",payload:Cn}}),[r,m,f,o,c]);return(0,jt.useMemo)(()=>({interstitial:p,shouldShow:d}),[p,d])},"useArbitrumWelcomeModal");u();l();var Yt=_(L());var Li={data:{feature:"monad"}},Xs=i(({onPrimaryAction:t,image:e,condition:o=i(()=>!0,"condition")})=>{let{t:n}=J(),r=Mt(E.MonadMainnetWelcome),a=ke(E.MonadMainnetWelcome,"enable-monad-mainnet",()=>o()&&!xe()),s=(0,Yt.useCallback)(()=>{t(),r()},[t,r]),c=(0,Yt.useMemo)(()=>({title:n("interstitialMonadWelcomeTitle"),items:[{key:"monadValueProp1",title:n("interstitialMonadWelcomeItemTitle_1"),icon:Yt.default.createElement(xt,{icon:"ToggleLeft",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:n("interstitialMonadWelcomeItemDescription_1")},{key:"monadValueProp2",title:n("interstitialMonadWelcomeItemTitle_2"),icon:Yt.default.createElement(xt,{icon:"Compass",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:n("interstitialMonadWelcomeItemDescription_2")},{key:"monadValueProp3",title:n("interstitialMonadWelcomeItemTitle_3"),icon:Yt.default.createElement(xt,{icon:"Terminal",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:n("interstitialMonadWelcomeItemDescription_3")}],primaryButton:{children:n("interstitialMonadWelcomePrimaryButtonText"),onAction:s,analyticsEvent:{event:"welcomeInterstitialPrimaryButtonClickedByUser",payload:Li}},onDismiss:r,image:e,displayEvent:{event:"welcomeInterstitialSeen",payload:Li}}),[n,s,e,r]);return(0,Yt.useMemo)(()=>({interstitial:c,shouldShow:a}),[c,a])},"useMonadWelcomeModal");u();l();var Ht=_(L());var Mn={data:{feature:"staking"}},Zs=i(({onPrimaryAction:t,onSecondaryAction:e,image:o,condition:n=i(()=>!0,"condition")})=>{let{t:r}=J(),a=Mt(E.StakingWelcome),s=ke(E.StakingWelcome,"enable-psol-welcome-modal",()=>n()&&!xe()),c=(0,Ht.useCallback)(()=>{t(),a()},[t,a]),d=(0,Ht.useCallback)(()=>{e(),a()},[e,a]),m=(0,Ht.useMemo)(()=>({title:void 0,mobileTitleSheetInset:Ir,items:[{key:"stakingValueProp1",title:r("stakingInterstitialWelcomeItemTitle_1"),icon:Ht.default.createElement(xt,{icon:"InfoCircle",color:"spotPositive",backgroundColor:"areaBase",shape:"square"}),description:r("stakingInterstitialWelcomeItemDescription_1")},{key:"stakingValueProp2",title:r("stakingInterstitialWelcomeItemTitle_2"),icon:Ht.default.createElement(xt,{icon:"TrendingUp",color:"spotPositive",backgroundColor:"areaBase",shape:"square"}),description:r("stakingInterstitialWelcomeItemDescription_2")},{key:"stakingValueProp3",title:r("stakingInterstitialWelcomeItemTitle_3"),icon:Ht.default.createElement(xt,{icon:"Shield",color:"spotPositive",backgroundColor:"areaBase",shape:"square"}),description:r("stakingInterstitialWelcomeItemDescription_3")}],primaryButton:{children:r("stakingInterstitialWelcomePrimaryButtonText"),onAction:c,analyticsEvent:{event:"welcomeInterstitialPrimaryButtonClickedByUser",payload:Mn},background:"spot",theme:"positive"},secondaryButton:{children:r("commandNotNow"),onAction:d,analyticsEvent:{event:"welcomeInterstitialSecondaryButtonClickedByUser",payload:Mn}},onDismiss:a,image:o,displayEvent:{event:"welcomeInterstitialSeen",payload:Mn},disclaimers:[r("mintStakeInfoPageDisclaimer1"),r("mintStakeInfoPageDisclaimer2_US")]}),[r,c,d,o,a]);return(0,Ht.useMemo)(()=>({interstitial:m,shouldShow:s}),[m,s])},"useStakingWelcomeModal");u();l();var pt=_(L());var tc="https://phantom.com/terms",ec="https://phantom.com/privacy",oc="https://phantom.com/terms-and-privacy-update",nc=i(({onConfirm:t,openUrl:e})=>{let{t:o}=J(),n=Wt(),r=Mt(E.TermsOfServiceUpdate),a=(0,pt.useCallback)(async()=>{r(),t()},[r,t]),s=(0,pt.useCallback)(d=>async()=>{await n.capture("termsOfServiceUpdateClick",{data:{uiContext:"interstitial"}}),await e(d)},[n,e]),c=(0,pt.useMemo)(()=>({title:o("interstitialTermsOfServiceUpdateTitle"),items:[],primaryButton:{children:o("commandContinue"),onAction:a,analyticsEvent:{event:"termsOfServiceUpdateAgreedByUser",payload:{data:{uiContext:"interstitial"}}}},image:"",displayEvent:{event:"termsOfServiceUpdateSeen",payload:{data:{uiContext:"interstitial"}}},description:pt.default.createElement(rc,{openUrl:s}),dismissGestureDisabled:!0}),[o,a,s]);return(0,pt.useMemo)(()=>({interstitial:c}),[c])},"useTermsOfServiceUpdated"),rc=i(({openUrl:t})=>pt.default.createElement(ct,{marginTop:24},pt.default.createElement(Z,{font:"body",align:"center"},pt.default.createElement(ge,{i18nKey:"interstitialTermsOfServiceUpdateSubtitle"},"Please review our updated",pt.default.createElement(Z,{onPress:t(tc),color:"spotBase"},"Terms of Use"),"and",pt.default.createElement(Z,{onPress:t(ec),color:"spotBase"},"Privacy Policy"),". By continuing, you agree to the updated terms and policies.",pt.default.createElement(Z,{onPress:t(oc),color:"spotBase"},"Learn More"),"."))),"TermsOfServiceUpdateDescription");u();l();var Ci=_(L());var ic=i(()=>{let t=Fe("dismissedActionBanners"),e=_n("dismissedActionBanners"),o=bt();return(0,Ci.useCallback)(r=>{e([...t,r]),o.setQueriesData({queryKey:[Me]},a=>{if(!a)return;let s=a.banners.filter(c=>c.id!==r);return{...a,banners:s}})},[t,e,o])},"useDismissActionBanner");u();l();var Mi=i(async t=>{await t.invalidateQueries({queryKey:[Me]})},"invalidateActionBanners");Nr(Mi);u();l();u();l();function Do(t,e,o,n){function r(a){return a instanceof o?a:new o(function(s){s(a)})}return i(r,"adopt"),new(o||(o=Promise))(function(a,s){function c(f){try{m(n.next(f))}catch(p){s(p)}}i(c,"fulfilled");function d(f){try{m(n.throw(f))}catch(p){s(p)}}i(d,"rejected");function m(f){f.done?a(f.value):r(f.value).then(c,d)}i(m,"step"),m((n=n.apply(t,e||[])).next())})}i(Do,"__awaiter");var ac="ENTRIES",Ri="KEYS",Di="VALUES",nt="",He=class{static{i(this,"TreeIterator")}constructor(e,o){let n=e._tree,r=Array.from(n.keys());this.set=e,this._type=o,this._path=r.length>0?[{node:n,keys:r}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:o}=Ne(this._path);if(Ne(o)===nt)return{done:!1,value:this.result()};let n=e.get(Ne(o));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=Ne(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>Ne(e)).filter(e=>e!==nt).join("")}value(){return Ne(this._path).node.get(nt)}result(){switch(this._type){case Di:return this.value();case Ri:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},Ne=i(t=>t[t.length-1],"last$1"),sc=i((t,e,o)=>{let n=new Map;if(e===void 0)return n;let r=e.length+1,a=r+o,s=new Uint8Array(a*r).fill(o+1);for(let c=0;c<r;++c)s[c]=c;for(let c=1;c<a;++c)s[c*r]=c;return Bi(t,e,o,n,s,1,r,""),n},"fuzzySearch"),Bi=i((t,e,o,n,r,a,s,c)=>{let d=a*s;t:for(let m of t.keys())if(m===nt){let f=r[d-1];f<=o&&n.set(c,[t.get(m),f])}else{let f=a;for(let p=0;p<m.length;++p,++f){let g=m[p],h=s*f,k=h-s,y=r[h],w=Math.max(0,f-o-1),T=Math.min(s-1,f+o);for(let I=w;I<T;++I){let M=g!==e[I],D=r[k+I]+ +M,j=r[k+I+1]+1,K=r[h+I]+1,H=r[h+I+1]=Math.min(D,j,K);H<y&&(y=H)}if(y>o)continue t}Bi(t.get(m),e,o,n,r,f,s,c+m)}},"recurse"),Ge=class t{static{i(this,"SearchableMap")}constructor(e=new Map,o=""){this._size=void 0,this._tree=e,this._prefix=o}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");let[o,n]=Bo(this._tree,e.slice(this._prefix.length));if(o===void 0){let[r,a]=Vn(n);for(let s of r.keys())if(s!==nt&&s.startsWith(a)){let c=new Map;return c.set(s.slice(a.length),r.get(s)),new t(c,e)}}return new t(o,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,cc(this._tree,e)}entries(){return new He(this,ac)}forEach(e){for(let[o,n]of this)e(o,n,this)}fuzzyGet(e,o){return sc(this._tree,e,o)}get(e){let o=Rn(this._tree,e);return o!==void 0?o.get(nt):void 0}has(e){let o=Rn(this._tree,e);return o!==void 0&&o.has(nt)}keys(){return new He(this,Ri)}set(e,o){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,On(this._tree,e).set(nt,o),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,o){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let n=On(this._tree,e);return n.set(nt,o(n.get(nt))),this}fetch(e,o){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let n=On(this._tree,e),r=n.get(nt);return r===void 0&&n.set(nt,r=o()),r}values(){return new He(this,Di)}[Symbol.iterator](){return this.entries()}static from(e){let o=new t;for(let[n,r]of e)o.set(n,r);return o}static fromObject(e){return t.from(Object.entries(e))}},Bo=i((t,e,o=[])=>{if(e.length===0||t==null)return[t,o];for(let n of t.keys())if(n!==nt&&e.startsWith(n))return o.push([t,n]),Bo(t.get(n),e.slice(n.length),o);return o.push([t,e]),Bo(void 0,"",o)},"trackDown"),Rn=i((t,e)=>{if(e.length===0||t==null)return t;for(let o of t.keys())if(o!==nt&&e.startsWith(o))return Rn(t.get(o),e.slice(o.length))},"lookup"),On=i((t,e)=>{let o=e.length;t:for(let n=0;t&&n<o;){for(let a of t.keys())if(a!==nt&&e[n]===a[0]){let s=Math.min(o-n,a.length),c=1;for(;c<s&&e[n+c]===a[c];)++c;let d=t.get(a);if(c===a.length)t=d;else{let m=new Map;m.set(a.slice(c),d),t.set(e.slice(n,n+c),m),t.delete(a),t=m}n+=c;continue t}let r=new Map;return t.set(e.slice(n),r),r}return t},"createPath"),cc=i((t,e)=>{let[o,n]=Bo(t,e);if(o!==void 0){if(o.delete(nt),o.size===0)Vi(n);else if(o.size===1){let[r,a]=o.entries().next().value;Ki(n,r,a)}}},"remove"),Vi=i(t=>{if(t.length===0)return;let[e,o]=Vn(t);if(e.delete(o),e.size===0)Vi(t.slice(0,-1));else if(e.size===1){let[n,r]=e.entries().next().value;n!==nt&&Ki(t.slice(0,-1),n,r)}},"cleanup"),Ki=i((t,e,o)=>{if(t.length===0)return;let[n,r]=Vn(t);n.set(r+e,o),n.delete(r)},"merge"),Vn=i(t=>t[t.length-1],"last"),Kn="or",Wi="and",uc="and_not",$e=class t{static{i(this,"MiniSearch")}constructor(e){if(e?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');let o=e.autoVacuum==null||e.autoVacuum===!0?Un:e.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},Nn),e),{autoVacuum:o,searchOptions:Object.assign(Object.assign({},Oi),e.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},fc),e.autoSuggestOptions||{})}),this._index=new Ge,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Bn,this.addFields(this._options.fields)}add(e){let{extractField:o,tokenize:n,processTerm:r,fields:a,idField:s}=this._options,c=o(e,s);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${s}"`);if(this._idToShortId.has(c))throw new Error(`MiniSearch: duplicate ID ${c}`);let d=this.addDocumentId(c);this.saveStoredFields(d,e);for(let m of a){let f=o(e,m);if(f==null)continue;let p=n(f.toString(),m),g=this._fieldIds[m],h=new Set(p).size;this.addFieldLength(d,g,this._documentCount-1,h);for(let k of p){let y=r(k,m);if(Array.isArray(y))for(let w of y)this.addTerm(g,d,w);else y&&this.addTerm(g,d,y)}}}addAll(e){for(let o of e)this.add(o)}addAllAsync(e,o={}){let{chunkSize:n=10}=o,r={chunk:[],promise:Promise.resolve()},{chunk:a,promise:s}=e.reduce(({chunk:c,promise:d},m,f)=>(c.push(m),(f+1)%n===0?{chunk:[],promise:d.then(()=>new Promise(p=>setTimeout(p,0))).then(()=>this.addAll(c))}:{chunk:c,promise:d}),r);return s.then(()=>this.addAll(a))}remove(e){let{tokenize:o,processTerm:n,extractField:r,fields:a,idField:s}=this._options,c=r(e,s);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${s}"`);let d=this._idToShortId.get(c);if(d==null)throw new Error(`MiniSearch: cannot remove document with ID ${c}: it is not in the index`);for(let m of a){let f=r(e,m);if(f==null)continue;let p=o(f.toString(),m),g=this._fieldIds[m],h=new Set(p).size;this.removeFieldLength(d,g,this._documentCount,h);for(let k of p){let y=n(k,m);if(Array.isArray(y))for(let w of y)this.removeTerm(g,d,w);else y&&this.removeTerm(g,d,y)}}this._storedFields.delete(d),this._documentIds.delete(d),this._idToShortId.delete(c),this._fieldLength.delete(d),this._documentCount-=1}removeAll(e){if(e)for(let o of e)this.remove(o);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new Ge,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){let o=this._idToShortId.get(e);if(o==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(o),this._storedFields.delete(o),(this._fieldLength.get(o)||[]).forEach((n,r)=>{this.removeFieldLength(o,r,this._documentCount,n)}),this._fieldLength.delete(o),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:e,minDirtCount:o,batchSize:n,batchWait:r}=this._options.autoVacuum;this.conditionalVacuum({batchSize:n,batchWait:r},{minDirtCount:o,minDirtFactor:e})}discardAll(e){let o=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let n of e)this.discard(n)}finally{this._options.autoVacuum=o}this.maybeAutoVacuum()}replace(e){let{idField:o,extractField:n}=this._options,r=n(e,o);this.discard(r),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,o){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&o,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{let n=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Bn,this.performVacuuming(e,n)}),this._enqueuedVacuum)):this.vacuumConditionsMet(o)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}performVacuuming(e,o){return Do(this,void 0,void 0,function*(){let n=this._dirtCount;if(this.vacuumConditionsMet(o)){let r=e.batchSize||Dn.batchSize,a=e.batchWait||Dn.batchWait,s=1;for(let[c,d]of this._index){for(let[m,f]of d)for(let[p]of f)this._documentIds.has(p)||(f.size<=1?d.delete(m):f.delete(p));this._index.get(c).size===0&&this._index.delete(c),s%r===0&&(yield new Promise(m=>setTimeout(m,a))),s+=1}this._dirtCount-=n}yield null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null})}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:o,minDirtFactor:n}=e;return o=o||Un.minDirtCount,n=n||Un.minDirtFactor,this.dirtCount>=o&&this.dirtFactor>=n}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let o=this._idToShortId.get(e);if(o!=null)return this._storedFields.get(o)}search(e,o={}){let{searchOptions:n}=this._options,r=Object.assign(Object.assign({},n),o),a=this.executeQuery(e,o),s=[];for(let[c,{score:d,terms:m,match:f}]of a){let p=m.length||1,g={id:this._documentIds.get(c),score:d*p,terms:Object.keys(f),queryTerms:m,match:f};Object.assign(g,this._storedFields.get(c)),(r.filter==null||r.filter(g))&&s.push(g)}return e===t.wildcard&&r.boostDocument==null||s.sort(Ni),s}autoSuggest(e,o={}){o=Object.assign(Object.assign({},this._options.autoSuggestOptions),o);let n=new Map;for(let{score:a,terms:s}of this.search(e,o)){let c=s.join(" "),d=n.get(c);d!=null?(d.score+=a,d.count+=1):n.set(c,{score:a,terms:s,count:1})}let r=[];for(let[a,{score:s,terms:c,count:d}]of n)r.push({suggestion:a,terms:c,score:s/d});return r.sort(Ni),r}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,o){if(o==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),o)}static loadJSONAsync(e,o){return Do(this,void 0,void 0,function*(){if(o==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),o)})}static getDefault(e){if(Nn.hasOwnProperty(e))return Fn(Nn,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,o){let{index:n,documentIds:r,fieldLength:a,storedFields:s,serializationVersion:c}=e,d=this.instantiateMiniSearch(e,o);d._documentIds=Uo(r),d._fieldLength=Uo(a),d._storedFields=Uo(s);for(let[m,f]of d._documentIds)d._idToShortId.set(f,m);for(let[m,f]of n){let p=new Map;for(let g of Object.keys(f)){let h=f[g];c===1&&(h=h.ds),p.set(parseInt(g,10),Uo(h))}d._index.set(m,p)}return d}static loadJSAsync(e,o){return Do(this,void 0,void 0,function*(){let{index:n,documentIds:r,fieldLength:a,storedFields:s,serializationVersion:c}=e,d=this.instantiateMiniSearch(e,o);d._documentIds=yield Ro(r),d._fieldLength=yield Ro(a),d._storedFields=yield Ro(s);for(let[f,p]of d._documentIds)d._idToShortId.set(p,f);let m=0;for(let[f,p]of n){let g=new Map;for(let h of Object.keys(p)){let k=p[h];c===1&&(k=k.ds),g.set(parseInt(h,10),yield Ro(k))}++m%1e3===0&&(yield qi(0)),d._index.set(f,g)}return d})}static instantiateMiniSearch(e,o){let{documentCount:n,nextId:r,fieldIds:a,averageFieldLength:s,dirtCount:c,serializationVersion:d}=e;if(d!==1&&d!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");let m=new t(o);return m._documentCount=n,m._nextId=r,m._idToShortId=new Map,m._fieldIds=a,m._avgFieldLength=s,m._dirtCount=c||0,m._index=new Ge,m}executeQuery(e,o={}){if(e===t.wildcard)return this.executeWildcardQuery(o);if(typeof e!="string"){let g=Object.assign(Object.assign(Object.assign({},o),e),{queries:void 0}),h=e.queries.map(k=>this.executeQuery(k,g));return this.combineResults(h,g.combineWith)}let{tokenize:n,processTerm:r,searchOptions:a}=this._options,s=Object.assign(Object.assign({tokenize:n,processTerm:r},a),o),{tokenize:c,processTerm:d}=s,p=c(e).flatMap(g=>d(g)).filter(g=>!!g).map(pc(s)).map(g=>this.executeQuerySpec(g,s));return this.combineResults(p,s.combineWith)}executeQuerySpec(e,o){let n=Object.assign(Object.assign({},this._options.searchOptions),o),r=(n.fields||this._options.fields).reduce((y,w)=>Object.assign(Object.assign({},y),{[w]:Fn(n.boost,w)||1}),{}),{boostDocument:a,weights:s,maxFuzzy:c,bm25:d}=n,{fuzzy:m,prefix:f}=Object.assign(Object.assign({},Oi.weights),s),p=this._index.get(e.term),g=this.termResults(e.term,e.term,1,e.termBoost,p,r,a,d),h,k;if(e.prefix&&(h=this._index.atPrefix(e.term)),e.fuzzy){let y=e.fuzzy===!0?.2:e.fuzzy,w=y<1?Math.min(c,Math.round(e.term.length*y)):y;w&&(k=this._index.fuzzyGet(e.term,w))}if(h)for(let[y,w]of h){let T=y.length-e.term.length;if(!T)continue;k?.delete(y);let I=f*y.length/(y.length+.3*T);this.termResults(e.term,y,I,e.termBoost,w,r,a,d,g)}if(k)for(let y of k.keys()){let[w,T]=k.get(y);if(!T)continue;let I=m*y.length/(y.length+T);this.termResults(e.term,y,I,e.termBoost,w,r,a,d,g)}return g}executeWildcardQuery(e){let o=new Map,n=Object.assign(Object.assign({},this._options.searchOptions),e);for(let[r,a]of this._documentIds){let s=n.boostDocument?n.boostDocument(a,"",this._storedFields.get(r)):1;o.set(r,{score:s,terms:[],match:{}})}return o}combineResults(e,o=Kn){if(e.length===0)return new Map;let n=o.toLowerCase(),r=lc[n];if(!r)throw new Error(`Invalid combination operator: ${o}`);return e.reduce(r)||new Map}toJSON(){let e=[];for(let[o,n]of this._index){let r={};for(let[a,s]of n)r[a]=Object.fromEntries(s);e.push([o,r])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,o,n,r,a,s,c,d,m=new Map){if(a==null)return m;for(let f of Object.keys(s)){let p=s[f],g=this._fieldIds[f],h=a.get(g);if(h==null)continue;let k=h.size,y=this._avgFieldLength[g];for(let w of h.keys()){if(!this._documentIds.has(w)){this.removeTerm(g,w,o),k-=1;continue}let T=c?c(this._documentIds.get(w),o,this._storedFields.get(w)):1;if(!T)continue;let I=h.get(w),M=this._fieldLength.get(w)[g],D=mc(I,k,this._documentCount,M,y,d),j=n*r*p*T*D,K=m.get(w);if(K){K.score+=j,hc(K.terms,e);let H=Fn(K.match,o);H?H.push(f):K.match[o]=[f]}else m.set(w,{score:j,terms:[e],match:{[o]:[f]}})}}return m}addTerm(e,o,n){let r=this._index.fetch(n,Ui),a=r.get(e);if(a==null)a=new Map,a.set(o,1),r.set(e,a);else{let s=a.get(o);a.set(o,(s||0)+1)}}removeTerm(e,o,n){if(!this._index.has(n)){this.warnDocumentChanged(o,e,n);return}let r=this._index.fetch(n,Ui),a=r.get(e);a==null||a.get(o)==null?this.warnDocumentChanged(o,e,n):a.get(o)<=1?a.size<=1?r.delete(e):a.delete(o):a.set(o,a.get(o)-1),this._index.get(n).size===0&&this._index.delete(n)}warnDocumentChanged(e,o,n){for(let r of Object.keys(this._fieldIds))if(this._fieldIds[r]===o){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${n}" was not present in field "${r}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){let o=this._nextId;return this._idToShortId.set(e,o),this._documentIds.set(o,e),this._documentCount+=1,this._nextId+=1,o}addFields(e){for(let o=0;o<e.length;o++)this._fieldIds[e[o]]=o}addFieldLength(e,o,n,r){let a=this._fieldLength.get(e);a==null&&this._fieldLength.set(e,a=[]),a[o]=r;let c=(this._avgFieldLength[o]||0)*n+r;this._avgFieldLength[o]=c/(n+1)}removeFieldLength(e,o,n,r){if(n===1){this._avgFieldLength[o]=0;return}let a=this._avgFieldLength[o]*n-r;this._avgFieldLength[o]=a/(n-1)}saveStoredFields(e,o){let{storeFields:n,extractField:r}=this._options;if(n==null||n.length===0)return;let a=this._storedFields.get(e);a==null&&this._storedFields.set(e,a={});for(let s of n){let c=r(o,s);c!==void 0&&(a[s]=c)}}};$e.wildcard=Symbol("*");var Fn=i((t,e)=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,"getOwnProperty"),lc={[Kn]:(t,e)=>{for(let o of e.keys()){let n=t.get(o);if(n==null)t.set(o,e.get(o));else{let{score:r,terms:a,match:s}=e.get(o);n.score=n.score+r,n.match=Object.assign(n.match,s),Fi(n.terms,a)}}return t},[Wi]:(t,e)=>{let o=new Map;for(let n of e.keys()){let r=t.get(n);if(r==null)continue;let{score:a,terms:s,match:c}=e.get(n);Fi(r.terms,s),o.set(n,{score:r.score+a,terms:r.terms,match:Object.assign(r.match,c)})}return o},[uc]:(t,e)=>{for(let o of e.keys())t.delete(o);return t}},dc={k:1.2,b:.7,d:.5},mc=i((t,e,o,n,r,a)=>{let{k:s,b:c,d}=a;return Math.log(1+(o-e+.5)/(e+.5))*(d+t*(s+1)/(t+s*(1-c+c*n/r)))},"calcBM25Score"),pc=i(t=>(e,o,n)=>{let r=typeof t.fuzzy=="function"?t.fuzzy(e,o,n):t.fuzzy||!1,a=typeof t.prefix=="function"?t.prefix(e,o,n):t.prefix===!0,s=typeof t.boostTerm=="function"?t.boostTerm(e,o,n):1;return{term:e,fuzzy:r,prefix:a,termBoost:s}},"termToQuerySpec"),Nn={idField:"id",extractField:i((t,e)=>t[e],"extractField"),tokenize:i(t=>t.split(Sc),"tokenize"),processTerm:i(t=>t.toLowerCase(),"processTerm"),fields:void 0,searchOptions:void 0,storeFields:[],logger:i((t,e)=>{typeof console?.[t]=="function"&&console[t](e)},"logger"),autoVacuum:!0},Oi={combineWith:Kn,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:dc},fc={combineWith:Wi,prefix:i((t,e,o)=>e===o.length-1,"prefix")},Dn={batchSize:1e3,batchWait:10},Bn={minDirtFactor:.1,minDirtCount:20},Un=Object.assign(Object.assign({},Dn),Bn),hc=i((t,e)=>{t.includes(e)||t.push(e)},"assignUniqueTerm"),Fi=i((t,e)=>{for(let o of e)t.includes(o)||t.push(o)},"assignUniqueTerms"),Ni=i(({score:t},{score:e})=>e-t,"byScore"),Ui=i(()=>new Map,"createMap"),Uo=i(t=>{let e=new Map;for(let o of Object.keys(t))e.set(parseInt(o,10),t[o]);return e},"objectToNumericMap"),Ro=i(t=>Do(void 0,void 0,void 0,function*(){let e=new Map,o=0;for(let n of Object.keys(t))e.set(parseInt(n,10),t[n]),++o%1e3===0&&(yield qi(0));return e}),"objectToNumericMapAsync"),qi=i(t=>new Promise(e=>setTimeout(e,t)),"wait"),Sc=/[\n\r\p{Z}\p{P}]+/u;var Qe=_(L(),1);var mh=i((t,e,o,n=!1)=>{let r=(0,Qe.useMemo)(()=>n?null:new li(t,o),[t,o,n]);return(0,Qe.useMemo)(()=>n||!r?t:e?r.search(e).map(s=>s.item):t,[r,t,e,n])},"useFuse"),ph=i((t,e,o,n=!1)=>{let r=(0,Qe.useMemo)(()=>{if(n)return null;let s=new $e(o);return s.addAll(t),s},[t,o,n]);return(0,Qe.useMemo)(()=>n||!r?t:e?r.search(e).map(s=>s):t,[r,t,e,n])},"useMiniSearch");u();l();var ye=i((t,e)=>{let o=e?.format??"0,0.00%";return`${(e?.includePlusPrefix??!1)&&t>0?"+":""}${(0,Zr.default)(t).format(t===0?"0%":o)}`},"formatPercentage");u();l();u();l();var Vo=_(Fs(),1);var ji=_(yr(),1);var zi=(0,Vo.struct)([(0,Vo.u8)("instruction"),jr("amount")]);function Wn(t,e,o,n,r=[],a=Ce){let s=Gr([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],o,r),c=Buffer.alloc(zi.span);return zi.encode({instruction:Hr.Approve,amount:BigInt(n)},c),new ji.TransactionInstruction({keys:s,programId:a,data:c})}i(Wn,"createApproveInstruction");var Hi=new A.PublicKey("Config1111111111111111111111111111111111111"),gc="https://docs.solana.com/staking",kc="https://help.phantom.com/hc/en-us/articles/4406379756307-Why-is-my-stake-still-activating-or-deactivating";var ft={type:ze.SolanaNative,data:{amount:"0",balance:new X(0),chain:{id:N.solana.mainnetID,imageUrl:N.solana.iconUrl,name:N.solana.name,symbol:N.solana.tokenSymbol},decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"",spamStatus:Jr.NotVerified}},Gi=new Map([[Tt.Solana.Mainnet,ft]]);var qn="https://www.jito.network/staking/?mode=unstake",zn="https://help.phantom.com/hc/en-us/articles/29846774040467",yc="https://www.jito.network/blog/reward-bearing-vs-rebasing-solana-liquid-staking-tokens/",jn="https://help.phantom.com/hc/en-us/articles/41210373532307";var Hn="https://kamino.com/borrow/reserve/7u3HeHxYDLhnCoErrtycNokbQYbWGzLs6JSDqGAv5PfF/HV9KsS5mB4b9CFhDJVKdfxWBAomYfUk5PeUsdgMQsUrB",se="solana:101/address:J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",Ko=4e6,Ye=2282880;u();l();var Ue;(function(t){t.Initialized="initialized",t.Delegated="delegated"})(Ue||(Ue={}));var Je=b.object({apy:b.number()}),Ac=b.object({validators:b.array(b.string())}),$i=b.object({epoch:b.number(),effectiveSlot:b.number(),amount:b.number(),postBalance:b.number(),percentChange:b.number(),apr:b.number(),timestamp:b.number()}),wc=b.object({items:b.array($i)}),Tc=b.object({address:b.string(),chainId:Tn,decimals:b.number(),logoURI:b.string(),name:b.string(),symbol:b.string()}),bc=b.object({caip19:b.string(),metadata:Tc}),vc=b.object({vote_account:b.string()}),xc=b.object({apy:b.string(),totalRewardsFeePercentage:b.string().optional(),chainId:Tn,convertRatio:b.string(),name:b.string(),stakePoolAddress:b.string(),stakePoolTokenMetadata:bc,validators:b.array(vc)}),Qi=b.record(b.string(),b.array(xc)),Kh=b.object({totalStaked:b.string(),rewards:b.string()}),Xe=i(t=>t==="inactive","canWithdrawStakeAccount"),Ze=i(t=>t==="active"||t==="activating","canUnstakeStakeAccount");u();l();function Wo(t,e){let o=new W(t/100),n=new W(e/100);return o.minus(o.times(n)).times(100).decimalPlaces(2).toNumber()}i(Wo,"calculateTotalValidatorAPY");function Yi(t){return new W(t/100).times(100).decimalPlaces(2).toNumber()}i(Yi,"formatTotalValidatorAPY");u();l();u();l();u();l();var tt="staking",Ot;(function(t){t.convertStakeList="convertStakeAccountList",t.supportedTokens="liquidStakingSupportedTokens",t.convertStakeTransaction="convertStakeTransaction",t.mintTokenTransaction="mintTokenTransaction",t.withdrawLiquidStakeTransaction="withdrawLiquidStakeTransaction",t.featureUsed="featureUsed"})(Ot||(Ot={}));var Gn=[tt,"stakeAccounts"],$n=[tt,"stakeActivationData"],Qn=[tt,Ot.convertStakeList],Yn=[tt,Ot.convertStakeTransaction],Jn=[tt,Ot.mintTokenTransaction],Ic=[tt,Ot.withdrawLiquidStakeTransaction],Ec=[tt,"deactivateStakeTransaction"],Xn="averageValidatorApy",Pc="recommendedValidators",_c="signatureStatus",Lc="stakeAccountMinBalance",Cc="stakeRewardsHistory",Mc="stakeApy",Oc="validatorInfo",Fc="voteAccounts",Nc="validatorsV2",Uc="keybaseUserAvatar",Rc="epochTimeRemaining",F={keybaseUserAvatar(t){return[tt,Uc,t]},signatureStatus(t){return[tt,_c,t]},stakeAccounts(t,e){return[...Gn,t,e]},stakeAccountMinBalance(){return[tt,Lc]},stakeActivationData(t){return[...$n,t]},stakeRewardsHistory(t){return[tt,Cc,t]},stakeApy(){return[tt,Mc]},averageValidatorApy(){return[tt,Xn]},recommendedValidators(){return[tt,Pc]},validatorInfo(){return[tt,Oc]},voteAccounts(t){return[tt,Fc,t]},validatorsV2(){return[tt,Nc]},convertStakeAccountList(t,e){return[...Qn,t,e]},liquidStakingSupportedTokens(){return[tt,Ot.supportedTokens]},getConvertStakeTransaction(t){return[...Yn,t]},getMintTokenTransaction(t){return[...Jn,t]},getWithdrawLiquidStakeTransaction(t){return[...Ic,t]},featureUsed(){return[tt,Ot.featureUsed]},epochTimeRemaining(t){return[tt,Rc,t]},getDeactivateStakeTransaction(t){return[...Ec,t]}};var to=i(t=>()=>{t.invalidateQueries({predicate:i(e=>{let o=i(n=>n.every((r,a)=>e.queryKey[a]===r),"matchesEveryKeyScope");return o(Gn)||o($n)||o(Qn)||o(Yn)||o(Jn)},"predicate")})},"invalidateAllStakeAccountData");u();l();function qo(t,e=9){return t.match(new RegExp(`^\\d*(\\.\\d{0,${e}})?$`))}i(qo,"validateDecimals");u();l();var Ji={type:"fungible",isNativeOfType:"sol",chain:dt.Solana,name:"Solana",symbol:"SOL",iconUrl:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",decimals:9},Dc="stake",Xi=i(t=>new Zn(t,Dc),"createStakeAnalytics"),Zn=class extends _e{static{i(this,"StakeAnalytics")}createStakeAccountAndDelegateStake=i(e=>{this.analytics.capture("createStakeAccountAndDelegateStake",{data:{...e,...Ji}})},"createStakeAccountAndDelegateStake");deactivateStake=i(()=>{this.analytics.capture("deactivateStake",{data:{...Ji}})},"deactivateStake")};var tr=Wr(Wt,t=>Xi(t));u();l();var la=_(L());u();l();var Zi=new Error("Failed to fetch validators from API"),Bc=new Error("Missing validators in response"),Vc=b.object({validators:b.array(b.object({identityPubkey:b.string(),voteAccountPubkey:b.string(),commission:b.number(),lastVote:b.number(),epochCredits:b.array(b.tuple([b.number(),b.number(),b.number()])).nullish().transform(t=>t??[]),activatedStake:b.number(),info:b.object({details:b.string().optional(),keybaseUsername:b.string().optional(),name:b.string(),website:b.string().optional(),iconUrl:b.string().nullish().transform(t=>t??"")}).optional(),totalApy:b.number()}))});async function ta(){try{let t=await lt.api().get("/staking/v1/validators");if(!Kt(t))throw Zi;let e=Vc.safeParse(t.data);if(!e.success)throw console.error("Failed to parse validators from API",e.error),Bc;return e.data.validators}catch(t){throw console.error("Failed to fetch validators from API",t),Zi}}i(ta,"getValidatorsFromAPI");u();l();var ce;(function(t){t[t.Always=1/0]="Always",t[t.Short=Q({days:1})]="Short",t[t.Medium=Q({days:3})]="Medium",t[t.Long=Q({days:7})]="Long"})(ce||(ce={}));var V;(function(t){t[t.Immediate=0]="Immediate",t[t.Short=Q({minutes:1})]="Short",t[t.Medium=Q({minutes:2.5})]="Medium",t[t.Long=Q({minutes:5})]="Long",t[t.Never=1/0]="Never"})(V||(V={}));u();l();var zo=_(L());u();l();var oa=i((t,e)=>t+e[1],"calcReturns");function na(t){let e=Kc(t),o={commissionWeight:.6,epochCreditsWeight:.1,activatedStakeWeight:.3},n=qc(e.maxEpochCredits,e.maxActivatedStake,o);return t.sort(n)}i(na,"sortVoteAccounts");function Kc(t){let e={maxEpochCredits:0,maxActivatedStake:0};for(let o of t){let n=o.epochCredits.reduce(oa,0);e.maxEpochCredits<n&&(e.maxEpochCredits=n),e.maxActivatedStake<o.activatedStake&&(e.maxActivatedStake=o.activatedStake)}return e}i(Kc,"findMaxValues");function Wc(t,e,o,n,r){let a=(100-t)/100,s=e/o,c=Math.log10(n+1)/Math.log10(r+1);return{normalizedCommission:a,normalizedEpochCredits:s,normalizedActivatedStake:c}}i(Wc,"calculateNormalizedValues");function ea(t,e,o,n){let{commission:r,epochCredits:a,activatedStake:s}=t,{commissionWeight:c,epochCreditsWeight:d,activatedStakeWeight:m}=n,{normalizedCommission:f,normalizedEpochCredits:p,normalizedActivatedStake:g}=Wc(r,a.reduce(oa,0),e,s,o);return(r>10?.5:1)*(c*f+d*p+m*g)}i(ea,"calculateScore");function qc(t,e,o){return(n,r)=>{let a=ea(n,t,e,o);return ea(r,t,e,o)-a}}i(qc,"createVoteAccountSorter");u();l();u();l();var ra=new Error("Failed to fetch staking APY");async function ia(){try{let t=await lt.api().get("/staking/v1/apy");if(!Kt(t))throw ra;let e=t.data;return Je.parse(e).apy}catch{throw ra}}i(ia,"getStakingApy");var aa=i(()=>{let t=F.stakeApy();return C({enabled:!0,queryKey:t,gcTime:ce.Short,staleTime:V.Never,async queryFn(){return ia()}})},"useStakeApy");u();l();var zc=i(t=>async()=>(await t.getParsedProgramAccounts(Hi)).reduce((o,n)=>{if(n.account.data.parsed?.type!=="validatorInfo")return o;let r=n.pubkey.toString(),a=n.account.data.parsed.info.keys,[,s]=a;if(!s.signer)return o;let c=s.pubkey,d=n.account.data.parsed.info.configData;return o.push({identityPubkey:c,infoPubkey:r,info:d}),o},[]),"fetchValidatorInfo");function sa(t,e){let o=F.validatorInfo(),n=zc(t);return C({queryKey:o,queryFn:n,placeholderData:[],staleTime:V.Never,enabled:e})}i(sa,"useValidatorInfo");u();l();var jc=i(async t=>{let e=await t.getVoteAccounts();return[...e.current,...e.delinquent].map(o=>({identityPubkey:o.nodePubkey,voteAccountPubkey:o.votePubkey,commission:o.commission,lastVote:o.lastVote,epochCredits:o.epochCredits,activatedStake:o.activatedStake})).filter(o=>o.commission<99)},"fetchVoteAccounts");function ca(t,e){let o=F.voteAccounts(t.rpcEndpoint);return C({queryKey:o,queryFn:i(async()=>jc(t),"queryFn"),placeholderData:[],staleTime:V.Never,enabled:e})}i(ca,"useVoteAccounts");function ua(t,e){let{isFetched:o,isFetching:n,isSuccess:r,isError:a,isPending:s,dataUpdatedAt:c,errorUpdatedAt:d,error:m,refetch:f,data:p}=ca(t,e),g=Math.max(c,d),{data:h=null}=aa(),{isFetched:k,isFetching:y,isSuccess:w,isPending:T,isError:I,dataUpdatedAt:M,errorUpdatedAt:D,error:j,refetch:K,data:H}=sa(t,e),O=Math.max(M,D),rt=s||T,st=Math.max(g,O),ot=o&&k,it=n||y,_t=r||w,Vt=a||I,Zt=m||j,te=(0,zo.useCallback)(async()=>{Promise.all([f(),K()])},[K,f]);return{results:(0,zo.useMemo)(()=>{if(!p)return[];if(!H)return[];let oe=na(p),ne=new Map(oe.map(B=>[B.identityPubkey,B])),et=new Map(H.map(B=>[B.identityPubkey,B])),kt=[];for(let[B,Lt]of ne){let ve=et.get(B);kt.push({...Lt,...ve,totalApy:h?Wo(h,Lt.commission):0})}return kt},[H,p,h]),dataUpdatedAt:st,error:Zt,isSuccess:_t,isError:Vt,isFetched:ot,isFetching:it,isPending:rt,refetch:te}}i(ua,"useValidators");function Hc(t){let e=F.validatorsV2(),o=C({enabled:t,queryKey:e,gcTime:ce.Short,staleTime:V.Long,async queryFn(){return ta()}});return{results:(0,la.useMemo)(()=>{let r=o.data??[];return r.sort((a,s)=>s.totalApy-a.totalApy),r},[o.data]),dataUpdatedAt:o.dataUpdatedAt,error:o.error,isSuccess:o.isSuccess,isError:o.isError,isFetched:o.isFetched,isFetching:o.isFetching,isPending:o.isPending,refetch:i(async()=>{await o.refetch()},"refetch")}}i(Hc,"useValidatorsV2Inner");function eo(){let{connection:t}=mt(),e=Mr("kill-validators-v2"),o=ua(t,e),n=Hc(!e);return e?o:n}i(eo,"useValidatorsV2");u();l();function er(t){let e=!!t?.info.meta.lockup,o=new Date((t?.info.meta.lockup?.unixTimestamp??0)*1e3);return e&&o.getTime()>Date.now()}i(er,"isLockedStakeAccount");u();l();var $o=_(L());u();l();var ha=_(L());u();l();var Gc="https://keybase.io/_/api/1.0/user/pic_url.json",jo=i(async t=>{let e=await lt.get(`${Gc}?username=${encodeURIComponent(t)}`);if(!Kt(e)||e.data.status?.code!==0)throw new Error("Couldn't fetch keybase user avatar");return e.data.pic_url},"getKeybaseUserAvatar");u();l();u();l();u();l();function Ho(t,e){for(let o of e)if(o.epoch===t)return o;return null}i(Ho,"getStakeHistoryEntry");var da=.09;function $c(t,e,o){if(t.activationEpoch===t.deactivationEpoch)return{effective:BigInt(0),activating:BigInt(0)};if(e===t.activationEpoch)return{effective:BigInt(0),activating:t.stake};if(e<t.activationEpoch)return{effective:BigInt(0),activating:BigInt(0)};let n=t.activationEpoch,r=Ho(n,o);if(r!==null){let a=BigInt(0);for(;r!==null;){n++;let s=t.stake-a,c=Number(s)/Number(r.activating),d=Number(r.effective)*da,m=BigInt(Math.max(1,Math.round(c*d)));if(a+=m,a>=t.stake){a=t.stake;break}if(n>=e||n>=t.deactivationEpoch)break;r=Ho(n,o)}return{effective:a,activating:t.stake-a}}else return{effective:t.stake,activating:BigInt(0)}}i($c,"getStakeAndActivating");function ma(t,e,o){let{effective:n,activating:r}=$c(t,e,o);if(e<t.deactivationEpoch)return{effective:n,activating:r,deactivating:BigInt(0)};if(e==t.deactivationEpoch)return{effective:n,activating:BigInt(0),deactivating:n};let a=t.deactivationEpoch,s=Ho(a,o);if(s!==null){let c=n;for(;s!==null&&(a++,s.deactivating!==BigInt(0));){let d=Number(c)/Number(s.deactivating),m=Number(s.effective)*da,f=BigInt(Math.max(1,Math.round(d*m)));if(c-=f,c<=0){c=BigInt(0);break}if(a>=e)break;s=Ho(a,o)}return{effective:c,deactivating:c,activating:BigInt(0)}}else return{effective:BigInt(0),activating:BigInt(0),deactivating:BigInt(0)}}i(ma,"getStakeActivatingAndDeactivating");u();l();var pa=i(function(t){if(t.value===null||t.value.data instanceof Buffer)throw new Error("Account not found");let e=[];return t.value.data.parsed.info.forEach(o=>{e.push({epoch:BigInt(o.epoch),effective:BigInt(o.stakeHistory.effective),activating:BigInt(o.stakeHistory.activating),deactivating:BigInt(o.stakeHistory.deactivating)})}),e},"getStakeHistory"),fa=i(function(t){let e=BigInt(0);if(t.value===null||t.value.data instanceof Buffer)throw new Error("Account not found");return t.value.data.parsed.type==="delegated"&&(e=BigInt(1)),{discriminant:e,meta:{rentExemptReserve:BigInt(t.value.data.parsed.info.meta.rentExemptReserve),authorized:{staker:t.value.data.parsed.info.meta.authorized.staker,withdrawer:t.value.data.parsed.info.meta.authorized.withdrawer},lockup:{unixTimestamp:BigInt(t.value.data.parsed.info.meta.lockup.unixTimestamp),epoch:BigInt(t.value.data.parsed.info.meta.lockup.epoch),custodian:t.value.data.parsed.info.meta.lockup.custodian}},stake:{delegation:{voterPubkey:t.value.data.parsed.info.stake.delegation.voterPubkey,stake:BigInt(t.value.data.parsed.info.stake.delegation.stake),activationEpoch:BigInt(t.value.data.parsed.info.stake.delegation.activationEpoch),deactivationEpoch:BigInt(t.value.data.parsed.info.stake.delegation.deactivationEpoch)},creditsObserved:BigInt(t.value.data.parsed.info.stake.creditsObserved)}}},"getStakeAccount");async function oo(t,e){let o=new A.PublicKey("SysvarStakeHistory1111111111111111111111111"),n=await t.getParsedAccountInfo(e);if(n===null||n.value===null)throw new Error("Account not found");let r=await t.getParsedAccountInfo(o);if(r===null)throw new Error("StakeHistory not found");let a=pa(r),s=await t.getEpochInfo(),c=fa(n),{effective:d,activating:m,deactivating:f}=ma(c.stake.delegation,BigInt(s.epoch),a),p;f>0?p="deactivating":m>0?p="activating":d>0?p="active":p="inactive";let g=BigInt(n.value.lamports)-d-c.meta.rentExemptReserve;return{state:p,active:Number(d),inactive:Number(g)}}i(oo,"getStakeActivation");var Qc=i(t=>{let e=[];return t.ownerPublicKey&&e.push({memcmp:{offset:44,bytes:t.ownerPublicKey}}),t.voteAccountPublicKey&&e.push({dataSize:200},{memcmp:{offset:124,bytes:t.voteAccountPublicKey}}),e},"getStakeAccountFilters"),Sa=i(async(t,e,o)=>{let n=Qc(e),r=await t.getParsedProgramAccounts(A.StakeProgram.programId,{filters:n}),s=(await Promise.allSettled(r.map(m=>oo(t,m.pubkey)))).map(m=>{if(m.status==="fulfilled")return m.value.state}),d=(await Promise.allSettled(r.map(m=>{let f=m.account.data?.parsed?.info?.stake?.delegation?.voter,p=o.get(f),g=p?.info?.keybaseUsername,h=p?.info?.iconUrl;return h?new Promise(k=>k(h)):g?jo(g):new Promise(k=>k(null))}))).map(m=>{if(m.status==="fulfilled"&&m.value!==null)return m.value});return r.map((m,f)=>({pubkey:m.pubkey.toString(),lamports:m.account.lamports,activationState:s[f],imageUri:d[f],...m.account.data.parsed}))},"fetchStakeAccounts"),ga=i((t,e)=>F.convertStakeAccountList(t,e),"getQueryKey"),Yc=i((t,e,o)=>()=>Sa(t,{ownerPublicKey:e},o),"getQueryFn");function ka(t,e,o,n=!0){let r=ga(e,t.rpcEndpoint),a=Yc(t,e,o);return C({queryKey:r,queryFn:a,enabled:!!e&&n,staleTime:V.Never})}i(ka,"useConvertStakeAccountList");var ya=i((t,e,o,n)=>{let r=bt();return(0,ha.useCallback)(async()=>{n&&await r.prefetchQuery({queryKey:ga(e,t.rpcEndpoint),queryFn:i(()=>Sa(t,{ownerPublicKey:e},o),"queryFn")})},[r,e,t,o,n])},"usePrefetchConvertStakeAccountList");u();l();var Pt=_(L());var Go=null,Jc=i(t=>{if(!Go&&t){let e="liquidStake";Go=new _e(t,e)}if(!Go)throw new Error("liquidStakeAnalytics was not properly configured");return Go},"getLiquidStakeSequenceAnalytics"),Ft=i(()=>{let t=Wt(),e=Jc(t),o=(0,Pt.useCallback)((h,k)=>{t.capture("liquidStakingConvertAccountClicked",{data:{stake:{validatorName:h,stakeAccountBalance:k}}})},[t]),n=(0,Pt.useCallback)(h=>{t.capture("liquidStakingConvertAccountListSeen",{data:{stake:{stakeAccounts:h}}})},[t]),r=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertBannerClicked")},[t]),a=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertBannerSeen")},[t]),s=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertModalContinue")},[t]),c=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertModalNotNow")},[t]),d=(0,Pt.useCallback)(({provider:h,convertDetails:k,amount:y,fromAmount:w,toAmount:T,fromAmountUSD:I,toAmountUSD:M})=>{t.capture("liquidStakingConvertApprovedByUser",{data:{stake:{stakePoolAddress:h?.stakePoolAddress,token:h?.stakePoolTokenMetadata.metadata.name,fromAmount:w,toAmount:T,fromAmountUSD:I,toAmountUSD:M,apy:h?.apy,convertRatio:h?.convertRatio,caip19:h?.stakePoolTokenMetadata.caip19,validatorName:k?.validatorName,stakeAccountBalance:y}}})},[t]),m=(0,Pt.useCallback)((h,k)=>{e.submittedTransaction(h,{chainType:q.Solana,chainName:dt.Solana,networkId:"mainnet",method:"signAndSendTransaction",walletAddress:k})},[e]),f=(0,Pt.useCallback)(({amount:h,convertDetails:k,provider:y})=>{t.capture("liquidStakingConvertSuccess",{data:{stake:{apy:y?.apy,convertRatio:y?.convertRatio,caip19:y?.stakePoolTokenMetadata.caip19,stakePoolAddress:y?.stakePoolAddress,token:y?.stakePoolTokenMetadata.metadata.name,totalAmount:h,validatorName:k?.validatorName}}})},[t]),p=(0,Pt.useCallback)(({amount:h,convertDetails:k})=>{t.capture("liquidStakingConvertFailed",{data:{stake:{validatorName:k?.validatorName,stakeAccountBalance:h}}})},[t]),g=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertMoreClicked")},[t]);return{trackConvertStakeAccountClicked:o,trackConvertStakeAccountListSeen:n,trackConvertBannerClicked:r,trackConvertBannerSeen:a,trackConvertModalContinue:s,trackConvertModalNotNow:c,trackConvertApprovedByUser:d,trackConvertFailed:p,trackConvertSubmitted:m,trackConvertSuccess:f,trackConvertMoreClicked:g}},"useConvertStakeAnalytics");var Xc=i(()=>{let{connection:t}=mt(),{data:e}=vt(q.Solana),{trackConvertModalContinue:o,trackConvertModalNotNow:n}=Ft(),{results:r,isFetched:a}=eo(),s=(0,$o.useMemo)(()=>new Map(r.map(d=>[d.voteAccountPubkey,d])),[r]),c=ya(t,e?.address??"",s,a);return(0,$o.useEffect)(()=>{c()},[c]),{trackConvertModalContinue:o,trackConvertModalNotNow:n}},"useConvertStakeAccountInfoPageProps");u();l();u();l();var Aa=i(({numSignatures:t,lamportsPerSignature:e,lamportBalance:o,rentExemptionMinimum:n})=>{let r=X(e).multipliedBy(t),a=o.minus(r);return X.max(a.minus(n),0)},"getMaxTransferrableSol");var Zc=i(({balance:t,rentExemptionMinimum:e})=>{let o=Aa({numSignatures:11,lamportsPerSignature:Yr,lamportBalance:X(t),rentExemptionMinimum:vr(e)});return parseFloat(br(o).toFixed(9))},"useGetMaxTransferrableSol");u();l();var tu=i(t=>{let e=F.keybaseUserAvatar(t);return C({enabled:!!t,queryKey:e,async queryFn(){if(!t)throw new Error("Keybase username is required");return jo(t)},placeholderData:"",staleTime:V.Never})},"useKeybaseUserAvatar");u();l();u();l();var wa=new Error("Missing sender address for staking fungibles."),Ta=new Error("Missing signature from waiting for staking transaction confirmation."),ba=new Error("PublicKey is required"),Re;(function(t){t.MissingTransactionData="MissingTransactionData",t.UnknownError="UnknownError",t.FailedToConfirmTransaction="FailedToConfirmTransaction"})(Re||(Re={}));var Ae=class extends Error{static{i(this,"StakingError")}constructor(e){super(e)}};var eu=i(async(t,e)=>await t.getSignatureStatuses([e],{searchTransactionHistory:!0}),"fetchSignatureStatus");function ou(t,e,o){let n=bt(),r=F.signatureStatus(o),a=i(async()=>{if(!o)throw Ta;let m=await eu(t,o);return{...m,value:m.value[0]}},"queryFn"),c=n.getQueryData(r)?.value?.confirmationStatus;return C({queryKey:r,queryFn:a,enabled:!!o&&c!=="finalized",refetchInterval:e,staleTime:V.Never})}i(ou,"useSignatureStatus");u();l();var nu=i(t=>async()=>await t.getMinimumBalanceForRentExemption(A.StakeProgram.space),"getStakeAccountMinBalance");function ru(t){let e=F.stakeAccountMinBalance(),o=nu(t);return C({queryKey:e,queryFn:o,placeholderData:0,staleTime:V.Never})}i(ru,"useStakeAccountMinBalance");u();l();var iu=i(async(t,e,o,n="confirmed")=>await t.getInflationReward(e,o,n),"getInflationReward"),au=i(async(t,e)=>{let o=[];e.ownerPublicKey&&o.push({memcmp:{offset:44,bytes:e.ownerPublicKey}}),e.voteAccountPublicKey&&o.push({dataSize:200},{memcmp:{offset:124,bytes:e.voteAccountPublicKey}});let n=await t.getParsedProgramAccounts(A.StakeProgram.programId,{filters:o}),r=[];if(e.fetchInflationRewards)try{r=await iu(t,n.map(({pubkey:a})=>a))}catch(a){let s=a;!s.message.includes("RPC request timed out")&&$.captureError(s,G.Staking)}return n.map((a,s)=>({pubkey:a.pubkey.toString(),lamports:a.account.lamports,inflationReward:r[s]?.amount,...a.account.data.parsed}))},"fetchStakeAccounts"),su=i((t,e)=>F.stakeAccounts(t,e),"getQueryKey"),cu=i((t,e)=>()=>au(t,{ownerPublicKey:e,fetchInflationRewards:!0}),"getQueryFn");function uu(t,e){let o=su(e,t.rpcEndpoint),n=cu(t,e);return C({queryKey:o,queryFn:n,placeholderData:[],staleTime:Q({minutes:5})})}i(uu,"useStakeAccounts");u();l();function lu(t,e){let o=F.stakeActivationData(e);return C({queryKey:o,queryFn:i(async()=>{if(!e)throw ba;return await oo(t,new A.PublicKey(e))},"queryFn"),enabled:!!e,staleTime:V.Never})}i(lu,"useStakeActivationData");u();l();var Ia=_(L());u();l();u();l();var va=new Error("Failed to fetch liquid staking supported tokens"),du=new Error("Missing supported tokens in response");async function xa(){try{let t=await lt.api().get("/liquid-staking/v1/supported-tokens");if(!Kt(t))throw va;let e=Qi.safeParse(t.data.supportedTokens);if(!e.success)throw du;return e.data}catch{throw va}}i(xa,"getLiquidStakingSupportedTokens");var Qo=i(()=>{let t=F.liquidStakingSupportedTokens();return C({queryKey:t,staleTime:Q({minutes:15}),async queryFn(){return await xa()}})},"useLiquidStakingSupportedTokens");function mu(t){return typeof t=="string"?t:t?ie(qt(t)):""}i(mu,"getCaip19String");var Gt=i(t=>{let e=mu(t),o=yt("enable-psol-staking"),{data:n={}}=Qo(),r=(0,Ia.useMemo)(()=>!!Object.values(n).flat().find(s=>s.stakePoolTokenMetadata.caip19===e),[e,n]);return e===U?o&&r:r},"useIsSupportedLST");u();l();u();l();var no=_(L());u();l();u();l();var Ea=new Error("Failed to fetch Average Validator APY");async function Pa(){let t=await lt.api().get("/staking/v1/avg-validator-apy");if(!Kt(t))throw Ea;let e=Je.safeParse(t.data);if(e.success)return e.data.apy;throw Ea}i(Pa,"getAverageValidatorApy");var _a=i(()=>{let t=F.averageValidatorApy();return C({enabled:!0,queryKey:t,gcTime:Q({hours:1}),staleTime:1/0,async queryFn(){return Pa()}})},"useAverageValidatorApy");var La=i(t=>{let e=(0,no.useMemo)(()=>t?ie(qt(t)):"",[t]),{data:o,isPending:n}=_a(),r=o?o/100:null,{data:a={},isPending:s}=Qo(),c=(0,no.useMemo)(()=>a[e]??[],[e,a]),d=c?c[0]:void 0,m=(0,no.useCallback)((f,p=!1)=>f?c.find(g=>g.stakePoolTokenMetadata.caip19===f):p?void 0:d,[d,c]);return{isLoading:s||n,isSupported:c.length>0,providers:c,pickedLSTProvider:m,defaultProvider:d,avgValidatorApy:r}},"useLiquidStaking");var Nt=i(t=>{let e=Gi.get(t);return La(e)},"useNativeLiquidStaking");u();l();var Ca=_(L());var pu=i(({onLiquidStake:t,onNativeStake:e})=>{let{t:o}=J(),n=zn,{avgValidatorApy:r,pickedLSTProvider:a}=Nt(Tt.Solana.Mainnet),s=Gt(U),c=a(s?U:ai);return{options:(0,Ca.useMemo)(()=>[{type:"liquid",isRecommended:!0,title:o("stakeMethodSelectionLiquidStakingTitle"),description:o("stakeMethodSelectionLiquidStakingDescription",{poolTokenSymbol:c?.stakePoolTokenMetadata?.metadata?.symbol}),apy:c?o("stakeMethodEstApy",{apy:ye(parseFloat(c.apy))}):null,disabled:!c,onClick:t??(()=>{})},{type:"native",isRecommended:!1,title:o("stakeMethodSelectionNativeStakingTitle"),description:o("stakeMethodSelectionNativeStakingDescription"),apy:r?o("stakeMethodEstApy",{apy:ye(r)}):null,onClick:e,disabled:!1}],[r,c,t,e,o]),learnMoreLink:n}},"useStakingMethodSelectionProps");u();l();function fu({hideOnLowBalance:t}){let{pickedLSTProvider:e}=Nt(Tt.Solana.Mainnet),o=Gt(U),n=e(U),{data:r}=oi();if(!r||!n)return{shouldHide:!0,apy:0,formattedApy:"0%"};let a=It(r.totalQuantityString,r.decimals),s=!1;t&&(s=!a.isGreaterThan(0)),o||(s=!0);let c=parseFloat(n.apy),d=`${(c*100).toFixed(2)}%`;return{shouldHide:s,apy:c,formattedApy:d}}i(fu,"useStakingWelcomeProps");u();l();var Jt=i(()=>{let{data:t}=pi(),e=t==="GB",o=yt("enable-uk-staking-disclaimers"),n=yt("enable-uk-staking-override"),r=Gt(U);return n?!0:o&&e&&r},"useShowUKDisclaimer");u();l();var Oa=_(L());u();l();var hu=i(async t=>{let e=await t.getEpochInfo(),o=e.slotsInEpoch-e.slotIndex;return{hours:o*.4/3600,totalSlots:e.slotsInEpoch,remainingSlots:o,epoch:e.epoch}},"fetchEpochTimeRemaining"),Ma=i(t=>{let e=F.epochTimeRemaining(t.rpcEndpoint);return C({queryKey:e,queryFn:i(async()=>hu(t),"queryFn"),placeholderData:{hours:0,totalSlots:0,remainingSlots:0,epoch:0},staleTime:V.Long})},"useEpochTimeRemaining");var we=i(()=>{let{t}=J(),{connection:e}=mt(),{data:o}=Ma(e);return(0,Oa.useMemo)(()=>{if(!o)return"";if(o.hours<24){let r=Math.max(o.hours,1),a=t(r===1?"timeUnitHour":"timeUnitHours");return`${r.toFixed(0)} ${a}`}else{let r=o.hours,a=Math.floor(r/24),s=r%24,c=Math.floor(s),d=t(c===1?"timeUnitHour":"timeUnitHours"),m=t(a===1?"timeUnitDay":"timeUnitDays");return c===0?`${a} ${m}`:`${a} ${m} ${c} ${d}`}},[o,t])},"useDurationUntilEpochEnds");u();l();u();l();var ro=_(L());u();l();var Fa=i(t=>er(t)?!1:Xe(t.activationState),"isEligibleToConvert");var Yo=i(t=>{let e=yt("enable-psol-native-convert"),o=yt("enable-psol-native-delayed-convert"),{connection:n}=mt(),{data:r}=vt(q.Solana),{results:a,isFetched:s,isError:c}=eo(),d=(0,ro.useMemo)(()=>new Map(a.map(I=>[I.voteAccountPubkey,I])),[a]),{data:m,isLoading:f,isFetching:p,error:g,refetch:h}=ka(n,r?.address??"",d,s||c),k=f||p,y=(0,ro.useMemo)(()=>k||!m?[]:m.map(I=>Su(I,d)).sort((I,M)=>I.lamports>M.lamports?-1:1),[k,m,d]),w=(0,ro.useMemo)(()=>y.filter(I=>I.eligible),[y]),T=(0,ro.useMemo)(()=>y.filter(I=>!I.eligible),[y]);return t?.stakePoolTokenMetadata.caip19===U?{hasConvertibleStakeAccounts:e&&w.length>0||o&&T.length>0,eligibleStakeAccounts:w,inelegibleStakeAccounts:T,isLoadingList:k,error:g,refetch:h}:{hasConvertibleStakeAccounts:!1,eligibleStakeAccounts:[],inelegibleStakeAccounts:[],isLoadingList:k,error:g,refetch:h}},"useConvertibleStakeAccounts"),Su=i((t,e)=>{let o=Fa(t),n=gu(t,e),r=t.lamports;return{...t,amount:r,eligible:o,title:n,imageUri:t.imageUri}},"mapStakeAccountToViewState"),gu=i((t,e)=>{let o="";if(t.type===Ue.Delegated){let{voter:n}=t.info.stake.delegation,r=e.get(n),a=r?.info?.keybaseUsername;o=r?.info?.name??a??Dr(n)}else t.type===Ue.Initialized&&(o=t.pubkey);return o},"getTitleForConvertStakeAccount");u();l();var ku=i(()=>{let t=io();if(!t)throw new Error("PSOL provider not found");return t},"usePSolProviderUnsafe"),io=i(()=>{let{pickedLSTProvider:t}=Nt(N.solana.mainnetID);return t(U,!0)},"usePSolProvider");u();l();var Ra=_(L());u();l();var Jo=_(L());u();l();var ao;(function(t){t.FeatureUsed="featureUsed"})(ao||(ao={}));function Na({key:t,queryKey:e,defaultValue:o=null}){let n=qe();return C({enabled:!0,queryKey:e,gcTime:ce.Long,staleTime:V.Never,async queryFn(){try{return await n.get(t)}catch(r){return r instanceof Error&&$.captureError(r,G.Staking),o}}})}i(Na,"useStakeStorageValue");function Ua({key:t,queryKey:e}){let o=qe(),n=bt();return Pe({async mutationFn(r){try{return await o.set(t,r)}catch(a){a instanceof Error&&$.captureError(a,G.Staking);return}},async onMutate(r){await n.cancelQueries({queryKey:e});let a=n.getQueryData(e);return n.setQueryData(e,r),{previousValue:a}},onError(r,a,s){n.setQueryData(e,s?.previousValue)}})}i(Ua,"useSetStakeStorageValue");var yu=b.object({convert:b.boolean(),mint:b.boolean()}),or={convert:!1,mint:!1},Au=JSON.stringify(or),De=i(()=>{let{data:t}=Na({key:ao.FeatureUsed,queryKey:F.featureUsed(),defaultValue:Au}),e=(0,Jo.useMemo)(()=>{if(!t)return or;let r=yu.safeParse(JSON.parse(t));return r.success?r.data:or},[t]),{mutateAsync:o}=Ua({key:ao.FeatureUsed,queryKey:F.featureUsed()}),n=(0,Jo.useCallback)(async r=>{let a={...e,...r};await o(JSON.stringify(a))},[o,e]);return{usageState:e,setUsageState:n}},"useFeatureUsage");var nr=i(({method:t,goToInfoPage:e,goToInitFlowPage:o})=>{let{usageState:n}=De();return(0,Ra.useCallback)(()=>{n[t]?o():e()},[e,o,t,n])},"useOnShowLiquidStakingMethod");u();l();var wu=i(t=>{let e=Jt();return t&&t!==U?{screen:"MintLiquidStakeAmountPage",params:{lstCaip19:t}}:e?{screen:"MintPSOLUKInfoPage",params:{presentNext:!0}}:{screen:"MintLiquidStakeAmountPage",params:{lstCaip19:U}}},"useLiquidStakingScreen");u();l();var Da=_(L());u();l();u();l();var so={transactionData:void 0,provider:void 0,convert:{validatorVote:"",stakeAccount:"",validatorName:"",eligibleAccountsCount:0,activationState:void 0,stakeAuthorityPubkey:""},amount:"",navigateTo:null},R=qr(t=>({...so,resetStaking:i(()=>t(e=>({...e,amount:so.amount,transactionData:so.transactionData,convert:so.convert,navigateTo:so.navigateTo})),"resetStaking"),setTransactionData:i(e=>t({transactionData:e}),"setTransactionData"),setProvider:i(e=>t({provider:e}),"setProvider"),setConvertStakeAccount:i(e=>t({convert:e}),"setConvertStakeAccount"),setAmount:i(e=>t({amount:e}),"setAmount"),setNavigateTo:i(e=>t({navigateTo:e}),"setNavigateTo")}));var Ba=i(t=>{let e=R(m=>m.setConvertStakeAccount),o=R(m=>m.setAmount),{trackConvertStakeAccountClicked:n}=Ft(),r=io(),a=yt("enable-psol-native-delayed-convert"),{eligibleStakeAccounts:s,inelegibleStakeAccounts:c}=Yo(r);return(0,Da.useCallback)(({stakeAccount:m,validatorName:f,activationState:p})=>{let g=m?.info?.stake?.delegation?.voter??"",h=`${m?.lamports??"0"}`;e({validatorVote:g,stakeAccount:m.pubkey,stakeAuthorityPubkey:m?.info?.meta?.authorized?.staker??"",validatorName:f??"",activationState:p,eligibleAccountsCount:a?s.length+c.length:s.length}),o(h),n(f??"",h),t()},[n,t,e,o,s.length,c.length,a])},"useConvertStakeNavigateToReview");u();l();var co=_(L());var Tu=i(t=>{let e=ft,{pickedLSTProvider:o}=Nt(N.solana.mainnetID),n=o(U,!0),{trackConvertStakeAccountListSeen:r}=Ft(),{error:a,refetch:s,isLoadingList:c,eligibleStakeAccounts:d,inelegibleStakeAccounts:m}=Yo(n);(0,co.useEffect)(()=>{c||r([...d,...m].map(k=>({title:k.title,amount:k.amount,eligible:k.eligible})))},[r,d,m,c]);let f=Ba(t),p=(0,co.useCallback)(k=>{f({stakeAccount:k,validatorName:k.title,activationState:k.activationState})},[f]),g=we(),h=(0,co.useCallback)(()=>{s()},[s]);return{isLoading:c,error:a,eligibleStakeAccounts:d,inelegibleStakeAccounts:m,onReload:h,onSelectStakeAccount:p,tokenSymbol:e?.data.symbol??"",tokenDecimals:e?.data.decimals??0,durationUntilEpochEnds:g}},"useConvertStakeAccountListPageProps");u();l();u();l();var Va=_(L());var Xo=i(()=>{let t=bt();return(0,Va.useCallback)(()=>to(t)(),[t])},"useInvalidateQueries"),Ka=i((t,e,o)=>Eo({connection:t,signature:e,commitment:"finalized"}).then(()=>{to(o)()}),"invalidateStakeDataOnTransactionFinalized");u();l();var Ve=_(go());u();l();var rr=_(Ms());var xb=new A.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");var At=new A.PublicKey("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy");var Ib=rr.Buffer.from("ephemeral"),Wa=rr.Buffer.from("transient"),uo=A.LAMPORTS_PER_SOL;u();l();var ir=Object.freeze({DepositStake:{index:9,layout:wt.struct([wt.u8("instruction")])},DepositSol:{index:14,layout:wt.struct([wt.u8("instruction"),wt.ns64("lamports")])},WithdrawStake:{index:10,layout:wt.struct([wt.u8("instruction"),wt.ns64("poolTokens")])},WithdrawSol:{index:16,layout:wt.struct([wt.u8("instruction"),wt.ns64("poolTokens")])}});function ar(t,e){let o=t.layout.span,n=Buffer.alloc(o),r=Object.assign({instruction:t.index},e);return t.layout.encode(r,n),n}i(ar,"encodeData");var Be=class{static{i(this,"StakePoolInstruction")}static depositSol(e){let{stakePool:o,withdrawAuthority:n,depositAuthority:r,reserveStake:a,fundingAccount:s,destinationPoolAccount:c,managerFeeAccount:d,referralPoolAccount:m,poolMint:f,lamports:p,referralAccount:g}=e,h=ir.DepositSol,k=ar(h,{lamports:p}),y=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:A.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Ce,isSigner:!1,isWritable:!1}];return r&&y.push({pubkey:r,isSigner:!0,isWritable:!1}),g&&y.push({pubkey:g,isSigner:!1,isWritable:!1}),new Y.TransactionInstruction({programId:At,keys:y,data:k})}static withdrawStake(e){let{stakePool:o,validatorList:n,withdrawAuthority:r,validatorStake:a,destinationStake:s,destinationStakeAuthority:c,sourceTransferAuthority:d,sourcePoolAccount:m,managerFeeAccount:f,poolMint:p,poolTokens:g}=e,h=ir.WithdrawStake,k=ar(h,{poolTokens:g}),y=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:A.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ce,isSigner:!1,isWritable:!1},{pubkey:A.StakeProgram.programId,isSigner:!1,isWritable:!1}];return new Y.TransactionInstruction({programId:At,keys:y,data:k})}static withdrawSol(e){let{stakePool:o,withdrawAuthority:n,sourceTransferAuthority:r,sourcePoolAccount:a,reserveStake:s,destinationSystemAccount:c,managerFeeAccount:d,solWithdrawAuthority:m,poolMint:f,poolTokens:p}=e,g=ir.WithdrawSol,h=ar(g,{poolTokens:p}),k=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:A.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:A.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:A.StakeProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Ce,isSigner:!1,isWritable:!1}];return m&&k.push({pubkey:m,isSigner:!0,isWritable:!1}),new Y.TransactionInstruction({programId:At,keys:k,data:h})}};u();l();var x=_(ja());var Ga=_(go()),$a=_(vn());var le=[(0,x.u64)("denominator"),(0,x.u64)("numerator")],Ha;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.StakePool=1]="StakePool",t[t.ValidatorList=2]="ValidatorList"})(Ha||(Ha={}));var Zo=wn().transform(t=>new Ga.default(t,10)),tn=wn().transform(t=>new A.PublicKey(t)),Wu=Ar(["uninitialized","initialized","delegated","rewardsPool"]),qu=re({rentExemptReserve:Zo,authorized:re({staker:tn,withdrawer:tn}),lockup:re({unixTimestamp:We(),epoch:We(),custodian:tn})}),zu=re({meta:qu,stake:re({delegation:re({voter:tn,stake:Zo,activationEpoch:Zo,deactivationEpoch:Zo,warmupCooldownRate:We()}),creditsObserved:We()}).nullish().default(null)}),Qa=re({type:Wu,info:wr(zu)}),lr=class extends $a.Layout{static{i(this,"FutureEpochLayout")}layout;discriminator;constructor(e,o){super(-1,o),this.layout=e,this.discriminator=(0,x.u8)()}encode(e,o,n=0){return e==null?this.discriminator.encode(0,o,n):(this.discriminator.encode(2,o,n),this.layout.encode(e,o,n+1)+1)}decode(e,o=0){let n=this.discriminator.decode(e,o);if(n===0)return null;if(n===1||n===2)return this.layout.decode(e,o+1);throw new Error("Invalid future epoch "+this.property)}getSpan(e,o=0){let n=this.discriminator.decode(e,o);if(n===0)return 1;if(n===1||n===2)return this.layout.getSpan(e,o+1)+1;throw new Error("Invalid future epoch "+this.property)}};function ur(t,e){return new lr(t,e)}i(ur,"futureEpoch");var Ya=(0,x.struct)([(0,x.u8)("accountType"),(0,x.publicKey)("manager"),(0,x.publicKey)("staker"),(0,x.publicKey)("stakeDepositAuthority"),(0,x.u8)("stakeWithdrawBumpSeed"),(0,x.publicKey)("validatorList"),(0,x.publicKey)("reserveStake"),(0,x.publicKey)("poolMint"),(0,x.publicKey)("managerFeeAccount"),(0,x.publicKey)("tokenProgramId"),(0,x.u64)("totalLamports"),(0,x.u64)("poolTokenSupply"),(0,x.u64)("lastUpdateEpoch"),(0,x.struct)([(0,x.u64)("unixTimestamp"),(0,x.u64)("epoch"),(0,x.publicKey)("custodian")],"lockup"),(0,x.struct)(le,"epochFee"),ur((0,x.struct)(le),"nextEpochFee"),(0,x.option)((0,x.publicKey)(),"preferredDepositValidatorVoteAddress"),(0,x.option)((0,x.publicKey)(),"preferredWithdrawValidatorVoteAddress"),(0,x.struct)(le,"stakeDepositFee"),(0,x.struct)(le,"stakeWithdrawalFee"),ur((0,x.struct)(le),"nextStakeWithdrawalFee"),(0,x.u8)("stakeReferralFee"),(0,x.option)((0,x.publicKey)(),"solDepositAuthority"),(0,x.struct)(le,"solDepositFee"),(0,x.u8)("solReferralFee"),(0,x.option)((0,x.publicKey)(),"solWithdrawAuthority"),(0,x.struct)(le,"solWithdrawalFee"),ur((0,x.struct)(le),"nextSolWithdrawalFee"),(0,x.u64)("lastEpochPoolTokenSupply"),(0,x.u64)("lastEpochTotalLamports")]),en;(function(t){t[t.Active=0]="Active",t[t.DeactivatingTransient=1]="DeactivatingTransient",t[t.ReadyForRemoval=2]="ReadyForRemoval"})(en||(en={}));var ju=(0,x.struct)([(0,x.u64)("activeStakeLamports"),(0,x.u64)("transientStakeLamports"),(0,x.u64)("lastUpdateEpoch"),(0,x.u64)("transientSeedSuffixStart"),(0,x.u64)("transientSeedSuffixEnd"),(0,x.u8)("status"),(0,x.publicKey)("voteAccountAddress")]),on=(0,x.struct)([(0,x.u8)("accountType"),(0,x.u32)("maxValidators"),(0,x.vec)(ju,"validators")]);u();l();var Ut=_(go());function dr(t){return isNaN(t)?0:Number(t*A.LAMPORTS_PER_SOL)}i(dr,"solToLamports");function nn(t,e){let o=e.mul(t.totalLamports),n=t.poolTokenSupply;return o.lt(n)?new Ut.default(0):o.div(n)}i(nn,"calcLamportsWithdrawAmount");async function rn(t,e){let[o]=await A.PublicKey.findProgramAddress([e.toBuffer(),Buffer.from("withdraw")],t);return o}i(rn,"findWithdrawAuthorityProgramAddress");async function an(t,e,o,n){let[r]=await A.PublicKey.findProgramAddress([e.toBuffer(),o.toBuffer(),n?new Ut.default(n).toArrayLike(Buffer,"le",4):Buffer.alloc(0)],t);return r}i(an,"findStakeProgramAddress");function Te(t){if(typeof t=="number")return Math.abs(t)/A.LAMPORTS_PER_SOL;if(typeof t=="bigint")return Math.abs(Number(t))/A.LAMPORTS_PER_SOL;let e=1;t.isNeg()&&(e=-1);let n=t.abs().toString(10).padStart(10,"0"),r=n.length-9,a=n.slice(0,r)+"."+n.slice(r);return e*parseFloat(a)}i(Te,"lamportsToSol");async function Hu(t,e,o,n){let[r]=await A.PublicKey.findProgramAddress([Wa,e.toBuffer(),o.toBuffer(),n.toArrayLike(Buffer,"le",8)],t);return r}i(Hu,"findTransientStakeProgramAddress");function Gu(t,e){return t.poolTokenSupply.isZero()||t.totalLamports.isZero()?e:e.mul(t.poolTokenSupply).div(t.totalLamports)}i(Gu,"calcPoolTokensForDeposit");async function Ja(t,e,o,n,r,a){let s=await t.getAccountInfo(e.validatorList),c=on.decode(s?.data);if(!c?.validators||c?.validators.length==0)throw new Error("No accounts found");let d=await t.getMinimumBalanceForRentExemption(A.StakeProgram.space),m=new Ut.default(d+uo),f=[];for(let T of c.validators){if(T.status!==en.Active)continue;let I=await an(At,T.voteAccountAddress,o);if(!T.activeStakeLamports.isZero()){let D=e?.preferredWithdrawValidatorVoteAddress?.equals(T.voteAccountAddress);f.push({type:D?"preferred":"active",voteAddress:T.voteAccountAddress,stakeAddress:I,lamports:T.activeStakeLamports})}let M=T.transientStakeLamports.sub(m);if(M.gt(new Ut.default(0))){let D=await Hu(At,T.voteAccountAddress,o,T.transientSeedSuffixStart);f.push({type:"transient",voteAddress:T.voteAccountAddress,stakeAddress:D,lamports:M})}}f=f.sort(r||((T,I)=>I.lamports.sub(T.lamports).toNumber()));let p=await t.getAccountInfo(e.reserveStake),g=new Ut.default((p?.lamports??0)-d);g.gt(new Ut.default(0))&&f.push({type:"reserve",stakeAddress:e.reserveStake,lamports:g});let h=[],k=new Ut.default(n),y=e.stakeWithdrawalFee,w={numerator:y.denominator.sub(y.numerator),denominator:y.denominator};for(let T of["preferred","active","transient","reserve"]){let I=f.filter(M=>M.type==T);for(let{stakeAddress:M,voteAddress:D,lamports:j}of I){if(j.lte(m)&&T=="transient")continue;let K=Gu(e,j);!a&&!w.numerator.isZero()&&(K=K.mul(w.denominator).div(w.numerator));let H=Ut.default.min(K,k);if(!H.lte(new Ut.default(0))&&(h.push({stakeAddress:M,voteAddress:D,poolAmount:H}),k=k.sub(H),k.isZero()))break}if(k.isZero())break}if(k.gt(new Ut.default(0)))throw new Error(`No stake accounts found in this pool with enough balance to withdraw ${Te(n)} pool tokens.`);return h}i(Ja,"prepareWithdrawAccounts");function Xa(t,e,o){let n=A.Keypair.generate();return e.push(A.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.publicKey,lamports:o,space:A.StakeProgram.space,programId:A.StakeProgram.programId})),n}i(Xa,"newStakeAccount");function lo(t){let e,o;return t.solWithdrawalFee&&(e=t.solWithdrawalFee.numerator.toNumber()*100/t.solWithdrawalFee.denominator.toNumber()),t.stakeWithdrawalFee&&(o=t.stakeWithdrawalFee.numerator.toNumber()*100/t.stakeWithdrawalFee.denominator.toNumber()),{solWithdrawalFee:e,stakeWithdrawalFee:o}}i(lo,"getStakePoolFee");async function sn(t,e){let o=await t.getAccountInfo(e);if(!o)throw new Error("Invalid stake pool account");return{pubkey:e,account:{data:Ya.decode(o.data),executable:o.executable,lamports:o.lamports,owner:o.owner}}}i(sn,"getStakePoolAccount");async function $u(t,e){let o=(await t.getParsedAccountInfo(e)).value;if(!o||!("parsed"in o.data))throw new Error("Invalid stake account");if(o.data.program!="stake")throw new Error("Not a stake account");return Qa.parse(o.data.parsed)}i($u,"getStakeAccount");async function cn(t,e,o,n,r,a,s,c,d=!0){if(d){let T=await t.getBalance(o,"confirmed");if(T<n)throw new Error(`Not enough SOL to deposit into pool. Maximum deposit amount is ${Te(T)} SOL.`)}let f=(await sn(t,e)).account.data,p=new A.Keypair,g=[p],h=[];if(h.push(A.SystemProgram.transfer({fromPubkey:o,toPubkey:p.publicKey,lamports:n})),!r){let T=Io(f.poolMint,o);h.push($r(o,T,o,f.poolMint)),r=T}let k=await rn(At,e);h.push(Be.depositSol({stakePool:e,reserveStake:f.reserveStake,fundingAccount:p.publicKey,destinationPoolAccount:r,managerFeeAccount:f.managerFeeAccount,referralPoolAccount:s??r,poolMint:f.poolMint,lamports:n,withdrawAuthority:k,depositAuthority:c,referralAccount:a}));let{solWithdrawalFee:y,stakeWithdrawalFee:w}=lo(f);return{instructions:h,signers:g,solWithdrawalFee:y,stakeWithdrawalFee:w}}i(cn,"depositSol");async function Za(t,e){let o=await sn(t,e);return lo(o.account.data)}i(Za,"fetchStakePoolFees");async function ts(t,e,o,n,r=!1,a,s,c,d){let m=await sn(t,e),f=new Ve.default(dr(n));c||(c=Io(m.account.data.poolMint,o));let p=await xn(t,c);if(p.amount<f.toNumber())throw new Error(`Not enough token balance to withdraw ${Te(f)} pool tokens.
          Maximum withdraw amount is ${Te(p.amount)} pool tokens.`);let g=await t.getMinimumBalanceForRentExemption(A.StakeProgram.space),h=await rn(At,e),k=null;s&&(k=await $u(t,s));let y=[];if(r)y.push({stakeAddress:m.account.data.reserveStake,voteAddress:void 0,poolAmount:f});else if(k&&k?.type=="delegated"){let O=k.info?.stake?.delegation.voter;if(!O)throw new Error(`Invalid stake reciever ${s} delegation`);let rt=await t.getAccountInfo(m.account.data.validatorList),ot=on.decode(rt?.data).validators.find(it=>it.voteAccountAddress.equals(O));if(a&&a!==O)throw new Error(`Provided withdrawal vote account ${a} does not match delegation on stake receiver account ${O},
        remove this flag or provide a different stake account delegated to ${a}`);if(ot){let it=await an(At,O,e),_t=await t.getAccountInfo(it);if(!_t)throw new Error("Preferred withdraw valdator's stake account is invalid");let Vt=nn(m.account.data,new Ve.default(_t.lamports-uo-g));if(Vt.lt(f))throw new Error(`Not enough lamports available for withdrawal from ${it},
              ${f} asked, ${Vt} available.`);y.push({stakeAddress:it,voteAddress:O,poolAmount:f})}else throw new Error(`Provided stake account is delegated to a vote account ${O} which does not exist in the stake pool`)}else if(a){let O=await an(At,a,e),rt=await t.getAccountInfo(O);if(!rt)throw new Error("Invalid Stake Account");let st=new Ve.default(rt.lamports-uo-g);if(st.lt(new Ve.default(0)))throw new Error("Invalid Stake Account");let ot=nn(m.account.data,st);if(ot.lt(f))throw new Error(`Not enough lamports available for withdrawal from ${O},
            ${f} asked, ${ot} available.`);y.push({stakeAddress:O,voteAddress:a,poolAmount:f})}else{let O=await Ja(t,m.account.data,e,f,d,c.equals(m.account.data.managerFeeAccount));y.push(...O)}let w=[],T=A.Keypair.generate(),I=[T];w.push(Wn(c,T.publicKey,o,f.toNumber()));let M=0,D=5,j=0;for(let O of y){if(j>D)break;let st=`Withdrawing \u25CE${nn(m.account.data,O.poolAmount)},
        from stake account ${O.stakeAddress?.toBase58()}`;O.voteAddress&&(st=`${st}, delegated to ${O.voteAddress?.toBase58()}`);let ot;if(!s||k&&k.type==="delegated"){let it=Xa(o,w,g);I.push(it),M+=g,ot=it.publicKey}else ot=s;w.push(Be.withdrawStake({stakePool:e,validatorList:m.account.data.validatorList,validatorStake:O.stakeAddress,destinationStake:ot,destinationStakeAuthority:o,sourceTransferAuthority:T.publicKey,sourcePoolAccount:c,managerFeeAccount:m.account.data.managerFeeAccount,poolMint:m.account.data.poolMint,poolTokens:O.poolAmount.toNumber(),withdrawAuthority:h})),w.push(...A.StakeProgram.deactivate({stakePubkey:ot,authorizedPubkey:o}).instructions),j++}s&&k&&k.type==="delegated"&&I.forEach(O=>{w.concat(A.StakeProgram.merge({stakePubkey:s,sourceStakePubKey:O.publicKey,authorizedPubkey:o}).instructions)});let{solWithdrawalFee:K,stakeWithdrawalFee:H}=lo(m.account.data);return{instructions:w,signers:I,stakeReceiver:s,totalRentFreeBalances:M,solWithdrawalFee:K,stakeWithdrawalFee:H}}i(ts,"withdrawStake");async function es(t,e,o,n,r,a){let s=await sn(t,e),c=new Ve.default(dr(r)),d=Io(s.account.data.poolMint,o),m=await xn(t,d);if(m.amount<c.toNumber())throw new Error(`Not enough token balance to withdraw ${Te(c)} pool tokens.
            Maximum withdraw amount is ${Te(m.amount)} pool tokens.`);let f=[],p=A.Keypair.generate(),g=[p];f.push(Wn(d,p.publicKey,o,c.toNumber()));let h=await rn(At,e);if(a){let T=s.account.data.solWithdrawAuthority;if(!T)throw new Error("SOL withdraw authority specified in arguments but stake pool has none");if(a.toBase58()!=T.toBase58())throw new Error(`Invalid deposit withdraw specified, expected ${T.toBase58()}, received ${a.toBase58()}`)}let k=Be.withdrawSol({stakePool:e,withdrawAuthority:h,reserveStake:s.account.data.reserveStake,sourcePoolAccount:d,sourceTransferAuthority:p.publicKey,destinationSystemAccount:n,managerFeeAccount:s.account.data.managerFeeAccount,poolMint:s.account.data.poolMint,poolTokens:c.toNumber(),solWithdrawAuthority:a});f.push(k);let{solWithdrawalFee:y,stakeWithdrawalFee:w}=lo(s.account.data);return{instructions:f,signers:g,solWithdrawalFee:y,stakeWithdrawalFee:w}}i(es,"withdrawSol");function os({stakePubkey:t,stakeAuthorityPubkey:e,authorizedPubkey:o,transaction:n=new Y.Transaction}){return e.equals(o)||n.add(A.StakeProgram.authorize({authorizedPubkey:o,newAuthorizedPubkey:o,stakeAuthorizationType:A.StakeAuthorizationLayout.Staker,stakePubkey:t})),n.add(A.StakeProgram.deactivate({stakePubkey:t,authorizedPubkey:o})),n}i(os,"deactivateStake");var vv=i(t=>{let{t:e}=J(),o=bt(),n=tr(),{mutateAsync:r}=ei(t);return Pe({mutationFn:i(async({accountIdentifier:c,senderAddress:d,stakePubkey:m,stakeAuthorityPubkey:f,authorizedPubkey:p})=>{if(!d)throw wa;let{networkID:g,address:h}=d,k=os({stakePubkey:m,stakeAuthorityPubkey:f,authorizedPubkey:p}),y=await Qt(k,{connection:t}),w={ownerAddress:h??"",networkID:g,data:{signature:""},type:Le.DeactivateStake,display:{summary:{topLeft:{text:e("transactionsPendingDeactivatingStake")}}}};n.approved({chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(g),type:"undelegate"});let T=await r({accountIdentifier:c,feePayer:new A.PublicKey(h),transaction:y,pendingTransactionInput:w});return n.submittedTransaction(T,{chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(g),method:"signAndSendTransaction",walletAddress:h}),n.deactivateStake(),{networkID:g,id:T??""}},"mutationFn"),onSuccess:i(c=>{Eo({connection:t,signature:c.id}).then(()=>{n.transactionStatus(c.id,{chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(c.networkID),status:{type:"confirmed"}})}).catch(d=>{n.transactionStatus(c.id,{chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(c.networkID),status:{type:"error"}}),$.captureError(d,G.Staking)}),Ka(t,c.id,o)},"onSuccess")})},"useDeactivateStake");async function Qu({connection:t,stakePubkey:e,stakeAuthorityPubkey:o,authorizedPubkey:n}){let r=os({stakePubkey:e,stakeAuthorityPubkey:o,authorizedPubkey:n}),a=(await t.getLatestBlockhash("confirmed")).blockhash,s=new Y.TransactionMessage({instructions:r.instructions,payerKey:o,recentBlockhash:a}).compileToV0Message(),c=new Y.VersionedTransaction(s);return await Qt(c,{connection:t})}i(Qu,"getDeactivateStakeTransaction");var ns=i(({stakePubkey:t,stakeAuthorityPubkey:e,authorizedPubkey:o,connection:n,stakePoolAddress:r,disabled:a})=>{let s=F.getDeactivateStakeTransaction({stakePubkey:t.toString(),stakeAuthorityPubkey:e.toString(),authorizedPubkey:o.toString()});return C({enabled:!a&&!!t&&!!e&&!!o,queryKey:s,staleTime:Q({seconds:30}),async queryFn(){try{let[d,{solWithdrawalFee:m,stakeWithdrawalFee:f}]=await Promise.all([Qu({connection:n,stakePubkey:t,stakeAuthorityPubkey:e,authorizedPubkey:o}),Za(n,r)]);return{transaction:d,networkID:Tt.Solana.Mainnet,solWithdrawalFee:m,stakeWithdrawalFee:f}}catch(d){throw $.captureError(d,G.Staking),d}}})},"useGetDeactivateStakeTransaction");u();l();var at=_(L());u();l();var rs=_(L());var un=i(({txReceipt:t,isTxError:e,poolTokenFungible:o,invalidateQueries:n,dismissLiquidStaking:r})=>{let a=R(c=>c.resetStaking),s=R(c=>c.setNavigateTo);return(0,rs.useCallback)(()=>{if(a(),!t||e)return r();n(),s(o?{screen:"FungibleDetail",caip19:ie(qt(o))}:{screen:"Activity"}),r()},[t,e,o,n,r,s,a])},"useDismissLiquidStaking");u();l();var ln=_(L());u();l();var is=i(({connection:t})=>{let e=qe(),o=Rr();return Pe({mutationFn:i(async({accountIdentifier:r,ownerAddress:a,pendingActivityRow:s,activityType:c,transactionData:{networkID:d,transaction:m,signers:f}})=>{if(N.isSolanaNetworkID(d)){await Tr(m,t);let p={ownerAddress:a,networkID:d,data:{signature:""},type:c,display:{summary:s}};return{id:await Qr({accountIdentifier:r,feePayer:new A.PublicKey(a),connection:t,accountSigner:o,transaction:m,pendingTransactionInput:p,storage:e,opts:{additionalSignerAccounts:f}}),networkID:d}}throw new Error(`Unsupported network for liquid staking: ${d}`)},"mutationFn")})},"useProcessTransactionData");function dn({isLoadingPoolToken:t,pendingActivityRow:e,onTransactionSubmitted:o,onTransactionFailed:n,activityType:r}){let{connection:a}=mt(),s=R(w=>w.transactionData),c=ft,{data:d,isLoading:m}=ae(),{mutateAsync:f}=is({connection:a}),g=(0,ln.useMemo)(()=>(d?.addresses??[]).find(w=>w.networkID===c?.data.chain.id),[c?.data.chain.id,d?.addresses])?.address??"",h=d?.identifier??"";return{executeLiquidStake:(0,ln.useCallback)(async()=>{try{if(!s)throw new Ae(Re.MissingTransactionData);let w=await f({accountIdentifier:h,ownerAddress:g,pendingActivityRow:e,activityType:r,transactionData:s});o(w)}catch(w){n(w)}},[h,g,e,s,f,o,n,r]),isReadyToExecute:!m&&!t}}i(dn,"useExecuteLiquidStakeTransaction");u();l();function mn(t){return t instanceof Ae?t:new Ae(Re.UnknownError)}i(mn,"parseStakingError");function Yu({stakedTokenSymbol:t,poolTokenSymbol:e,txHash:o,txError:n,confirmationStatus:r,eligibleAccountsCount:a,isConvertDelayed:s,durationUntilEpochEnds:c,onDismiss:d,onConvertMore:m}){let f={title:v.t("commandClose"),onPress:d},p={title:v.t("convertStakeStatusConvertMore"),onPress:m},g={txHash:o,txHashTitle:v.t("commandViewTransaction")};return n?{type:"error",title:v.t("convertStakeStatusErrorTitle"),message:v.t("convertStakeStatusErrorMessage",{poolTokenSymbol:e}),...g,primaryButton:f,showUKDisclaimer:!1,openExternalLink:void 0}:r==="confirmed"?{type:"success",title:v.t("convertStakeStatusSuccessTitle",{poolTokenSymbol:e}),message:"",...g,...a>1?{primaryButton:p,secondaryButton:f}:{primaryButton:f},showUKDisclaimer:!1,openExternalLink:void 0,...s?{title:v.t("convertStakeStatusSuccessTitleDelayed"),message:v.t("convertStakeStatusSuccessMessageDelayed",{durationUntilEpochEnds:c})}:{}}:{type:"loading",title:v.t("convertStakeStatusLoadingTitle",{poolTokenSymbol:e}),message:v.t("convertStakeStatusLoadingMessage",{stakedTokenSymbol:t,poolTokenSymbol:e}),...g,primaryButton:f,showUKDisclaimer:!1,openExternalLink:void 0}}i(Yu,"getStatusPageProps");var Ju=i(({dismissConvertFlow:t,goToConvertAccountList:e})=>{let o=Xo(),[n,r]=(0,at.useState)("loading"),[a,s]=(0,at.useState)(),[c,d]=(0,at.useState)(),{trackConvertSubmitted:m,trackConvertSuccess:f,trackConvertFailed:p,trackConvertMoreClicked:g}=Ft(),{usageState:h,setUsageState:k}=De(),y=io(),w=R(ut=>ut.convert),T=R(ut=>ut.amount),[I]=(0,at.useState)(w?.eligibleAccountsCount??0),M=R(ut=>ut.convert),D=R(ut=>ut.setTransactionData),j=ft,K=j?.data.symbol??"",H=y?.stakePoolTokenMetadata.metadata.symbol??"",O=y?.stakePoolTokenMetadata.metadata.address??"",{data:rt}=ae(),st=rt?.type===he.Ledger,it=(0,at.useMemo)(()=>(rt?.addresses??[]).find(ut=>ut.networkID===j?.data.chain.id),[j?.data.chain.id,rt?.addresses])?.addressType??q.Solana,{fungible:_t,isLoadingTokens:Vt}=Ct({key:O}),Zt=we(),te=(0,at.useCallback)(ut=>{m(ut.id),s(ut),h.convert||k({convert:!0})},[k,m,h.convert]),ee=(0,at.useCallback)(ut=>{p({amount:T,convertDetails:w});let Ls=mn(ut);d(Ls)},[p,T,w]),oe=(0,at.useMemo)(()=>({topLeft:{text:v.t("convertStakePendingTitle",{symbol:H})}}),[H]),{executeLiquidStake:ne,isReadyToExecute:et}=dn({isLoadingPoolToken:Vt,pendingActivityRow:oe,onTransactionSubmitted:te,onTransactionFailed:ee,activityType:Le.ConvertStake}),kt=(0,at.useCallback)(()=>{f({amount:T,convertDetails:w,provider:y}),D(void 0),o()},[T,f,D,o,y,w]),{isSuccess:B,isError:Lt,error:ve}=Po(kt,a);(0,at.useEffect)(()=>{B?r("confirmed"):Lt&&(r("error"),d(ve),p({amount:T,convertDetails:w}))},[T,w,B,Lt,p,ve,a]);let ho=un({txReceipt:a,isTxError:Lt,poolTokenFungible:_t,invalidateQueries:o,dismissLiquidStaking:t}),So=(0,at.useCallback)(()=>{g(),e()},[g,e]),_s=(0,at.useMemo)(()=>Yu({stakedTokenSymbol:K,poolTokenSymbol:H,txHash:a?.id,txError:c,confirmationStatus:n,eligibleAccountsCount:I,isConvertDelayed:Ze(M?.activationState),durationUntilEpochEnds:Zt,onDismiss:ho,onConvertMore:So}),[K,H,a?.id,c,n,I,M?.activationState,Zt,ho,So]);return{addressType:it,isLedger:st,isReadyToExecute:et,statusPageProps:_s,txError:c,executeLiquidStake:ne,learnMoreLink:jn,isJitoSOL:!1,isPSOL:!0}},"useConvertStakeAccountStatusPageProps");u();l();u();l();var ws=_(L());u();l();var fs=_(L());u();l();var as=i((t,e)=>{let o=[],n=t?qt(t):void 0,r=Er(e?.stakePoolTokenMetadata.caip19??"");return n&&r&&(o.push(n),o.push(r)),{query:{data:o}}},"getPriceArgs");u();l();var be=_(L());u();l();function pn(t){return t?t.stakePoolTokenMetadata.caip19===se:!1}i(pn,"isJitoLST");u();l();u();l();var Wx={name:"Jito",stakePoolAddress:"Jito4APyf642JPZPx3hGc6WWJ8zPKtRbRs4P815Awbb",apy:"0.0760131222374123",convertRatio:"1.1067926864808721",stakePoolTokenMetadata:{metadata:{address:"J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",name:"Jito Staked SOL",symbol:"JitoSOL",decimals:9,logoURI:"https://storage.googleapis.com/token-metadata/JitoSOL-256.png",chainId:fe.Mainnet},caip19:"solana:101/address:J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn"},chainId:fe.Mainnet,validators:[{vote_account:"validator"}]},ss={name:"Phantom Staked SOL",stakePoolAddress:"pSPcvR8GmG9aKDUbn9nbKYjkxt9hxMS7kF1qqKJaPqJ",apy:"0.0950000000000000",convertRatio:"1.0500000000000000",stakePoolTokenMetadata:{metadata:{address:ri,name:"Phantom Staked SOL",symbol:"PSOL",decimals:9,logoURI:"https://storage.googleapis.com/token-metadata/PSOL-256.png",chainId:fe.Mainnet},caip19:"solana:101/address:pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL"},chainId:fe.Mainnet,validators:[{vote_account:"validator"}]};function fn(t){return t?t.stakePoolTokenMetadata.caip19===ss.stakePoolTokenMetadata.caip19:!1}i(fn,"isPhantomLST");var Xu=i((t,e)=>{if(e===void 0)return;let o=qt(t),n=ie(o);return e[n]},"extractPrice"),Zu=i((t,e,o)=>{if(!e)return W(0);let n=new W(e.convertRatio),r=It(t,e.stakePoolTokenMetadata.metadata.decimals);return o?r.multipliedBy(n):r.div(n)},"getReceiveAmount");function cs(t,e,o){return e?{network:{id:e.stakePoolTokenMetadata.metadata.chainId??fe.Mainnet,name:t.data.chain.name,symbol:t.data.chain.symbol,imageUrl:t.data.chain.imageUrl},priceData:o?o[e.stakePoolTokenMetadata.caip19]:void 0,decimals:e.stakePoolTokenMetadata.metadata.decimals,logoUri:e.stakePoolTokenMetadata.metadata.logoURI??null,symbol:e.stakePoolTokenMetadata.metadata.symbol,tokenAddress:e.stakePoolTokenMetadata.metadata.address,tokenType:ze.SPL}:{network:{id:t.data.chain.id,name:t.data.chain.name,symbol:t.data.chain.symbol,imageUrl:t.data.chain.imageUrl},priceData:Xu(t,o),decimals:t.data.decimals,logoUri:t.data.logoUri??null,symbol:t.data.symbol,tokenAddress:t.data.tokenAddress,tokenType:t.type??ze.SolanaNative}}i(cs,"extractAssetMetadata");var us=i((t,e,o,n,r=!1)=>{if(!t)return null;let{priceData:a,decimals:s,...c}=cs(t,r?e:void 0,n),d=It(o,s),m=a?.usd?d.multipliedBy(a.usd):null;return{amount:Se(d),amountUsd:m?m.toNumber():null,border:!1,title:v.t("liquidStakeReviewYouPay"),...c}},"getAssetPropsForPayAsset"),ls=i((t,e,o,n,r=!1)=>{if(!e||!t)return null;let{priceData:a,...s}=cs(t,r?void 0:e,n),c=Zu(o,e,r),d=a?.usd?c.multipliedBy(a.usd):null;return{amount:Se(c),amountUsd:d?d.toNumber():null,border:!1,title:r?v.t("liquidStakeUnstakeReviewYouReceive"):v.t("liquidStakeReviewYouReceive"),...s}},"getAssetPropsForReceiveAsset"),ds=i(({process:t,fungibleToStake:e,amount:o,provider:n,selectedChainAddress:r,transactionFees:a,isLoading:s,canSubmit:c,transactionData:d,priceMap:m,networkFeeErrorMsg:f,showUKDisclaimer:p})=>{let g=(0,be.useMemo)(()=>us(e,n,o,m),[e,n,o,m]),h=(0,be.useMemo)(()=>ls(e,n,o,m),[e,n,o,m]),k=n?.name??"",y=r?.address??"",w=n?.apy!==void 0?ye(Number.parseFloat(n.apy)):"",T=`${Se(It(a,e?.data.decimals??0))} ${e?.data.symbol}`,I=pn(n),M=fn(n),D=n?.totalRewardsFeePercentage??"8",j=d?.solWithdrawalFee??d?.stakeWithdrawalFee,K=(0,be.useMemo)(()=>({accountLabelText:v.t("stakeReviewAccount"),providerLabelText:v.t("liquidStakeReviewProvider"),apyLabelText:v.t("stakeReviewAPY"),apyLabelTextTooltip:v.t("stakeReviewAPYTooltip"),networkFeeLabelText:v.t("liquidStakeReviewNetworkFee"),primaryButtonText:v.t(t==="convert"||t==="convertDelayed"?"commandConvert":"commandStake"),feeFootnoteText:v.t("liquidStakeReviewPhantomFeeFootnote",{totalRewardsFeePercentage:D}),feeFootnoteDescriptionText:v.t("liquidStakeReviewPhantomFeeFootnoteDescription",{withdrawalFeePercentage:j}),feeFootnoteTooltipText:v.t("liquidStakeReviewPhantomFeeFootnoteTooltip",{totalRewardsFeePercentage:D})}),[t,D,j]);return{process:t,payAsset:g,receiveAsset:h,account:y,providerName:k,apy:w,networkFee:T,strings:K,isLoading:s,canSubmit:c,networkFeeErrorMsg:f,isJitoSOL:I,isPSOL:M,showUKDisclaimer:p,totalRewardsFeePercentage:D}},"useStakeMapToViewState"),aI=i(({stakedFungible:t,amount:e,provider:o,selectedChainAddress:n,transactionFees:r,isLoading:a,canSubmit:s,priceMap:c,networkFeeErrorMsg:d,transactionData:m,durationUntilEpochEnds:f})=>{let p=(0,be.useMemo)(()=>us(t,o,e,c,!0),[t,o,e,c]),g=(0,be.useMemo)(()=>ls(t,o,e,c,!0),[t,o,e,c]),h=n?.address??"",k=`${Se(It(r,t?.data.decimals??0))} ${t?.data.symbol}`,y=m?.isWithdrawSol??!0,w=y?m?.solWithdrawalFee??.1:m?.stakeWithdrawalFee??.1,T=(0,be.useMemo)(()=>({accountLabelText:v.t("stakeReviewAccount"),networkFeeLabelText:v.t("liquidStakeReviewNetworkFee"),primaryButtonText:v.t("commandUnstake"),feeLabelText:v.t("unstakeLiquidStakeFee"),feeLabelTextTooltip:v.t("unstakeLiquidStakeFeeTooltip"),unstakeDelayDisclaimerText:v.t("unstakeLiquidStakeDelayDisclaimer",{durationUntilEpochEnds:f}),feePercentageText:`${w}%`}),[w,f]),I=Jt();return{payAsset:p,receiveAsset:g,account:h,networkFee:k,strings:T,isLoading:a,canSubmit:s,networkFeeErrorMsg:d,isWithdrawSol:y,showUKDisclaimer:I}},"useUnstakeMapToViewState");u();l();var ms=_(L());var tl=Q({seconds:10}),ps=i(({hasPoolTokenAccount:t,chainAddress:e,transactionData:o})=>{let{data:n,isPending:r,isFetched:a,isSuccess:s}=ti({networkID:o?.networkID??N.solana.mainnetID,multichainTransaction:ol(o),queryOptions:{refetchInterval:tl}}),{data:c=0}=si(e),d=X(Ko).plus(Ye),m=t?X(d):X(c).plus(d),{hasSufficientFunds:f,isLoading:p,nativeTokenSymbol:g}=ni({networkID:o?.networkID??N.solana.mainnetID,addressType:e?.addressType,gasEstimation:n,transactionValue:m}),h=nl({hasSufficientFunds:f,hasGasEstimationFailed:a&&!s,nativeTokenSymbol:g}),k=el(n),y=m.plus(k),w=r||p;return(0,ms.useMemo)(()=>({isLoading:w,hasSufficientFunds:f,transactionFees:y,networkFeeErrorMsg:h,nativeTokenSymbol:g}),[w,f,y,h,g])},"useLiquidStakingTransactionFees"),el=i(t=>t?N.isSolanaNetworkID(t.networkID)?new X(t.value):new X(0):new X(0),"getGasEstimationValue"),ol=i(t=>{if(t&&N.isSolanaNetworkID(t.networkID)){let{networkID:e,transaction:o}=t;return{networkID:e,transaction:[o]}}},"getMultichainTransaction"),nl=i(({hasSufficientFunds:t,hasGasEstimationFailed:e,nativeTokenSymbol:o})=>e?v.t("transactionGasEstimationError"):t==="insufficient"?v.t("transactionNotEnoughNative",{nativeTokenSymbol:o}):void 0,"getNetworkFeeErrorMessage");var hn=i(({process:t,provider:e,transactionData:o,isLoadingTransactionData:n})=>{let r=ft,a=R(D=>D.amount),{data:s}=vt(q.Solana),{fungible:c,isLoadingTokens:d}=Ct({key:e?.stakePoolTokenMetadata.metadata.address||""}),{isLoading:m,hasSufficientFunds:f,transactionFees:p,networkFeeErrorMsg:g}=ps({hasPoolTokenAccount:!!c,chainAddress:s,transactionData:o}),h=(0,fs.useMemo)(()=>as(r,e),[r,e]),{data:k}=Xr(h),y=n||m||d,w=!y&&!!o&&f!=="insufficient"&&!g,T=Jt();return ds({process:t,fungibleToStake:r,amount:a,provider:e,selectedChainAddress:s,transactionFees:p,transactionData:o,isLoading:y,canSubmit:w,priceMap:k,networkFeeErrorMsg:g,showUKDisclaimer:t==="mint"&&T})},"useLiquidStakeReviewPageProps");u();l();u();l();u();l();u();l();u();l();u();l();u();l();function rl(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}i(rl,"bytes");function mr(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}i(mr,"exists");function hs(t,e){rl(t);let o=e.outputLen;if(t.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}i(hs,"output");u();l();var il=i(t=>t instanceof Uint8Array,"u8a");var gn=i(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Rt=i((t,e)=>t<<32-e|t>>>e,"rotr"),al=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!al)throw new Error("Non little-endian hardware is not supported");function sl(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}i(sl,"utf8ToBytes");function pr(t){if(typeof t=="string"&&(t=sl(t)),!il(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}i(pr,"toBytes");var Sn=class{static{i(this,"Hash")}clone(){return this._cloneInto()}},KI={}.toString;function Ss(t){let e=i(n=>t().update(pr(n)).digest(),"hashC"),o=t();return e.outputLen=o.outputLen,e.blockLen=o.blockLen,e.create=()=>t(),e}i(Ss,"wrapConstructor");function cl(t,e,o,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,o,n);let r=BigInt(32),a=BigInt(4294967295),s=Number(o>>r&a),c=Number(o&a),d=n?4:0,m=n?0:4;t.setUint32(e+d,s,n),t.setUint32(e+m,c,n)}i(cl,"setBigUint64");var kn=class extends Sn{static{i(this,"SHA2")}constructor(e,o,n,r){super(),this.blockLen=e,this.outputLen=o,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gn(this.buffer)}update(e){mr(this);let{view:o,buffer:n,blockLen:r}=this;e=pr(e);let a=e.length;for(let s=0;s<a;){let c=Math.min(r-this.pos,a-s);if(c===r){let d=gn(e);for(;r<=a-s;s+=r)this.process(d,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===r&&(this.process(o,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mr(this),hs(e,this),this.finished=!0;let{buffer:o,view:n,blockLen:r,isLE:a}=this,{pos:s}=this;o[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let p=s;p<r;p++)o[p]=0;cl(n,r-8,BigInt(this.length*8),a),this.process(n,0);let c=gn(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=d/4,f=this.get();if(m>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<m;p++)c.setUint32(4*p,f[p],a)}digest(){let{buffer:e,outputLen:o}=this;this.digestInto(e);let n=e.slice(0,o);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:o,buffer:n,length:r,finished:a,destroyed:s,pos:c}=this;return e.length=r,e.pos=c,e.finished=a,e.destroyed=s,r%o&&e.buffer.set(n),e}};var ul=i((t,e,o)=>t&e^~t&o,"Chi"),ll=i((t,e,o)=>t&e^t&o^e&o,"Maj"),dl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),de=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),me=new Uint32Array(64),fr=class extends kn{static{i(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=de[0]|0,this.B=de[1]|0,this.C=de[2]|0,this.D=de[3]|0,this.E=de[4]|0,this.F=de[5]|0,this.G=de[6]|0,this.H=de[7]|0}get(){let{A:e,B:o,C:n,D:r,E:a,F:s,G:c,H:d}=this;return[e,o,n,r,a,s,c,d]}set(e,o,n,r,a,s,c,d){this.A=e|0,this.B=o|0,this.C=n|0,this.D=r|0,this.E=a|0,this.F=s|0,this.G=c|0,this.H=d|0}process(e,o){for(let p=0;p<16;p++,o+=4)me[p]=e.getUint32(o,!1);for(let p=16;p<64;p++){let g=me[p-15],h=me[p-2],k=Rt(g,7)^Rt(g,18)^g>>>3,y=Rt(h,17)^Rt(h,19)^h>>>10;me[p]=y+me[p-7]+k+me[p-16]|0}let{A:n,B:r,C:a,D:s,E:c,F:d,G:m,H:f}=this;for(let p=0;p<64;p++){let g=Rt(c,6)^Rt(c,11)^Rt(c,25),h=f+g+ul(c,d,m)+dl[p]+me[p]|0,y=(Rt(n,2)^Rt(n,13)^Rt(n,22))+ll(n,r,a)|0;f=m,m=d,d=c,c=s+h|0,s=a,a=r,r=n,n=h+y|0}n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,s=s+this.D|0,c=c+this.E|0,d=d+this.F|0,m=m+this.G|0,f=f+this.H|0,this.set(n,r,a,s,c,d,m,f)}roundClean(){me.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var gs=Ss(()=>new fr);var ks=_(Os());var ml=[69,107,109,106,121,122,120,100,105,53,52,51,110,99,76,56,54,116,99,97,67,65,100,117,108,79,119,121,110,86,53,68,118,54,86,67,109,73,84,117,118,48,51,118,53,101,98,76,80,98,48,88,101,57,111,108,82,71,75,72,85,71,119,68,117,116,111,117,68,117,77,55,49,88,65,106,55,97,111,74,102,77,78,106,56,119,61,61],yn=i(t=>{let e=`${String.fromCharCode(...ml)}||${t}`,o=gs(Buffer.from(e));return ks.default.encode(o)},"getReferralAccount");var hr=i(async({connection:t,stakePoolAddress:e,ownerAddress:o,amount:n,poolTokenAccountAddress:r})=>{let a=new A.PublicKey(e),s=new A.PublicKey(o),c=r?new A.PublicKey(r):void 0,d=new A.PublicKey(yn(o)),{instructions:m,signers:f,solWithdrawalFee:p,stakeWithdrawalFee:g}=await cn(t,a,s,n,c,d),h=(await t.getLatestBlockhash("confirmed")).blockhash,k=new Y.VersionedTransaction(new Y.TransactionMessage({instructions:m,payerKey:s,recentBlockhash:h}).compileToV0Message());return{transaction:await Qt(k,{connection:bo(Tt.Solana.Mainnet),calculators:{cost:xo,budget:new vo(2e5,2e5)}}),signers:f,solWithdrawalFee:p,stakeWithdrawalFee:g}},"getMintPoolTokenTransaction");u();l();async function ys({connection:t,stakePoolAddress:e,amount:o,senderAddress:n,useWithdrawSol:r}){let a=new A.PublicKey(n),s,c,d,m;if(r){let h=await es(t,new A.PublicKey(e),a,a,o).catch(k=>{throw $.captureError(k,G.Staking),k});s=h.instructions,c=h.signers,d=h.solWithdrawalFee,m=h.stakeWithdrawalFee}else{let h=await ts(t,new A.PublicKey(e),a,o).catch(k=>{throw $.captureError(k,G.Staking),k});s=h.instructions,c=h.signers,d=h.solWithdrawalFee,m=h.stakeWithdrawalFee}let f=(await t.getLatestBlockhash("confirmed")).blockhash,p=new Y.VersionedTransaction(new Y.TransactionMessage({instructions:s,payerKey:a,recentBlockhash:f}).compileToV0Message());return{transaction:await Qt(p,{connection:t}),signers:c,solWithdrawalFee:d,stakeWithdrawalFee:m}}i(ys,"getWithdrawLiquidStakeTransactionWithOptions");async function pl({connection:t,stakePoolAddress:e,amount:o,senderAddress:n,useWithdrawSol:r}){try{let a=await ys({connection:t,stakePoolAddress:e,amount:o,senderAddress:n,useWithdrawSol:r}),s=await t.simulateTransaction(a.transaction,{sigVerify:!1});if(s.value.err)throw new Error(`Simulation failed with useWithdrawSol: true - ${JSON.stringify(s.value.err)}`);return{...a,isWithdrawSol:r}}catch(a){$.captureError(a instanceof Error?a:new Error(String(a)),G.Staking);try{return{...await ys({connection:t,stakePoolAddress:e,amount:o,senderAddress:n,useWithdrawSol:!1}),isWithdrawSol:!1}}catch(s){throw $.captureError(s instanceof Error?s:new Error(String(s)),G.Staking),s}}}i(pl,"getWithdrawLiquidStakeTransaction");u();l();var Sr=i(async({connection:t,stakePoolAddress:e,stakePubkey:o,ownerAddress:n,amount:r})=>{let a=new A.PublicKey(e),s=new A.PublicKey(n),c=new A.PublicKey(o),d=new A.PublicKey(yn(n)),m=A.StakeProgram.withdraw({stakePubkey:c,authorizedPubkey:s,toPubkey:s,lamports:r}),[f]=m.instructions,{instructions:p,signers:g,solWithdrawalFee:h,stakeWithdrawalFee:k}=await cn(t,a,s,r,void 0,d,void 0,void 0,!1),y=[f,...p],w=(await t.getLatestBlockhash("confirmed")).blockhash,T=new Y.TransactionMessage({instructions:y,payerKey:s,recentBlockhash:w}).compileToV0Message(),I=new Y.VersionedTransaction(T);return{transaction:await Qt(I,{connection:bo(Tt.Solana.Mainnet),calculators:{cost:xo,budget:new vo(2e5,2e5)}}),signers:g,solWithdrawalFee:h,stakeWithdrawalFee:k}},"getConvertToPSOLTransaction");var As=i(t=>{let e=F.getConvertStakeTransaction({stakePoolAddress:t.stakePoolAddress,ownerAddress:t.ownerAddress,validatorVoteAddress:"",stakeAccountAddress:t.stakePubkey}),o=!t.disabled&&!!t.stakePoolAddress&&!!t.ownerAddress&&!!t.stakePubkey&&!!t.amount;return C({enabled:o,queryKey:e,staleTime:Q({seconds:30}),async queryFn(){if(N.isSolanaNetworkID(t.networkId))try{let{transaction:n,signers:r,solWithdrawalFee:a,stakeWithdrawalFee:s}=await Sr({connection:t.connection,stakePoolAddress:t.stakePoolAddress,stakePubkey:t.stakePubkey,ownerAddress:t.ownerAddress,amount:t.amount});return{networkID:t.networkId,transaction:n,signers:r,solWithdrawalFee:a,stakeWithdrawalFee:s}}catch(n){throw $.captureError(n,G.Staking),n}throw new Error(`Unsupported networkId: ${t.networkId}`)}})},"useGetConvertToPSOLTransaction");var fl=i((t,e,o)=>{let{data:n}=vt(q.Solana),{trackConvertApprovedByUser:r}=Ft(),a=R(M=>M.amount),s=R(M=>M.setTransactionData),c=we(),{connection:d}=mt(),{data:m,isLoading:f}=ns({connection:d,stakePubkey:new A.PublicKey(e.stakeAccount??""),stakeAuthorityPubkey:new A.PublicKey(e.stakeAuthorityPubkey??""),authorizedPubkey:new A.PublicKey(n?.address??""),stakePoolAddress:new A.PublicKey(t?.stakePoolAddress??""),disabled:e.activationState!=="active"&&e.activationState!=="activating"}),{data:p,isLoading:g}=As({connection:d,networkId:t?.chainId??N.solana.mainnetID,stakePoolAddress:t?.stakePoolAddress??"",ownerAddress:n?.address??"",stakePubkey:e?.stakeAccount??"",amount:parseInt(a),disabled:e?.activationState!=="inactive"}),h=Xe(e?.activationState),k=Ze(e?.activationState),y=h?p:k?m:void 0,w=h?g:k?f:!1,T=hn({process:e?.activationState==="active"?"convertDelayed":"convert",provider:t,transactionData:y,isLoadingTransactionData:w}),I=(0,ws.useCallback)(()=>{r({provider:t,convertDetails:e,amount:a,fromAmount:T.payAsset?.amount,toAmount:T.receiveAsset?.amount,fromAmountUSD:T.payAsset?.amountUsd,toAmountUSD:T.receiveAsset?.amountUsd}),s(y),o()},[o,s,y,r,e,t,T,a]);return{...T,durationUntilEpochEnds:c,onPrimaryButtonPress:I}},"useConvertStakeAccountReviewPageProps");u();l();u();l();var Ts=i((t,e)=>new X(t).div(To(e)).toString(),"amountToUiAmountString");u();l();var bs=i(t=>t.replace(/,|\.{2,}/g,".").replace(/^[0]+/g,"0").replace(/^\./g,"0.").replace(/[^\d.]/g,""),"formatTokenAmountInputs");u();l();var vs=i((t,e)=>e===0?new X(t):new X(t).multipliedBy(To(e)),"uiAmountToAmount");var Dt=_(L());u();l();var hl=2,xs=i(({networkID:t,poolTokenMintAddress:e})=>{let o=N.getAddressType(t),{fungible:n}=Ct({key:e}),r=ci(t,o),{fungible:a}=Ct({key:r}),s=W(a?.data.amount??""),c=W(Ko),d=W(Ye),m=W(Ye),f=W(hl).plus(c),p=n?W(f).plus(d):W(m).plus(f).plus(d),g=W(s).minus(p),h=W.max(g,0);return{minAmount:p,maxAmount:h,balance:s}},"useMintMaxMinAmounts");var Sl=i(t=>{if(t.isLessThan(.01))return t.toString();let e=t.dp();return t.isLessThan(1)&&e&&e>1?t.toFixed(2,W.ROUND_FLOOR):parseFloat(t.toFixed(1,W.ROUND_FLOOR)).toString()},"formatInitialStakeUiAmount"),gl=i(({goBack:t,goToReviewPage:e,showInfoPage:o,lstCaip19:n})=>{let r=ft,a=R(et=>et.amount),s=R(et=>et.setAmount),c=R(et=>et.setProvider),d=r?.data.symbol??"",m=r?.data.chain.id??N.solana.mainnetID,f=r?.data.decimals??ft.data.decimals,{data:p}=vt(q.Solana),{pickedLSTProvider:g}=Nt(N.solana.mainnetID),h=g(n),k=h?.stakePoolTokenMetadata.metadata.address??"";mi(p,di.STAKE_FUNGIBLE);let{minAmount:y,maxAmount:w,balance:T}=xs({networkID:m,poolTokenMintAddress:k}),I=(0,Dt.useMemo)(()=>{if(a)return Ts(a,f);let et=T.multipliedBy(.95),kt=W.max(W.min(et,w),y);return Sl(It(kt,f))},[a,T,f,w,y]),[M,D]=(0,Dt.useState)(I),j=It(w,f),K=It(y,f),H=It(T,f),O=vs(M,f).toString(),rt=W(O),st=T.isLessThan(y),ot=rt.isGreaterThan(w),it=rt.isFinite(),_t=(0,Dt.useMemo)(()=>{if(!h)return v.t("mintLiquidStakeAmountNoProviders");if(O&&st)return v.t("mintLiquidStakeAmountMinRequired",{symbol:d,amount:K});if(O&&ot)return v.t("mintLiquidStakeAmountInsufficientBalance")},[h,O,st,ot,K,d]),Vt=it&&!_t,Zt=(0,Dt.useMemo)(()=>{if(!h)return;let et=ye(Number.parseFloat(h.apy)),{address:kt,name:B,symbol:Lt,logoURI:ve}=h.stakePoolTokenMetadata.metadata,ho=W(1).dividedBy(W(h.convertRatio)),So=`1 ${d} \u2248 ${Se(ho)} ${Lt}`;return{identifier:kt,apy:et,name:B,symbol:Lt,rate:So,logoURI:ve}},[h,d]),te=(0,Dt.useCallback)(()=>{D(String(j))},[j]),ee=(0,Dt.useCallback)(et=>{let kt=bs(et);qo(kt,f??9)&&D(kt)},[f]),oe=(0,Dt.useCallback)(()=>{c(h),s(O),e()},[h,O,e,s,c]),ne=(0,Dt.useCallback)(()=>{s(""),t()},[s,t]);return{amount:M,amountError:_t,balance:H,symbol:d,poolToken:Zt,canSubmit:Vt,onBack:ne,onContinue:oe,onChangeAmount:ee,onSetMax:te,onInfoPress:n===U?o:void 0}},"useMintLiquidStakeAmountProps");u();l();var pe=_(L());var An=null,kl=i(t=>{if(!An&&t){let e="liquidStake";An=new _e(t,e)}if(!An)throw new Error("liquidStakeAnalytics was not properly configured");return An},"getLiquidStakeSequenceAnalytics"),Bt=i(()=>{let t=Wt(),e=kl(t),o=i(p=>{switch(p){case U:return"Phantom Staked SOL";case se:return"Jito Staked SOL";default:return}},"getTokenNameFromCaip19"),n=i(p=>{switch(p){case U:return"PSOL";case se:return"JITOSOL";default:return}},"getTokenSymbolFromCaip19"),r=(0,pe.useCallback)(({provider:p,entryPoint:g,testVariant:h})=>{t.capture("liquidStakingMarketingPageSeen",{data:{lstCaip19:p,lstSymbol:n(p),entryPoint:g,testVariant:h??""}})},[t]),a=(0,pe.useCallback)(({lstCaip19:p,testVariant:g,entryPoint:h})=>{t.capture("liquidStakingMarketingPagePrimaryButtonClicked",{data:{stake:{caip19:p,lstSymbol:n(p),testVariant:g,entryPoint:h}}})},[t]),s=(0,pe.useCallback)(p=>{let g=p?o(p):void 0,h=p?n(p):void 0;t.capture("liquidStakingMintModalContinueClicked",{data:{stake:{caip19:p,token:g,tokenSymbol:h}}})},[t]),c=(0,pe.useCallback)(({provider:p,payAmount:g,receiveAmount:h,payAmountUSD:k,receiveAmountUSD:y,payAssetTitle:w,providerName:T,receiveAssetTitle:I})=>{t.capture("liquidStakingMintApprovedByUser",{data:{stake:{stakePoolAddress:p?.stakePoolAddress,token:p?.stakePoolTokenMetadata.metadata.name,apy:p?.apy,convertRatio:p?.convertRatio,caip19:p?.stakePoolTokenMetadata.caip19,payAmount:g,receiveAmount:h,payAmountUSD:k,receiveAmountUSD:y,payAssetTitle:w,receiveAssetTitle:I,providerName:T}}})},[t]),d=(0,pe.useCallback)((p,g)=>{e.submittedTransaction(p,{chainType:q.Solana,chainName:dt.Solana,networkId:"mainnet",method:"signAndSendTransaction",walletAddress:g})},[e]),m=(0,pe.useCallback)(({provider:p,amount:g})=>{t.capture("liquidStakingMintSuccess",{data:{stake:{apy:p?.apy,convertRatio:p?.convertRatio,caip19:p?.stakePoolTokenMetadata.caip19,stakePoolAddress:p?.stakePoolAddress,token:p?.stakePoolTokenMetadata.metadata.name,totalAmount:g}}})},[t]),f=(0,pe.useCallback)(p=>{t.capture("liquidStakingMintFailed",{data:{stake:{amount:p}}})},[t]);return{trackMintModalContinue:s,trackMarketingModalSeen:r,trackMarketingModalContinue:a,trackMintSubmitted:d,trackMintSuccess:m,trackMintFailed:f,trackMintApprovedByUser:c}},"useMintStakeAnalytics");u();l();var ht=_(L());var yl="https://www.jito.network/defi/";function Al({poolTokenSymbol:t,txHash:e,txError:o,confirmationStatus:n,showUKDisclaimer:r,onDismiss:a,openExternalLink:s}){let c={title:v.t("commandClose"),onPress:a},d={txHash:e,txHashTitle:v.t("commandViewTransaction")};return o?{type:"error",title:v.t("mintStakeStatusErrorTitle"),message:v.t("mintStakeStatusErrorMessage",{poolTokenSymbol:t}),...d,primaryButton:c,showUKDisclaimer:r,openExternalLink:s}:n==="confirmed"?{type:"success",title:v.t("mintStakeStatusSuccessTitle"),message:"",...d,primaryButton:c,showUKDisclaimer:r,openExternalLink:s}:{type:"loading",title:v.t("mintStakeStatusLoadingTitle"),message:v.t("mintStakeStatusLoadingMessage"),...d,primaryButton:c,showUKDisclaimer:r,openExternalLink:s}}i(Al,"getStatusPageProps");var wl=i((t,e)=>{let o=Xo(),[n,r]=(0,ht.useState)("loading"),[a,s]=(0,ht.useState)(),[c,d]=(0,ht.useState)(),{trackMintSubmitted:m,trackMintSuccess:f,trackMintFailed:p}=Bt(),{usageState:g,setUsageState:h}=De(),k=R(B=>B.provider),y=R(B=>B.setTransactionData),w=R(B=>B.amount),T=ft,I=k?.stakePoolTokenMetadata.metadata.symbol??"",M=k?.stakePoolTokenMetadata.metadata.address??"",{data:D}=ae(),j=D?.type===he.Ledger,H=(0,ht.useMemo)(()=>(D?.addresses??[]).find(B=>B.networkID===T?.data.chain.id),[T?.data.chain.id,D?.addresses])?.addressType??q.Solana,{fungible:O,isLoadingTokens:rt}=Ct({key:M}),st=(0,ht.useCallback)(B=>{m(B.id),s(B),g.mint||h({mint:!0})},[h,m,g.mint]),ot=(0,ht.useCallback)(B=>{p(w);let Lt=mn(B);d(Lt)},[p,w]),it=(0,ht.useMemo)(()=>({topLeft:{text:v.t("mintLiquidStakePendingTitle")}}),[]),{executeLiquidStake:_t,isReadyToExecute:Vt}=dn({isLoadingPoolToken:rt,pendingActivityRow:it,onTransactionSubmitted:st,onTransactionFailed:ot,activityType:Le.DelegateStake}),Zt=(0,ht.useCallback)(()=>{f({amount:w,provider:k}),y(void 0),o()},[f,w,k,y,o]),{isSuccess:te,isError:ee,error:oe}=Po(Zt,a);(0,ht.useEffect)(()=>{te?r("confirmed"):ee&&(r("error"),d(oe),p(w))},[te,p,w,ee,oe,a]);let ne=un({txReceipt:a,isTxError:ee,poolTokenFungible:O,invalidateQueries:o,dismissLiquidStaking:t}),et=Jt(),kt=(0,ht.useMemo)(()=>Al({poolTokenSymbol:I,txHash:a?.id,txError:c,confirmationStatus:n,showUKDisclaimer:et,onDismiss:ne,openExternalLink:e}),[I,a?.id,c,n,ne,e,et]);return{addressType:H,isLedger:j,isReadyToExecute:Vt,statusPageProps:kt,learnMoreLink:yl,txError:c,executeLiquidStake:_t,isJitoSOL:pn(k),isPSOL:fn(k)}},"useMintLiquidStakeStatusPageProps");u();l();var po=_(L());function Tl({navigateToMintLiquidStakeAmountPage:t,navigateBack:e,entryPoint:o}){let{trackMarketingModalContinue:n}=Bt(),r=Mt(E.StakingWelcome),a=Cr("psol-popup-copy-test"),s=(0,po.useCallback)(()=>{n({lstCaip19:U,testVariant:a,entryPoint:o}),t(U),r()},[t,n,r,a,o]),c=(0,po.useCallback)(()=>{e(),r()},[e,r]),{t:d}=J(),m={title:d("liquidStakingInfoPageStillEarningZero"),description:d("liquidStakingInfoPageConvertYourSOL"),primaryButtonText:d("liquidStakingInfoPageConvertYourSOLButton")},f={title:d("liquidStakingInfoPageEarnUpTo9APY"),description:d("liquidStakingInfoPageConvertYourSOL2"),primaryButtonText:d("liquidStakingInfoPageStartEarning")},p=a==="test1"?m:a==="test2"?f:m;return(0,po.useLayoutEffect)(()=>()=>void r(),[r]),{onPrimaryButtonPress:s,onClose:c,viewState:p}}i(Tl,"useMintLiquidStakeMarketingProps");u();l();u();l();var Es=_(L());u();l();var Is=i(t=>{let e=F.getMintTokenTransaction({stakePoolAddress:t.stakePoolAddress,ownerAddress:t.ownerAddress,amount:t.amount,poolTokenAccountAddress:t.poolTokenAccountAddress}),o=!!t.stakePoolAddress&&!!t.ownerAddress&&!!t.amount;return C({enabled:o,queryKey:e,staleTime:V.Never,async queryFn(){if(N.isSolanaNetworkID(t.networkId))try{let{transaction:n,signers:r,solWithdrawalFee:a,stakeWithdrawalFee:s}=await hr(t);return{networkID:t.networkId,transaction:n,signers:r,solWithdrawalFee:a,stakeWithdrawalFee:s}}catch(n){throw $.captureError(n,G.Staking),n}throw new Error(`Unsupported networkId: ${t.networkId}`)}})},"useGetMintPoolTokenTransaction");var bl=i((t,e)=>{let o=R(h=>h.amount),n=R(h=>h.setTransactionData),{data:r}=vt(q.Solana),{connection:a}=mt(),{fungible:s}=Ct({key:t?.stakePoolTokenMetadata.metadata.address||""}),c=s?ui(s):void 0,{trackMintApprovedByUser:d}=Bt(),{data:m,isPending:f}=Is({amount:X(o).toNumber(),connection:a,networkId:t?.chainId??N.solana.mainnetID,stakePoolAddress:t?.stakePoolAddress??"",ownerAddress:r?.address??"",poolTokenAccountAddress:c}),p=hn({provider:t,process:"mint",transactionData:m,isLoadingTransactionData:f}),g=(0,Es.useCallback)(()=>{d({provider:t,payAmount:p.payAsset?.amount,receiveAmount:p.receiveAsset?.amount,payAmountUSD:p.payAsset?.amountUsd,receiveAmountUSD:p.receiveAsset?.amountUsd,payAssetTitle:p.payAsset?.title,receiveAssetTitle:p.receiveAsset?.title,providerName:p.providerName}),n(m),e()},[d,t,p.payAsset?.amount,p.payAsset?.amountUsd,p.payAsset?.title,p.receiveAsset?.amount,p.receiveAsset?.amountUsd,p.receiveAsset?.title,p.providerName,n,m,e]);return{...p,onPrimaryButtonPress:g}},"useMintLiquidStakeReviewPageProps");u();l();var fo=_(L());var vl=i((t,e)=>{let{navigateToStake:o,navigateToUnstake:n,navigateToExternalLink:r}=t,{trackMintModalContinue:a}=Bt(),s=Gt(U),c=yt("enable-psol-staking"),d=yt("enable-deposit-psol-with-kamino-link"),p=!e||e===ii?c&&s?U:se:e,g=(0,fo.useCallback)(()=>{o(p)},[o,p]),h=(0,fo.useCallback)(()=>{a(p),o(p)},[o,a,p]),k=(0,fo.useCallback)(()=>{p===U?n():r(qn)},[n,r,p]),y=(0,fo.useCallback)(()=>{r(Hn)},[r]),w=nr({method:"mint",goToInfoPage:g,goToInitFlowPage:h});return Gt(p)?{isSupported:!0,onStake:w,onUnstake:k,onDepositWithKamino:d?y:void 0}:{isSupported:!1,onStake:void 0,onUnstake:void 0,onDepositWithKamino:void 0}},"useLSTMintActions");u();l();var Ke=_(L());var xl="https://phantom.com/en-GB/uk-risk-summary";function gr({navigateToExternalLink:t,paddingTop:e,marginX:o,paddingX:n}){let{t:r}=J();return Ke.default.createElement(ct,{backgroundColor:"brandMidnight",paddingX:n??"screen",marginX:o,paddingBottom:12,style:{paddingTop:(e??0)+4},gap:8},Ke.default.createElement(Z,null,Ke.default.createElement(ge,null,Ke.default.createElement(Z,{font:"captionSemibold",color:"textBase"},r("stakingUKDisclaimerPart1"))," ",Ke.default.createElement(Z,{font:"captionSemibold",color:"textBase",onPress:i(()=>t(xl),"onPress"),style:{textDecorationLine:"underline"}},r("stakingUKDisclaimerTake2Mins")))))}i(gr,"UKDisclaimerCard");u();l();var kr=_(L());function Il({navigateToMintLiquidStakeAmountPage:t,navigateBack:e}){let{trackMintModalContinue:o}=Bt(),n=(0,kr.useCallback)(()=>{o(U),t(U)},[t,o]),r=(0,kr.useCallback)(()=>{e()},[e]),a={imageUrl:"https://assets.phantom.app/assets/metadata/PSOL.png",title:v.t("mintPSOLInfoPageTitle"),features:[{icon:"InfoCircle",title:v.t("mintPSOLFeature1Title"),description:v.t("mintPSOLFeature1Description")},{icon:"TrendingUp",title:v.t("mintPSOLFeature2Title"),description:v.t("mintPSOLFeature2Description")},{icon:"ShieldVerified",title:v.t("mintPSOLFeature3Title"),description:v.t("mintPSOLFeature3Description")}],primaryButtonText:v.t("gotIt")};return{onPrimaryButtonPress:n,onClose:r,viewState:a}}i(Il,"useMintLiquidStakeUKInfoProps");u();l();var gt=_(L());u();l();var St=_(L());function Ps({marginTop:t}){let{t:e}=J();return St.default.createElement(ct,{marginTop:t},St.default.createElement(bn,{content:St.default.createElement(ct,{padding:16},St.default.createElement(Z,null,e("stakingUKDisclaimerPastPerformanceBody")))},St.default.createElement(Z,{font:"caption",color:"brandYellowMoon"},e("stakingUKDisclaimerPastPerformance"))),St.default.createElement(Z,null,St.default.createElement(ge,null,St.default.createElement(Z,{font:"caption",color:"textDiminished"},e("stakingUKDisclaimerExchangeRates"))," ")),St.default.createElement(bn,{content:St.default.createElement(ct,{padding:16},St.default.createElement(Z,null,e("stakingUKDisclosuresMarketDataBody")))},St.default.createElement(Z,{font:"caption",color:"brandPrimary"},e("stakingUKDisclaimerDisclosures"))),St.default.createElement(Z,{font:"caption",color:"textDiminished",marginTop:24},e("stakingUKDisclaimerApproval")))}i(Ps,"UKFooterDisclaimer");var El={InfoCircle:wo.InfoCircle,TrendingUp:wo.TrendingUp,ShieldVerified:wo.ShieldVerified};function Pl(t){return gt.default.createElement(El[t],{size:24})}i(Pl,"getIcon");function _l({viewState:t,openLink:e,onPastPerformancePress:o,onDisclosuresPress:n}){let{features:r,title:a,imageUrl:s}=t;return gt.default.createElement(ct,{flex:1,backgroundColor:"areaBase",borderRadius:"base",width:"100%",maxWidth:400},gt.default.createElement(gr,{marginX:"-16",paddingX:12,paddingTop:8,navigateToExternalLink:e}),gt.default.createElement(ct,{alignItems:"center",padding:24,marginY:16},gt.default.createElement(zr,{src:s,size:100})),gt.default.createElement(Z,{color:"white",font:"title1Bold",marginBottom:16,align:"center"},a),gt.default.createElement(ct,{gap:"list",marginBottom:"screen"},r.map(c=>gt.default.createElement(ct,{key:c.title,direction:"row",alignItems:"flex-start",marginBottom:16},gt.default.createElement(ct,{width:24,height:24,marginRight:"screen",alignItems:"center",justifyContent:"center"},Pl(c.icon)),gt.default.createElement(ct,{flex:1},gt.default.createElement(Z,{color:"white",font:"bodySemibold",marginBottom:2},c.title),gt.default.createElement(Z,{color:"textDiminished",font:"caption"},c.description))))),gt.default.createElement(Ps,{marginTop:0,showPastPerformanceInline:!0,onPastPerformancePress:o,onDisclosuresPress:n}))}i(_l,"StakeUKInfoView");u();l();u();l();var Ll=[Ot.supportedTokens,Ot.featureUsed,Xn],Cl=i(t=>{let e=String(t.queryKey[1]);return Ll.includes(e)},"stakingShouldDehydrateQueryPredicate");export{Me as a,Et as b,je as c,E as d,Mo as e,Bs as f,En as g,Vs as h,Ks as i,Lo as j,Fe as k,_n as l,Ys as m,Gs as n,Pn as o,ke as p,Mt as q,Js as r,Xs as s,Zs as t,Oo as u,ge as v,nc as w,ic as x,Mi as y,mh as z,ph as A,ye as B,Ts as C,bs as D,vs as E,gc as F,kc as G,ft as H,yc as I,jn as J,se as K,Ko as L,Ye as M,Ue as N,Ac as O,Kh as P,Xe as Q,Ze as R,Yi as S,F as T,qo as U,tr as V,R as W,Cl as X,ce as Y,V as Z,aa as _,eo as $,er as aa,Ft as ba,Xc as ca,Zc as da,tu as ea,wa as fa,ou as ga,ru as ha,uu as ia,lu as ja,Yo as ka,Gt as la,Nt as ma,ku as na,nr as oa,pu as pa,fu as qa,Jt as ra,wu as sa,we as ta,Ba as ua,Tu as va,as as wa,ss as xa,aI as ya,ps as za,Ka as Aa,vv as Ba,pl as Ca,fl as Da,dn as Ea,Ju as Fa,gl as Ga,Bt as Ha,bl as Ia,wl as Ja,Tl as Ka,vl as La,gr as Ma,Il as Na,Ps as Oa,_l as Pa};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-TQDE7426.js.map
