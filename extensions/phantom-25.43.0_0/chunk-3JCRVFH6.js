import{a as r,i as n,n as s}from"./chunk-NSVULBS3.js";n();s();n();s();n();s();n();s();var t;(function(e){e.NAN="NAN",e.DATE="DATE",e.UINT8ARRAY="UINT8ARRAY",e.BIGINT="BIGINT",e.URL="URL"})(t||(t={}));var y={canSerialize:r(e=>typeof e=="number"&&Number.isNaN(e),"canSerialize"),serialize:r(e=>({["$"+t.NAN]:1}),"serialize"),deserialize:r(e=>NaN,"deserialize")},z={canSerialize:r(e=>e instanceof Date,"canSerialize"),serialize:r(e=>({[`$${t.DATE}`]:e.valueOf()}),"serialize"),deserialize:r(e=>new Date(e[`$${t.DATE}`]),"deserialize")},I={canSerialize:r(e=>e instanceof Uint8Array,"canSerialize"),serialize:r(e=>({[`$${t.UINT8ARRAY}`]:Array.from(e)}),"serialize"),deserialize:r(e=>Uint8Array.from(e[`$${t.UINT8ARRAY}`]),"deserialize")},R={canSerialize:r(e=>typeof e=="bigint","canSerialize"),serialize:r(e=>({[`$${t.BIGINT}`]:e.toString()}),"serialize"),deserialize:r(e=>BigInt(e[`$${t.BIGINT}`]),"deserialize")},p={canSerialize:r(e=>e instanceof URL,"canSerialize"),serialize:r(e=>({[`$${t.URL}`]:e.href}),"serialize"),deserialize:r(e=>new URL(e[`$${t.URL}`]),"deserialize")},c={[t.NAN]:y,[t.DATE]:z,[t.UINT8ARRAY]:I,[t.BIGINT]:R,[t.URL]:p};var u=r(function(e){let i=this[e];for(let a of Object.values(c))if(a.canSerialize(i))return a.serialize(i);return i},"replacer"),$=r((e,i)=>{if(i&&typeof i=="object"&&Object.keys(i)[0]){let a=Object.keys(i)[0].slice(1);if(a in c)return c[a].deserialize(i)}return i},"reviver"),f=r(e=>JSON.stringify(e,u),"stringify"),l=r(e=>JSON.parse(e,$),"parse");var g=r(async(e,i)=>l(await e.sendMessage(f(i))),"sendMessage"),S=r(e=>async(i,a)=>{let A=l(i),N=await e(A,a);return f(N)},"handleRawMessage");n();s();export{f as a,l as b,g as c,S as d};
//# sourceMappingURL=chunk-3JCRVFH6.js.map
