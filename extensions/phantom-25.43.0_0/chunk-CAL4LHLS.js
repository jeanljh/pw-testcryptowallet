import{a as b,b as I}from"./chunk-FYGLBDJG.js";import{s as f}from"./chunk-PRM4QCVC.js";import{m as p}from"./chunk-FMF67RFP.js";import{V as g,a as z}from"./chunk-LYTSCHVN.js";import{g as h,i as m,n as d}from"./chunk-NSVULBS3.js";m();d();var o=h(z(),1);m();d();var c=h(z(),1);var L=c.default.memo(({showBadge:e=!0})=>c.default.createElement(f,{aspectRatio:1,width:"100%",height:"100%",backgroundColor:g.colors.legacy.elementBase,align:"flex-end",borderRadius:"6px",padding:"15px"},e?c.default.createElement(f,{width:"100px",height:"10px",borderRadius:"6px",backgroundColor:g.colors.legacy.borderDiminished}):null));var A=3,H=p.img`
  transition: transform 0.5s ease;
  object-fit: cover;
  width: 100%;
  height: 100%;
  overflow: hidden;
  transform: ${e=>e.zoomState==="zoomedIn"?`scale(${A})`:"scale(1)"};
  cursor: ${e=>{if(e.isZoomControlsEnabled){if(e.zoomState==="zoomedIn")return"zoom-out";if(e.zoomState==="zoomedOut")return"zoom-in"}else return"inherit"}};
`,K=o.default.memo(e=>{let{uri:l,showSkeletonBadge:S=!1,isZoomControlsEnabled:r=!1}=e,[C,s]=(0,o.useState)("loading"),[n,u]=(0,o.useState)("zoomedOut"),i=(0,o.useRef)(null),a=(0,o.useCallback)(t=>{let O=t.nativeEvent.layerX,x=t.nativeEvent.layerY,T=t.currentTarget.offsetWidth,P=t.currentTarget.offsetHeight,Z=O/T*100,B=x/P*100;i.current&&(i.current.style.transformOrigin=`${Z}% ${B}%`)},[]),E=(0,o.useCallback)(t=>{r&&(u(n==="zoomedIn"?"zoomedOut":"zoomedIn"),a(t))},[a,n,u,r]),y=(0,o.useCallback)(t=>{n==="zoomedOut"||!r||a(t)},[a,n,r]),M=(0,o.useCallback)(()=>{r&&(i.current&&(i.current.style.transformOrigin="center"),u("zoomedOut"))},[r]),k=(0,o.useMemo)(()=>l!==null&&l.trim()!==""?l:null,[l]),v=(0,o.useCallback)(()=>{s("success")},[s]),w=(0,o.useCallback)(()=>{s("error")},[s]);return o.default.createElement(o.default.Fragment,null,C==="error"?o.default.createElement(b,null,o.default.createElement(I,{type:"image"})):o.default.createElement(b,null,o.default.createElement(H,{ref:i,onMouseMove:y,onMouseLeave:M,onClick:E,src:k??"",onLoad:v,onError:w,zoomState:n,isZoomControlsEnabled:r})),C==="loading"?o.default.createElement(L,{showBadge:S}):null)});export{L as a,K as b};
//# sourceMappingURL=chunk-CAL4LHLS.js.map
