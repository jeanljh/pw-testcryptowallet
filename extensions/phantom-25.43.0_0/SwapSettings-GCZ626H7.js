import{Ia as Ct}from"./chunk-53EKYYOD.js";import"./chunk-TJGCGL4J.js";import"./chunk-W7HWP67X.js";import"./chunk-BO5X4B7T.js";import"./chunk-PRM4QCVC.js";import"./chunk-22S374UP.js";import"./chunk-YCV6CTZK.js";import"./chunk-P3VWKB2X.js";import"./chunk-TCCWLNBV.js";import"./chunk-TFRCNF4E.js";import"./chunk-6WMUBTJC.js";import"./chunk-365YWPIP.js";import"./chunk-YEESR7EU.js";import"./chunk-T5IRHW4Y.js";import"./chunk-I3QHDDEG.js";import"./chunk-PQNSQOE2.js";import"./chunk-F74QCQCY.js";import"./chunk-XVSHIHTB.js";import"./chunk-TQE77AJX.js";import"./chunk-UFN6RPHX.js";import"./chunk-XSN3P2VT.js";import"./chunk-RNES5QWV.js";import"./chunk-5JE2EH74.js";import"./chunk-RLKSRZDI.js";import"./chunk-PYLKOKDS.js";import"./chunk-IWYOR6BJ.js";import"./chunk-5HTF5CEZ.js";import"./chunk-YLX2CXTY.js";import"./chunk-VGIRFM65.js";import"./chunk-E5SPQ6GD.js";import"./chunk-RCXDI445.js";import"./chunk-6DKZGOGT.js";import"./chunk-GWKXKPCT.js";import"./chunk-FMF67RFP.js";import{Ha as K,Ia as bt,Ja as Y,Ka as wt,La as Z,Ma as vt,ba as M,ca as q,da as z,ea as X,gb as Et,hb as xt,ib as It,jb as Pt,kb as Ft,lb as rt,mb as Rt,nb as At,ob as ot,pb as _t,qb as Wt,ta as N,ua as $}from"./chunk-44NW6BSR.js";import"./chunk-CHXPHGEW.js";import"./chunk-3JCRVFH6.js";import"./chunk-UHG6ISVN.js";import"./chunk-EVXXECVZ.js";import{D as Tt}from"./chunk-TQDE7426.js";import"./chunk-5RCV3KPE.js";import"./chunk-X5YMBRTT.js";import"./chunk-34JK5YK5.js";import"./chunk-CM4ZFCT2.js";import"./chunk-RKMQYZSN.js";import"./chunk-MN377ENM.js";import"./chunk-6XVVS35Q.js";import"./chunk-COS4XKZ5.js";import"./chunk-IJLITZAC.js";import"./chunk-GSVPXWLR.js";import"./chunk-P42QO3R7.js";import{Ba as V,Fa as St,Ma as gt,X as dt,Ya as ne,a as b,ca as m,ja as w,kb as ht,r as h,rb as yt}from"./chunk-LYTSCHVN.js";import"./chunk-RCTLXTBM.js";import"./chunk-Z26KXQRL.js";import"./chunk-NUMCZRU4.js";import"./chunk-P5BPG5MC.js";import"./chunk-PPQ6BNOX.js";import{a as o,d as ee,g as y,i as p,n as u}from"./chunk-NSVULBS3.js";var jt=ee(pt=>{"use strict";p();u();Object.defineProperty(pt,"__esModule",{value:!0});var at=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Mt=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return o(r,"defineProperties"),function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),Lt=b(),L=Bt(Lt),ie=ne(),c=Bt(ie);function Bt(r){return r&&r.__esModule?r:{default:r}}o(Bt,"_interopRequireDefault");function re(r,e){var n={};for(var t in r)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t]);return n}o(re,"_objectWithoutProperties");function oe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}o(oe,"_classCallCheck");function ae(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}o(ae,"_possibleConstructorReturn");function se(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}o(se,"_inherits");var zt={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},pe=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],ue=o(function(e){return pe.forEach(function(n){return delete e[n]}),e},"cleanInputProps"),Nt=o(function(e,n){n.style.fontSize=e.fontSize,n.style.fontFamily=e.fontFamily,n.style.fontWeight=e.fontWeight,n.style.fontStyle=e.fontStyle,n.style.letterSpacing=e.letterSpacing,n.style.textTransform=e.textTransform},"copyStyles"),Dt=typeof self<"u"&&self.navigator?/MSIE |Trident\/|Edge\//.test(self.navigator.userAgent):!1,Ot=o(function(){return Dt?"_"+Math.random().toString(36).substr(2,12):void 0},"generateId"),st=function(r){se(e,r),Mt(e,null,[{key:"getDerivedStateFromProps",value:o(function(t,i){var s=t.id;return s!==i.prevId?{inputId:s||Ot(),prevId:s}:null},"getDerivedStateFromProps")}]);function e(n){oe(this,e);var t=ae(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return t.inputRef=function(i){t.input=i,typeof t.props.inputRef=="function"&&t.props.inputRef(i)},t.placeHolderSizerRef=function(i){t.placeHolderSizer=i},t.sizerRef=function(i){t.sizer=i},t.state={inputWidth:n.minWidth,inputId:n.id||Ot(),prevId:n.id},t}return o(e,"AutosizeInput"),Mt(e,[{key:"componentDidMount",value:o(function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()},"componentDidMount")},{key:"componentDidUpdate",value:o(function(t,i){i.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()},"componentDidUpdate")},{key:"componentWillUnmount",value:o(function(){this.mounted=!1},"componentWillUnmount")},{key:"copyInputStyles",value:o(function(){if(!(!this.mounted||!self.getComputedStyle)){var t=this.input&&self.getComputedStyle(this.input);t&&(Nt(t,this.sizer),this.placeHolderSizer&&Nt(t,this.placeHolderSizer))}},"copyInputStyles")},{key:"updateInputWidth",value:o(function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var t=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?t=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:t=this.sizer.scrollWidth+2;var i=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;t+=i,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}},"updateInputWidth")},{key:"getInput",value:o(function(){return this.input},"getInput")},{key:"focus",value:o(function(){this.input.focus()},"focus")},{key:"blur",value:o(function(){this.input.blur()},"blur")},{key:"select",value:o(function(){this.input.select()},"select")},{key:"renderStyles",value:o(function(){var t=this.props.injectStyles;return Dt&&t?L.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null},"renderStyles")},{key:"render",value:o(function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(f,d){return f??d}),i=at({},this.props.style);i.display||(i.display="inline-block");var s=at({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),l=re(this.props,[]);return ue(l),l.className=this.props.inputClassName,l.id=this.state.inputId,l.style=s,L.default.createElement("div",{className:this.props.className,style:i},this.renderStyles(),L.default.createElement("input",at({},l,{ref:this.inputRef})),L.default.createElement("div",{ref:this.sizerRef,style:zt},t),this.props.placeholder?L.default.createElement("div",{ref:this.placeHolderSizerRef,style:zt},this.props.placeholder):null)},"render")}]),e}(Lt.Component);st.propTypes={className:c.default.string,defaultValue:c.default.any,extraWidth:c.default.oneOfType([c.default.number,c.default.string]),id:c.default.string,injectStyles:c.default.bool,inputClassName:c.default.string,inputRef:c.default.func,inputStyle:c.default.object,minWidth:c.default.oneOfType([c.default.number,c.default.string]),onAutosize:c.default.func,onChange:c.default.func,placeholder:c.default.string,placeholderIsMinWidth:c.default.bool,style:c.default.object,value:c.default.any};st.defaultProps={minWidth:1,injectStyles:!0};pt.default=st});p();u();p();u();var O=y(b());p();u();var P=y(b());var J=o(({title:r,footerChildren:e,children:n,onBack:t,onClose:i})=>P.default.createElement(m,{gap:16,padding:16,justifyContent:"space-between",flex:1},P.default.createElement(m,{gap:16},t?P.default.createElement(m,{onPress:t,direction:"row",alignItems:"center",gap:4},P.default.createElement(dt.ChevronLeft,{color:"textBase"}),P.default.createElement(w,{font:"title1"},r)):P.default.createElement(m,{direction:"row",alignItems:"center",gap:4,justifyContent:"space-between"},P.default.createElement(w,{font:"title1"},r),P.default.createElement(gt,{bounded:!1,onPress:i,icon:"X",label:"Close",color:"textBase"})),n),e),"SwapSettingsScreen");var kt=o(({openSlippage:r,openPriorityFee:e,openTip:n,dismiss:t})=>{let{t:i}=h(),{selectedSetting:s}=q(),{data:l}=Z(),{data:f}=K(),{selectedSetting:d}=X(),{data:S}=Y(),{selectedSetting:E}=$(),g=(0,O.useMemo)(()=>[{onPress:r,topLeft:{text:i("swapSlippageSettingsTitle")},topRight:{text:s.type===M.Auto?i("swapSettingsAuto"):`${l}%`},type:"drawer"},{onPress:e,topLeft:{text:i("swapPriorityFeeSettingsTitle")},topRight:{text:d.type===z.Auto?i("swapSettingsAuto"):`${f} SOL`},type:"drawer"},{onPress:n,topLeft:{text:i("swapTipSettingsTitle")},topRight:{text:E.type===N.Auto?i("swapSettingsAuto"):`${S} SOL`},type:"drawer"}],[r,i,s.type,l,e,d.type,f,n,E.type,S]);return O.default.createElement(J,{title:i("settings"),onClose:t},O.default.createElement(yt,{rows:g}))},"SwapSettings");p();u();var Q=y(b());p();u();var a=y(b());p();u();var B=y(b()),Gt=y(jt());p();u();var Ht={input:"du47p82 du47p80 du47p81 _48j31a1x6 _48j31a46u"};var Ut=B.default.memo((0,B.forwardRef)(({value:r,onChange:e},n)=>B.default.createElement(Gt.default,{ref:n,placeholder:"0.00",value:r,inputClassName:Ht.input,onChange:o(t=>e(t.target.value),"onChange")})));p();u();var F=y(b());var le=o(({onPress:r,active:e,children:n,placement:t="solo"})=>{let i=(0,F.useMemo)(()=>{switch(t){case"top":return{borderTopLeftRadius:"base",borderTopRightRadius:"base"};case"middle":return{};case"bottom":return{borderBottomLeftRadius:"base",borderBottomRightRadius:"base"};case"solo":return{borderRadius:16}}},[t]);return F.default.createElement(m,{direction:"row",alignItems:"flex-start",backgroundColor:"elementBase",gap:8,padding:16,onPress:r,flex:1,...i},F.default.createElement(m,{flex:1,minWidth:0,justifyContent:"flex-start"},n),F.default.createElement(m,{flexShrink:0},F.default.createElement(ht,{active:e})))},"SwapSettingsRadioRow"),ut=o(({rows:r})=>F.default.createElement(m,{gap:"table"},r.map((e,n)=>{let t=o(()=>r.length===1?"solo":n===0?"top":n===r.length-1?"bottom":"middle","getPlacement");return F.default.createElement(le,{key:n,...e,placement:t()})})),"SwapSettingsRadioTable");p();u();var A=y(b());var Vt=o(({onClose:r,hasChanged:e,onConfirm:n,isCustomEnabled:t,customRowError:i,customRowValue:s})=>{let{t:l}=h(),f=(0,A.useMemo)(()=>!!(i&&i.severity==="critical"||t&&isNaN(parseFloat(s))),[i,t,s]);return A.default.createElement(m,null,e?A.default.createElement(m,{direction:"row",gap:12},A.default.createElement(V,{onPress:r},l("commandCancel")),A.default.createElement(V,{background:"spot",onPress:o(()=>{n(),r()},"onPress"),disabled:f},l("commandApply"))):A.default.createElement(V,{background:"spot",onPress:r},l("commandDone")))},"SwapSettingsSubMenuActions");var ce=o(({value:r,maxLength:e,maxDecimals:n})=>{let t=Tt(r.substring(0,e)),i=Et(t,n),s=parseFloat(i);return isNaN(s)?"":i},"validateInput"),C=o(({title:r,autoSubtitle:e,label:n,unit:t,storedValue:i,storedType:s,fixedOptions:l=[],confirm:f,getCustomError:d,goBack:S,close:E,maxLength:g,maxDecimals:x})=>{let lt=(0,a.useMemo)(()=>!i||isNaN(parseFloat(i.toString()))?"":i.toString(),[i]),[I,D]=(0,a.useState)(()=>s==="auto"?"auto":i&&l.includes(i)?"fixed":"custom"),[R,Yt]=(0,a.useState)(I!=="fixed"?lt:""),ct=(0,a.useCallback)(W=>{Yt(ce({value:W,maxLength:g,maxDecimals:x}))},[g,x]),[j,Zt]=(0,a.useState)(I==="fixed"?lt:""),H=(0,a.useMemo)(()=>I==="auto"?"auto":"fixed",[I]),et=(0,a.useMemo)(()=>{let W=parseFloat(I==="fixed"?j:R);return isNaN(W)||W===0?null:W},[I,j,R]),{t:_}=h(),k=(0,a.useMemo)(()=>d(R,_),[R,d,_]),mt=I==="auto",G=I==="custom",ft=I==="fixed",nt=(0,a.useRef)(null),U=(0,a.useCallback)(()=>{nt.current?.blur()},[]),Jt=(0,a.useMemo)(()=>[{active:mt,id:"radio-auto",onPress:o(()=>{D("auto"),U()},"onPress"),children:a.default.createElement(a.default.Fragment,null,a.default.createElement(m,{direction:"row",alignItems:"center",gap:8},a.default.createElement(St,{icon:"Zap",shape:"circle",size:24,backgroundColor:"brandGreen"}),a.default.createElement(w,null,_("swapSettingsAuto"))),a.default.createElement(w,{font:"caption",color:"textDiminished",paddingTop:8,align:"left"},e))}],[mt,e,_,U]),Qt=(0,a.useMemo)(()=>[...l.map(it=>({active:ft&&it===parseFloat(j),onPress:o(()=>{D("fixed"),Zt(it.toString()),U()},"onPress"),children:a.default.createElement(w,{align:"left"},it,t==="percentage"?"%":" SOL")})),{active:G,onPress:o(()=>{D("custom"),setTimeout(()=>{nt.current?.focus()},100)},"onPress"),children:a.default.createElement(a.default.Fragment,null,a.default.createElement(m,{direction:"row",alignItems:"center"},a.default.createElement(w,{marginRight:4},_("swapSettingsCustom")),a.default.createElement(Ut,{ref:nt,onPress:o(()=>D("custom"),"onPress"),value:R,onChange:ct}),a.default.createElement(w,null,t==="percentage"?"%":" SOL")),G&&k&&R!==""&&a.default.createElement(w,{font:"caption",color:k.severity==="critical"?"brandRed":"spotWarning",align:"left"},k.message))}],[l,G,_,R,ct,t,k,ft,j,U]),te=(0,a.useMemo)(()=>H==="fixed"&&s==="fixed"?et!==i:H!==s,[H,s,et,i]);return a.default.createElement(J,{title:r,onBack:S,footerChildren:a.default.createElement(Vt,{onClose:E,hasChanged:te,onConfirm:o(()=>{f({type:H,value:et})},"onConfirm"),isCustomEnabled:G,customRowError:k,customRowValue:R})},a.default.createElement(m,{gap:16},a.default.createElement(ut,{rows:Jt}),a.default.createElement(ut,{rows:Qt}),n&&a.default.createElement(w,{font:"label",color:"textDiminished"},n)))},"SwapSettingsSubMenu");var qt=o(({onBack:r,onClose:e})=>{let{t:n}=h(),{selectedSetting:t,isFetched:i,setPriorityFeeSetting:s}=X(),{data:l,isFetched:f}=K(),{mutateAsync:d}=bt(),S=At(),E=(0,Q.useCallback)((g,x)=>Rt(g,x,S),[S]);return!f||!i?null:Q.default.createElement(C,{title:n("swapPriorityFeeSettingsTitle"),autoSubtitle:n("swapPriorityFeeSettingsAutoSubtitle"),goBack:r,close:e,storedValue:l,storedType:t.type,unit:"sol",confirm:o(({type:g,value:x})=>{d(x),s({type:g==="auto"?z.Auto:z.Fixed})},"confirm"),getCustomError:E,maxLength:rt.input.maxLength,maxDecimals:rt.input.maxDecimals})},"SwapSettingsPriorityFee");p();u();var Xt=y(b());var $t=o(({onBack:r,onClose:e})=>{let{t:n}=h(),{selectedSetting:t,isFetched:i,setSlippageSetting:s}=q(),{data:l,isFetched:f}=Z(),{mutateAsync:d}=vt();return!f||!i?null:Xt.default.createElement(C,{title:n("swapSlippageSettingsTitle"),autoSubtitle:n("swapSlippageSettingsAutoSubtitle"),goBack:r,close:e,storedValue:l??0,storedType:t.type,confirm:o(({type:S,value:E})=>{d(E),s({type:S==="auto"?M.Auto:M.Fixed})},"confirm"),getCustomError:Ft,fixedOptions:xt,label:n("swapSlippageSettingsSubtitle"),unit:"percentage",maxLength:It,maxDecimals:Pt})},"SwapSettingsSlippage");p();u();var tt=y(b());var Kt=o(({onBack:r,onClose:e})=>{let{t:n}=h(),{selectedSetting:t,isFetched:i,setTipSetting:s}=$(),{data:l,isFetched:f}=Y(),{mutateAsync:d}=wt(),S=Wt(),E=(0,tt.useCallback)((g,x)=>_t(g,x,S),[S]);return!f||!i?null:tt.default.createElement(C,{title:n("swapTipSettingsTitle"),autoSubtitle:n("swapTipSettingsAutoSubtitle"),goBack:r,close:e,storedValue:l,storedType:t.type,unit:"sol",confirm:o(({type:g,value:x})=>{d(x),s({type:g==="auto"?N.Auto:N.Fixed})},"confirm"),getCustomError:E,maxLength:ot.input.maxLength,maxDecimals:ot.input.maxDecimals})},"SwapSettingsTip");var T=y(b(),1);var me=o(()=>{let[r,e]=(0,T.useState)(null),{handleHideModalVisibility:n}=Ct(),t=(0,T.useCallback)(()=>{n("swapSettings")},[n]),i=(0,T.useCallback)(()=>{e(null)},[e]);switch(r){case"slippage":return T.default.createElement($t,{onBack:i,onClose:t});case"priorityFee":return T.default.createElement(qt,{onBack:i,onClose:t});case"tip":return T.default.createElement(Kt,{onBack:i,onClose:t});default:return T.default.createElement(kt,{openSlippage:()=>e("slippage"),openPriorityFee:()=>e("priorityFee"),openTip:()=>e("tip"),dismiss:t})}},"SwapSettingsWrapped"),fe=o(()=>T.default.createElement(me,null),"SwapSettings"),vi=fe;export{fe as SwapSettings,vi as default};
//# sourceMappingURL=SwapSettings-GCZ626H7.js.map
