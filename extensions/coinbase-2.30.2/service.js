/*! For license information please see service.js.LICENSE.txt */
(()=>{var e={21221:(e,t)=>{"use strict";t.T=void 0;t.T=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);"string"==typeof r&&r.startsWith(e)&&t.push(r)}t.forEach((e=>localStorage.removeItem(e)))}scopedKey(e){return`${this.scope}:${e}`}}},84249:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;var o=n(48834);function s(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function a(e){return s(e),o.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=s,t.uint8ArrayToBuffer=a;var u=function(){function e(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}return e.prototype.makeDestinationObject=function(){return{}},e.prototype.decode=function(e,t){throw new Error("Layout is abstract")},e.prototype.encode=function(e,t,n){throw new Error("Layout is abstract")},e.prototype.getSpan=function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span},e.prototype.replicate=function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t},e.prototype.fromArray=function(e){},e}();function c(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=u,t.nameWithProperty=c,t.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof u))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},t}(u);t.ExternalLayout=l;var d=function(e){function t(t,n){var r=this;if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");return(r=e.call(this,-1,n)||this).elementSpan=t,r}return i(t,e),t.prototype.isCount=function(){return!0},t.prototype.decode=function(e,t){s(e),void 0===t&&(t=0);var n=e.length-t;return Math.floor(n/this.elementSpan)},t.prototype.encode=function(e,t,n){return 0},t}(l);t.GreedyCount=d;var h=function(e){function t(t,n,r){var i=this;if(!(t instanceof u))throw new TypeError("layout must be a Layout");if(void 0===n)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");return(i=e.call(this,t.span,r||t.property)||this).layout=t,i.offset=n,i}return i(t,e),t.prototype.isCount=function(){return this.layout instanceof p||this.layout instanceof f},t.prototype.decode=function(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)},t}(l);t.OffsetLayout=h;var p=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readUIntLE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeUIntLE(e,n,this.span),this.span},t}(u);t.UInt=p;var f=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readUIntBE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeUIntBE(e,n,this.span),this.span},t}(u);t.UIntBE=f;var y=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readIntLE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeIntLE(e,n,this.span),this.span},t}(u);t.Int=y;var m=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readIntBE(t,this.span)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeIntBE(e,n,this.span),this.span},t}(u);t.IntBE=m;var g=Math.pow(2,32);function v(e){var t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function b(e,t){return e*g+t}var w=function(e){function t(t){return e.call(this,8,t)||this}return i(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=a(e),r=n.readUInt32LE(t);return b(n.readUInt32LE(t+4),r)},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=v(e),i=a(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8},t}(u);t.NearUInt64=w;var _=function(e){function t(t){return e.call(this,8,t)||this}return i(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=a(e);return b(n.readUInt32BE(t),n.readUInt32BE(t+4))},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=v(e),i=a(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8},t}(u);t.NearUInt64BE=_;var S=function(e){function t(t){return e.call(this,8,t)||this}return i(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=a(e),r=n.readUInt32LE(t);return b(n.readInt32LE(t+4),r)},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=v(e),i=a(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8},t}(u);t.NearInt64=S;var E=function(e){function t(t){return e.call(this,8,t)||this}return i(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=a(e);return b(n.readInt32BE(t),n.readUInt32BE(t+4))},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=v(e),i=a(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8},t}(u);t.NearInt64BE=E;var x=function(e){function t(t){return e.call(this,4,t)||this}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readFloatLE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeFloatLE(e,n),4},t}(u);t.Float=x;var A=function(e){function t(t){return e.call(this,4,t)||this}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readFloatBE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeFloatBE(e,n),4},t}(u);t.FloatBE=A;var k=function(e){function t(t){return e.call(this,8,t)||this}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readDoubleLE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeDoubleLE(e,n),8},t}(u);t.Double=k;var T=function(e){function t(t){return e.call(this,8,t)||this}return i(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),a(e).readDoubleBE(t)},t.prototype.encode=function(e,t,n){return void 0===n&&(n=0),a(t).writeDoubleBE(e,n),8},t}(u);t.DoubleBE=T;var M=function(e){function t(t,n,r){var i=this;if(!(t instanceof u))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof l&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var o=-1;return!(n instanceof l)&&0<t.span&&(o=n*t.span),(i=e.call(this,o,r)||this).elementLayout=t,i.count=n,i}return i(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=0,r=this.count;if(r instanceof l&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else for(var i=0;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i;return n},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=[],r=0,i=this.count;for(i instanceof l&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=this.elementLayout,i=e.reduce((function(e,i){return e+r.encode(i,t,n+e)}),0);return this.count instanceof l&&this.count.encode(e.length,t,n),i},t}(u);t.Sequence=M;var C=function(e){function t(t,n,r){var i=this;if(!Array.isArray(t)||!t.reduce((function(e,t){return e&&t instanceof u}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof n&&void 0===r&&(r=n,n=void 0);for(var o=0,s=t;o<s.length;o++){var a=s[o];if(0>a.span&&void 0===a.property)throw new Error("fields cannot contain unnamed variable-length layout")}var c=-1;try{c=t.reduce((function(e,t){return e+t.getSpan()}),0)}catch(e){}return(i=e.call(this,c,n)||this).fields=t,i.decodePrefixes=!!r,i}return i(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=0;try{n=this.fields.reduce((function(n,r){var i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n},t.prototype.decode=function(e,t){s(e),void 0===t&&(t=0);for(var n=this.makeDestinationObject(),r=0,i=this.fields;r<i.length;r++){var o=i[r];if(void 0!==o.property&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break}return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);for(var r=n,i=0,o=0,s=0,a=this.fields;s<a.length;s++){var u=a[s],c=u.span;if(o=0<c?c:0,void 0!==u.property){var l=e[u.property];void 0!==l&&(o=u.encode(l,t,n),0>c&&(c=u.getSpan(t,n)))}i=n,n+=c}return i+o-r},t.prototype.fromArray=function(e){for(var t=this.makeDestinationObject(),n=0,r=this.fields;n<r.length;n++){var i=r[n];void 0!==i.property&&0<e.length&&(t[i.property]=e.shift())}return t},t.prototype.layoutFor=function(e){if("string"!=typeof e)throw new TypeError("property must be string");for(var t=0,n=this.fields;t<n.length;t++){var r=n[t];if(r.property===e)return r}},t.prototype.offsetOf=function(e){if("string"!=typeof e)throw new TypeError("property must be string");for(var t=0,n=0,r=this.fields;n<r.length;n++){var i=r[n];if(i.property===e)return t;0>i.span?t=-1:0<=t&&(t+=i.span)}},t}(u);t.Structure=C;var N=function(){function e(e){this.property=e}return e.prototype.decode=function(e,t){throw new Error("UnionDiscriminator is abstract")},e.prototype.encode=function(e,t,n){throw new Error("UnionDiscriminator is abstract")},e}();t.UnionDiscriminator=N;var O=function(e){function t(t,n){var r=this;if(!(t instanceof l&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(r=e.call(this,n||t.property||"variant")||this).layout=t,r}return i(t,e),t.prototype.decode=function(e,t){return this.layout.decode(e,t)},t.prototype.encode=function(e,t,n){return this.layout.encode(e,t,n)},t}(N);t.UnionLayoutDiscriminator=O;var I=function(e){function t(t,n,r){var i,o=this,s=t instanceof p||t instanceof f;if(s)i=new O(new h(t));else if(t instanceof l&&t.isCount())i=new O(t);else{if(!(t instanceof N))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===n&&(n=null),!(null===n||n instanceof u))throw new TypeError("defaultLayout must be null or a Layout");if(null!==n){if(0>n.span)throw new Error("defaultLayout must have constant span");void 0===n.property&&(n=n.replicate("content"))}var a=-1;n&&0<=(a=n.span)&&s&&(a+=i.layout.span),(o=e.call(this,a,r)||this).discriminator=i,o.usesPrefixDiscriminator=s,o.defaultLayout=n,o.registry={};var c=o.defaultGetSourceVariant.bind(o);return o.getSourceVariant=function(e){return c(e)},o.configGetSourceVariant=function(e){c=e.bind(this)},o}return i(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)},t.prototype.defaultGetSourceVariant=function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;if((n=this.registry[e[this.discriminator.property]])&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(var t in this.registry){var n;if((n=this.registry[t]).property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")},t.prototype.decode=function(e,t){var n;void 0===t&&(t=0);var r=this.discriminator,i=r.decode(e,t),o=this.registry[i];if(void 0===o){var s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=r.layout.span),(n=this.makeDestinationObject())[r.property]=i,n[s.property]=s.decode(e,t+a)}else n=o.decode(e,t);return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=this.getSourceVariant(e);if(void 0===r){var i=this.discriminator,o=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(e[i.property],t,n),s+o.encode(e[o.property],t,n+s)}return r.encode(e,t,n)},t.prototype.addVariant=function(e,t,n){var r=new R(this,e,t,n);return this.registry[e]=r,r},t.prototype.getVariant=function(e,t){var n;return e instanceof Uint8Array?(void 0===t&&(t=0),n=this.discriminator.decode(e,t)):n=e,this.registry[n]},t}(u);t.Union=I;var R=function(e){function t(t,n,r,i){var o=this;if(!(t instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof u))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}var s=t.span;return 0>t.span&&0<=(s=r?r.span:0)&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span),(o=e.call(this,s,i)||this).union=t,o.variant=n,o.layout=r||null,o}return i(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r},t.prototype.decode=function(e,t){var n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var i=this.property;return this.layout?n[i]=this.layout.decode(e,t+r):i?n[i]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(e,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,t,n);var o=r;if(this.layout&&(this.layout.encode(e[i],t,n+r),o+=this.layout.getSpan(t,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o},t.prototype.fromArray=function(e){if(this.layout)return this.layout.fromArray(e)},t}(u);function P(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=R;var L=function(e){function t(t,n,r){var i=this;if(!(t instanceof p||t instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof n&&void 0===r&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");(i=e.call(this,t.span,r)||this).word=t,i.msb=!!n,i.fields=[];var o=0;return i._packedSetValue=function(e){return o=P(e),this},i._packedGetValue=function(){return o},i}return i(t,e),t.prototype.decode=function(e,t){var n=this.makeDestinationObject();void 0===t&&(t=0);var r=this.word.decode(e,t);this._packedSetValue(r);for(var i=0,o=this.fields;i<o.length;i++){var s=o[i];void 0!==s.property&&(n[s.property]=s.decode(r))}return n},t.prototype.encode=function(e,t,n){void 0===n&&(n=0);var r=this.word.decode(t,n);this._packedSetValue(r);for(var i=0,o=this.fields;i<o.length;i++){var s=o[i];if(void 0!==s.property){var a=e[s.property];void 0!==a&&s.encode(a)}}return this.word.encode(this._packedGetValue(),t,n)},t.prototype.addField=function(e,t){var n=new j(this,e,t);return this.fields.push(n),n},t.prototype.addBoolean=function(e){var t=new D(this,e);return this.fields.push(t),t},t.prototype.fieldFor=function(e){if("string"!=typeof e)throw new TypeError("property must be string");for(var t=0,n=this.fields;t<n.length;t++){var r=n[t];if(r.property===e)return r}},t}(u);t.BitStructure=L;var j=function(){function e(e,t,n){if(!(e instanceof L))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");var r=8*e.span,i=e.fields.reduce((function(e,t){return e+t.bits}),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=P(this.valueMask<<this.start),this.property=n}return e.prototype.decode=function(e,t){return P(this.container._packedGetValue()&this.wordMask)>>>this.start},e.prototype.encode=function(e){if(!Number.isInteger(e)||e!==P(e&this.valueMask))throw new TypeError(c("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),n=P(e<<this.start);this.container._packedSetValue(P(t&~this.wordMask)|n)},e}();t.BitField=j;var D=function(e){function t(t,n){return e.call(this,t,1,n)||this}return i(t,e),t.prototype.decode=function(e,t){return!!j.prototype.decode.call(this,e,t)},t.prototype.encode=function(e){return"boolean"==typeof e&&(e=+e),j.prototype.encode.call(this,e)},t}(j);t.Boolean=D;var U=function(e){function t(t,n){var r=this;if(!(t instanceof l&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return t instanceof l||(i=t),(r=e.call(this,i,n)||this).length=t,r}return i(t,e),t.prototype.getSpan=function(e,t){var n=this.span;return 0>n&&(n=this.length.decode(e,t)),n},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=this.span;return 0>n&&(n=this.length.decode(e,t)),a(e).slice(t,t+n)},t.prototype.encode=function(e,t,n){var r=this.length;if(this.length instanceof l&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(c("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");var i=a(e);return a(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof l&&this.length.encode(r,t,n),r},t}(u);t.Blob=U;var B=function(e){function t(t){return e.call(this,-1,t)||this}return i(t,e),t.prototype.getSpan=function(e,t){s(e),void 0===t&&(t=0);for(var n=t;n<e.length&&0!==e[n];)n+=1;return 1+n-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=this.getSpan(e,t);return a(e).slice(t,t+n-1).toString("utf-8")},t.prototype.encode=function(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());var r=o.Buffer.from(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");var s=a(t);return r.copy(s,n),s[n+i]=0,i+1},t}(u);t.CString=B;var F=function(e){function t(t,n){var r=this;if("string"==typeof t&&void 0===n&&(n=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");return(r=e.call(this,-1,n)||this).maxSpan=t,r}return i(t,e),t.prototype.getSpan=function(e,t){return s(e),void 0===t&&(t=0),e.length-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return a(e).slice(t,t+n).toString("utf-8")},t.prototype.encode=function(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());var r=o.Buffer.from(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(a(t),n),i},t}(u);t.UTF8=F;var q=function(e){function t(t,n){var r=e.call(this,0,n)||this;return r.value=t,r}return i(t,e),t.prototype.decode=function(e,t){return this.value},t.prototype.encode=function(e,t,n){return 0},t}(u);t.Constant=q,t.greedy=function(e,t){return new d(e,t)},t.offset=function(e,t,n){return new h(e,t,n)},t.u8=function(e){return new p(1,e)},t.u16=function(e){return new p(2,e)},t.u24=function(e){return new p(3,e)},t.u32=function(e){return new p(4,e)},t.u40=function(e){return new p(5,e)},t.u48=function(e){return new p(6,e)},t.nu64=function(e){return new w(e)},t.u16be=function(e){return new f(2,e)},t.u24be=function(e){return new f(3,e)},t.u32be=function(e){return new f(4,e)},t.u40be=function(e){return new f(5,e)},t.u48be=function(e){return new f(6,e)},t.nu64be=function(e){return new _(e)},t.s8=function(e){return new y(1,e)},t.s16=function(e){return new y(2,e)},t.s24=function(e){return new y(3,e)},t.s32=function(e){return new y(4,e)},t.s40=function(e){return new y(5,e)},t.s48=function(e){return new y(6,e)},t.ns64=function(e){return new S(e)},t.s16be=function(e){return new m(2,e)},t.s24be=function(e){return new m(3,e)},t.s32be=function(e){return new m(4,e)},t.s40be=function(e){return new m(5,e)},t.s48be=function(e){return new m(6,e)},t.ns64be=function(e){return new E(e)},t.f32=function(e){return new x(e)},t.f32be=function(e){return new A(e)},t.f64=function(e){return new k(e)},t.f64be=function(e){return new T(e)},t.struct=function(e,t,n){return new C(e,t,n)},t.bits=function(e,t,n){return new L(e,t,n)},t.seq=function(e,t,n){return new M(e,t,n)},t.union=function(e,t,n){return new I(e,t,n)},t.unionLayoutDiscriminator=function(e,t){return new O(e,t)},t.blob=function(e,t){return new U(e,t)},t.cstr=function(e){return new B(e)},t.utf8=function(e,t){return new F(e,t)},t.constant=function(e,t){return new q(e,t)}},47164:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",c="string",l="model",d="name",h="type",p="vendor",f="version",y="architecture",m="console",g="mobile",v="tablet",b="smarttv",w="wearable",_="embedded",S="Amazon",E="Apple",x="ASUS",A="BlackBerry",k="Firefox",T="Google",M="Huawei",C="LG",N="Microsoft",O="Motorola",I="Opera",R="Samsung",P="Sony",L="Xiaomi",j="Zebra",D="Facebook",U=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},B=function(e,t){return typeof e===c&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,255)},V=function(e,t){for(var n,r,i,a,c,l,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(n=r=0;n<h.length&&!c;)if(c=h[n++].exec(e))for(i=0;i<p.length;i++)l=c[++r],typeof(a=p[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;d+=2}},$=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(B(t[n][r],e))return"?"===n?o:n}else if(B(t[n],e))return"?"===n?o:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[d,k]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,D],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,F]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,R],[h,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,R],[h,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[p,E],[h,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,E],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,M],[h,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[p,M],[h,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,L],[h,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,L],[h,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[h,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[h,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[h,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,O],[h,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,O],[h,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,C],[h,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,C],[h,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[h,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[h,g]],[/(pixel c)\b/i],[l,[p,T],[h,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,T],[h,g]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,P],[h,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,P],[h,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[h,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,S],[h,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,S],[h,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[h,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,A],[h,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,x],[h,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,x],[h,g]],[/(nexus 9)/i],[l,[p,"HTC"],[h,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[h,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[h,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[h,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,"Sharp"],[h,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[h,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[h,v]],[/(surface duo)/i],[l,[p,N],[h,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[h,g]],[/(u304aa)/i],[l,[p,"AT&T"],[h,g]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[h,g]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[h,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[h,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[h,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[h,v]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[h,v]],[/\b(k88) b/i],[l,[p,"ZTE"],[h,v]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[h,g]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[h,g]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[h,v]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[h,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[h,v]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[h,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[h,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[h,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[h,g]],[/\b(ph-1) /i],[l,[p,"Essential"],[h,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[h,v]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[h,v]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[h,v]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[h,v]],[/(sprint) (\w+)/i],[p,l,[h,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,N],[h,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,j],[h,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,j],[h,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[h,m]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[l,[p,P],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,N],[h,m]],[/smart-tv.+(samsung)/i],[p,[h,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,R],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,C],[h,b]],[/(apple) ?tv/i],[p,[l,"Apple TV"],[h,b]],[/crkey/i],[[l,"Chromecast"],[p,T],[h,b]],[/droid.+aft(\w)( bui|\))/i],[l,[p,S],[h,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,q],[l,q],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/((pebble))app/i],[p,l,[h,w]],[/droid.+; (glass) \d/i],[l,[p,T],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,j],[h,w]],[/(quest( 2)?)/i],[l,[p,D],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[h,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[h,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,v]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,$,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,$,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,f]]},K=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof K))return new K(e,t).getResult();var n=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(z,t):z;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,V.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,V.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,V.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,V.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,V.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>255?q(e,255):e,this},this.setUA(n),this};K.VERSION="1.0.2",K.BROWSER=U([d,f,"major"]),K.CPU=U([y]),K.DEVICE=U([l,p,h,m,g,b,v,w,_]),K.ENGINE=K.OS=U([d,f]),typeof t!==a?(e.exports&&(t=e.exports=K),t.UAParser=K):n.amdO?(r=function(){return K}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=K);var H=typeof i!==a&&(i.jQuery||i.Zepto);if(H&&!H.ua){var Q=new K;H.ua=Q.getResult(),H.ua.get=function(){return Q.getUA()},H.ua.set=function(e){Q.setUA(e);var t=Q.getResult();for(var n in t)H.ua[n]=t[n]}}}("object"==typeof window?window:this)},36548:(e,t)=>{"use strict";t.WalletUIError=void 0;class n extends Error{constructor(e,t){super(e),this.message=e,this.errorCode=t}}t.WalletUIError=n,n.UserRejectedRequest=new n("User rejected request"),n.SwitchEthereumChainUnsupportedChainId=new n("Unsupported chainId",4902)},78545:(e,t)=>{"use strict";t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))},89592:(e,t,n)=>{"use strict";t.decrypt=t.encrypt=void 0;const r=n(40541),i=n(98986);t.encrypt=async function(e,t){if(64!==t.length)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,o.encode(e)),a=s.slice(s.byteLength-16),u=s.slice(0,s.byteLength-16),c=new Uint8Array(a),l=new Uint8Array(u),d=new Uint8Array([...n,...c,...l]);return(0,i.uint8ArrayToHex)(d)},t.decrypt=function(e,t){if(64!==t.length)throw Error("secret must be 256 bits");return new r.Observable((n=>{!async function(){const r=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,i.hexStringToUint8Array)(e),s=o.slice(0,12),a=o.slice(12,28),u=o.slice(28),c=new Uint8Array([...u,...a]),l={name:"AES-GCM",iv:new Uint8Array(s)};try{const e=await window.crypto.subtle.decrypt(l,r,c),t=new TextDecoder;n.next(t.decode(e)),n.complete()}catch(e){n.error(e)}}()}))}},27289:(e,t)=>{"use strict";function n(){return e=>e}Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0,t.OpaqueType=n,t.HexString=e=>e,t.AddressString=e=>e,t.BigIntString=e=>e,t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=e=>e,function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""}(t.ProviderType||(t.ProviderType={}))},98986:function(e,t,n){"use strict";var r=n(48834).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isInIFrame=t.createQrUrl=t.getFavicon=t.range=t.isBigNumber=t.ensureParsedJSONObject=t.ensureBN=t.ensureRegExpString=t.ensureIntNumber=t.ensureBuffer=t.ensureAddressString=t.ensureEvenLengthHexString=t.ensureHexString=t.isHexString=t.prepend0x=t.strip0x=t.has0xPrefix=t.hexStringFromIntNumber=t.intNumberFromHexString=t.bigIntStringFromBN=t.hexStringFromBuffer=t.hexStringToUint8Array=t.uint8ArrayToHex=t.randomBytesHex=void 0;const o=i(n(62197)),s=n(19126),a=n(27289),u=/^[0-9]*$/,c=/^[a-f0-9]*$/;function l(e){return[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}function d(e){return e.startsWith("0x")||e.startsWith("0X")}function h(e){return d(e)?e.slice(2):e}function p(e){return d(e)?"0x"+e.slice(2):"0x"+e}function f(e){if("string"!=typeof e)return!1;const t=h(e).toLowerCase();return c.test(t)}function y(e,t=!1){if("string"==typeof e){const n=h(e).toLowerCase();if(c.test(n))return(0,a.HexString)(t?"0x"+n:n)}throw new Error(`"${String(e)}" is not a hexadecimal string`)}function m(e,t=!1){let n=y(e,!1);return n.length%2==1&&(n=(0,a.HexString)("0"+n)),t?(0,a.HexString)("0x"+n):n}function g(e){if("number"==typeof e&&Number.isInteger(e))return(0,a.IntNumber)(e);if("string"==typeof e){if(u.test(e))return(0,a.IntNumber)(Number(e));if(f(e))return(0,a.IntNumber)(new o.default(m(e,!1),16).toNumber())}throw new Error(`Not an integer: ${String(e)}`)}function v(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}t.randomBytesHex=function(e){return l(crypto.getRandomValues(new Uint8Array(e)))},t.uint8ArrayToHex=l,t.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map((e=>parseInt(e,16))))},t.hexStringFromBuffer=function(e,t=!1){const n=e.toString("hex");return(0,a.HexString)(t?"0x"+n:n)},t.bigIntStringFromBN=function(e){return(0,a.BigIntString)(e.toString(10))},t.intNumberFromHexString=function(e){return(0,a.IntNumber)(new o.default(m(e,!1),16).toNumber())},t.hexStringFromIntNumber=function(e){return(0,a.HexString)("0x"+new o.default(e).toString(16))},t.has0xPrefix=d,t.strip0x=h,t.prepend0x=p,t.isHexString=f,t.ensureHexString=y,t.ensureEvenLengthHexString=m,t.ensureAddressString=function(e){if("string"==typeof e){const t=h(e).toLowerCase();if(f(t)&&40===t.length)return(0,a.AddressString)(p(t))}throw new Error(`Invalid Ethereum address: ${String(e)}`)},t.ensureBuffer=function(e){if(r.isBuffer(e))return e;if("string"==typeof e){if(f(e)){const t=m(e,!1);return r.from(t,"hex")}return r.from(e,"utf8")}throw new Error(`Not binary data: ${String(e)}`)},t.ensureIntNumber=g,t.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,a.RegExpString)(e.toString());throw new Error(`Not a RegExp: ${String(e)}`)},t.ensureBN=function(e){if(null!==e&&(o.default.isBN(e)||v(e)))return new o.default(e.toString(10),10);if("number"==typeof e)return new o.default(g(e));if("string"==typeof e){if(u.test(e))return new o.default(e,10);if(f(e))return new o.default(m(e,!1),16)}throw new Error(`Not an integer: ${String(e)}`)},t.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw new Error(`Not a JSON string or an object: ${String(e)}`)},t.isBigNumber=v,t.range=function(e,t){return Array.from({length:t-e},((t,n)=>e+n))},t.getFavicon=function(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:n}=document.location,r=e?e.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?t+r:`${t}//${n}${r}`},t.createQrUrl=function(e,t,n,r,i,o){const a=r?"parent-id":"id";return`${n}/#/link?${(0,s.stringify)({[a]:e,secret:t,server:n,v:i,chainId:o})}`},t.isInIFrame=function(){try{return null!==window.frameElement}catch(e){return!1}}},62439:(e,t,n)=>{"use strict";var r=n(2784),i=n(82066),o=n(86296),s=n(88767),a=n(21221);class u extends a.T{getAllItems(){const e=[];for(const[t,n]of Object.entries(localStorage))t.startsWith(this.scope)&&e.push(n);return e}}const c="rq_metadata";class l{_storage=new u("rq_data");persistQuery(e){this._storageSetJSON(e.queryHash,e)}removeQuery(e){this._storage.removeItem(e)}restoreClient(){const e=this._storage.getAllItems().map((e=>JSON.parse(e)));return{metadata:function(e){const t=localStorage.getItem(e);if(null!==t)return JSON.parse(t)}(c),clientState:{queries:e,mutations:[]}}}removeClient(){this._storage.clear()}persistMetadata(e){var t,n;t=c,n=e,localStorage.setItem(t,JSON.stringify(n))}_storageGetJSON(e){const t=this._storage.getItem(e);if(t)return JSON.parse(t)}_storageSetJSON(e,t){this._storage.setItem(e,JSON.stringify(t))}}var d,h=n(52322);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function m(){localStorage.setItem("QUERY_CACHE_BUSTER",(0,s.Z)())}function g(){var e;return null!==(e=localStorage.getItem("QUERY_CACHE_BUSTER"))&&void 0!==e?e:"0"}var v="MISSING_ENV_VAR".JEST_WORKER_ID?1/0:6048e5;function b(e){return new i.QueryClient({defaultOptions:{queries:f({cacheTime:v},e?{retry:!1}:{})},queryCache:new i.QueryCache({onError:function(e,t){(0,o.eK)({error:e,context:"http_error",metadata:{queryKey:t.queryKey.toString()}})}})})}var w,_,S=b(),E=new l;function x(e){var t=e.children;return(0,h.jsx)(i.QueryClientProvider,{client:S,children:(0,h.jsx)(r.Suspense,{fallback:null,children:t})})}!async function({queryClient:e,persistor:t,maxAge:n=864e5,buster:r,onError:o}){try{const o=t.restoreClient();if(void 0!==o)if(void 0!==o.metadata){const s=Date.now()-o.metadata.timestamp>n,a=o.metadata.buster!==r;s||a?t.removeClient():(0,i.hydrate)(e,o.clientState)}else t.removeClient()}catch(e){o?.(e);try{t.removeClient()}catch(e){o?.(e)}}try{t.persistMetadata({buster:r,timestamp:Date.now()})}catch(e){o?.(e)}e.getQueryCache().subscribe((e=>{var n;void 0!==e&&(n=()=>{try{switch(e.type){case"queryAdded":case"queryUpdated":e.query.isFetching()||e.query.isStale()||t.persistQuery({state:(n=e.query).state,queryKey:n.queryKey,queryHash:n.queryHash});break;case"queryRemoved":t.removeQuery(e.query.queryHash)}}catch(e){o?.(e)}var n},window.requestIdleCallback(n))}))}({queryClient:S,persistor:E,maxAge:v,buster:g(),onError:function(e){return(0,o.eK)({error:e,context:"query_persist_error"})}}),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(m,"bustQueryCache","/workspaces/libs/data/QueryProvider.tsx"),w.register(g,"getCacheBuster","/workspaces/libs/data/QueryProvider.tsx"),w.register(v,"CACHE_TIME","/workspaces/libs/data/QueryProvider.tsx"),w.register(b,"buildQueryClient","/workspaces/libs/data/QueryProvider.tsx"),w.register(S,"queryClient","/workspaces/libs/data/QueryProvider.tsx"),w.register(!1,"DEBUG_PERSIST","/workspaces/libs/data/QueryProvider.tsx"),w.register(E,"persistor","/workspaces/libs/data/QueryProvider.tsx"),w.register(x,"QueryProvider","/workspaces/libs/data/QueryProvider.tsx")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},18166:(e,t,n)=>{"use strict";var r=n(77834).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===u;)i++,n++;for(var s=(e.length-n)*c+1>>>0,l=new Uint8Array(s);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,p=s-1;(0!==d||h<o)&&-1!==p;p--,h++)d+=a*l[p]>>>0,l[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var f=s-o;f!==s&&0===l[f];)f++;var y=r.allocUnsafe(i+(s-f));y.fill(0,0,i);for(var m=i;f!==s;)y[m++]=l[f++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var c=(s-o)*l+1>>>0,d=new Uint8Array(c);o!==s;){for(var h=t[o],p=0,f=c-1;(0!==h||p<i)&&-1!==f;f--,p++)h+=256*d[f]>>>0,d[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=p,o++}for(var y=c-i;y!==c&&0===d[y];)y++;for(var m=u.repeat(n);y<c;++y)m+=e.charAt(d[y]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},95766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},62197:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(33196).Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,l=n;l<a;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var d=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],l=f[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?y+n:h[c-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function y(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,h=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=h;p++){var f=c-p|0;l+=(s=(i=0|e.words[f])*(o=0|t.words[p])+d)/67108864|0,d=67108863&s}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===o?(n<e.length&&(e[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===o?(n>=0&&(e[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(t=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<n.length;s++)o=(t=(0|n.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,o,s=e.words,a=t.words,u=n.words,c=0,l=0|s[0],d=8191&l,h=l>>>13,p=0|s[1],f=8191&p,y=p>>>13,m=0|s[2],g=8191&m,v=m>>>13,b=0|s[3],w=8191&b,_=b>>>13,S=0|s[4],E=8191&S,x=S>>>13,A=0|s[5],k=8191&A,T=A>>>13,M=0|s[6],C=8191&M,N=M>>>13,O=0|s[7],I=8191&O,R=O>>>13,P=0|s[8],L=8191&P,j=P>>>13,D=0|s[9],U=8191&D,B=D>>>13,F=0|a[0],q=8191&F,V=F>>>13,$=0|a[1],W=8191&$,z=$>>>13,K=0|a[2],H=8191&K,Q=K>>>13,G=0|a[3],Z=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],de=8191&le,he=le>>>13,pe=0|a[9],fe=8191&pe,ye=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(c+(r=Math.imul(d,q))|0)+((8191&(i=(i=Math.imul(d,V))+Math.imul(h,q)|0))<<13)|0;c=((o=Math.imul(h,V))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(f,q),i=(i=Math.imul(f,V))+Math.imul(y,q)|0,o=Math.imul(y,V);var ge=(c+(r=r+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,z)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,z)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,q),i=(i=Math.imul(g,V))+Math.imul(v,q)|0,o=Math.imul(v,V),r=r+Math.imul(f,W)|0,i=(i=i+Math.imul(f,z)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,z)|0;var ve=(c+(r=r+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,Q)|0)+Math.imul(h,H)|0))<<13)|0;c=((o=o+Math.imul(h,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,V))+Math.imul(_,q)|0,o=Math.imul(_,V),r=r+Math.imul(g,W)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,z)|0,r=r+Math.imul(f,H)|0,i=(i=i+Math.imul(f,Q)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,Q)|0;var be=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(E,q),i=(i=Math.imul(E,V))+Math.imul(x,q)|0,o=Math.imul(x,V),r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,z)|0,r=r+Math.imul(g,H)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,Q)|0,r=r+Math.imul(f,Z)|0,i=(i=i+Math.imul(f,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var we=(c+(r=r+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,X)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(k,q),i=(i=Math.imul(k,V))+Math.imul(T,q)|0,o=Math.imul(T,V),r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,z)|0,r=r+Math.imul(w,H)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(f,X)|0,i=(i=i+Math.imul(f,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;c=((o=o+Math.imul(h,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,V))+Math.imul(N,q)|0,o=Math.imul(N,V),r=r+Math.imul(k,W)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,z)|0,r=r+Math.imul(E,H)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,ee)|0,r=r+Math.imul(f,ne)|0,i=(i=i+Math.imul(f,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0;var Se=(c+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(I,q),i=(i=Math.imul(I,V))+Math.imul(R,q)|0,o=Math.imul(R,V),r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,z)|0,r=r+Math.imul(k,H)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,H)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,J)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0,r=r+Math.imul(f,oe)|0,i=(i=i+Math.imul(f,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(j,q)|0,o=Math.imul(j,V),r=r+Math.imul(I,W)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,z)|0,r=r+Math.imul(C,H)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,Q)|0,r=r+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,J)|0,r=r+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,r=r+Math.imul(f,ue)|0,i=(i=i+Math.imul(f,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var xe=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,V))+Math.imul(B,q)|0,o=Math.imul(B,V),r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,z)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,z)|0,r=r+Math.imul(I,H)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(R,H)|0,o=o+Math.imul(R,Q)|0,r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(E,ne)|0,i=(i=i+Math.imul(E,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,ce)|0,r=r+Math.imul(f,de)|0,i=(i=i+Math.imul(f,he)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,he)|0;var Ae=(c+(r=r+Math.imul(d,fe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ye)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(U,W),i=(i=Math.imul(U,z))+Math.imul(B,W)|0,o=Math.imul(B,z),r=r+Math.imul(L,H)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,r=r+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(g,de)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,he)|0;var ke=(c+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(y,fe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,H),i=(i=Math.imul(U,Q))+Math.imul(B,H)|0,o=Math.imul(B,Q),r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,J)|0,r=r+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,r=r+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,r=r+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,he)|0;var Te=(c+(r=r+Math.imul(g,fe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(v,fe)|0))<<13)|0;c=((o=o+Math.imul(v,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,Z),i=(i=Math.imul(U,J))+Math.imul(B,Z)|0,o=Math.imul(B,J),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,r=r+Math.imul(E,de)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,he)|0;var Me=(c+(r=r+Math.imul(w,fe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,fe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(B,X)|0,o=Math.imul(B,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,r=r+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,r=r+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(T,de)|0,o=o+Math.imul(T,he)|0;var Ce=(c+(r=r+Math.imul(E,fe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(x,fe)|0))<<13)|0;c=((o=o+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(U,ne),i=(i=Math.imul(U,re))+Math.imul(B,ne)|0,o=Math.imul(B,re),r=r+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(C,de)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,he)|0;var Ne=(c+(r=r+Math.imul(k,fe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(T,fe)|0))<<13)|0;c=((o=o+Math.imul(T,ye)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(U,oe),i=(i=Math.imul(U,se))+Math.imul(B,oe)|0,o=Math.imul(B,se),r=r+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(R,de)|0,o=o+Math.imul(R,he)|0;var Oe=(c+(r=r+Math.imul(C,fe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ye)|0)+Math.imul(N,fe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),r=r+Math.imul(L,de)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(j,de)|0,o=o+Math.imul(j,he)|0;var Ie=(c+(r=r+Math.imul(I,fe)|0)|0)+((8191&(i=(i=i+Math.imul(I,ye)|0)+Math.imul(R,fe)|0))<<13)|0;c=((o=o+Math.imul(R,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,de),i=(i=Math.imul(U,he))+Math.imul(B,de)|0,o=Math.imul(B,he);var Re=(c+(r=r+Math.imul(L,fe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,fe)|0))<<13)|0;c=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Pe=(c+(r=Math.imul(U,fe))|0)+((8191&(i=(i=Math.imul(U,ye))+Math.imul(B,fe)|0))<<13)|0;return c=((o=Math.imul(B,ye))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,u[0]=me,u[1]=ge,u[2]=ve,u[3]=be,u[4]=we,u[5]=_e,u[6]=Se,u[7]=Ee,u[8]=xe,u[9]=Ae,u[10]=ke,u[11]=Te,u[12]=Me,u[13]=Ce,u[14]=Ne,u[15]=Oe,u[16]=Ie,u[17]=Re,u[18]=Pe,0!==c&&(u[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,d=(0|e.words[l])*(0|t.words[c]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(e,t,n){return g(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(m=y),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?y(this,e,t):n<1024?g(this,e,t):v(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,o){for(var s=0;s<o;s++)r[s]=t[e[s]],i[s]=n[e[s]]},b.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=u,h=c,p=0;p<s;p++){var f=n[l+p],y=r[l+p],m=n[l+p+s],g=r[l+p+s],v=d*m-h*g;g=d*g+h*m,m=v,n[l+p]=f+m,r[l+p]=y+g,n[l+p+s]=f-m,r[l+p+s]=y-g,p!==a&&(v=u*d-c*h,h=u*h+c*d,d=v)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,c,r),this.transform(s,o,a,u,r,i),this.transform(c,o,l,d,r,i);for(var p=0;p<r;p++){var f=a[p]*l[p]-u[p]*d[p];u[p]=a[p]*d[p]+u[p]*l[p],a[p]=f}return this.conjugate(a,u,r),this.transform(a,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-o|d>>>o,l=d&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,a&&(a.words[u]=1));for(var d=u-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var h=0,p=1;0==(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var f=0,y=1;0==(n.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(d)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),s.isub(u)):(n.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(S,_),S.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,_),i(x,_),i(A,_),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new x;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return w[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),p=this.pow(e,i),f=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<f);var g=this.pow(d,new o(1).iushln(f-m-1));h=h.redMul(g),d=g.redSqr(),p=p.redMul(d),f=m}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new T(e)},i(T,k),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},17022:(e,t,n)=>{var r=n(18166);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},48834:(e,t,n)=>{"use strict";const r=n(95766),i=n(62333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|y(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return r?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function w(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Z(r))return s;e[n+s]=r}return s}function _(e,t,n,r){return Q(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return Q(H(t),e,n,r)}function x(e,t,n,r){return Q(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function M(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function O(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function L(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return t=+t,n>>>=0,o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return t=+t,n>>>=0,o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const B={};function F(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,i,o)}function $(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw $(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=q(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Y(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},62680:(e,t,n)=>{"use strict";var r=n(67286),i=n(89429),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},89429:(e,t,n)=>{"use strict";var r=n(4090),i=n(67286),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=a(r,s,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(r,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},5792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},19562:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},65881:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i,s=365.25*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,u){u=u||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var u=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return u.long?function(e){var o=Math.abs(e);if(o>=i)return a(e,o,i,"day");if(o>=r)return a(e,o,r,"hour");if(o>=n)return a(e,o,n,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},25130:(e,t,n)=>{var r=n(34406);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e="MISSING_ENV_VAR".DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(87123)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},87123:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(65881),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},52180:function(e,t,n){var r;!function(i){"use strict";var o,s,a,u=9e15,c=1e9,l="0123456789abcdef",d="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},f=!0,y="[DecimalError] ",m=y+"Invalid argument: ",g=y+"Precision limit exceeded",v=y+"crypto unavailable",b="[object Decimal]",w=Math.floor,_=Math.pow,S=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,E=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,A=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,k=1e7,T=d.length-1,M=h.length-1,C={toStringTag:b};function N(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=q(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=q(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function O(e,t,n){if(e!==~~e||e<t||e>n)throw Error(m+e)}function I(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=_(10,7-t),a=e[i]%o|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==_(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==_(10,t-3)-1,s}function R(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=l.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}C.absoluteValue=C.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),L(e)},C.ceil=function(){return L(new this.constructor(this),this.e+1,2)},C.clampedTo=C.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(m+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},C.comparedTo=C.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,n=(r=s.length)<(i=a.length)?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},C.cosine=C.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;(r=t.d.length)<32?i=(1/J(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=Z(e,1,t.times(i),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,Y(r,n)),r.precision=e,r.rounding=t,L(2==a||3==a?n.neg():n,e,t,!0)):new r(1):new r(NaN)},C.cubeRoot=C.cbrt=function(){var e,t,n,r,i,o,s,a,u,c,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(f=!1,(o=l.s*_(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new d(o.toString()):(n=N(l.d),(o=((e=l.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=_(n,1/3),e=w((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),s=(e=d.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(l),r=P(c.plus(l).times(a),c.plus(u),s+2,1),N(a.d).slice(0,s)===(n=N(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(L(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(L(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}return f=!0,L(r,e,d.rounding,t)},C.decimalPlaces=C.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-w(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},C.dividedBy=C.div=function(e){return P(this,new this.constructor(e))},C.dividedToIntegerBy=C.divToInt=function(e){var t=this.constructor;return L(P(this,new t(e),0,1,1),t.precision,t.rounding)},C.equals=C.eq=function(e){return 0===this.cmp(e)},C.floor=function(){return L(new this.constructor(this),this.e+1,3)},C.greaterThan=C.gt=function(e){return this.cmp(e)>0},C.greaterThanOrEqualTo=C.gte=function(e){var t=this.cmp(e);return 1==t||0===t},C.hyperbolicCosine=C.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/J(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Z(s,1,o.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return L(o,s.precision=n,s.rounding=r,!0)},C.hyperbolicSine=C.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Z(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=Z(o,2,i=i.times(1/J(5,e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=n,L(i,t,n,!0)},C.hyperbolicTangent=C.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,P(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},C.inverseCosine=C.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?B(n,i,o):new n(0):new n(NaN):t.isZero()?B(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=B(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},C.inverseHyperbolicCosine=C.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,f=!1,n=n.times(n).minus(1).sqrt().plus(n),f=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},C.inverseHyperbolicSine=C.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,f=!1,n=n.times(n).plus(1).sqrt().plus(n),f=!0,r.precision=e,r.rounding=t,n.ln())},C.inverseHyperbolicTangent=C.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?L(new o(i),e,t,!0):(o.precision=n=r-i.e,i=P(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},C.inverseSine=C.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=B(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},C.inverseTangent=C.atan=function(){var e,t,n,r,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&d+4<=M)return(s=B(l,d+4,h).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(d+4<=M)return(s=B(l,d+4,h).times(.5)).s=c.s,s}for(l.precision=a=d+10,l.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(a/7),r=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(r+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),f=!0,L(s,l.precision=d,l.rounding=h,!0)},C.isFinite=function(){return!!this.d},C.isInteger=C.isInt=function(){return!!this.d&&w(this.e/7)>this.d.length-2},C.isNaN=function(){return!this.s},C.isNegative=C.isNeg=function(){return this.s<0},C.isPositive=C.isPos=function(){return this.s>0},C.isZero=function(){return!!this.d&&0===this.d[0]},C.lessThan=C.lt=function(e){return this.cmp(e)<0},C.lessThanOrEqualTo=C.lte=function(e){return this.cmp(e)<1},C.logarithm=C.log=function(e){var t,n,r,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(f=!1,s=K(c,a=d+5),r=t?U(l,a+10):K(e,a),I((u=P(s,r,a,1)).d,i=d,h))do{if(s=K(c,a+=10),r=t?U(l,a+10):K(e,a),u=P(s,r,a,1),!o){+N(u.d).slice(i+1,i+15)+1==1e14&&(u=L(u,d+1,0));break}}while(I(u.d,i+=10,h));return f=!0,L(u,d,h)},C.minus=C.sub=function(e){var t,n,r,i,o,s,a,u,c,l,d,h,p=this,y=p.constructor;if(e=new y(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new y(e.d||p.s!==e.s?p:NaN):e=new y(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,h=e.d,a=y.precision,u=y.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new y(3===u?-0:0);e=new y(p)}return f?L(e,a,u):e}if(n=w(e.e/7),l=w(p.e/7),c=c.slice(),o=l-n){for((d=o<0)?(t=c,o=-o,s=h.length):(t=h,n=l,s=c.length),o>(r=Math.max(Math.ceil(a/7),s)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((d=(r=c.length)<(s=h.length))&&(s=r),r=0;r<s;r++)if(c[r]!=h[r]){d=c[r]<h[r];break}o=0}for(d&&(t=c,c=h,h=t,e.s=-e.s),s=c.length,r=h.length-s;r>0;--r)c[s++]=0;for(r=h.length;r>o;){if(c[--r]<h[r]){for(i=r;i&&0===c[--i];)c[i]=k-1;--c[i],c[r]+=k}c[r]-=h[r]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=D(c,n),f?L(e,a,u):e):new y(3===u?-0:0)},C.modulo=C.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?L(new r(n),r.precision,r.rounding):(f=!1,9==r.modulo?(t=P(n,e.abs(),0,3,1)).s*=e.s:t=P(n,e,0,r.modulo,1),t=t.times(e),f=!0,n.minus(t))},C.naturalExponential=C.exp=function(){return z(this)},C.naturalLogarithm=C.ln=function(){return K(this)},C.negated=C.neg=function(){var e=new this.constructor(this);return e.s=-e.s,L(e)},C.plus=C.add=function(e){var t,n,r,i,o,s,a,u,c,l,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,l=e.d,a=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(e=new h(d)),f?L(e,a,u):e;if(o=w(d.e/7),r=w(e.e/7),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,s=l.length):(n=l,r=o,s=c.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/k|0,c[i]%=k;for(t&&(c.unshift(t),++r),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=D(c,r),f?L(e,a,u):e},C.precision=C.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(m+e);return n.d?(t=F(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},C.round=function(){var e=this,t=e.constructor;return L(new t(e),e.e+1,t.rounding)},C.sine=C.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Z(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/J(5,n)),t=Z(e,2,t,t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(r,Y(r,n)),r.precision=e,r.rounding=t,L(a>2?n.neg():n,e,t,!0)):new r(NaN)},C.squareRoot=C.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(f=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=N(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=w((u+1)/2)-(u<0||u%2),r=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(o=r).plus(P(s,o,n+2,1)).times(.5),N(o.d).slice(0,n)===(t=N(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(L(r,u+1,1),e=!r.times(r).eq(s));break}if(!i&&(L(o,u+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return f=!0,L(r,u,l.rounding,e)},C.tangent=C.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=P(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,L(2==a||4==a?n.neg():n,e,t,!0)):new r(NaN)},C.times=C.mul=function(e){var t,n,r,i,o,s,a,u,c,l=this,d=l.constructor,h=l.d,p=(e=new d(e)).d;if(e.s*=l.s,!(h&&h[0]&&p&&p[0]))return new d(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*e.s:e.s/0);for(n=w(l.e/7)+w(e.e/7),(u=h.length)<(c=p.length)&&(o=h,h=p,p=o,s=u,u=c,c=s),o=[],r=s=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=o[i]+p[r]*h[i-r-1]+t,o[i--]=a%k|0,t=a/k|0;o[i]=(o[i]+t)%k|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=D(o,n),f?L(e,d.precision,d.rounding):e},C.toBinary=function(e,t){return X(this,2,e,t)},C.toDecimalPlaces=C.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(O(e,0,c),void 0===t?t=r.rounding:O(t,0,8),L(n,e+n.e+1,t))},C.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=j(r,!0):(O(e,0,c),void 0===t?t=i.rounding:O(t,0,8),n=j(r=L(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},C.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=j(i):(O(e,0,c),void 0===t?t=o.rounding:O(t,0,8),n=j(r=L(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},C.toFraction=function(e){var t,n,r,i,o,s,a,u,c,l,d,h,p=this,y=p.d,g=p.constructor;if(!y)return new g(p);if(c=n=new g(1),r=u=new g(0),s=(o=(t=new g(r)).e=F(y)-p.e-1)%7,t.d[0]=_(10,s<0?7+s:s),null==e)e=o>0?t:c;else{if(!(a=new g(e)).isInt()||a.lt(c))throw Error(m+a);e=a.gt(t)?o>0?t:c:a}for(f=!1,a=new g(N(y)),l=g.precision,g.precision=o=7*y.length*2;d=P(a,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=c,c=u.plus(d.times(i)),u=i,i=t,t=a.minus(d.times(i)),a=i;return i=P(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=p.s,h=P(c,r,o,1).minus(p).abs().cmp(P(u,n,o,1).minus(p).abs())<1?[c,r]:[u,n],g.precision=l,f=!0,h},C.toHexadecimal=C.toHex=function(e,t){return X(this,16,e,t)},C.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:O(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(f=!1,n=P(n,e,0,t,1).times(e),f=!0,L(n)):(e.s=n.s,n=e),n},C.toNumber=function(){return+this},C.toOctal=function(e,t){return X(this,8,e,t)},C.toPower=C.pow=function(e){var t,n,r,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(_(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,o=u.rounding,e.eq(1))return L(a,r,o);if((t=w(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=V(u,a,n,r),e.s<0?new u(1).div(i):L(i,r,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=_(+a,c))&&isFinite(n)?new u(n+"").e:w(c*(Math.log("0."+N(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(f=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=z(e.times(K(a,r+n)),r)).d&&I((i=L(i,r+5,1)).d,r,o)&&(t=r+10,+N((i=L(z(e.times(K(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=L(i,r+1,0))),i.s=s,f=!0,u.rounding=o,L(i,r,o))},C.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=j(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(O(e,1,c),void 0===t?t=i.rounding:O(t,0,8),n=j(r=L(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},C.toSignificantDigits=C.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(O(e,1,c),void 0===t?t=n.rounding:O(t,0,8)),L(new n(this),e,t)},C.toString=function(){var e=this,t=e.constructor,n=j(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},C.truncated=C.trunc=function(){return L(new this.constructor(this),this.e+1,1)},C.valueOf=C.toJSON=function(){var e=this,t=e.constructor,n=j(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var P=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a,u,c){var l,d,h,p,f,y,m,g,v,b,_,S,E,x,A,T,M,C,N,O,I=r.constructor,R=r.s==i.s?1:-1,P=r.d,j=i.d;if(!(P&&P[0]&&j&&j[0]))return new I(r.s&&i.s&&(P?!j||P[0]!=j[0]:j)?P&&0==P[0]||!j?0*R:R/0:NaN);for(c?(f=1,d=r.e-i.e):(c=k,f=7,d=w(r.e/f)-w(i.e/f)),N=j.length,M=P.length,b=(v=new I(R)).d=[],h=0;j[h]==(P[h]||0);h++);if(j[h]>(P[h]||0)&&d--,null==o?(x=o=I.precision,a=I.rounding):x=u?o+(r.e-i.e)+1:o,x<0)b.push(1),y=!0;else{if(x=x/f+2|0,h=0,1==N){for(p=0,j=j[0],x++;(h<M||p)&&x--;h++)A=p*c+(P[h]||0),b[h]=A/j|0,p=A%j|0;y=p||h<M}else{for((p=c/(j[0]+1)|0)>1&&(j=e(j,p,c),P=e(P,p,c),N=j.length,M=P.length),T=N,S=(_=P.slice(0,N)).length;S<N;)_[S++]=0;(O=j.slice()).unshift(0),C=j[0],j[1]>=c/2&&++C;do{p=0,(l=t(j,_,N,S))<0?(E=_[0],N!=S&&(E=E*c+(_[1]||0)),(p=E/C|0)>1?(p>=c&&(p=c-1),1==(l=t(m=e(j,p,c),_,g=m.length,S=_.length))&&(p--,n(m,N<g?O:j,g,c))):(0==p&&(l=p=1),m=j.slice()),(g=m.length)<S&&m.unshift(0),n(_,m,S,c),-1==l&&(l=t(j,_,N,S=_.length))<1&&(p++,n(_,N<S?O:j,S,c)),S=_.length):0===l&&(p++,_=[0]),b[h++]=p,l&&_[0]?_[S++]=P[T]||0:(_=[P[T]],S=1)}while((T++<M||void 0!==_[0])&&x--);y=void 0!==_[0]}b[0]||b.shift()}if(1==f)v.e=d,s=y;else{for(h=1,p=b[0];p>=10;p/=10)h++;v.e=h+d*f-1,L(v,u?o+v.e+1:o,a,y)}return v}}();function L(e,t,n,r){var i,o,s,a,u,c,l,d,h,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,a=d[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,s=t,u=(l=d[h=0])/_(10,i-s-1)%10|0;else if((h=Math.ceil((o+1)/7))>=(a=d.length)){if(!r)break e;for(;a++<=h;)d.push(0);l=u=0,i=1,s=(o%=7)-7+1}else{for(l=a=d[h],i=1;a>=10;a/=10)i++;u=(s=(o%=7)-7+i)<0?0:l/_(10,i-s-1)%10|0}if(r=r||t<0||void 0!==d[h+1]||(s<0?l:l%_(10,i-s-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?s>0?l/_(10,i-s):0:d[h-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=_(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=h,a=1,h--):(d.length=h+1,a=_(10,7-o),d[h]=s>0?(l/_(10,i-s)%_(10,s)|0)*a:0),c)for(;;){if(0==h){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,d[0]==k&&(d[0]=1));break}if(d[h]+=a,d[h]!=k)break;d[h--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return f&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function j(e,t,n){if(!e.isFinite())return H(e);var r,i=e.e,o=N(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+q(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+q(-i-1)+o,n&&(r=n-s)>0&&(o+=q(r))):i>=s?(o+=q(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+q(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=q(r))),o}function D(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function U(e,t,n){if(t>T)throw f=!0,n&&(e.precision=n),Error(g);return L(new e(d),t,1,!0)}function B(e,t,n){if(t>M)throw Error(g);return L(new e(h),t,n,!0)}function F(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function q(e){for(var t="";e--;)t+="0";return t}function V(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/7+4);for(f=!1;;){if(n%2&&ee((o=o.times(t)).d,s)&&(i=!0),0===(n=w(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}ee((t=t.times(t)).d,s)}return f=!0,o}function $(e){return 1&e.d[e.d.length-1]}function W(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function z(e,t){var n,r,i,o,s,a,u,c=0,l=0,d=0,h=e.constructor,p=h.rounding,y=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(f=!1,u=y):u=t,a=new h(.03125);e.e>-2;)e=e.times(a),d+=5;for(u+=r=Math.log(_(2,d))/Math.LN10*2+5|0,n=o=s=new h(1),h.precision=u;;){if(o=L(o.times(e),u,1),n=n.times(++l),N((a=s.plus(P(o,n,u,1))).d).slice(0,u)===N(s.d).slice(0,u)){for(i=d;i--;)s=L(s.times(s),u,1);if(null!=t)return h.precision=y,s;if(!(c<3&&I(s.d,u-r,p,c)))return L(s,h.precision=y,p,f=!0);h.precision=u+=10,n=o=a=new h(1),l=0,c++}s=a}}function K(e,t){var n,r,i,o,s,a,u,c,l,d,h,p=1,y=e,m=y.d,g=y.constructor,v=g.rounding,b=g.precision;if(y.s<0||!m||!m[0]||!y.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=y.s?NaN:m?0:y);if(null==t?(f=!1,l=b):l=t,g.precision=l+=10,r=(n=N(m)).charAt(0),!(Math.abs(o=y.e)<15e14))return c=U(g,l+2,b).times(o+""),y=K(new g(r+"."+n.slice(1)),l-10).plus(c),g.precision=b,null==t?L(y,b,v,f=!0):y;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=N((y=y.times(e)).d)).charAt(0),p++;for(o=y.e,r>1?(y=new g("0."+n),o++):y=new g(r+"."+n.slice(1)),d=y,u=s=y=P(y.minus(1),y.plus(1),l,1),h=L(y.times(y),l,1),i=3;;){if(s=L(s.times(h),l,1),N((c=u.plus(P(s,new g(i),l,1))).d).slice(0,l)===N(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(U(g,l+2,b).times(o+""))),u=P(u,new g(p),l,1),null!=t)return g.precision=b,u;if(!I(u.d,l-10,v,a))return L(u,g.precision=b,v,f=!0);g.precision=l+=10,c=s=y=P(d.minus(1),d.plus(1),l,1),h=L(y.times(y),l,1),i=a=1}u=c,i+=2}}function H(e){return String(e.s*e.s/0)}function Q(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function G(e,t){var n,r,i,s,a,u,c,l,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),A.test(t))return Q(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(E.test(t))n=16,t=t.toLowerCase();else if(S.test(t))n=2;else{if(!x.test(t))throw Error(m+t);n=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(u=(t=t.replace(".","")).length)-s,i=V(r,new r(n),s,2*s)),s=d=(l=R(t,n,k)).length-1;0===l[s];--s)l.pop();return s<0?new r(0*e.s):(e.e=D(l,d),e.d=l,f=!1,a&&(e=P(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?_(2,c):o.pow(2,c))),f=!0,e)}function Z(e,t,n,r,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/7);for(f=!1,u=n.times(n),a=new e(r);;){if(s=P(a.times(u),new e(t++*t++),c,1),a=i?r.plus(s):r.minus(s),r=P(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(r)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o}return f=!0,s.d.length=l+1,s}function J(e,t){for(var n=e;--t;)n*=e;return n}function Y(e,t){var n,r=t.s<0,i=B(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=r?4:1,t;if((n=t.divToInt(i)).isZero())a=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return a=$(n)?r?2:3:r?4:1,t;a=$(n)?r?1:4:r?3:2}return t.minus(i).abs()}function X(e,t,n,r){var i,o,a,u,d,h,p,f,y,m=e.constructor,g=void 0!==n;if(g?(O(n,1,c),void 0===r?r=m.rounding:O(r,0,8)):(n=m.precision,r=m.rounding),e.isFinite()){for(g?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(p=j(e)).indexOf("."))>=0&&(p=p.replace(".",""),(y=new m(1)).e=p.length-a,y.d=R(j(y),10,i),y.e=y.d.length),o=d=(f=R(p,10,i)).length;0==f[--d];)f.pop();if(f[0]){if(a<0?o--:((e=new m(e)).d=f,e.e=o,f=(e=P(e,y,n,r,0,i)).d,o=e.e,h=s),a=f[n],u=i/2,h=h||void 0!==f[n+1],h=r<4?(void 0!==a||h)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||h||6===r&&1&f[n-1]||r===(e.s<0?8:7)),f.length=n,h)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(d=f.length;!f[d-1];--d);for(a=0,p="";a<d;a++)p+=l.charAt(f[a]);if(g){if(d>1)if(16==t||8==t){for(a=16==t?4:3,--d;d%a;d++)p+="0";for(d=(f=R(p,i,t)).length;!f[d-1];--d);for(a=1,p="1.";a<d;a++)p+=l.charAt(f[a])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>d)for(o-=d;o--;)p+="0";else o<d&&(p=p.slice(0,o)+"."+p.slice(o))}else p=g?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=H(e);return e.s<0?"-"+p:p}function ee(e,t){if(e.length>t)return e.length=t,!0}function te(e){return new this(e).abs()}function ne(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ie(e,t){return new this(e).plus(t)}function oe(e){return new this(e).asin()}function se(e){return new this(e).asinh()}function ae(e){return new this(e).atan()}function ue(e){return new this(e).atanh()}function ce(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?B(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=B(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(P(e,t,o,1)),t=B(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(P(e,t,o,1)):(n=B(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function le(e){return new this(e).cbrt()}function de(e){return L(e=new this(e),e.e+1,2)}function he(e,t,n){return new this(e).clamp(t,n)}function pe(e){if(!e||"object"!=typeof e)throw Error(y+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=p[n]),void 0!==(r=e[n])){if(!(w(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(m+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=p[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(m+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[n]=!0}else this[n]=!1}return this}function fe(e){return new this(e).cos()}function ye(e){return new this(e).cosh()}function me(e,t){return new this(e).div(t)}function ge(e){return new this(e).exp()}function ve(e){return L(e=new this(e),e.e+1,3)}function be(){var e,t,n=new this(0);for(f=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);n=t}return f=!0,n.sqrt()}function we(e){return e instanceof o||e&&e.toStringTag===b||!1}function _e(e){return new this(e).ln()}function Se(e,t){return new this(e).log(t)}function Ee(e){return new this(e).log(2)}function xe(e){return new this(e).log(10)}function Ae(){return W(this,arguments,"lt")}function ke(){return W(this,arguments,"gt")}function Te(e,t){return new this(e).mod(t)}function Me(e,t){return new this(e).mul(t)}function Ce(e,t){return new this(e).pow(t)}function Ne(e){var t,n,r,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:O(e,1,c),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(v);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(e%=7,(r=a[--o])&&e&&(i=_(10,7-e),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=a,s}function Oe(e){return L(e=new this(e),e.e+1,this.rounding)}function Ie(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Re(e){return new this(e).sin()}function Pe(e){return new this(e).sinh()}function Le(e){return new this(e).sqrt()}function je(e,t){return new this(e).sub(t)}function De(){var e=0,t=arguments,n=new this(t[e]);for(f=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return f=!0,L(n,this.precision,this.rounding)}function Ue(e){return new this(e).tan()}function Be(e){return new this(e).tanh()}function Fe(e){return L(e=new this(e),e.e+1,1)}o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,we(e))return i.s=e.s,void(f?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(f?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):Q(i,e.toString())}if("string"!==r)throw Error(m+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),A.test(e)?Q(i,e):G(i,e)}if(o.prototype=C,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=pe,o.clone=e,o.isDecimal=we,o.abs=te,o.acos=ne,o.acosh=re,o.add=ie,o.asin=oe,o.asinh=se,o.atan=ae,o.atanh=ue,o.atan2=ce,o.cbrt=le,o.ceil=de,o.clamp=he,o.cos=fe,o.cosh=ye,o.div=me,o.exp=ge,o.floor=ve,o.hypot=be,o.ln=_e,o.log=Se,o.log10=xe,o.log2=Ee,o.max=Ae,o.min=ke,o.mod=Te,o.mul=Me,o.pow=Ce,o.random=Ne,o.round=Oe,o.sign=Ie,o.sin=Re,o.sinh=Pe,o.sqrt=Le,o.sub=je,o.sum=De,o.tan=Ue,o.tanh=Be,o.trunc=Fe,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(p),o.prototype.constructor=o,o.default=o.Decimal=o,d=new o(d),h=new o(h),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},37795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var s,a=n.call(arguments,1),u=function(){if(this instanceof s){var t=o.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(n.call(arguments)))},c=Math.max(0,o.length-a.length),l=[],d=0;d<c;d++)l.push("$"+d);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var h=function(){};h.prototype=o.prototype,s.prototype=new h,h.prototype=null}return s}},4090:(e,t,n)=>{"use strict";var r=n(37795);e.exports=Function.prototype.bind||r},67286:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new s},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,d=n(32636)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?r:h(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},m=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=h(i.prototype))}return y[t]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(4090),b=n(23198),w=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,k=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,x,(function(e,t,n,i){r[r.length]=n?S(i,A,"$1"):t||e})),r},T=function(e,t){var n,r=e;if(b(g,r)&&(r="%"+(n=g[r])[0]+"%"),b(y,r)){var o=y[r];if(o===p&&(o=m(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var n=k(e),r=n.length>0?n[0]:"",o=T("%"+r+"%",t),a=o.name,c=o.value,l=!1,d=o.alias;d&&(r=d[0],_(n,w([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],m=E(f,0,1),g=E(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&p||(l=!0),b(y,a="%"+(r+="."+f)+"%"))c=y[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&h+1>=n.length){var v=u(c,f);c=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[f]}else p=b(c,f),c=c[f];p&&!l&&(y[a]=c)}}return c}},32636:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(66679);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},66679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},23198:(e,t,n)=>{"use strict";var r=n(4090);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},62333:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=f,s/=256,c-=8);e[n+p-f]|=128*y}},91285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},13335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},89612:(e,t,n)=>{var r=n(52118),i=n(96909),o=n(98138),s=n(4174),a=n(7942);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},80235:(e,t,n)=>{var r=n(3945),i=n(21846),o=n(88028),s=n(72344),a=n(94769);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},10326:(e,t,n)=>{var r=n(38761)(n(37772),"Map");e.exports=r},96738:(e,t,n)=>{var r=n(92411),i=n(36417),o=n(86928),s=n(79493),a=n(24150);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},50857:(e,t,n)=>{var r=n(37772).Symbol;e.exports=r},50343:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},81207:e=>{e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},50217:e=>{e.exports=function(e){return e.split("")}},45981:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},22218:(e,t,n)=>{var r=n(41225);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},53366:(e,t,n)=>{var r=n(50857),i=n(62107),o=n(37157),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},6840:(e,t,n)=>{var r=n(61049),i=n(47394),o=n(29259),s=n(87035),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,h=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},6435:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},39872:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},1054:(e,t,n)=>{var r=n(50857),i=n(50343),o=n(86152),s=n(4795),a=r?r.prototype:void 0,u=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},23895:(e,t,n)=>{var r=n(39872);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},24019:(e,t,n)=>{var r=n(37772)["__core-js_shared__"];e.exports=r},83126:(e,t,n)=>{var r=n(23895),i=n(33880),o=n(8435),s=n(66188);e.exports=function(e){return function(t){t=s(t);var n=i(t)?o(t):void 0,a=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return a[e]()+u}}},34311:(e,t,n)=>{var r=n(81207),i=n(97329),o=n(11618),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(i(t).replace(s,"")),e,"")}}},61655:(e,t,n)=>{var r=n(6435)({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});e.exports=r},51242:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},27937:(e,t,n)=>{var r=n(98304);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},38761:(e,t,n)=>{var r=n(6840),i=n(98109);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},47353:(e,t,n)=>{var r=n(60241)(Object.getPrototypeOf,Object);e.exports=r},62107:(e,t,n)=>{var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},98109:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},33880:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},83559:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},52118:(e,t,n)=>{var r=n(99191);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},96909:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},98138:(e,t,n)=>{var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4174:(e,t,n)=>{var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7942:(e,t,n)=>{var r=n(99191);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},98304:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},47394:(e,t,n)=>{var r,i=n(24019),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},3945:e=>{e.exports=function(){this.__data__=[],this.size=0}},21846:(e,t,n)=>{var r=n(22218),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},88028:(e,t,n)=>{var r=n(22218);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},72344:(e,t,n)=>{var r=n(22218);e.exports=function(e){return r(this.__data__,e)>-1}},94769:(e,t,n)=>{var r=n(22218);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},92411:(e,t,n)=>{var r=n(89612),i=n(80235),o=n(10326);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},36417:(e,t,n)=>{var r=n(27937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},86928:(e,t,n)=>{var r=n(27937);e.exports=function(e){return r(this,e).get(e)}},79493:(e,t,n)=>{var r=n(27937);e.exports=function(e){return r(this,e).has(e)}},24150:(e,t,n)=>{var r=n(27937);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},99191:(e,t,n)=>{var r=n(38761)(Object,"create");e.exports=r},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60241:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},37772:(e,t,n)=>{var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},8435:(e,t,n)=>{var r=n(50217),i=n(33880),o=n(63344);e.exports=function(e){return i(e)?o(e):r(e)}},87035:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},63344:e=>{var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+a+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+u+a+")*"),l="(?:"+[i+n+"?",n,o,s,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(d)||[]}},75304:e=>{var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+i+"]",s="\\d+",a="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+i+s+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",p="(?:"+u+"|"+c+")",f="(?:"+h+"|"+c+")",y="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",m="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",g="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",b=v+g+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,d].join("|")+")"+v+g+")*"),w="(?:"+[a,l,d].join("|")+")"+b,_=RegExp([h+"?"+u+"+"+y+"(?="+[o,h,"$"].join("|")+")",f+"+"+m+"(?="+[o,h+p,"$"].join("|")+")",h+"?"+p+"+"+y,h+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,w].join("|"),"g");e.exports=function(e){return e.match(_)||[]}},96009:(e,t,n)=>{var r=n(82108),i=n(34311)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},82108:(e,t,n)=>{var r=n(66188),i=n(23779);e.exports=function(e){return i(r(e).toLowerCase())}},97329:(e,t,n)=>{var r=n(61655),i=n(66188),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(s,"")}},41225:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},86152:e=>{var t=Array.isArray;e.exports=t},4335:(e,t,n)=>{var r=n(53366),i=n(15125);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},61049:(e,t,n)=>{var r=n(53366),i=n(29259);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},29259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},97030:(e,t,n)=>{var r=n(53366),i=n(47353),o=n(15125),s=Function.prototype,a=Object.prototype,u=s.toString,c=a.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},4795:(e,t,n)=>{var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},30733:(e,t,n)=>{var r=n(96738);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},34291:e=>{e.exports=function(){}},57370:(e,t,n)=>{var r=n(34311)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},66188:(e,t,n)=>{var r=n(1054);e.exports=function(e){return null==e?"":r(e)}},23779:(e,t,n)=>{var r=n(83126)("toUpperCase");e.exports=r},11618:(e,t,n)=>{var r=n(45981),i=n(83559),o=n(66188),s=n(75304);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?i(e)?s(e):r(e):e.match(t)||[]}},68762:(e,t,n)=>{var r,i,o,s,a;r=n(19562),i=n(5792).utf8,o=n(13335),s=n(5792).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,d=-1732584194,h=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var f=a._ff,y=a._gg,m=a._hh,g=a._ii;for(p=0;p<n.length;p+=16){var v=c,b=l,w=d,_=h;c=f(c,l,d,h,n[p+0],7,-680876936),h=f(h,c,l,d,n[p+1],12,-389564586),d=f(d,h,c,l,n[p+2],17,606105819),l=f(l,d,h,c,n[p+3],22,-1044525330),c=f(c,l,d,h,n[p+4],7,-176418897),h=f(h,c,l,d,n[p+5],12,1200080426),d=f(d,h,c,l,n[p+6],17,-1473231341),l=f(l,d,h,c,n[p+7],22,-45705983),c=f(c,l,d,h,n[p+8],7,1770035416),h=f(h,c,l,d,n[p+9],12,-1958414417),d=f(d,h,c,l,n[p+10],17,-42063),l=f(l,d,h,c,n[p+11],22,-1990404162),c=f(c,l,d,h,n[p+12],7,1804603682),h=f(h,c,l,d,n[p+13],12,-40341101),d=f(d,h,c,l,n[p+14],17,-1502002290),c=y(c,l=f(l,d,h,c,n[p+15],22,1236535329),d,h,n[p+1],5,-165796510),h=y(h,c,l,d,n[p+6],9,-1069501632),d=y(d,h,c,l,n[p+11],14,643717713),l=y(l,d,h,c,n[p+0],20,-373897302),c=y(c,l,d,h,n[p+5],5,-701558691),h=y(h,c,l,d,n[p+10],9,38016083),d=y(d,h,c,l,n[p+15],14,-660478335),l=y(l,d,h,c,n[p+4],20,-405537848),c=y(c,l,d,h,n[p+9],5,568446438),h=y(h,c,l,d,n[p+14],9,-1019803690),d=y(d,h,c,l,n[p+3],14,-187363961),l=y(l,d,h,c,n[p+8],20,1163531501),c=y(c,l,d,h,n[p+13],5,-1444681467),h=y(h,c,l,d,n[p+2],9,-51403784),d=y(d,h,c,l,n[p+7],14,1735328473),c=m(c,l=y(l,d,h,c,n[p+12],20,-1926607734),d,h,n[p+5],4,-378558),h=m(h,c,l,d,n[p+8],11,-2022574463),d=m(d,h,c,l,n[p+11],16,1839030562),l=m(l,d,h,c,n[p+14],23,-35309556),c=m(c,l,d,h,n[p+1],4,-1530992060),h=m(h,c,l,d,n[p+4],11,1272893353),d=m(d,h,c,l,n[p+7],16,-155497632),l=m(l,d,h,c,n[p+10],23,-1094730640),c=m(c,l,d,h,n[p+13],4,681279174),h=m(h,c,l,d,n[p+0],11,-358537222),d=m(d,h,c,l,n[p+3],16,-722521979),l=m(l,d,h,c,n[p+6],23,76029189),c=m(c,l,d,h,n[p+9],4,-640364487),h=m(h,c,l,d,n[p+12],11,-421815835),d=m(d,h,c,l,n[p+15],16,530742520),c=g(c,l=m(l,d,h,c,n[p+2],23,-995338651),d,h,n[p+0],6,-198630844),h=g(h,c,l,d,n[p+7],10,1126891415),d=g(d,h,c,l,n[p+14],15,-1416354905),l=g(l,d,h,c,n[p+5],21,-57434055),c=g(c,l,d,h,n[p+12],6,1700485571),h=g(h,c,l,d,n[p+3],10,-1894986606),d=g(d,h,c,l,n[p+10],15,-1051523),l=g(l,d,h,c,n[p+1],21,-2054922799),c=g(c,l,d,h,n[p+8],6,1873313359),h=g(h,c,l,d,n[p+15],10,-30611744),d=g(d,h,c,l,n[p+6],15,-1560198380),l=g(l,d,h,c,n[p+13],21,1309151649),c=g(c,l,d,h,n[p+4],6,-145523070),h=g(h,c,l,d,n[p+11],10,-1120210379),d=g(d,h,c,l,n[p+2],15,718787259),l=g(l,d,h,c,n[p+9],21,-343485551),c=c+v>>>0,l=l+b>>>0,d=d+w>>>0,h=h+_>>>0}return r.endian([c,l,d,h])})._ff=function(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,n,r,i,o,s){var a=e+(t^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):r.bytesToHex(n)}},37320:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(u[l]=s[l]);if(t){a=t(s);for(var d=0;d<a.length;d++)r.call(s,a[d])&&(u[a[d]]=s[a[d]])}}return u}},99500:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&u&&"function"==typeof u.get?u.get:null,l=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,x=Array.prototype.join,A=Array.prototype.slice,k=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===N||"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function P(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-k(-e):k(e);if(r!==e){var i=String(r),o=v.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var L=n(53260).custom,j=L&&F(L)?L:null;function D(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function U(e){return b.call(String(e),/"/g,"&quot;")}function B(e){return!("[object Array]"!==$(e)||O&&"object"==typeof e&&O in e)}function F(e){if(N)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,i){var a=n||{};if(V(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!V(a,"customInspect")||a.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return z(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return y?P(t,w):w}if("bigint"==typeof t){var S=String(t)+"n";return y?P(t,S):S}var k=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=k&&k>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var M=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=x.call(Array(e.indent+1)," ")}return{base:n,prev:x.call(Array(t+1),n)}}(a,r);if(void 0===i)i=[];else if(W(i,t)>=0)return"[Circular]";function L(t,n,o){if(n&&(i=A.call(i)).push(n),o){var s={depth:a.depth};return V(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,r+1,i)}return e(t,a,r+1,i)}if("function"==typeof t){var q=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),K=J(t,L);return"[Function"+(q?": "+q:" (anonymous)")+"]"+(K.length>0?" { "+x.call(K,", ")+" }":"")}if(F(t)){var Y=N?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=typeof t||N?Y:H(Y)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var X="<"+_.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)X+=" "+ee[te].name+"="+D(U(ee[te].value),"double",a);return X+=">",t.childNodes&&t.childNodes.length&&(X+="..."),X+="</"+_.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var ne=J(t,L);return M&&!function(e){for(var t=0;t<e.length;t++)if(W(e[t],"\n")>=0)return!1;return!0}(ne)?"["+Z(ne,M)+"]":"[ "+x.call(ne,", ")+" ]"}if(function(e){return!("[object Error]"!==$(e)||O&&"object"==typeof e&&O in e)}(t)){var re=J(t,L);return"cause"in t&&!I.call(t,"cause")?"{ ["+String(t)+"] "+x.call(E.call("[cause]: "+L(t.cause),re),", ")+" }":0===re.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(re,", ")+" }"}if("object"==typeof t&&u){if(j&&"function"==typeof t[j])return t[j]();if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ie=[];return s.call(t,(function(e,n){ie.push(L(n,t,!0)+" => "+L(e,t))})),G("Map",o.call(t),ie,M)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var oe=[];return l.call(t,(function(e){oe.push(L(e,t))})),G("Set",c.call(t),oe,M)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Q("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Q("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Q("WeakRef");if(function(e){return!("[object Number]"!==$(e)||O&&"object"==typeof e&&O in e)}(t))return H(L(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return H(L(T.call(t)));if(function(e){return!("[object Boolean]"!==$(e)||O&&"object"==typeof e&&O in e)}(t))return H(f.call(t));if(function(e){return!("[object String]"!==$(e)||O&&"object"==typeof e&&O in e)}(t))return H(L(String(t)));if(!function(e){return!("[object Date]"!==$(e)||O&&"object"==typeof e&&O in e)}(t)&&!function(e){return!("[object RegExp]"!==$(e)||O&&"object"==typeof e&&O in e)}(t)){var se=J(t,L),ae=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!ae&&O&&Object(t)===t&&O in t?v.call($(t),8,-1):ue?"Object":"",le=(ae||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||ue?"["+x.call(E.call([],ce||[],ue||[]),": ")+"] ":"");return 0===se.length?le+"{}":M?le+"{"+Z(se,M)+"}":le+"{ "+x.call(se,", ")+" }"}return String(t)};var q=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return q.call(e,t)}function $(e){return y.call(e)}function W(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function z(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return z(v.call(e,0,t.maxStringLength),t)+r}return D(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function H(e){return"Object("+e+")"}function Q(e){return e+" { ? }"}function G(e,t,n,r){return e+" ("+t+") {"+(r?Z(n,r):x.call(n,", "))+"}"}function Z(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+x.call(e,","+n)+"\n"+t.prev}function J(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):""}var o,s="function"==typeof M?M(e):[];if(N){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in e)V(e,u)&&(n&&String(Number(u))===u&&u<e.length||N&&o["$"+u]instanceof Symbol||(S.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"==typeof M)for(var c=0;c<s.length;c++)I.call(e,s[c])&&r.push("["+t(s[c])+"]: "+t(e[s[c]],e));return r}},26002:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r={t:!1,i:!1,o:3e4},i=window,o=i.console,s=document,a=i.navigator,u=i.performance,c=function(){return a.deviceMemory},l=function(){return a.hardwareConcurrency},d=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},h="4g",p=!1,f=function(){return!!(l()&&l()<=4)||!!(c()&&c()<=4)},y=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return f()||t}},m={u:!1},g=function(e){s.hidden&&(e(),m.u=s.hidden)},v=function(e){return parseFloat(e.toFixed(4))},b=function(e){return"number"!=typeof e?null:v(e/Math.pow(1024,2))},w=[2e3,4e3],_=[2500,4e3],S=[.1,.25],E={ttfb:[200,500],fp:w,fcp:w,lcp:_,lcpFinal:_,fid:[100,300],cls:S,clsFinal:S,tbt:[200,600],ntbt:[200,600]},x=function(e,t){return E[e]?t<=E[e][0]?"good":t<=E[e][1]?"needsImprovement":"poor":null},A=function(e,t,n){var o;o=function(){m.u&&e.indexOf("Final")<0||!r.analyticsTracker||r.analyticsTracker({metricName:e,data:t,eventProperties:n||{},navigatorInformation:a?{deviceMemory:c()||0,hardwareConcurrency:l()||0,serviceWorkerStatus:"serviceWorker"in a?a.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:f(),isLowEndExperience:y(h,p)}:{},vitalsScore:x(e,t)})},"requestIdleCallback"in i?i.requestIdleCallback(o,{timeout:3e3}):o()},k=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=v(t[e]))})),A(e,t,n)},T=function(e,t,n){var i=v(e);i<=r.o&&i>=0&&A(t,i,n)},M={},C={value:0},N={value:0},O={value:0},I={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},R={value:0},P={value:0},L=function(e){var t=e.pop();t&&!t.s&&t.value&&(C.value+=t.value)},j={},D=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){o.warn("Perfume.js:",e)}return null},U=function(e){j[e]&&j[e].disconnect(),delete j[e]},B=function(e){var t=e.pop();t&&T(t.processingStart-t.startTime,"fid",{performanceEntry:t}),U(1),T(O.value,"lcp"),j[3]&&"function"==typeof j[3].takeRecords&&j[3].takeRecords(),T(C.value,"cls"),setTimeout((function(){T(R.value,"tbt"),k("dataConsumption",I.value)}),1e4)},F=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<N.value)){var t=e.duration-50;t>0&&(R.value+=t,P.value+=t)}}))},q=function(e){e.forEach((function(e){"first-paint"===e.name?T(e.startTime,"fp"):"first-contentful-paint"===e.name&&(N.value=e.startTime,T(N.value,"fcp"),j[4]=D("longtask",F),U(0))}))},V=function(e){var t=e.pop();t&&(O.value=t.renderTime||t.loadTime)},$=function(e){e.forEach((function(e){e.identifier&&T(e.startTime,e.identifier)}))},W=function(e){e.forEach((function(e){if(r.t&&k("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;I.value[e.initiatorType]+=t,I.value.total+=t}}))},z=function(){j[2]&&(T(O.value,"lcpFinal"),U(2)),j[3]&&("function"==typeof j[3].takeRecords&&j[3].takeRecords(),T(C.value,"clsFinal"),U(3))},K=function(e){var t="usageDetails"in e?e.usageDetails:{};k("storageEstimate",{quota:b(e.quota),usage:b(e.usage),caches:b(t.caches),indexedDB:b(t.indexedDB),serviceWorker:b(t.serviceWorkerRegistrations)})},H=0,Q=function(){function e(e){if(void 0===e&&(e={}),this.l="7.0.0",r.analyticsTracker=e.analyticsTracker,r.t=!!e.resourceTiming,r.i=!!e.elementTiming,r.o=e.maxMeasureTime||r.o,d()){"PerformanceObserver"in i&&(j[0]=D("paint",q),j[1]=D("first-input",B),j[2]=D("largest-contentful-paint",V),r.t&&D("resource",W),j[3]=D("layout-shift",L),r.i&&D("element",$)),void 0!==s.hidden&&s.addEventListener("visibilitychange",g.bind(this,z));var t=function(){if(!d())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();k("navigationTiming",t),t.timeToFirstByte&&T(t.timeToFirstByte,"ttfb"),k("networkInformation",function(){if("connection"in a){var e=a.connection;return"object"!=typeof e?{}:(h=e.effectiveType,p=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),a&&a.storage&&"function"==typeof a.storage.estimate&&a.storage.estimate().then(K)}}return e.prototype.start=function(e){d()&&!M[e]&&(M[e]=!0,u.mark("mark_"+e+"_start"),m.u=!1)},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),d()&&M[e]){u.mark("mark_"+e+"_end"),delete M[e];var r=function(e){u.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&k(e,v(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete M[e],u.clearMarks&&(u.clearMarks("mark_"+e+"_start"),u.clearMarks("mark_"+e+"_end"))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),P.value=0,clearTimeout(H),H=setTimeout((function(){e.end("ntbt",{},!1),T(P.value,"ntbt"),P.value=0}),2e3)},e}();const G=Q},34406:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,u=[],c=!1,l=-1;function d(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},85527:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},19126:(e,t,n)=>{"use strict";var r=n(66845),i=n(29166),o=n(85527);e.exports={formats:o,parse:i,stringify:r}},29166:(e,t,n)=>{"use strict";var r=n(12493),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,l=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var d=0;n.depth>0&&null!==(a=s.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+o.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:u(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(s=[])[l]=i:"__proto__"!==c&&(s[c]=i):s={0:i}}i=s}return i}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=l.split(t.delimiter,d),p=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?f="utf-8":"utf8=%26%2310003%3B"===h[n]&&(f="iso-8859-1"),p=n,n=h.length);for(n=0;n<h.length;++n)if(n!==p){var y,m,g=h[n],v=g.indexOf("]="),b=-1===v?g.indexOf("="):v+1;-1===b?(y=t.decoder(g,s.decoder,f,"key"),m=t.strictNullHandling?null:""):(y=t.decoder(g.slice(0,b),s.decoder,f,"key"),m=r.maybeMap(u(g.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,f,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===f&&(m=a(m)),g.indexOf("[]=")>-1&&(m=o(m)?[m]:m),i.call(c,y)?c[y]=r.combine(c[y],m):c[y]=m}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},h=Object.keys(l),p=0;p<h.length;++p){var f=h[p],y=c(f,l[f],n,"string"==typeof e);d=r.merge(d,y,n)}return!0===n.allowSparse?d:r.compact(d)}},66845:(e,t,n)=>{"use strict";var r=n(74294),i=n(12493),o=n(85527),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=String.prototype.split,l=Array.prototype.push,d=function(e,t){l.apply(e,u(t)?t:[t])},h=Date.prototype.toISOString,p=o.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},y={},m=function e(t,n,o,s,a,l,h,p,m,g,v,b,w,_,S){for(var E,x=t,A=S,k=0,T=!1;void 0!==(A=A.get(y))&&!T;){var M=A.get(t);if(k+=1,void 0!==M){if(M===k)throw new RangeError("Cyclic object value");T=!0}void 0===A.get(y)&&(k=0)}if("function"==typeof h?x=h(n,x):x instanceof Date?x=g(x):"comma"===o&&u(x)&&(x=i.maybeMap(x,(function(e){return e instanceof Date?g(e):e}))),null===x){if(s)return l&&!w?l(n,f.encoder,_,"key",v):n;x=""}if("string"==typeof(E=x)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||i.isBuffer(x)){if(l){var C=w?n:l(n,f.encoder,_,"key",v);if("comma"===o&&w){for(var N=c.call(String(x),","),O="",I=0;I<N.length;++I)O+=(0===I?"":",")+b(l(N[I],f.encoder,_,"value",v));return[b(C)+"="+O]}return[b(C)+"="+b(l(x,f.encoder,_,"value",v))]}return[b(n)+"="+b(String(x))]}var R,P=[];if(void 0===x)return P;if("comma"===o&&u(x))R=[{value:x.length>0?x.join(",")||null:void 0}];else if(u(h))R=h;else{var L=Object.keys(x);R=p?L.sort(p):L}for(var j=0;j<R.length;++j){var D=R[j],U="object"==typeof D&&void 0!==D.value?D.value:x[D];if(!a||null!==U){var B=u(x)?"function"==typeof o?o(n,D):n:n+(m?"."+D:"["+D+"]");S.set(t,k);var F=r();F.set(y,S),d(P,e(U,B,o,s,a,l,h,p,m,g,v,b,w,_,F))}}return P};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=f.filter;return("function"==typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(n=c.filter);var l,h=[];if("object"!=typeof i||null===i)return"";l=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=a[l];n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var y=r(),g=0;g<n.length;++g){var v=n[g];c.skipNulls&&null===i[v]||d(h,m(i[v],v,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}var b=h.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},12493:(e,t,n)=>{"use strict";var r=n(85527),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],l=s[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:s,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<a.length;++c){var l=a.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?u+=a.charAt(c):l<128?u+=s[l]:l<2048?u+=s[192|l>>6]+s[128|63&l]:l<55296||l>=57344?u+=s[224|l>>12]+s[128|l>>6&63]+s[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&a.charCodeAt(c)),u+=s[240|l>>18]+s[128|l>>12&63]+s[128|l>>6&63]+s[128|63&l])}return u},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=a(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,r):t[o]=s,t}),s)}}},52967:(e,t,n)=>{"use strict";var r=n(2784),i=n(37320),o=n(14616);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},y={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(y,e)||!p.call(f,e)&&(h.test(e)?y[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,x=60107,A=60108,k=60114,T=60109,M=60110,C=60112,N=60113,O=60120,I=60115,R=60116,P=60121,L=60128,j=60129,D=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;S=B("react.element"),E=B("react.portal"),x=B("react.fragment"),A=B("react.strict_mode"),k=B("react.profiler"),T=B("react.provider"),M=B("react.context"),C=B("react.forward_ref"),N=B("react.suspense"),O=B("react.suspense_list"),I=B("react.memo"),R=B("react.lazy"),P=B("react.block"),B("react.scope"),L=B("react.opaque.id"),j=B("react.debug_trace_mode"),D=B("react.offscreen"),U=B("react.legacy_hidden")}var F,q="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function $(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var W=!1;function z(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function K(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 22:return e=z(e.type._render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case k:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return H(e.type);case P:return H(e._render);case R:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ye,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ye=ye||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Me=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!=typeof Te)throw Error(s(280));var t=e.stateNode;t&&(t=oi(t),Te(e.stateNode,e.type,t))}}function Oe(e){Me?Ce?Ce.push(e):Ce=[e]:Me=e}function Ie(){if(Me){var e=Me,t=Ce;if(Ce=Me=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Re,De=!1,Ue=!1;function Be(){null===Me&&null===Ce||(Le(),Ie())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var qe=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(me){qe=!1}function $e(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var We=!1,ze=null,Ke=!1,He=null,Qe={onError:function(e){We=!0,ze=e}};function Ge(e,t,n,r,i,o,s,a,u){We=!1,ze=null,$e.apply(Qe,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Ze(e)!==e)throw Error(s(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,st=[],at=null,ut=null,ct=null,lt=new Map,dt=new Map,ht=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function yt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){vt(e)&&n.delete(t)}function wt(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&vt(at)&&(at=null),null!==ut&&vt(ut)&&(ut=null),null!==ct&&vt(ct)&&(ct=null),lt.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function St(e){function t(t){return _t(t,e)}if(0<st.length){_t(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&_t(at,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),dt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},At={},kt={};function Tt(e){if(At[e])return At[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return At[e]=n[t];return e}d&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Mt=Tt("animationend"),Ct=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),It=new Map,Rt=new Map,Pt=["abort","abort",Mt,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),It.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Dt(e){if(0!=(1&e))return jt=15,1;if(0!=(2&e))return jt=14,2;if(0!=(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!=(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!=(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!=(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!=(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!=(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var u=o&~s;0!==u?(r=Dt(u),i=jt):0!==(a&=o)&&(r=Dt(a),i=jt)}else 0!==(o=n&~s)?(r=Dt(o),i=jt):0!==a&&(r=Dt(a),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Dt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ft(10,t):e;case 10:return 0===(e=qt(192&~t))?Ft(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $t(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Kt|0)|0},zt=Math.log,Kt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Gt=!0;function Zt(e,t,n,r){De||Le();var i=Yt,o=De;De=!0;try{Pe(i,e,t,n,r)}finally{(De=o)||Be()}}function Jt(e,t,n,r){Qt(Ht,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<st.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&yt(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ft(o,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,mt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;yt(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=ke(r);if(null!==(i=ni(i))){var o=Ze(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Je(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function un(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var cn,ln,dn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(hn),fn=i({},hn,{view:0,detail:0}),yn=un(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),vn=un(i({},mn,{dataTransfer:0})),bn=un(i({},fn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=un(_n),En=un(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Mn(){return Tn}var Cn=i({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Cn),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=un(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Pn),jn=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Un=null;d&&"documentMode"in document&&(Un=document.documentMode);var Bn=d&&"TextEvent"in window&&!Un,Fn=d&&(!Dn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),Vn=!1;function $n(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Dr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Zn=null;function Jn(e){Cr(e,0)}function Yn(e){if(J(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"==typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Gn&&(Gn.detachEvent("onpropertychange",or),Zn=Gn=null)}function or(e){if("value"===e.propertyName&&Yn(Zn)){var t=[];if(Qn(t,Zn,e,ke(e)),e=Jn,De)e(t);else{De=!0;try{Re(e,t)}finally{De=!1,Be()}}}}function sr(e,t,n){"focusin"===e?(ir(),Zn=n,(Gn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Zn)}function ur(e,t){if("click"===e)return Yn(t)}function cr(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},dr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=d&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,Sr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==br||br!==Y(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=Dr(wr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Pt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ar=0;Ar<xr.length;Ar++)Rt.set(xr[Ar],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,u,c){if(Ge.apply(this,arguments),We){if(!We)throw Error(s(198));var l=ze;We=!1,ze=null,Ke||(Ke=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=u}}}if(Ke)throw e=He,Ke=!1,He=null,e}function Nr(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Or]||(e[Or]=!0,a.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=si(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Pr(o,e,i,t),s.add(a))}function Pr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=Jt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ni(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{je(e,t,n)}finally{Ue=!1,Be()}}((function(){var r=o,i=ke(n),s=[];e:{var a=It.get(e);if(void 0!==a){var u=pn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Mt:case Ct:case Nt:u=wn;break;case Ot:u=Rn;break;case"scroll":u=yn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!=(4&t),d=!l&&"scroll"===e,h=l?null!==a?a+"Capture":null:a;l=[];for(var p,f=r;null!==f;){var y=(p=f).stateNode;if(5===p.tag&&null!==y&&(p=y,null!==h&&(null!=(y=Fe(f,h))&&l.push(jr(f,y,p)))),d)break;f=f.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,y="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,y="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==u?a:ii(u),p=null==c?a:ii(c),(a=new l(y,f+"leave",u,n,i)).target=d,a.relatedTarget=p,y=null,ni(i)===r&&((l=new l(h,f+"enter",c,n,i)).target=p,l.relatedTarget=d,y=l),d=y,u&&c)e:{for(h=c,f=0,p=l=u;p;p=Ur(p))f++;for(p=0,y=h;y;y=Ur(y))p++;for(;0<f-p;)l=Ur(l),f--;for(;0<p-f;)h=Ur(h),p--;for(;f--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Br(s,a,u,l,!1),null!==c&&null!==d&&Br(s,d,c,l,!0)}if("select"===(u=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var m=Xn;else if(Hn(a))if(er)m=cr;else{m=ar;var g=sr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(s,m,n,i):(g&&g(e,a,r),"focusout"===e&&(g=a._wrapperState)&&g.controlled&&"number"===a.type&&ie(a,"number",a.value)),g=r?ii(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(br=g,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Er(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Er(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,e,null,n,i),s.push({event:b,listeners:g}),v?b.data=v:null!==(v=Wn(n))&&(b.data=v))),(v=Bn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,qn);case"textInput":return(e=t.data)===qn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&$n(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Cr(s,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Fe(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Fe(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=Fe(n,o))&&s.unshift(jr(n,u,a)):i||null!=(u=Fe(n,o))&&s.push(jr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Fr(){}var qr=null,Vr=null;function $r(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,Kr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var Jr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Jr,Xr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Yr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Yr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function oi(e){return e[Xr]||null}function si(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=ai[ui],ai[ui]=null,ui--)}function di(e,t){ui++,ai[ui]=e.current,e.current=t}var hi={},pi=ci(hi),fi=ci(!1),yi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=(e=e.childContextTypes)}function vi(){li(fi),li(pi)}function bi(e,t,n){if(pi.current!==hi)throw Error(s(168));di(pi,t),di(fi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,H(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,yi=pi.current,di(pi,e),di(fi,fi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=wi(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(pi),di(pi,e)):li(fi),di(fi,n)}var Ei=null,xi=null,Ai=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Mi=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ni=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Li=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Di={},Ui=void 0!==Ci?Ci:function(){},Bi=null,Fi=null,qi=!1,Vi=Ni(),$i=1e4>Vi?Ni:function(){return Ni()-Vi};function Wi(){switch(Oi()){case Ii:return 99;case Ri:return 98;case Pi:return 97;case Li:return 96;case ji:return 95;default:throw Error(s(332))}}function zi(e){switch(e){case 99:return Ii;case 98:return Ri;case 97:return Pi;case 96:return Li;case 95:return ji;default:throw Error(s(332))}}function Ki(e,t){return e=zi(e),Ai(e,t)}function Hi(e,t,n){return e=zi(e),ki(e,t,n)}function Qi(){if(null!==Fi){var e=Fi;Fi=null,Ti(e)}Gi()}function Gi(){if(!qi&&null!==Bi){qi=!0;var e=0;try{var t=Bi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(t){throw null!==Bi&&(Bi=Bi.slice(e+1)),ki(Ii,Qi),t}finally{qi=!1}}}var Zi=_.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=ci(null),Xi=null,eo=null,to=null;function no(){to=eo=Xi=null}function ro(e){var t=Yi.current;li(Yi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Xi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ds=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Xi)throw Error(s(308));eo=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var ao=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=l:h.next=l,d.lastBaseUpdate=c)}}if(null!==s){for(h=o.baseState,a=0,d=l=c=null;;){u=s.lane;var p=s.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,y=s;switch(u=t,p=n,y.tag){case 1:if("function"==typeof(f=y.payload)){h=f.call(p,h,u);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(u="function"==typeof(f=y.payload)?f.call(p,h,u):f))break e;h=i({},h,u);break e;case 2:ao=!0}}null!==s.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[s]:u.push(s))}else p={eventTime:p,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(l=d=p,c=h):d=d.next=p,a|=u;if(null===(s=s.next)){if(null===(u=o.shared.pending))break;s=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=d,qa|=a,e.lanes=a,e.memoizedState=h}}function yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=pu(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),ho(e,o),fu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=pu(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ho(e,o),fu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=pu(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),ho(e,i),fu(e,r,n)}};function bo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=so(o):(i=gi(t)?yi:pi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,uo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=so(o):(o=gi(t)?yi:pi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ao(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Zu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(Eo(t)||V(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ao(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===x?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(Eo(n)||V(n))return null!==i?null:d(e,t,n,r,null);Ao(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===x?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||V(r))return d(t,e=e.get(n)||null,r,i,null);Ao(t,r)}return null}function y(i,s,a,u){for(var c=null,l=null,d=s,y=s=0,m=null;null!==d&&y<a.length;y++){d.index>y?(m=d,d=null):m=d.sibling;var g=p(i,d,a[y],u);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=o(g,s,y),null===l?c=g:l.sibling=g,l=g,d=m}if(y===a.length)return n(i,d),c;if(null===d){for(;y<a.length;y++)null!==(d=h(i,a[y],u))&&(s=o(d,s,y),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(i,d);y<a.length;y++)null!==(m=f(d,i,y,a[y],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?y:m.key),s=o(m,s,y),null===l?c=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),c}function m(i,a,u,c){var l=V(u);if("function"!=typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var d=l=null,y=a,m=a=0,g=null,v=u.next();null!==y&&!v.done;m++,v=u.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=p(i,y,v.value,c);if(null===b){null===y&&(y=g);break}e&&y&&null===b.alternate&&t(i,y),a=o(b,a,m),null===d?l=b:d.sibling=b,d=b,y=g}if(v.done)return n(i,y),l;if(null===y){for(;!v.done;m++,v=u.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?l=v:d.sibling=v,d=v);return l}for(y=r(i,y);!v.done;m++,v=u.next())null!==(v=f(y,i,m,v.value,c))&&(e&&null!==v.alternate&&y.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?l=v:d.sibling=v,d=v);return e&&y.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===x&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===x){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===x?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=xo(e,r,o),u.return=e,e=u)}return a(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zu(o,e.mode,u)).return=e,e=r),a(e);if(Eo(o))return y(e,r,o,u);if(V(o))return m(e,r,o,u);if(l&&Ao(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,H(e.type)||"Component"))}return n(e,r)}}var To=ko(!0),Mo=ko(!1),Co={},No=ci(Co),Oo=ci(Co),Io=ci(Co);function Ro(e){if(e===Co)throw Error(s(174));return e}function Po(e,t){switch(di(Io,t),di(Oo,e),di(No,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(No),di(No,t)}function Lo(){li(No),li(Oo),li(Io)}function jo(e){Ro(Io.current);var t=Ro(No.current),n=fe(t,e.type);t!==n&&(di(Oo,e),di(No,n))}function Do(e){Oo.current===e&&(li(No),li(Oo))}var Uo=ci(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=null,qo=null,Vo=!1;function $o(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zo(e){if(Vo){var t=qo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Qr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Fo=e);$o(Fo,n)}Fo=e,qo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Fo=e}}function Ko(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fo=e}function Ho(e){if(e!==Fo)return!1;if(!Vo)return Ko(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=qo;t;)$o(e,t),t=Qr(t.nextSibling);if(Ko(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Fo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){qo=Fo=null,Vo=!1}var Go=[];function Zo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Jo=_.ReactCurrentDispatcher,Yo=_.ReactCurrentBatchConfig,Xo=0,es=null,ts=null,ns=null,rs=!1,is=!1;function os(){throw Error(s(321))}function ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function as(e,t,n,r,i,o){if(Xo=o,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Rs:Ps,e=n(r,i),is){o=0;do{if(is=!1,!(25>o))throw Error(s(301));o+=1,ns=ts=null,t.updateQueue=null,Jo.current=Ls,e=n(r,i)}while(is)}if(Jo.current=Is,t=null!==ts&&null!==ts.next,Xo=0,ns=ts=es=null,rs=!1,t)throw Error(s(300));return e}function us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ns?es.memoizedState=ns=e:ns=ns.next=e,ns}function cs(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===ns?es.memoizedState:ns.next;if(null!==t)ns=t,ts=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===ns?es.memoizedState=ns=e:ns=ns.next=e}return ns}function ls(e,t){return"function"==typeof t?t(e):t}function ds(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ts,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,c=i;do{var l=c.lane;if((Xo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=d,o=r):u=u.next=d,es.lanes|=l,qa|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=a,lr(r,t.memoizedState)||(Ds=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);lr(o,t.memoizedState)||(Ds=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ps(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(s(350))}function fs(e,t,n,r){var i=Ra;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),u=Jo.current,c=u.useState((function(){return ps(i,t,n)})),l=c[1],d=c[0];c=ns;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,y=h.source;h=h.subscribe;var m=es;return e.memoizedState={refs:p,source:t,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=o(t._source);if(!lr(a,e)){e=n(t._source),lr(d,e)||(l(e),e=pu(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-Wt(s),c=1<<u;r[u]|=e,s&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=pu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(f,n)&&lr(y,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:d}).dispatch=l=Os.bind(null,es,e),c.queue=e,c.baseQueue=null,d=ps(i,t,n),c.memoizedState=c.baseState=d),d}function ys(e,t,n){return fs(cs(),e,t,n)}function ms(e){var t=us();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e}).dispatch=Os.bind(null,es,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=es.updateQueue)?(t={lastEffect:null},es.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},us().memoizedState=e}function bs(){return cs().memoizedState}function ws(e,t,n,r){var i=us();es.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function _s(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==r&&ss(r,s.deps))return void gs(t,n,o,r)}es.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function Ss(e,t){return ws(516,4,e,t)}function Es(e,t){return _s(516,4,e,t)}function xs(e,t){return _s(4,2,e,t)}function As(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ks(e,t,n){return n=null!=n?n.concat([e]):null,_s(4,2,As.bind(null,t,e),n)}function Ts(){}function Ms(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ns(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=n}}))}function Os(e,t,n){var r=hu(),i=pu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===es||null!==s&&s===es)is=rs=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,lr(u,a))return}catch(e){}fu(e,i,r)}}var Is={readContext:so,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useOpaqueIdentifier:os,unstable_isNewReconciler:!1},Rs={readContext:so,useCallback:function(e,t){return us().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:Ss,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ws(4,2,As.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=us();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=us();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Os.bind(null,es,e),[r.memoizedState,e]},useRef:vs,useState:ms,useDebugValue:Ts,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return Ss((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return vs(e=Ns.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=us();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0==(2&es.mode)&&(es.flags|=516,gs(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Ps={readContext:so,useCallback:Ms,useContext:so,useEffect:Es,useImperativeHandle:ks,useLayoutEffect:xs,useMemo:Cs,useReducer:ds,useRef:bs,useState:function(){return ds(ls)},useDebugValue:Ts,useDeferredValue:function(e){var t=ds(ls),n=t[0],r=t[1];return Es((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ds(ls)[0];return[bs().current,e]},useMutableSource:ys,useOpaqueIdentifier:function(){return ds(ls)[0]},unstable_isNewReconciler:!1},Ls={readContext:so,useCallback:Ms,useContext:so,useEffect:Es,useImperativeHandle:ks,useLayoutEffect:xs,useMemo:Cs,useReducer:hs,useRef:bs,useState:function(){return hs(ls)},useDebugValue:Ts,useDeferredValue:function(e){var t=hs(ls),n=t[0],r=t[1];return Es((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=hs(ls)[0];return[bs().current,e]},useMutableSource:ys,useOpaqueIdentifier:function(){return hs(ls)[0]},unstable_isNewReconciler:!1},js=_.ReactCurrentOwner,Ds=!1;function Us(e,t,n,r){t.child=null===e?Mo(t,null,n,r):To(t,e.child,n,r)}function Bs(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=as(e,t,n,r,o,i),null===e||Ds?(t.flags|=1,Us(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Fs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||zu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,qs(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=Ku(s,r)).ref=t.ref,e.return=t,t.child=e)}function qs(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ds=!1,0==(o&i))return t.lanes=e.lanes,oa(e,t,o);0!=(16384&e.flags)&&(Ds=!0)}return Ws(e,t,n,r,o)}function Vs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Su(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Su(t,e),null;t.memoizedState={baseLanes:0},Su(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Su(t,r);return Us(e,t,i,n),t.child}function $s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ws(e,t,n,r,i){var o=gi(n)?yi:pi.current;return o=mi(t,o),oo(t,i),n=as(e,t,n,r,o,i),null===e||Ds?(t.flags|=1,Us(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function zs(e,t,n,r,i){if(gi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=so(c):c=mi(t,c=gi(n)?yi:pi.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&_o(t,s,r,c),ao=!1;var h=t.memoizedState;s.state=h,fo(t,r,s,i),u=t.memoizedState,a!==r||h!==u||fi.current||ao?("function"==typeof l&&(go(t,n,l,r),u=t.memoizedState),(a=ao||bo(t,n,a,r,h,u,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ji(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"==typeof(u=n.contextType)&&null!==u?u=so(u):u=mi(t,u=gi(n)?yi:pi.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==u)&&_o(t,s,r,u),ao=!1,h=t.memoizedState,s.state=h,fo(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||fi.current||ao?("function"==typeof p&&(go(t,n,p,r),f=t.memoizedState),(c=ao||bo(t,n,c,r,h,f,u))?(l||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=u,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ks(e,t,n,r,o,i)}function Ks(e,t,n,r,i,o){$s(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&Si(t,n,!1),oa(e,t,o);r=t.stateNode,js.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=To(t,e.child,null,o),t.child=To(t,null,a,o)):Us(e,t,a,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Po(e,t.containerInfo)}var Qs,Gs,Zs,Js={dehydrated:null,retryLane:0};function Ys(e,t,n){var r,i=t.pendingProps,o=Uo.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(Uo,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,s?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,t.lanes=33554432,e):((n=Gu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=ta(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Js,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Xs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Gu(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(s,a),null!==e?r=Ku(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ra(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Us(e,t,r.children,n),0!=(2&(r=Uo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Uo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function sa(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Lo(),li(fi),li(pi),Zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=Ro(Io.current);if(n=t.type,null!==e&&null!=t.stateNode)Gs(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ro(No.current),Ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yr]=t,r[Xr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":ue(r,a),Nr("invalid",r)}for(var c in xe(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Z(r),re(r,a,!0);break;case"textarea":Z(r),le(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Fr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[Xr]=r,Qs(e,t),t.stateNode=e,c=Ae(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Nr(kr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),o=ae(e,r),Nr("invalid",e);break;default:o=r}xe(n,o);var l=o;for(a in l)if(l.hasOwnProperty(a)){var d=l[a];"style"===a?Se(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Nr("scroll",e):null!=d&&w(e,a,d,c))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Fr)}$r(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Ro(Io.current),Ro(No.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return li(Uo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Uo.current)?0===Ua&&(Ua=3):(0!==Ua&&3!==Ua||(Ua=4),null===Ra||0==(134217727&qa)&&0==(134217727&Va)||vu(Ra,La))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Uo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(c=r.rendering))if(a)sa(r,!1);else{if(0!==Ua||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Bo(e))){for(t.flags|=64,sa(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Uo,1&Uo.current|2),t.child}e=e.sibling}null!==r.tail&&$i()>Ka&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Bo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*$i()-r.renderingStartTime>Ka&&1073741824!==n&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=$i(),n.sibling=null,t=Uo.current,di(Uo,a?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ua(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(fi),li(pi),Zo(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return li(Uo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Uo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Eu(),null;default:return null}}function ca(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function la(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Qs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(No.current);var s,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Fr)}for(d in xe(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(d,l)):"children"===d?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Nr("scroll",e),a||c===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(a=a||[]).push(d,l))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Zs=function(e,t,n,r){n!==r&&(t.flags|=4)};var da="function"==typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za||(Za=!0,Ja=r),la(0,t)},n}function pa(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return la(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ya?Ya=new Set([this]):Ya.add(this),la(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fa="function"==typeof WeakSet?WeakSet:Set;function ya(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fu(e,t)}else t.current=null}function ma(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(s(163))}function ga(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&yo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&$r(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(s(163))}function va(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(xi&&"function"==typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Ei,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Fu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ya(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fu(t,e)}break;case 5:ya(t);break;case 4:Aa(e,t)}}function wa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _a(e){return 5===e.tag||3===e.tag||4===e.tag}function Sa(e){e:{for(var t=e.return;null!==t;){if(_a(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ea(e,n,t):xa(e,n,t)}function Ea(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Fr));else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function xa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function Aa(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,c=u;;)if(ba(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ae(e,i),t=Ae(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?Se(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ve(n,u):w(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(za=$i(),va(t.child,!0)),void Ta(t);case 19:return void Ta(t);case 23:case 24:return void va(t,null!==t.memoizedState)}throw Error(s(163))}function Ta(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fa),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ma(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ca=Math.ceil,Na=_.ReactCurrentDispatcher,Oa=_.ReactCurrentOwner,Ia=0,Ra=null,Pa=null,La=0,ja=0,Da=ci(0),Ua=0,Ba=null,Fa=0,qa=0,Va=0,$a=0,Wa=null,za=0,Ka=1/0;function Ha(){Ka=$i()+500}var Qa,Ga=null,Za=!1,Ja=null,Ya=null,Xa=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,su=null,au=-1,uu=0,cu=0,lu=null,du=!1;function hu(){return 0!=(48&Ia)?$i():-1!==au?au:au=$i()}function pu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Fa),0!==Zi.transition){0!==cu&&(cu=null!==Wa?Wa.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!=(4&Ia)&&98===e?e=Ft(12,uu):e=Ft(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function fu(e,t,n){if(50<ou)throw ou=0,su=null,Error(s(185));if(null===(e=yu(e,t)))return null;$t(e,t,n),e===Ra&&(Va|=t,4===Ua&&vu(e,La));var r=Wi();1===t?0!=(8&Ia)&&0==(48&Ia)?bu(e):(mu(e,n),0===Ia&&(Ha(),Qi())):(0==(4&Ia)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Wa=e}function yu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Wt(a),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Dt(c);var d=jt;o[u]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ut(e,e===Ra?La:0),t=jt,0===r)null!==n&&(n!==Di&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ti(n)}15===t?(n=bu.bind(null,e),null===Bi?(Bi=[n],Fi=ki(Ii,Gi)):Bi.push(n),n=Di):14===t?n=Hi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Hi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(au=-1,cu=uu=0,0!=(48&Ia))throw Error(s(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ra?La:0);if(0===n)return null;var r=n,i=Ia;Ia|=16;var o=ku();for(Ra===e&&La===r||(Ha(),xu(e,r));;)try{Cu();break}catch(t){Au(e,t)}if(no(),Na.current=o,Ia=i,null!==Pa?r=0:(Ra=null,La=0,r=Ua),0!=(Fa&Va))xu(e,0);else if(0!==r){if(2===r&&(Ia|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Bt(e))&&(r=Tu(e,n))),1===r)throw t=Ba,xu(e,0),vu(e,n),mu(e,$i()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Iu(e);break;case 3:if(vu(e,n),(62914560&n)===n&&10<(r=za+500-$i())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Iu.bind(null,e),r);break}Iu(e);break;case 4:if(vu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Wt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=$i()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){e.timeoutHandle=zr(Iu.bind(null,e),n);break}Iu(e);break;default:throw Error(s(329))}}return mu(e,$i()),e.callbackNode===t?gu.bind(null,e):null}function vu(e,t){for(t&=~$a,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!=(48&Ia))throw Error(s(327));if(Lu(),e===Ra&&0!=(e.expiredLanes&La)){var t=La,n=Tu(e,t);0!=(Fa&Va)&&(n=Tu(e,t=Ut(e,t)))}else n=Tu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ia|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Bt(e))&&(n=Tu(e,t))),1===n)throw n=Ba,xu(e,0),vu(e,t),mu(e,$i()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),mu(e,$i()),null}function wu(e,t){var n=Ia;Ia|=1;try{return e(t)}finally{0===(Ia=n)&&(Ha(),Qi())}}function _u(e,t){var n=Ia;Ia&=-2,Ia|=8;try{return e(t)}finally{0===(Ia=n)&&(Ha(),Qi())}}function Su(e,t){di(Da,ja),ja|=t,Fa|=t}function Eu(){ja=Da.current,li(Da)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Pa)for(n=Pa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Lo(),li(fi),li(pi),Zo();break;case 5:Do(r);break;case 4:Lo();break;case 13:case 19:li(Uo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}Ra=e,Pa=Ku(e.current,null),La=ja=Fa=t,Ua=0,Ba=null,$a=Va=qa=0}function Au(e,t){for(;;){var n=Pa;try{if(no(),Jo.current=Is,rs){for(var r=es.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}rs=!1}if(Xo=0,ns=ts=es=null,is=!1,Oa.current=null,null===n||null===n.return){Ua=1,Ba=t,Pa=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=La,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.lanes=l.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!=(1&Uo.current),h=s;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var y=h.memoizedProps;p=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!d)}}if(p){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0==(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=lo(-1,1);v.tag=2,ho(a,v)}a.lanes|=1;break e}u=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new da,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(a)){u.add(a);var w=qu.bind(null,o,c,a);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((H(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ua&&(Ua=2),u=ca(u,a),h=s;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,po(h,ha(0,o,t));break e;case 1:o=u;var _=h.type,S=h.stateNode;if(0==(64&h.flags)&&("function"==typeof _.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ya||!Ya.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,po(h,pa(h,o,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(e){t=e,Pa===n&&null!==n&&(Pa=n=n.return);continue}break}}function ku(){var e=Na.current;return Na.current=Is,null===e?Is:e}function Tu(e,t){var n=Ia;Ia|=16;var r=ku();for(Ra===e&&La===t||xu(e,t);;)try{Mu();break}catch(t){Au(e,t)}if(no(),Ia=n,Na.current=r,null!==Pa)throw Error(s(261));return Ra=null,La=0,Ua}function Mu(){for(;null!==Pa;)Nu(Pa)}function Cu(){for(;null!==Pa&&!Mi();)Nu(Pa)}function Nu(e){var t=Qa(e.alternate,e,ja);e.memoizedProps=e.pendingProps,null===t?Ou(e):Pa=t,Oa.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=aa(n,t,ja)))return void(Pa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ja)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ua(t)))return n.flags&=2047,void(Pa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pa=t);Pa=t=e}while(null!==t);0===Ua&&(Ua=5)}function Iu(e){var t=Wi();return Ki(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!=(48&Ia))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Wt(o),l=1<<c;i[c]=0,a[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0==(24&r)&&iu.has(e)&&iu.delete(e),e===Ra&&(Pa=Ra=null,La=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ia,Ia|=32,Oa.current=null,qr=Gt,gr(a=mr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var d=0,h=-1,p=-1,f=0,y=0,m=a,g=null;t:for(;;){for(var v;m!==u||0!==o&&3!==m.nodeType||(h=d+o),m!==c||0!==l&&3!==m.nodeType||(p=d+l),3===m.nodeType&&(d+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===a)break t;if(g===u&&++f===o&&(h=d),g===c&&++y===l&&(p=d),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}u=-1===h||-1===p?null:{start:h,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:a,selectionRange:u},Gt=!1,lu=null,du=!1,Ga=r;do{try{Pu()}catch(e){if(null===Ga)throw Error(s(330));Fu(Ga,e),Ga=Ga.nextEffect}}while(null!==Ga);lu=null,Ga=r;do{try{for(a=e;null!==Ga;){var b=Ga.flags;if(16&b&&ve(Ga.stateNode,""),128&b){var w=Ga.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Sa(Ga),Ga.flags&=-3;break;case 6:Sa(Ga),Ga.flags&=-3,ka(Ga.alternate,Ga);break;case 1024:Ga.flags&=-1025;break;case 1028:Ga.flags&=-1025,ka(Ga.alternate,Ga);break;case 4:ka(Ga.alternate,Ga);break;case 8:Aa(a,u=Ga);var S=u.alternate;wa(u),null!==S&&wa(S)}Ga=Ga.nextEffect}}catch(e){if(null===Ga)throw Error(s(330));Fu(Ga,e),Ga=Ga.nextEffect}}while(null!==Ga);if(_=Vr,w=mr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&yr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,S=Math.min(a.start,u),a=void 0===a.end?S:Math.min(a.end,u),!_.extend&&S>a&&(u=a,a=S,S=u),u=fr(b,S),o=fr(b,a),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),S>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!qr,Vr=qr=null,e.current=n,Ga=r;do{try{for(b=e;null!==Ga;){var E=Ga.flags;if(36&E&&ga(b,Ga.alternate,Ga),128&E){w=void 0;var x=Ga.ref;if(null!==x){var A=Ga.stateNode;Ga.tag,w=A,"function"==typeof x?x(w):x.current=w}}Ga=Ga.nextEffect}}catch(e){if(null===Ga)throw Error(s(330));Fu(Ga,e),Ga=Ga.nextEffect}}while(null!==Ga);Ga=null,Ui(),Ia=i}else e.current=n;if(Xa)Xa=!1,eu=e,tu=t;else for(Ga=r;null!==Ga;)t=Ga.nextEffect,Ga.nextEffect=null,8&Ga.flags&&((E=Ga).sibling=null,E.stateNode=null),Ga=t;if(0===(r=e.pendingLanes)&&(Ya=null),1===r?e===su?ou++:(ou=0,su=e):ou=0,n=n.stateNode,xi&&"function"==typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Ei,n,void 0,64==(64&n.current.flags))}catch(e){}if(mu(e,$i()),Za)throw Za=!1,e=Ja,Ja=null,e;return 0!=(8&Ia)||Qi(),null}function Pu(){for(;null!==Ga;){var e=Ga.alternate;du||null===lu||(0!=(8&Ga.flags)?et(Ga,lu)&&(du=!0):13===Ga.tag&&Ma(e,Ga)&&et(Ga,lu)&&(du=!0));var t=Ga.flags;0!=(256&t)&&ma(e,Ga),0==(512&t)||Xa||(Xa=!0,Hi(97,(function(){return Lu(),null}))),Ga=Ga.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Uu)}return!1}function ju(e,t){nu.push(t,e),Xa||(Xa=!0,Hi(97,(function(){return Lu(),null})))}function Du(e,t){ru.push(t,e),Xa||(Xa=!0,Hi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!=(48&Ia))throw Error(s(331));var t=Ia;Ia|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Fu(o,e)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(s(330));Fu(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ia=t,Qi(),!0}function Bu(e,t,n){ho(e,t=ha(0,t=ca(n,t),1)),t=hu(),null!==(e=yu(e,1))&&($t(e,1,t),mu(e,t))}function Fu(e,t){if(3===e.tag)Bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r))){var i=pa(n,e=ca(t,e),1);if(ho(n,i),i=hu(),null!==(n=yu(n,1)))$t(n,1,i),mu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ra===e&&(La&n)===n&&(4===Ua||3===Ua&&(62914560&La)===La&&500>$i()-za?xu(e,0):$a|=n),mu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Fa),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=yu(e,t))&&($t(e,t,n),mu(e,n))}function $u(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new $u(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)zu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case x:return Qu(n.children,i,o,t);case j:a=8,i|=16;break;case A:a=8,i|=1;break;case k:return(e=Wu(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case N:return(e=Wu(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case O:return(e=Wu(19,n,t,i)).elementType=O,e.lanes=o,e;case D:return Gu(n,i,o,t);case U:return(e=Wu(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case M:a=9;break e;case C:a=11;break e;case I:a=14;break e;case R:a=16,r=null;break e;case P:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Wu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Gu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=D,e.lanes=n,e}function Zu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),a=pu(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),fu(i,a,o),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=tc(s);a.call(e)}}ec(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=tc(s);u.call(e)}}_u((function(){ec(t,s,e,i)}))}return tc(s)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(s(200));return Xu(e,t,null,n)}Qa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ds=!0;else{if(0==(n&r)){switch(Ds=!1,t.tag){case 3:Hs(t),Qo();break;case 5:jo(t);break;case 1:gi(t.type)&&_i(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ys(e,t,n):(di(Uo,1&Uo.current),null!==(t=oa(e,t,n))?t.sibling:null);di(Uo,1&Uo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Uo,Uo.current),r)break;return null;case 23:case 24:return t.lanes=0,Vs(e,t,n)}return oa(e,t,n)}Ds=0!=(16384&e.flags)}else Ds=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,pi.current),oo(t,n),i=as(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&go(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,So(t,r,e,n),t=Ks(null,t,r,!0,o,n)}else t.tag=0,Us(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zu(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===I)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ws(null,t,i,e,n);break e;case 1:t=zs(null,t,i,e,n);break e;case 11:t=Bs(null,t,i,e,n);break e;case 14:t=Fs(null,t,i,Ji(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=oa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Qr(t.stateNode.containerInfo.firstChild),Fo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Mo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Us(e,t,r,n),Qo();t=t.child}return t;case 5:return jo(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Wr(r,i)?a=null:null!==o&&Wr(r,o)&&(t.flags|=16),$s(e,t),Us(e,t,a,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Ys(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Us(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Bs(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Us(e,t,t.pendingProps,n),t.child;case 8:case 12:return Us(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(di(Yi,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=lr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!fi.current){t=oa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,ho(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Us(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=so(i,o.unstable_observedBits)),t.flags|=1,Us(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Fs(e,t,i,o=Ji(i.type,o),r,n);case 15:return qs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,oo(t,n),wo(t,r,i),So(t,r,i,n),Ks(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return Vs(e,t,n)}throw Error(s(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(fu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(fu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=pu(e);fu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(s(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Re=wu,Pe=function(e,t,n,r,i){var o=Ia;Ia|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ia=o)&&(Ha(),Qi())}},Le=function(){0==(49&Ia)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,$i())}))}Qi()}(),Lu())},je=function(e,t){var n=Ia;Ia|=2;try{return e(t)}finally{0===(Ia=n)&&(Ha(),Qi())}};var uc={Events:[ri,ii,oi,Oe,Ie,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Ei=dc.inject(lc),xi=dc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ia;if(0!=(48&n))return e(t);Ia|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ia=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(s(40));return!!e._reactRootContainer&&(_u((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,r)},t.version="17.0.2"},28316:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(52967)},27483:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(81665),i=n(92693),o=n(10774),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!o.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(i.l))},86979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7896);function i(e,t,n){if("object"==typeof t&&null!==t){var i=e.getMutationCache(),o=e.getQueryCache(),s=t.mutations||[],a=t.queries||[];s.forEach((function(t){var o;i.build(e,(0,r.Z)({},null==n||null==(o=n.defaultOptions)?void 0:o.mutations,{mutationKey:t.mutationKey}),t.state)})),a.forEach((function(t){var i,s=o.get(t.queryHash);s?s.state.dataUpdatedAt<t.state.dataUpdatedAt&&s.setState(t.state):o.build(e,(0,r.Z)({},null==n||null==(i=n.defaultOptions)?void 0:i.queries,{queryKey:t.queryKey,queryHash:t.queryHash}),t.state)}))}}},60002:(e,t,n)=>{"use strict";n.d(t,{tQ:()=>r.t,Su:()=>i.S,ZB:()=>o.Z});var r=n(72868),i=n(39800),o=n(86979),s=n(77820);n.o(s,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return s.QueryClientProvider}})},20560:(e,t,n)=>{"use strict";n.d(t,{Gm:()=>o});var r=n(22348),i=n(10774);function o(){return{onFetch:function(e){e.fetchFn=function(){var t,n,o,u,c,l,d,h=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,p=null==(o=e.fetchOptions)||null==(u=o.meta)?void 0:u.fetchMore,f=null==p?void 0:p.pageParam,y="forward"===(null==p?void 0:p.direction),m="backward"===(null==p?void 0:p.direction),g=(null==(c=e.state.data)?void 0:c.pages)||[],v=(null==(l=e.state.data)?void 0:l.pageParams)||[],b=(0,i.G9)(),w=null==b?void 0:b.signal,_=v,S=!1,E=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},x=function(e,t,n,r){return _=r?[t].concat(_):[].concat(_,[t]),r?[n].concat(e):[].concat(e,[n])},A=function(t,n,i,o){if(S)return Promise.reject("Cancelled");if(void 0===i&&!n&&t.length)return Promise.resolve(t);var s={queryKey:e.queryKey,signal:w,pageParam:i,meta:e.meta},a=E(s),u=Promise.resolve(a).then((function(e){return x(t,i,e,o)}));(0,r.LE)(a)&&(u.cancel=a.cancel);return u};if(g.length)if(y){var k=void 0!==f,T=k?f:s(e.options,g);d=A(g,k,T)}else if(m){var M=void 0!==f,C=M?f:a(e.options,g);d=A(g,M,C,!0)}else!function(){_=[];var t=void 0===e.options.getNextPageParam,n=!h||!g[0]||h(g[0],0,g);d=n?A([],t,v[0]):Promise.resolve(x([],v[0],g[0]));for(var r=function(n){d=d.then((function(r){if(!h||!g[n]||h(g[n],n,g)){var i=t?v[n]:s(e.options,r);return A(r,t,i)}return Promise.resolve(x(r,v[n],g[n]))}))},i=1;i<g.length;i++)r(i)}();else d=A([]);var N=d.then((function(e){return{pages:e,pageParams:_}}));return N.cancel=function(){S=!0,null==b||b.abort(),(0,r.LE)(d)&&d.cancel()},N}}}}function s(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function a(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}},53579:(e,t,n)=>{"use strict";n.d(t,{j:()=>i,E:()=>o});var r=console;function i(){return r}function o(e){r=e}},3284:(e,t,n)=>{"use strict";n.d(t,{m:()=>u});var r=n(7896),i=n(53579),o=n(50667),s=n(22348),a=n(10774),u=function(){function e(e){this.options=(0,r.Z)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(a.ZT).catch(a.ZT)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then((function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)})).then((function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)})).then((function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})}))),r.then((function(){return t.executeMutation()})).then((function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)})).then((function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)})).then((function(){return t.dispatch({type:"success",data:e}),e})).catch((function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,i.j)().error(e),Promise.resolve().then((function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)})).then((function(){throw t.dispatch({type:"error",error:e}),e}))}))},t.executeMutation=function(){var e,t=this;return this.retryer=new s.m4({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.Z)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"loading":return(0,r.Z)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.Z)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.Z)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.Z)({},e,t.state);default:return e}}(this.state,e),o.V.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify(t)}))},e}()},50667:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(10774),i=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.A4)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.schedule((function(){e.apply(void 0,r)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.A4)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},58927:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(81665),i=n(92693),o=n(10774),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!o.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(i.l))},72868:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(81665),i=n(10774),o=n(7896),s=n(50667),a=n(53579),u=n(22348),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,o.Z)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,i.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))},t.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,o=this.state.data,s=(0,i.SE)(e,o);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,o,s))?s=o:!1!==this.options.structuralSharing&&(s=(0,i.Q$)(o,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),s},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(i.ZT).catch(i.ZT):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.Kp)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,o,s=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var l=this.observers.find((function(e){return e.options.queryFn}));l&&this.setOptions(l.options)}var d=(0,i.mc)(this.queryKey),h=(0,i.G9)(),p={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(h)return s.abortSignalConsumed=!0,h.signal}});var f,y,m={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(p)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(f=this.options.behavior)||f.onFetch(m));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=m.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(y=m.fetchOptions)?void 0:y.meta});return this.retryer=new u.m4({fn:m.fetchFn,abort:null==h||null==(o=h.abort)?void 0:o.bind(h),onSuccess:function(e){s.setData(e),null==s.cache.config.onSuccess||s.cache.config.onSuccess(e,s),0===s.cacheTime&&s.optionalRemove()},onError:function(e){(0,u.DV)(e)&&e.silent||s.dispatch({type:"error",error:e}),(0,u.DV)(e)||(null==s.cache.config.onError||s.cache.config.onError(e,s),(0,a.j)().error(e)),0===s.cacheTime&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),s.V.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"queryUpdated",action:e})}))},t.getDefaultState=function(e){var t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==e.initialData?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r=void 0!==t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,r;switch(t.type){case"failed":return(0,o.Z)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,o.Z)({},e,{isPaused:!0});case"continue":return(0,o.Z)({},e,{isPaused:!1});case"fetch":return(0,o.Z)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,o.Z)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var i=t.error;return(0,u.DV)(i)&&i.revert&&this.revertState?(0,o.Z)({},this.revertState):(0,o.Z)({},e,{error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,o.Z)({},e,{isInvalidated:!0});case"setState":return(0,o.Z)({},e,t.state);default:return e}},e}(),l=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,r.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,o=t.queryKey,s=null!=(r=t.queryHash)?r:(0,i.Rm)(o,t),a=this.get(s);return a||(a=new c({cache:this,queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o),meta:t.meta}),this.add(a)),a},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;s.V.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,i.I6)(e,t)[0];return void 0===n.exact&&(n.exact=!0),this.queries.find((function(e){return(0,i._x)(n,e)}))},n.findAll=function(e,t){var n=(0,i.I6)(e,t)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return(0,i._x)(n,e)})):this.queries},n.notify=function(e){var t=this;s.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){var e=this;s.V.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;s.V.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(n(92693).l)},39800:(e,t,n)=>{"use strict";n.d(t,{S:()=>p});var r=n(7896),i=n(10774),o=n(72868),s=n(81665),a=n(50667),u=n(3284),c=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,s.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new u.m({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),e.cancel(),this.notify(e)},n.clear=function(){var e=this;a.V.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((function(t){return(0,i.X7)(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return(0,i.X7)(e,t)}))},n.notify=function(e){var t=this;a.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter((function(e){return e.state.isPaused}));return a.V.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(i.ZT)}))}),Promise.resolve())}))},t}(n(92693).l),l=n(27483),d=n(58927),h=n(20560),p=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new o.t,this.mutationCache=e.mutationCache||new c,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=l.j.subscribe((function(){l.j.isFocused()&&d.N.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())})),this.unsubscribeOnline=d.N.subscribe((function(){l.j.isFocused()&&d.N.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())}))},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,i.I6)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.Z)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var r=(0,i._v)(e),o=this.defaultQueryOptions(r);return this.queryCache.build(this,o).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return a.V.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,i.I6)(e,t)[0],r=this.queryCache;a.V.batch((function(){r.findAll(n).forEach((function(e){r.remove(e)}))}))},t.resetQueries=function(e,t,n){var o=this,s=(0,i.I6)(e,t,n),u=s[0],c=s[1],l=this.queryCache,d=(0,r.Z)({},u,{active:!0});return a.V.batch((function(){return l.findAll(u).forEach((function(e){e.reset()})),o.refetchQueries(d,c)}))},t.cancelQueries=function(e,t,n){var r=this,o=(0,i.I6)(e,t,n),s=o[0],u=o[1],c=void 0===u?{}:u;void 0===c.revert&&(c.revert=!0);var l=a.V.batch((function(){return r.queryCache.findAll(s).map((function(e){return e.cancel(c)}))}));return Promise.all(l).then(i.ZT).catch(i.ZT)},t.invalidateQueries=function(e,t,n){var o,s,u,c=this,l=(0,i.I6)(e,t,n),d=l[0],h=l[1],p=(0,r.Z)({},d,{active:null==(o=null!=(s=d.refetchActive)?s:d.active)||o,inactive:null!=(u=d.refetchInactive)&&u});return a.V.batch((function(){return c.queryCache.findAll(d).forEach((function(e){e.invalidate()})),c.refetchQueries(p,h)}))},t.refetchQueries=function(e,t,n){var o=this,s=(0,i.I6)(e,t,n),u=s[0],c=s[1],l=a.V.batch((function(){return o.queryCache.findAll(u).map((function(e){return e.fetch(void 0,(0,r.Z)({},c,{meta:{refetchPage:null==u?void 0:u.refetchPage}}))}))})),d=Promise.all(l).then(i.ZT);return(null==c?void 0:c.throwOnError)||(d=d.catch(i.ZT)),d},t.fetchQuery=function(e,t,n){var r=(0,i._v)(e,t,n),o=this.defaultQueryOptions(r);void 0===o.retry&&(o.retry=!1);var s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,i._v)(e,t,n);return r.behavior=(0,h.Gm)(),this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.cancelMutations=function(){var e=this,t=a.V.batch((function(){return e.mutationCache.getAll().map((function(e){return e.cancel()}))}));return Promise.all(t).then(i.ZT).catch(i.ZT)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find((function(t){return(0,i.to)(e,t.queryKey)})))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find((function(t){return(0,i.to)(e,t.mutationKey)})))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.Z)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.Rm)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.Z)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},22348:(e,t,n)=>{"use strict";n.d(t,{LE:()=>a,DV:()=>c,m4:()=>l});var r=n(27483),i=n(58927),o=n(10774);function s(e){return Math.min(1e3*Math.pow(2,e),3e4)}function a(e){return"function"==typeof(null==e?void 0:e.cancel)}var u=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof u}var l=function(e){var t,n,c,l,d=this,h=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){h=!0},this.continueRetry=function(){h=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(e,t){c=e,l=t}));var p=function(t){d.isResolved||(d.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},f=function(t){d.isResolved||(d.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),l(t))};!function c(){if(!d.isResolved){var l;try{l=e.fn()}catch(e){l=Promise.reject(e)}t=function(e){if(!d.isResolved&&(f(new u(e)),null==d.abort||d.abort(),a(l)))try{l.cancel()}catch(e){}},d.isTransportCancelable=a(l),Promise.resolve(l).then(p).catch((function(t){var a,u;if(!d.isResolved){var l=null!=(a=e.retry)?a:3,p=null!=(u=e.retryDelay)?u:s,y="function"==typeof p?p(d.failureCount,t):p,m=!0===l||"number"==typeof l&&d.failureCount<l||"function"==typeof l&&l(d.failureCount,t);!h&&m?(d.failureCount++,null==e.onFail||e.onFail(d.failureCount,t),(0,o.Gh)(y).then((function(){if(!r.j.isFocused()||!i.N.isOnline())return new Promise((function(t){n=t,d.isPaused=!0,null==e.onPause||e.onPause()})).then((function(){n=void 0,d.isPaused=!1,null==e.onContinue||e.onContinue()}))})).then((function(){h?f(t):c()}))):f(t)}}))}}()}},92693:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},77820:()=>{},10774:(e,t,n)=>{"use strict";n.d(t,{sk:()=>i,ZT:()=>o,SE:()=>s,PN:()=>a,mc:()=>u,Kp:()=>c,_v:()=>l,I6:()=>d,_x:()=>h,X7:()=>p,Rm:()=>f,yF:()=>y,to:()=>m,Q$:()=>v,Gh:()=>S,A4:()=>E,G9:()=>x});var r=n(7896),i="undefined"==typeof window;function o(){}function s(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function u(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t,n){return _(e)?"function"==typeof t?(0,r.Z)({},n,{queryKey:e,queryFn:t}):(0,r.Z)({},t,{queryKey:e}):e}function d(e,t,n){return _(e)?[(0,r.Z)({},t,{queryKey:e}),n]:[e||{},t]}function h(e,t){var n=e.active,r=e.exact,i=e.fetching,o=e.inactive,s=e.predicate,a=e.queryKey,u=e.stale;if(_(a))if(r){if(t.queryHash!==f(a,t.options))return!1}else if(!m(t.queryKey,a))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,o);if("none"===c)return!1;if("all"!==c){var l=t.isActive();if("active"===c&&!l)return!1;if("inactive"===c&&l)return!1}return("boolean"!=typeof u||t.isStale()===u)&&(("boolean"!=typeof i||t.isFetching()===i)&&!(s&&!s(t)))}function p(e,t){var n=e.exact,r=e.fetching,i=e.predicate,o=e.mutationKey;if(_(o)){if(!t.options.mutationKey)return!1;if(n){if(y(t.options.mutationKey)!==y(o))return!1}else if(!m(t.options.mutationKey,o))return!1}return("boolean"!=typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||y)(e)}function y(e){var t,n=u(e);return t=n,JSON.stringify(t,(function(e,t){return b(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function m(e,t){return g(u(e),u(t))}function g(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((function(n){return!g(e[n],t[n])})))}function v(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||b(e)&&b(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,s=n?[]:{},a=0,u=0;u<o;u++){var c=n?u:i[u];s[c]=v(e[c],t[c]),s[c]===e[c]&&a++}return r===o&&a===r?e:s}return t}function b(e){if(!w(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!w(n)&&!!n.hasOwnProperty("isPrototypeOf")}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}function _(e){return"string"==typeof e||Array.isArray(e)}function S(e){return new Promise((function(t){setTimeout(t,e)}))}function E(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function x(){if("function"==typeof AbortController)return new AbortController}},82066:(e,t,n)=>{"use strict";n.d(t,{QueryCache:()=>r.tQ,QueryClient:()=>r.Su,hydrate:()=>r.ZB,QueryClientProvider:()=>i.aH});var r=n(60002);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}});var i=n(57864)},77639:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(2784),i=r.createContext(void 0),o=r.createContext(!1);function s(e){return e&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=i),window.ReactQueryClientContext):i}var a=function(e){var t=e.client,n=e.contextSharing,i=void 0!==n&&n,a=e.children;r.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var u=s(i);return r.createElement(o.Provider,{value:i},r.createElement(u.Provider,{value:t},a))}},57864:(e,t,n)=>{"use strict";n.d(t,{aH:()=>a.a});var r=n(50667),i=n(28316).unstable_batchedUpdates;r.V.setBatchNotifyFunction(i);var o=n(53579),s=console;(0,o.E)(s);var a=n(77639)},11837:(e,t,n)=>{"use strict";n(37320);var r=n(2784),i=60103;if(60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c},83426:(e,t,n)=>{"use strict";var r=n(37320),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=v.prototype=new g;b.constructor=v,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return s=s(u=e),e=""===r?"."+k(u,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),T(s,t,n,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+k(a=e[c],c);u+=T(a,t,n,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=T(a=a.value,t,n,l=r+k(a,c++),s);else if("object"===a)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(p(321));return e}var I={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2784:(e,t,n)=>{"use strict";e.exports=n(83426)},52322:(e,t,n)=>{"use strict";e.exports=n(11837)},1738:(e,t,n)=>{var r,i=n(34406);!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=s(e);function s(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:o=s(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,u=!s&&!a,c={create:s?function(){return ie(Object.create(null))}:a?function(){return ie({__proto__:null})}:function(){return ie({})},has:u?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:u?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),d="object"==typeof i&&"true"==="MISSING_ENV_VAR".REFLECT_METADATA_USE_MAP_POLYFILL,h=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?te():Map,p=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?ne():Set,f=new(d||"function"!=typeof WeakMap?re():WeakMap);function y(e,t,n,r){if(j(n)){if(!z(e))throw new TypeError;if(!H(t))throw new TypeError;return A(e,t)}if(!z(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!j(r)&&!D(r))throw new TypeError;return D(r)&&(r=void 0),k(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!j(r)&&!Q(r))throw new TypeError;I(e,t,n,r)}return n}function g(e,t,n,r){if(!B(n))throw new TypeError;return j(r)||(r=W(r)),I(e,t,n,r)}function v(e,t,n){if(!B(t))throw new TypeError;return j(n)||(n=W(n)),M(e,t,n)}function b(e,t,n){if(!B(t))throw new TypeError;return j(n)||(n=W(n)),C(e,t,n)}function w(e,t,n){if(!B(t))throw new TypeError;return j(n)||(n=W(n)),N(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return j(n)||(n=W(n)),O(e,t,n)}function S(e,t){if(!B(e))throw new TypeError;return j(t)||(t=W(t)),R(e,t)}function E(e,t){if(!B(e))throw new TypeError;return j(t)||(t=W(t)),P(e,t)}function x(e,t,n){if(!B(t))throw new TypeError;j(n)||(n=W(n));var r=T(t,n,!1);if(j(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=f.get(t);return i.delete(n),i.size>0||f.delete(t),!0}function A(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!j(r)&&!D(r)){if(!H(r))throw new TypeError;t=r}}return t}function k(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!j(o)&&!D(o)){if(!B(o))throw new TypeError;r=o}}return r}function T(e,t,n){var r=f.get(e);if(j(r)){if(!n)return;r=new h,f.set(e,r)}var i=r.get(t);if(j(i)){if(!n)return;i=new h,r.set(t,i)}return i}function M(e,t,n){if(C(e,t,n))return!0;var r=ee(t);return!D(r)&&M(e,r,n)}function C(e,t,n){var r=T(t,n,!1);return!j(r)&&V(r.has(e))}function N(e,t,n){if(C(e,t,n))return O(e,t,n);var r=ee(t);return D(r)?void 0:N(e,r,n)}function O(e,t,n){var r=T(t,n,!1);if(!j(r))return r.get(e)}function I(e,t,n,r){T(n,r,!0).set(e,t)}function R(e,t){var n=P(e,t),r=ee(e);if(null===r)return n;var i=R(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new p,s=[],a=0,u=n;a<u.length;a++){var c=u[a];o.has(c)||(o.add(c),s.push(c))}for(var l=0,d=i;l<d.length;l++){c=d[l];o.has(c)||(o.add(c),s.push(c))}return s}function P(e,t){var n=[],r=T(e,t,!1);if(j(r))return n;for(var i=Z(r.keys()),o=0;;){var s=Y(i);if(!s)return n.length=o,n;var a=J(s);try{n[o]=a}catch(e){try{X(i)}finally{throw e}}o++}}function L(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function j(e){return void 0===e}function D(e){return null===e}function U(e){return"symbol"==typeof e}function B(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(L(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=G(e,r);if(void 0!==i){var o=i.call(e,n);if(B(o))throw new TypeError;return o}return q(e,"default"===n?"number":n)}function q(e,t){if("string"===t){var n=e.toString;if(K(n))if(!B(i=n.call(e)))return i;if(K(r=e.valueOf))if(!B(i=r.call(e)))return i}else{var r;if(K(r=e.valueOf))if(!B(i=r.call(e)))return i;var i,o=e.toString;if(K(o))if(!B(i=o.call(e)))return i}throw new TypeError}function V(e){return!!e}function $(e){return""+e}function W(e){var t=F(e,3);return U(t)?t:$(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function K(e){return"function"==typeof e}function H(e){return"function"==typeof e}function Q(e){switch(L(e)){case 3:case 4:return!0;default:return!1}}function G(e,t){var n=e[t];if(null!=n){if(!K(n))throw new TypeError;return n}}function Z(e){var t=G(e,o);if(!K(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function J(e){return e.value}function Y(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function te(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}function ne(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function re(){var e=16,n=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function u(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",y),e("metadata",m),e("defineMetadata",g),e("hasMetadata",v),e("hasOwnMetadata",b),e("getMetadata",w),e("getOwnMetadata",_),e("getMetadataKeys",S),e("getOwnMetadataKeys",E),e("deleteMetadata",x)}(o)}()}(r||(r={}))},40541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>N.W,AsyncSubject:()=>l.c,BehaviorSubject:()=>u.X,ConnectableObservable:()=>i.c,EMPTY:()=>G.E,EmptyError:()=>O.K,GroupedObservable:()=>o.T,NEVER:()=>ue,Notification:()=>A.P,NotificationKind:()=>A.W,ObjectUnsubscribedError:()=>I.N,Observable:()=>r.y,ReplaySubject:()=>c.t,Scheduler:()=>S.b,Subject:()=>a.xQ,Subscriber:()=>x.L,Subscription:()=>E.w,TimeoutError:()=>P.W,UnsubscriptionError:()=>R.B,VirtualAction:()=>_,VirtualTimeScheduler:()=>w,animationFrame:()=>b,animationFrameScheduler:()=>v,asap:()=>d.e,asapScheduler:()=>d.E,async:()=>h.P,asyncScheduler:()=>h.z,bindCallback:()=>B,bindNodeCallback:()=>V,combineLatest:()=>K.aj,concat:()=>H.z,config:()=>ke.v,defer:()=>Q.P,empty:()=>G.c,forkJoin:()=>Y,from:()=>J.D,fromEvent:()=>ee.R,fromEventPattern:()=>ne,generate:()=>re,identity:()=>M.y,iif:()=>oe,interval:()=>se.F,isObservable:()=>C,merge:()=>ae.T,never:()=>ce,noop:()=>T.Z,observable:()=>s.L,of:()=>le.of,onErrorResumeNext:()=>de,pairs:()=>he,partition:()=>ge,pipe:()=>k.z,queue:()=>p.c,queueScheduler:()=>p.N,race:()=>ve.S3,range:()=>be,scheduled:()=>Ae.x,throwError:()=>_e._,timer:()=>Se.H,using:()=>Ee,zip:()=>xe.$R});var r=n(19939),i=n(89386),o=n(60453),s=n(68859),a=n(61194),u=n(64580),c=n(61048),l=n(93866),d=n(74858),h=n(20646),p=n(87410),f=n(2995),y=n(9795),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return f.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(y.o),g=n(52966),v=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(g.v))(m),b=v,w=function(e){function t(t,n){void 0===t&&(t=_),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return f.ZT(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(g.v),_=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return f.ZT(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(y.o),S=n(77035),E=n(51586),x=n(91881),A=n(38781),k=n(1199),T=n(54582),M=n(36930);function C(e){return!!e&&(e instanceof r.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var N=n(9120),O=n(44397),I=n(90906),R=n(22674),P=n(35915),L=n(92188),j=n(84658),D=n(93073),U=n(14070);function B(e,t,n){if(t){if(!(0,U.K)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return B(e,n).apply(void 0,r).pipe((0,L.U)((function(e){return(0,D.k)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:e,scheduler:n};return new r.y((function(r){if(n){var i={args:t,subscriber:r,params:a};return n.schedule(F,0,i)}if(!o){o=new l.c;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){(0,j._)(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function F(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new l.c;try{o.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule(q,0,{value:r,subject:u}))}]))}catch(e){u.error(e)}}this.add(u.subscribe(r))}function q(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function V(e,t,n){if(t){if(!(0,U.K)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return V(e,n).apply(void 0,r).pipe((0,L.U)((function(e){return(0,D.k)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.y((function(r){var i=o.context,s=o.subject;if(n)return n.schedule($,0,{params:o,subscriber:r,context:i});if(!s){s=o.subject=new l.c;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){(0,j._)(s)?s.error(e):console.warn(e)}}return s.subscribe(r)}))}}function $(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,s=n.args,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new l.c;try{o.apply(i,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(z,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(W,0,{value:i,subject:u}))}}]))}catch(e){this.add(a.schedule(z,0,{err:e,subject:u}))}}this.add(u.subscribe(r))}function W(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function z(e){var t=e.err;e.subject.error(t)}var K=n(20097),H=n(24245),Q=n(86542),G=n(84773),Z=n(50757),J=n(97238);function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,D.k)(n))return X(n,null);if((0,Z.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return X(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return X(e=1===e.length&&(0,D.k)(e[0])?e[0]:e,null).pipe((0,L.U)((function(e){return i.apply(void 0,e)})))}return X(e,null)}function X(e,t){return new r.y((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=(0,J.D)(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var ee=n(2498),te=n(77371);function ne(e,t,n){return n?ne(e,t).pipe((0,L.U)((function(e){return(0,D.k)(e)?n.apply(void 0,e):n(e)}))):new r.y((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if((0,te.m)(t))return function(){return t(i,r)}}))}function re(e,t,n,i,o){var s,a;if(1==arguments.length){var u=e;a=u.initialState,t=u.condition,n=u.iterate,s=u.resultSelector||M.y,o=u.scheduler}else void 0===i||(0,U.K)(i)?(a=e,s=M.y,o=i):(a=e,s=i);return new r.y((function(e){var r=a;if(o)return o.schedule(ie,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var u=void 0;try{u=s(r)}catch(t){return void e.error(t)}if(e.next(u),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function ie(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function oe(e,t,n){return void 0===t&&(t=G.E),void 0===n&&(n=G.E),(0,Q.P)((function(){return e()?t:n}))}var se=n(98815),ae=n(97686),ue=new r.y(T.Z);function ce(){return ue}var le=n(16612);function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return G.E;var n=e[0],i=e.slice(1);return 1===e.length&&(0,D.k)(n)?de.apply(void 0,n):new r.y((function(e){var t=function(){return e.add(de.apply(void 0,i).subscribe(e))};return(0,J.D)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function he(e,t){return t?new r.y((function(n){var r=Object.keys(e),i=new E.w;return i.add(t.schedule(pe,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.y((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function pe(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var fe=n(65683),ye=n(21400),me=n(72730);function ge(e,t,n){return[(0,me.h)(t,n)(new r.y((0,ye.s)(e))),(0,me.h)((0,fe.f)(t,n))(new r.y((0,ye.s)(e)))]}var ve=n(32219);function be(e,t,n){return void 0===e&&(e=0),new r.y((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(we,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))}function we(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var _e=n(34236),Se=n(13254);function Ee(e,t){return new r.y((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?(0,J.D)(i):G.E).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var xe=n(71131),Ae=n(12540),ke=n(20604)},93866:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(2995),i=n(61194),o=n(51586),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.xQ)},64580:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(2995),i=n(61194),o=n(90906),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.xQ)},38781:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,P:()=>a});var r,i=n(84773),o=n(16612),s=n(34236);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},19939:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(84658),i=n(91881),o=n(92532),s=n(35629);var a=n(68859),u=n(1199),c=n(20604),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof i.L)return e;if(e[o.b])return e[o.b]()}return e||t||n?new i.L(e,t,n):new i.L(s.c)}(e,t,n);if(r?a.add(r.call(a,this.source)):a.add(this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,u.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},35629:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(20604),i=n(47804),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},96807:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(2995),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(91881).L)},61048:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(2995),i=n(61194),o=n(87410),s=n(51586),a=n(49433),u=n(90906),c=n(27566),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.ZT(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.N;if(this.isStopped||this.hasError?t=s.w.EMPTY:(this.observers.push(e),t=new c.W(this,e)),i&&e.add(e=new a.ht(e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.c).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.xQ),d=function(){return function(e,t){this.time=e,this.value=t}}()},77035:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},61194:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>d});var r=n(2995),i=n(19939),o=n(91881),s=n(51586),a=n(90906),u=n(27566),c=n(92532),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.ZT(t,e),t}(o.L),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.ZT(t,e),t.prototype[c.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new u.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.y),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.w.EMPTY},t}(d)},27566:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(2995),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(51586).w)},91881:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(2995),i=n(77371),o=n(35629),s=n(51586),a=n(92532),u=n(20604),c=n(47804),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.c;break;case 1:if(!n){s.destination=o.c;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i)}return s}return r.ZT(t,e),t.prototype[a.b]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.w),d=function(e){function t(t,n,r,s){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return(0,i.m)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.c&&(c=Object.create(n),(0,i.m)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=s,u}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),u.v.useDeprecatedSynchronousErrorHandling)throw e;(0,c.z)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!u.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return u.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,c.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},51586:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(93073),i=n(50757),o=n(77371),s=n(22674),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,c=n._ctorUnsubscribe,l=n._unsubscribe,d=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var h=0;h<a.length;++h){a[h].remove(this)}if((0,o.m)(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof s.B?u(e.errors):[e]}}if((0,r.k)(d)){h=-1;for(var p=d.length;++h<p;){var f=d[h];if((0,i.K)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.B?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new s.B(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof s.B?t.errors:t)}),[])}},20604:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},93694:(e,t,n)=>{"use strict";n.d(t,{IY:()=>a,Ds:()=>u,ft:()=>c});var r=n(2995),i=n(91881),o=n(19939),s=n(21400),a=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.L),u=(i.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.L));i.L;function c(e,t){if(!t.closed){if(e instanceof o.y)return e.subscribe(t);var n;try{n=(0,s.s)(e)(t)}catch(e){t.error(e)}return n}}},89386:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var r=n(2995),i=n(61194),o=n(19939),s=n(91881),a=n(51586),u=n(46840),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.w).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.w.EMPTY)),e},t.prototype.refCount=function(){return(0,u.x)()(this)},t}(o.y),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.Yc);s.L},20097:(e,t,n)=>{"use strict";n.d(t,{aj:()=>l});var r=n(2995),i=n(14070),o=n(93073),s=n(96807),a=n(10505),u=n(60007),c={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,i.K)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,u.n)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.ZT(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,a.D)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===c?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L)},24245:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(16612),i=n(90430);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.u)()(r.of.apply(void 0,e))}},86542:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(19939),i=n(97238),o=n(84773);function s(e){return new r.y((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?(0,i.D)(n):(0,o.c)()).subscribe(t)}))}},84773:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>o});var r=n(19939),i=new r.y((function(e){return e.complete()}));function o(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},97238:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(19939),i=n(21400),o=n(12540);function s(e,t){return t?(0,o.x)(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},60007:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(19939),i=n(17651),o=n(36405);function s(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},2498:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(19939),i=n(93073),o=n(77371),s=n(92188);function a(e,t,n,c){return(0,o.m)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe((0,s.U)((function(e){return(0,i.k)(e)?c.apply(void 0,e):c(e)}))):new r.y((function(r){u(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function u(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,d=e.length;l<d;l++)u(e[l],t,n,r,i)}r.add(o)}},98815:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(19939),i=n(20646),o=n(76712);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t=i.P),(!(0,o.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=i.P),new r.y((function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n}))}function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},97686:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(19939),i=n(14070),o=n(97258),s=n(60007);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,u=e[e.length-1];return(0,i.K)(u)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(n)((0,s.n)(e,a))}},16612:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(14070),i=n(60007),o=n(36405);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.K)(n)?(e.pop(),(0,o.r)(e,n)):(0,i.n)(e)}},32219:(e,t,n)=>{"use strict";n.d(t,{S3:()=>u});var r=n(2995),i=n(93073),o=n(60007),s=n(96807),a=n(10505);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,i.k)(e[0]))return e[0];e=e[0]}return(0,o.n)(e,void 0).lift(new c)}var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,a.D)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(s.L)},34236:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(19939);function i(e,t){return t?new r.y((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.y((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},13254:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=n(19939),i=n(20646),o=n(76712),s=n(14070);function a(e,t,n){void 0===e&&(e=0);var a=-1;return(0,o.k)(t)?a=Number(t)<1?1:Number(t):(0,s.K)(t)&&(n=t),(0,s.K)(n)||(n=i.P),new r.y((function(t){var r=(0,o.k)(e)?e:+e-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:t})}))}function u(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},71131:(e,t,n)=>{"use strict";n.d(t,{$R:()=>c});var r=n(2995),i=n(60007),o=n(93073),s=n(91881),a=n(2),u=n(93694);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,i.n)(e,void 0).lift(new l(n))}var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return r.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.k)(e)?t.push(new p(e)):"function"==typeof e[a.hZ]?t.push(new h(e[a.hZ]())):t.push(new f(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[a.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),f=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.ZT(t,e),t.prototype[a.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,u.ft)(this.observable,new u.IY(this))},t}(u.Ds)},90430:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(97258);function i(){return(0,r.J)(1)}},72730:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(2995),i=n(91881);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.L)},60453:(e,t,n)=>{"use strict";n.d(t,{T:()=>c});var r=n(2995),i=n(91881),o=n(51586),s=n(19939),a=n(61194);i.L;var u=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.ZT(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.L),c=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.ZT(t,e),t.prototype._subscribe=function(e){var t=new o.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new l(n)),t.add(r.subscribe(e)),t},t}(s.y),l=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.w)},92188:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(2995),i=n(91881);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.L)},97258:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(71710),i=n(36930);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.zg)(i.y,e)}},71710:(e,t,n)=>{"use strict";n.d(t,{zg:()=>a});var r=n(2995),i=n(92188),o=n(97238),s=n(93694);function a(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(a((function(n,r){return(0,o.D)(e(n,r)).pipe((0,i.U)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new s.IY(this),n=this.destination;n.add(t);var r=(0,s.ft)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(s.Ds)},49433:(e,t,n)=>{"use strict";n.d(t,{ht:()=>s});var r=n(2995),i=n(91881),o=n(38781);var s=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.ZT(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new a(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.P.createComplete()),this.unsubscribe()},t}(i.L),a=function(){return function(e,t){this.notification=e,this.destination=t}}()},46840:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=n(2995),i=n(91881);function o(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.L)},36405:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(19939),i=n(51586);function o(e,t){return new r.y((function(n){var r=new i.w,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},12540:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var r=n(19939),i=n(51586),o=n(68859);var s=n(36405),a=n(2);var u=n(39633),c=n(72318);function l(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){var i=e[o.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if((0,u.t)(e))return function(e,t){return new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if((0,c.z)(e))return(0,s.r)(e,t);if(function(e){return e&&"function"==typeof e[a.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y((function(n){var r,o=new i.w;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[a.hZ](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},9795:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(2995),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(51586).w))},52966:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(2995),i=n(77035),o=function(e){function t(n,r){void 0===r&&(r=i.b.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.b)},74858:(e,t,n)=>{"use strict";n.d(t,{e:()=>h,E:()=>d});var r=n(2995),i=1,o=function(){return Promise.resolve()}(),s={};function a(e){return e in s&&(delete s[e],!0)}var u=function(e){var t=i++;return s[t]=!0,o.then((function(){return a(t)&&e()})),t},c=function(e){a(e)},l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(c(n),t.scheduled=void 0)},t}(n(9795).o),d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(52966).v))(l),h=d},20646:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>o});var r=n(9795),i=new(n(52966).v)(r.o),o=i},87410:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,N:()=>o});var r=n(2995),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(9795).o),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t}(n(52966).v))(i),s=o},2:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});var i=r()},68859:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},92532:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},9120:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},44397:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},90906:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},35915:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},22674:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},84658:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(91881);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.L?i:null}return!0}},47804:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,{z:()=>r})},36930:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},93073:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},72318:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},77371:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},76712:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(93073);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},50757:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},39633:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},14070:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},54582:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},65683:(e,t,n)=>{"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>r})},1199:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,U:()=>o});var r=n(36930);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},21400:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(17651),i=n(47804),o=n(2),s=n(68859),a=n(72318),u=n(39633),c=n(50757),l=function(e){if(e&&"function"==typeof e[s.L])return l=e,function(e){var t=l[s.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.z),e};if(e&&"function"==typeof e[o.hZ])return t=e,function(e){for(var n=t[o.hZ]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,d=(0,c.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},17651:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},10505:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(2995),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(91881).L),o=n(21400),s=n(19939);function a(e,t,n,r,a){if(void 0===a&&(a=new i(e,n,r)),!a.closed)return t instanceof s.y?t.subscribe(a):(0,o.s)(t)(a)}},2995:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},77834:(e,t,n)=>{var r=n(48834),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},46475:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,m=null,g=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+v;try{m(!0,e)?_.postMessage(null):(y=!1,m=null)}catch(e){throw _.postMessage(null),e}}else y=!1},n=function(e){m=e,y||(y=!0,_.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){p(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>A(s,n))void 0!==u&&0>A(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>A(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],T=[],M=1,C=null,N=3,O=!1,I=!1,R=!1;function P(e){for(var t=E(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,S(k,t)}t=E(T)}}function L(e){if(R=!1,P(e),!I)if(null!==E(k))I=!0,n(j);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function j(e,n){I=!1,R&&(R=!1,i()),O=!0;var o=N;try{for(P(n),C=E(k);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=C.callback;if("function"==typeof s){C.callback=null,N=C.priorityLevel;var a=s(C.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?C.callback=a:C===E(k)&&x(k),P(n)}else x(k);C=E(k)}if(null!==C)var u=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,N=o,O=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||O||(I=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:M++,callback:o,priorityLevel:e,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(e.sortIndex=s,S(T,e),null===E(k)&&e===E(T)&&(R?i():R=!0,r(L,s-a))):(e.sortIndex=u,S(k,e),I||O||(I=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},14616:(e,t,n)=>{"use strict";e.exports=n(46475)},73327:(e,t,n)=>{var r=n(77834).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),l=0;l<c;l++)n[u+l]=e[a+l];a+=c,(s+=c)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},9065:(e,t,n)=>{var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(8820),r.sha1=n(17885),r.sha224=n(58321),r.sha256=n(74424),r.sha384=n(90213),r.sha512=n(55596)},8820:(e,t,n)=>{var r=n(91285),i=n(73327),o=n(77834).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=n[d-3]^n[d-8]^n[d-14]^n[d-16];for(var h=0;h<80;++h){var p=~~(h/20),f=0|((t=r)<<5|t>>>27)+l(p,i,o,a)+u+n[h]+s[p];u=a,a=o,o=c(i),i=r,r=f}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},17885:(e,t,n)=>{var r=n(91285),i=n(73327),o=n(77834).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function d(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=(t=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|t>>>31;for(var p=0;p<80;++p){var f=~~(p/20),y=c(r)+d(f,i,o,a)+u+n[p]+s[f]|0;u=a,a=o,o=l(i),i=r,r=y}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},58321:(e,t,n)=>{var r=n(91285),i=n(74424),o=n(73327),s=n(77834).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},74424:(e,t,n)=>{var r=n(91285),i=n(73327),o=n(77834).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,f=0|this._f,y=0|this._g,m=0|this._h,g=0;g<16;++g)n[g]=e.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((t=n[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[g-7]+p(n[g-15])+n[g-16];for(var v=0;v<64;++v){var b=m+h(u)+c(u,f,y)+s[v]+n[v]|0,w=d(r)+l(r,i,o)|0;m=y,y=f,f=u,u=a+b|0,a=o,o=i,i=r,r=b+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=f+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},90213:(e,t,n)=>{var r=n(91285),i=n(55596),o=n(73327),s=n(77834).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},55596:(e,t,n)=>{var r=n(91285),i=n(73327),o=n(77834).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,v=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,x=0|this._el,A=0|this._fl,k=0|this._gl,T=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var C=t[M-30],N=t[M-30+1],O=p(C,N),I=f(N,C),R=y(C=t[M-4],N=t[M-4+1]),P=m(N,C),L=t[M-14],j=t[M-14+1],D=t[M-32],U=t[M-32+1],B=I+j|0,F=O+L+g(B,I)|0;F=(F=F+R+g(B=B+P|0,P)|0)+D+g(B=B+U|0,U)|0,t[M]=F,t[M+1]=B}for(var q=0;q<160;q+=2){F=t[q],B=t[q+1];var V=l(n,r,i),$=l(w,_,S),W=d(n,w),z=d(w,n),K=h(a,x),H=h(x,a),Q=s[q],G=s[q+1],Z=c(a,u,v),J=c(x,A,k),Y=T+H|0,X=b+K+g(Y,T)|0;X=(X=(X=X+Z+g(Y=Y+J|0,J)|0)+Q+g(Y=Y+G|0,G)|0)+F+g(Y=Y+B|0,B)|0;var ee=z+$|0,te=W+V+g(ee,z)|0;b=v,T=k,v=u,k=A,u=a,A=x,a=o+X+g(x=E+Y|0,E)|0,o=i,E=S,i=r,S=_,r=n,_=w,n=X+te+g(w=Y+ee|0,Y)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+A|0,this._gl=this._gl+k|0,this._hl=this._hl+T|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,S)|0,this._dh=this._dh+o+g(this._dl,E)|0,this._eh=this._eh+a+g(this._el,x)|0,this._fh=this._fh+u+g(this._fl,A)|0,this._gh=this._gh+v+g(this._gl,k)|0,this._hh=this._hh+b+g(this._hl,T)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},74294:(e,t,n)=>{"use strict";var r=n(67286),i=n(62680),o=n(99500),s=r("%TypeError%"),a=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),y=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(u){if(t)return h(t,r)}else if(n)return function(e,t){var n=y(e,t);return n&&n.value}(n,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(u){if(t)return f(t,r)}else if(n)return function(e,t){return!!y(e,t)}(n,r);return!1},set:function(r,i){a&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new a),l(e,r,i)):u?(t||(t=new u),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=y(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},86296:(e,t,n)=>{"use strict";n.d(t,{eK:()=>h});var r=n(68762),i=n.n(r);const o=e=>!("reportError"in e)||e.reportError,s={info:console.info,warning:console.warn,error:console.error},a="%c Error Reporting:",u="color:red;";let c=(l=e=>{const{severity:t}=e;(s[t??"error"]||console.error)(a,u,e)},e=>{let t;e instanceof Error?(t={error:e},console.warn(a,u,"reportError called incorrectly (reportError(error) rather than reportError({error}))")):"object"==typeof e?(t=e,t.error instanceof Error||(console.warn(a,u,"reportError called incorrectly with something other than an error object",e),t.metadata={...t.metadata,originalErrorData:JSON.stringify(t.error)},t.error=new Error("Unspecified error."))):(t={error:new Error("Unspecified error."),metadata:{originalErrorData:JSON.stringify(e)}},console.warn(a,u,"reportError called incorrectly"));const{error:n}=t,r=(e=>i()(e.message+e.stack).substring(0,8))(n);return o(n)&&l(t,r),{errorHash:r}});var l;const d=["MISSING_INSTANCEID_SERVICE","SERVICE_NOT_AVAILABLE","TOO_MANY_REGISTRATIONS","AUTHENTICATION_FAILED","PHONE_REGISTRATION_ERROR"],h=e=>{try{return d.some((t=>e.error?.message?.includes(t)))?c({...e,severity:"warning"}):c(e)}catch(e){return console.error(a,u,"Error reporting error",e),{}}}},22483:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(60762);class i{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isPostgresFamily(e){return["postgres","aurora-postgres"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){const n=this.parseConnectionUrl(e.url);t&&t.useSid&&n.database&&(n.sid=n.database);for(const e of Object.keys(n))void 0===n[e]&&delete n[e];return Object.assign({},e,n)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){const n=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&n.database&&(n.sid=n.database);for(const e of Object.keys(n))void 0===n[e]&&delete n[e];return Object.assign({},e,n)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...n){"string"==typeof t?(n.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t);const i=1===n.length?n[0]:n.join(t.joiner);if(e&&e>0&&i.length>e){if(!0===t.shorten){const t=(0,r.OV)(i);if(t.length<e)return t}return(0,r.vp)(i,{length:e})}return i}static buildColumnAlias({maxAliasLength:e},t,...n){return this.buildAlias({maxAliasLength:e},t,...n)}static parseConnectionUrl(e){const t=e.split(":")[0],n=e.indexOf("//"),r=e.substr(n+2),i=r.indexOf("/"),o=-1!==i?r.substr(0,i):r;let s=-1!==i?r.substr(i+1):void 0;s&&-1!==s.indexOf("?")&&(s=s.substr(0,s.indexOf("?")));const a=o.lastIndexOf("@"),u=o.substr(0,a),c=o.substr(a+1);let l=u,d="";const h=u.indexOf(":");-1!==h&&(l=u.substr(0,h),d=u.substr(h+1));const[p,f]=c.split(":");return{type:t,host:p,username:decodeURIComponent(l),password:decodeURIComponent(d),port:f?parseInt(f):void 0,database:s||void 0}}static parseMongoDBConnectionUrl(e){const t=e.split(":")[0],n=e.indexOf("//"),r=e.substr(n+2),i=r.indexOf("/"),o=-1!==i?r.substr(0,i):r;let s,a,u,c,l=-1!==i?r.substr(i+1):void 0,d="",h={};if(l&&-1!==l.indexOf("?")){d=l.substr(l.indexOf("?")+1,l.length);let e,t;d.split("&").forEach((n=>{e=n.split("=")[0],t=n.split("=")[1],h[e]=t})),c=h.replicaSet,l=l.substr(0,l.indexOf("?"))}const p=o.lastIndexOf("@"),f=o.substr(0,p),y=o.substr(p+1);let m=f,g="";const v=f.indexOf(":");-1!==v&&(m=f.substr(0,v),g=f.substr(v+1)),c?u=y:[s,a]=y.split(":");let b={type:t,host:s,hostReplicaSet:u,username:decodeURIComponent(m),password:decodeURIComponent(g),port:a?parseInt(a):void 0,database:l||void 0};for(const[e,t]of Object.entries(h))b[e]=t;return b}}},47884:(e,t,n)=>{"use strict";n(7104)},73694:(e,t,n)=>{"use strict";n(7104)},7234:(e,t,n)=>{"use strict";n(7104)},90632:(e,t,n)=>{"use strict";n(7104)},74899:(e,t,n)=>{"use strict";n(7104)},51817:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(7104);class i extends r.K{constructor(e,t){super(`Column type for ${e.constructor.name}#${t} is not defined and cannot be guessed. Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.`)}}},2675:(e,t,n)=>{"use strict";n(7104)},54605:(e,t,n)=>{"use strict";n(7104)},92825:(e,t,n)=>{"use strict";n(7104)},92632:(e,t,n)=>{"use strict";n(7104)},86837:(e,t,n)=>{"use strict";n(7104)},6579:(e,t,n)=>{"use strict";n(7104)},4027:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(7104),i=n(68199),o=n(37384);class s extends r.K{constructor(e,t){super(),this.message=`Could not find any entity of type "${this.stringifyTarget(e)}" matching: ${this.stringifyCriteria(t)}`}stringifyTarget(e){return o.a.isEntitySchema(e)?e.options.name:"function"==typeof e||i.g.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch(e){}return""+e}}},88305:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(7104);class i extends r.K{constructor(e,t){super(e),Object.setPrototypeOf(this,i.prototype),this.message=`Property "${e}" was not found in "${t.targetName}". Make sure your query is correct.`}}},21725:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(7104);class i extends r.K{constructor(e){super(),1===e.length?this.message=`Relation "${e[0]}" was not found; please check if it is correct and really exists in your entity.`:this.message=`Relations ${e.map((e=>`"${e}"`)).join(", ")} were not found; please check if relations are correct and they exist in your entities.`}}},49330:(e,t,n)=>{"use strict";n(7104)},22430:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(7104);class i extends r.K{constructor(){super('Cannot perform insert query because values are not defined. Call "qb.values(...)" method to specify inserted values.')}}},52173:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(7104);class i extends r.K{constructor(){super("Your database does not support LIMIT on UPDATE statements.")}}},23481:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7104);class i extends r.K{constructor(){super("Locking not supported on given driver.")}}},90077:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(7104);class i extends r.K{constructor(e){super(`Entity "${e.name}" does not have delete date columns.`)}}},3451:(e,t,n)=>{"use strict";n(7104)},62271:(e,t,n)=>{"use strict";n(7104)},52949:(e,t,n)=>{"use strict";n(7104)},17636:(e,t,n)=>{"use strict";n(7104)},99459:(e,t,n)=>{"use strict";n(7104)},88686:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(7104);class i extends r.K{constructor(e){super(`Entity ${e} does not have version or update date columns.`)}}},45689:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(7104);class i extends r.K{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}}},79853:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(7104);class i extends r.K{constructor(){super("The optimistic lock can be used only with getOne() method.")}}},21480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7104);class i extends r.K{constructor(e,t,n){super(`The optimistic lock on entity ${e} failed, version ${t} was expected, but is actually ${n}.`)}}},9013:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(7104);class i extends r.K{constructor(){super("An open transaction is required for pessimistic lock.")}}},25835:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(7104);class i extends r.K{constructor(e,t){super(`Primary column ${e.constructor.name}#${t} cannot be nullable. Its not allowed for primary keys. Try to remove nullable option.`)}}},45842:(e,t,n)=>{"use strict";n(7104)},7684:(e,t,n)=>{"use strict";n(7104)},41772:(e,t,n)=>{"use strict";n(7104)},73048:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=n(7104);class i extends r.K{constructor(){super("OUTPUT or RETURNING clause only supported by Microsoft SQL Server or PostgreSQL or MariaDB databases.")}}},3518:(e,t,n)=>{"use strict";n(7104)},42547:(e,t,n)=>{"use strict";n(7104)},76245:(e,t,n)=>{"use strict";n(7104)},7104:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});class r extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}}},54698:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=n(7104);class i extends r.K{constructor(){super('Cannot perform update query because update values are not defined. Call "qb.set(...)" method to specify updated values.')}}},84785:(e,t,n)=>{"use strict";n.d(t,{K_:()=>r.K});var r=n(7104);n(47884),n(42547);n(23481);n(7234);n(90632),n(54698);n(92825),n(76245);n(4027);n(52949),n(21480),n(52173),n(25835);n(41772),n(73694),n(54605),n(90077);n(74899),n(73048);n(62271),n(88305),n(3451),n(6579);n(2675),n(88686),n(22430),n(79853);n(86837),n(21725);n(9013);n(92632),n(49330);n(45842),n(99459);n(3518);n(51817),n(7684),n(45689);n(17636)},887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(21725),i=n(22483);class o{static isFindOneOptions(e){const t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||"object"==typeof t.select||"object"==typeof t.relations||"object"==typeof t.where||"object"==typeof t.join||"object"==typeof t.order||"object"==typeof t.cache||"boolean"==typeof t.cache||"number"==typeof t.cache||"string"==typeof t.comment||"object"==typeof t.lock||"object"==typeof t.loadRelationIds||"boolean"==typeof t.loadRelationIds||"boolean"==typeof t.loadEagerRelations||"boolean"==typeof t.withDeleted||"string"==typeof t.relationLoadStrategy||"boolean"==typeof t.transaction)}static isFindManyOptions(e){const t=e;return t&&(this.isFindOneOptions(t)||"number"==typeof t.skip||"number"==typeof t.take||"string"==typeof t.skip||"string"==typeof t.take)}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(null==t?void 0:t.relations){const n=[...t.relations];if(o.applyRelationsRecursively(e,n,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),n.length>0)throw new r.P(n)}return e}static applyRelationsRecursively(e,t,n,r,o){let s=[];if(o){const e=new RegExp("^"+o.replace(".","\\.")+"\\.");s=t.filter((t=>t.match(e))).map((t=>t.replace(e,""))).filter((e=>r.findRelationWithPropertyPath(e)))}else s=t.filter((e=>r.findRelationWithPropertyPath(e)));s.forEach((s=>{let a=i.z.buildAlias(e.connection.driver,{joiner:"__"},n,s);const u=n+"."+s;e.leftJoinAndSelect(u,a),t.splice(t.indexOf(o?o+"."+s:s),1);const c=e.expressionMap.joinAttributes.find((e=>e.entityOrProperty===u));this.applyRelationsRecursively(e,t,c.alias.name,c.metadata,o?o+"."+s:s);const l=r.relations.find((e=>e.propertyName===s));l&&this.joinEagerRelations(e,a,l.inverseEntityMetadata)}))}static joinEagerRelations(e,t,n){n.eagerRelations.forEach((n=>{let r=i.z.buildAlias(e.connection.driver,e.connection.namingStrategy.eagerJoinRelationAlias(t,n.propertyPath)),o=!0;for(const i of e.expressionMap.joinAttributes)if(void 0===i.condition&&void 0===i.mapToProperty&&void 0===i.isMappingMany&&"LEFT"===i.direction&&i.entityOrProperty===`${t}.${n.propertyPath}`){o=!1,r=i.alias.name;break}o&&e.leftJoin(t+"."+n.propertyPath,r);let s=!0;for(const t of e.expressionMap.selects)if(void 0===t.aliasName&&void 0===t.virtual&&t.selection===r){s=!1;break}s&&e.addSelect(r),this.joinEagerRelations(e,r,n.inverseEntityMetadata)}))}}},8134:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(62003);var i=n(73048),o=n(37384);class s extends r.z{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("DeleteQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createDeleteExpression(),e.trim()}async execute(){const[e,t]=this.getQueryAndParameters(),n=this.obtainQueryRunner();let r=!1;try{!0===this.expressionMap.useTransaction&&!1===n.isTransactionActive&&(await n.startTransaction(),r=!0),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&await n.broadcaster.broadcast("BeforeRemove",this.expressionMap.mainAlias.metadata);const i=await n.query(e,t,!0),o=class{static from(e){const t=new this;return t.raw=e.records,t.affected=e.affected,t}}.from(i);return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&await n.broadcaster.broadcast("AfterRemove",this.expressionMap.mainAlias.metadata),r&&await n.commitTransaction(),o}catch(e){if(r)try{await n.rollbackTransaction()}catch(e){}throw e}finally{n!==this.queryRunner&&await n.release()}}from(e,t){e=o.a.isEntitySchema(e)?e.options.name:e;const n=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(n),this}where(e,t){this.expressionMap.wheres=[];const n=this.getWhereCondition(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}output(e){return this.returning(e)}returning(e){if(!this.connection.driver.isReturningSqlSupported("delete"))throw new i.y;return this.expressionMap.returning=e,this}createDeleteExpression(){const e=this.getTableName(this.getMainTableName()),t=this.createWhereExpression(),n=this.createReturningExpression("delete");return""===n?`DELETE FROM ${e}${t}`:"mssql"===this.connection.driver.options.type?`DELETE FROM ${e} OUTPUT ${n}${t}`:`DELETE FROM ${e}${t} RETURNING ${n}`}}},90314:(e,t,n)=>{"use strict";n.d(t,{O:()=>f});var r=n(62003);class i{constructor(){this.identifiers=[],this.generatedMaps=[]}static from(e){const t=new this;return t.raw=e.raw,t}}var o=n(73048),s=n(22430),a=n(80283);class u{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}}var c=n(84785),l=n(88767),d=n(22483),h=n(68199),p=n(37384);class f extends r.z{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("InsertQueryBuilder")}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createInsertExpression(),e.trim()}async execute(){const e=this.getValueSets();if(0===e.length)return new i;const t=this.obtainQueryRunner();let n=!1;try{if(!0===this.expressionMap.useTransaction&&!1===t.isTransactionActive&&(await t.startTransaction(),n=!0),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata){const n=new u;e.forEach((e=>{t.broadcaster.broadcastBeforeInsertEvent(n,this.expressionMap.mainAlias.metadata,e)})),await n.wait()}let r=null,o=null;const s=new a.v(t,this.expressionMap),c=[];if(Array.isArray(this.expressionMap.returning)&&this.expressionMap.mainAlias.hasMetadata)for(const e of this.expressionMap.returning)c.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(e));!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&(e.length>1&&"oracle"===this.connection.driver.options.type||(this.expressionMap.extraReturningColumns=this.expressionMap.mainAlias.metadata.getInsertionReturningColumns()),c.push(...this.expressionMap.extraReturningColumns.filter((e=>!c.includes(e))))),c.length>0&&"mssql"===this.connection.driver.options.type&&(r=this.connection.driver.buildTableVariableDeclaration("@OutputTable",c),o="SELECT * FROM @OutputTable");const[l,d]=this.getQueryAndParameters(),h=[r,l,o].filter((e=>null!=e)).join(";\n\n"),p=await t.query(h,d,!0),f=i.from(p);if(!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&await s.insert(f,e),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata){const n=new u;e.forEach((e=>{t.broadcaster.broadcastAfterInsertEvent(n,this.expressionMap.mainAlias.metadata,e)})),await n.wait()}return n&&await t.commitTransaction(),f}catch(e){if(n)try{await t.rollbackTransaction()}catch(e){}throw e}finally{t!==this.queryRunner&&await t.release()}}into(e,t){e=p.a.isEntitySchema(e)?e.options.name:e;const n=this.createFromAlias(e);return this.expressionMap.setMainAlias(n),this.expressionMap.insertColumns=t||[],this}values(e){return this.expressionMap.valuesSet=e,this}output(e){return this.returning(e)}returning(e){if(!this.connection.driver.isReturningSqlSupported("insert"))throw new o.y;return this.expressionMap.returning=e,this}updateEntity(e){return this.expressionMap.updateEntity=e,this}onConflict(e){return this.expressionMap.onConflict=e,this}orIgnore(e=!0){return this.expressionMap.onIgnore=!!e,this}orUpdate(e,t,n){return Array.isArray(e)?(this.expressionMap.onUpdate={overwrite:e,conflict:t,skipUpdateIfNoValuesChanged:null==n?void 0:n.skipUpdateIfNoValuesChanged},this):(this.expressionMap.onUpdate={conflict:null==e?void 0:e.conflict_target,columns:null==e?void 0:e.columns,overwrite:null==e?void 0:e.overwrite,skipUpdateIfNoValuesChanged:null==n?void 0:n.skipUpdateIfNoValuesChanged},this)}createInsertExpression(){const e=this.getTableName(this.getMainTableName()),t=this.createValuesExpression(),n="oracle"===this.connection.driver.options.type&&this.getValueSets().length>1?null:this.createReturningExpression("insert"),r=this.createColumnNamesExpression();let i="INSERT ";if((d.z.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type)&&(i+=""+(this.expressionMap.onIgnore?" IGNORE ":"")),i+=`INTO ${e}`,this.alias!==this.getMainTableName()&&d.z.isPostgresFamily(this.connection.driver)&&(i+=` AS "${this.alias}"`),r?i+=`(${r})`:t||!d.z.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type||(i+="()"),n&&"mssql"===this.connection.driver.options.type&&(i+=` OUTPUT ${n}`),t?"oracle"===this.connection.driver.options.type&&this.getValueSets().length>1?i+=` ${t}`:i+=` VALUES ${t}`:d.z.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type?i+=" VALUES ()":i+=" DEFAULT VALUES","on-conflict-do-update"===this.connection.driver.supportedUpsertType){if(this.expressionMap.onIgnore)i+=" ON CONFLICT DO NOTHING ";else if(this.expressionMap.onConflict)i+=` ON CONFLICT ${this.expressionMap.onConflict} `;else if(this.expressionMap.onUpdate){const{overwrite:t,columns:n,conflict:r,skipUpdateIfNoValuesChanged:o}=this.expressionMap.onUpdate;let s="ON CONFLICT";Array.isArray(r)?s+=` ( ${r.map((e=>this.escape(e))).join(", ")} )`:r&&(s+=` ON CONSTRAINT ${this.escape(r)}`),Array.isArray(t)?(i+=` ${s} DO UPDATE SET `,i+=null==t?void 0:t.map((e=>`${this.escape(e)} = EXCLUDED.${this.escape(e)}`)).join(", "),i+=" "):n&&(i+=` ${s} DO UPDATE SET `,i+=n.map((e=>`${this.escape(e)} = :${e}`)).join(", "),i+=" "),Array.isArray(t)&&o&&d.z.isPostgresFamily(this.connection.driver)&&(i+=" WHERE (",i+=t.map((t=>`${e}.${this.escape(t)} IS DISTINCT FROM EXCLUDED.${this.escape(t)}`)).join(" OR "),i+=") ")}}else if("on-duplicate-key-update"===this.connection.driver.supportedUpsertType){if(this.expressionMap.onUpdate){const{overwrite:e,columns:t}=this.expressionMap.onUpdate;Array.isArray(e)?(i+=" ON DUPLICATE KEY UPDATE ",i+=e.map((e=>`${this.escape(e)} = VALUES(${this.escape(e)})`)).join(", "),i+=" "):Array.isArray(t)&&(i+=" ON DUPLICATE KEY UPDATE ",i+=t.map((e=>`${this.escape(e)} = :${e}`)).join(", "),i+=" ")}}else if(this.expressionMap.onUpdate)throw new c.K_("onUpdate is not supported by the current database driver");return n&&(d.z.isPostgresFamily(this.connection.driver)||"oracle"===this.connection.driver.options.type||"cockroachdb"===this.connection.driver.options.type||d.z.isMySQLFamily(this.connection.driver))&&(i+=` RETURNING ${n}`),"mssql"===this.connection.driver.options.type&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.mainAlias.metadata.columns.filter((e=>this.expressionMap.insertColumns.length>0?-1!==this.expressionMap.insertColumns.indexOf(e.propertyPath):e.isInsert)).some((e=>this.isOverridingAutoIncrementBehavior(e)))&&(i=`SET IDENTITY_INSERT ${e} ON; ${i}; SET IDENTITY_INSERT ${e} OFF`),i}getInsertedColumns(){return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.columns.filter((e=>this.expressionMap.insertColumns.length?-1!==this.expressionMap.insertColumns.indexOf(e.propertyPath):!!e.isInsert&&!!(!e.isGenerated||"increment"!==e.generationStrategy||"spanner"===this.connection.driver.options.type||"oracle"===this.connection.driver.options.type||d.z.isSQLiteFamily(this.connection.driver)||d.z.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type||"mssql"===this.connection.driver.options.type&&this.isOverridingAutoIncrementBehavior(e)))):[]}createColumnNamesExpression(){const e=this.getInsertedColumns();if(e.length>0)return e.map((e=>this.escape(e.databaseName))).join(", ");if(!this.expressionMap.mainAlias.hasMetadata&&!this.expressionMap.insertColumns.length){const e=this.getValueSets();if(1===e.length)return Object.keys(e[0]).map((e=>this.escape(e))).join(", ")}return this.expressionMap.insertColumns.map((e=>this.escape(e))).join(", ")}createValuesExpression(){const e=this.getValueSets(),t=this.getInsertedColumns();if(t.length>0){let n="";return e.forEach(((r,i)=>{t.forEach(((o,s)=>{0===s&&("oracle"===this.connection.driver.options.type&&e.length>1||"sap"===this.connection.driver.options.type&&e.length>1?n+=" SELECT ":n+="(");let a=o.getEntityValue(r);if("function"!=typeof a&&(a=this.connection.driver.preparePersistentValue(a,o)),o.isVersion&&void 0===a)n+="1";else if(o.isDiscriminator)n+=this.createParameter(this.expressionMap.mainAlias.metadata.discriminatorValue);else if(o.isGenerated&&"uuid"===o.generationStrategy&&!this.connection.driver.isUUIDGenerationSupported()&&void 0===a)a=(0,l.Z)(),n+=this.createParameter(a),i in this.expressionMap.locallyGenerated||(this.expressionMap.locallyGenerated[i]={}),o.setEntityValue(this.expressionMap.locallyGenerated[i],a);else if(void 0===a)"oracle"===this.connection.driver.options.type&&e.length>1||d.z.isSQLiteFamily(this.connection.driver)||"sap"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type?void 0!==o.default&&null!==o.default?n+=this.connection.driver.normalizeDefault(o):n+="NULL":n+="DEFAULT";else if(null===a&&"spanner"===this.connection.driver.options.type)n+="NULL";else if("function"==typeof a)n+=a();else{"mssql"===this.connection.driver.options.type&&(a=this.connection.driver.parametrizeValue(o,a));const e=this.createParameter(a);if(!d.z.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type||-1===this.connection.driver.spatialTypes.indexOf(o.type))d.z.isPostgresFamily(this.connection.driver)&&-1!==this.connection.driver.spatialTypes.indexOf(o.type)?null!=o.srid?n+=`ST_SetSRID(ST_GeomFromGeoJSON(${e}), ${o.srid})::${o.type}`:n+=`ST_GeomFromGeoJSON(${e})::${o.type}`:"mssql"===this.connection.driver.options.type&&-1!==this.connection.driver.spatialTypes.indexOf(o.type)?n+=o.type+"::STGeomFromText("+e+", "+(o.srid||"0")+")":n+=e;else{const t=this.connection.driver.options.legacySpatialSupport?"GeomFromText":"ST_GeomFromText";null!=o.srid?n+=`${t}(${e}, ${o.srid})`:n+=`${t}(${e})`}}s===t.length-1?i===e.length-1?"oracle"===this.connection.driver.options.type&&e.length>1?n+=" FROM DUAL ":"sap"===this.connection.driver.options.type&&e.length>1?n+=" FROM dummy ":n+=")":"oracle"===this.connection.driver.options.type&&e.length>1?n+=" FROM DUAL UNION ALL ":"sap"===this.connection.driver.options.type&&e.length>1?n+=" FROM dummy UNION ALL ":n+="), ":n+=", "}))})),"()"===n?"":n}{let t="";return e.forEach(((n,r)=>{Object.keys(n).forEach(((i,o)=>{0===o&&(t+="(");const s=n[i];"function"==typeof s?t+=s():void 0===s?"oracle"===this.connection.driver.options.type&&e.length>1||d.z.isSQLiteFamily(this.connection.driver)||"sap"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type?t+="NULL":t+="DEFAULT":null===s&&"spanner"===this.connection.driver.options.type||(t+=this.createParameter(s)),o===Object.keys(n).length-1?r===e.length-1?t+=")":t+="), ":t+=", "}))})),"()"===t?"":t}}getValueSets(){if(Array.isArray(this.expressionMap.valuesSet))return this.expressionMap.valuesSet;if(h.g.isObject(this.expressionMap.valuesSet))return[this.expressionMap.valuesSet];throw new s.D}isOverridingAutoIncrementBehavior(e){return e.isPrimary&&e.isGenerated&&"increment"===e.generationStrategy&&this.getValueSets().some((t=>void 0!==e.getEntityValue(t)&&null!==e.getEntityValue(t)))}}},54128:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(16900),i=n(68199),o=n(84785),s=n(22483);class a{constructor(e,t,n){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,i.g.assign(this,n||{})}get isMany(){return void 0!==this.isMappingMany?this.isMappingMany:!!this.relation&&(this.relation.isManyToMany||this.relation.isOneToMany)}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(const e of this.queryExpressionMap.selects){if(e.selection===this.alias.name)return!0;if(this.metadata&&this.metadata.columns.find((t=>e.selection===this.alias.name+"."+t.propertyPath)))return!0}return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(r.G.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(r.G.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!r.G.isAliasProperty(this.entityOrProperty))return;const e=this.queryExpressionMap.findAliasByName(this.parentAlias);let t=e.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(t)return t;if(e.metadata.parentEntityMetadata&&(t=e.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),t))return t;throw new o.K_(`Relation with property path ${this.relationPropertyPath} in entity was not found.`)};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){return this.relation?this.relation.inverseEntityMetadata:this.connection.hasMetadata(this.entityOrProperty)?this.connection.getMetadata(this.entityOrProperty):void 0}get junctionAlias(){if(!this.relation)throw new o.K_("Cannot get junction table for join without relation.");return this.relation.isOwning?s.z.buildAlias(this.connection.driver,this.parentAlias,this.alias.name):s.z.buildAlias(this.connection.driver,this.alias.name,this.parentAlias)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}}},62003:(e,t,n)=>{"use strict";n.d(t,{z:()=>y});var r=n(68199),i=n(84785);class o{constructor(e){r.g.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new i.K_(`Cannot get entity metadata for the given alias "${this.name}"`);return this._metadata}}var s=n(54128),a=n(53199),u=n(85960);class c{constructor(e){this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy)}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&-1===this.options.indexOf("disable-global-order")){const e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce(((t,n)=>(t[this.mainAlias.name+"."+n]=e[n],t)),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),t||"function"!=typeof e.target||(t=e.target.name),t||"string"!=typeof e.target||(t=e.target);const n=new o;return n.type=e.type,t&&(n.name=t),e.metadata&&(n.metadata=e.metadata),e.target&&!n.hasMetadata&&(n.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(n.tablePath=e.tablePath),e.subQuery&&(n.subQuery=e.subQuery),this.aliases.push(n),n}findAliasByName(e){const t=this.aliases.find((t=>t.name===e));if(!t)throw new i.K_(`"${e}" alias was not found. Maybe you forgot to join it?`);return t}findColumnByAliasExpression(e){const[t,n]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(n)}get relationMetadata(){if(!this.mainAlias)throw new i.K_("Entity to work with is not specified!");const e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new i.K_(`Relation ${this.relationPropertyPath} was not found in entity ${this.mainAlias.name}`);return e}clone(){const e=new c(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map((e=>e)),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach((t=>e.aliases.push(new o(t)))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map((e=>new s.k(this.connection,this,e))),e.relationIdAttributes=this.relationIdAttributes.map((e=>new a.b(this,e))),e.relationCountAttributes=this.relationCountAttributes.map((e=>new u.$(this,e))),e.wheres=this.wheres.map((e=>({...e}))),e.havings=this.havings.map((e=>({...e}))),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map((e=>e)),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map((e=>({alias:e.alias,queryBuilder:"string"==typeof e.queryBuilder?e.queryBuilder:e.queryBuilder.clone(),options:e.options}))),e}}class l{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}}var d=n(37384);class h{constructor(e,t,n=!0,r=!1,i,o){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=n,this._multipleParameters=r,this._getSql=i,this._objectLiteralParameters=o}get useParameter(){return d.a.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return d.a.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return d.a.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return d.a.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(d.a.isFindOperator(this._value))return this._value}get getSql(){return d.a.isFindOperator(this._value)?this._value.getSql:this._getSql}}var p=n(88305);const f=/[.*+\-?^${}()|[\]\\]/g;class y{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,d.a.isQueryBuilder(e)?(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone()):(this.connection=e,this.queryRunner=t,this.expressionMap=new c(this.connection))}get alias(){if(!this.expressionMap.mainAlias)throw new i.K_("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map((e=>({selection:e}))):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);const r=n(84144).Z;return d.a.isSelectQueryBuilder(this)?this:new r(this)}insert(){this.expressionMap.queryType="insert";const e=n(90314).O;return d.a.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){const r=t||e;if("function"==typeof(e=d.a.isEntitySchema(e)?e.options.name:e)||"string"==typeof e){const t=this.createFromAlias(e);this.expressionMap.setMainAlias(t)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=r;const i=n(55521).T;return d.a.isUpdateQueryBuilder(this)?this:new i(this)}delete(){this.expressionMap.queryType="delete";const e=n(8134).T;return d.a.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";const e=n(72228).B;return d.a.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";const e=n(72228).B;return d.a.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){const r=2===arguments.length?e:void 0,i=2===arguments.length?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=i,r){const e=this.createFromAlias(r);this.expressionMap.setMainAlias(e)}const o=n(49661).K;return d.a.isRelationQueryBuilder(this)?this:new o(this)}hasRelation(e,t){const n=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every((e=>!!n.findRelationWithPropertyPath(e)))}hasParameter(e){var t;return(null===(t=this.parentQueryBuilder)||void 0===t?void 0:t.hasParameter(e))||e in this.expressionMap.parameters}setParameter(e,t){if("function"==typeof t)throw new i.K_(`Function parameter isn't supported in the parameters. Please check "${e}" parameter.`);if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new i.K_("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(const[t,n]of Object.entries(e))this.setParameter(t,n);return this}createParameter(e){let t;do{t="orm_param_"+this.parameterIndex++}while(this.hasParameter(t));return this.setParameter(t,e),`:${t}`}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach((t=>{this.expressionMap.nativeParameters[t]=e[t]})),this}getParameters(){const e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){const n=t.childEntityMetadatas.filter((e=>e.discriminatorColumn)).map((e=>e.discriminatorValue));n.push(t.discriminatorValue),e.discriminatorColumnValues=n}}return e}printSql(){const[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){const e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){const[e,t]=this.getQueryAndParameters(),n=this.obtainQueryRunner();try{return await n.query(e,t)}finally{n!==this.queryRunner&&await n.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,n){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:n||{}}),this}getTableName(e){return e.split(".").map((e=>""===e?e:this.escape(e))).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new i.K_('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){const n=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:n.tablePath})}{if("string"==typeof e){const n="("===e.substr(0,1)&&")"===e.substr(-1);return this.expressionMap.createAlias({type:"from",name:t,tablePath:n?void 0:e,subQuery:n?e:void 0})}const n=e(this.subQuery());this.setParameters(n.getParameters());const r=n.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:r})}}replacePropertyNames(e){for(const n of this.expressionMap.aliases){if(!n.hasMetadata)continue;const r=this.expressionMap.aliasNamePrefixingEnabled?`${n.name}.`:"",i=this.expressionMap.aliasNamePrefixingEnabled?`${this.escape(n.name)}.`:"",o={};for(const e of n.metadata.relations)e.joinColumns.length>0&&(o[e.propertyPath]=e.joinColumns[0].databaseName);for(const e of n.metadata.relations)for(const t of[...e.joinColumns,...e.inverseJoinColumns]){const n=`${e.propertyPath}.${t.referencedColumn.propertyPath}`;o[n]=t.databaseName}for(const e of n.metadata.columns)o[e.databaseName]=e.databaseName;for(const e of n.metadata.columns)o[e.propertyName]=e.databaseName;for(const e of n.metadata.columns)o[e.propertyPath]=e.databaseName;e=e.replace(new RegExp(`([ =(]|^.{0})${t=r,t.replace(f,"\\$&")}([^ =(),]+)(?=[ =),]|.{0}$)`,"gm"),((e,t,n)=>o[n]?`${t}${i}${this.escape(o[n])}`:e))}var t;return e}createComment(){return this.expressionMap.comment?`/* ${this.expressionMap.comment.replace("*/","")} */ `:""}createWhereExpression(){const e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&"1=1"!==t&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if("select"===this.expressionMap.queryType&&!this.expressionMap.withDeleted&&t.deleteDateColumn){const n=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+t.deleteDateColumn.propertyName:t.deleteDateColumn.propertyName,r=`${this.replacePropertyNames(n)} IS NULL`;e.push(r)}if(t.discriminatorColumn&&t.parentEntityMetadata){const n=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+t.discriminatorColumn.databaseName:t.discriminatorColumn.databaseName,r=`${this.replacePropertyNames(n)} IN (:...discriminatorColumnValues)`;e.push(r)}}if(this.expressionMap.extraAppendedAndWhereCondition){const t=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(t)}return e.length?1===e.length?` WHERE ${e[0]}`:` WHERE ( ${e.join(" ) AND ( ")} )`:""}createReturningExpression(e){const t=this.getReturningColumns(),n=this.connection.driver;if("string"!=typeof this.expressionMap.returning&&this.expressionMap.extraReturningColumns.length>0&&n.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter((e=>-1===t.indexOf(e)))),t.length){let e=t.map((e=>{const t=this.escape(e.databaseName);return"mssql"===n.options.type?"insert"===this.expressionMap.queryType||"update"===this.expressionMap.queryType||"soft-delete"===this.expressionMap.queryType||"restore"===this.expressionMap.queryType?"INSERTED."+t:this.escape(this.getMainTableName())+"."+t:t})).join(", ");return"oracle"===n.options.type&&(e+=" INTO "+t.map((e=>this.createParameter({type:n.columnTypeToNativeParameter(e.type),dir:n.oracle.BIND_OUT}))).join(", ")),"mssql"===n.options.type&&("insert"!==this.expressionMap.queryType&&"update"!==this.expressionMap.queryType||(e+=" INTO @OutputTable")),e}return"string"==typeof this.expressionMap.returning?this.expressionMap.returning:""}getReturningColumns(){const e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach((t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))})),e}createWhereClausesExpression(e){return e.map(((e,t)=>{const n=this.createWhereConditionExpression(e.condition);switch(e.type){case"and":return(t>0?"AND ":"")+n;case"or":return(t>0?"OR ":"")+n}return n})).join(" ").trim()}createWhereConditionExpression(e,t=!1){if("string"==typeof e)return e;if(Array.isArray(e))return 0===e.length?"1=1":1!==e.length||t?"("+this.createWhereClausesExpression(e)+")":this.createWhereClausesExpression(e);const{driver:n}=this.connection;switch(e.operator){case"lessThan":return`${e.parameters[0]} < ${e.parameters[1]}`;case"lessThanOrEqual":return`${e.parameters[0]} <= ${e.parameters[1]}`;case"arrayContains":return`${e.parameters[0]} @> ${e.parameters[1]}`;case"arrayContainedBy":return`${e.parameters[0]} <@ ${e.parameters[1]}`;case"arrayOverlap":return`${e.parameters[0]} && ${e.parameters[1]}`;case"moreThan":return`${e.parameters[0]} > ${e.parameters[1]}`;case"moreThanOrEqual":return`${e.parameters[0]} >= ${e.parameters[1]}`;case"notEqual":return`${e.parameters[0]} != ${e.parameters[1]}`;case"equal":return`${e.parameters[0]} = ${e.parameters[1]}`;case"ilike":return"postgres"===n.options.type||"cockroachdb"===n.options.type?`${e.parameters[0]} ILIKE ${e.parameters[1]}`:`UPPER(${e.parameters[0]}) LIKE UPPER(${e.parameters[1]})`;case"like":return`${e.parameters[0]} LIKE ${e.parameters[1]}`;case"between":return`${e.parameters[0]} BETWEEN ${e.parameters[1]} AND ${e.parameters[2]}`;case"in":return e.parameters.length<=1?"0=1":`${e.parameters[0]} IN (${e.parameters.slice(1).join(", ")})`;case"any":return`${e.parameters[0]} = ANY(${e.parameters[1]})`;case"isNull":return`${e.parameters[0]} IS NULL`;case"not":return`NOT(${this.createWhereConditionExpression(e.condition)})`;case"brackets":return`${this.createWhereConditionExpression(e.condition,!0)}`}throw new TypeError(`Unsupported FindOperator ${h.constructor.name}`)}createCteExpression(){if(!this.hasCommonTableExpressions())return"";const e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map((t=>{const n="string"==typeof t.queryBuilder?t.queryBuilder:t.queryBuilder.getQuery();if("string"!=typeof t.queryBuilder){if(t.queryBuilder.hasCommonTableExpressions())throw new i.K_(`Nested CTEs aren't supported (CTE: ${t.alias})`);if(!this.connection.driver.cteCapabilities.writable&&!d.a.isSelectQueryBuilder(t.queryBuilder))throw new i.K_(`Only select queries are supported in CTEs in ${this.connection.options.type} (CTE: ${t.alias})`);this.setParameters(t.queryBuilder.getParameters())}let r=this.escape(t.alias);if(t.options.columnNames){const e=t.options.columnNames.map((e=>this.escape(e)));if(d.a.isSelectQueryBuilder(t.queryBuilder)&&t.queryBuilder.expressionMap.selects.length&&t.options.columnNames.length!==t.queryBuilder.expressionMap.selects.length)throw new i.K_(`cte.options.columnNames length (${t.options.columnNames.length}) doesn't match subquery select list length ${t.queryBuilder.expressionMap.selects.length} (CTE: ${t.alias})`);r+=`(${e.join(", ")})`}return[t.options.recursive&&e?"RECURSIVE":"",r,t.options.materialized&&this.connection.driver.cteCapabilities.materializedHint?"MATERIALIZED":"","AS",`(${n})`].filter(Boolean).join(" ")})).join(", ")+" "}getWhereInIdsCondition(e){const t=this.expressionMap.mainAlias.metadata,n=(Array.isArray(e)?e:[e]).map((e=>t.ensureEntityIdMap(e)));if(!t.hasMultiplePrimaryKeys){const e=t.primaryColumns[0];if(!e.transformer&&!e.relationMetadata&&!e.embeddedMetadata)return{[e.propertyName]:(r=n.map((t=>e.getEntityValue(t,!1))),new h("in",r,!0,!0))}}var r;return new l((e=>{for(const t of n)e.orWhere(new l((e=>e.where(t))))}))}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias;const n=[],r=e.split(".");for(;r.length>1;){const e=r[0];if(!(null==t?void 0:t.hasMetadata))break;if(t.metadata.hasEmbeddedWithPropertyPath(e))r.unshift(`${r.shift()}.${r.shift()}`);else{if(!t.metadata.hasRelationWithPropertyPath(e))break;{const i=this.expressionMap.joinAttributes.find((t=>t.relationPropertyPath===e));if(!(null==i?void 0:i.alias)){const t=n.length>0?`${n.join(".")}.${e}`:e;throw new Error(`Cannot find alias for relation at ${t}`)}t=i.alias,n.push(...e.split(".")),r.shift()}}}if(!t)throw new Error(`Cannot find alias for property ${e}`);const i=r.join("."),o=t.metadata.findColumnsWithPropertyPath(i);if(!o.length)throw new p.B(e,t.metadata);return[t,n,o]}createPropertyPath(e,t,n=""){const r=[];for(const i of Object.keys(t)){const o=n?`${n}.${i}`:i;if(null===t[i]||"object"!=typeof t[i]||d.a.isFindOperator(t[i]))r.push(o);else if(e.hasEmbeddedWithPropertyPath(o)){const n=this.createPropertyPath(e,t[i],o);r.push(...n)}else if(e.hasRelationWithPropertyPath(o)){const n=e.findRelationWithPropertyPath(o);if("one-to-one"===n.relationType||"many-to-one"===n.relationType){const e=n.joinColumns.map((e=>e.referencedColumn)).filter((e=>!!e));if(e.length>0&&e.every((e=>e.getEntityValue(t[i],!1)))){r.push(o);continue}}if("one-to-many"===n.relationType||"many-to-many"===n.relationType)throw new Error(`Cannot query across ${n.relationType} for property ${o}`);const s=n.inverseEntityMetadata.primaryColumns;if(s.length>0&&s.every((e=>e.getEntityValue(t[i],!1)))){const e=s.map((e=>`${o}.${e.propertyPath}`));r.push(...e);continue}const a=this.createPropertyPath(n.inverseEntityMetadata,t[i]).map((e=>`${o}.${e}`));r.push(...a)}else r.push(o)}return r}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){const t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(const n of t){const[t,r,i]=this.findColumnsForPropertyPath(n);for(const n of i){let i=e;for(const e of r){if(!i||!(e in i)){i={};break}i=i[e]}const o=this.expressionMap.aliasNamePrefixingEnabled?`${t.name}.${n.propertyPath}`:n.propertyPath,s=n.getEntityValue(i,!0);yield[o,s]}}}else for(const t of Object.keys(e)){const n=e[t],r=this.expressionMap.aliasNamePrefixingEnabled?`${this.alias}.${t}`:t;yield[r,n]}}getWherePredicateCondition(e,t){if(d.a.isFindOperator(t)){let n=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(const e of t.value)n.push(this.createParameter(e));else n.push(this.createParameter(t.value));return"raw"===t.type?t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]}:"not"===t.type?t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...n]}:{operator:t.type,parameters:[e,...n]}}return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if("string"==typeof e)return e;if(d.a.isBrackets(e)){const t=this.createQueryBuilder();return t.parentQueryBuilder=this,t.expressionMap.mainAlias=this.expressionMap.mainAlias,t.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,t.expressionMap.parameters=this.expressionMap.parameters,t.expressionMap.nativeParameters=this.expressionMap.nativeParameters,t.expressionMap.wheres=[],e.whereFactory(t),{operator:d.a.isNotBrackets(e)?"not":"brackets",condition:t.expressionMap.wheres}}if("function"==typeof e)return e(this);const t=Array.isArray(e)?e:[e],n=[];for(const e of t){const t=[];for(const[n,r]of this.getPredicates(e))t.push({type:"and",condition:this.getWherePredicateCondition(n,r)});n.push({type:"or",condition:t})}return 1===n.length?n[0].condition:n}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}}},16900:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});class r{static isAliasProperty(e){if("string"!=typeof e||-1===e.indexOf("."))return!1;const[t,n]=e.split(".");return!(!t||!n)&&(-1===e.indexOf("(")&&-1===e.indexOf(")"))}}},49661:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r=n(62003),i=n(84785),o=n(68199);class s{constructor(e,t){this.queryBuilder=e,this.expressionMap=t}async update(e){const t=this.expressionMap.relationMetadata;if(t.isManyToOne||t.isOneToOneOwner){const n=t.joinColumns.reduce(((t,n)=>{const r=o.g.isObject(e)?n.referencedColumn.getEntityValue(e):e;return n.setEntityValue(t,r),t}),{});if(!this.expressionMap.of||Array.isArray(this.expressionMap.of)&&!this.expressionMap.of.length)return;await this.queryBuilder.createQueryBuilder().update(t.entityMetadata.target).set(n).whereInIds(this.expressionMap.of).execute()}else if((t.isOneToOneNotOwner||t.isOneToMany)&&null===e){const e={};t.inverseRelation.joinColumns.forEach((t=>{e[t.propertyName]=null}));const n=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],r={},i=[];n.forEach(((e,n)=>{t.inverseRelation.joinColumns.map(((t,s)=>{const a="joinColumn_"+n+"_"+s;r[a]=o.g.isObject(e)?t.referencedColumn.getEntityValue(e):e,i.push(`${t.propertyPath} = :${a}`)}))}));const s=i.map((e=>"("+e+")")).join(" OR ");if(!s)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(e).where(s).setParameters(r).execute()}else if(t.isOneToOneNotOwner||t.isOneToMany){if(Array.isArray(this.expressionMap.of))throw new i.K_("You cannot update relations of multiple entities with the same related object. Provide a single entity into .of method.");const n=this.expressionMap.of,r=t.inverseRelation.joinColumns.reduce(((e,t)=>{const r=o.g.isObject(n)?t.referencedColumn.getEntityValue(n):n;return t.setEntityValue(e,r),e}),{});if(!e||Array.isArray(e)&&!e.length)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(r).whereInIds(e).execute()}else{const n=t.junctionEntityMetadata,r=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],i=Array.isArray(e)?e:[e],s=t.isManyToManyOwner?r:i,a=t.isManyToManyOwner?i:r,u=[];if(s.forEach((e=>{a.forEach((t=>{const r={};n.ownerColumns.forEach((t=>{r[t.databaseName]=o.g.isObject(e)?t.referencedColumn.getEntityValue(e):e})),n.inverseColumns.forEach((e=>{r[e.databaseName]=o.g.isObject(t)?e.referencedColumn.getEntityValue(t):t})),u.push(r)}))})),!u.length)return;"oracle"===this.queryBuilder.connection.driver.options.type||"sap"===this.queryBuilder.connection.driver.options.type?await Promise.all(u.map((e=>this.queryBuilder.createQueryBuilder().insert().into(n.tableName).values(e).execute()))):await this.queryBuilder.createQueryBuilder().insert().into(n.tableName).values(u).execute()}}}class a{constructor(e,t){this.queryBuilder=e,this.expressionMap=t}async remove(e){const t=this.expressionMap.relationMetadata;if(t.isOneToMany){const n=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],r=Array.isArray(e)?e:[e],i={};t.inverseRelation.joinColumns.forEach((e=>{i[e.propertyName]=null}));const s={},a=[];n.forEach(((e,n)=>{a.push(...r.map(((r,i)=>[...t.inverseRelation.joinColumns.map(((t,r)=>{const a="joinColumn_"+n+"_"+i+"_"+r;return s[a]=o.g.isObject(e)?t.referencedColumn.getEntityValue(e):e,`${t.propertyPath} = :${a}`})),...t.inverseRelation.entityMetadata.primaryColumns.map(((e,t)=>{const n="primaryColumn_"+i+"_"+i+"_"+t;return s[n]=o.g.isObject(r)?e.getEntityValue(r):r,`${e.propertyPath} = :${n}`}))].join(" AND "))))}));const u=a.map((e=>"("+e+")")).join(" OR ");if(!u)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(i).where(u).setParameters(s).execute()}else{const n=t.junctionEntityMetadata,r=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],i=Array.isArray(e)?e:[e],s=t.isManyToManyOwner?r:i,a=t.isManyToManyOwner?i:r,u={},c=[];s.forEach(((e,t)=>{c.push(...a.map(((r,i)=>[...n.ownerColumns.map(((n,r)=>{const s="firstValue_"+t+"_"+i+"_"+r;return u[s]=o.g.isObject(e)?n.referencedColumn.getEntityValue(e):e,`${n.databaseName} = :${s}`})),...n.inverseColumns.map(((e,n)=>{const s="secondValue_"+t+"_"+i+"_"+n;return u[s]=o.g.isObject(r)?e.referencedColumn.getEntityValue(r):r,`${e.databaseName} = :${s}`}))].join(" AND "))))}));const l=c.map((e=>"("+e+")")).join(" OR ");await this.queryBuilder.createQueryBuilder().delete().from(n.tableName).where(l).setParameters(u).execute()}}}class u extends r.z{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("RelationQueryBuilder")}getQuery(){return""}of(e){return this.expressionMap.of=e,this}async set(e){const t=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new i.K_("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(t.isManyToMany||t.isOneToMany)throw new i.K_(`Set operation is only supported for many-to-one and one-to-one relations. However given "${t.propertyPath}" has ${t.relationType} relation. Use .add() method instead.`);if(t.joinColumns&&t.joinColumns.length>1&&(!o.g.isObject(e)||Object.keys(e).length<t.joinColumns.length))throw new i.K_('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return new s(this,this.expressionMap).update(e)}async add(e){if(Array.isArray(e)&&0===e.length)return;const t=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new i.K_("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(t.isManyToOne||t.isOneToOne)throw new i.K_(`Add operation is only supported for many-to-many and one-to-many relations. However given "${t.propertyPath}" has ${t.relationType} relation. Use .set() method instead.`);if(t.joinColumns&&t.joinColumns.length>1&&(!o.g.isObject(e)||Object.keys(e).length<t.joinColumns.length))throw new i.K_('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return new s(this,this.expressionMap).update(e)}async remove(e){if(Array.isArray(e)&&0===e.length)return;const t=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new i.K_("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(t.isManyToOne||t.isOneToOne)throw new i.K_(`Add operation is only supported for many-to-many and one-to-many relations. However given "${t.propertyPath}" has ${t.relationType} relation. Use .set(null) method instead.`);return new a(this,this.expressionMap).remove(e)}async addAndRemove(e,t){await this.remove(t),await this.add(e)}async loadOne(){return this.loadMany().then((e=>e[0]))}async loadMany(){let e=this.expressionMap.of;if(!o.g.isObject(e)){const t=this.expressionMap.mainAlias.metadata;if(t.hasMultiplePrimaryKeys)throw new i.K_("Cannot load entity because only one primary key was specified, however entity contains multiple primary keys");e=t.primaryColumns[0].createValueMap(e)}return this.connection.relationLoader.load(this.expressionMap.relationMetadata,e,this.queryRunner)}}},80283:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(84785);class i{constructor(e,t){this.queryRunner=e,this.expressionMap=t}async update(e,t){const n=this.expressionMap.mainAlias.metadata;await Promise.all(t.map((async(t,i)=>{if(this.queryRunner.connection.driver.isReturningSqlSupported("update")){"oracle"===this.queryRunner.connection.driver.options.type&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce(((e,t,n)=>(e[this.expressionMap.extraReturningColumns[n].databaseName]=t[0],e)),{}));const r=Array.isArray(e.raw)?e.raw[i]:e.raw,o=this.queryRunner.connection.driver.createGeneratedMap(n,r);o&&(this.queryRunner.manager.merge(n.target,t,o),e.generatedMaps.push(o))}else{const i=this.expressionMap.extraReturningColumns;if(i.length>0){const o=this.expressionMap.mainAlias.metadata.getEntityIdMap(t);if(!o)throw new r.K_("Cannot update entity because entity id is not set in the entity.");const s=await this.queryRunner.manager.createQueryBuilder().select(n.primaryColumns.map((e=>n.targetName+"."+e.propertyPath))).addSelect(i.map((e=>n.targetName+"."+e.propertyPath))).from(n.target,n.targetName).where(o).withDeleted().setOption("create-pojo").getOne();s&&(this.queryRunner.manager.merge(n.target,t,s),e.generatedMaps.push(s))}}})))}async insert(e,t){const n=this.expressionMap.mainAlias.metadata;let i=n.getInsertionReturningColumns();const o=this.queryRunner.connection.driver.isReturningSqlSupported("insert");i=i.filter((e=>!e.isGenerated||!0===o));const s=t.map(((r,i)=>{"oracle"===this.queryRunner.connection.driver.options.type&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce(((e,t,n)=>(e[this.expressionMap.extraReturningColumns[n].databaseName]=t[0],e)),{}));const o=Array.isArray(e.raw)?e.raw[i]:e.raw,s=this.queryRunner.connection.driver.createGeneratedMap(n,o,i,t.length)||{};return i in this.expressionMap.locallyGenerated&&this.queryRunner.manager.merge(n.target,s,this.expressionMap.locallyGenerated[i]),this.queryRunner.manager.merge(n.target,r,s),s}));if(i.length>0&&!this.queryRunner.connection.driver.isReturningSqlSupported("insert")){const e=t.map((e=>{const t=n.getEntityIdMap(e);if(!t)throw new r.K_("Cannot update entity because entity id is not set in the entity.");return t})),o=await this.queryRunner.manager.createQueryBuilder().select(n.primaryColumns.map((e=>n.targetName+"."+e.propertyPath))).addSelect(i.map((e=>n.targetName+"."+e.propertyPath))).from(n.target,n.targetName).where(e).setOption("create-pojo").getMany();t.forEach(((e,t)=>{this.queryRunner.manager.merge(n.target,s[t],o[t]),this.queryRunner.manager.merge(n.target,e,o[t])}))}t.forEach(((t,r)=>{const i=n.getEntityIdMap(t);e.identifiers.push(i),e.generatedMaps.push(s[r])}))}getUpdationReturningColumns(){return this.expressionMap.mainAlias.metadata.columns.filter((e=>e.isUpdateDate||e.isVersion))}getSoftDeletionReturningColumns(){return this.expressionMap.mainAlias.metadata.columns.filter((e=>e.isUpdateDate||e.isVersion||e.isDeleteDate))}}},84144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});class r{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),((n,r)=>e.slice(r*t,r*t+t)))}static splitClassesAndStrings(e){return[e.filter((e=>"string"!=typeof e)),e.filter((e=>"string"==typeof e))]}static groupBy(e,t){return e.reduce(((e,n)=>{const r=t(n);let i=e.find((e=>e.id===r));return i||(i={id:r,items:[]},e.push(i)),i.items.push(n),e}),[])}static uniq(e,t){return e.reduce(((e,n)=>{let r=!1;if("function"==typeof t){const i=t(n);r=!!e.find((e=>t(e)===i))}else r="string"==typeof t?!!e.find((e=>e[t]===n[t])):-1!==e.indexOf(n);return r||e.push(n),e}),[])}static isPlainObject(e){return null!=e&&(!e.constructor||e.constructor===Object)}static mergeArrayKey(e,t,n,r){r.has(n)?e[t]=r.get(n):n instanceof Promise||(this.isPlainObject(n)||Array.isArray(n)?(e[t]||(e[t]=Array.isArray(n)?[]:{}),r.set(n,e[t]),this.merge(e[t],n,r),r.delete(n)):e[t]=n)}static mergeObjectKey(e,t,n,r){r.has(n)?Object.assign(e,{[t]:r.get(n)}):n instanceof Promise||(this.isPlainObject(n)||Array.isArray(n)?(e[t]||Object.assign(e,{[t]:Array.isArray(n)?[]:{}}),r.set(n,e[t]),this.merge(e[t],n,r),r.delete(n)):Object.assign(e,{[t]:n}))}static merge(e,t,n=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(const r of Object.keys(t))this.mergeObjectKey(e,r,t[r],n);if(Array.isArray(e)&&Array.isArray(t))for(let r=0;r<t.length;r++)this.mergeArrayKey(e,r,t[r],n)}static mergeDeep(e,...t){if(!t.length)return e;for(const n of t)r.merge(e,n);return e}static deepCompare(...e){let t,n,r,i;if(arguments.length<1)return!0;for(t=1,n=arguments.length;t<n;t++)if(r=[],i=[],!this.compare2Objects(r,i,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){const n=t.split(".");for(let t=0,r=n.length;t<r;t++)e=e[n[t]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&"object"==typeof e[t]&&(0===Object.keys(e[t]).length?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let n of e){const e=n.split(".");if(!e.length)continue;t[e[0]]&&!0!==t[e[0]]||(t[e[0]]={});let r=t[e[0]];for(let[t,n]of e.entries())0!==t&&(r[n]?r=r[n]:t===e.length-1?(r[n]={},r=null):(r[n]={},r=r[n]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return null!=e&&null!=t&&(("string"==typeof e.id&&"string"==typeof t.id||"number"==typeof e.id&&"number"==typeof t.id)&&1===Object.keys(e).length&&1===Object.keys(t).length?e.id===t.id:r.deepCompare(e,t))}static toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e?"true"===e||"1"===e:"number"==typeof e&&e>0}static zipObject(e,t){return e.reduce(((e,n,r)=>(e[n]=t[r],e)),{})}static isArraysEqual(e,t){return e.length===t.length&&e.every((e=>-1!==t.indexOf(e)))}static areMutuallyExclusive(...e){return!e.some((t=>{const n=e.filter((e=>e!==t));return t.some((e=>n.some((t=>t.includes(e)))))}))}static compare2Objects(e,t,n,r){let i;if(Number.isNaN(n)&&Number.isNaN(r))return!0;if(n===r)return!0;if(null===n||null===r||void 0===n||void 0===r)return!1;if(("function"==typeof n.equals||"function"==typeof n.equals)&&n.equals(r))return!0;if("function"==typeof n&&"function"==typeof r||n instanceof Date&&r instanceof Date||n instanceof RegExp&&r instanceof RegExp||"string"==typeof n&&"string"==typeof r||"number"==typeof n&&"number"==typeof r)return n.toString()===r.toString();if("object"!=typeof n||"object"!=typeof r)return!1;if(n.isPrototypeOf(r)||r.isPrototypeOf(n))return!1;if(n.constructor!==r.constructor)return!1;if(n.prototype!==r.prototype)return!1;if(e.indexOf(n)>-1||t.indexOf(r)>-1)return!1;for(i in r){if(r.hasOwnProperty(i)!==n.hasOwnProperty(i))return!1;if(typeof r[i]!=typeof n[i])return!1}for(i in n){if(r.hasOwnProperty(i)!==n.hasOwnProperty(i))return!1;if(typeof r[i]!=typeof n[i])return!1;switch(typeof n[i]){case"object":case"function":if(e.push(n),t.push(r),!this.compare2Objects(e,t,n[i],r[i]))return!1;e.pop(),t.pop();break;default:if(n[i]!==r[i])return!1}}return!0}}var i=n(22483),o=n(68199),s=n(48834).Buffer;class a{constructor(e,t,n,r,i){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=n,this.rawRelationCountResults=r,this.queryRunner=i}transform(e,t){const n=this.group(e,t),r=[];return n.forEach((e=>{const n=this.transformRawResultsGroup(e,t);void 0===n||Object.values(n).every((e=>null===e))||r.push(n)})),r}group(e,t){const n=new Map,r=[];return"view"===t.metadata.tableType?r.push(...t.metadata.columns.map((e=>i.z.buildAlias(this.driver,t.name,e.databaseName)))):r.push(...t.metadata.primaryColumns.map((e=>i.z.buildAlias(this.driver,t.name,e.databaseName)))),e.forEach((e=>{const t=r.map((t=>{const n=e[t];return s.isBuffer(n)?n.toString("hex"):o.g.isObject(n)?JSON.stringify(n):n})).join("_"),i=n.get(t);i?i.push(e):n.set(t,[e])})),n}transformRawResultsGroup(e,t){let n=t.metadata;if(n.discriminatorColumn){const r=e.map((e=>e[i.z.buildAlias(this.driver,t.name,t.metadata.discriminatorColumn.databaseName)])),o=n.childEntityMetadatas.find((e=>void 0!==r.find((t=>t===e.discriminatorValue))));o&&(n=o)}let r=n.create(this.queryRunner,{fromDeserializer:!0,pojo:-1!==this.expressionMap.options.indexOf("create-pojo")});const o=this.transformColumns(e,t,r,n),s=this.transformJoins(e,r,t,n),a=this.transformRelationIds(e,t,r,n),u=this.transformRelationCounts(e,t,r);if(o)return r;return 0===n.primaryColumns.filter((e=>!1===e.isVirtual)).length&&(s||a||u)?r:void 0}transformColumns(e,t,n,r){let o=!1;return r.columns.forEach((s=>{if(r.childEntityMetadatas.length>0&&-1!==r.childEntityMetadatas.findIndex((e=>e.target===s.target)))return;const a=e[0][i.z.buildAlias(this.driver,t.name,s.databaseName)];void 0===a||s.isVirtual||this.expressionMap.selects.find((e=>e.selection===t.name||e.selection===t.name+"."+s.propertyPath))&&(s.setEntityValue(n,this.driver.prepareHydratedValue(a,s)),null!==a&&(o=!0))})),o}transformJoins(e,t,n,r){let i=!1;return this.expressionMap.joinAttributes.forEach((o=>{if(!o.metadata)return;if(!o.isSelected)return;if(o.relation&&!r.relations.find((e=>e===o.relation)))return;if(o.mapToProperty){if(o.mapToPropertyParentAlias!==n.name)return}else if(!o.relation||o.parentAlias!==n.name||o.relationPropertyPath!==o.relation.propertyPath)return;let s=this.transform(e,o.alias);s=o.isMany?s:s[0],s=o.isMany||void 0!==s?s:null,void 0!==s&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=s:o.relation.setEntityValue(t,s),i=!0)})),i}transformRelationIds(e,t,n,r){let i=!1;return this.rawRelationIdResults.forEach(((r,o)=>{if(r.relationIdAttribute.parentAlias!==t.name)return;const s=r.relationIdAttribute.relation,a=this.createValueMapFromJoinColumns(s,r.relationIdAttribute.parentAlias,e);if(null==a)return;this.prepareDataForTransformRelationIds();const u=this.hashEntityIds(s,a),c=this.relationIdMaps[o][u]||[],l=r.relationIdAttribute.mapToPropertyPropertyPath.split("."),d=(e,t,n)=>{const r=e.shift();return r&&0===e.length?(t[r]=n,t):r&&e.length>0?void d(e,t[r],n):t};s.isOneToOne||s.isManyToOne?void 0!==c[0]&&(d(l,n,c[0]),i=!0):(d(l,n,c),i=i||c.length>0)})),i}transformRelationCounts(e,t,n){let r=!1;return this.rawRelationCountResults.filter((e=>e.relationCountAttribute.parentAlias===t.name)).forEach((o=>{const s=o.relationCountAttribute.relation;let a;a=s.isOneToMany?s.inverseRelation.joinColumns[0].referencedColumn.databaseName:s.isOwning?s.joinColumns[0].referencedColumn.databaseName:s.inverseRelation.joinColumns[0].referencedColumn.databaseName;const u=e[0][i.z.buildAlias(this.driver,t.name,a)];null!=u&&(n[o.relationCountAttribute.mapToPropertyPropertyName]=0,o.results.filter((e=>e.parentId===u)).forEach((e=>{n[o.relationCountAttribute.mapToPropertyPropertyName]=parseInt(e.cnt),r=!0})))})),r}createValueMapFromJoinColumns(e,t,n){let r;return r=e.isManyToOne||e.isOneToOneOwner?e.entityMetadata.primaryColumns.map((e=>e)):e.isOneToMany||e.isOneToOneNotOwner?e.inverseRelation.joinColumns.map((e=>e)):e.isOwning?e.joinColumns.map((e=>e)):e.inverseRelation.inverseJoinColumns.map((e=>e)),r.reduce(((r,o)=>(n.forEach((n=>{e.isManyToOne||e.isOneToOneOwner?r[o.databaseName]=this.driver.prepareHydratedValue(n[i.z.buildAlias(this.driver,t,o.databaseName)],o):r[o.databaseName]=this.driver.prepareHydratedValue(n[i.z.buildAlias(this.driver,t,o.referencedColumn.databaseName)],o)})),r)),{})}extractEntityPrimaryIds(e,t){let n;return n=e.isManyToOne||e.isOneToOneOwner?e.entityMetadata.primaryColumns.map((e=>e)):e.isOneToMany||e.isOneToOneNotOwner?e.inverseRelation.joinColumns.map((e=>e)):e.isOwning?e.joinColumns.map((e=>e)):e.inverseRelation.inverseJoinColumns.map((e=>e)),n.reduce(((e,n)=>(e[n.databaseName]=t[n.databaseName],e)),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map((e=>{const t=e.relationIdAttribute.relation;let n;return n=t.isManyToOne||t.isOneToOneOwner?t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?t.inverseEntityMetadata.primaryColumns:t.isOwning?t.inverseJoinColumns:t.inverseRelation.joinColumns,e.results.reduce(((i,o)=>{let s=n.reduce(((e,n)=>{let i=o[n.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(n.isVirtual&&n.referencedColumn&&n.referencedColumn.propertyName!==n.propertyName&&(i=n.referencedColumn.createValueMap(i)),r.mergeDeep(e,n.createValueMap(i))):(!n.isPrimary&&n.referencedColumn.referencedColumn&&(i=n.referencedColumn.referencedColumn.createValueMap(i)),r.mergeDeep(e,n.referencedColumn.createValueMap(i)))}),{});if(1!==n.length||e.relationIdAttribute.disableMixedMap||(s=t.isOneToMany||t.isOneToOneNotOwner?n[0].getEntityValue(s):n[0].referencedColumn.getEntityValue(s)),void 0!==s){const e=this.hashEntityIds(t,o);i[e]?i[e].push(s):i[e]=[s]}return i}),{})})))}hashEntityIds(e,t){const n=this.extractEntityPrimaryIds(e,t);return JSON.stringify(n)}}var u=n(9013),c=n(88686),l=n(21480),d=n(79853),h=n(54128),p=n(53199),f=n(85960),y=n(7104);class m{constructor(e,t,n){this.connection=e,this.queryRunner=t,this.relationIdAttributes=n}async load(e){const t=this.relationIdAttributes.map((async t=>{if(t.relation.isManyToOne||t.relation.isOneToOneOwner){if(t.queryBuilderFactory)throw new y.K("Additional condition can not be used with ManyToOne or OneToOne owner relations.");const n={},r=e.map((e=>{const r={},o=[];t.relation.joinColumns.forEach((n=>{r[n.databaseName]=this.connection.driver.prepareHydratedValue(e[i.z.buildAlias(this.connection.driver,t.parentAlias,n.databaseName)],n.referencedColumn);const s=`${n.databaseName}:${r[n.databaseName]}`;-1===o.indexOf(s)&&o.push(s)})),t.relation.entityMetadata.primaryColumns.forEach((n=>{r[n.databaseName]=this.connection.driver.prepareHydratedValue(e[i.z.buildAlias(this.connection.driver,t.parentAlias,n.databaseName)],n);const s=`${n.databaseName}:${r[n.databaseName]}`;-1===o.indexOf(s)&&o.push(s)})),o.sort();const s=o.join("::");return n[s]?null:(n[s]=!0,r)})).filter((e=>e));return{relationIdAttribute:t,results:r}}if(t.relation.isOneToMany||t.relation.isOneToOneNotOwner){const n=t.relation,o=n.isOwning?n.joinColumns:n.inverseRelation.joinColumns,s=n.inverseEntityMetadata.target,a=n.inverseEntityMetadata.tableName,u=t.alias||a,c={},l={},d=e.map(((e,n)=>{const r=[],s={},a=o.map((o=>{const a=o.databaseName+n,c=e[i.z.buildAlias(this.connection.driver,t.parentAlias,o.referencedColumn.databaseName)],l=`${u}:${o.propertyPath}:${c}`;return-1!==r.indexOf(l)?"":(r.push(l),s[a]=c,u+"."+o.propertyPath+" = :"+a)})).filter((e=>e)).join(" AND ");r.sort();const d=r.join("::");return c[d]?"":(c[d]=!0,Object.assign(l,s),a)})).filter((e=>e)).map((e=>"("+e+")")).join(" OR ");if(!d)return{relationIdAttribute:t,results:[]};const h=this.connection.createQueryBuilder(this.queryRunner);r.uniq([...o,...n.inverseRelation.entityMetadata.primaryColumns],(e=>e.propertyPath)).forEach((e=>{h.addSelect(u+"."+e.propertyPath,e.databaseName)})),h.from(s,u).where("("+d+")").setParameters(l),t.queryBuilderFactory&&t.queryBuilderFactory(h);const p=await h.getRawMany();return p.forEach((e=>{o.forEach((t=>{e[t.databaseName]=this.connection.driver.prepareHydratedValue(e[t.databaseName],t.referencedColumn)})),n.inverseRelation.entityMetadata.primaryColumns.forEach((t=>{e[t.databaseName]=this.connection.driver.prepareHydratedValue(e[t.databaseName],t)}))})),{relationIdAttribute:t,results:p}}{const n=t.relation,r=n.isOwning?n.joinColumns:n.inverseRelation.inverseJoinColumns,o=n.isOwning?n.inverseJoinColumns:n.inverseRelation.joinColumns,s=t.junctionAlias,a=t.joinInverseSideMetadata.tableName,u=t.alias||a,c=n.isOwning?n.junctionEntityMetadata.tableName:n.inverseRelation.junctionEntityMetadata.tableName,l=e.map((e=>r.reduce(((n,r)=>(n[r.propertyPath]=e[i.z.buildAlias(this.connection.driver,t.parentAlias,r.referencedColumn.databaseName)],n)),{})));if(0===l.length)return{relationIdAttribute:t,results:[]};const d={},h={},p=l.map(((e,t)=>{const n=[],r={},i=Object.keys(e).map((i=>{const o=i+t,a=e[i],u=`${s}:${i}:${a}`;return-1!==n.indexOf(u)?"":(n.push(u),r[o]=a,s+"."+i+" = :"+o)})).filter((e=>e)).join(" AND ");n.sort();const o=n.join("::");return h[o]?"":(h[o]=!0,Object.assign(d,r),i)})).filter((e=>e)),f=o.map((e=>s+"."+e.propertyPath+" = "+u+"."+e.referencedColumn.propertyPath)).join(" AND "),y=p.map((e=>"("+e+" AND "+f+")")).join(" OR "),m=this.connection.createQueryBuilder(this.queryRunner);o.forEach((e=>{m.addSelect(s+"."+e.propertyPath,e.databaseName).addOrderBy(s+"."+e.propertyPath)})),r.forEach((e=>{m.addSelect(s+"."+e.propertyPath,e.databaseName).addOrderBy(s+"."+e.propertyPath)})),m.from(a,u).innerJoin(c,s,y).setParameters(d),t.queryBuilderFactory&&t.queryBuilderFactory(m);const g=await m.getRawMany();return g.forEach((e=>{[...r,...o].forEach((t=>{e[t.databaseName]=this.connection.driver.prepareHydratedValue(e[t.databaseName],t.referencedColumn)}))})),{relationIdAttribute:t,results:g}}}));return Promise.all(t)}}class g{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach((e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)})),this.expressionMap.joinAttributes.forEach((e=>{e.metadata&&!e.metadata.isJunction&&e.metadata.relationIds.forEach((t=>{const n=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(n)}))}))}metadataToAttribute(e,t){return new p.b(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class v{constructor(e,t,n){this.connection=e,this.queryRunner=t,this.relationCountAttributes=n}async load(e){const t=(e,t,n)=>n.indexOf(e)===t,n=this.relationCountAttributes.map((async n=>{if(n.relation.isOneToMany){const r=n.relation,i=r.inverseRelation,o=i.joinColumns[0].referencedColumn.propertyName,s=r.inverseEntityMetadata.target,a=r.inverseEntityMetadata.tableName,u=n.alias||a,c=i.propertyName;let l=e.map((e=>e[n.parentAlias+"_"+o])).filter((e=>!!e));if(l=l.filter(t),0===l.length)return{relationCountAttribute:n,results:[]};const d=this.connection.createQueryBuilder(this.queryRunner);return d.select(u+"."+c,"parentId").addSelect("COUNT(*)","cnt").from(s,u).where(u+"."+c+" IN (:...ids)").addGroupBy(u+"."+c).setParameter("ids",l),n.queryBuilderFactory&&n.queryBuilderFactory(d),{relationCountAttribute:n,results:await d.getRawMany()}}{let r,i,o,s;n.relation.isOwning?(r=n.relation.joinColumns[0].referencedColumn.databaseName,i=n.relation.inverseJoinColumns[0].referencedColumn.databaseName,o=n.relation.junctionEntityMetadata.columns[0],s=n.relation.junctionEntityMetadata.columns[1]):(r=n.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,i=n.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,o=n.relation.junctionEntityMetadata.columns[1],s=n.relation.junctionEntityMetadata.columns[0]);let a=e.map((e=>e[n.parentAlias+"_"+r])).filter((e=>!!e));if(a=a.filter(t),0===a.length)return{relationCountAttribute:n,results:[]};const u=n.junctionAlias,c=n.joinInverseSideMetadata.tableName,l=n.alias||c,d=n.relation.junctionEntityMetadata.tableName,h=u+"."+o.propertyName+" IN ("+a.map((e=>isNaN(e)?"'"+e+"'":e))+") AND "+u+"."+s.propertyName+" = "+l+"."+i,p=this.connection.createQueryBuilder(this.queryRunner);return p.select(u+"."+o.propertyName,"parentId").addSelect("COUNT("+p.escape(l)+"."+p.escape(i)+")","cnt").from(c,l).innerJoin(d,u,h).addGroupBy(u+"."+o.propertyName),n.queryBuilderFactory&&n.queryBuilderFactory(p),{relationCountAttribute:n,results:await p.getRawMany()}}}));return Promise.all(n)}}class b{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach((e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)})),this.expressionMap.joinAttributes.forEach((e=>{e.metadata&&!e.metadata.isJunction&&e.metadata.relationCounts.forEach((t=>{const n=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(n)}))}))}metadataToAttribute(e,t){return new f.$(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}var w=n(62003),_=n(23481),S=n(45689),E=n(4027),x=n(84785),A=n(887);class k{static transformFrom(e,t){if(Array.isArray(e)){return e.slice().reverse().reduce(((e,t)=>t.from(e)),t)}return e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce(((e,t)=>t.to(e)),t):e.to(t)}}var T=n(88305),M=n(37384);class C extends w.z{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),e}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){const e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map((e=>({selection:e})));else if("function"==typeof e){const n=e(this.subQuery());this.setParameters(n.getParameters()),this.expressionMap.selects.push({selection:n.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map((e=>({selection:e}))));else if("function"==typeof e){const n=e(this.subQuery());this.setParameters(n.getParameters()),this.expressionMap.selects.push({selection:n.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}from(e,t){const n=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(n),this}addFrom(e,t){const n=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(n),this}innerJoin(e,t,n,r){return this.join("INNER",e,t,n,r),this}leftJoin(e,t,n,r){return this.join("LEFT",e,t,n,r),this}innerJoinAndSelect(e,t,n,r){return this.addSelect(t),this.innerJoin(e,t,n,r),this}leftJoinAndSelect(e,t,n,r){return this.addSelect(t),this.leftJoin(e,t,n,r),this}innerJoinAndMapMany(e,t,n,r,i){return this.addSelect(n),this.join("INNER",t,n,r,i,e,!0),this}innerJoinAndMapOne(e,t,n,r,i){return this.addSelect(n),this.join("INNER",t,n,r,i,e,!1),this}leftJoinAndMapMany(e,t,n,r,i){return this.addSelect(n),this.join("LEFT",t,n,r,i,e,!0),this}leftJoinAndMapOne(e,t,n,r,i){return this.addSelect(n),this.join("LEFT",t,n,r,i,e,!1),this}loadRelationIdAndMap(e,t,n,r){const i=new p.b(this.expressionMap);return i.mapToProperty=e,i.relationName=t,"string"==typeof n&&(i.alias=n),"object"==typeof n&&n.disableMixedMap&&(i.disableMixedMap=!0),i.queryBuilderFactory=r,this.expressionMap.relationIdAttributes.push(i),i.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:i.junctionAlias,metadata:i.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,n,r){const i=new f.$(this.expressionMap);return i.mapToProperty=e,i.relationName=t,i.alias=n,i.queryBuilderFactory=r,this.expressionMap.relationCountAttributes.push(i),this.expressionMap.createAlias({type:"other",name:i.junctionAlias}),i.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:i.junctionAlias,metadata:i.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach((t=>{void 0!==e&&void 0!==e.relations&&-1===e.relations.indexOf(t.propertyPath)||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)})),this}where(e,t){this.expressionMap.wheres=[];const n=this.getWhereCondition(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return this.expressionMap.groupBys=e?[e]:[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}orderBy(e,t="ASC",n){if(void 0!==t&&"ASC"!==t&&"DESC"!==t)throw new x.K_('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(void 0!==n&&"NULLS FIRST"!==n&&"NULLS LAST"!==n)throw new x.K_('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return this.expressionMap.orderBys=e?"object"==typeof e?e:n?{[e]:{order:t,nulls:n}}:{[e]:t}:{},this}addOrderBy(e,t="ASC",n){if(void 0!==t&&"ASC"!==t&&"DESC"!==t)throw new x.K_('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(void 0!==n&&"NULLS FIRST"!==n&&"NULLS LAST"!==n)throw new x.K_('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return this.expressionMap.orderBys[e]=n?{order:t,nulls:n}:t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),void 0!==this.expressionMap.limit&&isNaN(this.expressionMap.limit))throw new x.K_('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),void 0!==this.expressionMap.offset&&isNaN(this.expressionMap.offset))throw new x.K_('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),void 0!==this.expressionMap.take&&isNaN(this.expressionMap.take))throw new x.K_('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),void 0!==this.expressionMap.skip&&isNaN(this.expressionMap.skip))throw new x.K_('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,n){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=n,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if("optimistic"===this.expressionMap.lockMode)throw new d.Y;this.expressionMap.queryEntity=!1;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0);const n=await this.loadRawResults(e);return t&&await e.commitTransaction(),n}catch(n){if(t)try{await e.rollbackTransaction()}catch(e){}throw n}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const n=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),n}catch(n){if(t)try{await e.rollbackTransaction()}catch(e){}throw n}finally{e!==this.queryRunner&&await e.release()}}async getOne(){const e=(await this.getRawAndEntities()).entities[0];if(e&&"optimistic"===this.expressionMap.lockMode&&this.expressionMap.lockVersion){const t=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){const n=t.updateDateColumn.getEntityValue(e);if(n.getTime()!==this.expressionMap.lockVersion.getTime())throw new l.Z(t.name,this.expressionMap.lockVersion,n)}else{const n=t.versionColumn.getEntityValue(e);if(n!==this.expressionMap.lockVersion)throw new l.Z(t.name,this.expressionMap.lockVersion,n)}}return void 0===e?null:e}async getOneOrFail(){const e=await this.getOne();if(!e)throw new E.E(this.expressionMap.mainAlias.target,this);return e}async getMany(){if("optimistic"===this.expressionMap.lockMode)throw new d.Y;return(await this.getRawAndEntities()).entities}async getCount(){if("optimistic"===this.expressionMap.lockMode)throw new d.Y;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const n=await this.executeCountQuery(e);return t&&await e.commitTransaction(),n}catch(n){if(t)try{await e.rollbackTransaction()}catch(e){}throw n}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if("optimistic"===this.expressionMap.lockMode)throw new d.Y;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const n=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;const r=this.expressionMap.cacheId;this.expressionMap.cacheId=r?`${r}-count`:r;const i=await this.executeCountQuery(e),o=[n.entities,i];return t&&await e.commitTransaction(),o}catch(n){if(t)try{await e.rollbackTransaction()}catch(e){}throw n}finally{e!==this.queryRunner&&await e.release()}}async stream(){this.expressionMap.queryEntity=!1;const[e,t]=this.getQueryAndParameters(),n=this.obtainQueryRunner();let r=!1;try{!0===this.expressionMap.useTransaction&&!1===n.isTransactionActive&&(await n.startTransaction(),r=!0);const i=()=>{if(n!==this.queryRunner)return n.release()},o=n.stream(e,t,i,i);return r&&await n.commitTransaction(),o}catch(e){if(r)try{await n.rollbackTransaction()}catch(e){}throw e}}cache(e,t){return"boolean"==typeof e?this.expressionMap.cache=e:"number"==typeof e?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):"string"!=typeof e&&"number"!=typeof e||(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,n,r,i,o,s){this.setParameters(i||{});const a=new h.k(this.connection,this.expressionMap);if(a.direction=e,a.mapToProperty=o,a.isMappingMany=s,a.entityOrProperty=t,a.condition=r||void 0,this.expressionMap.joinAttributes.push(a),a.metadata){if(a.metadata.deleteDateColumn&&!this.expressionMap.withDeleted){const e=`${n}.${a.metadata.deleteDateColumn.propertyName} IS NULL`;a.condition=a.condition?` ${a.condition} AND ${e}`:`${e}`}a.alias=this.expressionMap.createAlias({type:"join",name:n,metadata:a.metadata}),a.relation&&a.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:a.junctionAlias,metadata:a.relation.junctionEntityMetadata})}else{let e="";if("function"==typeof t){const n=t(this.subQuery());this.setParameters(n.getParameters()),e=n.getQuery()}else e=t;const r="function"==typeof t||"("===t.substr(0,1)&&")"===t.substr(-1);a.alias=this.expressionMap.createAlias({type:"join",name:n,tablePath:!1===r?t:void 0,subQuery:!0===r?e:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new x.K_("Cannot build query because main alias is not set (call qb#from method)");const e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){const n=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,n)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,n))}this.expressionMap.joinAttributes.forEach((n=>{if(n.metadata)e.push(...this.buildEscapedEntityColumnSelects(n.alias.name,n.metadata)),t.push(...this.findEntityColumnSelects(n.alias.name,n.metadata));else{const r=this.expressionMap.selects.some((e=>e.selection===n.alias.name));if(r){e.push({selection:this.escape(n.alias.name)+".*"});const r=this.expressionMap.selects.find((e=>e.selection===n.alias.name));t.push(r)}}})),this.expressionMap.selects.filter((e=>-1===t.indexOf(e))).forEach((t=>e.push({selection:this.replacePropertyNames(t.selection),aliasName:t.aliasName}))),0===e.length&&e.push({selection:"*"});let n="";this.expressionMap.useIndex&&i.z.isMySQLFamily(this.connection.driver)&&(n=` USE INDEX (${this.expressionMap.useIndex})`);const r=this.expressionMap.aliases.filter((e=>"from"===e.type&&(e.tablePath||e.subQuery))).map((e=>e.subQuery?e.subQuery+" "+this.escape(e.name):this.getTableName(e.tablePath)+" "+this.escape(e.name))),o=this.createSelectDistinctExpression(),s=e.map((e=>e.selection+(e.aliasName?" AS "+this.escape(e.aliasName):""))).join(", ");return o+s+" FROM "+r.join(", ")+this.createTableLockExpression()+n}createSelectDistinctExpression(){const{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:n}=this.expressionMap,{driver:r}=this.connection;let o="SELECT ";if(n>0&&i.z.isMySQLFamily(r)&&(o+=`/*+ MAX_EXECUTION_TIME(${this.expressionMap.maxExecutionTime}) */ `),"postgres"===r.options.type&&t.length>0){o=`SELECT DISTINCT ON (${t.map((e=>this.replacePropertyNames(e))).join(", ")}) `}else e&&(o="SELECT DISTINCT ");return o}createJoinExpression(){return this.expressionMap.joinAttributes.map((e=>{const t=e.relation,n=e.tablePath,r=e.alias.name;let i=e.condition?" AND ("+e.condition+")":"";const o=e.parentAlias;if(!o||!t){const t=e.alias.subQuery?e.alias.subQuery:this.getTableName(n);return" "+e.direction+" JOIN "+t+" "+this.escape(r)+this.createTableLockExpression()+(e.condition?" ON "+this.replacePropertyNames(e.condition):"")}if(t.isManyToOne||t.isOneToOneOwner){const s=t.joinColumns.map((e=>r+"."+e.referencedColumn.propertyPath+"="+o+"."+t.propertyPath+"."+e.referencedColumn.propertyPath)).join(" AND ");return" "+e.direction+" JOIN "+this.getTableName(n)+" "+this.escape(r)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(s+i)}if(t.isOneToMany||t.isOneToOneNotOwner){const s=t.inverseRelation.joinColumns.map((e=>("entity-child"===t.inverseEntityMetadata.tableType&&t.inverseEntityMetadata.discriminatorColumn&&(i+=" AND "+r+"."+t.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+t.inverseEntityMetadata.discriminatorValue+"'"),r+"."+t.inverseRelation.propertyPath+"."+e.referencedColumn.propertyPath+"="+o+"."+e.referencedColumn.propertyPath))).join(" AND ");return" "+e.direction+" JOIN "+this.getTableName(n)+" "+this.escape(r)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(s+i)}{const s=t.junctionEntityMetadata.tablePath,a=e.junctionAlias;let u="",c="";return t.isOwning?(u=t.joinColumns.map((e=>a+"."+e.propertyPath+"="+o+"."+e.referencedColumn.propertyPath)).join(" AND "),c=t.inverseJoinColumns.map((e=>r+"."+e.referencedColumn.propertyPath+"="+a+"."+e.propertyPath)).join(" AND ")):(u=t.inverseRelation.inverseJoinColumns.map((e=>a+"."+e.propertyPath+"="+o+"."+e.referencedColumn.propertyPath)).join(" AND "),c=t.inverseRelation.joinColumns.map((e=>r+"."+e.referencedColumn.propertyPath+"="+a+"."+e.propertyPath)).join(" AND "))," "+e.direction+" JOIN "+this.getTableName(s)+" "+this.escape(a)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(u)+" "+e.direction+" JOIN "+this.getTableName(n)+" "+this.escape(r)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(c+i)}})).join(" ")}createGroupByExpression(){return this.expressionMap.groupBys&&this.expressionMap.groupBys.length?" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", ")):""}createOrderByExpression(){const e=this.expressionMap.allOrderBys;return Object.keys(e).length>0?" ORDER BY "+Object.keys(e).map((t=>"string"==typeof e[t]?this.replacePropertyNames(t)+" "+e[t]:this.replacePropertyNames(t)+" "+e[t].order+" "+e[t].nulls)).join(", "):""}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(e||t||0!==this.expressionMap.joinAttributes.length||(e=this.expressionMap.skip,t=this.expressionMap.take),"mssql"===this.connection.driver.options.type){let n="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(n=" ORDER BY (SELECT NULL)"),t&&e)return n+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return n+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return n+" OFFSET "+e+" ROWS"}else if(i.z.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type||"sap"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new S.G}else if(i.z.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if("oracle"===this.connection.driver.options.type){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if("mssql"===this.connection.driver.options.type)switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){const e=this.connection.driver;let t="";if(this.expressionMap.lockTables){if("postgres"!==e.options.type&&"cockroachdb"!==e.options.type)throw new x.K_("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new x.K_("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}switch(this.expressionMap.lockMode){case"pessimistic_read":if(i.z.isMySQLFamily(e)||"aurora-mysql"===e.options.type)return" LOCK IN SHARE MODE";if("postgres"===e.options.type)return" FOR SHARE"+t;if("oracle"===e.options.type)return" FOR UPDATE";if("mssql"===e.options.type)return"";throw new _.A;case"pessimistic_write":if(i.z.isMySQLFamily(e)||"aurora-mysql"===e.options.type||"oracle"===e.options.type)return" FOR UPDATE";if("postgres"===e.options.type||"cockroachdb"===e.options.type)return" FOR UPDATE"+t;if("mssql"===e.options.type)return"";throw new _.A;case"pessimistic_partial_write":if("postgres"===e.options.type)return" FOR UPDATE"+t+" SKIP LOCKED";if(i.z.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new _.A;case"pessimistic_write_or_fail":if("postgres"===e.options.type||"cockroachdb"===e.options.type)return" FOR UPDATE"+t+" NOWAIT";if(i.z.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new _.A;case"for_no_key_update":if("postgres"===e.options.type||"cockroachdb"===e.options.type)return" FOR NO KEY UPDATE"+t;throw new _.A;case"for_key_share":if("postgres"===e.options.type)return" FOR KEY SHARE"+t;throw new _.A;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";const e=this.expressionMap.havings.map(((e,t)=>{switch(e.type){case"and":return(t>0?"AND ":"")+this.replacePropertyNames(e.condition);case"or":return(t>0?"OR ":"")+this.replacePropertyNames(e.condition);default:return this.replacePropertyNames(e.condition)}})).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){const n=this.expressionMap.selects.some((t=>t.selection===e)),r=[];if(n&&r.push(...t.columns.filter((e=>!0===e.isSelect))),r.push(...t.columns.filter((t=>this.expressionMap.selects.some((n=>n.selection===e+"."+t.propertyPath))))),0===r.length)return[];const o=this.expressionMap.queryEntity?t.primaryColumns.filter((e=>-1===r.indexOf(e))):[],s=[...r,...o],a=[];return s.forEach((t=>{let r=this.escape(e)+"."+this.escape(t.databaseName);if(-1!==this.connection.driver.spatialTypes.indexOf(t.type)){if(i.z.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type){const e=this.connection.driver.options.legacySpatialSupport;r=`${e?"AsText":"ST_AsText"}(${r})`}"postgres"===this.connection.driver.options.type&&(r=t.precision?`ST_AsGeoJSON(${r}, ${t.precision})::json`:`ST_AsGeoJSON(${r})::json`),"mssql"===this.connection.driver.options.type&&(r=`${r}.ToString()`)}const o=this.expressionMap.selects.filter((n=>n.selection===e+"."+t.propertyPath));o.length?o.forEach((n=>{a.push({selection:r,aliasName:n.aliasName?n.aliasName:i.z.buildAlias(this.connection.driver,e,t.databaseName),virtual:n.virtual})})):a.push({selection:r,aliasName:i.z.buildAlias(this.connection.driver,e,t.databaseName),virtual:n})})),a}findEntityColumnSelects(e,t){const n=this.expressionMap.selects.find((t=>t.selection===e));return n?[n]:this.expressionMap.selects.filter((n=>t.columns.some((t=>n.selection===e+"."+t.propertyPath))))}computeCountExpression(){const e=this.expressionMap.mainAlias.name,t=this.expressionMap.mainAlias.metadata.primaryColumns,n=this.escape(e);if(0===this.expressionMap.joinAttributes.length&&0===this.expressionMap.relationIdAttributes.length&&0===this.expressionMap.relationCountAttributes.length)return"COUNT(1)";if("cockroachdb"===this.connection.driver.options.type||"postgres"===this.connection.driver.options.type)return"COUNT(DISTINCT("+t.map((e=>`${n}.${this.escape(e.databaseName)}`)).join(", ")+"))";if(i.z.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+t.map((e=>`${n}.${this.escape(e.databaseName)}`)).join(", ")+")";if("mssql"===this.connection.driver.options.type){const e=t.map((e=>`${n}.${this.escape(e.databaseName)}`)).join(", '|;|', ");return 1===t.length?`COUNT(DISTINCT(${e}))`:`COUNT(DISTINCT(CONCAT(${e})))`}if("spanner"===this.connection.driver.options.type){if(1===t.length)return`COUNT(DISTINCT(${n}.${this.escape(t[0].databaseName)}))`;return`COUNT(DISTINCT(CONCAT(${t.map((e=>`CAST(${n}.${this.escape(e.databaseName)} AS STRING)`)).join(", '|;|', ")})))`}return"COUNT(DISTINCT("+t.map((e=>`${n}.${this.escape(e.databaseName)}`)).join(" || '|;|' || ")+"))"}async executeCountQuery(e){const t=this.computeCountExpression(),n=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return n&&n[0]&&n[0].cnt?parseInt(n[0].cnt):0}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){const e=Array.isArray(this.findOptions.select)?r.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){const e=Array.isArray(this.findOptions.relations)?r.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,"object"==typeof this.findOptions.select?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),!1!==this.findOptions.loadEagerRelations&&"join"===this.expressionMap.relationLoadStrategy&&this.buildEagerRelations(e,"object"==typeof this.findOptions.select?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere("("!==this.conditions.substr(0,1)?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach((e=>{e.select&&!e.selection?"inner"===e.type?this.innerJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):"inner"===e.type?this.innerJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias)})),void 0!==this.findOptions.skip&&this.skip(this.findOptions.skip),void 0!==this.findOptions.take&&this.take(this.findOptions.take),"number"==typeof this.findOptions.cache||"boolean"==typeof this.findOptions.cache?this.cache(this.findOptions.cache):"object"==typeof this.findOptions.cache&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach((e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)})),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach((e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)})),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach((e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)})),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach((e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)}))),this.findOptions.lock)if("optimistic"===this.findOptions.lock.mode)this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if("pessimistic_read"===this.findOptions.lock.mode||"pessimistic_write"===this.findOptions.lock.mode||"dirty_read"===this.findOptions.lock.mode||"pessimistic_partial_write"===this.findOptions.lock.mode||"pessimistic_write_or_fail"===this.findOptions.lock.mode||"for_no_key_update"===this.findOptions.lock.mode||"for_key_share"===this.findOptions.lock.mode){const e=this.findOptions.lock.tables?this.findOptions.lock.tables.map((e=>{const t=this.expressionMap.aliases.find((t=>t.metadata.tableNameWithoutPrefix===e));if(!t)throw new x.K_(`"${e}" is not part of this query`);return this.escape(t.name)})):void 0;this.setLock(this.findOptions.lock.mode,void 0,e)}!0===this.findOptions.loadRelationIds?this.loadAllRelationIds():"object"==typeof this.findOptions.loadRelationIds&&this.loadAllRelationIds(this.findOptions.loadRelationIds),!1!==this.findOptions.loadEagerRelations&&A.Z.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),!0===this.findOptions.transaction&&(this.expressionMap.useTransaction=!0)}}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new x.K_('Alias is not set. Use "from" method to set an alias.');if(("pessimistic_read"===this.expressionMap.lockMode||"pessimistic_write"===this.expressionMap.lockMode||"pessimistic_partial_write"===this.expressionMap.lockMode||"pessimistic_write_or_fail"===this.expressionMap.lockMode||"for_no_key_update"===this.expressionMap.lockMode||"for_key_share"===this.expressionMap.lockMode)&&!e.isTransactionActive)throw new u.G;if("optimistic"===this.expressionMap.lockMode){const e=this.expressionMap.mainAlias.metadata;if(!e.versionColumn&&!e.updateDateColumn)throw new c.f(e.name)}const t=new m(this.connection,e,this.expressionMap.relationIdAttributes),n=new v(this.connection,e,this.expressionMap.relationCountAttributes);new g(this.expressionMap).transform();new b(this.expressionMap).transform();let o=[],s=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){const[t,n]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),r=this.expressionMap.mainAlias.metadata,s=this.expressionMap.mainAlias.name,a=r.primaryColumns.map((e=>{const t=this.escape("distinctAlias"),r=this.escape(i.z.buildAlias(this.connection.driver,s,e.databaseName));n[r]||(n[r]="ASC");const o=i.z.buildAlias(this.connection.driver,"ids_"+s,e.databaseName);return`${t}.${r} AS ${this.escape(o)}`}));if(o=await new C(this.connection,e).select(`DISTINCT ${a.join(", ")}`).addSelect(t).from(`(${this.clone().orderBy().getQuery()})`,"distinctAlias").offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(n).cache(this.expressionMap.cache?this.expressionMap.cache:this.expressionMap.cacheId,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),o.length>0){let t="";const n={};if(r.hasMultiplePrimaryKeys)t=o.map(((e,t)=>r.primaryColumns.map((r=>{const i=`orm_distinct_ids_${t}_${r.databaseName}`;return n[i]=e[`ids_${s}_${r.databaseName}`],`${s}.${r.propertyPath}=:${i}`})).join(" AND "))).join(" OR ");else{const e=i.z.buildAlias(this.connection.driver,"ids_"+s,r.primaryColumns[0].databaseName),a=o.map((t=>t[e]));a.every((e=>"number"==typeof e))?t=`${s}.${r.primaryColumns[0].propertyPath} IN (${a.join(", ")})`:(n.orm_distinct_ids=a,t=s+"."+r.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}o=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:t}).setParameters(n).loadRawResults(e)}}else o=await this.loadRawResults(e);if(o.length>0){const r=await t.load(o),i=await n.load(o),u=new a(this.expressionMap,this.connection.driver,r,i,this.queryRunner);s=u.transform(o,this.expressionMap.mainAlias),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,s)}return"query"===this.expressionMap.relationLoadStrategy&&await Promise.all(this.relationMetadatas.map((async e=>{const t=e.inverseEntityMetadata.target,n=e.inverseEntityMetadata.targetName,i=Array.isArray(this.findOptions.select)?r.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,o=Array.isArray(this.findOptions.relations)?r.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,a=this.createQueryBuilder().select(n).from(t,n).setFindOptions({select:i?r.deepValue(i,e.propertyPath):void 0,order:this.findOptions.order?r.deepValue(this.findOptions.order,e.propertyPath):void 0,relations:o?r.deepValue(o,e.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(s.length>0){const t=await this.connection.relationIdLoader.loadManyToManyRelationIdsAndGroup(e,s,void 0,a);s.forEach((n=>{const r=t.find((e=>e.entity===n));if(r){const t=void 0===r.related?null:r.related;e.setEntityValue(n,t)}}))}}))),{raw:o,entities:s}}createOrderByCombinedWithSelectExpression(e){const t=this.expressionMap.allOrderBys,n=Object.keys(t).map((t=>{if(-1!==t.indexOf(".")){const n=t.split("."),r=n[0],o=n.slice(1).join("."),s=this.expressionMap.findAliasByName(r).metadata.findColumnWithPropertyPath(o);return this.escape(e)+"."+this.escape(i.z.buildAlias(this.connection.driver,r,s.databaseName))}return this.expressionMap.selects.find((e=>e.selection===t||e.aliasName===t))?this.escape(e)+"."+t:""})).join(", "),r={};return Object.keys(t).forEach((n=>{if(-1!==n.indexOf(".")){const o=n.split("."),s=o[0],a=o.slice(1).join("."),u=this.expressionMap.findAliasByName(s).metadata.findColumnWithPropertyPath(a);r[this.escape(e)+"."+this.escape(i.z.buildAlias(this.connection.driver,s,u.databaseName))]=t[n]}else this.expressionMap.selects.find((e=>e.selection===n||e.aliasName===n))?r[this.escape(e)+"."+n]=t[n]:r[n]=t[n]})),[n,r]}async loadRawResults(e){const[t,n]=this.getQueryAndParameters(),r=t+" -- PARAMETERS: "+JSON.stringify(n),i="object"==typeof this.connection.options.cache?this.connection.options.cache:{};let o,s=!1;if(this.connection.queryResultCache&&(this.expressionMap.cache||i.alwaysEnabled))try{if(o=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:r,duration:this.expressionMap.cacheDuration||i.duration||1e3},e),o&&!this.connection.queryResultCache.isExpired(o))return JSON.parse(o.result)}catch(e){if(!i.ignoreErrors)throw e;s=!0}const a=await e.query(t,n,!0);if(!s&&this.connection.queryResultCache&&(this.expressionMap.cache||i.alwaysEnabled))try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:r,time:(new Date).getTime(),duration:this.expressionMap.cacheDuration||i.duration||1e3,result:JSON.stringify(a.records)},o,e)}catch(e){if(!i.ignoreErrors)throw e}return a.records}mergeExpressionMap(e){return o.g.assign(this.expressionMap,e),this}normalizeNumber(e){return"number"==typeof e||null==e?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,n,r){for(let i in e){if(void 0===e[i]||!1===e[i])continue;const o=r?r+"."+i:i,s=t.findColumnWithPropertyPathStrict(o),a=t.findEmbeddedWithPropertyPath(o),u=t.findRelationWithPropertyPath(o);if(!a&&!s&&!u)throw new T.B(o,t);s?this.selects.push(n+"."+o):a&&this.buildSelect(e[i],t,n,i)}}buildRelations(e,t,n,o,s){e&&Object.keys(e).forEach((a=>{const u=e[a],c=s?s+"."+a:a,l=n.findEmbeddedWithPropertyPath(c),d=n.findRelationWithPropertyPath(c);if(!l&&!d)throw new T.B(c,n);if(l)this.buildRelations(u,"object"==typeof t?r.deepValue(t,l.propertyPath):void 0,n,o,c);else if(d){let e=o+"_"+c.replace(".","_");e=i.z.buildAlias(this.connection.driver,{joiner:"__"},o,e),!0!==u&&"object"!=typeof u||("query"===this.expressionMap.relationLoadStrategy?this.relationMetadatas.push(d):(this.joins.push({type:"left",select:!0,selection:t&&"object"==typeof t[a]?t[a]:void 0,alias:e,parentAlias:o,relationMetadata:d}),t&&"object"==typeof t[a]&&this.buildSelect(t[a],d.inverseEntityMetadata,e))),"object"==typeof u&&"join"===this.expressionMap.relationLoadStrategy&&this.buildRelations(u,"object"==typeof t?r.deepValue(t,d.propertyPath):void 0,d.inverseEntityMetadata,e,void 0)}}))}buildEagerRelations(e,t,n,o,s){e&&Object.keys(e).forEach((a=>{const u=e[a],c=s?s+"."+a:a,l=n.findEmbeddedWithPropertyPath(c),d=n.findRelationWithPropertyPath(c);if(!l&&!d)throw new T.B(c,n);if(l)this.buildEagerRelations(u,"object"==typeof t?r.deepValue(t,l.propertyPath):void 0,n,o,c);else if(d){let e=o+"_"+c.replace(".","_");e=i.z.buildAlias(this.connection.driver,{joiner:"__"},o,e),!0!==u&&"object"!=typeof u||d.inverseEntityMetadata.eagerRelations.forEach((n=>{let r=e+"_"+n.propertyPath.replace(".","_");r=i.z.buildAlias(this.connection.driver,{joiner:"__"},e,r);this.joins.find((e=>e.alias===r))||this.joins.push({type:"left",select:!0,alias:r,parentAlias:e,selection:void 0,relationMetadata:n}),t&&"object"==typeof t[a]&&this.buildSelect(t[a],d.inverseEntityMetadata,e)})),"object"==typeof u&&this.buildEagerRelations(u,"object"==typeof t?r.deepValue(t,d.propertyPath):void 0,d.inverseEntityMetadata,e,void 0)}}))}buildOrder(e,t,n,r){for(let o in e){if(void 0===e[o])continue;const s=r?r+"."+o:o,a=t.findColumnWithPropertyPathStrict(s),u=t.findEmbeddedWithPropertyPath(s),c=t.findRelationWithPropertyPath(s);if(!u&&!a&&!c)throw new T.B(s,t);if(a){let t="object"==typeof e[o]?e[o].direction:e[o];t="DESC"===t||"desc"===t||-1===t?"DESC":"ASC";let r="object"==typeof e[o]?e[o].nulls:void 0;r="first"===r?"NULLS FIRST":"last"===r?"NULLS LAST":void 0,this.addOrderBy(`${n}.${s}`,t,r)}else if(u)this.buildOrder(e[o],t,n,s);else if(c){let t=n+"_"+s.replace(".","_");t=i.z.buildAlias(this.connection.driver,{joiner:"__"},n,t);this.joins.find((e=>e.alias===t))||this.joins.push({type:"left",select:!1,alias:t,parentAlias:n,selection:void 0,relationMetadata:c}),this.buildOrder(e[o],c.inverseEntityMetadata,t)}}}buildWhere(e,t,n,r){let o="";if(Array.isArray(e))o="("+e.map((e=>this.buildWhere(e,t,n,r))).filter((e=>!!e)).map((e=>"("+e+")")).join(" OR ")+")";else{let s=[];for(let o in e){if(void 0===e[o]||null===e[o])continue;const a=r?r+"."+o:o,u=t.findColumnWithPropertyPathStrict(a),c=t.findEmbeddedWithPropertyPath(a),l=t.findRelationWithPropertyPath(a);if(!c&&!u&&!l)throw new T.B(a,t);if(u){const t=`${n}.${a}`;let r=e[o];M.a.isEqualOperator(e[o])&&(r=e[o].value),u.transformer&&(r=k.transformTo(u.transformer,r)),s.push(this.createWhereConditionExpression(this.getWherePredicateCondition(t,r)))}else if(c){const r=this.buildWhere(e[o],t,n,a);r&&s.push(r)}else if(l){if("object"==typeof e[o]){if(Object.keys(e[o]).every((t=>void 0===e[o][t])))continue}if(M.a.isFindOperator(e[o])){if("moreThan"===e[o].type||"lessThan"===e[o].type){const t="moreThan"===e[o].type?">":"<",r=this.subQuery();if(l.isManyToManyOwner)r.select("COUNT(*)").from(l.joinTableName,l.joinTableName).where(l.joinColumns.map((e=>`${l.joinTableName}.${e.propertyName} = ${n}.${e.referencedColumn.propertyName}`)).join(" AND "));else if(l.isManyToManyNotOwner)r.select("COUNT(*)").from(l.inverseRelation.joinTableName,l.inverseRelation.joinTableName).where(l.inverseRelation.inverseJoinColumns.map((e=>`${l.inverseRelation.joinTableName}.${e.propertyName} = ${n}.${e.referencedColumn.propertyName}`)).join(" AND "));else{if(!l.isOneToMany)throw new Error("This relation isn't supported by given find operator");r.select("COUNT(*)").from(l.inverseEntityMetadata.target,l.inverseEntityMetadata.tableName).where(l.inverseRelation.joinColumns.map((e=>`${l.inverseEntityMetadata.tableName}.${e.propertyName} = ${n}.${e.referencedColumn.propertyName}`)).join(" AND "))}this.andWhere(r.getSql()+" "+t+" "+parseInt(e[o].value))}}else{let t=n+"_"+l.propertyPath.replace(".","_");t=i.z.buildAlias(this.connection.driver,{joiner:"__"},n,t);const r=this.joins.find((e=>e.alias===t));r?"left"===r.type&&(r.type="inner"):this.joins.push({type:"inner",select:!1,selection:void 0,alias:t,parentAlias:n,relationMetadata:l});const a=this.buildWhere(e[o],l.inverseEntityMetadata,t);a&&s.push(a)}}}o=s.join(" AND ")}return o}}},72228:(e,t,n)=>{"use strict";n.d(t,{B:()=>p});var r=n(62003),i=n(92143),o=n(73048),s=n(80283),a=n(52173),u=n(90077),c=n(54698),l=n(84785),d=n(22483),h=n(37384);class p extends r.z{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SoftDeleteQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let e=this.createUpdateExpression();return e+=this.createCteExpression(),e+=this.createOrderByExpression(),e+=this.createLimitExpression(),e.trim()}async execute(){const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&("soft-delete"===this.expressionMap.queryType?await e.broadcaster.broadcast("BeforeSoftRemove",this.expressionMap.mainAlias.metadata):"restore"===this.expressionMap.queryType&&await e.broadcaster.broadcast("BeforeRecover",this.expressionMap.mainAlias.metadata));const n=new s.v(e,this.expressionMap);!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=n.getSoftDeletionReturningColumns());const[r,o]=this.getQueryAndParameters(),a=await e.query(r,o,!0),u=i.s.from(a);return!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&await n.update(u,this.expressionMap.whereEntities),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&("soft-delete"===this.expressionMap.queryType?await e.broadcaster.broadcast("AfterSoftRemove",this.expressionMap.mainAlias.metadata):"restore"===this.expressionMap.queryType&&await e.broadcaster.broadcast("AfterRecover",this.expressionMap.mainAlias.metadata)),t&&await e.commitTransaction(),u}catch(n){if(t)try{await e.rollbackTransaction()}catch(e){}throw n}finally{e!==this.queryRunner&&await e.release()}}from(e,t){e=h.a.isEntitySchema(e)?e.options.name:e;const n=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(n),this}where(e,t){this.expressionMap.wheres=[];const n=this.getWhereCondition(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}output(e){return this.returning(e)}returning(e){if(!this.connection.driver.isReturningSqlSupported("update"))throw new o.y;return this.expressionMap.returning=e,this}orderBy(e,t="ASC",n){return this.expressionMap.orderBys=e?"object"==typeof e?e:n?{[e]:{order:t,nulls:n}}:{[e]:t}:{},this}addOrderBy(e,t="ASC",n){return this.expressionMap.orderBys[e]=n?{order:t,nulls:n}:t,this}limit(e){return this.expressionMap.limit=e,this}whereEntity(e){if(!this.expressionMap.mainAlias.hasMetadata)throw new l.K_(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];const t=Array.isArray(e)?e:[e];return t.forEach((e=>{const t=this.expressionMap.mainAlias.metadata.getEntityIdMap(e);if(!t)throw new l.K_("Provided entity does not have ids set, cannot perform operation.");this.orWhereInIds(t)})),this.expressionMap.whereEntities=t,this}updateEntity(e){return this.expressionMap.updateEntity=e,this}createUpdateExpression(){const e=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0;if(!e)throw new l.K_(`Cannot get entity metadata for the given alias "${this.expressionMap.mainAlias}"`);if(!e.deleteDateColumn)throw new u.d(e);const t=[];switch(this.expressionMap.queryType){case"soft-delete":t.push(this.escape(e.deleteDateColumn.databaseName)+" = CURRENT_TIMESTAMP");break;case"restore":t.push(this.escape(e.deleteDateColumn.databaseName)+" = NULL");break;default:throw new l.K_('The queryType must be "soft-delete" or "restore"')}if(e.versionColumn&&t.push(this.escape(e.versionColumn.databaseName)+" = "+this.escape(e.versionColumn.databaseName)+" + 1"),e.updateDateColumn&&t.push(this.escape(e.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"),t.length<=0)throw new c.y;const n=this.createWhereExpression(),r=this.createReturningExpression("update");return""===r?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${t.join(", ")}${n}`:"mssql"===this.connection.driver.options.type?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${t.join(", ")} OUTPUT ${r}${n}`:`UPDATE ${this.getTableName(this.getMainTableName())} SET ${t.join(", ")}${n} RETURNING ${r}`}createOrderByExpression(){const e=this.expressionMap.orderBys;return Object.keys(e).length>0?" ORDER BY "+Object.keys(e).map((t=>"string"==typeof e[t]?this.replacePropertyNames(t)+" "+e[t]:this.replacePropertyNames(t)+" "+e[t].order+" "+e[t].nulls)).join(", "):""}createLimitExpression(){let e=this.expressionMap.limit;if(e){if(d.z.isMySQLFamily(this.connection.driver))return" LIMIT "+e;throw new a.T}return""}}},55521:(e,t,n)=>{"use strict";n.d(t,{T:()=>p});var r=n(62003),i=n(92143),o=n(73048),s=n(80283),a=n(52173),u=n(54698),c=n(84785),l=n(88305),d=n(22483),h=n(48834).Buffer;class p extends r.z{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("UpdateQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createUpdateExpression(),e+=this.createOrderByExpression(),e+=this.createLimitExpression(),e.trim()}async execute(){const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("BeforeUpdate",this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet);let n=null,r=null;const o=new s.v(e,this.expressionMap),a=[];if(Array.isArray(this.expressionMap.returning)&&this.expressionMap.mainAlias.hasMetadata)for(const e of this.expressionMap.returning)a.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(e));!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=o.getUpdationReturningColumns(),a.push(...this.expressionMap.extraReturningColumns.filter((e=>!a.includes(e))))),a.length>0&&"mssql"===this.connection.driver.options.type&&(n=this.connection.driver.buildTableVariableDeclaration("@OutputTable",a),r="SELECT * FROM @OutputTable");const[u,c]=this.getQueryAndParameters(),l=[n,u,r],d=await e.query(l.filter((e=>null!=e)).join(";\n\n"),c,!0),h=i.s.from(d);return!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&await o.update(h,this.expressionMap.whereEntities),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("AfterUpdate",this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet),t&&await e.commitTransaction(),h}catch(n){if(t)try{await e.rollbackTransaction()}catch(e){}throw n}finally{e!==this.queryRunner&&await e.release()}}set(e){return this.expressionMap.valuesSet=e,this}where(e,t){this.expressionMap.wheres=[];const n=this.getWhereCondition(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}output(e){return this.returning(e)}returning(e){if(!this.connection.driver.isReturningSqlSupported("update"))throw new o.y;return this.expressionMap.returning=e,this}orderBy(e,t="ASC",n){return this.expressionMap.orderBys=e?"object"==typeof e?e:n?{[e]:{order:t,nulls:n}}:{[e]:t}:{},this}addOrderBy(e,t="ASC",n){return this.expressionMap.orderBys[e]=n?{order:t,nulls:n}:t,this}limit(e){return this.expressionMap.limit=e,this}whereEntity(e){if(!this.expressionMap.mainAlias.hasMetadata)throw new c.K_(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];const t=Array.isArray(e)?e:[e];return t.forEach((e=>{const t=this.expressionMap.mainAlias.metadata.getEntityIdMap(e);if(!t)throw new c.K_("Provided entity does not have ids set, cannot perform operation.");this.orWhereInIds(t)})),this.expressionMap.whereEntities=t,this}updateEntity(e){return this.expressionMap.updateEntity=e,this}createUpdateExpression(){const e=this.getValueSet(),t=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0,n={};for(let t in e)void 0!==e[t]&&(n[t]=e[t]);const r=[],i=[];if(t?(this.createPropertyPath(t,n).forEach((e=>{const o=t.findColumnsWithPropertyPath(e);if(o.length<=0)throw new l.B(e,t);o.forEach((e=>{if(!e.isUpdate||i.includes(e))return;i.push(e);let t=e.getEntityValue(n);if(e.referencedColumn&&"object"==typeof t&&null!==t&&!h.isBuffer(t)?t=e.referencedColumn.getEntityValue(t):"function"!=typeof t&&(t=this.connection.driver.preparePersistentValue(t,e)),"function"==typeof t)r.push(this.escape(e.databaseName)+" = "+t());else if("sap"!==this.connection.driver.options.type&&"spanner"!==this.connection.driver.options.type||null!==t){"mssql"===this.connection.driver.options.type&&(t=this.connection.driver.parametrizeValue(e,t));const n=this.createParameter(t);let i=null;if(!d.z.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type||-1===this.connection.driver.spatialTypes.indexOf(e.type))i="postgres"===this.connection.driver.options.type&&-1!==this.connection.driver.spatialTypes.indexOf(e.type)?null!=e.srid?`ST_SetSRID(ST_GeomFromGeoJSON(${n}), ${e.srid})::${e.type}`:`ST_GeomFromGeoJSON(${n})::${e.type}`:"mssql"===this.connection.driver.options.type&&-1!==this.connection.driver.spatialTypes.indexOf(e.type)?e.type+"::STGeomFromText("+n+", "+(e.srid||"0")+")":n;else{const t=this.connection.driver.options.legacySpatialSupport?"GeomFromText":"ST_GeomFromText";i=null!=e.srid?`${t}(${n}, ${e.srid})`:`${t}(${n})`}r.push(this.escape(e.databaseName)+" = "+i)}else r.push(this.escape(e.databaseName)+" = NULL")}))})),(r.length>0||0===Object.keys(n).length)&&(t.versionColumn&&-1===i.indexOf(t.versionColumn)&&r.push(this.escape(t.versionColumn.databaseName)+" = "+this.escape(t.versionColumn.databaseName)+" + 1"),t.updateDateColumn&&-1===i.indexOf(t.updateDateColumn)&&r.push(this.escape(t.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"))):Object.keys(n).map((e=>{let t=n[e];if("function"==typeof t)r.push(this.escape(e)+" = "+t());else if("sap"!==this.connection.driver.options.type&&"spanner"!==this.connection.driver.options.type||null!==t){const n=this.createParameter(t);r.push(this.escape(e)+" = "+n)}else r.push(this.escape(e)+" = NULL")})),r.length<=0)throw new u.y;const o=this.createWhereExpression(),s=this.createReturningExpression("update");return""===s?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")}${o}`:"mssql"===this.connection.driver.options.type?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")} OUTPUT ${s}${o}`:`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")}${o} RETURNING ${s}`}createOrderByExpression(){const e=this.expressionMap.orderBys;return Object.keys(e).length>0?" ORDER BY "+Object.keys(e).map((t=>"string"==typeof e[t]?this.replacePropertyNames(t)+" "+e[t]:this.replacePropertyNames(t)+" "+e[t].order+" "+e[t].nulls)).join(", "):""}createLimitExpression(){let e=this.expressionMap.limit;if(e){if(d.z.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type)return" LIMIT "+e;throw new a.T}return""}getValueSet(){if("object"==typeof this.expressionMap.valuesSet)return this.expressionMap.valuesSet;throw new u.y}}},85960:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(16900),i=n(68199),o=n(7104);class s{constructor(e,t){this.expressionMap=e,i.g.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value is a string representation of alias property");const[e,t]=this.relationName.split("."),n=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!n)throw new o.K(`Relation with property path ${t} in entity was not found.`);return n}get metadata(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value is a string representation of alias property");const e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}}},53199:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(16900),i=n(68199),o=n(7104);class s{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,i.g.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!r.G.isAliasProperty(this.relationName))throw new o.K("Given value must be a string representation of alias property");const e=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new o.K(`Relation with property path ${this.relationPropertyPath} in entity was not found.`);return e}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}}},92143:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});class r{constructor(){this.generatedMaps=[]}static from(e){const t=new this;return t.raw=e.records,t.affected=e.affected,t}}},37384:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});class r{static isMssqlParameter(e){return this.check(e,"MssqlParameter")}static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isQueryBuilder(e){return this.check(e,"QueryBuilder")||this.check(e,"SelectQueryBuilder")||this.check(e,"InsertQueryBuilder")||this.check(e,"DeleteQueryBuilder")||this.check(e,"UpdateQueryBuilder")||this.check(e,"SoftDeleteQueryBuilder")||this.check(e,"RelationQueryBuilder")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isMongoEntityManager(e){return this.check(e,"MongoEntityManager")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return"function"==typeof e&&"function"==typeof e.hasId&&"function"==typeof e.save&&"function"==typeof e.useDataSource}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return"object"==typeof e&&null!==e&&e["@instanceof"]===Symbol.for(t)}}},68199:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});class r{static isObject(e){return null!==e&&"object"==typeof e}static assign(e,...t){for(const n of t)for(const t of Object.getOwnPropertyNames(n))e[t]=n[t]}static mixedListToArray(e){return null!==e&&"object"==typeof e?Object.keys(e).map((t=>e[t])):e}}},60762:(e,t,n)=>{"use strict";n.d(t,{OV:()=>o,vp:()=>s});var r=n(9065),i=n.n(r);function o(e,t={}){const{segmentLength:n=4,separator:r="__",termLength:i=2}=t;return e.split(r).reduce(((e,t)=>{const r=t.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),o=r.length>1?i:n,s=r.map((e=>e.substr(0,o))).join("");return e.push(s),e}),[]).join(r)}function s(e,t={}){const n=i()("sha256");n.update(e,"utf8");const r=n.digest("hex");return t.length?r.slice(0,t.length):r}},82686:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},45302:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}},20708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});for(var r=n(86525),i=[],o=0;o<256;++o)i.push((o+256).toString(16).substr(1));const s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,r.Z)(n))throw TypeError("Stringified UUID is invalid");return n}},88767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(45302),i=n(20708);const o=function(e,t,n){var o=(e=e||{}).random||(e.rng||r.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return(0,i.Z)(o)}},86525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(82686);const i=function(e){return"string"==typeof e&&r.Z.test(e)}},33196:()=>{},53260:()=>{},7896:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},81665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(88960);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},88960:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e,t,r,i,o=n(36548);!function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.hideRequestEthereumAccounts="hideRequestEthereumAccounts",e.switchEthereumChain="switchEthereumChain",e.addEthereumChain="addEthereumChain",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(e||(e={})),function(e){e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess",e.watchAssetApprove="watchAssetApprove",e.watchAssetDeny="watchAssetDeny",e.selectProviderApprove="selectProviderApprove",e.selectProviderDeny="selectProviderDeny",e.dappChainSwitched="dappChainSwitched"}(t||(t={})),function(e){e.web3RequestCanceled="web3RequestCanceled",e.parentDisconnected="parentDisconnect"}(r||(r={}));class s{id;uuid;kind;name;constructor(e,t,n){this.id=e,this.uuid=t,this.kind=n,this.name=[this.id,t,n].filter((e=>e)).join("_")}}!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.Memory=1]="Memory"}(i||(i={}));class a extends s{constructor(e,t){super(e,t,i.LocalStorage)}}class u extends s{constructor(e,t){super(e,t,i.Memory)}}const c=new u("isAppUnlocked"),l=new u("isAuthenticating"),d=new a("requireTransactionsAuth"),h=new a("isAppAccessAuthRequired"),p=new a("encryptedMnemonic"),f=new a("passwordSalt"),y=new a("passwordIv"),m=new a("serviceWorkerStorageSecret"),g=new a("passwordAttempts"),v=new a("lastPasswordAttempt"),b=new a("autoLockTimeout"),w=new a("autoLockByUnixTimestamp"),_=(new a("logoutIncomplete"),new a("signingDevice"));var S=n(1199),E=n(72730),x=n(92188);function A(){return(0,S.z)((0,E.h)((e=>void 0!==e)),(0,x.U)((e=>e)))}function k(){return(0,x.U)((()=>{}))}var T=n(91881),M=n(19939);class C extends T.L{completed=!1;onUnsubscribe;_next(e){super._next(e),this._complete()}_complete(){this.completed=!0,super._complete()}_error(e){this.completed=!0,super._error(e)}unsubscribe(){super.unsubscribe(),!this.completed&&this.onUnsubscribe&&(this.onUnsubscribe(),this.onUnsubscribe=void 0)}}class N extends M.y{onUnsubscribe;constructor(e){super((t=>{const n=new C(t);return this.onUnsubscribe&&(n.onUnsubscribe=this.onUnsubscribe),e(n),n}))}static just(e){return new N((t=>{t.next(e)}))}static error(e){return new N((t=>{t.error(e)}))}static fromCallable(e){return new N((t=>{e(),t.next()}))}static deferPromise(e){return new N((t=>{e().then((e=>t.next(e))).catch((e=>t.error(e)))}))}}var O=n(62197),I=n.n(O);class R{code;rawValue;constructor(e){this.code=e.toUpperCase(),this.rawValue=this.code}static isEqual(e,t){return e.rawValue===t.rawValue}get value(){return this.rawValue}static USD=new R("USD");static EUR=new R("EUR");static CNY=new R("CNY");static GBP=new R("GBP");static CAD=new R("CAD");static USDC=new R("USDC");static RUB=new R("RUB");static BTC=new R("BTC");static ETH=new R("ETH");static ETC=new R("ETC");static WETH=new R("WETH");static CETH=new R("CETH");static WBTC=new R("WBTC");static CWBTC=new R("CWBTC");static MATIC=new R("MATIC");static SOL=new R("SOL");static XRP=new R("XRP");static XLM=new R("XLM")}class P{code;name;id;decimalsStr;constructor(e,t,n){this.code=e,this.name=t,this.id=e.rawValue,this.decimalsStr=n.toString()}get decimals(){return new(I())(this.decimalsStr)}toString(){return JSON.stringify({code:this.id,name:this.name,decimalsStr:this.decimalsStr})}static USD=new P(R.USD,"United States Dollar",new(I())(2))}const L=new a("activeCurrency");new a("debugMenuFlags"),new a("debugMenuFlagOverrides"),new a("customNetworks"),new a("whitelistedNetworks");new a("isBRDScanningEnabled"),new a("zeroBalanceEventLogged");function j(e){return e instanceof I()?`"bigint:${e.toString()}"`:JSON.stringify(e,((e,t)=>{if(t&&"object"==typeof t&&!Array.isArray(t)){if(Object.values(t).some((e=>e instanceof I()))){const e=Object.fromEntries(Object.entries(t).map((([e,t])=>t instanceof I()?[e,`bigint:${t.toString()}`]:[e,t])));return e}}return"bigint"==typeof t?`bigint:${t.toString()}`:t}))}function D(e){return JSON.parse(e,((e,t)=>"string"==typeof t&&t.startsWith("bigint:")?new(I())(t.substr("bigint:".length)):t))}class U{storageScope="CBStore.plaintext";static mappedPrototypes=U.getDefaultMappedPrototypes();set(e,t){if(null==t)return void localStorage.removeItem(this.scopedKey(e.name));const n=j(t);localStorage.setItem(this.scopedKey(e.name),n)}get(e){const t=localStorage.getItem(this.scopedKey(e.name));if(null==t)return;const n=D(t),r=U.mappedPrototypes.get(e.name);if(r){const e=Object.create(r);return Object.assign(e,n),e}return n}clear(e){const t=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);"string"!=typeof i||!i.startsWith(t)||e&&e.exceptions&&!this.shouldKeyBeCleared(i,e.exceptions)||n.push(i)}n.forEach((e=>localStorage.removeItem(e)))}scopedKey(e){return`${this.storageScope}:${e}`}static getDefaultMappedPrototypes(){const e=new Map;return e.set(L.name,P.prototype),e}shouldKeyBeCleared(e,t){for(const n of t)if(this.scopedKey(n.name)===e)return!1;return!0}}class B{storage=new Map;set(e,t){this.storage.set(e.name,t)}get(e){return this.storage.get(e.name)}clear(){this.storage.clear()}}const F=new class{localStorage=new U;memoryStorage=new B;isOpen=!0;open(){this.isOpen=!0}set(e,t){this.isOpen&&this.storageForKey(e).set(e,t)}get(e){return this.storageForKey(e).get(e)}has(e){const t=this.get(e);return null!=t}clear(e){this.isOpen=!1,this.deleteAllEntries([i.LocalStorage,i.Memory],e)}deleteAllEntries(e,t){e.forEach((e=>{e===i.LocalStorage&&this.localStorage.clear(t),e===i.Memory&&this.memoryStorage.clear()}))}storageForKey(e){switch(e.kind){case i.LocalStorage:return this.localStorage;case i.Memory:return this.memoryStorage;default:throw new Error("Switch statements must be exhaustive")}}};class q{generateRandomByeArray(e){if(e%1!=0)throw Error("size must be an integer");const t=new Uint8Array(e);return crypto.getRandomValues(t)}async generateKey(e,t){const n=await crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits","deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}var V=n(48834).Buffer;const $=new TextEncoder,W=new TextDecoder;function z(){const e=F.get(f)??"";return new Uint8Array(JSON.parse(e))}function K(){const e=F.get(y)??"";return new Uint8Array(JSON.parse(e))}function H(e){return async t=>{const n=new q;!function(e){const t=JSON.stringify(Array.from(e));F.set(f,t)}(n.generateRandomByeArray(32)),function(e){const t=JSON.stringify(Array.from(e));F.set(y,t)}(n.generateRandomByeArray(12));const r=$.encode(e),i=$.encode(t),o=await n.generateKey(r,z()),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:K()},o,i);return btoa(new Uint8Array(s).reduce(((e,t)=>e+String.fromCharCode(t)),""))}}function Q(e){return async t=>{const n=new q,r=$.encode(e),i=(o=t,V.from(o,"base64"));var o;const s=await n.generateKey(r,z()),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:K()},s,i);return W.decode(a)}}var G;!function(e){e.walletlink="walletlink",e.ledger="ledger",e.standalone="standalone",e.trezor="trezor"}(G||(G={}));const Z=new Error("Illegal State - encrypted mnemonic is undefined");async function J(e){const t=F.get(p);if(!t)throw Z;return await e(t)}function Y(){return F.has(p)}var X=n(89592),ee=n(98986);class te{memoryStorage=new Map;sessionApi;constructor(){"object"==typeof chrome.storage.session&&(this.sessionApi=chrome.storage.session)}async clear(){return this.sessionApi?chrome.storage.session.clear():(this.memoryStorage.clear(),Promise.resolve())}async get(e){return this.sessionApi?this.sessionApi.get(e):Promise.resolve(this.memoryStorage.get(e))}async set(e,t){return this.sessionApi?this.sessionApi.set({[e]:t}):(this.memoryStorage.set(e,t),Promise.resolve())}delete=async e=>this.sessionApi?this.sessionApi.remove(e):(this.memoryStorage.delete(e),Promise.resolve())}const ne="serviceWorkerMemoryRequest";class re{storage=new te;handleRequest(e,t){switch(e.action){case"get":this.get(e.key).then((e=>t(e)));break;case"set":this.set(e.key,e.value).then((()=>t(!0)));break;case"clear":this.storage.clear().then((()=>t(!0)))}}clear(){this.storage.clear()}async set(e,t){const n=await this.getId(e);return void 0===t?this.storage.delete(n):this.storage.set(n,t)}async get(e){const t=await this.getId(e);return this.storage.get(t)}async getId(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return(0,ee.uint8ArrayToHex)(new Uint8Array(n))}}const ie=new class{secret;constructor(){this.secret=F.get(m)??(0,ee.randomBytesHex)(32),F.set(m,this.secret)}async get(e){return new Promise((t=>{chrome.runtime.sendMessage({type:ne,data:{key:e,action:"get"}},(e=>{if("string"!=typeof e)return t(void 0);(0,X.decrypt)(e,this.secret).toPromise().then(t).catch((e=>t(void 0)))}))}))}async set(e,t){const n=t?await(0,X.encrypt)(t,this.secret):void 0;return new Promise((t=>{chrome.runtime.sendMessage({type:ne,data:{key:e,action:"set",value:n}},(()=>t(!0)))}))}async clear(){return new Promise((e=>{chrome.runtime.sendMessage({type:ne,data:{action:"clear"}},(t=>e(t)))}))}};var oe=n(61194),se=n(61048),ae=n(64580),ue=n(2498),ce=n(97686),le=n(98815),de=n(16612),he=n(13254),pe=n(97238),fe=n(2995),ye=n(54582),me=n(77371);function ge(e,t,n){return function(r){return r.lift(new ve(e,t,n))}}var ve=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new be(e,this.nextOrObserver,this.error,this.complete))},e}(),be=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=ye.Z,o._tapError=ye.Z,o._tapComplete=ye.Z,o._tapError=r||ye.Z,o._tapComplete=i||ye.Z,(0,me.m)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ye.Z,o._tapError=n.error||ye.Z,o._tapComplete=n.complete||ye.Z),o}return fe.ZT(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(T.L),we=n(93694);function _e(e,t){return"function"==typeof t?function(n){return n.pipe(_e((function(n,r){return(0,pe.D)(e(n,r)).pipe((0,x.U)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Se(e))}}var Se=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Ee(e,this.project))},e}(),Ee=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return fe.ZT(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new we.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,we.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(we.Ds),xe={leading:!0,trailing:!1};var Ae=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new ke(e,this.durationSelector,this.leading,this.trailing))},e}(),ke=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return fe.ZT(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,we.ft)(t,new we.IY(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(we.Ds),Te=n(71710),Me=n(24245),Ce=n(14070);var Ne=n(20646);var Oe=n(38781);function Ie(e,t){void 0===t&&(t=Ne.P);var n,r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return function(e){return e.lift(new Re(r,t))}}var Re=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Pe(e,this.delay,this.scheduler))},e}(),Pe=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return fe.ZT(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new Le(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Oe.P.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Oe.P.createComplete()),this.unsubscribe()},t}(T.L),Le=function(){return function(e,t){this.time=e,this.notification=t}}();var je=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new De(e,this.selector,this.caught))},e}(),De=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return fe.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new we.IY(this);this.add(r);var i=(0,we.ft)(n,r);i!==r&&this.add(i)}},t}(we.Ds);const Ue="SUCCESS",Be="FAILURE",Fe="SUCCESS";var qe,Ve;!function(e){e.appAccessRequired="appAccessRequired",e.transaction="transaction",e.unlockIfNeeded="unlockIfNeeded"}(qe||(qe={}));class $e{static AppAccessRequired={type:qe.appAccessRequired,cancellable:!1};static Transaction={type:qe.transaction,cancellable:!0};static UnlockIfNeeded(e){return{type:qe.unlockIfNeeded,cancellable:e}}}!function(e){e.parentConnected="parentConnected",e.connectedDapps="connectedDapps",e.amplitudeDeviceId="amplitudeDeviceId",e.isStandaloneSigning="isStandaloneSigning",e.cachedExperiments="cachedExperiments",e.cachedDeviceExperiments="cachedDeviceExperiments",e.blockedDappWhitelist="blockedDappWhitelist",e.evmPhishingConfig="evmPhishingConfig",e.solanaPhishingConfig="solanaPhishingConfig",e.signingDevice="signingDevice",e.extensionWasUpdated="extensionWasUpdated",e.activeEthAddress="activeEthAddress",e.chainSwitchedDapp="chainSwitchedDapp"}(Ve||(Ve={}));const We=new class{dappsSubject=new se.t(1);constructor(){this.getDapps().subscribe((e=>{this.dappsSubject.next(e)}))}get allConnections(){return this.dappsSubject.pipe((0,x.U)((e=>e.filter((e=>e.connected)))))}updateChainIdForHost(e){const t=e.overriddenChainId,n=this.getHostName(e.dappURL);return this.getDapps().pipe((0,x.U)((e=>e.map((e=>this.getHostName(e.dappURL)===n?{...e,overriddenChainId:t}:e)))),(0,Te.zg)((e=>this.setDapps(e))),k())}addConnection(e){const t=e.overriddenChainId,n={dappName:e.dappName,dappLogoURL:e.dappLogoURL,dappLogoURLAlt:e.dappLogoURLAlt,dappURL:e.dappURL,connected:!0,connectedAddress:e.connectedAddress,providerType:e.providerType,overriddenChainId:t};return this.updateConnection([n],!1)}removeConnection(e){return this.updateConnection([e],!0)}removeAllConnections(e){return this.getDapps().pipe((0,Te.zg)((t=>{if(e){const n=t.filter((t=>{const n=e.map((e=>e.toLocaleLowerCase()));return!!t.connectedAddress&&n.includes(t.connectedAddress.toLowerCase())}));return this.updateConnection(n,!0)}return this.updateConnection(t,!0)})),k())}setDapps(e){return N.deferPromise((async()=>new Promise((t=>{chrome.storage?.local.set({[Ve.connectedDapps]:JSON.stringify(e)},(()=>{this.dappsSubject.next(e),t()}))}))))}getDapps(){return N.deferPromise((async()=>new Promise((e=>{chrome.storage?.local.get([Ve.connectedDapps],(t=>{if(!t[Ve.connectedDapps])return void e([]);const n=t[Ve.connectedDapps];e(n?JSON.parse(n):[])}))}))))}getHostName(e){return new URL(e).hostname.toLocaleUpperCase()}updateConnection(e,t){return this.getDapps().pipe((0,x.U)((n=>{let r=n;r.length||(r=[]);let i=!1;const o=new Set(e.map((e=>this.getHostName(e.dappURL)))),s=r.map((n=>{const r=this.getHostName(n.dappURL);if(o.has(r)){const o=e.find((e=>this.getHostName(e.dappURL)===r&&e.connectedAddress?.toLowerCase()===n.connectedAddress?.toLowerCase()));if(o)return i=!0,{dappName:o.dappName,dappLogoURL:o.dappLogoURL,dappLogoURLAlt:o.dappLogoURLAlt,dappURL:o.dappURL,overriddenChainId:o.overriddenChainId,connected:!t,connectedAddress:o.connectedAddress,providerType:o.providerType}}return n}));if(!i&&!t){const t={dappName:e[0].dappName,dappLogoURL:e[0].dappLogoURL,dappLogoURLAlt:e[0].dappLogoURLAlt,dappURL:e[0].dappURL,connected:!0,connectedAddress:e[0].connectedAddress,providerType:e[0].providerType};return[...s,t]}return s})),(0,Te.zg)((e=>this.setDapps(e))),k())}};new class{DEFAULT_TIMEOUT_MS=864e5;isAppUnlockedObservable;mnemonic;passwordRequestSubject=new oe.xQ;passwordResultSubject=new se.t(1);changeAutoLockValueSubject=new oe.xQ;isAppUnlockedSubject=new ae.X(F.get(c));lastPasswordAttemptSubject=new ae.X(F.get(v));activityStream;passwordLockoutTimerClearedSubject=new oe.xQ;constructor(){this.isAppUnlockedObservable=this.isAppUnlockedSubject.pipe(A()),this.isAppUnlocked=!this.isAuthenticationRequired($e.AppAccessRequired)&&Y(),ie.get("mnemonic").then((e=>{e&&(this.mnemonic=e)}));(0,ue.R)(window,"load").pipe((0,E.h)((()=>!!this.autoLockByUnixTimestamp&&this.autoLockByUnixTimestamp<Date.now()))).pipe((0,E.h)((()=>F.get(_)===G.standalone||Y())),ge((()=>{this.lock(),this.isAppAccessAuthRequired=!0})),_e((()=>this.unlock($e.AppAccessRequired)))).subscribe((()=>{this.setAutoLockTimeout(this.autoLockTimeout??this.DEFAULT_TIMEOUT_MS)}));const e=["mousemove","mousedown","touchstart","click","keydown","scroll"].map((e=>(0,ue.R)(window,e)));this.activityStream=(0,ce.T)(...e).pipe(function(e,t){return void 0===t&&(t=xe),function(n){return n.lift(new Ae(e,!!t.leading,!!t.trailing))}}((()=>(0,le.F)(150))),ge((()=>{this.autoLockByUnixTimestamp=Date.now()+(this.autoLockTimeout??this.DEFAULT_TIMEOUT_MS)})),(0,Te.zg)((()=>(0,de.of)(this.autoLockTimeout??this.DEFAULT_TIMEOUT_MS)))),(0,ce.T)(this.changeAutoLockValueSubject,this.activityStream).pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,Ce.K)(n)?(e.pop(),function(t){return(0,Me.z)(e,t,n)}):function(t){return(0,Me.z)(e,t)}}(this.autoLockTimeout??this.DEFAULT_TIMEOUT_MS),ge((async()=>chrome.storage.local.set({autoLockByUnixTimestamp:this.autoLockByUnixTimestamp}))),_e((e=>(0,he.H)(e))),ge((()=>{this.lock(),this.isAppAccessAuthRequired=!0})),_e((()=>this.unlock($e.AppAccessRequired)))).subscribe(),this.lastPasswordAttemptSubject.pipe(A(),(0,Te.zg)((e=>(0,de.of)(e).pipe(Ie(this.getPasswordAttemptLockoutTimeRemaining(e)))))).subscribe((e=>{e===this.lastPasswordAttemptTime&&(this.resetPasswordAttempts(),this.resetLastPasswordAttemptTime(),this.passwordLockoutTimerClearedSubject.next())}))}get passwordRequest(){return this.passwordRequestSubject.asObservable()}get gotPasswordResult(){return this.passwordResultSubject.asObservable()}get passwordLockOutTimerCleared(){return this.passwordLockoutTimerClearedSubject.asObservable()}get isAppUnlocked(){return Boolean(F.get(c))}set isAppUnlocked(e){F.set(c,e),this.isAppUnlockedSubject.next(e)}get passwordAttempts(){return F.get(g)??0}set passwordAttempts(e){F.set(g,e)}incrementPasswordAttempts(){const e=F.get(g)??0;F.set(g,e+1)}resetPasswordAttempts(){F.set(g,0)}get lastPasswordAttemptTime(){return F.get(v)??0}set lastPasswordAttemptTime(e){F.set(v,e),this.lastPasswordAttemptSubject.next(e)}resetLastPasswordAttemptTime(){F.set(v,0),this.lastPasswordAttemptSubject.next(0)}getPasswordAttemptLockoutTimeRemaining(e){const t=e?Date.now()-e:0;return Math.max(3e5-t,0)}get autoLockTimeout(){return F.get(b)}set autoLockTimeout(e){F.set(b,e)}get autoLockByUnixTimestamp(){return F.get(w)}set autoLockByUnixTimestamp(e){F.set(w,e)}get isAuthenticating(){return!0===F.get(l)}set isAuthenticating(e){F.set(l,e)}get isTransactionAuthRequired(){return!0===F.get(d)}set isTransactionAuthRequired(e){F.set(d,e)}get isAppAccessAuthRequired(){return!0===F.get(h)}set isAppAccessAuthRequired(e){F.set(h,e)}isAuthenticationRequired(e){switch(e.type){case qe.appAccessRequired:return this.isAppAccessAuthRequired;case qe.transaction:return this.isTransactionAuthRequired||!this.mnemonic;case qe.unlockIfNeeded:return!this.mnemonic;default:throw new Error("No App Lock Type Provided")}}unlock(e){return this.isAuthenticationRequired(e)?(this.sendRequestForPasswordInput(e.cancellable),this.passwordResultSubject):N.just({status:Ue,mnemonic:this.mnemonic})}getMnemonicPromise=async(e=!0)=>new Promise((t=>{this.unlock($e.UnlockIfNeeded(e)).subscribe((e=>{t(e.mnemonic)}))}));async submitPassword(e){return new Promise(((t,n)=>{(0,pe.D)(J(Q(e))).pipe((0,Te.zg)((e=>(this.mnemonic=e,this.isAppUnlocked=!0,this.isAppAccessAuthRequired=!1,this.resetPasswordAttempts(),this.resetLastPasswordAttemptTime(),N.just({status:Ue,mnemonic:e})))),function(e){return function(t){var n=new je(e),r=t.lift(n);return n.caught=r}}((()=>(this.incrementPasswordAttempts(),this.lastPasswordAttemptTime=Date.now(),N.just({status:Be,numAttempts:this.passwordAttempts}))))).subscribe((e=>{this.isTransactionAuthRequired||ie.set("mnemonic",this.mnemonic),this.passwordResultSubject.next(e),t(e)}),(e=>n(e)))}))}cacheMnemonicIfNeeded(e){this.isTransactionAuthRequired||(this.mnemonic=e,ie.set("mnemonic",e))}lock(){this.isAppUnlocked=!1,this.mnemonic=void 0,ie.set("mnemonic",void 0)}async changePassword(e,t){const n=await J(Q(e));return await async function(e,t){const n=await t(e);return F.set(p,n),n}(n,H(t)),{status:Fe}}setAutoLockTimeout(e){this.autoLockTimeout=e,this.autoLockByUnixTimestamp=Date.now()+e,this.changeAutoLockValueSubject.next(e)}sendRequestForPasswordInput(e){this.passwordRequestSubject.next({cancellable:e})}};var ze;!function(e){e.solanaConnectionSuccess="solanaConnectionSuccess",e.solanaConnectionDeny="solanaConnectionDeny",e.signSolanaMessageSuccess="signSolanaMessageSuccess",e.signSolanaMessageDeny="signSolanaMessageDeny",e.sendSolanaTransactionSuccess="sendSolanaTransactionSuccess",e.sendSolanaTransactionDeny="sendSolanaTransactionDeny",e.signSolanaTransactionSuccess="signSolanaTransactionSuccess",e.signSolanaTransactionDeny="signSolanaTransactionDeny",e.signAllSolanaTransactionsSuccess="signAllSolanaTransactionsSuccess",e.signAllSolanaTransactionsDeny="signAllSolanaTransactionsDeny",e.parentDisconnected="parentDisconnected",e.featureFlagOff="featureFlagOff"}(ze||(ze={}));var Ke=n(86296);const He="https://api.wallet.coinbase.com",Qe="MISSING_ENV_VAR".TARGET_ENV?.includes("e2e"),Ge="MISSING_ENV_VAR".TARGET_ENV?.includes("perf"),Ze=Qe||Ge;const Je=e=>({setSelf:t,onSet:n})=>{const r=F.get(e);void 0!==r&&t(r),n((t=>{F.set(e,t)}))};var Ye=n(2784),Xe=n(28316);var et=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},tt=et;var nt=function(e){return!!e&&"function"==typeof e.then};var rt=function(e,t){if(null!=e)return e;throw tt(null!=t?t:"Got unexpected null or undefined")};function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ot{getValue(){throw tt("BaseLoadable")}toPromise(){throw tt("BaseLoadable")}valueMaybe(){throw tt("BaseLoadable")}valueOrThrow(){throw tt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw tt("BaseLoadable")}promiseOrThrow(){throw tt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw tt("BaseLoadable")}errorOrThrow(){throw tt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw tt("BaseLoadable")}}class st extends ot{constructor(e){super(),it(this,"state","hasValue"),it(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return nt(t)?dt(t):ft(t)?t:ct(t)}catch(t){return nt(t)?dt(t.next((()=>this.map(e)))):lt(t)}}}class at extends ot{constructor(e){super(),it(this,"state","hasError"),it(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class ut extends ot{constructor(e){super(),it(this,"state","loading"),it(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return dt(this.contents.then((t=>{const n=e(t);if(ft(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(nt(t))return t.then((()=>this.map(e).contents));throw t})))}}function ct(e){return Object.freeze(new st(e))}function lt(e){return Object.freeze(new at(e))}function dt(e){return Object.freeze(new ut(e))}function ht(){return Object.freeze(new ut(new Promise((()=>{}))))}function pt(e){const t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))).map((e=>ft(e)?e:nt(e)?dt(e):ct(e))),n=function(e){return e.every((e=>"hasValue"===e.state))?ct(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?lt(rt(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):dt(Promise.all(e.map((e=>e.contents))))}(t);return Array.isArray(e)?n:n.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function ft(e){return e instanceof ot}const yt={of:e=>nt(e)?dt(e):ft(e)?e:ct(e),error:e=>lt(e),loading:()=>ht(),all:pt,isLoadable:ft};var mt={loadableWithValue:ct,loadableWithError:lt,loadableWithPromise:dt,loadableLoading:ht,loadableAll:pt,isLoadable:ft,RecoilLoadable:yt},gt=mt.loadableWithValue,vt=mt.loadableWithError,bt=mt.loadableWithPromise,wt=mt.loadableLoading,_t=mt.loadableAll,St=mt.isLoadable,Et=mt.RecoilLoadable,xt=Object.freeze({__proto__:null,loadableWithValue:gt,loadableWithError:vt,loadableWithPromise:bt,loadableLoading:wt,loadableAll:_t,isLoadable:St,RecoilLoadable:Et});const At=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function kt(e){var t;return null!==(t=At.get(e))&&void 0!==t&&t}kt.setPass=e=>{At.set(e,!0)},kt.setFail=e=>{At.set(e,!1)},kt.clear=()=>{At.clear()};var Tt,Mt,Ct,Nt=kt;const Ot=null!==(Tt=Ye.createMutableSource)&&void 0!==Tt?Tt:Ye.unstable_createMutableSource,It=null!==(Mt=Ye.useMutableSource)&&void 0!==Mt?Mt:Ye.unstable_useMutableSource,Rt=null!==(Ct=Ye.useSyncExternalStore)&&void 0!==Ct?Ct:Ye.unstable_useSyncExternalStore;var Pt={createMutableSource:Ot,useMutableSource:It,useSyncExternalStore:Rt,reactMode:function(){return Nt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Nt("recoil_sync_external_store")&&null!=Rt?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Nt("recoil_mutable_source")&&null!=It&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Nt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Nt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class Lt{constructor(e){it(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class jt extends Lt{}class Dt extends Lt{}var Ut={AbstractRecoilValue:Lt,RecoilState:jt,RecoilValueReadOnly:Dt,isRecoilValue:function(e){return e instanceof jt||e instanceof Dt}},Bt=Ut.AbstractRecoilValue,Ft=Ut.RecoilState,qt=Ut.RecoilValueReadOnly,Vt=Ut.isRecoilValue,$t=Object.freeze({__proto__:null,AbstractRecoilValue:Bt,RecoilState:Ft,RecoilValueReadOnly:qt,isRecoilValue:Vt});var Wt=function(e,...t){0};var zt=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};var Kt=function(e,t,{error:n}={}){return null};const{isFastRefreshEnabled:Ht}=Pt;class Qt{}const Gt=new Qt,Zt=new Map,Jt=new Map;class Yt extends Error{}const Xt=new Map;function en(e){return Xt.get(e)}var tn={nodes:Zt,recoilValues:Jt,registerNode:function(e){if(Zt.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}Zt.set(e.key,e);const t=null==e.set?new $t.RecoilValueReadOnly(e.key):new $t.RecoilState(e.key);return Jt.set(e.key,t),t},getNode:function(e){const t=Zt.get(e);if(null==t)throw new Yt(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return Zt.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!Nt("recoil_memory_managament_2020"))return;const n=Zt.get(e);var r;null!=n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(Zt.delete(e),null===(r=en(e))||void 0===r||r(),Xt.delete(e))},setConfigDeletionHandler:function(e,t){Nt("recoil_memory_managament_2020")&&(void 0===t?Xt.delete(e):Xt.set(e,t))},getConfigDeletionHandler:en,recoilValuesForKeys:function(e){return zt(e,(e=>rt(Jt.get(e))))},NodeMissingError:Yt,DefaultValue:Qt,DEFAULT_VALUE:Gt};var nn={enqueueExecution:function(e,t){t()}};var rn=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,s=r/4,a={},u=function(e){return function(){return e}},c=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i){r=(r<<5)-r+e.charCodeAt(i)|0}return r},l=function(e,t){return t>>>e&i},d=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&e+(e>>16)}(e&t-1)},p=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=r[s]}return i[t]=n,i},f=function(e,t,n){var r=n.length-1,i=0,o=0,s=n;if(e)i=o=t;else for(s=new Array(r);i<t;)s[o++]=n[i++];for(++i;i<=r;)s[o++]=n[i++];return e&&(s.length=r),s},y={__hamt_isEmpty:!0},m=function(e){return e===y||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},v=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:x}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:A}},w=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:k}},_=function e(t,n,r,i,o,s){if(r===o)return v(t,r,[s,i]);var a=l(n,r),u=l(n,o);return b(t,d(a)|d(u),a===u?[e(t,n+5,r,i,o,s)]:a<u?[i,s]:[s,i])},S=function(e,t){return e===t.edit},E=function(e,t,n,r,i,o,s){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===a?(--s.value,y):S(e,this)?(this.value=u,this):g(e,i,o,u)}var c=r();return c===a?this:(++s.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},x=function(e,t,n,r,i,o,s){if(i===this.hash){var u=function(e,t,n,r,i,o,s,u){for(var c=i.length,l=0;l<c;++l){var d=i[l];if(n(s,d.key)){var h=d.value,y=o(h);return y===h?i:y===a?(--u.value,f(e,l,i)):p(e,l,g(t,r,s,y),i)}}var m=o();return m===a?i:(++u.value,p(e,c,g(t,r,s,m),i))}(S(e,this),e,t,this.hash,this.children,r,o,s);return u===this.children?this:u.length>1?v(e,this.hash,u):u[0]}var c=r();return c===a?this:(++s.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},A=function(e,t,n,r,i,s,a){var u=this.mask,c=this.children,g=l(n,i),v=d(g),_=h(u,v),E=u&v,x=E?c[_]:y,A=x._modify(e,t,n+5,r,i,s,a);if(x===A)return this;var k,T=S(e,this),M=u,C=void 0;if(E&&m(A)){if(!(M&=~v))return y;if(c.length<=2&&((k=c[1^_])===y||1===k.type||2===k.type))return c[1^_];C=f(T,_,c)}else if(E||m(A))C=p(T,_,A,c);else{if(c.length>=o)return function(e,t,n,r,i){for(var o=[],s=r,a=0,u=0;s;++u)1&s&&(o[u]=i[a++]),s>>>=1;return o[t]=n,w(e,a+1,o)}(e,g,A,u,c);M|=v,C=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var s=0,a=0,u=new Array(i+1);s<t;)u[a++]=r[s++];for(u[t]=n;s<i;)u[++a]=r[s++];return u}(T,_,A,c)}return T?(this.mask=M,this.children=C,this):b(e,M,C)},k=function(e,t,n,r,i,o,a){var u=this.size,c=this.children,d=l(n,i),h=c[d],f=(h||y)._modify(e,t,n+5,r,i,o,a);if(h===f)return this;var g=S(e,this),v=void 0;if(m(h)&&!m(f))++u,v=p(g,d,f,c);else if(!m(h)&&m(f)){if(--u<=s)return function(e,t,n,r){for(var i=new Array(t-1),o=0,s=0,a=0,u=r.length;a<u;++a)if(a!==n){var c=r[a];c&&!m(c)&&(i[o++]=c,s|=1<<a)}return b(e,s,i)}(e,u,d,c);v=p(g,d,y,c)}else v=p(g,d,f,c);return g?(this.size=u,this.children=v,this):w(e,u,v)};function T(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}y._modify=function(e,t,n,r,i,o,s){var u=r();return u===a?y:(++s.value,g(e,i,o,u))},T.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new T(this._editable,this._edit,this._config,e,t)};var M=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,s=r._config.keyEq;;)switch(i.type){case 1:return s(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var a=i.children,u=0,c=a.length;u<c;++u){var p=a[u];if(s(n,p.key))return p.value}return e;case 3:var f=l(o,t),y=d(f);if(i.mask&y){i=i.children[h(i.mask,y)],o+=5;break}return e;case 4:if(i=i.children[l(o,t)]){o+=5;break}return e;default:return e}};T.prototype.tryGetHash=function(e,t,n){return M(e,t,n,this)};var C=n.tryGet=function(e,t,n){return M(e,n._config.hash(t),t,n)};T.prototype.tryGet=function(e,t){return C(e,t,this)};var N=n.getHash=function(e,t,n){return M(void 0,e,t,n)};T.prototype.getHash=function(e,t){return N(e,t,this)};n.get=function(e,t){return M(void 0,t._config.hash(e),e,t)};T.prototype.get=function(e,t){return C(t,e,this)};var O=n.has=function(e,t,n){return M(a,e,t,n)!==a};T.prototype.hasHash=function(e,t){return O(e,t,this)};var I=n.has=function(e,t){return O(t._config.hash(e),e,t)};T.prototype.has=function(e){return I(e,this)};var R=function(e,t){return e===t};n.make=function(e){return new T(0,0,{keyEq:e&&e.keyEq||R,hash:e&&e.hash||c},y,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!m(e._root)};T.prototype.isEmpty=function(){return P(this)};var L=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};T.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var j=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};T.prototype.modify=function(e,t){return j(t,e,this)};var D=n.setHash=function(e,t,n,r){return L(u(n),e,t,r)};T.prototype.setHash=function(e,t,n){return D(e,t,n,this)};var U=n.set=function(e,t,n){return D(n._config.hash(e),e,t,n)};T.prototype.set=function(e,t){return U(e,t,this)};var B=u(a),F=n.removeHash=function(e,t,n){return L(B,e,t,n)};T.prototype.removeHash=T.prototype.deleteHash=function(e,t){return F(e,t,this)};var q=n.remove=function(e,t){return F(t._config.hash(e),e,t)};T.prototype.remove=T.prototype.delete=function(e){return q(e,this)};var V=n.beginMutation=function(e){return new T(e._editable+1,e._edit+1,e._config,e._root,e._size)};T.prototype.beginMutation=function(){return V(this)};var $=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};T.prototype.endMutation=function(){return $(this)};var W=n.mutate=function(e,t){var n=V(t);return e(n),$(n)};T.prototype.mutate=function(e){return W(e,this)};var z=function(e){return e&&K(e[0],e[1],e[2],e[3],e[4])},K=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!m(o))return H(o,r,[e,t,n,r,i])}return z(i)},H=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return K(r.length,r,0,t,n);default:return z(n)}},Q={done:!0};function G(e){this.v=e}G.prototype.next=function(){if(!this.v)return Q;var e=this.v;return this.v=z(e.rest),e},G.prototype[Symbol.iterator]=function(){return this};var Z=function(e,t){return new G(H(e._root,t))},J=function(e){return[e.key,e.value]},Y=n.entries=function(e){return Z(e,J)};T.prototype.entries=T.prototype[Symbol.iterator]=function(){return Y(this)};var X=function(e){return e.key},ee=n.keys=function(e){return Z(e,X)};T.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=T.prototype.values=function(e){return Z(e,te)};T.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var s=0,a=o.length;s<a;){var u=o[s++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};T.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};T.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};T.prototype.count=function(){return oe(this)},Object.defineProperty(T.prototype,"size",{get:T.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n}));class on{constructor(e){it(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return an(this)}toMap(){return new Map(this._map)}}class sn{constructor(e){if(it(this,"_hamt",rn.empty.beginMutation()),e instanceof sn){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return an(this)}toMap(){return new Map(this._hamt)}}function an(e){return Nt("recoil_hamt_2020")?new sn(e):new on(e)}var un=an,cn=Object.freeze({__proto__:null,persistentMap:un});var ln=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n};var dn=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function hn(e,t,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(e);if(s&&r&&s!==r.nodeDeps.get(e))return;i.set(e,t);const a=null==s?t:ln(t,s);for(const t of a){o.has(t)||o.set(t,new Set);rt(o.get(t)).add(e)}if(s){const n=ln(s,t);for(const t of n){if(!o.has(t))return;const n=rt(o.get(t));n.delete(e),0===n.size&&o.delete(t)}}}var pn={cloneGraph:function(e){return{nodeDeps:dn(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:dn(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,r){var i,o,s,a;const u=n.getState();r!==u.currentTree.version&&r!==(null===(i=u.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(o=u.previousTree)||void 0===o?void 0:o.version)&&Kt("Tried to save dependencies to a discarded tree");const c=n.getGraph(r);if(hn(e,t,c),r===(null===(s=u.previousTree)||void 0===s?void 0:s.version)){hn(e,t,n.getGraph(u.currentTree.version),c)}if(r===(null===(a=u.previousTree)||void 0===a?void 0:a.version)||r===u.currentTree.version){var l;const r=null===(l=u.nextTree)||void 0===l?void 0:l.version;if(void 0!==r){hn(e,t,n.getGraph(r),c)}}}};let fn=0;let yn=0;let mn=0;var gn={getNextTreeStateVersion:()=>fn++,getNextStoreID:()=>yn++,getNextComponentID:()=>mn++};const{persistentMap:vn}=cn,{graph:bn}=pn,{getNextTreeStateVersion:wn}=gn;function _n(){const e=wn();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:vn(),nonvalidatedAtoms:vn()}}var Sn={makeEmptyTreeState:_n,makeEmptyStoreState:function(){const e=_n();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,bn()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:wn};class En{}var xn={RetentionZone:En,retentionZone:function(){return new En}};var An={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var kn=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};var Tn=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Mn,getNodeMaybe:Cn,recoilValuesForKeys:Nn}=tn,{RetentionZone:On}=xn,{setByAddingToSet:In}=An,Rn=Object.freeze(new Set);class Pn extends Error{}function Ln(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Mn(n),s=function(e,t,n){if(!Nt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof On)i(n);else if(Array.isArray(n))for(const e of n)i(e);return()=>{if(!Nt("recoil_memory_managament_2020"))return;const{retention:r}=e.getState();function i(e){const n=r.nodesRetainedByZone.get(e);null==n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}if(n instanceof On)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,o.retainedBy),a=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{a(),s()}))}function jn(e,t,n){return Mn(n).peek(e,t)}function Dn(e,t,n){const r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var s;r.add(e);const t=null!==(s=o.nodeToNodeSubscriptions.get(e))&&void 0!==s?s:Rn;for(const e of t)r.has(e)||i.push(e)}return r}var Un={getNodeLoadable:function(e,t,n){return Ln(e,t,n,"get"),Mn(n).get(e,t)},peekNodeLoadable:jn,setNodeValue:function(e,t,n,r){const i=Mn(n);if(null==i.set)throw new Pn(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Ln(e,t,n,"set"),o(e,t,r)},initializeNode:function(e,t,n){Ln(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=Cn(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:In(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const r=e.getState(),i=e.getGraph(t.version),o=Mn(n).nodeType;return Tn({type:o},{loadable:()=>jn(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>"selector"!==o&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return Nn(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var i,o;return{nodes:Nn(kn(Dn(e,t,new Set([n])),(e=>e!==n))),components:zt(null!==(i=null===(o=r.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}})},getDownstreamNodes:Dn};let Bn=null;var Fn={setInvalidateMemoizedSnapshot:function(e){Bn=e},invalidateMemoizedSnapshot:function(){var e;null===(e=Bn)||void 0===e||e()}};const{getDownstreamNodes:qn,getNodeLoadable:Vn,setNodeValue:$n}=Un,{getNextComponentID:Wn}=gn,{getNode:zn,getNodeMaybe:Kn}=tn,{DefaultValue:Hn}=tn,{reactMode:Qn}=Pt,{AbstractRecoilValue:Gn,RecoilState:Zn,RecoilValueReadOnly:Jn,isRecoilValue:Yn}=$t,{invalidateMemoizedSnapshot:Xn}=Fn;function er(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"==typeof r){const i=Vn(e,t,n);if("loading"===i.state){const e=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Kt(e),tt(e)}if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),s=$n(e,t,r.key,o);for(const[e,n]of s.entries())tr(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;tr(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,o=Kn(e);null==o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else Kt(`Unknown action ${n.type}`)}function tr(e,t,n){"hasValue"===n.state&&n.contents instanceof Hn?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function nr(e,t){e.replaceState((n=>{const r=or(n);for(const n of t)er(e,r,n);return sr(e,r),Xn(),r}))}function rr(e,t){if(ir.length){const n=ir[ir.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else nr(e,[t])}const ir=[];function or(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function sr(e,t){const n=qn(e,t,t.dirtyAtoms);for(const e of n){var r,i;null===(r=Kn(e))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function ar(e,t,n){rr(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var ur={RecoilValueReadOnly:Jn,AbstractRecoilValue:Gn,RecoilState:Zn,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const o=e.getState();n.version!==o.currentTree.version&&n.version!==(null===(r=o.nextTree)||void 0===r?void 0:r.version)&&n.version!==(null===(i=o.previousTree)||void 0===i?void 0:i.version)&&Kt("Tried to read from a discarded tree");const s=Vn(e,n,t);return"loading"===s.state&&s.contents.catch((()=>{})),s},setRecoilValue:ar,setRecoilValueLoadable:function(e,t,n){if(n instanceof Hn)return ar(e,t,n);rr(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){rr(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){rr(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=Wn(),o=e.getState();o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),rt(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]);const s=Qn();if(s.early&&("LEGACY"===s.mode||"MUTABLE_SOURCE"===s.mode)){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)?(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t)):Kt(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`)}}},isRecoilValue:Yn,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof Hn?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return ir.push(e),()=>{for(const[t,n]of e)nr(t,n);ir.pop()!==e&&Kt("Incorrect order of batch popping")}},writeLoadableToTreeState:tr,invalidateDownstreams:sr,copyTreeState:or,refreshRecoilValue:function(e,t){var n;const{currentTree:r}=e.getState(),i=zn(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var cr=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:lr}=Un,{deleteNodeConfigIfPossible:dr,getNode:hr}=tn,{RetentionZone:pr}=xn,fr=new Set;function yr(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return void Kt("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const i=new Set;for(const e of t)if(e instanceof pr)for(const t of gr(n,e))i.add(t);else i.add(e);const o=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,s=new Set;return a(t),o;function a(t){const u=new Set,c=function(e,t,n,r,i){const o=e.getGraph(t.version),s=[],a=new Set;for(;n.size>0;)u(rt(n.values().next().value));return s;function u(e){if(r.has(e)||i.has(e))return void n.delete(e);if(a.has(e))return;const t=o.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)u(e);a.add(e),n.delete(e),s.push(e)}}(e,r,t,o,s);for(const e of c){var l;if("recoilRoot"===hr(e).retainedBy){s.add(e);continue}if((null!==(l=n.retention.referenceCounts.get(e))&&void 0!==l?l:0)>0){s.add(e);continue}if(vr(e).some((e=>n.retention.referenceCounts.get(e)))){s.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&cr(t,(e=>s.has(e)))?s.add(e):(o.add(e),u.add(e))}const d=new Set;for(const e of u)for(const t of null!==(h=i.nodeDeps.get(e))&&void 0!==h?h:fr){var h;o.has(t)||d.add(t)}d.size&&a(d)}}(e,i);for(const t of o)mr(e,r,t)}function mr(e,t,n){if(!Nt("recoil_memory_managament_2020"))return;lr(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=vr(n);for(const e of i){var o;null===(o=r.retention.nodesRetainedByZone.get(e))||void 0===o||o.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(t.version);if(s){const e=s.nodeDeps.get(n);if(void 0!==e){s.nodeDeps.delete(n);for(const t of e){var a;null===(a=s.nodeToNodeSubscriptions.get(t))||void 0===a||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}dr(n)}function gr(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:fr}function vr(e){const t=hr(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof pr?[t]:t}function br(e,t){if(!Nt("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):yr(e,new Set([t]))}(e,t)}var wr={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!Nt("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?br(e,t):i.set(t,o)},updateRetainCountToZero:br,releaseScheduledRetainablesNow:function(e){if(!Nt("recoil_memory_managament_2020"))return;const t=e.getState();yr(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:_r}=Xe;var Sr={unstable_batchedUpdates:_r};const{unstable_batchedUpdates:Er}=Sr;var xr={unstable_batchedUpdates:Er};const{batchStart:Ar}=ur,{unstable_batchedUpdates:kr}=xr;let Tr=kr;var Mr={getBatcher:()=>Tr,setBatcher:e=>{Tr=e},batchUpdates:e=>{Tr((()=>{let t=()=>{};try{t=Ar(),e()}finally{t()}}))}};var Cr=function*(e){for(const t of e)for(const e of t)yield e};const Nr="undefined"==typeof Window||"undefined"==typeof window,Or="undefined"!=typeof navigator&&"ReactNative"===navigator.product;var Ir={isSSR:Nr,isReactNative:Or,isWindow:e=>!Nr&&(e===window||e instanceof Window)};var Rr={memoizeWithArgsHash:function(e,t){let n;return(...r)=>{n||(n={});const i=t(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...r)),n[i]}},memoizeOneWithArgsHash:function(e,t){let n,r;return(...i)=>{const o=t(...i);return n===o||(n=o,r=e(...i)),r}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,r;return[(...i)=>{const o=t(...i);return n===o||(n=o,r=e(...i)),r},()=>{n=null}]}};const{batchUpdates:Pr}=Mr,{initializeNode:Lr,peekNodeInfo:jr}=Un,{graph:Dr}=pn,{getNextStoreID:Ur}=gn,{DEFAULT_VALUE:Br,recoilValues:Fr,recoilValuesForKeys:qr}=tn,{AbstractRecoilValue:Vr,getRecoilValueAsLoadable:$r,setRecoilValue:Wr,setUnvalidatedRecoilValue:zr}=ur,{updateRetainCount:Kr}=wr,{setInvalidateMemoizedSnapshot:Hr}=Fn,{getNextTreeStateVersion:Qr,makeEmptyStoreState:Gr}=Sn,{isSSR:Zr}=Ir,{memoizeOneWithArgsHashAndInvalidation:Jr}=Rr;class Yr{constructor(e,t){it(this,"_store",void 0),it(this,"_refCount",1),it(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),$r(this._store,e)))),it(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),it(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return qr(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?Fr.values():!0===e.isInitialized?qr(Cr([t,n])):kn(Fr.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),it(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),jr(this._store,this._store.getState().currentTree,e)))),it(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new ni(this,Pr);return e(t),t})),it(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new ni(this,Pr);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:Ur(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return rt(n.get(t));const r=Dr();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw tt("Cannot subscribe to Snapshots")}};for(const e of this._store.getState().knownAtoms)Lr(this._store,e,"get"),Kr(this._store,e,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&Kt("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){Zr||window.setTimeout((()=>this._release()),0)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!Nt("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Nt("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Xr(e,t,n=!1){const r=e.getState(),i=n?Qr():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(zt(r.nodeCleanupFunctions.entries(),(([e])=>[e,()=>{}])))}}const[ei,ti]=Jr(((e,t)=>{var n;const r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:rt(r.previousTree);return new Yr(Xr(e,i),e.storeID)}),((e,t)=>{var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)}));Hr(ti);class ni extends Yr{constructor(e,t){super(Xr(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),it(this,"_batch",void 0),it(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Kr(n,e.key,1),Wr(this.getStore_INTERNAL(),e,t)}))})),it(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Kr(t,e.key,1),Wr(this.getStore_INTERNAL(),e,Br)}))})),it(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();Pr((()=>{for(const[n,r]of e.entries())Kr(t,n,1),zr(t,new Vr(n),r)}))})),this._batch=t}}var ri={Snapshot:Yr,MutableSnapshot:ni,freshSnapshot:function(e){const t=new Yr(Gr());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="latest"){const n=ei(e,t);return n.isRetained()?n:(ti(),ei(e,t))}},ii=ri.Snapshot,oi=ri.MutableSnapshot,si=ri.freshSnapshot,ai=ri.cloneSnapshot,ui=Object.freeze({__proto__:null,Snapshot:ii,MutableSnapshot:oi,freshSnapshot:si,cloneSnapshot:ai});var ci=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t};const{useRef:li}=Ye;var di=function(e){const t=li(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:hi,makeEmptyStoreState:pi}=Sn,{cleanUpNode:fi,getDownstreamNodes:yi,initializeNode:mi,setNodeValue:gi,setUnvalidatedAtomValue_DEPRECATED:vi}=Un,{graph:bi}=pn,{cloneGraph:wi}=pn,{getNextStoreID:_i}=gn,{createMutableSource:Si,reactMode:Ei}=Pt,{applyAtomValueWrites:xi}=ur,{releaseScheduledRetainablesNow:Ai}=wr,{freshSnapshot:ki}=ui,{useCallback:Ti,useContext:Mi,useEffect:Ci,useMemo:Ni,useRef:Oi,useState:Ii}=Ye;function Ri(){throw tt("This component must be used inside a <RecoilRoot> component.")}const Pi=Object.freeze({storeID:_i(),getState:Ri,replaceState:Ri,getGraph:Ri,subscribeToTransactions:Ri,addTransactionMetadata:Ri});let Li=!1;function ji(e){if(Li)throw tt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){Nt("recoil_memory_managament_2020")&&Nt("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Ai(e);const n=t.currentTree.version,r=hi();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,wi(rt(t.graphsByVersion.get(n))))}}const Di=Ye.createContext({current:Pi}),Ui=()=>Mi(Di),Bi=Ye.createContext(null);function Fi(e,t,n){const r=yi(e,n,n.dirtyAtoms);for(const e of r){const r=t.nodeToComponentSubscriptions.get(e);if(r)for(const[e,[t,i]]of r)i(n)}}function qi(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,n]of i)n(e);for(const[n,r]of t.transactionSubscriptions)r(e);(!Ei().early||t.suspendedComponentResolvers.size>0)&&(Fi(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Vi({setNotifyBatcherOfChange:e}){const t=Ui(),[,n]=Ii([]);return e((()=>n({}))),Ci((()=>(e((()=>n({}))),()=>{e((()=>{}))})),[e]),Ci((()=>{nn.enqueueExecution("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,qi(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):Kt("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Nt("recoil_memory_managament_2020")&&null==n&&Ai(e)}finally{t.commitDepth--}}(t.current)}))})),null}let $i=0;function Wi({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let i;const o=e=>{const t=i.current.graphsByVersion;if(t.has(e))return rt(t.get(e));const n=bi();return t.set(e,n),n},s=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=d.current.getState(),n=$i++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=d.current.getState();n.has(t)||n.set(t,new Map);const r=$i++;return rt(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},a=e=>{ji(d.current);for(const t of Object.keys(e))rt(d.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{ji(d.current);const t=rt(i.current.nextTree);let n;try{Li=!0,n=e(t)}finally{Li=!1}n!==t&&(i.current.nextTree=n,Ei().early&&Fi(d.current,i.current,n),rt(c.current)())},c=Oi(null),l=Ti((e=>{c.current=e}),[c]),d=di((()=>null!=n?n:{storeID:_i(),getState:()=>i.current,replaceState:u,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a}));null!=n&&(d.current=n),i=di((()=>null!=e?function(e,t){const n=pi();return t({set:(t,r)=>{const i=n.currentTree,o=gi(e,i,t.key,r),s=new Set(o.keys()),a=i.nonvalidatedAtoms.clone();for(const e of s)a.delete(e);n.currentTree={...i,dirtyAtoms:ci(i.dirtyAtoms,s),atomValues:xi(i.atomValues,o),nonvalidatedAtoms:a}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=vi(n.currentTree,t,e)}))}}),n}(d.current,e):null!=t?function(e){const t=ki(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((e=>e())),n.nodeCleanupFunctions.clear(),n}(t):pi()));const h=Ni((()=>null==Si?void 0:Si(i,(()=>i.current.currentTree.version))),[i]);return Ci((()=>{const e=d.current;for(const t of new Set(e.getState().knownAtoms))mi(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)fi(e,t)}}),[d]),Ye.createElement(Di.Provider,{value:d},Ye.createElement(Bi.Provider,{value:h},Ye.createElement(Vi,{setNotifyBatcherOfChange:l}),r))}var zi={RecoilRoot:function(e){const{override:t,...n}=e,r=Ui();return!1===t&&r.current!==Pi?e.children:Ye.createElement(Wi,n)},useStoreRef:Ui,useRecoilMutableSource:function(){const e=Mi(Bi);return null==e&&Wt("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return Ui().current.storeID},notifyComponents_FOR_TESTING:Fi,sendEndOfBatchNotifications_FOR_TESTING:qi};var Ki=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:Hi,useRef:Qi}=Ye;var Gi=function(e){const t=Qi();return Hi((()=>{t.current=e})),t.current};const{useStoreRef:Zi}=zi,{SUSPENSE_TIMEOUT_MS:Ji}=wr,{updateRetainCount:Yi}=wr,{RetentionZone:Xi}=xn,{useEffect:eo,useRef:to}=Ye,{isSSR:no}=Ir;var ro=function(e){if(Nt("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof Xi?e:e.key)),n=Zi();eo((()=>{if(!Nt("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!no)window.clearTimeout(r.current),r.current=null;else for(const n of t)Yi(e,n,1);return()=>{for(const n of t)Yi(e,n,-1)}}),[n,...t]);const r=to(),i=Gi(t);if(!(no||void 0!==i&&Ki(i,t))){const e=n.current;for(const n of t)Yi(e,n,1);if(i)for(const t of i)Yi(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const n of t)Yi(e,n,-1)}),Ji)}}(e)};var io=function(){return"<component name not available>"};const{batchUpdates:oo}=Mr,{DEFAULT_VALUE:so}=tn,{reactMode:ao,useMutableSource:uo,useSyncExternalStore:co}=Pt,{useRecoilMutableSource:lo,useStoreRef:ho}=zi,{isRecoilValue:po}=$t,{AbstractRecoilValue:fo,getRecoilValueAsLoadable:yo,setRecoilValue:mo,setUnvalidatedRecoilValue:go,subscribeToRecoilValue:vo}=ur,{useCallback:bo,useEffect:wo,useMemo:_o,useRef:So,useState:Eo}=Ye,{setByAddingToSet:xo}=An;function Ao(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}))}throw"hasError"===e.state?e.contents:tt(`Invalid value of loadable atom "${t.key}"`)}function ko(e){const t=ho(),n=io(),r=bo((()=>{var n;const r=t.current,i=r.getState(),o=ao().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:yo(r,e,o),key:e.key}}),[t,e]),i=bo((e=>{let t;return()=>{var n,r;const i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),o=_o((()=>i(r)),[r,i]),s=bo((r=>{const i=t.current;return vo(i,e,r,n).release}),[t,e,n]);return co(s,o,o).loadable}function To(e){const t=ho(),n=bo((()=>{var n;const r=t.current,i=r.getState(),o=ao().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return yo(r,e,o)}),[t,e]),r=bo((()=>n()),[n]),i=io(),o=bo(((r,o)=>{const s=t.current;return vo(s,e,(()=>{if(!Nt("recoil_suppress_rerender_in_callback"))return o();const e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),s=lo();if(null==s)throw tt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=uo(s,r,o),u=So(a);return wo((()=>{u.current=a})),a}function Mo(e){const t=ho(),n=io(),r=bo((()=>{var n;const r=t.current,i=r.getState(),o=ao().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return yo(r,e,o)}),[t,e]),i=bo((()=>({loadable:r(),key:e.key})),[r,e.key]),o=bo((e=>{const t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);wo((()=>{const r=vo(t.current,e,(e=>{a(o)}),n);return a(o),r.release}),[n,e,t,o]);const[s,a]=Eo(i);return s.key!==e.key?i().loadable:s.loadable}function Co(e){const t=ho(),[,n]=Eo([]),r=io(),i=bo((()=>{var n;const r=t.current,i=r.getState(),o=ao().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return yo(r,e,o)}),[t,e]),o=i(),s=So(o);return wo((()=>{s.current=o})),wo((()=>{const o=t.current,a=o.getState(),u=vo(o,e,(e=>{var t;if(!Nt("recoil_suppress_rerender_in_callback"))return n([]);const r=i();null!==(t=s.current)&&void 0!==t&&t.is(r)||n(r),s.current=r}),r);if(a.nextTree)o.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{s.current=null,n([])}));else{var c;if(!Nt("recoil_suppress_rerender_in_callback"))return n([]);const e=i();null!==(c=s.current)&&void 0!==c&&c.is(e)||n(e),s.current=e}return u.release}),[r,i,e,t]),o}function No(e){return Nt("recoil_memory_managament_2020")&&ro(e),{TRANSITION_SUPPORT:Mo,SYNC_EXTERNAL_STORE:ko,MUTABLE_SOURCE:To,LEGACY:Co}[ao().mode](e)}function Oo(e){const t=ho();return Ao(No(e),e,t)}function Io(e){const t=ho();return bo((n=>{mo(t.current,e,n)}),[t,e])}function Ro(e){return Nt("recoil_memory_managament_2020")&&ro(e),Mo(e)}function Po(e){const t=ho();return Ao(Ro(e),e,t)}var Lo={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=io(),t=ho(),[,n]=Eo([]),r=So(new Set);r.current=new Set;const i=So(new Set),o=So(new Map),s=bo((e=>{const t=o.current.get(e);t&&(t.release(),o.current.delete(e))}),[o]),a=bo(((e,t)=>{o.current.has(t)&&n([])}),[]);return wo((()=>{const n=t.current;ln(r.current,i.current).forEach((t=>{if(o.current.has(t))return void Wt(`Double subscription to RecoilValue "${t}"`);const r=vo(n,new fo(t),(e=>a(e,t)),e);o.current.set(t,r);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a(n.getState(),t)})):a(n.getState(),t)})),ln(i.current,r.current).forEach((e=>{s(e)})),i.current=r.current})),wo((()=>{const n=o.current;return ln(r.current,new Set(n.keys())).forEach((r=>{const i=vo(t.current,new fo(r),(e=>a(e,r)),e);n.set(r,i)})),()=>n.forEach(((e,t)=>s(t)))}),[e,t,s,a]),_o((()=>{function e(e){return n=>{mo(t.current,e,n)}}function n(e){var n;r.current.has(e.key)||(r.current=xo(r.current,e.key));const i=t.current.getState();return yo(t.current,e,ao().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(e){return Ao(n(e),e,t)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(t){return[i(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>mo(t.current,e,so)}}}),[r,t])},useRecoilState:function(e){return[Oo(e),Io(e)]},useRecoilStateLoadable:function(e){return[No(e),Io(e)]},useRecoilValue:Oo,useRecoilValueLoadable:No,useResetRecoilState:function(e){const t=ho();return bo((()=>{mo(t.current,e,so)}),[t,e])},useSetRecoilState:Io,useSetUnvalidatedAtomValues:function(){const e=ho();return(t,n={})=>{oo((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>go(e.current,new fo(n),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Ro,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Po,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[Po(e),Io(e)]}};var jo=function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n};var Do=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n};var Uo=function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t};const{batchUpdates:Bo}=Mr,{DEFAULT_VALUE:Fo,getNode:qo,nodes:Vo}=tn,{useStoreRef:$o}=zi,{AbstractRecoilValue:Wo,setRecoilValueLoadable:zo}=ur,{SUSPENSE_TIMEOUT_MS:Ko}=wr,{cloneSnapshot:Ho}=ui,{useCallback:Qo,useEffect:Go,useRef:Zo,useState:Jo}=Ye,{isSSR:Yo}=Ir;function Xo(e){const t=$o();Go((()=>t.current.subscribeToTransactions(e).release),[e,t])}function es(e){const t=e.atomValues.toMap(),n=dn(jo(t,((e,t)=>{const n=qo(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return Uo(e.nonvalidatedAtoms.toMap(),n)}function ts(e,t){var n;const r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;Bo((()=>{const n=new Set;for(const e of[i.atomValues.keys(),o.atomValues.keys()])for(const t of e){var r,s;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(s=o.atomValues.get(t))||void 0===s?void 0:s.contents)&&qo(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{zo(e,new Wo(t),o.atomValues.has(t)?rt(o.atomValues.get(t)):Fo)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var ns={useRecoilSnapshot:function(){const e=$o(),[t,n]=Jo((()=>Ho(e.current))),r=Gi(t),i=Zo(),o=Zo();if(Xo(Qo((e=>n(Ho(e))),[])),Go((()=>{const e=t.retain();var n;i.current&&!Yo&&(window.clearTimeout(i.current),i.current=null,null===(n=o.current)||void 0===n||n.call(o),o.current=null);return e}),[t]),r!==t&&!Yo){var s;if(i.current)window.clearTimeout(i.current),i.current=null,null===(s=o.current)||void 0===s||s.call(o),o.current=null;o.current=t.retain(),i.current=window.setTimeout((()=>{var e;i.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),Ko)}return t},gotoSnapshot:ts,useGotoRecoilSnapshot:function(){const e=$o();return Qo((t=>ts(e.current,t)),[e])},useRecoilTransactionObserver:function(e){Xo(Qo((t=>{const n=Ho(t,"latest"),r=Ho(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){Xo(Qo((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(Kt("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const i=es(r),o=es(n),s=dn(Vo,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),a=Do(r.dirtyAtoms,(e=>i.has(e)||o.has(e)));e({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:Xo};const{peekNodeInfo:rs}=Un,{useStoreRef:is}=zi;var os=function(){const e=is();return({key:t})=>rs(e.current,e.current.getState().currentTree,t)};const{reactMode:ss}=Pt,{RecoilRoot:as,useStoreRef:us}=zi,{useMemo:cs}=Ye;var ls=function(){"MUTABLE_SOURCE"===ss().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=us().current;return cs((()=>function({children:t}){return Ye.createElement(as,{store_INTERNAL:e},t)}),[e])};const{loadableWithValue:ds}=xt,{initializeNode:hs}=Un,{DEFAULT_VALUE:ps,getNode:fs}=tn,{copyTreeState:ys,getRecoilValueAsLoadable:ms,invalidateDownstreams:gs,writeLoadableToTreeState:vs}=ur;function bs(e){return"atom"===fs(e.key).nodeType}class ws{constructor(e,t){it(this,"_store",void 0),it(this,"_treeState",void 0),it(this,"_changes",void 0),it(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!bs(e))throw tt("Reading selectors within atomicUpdate is not supported");const t=ms(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:tt(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),it(this,"set",((e,t)=>{if(!bs(e))throw tt("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else hs(this._store,e.key,"set"),this._changes.set(e.key,t)})),it(this,"reset",(e=>{this.set(e,ps)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=ys(this._treeState);for(const[t,n]of this._changes)vs(e,t,ds(n));return gs(this._store,e),e}}var _s=function(e){return t=>{e.replaceState((n=>{const r=new ws(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Ss=_s,Es=Object.freeze({__proto__:null,atomicUpdater:Ss});var xs=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:As}=Es,{batchUpdates:ks}=Mr,{DEFAULT_VALUE:Ts}=tn,{useStoreRef:Ms}=zi,{refreshRecoilValue:Cs,setRecoilValue:Ns}=ur,{cloneSnapshot:Os}=ui,{gotoSnapshot:Is}=ns,{useCallback:Rs}=Ye;class Ps{}const Ls=new Ps;function js(e,t,n,r){let i,o=Ls;var s;(ks((()=>{const s="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw tt(s);const a=Tn({...null!=r?r:{},set:(t,n)=>Ns(e,t,n),reset:t=>Ns(e,t,Ts),refresh:t=>Cs(e,t),gotoSnapshot:t=>Is(e,t),transact_UNSTABLE:t=>As(e)(t)},{snapshot:()=>{const t=Os(e);return i=t.retain(),t}}),u=t(a);if("function"!=typeof u)throw tt(s);o=u(...n)})),o instanceof Ps&&xs(!1),nt(o))?o.finally((()=>{var e;null===(e=i)||void 0===e||e()})):null===(s=i)||void 0===s||s();return o}var Ds={recoilCallback:js,useRecoilCallback:function(e,t){const n=Ms();return Rs(((...t)=>js(n.current,e,t)),null!=t?[...t,n]:void 0)}};const{useStoreRef:Us}=zi,{refreshRecoilValue:Bs}=ur,{useCallback:Fs}=Ye;var qs=function(e){const t=Us();return Fs((()=>{const n=t.current;Bs(n,e)}),[e,t])};const{atomicUpdater:Vs}=Es,{useStoreRef:$s}=zi,{useMemo:Ws}=Ye;var zs=function(e,t){const n=$s();return Ws((()=>(...t)=>{Vs(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)};var Ks=class{constructor(e){it(this,"value",void 0),this.value=e}},Hs=Object.freeze({__proto__:null,WrappedValue:Ks});const{isFastRefreshEnabled:Qs}=Pt;class Gs extends Error{}var Zs=class{constructor(e){var t,n,r;it(this,"_name",void 0),it(this,"_numLeafs",void 0),it(this,"_root",void 0),it(this,"_onHit",void 0),it(this,"_onSet",void 0),it(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null==t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;const r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}set(e,t,n){const r=()=>{var r,i,o,s;let a,u;for(const[t,r]of e){var c,l,d;const e=this._root;if("leaf"===(null==e?void 0:e.type))throw this.invalidCacheError();const i=a;if(a=i?i.branches.get(u):e,a=null!==(c=a)&&void 0!==c?c:{type:"branch",nodeKey:t,parent:i,branches:new Map,branchKey:u},"branch"!==a.type||a.nodeKey!==t)throw this.invalidCacheError();null==i||i.branches.set(u,a),null==n||null===(l=n.onNodeVisit)||void 0===l||l.call(n,a),u=this._mapNodeValue(r),this._root=null!==(d=this._root)&&void 0!==d?d:a}const h=a?null===(r=a)||void 0===r?void 0:r.branches.get(u):this._root;if(null!=h&&("leaf"!==h.type||h.branchKey!==u))throw this.invalidCacheError();const p={type:"leaf",value:t,parent:a,branchKey:u};null===(i=a)||void 0===i||i.branches.set(u,p),this._root=null!==(o=this._root)&&void 0!==o?o:p,this._numLeafs++,this._onSet(p),null==n||null===(s=n.onNodeVisit)||void 0===s||s.call(n,p)};try{r()}catch(e){if(!(e instanceof Gs))throw e;this.clear(),r()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,r=e.branchKey;for(;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=Qs()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Kt(e+(null!=this._name?` - ${this._name}`:"")),new Gs}},Js=Zs,Ys=Object.freeze({__proto__:null,TreeCache:Js});var Xs=class{constructor(e){var t;it(this,"_maxSize",void 0),it(this,"_size",void 0),it(this,"_head",void 0),it(this,"_tail",void 0),it(this,"_map",void 0),it(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=rt(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},ea=Xs,ta=Object.freeze({__proto__:null,LRUCache:ea});const{LRUCache:na}=ta,{TreeCache:ra}=Ys;var ia=function({name:e,maxSize:t,mapNodeValue:n=(e=>e)}){const r=new na({maxSize:t}),i=new ra({name:e,mapNodeValue:n,onHit:e=>{r.set(e,!0)},onSet:e=>{const n=r.tail();r.set(e,!0),n&&i.size()>t&&i.delete(n.key)}});return i};function oa(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw tt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!=typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(nt(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>oa(e,t,n.toString())))}]`;if("function"==typeof e.toJSON)return oa(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"==typeof n?n:oa(n,t)]=i;return oa(r,t,n)}return e instanceof Set?oa(Array.from(e).sort(((e,n)=>oa(e,t).localeCompare(oa(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?oa(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${oa(n,t)}:${oa(e[n],t,n)}`)).join(",")}}`}var sa=function(e,t={allowFunctions:!1}){return oa(e,t)};const{TreeCache:aa}=Ys,ua={equality:"reference",eviction:"keep-all",maxSize:1/0};var ca=function({equality:e=ua.equality,eviction:t=ua.eviction,maxSize:n=ua.maxSize}=ua,r){const i=function(e){switch(e){case"reference":return e=>e;case"value":return e=>sa(e)}throw tt(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n,r){switch(e){case"keep-all":return new aa({name:r,mapNodeValue:n});case"lru":return ia({name:r,maxSize:rt(t),mapNodeValue:n});case"most-recent":return ia({name:r,maxSize:1,mapNodeValue:n})}throw tt(`Unrecognized eviction policy ${e}`)}(t,n,i,r)};const{isReactNative:la,isWindow:da}=Ir;var ha={startPerfBlock:function(e){return()=>null}};const{isLoadable:pa,loadableWithError:fa,loadableWithPromise:ya,loadableWithValue:ma}=xt,{WrappedValue:ga}=Hs,{getNodeLoadable:va,peekNodeLoadable:ba,setNodeValue:wa}=Un,{saveDepsToStore:_a}=pn,{DEFAULT_VALUE:Sa,getConfigDeletionHandler:Ea,getNode:xa,registerNode:Aa}=tn,{isRecoilValue:ka}=$t,{markRecoilValueModified:Ta}=ur,{retainedByOptionWithDefault:Ma}=wr,{recoilCallback:Ca}=Ds,{startPerfBlock:Na}=ha;class Oa{}const Ia=new Oa,Ra=[],Pa=new Map,La=(()=>{let e=0;return()=>e++})();function ja(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,o=null!=e.set?e.set:void 0;const s=new Set,a=ca(null!=i?i:{equality:"reference",eviction:"keep-all"},n),u=Ma(e.retainedBy_UNSTABLE),c=new Map;let l=0;function d(){return!Nt("recoil_memory_managament_2020")||l>0}function h(e){return e.getState().knownSelectors.add(n),l++,()=>{l--}}function p(){return void 0!==Ea(n)&&!d()}function f(e,t,n,r,i){T(t,r,i),y(e,n)}function y(e,t){k(e,t)&&A(e),m(t,!0)}function m(e,n){const r=Pa.get(e);if(null!=r){for(const e of r)Ta(e,rt(t));n&&Pa.delete(e)}}function g(e,t){let n=Pa.get(t);null==n&&Pa.set(t,n=new Set),n.add(e)}function v(e,t,n,r,i,o){return t.then((r=>{if(!d())throw A(e),Ia;null!=o.loadingDepKey&&o.loadingDepPromise===t?n.atomValues.set(o.loadingDepKey,ma(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const s=_(e,n);if(s&&"loading"!==s.state){if((k(e,i)||null==x(e))&&y(e,i),"hasValue"===s.state)return s.contents;throw s.contents}if(!k(e,i)){const t=E(e,n);if(null!=t)return t.loadingLoadable.contents}const[a,u]=w(e,n,i);if("loading"!==a.state&&f(e,n,i,a,u),"hasError"===a.state)throw a.contents;return a.contents})).catch((t=>{if(t instanceof Oa)throw Ia;if(!d())throw A(e),Ia;const o=fa(t);throw f(e,n,i,o,r),t}))}function b(e,t,r,i){var o,a,u,c,l,d,h;(k(e,i)||t.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(u=e.getState())||void 0===u||null===(c=u.nextTree)||void 0===c?void 0:c.version))&&_a(n,r,e,null!==(l=null===(d=e.getState())||void 0===d||null===(h=d.nextTree)||void 0===h?void 0:h.version)&&void 0!==l?l:e.getState().currentTree.version);for(const e of r)s.add(e)}function w(e,i,o){const s=Na(n);let a=!0,u=!0;const c=()=>{s(),u=!1};let l,h,p=!1;const y={loadingDepKey:null,loadingDepPromise:null},g=new Map;function w({key:t}){const n=va(e,i,t);switch(g.set(t,n),a||(b(e,i,new Set(g.keys()),o),function(e,t){k(e,t)&&(rt(x(e)).stateVersions.clear(),m(t,!1))}(e,o)),n.state){case"hasValue":return n.contents;case"hasError":throw n.contents;case"loading":throw y.loadingDepKey=t,y.loadingDepPromise=n.contents,n.contents}throw tt("Invalid Loadable state")}const _=n=>(...r)=>{if(u)throw tt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&xs(!1),Ca(e,n,r,{node:t})};try{l=r({get:w,getCallback:_}),l=ka(l)?w(l):l,pa(l)&&("hasError"===l.state&&(p=!0),l=l.contents),nt(l)?l=function(e,t,n,r,i,o){return t.then((t=>{if(!d())throw A(e),Ia;const o=ma(t);return f(e,n,i,o,r),t})).catch((t=>{if(!d())throw A(e),Ia;if(nt(t))return v(e,t,n,r,i,o);const s=fa(t);throw f(e,n,i,s,r),t}))}(e,l,i,g,o,y).finally(c):c(),l=l instanceof ga?l.value:l}catch(t){l=t,nt(l)?l=v(e,l,i,g,o,y).finally(c):(p=!0,c())}return h=p?fa(l):nt(l)?ya(l):ma(l),a=!1,function(e,t,n){if(k(e,t)){const t=x(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,o,g),b(e,i,new Set(g.keys()),o),[h,g]}function _(e,t){let r=t.atomValues.get(n);if(null!=r)return r;const i=new Set;try{r=a.get((n=>("string"!=typeof n&&xs(!1),va(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&i.add(e.nodeKey)}})}catch(e){throw tt(`Problem with cache lookup for selector "${n}": ${e.message}`)}var o;r&&(t.atomValues.set(n,r),b(e,t,i,null===(o=x(e))||void 0===o?void 0:o.executionID));return r}function S(e,t){const n=_(e,t);if(null!=n)return A(e),n;const r=E(e,t);var i;if(null!=r)return"loading"===(null===(i=r.loadingLoadable)||void 0===i?void 0:i.state)&&g(e,r.executionID),r.loadingLoadable;const o=La(),[s,a]=w(e,t,o);return"loading"===s.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,o,s,a,t),g(e,o)):(A(e),T(t,s,a)),s}function E(e,t){const n=Cr([c.has(e)?[rt(c.get(e))]:[],zt(kn(c,(([t])=>t!==e)),(([,e])=>e))]);function r(n){for(const[r,i]of n)if(!va(e,t,r).is(i))return!0;return!1}for(const e of n){if(e.stateVersions.get(t.version)||!r(e.depValuesDiscoveredSoFarDuringAsyncWork))return e.stateVersions.set(t.version,!0),e;e.stateVersions.set(t.version,!1)}}function x(e){return c.get(e)}function A(e){c.delete(e)}function k(e,t){var n;return t===(null===(n=x(e))||void 0===n?void 0:n.executionID)}function T(e,t,r){e.atomValues.set(n,t);try{a.set(function(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}(r),t)}catch(e){throw tt(`Problem with setting cache for selector "${n}": ${e.message}`)}}function M(e,t){const r=t.atomValues.get(n);return null!=r?r:a.get((n=>{var r;return"string"!=typeof n&&xs(!1),null===(r=ba(e,t,n))||void 0===r?void 0:r.contents}))}function C(e,t){return function(e){if(Ra.includes(n)){const e=`Recoil selector has circular dependencies: ${Ra.slice(Ra.indexOf(n)).join(" \u2192 ")}`;return fa(tt(e))}Ra.push(n);try{return e()}finally{Ra.pop()}}((()=>S(e,t)))}function N(e){e.atomValues.delete(n)}function O(e,n){null==t&&xs(!1);for(const t of s){var r;const i=xa(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}s.clear(),N(n),a.clear(),Ta(e,t)}if(null!=o){const r=(e,t,r)=>{let i=!1;const s=new Map;function a({key:r}){if(i)throw tt("Recoil: Async selector sets are not currently supported.");const o=va(e,t,r);if("hasValue"===o.state)return o.contents;if("loading"===o.state){const e=`Getting value of asynchronous atom or selector "${r}" in a pending state while setting selector "${n}" is not yet supported.`;throw Kt(e),tt(e)}throw o.contents}function u(n,r){if(i){const e="Recoil: Async selector sets are not currently supported.";throw Kt(e),tt(e)}const o="function"==typeof r?r(a(n)):r;wa(e,t,n.key,o).forEach(((e,t)=>s.set(t,e)))}const c=o({set:u,get:a,reset:function(e){u(e,Sa)}},r);if(void 0!==c)throw nt(c)?tt("Recoil: Async selector sets are not currently supported."):tt("Recoil: selector set should be a void function.");return i=!0,s};return t=Aa({key:n,nodeType:"selector",peek:M,get:C,set:r,init:h,invalidate:N,clearCache:O,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}return t=Aa({key:n,nodeType:"selector",peek:M,get:C,init:h,invalidate:N,clearCache:O,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}ja.value=e=>new ga(e);var Da=ja;const{isLoadable:Ua,loadableWithError:Ba,loadableWithPromise:Fa,loadableWithValue:qa}=xt,{WrappedValue:Va}=Hs,{peekNodeInfo:$a}=Un,{DEFAULT_VALUE:Wa,DefaultValue:za,getConfigDeletionHandler:Ka,registerNode:Ha,setConfigDeletionHandler:Qa}=tn,{isRecoilValue:Ga}=$t,{getRecoilValueAsLoadable:Za,markRecoilValueModified:Ja,setRecoilValue:Ya,setRecoilValueLoadable:Xa}=ur,{retainedByOptionWithDefault:eu}=wr,tu=e=>e instanceof Va?e.value:e;function nu(e){const{key:t,persistence_UNSTABLE:n}=e,r=eu(e.retainedBy_UNSTABLE);let i=0;function o(e){return Fa(e.then((e=>(a=qa(e),e))).catch((e=>{throw a=Ba(e),e})))}let s,a=nt(e.default)?o(e.default):Ua(e.default)?"loading"===e.default.state?o(e.default.contents):e.default:qa(tu(e.default));c(a.contents);const u=new Map;function c(e){return e}function l(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:s)&&void 0!==r?r:a}const d=Ha({key:t,nodeType:"atom",peek:l,get:function(e,r){if(r.atomValues.has(t))return rt(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=s)return s;if(null==n)return Wt(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),a;const e=r.nonvalidatedAtoms.get(t),i=n.validator(e,Wa),o=i instanceof za?a:qa(i);return s=o,s}return a},set:function(e,n,r){if(n.atomValues.has(t)){const e=rt(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof za)return new Map;return s=void 0,(new Map).set(t,qa(r))},init:function(n,r,o){var s;if(i++,n.getState().knownAtoms.add(t),"loading"===a.state){const f=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||Ja(n,d)};a.contents.finally(f)}const c=null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE;if(null!=c){let y=Wa,m=!0,g=!1,v=null;function b(e){if(m&&e.key===t){const e=y;return e instanceof za?l(n,r):nt(e)?Fa(e.then((e=>e instanceof za?a.toPromise():e))):qa(e)}return Za(n,e)}function w(e){return b(e).toPromise()}function _(e){var r;const i=$a(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!m||e.key!==t||y instanceof za?i:{...i,isSet:!0,loadable:b(e)}}const S=e=>t=>{if(m){const n=b(d),r="hasValue"===n.state?n.contents:Wa;y="function"==typeof t?t(r):t,nt(y)&&(y=y.then((t=>(v={effect:e,value:t},t))))}else{if(nt(t))throw tt("Setting atoms to async values is not implemented.");"function"!=typeof t&&(v={effect:e,value:tu(t)}),Ya(n,d,"function"==typeof t?n=>{const r=tu(t(n));return v={effect:e,value:r},r}:tu(t))}},E=e=>()=>S(e)(Wa),x=e=>r=>{var i;const{release:o}=n.subscribeToTransactions((n=>{var i;let{currentTree:o,previousTree:s}=n.getState();s||(Kt("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=o);const u=null!==(i=o.atomValues.get(t))&&void 0!==i?i:a;if("hasValue"===u.state){var c,l,d,h;const n=u.contents,i=null!==(c=s.atomValues.get(t))&&void 0!==c?c:a,p="hasValue"===i.state?i.contents:Wa;(null===(l=v)||void 0===l?void 0:l.effect)!==e||(null===(d=v)||void 0===d?void 0:d.value)!==n?r(n,p,!o.atomValues.has(t)):(null===(h=v)||void 0===h?void 0:h.effect)===e&&(v=null)}}),t);u.set(n,[...null!==(i=u.get(n))&&void 0!==i?i:[],o])};for(const A of c)try{const k=A({node:d,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:o,setSelf:S(A),resetSelf:E(A),onSet:x(A),getPromise:w,getLoadable:b,getInfo_UNSTABLE:_});var h;if(null!=k)u.set(n,[...null!==(h=u.get(n))&&void 0!==h?h:[],k])}catch(T){y=T,g=!0}if(m=!1,!(y instanceof za)){var p;const M=g?Ba(y):nt(y)?Fa(function(e,n){const r=n.then((n=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&Ya(e,d,n),n})).catch((n=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&Xa(e,d,Ba(n)),n}));return r}(n,y)):qa(tu(y));M.contents,r.atomValues.set(t,M),null===(p=n.getState().nextTree)||void 0===p||p.atomValues.set(t,M)}}return()=>{var e;i--,null===(e=u.get(n))||void 0===e||e.forEach((e=>e())),u.delete(n)}},invalidate:function(){s=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Ka(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}function ru(e){const{...t}=e,n="default"in e?e.default:new Promise((()=>{}));return Ga(n)?function(e){const t=ru({...e,default:Wa,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof za?t:rt(e.persistence_UNSTABLE).validator(t,Wa)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Da({key:`${e.key}__withFallback`,get:({get:n})=>{const r=n(t);return r instanceof za?e.default:r},set:({set:e},n)=>e(t,n),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Qa(n.key,Ka(e.key)),n}({...t,default:n}):nu({...t,default:n})}ru.value=e=>new Va(e);var iu=ru;var ou=class{constructor(e){var t;it(this,"_map",void 0),it(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},su=ou,au=Object.freeze({__proto__:null,MapCache:su});const{LRUCache:uu}=ta,{MapCache:cu}=au,lu={equality:"reference",eviction:"none",maxSize:1/0};var du=function({equality:e=lu.equality,eviction:t=lu.eviction,maxSize:n=lu.maxSize}=lu){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>sa(e)}throw tt(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new cu({mapKey:n});case"lru":return new uu({mapKey:n,maxSize:rt(t)});case"most-recent":return new uu({mapKey:n,maxSize:1})}throw tt(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};const{setConfigDeletionHandler:hu}=tn;var pu=function(e){var t,n;const r=du({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,i;const o=r.get(t);if(null!=o)return o;const{cachePolicyForParams_UNSTABLE:s,...a}=e,u="default"in e?e.default:new Promise((()=>{})),c=iu({...a,key:`${e.key}__${null!==(n=sa(t))&&void 0!==n?n:"void"}`,default:"function"==typeof u?u(t):u,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return r.set(t,c),hu(c.key,(()=>{r.delete(t)})),c}};const{setConfigDeletionHandler:fu}=tn;let yu=0;var mu=function(e){var t,n;const r=du({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let i;try{i=r.get(t)}catch(t){throw tt(`Problem with cache lookup for selector ${e.key}: ${t.message}`)}if(null!=i)return i;const o=`${e.key}__selectorFamily/${null!==(n=sa(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${yu++}`,s=n=>e.get(t)(n),a=e.cachePolicy_UNSTABLE,u="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let c;if(null!=e.set){const n=e.set;c=Da({key:o,get:s,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:a,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else c=Da({key:o,get:s,cachePolicy_UNSTABLE:a,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,c),fu(c.key,(()=>{r.delete(t)})),c}};const gu=mu({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var vu=function(e){return gu(e)};const bu=mu({key:"__error",get:e=>()=>{throw tt(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var wu=function(e){return bu(e)};var _u=function(e){return e};const{loadableWithError:Su,loadableWithPromise:Eu,loadableWithValue:xu}=xt;function Au(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,o]of t.entries())try{n[i]=e(o)}catch(e){r[i]=e}return[n,r]}function ku(e){return null!=e&&!nt(e)}function Tu(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function Mu(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function Cu(e,t,n){return Mu(e,n.map(((e,n)=>null==e?xu(t[n]):nt(e)?Eu(e):Su(e))))}const Nu=mu({key:"__waitForNone",get:e=>({get:t})=>{const n=Tu(e),[r,i]=Au(t,n);return Cu(e,r,i)},dangerouslyAllowMutability:!0}),Ou=mu({key:"__waitForAny",get:e=>({get:t})=>{const n=Tu(e),[r,i]=Au(t,n);return i.some((e=>!nt(e)))?Cu(e,r,i):new Promise((t=>{for(const[n,o]of i.entries())nt(o)&&o.then((o=>{r[n]=o,i[n]=void 0,t(Cu(e,r,i))})).catch((o=>{i[n]=o,t(Cu(e,r,i))}))}))},dangerouslyAllowMutability:!0}),Iu=mu({key:"__waitForAll",get:e=>({get:t})=>{const n=Tu(e),[r,i]=Au(t,n);if(i.every((e=>null==e)))return Mu(e,r);const o=i.find(ku);if(null!=o)throw o;return Promise.all(i).then((t=>{return Mu(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),Ru=mu({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Tu(e),[r,i]=Au(t,n);return i.every((e=>!nt(e)))?Cu(e,r,i):Promise.all(i.map(((e,t)=>nt(e)?e.then((e=>{r[t]=e,i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>Cu(e,r,i)))},dangerouslyAllowMutability:!0});var Pu={waitForNone:Nu,waitForAny:Ou,waitForAll:Iu,waitForAllSettled:Ru,noWait:mu({key:"__noWait",get:e=>({get:t})=>{try{return Da.value(xu(t(e)))}catch(e){return Da.value(nt(e)?Eu(e):Su(e))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:Lu}=xt,{DefaultValue:ju}=tn,{RecoilRoot:Du,useRecoilStoreID:Uu}=zi,{isRecoilValue:Bu}=$t,{retentionZone:Fu}=xn,{freshSnapshot:qu}=ui,{useRecoilState:Vu,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$u,useRecoilStateLoadable:Wu,useRecoilValue:zu,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ku,useRecoilValueLoadable:Hu,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Qu,useResetRecoilState:Gu,useSetRecoilState:Zu}=Lo,{useGotoRecoilSnapshot:Ju,useRecoilSnapshot:Yu,useRecoilTransactionObserver:Xu}=ns,{useRecoilCallback:ec}=Ds,{noWait:tc,waitForAll:nc,waitForAllSettled:rc,waitForAny:ic,waitForNone:oc}=Pu;var sc={DefaultValue:ju,isRecoilValue:Bu,RecoilLoadable:Lu,RecoilRoot:Du,useRecoilStoreID:Uu,useRecoilBridgeAcrossReactRoots_UNSTABLE:ls,atom:iu,selector:Da,atomFamily:pu,selectorFamily:mu,constSelector:vu,errorSelector:wu,readOnlySelector:_u,noWait:tc,waitForNone:oc,waitForAny:ic,waitForAll:nc,waitForAllSettled:rc,useRecoilValue:zu,useRecoilValueLoadable:Hu,useRecoilState:Vu,useRecoilStateLoadable:Wu,useSetRecoilState:Zu,useResetRecoilState:Gu,useGetRecoilValueInfo_UNSTABLE:os,useRecoilRefresher_UNSTABLE:qs,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Qu,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ku,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$u,useRecoilCallback:ec,useRecoilTransaction_UNSTABLE:zs,useGotoRecoilSnapshot:Ju,useRecoilSnapshot:Yu,useRecoilTransactionObserver_UNSTABLE:Xu,snapshot_UNSTABLE:qu,useRetain:ro,retentionZone:Fu},ac=sc.DefaultValue,uc=sc.atom,cc=sc.selector,lc=sc.selectorFamily;const dc=new a("accessToken"),hc=new a("refreshToken");uc({key:"accessToken",default:void 0,effects:[Je(dc)]}),uc({key:"refreshToken",default:void 0,effects:[Je(hc)]});function pc(){return F.get(dc)}function fc(){return F.get(hc)}let yc;async function mc(e){const t=fc();if(!t)throw new Error("Attempted to refresh access token without a refresh token. This can't work.");let n;try{return yc||(yc=async function(e){const{result:t}=await B_("refreshAccessToken",{refreshToken:e});return t}(t)),n=await yc,e(n),n.token}finally{yc=void 0}}n(30733);!function(e){const t={};Object.keys(e).forEach((n=>{t[n]={name:n,groups:e[n]}}))}({april_2022_dex_ftm:["control","treatment"],may_2022_did_new_user_onboarding:["control","treament"],aug_2022_rn_did_new_user_onboarding:["control","treament"],may_2022_did_existing_user_onboarding:["control","treament"],aug_2022_rn_did_existing_user_onboarding:["control","treament"],jun_2022_dex_best_quote:["control","treatment"],july_2022_profile_on_wallet:["control","treatment"],july_2022_explore_tab:["control","treatment"],july_2022_wallet_rn_bridge:["control","treatment"],july_2022_explore_tab_search:["control","treatment"],july_2022_dex_best_quote_rn:["control","treatment"],aug_22_extension_multi_account_phase_1:["control","treatment"],aug_22_rn_multi_account_phase_1:["control","treatment"],aug_22_extension_multi_account_phase_2:["control","treatment"],aug_22_rn_multi_account_phase_2:["control","treatment"],aug_2022_wallet_extension_cross_platform_token_management:["control","treatment"],aug_2022_wallet_rn_cross_platform_token_management:["control","treatment"],aug_2022_rn_network_selector:["control","treatment"],aug_2022_dex_best_quote_animation_rn:["control","treatment"],aug_2022_dex_best_quote_animation:["control","treatment"],aug_2022_dex_fee_structure_rn:["control","treatment"],aug_2022_dex_fee_structure:["control","treatment"],aug_2022_explore_nft:["control","treatment"],aug_2022_explore_tab_extension:["control","treatment"],aug_2022_wallet_rn_spam_token_tray:["control","treatment"],aug_2022_wallet_extension_spam_token_nux:["control","treatment"],aug_2022_dex_deposit_gas:["control","treatment"],sept_2022_explore_multichain:["control","treatment"],sept_2022_reduced_gas_estimation:["control","treatment"]});const gc=e=>({setSelf:t,onSet:n})=>{const r=F.get(e);if(r){t(D(r))}n((t=>{const n=j(t);F.set(e,n)}))},vc=uc({key:"walletGroups",default:[]}),bc=new a("activeWalletGroupId"),wc=uc({key:"activeWalletGroupId",default:cc({key:"activeWalletGroupIdDefault",get:({get:e})=>{const t=[...e(vc)].sort(((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()));return t[0]?.id}}),effects:[gc(bc)]});cc({key:"activeWalletGroup",get:({get:e})=>{const t=e(vc),n=e(wc);return t.find((e=>e.id===n))}});let _c,Sc;const Ec=new WeakMap,xc=new WeakMap,Ac=new WeakMap,kc=new WeakMap,Tc=new WeakMap;let Mc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ac.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Cc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Sc||(Sc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Ic(this),t),Oc(Ec.get(this))}:function(...t){return Oc(e.apply(Ic(this),t))}:function(t,...n){const r=e.call(Ic(this),t,...n);return Ac.set(r,t.sort?t.sort():[t]),Oc(r)}}function Nc(e){return"function"==typeof e?Cc(e):(e instanceof IDBTransaction&&function(e){if(xc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));xc.set(e,t)}(e),t=e,(_c||(_c=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Mc):e);var t}function Oc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Oc(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ec.set(t,e)})).catch((()=>{})),Tc.set(t,e),t}(e);if(kc.has(e))return kc.get(e);const t=Nc(e);return t!==e&&(kc.set(e,t),Tc.set(t,e)),t}const Ic=e=>Tc.get(e);const Rc=["get","getKey","getAll","getAllKeys","count"],Pc=["put","add","delete","clear"],Lc=new Map;function jc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Lc.get(t))return Lc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rc.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Lc.set(t,o),o}Mc=(e=>({...e,get:(t,n,r)=>jc(t,n)||e.get(t,n,r),has:(t,n)=>!!jc(t,n)||e.has(t,n)}))(Mc);var Dc=n(68762),Uc=n.n(Dc);function Bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){$c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Wc;!function(e){e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.ptclid="ptclid",e.ttclid="ttclid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content"}(Wc||(Wc={}));let zc,Kc,Hc,Qc,Gc,Zc,Jc,Yc,Xc,el,tl;!function(e){e.low="low",e.high="high"}(zc||(zc={})),function(e){e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram"}(Kc||(Kc={})),function(e){e.user="user",e.device="device"}(Hc||(Hc={})),function(e){e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.content_script="content_script",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.service_worker="service_worker",e.text="text",e.text_input="text_input",e.tray="tray",e.checkbox="checkbox",e.icon="icon"}(Qc||(Qc={})),function(e){e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.process="process",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress"}(Gc||(Gc={})),function(e){e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.server="server",e.windows="windows",e.macos="macos"}(Zc||(Zc={})),function(e){e.web="Web",e.ios="iOS",e.android="Android"}(Jc||(Jc={})),function(e){e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn"}(Yc||(Yc={})),function(e){e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as"}(Xc||(Xc={})),function(e){e.pv="pv"}(el||(el={})),function(e){e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl"}(tl||(tl={}));const nl="https://analytics-service-dev.cbhq.net",rl="/amp",il="/metrics",ol="/track-exposures",sl="analytics-db",al="Analytics SDK:",ul=Object.values(Wc),cl="db6d70de-c5ed-4a26-bddb-05191acbc278",ll="4164ca36-1d78-4b7f-bbae-3c59d97ca3d9",dl={navigationTiming:{eventName:"perf_navigation_timing",loggingId:"ead93109-37ac-4d27-aa36-0482d61da912"},redirectTime:{eventName:"perf_redirect_time",loggingId:"bef95729-467c-429a-99ab-23cdd6627678"},ttfb:{eventName:"perf_time_to_first_byte",loggingId:"7e7a84f5-f1ab-4769-b322-52e198483f85"},networkInformation:{eventName:"perf_network_information",loggingId:"9229ea1a-2d1e-48e3-b832-669357bcf327"},storageEstimate:{eventName:"perf_storage_estimate",loggingId:"fef62231-45b9-4796-af8a-7520c3b8dc5d"},fcp:{eventName:"perf_first_contentful_paint",loggingId:"d5f76a1c-5210-4e2f-9d44-f6b28ce57a6c"},fid:{eventName:"perf_first_input_delay",loggingId:"b59e6a00-55d4-400e-a09d-f2ae44e4a5fe"},lcp:{eventName:"perf_largest_contentful_paint",loggingId:"efa86d13-ce1a-47b5-b130-918c028b58ae"},cls:{eventName:"perf_cumulative_layout_shift",loggingId:"5280dc84-cb97-4587-9904-df9eda8f118e"},tbt:{eventName:"perf_total_blocking_time",loggingId:"69631829-d3e7-4f8f-8e0e-2ae3be067e0f"},ntbt:{eventName:"perf_navigation_total_blocking_time",loggingId:"c37d76ea-433b-49ed-9786-3b43d8f08fd4"}},hl=/^(https?:\/\/)/,pl={authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:5e3,batchEventsThreshold:30,batchMetricsPeriod:5e3,batchMetricsThreshold:30,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,onError:(e,t)=>{console.error(al,e,t)},platform:Zc.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null,apiEndpoint:nl,eventsEndpoint:nl+rl,metricsEndPoint:nl+il,exposureEndpoint:nl+ol},fl=function(e,...t){return t.reduce(((e,t)=>n=>e(t(n))),e)}((e=>{if(!0!==e.isProd)return e;const t=(n=e.apiEndpoint)?hl.test(n)?n:`https://${n}`:"https://dp.coinbase.com";var n;return Vc(Vc({},e),{},{apiEndpoint:t,eventsEndpoint:t+rl,metricsEndPoint:t+il,exposureEndpoint:t+ol})})),yl=e=>{Object.assign(pl,fl(e))};function ml(){return"android"===pl.platform}function gl(){return"ios"===pl.platform}function vl(){return["web","mobile_web"].includes(pl.platform)}function bl(e){if(vl()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){e instanceof Error&&pl.onError(e)}}const wl={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};function _l(e){Object.assign(wl,e)}function Sl(){return(new Date).getTime()}const El={timeStart:Sl(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};function xl(e){Object.assign(El,e)}const Al=Object.values(Gc),kl=Object.values(Qc),Tl=e=>Al.includes(e)?e:Gc.unknown,Ml=e=>kl.includes(e)?e:Qc.unknown,Cl=()=>{const e=pl.platform,t=void 0===e?Zc.unknown:e;return t===Zc.web&&window.matchMedia("(max-width: 430px)").matches?Zc.mobile_web:t},Nl=(e,t,n)=>{const r={auth:Pl()?Yc.loggedIn:Yc.notLoggedIn,action:Tl(e),component_type:Ml(t),logging_id:"string"==typeof n?n:null,platform:pl.platform,project_name:pl.projectName};return"number"==typeof Il.userTypeEnum&&(r.user_type_enum=Il.userTypeEnum),r},Ol={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null,width:null,height:null},Il={countryCode:null,deviceId:null,device_os:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,session_lcc_id:null,userId:null},Rl=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Rl),Pl=()=>pl.isAlwaysAuthed||!!Il.userId,Ll=()=>{const e={};return Il.countryCode&&(e.country_code=Il.countryCode),e},jl=e=>{Object.assign(Il,e),vl()&&bl({identity:{isAuthed:!!Il.userId,locale:Il.locale||null}})},Dl=e=>{Ol.height=e.height,Ol.width=e.width},Ul=()=>{yl({platform:Cl()}),vl()&&bl({config:{platform:pl.platform}})},Bl=()=>{performance.mark&&performance.mark("ua_parser_start");const e=new(n(47164))(Ol.userAgent).getResult();Ol.browserName=e.browser.name||null,Ol.browserMajor=e.browser.major||null,Ol.osName=e.os.name||null,Ol.amplitudeOSName=Ol.browserName,Ol.amplitudeOSVersion=Ol.browserMajor,Ol.amplitudeDeviceModel=Ol.osName,bl({device:{browserName:Ol.browserName,osName:Ol.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))},Fl={isReady:!1,idbKeyval:null};function ql(e){Object.assign(Fl,e)}const Vl="rgb(5,177,105)",$l=11,Wl=e=>{const t=e.metricName,n=e.data;if(!pl.showDebugLogging||!console)return;const r=`color:${Vl};font-size:${$l}px;`;console.group("%c Analytics SDK:",r,t),n.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()},zl=e=>{const t=e.metricName,n=e.data;if(!pl.showDebugLogging||!console)return;const r=`color:${Vl};font-size:${$l}px;`;console.log("%c Analytics SDK:",r,t,n)},Kl={},Hl=()=>{var e;if(vl()&&null!==(e=window)&&void 0!==e&&e.indexedDB){const e=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Oc(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Oc(s.result),e.oldVersion,e.newVersion,Oc(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}("keyval-store",1,{upgrade(e){e.createObjectStore("keyval")}});ql({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,n)=>(await e).put("keyval",n,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else ql({idbKeyval:{get:async e=>new Promise((t=>{t(Kl[e])})),set:async(e,t)=>new Promise((()=>{Kl[e]=t})),delete:async e=>new Promise((()=>{delete Kl[e]})),keys:async()=>new Promise((e=>{e(Object.keys(Kl))}))}})},Ql=async()=>{if(!Fl.idbKeyval)return Promise.resolve(null);try{return await Fl.idbKeyval.get(sl)}catch{return pl.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}},Gl=e=>{if(Fl.idbKeyval)try{Fl.idbKeyval.set(sl,e)}catch{pl.onError(new Error("IndexedDB:Set:InternalError"))}},Zl={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0},Jl={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20},Yl={pv:25},Xl=15,ed=60,td=240,nd=960,rd=3840,id={xs:0,s:1,m:1,l:2,xl:2,xxl:2},od=e=>{Object.assign(Zl,e)},sd=e=>{(e=>{switch(e.action){case Gc.click:Zl.ac+=1;break;case Gc.focus:Zl.af+=1;break;case Gc.hover:Zl.ah+=1;break;case Gc.move:Zl.am+=1;break;case Gc.scroll:Zl.al+=1;break;case Gc.search:Zl.ar+=1;break;case Gc.select:Zl.as+=1}})(e),e.logging_id!==cl?e.logging_id===ll&&((e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(Xc).forEach((e=>{Zl.sqs+=Zl[e]*Jl[e]})),Object.values(el).forEach((e=>{Zl.sqs+=Zl[e]*Yl[e]})),Zl.sqs*=id[t]})(e),Object.assign(e,Zl),od({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):Zl.pv+=1},ad={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};const ud={blacklistRegex:[],isEnabled:!1};function cd(e){ud.isEnabled&&(Vd(),Object.assign(e,{page_key:ad.pageKey,page_path:ad.pagePath,prev_page_key:ad.prevPageKey,prev_page_path:ad.prevPagePath}))}const ld={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1};const dd="application/x-www-form-urlencoded; charset=UTF-8",hd=e=>{const t=e.data,n=e.importance,r=e.isJSON,i=e.onError,o=e.url,s=r?"application/json":dd,a=n||zc.low,u=r?JSON.stringify(t):new URLSearchParams(t).toString();if(!vl()||r||!("sendBeacon"in navigator)||a!==zc.low||pl.headers&&0!==Object.keys(pl.headers).length)if(vl()&&!r){const e=new XMLHttpRequest;e.open("POST",o,!0),Object.keys(pl.headers).forEach((t=>{e.setRequestHeader(t,pl.headers[t])})),e.setRequestHeader("Content-Type",dd),Il.jwt&&e.setRequestHeader("authorization",`Bearer ${Il.jwt}`),e.send(u)}else{const e=Vc(Vc({},pl.headers),{},{"Content-Type":s});Il.jwt&&(e.Authorization=`Bearer ${Il.jwt}`),fetch(o,{method:"POST",mode:"no-cors",headers:e,body:u}).catch((e=>{i(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([u],{type:dd});navigator.sendBeacon(o,e)}},pd=e=>e.map((e=>(e=>{const t=e.tags||{};return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:Vc(Vc({authed:Pl()?"true":"false",platform:pl.platform},t),{},{project_name:pl.projectName,version_name:pl.version||null}),type:e.metricType}})(e))),fd=e=>e.map((e=>(e=>{sd(e);const t=e.event_type;delete e.event_type;const n=e.deviceId?e.deviceId:null,r=e.timestamp;return delete e.timestamp,Rd(),Pd(),Md(),Ld(),{device_id:Il.deviceId||n||null,user_id:Il.userId,timestamp:r,event_id:wl.eventId,session_id:wl.sessionId||-1,event_type:t,version_name:pl.version||null,platform:Ol.amplitudePlatform,os_name:Ol.amplitudeOSName,os_version:Ol.amplitudeOSVersion,device_model:Ol.amplitudeDeviceModel,language:Il.languageCode,event_properties:Vc(Vc({},e),{},{height:Ol.height,width:Ol.width}),user_properties:Ll(),uuid:Rl(),library:{name:"@cbhq/client-analytics",version:"5.7.0"},sequence_number:wl.sequenceNumber,user_agent:Ol.userAgent}})(e))),yd=e=>{var t;vl()&&null!==(t=window)&&void 0!==t&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:pl.ricTimeoutScheduleEvent}):(ml()||gl())&&pl.interactionManager?pl.interactionManager.runAfterInteractions(e):e()},md=(e,t,n)=>{const r=e||"";return Uc()("2"+r+t+n)};class gd extends Error{constructor(e){super(e),this.name="CircularJsonReference",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class vd extends gd{constructor(...e){super(...e),this.name="DomReferenceInAnalyticsEvent"}}const bd=(e,t=zc.low)=>{var n;(e&&ld.eventsQueue.push(e),Fl.isReady)&&(!pl.trackUserId||Il.userId?(t===zc.high||(n=wd,0!==ld.eventsQueue.length&&(ld.eventsQueue.length>=pl.batchEventsThreshold||(ld.eventsScheduled||(ld.eventsScheduled=!0,setTimeout((()=>{ld.eventsScheduled=!1,n(fd(ld.eventsQueue)),ld.eventsQueue=[]}),pl.batchEventsPeriod)),0))))&&_d():ld.eventsQueue.length>10&&(pl.trackUserId=!1,pl.onError(new Error("userId not set in Logged-in"))))},wd=(e,t=zc.low)=>{if(Il.isOptOut||0===e.length)return;let n;try{n=JSON.stringify(e)}catch(t){const r=e.map((e=>e.event_type)).join(", "),i=Bc((e=>{try{const n=[];for(const r of e){const e=Vc({},r);r.event_properties&&(e.event_properties=Vc(Vc({},e.event_properties),{},{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=r.event_properties.view,["string","number","boolean"].includes(typeof t)?r.event_properties.view:null)})),n.push(e)}return[!0,JSON.stringify(n)]}catch(e){return[!1,""]}var t})(e),2),o=i[0],s=i[1];if(!o)return void pl.onError(new gd(t instanceof Error?t.message:"unknown"),{listEventType:r});n=s,pl.onError(new vd("Found DOM element reference"),{listEventType:r,stringifiedEventData:n})}const r=Sl().toString(),i=Vc(Vc({},{e:n,v:"2",upload_time:r}),{},{client:pl.amplitudeApiKey,checksum:md(pl.amplitudeApiKey,n,r)});hd({url:pl.eventsEndpoint,data:i,importance:t,onError:pl.onError}),Wl({metricName:"Batch Events",data:e})},_d=()=>{var e;wd(fd(ld.eventsQueue)),e={eventsQueue:[]},Object.assign(ld,e)};const Sd={};const Ed=(e,t,n=zc.low)=>{if(Il.isOptOut)return;if(pl.platform===Zc.unknown)return void pl.onError(new Error("SDK platform not initialized"));const r=(e=>{const t=Sl();if(!e)return pl.onError(new Error("missing logData")),Vc(Vc({},Nl(Gc.unknown,Qc.unknown,null)),{},{locale:Il.locale,session_lcc_id:Il.session_lcc_id,session_uuid:wl.sessionUUID,timestamp:t,time_start:El.timeStart});const n=Vc(Vc(Vc({},e),Nl(e.action,e.componentType,e.loggingId)),{},{locale:Il.locale,session_lcc_id:Il.session_lcc_id,session_uuid:wl.sessionUUID,timestamp:t,time_start:El.timeStart});return delete n.componentType,delete n.loggingId,n})(t);cd(r),Wd(r),function(e){Object.keys(Sd).length>0&&Object.assign(e,Sd)}(r),r.has_double_fired=!1,r.event_type=e,n===zc.high?bd(r,n):yd((()=>{bd(r)}))},xd=e=>{var t;if(pl.platform!==Zc.unknown&&(Zc.server!==pl.platform&&!e.pagePath&&ad.pagePath&&(e.pagePath=ad.pagePath),ld.metricsQueue.push(e),t=Ad,0!==ld.metricsQueue.length&&(ld.metricsQueue.length>=pl.batchMetricsThreshold||(ld.metricsScheduled||(ld.metricsScheduled=!0,setTimeout((()=>{ld.metricsScheduled=!1,t(pd(ld.metricsQueue)),ld.metricsQueue=[]}),pl.batchMetricsPeriod)),0)))){const e=pd(ld.metricsQueue);Ad(e),ld.metricsQueue=[]}},Ad=e=>{yd((()=>{hd({url:pl.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:pl.onError})})),Wl({metricName:"Batch Metrics",data:e})},kd=e=>e-wl.lastEventTime>18e5,Td=()=>{const e=kd(Sl());if(e&&(ul.forEach((e=>{wl[e]&&delete wl[e]})),Ld()),!wl.lastEventTime||!El.sessionStart||!e)return;const t=Math.round((wl.lastEventTime-El.sessionStart)/1e3);if(t<1||t>36e3)return;const n=(e=>e<Xl?tl.xs:e<ed?tl.s:e<td?tl.m:e<nd?tl.l:e<rd?tl.xl:tl.xxl)(t);Ed("session_duration",{action:Gc.measurement,componentType:Qc.page,loggingId:ll,session_duration:t,session_end:wl.lastEventTime,session_start:El.sessionStart,session_rank:n})},Md=()=>{const e=Sl();wl.sessionId&&wl.lastEventTime&&!kd(e)||(wl.sessionId=e,wl.sessionUUID=Rl(),xl({sessionStart:e}),zl({metricName:"Started new session:",data:{persistentData:wl,timeStone:El}})),wl.lastEventTime=e},Cd=[],Nd=[],Od=()=>{const e=Cd.shift();e&&e()},Id=()=>{const e=Nd.shift();e&&e()},Rd=()=>{_l({eventId:wl.eventId+1})},Pd=()=>{_l({sequenceNumber:wl.sequenceNumber+1})},Ld=()=>{"server"!==pl.platform&&(_l({sessionStart:El.sessionStart,ac:Zl.ac,af:Zl.af,ah:Zl.ah,al:Zl.al,am:Zl.am,ar:Zl.ar,as:Zl.as,pv:Zl.pv}),Il.userId&&_l({userId:Il.userId}),Gl(wl))};function jd(){var e,t;return null!==(e=null===(t=document)||void 0===t?void 0:t.referrer)&&void 0!==e?e:""}const Dd=()=>{if(!vl())return ad.initialUAAData;if(Object.keys(ad.initialUAAData).length>0)return ad.initialUAAData;const e=new URLSearchParams(Fd()),t=Ud(e);return ad.initialUAAData=Vc(Vc({},t),(()=>{const e=jd();if(!e)return{};const t=new URL(e);return t.hostname===Bd()?{}:{referrer:e,referring_domain:t.hostname}})()),ad.initialUAAData},Ud=e=>{const t={};return ul.forEach((n=>{e.has(n)&&(t[n]=(e.get(n)||"").toLowerCase())})),_l(Vc({},t)),Ld(),t},Bd=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.hostname)||""},Fd=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search)||""},qd=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)||""},Vd=()=>{const e=pl.overrideWindowLocation?ad.pagePath:qd()+Fd();e&&e!==ad.pagePath&&(e!==ad.pagePath&&$d(),ad.pagePath=e,ad.pageKeyRegex&&Object.keys(ad.pageKeyRegex).some((e=>{if(ad.pageKeyRegex[e].test(ad.pagePath))return ad.pageKey=e,!0})))},$d=()=>{if(vl()){const e=jd();if(!ad.prevPagePath&&e){const t=new URL(e);if(t.hostname===Bd())return void(ad.prevPagePath=t.pathname)}}ad.prevPagePath=ad.pagePath,ad.prevPageKey=ad.pageKey},Wd=e=>{vl()&&Object.assign(e,Dd())};let zd={};let Kd;const Hd=()=>{if(vl())try{const e=n(26002).Z;Kd=new e({analyticsTracker:e=>{const t=e.data,n=e.eventProperties,r=e.metricName,i=e.navigatorInformation,o=e.vitalsScore,s=dl[r];if(!s)return;const a=(null==i?void 0:i.deviceMemory)||0,u=(null==i?void 0:i.hardwareConcurrency)||0,c=(null==i?void 0:i.isLowEndDevice)||!1,l=(null==i?void 0:i.isLowEndExperience)||!1,d=(null==i?void 0:i.serviceWorkerStatus)||"unsupported",h=Vc({deviceMemory:a,hardwareConcurrency:u,isLowEndDevice:c,isLowEndExperience:l,serviceWorkerStatus:d},zd),p={is_low_end_device:c,is_low_end_experience:l,page_key:ad.pageKey||"",save_data:t.saveData||!1,service_worker:d};if("navigationTiming"===r)t&&"number"==typeof t.redirectTime&&xd({metricName:dl.redirectTime.eventName,metricType:Kc.histogram,tags:Vc({},p),value:t.redirectTime||0});else if("ttfb"===r)Ed(s.eventName,Vc({action:Gc.measurement,componentType:Qc.page,loggingId:dl[r].loggingId,duration:t||null,vitalsScore:o||null},h)),xd({metricName:dl.ttfb.eventName,metricType:Kc.histogram,tags:Vc({},p),value:t}),o&&xd({metricName:`perf_web_vitals_ttfb_${o}`,metricType:Kc.count,tags:Vc({},p),value:1});else if("networkInformation"===r)null!=t&&t.effectiveType&&(zd=t,Ed(s.eventName,{action:Gc.measurement,componentType:Qc.page,loggingId:dl.networkInformation.loggingId,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:a,navigatorHardwareConcurrency:u}));else if("storageEstimate"===r)Ed(s.eventName,Vc(Vc({action:Gc.measurement,componentType:Qc.page,loggingId:dl.storageEstimate.loggingId},t),h)),xd({metricName:"perf_storage_estimate_caches",metricType:Kc.histogram,tags:Vc({},p),value:t.caches}),xd({metricName:"perf_storage_estimate_indexed_db",metricType:Kc.histogram,tags:Vc({},p),value:t.indexedDB});else if("cls"===r)Ed(s.eventName,Vc({action:Gc.measurement,componentType:Qc.page,loggingId:dl[r].loggingId,score:100*t||null,vitalsScore:o||null},h)),o&&xd({metricName:`perf_web_vitals_cls_${o}`,metricType:Kc.count,tags:Vc({},p),value:1});else if("fid"===r){const e=(null==n?void 0:n.performanceEntry)||null,i=parseInt((null==e?void 0:e.processingStart)||"");Ed(s.eventName,Vc({action:Gc.measurement,componentType:Qc.page,duration:t||null,loggingId:dl[r].loggingId,processingStart:null!=e&&e.processingStart?i:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:o||null},h)),o&&xd({metricName:`perf_web_vitals_fidVitals_${o}`,metricType:Kc.count,tags:Vc({},p),value:1})}else dl[r]&&(Ed(s.eventName,Vc({action:Gc.measurement,componentType:Qc.page,loggingId:dl[r].loggingId,duration:t||null,vitalsScore:o||null},h)),o&&xd({metricName:`perf_web_vitals_${r}_${o}`,metricType:Kc.count,tags:Vc({},p),value:1}))},maxMeasureTime:3e4})}catch(e){e instanceof Error&&pl.onError(e)}};let Qd=!1,Gd=!1;const Zd=e=>{Qd=!e.persisted},Jd=(e,t="hidden",n=!1)=>{Gd||(addEventListener("pagehide",Zd),addEventListener("beforeunload",(()=>{})),Gd=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:Qd})}),{capture:!0,once:n})};function Yd(){var e;vl()&&(e=()=>{var e,t,n,r;Ul(),Dl({width:null!==(e=null===(t=window)||void 0===t?void 0:t.innerWidth)&&void 0!==e?e:null,height:null!==(n=null===(r=window)||void 0===r?void 0:r.innerHeight)&&void 0!==n?n:null})},addEventListener("resize",(()=>{requestAnimationFrame((()=>{e()}))})))}const Xd=e=>{var t,n,r,i,o,s,a,u;yl(e),vl()&&(Il.languageCode=(null===(t=navigator)||void 0===t?void 0:t.languages[0])||(null===(n=navigator)||void 0===n?void 0:n.language)||""),Ul(),Hl(),zl({metricName:"Initialized Analytics:",data:{deviceId:Il.deviceId}}),Cd.push((()=>{bd()})),(async()=>{const e=await Ql();ql({isReady:!0}),Od(),e&&(Id(),_l({eventId:e.eventId||wl.eventId,sequenceNumber:e.sequenceNumber||wl.sequenceNumber,sessionId:e.sessionId||wl.sessionId,lastEventTime:e.lastEventTime||wl.lastEventTime,sessionUUID:e.sessionUUID||wl.sessionUUID}),xl({sessionStart:e.sessionStart||wl.sessionStart}),od({ac:e.ac||Zl.ac,af:e.af||Zl.af,ah:e.ah||Zl.ah,al:e.al||Zl.al,am:e.am||Zl.am,ar:e.ar||Zl.ar,as:e.as||Zl.as,pv:e.pv||Zl.pv}),pl.trackUserId&&jl({userId:e.userId||Il.userId}),Td(),zl({metricName:"Initialized Analytics IndexedDB:",data:e}))})(),vl()?("requestIdleCallback"in window?window.requestIdleCallback(Bl,{timeout:pl.ricTimeoutSetDevice}):Bl(),Ol.amplitudePlatform=Jc.web,Ol.userAgent=(null===(r=window)||void 0===r||null===(i=r.navigator)||void 0===i?void 0:i.userAgent)||null,Dl({height:null!==(o=null===(s=window)||void 0===s?void 0:s.innerHeight)&&void 0!==o?o:null,width:null!==(a=null===(u=window)||void 0===u?void 0:u.innerWidth)&&void 0!==a?a:null})):gl()?Ol.amplitudePlatform=Jc.ios:ml()&&(Ol.amplitudePlatform=Jc.android),vl()&&(Jd((()=>{_l({lastEventTime:Sl()}),Ld(),_d()}),"hidden"),Jd((()=>{Td()}),"visible")),Yd(),Hd()},eh=e=>{jl(e),zl({metricName:"Identify:",data:{countryCode:Il.countryCode,deviceId:Il.deviceId,userId:Il.userId}})},th={Button:{label:"cb_button",uuid:"e921a074-40e6-4371-8700-134d5cd633e6",componentType:Qc.button}};function nh(e,t,n){const r=n.componentName,i=n.data;Ed(e.label,Vc({componentType:e.componentType,action:t,loggingId:e.uuid,component_name:r},i))}Gc.click,Gc.hover,Gc.click,Gc.hover;Zc.ios,Zc.android,Zc.web;let rh;function ih(){if(!rh)throw new Error("cb-wallet-data initialization error: setApplicationMetadata must be called prior to getApplicationMetadata.");return rh}function oh(){return ih().platform}n(1738);class sh{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find((n=>(Array.isArray(e)?-1!==e.indexOf(n.target):n.target===e)&&n.propertyName===t))}findTree(e){return this.trees.find((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterUniques(e){return this.uniques.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterChecks(e){return this.checks.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterExclusions(e){return this.exclusions.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find((n=>n.target===e&&n.propertyName===t))}filterJoinColumns(e,t){return this.joinColumns.filter((n=>n.target===e&&n.propertyName===t))}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter((n=>(Array.isArray(e)?-1!==e.indexOf(n.target):n.target===e)&&n.methodName===t))}filterTransactionRepository(e,t){return this.transactionRepositories.filter((n=>(Array.isArray(e)?-1!==e.indexOf(n.target):n.target===e)&&n.methodName===t))}filterSingleTableChildren(e){return this.tables.filter((t=>"function"==typeof t.target&&"function"==typeof e&&class{static getInheritanceTree(e){const t=[e],n=e=>{const r=Object.getPrototypeOf(e);r&&r.name&&(t.push(r),n(r))};return n(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter((e=>e.target&&-1!==t.indexOf(e.target))):e}}.isInherited(t.target,e)&&"entity-child"===t.type))}findInheritanceType(e){return this.inheritances.find((t=>t.target===e))}findDiscriminatorValue(e){return this.discriminatorValues.find((t=>t.target===e))}filterByTarget(e,t){return e.filter((e=>Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t))}filterByTargetAndWithoutDuplicateProperties(e,t){const n=[];return e.forEach((e=>{(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t)&&(n.find((t=>t.propertyName===e.propertyName))||n.push(e))})),n}filterByTargetAndWithoutDuplicateRelationProperties(e,t){const n=[];return e.forEach((e=>{if(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t){const r=n.findIndex((t=>t.propertyName===e.propertyName));if(Array.isArray(t)&&-1!==r&&t.indexOf(e.target)<t.indexOf(n[r].target)){const t=Object.create(n[r]);t.type=e.type,n[r]=t}else-1===r&&n.push(e)}})),n}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){const n=[];return e.forEach((e=>{if(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t){n.find((t=>t.prefix===e.prefix&&t.propertyName===e.propertyName))||n.push(e)}})),n}}class ah{static getGlobalVariable(){return"undefined"!=typeof window?window:n.g}static load(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: require("${e}").`);return""}static pathNormalize(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: path.normalize("${e}").`);return""}static pathExtname(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: path.extname("${e}").`);return""}static pathResolve(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: path.resolve("${e}").`);return""}static fileExist(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.existsSync("${e}").`);return!1}static dotenv(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: dotenv.config({ path: "${e}" }).`)}static getEnvVariable(e){}static readFileSync(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.readFileSync("${e}").`);return null}static appendFileSync(e,t){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.appendFileSync("${e}").`)}static writeFile(e,t){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.writeFile("${e}").`);return Promise.reject(null)}static highlightSql(e){return e}static highlightJson(e){return e}static logInfo(e,t){console.info(e+" ",t)}static logError(e,t){console.error(e+" ",t)}static logWarn(e,t){console.warn(e+" ",t)}static log(e){console.log(e)}static warn(e){return e}}ah.type="browser";"undefined"!=typeof window&&(window.Buffer=n(48834).Buffer),void 0!==n.g&&(n.g.Buffer=n(48834).Buffer);n(60762);n(84785);n(62271),n(74899);n(92632),n(17636),n(49330),n(22483);n(4027),n(41772),n(99459),n(7104),n(887);n(54605),n(92825);n(52949);n(48834).Buffer;n(42547),n(3518);n(73694);n(90632),n(48834).Buffer;n(7234),n(88305);n(3451);var uh;n(7684),n(45842),n(76245);!function(e){e.VIEW="VIEW",e.MATERIALIZED_VIEW="MATERIALIZED_VIEW",e.GENERATED_COLUMN="GENERATED_COLUMN"}(uh||(uh={}));n(86837),n(6579);n(48834).Buffer;n(48834).Buffer;n(48834).Buffer;n(48834).Buffer;new class{constructor(){this.instances=[]}get(e){let t=this.instances.find((t=>t.type===e));return t||(t={type:e,object:new e},this.instances.push(t)),t.object}};n(48834).Buffer;class ch{}ch.AFTER_LOAD="after-load",ch.BEFORE_INSERT="before-insert",ch.AFTER_INSERT="after-insert",ch.BEFORE_UPDATE="before-update",ch.AFTER_UPDATE="after-update",ch.BEFORE_REMOVE="before-remove",ch.AFTER_REMOVE="after-remove",ch.BEFORE_SOFT_REMOVE="before-soft-remove",ch.AFTER_SOFT_REMOVE="after-soft-remove",ch.BEFORE_RECOVER="before-recover",ch.AFTER_RECOVER="after-recover";n(84144);n(25130);n(2675),n(47884);function lh(){const e=ah.getGlobalVariable();return e.typeormMetadataArgsStorage||(e.typeormMetadataArgsStorage=new sh),e.typeormMetadataArgsStorage}var dh=n(51817);function hh(e,t){return function(n,r){let i;"string"==typeof e||"function"==typeof e?i=e:e&&(t=e,i=e.type),t||(t={});const o=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",n,r):void 0;if(!i&&o&&(i=o),!t.type&&i&&(t.type=i),"hstore"!==t.type||t.hstoreType||(t.hstoreType=o===Object?"object":"string"),"function"==typeof e)lh().embeddeds.push({target:n.constructor,propertyName:r,isArray:o===Array||!0===t.array,prefix:void 0!==t.prefix?t.prefix:void 0,type:e});else{if(!t.type)throw new dh.s(n,r);!0===t.unique&&lh().uniques.push({target:n.constructor,columns:[r]}),lh().columns.push({target:n.constructor,propertyName:r,mode:"regular",options:t}),t.generated&&lh().generations.push({target:n.constructor,propertyName:r,strategy:"string"==typeof t.generated?t.generated:"increment"})}}}var ph=n(25835);function fh(e,t){return function(n,r){let i;"string"==typeof e||e===String||e===Boolean||e===Number?i=e:t=Object.assign({},e),t||(t={});const o=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",n,r):void 0;if(!i&&o&&(i=o),!t.type&&i&&(t.type=i),!t.type)throw new dh.s(n,r);if(t.nullable)throw new ph.I(n,r);t.primary=!0,lh().columns.push({target:n.constructor,propertyName:r,mode:"regular",options:t}),t.generated&&lh().generations.push({target:n.constructor,propertyName:r,strategy:"string"==typeof t.generated?t.generated:"increment"})}}var yh=n(68199);function mh(e,t){const n=(yh.g.isObject(e)?e:t)||{},r="string"==typeof e?e:n.name;return function(e){lh().tables.push({target:e,name:r,type:"regular",orderBy:n.orderBy?n.orderBy:void 0,engine:n.engine?n.engine:void 0,database:n.database?n.database:void 0,schema:n.schema?n.schema:void 0,synchronize:n.synchronize,withoutRowid:n.withoutRowid})}}function gh(e,t,n){const r="string"==typeof e?e:void 0,i="string"==typeof e?t:e;let o=yh.g.isObject(e)&&!Array.isArray(e)?e:n;return o||(o=yh.g.isObject(t)&&!Array.isArray(t)?t:n),function(e,t){lh().indices.push({target:t?e.constructor:e,name:r,columns:t?[t]:i,synchronize:!o||!1!==o.synchronize,where:o?o.where:void 0,unique:!(!o||!o.unique),spatial:!(!o||!o.spatial),fulltext:!(!o||!o.fulltext),nullFiltered:!(!o||!o.nullFiltered),parser:o?o.parser:void 0,sparse:!(!o||!o.sparse),background:!(!o||!o.background),expireAfterSeconds:o?o.expireAfterSeconds:void 0})}}n(62003),n(8134),n(90314),n(55521),n(49661);var vh,bh=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},wh=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};var _h;!function(e){e.MNEMONIC="mnemonic",e.WALLET_LINK="wallet_link",e.LEDGER="ledger",e.TREZOR="trezor"}(_h||(_h={}));let Sh=class{id;createdAt;type;primaryAddressChain;primaryAddress;nickname};bh([fh("varchar"),wh("design:type",String)],Sh.prototype,"id",void 0),bh([hh("datetime"),wh("design:type","function"==typeof(vh="undefined"!=typeof Date&&Date)?vh:Object)],Sh.prototype,"createdAt",void 0),bh([hh("varchar"),wh("design:type",String)],Sh.prototype,"type",void 0),bh([hh("varchar",{nullable:!0}),wh("design:type",Object)],Sh.prototype,"primaryAddressChain",void 0),bh([hh("varchar",{nullable:!0}),wh("design:type",String)],Sh.prototype,"primaryAddress",void 0),bh([hh(),wh("design:type",String)],Sh.prototype,"nickname",void 0),Sh=bh([mh("account"),gh("IDX_ACCOUNT",["type","primaryAddress","primaryAddressChain"])],Sh);_h.LEDGER,_h.TREZOR;uc({key:"accounts",default:[]}),cc({key:"activeAccountId",get:({get:e})=>{const t=e(vc),n=e(wc),r=t?.find((e=>e.id===n));return r?.accountId}}),uc({key:"isMultiAccountPhase1EnabledAtom",default:!1}),uc({key:"multiAccountAnnouncementTrayViewedAtom",default:!1,effects:[gc(new a("StoreKeys_multiAccountNuxScreenViewed"))]});n(82066);let Eh=async()=>{};let xh=!1;Ah=async function(){return Eh()};var Ah;class kh{chainId;baseAssetCurrencyCode;baseAssetImageUrl;baseAssetDisplayName;baseAssetDecimal;displayName;isTestnet;isLayer2;isCustomNetwork;blockExplorerUrl;rpcUrl;chainImageUrl;isNonEthChain;constructor({chainId:e,baseAssetCurrencyCode:t,baseAssetImageUrl:n,baseAssetDisplayName:r,baseAssetDecimal:i,displayName:o,isTestnet:s,isLayer2:a,isCustomNetwork:u,blockExplorerUrl:c,rpcUrl:l,chainImageUrl:d,isNonEthChain:h}){this.chainId=e,this.baseAssetCurrencyCode=t,this.baseAssetImageUrl=n,this.baseAssetDisplayName=r,this.baseAssetDecimal=i,this.displayName=o,this.isTestnet=s,this.isLayer2=a,this.isCustomNetwork=u,this.blockExplorerUrl=c,this.rpcUrl=l,this.chainImageUrl=d??this.baseAssetImageUrl,this.isNonEthChain=Boolean(h)}}class Th{networkMap;whitelisted;constructor(e){this.whitelisted=e,this.networkMap=new Map(Object.values(e).map((e=>[e.chainId.toString(),e])))}get allNetworks(){return this.networkMap}addNetwork(e,t){this.networkMap.set(e,t)}removeNetwork(e){if(this.isWhitelisted(e))throw Error("Cannot delete a whitelisted network");this.networkMap.delete(e)}removeCustomizationForWhitelisted(e){const t=Object.values(this.whitelisted).find((t=>t.chainId.toString()===e));t&&this.addNetwork(e,t)}isWhitelisted(e){const t=Object.values(this.whitelisted).map((e=>e.chainId.toString()));return t.includes(e)}isWhiteListedAndCustomized(e){if(!this.isWhitelisted(e))return!1;const t=this.fromChainId(new(I())(e)),n=Object.values(this.whitelisted).find((t=>t.chainId.toString()===e));return!t||!n||t.displayName!==n.displayName||t.rpcUrl!==n.rpcUrl||t.baseAssetCurrencyCode!==n.baseAssetCurrencyCode||t.blockExplorerUrl!==n.blockExplorerUrl}resetNetworks(){this.networkMap=new Map(Object.values(this.whitelisted).map((e=>[e.chainId.toString(),e])))}fromChainId(e){const t=e.toString();if(this.networkMap.has(t))return this.networkMap.get(t)}}const Mh="ETC",Ch=new(I())(18),Nh="https://wallet-api-production.s3.amazonaws.com/uploads/tokens/etc_288.png",Oh={ETHEREUM_MAINNET:{blockExplorerUrl:"https://etherscan.io",rpcUrl:"https://mainnet-infura.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://mainnet-etherscan.wallet.coinbase.com"},OPTIMISM_MAINNET:{blockExplorerUrl:"https://optimistic.etherscan.io",rpcUrl:"https://optimism-mainnet.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://api-optimistic.etherscan.io"},POLYGON_MAINNET:{blockExplorerUrl:"https://polygonscan.com",rpcUrl:"https://l2-mainnet.wallet.coinbase.com?targetName=polygon-mainnet",etherscanCompatibleTxHistoryApi:"https://api.polygonscan.com"},ETHEREUM_CLASSIC_MAINNET:{blockExplorerUrl:"https://emerald.cash",rpcUrl:"https://etc.wallet.coinbase.com/api/",etherscanCompatibleTxHistoryApi:""},BNB_MAINNET:{blockExplorerUrl:"https://bscscan.com",rpcUrl:"https://l2-mainnet.wallet.coinbase.com?targetName=bsc",etherscanCompatibleTxHistoryApi:"https://api.bscscan.com"},FANTOM_MAINNET:{blockExplorerUrl:"https://ftmscan.com",rpcUrl:"https://l2-mainnet.wallet.coinbase.com?targetName=fantom",etherscanCompatibleTxHistoryApi:"https://api.ftmscan.com"},ARBITRUM_MAINNET:{blockExplorerUrl:"https://explorer.arbitrum.io",rpcUrl:"https://l2-mainnet.wallet.coinbase.com?targetName=arbitrum",etherscanCompatibleTxHistoryApi:"https://api.arbiscan.io"},GNOSIS_MAINNET:{blockExplorerUrl:"https://blockscout.com/poa/xdai",rpcUrl:"https://l2-mainnet.wallet.coinbase.com?targetName=xdai",etherscanCompatibleTxHistoryApi:"https://blockscout.com/poa/xdai"},AVALANCHE_MAINNET:{blockExplorerUrl:"https://snowtrace.io",rpcUrl:"https://l2-mainnet.wallet.coinbase.com?targetName=avalanche",etherscanCompatibleTxHistoryApi:"https://api.snowtrace.io"},ROPSTEN:{blockExplorerUrl:"https://ropsten.etherscan.io",rpcUrl:"https://ropsten-infura.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://ropsten-etherscan.wallet.coinbase.com"},RINKEBY:{blockExplorerUrl:"https://rinkeby.etherscan.io",rpcUrl:"https://rinkeby-infura.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://rinkeby-etherscan.wallet.coinbase.com"},GOERLI:{blockExplorerUrl:"https://goerli.etherscan.io",rpcUrl:"https://polygon-mumbai-infura.wallet.coinbase.com/?targetName=infura-goerli",etherscanCompatibleTxHistoryApi:"https://goerli-etherscan.wallet.coinbase.com"},KOVAN:{blockExplorerUrl:"https://kovan.etherscan.io",rpcUrl:"https://kovan-infura.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://kovan-etherscan.wallet.coinbase.com"},OPTIMISTIC_KOVAN:{blockExplorerUrl:"https://kovan-optimistic.etherscan.io",rpcUrl:"https://optimism-node.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://kovan-optimistic.etherscan.io"},POLYGON_TESTNET:{blockExplorerUrl:"https://explorer-mumbai.maticvigil.com",rpcUrl:"https://polygon-mumbai-infura.wallet.coinbase.com",etherscanCompatibleTxHistoryApi:"https://explorer-mumbai.maticvigil.com"},BNB_TESTNET:{blockExplorerUrl:"https://testnet.bscscan.com",rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545",etherscanCompatibleTxHistoryApi:"https://api-testnet.bscscan.com"},FANTOM_TESTNET:{blockExplorerUrl:"https://testnet.ftmscan.com",rpcUrl:"https://rpc.testnet.fantom.network",etherscanCompatibleTxHistoryApi:"https://api-testnet.ftmscan.com"},ARBITRUM_TESTNET:{blockExplorerUrl:"https://rinkeby-explorer.arbitrum.io",rpcUrl:"https://rinkeby.arbitrum.io/rpc",etherscanCompatibleTxHistoryApi:"https://testnet.arbiscan.io"},AVALANCHE_FUJI:{blockExplorerUrl:"https://testnet.snowtrace.io",rpcUrl:"https://api.avax-test.network/ext/bc/C/rpc",etherscanCompatibleTxHistoryApi:"https://api-testnet.snowtrace.io"}},Ih=Object.keys(Oh).reduce(((e,t)=>({...e,[t]:{blockExplorerUrl:`${He}/mock-block-explorer`,rpcUrl:`${He}/mock-chain-rpc`,etherscanCompatibleTxHistoryApi:`${He}/mock-etherscan`}})),{}),Rh=Ze?Ih:Oh;class Ph extends kh{is1559Enabled;etherscanCompatibleTxHistoryApi;etherscanLikeApiKey;constructor({is1559Enabled:e,etherscanCompatibleTxHistoryApi:t,etherscanLikeApiKey:n,...r}){super(r),this.is1559Enabled=e,this.etherscanCompatibleTxHistoryApi=t,this.etherscanLikeApiKey=n}}const Lh=new Th({ETHEREUM_MAINNET:new Ph({chainId:1,baseAssetCurrencyCode:"ETH",baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Ethereum",baseAssetDecimal:18,displayName:"Ethereum",isTestnet:!1,isLayer2:!1,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"GAH6BHW1WXF3TNQ4AH3G44B7BWVVKPKSV5",...Rh.ETHEREUM_MAINNET}),OPTIMISM_MAINNET:new Ph({chainId:10,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Ethereum",baseAssetDecimal:18,displayName:"Optimism",isTestnet:!1,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"3AC76IGUZCFP2ABUNPGAY8PJSPRAFJYHEF",chainImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/optimism_logo.png",...Rh.OPTIMISM_MAINNET}),POLYGON_MAINNET:new Ph({chainId:137,baseAssetCurrencyCode:"MATIC",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/b474d4bf3af389e5f26ed66956f1da8a/maticLogo.png",baseAssetDisplayName:"MATIC",baseAssetDecimal:18,displayName:"Polygon",isTestnet:!1,isLayer2:!0,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"N1QTECUKT25H7R5H1EGHAXUIG7SRT8BUYY",chainImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/tokens/0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0_64.png",...Rh.POLYGON_MAINNET}),ETHEREUM_CLASSIC_MAINNET:new Ph({chainId:61,baseAssetCurrencyCode:"ETC",baseAssetImageUrl:Nh,baseAssetDisplayName:"Ethereum Classic",baseAssetDecimal:18,displayName:"Ethereum Classic",isTestnet:!1,isLayer2:!1,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"",...Rh.ETHEREUM_CLASSIC_MAINNET}),BNB_MAINNET:new Ph({chainId:56,baseAssetCurrencyCode:"BNB",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/e12b5eaa48ec08814f6b81c68e1b3fc7/bnb_logo.png",baseAssetDisplayName:"BNB",baseAssetDecimal:18,displayName:"BNB (Binance Smart) Chain",isTestnet:!1,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"T8BK2SDU3I3JXKWCFAPVRFQDHKV5MACHWC",chainImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/tokens/bnb_288.png",...Rh.BNB_MAINNET}),FANTOM_MAINNET:new Ph({chainId:250,baseAssetCurrencyCode:"FTM",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/ddbcf362d2717855adb007691745b83f/ftm_logo.png",baseAssetDisplayName:"FTM",baseAssetDecimal:18,displayName:"Fantom Opera",isTestnet:!1,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"33A9K22PIJJEQT28HYD7JIWQHQ7AHC1TFF",...Rh.FANTOM_MAINNET}),ARBITRUM_MAINNET:new Ph({chainId:42161,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Ethereum",baseAssetDecimal:18,displayName:"Arbitrum",isTestnet:!1,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"8EIAPIHN5S47JM7AD65UCVPGQWGZ38G7AJ",chainImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/arbitrum_logo.png",...Rh.ARBITRUM_MAINNET}),GNOSIS_MAINNET:new Ph({chainId:100,baseAssetCurrencyCode:"XDAI",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/0cea7ffb3d2ab10b1f55afc83629b7a0/xdai_logo.png",baseAssetDisplayName:"xDai",baseAssetDecimal:18,displayName:"Gnosis",isTestnet:!1,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"1b25e3c1-9951-4366-afc6-a6d414ecdb5e",...Rh.GNOSIS_MAINNET}),AVALANCHE_MAINNET:new Ph({chainId:43114,baseAssetCurrencyCode:"AVAX",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/889d119cede59f72d7dae9132b2d35fc/avax_logo.png",baseAssetDisplayName:"AVAX",baseAssetDecimal:18,displayName:"Avalanche C-Chain",isTestnet:!1,isLayer2:!0,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"S1UPXSUGI2Z7TBZN2MZCMZBW2HP3DZ1B4G",...Rh.AVALANCHE_MAINNET}),ROPSTEN:new Ph({chainId:3,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Ropsten Ethereum",baseAssetDecimal:18,displayName:"Ropsten",isTestnet:!0,isLayer2:!1,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"GAH6BHW1WXF3TNQ4AH3G44B7BWVVKPKSV5",...Rh.ROPSTEN}),RINKEBY:new Ph({chainId:4,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Rinkeby Ethereum",baseAssetDecimal:18,displayName:"Rinkeby",isTestnet:!0,isLayer2:!1,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"GAH6BHW1WXF3TNQ4AH3G44B7BWVVKPKSV5",...Rh.RINKEBY}),GOERLI:new Ph({chainId:5,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"G\xf6rli Ethereum",baseAssetDecimal:18,displayName:"G\xf6rli",isTestnet:!0,isLayer2:!1,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"GAH6BHW1WXF3TNQ4AH3G44B7BWVVKPKSV5",...Rh.GOERLI}),KOVAN:new Ph({chainId:42,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Kovan Ethereum",baseAssetDecimal:18,displayName:"Kovan",isTestnet:!0,isLayer2:!1,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"GAH6BHW1WXF3TNQ4AH3G44B7BWVVKPKSV5",...Rh.KOVAN}),OPTIMISTIC_KOVAN:new Ph({chainId:69,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Testnet Ethereum",baseAssetDecimal:18,displayName:"Optimistic Kovan",isTestnet:!0,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"GAH6BHW1WXF3TNQ4AH3G44B7BWVVKPKSV5",chainImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/optimism_logo.png",...Rh.OPTIMISTIC_KOVAN}),POLYGON_TESTNET:new Ph({chainId:80001,baseAssetCurrencyCode:"MATIC",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/b474d4bf3af389e5f26ed66956f1da8a/maticLogo.png",baseAssetDisplayName:"Testnet Matic",baseAssetDecimal:18,displayName:"Polygon Mumbai",isTestnet:!0,isLayer2:!0,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"N1QTECUKT25H7R5H1EGHAXUIG7SRT8BUYY",chainImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/tokens/0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0_64.png",...Rh.POLYGON_TESTNET}),BNB_TESTNET:new Ph({chainId:97,baseAssetCurrencyCode:"BNB",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/e12b5eaa48ec08814f6b81c68e1b3fc7/bnb_logo.png",baseAssetDisplayName:"BNB",baseAssetDecimal:18,displayName:"BNB (Binance Smart) Chain Testnet",isTestnet:!0,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"T8BK2SDU3I3JXKWCFAPVRFQDHKV5MACHWC",...Rh.BNB_TESTNET}),FANTOM_TESTNET:new Ph({chainId:4002,baseAssetCurrencyCode:"FTM",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/ddbcf362d2717855adb007691745b83f/ftm_logo.png",baseAssetDisplayName:"FTM",baseAssetDecimal:18,displayName:"Fantom Testnet",isTestnet:!0,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"33A9K22PIJJEQT28HYD7JIWQHQ7AHC1TFF",...Rh.FANTOM_TESTNET}),ARBITRUM_TESTNET:new Ph({chainId:421611,baseAssetCurrencyCode:void 0,baseAssetImageUrl:"https://coinbase-west.s3.us-west-2.amazonaws.com/ethereum_logo.png",baseAssetDisplayName:"Testnet Ethereum",baseAssetDecimal:18,displayName:"Arbitrum Rinkeby",isTestnet:!0,isLayer2:!0,is1559Enabled:!1,isCustomNetwork:!1,etherscanLikeApiKey:"8EIAPIHN5S47JM7AD65UCVPGQWGZ38G7AJ",...Rh.ARBITRUM_TESTNET}),AVALANCHE_FUJI:new Ph({chainId:43113,baseAssetCurrencyCode:"AVAX",baseAssetImageUrl:"https://wallet-api-production.s3.amazonaws.com/uploads/889d119cede59f72d7dae9132b2d35fc/avax_logo.png",baseAssetDisplayName:"Testnet AVAX",baseAssetDecimal:18,displayName:"Avalanche Fuji",isTestnet:!0,isLayer2:!0,is1559Enabled:!0,isCustomNetwork:!1,etherscanLikeApiKey:"S1UPXSUGI2Z7TBZN2MZCMZBW2HP3DZ1B4G",...Rh.AVALANCHE_FUJI})});class jh{constructor(e){Object.assign(this,e)}imageURLForNetwork(e){return this.imageURL}currencyCodeForNetwork(e){return this.currencyCode}get minimumBalance(){}}n(48834).Buffer;function Dh(e,t){if(e)try{return new URL(e,t)}catch{return}}class Uh extends jh{constructor({blockchain:e,networkSetting:t,refreshInterval:n,currencyCode:r,decimals:i,imageURL:o,defaultReceiveType:s,isWalletIndexSwitchable:a,isSyncingRequired:u,isERC20Supported:c}){super({blockchain:e,networkSetting:t,refreshInterval:n,currencyCode:r,decimals:i,imageURL:o,defaultReceiveType:s,isWalletIndexSwitchable:a,isSyncingRequired:u}),Object.assign(this,{isERC20Supported:c})}displayName(e){const t=e.asChain();return t?t.baseAssetDisplayName:"Unknown"}imageURLForNetwork(e){return Dh(e.asChain()?.baseAssetImageUrl)}currencyCodeForNetwork(e){const t=e.asChain();return t?new R(t.baseAssetCurrencyCode??this.currencyCode.code):this.currencyCode}feeDecimalForNetwork(e){const t=e.asChain();return t?new(I())(t.baseAssetDecimal):this.decimals}}const Bh="XRP",Fh=new(I())(6),qh=(new(I())(1e7),"https://wallet-api-production.s3.amazonaws.com/uploads/tokens/xrp_288.png"),Vh="XLM",$h=new(I())(7),Wh="https://wallet-api-production.s3.amazonaws.com/uploads/tokens/xlm_288.png";class zh{rawValue;constructor(e){this.rawValue=e.toUpperCase()}toString(){return this.rawValue}static isEqual(e,t){return e.rawValue===t.rawValue}get addressCharLength(){switch(this.rawValue){case"SOL":return 44;case"ETH":case"ETC":return 42;case"XRP":return 34;case"XLM":return 56;default:throw new Error("Blockchain not supported")}}blockExplorerUrl(e,t){switch(this.rawValue){case"ETH":{const n=t.asChain();return n?`${n.blockExplorerUrl}/tx/${e}`:void 0}case"ETC":return`https://gastracker.io/tx/${e}`;case"SOL":{const n=t.asChain();return n?`${n.blockExplorerUrl}/tx/${e}`:void 0}case"XRP":return`https://xrpscan.com/tx/${e}`;case"XLM":return`https://steexp.com//tx/${e}`;case"BTC":return`https://live.blockcypher.com/btc/tx/${e}`;case"BCH":return`https://explorer.bitcoin.com/bch/tx/${e}`;case"DOGE":return`https://dogechain.info/tx/${e}`;case"LTC":return`https://live.blockcypher.com/ltc/tx/${e}`;default:return}}}class Kh{rawValue;constructor(e){this.rawValue=e}}const Hh="ETHEREUM_CHAIN",Qh="ETH",Gh=new(I())(18),Zh="Solana",Jh="SOL",Yh=(new(I())(1e9),"https://assets.coingecko.com/coins/images/4128/small/Solana.jpg?1635329178"),Xh=new(I())(9),ep={SOLANA_MAINNET:{blockExplorerUrl:"https://explorer.solana.com",rpcUrl:"https://sol-mainnet.wallet.coinbase.com"}},tp=Object.keys(ep).reduce(((e,t)=>({...e,[t]:{blockExplorerUrl:`${He}/mock-block-explorer`,rpcUrl:`${He}/mock-chain-rpc`}})),{}),np=Ze?tp:ep;const rp=new Th({SOLANA_MAINNET:new class extends kh{}({chainId:101,baseAssetCurrencyCode:"SOL",baseAssetImageUrl:Yh,baseAssetDisplayName:"Solana",baseAssetDecimal:9,displayName:"Solana",isTestnet:!1,isLayer2:!1,chainImageUrl:Yh,isCustomNetwork:!1,isNonEthChain:!0,...np.SOLANA_MAINNET})}),ip="SOLANA_CHAIN";function op(e){return new sp(`SOLANA_CHAIN:${e.chainId}`,e.isTestnet)}rp.whitelisted.SOLANA_MAINNET;class sp{isTestnet;rawValue;constructor(e,t=!1){this.isTestnet=t,this.rawValue=[e,String(t)].join("/")}static createTestnetNetwork(e){return new sp("TESTNET",e)}static create(e){const t=e.split("/");if(2!==t.length)return;const n=t[0],r=JSON.parse(t[1]);return"boolean"==typeof r?new sp(n,r):void 0}static isEqual(e,t){return e.rawValue===t.rawValue}static fromChainId({chainPrefix:e="ETHEREUM_CHAIN",chainId:t}){let n=Lh.fromChainId(t);return e===ip&&(n=rp.fromChainId(t)),new sp(`${e}:${t}`,n?.isTestnet??!1)}static fromSupportedChain(e){return new sp(`${e.prefix}:${e.chainId}`,!1)}asChain(){const{chainPrefix:e,chainId:t}=function(e){if(!e)return ap;const t=e.split("/");if(2!==t.length)return ap;const n=t[0]?.split(":")??[];if(2!==n.length)return ap;const r=n[0],i=n[1],o="undefined"===i?void 0:new(I())(i);return{chainPrefix:r,chainId:o}}(this.rawValue);if(e&&t)switch(e){case Hh:return Lh.fromChainId(t);case ip:return rp.fromChainId(t);default:return}}}const ap={chainId:void 0,chainPrefix:void 0};class up{name;network;constructor(e,t){this.name=e,this.network=t}}class cp{blockchain;defaultMainnet;mainnets;testnets;customNetworks;constructor(e,t,n,r,i=[]){this.blockchain=e,this.defaultMainnet=t,this.mainnets=n,this.testnets=r,this.customNetworks=i}get defaultNetworks(){return[...this.mainnets,...this.testnets]}get allNetworks(){return[...this.mainnets,...this.testnets,...this.customNetworks]}get mainnetsAndCustomNetworks(){return[...this.mainnets,...this.customNetworks]}static forTestnetBasedBlockchain(e){const t=new up("Mainnet",sp.createTestnetNetwork(!1)),n=new up("Testnet",sp.createTestnetNetwork(!0));return new cp(e,t,[t],[n])}}var lp;!function(e){e.string="string",e.bigint="bigint",e.boolean="boolean",e.number="number"}(lp||(lp={}));class dp{keyName;kind;constructor(e,t){this.keyName=e,this.kind=t}get rawValue(){return[this.keyName,this.kind].join("/")}static create(e){const t=e.split("/",2);if(2!==t.length||!(t[1]in lp))throw new Error(`Invalid TxMetadataKey: ${e}`);return new dp(t[0],lp[t[1]])}}new dp("consumerTxID",lp.string),new dp("inputCount",lp.bigint),new dp("outputCount",lp.bigint),new dp("hasRecordedConfirmEvent",lp.boolean),new dp("destinationTag",lp.number);const hp=new zh(Qh),pp=new Kh("Ethereum"),fp=function(){const e=new up("Ethereum",mp(Lh.whitelisted.ETHEREUM_MAINNET)),t=[];for(const e of Object.values(Lh.whitelisted))isNaN(e?.chainId)||t.push(Lh.fromChainId(new(I())(e.chainId)));const n=[e],r=[];return t.filter((e=>e.chainId!==Lh.whitelisted.ETHEREUM_MAINNET.chainId)).map((e=>function(e){return new up(e.displayName,mp(e))}(e))).sort(((e,t)=>e.name.localeCompare(t.name,"en-US"))).forEach((e=>{const t=new up(e.name,e.network);e.network.isTestnet?r.push(t):n.push(t)})),new cp(hp,e,n,r)}(),yp=new Uh({blockchain:hp,networkSetting:fp,refreshInterval:new(I())(30),currencyCode:R.ETH,decimals:Gh,imageURL:new URL("https://wallet-api-production.s3.amazonaws.com/uploads/tokens/eth_288.png"),defaultReceiveType:pp,isWalletIndexSwitchable:!0,isSyncingRequired:!1,isERC20Supported:!0});function mp(e){return new sp(`ETHEREUM_CHAIN:${e.chainId}`,e.isTestnet)}Lh.whitelisted.ETHEREUM_MAINNET;new dp("txSource",lp.string),new dp("sendNFTId",lp.string),new dp("analyticsId",lp.string);new Map(fp.allNetworks.map((e=>{const t=e.network.asChain(),n=t.chainId.toString();let r=`${He}/rpc/v2/getMainnetGasPrices`;parseInt(n,10)!==Lh.whitelisted.ETHEREUM_MAINNET.chainId&&(r="");return[n,{name:t.displayName,rpcUrl:t.rpcUrl,gasStationUrl:r}]})));const gp=new zh(Mh),vp=Lh.whitelisted.ETHEREUM_CLASSIC_MAINNET,bp=new up("Ethereum Classic",mp(vp)),wp=new Uh({blockchain:gp,networkSetting:new cp(gp,bp,[bp],[]),refreshInterval:new(I())(30),currencyCode:R.ETC,decimals:Ch,imageURL:new URL(Nh),defaultReceiveType:pp,isWalletIndexSwitchable:!0,isSyncingRequired:!1,isERC20Supported:!1});const _p=new zh(Bh),Sp=cp.forTestnetBasedBlockchain(_p),Ep=new Kh(Bh),xp=new class extends jh{displayName(){return"XRP"}imageURLForNetwork(){return new URL(qh)}currencyCodeForNetwork(){return this.currencyCode}feeDecimalForNetwork(){return this.decimals}}({blockchain:_p,networkSetting:Sp,refreshInterval:new(I())(120),currencyCode:R.XRP,decimals:Fh,imageURL:new URL(qh),isWalletIndexSwitchable:!0,isSyncingRequired:!1,defaultReceiveType:Ep});n(17022);const Ap=new Kh(Zh),kp=new zh(Jh),Tp=function(){const e=new up("Solana",op(rp.whitelisted.SOLANA_MAINNET)),t=[];for(const e of Object.values(rp.whitelisted))isNaN(e.chainId)||t.push(rp.fromChainId(new(I())(e.chainId)));const n=[e],r=[];return t.filter((e=>e.chainId!==rp.whitelisted.SOLANA_MAINNET.chainId)).map((e=>new up(e.displayName,op(e)))).sort(((e,t)=>e.name.localeCompare(t.name,"en-US"))).forEach((e=>{const t=new up(e.name,e.network);e.network.isTestnet?r.push(t):n.push(t)})),new cp(kp,e,n,r)}(),Mp=new class extends jh{displayName(){return Zh}imageURLForNetwork(){return new URL("https://assets.coingecko.com/coins/images/4128/small/Solana.jpg?1635329178")}currencyCodeForNetwork(){return this.currencyCode}feeDecimalForNetwork(){return this.decimals}}({blockchain:kp,networkSetting:Tp,refreshInterval:new(I())(30),currencyCode:R.SOL,decimals:Xh,imageURL:new URL(Yh),defaultReceiveType:Ap,isWalletIndexSwitchable:!0,isSyncingRequired:!1});const Cp=new zh(Vh),Np=cp.forTestnetBasedBlockchain(Cp),Op=new Kh(Vh),Ip=new class extends jh{displayName(){return"Stellar"}imageURLForNetwork(){return new URL(Wh)}currencyCodeForNetwork(){return this.currencyCode}feeDecimalForNetwork(){return this.decimals}}({blockchain:Cp,networkSetting:Np,refreshInterval:new(I())(30),currencyCode:R.XLM,decimals:$h,imageURL:new URL(Wh),isWalletIndexSwitchable:!0,isSyncingRequired:!1,defaultReceiveType:Op});class Rp extends jh{constructor(e){super({blockchain:e.blockchain,networkSetting:e.networkSetting,refreshInterval:e.refreshInterval,currencyCode:e.currencyCode,decimals:e.decimals,imageURL:e.imageURL,defaultReceiveType:e.defaultReceiveType,isWalletIndexSwitchable:!1,isSyncingRequired:!0}),Object.assign(this,e)}displayName(e){return e.isTestnet?`Testnet ${this.currencyName}`:this.currencyName}}const Pp="BTC",Lp=new Kh("BitcoinSegWit"),jp=new Kh("BitcoinBRDSegWit"),Dp=new Kh("BitcoinLegacy"),Up=new Kh("BitcoinBRDLegacy"),Bp=new zh(Pp),Fp=cp.forTestnetBasedBlockchain(Bp);const qp=new Rp({supportedAddressTypes:[Lp,Dp,jp,Up],blockchain:Bp,currencyName:"Bitcoin",currencyCode:R.BTC,decimals:new(I())(8),imageURL:new URL("https://wallet-api-production.s3.amazonaws.com/uploads/tokens/btc_288.png"),defaultReceiveType:Lp,txResubmitterInterval:new(I())(120),maxSubmissionAttempts:new(I())(5),qrCodeUriMainnetScheme:"bitcoin",qrCodeUriTestnetScheme:"bitcoin",networkSetting:Fp,refreshInterval:new(I())(480),isDerivationPathSupported:function(e,t){switch(e.rawValue){case Up.rawValue:case jp.rawValue:return!t;default:return!0}}}),Vp="BCH",$p=new Kh("BitcoinCashAddr"),Wp=new Kh("BitcoinCashLegacy"),zp=new Kh("BitcoinCashBRD"),Kp=new zh(Vp),Hp=cp.forTestnetBasedBlockchain(Kp);const Qp=new Rp({supportedAddressTypes:[$p,Wp,zp],blockchain:Kp,currencyName:"Bitcoin Cash",currencyCode:new R("BCH"),decimals:new(I())(8),imageURL:new URL("https://wallet-api-production.s3.amazonaws.com/uploads/tokens/bch_288.png"),defaultReceiveType:$p,txResubmitterInterval:new(I())(120),maxSubmissionAttempts:new(I())(5),qrCodeUriMainnetScheme:"bitcoincash",qrCodeUriTestnetScheme:"bchtest",networkSetting:Hp,refreshInterval:new(I())(480),isDerivationPathSupported:function(e,t){return e.rawValue!==zp.rawValue||!t}}),Gp="DOGE",Zp=new Kh("DogeCoin"),Jp=new zh(Gp),Yp=cp.forTestnetBasedBlockchain(Jp),Xp=new Rp({supportedAddressTypes:[Zp],blockchain:Jp,currencyName:"Dogecoin",currencyCode:new R("DOGE"),decimals:new(I())(8),imageURL:new URL("https://wallet-api-production.s3.amazonaws.com/uploads/tokens/doge_288.png"),defaultReceiveType:Zp,txResubmitterInterval:new(I())(30),maxSubmissionAttempts:new(I())(5),qrCodeUriMainnetScheme:"dogecoin",qrCodeUriTestnetScheme:"dogecoin",networkSetting:Yp,refreshInterval:new(I())(480)}),ef="LTC",tf=new Kh("LitecoinSegwit"),nf=new Kh("LitecoinLegacy"),rf=new Kh("LitecoinBRD"),of=new zh(ef),sf=cp.forTestnetBasedBlockchain(of);const af=new Rp({supportedAddressTypes:[tf,nf,rf],blockchain:of,currencyName:"Litecoin",currencyCode:new R("LTC"),decimals:new(I())(8),imageURL:new URL("https://wallet-api-production.s3.amazonaws.com/uploads/tokens/ltc_288.png"),defaultReceiveType:tf,txResubmitterInterval:new(I())(30),maxSubmissionAttempts:new(I())(5),qrCodeUriMainnetScheme:"litecoin",qrCodeUriTestnetScheme:"litecoin",networkSetting:sf,refreshInterval:new(I())(480),isDerivationPathSupported:function(e,t){return e.rawValue!==rf.rawValue||!t}}),uf=[Qh,Mh,Jh,Bh,Vh],cf=[Pp,Vp,Gp,ef],lf=[...uf,...cf],df={[Qh]:yp,[Mh]:wp,[Jh]:Mp,[Pp]:qp,[Vp]:Qp,[Gp]:Xp,[ef]:af,[Bh]:xp,[Vh]:Ip},hf={Account:new Map([[Qh,!0],[Mh,!1],[Jh,!0],[Bh,!1],[Vh,!1]]),UTXO:new Map([[Pp,!1],[Vp,!1],[Gp,!1],[ef,!1]])};function pf(){const e=[];return Object.keys(hf).forEach((t=>{const n=function(e){const{blockchainGroup:t}=e,n=[],r=hf[t];for(const[e,t]of r.entries())t&&n.push(e);return n}({blockchainGroup:t});e.push(...n)})),[...Array.from(new Set(e))]}function ff(e){return cf.includes(e)}function yf(e){return df[e].isWalletIndexSwitchable}const mf=["app_start","onboarding.username_step.submit","onboarding.import_step.import_recovery_phrase","send_status_success","task.confirm_transaction.tx_submitted.start","balance_update","assets.crypto_tab.viewed","analytics.appsflyer.user_id_set"];function gf(e){const{logAppsFlyerEvent:t}=ih();mf.includes(e)&&t?.(e)}function vf(e,t,n){const{action:r,componentType:i}=t;return gf(e),Ed(e,{...t,action:r??Gc.unknown,componentType:i??Qc.unknown},n)}var bf=n(84249);var wf=n(48834).Buffer;const _f={from:e=>{const t=e?e.split(",").map(Number):[];return wf.from(new Uint8Array(t))},to:e=>e?.toString()},Sf={from:e=>e?D(e):[],to:e=>j(e)};var Ef;!function(e){e[e.PENDING=1]="PENDING",e[e.FAILED=2]="FAILED",e[e.CONFIRMED=3]="CONFIRMED",e[e.DROPPED=4]="DROPPED"}(Ef||(Ef={}));var xf,Af,kf,Tf,Mf=n(48834).Buffer,Cf=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Nf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Of=class{id;createdAt;confirmedAt;blockchainStr;currencyCodeStr;feeCurrencyCodeStr;feeCurrencyDecimal;toAddress;fromAddress;amount;fee;state;metadataStrArray;networkStr;txHash;isSent;contractAddress;tokenName;tokenDecimal;nonce;gasLimit;maxFeePerGas;maxPriorityFeePerGas;baseFeePerGas;txSubmissionType;lowerBoundValue;data};Cf([fh(),Nf("design:type",String)],Of.prototype,"id",void 0),Cf([hh({type:"datetime"}),Nf("design:type","function"==typeof(xf="undefined"!=typeof Date&&Date)?xf:Object)],Of.prototype,"createdAt",void 0),Cf([hh({type:"datetime",nullable:!0}),Nf("design:type","function"==typeof(Af="undefined"!=typeof Date&&Date)?Af:Object)],Of.prototype,"confirmedAt",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"blockchainStr",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"currencyCodeStr",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"feeCurrencyCodeStr",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"feeCurrencyDecimal",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"toAddress",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"fromAddress",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"amount",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"fee",void 0),Cf([hh({type:"int"}),Nf("design:type","function"==typeof(kf=void 0!==Ef&&Ef)?kf:Object)],Of.prototype,"state",void 0),Cf([hh({type:"varchar",transformer:Sf}),Nf("design:type",Array)],Of.prototype,"metadataStrArray",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"networkStr",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"txHash",void 0),Cf([hh(),Nf("design:type",Boolean)],Of.prototype,"isSent",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"contractAddress",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"tokenName",void 0),Cf([hh(),Nf("design:type",String)],Of.prototype,"tokenDecimal",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"nonce",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"gasLimit",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"maxFeePerGas",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"maxPriorityFeePerGas",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"baseFeePerGas",void 0),Cf([hh({type:"varchar",nullable:!0}),Nf("design:type",Object)],Of.prototype,"txSubmissionType",void 0),Cf([hh({nullable:!0}),Nf("design:type",String)],Of.prototype,"lowerBoundValue",void 0),Cf([hh({type:"varchar",transformer:_f,nullable:!0}),Nf("design:type","function"==typeof(Tf=void 0!==Mf&&Mf)?Tf:Object)],Of.prototype,"data",void 0),Of=Cf([mh("tx_history"),gh("IDX_BLOCK_NETWORK_CURR_HASH_UNIQUE",["blockchainStr","networkStr","currencyCodeStr","txHash"],{unique:!0}),gh("IDX_TX_BLOCK_CURR_NETWORK",["blockchainStr","currencyCodeStr","networkStr"]),gh("IDX_TX_CURR_NETWORK",["currencyCodeStr","networkStr"]),gh("IDX_TX_BLOCK_CURR_NETWORK_ADDR",["blockchainStr","currencyCodeStr","networkStr","fromAddress"]),gh("IDX_TX_BLOCK_CURR_HASH_AMT",["blockchainStr","currencyCodeStr","txHash","amount"]),gh("IDX_TX_CREATED_AT",["createdAt"])],Of);var If=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Rf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Pf=class{id;name;decimalsStr;mintAddress;chainIdStr;currencyCodeStr;blockchainStr;imageURLStr};If([fh(),Rf("design:type",String)],Pf.prototype,"id",void 0),If([hh(),Rf("design:type",String)],Pf.prototype,"name",void 0),If([hh(),Rf("design:type",String)],Pf.prototype,"decimalsStr",void 0),If([hh(),Rf("design:type",String)],Pf.prototype,"mintAddress",void 0),If([hh(),Rf("design:type",String)],Pf.prototype,"chainIdStr",void 0),If([hh(),Rf("design:type",String)],Pf.prototype,"currencyCodeStr",void 0),If([hh(),Rf("design:type",String)],Pf.prototype,"blockchainStr",void 0),If([hh({nullable:!0}),Rf("design:type",String)],Pf.prototype,"imageURLStr",void 0),Pf=If([mh("spl"),gh("IDX_SPL_ADDR_CHAIN",["mintAddress","chainIdStr"])],Pf);class Lf{name;decimals;mintAddress;chainId;currencyCode;blockchain;imageURL;id;constructor(e,t,n,r,i,o,s){this.name=e,this.decimals=t,this.mintAddress=n,this.chainId=r,this.currencyCode=i,this.blockchain=o,this.imageURL=s,this.id=[n,r.toString()].join("/")}get asDMO(){return{id:this.id,name:this.name,decimalsStr:this.decimals.toString(),mintAddress:this.mintAddress,chainIdStr:this.chainId.toString(),currencyCodeStr:this.currencyCode.rawValue,blockchainStr:this.blockchain.rawValue,imageURLStr:this.imageURL?.toString()}}static fromDMO(e){return new Lf(e.name,new(I())(e.decimalsStr),e.mintAddress,Number(e.chainIdStr),new R(e.currencyCodeStr),new zh(e.blockchainStr),Dh(e.imageURLStr))}}var jf=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Df=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Uf=class{id;name;decimalsStr;contractAddress;chainIdStr;currencyCodeStr;blockchainStr;imageURLStr;lastUpdated};jf([fh("varchar"),Df("design:type",String)],Uf.prototype,"id",void 0),jf([hh("varchar"),Df("design:type",String)],Uf.prototype,"name",void 0),jf([hh({name:"decimalsStr",type:"varchar"}),Df("design:type",String)],Uf.prototype,"decimalsStr",void 0),jf([hh("varchar"),Df("design:type",String)],Uf.prototype,"contractAddress",void 0),jf([hh({name:"chainIdStr",type:"varchar"}),Df("design:type",String)],Uf.prototype,"chainIdStr",void 0),jf([hh({name:"currencyCodeStr",type:"varchar"}),Df("design:type",String)],Uf.prototype,"currencyCodeStr",void 0),jf([hh({name:"blockchainStr",type:"varchar"}),Df("design:type",String)],Uf.prototype,"blockchainStr",void 0),jf([hh({name:"imageURLStr",type:"varchar",nullable:!0}),Df("design:type",String)],Uf.prototype,"imageURLStr",void 0),Uf=jf([mh("erc20"),gh("IDX_ERC20_ADDR_CHAIN",["contractAddress","chainIdStr"],{unique:!0})],Uf);n(48834).Buffer;var Bf,Ff,qf=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Vf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let $f=class{id;fromAddress;toAddress;nonce;chainId;signedTxData;txHash;weiValue;erc20Value;blockchainStr;currencyCodeStr;state;notFoundCount};qf([fh(),Vf("design:type",String)],$f.prototype,"id",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"fromAddress",void 0),qf([hh({nullable:!0}),Vf("design:type",String)],$f.prototype,"toAddress",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"nonce",void 0),qf([hh({type:"int"}),Vf("design:type",Number)],$f.prototype,"chainId",void 0),qf([hh({type:"varchar",transformer:_f}),Vf("design:type","function"==typeof(Bf="undefined"!=typeof Uint8Array&&Uint8Array)?Bf:Object)],$f.prototype,"signedTxData",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"txHash",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"weiValue",void 0),qf([hh({nullable:!0}),Vf("design:type",String)],$f.prototype,"erc20Value",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"blockchainStr",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"currencyCodeStr",void 0),qf([hh({type:"int"}),Vf("design:type","function"==typeof(Ff=void 0!==Ef&&Ef)?Ff:Object)],$f.prototype,"state",void 0),qf([hh(),Vf("design:type",String)],$f.prototype,"notFoundCount",void 0),$f=qf([mh("ethereum_signed_tx"),gh("IDX_ETH_STATE_CHAIN",["state","chainId"]),gh("IDX_ETH_STATE_CHAIN_FROM",["state","chainId","fromAddress"]),gh("IDX_ETH_CHAIN_FROM_NONCE",["chainId","fromAddress","nonce"]),gh("IDX_ETH_CHAIN_NONCE_FROM_CURR_STATE",["chainId","nonce","fromAddress","currencyCodeStr","state"]),gh("IDX_ETH_CHAIN_NONCE_FROM_TO_STATE",["chainId","nonce","fromAddress","toAddress","state"])],$f);n(48834).Buffer;var Wf,zf,Kf=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Hf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Qf=class{id;fromAddress;toAddress;maxLedgerVersion;signedTxData;txHash;transferValue;networkStr;blockchainStr;currencyCodeStr;state;notFoundCount};Kf([fh(),Hf("design:type",String)],Qf.prototype,"id",void 0),Kf([hh(),Hf("design:type",String)],Qf.prototype,"fromAddress",void 0),Kf([hh({nullable:!0}),Hf("design:type",String)],Qf.prototype,"toAddress",void 0),Kf([hh(),Hf("design:type",Number)],Qf.prototype,"maxLedgerVersion",void 0),Kf([hh({type:"varchar",transformer:_f}),Hf("design:type","function"==typeof(Wf="undefined"!=typeof Uint8Array&&Uint8Array)?Wf:Object)],Qf.prototype,"signedTxData",void 0),Kf([hh(),Hf("design:type",String)],Qf.prototype,"txHash",void 0),Kf([hh(),Hf("design:type",Number)],Qf.prototype,"transferValue",void 0),Kf([hh(),Hf("design:type",String)],Qf.prototype,"networkStr",void 0),Kf([hh(),Hf("design:type",String)],Qf.prototype,"blockchainStr",void 0),Kf([hh(),Hf("design:type",String)],Qf.prototype,"currencyCodeStr",void 0),Kf([hh({type:"int"}),Hf("design:type","function"==typeof(zf=void 0!==Ef&&Ef)?zf:Object)],Qf.prototype,"state",void 0),Kf([hh(),Hf("design:type",Number)],Qf.prototype,"notFoundCount",void 0),Qf=Kf([mh("xrp_signed_tx"),gh("IDX_XRP_STATE_NETWORK",["state","networkStr"]),gh("IDX_XRP_STATE_NETWORK_HASH",["state","networkStr","txHash"])],Qf);n(48834).Buffer;var Gf,Zf,Jf=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Yf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Xf=class{id;fromAddress;toAddress;validBefore;signedTxData;txHash;transferValue;networkStr;blockchainStr;currencyCodeStr;state;notFoundCount};Jf([fh(),Yf("design:type",String)],Xf.prototype,"id",void 0),Jf([hh(),Yf("design:type",String)],Xf.prototype,"fromAddress",void 0),Jf([hh({nullable:!0}),Yf("design:type",String)],Xf.prototype,"toAddress",void 0),Jf([hh(),Yf("design:type",Number)],Xf.prototype,"validBefore",void 0),Jf([hh({type:"varchar",transformer:_f}),Yf("design:type","function"==typeof(Gf="undefined"!=typeof Uint8Array&&Uint8Array)?Gf:Object)],Xf.prototype,"signedTxData",void 0),Jf([hh(),Yf("design:type",String)],Xf.prototype,"txHash",void 0),Jf([hh(),Yf("design:type",Number)],Xf.prototype,"transferValue",void 0),Jf([hh(),Yf("design:type",String)],Xf.prototype,"networkStr",void 0),Jf([hh(),Yf("design:type",String)],Xf.prototype,"blockchainStr",void 0),Jf([hh(),Yf("design:type",String)],Xf.prototype,"currencyCodeStr",void 0),Jf([hh({type:"int"}),Yf("design:type","function"==typeof(Zf=void 0!==Ef&&Ef)?Zf:Object)],Xf.prototype,"state",void 0),Jf([hh(),Yf("design:type",Number)],Xf.prototype,"notFoundCount",void 0),Xf=Jf([mh("xlm_signed_tx"),gh("IDX_XLM_STATE_NETWORK",["state","networkStr"]),gh("IDX_XLM_STATE_NETWORK_HASH",["state","networkStr","txHash"])],Xf);n(48834).Buffer;var ey,ty,ny=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ry=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let iy=class{id;signedTransactionData;txHash;networkStr;currencyCodeStr;blockchainStr;state;notFoundCount};ny([fh(),ry("design:type",String)],iy.prototype,"id",void 0),ny([hh({type:"varchar",transformer:_f}),ry("design:type","function"==typeof(ey="undefined"!=typeof Uint8Array&&Uint8Array)?ey:Object)],iy.prototype,"signedTransactionData",void 0),ny([hh(),ry("design:type",String)],iy.prototype,"txHash",void 0),ny([hh(),ry("design:type",String)],iy.prototype,"networkStr",void 0),ny([hh(),ry("design:type",String)],iy.prototype,"currencyCodeStr",void 0),ny([hh(),ry("design:type",String)],iy.prototype,"blockchainStr",void 0),ny([hh({type:"int"}),ry("design:type","function"==typeof(ty=void 0!==Ef&&Ef)?ty:Object)],iy.prototype,"state",void 0),ny([hh(),ry("design:type",String)],iy.prototype,"notFoundCount",void 0),iy=ny([mh("utxo_signed_tx"),gh("IDX_UTXO_BLOCKCHAIN_CURRENCY_NETWORK_STATE",["blockchainStr","currencyCodeStr","networkStr","state"])],iy);var oy=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},sy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ay=class{id;indexStr;address;balanceStr;currencyCodeStr;isChangeAddressStr;networkStr;typeStr;derivationPath;isUsedStr;blockchainStr;contractAddress};oy([fh(),sy("design:type",String)],ay.prototype,"id",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"indexStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"address",void 0),oy([hh({nullable:!0}),sy("design:type",String)],ay.prototype,"balanceStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"currencyCodeStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"isChangeAddressStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"networkStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"typeStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"derivationPath",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"isUsedStr",void 0),oy([hh(),sy("design:type",String)],ay.prototype,"blockchainStr",void 0),oy([hh({nullable:!0}),sy("design:type",Object)],ay.prototype,"contractAddress",void 0),ay=oy([mh("address"),gh("IDX_ADDRESS_ADDRESS",["address"]),gh("IDX_ADDRESS_BLOCKCHAIN_CURRENCY_NETWORK",["blockchainStr","currencyCodeStr","networkStr"]),gh("IDX_ADDRESS_BLOCKCHAIN_CURRENCY_NETWORK_BALANCE",["blockchainStr","currencyCodeStr","networkStr","balanceStr"]),gh("IDX_ADDRESS_BLOCKCHAIN_NETWORK",["blockchainStr","networkStr"]),gh("IDX_ADDRESS_BLOCKCHAIN_ADDRESS_NETWORK",["blockchainStr","address","networkStr"]),gh("IDX_ADDRESS_BLOCKCHAIN_CURR_ADDRESS_NETWORK",["blockchainStr","currencyCodeStr","address","networkStr"]),gh("IDX_ADDRESS_BLOCKCHAIN_CURR_NETWORK__USED",["blockchainStr","currencyCodeStr","networkStr","isUsedStr"]),gh("IDX_ADDRESS_BLOCKCHAIN_CURR_NETWORK_TYPE_CHANGED_USED",["blockchainStr","currencyCodeStr","networkStr","typeStr","isChangeAddressStr","isUsedStr"])],ay);class uy{index;address;balance;currencyCode;isChangeAddress;network;type;derivationPath;isUsed;blockchain;contractAddress;id;get asDMO(){return{id:this.id,indexStr:this.index.toString(),address:this.address,balanceStr:this.balance?.toString(),currencyCodeStr:this.currencyCode.rawValue,isChangeAddressStr:this.isChangeAddress.toString(),networkStr:this.network.rawValue,typeStr:this.type.rawValue,derivationPath:this.derivationPath,isUsedStr:this.isUsed.toString(),blockchainStr:this.blockchain.toString(),contractAddress:this.contractAddress?.toString()}}static fromDMO(e){return new uy(new(I())(e.indexStr),e.address,void 0===e.balanceStr?void 0:new(I())(e.balanceStr),new R(e.currencyCodeStr),"true"===e.isChangeAddressStr,sp.create(e.networkStr),new Kh(e.typeStr),e.derivationPath,"true"===e.isUsedStr,new zh(e.blockchainStr),e.contractAddress??void 0)}constructor(e,t,n,r,i,o,s,a,u,c,l){this.index=e,this.address=t,this.balance=n,this.currencyCode=r,this.isChangeAddress=i,this.network=o,this.type=s,this.derivationPath=a,this.isUsed=u,this.blockchain=c,this.contractAddress=l,this.id=[c.rawValue,r.rawValue,o.rawValue,s.rawValue,`${i}`,e.toString()].join("/")}copy(e){return new uy(this.index,this.address,e,this.currencyCode,this.isChangeAddress,this.network,this.type,this.derivationPath,this.isUsed,this.blockchain,this.contractAddress)}}var cy,ly;!function(e){e[e.userSpam=0]="userSpam",e[e.userSpamVisible=1]="userSpamVisible",e[e.userVisible=2]="userVisible",e[e.userHidden=3]="userHidden",e[e.spam=100]="spam",e[e.whitelist=101]="whitelist"}(cy||(cy={})),function(e){e[e.wallet=0]="wallet",e[e.collectible=1]="collectible"}(ly||(ly={}));var dy,hy,py=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},fy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let yy=class{id;blockchainStr;currencyCodeStr;networkStr;status;type;contractAddress};py([fh(),fy("design:type",String)],yy.prototype,"id",void 0),py([hh(),fy("design:type",String)],yy.prototype,"blockchainStr",void 0),py([hh(),fy("design:type",String)],yy.prototype,"currencyCodeStr",void 0),py([hh(),fy("design:type",String)],yy.prototype,"networkStr",void 0),py([hh({type:"int"}),fy("design:type","function"==typeof(dy=void 0!==cy&&cy)?dy:Object)],yy.prototype,"status",void 0),py([hh({type:"int"}),fy("design:type","function"==typeof(hy=void 0!==ly&&ly)?hy:Object)],yy.prototype,"type",void 0),py([hh({nullable:!0}),fy("design:type",String)],yy.prototype,"contractAddress",void 0),yy=py([mh("curated_asset_setting"),gh("IDX_CURATED_ASSET_SETTINGS",["currencyCodeStr","contractAddress","blockchainStr","networkStr"])],yy);class my{blockchain;currencyCode;network;status;type;contractAddress;id;constructor(e,t,n,r,i,o){this.blockchain=e,this.currencyCode=t,this.network=n,this.status=r,this.type=i,this.contractAddress=o,this.id=my.generateID(t,o,e)}static fromDMO(e){return new my(new zh(e.blockchainStr),new R(e.currencyCodeStr),sp.create(e.networkStr),e.status,e.type,e.contractAddress)}static generateID(e,t,n){return[e.rawValue,t,n.rawValue].join("/")}get asDMO(){return{id:this.id,blockchainStr:this.blockchain.rawValue,currencyCodeStr:this.currencyCode.rawValue,networkStr:this.network.rawValue,status:this.status,type:this.type,contractAddress:this.contractAddress}}}var gy,vy=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},by=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let wy=class{id;blockchainStr;status;networkStr;contractAddress;primaryAddress;tokenId};vy([fh(),by("design:type",String)],wy.prototype,"id",void 0),vy([hh(),by("design:type",String)],wy.prototype,"blockchainStr",void 0),vy([hh({type:"int"}),by("design:type","function"==typeof(gy=void 0!==cy&&cy)?gy:Object)],wy.prototype,"status",void 0),vy([hh(),by("design:type",String)],wy.prototype,"networkStr",void 0),vy([hh(),by("design:type",String)],wy.prototype,"contractAddress",void 0),vy([hh(),by("design:type",String)],wy.prototype,"primaryAddress",void 0),vy([hh({nullable:!0}),by("design:type",String)],wy.prototype,"tokenId",void 0),wy=vy([mh("user_collectible_setting"),gh("IDX_USER_COLLECTIBLE_SETTING",["primaryAddress","contractAddress","blockchainStr","networkStr","tokenId"])],wy);class _y{blockchain;network;status;contractAddress;primaryAddress;tokenId;id;constructor(e,t,n,r,i,o){this.blockchain=e,this.network=t,this.status=n,this.contractAddress=r,this.primaryAddress=i,this.tokenId=o,this.id=_y.generateID(i,r,e,t,o)}static fromDMO(e){return new _y(new zh(e.blockchainStr),sp.create(e.networkStr),e.status,e.contractAddress,e.primaryAddress,e.tokenId)}static generateID(e,t,n,r,i){return[e,t,n.rawValue,r.rawValue,i].join("/")}get asDMO(){return{id:this.id,blockchainStr:this.blockchain.rawValue,networkStr:this.network.rawValue,status:this.status,contractAddress:this.contractAddress,primaryAddress:this.primaryAddress,tokenId:this.tokenId}}}var Sy,Ey=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},xy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ay=class{id;blockchainStr;currencyCodeStr;networkStr;status;contractAddress;primaryAddress};Ey([fh(),xy("design:type",String)],Ay.prototype,"id",void 0),Ey([hh(),xy("design:type",String)],Ay.prototype,"blockchainStr",void 0),Ey([hh(),xy("design:type",String)],Ay.prototype,"currencyCodeStr",void 0),Ey([hh(),xy("design:type",String)],Ay.prototype,"networkStr",void 0),Ey([hh({type:"int"}),xy("design:type","function"==typeof(Sy=void 0!==cy&&cy)?Sy:Object)],Ay.prototype,"status",void 0),Ey([hh({nullable:!0}),xy("design:type",String)],Ay.prototype,"contractAddress",void 0),Ey([hh(),xy("design:type",String)],Ay.prototype,"primaryAddress",void 0),Ay=Ey([mh("user_wallet_setting"),gh("IDX_PRIMARY_CURRENCY_CONTRACT_BLOCKCHAIN_NETWORK",["primaryAddress","currencyCodeStr","contractAddress","blockchainStr","networkStr"])],Ay);class ky{blockchain;currencyCode;network;status;contractAddress;primaryAddress;id;constructor(e,t,n,r,i,o){this.blockchain=e,this.currencyCode=t,this.network=n,this.status=r,this.contractAddress=i,this.primaryAddress=o,this.id=ky.generateID(o,e,t,n,i)}static fromDMO(e){return new ky(new zh(e.blockchainStr),new R(e.currencyCodeStr),sp.create(e.networkStr),e.status,e.contractAddress,e.primaryAddress)}static generateID(e,t,n,r,i){return[e,i,t.rawValue,r.rawValue,n.rawValue].join("/")}get asDMO(){return{id:this.id,blockchainStr:this.blockchain.rawValue,currencyCodeStr:this.currencyCode.rawValue,networkStr:this.network.rawValue,status:this.status,contractAddress:this.contractAddress,primaryAddress:this.primaryAddress}}}var Ty=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},My=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Cy=class{id;blockchainStr;currencyCodeStr;contractAddressStr;chainIdStr;selectedCountStr};Ty([fh(),My("design:type",String)],Cy.prototype,"id",void 0),Ty([hh(),My("design:type",String)],Cy.prototype,"blockchainStr",void 0),Ty([hh(),My("design:type",String)],Cy.prototype,"currencyCodeStr",void 0),Ty([hh(),My("design:type",String)],Cy.prototype,"contractAddressStr",void 0),Ty([hh(),My("design:type",String)],Cy.prototype,"chainIdStr",void 0),Ty([hh(),My("design:type",String)],Cy.prototype,"selectedCountStr",void 0),Cy=Ty([mh("swap_asset_stats"),gh("IDX_SWAP_STATS_ID",["id"]),gh("IDX_SWAP_STATS_BLOCKCHAIN_CURRENCY_CHAIN_CONTRACT",["blockchainStr","currencyCodeStr","chainIdStr","contractAddressStr"])],Cy);n(4335);const Ny={blue:{primary:"blue60",primaryForeground:"gray0",primaryWash:"blue0"},teal:{primary:"teal60",primaryWash:"teal0",primaryForeground:"gray0"},purple:{primary:"purple70",primaryForeground:"gray0",primaryWash:"purple0"},pink:{primary:"pink60",primaryForeground:"gray0",primaryWash:"pink0",negative:"red50"},green:{primary:"green60",primaryForeground:"gray0",primaryWash:"green0",positive:"green40"}};var Oy,Iy=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ry=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Py=class{id;createdAt;accountId;walletIndex;hardwareDerivationPath;nickname;isHidden;themeColor};Iy([fh(),Ry("design:type",String)],Py.prototype,"id",void 0),Iy([hh("datetime"),Ry("design:type","function"==typeof(Oy="undefined"!=typeof Date&&Date)?Oy:Object)],Py.prototype,"createdAt",void 0),Iy([hh(),Ry("design:type",String)],Py.prototype,"accountId",void 0),Iy([hh(),Ry("design:type",String)],Py.prototype,"walletIndex",void 0),Iy([hh({nullable:!0}),Ry("design:type",String)],Py.prototype,"hardwareDerivationPath",void 0),Iy([hh(),Ry("design:type",String)],Py.prototype,"nickname",void 0),Iy([hh(),Ry("design:type",Boolean)],Py.prototype,"isHidden",void 0),Iy([hh({nullable:!0}),Ry("design:type",String)],Py.prototype,"themeColor",void 0),Py=Iy([mh("wallet_group"),gh("IDX_WALLET_GROUP",["accountId","walletIndex","hardwareDerivationPath","isHidden"])],Py);var Ly=n(86152),jy=n.n(Ly);class Dy{type;address;index;constructor(e,t,n){this.type=e,this.address=t,this.index=n}get asDMO(){return{type:this.type.rawValue,address:this.address,index:this.index.toString()}}static fromDMO(e){return new Dy(new Kh(e.type),e.address,new(I())(e.index))}}var Uy=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},By=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Fy=class{id;primaryAddress;addresses;displayName;currencyCodeStr;contractAddress;imageURLStr;balanceStr;decimalsStr;blockchainStr;minimumBalanceStr;networkStr;selectedIndexStr;accountId};Uy([fh(),By("design:type",String)],Fy.prototype,"id",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"primaryAddress",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"addresses",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"displayName",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"currencyCodeStr",void 0),Uy([hh({nullable:!0}),By("design:type",String)],Fy.prototype,"contractAddress",void 0),Uy([hh({nullable:!0}),By("design:type",String)],Fy.prototype,"imageURLStr",void 0),Uy([hh({nullable:!0}),By("design:type",String)],Fy.prototype,"balanceStr",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"decimalsStr",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"blockchainStr",void 0),Uy([hh({nullable:!0}),By("design:type",String)],Fy.prototype,"minimumBalanceStr",void 0),Uy([hh(),By("design:type",String)],Fy.prototype,"networkStr",void 0),Uy([hh({nullable:!0}),By("design:type",String)],Fy.prototype,"selectedIndexStr",void 0),Uy([hh({nullable:!0}),By("design:type",String)],Fy.prototype,"accountId",void 0),Fy=Uy([mh("wallet"),gh("IDX_WALLET",["blockchainStr","currencyCodeStr","networkStr","contractAddress","selectedIndexStr"]),gh("IDX_WALLET_ACCOUNT_ID",["accountId"])],Fy);class qy{id;swapId;primaryAddress;addresses;displayName;currencyCode;imageURL;balance;decimals;blockchain;minimumBalance;network;contractAddress;selectedIndex;accountId;get asDMO(){return{id:this.id,primaryAddress:this.primaryAddress,addresses:j(this.addresses.map((e=>e.asDMO))),displayName:this.displayName,currencyCodeStr:this.currencyCode.rawValue,imageURLStr:this.imageURL?.toString(),balanceStr:this.balance?.toString(),decimalsStr:this.decimals.toString(),blockchainStr:this.blockchain.rawValue,minimumBalanceStr:this.minimumBalance?.toString(),networkStr:this.network.rawValue,contractAddress:this.contractAddress,selectedIndexStr:this.selectedIndex?.toString(),accountId:this.accountId?.toString()}}static fromDMO(e){let t;if(jy()(e.addresses))try{t=e.addresses.map(Dy.fromDMO)}catch(n){(0,Ke.eK)({error:n}),t=e.addresses;for(const t of e.addresses)if("[object Object]"===t.index){const e=new Error("Incorrectly serialized object stored");(0,Ke.eK)({error:e,metadata:{address:t.address,index:t.index?.toString(),type:t.type?.toString()}});break}}else t=(D(e.addresses)??[]).map(Dy.fromDMO);return new qy({primaryAddress:e.primaryAddress,addresses:t,displayName:e.displayName,currencyCode:new R(e.currencyCodeStr),imageURL:Dh(e.imageURLStr),balance:e.balanceStr?new(I())(e.balanceStr):void 0,decimals:new(I())(e.decimalsStr),blockchain:new zh(e.blockchainStr),minimumBalance:e.minimumBalanceStr?new(I())(e.minimumBalanceStr):void 0,network:sp.create(e.networkStr),contractAddress:e.contractAddress,selectedIndex:e.selectedIndexStr?new(I())(e.selectedIndexStr):void 0,accountId:e.accountId})}constructor({primaryAddress:e,addresses:t,displayName:n,currencyCode:r,imageURL:i,balance:o,decimals:s,blockchain:a,minimumBalance:u,network:c,contractAddress:l,selectedIndex:d,accountId:h}){this.id=qy.generateId({blockchain:a,currencyCode:r,network:c,contractAddress:l,selectedIndex:d}),this.primaryAddress=e,this.addresses=t,this.displayName=n,this.currencyCode=r,this.imageURL=i,this.balance=o,this.decimals=s,this.blockchain=a,this.minimumBalance=u,this.network=c,this.contractAddress=l,this.selectedIndex=d,this.accountId=h,this.swapId=`${a.rawValue.toUpperCase()}/${r.rawValue.toUpperCase()}/${c.rawValue}/${l??"undefined"}`}canShowFullTxHistory(){if(ff(this.blockchain.rawValue))return!0;const e=this.network.asChain();if(this.blockchain.rawValue===_p.rawValue&&this.network===Sp.defaultMainnet.network)return!0;switch(e){case Lh.whitelisted.ETHEREUM_CLASSIC_MAINNET:return!1;case Lh.whitelisted.ETHEREUM_MAINNET:case Lh.whitelisted.RINKEBY:case Lh.whitelisted.GOERLI:case Lh.whitelisted.KOVAN:case Lh.whitelisted.ROPSTEN:case Lh.whitelisted.AVALANCHE_MAINNET:case Lh.whitelisted.AVALANCHE_FUJI:case Lh.whitelisted.GNOSIS_MAINNET:case Lh.whitelisted.ARBITRUM_MAINNET:case Lh.whitelisted.ARBITRUM_TESTNET:case Lh.whitelisted.BNB_MAINNET:case Lh.whitelisted.BNB_TESTNET:case Lh.whitelisted.OPTIMISM_MAINNET:case Lh.whitelisted.OPTIMISTIC_KOVAN:case Lh.whitelisted.POLYGON_MAINNET:case Lh.whitelisted.POLYGON_TESTNET:case Lh.whitelisted.FANTOM_MAINNET:case Lh.whitelisted.FANTOM_TESTNET:case rp.whitelisted.SOLANA_MAINNET:return!0;default:return!1}}get isBalanceLoaded(){return void 0!==this.balance}get isNativeToken(){return void 0===this.contractAddress||null===this.contractAddress}isLayer2Network(){return!!this.network.asChain()?.isLayer2}isSolanaNetwork(){return this.network.asChain()?.chainId===rp.whitelisted.SOLANA_MAINNET.chainId}isCustomNetwork(){return!!this.network.asChain()?.isCustomNetwork}static isEqual(e,t){const n=e.id===t.id,r=void 0===e.balance&&void 0===t.balance,i=!!e.balance&&!!t.balance&&e.balance.eq(t.balance);return n&&(r||i)}static generateId(e){return[e.blockchain.rawValue,e.currencyCode.rawValue,e.network.rawValue,e.contractAddress,e.selectedIndex?.toString()].join("/")}static txScannerId(e){return`${e.blockchain.rawValue.toLowerCase()}/${e.network.asChain()?.chainId??""}/${String(e.network.isTestnet)}`}}const Vy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,$y=Object.keys,Wy=Array.isArray;function zy(e,t){return"object"!=typeof t||$y(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Vy.Promise||(Vy.Promise=Promise);const Ky=Object.getPrototypeOf,Hy={}.hasOwnProperty;function Qy(e,t){return Hy.call(e,t)}function Gy(e,t){"function"==typeof t&&(t=t(Ky(e))),("undefined"==typeof Reflect?$y:Reflect.ownKeys)(t).forEach((n=>{Jy(e,n,t[n])}))}const Zy=Object.defineProperty;function Jy(e,t,n,r){Zy(e,t,zy(n&&Qy(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Yy(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Jy(e.prototype,"constructor",e),{extend:Gy.bind(null,e.prototype)}}}}const Xy=Object.getOwnPropertyDescriptor;function em(e,t){let n;return Xy(e,t)||(n=Ky(e))&&em(n,t)}const tm=[].slice;function nm(e,t,n){return tm.call(e,t,n)}function rm(e,t){return t(e)}function im(e){if(!e)throw new Error("Assertion Failed")}function om(e){Vy.setImmediate?setImmediate(e):setTimeout(e,0)}function sm(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function am(e,t){if(Qy(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=am(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:am(a,t.substr(s+1))}}function um(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){im("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)um(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?Wy(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var u=e[s];u&&Qy(e,s)||(u=e[s]={}),um(u,a,n)}}else void 0===n?Wy(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function cm(e){var t={};for(var n in e)Qy(e,n)&&(t[n]=e[n]);return t}const lm=[].concat;function dm(e){return lm.apply([],e)}const hm="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(dm([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Vy[e])),pm=hm.map((e=>Vy[e]));sm(hm,(e=>[e,!0]));let fm=null;function ym(e){fm="undefined"!=typeof WeakMap&&new WeakMap;const t=mm(e);return fm=null,t}function mm(e){if(!e||"object"!=typeof e)return e;let t=fm&&fm.get(e);if(t)return t;if(Wy(e)){t=[],fm&&fm.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(mm(e[n]))}else if(pm.indexOf(e.constructor)>=0)t=e;else{const n=Ky(e);for(var i in t=n===Object.prototype?{}:Object.create(n),fm&&fm.set(e,t),e)Qy(e,i)&&(t[i]=mm(e[i]))}return t}const{toString:gm}={};function vm(e){return gm.call(e).slice(8,-1)}const bm="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",wm="symbol"==typeof bm?function(e){var t;return null!=e&&(t=e[bm])&&t.apply(e)}:function(){return null},_m={};function Sm(e){var t,n,r,i;if(1===arguments.length){if(Wy(e))return e.slice();if(this===_m&&"string"==typeof e)return[e];if(i=wm(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Em="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var xm="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Am(e,t){xm=e,km=t}var km=()=>!0;const Tm=!new Error("").stack;function Mm(){if(Tm)try{throw Mm.arguments,new Error}catch(e){return e}return new Error}function Cm(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(km).map((e=>"\n"+e)).join("")):""}var Nm=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Om=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Nm),Im={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Rm(e,t){this._e=Mm(),this.name=e,this.message=t}function Pm(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Lm(e,t,n,r){this._e=Mm(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Pm(e,t)}function jm(e,t){this._e=Mm(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Pm(e,t)}Yy(Rm).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Cm(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Yy(Lm).from(Rm),Yy(jm).from(Rm);var Dm=Om.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Um=Rm;var Bm=Om.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=Mm(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Im[t]||n,this.inner=null)}return Yy(r).from(Um),e[t]=r,e}),{});Bm.Syntax=SyntaxError,Bm.Type=TypeError,Bm.Range=RangeError;var Fm=Nm.reduce(((e,t)=>(e[t+"Error"]=Bm[t],e)),{}),qm=Om.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Bm[t]),e)),{});function Vm(){}function $m(e){return e}function Wm(e,t){return null==e||e===$m?t:function(n){return t(e(n))}}function zm(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Km(e,t){return e===Vm?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?zm(r,this.onsuccess):r),i&&(this.onerror=this.onerror?zm(i,this.onerror):i),void 0!==o?o:n}}function Hm(e,t){return e===Vm?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?zm(n,this.onsuccess):n),r&&(this.onerror=this.onerror?zm(r,this.onerror):r)}}function Qm(e,t){return e===Vm?t:function(n){var r=e.apply(this,arguments);zy(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?zm(i,this.onsuccess):i),o&&(this.onerror=this.onerror?zm(o,this.onerror):o),void 0===r?void 0===s?void 0:s:zy(r,s)}}function Gm(e,t){return e===Vm?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Zm(e,t){return e===Vm?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}qm.ModifyError=Lm,qm.DexieError=Rm,qm.BulkError=jm;var Jm={};const[Ym,Xm,eg]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Ky(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ky(t),e]})(),tg=Xm&&Xm.then,ng=Ym&&Ym.constructor,rg=!!eg;var ig=!1,og=eg?()=>{eg.then(Mg)}:Vy.setImmediate?setImmediate.bind(null,Mg):Vy.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Mg(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Mg,0)},sg=function(e,t){yg.push([e,t]),ug&&(og(),ug=!1)},ag=!0,ug=!0,cg=[],lg=[],dg=null,hg=$m,pg={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Yg,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Yg(e[0],e[1])}catch(e){}}))}},fg=pg,yg=[],mg=0,gg=[];function vg(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Vm,this._lib=!1;var t=this._PSD=fg;if(xm&&(this._stackHolder=Mm(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Jm)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Sg(this,this._value))}this._state=null,this._value=null,++t.ref,_g(this,e)}const bg={get:function(){var e=fg,t=Ug;function n(n,r){var i=!e.global&&(e!==fg||t!==Ug);const o=i&&!Vg();var s=new vg(((t,s)=>{xg(this,new wg(Zg(n,e,i,o),Zg(r,e,i,o),t,s,e))}));return xm&&Tg(s,this),s}return n.prototype=Jm,n},set:function(e){Jy(this,"then",e&&e.prototype===Jm?bg:{get:function(){return e},set:bg.set})}};function wg(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function _g(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Cg();t&&"function"==typeof t.then?_g(e,((e,n)=>{t instanceof vg?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Eg(e)),n&&Ng()}}),Sg.bind(null,e))}catch(t){Sg(e,t)}}function Sg(e,t){if(lg.push(t),null===e._state){var n=e._lib&&Cg();t=hg(t),e._state=!1,e._value=t,xm&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=em(t,"stack");t._promise=e,Jy(t,"stack",{get:()=>ig?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){cg.some((t=>t._value===e._value))||cg.push(e)}(e),Eg(e),n&&Ng()}}function Eg(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)xg(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===mg&&(++mg,sg((()=>{0==--mg&&Og()}),[]))}function xg(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++mg,sg(Ag,[n,e,t])}else e._listeners.push(t)}function Ag(e,t,n){try{dg=t;var r,i=t._value;t._state?r=e(i):(lg.length&&(lg=[]),r=e(i),-1===lg.indexOf(i)&&function(e){for(var t=cg.length;t;)if(cg[--t]._value===e._value)return void cg.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{dg=null,0==--mg&&Og(),--n.psd.ref||n.psd.finalize()}}function kg(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,r=Cm(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return xm&&((r=Cm(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&kg(e._prev,t,n)),t}function Tg(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Mg(){Cg()&&Ng()}function Cg(){var e=ag;return ag=!1,ug=!1,e}function Ng(){var e,t,n;do{for(;yg.length>0;)for(e=yg,yg=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(yg.length>0);ag=!0,ug=!0}function Og(){var e=cg;cg=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=gg.slice(0),n=t.length;n;)t[--n]()}function Ig(e){return new vg(Jm,!1,e)}function Rg(e,t){var n=fg;return function(){var r=Cg(),i=fg;try{return Kg(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Kg(i,!1),r&&Ng()}}}Gy(vg.prototype,{then:bg,_then:function(e,t){xg(this,new wg(null,null,e,t,fg))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Ig(e))):this.then(null,(e=>e&&e.name===t?n(e):Ig(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ig(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ig=!0;var e=kg(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ig=!1}}},timeout:function(e,t){return e<1/0?new vg(((n,r)=>{var i=setTimeout((()=>r(new Bm.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Jy(vg.prototype,Symbol.toStringTag,"Dexie.Promise"),pg.env=Hg(),Gy(vg,{all:function(){var e=Sm.apply(null,arguments).map($g);return new vg((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,o)=>vg.resolve(i).then((n=>{e[o]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof vg)return e;if(e&&"function"==typeof e.then)return new vg(((t,n)=>{e.then(t,n)}));var t=new vg(Jm,!0,e);return Tg(t,dg),t},reject:Ig,race:function(){var e=Sm.apply(null,arguments).map($g);return new vg(((t,n)=>{e.map((e=>vg.resolve(e).then(t,n)))}))},PSD:{get:()=>fg,set:e=>fg=e},totalEchoes:{get:()=>Ug},newPSD:Fg,usePSD:Qg,scheduler:{get:()=>sg,set:e=>{sg=e}},rejectionMapper:{get:()=>hg,set:e=>{hg=e}},follow:(e,t)=>new vg(((n,r)=>Fg(((t,n)=>{var r=fg;r.unhandleds=[],r.onunhandled=n,r.finalize=zm((function(){!function(e){gg.push((function t(){e(),gg.splice(gg.indexOf(t),1)})),++mg,sg((()=>{0==--mg&&Og()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),ng&&(ng.allSettled&&Jy(vg,"allSettled",(function(){const e=Sm.apply(null,arguments).map($g);return new vg((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>vg.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),ng.any&&"undefined"!=typeof AggregateError&&Jy(vg,"any",(function(){const e=Sm.apply(null,arguments).map($g);return new vg(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,o)=>vg.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--r||n(new AggregateError(i))}))))}))})));const Pg={awaits:0,echoes:0,id:0};var Lg=0,jg=[],Dg=0,Ug=0,Bg=0;function Fg(e,t,n,r){var i=fg,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Bg;var s=pg.env;o.env=rg?{Promise:vg,PromiseProp:{value:vg,configurable:!0,writable:!0},all:vg.all,race:vg.race,allSettled:vg.allSettled,any:vg.any,resolve:vg.resolve,reject:vg.reject,nthen:Jg(s.nthen,o),gthen:Jg(s.gthen,o)}:{},t&&zy(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Qg(o,e,n,r);return 0===o.ref&&o.finalize(),a}function qg(){return Pg.id||(Pg.id=++Lg),++Pg.awaits,Pg.echoes+=100,Pg.id}function Vg(){return!!Pg.awaits&&(0==--Pg.awaits&&(Pg.id=0),Pg.echoes=100*Pg.awaits,!0)}function $g(e){return Pg.echoes&&e&&e.constructor===ng?(qg(),e.then((e=>(Vg(),e)),(e=>(Vg(),Xg(e))))):e}function Wg(e){++Ug,Pg.echoes&&0!=--Pg.echoes||(Pg.echoes=Pg.id=0),jg.push(fg),Kg(e,!0)}function zg(){var e=jg[jg.length-1];jg.pop(),Kg(e,!1)}function Kg(e,t){var n=fg;if((t?!Pg.echoes||Dg++&&e===fg:!Dg||--Dg&&e===fg)||Gg(t?Wg.bind(null,e):zg),e!==fg&&(fg=e,n===pg&&(pg.env=Hg()),rg)){var r=pg.env.Promise,i=e.env;Xm.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Vy,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Hg(){var e=Vy.Promise;return rg?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Vy,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Xm.then,gthen:e.prototype.then}:{}}function Qg(e,t,n,r,i){var o=fg;try{return Kg(e,!0),t(n,r,i)}finally{Kg(o,!1)}}function Gg(e){tg.call(Ym,e)}function Zg(e,t,n,r){return"function"!=typeof e?e:function(){var i=fg;n&&qg(),Kg(t,!0);try{return e.apply(this,arguments)}finally{Kg(i,!1),r&&Gg(Vg)}}}function Jg(e,t){return function(n,r){return e.call(this,Zg(n,t),Zg(r,t))}}function Yg(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(Vy.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),zy(r,i)):Vy.CustomEvent&&zy(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&Vy.dispatchEvent&&(dispatchEvent(r),!Vy.PromiseRejectionEvent&&Vy.onunhandledrejection))try{Vy.onunhandledrejection(r)}catch(e){}xm&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+tg).indexOf("[native code]")&&(qg=Vg=Vm);var Xg=vg.reject;function ev(e,t,n,r){if(e.idbdb&&(e._state.openComplete||fg.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Dm.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>ev(e,t,n,r)))):Xg(i)}return i._promise(t,((e,t)=>Fg((()=>(fg.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return Xg(new Bm.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Xg(new Bm.DatabaseClosed);e.open().catch(Vm)}return e._state.dbReadyPromise.then((()=>ev(e,t,n,r)))}const tv=String.fromCharCode(65535),nv="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rv=[],iv="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ov=iv,sv=iv,av=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function uv(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const cv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lv(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ym(t))[e],t)}class dv{_trans(e,t,n){const r=this._tx||fg.trans,i=this.name;function o(e,n,r){if(!r.schema[i])throw new Bm.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const s=Cg();try{return r&&r.db===this.db?r===fg.trans?r._promise(e,o,n):Fg((()=>r._promise(e,o,n)),{trans:r,transless:fg.transless||fg}):ev(this.db,e,[this.name],o)}finally{s&&Ng()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Wy(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=$y(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==tv)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&xm&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,i=this.db._deps.indexedDB;function o(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}const[s,a]=t.reduce((([t,n],i)=>{const s=r[i],a=e[i];return[t||s,t||!s?uv(n,s&&s.multi?e=>{const t=am(e,i);return Wy(t)&&t.some((e=>o(a,e)))}:e=>o(a,am(e,i))):n]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Wy(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(Qy(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){zy(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=lv(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?vg.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{um(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||Wy(e))return this.where(":id").equals(e).modify(t);{const n=am(e,this.schema.primKey.keyPath);if(void 0===n)return Xg(new Bm.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?$y(t).forEach((n=>{um(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=lv(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?vg.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{um(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?vg.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:cv}))).then((e=>e.numFailures?vg.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Bm.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Bm.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&n?e.map(lv(o)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new jm(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Bm.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Bm.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&n?e.map(lv(o)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new jm(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new jm(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function hv(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(e,r,i){if("object"==typeof e)return s(e);r||(r=Gm),i||(i=Vm);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function s(e){$y(e).forEach((function(t){var n=e[t];if(Wy(n))o(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Bm.InvalidArgument("Invalid event config");var r=o(t,$m,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){om((function(){e.apply(null,t)}))}))}))}}))}}function pv(e,t){return Yy(t).from({prototype:e}),t}function fv(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function yv(e,t){e.filter=uv(e.filter,t)}function mv(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>uv(r(),t()):t,e.justLimit=n&&!r}function gv(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Bm.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function vv(e,t,n){const r=gv(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function bv(e,t,n,r){const i=e.replayFilter?uv(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(e,n,r)=>{if(!i||i(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var s=n.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),Qy(o,a)||(o[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(s,n),wv(vv(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return wv(vv(e,r,n),uv(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function wv(e,t,n,r){var i=Rg(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Vm}),(t=>{e.fail(t),n=Vm}))||i(e.value,e,(e=>n=e)),n()}))}))}function _v(e,t){try{const n=Sv(e),r=Sv(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Ev(e),Ev(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n){const r=_v(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Sv(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=vm(e);return"ArrayBuffer"===n?"binary":n}function Ev(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class xv{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xg.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,Xg.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=uv(t.algorithm,e)}_iterate(e,t){return bv(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&zy(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>bv(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(fv(t,!0))return n.count({trans:e,query:{index:gv(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return bv(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,i),r=o(t,i);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&fv(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=gv(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return bv(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,fv(t)?mv(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):mv(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),mv(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return yv(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return yv(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=uv(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&fv(t,!0)&&t.limit>0)return this._read((e=>{var n=gv(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return yv(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Qy(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var i=$y(e),o=i.length;r=function(t){for(var n=!1,r=0;r<o;++r){var s=i[r],a=e[s];am(t,s)!==a&&(um(t,s,a),n=!0)}return n}}const s=t.table.core,{outbound:a,extractKey:u}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,l=[];let d=0;const h=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;d+=e-r;for(let e of $y(n))l.push(n[e])};return this.clone().primaryKeys().then((i=>{const o=l=>{const d=Math.min(c,i.length-l);return s.getMany({trans:n,keys:i.slice(l,l+d),cache:"immutable"}).then((h=>{const f=[],y=[],m=a?[]:null,g=[];for(let e=0;e<d;++e){const t=h[e],n={value:ym(t),primKey:i[l+e]};!1!==r.call(n,n.value,n)&&(null==n.value?g.push(i[l+e]):a||0===_v(u(t),u(n.value))?(y.push(n.value),a&&m.push(i[l+e])):(g.push(i[l+e]),f.push(n.value)))}const v=fv(t)&&t.limit===1/0&&("function"!=typeof e||e===Av)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&s.mutate({trans:n,type:"add",values:f}).then((e=>{for(let t in e.failures)g.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(y.length>0||v&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:m,values:y,criteria:v,changeSpec:"function"!=typeof e&&e}).then((e=>p(y.length,e))))).then((()=>(g.length>0||v&&e===Av)&&s.mutate({trans:n,type:"delete",keys:g,criteria:v}).then((e=>p(g.length,e))))).then((()=>i.length>l+d&&o(l+c)))}))};return o(0).then((()=>{if(l.length>0)throw new Lm("Error modifying one or more objects",l,d,h);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return fv(e)&&(e.isPrimKey&&!sv||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:e,lastResult:n,results:r,numFailures:i})=>{if(i)throw new Lm("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(Av)}}const Av=(e,t)=>t.value=null;function kv(e,t){return e<t?-1:e===t?0:1}function Tv(e,t){return e>t?-1:e===t?0:1}function Mv(e,t,n){var r=e instanceof Pv?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Cv(e){return new e.Collection(e,(()=>Rv(""))).limit(0)}function Nv(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,u=0;u<s;++u){var c=t[u];if(c!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[u],c)<0&&(a=u)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Ov(e,t,n,r){var i,o,s,a,u,c,l,d=n.length;if(!n.every((e=>"string"==typeof e)))return Mv(e,"String expected.");function h(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?kv:Tv;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}h("next");var p=new e.Collection(e,(()=>Iv(a[0],u[d-1]+r)));p._ondirectionchange=function(e){h(e)};var f=0;return p._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,u,f))return!0;for(var p=null,y=f;y<d;++y){var m=Nv(i,h,a[y],u[y],s,c);null===m&&null===p?f=y+1:(null===p||s(p,m)>0)&&(p=m)}return n(null!==p?function(){e.continue(p+l)}:r),!1})),p}function Iv(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Rv(e){return{type:1,lower:e,upper:e}}class Pv{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Cv(this):new this.Collection(this,(()=>Iv(e,t,!n,!r)))}catch(e){return Mv(this,nv)}}equals(e){return null==e?Mv(this,nv):new this.Collection(this,(()=>Rv(e)))}above(e){return null==e?Mv(this,nv):new this.Collection(this,(()=>Iv(e,void 0,!0)))}aboveOrEqual(e){return null==e?Mv(this,nv):new this.Collection(this,(()=>Iv(e,void 0,!1)))}below(e){return null==e?Mv(this,nv):new this.Collection(this,(()=>Iv(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Mv(this,nv):new this.Collection(this,(()=>Iv(void 0,e)))}startsWith(e){return"string"!=typeof e?Mv(this,"String expected."):this.between(e,e+tv,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Ov(this,((e,t)=>0===e.indexOf(t[0])),[e],tv)}equalsIgnoreCase(e){return Ov(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Sm.apply(_m,arguments);return 0===e.length?Cv(this):Ov(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Sm.apply(_m,arguments);return 0===e.length?Cv(this):Ov(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,tv)}anyOf(){const e=Sm.apply(_m,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Mv(this,nv)}if(0===e.length)return Cv(this);const n=new this.Collection(this,(()=>Iv(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,o)=>{const s=n.key;for(;t(s,e[r])>0;)if(++r,r===e.length)return i(o),!1;return 0===t(s,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Sm.apply(_m,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Mv(this,nv)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===e.length)return Cv(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Mv(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Bm.InvalidArgument);const a=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let c,l=r;function d(e,t){return l(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,i=e.length;for(;r<i;++r){const i=e[r];if(n(t[0],i[1])<0&&n(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return r===i&&e.push(t),e}),[]),c.sort(d)}catch(e){return Mv(this,nv)}let h=0;const p=u?e=>r(e,c[h][1])>0:e=>r(e,c[h][1])>=0,f=a?e=>i(e,c[h][0])>0:e=>i(e,c[h][0])>=0;let y=p;const m=new this.Collection(this,(()=>Iv(c[0][0],c[c.length-1][1],!a,!u)));return m._ondirectionchange=e=>{"next"===e?(y=p,l=r):(y=f,l=i),c.sort(d)},m._addAlgorithm(((e,t,n)=>{for(var i=e.key;y(i);)if(++h,h===c.length)return t(n),!1;return!!function(e){return!p(e)&&!f(e)}(i)||(0===this._cmp(i,c[h][1])||0===this._cmp(i,c[h][0])||t((()=>{l===r?e.continue(c[h][0]):e.continue(c[h][1])})),!1)})),m}startsWithAnyOf(){const e=Sm.apply(_m,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Cv(this):this.inAnyRange(e.map((e=>[e,e+tv]))):Mv(this,"startsWithAnyOf() only works with strings")}}function Lv(e){return Rg((function(t){return jv(t),e(t.target.error),!1}))}function jv(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Dv=hv(null,"storagemutated");class Uv{_lock(){return im(!fg.global),++this._reculock,1!==this._reculock||fg.global||(fg.lockOwnerFor=this),this}_unlock(){if(im(!fg.global),0==--this._reculock)for(fg.global||(fg.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Qg(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&fg.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(im(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Bm.DatabaseClosed(n);case"MissingAPIError":throw new Bm.MissingAPI(n.message,n);default:throw new Bm.OpenFailed(n)}if(!this.active)throw new Bm.TransactionInactive;return im(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Rg((t=>{jv(t),this._reject(e.error)})),e.onabort=Rg((t=>{jv(t),this.active&&this._reject(new Bm.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Rg((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Dv.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return Xg(new Bm.ReadOnly("Transaction is readonly"));if(!this.active)return Xg(new Bm.TransactionInactive);if(this._locked())return new vg(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},fg])}));if(n)return Fg((()=>{var e=new vg(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new vg(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=vg.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new vg(((e,r)=>{n.then((n=>t._waitingQueue.push(Rg(e.bind(null,n)))),(e=>t._waitingQueue.push(Rg(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Bm.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(Qy(t,e))return t[e];const n=this.schema[e];if(!n)throw new Bm.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Bv(e,t,n,r,i,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+Fv(t)}}function Fv(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function qv(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:sm(n,(e=>[e.name,e]))}}let Vv=e=>{try{return e.only([[]]),Vv=()=>[[]],[[]]}catch(e){return Vv=()=>tv,tv}};function $v(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>am(t,e)}(e):t=>am(t,e)}function Wv(e){return[].slice.call(e)}let zv=0;function Kv(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Hv(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:o}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!o)}const{schema:i,hasGetAll:o}=function(e,t){const n=Wv(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=Wy(t),i=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:$v(t)},indexes:Wv(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e,s={name:t,compound:Wy(i),keyPath:i,unique:n,multiEntry:r,extractKey:$v(i)};return o[Kv(i)]=s,s})),getIndexByKeyPath:e=>o[Kv(e)]};return o[":id"]=s.primaryKey,null!=t&&(o[Kv(t)]=s.primaryKey),s}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:i,values:o,range:s}){return new Promise(((a,u)=>{a=Rg(a);const c=e.objectStore(t),l=null==c.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],y=[];let m=0;const g=e=>{++m,jv(e)};if("deleteRange"===n){if(4===s.type)return a({numFailures:m,failures:y,results:[],lastResult:void 0});3===s.type?f.push(p=c.clear()):f.push(p=c.delete(r(s)))}else{const[e,t]=d?l?[o,i]:[o,null]:[i,null];if(d)for(let r=0;r<h;++r)f.push(p=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),p.onerror=g;else for(let t=0;t<h;++t)f.push(p=c[n](e[t])),p.onerror=g}const v=e=>{const t=e.target.result;f.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),a({numFailures:m,failures:y,results:"delete"===n?i:f.map((e=>e.result)),lastResult:t})};p.onerror=e=>{g(e),v(e)},p.onsuccess=v}))},getMany:({trans:e,keys:n})=>new Promise(((r,i)=>{r=Rg(r);const o=e.objectStore(t),s=n.length,a=new Array(s);let u,c=0,l=0;const d=e=>{const t=e.target;a[t._pos]=t.result,++l===c&&r(a)},h=Lv(i);for(let e=0;e<s;++e)null!=n[e]&&(u=o.get(n[e]),u._pos=e,u.onsuccess=d,u.onerror=h,++c);0===c&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,i)=>{r=Rg(r);const o=e.objectStore(t).get(n);o.onsuccess=e=>r(e.target.result),o.onerror=Lv(i)})),query:function(e){return n=>new Promise(((i,o)=>{i=Rg(i);const{trans:s,values:a,limit:u,query:c}=n,l=u===1/0?void 0:u,{index:d,range:h}=c,p=s.objectStore(t),f=d.isPrimaryKey?p:p.index(d.name),y=r(h);if(0===u)return i({result:[]});if(e){const e=a?f.getAll(y,l):f.getAllKeys(y,l);e.onsuccess=e=>i({result:e.target.result}),e.onerror=Lv(o)}else{let e=0;const t=a||!("openKeyCursor"in f)?f.openCursor(y):f.openKeyCursor(y),n=[];t.onsuccess=r=>{const o=t.result;return o?(n.push(a?o.value:o.primaryKey),++e===u?i({result:n}):void o.continue()):i({result:n})},t.onerror=Lv(o)}}))}(o),openCursor:function({trans:e,values:n,query:i,reverse:o,unique:s}){return new Promise(((a,u)=>{a=Rg(a);const{index:c,range:l}=i,d=e.objectStore(t),h=c.isPrimaryKey?d:d.index(c.name),p=o?s?"prevunique":"prev":s?"nextunique":"next",f=n||!("openKeyCursor"in h)?h.openCursor(r(l),p):h.openKeyCursor(r(l),p);f.onerror=Lv(u),f.onsuccess=Rg((t=>{const n=f.result;if(!n)return void a(null);n.___id=++zv,n.done=!1;const r=n.continue.bind(n);let i=n.continuePrimaryKey;i&&(i=i.bind(n));const o=n.advance.bind(n),s=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Rg(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Rg(e),f.onerror=Lv(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=s,e(t)}})),a=()=>{if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=Rg((e=>{f.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=i,n.advance=o,a(),t},a(n)}),u)}))},count({query:e,trans:n}){const{index:i,range:o}=e;return new Promise(((e,s)=>{const a=n.objectStore(t),u=i.isPrimaryKey?a:a.index(i.name),c=r(o),l=c?u.count(c):u.count();l.onsuccess=Rg((t=>e(t.target.result))),l.onerror=Lv(s)}))}}}(e))),a={};return s.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:Vv(t),schema:i}}function Qv({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(Hv(t,n,i),e.dbcore);return{dbcore:o}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function Gv({_novip:e},t,n,r){n.forEach((n=>{const i=r[n];t.forEach((t=>{const r=em(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Jy(t,n,{get(){return this.table(n)},set(e){Zy(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function Zv({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function Jv(e,t){return e._cfg.version-t._cfg.version}function Yv(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const s=o._reject.bind(o),a=fg.transless||fg;Fg((()=>{fg.trans=o,fg.transless=a,0===t?($y(i).forEach((e=>{eb(n,e,i[e].primKey,i[e].indexes)})),Qv(e,n),vg.follow((()=>e.on.populate.fire(o))).catch(s)):function({_novip:e},t,n,r){const i=[],o=e._versions;let s=e._dbSchema=nb(e,e.idbdb,r),a=!1;return o.filter((e=>e._cfg.version>=t)).forEach((o=>{i.push((()=>{const i=s,u=o._cfg.dbschema;rb(e,i,r),rb(e,u,r),s=e._dbSchema=u;const c=Xv(i,u);c.add.forEach((e=>{eb(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new Bm.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>tb(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),tb(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=o._cfg.contentUpgrade;if(l&&o._cfg.version>t){Qv(e,r),n._memoizedTables={},a=!0;let t=cm(u);c.del.forEach((e=>{t[e]=i[e]})),Zv(e,[e.Transaction.prototype]),Gv(e,[e.Transaction.prototype],$y(t),t),n.schema=t;const o=Em(l);let s;o&&qg();const d=vg.follow((()=>{if(s=l(n),s&&o){var e=Vg.bind(null,null);s.then(e,e)}}));return s&&"function"==typeof s.then?vg.resolve(s):d.then((()=>s))}})),i.push((t=>{a&&ov||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t),Zv(e,[e.Transaction.prototype]),Gv(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return i.length?vg.resolve(i.shift()(n.idbtrans)).then(e):vg.resolve()}().then((()=>{var e,t;t=r,$y(e=s).forEach((n=>{t.db.objectStoreNames.contains(n)||eb(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(s)}))}function Xv(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const e={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!iv)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=o.idxByName;let s;for(s in t)r[s]||e.del.push(s);for(s in r){const n=t[s],i=r[s];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,o])}return n}function eb(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>tb(i,e))),i}function tb(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function nb(e,t,n){const r={};return nm(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const o=Bv(Fv(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);i=n.keyPath;var a=Bv(n.name,i,!!n.unique,!!n.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}r[e]=qv(e,o,s)})),r}function rb({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const n=s.indexNames[e],r=s.index(n).keyPath,i="string"==typeof r?r:"["+nm(r).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=n,delete t[o].idxByName[i],t[o].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Vy.WorkerGlobalScope&&Vy instanceof Vy.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ib{_parseStoresSpec(e,t){$y(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Bv(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Wy(r),0===t)})),i=r.shift();if(i.multi)throw new Bm.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Bm.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Bm.Schema("Index must have a name and cannot be an empty string")})),t[n]=qv(n,i,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?zy(this._cfg.storesSource,e):e;const n=t._versions,r={};let i={};return n.forEach((e=>{zy(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,Zv(t,[t._allTables,t,t.Transaction.prototype]),Gv(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],$y(i),i),t._storeNames=$y(i),this}upgrade(e){return this._cfg.contentUpgrade=Zm(this._cfg.contentUpgrade||Vm,e),this}}function ob(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new kb("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function sb(e){return e&&"function"==typeof e.databases}function ab(e){return Fg((function(){return fg.letThrough=!0,e()}))}function ub(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function cb(e){var t=t=>e.next(t),n=i(t),r=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):Wy(o)?Promise.all(o).then(n,r):n(o)}}return i(t)()}function lb(e,t,n){var r=arguments.length;if(r<2)throw new Bm.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=dm(i);return[e,o,n]}function db(e,t,n,r,i){return vg.resolve().then((()=>{const o=fg.transless||fg,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Dm.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>db(e,t,n,null,i)))):Xg(r)}const u=Em(i);let c;u&&qg();const l=vg.follow((()=>{if(c=i.call(s,s),c)if(u){var e=Vg.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=cb(c))}),a);return(c&&"function"==typeof c.then?vg.resolve(c).then((e=>s.active?e:Xg(new Bm.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((e=>(r&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),Xg(e))))}))}function hb(e,t,n){const r=Wy(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const pb={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function s(e,t,n){const r=Kv(e),a=i[r]=i[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=t>0,l={...n,isVirtual:c,keyTail:t,keyLength:u,extractKey:$v(e),unique:!c&&n.unique};return a.push(l),l.isPrimaryKey||o.push(l),u>1&&s(2===u?e[0]:e.slice(0,u-1),t+1,n),a.sort(((e,t)=>e.keyTail-t.keyTail)),l}const a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const e of r.indexes)s(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:hb(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:hb(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const c={...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=i[Kv(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:i,keyLength:o}=t.query.index;return i?n.openCursor(u(t)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(hb(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(hb(t,e.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(t)}};return c}}}};function fb(e,t,n,r){return n=n||{},r=r||"",$y(e).forEach((i=>{if(Qy(t,i)){var o=e[i],s=t[i];if("object"==typeof o&&"object"==typeof s&&o&&s){const e=vm(o);e!==vm(s)?n[r+i]=t[i]:"Object"===e?fb(o,s,n,r+i+"."):o!==s&&(n[r+i]=t[i])}else o!==s&&(n[r+i]=t[i])}else n[r+i]=void 0})),$y(t).forEach((i=>{Qy(e,i)||(n[r+i]=t[i])})),n}const yb={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,i={...n,mutate(e){const i=fg.trans,{deleting:o,creating:s,updating:a}=i.table(t).hook;switch(e.type){case"add":if(s.fire===Vm)break;return i._promise("readwrite",(()=>u(e)),!0);case"put":if(s.fire===Vm&&a.fire===Vm)break;return i._promise("readwrite",(()=>u(e)),!0);case"delete":if(o.fire===Vm)break;return i._promise("readwrite",(()=>u(e)),!0);case"deleteRange":if(o.fire===Vm)break;return i._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function u(e){const t=fg.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((u=>{const c=i.map(((n,i)=>{const c=u[i],l={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){const o=s.fire.call(l,n,e.values[i],t);null==n&&null!=o&&(n=o,e.keys[i]=n,r.outbound||um(e.values[i],r.keyPath,n))}else{const r=fb(c,e.values[i]),o=a.fire.call(l,r,n,c,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{Qy(t,e)?t[e]=o[e]:um(t,e,o[e])}))}}return l}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:o})=>{for(let r=0;r<i.length;++r){const o=n?n[r]:i[r],s=c[r];null==o?s.onerror&&s.onerror(t[r]):s.onsuccess&&s.onsuccess("put"===e.type&&u[r]?e.values[r]:o)}return{failures:t,results:n,numFailures:r,lastResult:o}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((({result:n})=>u({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},i)))))}}};return i}})};function mb(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===_v(t.keys[i],e[o])&&(r.push(n?ym(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(e){return null}}const gb={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=mb(e.keys,e.trans._cache,"clone"===e.cache);return t?vg.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ym(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function vb(e){return!("from"in e)}const bb=function(e,t){if(!this){const t=new bb;return e&&"d"in e&&zy(t,e),t}zy(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function wb(e,t,n){const r=_v(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(vb(e))return zy(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(_v(n,e.from)<0)return i?wb(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Eb(e);if(_v(t,e.to)>0)return o?wb(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Eb(e);_v(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),_v(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;i&&!e.l&&_b(e,i),o&&s&&_b(e,o)}function _b(e,t){vb(t)||function e(t,{from:n,to:r,l:i,r:o}){wb(t,n,r),i&&e(t,i),o&&e(t,o)}(e,t)}function Sb(e){let t=vb(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&_v(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||_v(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Eb(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=xb(n)}e.d=xb(e)}function xb({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Gy(bb.prototype,{add(e){return _b(this,e),this},addKey(e){return wb(this,e,e),this},addKeys(e){return e.forEach((e=>wb(this,e,e))),this},[bm](){return Sb(this)}});const Ab={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new bb(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:s}=o,{extractKey:a,outbound:u}=s,c={...i,mutate:e=>{const s=e.trans,a=s.mutatedParts||(s.mutatedParts={}),u=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new bb)},c=u(""),l=u(":dels"),{type:d}=e;let[h,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const f=e.trans._cache;return i.mutate(e).then((e=>{if(Wy(h)){"delete"!==d&&(h=e.results),c.addKeys(h);const t=mb(h,f);t||"add"===d||l.addKeys(h),(t||p)&&function(e,t,n,r){t.indexes.forEach((function(t){const i=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const s=e=>t.multiEntry&&Wy(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(n||r).forEach(((e,t)=>{const i=n&&o(n[t]),a=r&&o(r[t]);0!==_v(i,a)&&(null!=i&&s(i),null!=a&&s(a))}))}))}(u,o,t,p)}else if(h){const e={from:h.lower,to:h.upper};l.add(e),c.add(e)}else c.add(n),l.add(n),o.indexes.forEach((e=>u(e.name).add(n)));return e}))}},l=({query:{index:t,range:n}})=>{var r,i;return[t,new bb(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:e.MAX_KEY)]},d={get:e=>[s,new bb(e.key)],getMany:e=>[s,(new bb).addKeys(e.keys)],count:l,query:l,openCursor:l};return $y(d).forEach((e=>{c[e]=function(o){const{subscr:s}=fg;if(s){const c=e=>{const n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new bb)},l=c(""),h=c(":dels"),[p,f]=d[e](o);if(c(p.name||"").add(f),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&u&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((n=>{if("query"===e){if(u&&o.values)return t.then((({result:e})=>(l.addKeys(e),n)));const e=o.values?n.result.map(a):n.result;o.values?l.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return i[e].apply(this,arguments)}})),c}}}};class kb{constructor(e,t){this._middlewares={},this.verno=0;const n=kb.dependencies;this._options=t={addons:kb.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Vm,dbReadyPromise:null,cancelOpen:Vm,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new vg((e=>{i.dbReadyResolve=e})),i.openCanceller=new vg(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=hv(this,"populate","blocked","versionchange","close",{ready:[Zm,Vm]}),this.on.ready.subscribe=rm(this.on.ready.subscribe,(e=>(t,n)=>{kb.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||vg.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,pv(xv.prototype,(function(e,t){this.db=o;let n=cv,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:a!==$m?a:null}}))),this.Table=function(e){return pv(dv.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:hv(null,{creating:[Km,Vm],reading:[Wm,$m],updating:[Qm,Vm],deleting:[Hm,Vm]})}))}(this),this.Transaction=function(e){return pv(Uv.prototype,(function(t,n,r,i,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=hv(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new vg(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),Xg(e)}))}))}(this),this.Version=function(e){return pv(ib.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return pv(Pv.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new Bm.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Vv(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),rv.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(pb),this.use(yb),this.use(Ab),this.use(gb),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Bm.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Bm.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Jv),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||fg.letThrough||this._vip)?e():new vg(((e,t)=>{if(this._state.openComplete)return t(new Bm.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Bm.DatabaseClosed);this.open().catch(Vm)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==n?10:n,name:r}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?Xg(t.dbOpenError):e));xm&&(t.openCanceller._stackHolder=Mm()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new Bm.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,a=!1;return vg.race([r,("undefined"==typeof navigator?vg.resolve():ub()).then((()=>new vg(((r,o)=>{if(i(),!n)throw new Bm.MissingAPI;const u=e.name,c=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!c)throw new Bm.MissingAPI;c.onerror=Lv(o),c.onblocked=Rg(e._fireOnBlocked),c.onupgradeneeded=Rg((r=>{if(s=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=jv,s.abort(),c.result.close();const e=n.deleteDatabase(u);e.onsuccess=e.onerror=Rg((()=>{o(new Bm.NoSuchDatabase(`Database ${u} doesnt exist`))}))}else{s.onerror=Lv(o);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;a=i<1,e._novip.idbdb=c.result,Yv(e,i/10,s,o)}}),o),c.onsuccess=Rg((()=>{s=null;const n=e._novip.idbdb=c.result,i=nm(n.objectStoreNames);if(i.length>0)try{const r=n.transaction(1===(o=i).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=nb(0,t,n);e._storeNames=nm(t.objectStoreNames,0),Gv(e,[e._allTables],$y(r),r)}(e,n,r):(rb(e,e._dbSchema,r),function(e,t){const n=Xv(nb(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Qv(e,r)}catch(e){}var o;rv.push(e),n.onversionchange=Rg((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Rg((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!sb(e)&&"__dbnames"!==n&&ob(e,t).put({name:n}).catch(Vm)}(e._deps,u),r()}),o)}))))]).then((()=>(i(),t.onReadyBeingFired=[],vg.resolve(ab((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(Zm,Vm);return t.onReadyBeingFired=[],vg.resolve(ab((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{s&&s.abort()}catch(e){}return r===t.openCanceller&&e._close(),Xg(n)})).finally((()=>{t.openComplete=!0,o()}))}(this)}_close(){const e=this._state,t=rv.indexOf(this);if(t>=0&&rv.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new vg((t=>{e.dbReadyResolve=t})),e.openCanceller=new vg(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Bm.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new vg(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Rg((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!sb(e)&&"__dbnames"!==n&&ob(e,t).delete(n).catch(Vm)}(this._deps,this.name),n()})),e.onerror=Lv(r),e.onblocked=this._fireOnBlocked};if(e)throw new Bm.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return $y(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=lb.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=fg.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Bm.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===o){if(!i)throw new Bm.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new Bm.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):Xg(e)}const a=db.bind(null,this,o,s,r,n);return r?r._promise(o,a,"lock"):fg.trans?Qg(fg.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!Qy(this._allTables,e))throw new Bm.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Tb="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Mb{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Tb](){return this}}function Cb(e,t){return $y(t).forEach((n=>{_b(e[n]||(e[n]=new bb),t[n])})),e}let Nb;try{Nb={indexedDB:Vy.indexedDB||Vy.mozIndexedDB||Vy.webkitIndexedDB||Vy.msIndexedDB,IDBKeyRange:Vy.IDBKeyRange||Vy.webkitIDBKeyRange}}catch(Vy){Nb={indexedDB:null,IDBKeyRange:null}}const Ob=kb;function Ib(e){let t=Rb;try{Rb=!0,Dv.storagemutated.fire(e)}finally{Rb=t}}Gy(Ob,{...qm,delete:e=>new Ob(e,{addons:[]}).delete(),exists:e=>new Ob(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return sb(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):ob(e,t).toCollection().primaryKeys()}(Ob.dependencies).then(e)}catch(e){return Xg(new Bm.MissingAPI)}},defineClass:()=>function(e){zy(this,e)},ignoreTransaction:e=>fg.trans?Qg(fg.transless,e):e(),vip:ab,async:function(e){return function(){try{var t=cb(e.apply(this,arguments));return t&&"function"==typeof t.then?t:vg.resolve(t)}catch(e){return Xg(e)}}},spawn:function(e,t,n){try{var r=cb(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:vg.resolve(r)}catch(e){return Xg(e)}},currentTransaction:{get:()=>fg.trans||null},waitFor:function(e,t){const n=vg.resolve("function"==typeof e?Ob.ignoreTransaction(e):e).timeout(t||6e4);return fg.trans?fg.trans.waitFor(n):n},Promise:vg,debug:{get:()=>xm,set:e=>{Am(e,"dexie"===e?()=>!0:av)}},derive:Yy,extend:zy,props:Gy,override:rm,Events:hv,on:Dv,liveQuery:function(e){return new Mb((t=>{const n=Em(e);let r=!1,i={},o={};const s={get closed(){return r},unsubscribe:()=>{r=!0,Dv.storagemutated.unsubscribe(l)}};t.start&&t.start(s);let a=!1,u=!1;function c(){return $y(o).some((e=>i[e]&&function(e,t){const n=Sb(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Sb(e);let s=o.next(i.from),a=s.value;for(;!r.done&&!s.done;){if(_v(a.from,i.to)<=0&&_v(a.to,i.from)>=0)return!0;_v(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}(i[e],o[e])))}const l=e=>{Cb(i,e),c()&&d()},d=()=>{if(a||r)return;i={};const h={},p=function(t){n&&qg();const r=()=>Fg(e,{subscr:t,trans:null}),i=fg.trans?Qg(fg.transless,r):r();return n&&i.then(Vg,Vg),i}(h);u||(Dv("storagemutated",l),u=!0),a=!0,Promise.resolve(p).then((e=>{a=!1,r||(c()?d():(i={},o=h,t.next&&t.next(e)))}),(e=>{a=!1,t.error&&t.error(e),s.unsubscribe()}))};return d(),s}))},extendObservabilitySet:Cb,getByKeyPath:am,setByKeyPath:um,delByKeyPath:function(e,t){"string"==typeof t?um(e,t,void 0):"length"in t&&[].map.call(t,(function(t){um(e,t,void 0)}))},shallowClone:cm,deepClone:ym,getObjectDiff:fb,cmp:_v,asap:om,minKey:-1/0,addons:[],connections:rv,errnames:Dm,dependencies:Nb,semVer:"3.2.2",version:"3.2.2".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Ob.maxKey=Vv(Ob.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Dv("storagemutated",(e=>{if(!Rb){let t;iv?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Rb=!0,dispatchEvent(t),Rb=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Rb||Ib(e)})));let Rb=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");Dv("storagemutated",(t=>{Rb||e.postMessage(t)})),e.onmessage=e=>{e.data&&Ib(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Dv("storagemutated",(e=>{try{Rb||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Ib(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Ib(e.changedParts)}))}vg.rejectionMapper=function(e,t){if(!e||e instanceof Rm||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Fm[e.name])return e;var n=new Fm[e.name](t||e.message,e);return"stack"in e&&Jy(n,"stack",{get:function(){return this.inner.stack}}),n},Am(xm,av);var Pb,Lb,jb=n(48834).Buffer,Db=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ub=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Bb=class{id;fromAddress;toAddress;chainId;signedTxData;txHash;transferValue;blockchainStr;currencyCodeStr;state;recentBlockHash;notFoundCount};Db([fh(),Ub("design:type",String)],Bb.prototype,"id",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"fromAddress",void 0),Db([hh({nullable:!0}),Ub("design:type",String)],Bb.prototype,"toAddress",void 0),Db([hh({type:"int"}),Ub("design:type",Number)],Bb.prototype,"chainId",void 0),Db([hh({type:"varchar",transformer:_f}),Ub("design:type","function"==typeof(Pb="undefined"!=typeof Uint8Array&&Uint8Array)?Pb:Object)],Bb.prototype,"signedTxData",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"txHash",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"transferValue",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"blockchainStr",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"currencyCodeStr",void 0),Db([hh({type:"int"}),Ub("design:type","function"==typeof(Lb=void 0!==Ef&&Ef)?Lb:Object)],Bb.prototype,"state",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"recentBlockHash",void 0),Db([hh(),Ub("design:type",String)],Bb.prototype,"notFoundCount",void 0),Bb=Db([mh("solana_signed_tx"),gh("IDX_SOL_STATE_CHAIN",["state","chainId"]),gh("IDX_SOL_HASH_CHAIN",["txHash","chainId"]),gh("IDX_SOL_HASH_CHAIN_ADDR",["txHash","chainId","fromAddress"]),gh("IDX_SOL_CHAIN_RECENT_ADDR",["chainId","recentBlockHash","fromAddress"]),gh("IDX_SOL_CHAIN_RECENT_ADDR_CURR_STATE",["chainId","recentBlockHash","fromAddress","currencyCodeStr","state"]),gh("IDX_SOL_CHAIN_RECENT_ADDR_TO_STATE",["chainId","recentBlockHash","fromAddress","toAddress","state"])],Bb);class Fb{id;fromAddress;toAddress;chainId;signedTxData;txHash;transferValue;blockchain;currencyCode;state;recentBlockHash;notFoundCount;constructor(e,t,n,r,i,o,s,a,u,c,l,d){this.id=e,this.fromAddress=t,this.toAddress=n,this.chainId=r,this.signedTxData=i,this.txHash=o,this.transferValue=s,this.blockchain=a,this.currencyCode=u,this.state=c,this.recentBlockHash=l,this.notFoundCount=d}get asDMO(){return{id:this.id,fromAddress:this.fromAddress,toAddress:this.toAddress,chainId:Number(this.chainId),signedTxData:new Uint8Array(this.signedTxData),txHash:this.txHash,transferValue:this.transferValue.toString(),blockchainStr:this.blockchain.rawValue,currencyCodeStr:this.currencyCode.rawValue,state:this.state,recentBlockHash:this.recentBlockHash,notFoundCount:this.notFoundCount.toString()}}static fromDMO(e){return new Fb(e.id,e.fromAddress,e.toAddress,new(I())(e.chainId),jb.from(e.signedTxData),e.txHash,new(I())(e.transferValue),new zh(e.blockchainStr),new R(e.currencyCodeStr),e.state,e.recentBlockHash,new(I())(e.notFoundCount))}}const qb=new class extends kb{erc20Table;accountTable;walletGroupTable;walletTable;addressTable;txHistoryTable5;swapAssetStatsTable;ethereumSignedTxTable2;solanaSignedTxTable3;xlmSignedTxTable;xrpSignedTxTable;utxoSignedTxTable;splTable;curatedAssetSettingTable;userWalletSettingTable;userCollectibleSettingTable;constructor(){super("Database",{autoOpen:!1}),this.version(29).stores({erc20Table:"[contractAddress+chainIdStr],&[contractAddress+chainIdStr]",accountTable:"&[id],&[type+primaryAddress+primaryAddressChain]",walletGroupTable:"&[id],&[accountId+walletIndex+hardwareDerivationPath+isHidden]",walletTable:"[id],&[blockchainStr+currencyCodeStr+networkStr+contractAddress+selectedIndexStr]",addressTable:"[id],&[blockchainStr+currencyCodeStr+contractAddress+networkStr+typeStr+isChangeAddressStr+indexStr],[blockchainStr+currencyCodeStr+networkStr+typeStr+isChangeAddressStr+isUsedStr],[blockchainStr+currencyCodeStr+networkStr+balanceStr],[blockchainStr+currencyCodeStr+address+networkStr],[blockchainStr+networkStr],[blockchainStr+address+networkStr],[blockchainStr+currencyCodeStr+networkStr+typeStr+isChangeAddressStr+indexStr],address,[blockchainStr+currencyCodeStr+networkStr],[blockchainStr+currencyCodeStr+networkStr+isUsedStr]",txHistoryTable5:"[id],id,txHash,networkStr,state,createdAt,[blockchainStr+currencyCodeStr+networkStr],[currencyCodeStr+networkStr],[blockchainStr+currencyCodeStr+networkStr+fromAddress],&[blockchainStr+currencyCodeStr+txHash+amount]",swapAssetStatsTable:"&[id],&[blockchain+currencyCode+chainId+contractAddress]",ethereumSignedTxTable2:"[id],[state+chainId],[state+chainId+fromAddress],[chainId+fromAddress+nonce],[chainId+nonce+fromAddress+currencyCodeStr+state],[chainId+nonce+fromAddress+toAddress+state]",solanaSignedTxTable3:"[txHash+chainId],[state+chainId],[txHash+chainId+fromAddress],[chainId+recentBlockHash+fromAddress],[chainId+recentBlockHash+fromAddress+currencyCodeStr+state],[chainId+recentBlockHash+fromAddress+toAddress+state]",xlmSignedTxTable:"[id],[state+networkStr],[state+networkStr+txHash]",xrpSignedTxTable:"[id],[state+networkStr],[state+networkStr+txHash]",utxoSignedTxTable:"[blockchainStr+currencyCodeStr+networkStr+state]",splTable:"[mintAddress+chainIdStr],&[mintAddress+chainIdStr]",curatedAssetSettingTable:"[id],&[currencyCodeStr+contractAddress+blockchainStr+networkStr]",userWalletSettingTable:"[id],&[primaryAddress+currencyCodeStr+contractAddress+blockchainStr+networkStr]",userCollectibleSettingTable:"[id],&[primaryAddress+contractAddress+blockchainStr+networkStr+tokenId+]"})}},Vb=(qb.erc20Table,qb.accountTable,qb.walletGroupTable,qb.walletTable),$b=qb.addressTable,Wb=(qb.txHistoryTable5,qb.swapAssetStatsTable,qb.ethereumSignedTxTable2,qb.solanaSignedTxTable3),zb=(qb.xlmSignedTxTable,qb.xrpSignedTxTable,qb.utxoSignedTxTable,qb.splTable),Kb=qb.curatedAssetSettingTable,Hb=qb.userWalletSettingTable,Qb=qb.userCollectibleSettingTable;const{saveSPL:Gb,getSPL:Zb}={saveSPL:async function(e){return await zb.put(e.asDMO),e},getSPL:async function(e,t){const n=await zb.get({mintAddress:e,chainIdStr:t.toString()});return n?Lf.fromDMO(n):void 0}},{getUnminedSignedTxs:Jb,saveTransaction:Yb}={getUnminedSignedTxs:async function(e){return(await Wb.where(["state","chainId"]).equals([Ef.PENDING.valueOf(),e.chainId]).toArray()).map(Fb.fromDMO)},saveTransaction:async function(e){return await Wb.put(e.asDMO),e}};class Xb extends Error{name;message;stack;constructor(e,t,n){super(t),this.name=e,this.message=t,this.stack=n}static unableToFindWallet=new Xb("UnableToFindWallet","");static invalidConfiguration=new Xb("InvalidConfiguration","");static unableToGenerateUnsignedTransaction=new Xb("UnableToGenerateUnsignedTransaction","Unable to generate unsigned transaction");static unableToGetRecentBlockHash=new Xb("UnableToGetRecentBlockHash","Unable to get block hash");static transactionSimulationFailed=new Xb("TransactionSimulationFailed","Transaction simulation failed");static unableToSubmitTransaction=new Xb("TransactionSubmissionFailed","Unable to submit transaction");static wrongSignerFromDapp=new Xb("DappTransactionWrongSigner","Wrong signer address from request");static noFeePayerFound=new Xb("NoFeePayerFound","Transaction does not have a fee payer");static unableToGetNetworkFee=new Xb("UnableToGetNetworkFee","Unable to get network fee")}const ew=e=>{const t=[...e];return t.sort(((e,t)=>new(I())(e.indexStr).sub(new(I())(t.indexStr)).toNumber())),t},{getErc20AddressesForNetworkAndIndex:tw,getAddressForIndex:nw,getFirstUnusedAddress:rw,getLatestAddress:iw,getAddressesWithBalance:ow,getOrderedAddresses:sw,saveAddress:aw,saveAddresses:uw,getAddresses:cw,getAddress:lw,getUsedAddresses:dw}={getErc20AddressesForNetworkAndIndex:async function(e,t){const n=await $b.where(["blockchainStr","networkStr"]).equals([hp.rawValue,e.rawValue]).and((e=>!!e.contractAddress&&e.indexStr===t.toString())).toArray();return ew(n).map(uy.fromDMO)},getAddressForIndex:async function({blockchain:e,currencyCode:t,network:n,addressType:r,isChangeAddress:i,index:o}){const s=$b.where(["blockchainStr","currencyCodeStr","networkStr","typeStr","isChangeAddressStr","indexStr"]).equals([e.rawValue,t.rawValue,n.rawValue,r.rawValue,`${i}`,o.toString()]),a=await s.first();return a?uy.fromDMO(a):void 0},getFirstUnusedAddress:async function({blockchain:e,currencyCode:t,network:n,addressType:r,isChangeAddress:i}){const o=await $b.where(["blockchainStr","currencyCodeStr","networkStr","typeStr","isChangeAddressStr","isUsedStr"]).equals([e.rawValue,t.rawValue,n.rawValue,r.rawValue,`${i}`,"false"]).toArray(),s=ew(o);return s[0]?uy.fromDMO(s[0]):void 0},getLatestAddress:async function({blockchain:e,currencyCode:t,network:n,addressType:r,isChangeAddress:i}){const o=await $b.where(["blockchainStr","currencyCodeStr","networkStr","typeStr","isChangeAddressStr"]).equals([e.rawValue,t.rawValue,n.rawValue,r.rawValue,`${i}`]).toArray();if(0===o.length)return;const s=ew(o);return uy.fromDMO(s[s.length-1])},getAddressesWithBalance:async function({blockchain:e,currencyCode:t,network:n}){return(await $b.where("[blockchainStr+currencyCodeStr+networkStr]").equals([e.rawValue,t.rawValue,n.rawValue]).filter((e=>!!e.balanceStr&&"0"!==e.balanceStr)).toArray()).map(uy.fromDMO)},getOrderedAddresses:async function({blockchain:e,currencyCode:t,network:n}){const r=await $b.where("[blockchainStr+currencyCodeStr+networkStr]").equals([e.rawValue,t.rawValue,n.rawValue]).toArray();return ew(r).map(uy.fromDMO)},saveAddress:async function(e){return await $b.put(e.asDMO),e},saveAddresses:async function(e){await $b.bulkPut(e.map((e=>e.asDMO)))},getAddresses:async function({blockchain:e,currencyCode:t,addresses:n,network:r}){const i=$b.where("address").anyOfIgnoreCase(n).and((n=>n.blockchainStr===e.rawValue&&n.currencyCodeStr===t.rawValue&&n.networkStr===r.rawValue));return(await i.toArray()).map(uy.fromDMO)},getAddress:async function({blockchain:e,currencyCode:t,network:n,address:r}){const i=$b.where("address").equalsIgnoreCase(r).and((r=>r.blockchainStr===e.rawValue&&r.currencyCodeStr===t.rawValue&&r.networkStr===n.rawValue)),o=await i.first();return o?uy.fromDMO(o):void 0},getUsedAddresses:async function({blockchain:e,currencyCode:t,network:n}){const r=await $b.where(["blockchainStr","currencyCodeStr","networkStr","isUsedStr"]).equals([e.rawValue,t.rawValue,n.rawValue,"true"]).toArray();return ew(r).map(uy.fromDMO)}};Error;class hw extends EventTarget{setWallets(e){this.dispatchEvent(new CustomEvent("setWallets",{detail:{wallets:e}}))}}const pw=new hw,fw=pw.setWallets.bind(pw);const{saveWallets:yw,hydrateWallets:mw,deleteWallet:gw,getWallets:vw}={hydrateWallets:async function(){const e=await Vb.toArray();return fw(e.map(qy.fromDMO)),e.length>0},deleteWallet:async function(e){await Vb.where("[id]").equals([e.id]).delete()},saveWallets:async function(e){fw(e),Vb.bulkPut(e.map((e=>e.asDMO)))},getWallets:async function(){return(await Vb.toArray()).map(qy.fromDMO)}};var bw;!function(e){e.CONFIRMED="confirmed",e.FINALIZED="finalized"}(bw||(bw={}));bf.struct([bf.blob(32,"mint"),bf.blob(32,"owner"),bf.nu64("amount"),bf.blob(93)]);const ww={id:1,jsonrpc:"2.0"},_w=bw.FINALIZED;async function Sw(e){const t={method:"getTokenAccountsByOwner",params:[`${e}`,{programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{encoding:"jsonParsed",commitment:_w}],...ww},{result:n}=await B_("https://sol-mainnet.wallet.coinbase.com",t,{isThirdParty:!0});return n}const Ew=uc({key:"isExperimentModeEnabled",default:!1,effects:[Je(new a("isExperimentModeEnabled"))]}),xw="token_management.hide_crypto.succeed",Aw="token_manamgent.hide_crypto.failed",kw="token_management.hide_nft.succeed",Tw="token_management.hide_nft.failed",Mw="token_management.unhide_crypto.succeed",Cw="token_manamgent.unhide_crypto.failed",Nw="token_management.unhide_nft.succeed",Ow="token_management.unhide_nft.failed",Iw="token_management.update_remote_wallet_settings.succeed",Rw="token_management.update_remote_wallet_settings.failed",Pw="token_management.update_remote_collectible_settings.succeed",Lw="token_management.update_remote_collectible_settings.failed";function jw(e,t,n){return vf(e,{loggingId:t,...n})}class Dw{_id=null;clear(){this._id&&clearTimeout(this._id)}call(e,t){this.clear(),this._id=setTimeout(e,t)}}const Uw=()=>new Dw;function Bw(){const e=F.get(dc),t=F.get(hc);return!(!e||!t)}var Fw=n(34291),qw=n.n(Fw);new a("eTagCuratedAssets");const Vw="userAssetSettings";async function $w(e,{collectibles:t=[],wallets:n=[],shouldShowLowBalance:r},i){return B_(Vw,{address:e,collectibles:t.map((t=>{return r=e,{blockchain:(n=t).blockchain.rawValue,tokenId:n.tokenId,network:n.network.rawValue,contractAddress:n.contractAddress,primaryAddress:n.primaryAddress??r,status:n.status};var n,r})),wallets:n.map((t=>{return r=e,{blockchain:(n=t).blockchain.rawValue,currencyCode:n.currencyCode.rawValue,network:n.network.rawValue,contractAddress:n.contractAddress,primaryAddress:n.primaryAddress??r,status:n.status};var n,r})),shouldShowLowBalance:r},{authenticated:!0,setAuthTokens:i})}async function Ww(e){return Qb.bulkPut(e.map((e=>e.asDMO)))}async function zw(e){return Hb.bulkPut(e.map((e=>e.asDMO)))}const Kw=Uw(),Hw=Uw(),Qw=Uw();function Gw(e){const t={};return e.forEach((e=>{t[e.id]=e})),t}function Zw(e){return{currencyCode:e.currencyCode.rawValue,primaryAddress:e.primaryAddress,blockchain:e.blockchain.rawValue,network:e.network.rawValue,chainName:e.network.asChain()?.baseAssetDisplayName??"",status:e.status,contractAddress:e.contractAddress??""}}function Jw(e){return{tokenId:e.tokenId??"",primaryAddress:e.primaryAddress,blockchain:e.blockchain.rawValue,network:e.network.rawValue,status:e.status,chainName:e.network.asChain()?.baseAssetDisplayName??"",contractAddress:e.contractAddress??""}}const Yw=new a("userSettingsPrimaryAddress"),Xw=(uc({key:"hasHiddenAssetStatus",default:!1,effects:[Je(new a("hasHiddenAsset"))]}),new a("hasViewedSpamTokenTray")),e_=(uc({key:"hasViewedSpamTokenTrayStatus",default:F.get(Xw)??!1,effects:[Je(Xw)]}),new a("areLowBalanceWalletsHidden")),t_=uc({key:"areLowBalanceWalletsHidden",default:!!F.get(e_),effects:[Je(e_),({onSet:e})=>{e((e=>{var t;Qw.call((t=e,()=>{const e=F.get(Yw)??"";e&&Bw()&&$w(e,{shouldShowLowBalance:!t},qw()).catch((e=>{(0,Ke.eK)({error:e})}))}),1e3)}))}]}),n_=(uc({key:"areUserAssetSettingsSynced",default:!1,effects:[({setSelf:e,onSet:t})=>{t((()=>{setTimeout((()=>e(!1)),18e5)}))}]}),uc({key:"userWalletSettings",default:{},effects:[({setSelf:e})=>{(async function(){return(await Hb.toArray()).map(ky.fromDMO)})().then((t=>e(Gw(t))))}]})),r_=uc({key:"userWalletSettingsPool",default:{},effects:[({onSet:e,setSelf:t})=>{function n(e){return async()=>{const n=Object.values(e),r=F.get(Yw)??"";r&&Bw()&&$w(r,{wallets:n},qw()).then((()=>{n.forEach((e=>{const t=Zw(e);jw(Iw,"3b003053-16e2-49bf-be8f-11d96dfc1790",t)}))})).catch((e=>{n.forEach((t=>{const n={...Zw(t),error:e};jw(Rw,"63c6ec54-080a-449b-84ce-f2d3d358bc7a",n),(0,Ke.eK)({error:e})}))})),zw(n).then((()=>{t({}),n.forEach((e=>{const t=Zw(e);e.status===cy.userHidden?jw(xw,"6182044b-f0e9-4fd8-876a-a92fd32690d0",t):function(e){jw(Mw,"bb7f1726-1152-486b-9cda-0f81c69f213c",e)}(t)}))})).catch((e=>n.forEach((t=>{const n={...Zw(t),error:e};t.status===cy.userHidden?jw(Aw,"9a16a372-5f4b-440c-ad11-0566cc11845c",n):function(e){jw(Cw,"09f3e342-2db9-43e1-b2ef-48c2f07271b3",e)}(n)}))))}}e((e=>{Kw.call(n(e),1e3)}))}]}),i_=(lc({key:"userWalletSettingsSelectorFamily",get:e=>({get:t})=>t(n_)[e],set:e=>({set:t,get:n},r)=>{if(!r)return;const i=n(n_),o=n(r_);r instanceof ac?t(n_,r):(t(n_,{...i,[e]:r}),t(r_,{...o,[e]:r}))}}),uc({key:"userCollectibleSettings",default:{},effects:[({setSelf:e})=>{(async function(){return(await Qb.toArray()).map(_y.fromDMO)})().then((t=>e(Gw(t))))}]})),o_=uc({key:"userCollectibleSettingsPool",default:{},effects:[({onSet:e,setSelf:t})=>{function n(e){return async()=>{const n=Object.values(e),r=F.get(Yw)??"";r&&Bw()&&$w(r,{collectibles:n},qw()).then((()=>{n.forEach((e=>{const t=Jw(e);jw(Pw,"b331fc01-6c5c-405f-9717-714eff4d6b9f",t)}))})).catch((e=>{n.forEach((t=>{const n={...Jw(t),error:e};jw(Lw,"c2f3fd13-e561-4666-b9da-93ed8ef13bbc",n),(0,Ke.eK)({error:e})}))})),Ww(n).then((()=>{t({}),n.forEach((e=>{const t=Jw(e);e.status===cy.userHidden?jw(kw,"0f59cf16-1af2-4e6c-b637-a0186cc46f29",t):function(e){jw(Nw,"db2a79be-6e8d-47a1-b5f2-1ac9730518a3",e)}(t)}))})).catch((e=>n.forEach((t=>{const n={...Jw(t),error:e};t.status===cy.userHidden?jw(Tw,"9432c7f9-ec4c-4312-9b03-d9698a4ba059",n):function(e){jw(Ow,"a92f8cb8-7381-4f3d-9c5f-0d5dd3894372",e)}(n)}))))}}e((e=>{Hw.call(n(e),1e3)}))}]}),s_=(lc({key:"userCollectibleSettingsSelectorFamily",get:e=>({get:t})=>t(i_)[e],set:e=>({set:t,get:n},r)=>{if(!r)return;const i=n(i_),o=n(o_);r instanceof ac?t(i_,r):(t(i_,{...i,[e]:r}),t(o_,{...o,[e]:r}))}}),uc({key:"curatedAssetSettings",default:{},effects:[({setSelf:e})=>{(async function(){return(await Kb.toArray()).map(my.fromDMO)})().then((t=>e(Gw(t))))}]}),uc({key:"exchangeRates",default:[]}));function a_({chainId:e,contractAddress:t,currencyCode:n}){const r=e&&t?"x":n.code;return`${e?.toString()??"x"}-${t??"x"}-${r}`}const u_=cc({key:"exchangeRatesMapSelector",get:({get:e})=>function(e){const t={};return e.forEach((e=>{t[a_(e)]=e.rate})),t}(e(s_)),cachePolicy_UNSTABLE:{eviction:"most-recent"}});var c_=n(52180);function l_(e){return new c_.Decimal(e.toString())}new(I())(9);const d_=(e,t={},n=!1)=>{if(!n&&e.network.isTestnet)return!1;const r=l_(e.balance??new(I())(0)),i=l_(e.decimals),o=function({exchangeRatesMap:e,currencyCode:t,contractAddress:n,network:r}){const i=r?.asChain(),o=i?.chainId?new(I())(i?.chainId):void 0;if(t&&n&&i)return e[a_({chainId:o,contractAddress:n,currencyCode:t})];if(t&&i){const n=R.isEqual(t,R.ETH)?1:i.chainId;return e[a_({chainId:new(I())(n),contractAddress:void 0,currencyCode:t})]}return t?e[a_({chainId:void 0,contractAddress:void 0,currencyCode:t})]:void 0}({exchangeRatesMap:t,currencyCode:e.currencyCode,contractAddress:e.contractAddress,network:e.network});if(!o)return new c_.Decimal(r).equals(0);return o.times(r).dividedBy(new c_.Decimal(10).pow(i)).lessThan(.012)},h_=(uc({key:"__INTERNAL_DO_NOT_USE_walletsAtom",default:[]}),uc({key:"wallets",default:[]})),p_=uc({key:"usableWallets",default:[]});cc({key:"activeSolanaATAAddresses",get:async({get:e})=>{const t=e(f_("SOL"));if(!t)return[];try{const{value:e}=await Sw(t);return e.map((({pubkey:e})=>e))}catch(e){return[]}}});const f_=lc({key:"getActivePrimaryAddressForBlockchain",get:e=>({get:t})=>t(y_)[e]}),y_=cc({key:"activePrimaryAddressByBlockchain",get:({get:e})=>{const t=e(p_);return pf().reduce(((e,n)=>({...e,[n]:t.find((e=>zh.isEqual(e.blockchain,new zh(n))))?.primaryAddress})),{})}}),m_=(cc({key:"walletsMap",get:({get:e})=>function(e){const t={};return e.forEach((e=>{t[e.id]=e})),t}(e(h_)),cachePolicy_UNSTABLE:{eviction:"most-recent"}}),cc({key:"visiblePortfolioWallets",get:({get:e})=>{const t=e(m_),n=e(u_),r=e(Ew),i=e(t_),o=e(n_);return t?.filter((e=>function(e){const t=ky.generateID(e.primaryAddress,e.blockchain,e.currencyCode,e.network,e.contractAddress);if(i&&d_(e,n,r))return!1;const s=o[t];return[cy.userVisible,cy.userSpamVisible,void 0].includes(s?.status)}(e)))}}),uc({key:"portfolioWallets",default:void 0})),g_=new a("activeWalletIndexes"),v_=(uc({key:"activeWalletIndexes",default:Object.fromEntries(lf.map((e=>yf(e)?[e,new(I())(0)]:[e,void 0]))),effects:[gc(g_)]}),uc({key:"lastBalanceUpdateMetadataAtom",default:{updatedAt:0,source:void 0}})),b_=new a("blockchainIsSyncedMap"),w_=uc({key:"blockChainIsSyncedMapAtom",default:Object.fromEntries(pf().filter((e=>df[e].isSyncingRequired)).map((e=>[e,!1]))),effects:[gc(b_)]}),__=(cc({key:"allBlockChainsAreSyncedSelector",get:({get:e})=>{const t=e(w_);return Object.values(t).every((e=>e))}}),uc({key:"blockchainIsRefreshedMapAtom",default:Object.fromEntries(pf().map((e=>[e,!1]))),effects:[({onSet:e,getPromise:t})=>{e((async()=>{const e=await t(S_),{updatedAt:n}=await t(v_);if(e){!function({elapsedTime:e}){vf("assets.balances_refreshed",{loggingId:"53106001-5ff4-4c16-9054-4df1cee57d0f",elapsedTime:e})}({elapsedTime:Date.now()-n})}}))}]})),S_=cc({key:"allBlockchainsAreRefreshedSelector",get:({get:e})=>{const t=e(__);return Object.values(t).every((e=>e))}});uc({key:"balanceUpdatePerfMark",default:!1,effects:[gc(new a("hasSentBalanceUpdatePerfMark"))]});const E_="window.ethereum",x_="window.coinbaseSolana";n(62439);const A_=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{promise:n,resolve:e,reject:t}}();A_.promise;const k_=()=>{throw new Error("Not implemented")};Object.freeze({walletUsername:null,sessionConfig:null,setOnSessionConfigChangedCallback:()=>{},isLinked:void 0,setChainCallback:k_,signEthereumMessage:k_,appVersion:null,sendCbRequest:k_,signAndSubmitEthereumTransaction:k_,addOnSessionConfigChangedCallback:k_});const T_="blue";const M_=new a("privacyMode"),C_=new a("userId"),N_=new a("appearance"),O_=new a("rootThemeColorPreference");uc({key:"privacyMode",default:!1,effects:[Je(M_)]}),uc({key:"hasSentUserActivatedEvent",default:!1,effects:[Je(new a("hasSentUserActivatedEvent"))]});uc({key:"appearance",default:F.get(N_)??"dark",effects:[Je(N_)]}),uc({key:"themeColor",default:F.get(O_)??T_,effects:[Je(O_)]});let I_=new AbortController;class R_ extends Error{status;code;message;description;errorDetail;constructor(e,t,n,r,i){super(n),this.status=e,this.code=t,this.message=n,this.description=r,this.errorDetail=i}}n(96009),n(97030),n(57370);async function P_(e,t,n){const{method:r,authenticated:i,retried:o,apiVersion:s=2,isThirdParty:a=!1}=n,u=new URL(a?e:`${He}/rpc/v${s}/${e}`);"GET"===r&&t&&(u.search=t);const c=u.toString().replace(/\/$/,""),{version:l,platform:d,appsFlyerAppID:h}=ih(),p={Accept:"application/json","X-App-Version":l??"","X-Platform-Name":d??"","X-Appsflyer-Id":h??"",...n.additionalHeaders,...i?{Authorization:`Bearer ${pc()}`}:null},f=["POST","DELETE"].includes(r)?{method:r,body:t}:null,y={headers:p,signal:I_.signal,...f},m=await fetch(c,y);if(m.status>=400){if(i&&401===m.status&&!o)return await mc(n.setAuthTokens),P_(e,t,{...n,retried:!0});const{error:r}=await m.json();throw new R_(m.status,r?.code,r?.message,r?.description,r?.errorDetail)}return{status:m.status,body:m.ok?await m.json():null,headers:Object.fromEntries(m.headers?.entries()??[])}}function L_(){const{platform:e}=ih();return e===Zc.web?"production":"MISSING_ENV_VAR".RELEASE_STAGE??"development"}async function j_(e,t,n){const r=F.get(C_);return P_(e,t,{...n,additionalHeaders:{"Content-Type":"application/json","X-Wallet-User-Id":r,"X-Release-Stage":L_(),...n.additionalHeaders??{}}})}async function D_(e,t,n){return(await async function(e,t,n){return j_(e,new URLSearchParams(t).toString(),{method:"GET",...n})}(e,t,n)).body}async function U_(e,t,{returnHeaders:n,...r}){const i=(o=t,0===Object.keys(o).length?void 0:JSON.stringify(t));var o;const s=await j_(e,i,r);return n?s:s.body}async function B_(e,t,n){return U_(e,t,{method:"POST",...n})}const F_={[Zc.ios]:"ios",[Zc.android]:"android",[Zc.web]:"desktop"};async function q_(){const{result:e}=await D_("getFeatureFlags",{});return e[F_[oh()]]}function V_(e){if(null==e)return!1;const t=String(e).trim();return!!/^(?:y|yes|true|1|on)$/i.test(t)}const $_=V_("false");V_("false"),V_("false");function W_(e){const t=function(){switch(chrome.runtime.id){case"ibdjdlilbembidmokdpjanlbnjclopbi":return"corporate";case"hnfanknocfeofbddgcijnmhnfnkdnaad":return"production";default:return"local-prod"}return"local"}();return e.includes(t)}function z_(){const e=chrome.runtime.getManifest().version;return W_(["production"])?e:W_(["corporate"])?`corp-${e}`:W_(["local-prod"])?`qa-${e}`:"local"}function K_(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))}new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const H_=new Error("request for lock canceled");var Q_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};class G_{constructor(e,t=H_){if(this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}acquire(){const e=this.isLocked(),t=new Promise(((e,t)=>this._queue.push({resolve:e,reject:t})));return e||this._dispatch(),t}runExclusive(e){return Q_(this,void 0,void 0,(function*(){const[t,n]=yield this.acquire();try{return yield e(t)}finally{n()}}))}waitForUnlock(){return Q_(this,void 0,void 0,(function*(){if(!this.isLocked())return Promise.resolve();return new Promise((e=>this._waiters.push({resolve:e})))}))}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const e=this._currentReleaser;this._currentReleaser=void 0,e()}}cancel(){this._queue.forEach((e=>e.reject(this._cancelError))),this._queue=[]}_dispatch(){const e=this._queue.shift();if(!e)return;let t=!1;this._currentReleaser=()=>{t||(t=!0,this._value++,this._resolveWaiters(),this._dispatch())},e.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach((e=>e.resolve())),this._waiters=[]}}var Z_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};class J_{constructor(e){this._semaphore=new G_(1,e)}acquire(){return Z_(this,void 0,void 0,(function*(){const[,e]=yield this._semaphore.acquire();return e}))}runExclusive(e){return this._semaphore.runExclusive((()=>e()))}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Y_="extension.connected",X_="extension.suspend",eS="extension.unspecified_sender_tab",tS="extension.unknown_message_type",nS="extension.dapp_origin_mismatch",rS="extension.installed",iS="extension.updated",oS="extension.chrome_update",sS="extension.undefined_popup_event_response",aS="extension.no_original_tab",uS="extension.force_update",cS="extension.force_update_cleared",lS=(...e)=>{1};var dS=n(78545);const hS=[e.requestEthereumAccounts,e.addEthereumChain,e.switchEthereumChain,e.watchAsset,e.selectProvider,dS.Web3Method.signEthereumMessage,dS.Web3Method.signEthereumTransaction,dS.Web3Method.submitEthereumTransaction];function pS(t){switch(t.data.action){case e.requestEthereumAccounts:return function(t){return{action:e.requestEthereumAccounts,id:t.data.id,childSession:t.data.childSession}}(t);case e.addEthereumChain:return function(t){return{action:e.addEthereumChain,id:t.data.id,chainId:t.data.chainId,rpcUrls:t.data.rpcUrls,blockExplorerUrls:t.data.blockExplorerUrls,chainName:t.data.chainName,iconUrls:t.data.iconUrls,nativeCurrency:t.data.nativeCurrency}}(t);case e.switchEthereumChain:return function(t){return{action:e.switchEthereumChain,id:t.data.id,chainId:t.data.chainId,...t.data.address&&{address:t.data.address}}}(t);case e.selectProvider:return function(t){return{action:e.selectProvider,id:t.data.id,selectedProviderKey:t.data.selectedProviderKey}}(t);case e.watchAsset:return function(t){return{action:e.watchAsset,id:t.data.id,type:t.data.type,chainId:t.data.chainId,options:{address:t.data.options.address,symbol:t.data.options.symbol,decimals:t.data.options.decimals,image:t.data.options.image}}}(t);case dS.Web3Method.signEthereumMessage:case dS.Web3Method.signEthereumTransaction:case dS.Web3Method.submitEthereumTransaction:return function(e){return{action:e.data.action,id:e.data.id,request:e.data.request}}(t);default:return}}var fS,yS;function mS(e){if(e.data.action===fS.troubleshootConnection)return function(e){return{action:fS.troubleshootConnection,id:e.data.id,childSession:e.data.childSession}}(e)}!function(e){e.troubleshootConnection="troubleshootConnection"}(fS||(fS={})),function(e){e.solanaConnectionRequest="connect",e.signSolanaMessage="signMessage",e.signSolanaTransaction="signTransaction",e.signAllSolanaTransactions="signAllTransactions",e.sendSolanaTransaction="sendTransaction"}(yS||(yS={}));const gS=[yS.solanaConnectionRequest,yS.signSolanaMessage,yS.signSolanaTransaction,yS.signAllSolanaTransactions,yS.sendSolanaTransaction];function vS(e){switch(e.data.action){case yS.solanaConnectionRequest:return function(e){return{action:yS.solanaConnectionRequest,id:e.data.id}}(e);case yS.signSolanaMessage:return function(e){return{action:yS.signSolanaMessage,id:e.data.id,request:{params:{message:e.data.request.message,address:e.data.request.address}}}}(e);case yS.signSolanaTransaction:return function(e){return{action:yS.signSolanaTransaction,id:e.data.id,request:{params:{transactions:e.data.request.transactions}}}}(e);case yS.signAllSolanaTransactions:return function(e){return{action:yS.signAllSolanaTransactions,id:e.data.id,request:{params:{transactions:e.data.request.transactions}}}}(e);case yS.sendSolanaTransaction:return function(e){return{action:yS.sendSolanaTransaction,id:e.data.id,request:{params:{transactions:e.data.request.transactions,options:e.data.request.options}}}}(e);default:return}}class bS{sendOrQueueEvent;serviceWorkerMemory;constructor(e,t){this.sendOrQueueEvent=e,this.serviceWorkerMemory=t}start(){this.checkForceUpdate().catch((e=>{lS()})),chrome.alarms.create("checkForceUpdate",{periodInMinutes:5}),chrome.alarms.onAlarm.addListener((e=>{"checkForceUpdate"===e.name&&(this.checkForceUpdate().catch((e=>{lS()})),chrome.storage.local.get(["autoLockByUnixTimestamp"],(e=>{const t=e.autoLockByUnixTimestamp;void 0!==t&&t<Date.now()&&this.serviceWorkerMemory.clear()})))}))}async checkForceUpdate(){return new Promise(((e,t)=>{chrome.storage.local.get(["minimumVersion","hasForcedUpdate"],(async n=>{let r=n.minimumVersion;const i=n.hasForcedUpdate;try{if(r=await this.fetchMinimumVersion(),chrome.storage.local.set({minimumVersion:r}),!r)return this.setPopup("index.html?inPageRequest=false"),chrome.storage.local.set({hasForcedUpdated:!1}),i&&this.sendOrQueueEvent(cS,{loggingId:"7e5b0380-0d1b-4523-bc19-ebee4a987414"}),void e(!1)}catch(e){lS()}const o=chrome.runtime.getManifest().version;if(!r||!o)return void t(new Error("Couldn't check minimum version"));if(!(this.compareVersion(r,o)>0))return this.setPopup("index.html?inPageRequest=false"),chrome.storage.local.set({hasForcedUpdated:!1}),i&&this.sendOrQueueEvent(cS,{loggingId:"7e5b0380-0d1b-4523-bc19-ebee4a987414",currentVersion:o,minimumVersion:r}),void e(!1);this.sendOrQueueEvent(uS,{loggingId:"0868c1f5-118d-405d-85cf-b2f201a87a48",currentVersion:o,minimumVersion:r}),this.setPopup("forceUpdate.html"),this.serviceWorkerMemory.clear(),chrome.storage.local.set({hasForcedUpdated:!0}),e(!0)}))}))}compareVersion(e,t){const n=e.split("."),r=t.split("."),i=e=>/^\d+$/.test(e);if(!n.every(i)||!r.every(i))return NaN;for(;n.length<r.length;)n.push("0");for(;r.length<n.length;)r.push("0");const o=n.map(Number),s=r.map(Number);for(let e=0;e<o.length;++e){if(o[e]>s[e])return 1;if(o[e]<s[e])return-1}return 0}async fetchMinimumVersion(){return fetch("https://api.wallet.coinbase.com/rpc/v2/getMinimumSupportedBuilds").then((async e=>{if(e.status<200||e.status>=400)throw new Error("Invalid response");return(await e.json())?.result?.extension}))}setPopup(e){3===chrome.runtime.getManifest().manifest_version?chrome.action.setPopup({popup:e}):chrome.browserAction.setPopup({popup:e})}}var wS=n(88767);class _S{hasInitializedAnalytics=!1;eventQueue=[];constructor(){this.sendOrQueueEvent=this.sendOrQueueEvent.bind(this)}initializeAnalytics(e){Xd({amplitudeApiKey:"4b5c59547a46317aee88399fdfc8f1f3",isProd:!0,platform:Zc.server,onError:e=>{lS(e?.message)},projectName:"wallet_extension_service_worker",showDebugLogging:$_,version:z_()}),chrome.storage.local.get([Ve.amplitudeDeviceId],(t=>{let n=t[Ve.amplitudeDeviceId];if(!n&&e)n=(0,wS.Z)(),chrome.storage.local.set({[Ve.amplitudeDeviceId]:n});else if(!n)return void chrome.storage.onChanged.addListener((e=>{const t=e[Ve.amplitudeDeviceId]?.newValue;t&&!this.hasInitializedAnalytics&&(eh({deviceId:t}),this.hasInitializedAnalytics=!0,this.flushEventQueue())}));eh({deviceId:n}),this.hasInitializedAnalytics=!0,this.flushEventQueue()}))}flushEventQueue(){0!==this.eventQueue.length&&(lS(this.eventQueue.length),this.eventQueue.forEach((({eventName:e,eventProperties:t})=>{vf(e,{...t,...this.eventMetadata})})),this.eventQueue=[])}get eventMetadata(){return{userAgent:navigator.userAgent,chromeVersion:navigator.userAgent.split("Chrome/")[1],appVersion:chrome.runtime.getManifest().version}}sendOrQueueEvent(e,t){this.hasInitializedAnalytics?vf(e,{...t,...this.eventMetadata}):(lS(),this.eventQueue.push({eventName:e,eventProperties:t}))}}(new class{callbackMap=new Map;popupUIResponseMap=new Map;originsMap=new Map;web3OriginTabId=null;serviceWorkerMemory=new re;_currPopupTab=null;_currPopupWin=null;_windowListenerCancelCallback;checkingWindowLock=new J_;hasStartedWindowOrTabOpen=!1;serviceWorkerEventManager=new _S;start(){var e;if(e={version:z_(),platform:Zc.web},rh=rh?{...rh,...e}:e,3===chrome.runtime.getManifest().manifest_version&&"undefined"!=typeof localStorage)return;new bS(this.serviceWorkerEventManager.sendOrQueueEvent,this.serviceWorkerMemory).start(),chrome.runtime.onMessage.addListener(((e,t,n)=>{let r,i;switch(e.type){case"extensionUIRequest":return n(),void 0===t.tab||void 0===t.tab.id||void 0===t.tab.url||void 0===t.tab.title?(lS(),this.serviceWorkerEventManager.sendOrQueueEvent(eS,{loggingId:"53b228aa-c93f-4c21-8648-7e4fa55acd61"}),!1):(new URL(t.tab.url).origin!==e.data.origin&&this.serviceWorkerEventManager.sendOrQueueEvent(nS,{loggingId:"53b228aa-c93f-4c21-8648-7e4fa55acd61",senderUrl:new URL(t.tab.url).origin,messageOrigin:e.data.origin}),r=e?.data.dappInfo.dappLogoURL,i=t?.tab.favIconUrl,this.handleExtensionUIRequestEvent({event:e,tabId:t.tab?.id,dappName:t.tab.title,dappLogoURL:r,dappLogoURLAlt:i,dappURL:t.tab.url,hasMultipleProviders:Boolean(e.data.hasMultipleProviders)}));case"extensionUIResponse":return n(),this.handlePopupResponseEvent(e);case"popupUIRequest":return n(this.popupUIResponseMap.get(e.data.id)),!0;case ne:return this.serviceWorkerMemory.handleRequest(e.data,n),!0;case"saveDomainsRequest":{const r=[...e.data],{url:i}=t,o=((e,t=!1)=>{let n="";try{n=new URL(e).hostname.toLocaleLowerCase(),t&&(n=n.replace("www.",""))}catch{n=""}return n})(i||"",!0);o&&!r.includes(o)&&r.push(o);const s={domains:r,url:i||""};return t.tab?.id?(this.originsMap.set(t.tab.id,s),n(s)):n(null),!0}case"updateActiveEthAddress":return chrome.storage.local.set({[Ve.activeEthAddress]:e.data.address}),!1;case"switchAddress":return chrome.tabs.query({active:!0,currentWindow:!0},(t=>{t[0]?.id&&(e.data.provider===E_&&chrome.storage.local.set({[Ve.activeEthAddress]:e.data.address}),chrome.tabs.sendMessage(t[0].id,{type:"switchAddress",provider:e.data.provider,address:e.data.address}))})),!1;case"requestActiveAddress":{const t=e.data;return chrome.storage.local.get([Ve.activeEthAddress],(e=>{const r=e[Ve.activeEthAddress];r&&We.allConnections.subscribe((e=>{const i=e.find((e=>new URL(e.dappURL).hostname.toLowerCase()===t.toLowerCase()&&e.connectedAddress?.toLowerCase()===r.toLowerCase()));n(i?r:null)}))})),!0}case"unloadDomainsRequest":{const e=t.tab?.id||0,r=this.originsMap.get(e);return this.originsMap.delete(e),n(r),!0}case"getDomainsFromBrowserRequest":{const t={domains:[],url:""};return e.data?.tabId?n(this.originsMap.get(e.data.tabId)||t):this.web3OriginTabId?n({...this.originsMap.get(this.web3OriginTabId)||t,web3OriginTabId:this.web3OriginTabId}):n(t),!0}case"checkUrlWithBlocklist":{const t=e.data,r=()=>{this.serviceWorkerEventManager.sendOrQueueEvent("blocklist.blocklist_fetch_error",{triggeredByExtension:!1,dappUrl:t,loggingId:"ae57da5a-1870-493d-b6ab-9554d76f635e"})};return q_().then((e=>{e.blocklist_integration?(async({domains:e},t)=>{const n=e.map((e=>e.replace("www.","")));try{return vf("blocklist.request_made",{loggingId:"eea42880-0aa3-4ff2-a9e2-2196f160dea8",dappUrl:n.toString()}),await B_("blocklist",{domains:n})}catch(e){return(0,Ke.eK)({error:new Error("Blocklist API is not fetching data"),context:"http_error",metadata:{domains:n.toString()}}),void(t&&t())}})({domains:[t]},r).then((e=>{e?e.result.length?(this.serviceWorkerEventManager.sendOrQueueEvent("blocklist.local_hit_blocklist_hit",{loggingId:"ebbb1a19-762d-48e7-ad27-a94d8b933e5b",dappUrl:t}),n(!0)):(this.serviceWorkerEventManager.sendOrQueueEvent("blocklist.local_hit_blocklist_miss",{loggingId:"0f5f81c5-23c6-4f2b-82cb-feab3d308912",dappUrl:t}),n(!1)):n(!1)})):n(void 0)})),!0}default:return lS(e.type),this.serviceWorkerEventManager.sendOrQueueEvent(tS,{loggingId:"e706cd24-59a0-4edb-8171-7c6706620046",type:e.type}),n(),!1}})),chrome.runtime.onConnect.addListener((e=>{this.serviceWorkerEventManager.sendOrQueueEvent(Y_,{loggingId:"2b0641f6-28bc-4738-bdc5-3a0c9150db3e"}),lS(),"extensionUIRequest"===e.name&&e.onMessage.addListener(lS)})),chrome.runtime.onSuspend.addListener((()=>{lS(),this.serviceWorkerEventManager.sendOrQueueEvent(X_,{loggingId:"26d0494e-d498-46d5-88aa-13f93ee5d0c8"})})),chrome.runtime.onInstalled.addListener((e=>{switch(lS(),e.reason){case"install":this.serviceWorkerEventManager.sendOrQueueEvent(rS,{loggingId:"3429023f-801a-4827-91ec-ee42c8311709"});break;case"update":this.serviceWorkerEventManager.sendOrQueueEvent(iS,{loggingId:"2ae9b9c8-fbd8-4558-8dfe-a4f817f9965b"}),chrome.storage.local.set({[Ve.extensionWasUpdated]:!0});break;case"chrome_update":this.serviceWorkerEventManager.sendOrQueueEvent(oS,{loggingId:"d193911b-0f9c-4361-8eaf-e28e5209d844"})}if("install"!==e.reason)return;chrome.tabs.create({url:chrome.runtime.getURL("index.html?launchedForOnboarding=true")})})),this.listenForTabsClosingAndCancelWeb3Request();const t=e=>{};chrome.windows.onRemoved.addListener(t),chrome.windows.onRemoved.removeListener(t),this.serviceWorkerEventManager.initializeAnalytics(!0)}handlePopupResponseEvent=t=>{if(lS(),void 0===t.data.id)return lS(),this.serviceWorkerEventManager.sendOrQueueEvent(sS,{loggingId:"f72476d3-9f7b-4de9-be09-68ecc91a7ed3"}),!1;const n=this.callbackMap.get(t.data.id),r=n?.tabId,i=n?.action;if(void 0===r)return lS(),this.serviceWorkerEventManager.sendOrQueueEvent(aS,{loggingId:"c3ce9894-b206-4d09-a1e3-658f5d448b3d"}),!1;if(this.callbackMap.delete(t.data.id),chrome.tabs.sendMessage(r,t),i!==e.requestEthereumAccounts)return!0;const o=new Array;return this.callbackMap.forEach(((e,n)=>{e.tabId===r&&(o.push(n),t.data.id=n,lS(),chrome.tabs.sendMessage(r,t))})),o.forEach((e=>{this.callbackMap.delete(e)})),!0};handleExtensionUIRequestEvent({event:t,tabId:n,dappName:r,dappLogoURL:i,dappLogoURLAlt:o,dappURL:s,hasMultipleProviders:a}){return this.checkIfWindowIsClosedAndClearCurrPopupWindow().then((async()=>{if(!t.data.id)return void lS();if(this.callbackMap.get(t.data.id))return void lS();if(s.startsWith("chrome-extension://"))throw Error("The service worker is handling an extension ui request from the extension itself, shouldn't happen");const u=Array.from(this.callbackMap.values()).find((e=>e.tabId===n))?.tabId;if(this.callbackMap.set(t.data.id,{tabId:n,action:t.data.action}),void 0===t.data.action)return void lS();if(void 0!==u&&t.data.action===e.requestEthereumAccounts&&this.callbackMap.size>1){if(this._currPopupWin)return lS(),void chrome.windows.update(this._currPopupWin,{focused:!0});if(this._currPopupTab)return lS(),void chrome.tabs.update(this._currPopupTab,{highlighted:!0})}let c=mS;if(l=t.data.action,hS.includes(l))c=pS;else if(function(e,t){return t===x_&&gS.includes(e)}(t.data.action,t.provider)){if(!await async function(e,t){return new Promise((n=>{q_().then((r=>{const i=r.solana_web3_provider;void 0===i||i||(t({type:"extensionUIResponse",data:{id:e,action:ze.featureFlagOff,error:new Error("Feature flag is off")}}),n(!1)),n(!0)})).catch((e=>{(0,Ke.eK)(e),n(!0)}))}))}(t.data.id,this.handlePopupResponseEvent))return;c=vS}var l;const d={...c(t),dappInfo:{dappName:r,dappLogoURL:i,dappLogoURLAlt:o,dappURL:s},provider:t.provider,originTab:n};if("switchEthereumChain"===d.action)return this.switchEthereumChain(d),!0;this.makePopupRequest(t.data.action,{type:"extensionUIRequest",data:d},a,t.data.id)})),!0}async switchEthereumChain(e){await We.updateChainIdForHost({...e.dappInfo,...e.address&&{connectedAddress:e.address.toLocaleLowerCase()},overriddenChainId:e.chainId}).toPromise(),this.handlePopupResponseEvent({type:"extensionUIResponse",data:{id:e.id,action:t.switchEthereumChainApprove,chainId:e.chainId,blockchain:Qh}})}makePopupRequest(e,t,n,r,i){chrome.windows.getCurrent((o=>{let s,a;if(chrome.tabs.query({active:!0,currentWindow:!0},(e=>{const[t]=e;t&&(this.web3OriginTabId=t.id||null)})),void 0!==o&&void 0!==o.width&&void 0!==o.left&&void 0!==o.top){const e=n?0:-296;s=o.width+o.left+e,a=o.top}else s=0,a=0;const u="fullscreen"===o.state;if(lS(),(this._currPopupTab||this._currPopupWin||this.hasStartedWindowOrTabOpen)&&this.callbackMap.size>1)return chrome.runtime.sendMessage(t),this._currPopupWin&&chrome.windows.update(this._currPopupWin,{focused:!0}),void(this._currPopupTab&&chrome.tabs.update(this._currPopupTab,{highlighted:!0}));this.popupUIResponseMap.set(r,t);const c=`index.html?inPageRequest=true&type=extensionUIRequest&action=${encodeURIComponent(e)}&id=${encodeURIComponent(r)}${i?`&step=${encodeURIComponent(i)}`:""}`;if(u){const e=`${c}&fullScreen=true`;this.hasStartedWindowOrTabOpen=!0,chrome.tabs.create({url:chrome.runtime.getURL(e)},(e=>{this.hasStartedWindowOrTabOpen=!1,void 0!==e.id&&(this._currPopupTab=e.id)}))}else this._windowListenerCancelCallback?.(),this._windowListenerCancelCallback=void 0,this.checkingWindowLock.acquire().then((e=>{this.hasStartedWindowOrTabOpen=!0,chrome.windows.create({url:chrome.runtime.getURL(c),type:"popup",left:s,top:a,height:625,width:375},(t=>{e(),this.hasStartedWindowOrTabOpen=!1,void 0!==t?.id&&(this._currPopupWin=t.id,this._windowListenerCancelCallback=this.listenForWindowsClosingAndCancelWeb3Request())}))}))}))}listenForTabsClosingAndCancelWeb3Request(){chrome.tabs.onRemoved.addListener((e=>{e===this._currPopupTab&&(this._currPopupTab=null,this.callbackMap.forEach(((e,t)=>{chrome.tabs.sendMessage(e.tabId,{type:"extensionUIResponse",data:{id:t,action:r.web3RequestCanceled,error:K_(o.WalletUIError.UserRejectedRequest)}})})),this.callbackMap.clear())}))}async checkIfWindowIsClosedAndClearCurrPopupWindow(){return new Promise((e=>{this.checkingWindowLock.acquire().then((t=>{chrome.windows.getAll((n=>{if(t(),!this._windowListenerCancelCallback)return void e();n.find((e=>e.id===this._currPopupWin))||(this._currPopupWin=null,this._windowListenerCancelCallback?.(),this._windowListenerCancelCallback=void 0),e()}))}))}))}listenForWindowsClosingAndCancelWeb3Request(){let e=!1;return setTimeout((()=>{if(!this._currPopupWin||e)return e=!0,void(this._windowListenerCancelCallback=void 0);this.checkingWindowLock.acquire().then((t=>{chrome.windows.getAll((n=>{if(t(),e)return;n.find((e=>e.id===this._currPopupWin))||(this._currPopupWin=null,e=!0,this._windowListenerCancelCallback=void 0,this.callbackMap.forEach(((e,t)=>{chrome.tabs.sendMessage(e.tabId,{type:"extensionUIResponse",data:{id:t,action:r.web3RequestCanceled,error:K_(o.WalletUIError.UserRejectedRequest)}})})),this.callbackMap.clear())})),this.listenForWindowsClosingAndCancelWeb3Request()}))}),5e3),()=>{e=!0}}}).start()})()})();
//# sourceMappingURL=service.js.map