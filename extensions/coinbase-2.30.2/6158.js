"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[6158],{40004:(e,a,t)=>{t.d(a,{t:()=>x});var n,r,o,s=t(2784),i=t(83112),c=t(62197),d=t.n(c),l=t(46101),u=t(1620),m=t(38438),f=t(66016),p=t(64893),y=t(72196),w=t(73881),C=t(99059),M=t(78012),b=t(11803),g=t(91427),D=t(3758);function x(e){var a,t,n=(0,i.Z)(),r=n.formatMessage,o=n.formatDate,c=null!==(a=(0,p.e)(e.blockchain.rawValue))&&void 0!==a?a:["XRP","XLM"].includes(e.blockchain.rawValue)?new(d())(0):void 0,x=(0,u.$)(),v=null!==(t=e.toAddress)&&void 0!==t?t:"",h=e.isSent,E=(0,f.B)(),k=(0,m.M)(e),A=w.w5.generateId({blockchain:e.blockchain,currencyCode:e.currencyCode,network:e.network,contractAddress:e.contractAddress,selectedIndex:c}),T=(0,D.C)(e,x),L=(0,s.useMemo)((function(){return E?T:T?"".concat(e.isSent?"-":"+").concat(T):void 0}),[E,T,e.isSent]),S=x.formatToCrypto({currencyCode:e.currencyCode,decimals:e.tokenDecimal,value:e.amount,includeCode:!0,maxDisplayDecimals:new(d())(6)}),I=e.state===g.Z.PENDING,O=!e.confirmedAt&&e.state===g.Z.CONFIRMED,V=(0,s.useMemo)((function(){if(!I){if(O)return o(new Date,{hour:"numeric",minute:"2-digit"});if(e.confirmedAt)return e.confirmedAt.getTime()>C.Tq?o(e.confirmedAt,{hour:"numeric",minute:"2-digit"}):o(e.confirmedAt,{month:"short",day:"2-digit",year:"numeric"})}}),[o,O,I,e.confirmedAt]),P=(0,s.useMemo)((function(){if(I){var a=k?"".concat(r(b.s.swap)," \u2022 ").concat(r(b.s.pending)):"".concat(r(b.s.send)," \u2022 ").concat(r(b.s.pending));if(e.pendingTxData)switch(e.pendingTxData.txSubmissionType){case"cancel":return"".concat(r(b.s.cancel)," \u2022 ").concat(r(b.s.pending));case"speedUp":return"".concat(r(b.s.speedUp)," \u2022 ").concat(r(b.s.pending));default:return a}return a}return e.state===g.Z.DROPPED?r(b.s.replaced):e.state===g.Z.FAILED?"".concat(r(b.s.failed)," \u2022 "):k?"".concat(r(b.s.swap)," \u2022 "):e.isSent?"".concat(r(b.s.send)," \u2022 "):"".concat(r(b.s.receive)," \u2022 ")}),[I,e.state,e.isSent,e.pendingTxData,k,r]),F=(0,s.useMemo)((function(){return e.state===g.Z.FAILED?"failed":e.state===g.Z.DROPPED?"replaced":k?"swap":e.isSent?"send":"receive"}),[e,k]),R=(0,s.useMemo)((function(){return V?"".concat(P," ").concat(V):P}),[P,V]),Z=(0,s.useMemo)((function(){return h?e.entityDisplayName(!0):(0,M.ro)(v,6,4)}),[e,h,v]),N=(0,y.r)(A),G=(0,s.useMemo)((function(){return!!N&&(0,l.FM)(N.network)}),[N]),H=(0,s.useMemo)((function(){return h&&e.feeCurrencyCode.rawValue===e.currencyCode.rawValue?x.formatToCrypto({currencyCode:e.currencyCode,decimals:e.feeCurrencyDecimal,value:e.amount.add(e.fee),includeCode:!0}):S}),[h,e.feeCurrencyCode.rawValue,e.currencyCode,e.feeCurrencyDecimal,e.amount,e.fee,S,x]);return{walletId:A,toAddress:Z,txnDescription:R,fiatValueDisplay:L,cryptoValueDisplay:S,totalCrypto:H,transactionIconType:F,is1559Enabled:G}}e=t.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(x,"useIntl{{ formatMessage, formatDate }}\nuseActiveWalletIndex{}\nuseCurrencyFormatter{currencyFormatter}\nusePrivacyMode{isPrivacyModeEnabled}\nuseIsSwapTransaction{isSwapTransaction}\nuseMemo{fiatValueDisplay}\nuseMemo{transactionDateTime}\nuseMemo{transactionType}\nuseMemo{transactionIconType: TransactionIconType}\nuseMemo{txnDescription}\nuseMemo{toAddressDisplay}\nuseSelectWallet{wallet}\nuseMemo{is1559Enabled}\nuseMemo{totalCrypto}",(function(){return[i.Z,p.e,u.$,f.B,m.M,y.r]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(x,"useFormattedTransactionListItem","/workspaces/libs/data/stores/Transactions/hooks/useFormattedTransactionListItem.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},66158:(e,a,t)=>{t.d(a,{x:()=>w});var n=t(2784),r=t(63470),o=t(83112),s=t(28993),i=t(53610),c=t(1620),d=(t(17224),t(11803)),l=t(66016),u=t(78012),m=t(91427),f=t(3758);(0,r.vU)({second:{id:"3c6rCZ",defaultMessage:"{time} second"},seconds:{id:"A3adkw",defaultMessage:"{time} seconds"},minute:{id:"bG9nuR",defaultMessage:"{time} minute"},minutes:{id:"LPQ3uK",defaultMessage:"{time} minutes"},hour:{id:"Fn+73A",defaultMessage:"{time} hour"},hours:{id:"FACkPK",defaultMessage:"{time} hours"},day:{id:"DK8Mje",defaultMessage:"{time} day"},days:{id:"2mHvRN",defaultMessage:"{time} days"}});var p=t(40004);const y=(0,r.vU)({viewOnExplorerLabel:{id:"XQ+USC",defaultMessage:"View on block explorer"},viewOnExplorerLabelEtherscan:{id:"B+Z5uR",defaultMessage:"View on Etherscan"},viewOnExplorerLabelSolana:{id:"iOsIHm",defaultMessage:"View on Solana explorer"},viewOnExplorerLabelXRP:{id:"CSdVrz",defaultMessage:"View on XRP scanner"},viewOnExplorerLabelCompact:{id:"LGMe2j",defaultMessage:"Block explorer"},viewOnExplorerLabelEtherscanCompact:{id:"pkdZMj",defaultMessage:"Etherscan"},viewOnExplorerLabelSolanaCompact:{id:"CEmYQP",defaultMessage:"Solana"},viewOnExplorerLabelXRPCompact:{id:"m7gH5u",defaultMessage:"XRP scanner"}});function w(e){const{is1559Enabled:a,walletId:t,toAddress:r,txnDescription:w,fiatValueDisplay:C,cryptoValueDisplay:M,transactionIconType:b,totalCrypto:g}=(0,p.t)(e),{formatMessage:D,formatDate:x}=(0,o.Z)(),v=(0,c.$)(),h=(0,l.B)(),E=e.fromAddress??"",k=e.isSent,A=(0,n.useMemo)((()=>e.network?.asChain()?.displayName),[e]),T=v.formatToFiat(e.currencyCode,e.tokenDecimal,e.amount,!1,e.contractAddress,e.network),L=(0,f.C)(e,v),S=(0,n.useMemo)((()=>k?(0,u.ro)(E,6,4):e.entityDisplayName(!0)),[e,k,E]),I=(0,n.useCallback)((e=>`${x(e,{hour:"numeric",minute:"2-digit"})} ${x(e,{year:"numeric",month:"short",day:"2-digit"})}`),[x]),O=I(e.createdAt),V=e.confirmedAt?I(e.confirmedAt):void 0,P=e.confirmedAt?`${x(e.confirmedAt,{hour:"2-digit",minute:"2-digit"})} \u2022 ${x(e.confirmedAt,{year:"numeric",month:"short",day:"2-digit"})}`:`Submitted ${x(e.createdAt,{hour:"2-digit",minute:"2-digit"})}`,F=(0,n.useMemo)((()=>e.state===m.Z.PENDING&&!!e.pendingTxData),[e.pendingTxData,e.state]),R=(0,n.useMemo)((()=>{if(h)return c.u;const a=v.formatToCrypto({currencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.fee,includeCode:!0}),t=v.formatToFiatFeeRange(e.feeCurrencyCode,e.feeCurrencyDecimal,e.fee,!1,e.confirmedAt?void 0:e.pendingTxData?.lowerBoundValue,e.network);return t?a?`${t} \u2022 ${a}`:t:a}),[h,v,e.feeCurrencyCode,e.feeCurrencyDecimal,e.fee,e.confirmedAt,e.pendingTxData?.lowerBoundValue,e.network]),Z=(0,n.useMemo)((()=>h?c.u:T?`${T} \u2022 ${M}`:M),[M,T,h]),N=e.txHash?e.blockchain.blockExplorerUrl(e.txHash,e.network):"",G=(0,n.useMemo)((()=>(N?new URL(N):void 0)?.hostname.toLowerCase().endsWith("etherscan.io")),[N]),H=(0,n.useMemo)((()=>{if(G)return D(y.viewOnExplorerLabelEtherscan);switch(e.blockchain.rawValue){case i.yC:return D(y.viewOnExplorerLabelSolana);case s.nK:return D(y.viewOnExplorerLabelXRP);default:return D(y.viewOnExplorerLabel)}}),[D,e.blockchain.rawValue,G]),$=(0,n.useMemo)((()=>{if(G)return D(y.viewOnExplorerLabelEtherscanCompact);switch(e.blockchain.rawValue){case i.yC:return D(y.viewOnExplorerLabelSolanaCompact);case s.nK:return D(y.viewOnExplorerLabelXRPCompact);default:return D(y.viewOnExplorerLabelCompact)}}),[D,e.blockchain.rawValue,G]),U=(0,n.useMemo)((()=>{switch(e.state){case m.Z.PENDING:return"cancel"===e.pendingTxData?.txSubmissionType?D(d.s.cancel):D(d.s.pending);case m.Z.FAILED:return D(d.s.failed);case m.Z.CONFIRMED:return D(d.s.completed);case m.Z.DROPPED:return D(d.s.replaced);default:throw new Error("unexpected transaction state")}}),[D,e.state,e.pendingTxData?.txSubmissionType]);return{fiatValue:T,networkFee:R,networkName:A,fromAddress:S,dateAndTime:P,submittedDate:O,completedOnDate:V,blockExplorerUrl:N,blockExplorerTitle:H,blockExplorerCompactTitle:$,totalFiat:L,totalCrypto:g,walletId:t,is1559Enabled:a,valueDisplay:Z,toAddress:r,txnDescription:w,fiatValueDisplay:C,cryptoValueDisplay:M,transactionIconType:b,showPendingActions:F,status:U}}},38438:(e,a,t)=>{t.d(a,{M:()=>o});var n=t(2784);const r=["0xdb6f1920a889355780af7570773609bd8cb1f498","0xe66b31678d6c16e9ebf358268a790b763c133750","0xdef1c0ded9bec7f1a1670819833240f027b25eff"];function o(e){return(0,n.useMemo)((()=>!(!e?.toAddress||!r.includes(e.toAddress))),[e])}},11803:(e,a,t)=>{t.d(a,{s:()=>n});const n=(0,t(63470).vU)({pending:{id:"at6uy4",defaultMessage:"Pending"},replaced:{id:"cEdlAk",defaultMessage:"Replaced"},failed:{id:"IEesFr",defaultMessage:"Failed"},completed:{id:"/dwzd+",defaultMessage:"Complete"},send:{id:"HUNADM",defaultMessage:"Send"},receive:{id:"ut8OdT",defaultMessage:"Receive"},speedUp:{id:"01GNtO",defaultMessage:"Speed up"},cancel:{id:"WotR2r",defaultMessage:"Cancel"},swap:{id:"MdvQnv",defaultMessage:"Swap"}})},3758:(e,a,t)=>{function n(e,a){return a.formatToFiatTotalRange({feeCurrencyCode:e.feeCurrencyCode,currencyCode:e.currencyCode,contractAddress:e.contractAddress,network:e.network,fee:e.fee,lowerBoundFee:e.pendingTxData?.lowerBoundValue,amount:e.amount,isConfirmed:Boolean(e.confirmedAt),decimals:e.tokenDecimal,includeFee:e.isSent,feeDecimals:e.feeCurrencyDecimal})}t.d(a,{C:()=>n})}}]);
//# sourceMappingURL=6158.js.map