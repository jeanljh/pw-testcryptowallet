/*! For license information please see 7552.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[7552],{83525:(e,t,n)=>{n.d(t,{z:()=>c});var r,a=n(2784),o=n(68018),s=n(76776),i=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},u=function(e){var t=e.target;t.style.height="auto",t.style.height="".concat(t.scrollHeight+4,"px")};function c(e){var t=e.handleInput,n=e.blocklistKeys,r=e.hasError,o=e.maxLength,s=e.testID,l=e.autoFocus,c=void 0!==l&&l,d=(0,a.useCallback)((function(e){u(e),t(e)}),[t]),f=(0,a.useCallback)((function(e){var t=e.code;null!=n&&n.includes(t)&&e.preventDefault()}),[n]);return(0,i.jsx)(p,{onKeyPress:f,onChange:d,maxLength:o,rows:1,hasError:r,"data-testid":s,spellCheck:!1,autoFocus:c})}l(c,"useCallback{handleChange}\nuseCallback{handlePress}");var d,f,p=(0,o.Z)("textarea")({name:"Textarea",class:"t188r7fg",vars:{"t188r7fg-2":[function(e){return e.hasError?s.palette.negative:s.palette.primary}]}});n(91778),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(u,"resizeTextarea","/workspaces/apps/extension/src/components/ResizableTextarea.tsx"),d.register(c,"ResizableTextarea","/workspaces/apps/extension/src/components/ResizableTextarea.tsx"),d.register(p,"Textarea","/workspaces/apps/extension/src/components/ResizableTextarea.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},93886:(e,t,n)=>{n.d(t,{p:()=>l});var r,a=n(48972),o=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var s,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e){var t=e.errorContent;return(0,o.jsx)(a.VStack,{alignItems:"center",justifyContent:"center",height:"100%",spacingHorizontal:1,children:t})}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(l,"SearchResultError","/workspaces/apps/extension/src/components/SearchSuggestionsList/SearchResultError.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},39758:(e,t,n)=>{n.d(t,{w:()=>d});var r,a=n(2784),o=n(53052),s=n(52163),i=n(61641),l=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,c,d=(0,a.memo)((function(e){var t=e.title,n=e.description,r=e.media,a=e.onPress,u=e.testID;return(0,l.jsx)(s.Pressable,{backgroundColor:"background",as:"button",noScaleOnPress:!0,onPress:a,testID:u,children:(0,l.jsx)(o.ListCell,{title:(0,l.jsx)(i.TextBody,{as:"p",children:t}),description:(0,l.jsx)(i.TextLabel2,{as:"p",color:"foregroundMuted",children:n}),media:r})})}));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(d,"SearchSuggestionCell","/workspaces/apps/extension/src/components/SearchSuggestionsList/SearchSuggestionCell.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},38287:(e,t,n)=>{n.d(t,{U:()=>h});var r,a=n(2784),o=n(32177),s=n(48972),i=n(61641),l=n(93886),u=n(39758),c=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,f,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=(0,a.memo)(p((function(e){var t=e.wallet,n=e.suggestions,r=e.title,d=e.handleSuggestionClick,f=e.searchQuery,p=e.errorContent,h=e.upsellComponent,g=(0,o.n)(t).isSuggestionsEnabled,y=(0,a.useCallback)((function(e){return function(){return null==d?void 0:d(e)}}),[d]),v=(0,a.useMemo)((function(){return g||0!==(null==f?void 0:f.length)?p?(0,c.jsx)(l.p,{errorContent:p}):n.map((function(e,t){var n=e.title,r=e.description,a=e.media,o=e.item,s=e.key;return(0,c.jsx)(u.w,{title:n,description:r,onPress:y(o),media:a,testID:"suggestion-item"},s.toString()+t.toString())})):h}),[p,y,g,null==f?void 0:f.length,n,h]);return(0,c.jsxs)(s.VStack,{height:"100%",overflow:"scroll",testID:"suggestions-list",children:[r?(0,c.jsx)(i.TextLabel1,{as:"span",color:"foreground",spacing:3,spacingBottom:1,children:r}):null,v]})}),"useIsENSAndUsernameSendEnabled{{ isSuggestionsEnabled }}\nuseCallback{handlePress}\nuseMemo{suggestionListComponent}",(function(){return[o.n]})));(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(h,"SearchSuggestionsList","/workspaces/apps/extension/src/components/SearchSuggestionsList/SearchSuggestionsList.tsx"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},2244:(e,t,n)=>{n.d(t,{I:()=>S});var r,a=n(2784),o=n(63470),s=n(83112),i=n(17726),l=n(11071),u=n(71444),c=n(12059),d=n(8476),f=n(53052),p=n(48972),h=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,y,v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,o.vU)({title:{id:"XB4/lj",defaultMessage:[{type:0,value:"Change speed"}]},fastPresetTitle:{id:"AHURpK",defaultMessage:[{type:0,value:"Fast"}]},normalPresetTitle:{id:"HJCEaL",defaultMessage:[{type:0,value:"Normal"}]},slowPresetTitle:{id:"G7UHQ3",defaultMessage:[{type:0,value:"Slow"}]},customCellTitle:{id:"rWNKmm",defaultMessage:[{type:0,value:"Custom"}]},fastPresetTime:{id:"l8uLpc",defaultMessage:[{type:0,value:"~15 sec"}]},normalPresetTime:{id:"HNQ7JV",defaultMessage:[{type:0,value:"~30 sec"}]},slowPresetTime:{id:"yQwV0U",defaultMessage:[{type:0,value:"45 sec+"}]},customCellDescription:{id:"P0FNv2",defaultMessage:[{type:0,value:"Manual Setting"}]}});function b(){return(0,h.jsxs)(p.VStack,{spacingHorizontal:1,children:[(0,h.jsx)(f.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,h.jsx)(f.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,h.jsx)(f.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0})]})}function S(e){var t=e.wallet,n=e.toAddress,r=e.unsignedTx,o=e.isEntireBalance,g=e.initialGasLimit,y=e.handleGenerateTx,v=e.goBack,S=e.goToCustom,w=e.flowType,x=(0,s.Z)().formatMessage,k=(0,u.T)(g,t.network);(0,d.GT)(w);var C=(0,a.useCallback)((function(e){if(!r)return null;var a={kind:o?"EntireBalance":"Amount",value:r.transferValue};(0,c.o)({wallet:t,transactionAmount:a,recipientAddress:n,metadata:r.metadata,blockchainConfig:{txType:"1559",nonce:void 0,dataBuffer:r.data,selectedBaseFeePerGas:e.baseFeePerGas,selectedMaxFeePerGas:e.maxFeePerGas,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas,selectedGasLimit:g}}).then(y)}),[y,g,o,n,r,t]),L=(0,a.useCallback)((function(e,t){return function(){switch(t){case"fast":(0,d.E0)(w);break;case"normal":(0,d.Rw)(w);break;case"slow":(0,d.F7)(w)}return C(e)}}),[w,C]);return(0,h.jsxs)(p.VStack,{height:l.UV,children:[(0,h.jsx)(i.w,{onBack:v,title:x(m.title)}),k?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.ListCell,{title:x(m.fastPresetTitle),description:x(m.fastPresetTime),detail:k.fast.fiatRangeString,subdetail:k.fast.cryptoRangeString,onPress:L(k.fast,"fast"),testID:"adjust-gas-preset-fast-cell"}),(0,h.jsx)(f.ListCell,{title:x(m.normalPresetTitle),description:x(m.normalPresetTime),detail:k.normal.fiatRangeString,subdetail:k.normal.cryptoRangeString,onPress:L(k.normal,"normal"),testID:"adjust-gas-preset-normal-cell"}),(0,h.jsx)(f.ListCell,{title:x(m.slowPresetTitle),description:x(m.slowPresetTime),detail:k.slow.fiatRangeString,subdetail:k.slow.cryptoRangeString,onPress:L(k.slow,"slow"),testID:"adjust-gas-preset-slow-cell"})]}):(0,h.jsx)(b,{}),(0,h.jsx)(f.ListCell,{title:x(m.customCellTitle),subdetail:x(m.customCellDescription),onPress:S,testID:"adjust-gas-preset-custom-cell"})]})}v(S,"useIntl{{ formatMessage }}\nuseMinerFeeEstimates{minerFees}\nuseAdjustableGasPresetScreenViewed{}\nuseCallback{generateUnsigned1559Tx}\nuseCallback{handlePressPreset}",(function(){return[s.Z,u.T,d.GT]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(m,"messages","/workspaces/apps/extension/src/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),g.register(b,"Fallback","/workspaces/apps/extension/src/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),g.register(S,"SharedAdjustGasPresetStep","/workspaces/apps/extension/src/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},6421:(e,t,n)=>{n.d(t,{J:()=>v});var r,a=n(2784),o=n(63470),s=n(83112),i=n(875),l=n(29904),u=n(61641),c=n(46316),d=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=(0,o.vU)({authenticationRequestBtnText:{id:"/GBxf0",defaultMessage:[{type:0,value:"Sync using your Coinbase Wallet mobile app"}]}});function h(e){var t=e.onPress,n=e.onComplete,r=e.upsellMessage,o=(0,s.Z)().formatMessage,f=(0,i.G)(n),h=(0,a.useCallback)((function(){null==t||t(),f()}),[t,f]);return(0,d.jsxs)(l.VStack,{spacing:3,spacingBottom:1,alignItems:"flex-start",children:[(0,d.jsx)(u.TextLabel2,{as:"span",children:r}),(0,d.jsx)(c.Link,{variant:"label1",onPress:h,testID:"send-authentication-request-upsell-btn",children:o(p.authenticationRequestBtnText)})]})}f(h,"useIntl{{ formatMessage }}\nuseTriggerAuthenticationRequest{triggerAuthorizationRequestMessage}\nuseCallback{handleOnPress}",(function(){return[s.Z,i.G]}));var g,y,v=(0,a.memo)(h);(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(p,"messages","/workspaces/apps/extension/src/components/UpsellAuthorization/UpsellAuthorization.tsx"),g.register(h,"UpsellAuthorizationComponent","/workspaces/apps/extension/src/components/UpsellAuthorization/UpsellAuthorization.tsx"),g.register(v,"UpsellAuthorization","/workspaces/apps/extension/src/components/UpsellAuthorization/UpsellAuthorization.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},85378:(e,t,n)=>{n.r(t),n.d(t,{Send:()=>m});var r,a,o,s=n(2784),i=n(4517),l=n(11071),u=n(34291),c=n.n(u),d=n(48972),f=n(33292),p=n(19566),h=n(52322);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){var e=(0,i.UO)().tokenId,t=(0,s.useMemo)((function(){return y(y({},f.Sc),{},{currentSendTab:e?"nft":"crypto"})}),[e]);return(0,h.jsx)(d.VStack,{testID:"send-wrapper",height:l.IR,children:(0,h.jsx)(f.cr.Provider,{onSubmit:c(),initialValues:t,children:(0,h.jsx)(f.Ex.Provider,{defaultStep:e?"selectRecipient":"entry",children:(0,h.jsx)(p.v,{})})})})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useParams{{ tokenId }}\nuseMemo{formInitialValues}",(function(){return[i.UO]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(m,"Send","/workspaces/apps/extension/src/screens/Send/Send.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},19566:(e,t,n)=>{n.d(t,{v:()=>M});var r,a,o,s=n(2784),i=n(4517),l=n(90052),u=n(75277),c=n(72196),d=n(40620),f=n(95898),p=n(69909),h=n(94849),g=n(58578),y=n(92978),v=n(67900),m=n(13552),b=n(33599),S=n(73155),w=n(31172),x=n(33292),k=n(97842),C=n(52322);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){return(0,C.jsx)("div",{"data-testid":"send-stepper-fallback"})}function P(){var e,t=(0,i.UO)(),n=t.tokenId,r=t.walletId,a=t.address,o=t.chainId,L=(0,f.Z)(x.cr),j=L.walletId,A=L.collectible,E=decodeURIComponent(r),P=(0,d.r)(),M=(0,u.Rt)({wallets:P,includeCustomNetworks:!1});!(e=(0,c.r)(j.value||E))&&M&&(e=M[0]);var H=A.onChange,F=decodeURIComponent(null!=n?n:""),O=decodeURIComponent(null!=o?o:""),I=decodeURIComponent(null!=a?a:""),D=G((0,s.useState)(),2),R=D[0],B=D[1],N=(0,s.useMemo)((function(){return(0,k.K)(P,O)}),[P,O]);n&&o&&(e=N);var U=(0,l.O)({contractAddress:I,tokenId:F,chainId:O}).data,V=(0,s.useCallback)((function(){n&&o&&(H(U?T(T({},U),{},{chainId:O}):void 0),B(U))}),[n,U,H,B,O,o]);if((0,s.useEffect)((function(){V()}),[V]),n&&void 0===R)return(0,C.jsx)(C.Fragment,{});if(n&&null===R)throw new Error("collectibleToSend is undefined for send flow.");if(!e)throw new Error("Could not find a valid wallet for send flow.");return(0,C.jsxs)(x.Ex.Steps,{children:[(0,C.jsx)(y.y,{wallet:e,entryPoint:r?"assetDetailBalance":"global"},"entry"),(0,C.jsx)(m.oK,{},"selectWallet"),(0,C.jsx)(v.f,{wallet:e},"selectRecipient"),(0,C.jsx)(g.A,{wallet:e},"confirmation"),(0,C.jsx)(b.i,{},"collectibleDetail"),(0,C.jsx)(h.P,{wallet:e},"adjustGasPreset"),(0,C.jsx)(p.N,{wallet:e},"adjustGasCustom"),(0,C.jsx)(S._,{},"signOnPhone"),(0,C.jsx)(w._,{wallet:e},"status")]})}function M(){return(0,C.jsx)(s.Suspense,{fallback:(0,C.jsx)(E,{}),children:(0,C.jsx)(P,{})})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(P,"useParams{{ tokenId, walletId: paramsWalletId, address, chainId }}\nuseFields{{ walletId, collectible }}\nuseWallets{wallets}\nuseBasePortfolioWallets{portfolioWallets}\nuseSelectWallet{}\nuseState{[collectibleToSend, setCollectibleToSend]}\nuseMemo{nftWallet}\nuseTokenDetails{{ data: tokenDetail }}\nuseCallback{resolveCollectible}\nuseEffect{}",(function(){return[i.UO,f.Z,d.r,u.Rt,c.r,l.O]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(E,"Fallback","/workspaces/apps/extension/src/screens/Send/SendStepper.tsx"),a.register(P,"SendStepperComponent","/workspaces/apps/extension/src/screens/Send/SendStepper.tsx"),a.register(M,"SendStepper","/workspaces/apps/extension/src/screens/Send/SendStepper.tsx")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},69909:(e,t,n)=>{n.d(t,{N:()=>p});var r,a,o,s=n(2784),i=n(57444),l=n(62783),u=n(33292),c=n(71444),d=n(95898),f=n(52322);function p(e){var t,n,r,a,o,p=e.wallet,h=(0,l.t)(u.Ex).goBack,g=(0,d.Z)(u.cr),y=g.toAddress,v=g.cryptoAmount,m=g.transferValue,b=g.unsignedTxResult,S=g.initialGasLimit,w="EntireBalance"===(null===(t=m.value)||void 0===t?void 0:t.kind),x=(0,s.useCallback)((function(e){var t;b.onChange(e),v.onChange(null===(t=e.transaction)||void 0===t?void 0:t.transferValue),h(),h()}),[v,h,b]),k=(0,c.T)(S.value,p.network);if(!k)throw Error("Miner fees not defined");var C=(0,s.useMemo)((function(){return{gasLimit:S.value,maxFee:null==k?void 0:k.normal.maxFeePerGas,maxPriorityFee:null==k?void 0:k.normal.maxPriorityFeePerGas,baseFee:null==k?void 0:k.normal.baseFeePerGas}}),[k,S.value]);return(0,f.jsx)(i.C,{wallet:p,toAddress:null!==(n=null===(r=b.value)||void 0===r||null===(a=r.transaction)||void 0===a?void 0:a.recipientAddress)&&void 0!==n?n:y.value,unsignedTx:null===(o=b.value)||void 0===o?void 0:o.transaction,isEntireBalance:w,initialFees:C,handleGenerateTx:x,goBack:h,flowType:"send"})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useStepper{{ goBack }}\nuseFields{{ toAddress, cryptoAmount, transferValue, unsignedTxResult, initialGasLimit }}\nuseCallback{handleGenerateTx}\nuseMinerFeeEstimates{estimates}\nuseMemo{initialFees}",(function(){return[l.t,d.Z,c.T]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(p,"AdjustGasCustomStep","/workspaces/apps/extension/src/screens/Send/steps/AdjustGasCustomStep/AdjustGasCustomStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},94849:(e,t,n)=>{n.d(t,{P:()=>p});var r,a,o,s=n(2784),i=n(2244),l=n(62783),u=n(33292),c=n(8476),d=n(95898),f=n(52322);function p(e){var t,n,r,a,o,p=e.wallet,h=(0,l.t)(u.Ex),g=h.goBack,y=h.goToStep,v=(0,d.Z)(u.cr),m=v.toAddress,b=v.cryptoAmount,S=v.transferValue,w=v.unsignedTxResult,x=v.initialGasLimit,k="EntireBalance"===(null===(t=S.value)||void 0===t?void 0:t.kind),C="send",L=(0,s.useCallback)((function(){(0,c.Lq)(C),y("adjustGasCustom")}),[y]),T=(0,s.useCallback)((function(e){var t;w.onChange(e),b.onChange(null===(t=e.transaction)||void 0===t?void 0:t.transferValue),g()}),[b,g,w]);return(0,f.jsx)(i.I,{wallet:p,toAddress:null!==(n=null===(r=w.value)||void 0===r||null===(a=r.transaction)||void 0===a?void 0:a.recipientAddress)&&void 0!==n?n:m.value,unsignedTx:null===(o=w.value)||void 0===o?void 0:o.transaction,isEntireBalance:k,initialGasLimit:x.value,handleGenerateTx:T,goBack:g,goToCustom:L,flowType:C})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, cryptoAmount, transferValue, unsignedTxResult, initialGasLimit }}\nuseCallback{handlePressCustom}\nuseCallback{handleGenerateTx}",(function(){return[l.t,d.Z]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(p,"AdjustGasPresetStep","/workspaces/apps/extension/src/screens/Send/steps/AdjustGasPresetStep/AdjustGasPresetStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},58578:(e,t,n)=>{n.d(t,{A:()=>J});var r,a=n(2784),o=n(63470),s=n(83112),i=n(4517),l=n(71962),u=n(90652),c=n(62783),d=n(25165),f=n(27178),p=n(58595),h=n(44764),g=n(70953),y=n(33002),v=n(33292),m=n(13403),b=n(62197),S=n.n(b),w=n(46101),x=n(29225),k=n(1620),C=n(37511),L=n(86296),T=n(56695),j=n(23132),G=n(28834),A=n(29217),E=n(5890),P=n(11081),M=n(30830),H=n(78012),F=n(53476),O=n(8476),I=n(95898),D=n(86421),R=n(48972),B=n(52163),N=n(61641),U=n(47863),V=n(52322);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var Q,$,K="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},X={network:"",total:"",amount:"",isFiat:!1},Y=(0,o.vU)({title:{id:"UqVooC",defaultMessage:[{type:0,value:"Confirm send"}]},sendButton:{id:"UYTQc5",defaultMessage:[{type:0,value:"Send"}]},cancelButton:{id:"sR5mWJ",defaultMessage:[{type:0,value:"Cancel"}]}});function J(e){var t=e.wallet,n=(0,s.Z)().formatMessage,r=q((0,F.FV)(A.IW),1)[0],o=(0,c.t)(v.Ex),b=o.goToStep,Z=o.goBack,W=(0,i.k6)(),z=(0,I.Z)(v.cr),Q=z.toAddress,$=z.cryptoAmount,K=z.unsignedTxResult,J=z.txSigningError,ee=z.signedTx,te=z.searchQuery,ne=z.destinationType,re=(0,p.X)(),ae=re.isStandalone,oe=re.isLedger,se=(0,k.$)(),ie=K.value,le=(0,E.i)(ie.transaction,t),ue=(0,y.aT)(),ce=(0,y.MD)(),de=(0,y.BR)(),fe=(0,y.eF)(),pe=(0,y.x4)(),he=(0,a.useContext)(g.kH).setShowNavigation,ge=J.onChange,ye=t.blockchain.toString(),ve=(0,h.g)();(0,a.useEffect)((function(){he(!1)}),[he]);var me=(0,a.useCallback)((function(e){ge(e),b("status")}),[b,ge]),be=(0,a.useCallback)((function(e){(0,L.eK)({error:new Error(e.message),context:"ledger-error"}),me(e)}),[me]),Se=(0,a.useCallback)((function(e){ee.onChange(e),b("status")}),[b,ee]),we=(0,d.b)(),xe=(0,j.Q)({wallet:t,unsignedTx:ie.transaction,signSuccess:Se,signError:me,handleUnlock:we}),ke=xe.signAndSubmitStandalone,Ce=xe.isSignAndSubmitStandaloneLoading,Le=(0,f.T)({unsignedTx:ie.transaction,signSuccess:Se,signError:be,flow:f.Z.Send}),Te=Le.signAndSubmitLedger,je=Le.isSignAndSubmitLedgerLoading,Ge=Le.hardwareWalletScreen,Ae=null!=Ce?Ce:je;(0,y.M4)();var Ee=(0,M.D)(ie.transaction);if(!Ee)throw new Error("Something went wrong in ConfirmationStep");var Pe=(0,a.useMemo)((function(){return(0,w.FM)(t.network)}),[t.network]),Me=(0,G.N)("adjustable_miner_fee"),He=ae&&Pe&&(!(0,m.B)()||Me),Fe=(0,a.useMemo)((function(){if(null==ie||!ie.transaction)return X;if(Pe){var e=ie.transaction,n=e.feeCurrencyCode,r=e.feeCurrencyDecimal,a=e.currencyCode,o=e.lowerBoundFee,s=e.upperBoundFee,i=e.transferValue||$.value,l=se.formatToFiatTotalRange({feeCurrencyCode:n,currencyCode:a,contractAddress:t.contractAddress,network:t.network,fee:s,lowerBoundFee:o,amount:i,isConfirmed:!1,decimals:t.decimals,includeFee:!0,feeDecimals:r}),u=se.formatToFiat(a,t.decimals,i,!1,t.contractAddress,t.network),c=se.formatToFiatFeeRange(n,r,s,!1,o,t.network),d=se.formatToCrypto({currencyCode:a,decimals:t.decimals,value:i,network:t.network}),f=se.formatToCryptoRange(n,r,o,s);if(c&&u&&l)return{amount:u,network:null!=c?c:"",total:l,isFiat:!0};if((c||f)&&d){var p=null!=c?c:f;return{amount:d,network:null!=p?p:"",total:"",isFiat:!1}}return X}var h,g,y,v=ie.transaction,m=v.feeCurrencyCode,b=v.feeCurrencyDecimal,w=v.currencyCode,k=v.estimatedFee,C=v.transferValue||$.value;if(ye===x.wX.rawValue){var L,T=ie.transaction;h=q(se.formatFiatTotal([{value:C,decimals:t.decimals,currencyCode:w,contractAddress:t.contractAddress,network:t.network},{currencyCode:m,decimals:b,value:k,network:t.network},{currencyCode:m,decimals:b,value:null!==(L=T.extraFee)&&void 0!==L?L:new(S())(0),contractAddress:void 0,network:t.network}],!1),1)[0],g=se.formatToFiat(m,b,T.extraFee,!1,void 0,t.network),y=se.formatToCrypto({currencyCode:m,decimals:b,value:T.extraFee,network:t.network})}else h=se.formatToFiatTotalRange({feeCurrencyCode:m,currencyCode:w,contractAddress:t.contractAddress,network:t.network,fee:k,lowerBoundFee:void 0,amount:C,isConfirmed:!1,decimals:t.decimals,includeFee:!0,feeDecimals:b});var j=se.formatToFiat(w,t.decimals,C,!1,t.contractAddress,t.network),G=se.formatToFiat(m,b,k,!1,void 0,t.network),A=se.formatToCrypto({currencyCode:w,decimals:t.decimals,value:C,network:t.network}),E=se.formatToCrypto({currencyCode:m,decimals:b,value:k,network:t.network}),P="".concat(G," \u2022 ").concat(E);if(P&&j&&h)return{amount:j,network:null!=P?P:"",total:h,isFiat:!0,extraFee:g};if((G||E)&&A){var M=null!=G?G:E;return{amount:A,network:null!=M?M:"",total:"",isFiat:!1,extraFee:y}}return X}),[ie.transaction,Pe,$.value,ye,se,t.decimals,t.contractAddress,t.network]),Oe=le,Ie=Oe.gasLimit,De=Oe.analyticsId,Re=Oe.chainId,Be=Oe.feeCurrencyCode,Ne=Oe.networkFeeInUSD,Ue=Oe.networkFeeInCrypto,Ve=Oe.estimatedFee,Ze=le,_e=Ze.minFeeInUSD,We=Ze.maxFeeInUSD,qe=Ze.lowerBoundFee,ze=Ze.upperBoundFee,Qe=Ze.minFeeInCrypto,$e=Ze.maxFeeInCrypto,Ke=le,Xe=Ke.extraFeeInUSD,Ye=Ke.extraFeeInCrypto,Je=Ke.estimatedFee,et=(0,P.o)({wallet:t,unsignedTx:null==ie?void 0:ie.transaction,feeWallet:Ee});(0,T.F)((function(){var e={gasLimit:Ie,analyticsId:De,chainId:Re,feeCurrencyCode:Be};try{if(ye===w.O6.rawValue)if(Pe){if(!qe||!ze)throw new Error("No valid lower and upper bound fees for send 1559 transaction");fe(_(_({},e),{},{lowerBoundFee:qe,upperBoundFee:ze,minFeeInUSD:_e,maxFeeInUSD:We,maxFeeInCrypto:$e,minFeeInCrypto:Qe}))}else{if(!Ve)throw new Error("No valid estimated fee for send transaction");(0,y.H9)(_(_({},e),{},{estimatedFee:Ve,networkFeeInUSD:Ne,networkFeeInCrypto:Ue}))}else if(ye===x.wX.rawValue){if(!Je)throw new Error("No valid estimated fee for solana send transaction");pe(_(_({},e),{},{estimatedFee:Je,networkFeeInUSD:Ne,networkFeeInCrypto:Ue,extraFeeInUSD:Xe,extraFeeInCrypto:Ye,hasInsufficientFunds:"getMoreCurrencyError"===(null==et?void 0:et.type)}))}}catch(e){de(le)}}));var tt=(0,a.useCallback)((function(){return ue({walletType:ve}),ae?ke():oe?Te():(b("signOnPhone"),null)}),[ue,ve,ae,oe,b,ke,Te]),nt=(0,a.useCallback)((function(){ce(),he(!0),W.goBack()}),[W,he,ce]),rt=(0,a.useMemo)((function(){return[{children:n(Y.cancelButton),variant:"secondary",onPress:nt,testID:"send-confirm-cancel-button"},{children:n(Y.sendButton),variant:null!=et&&et.isDisabled?"secondary":"primary",disabled:Ae||(null==et?void 0:et.isDisabled),loading:Ae,onPress:tt,testID:"send-confirm-button"}]}),[n,nt,tt,Ae,null==et?void 0:et.isDisabled]),at=(0,a.useCallback)((function(){(0,O.U2)(),b("adjustGasPreset")}),[b]),ot=(0,a.useMemo)((function(){return He?(0,V.jsx)(B.Pressable,{as:"button",testID:"send-confirmation-adjustable-gas-entry",onPress:at,backgroundColor:"transparent",children:(0,V.jsx)(D.Icon,{name:"gear",size:"s",color:"foreground",spacingStart:1})}):null}),[He,at]),st={transactionCost:Fe,wallet:t,AdjustGasPresetAction:ot},it=(0,U.D)(st),lt=(0,a.useMemo)((function(){return{testID:"primaryItem",title:t.displayName,iconSourceOrName:t,detail:Fe.isFiat?Fe.amount:"",subDetail:(0,C.dN)(se,t,$.value,!0,!0),isAsset:!0,network:t.network}}),[$.value,se,Fe.amount,Fe.isFiat,t]),ut=(0,a.useMemo)((function(){var e=(0,H.ro)(Q.value,6,4);return ne.value&&"address"!==ne.value?(0,V.jsxs)(R.VStack,{children:[(0,V.jsx)(N.TextHeadline,{as:"p",spacingStart:1,tabIndex:0,children:te.value}),(0,V.jsx)(N.TextBody,{as:"p",color:"foregroundMuted",spacingStart:1,tabIndex:0,children:e})]}):e}),[te.value,Q.value,ne.value]),ct=(0,a.useMemo)((function(){return{testID:"secondaryItem",title:ut,iconSourceOrName:"wallet",isAsset:!1,network:t.network,destinationType:ne.value}}),[ut,ne,t]),dt=(0,a.useCallback)((function(){Z(),he(!0)}),[Z,he]);return r?Ge:(0,V.jsx)(u.q,{headerText:n(Y.title),topSection:(0,V.jsx)(l.v,{primaryItem:lt,secondaryItem:ct}),detailRowItems:it,error:et,buttonProps:rt,handleBackButton:dt})}K(J,"useIntl{{ formatMessage }}\nuseRecoilState{[hardwareWalletSigning]}\nuseStepper{{ goToStep, goBack: goBackOneStep }}\nuseHistory{history}\nuseFields{{\n    toAddress,\n    cryptoAmount,\n    unsignedTxResult,\n    txSigningError,\n    signedTx,\n    searchQuery,\n    destinationType,\n  }}\nuseSigningDevice{{ isStandalone, isLedger }}\nuseCurrencyFormatter{currencyFormatter}\nuseAnalyticsFeeData{analyticsFeeData}\nuseSendConfirmationSendClicked{triggerAnalyticsSendClicked}\nuseSendConfirmationCancelClicked{triggerAnalyticsCancelClicked}\nuseSendConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nuseTriggerConfirmationGasFeeViewed1559{triggerConfirmationGasFeeViewed1559}\nuseTriggerConfirmationSolNetworkFeeViewed{triggerConfirmationSolNetworkFeeViewed}\nuseContext{{ setShowNavigation }}\nuseWalletType{walletType}\nuseEffect{}\nuseCallback{signError}\nuseCallback{signLedgerError}\nuseCallback{signSuccess}\nuseHandleUnlock{handleUnlock}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isSignAndSubmitLedgerLoading, hardwareWalletScreen }}\nuseSendConfirmationViewed{}\nuseTxFeeWallet{feeWallet}\nuseMemo{is1559Enabled}\nuseIsFeatureEnabled{adjustableGasFlagEnabled}\nuseMemo{transactionCost}\nuseTransactionDetailsErrors{transactionDetailsErrors}\nuseOnMount{}\nuseCallback{handleOnSend}\nuseCallback{handleOnCancel}\nuseMemo{buttonOptions: ButtonProps[]}\nuseCallback{openAdjustableGasPreset}\nuseMemo{AdjustGasPresetAction}\nuseTransactionDetailRowItems{detailRows}\nuseMemo{primaryItemProps}\nuseMemo{destination}\nuseMemo{secondaryItemProps}\nuseCallback{goBack}",(function(){return[s.Z,F.FV,c.t,i.k6,I.Z,p.X,k.$,E.i,y.aT,y.MD,y.BR,y.eF,y.x4,h.g,d.b,j.Q,f.T,y.M4,M.D,G.N,P.o,T.F,U.D]})),(Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Q.register(X,"emptyTransactionCost","/workspaces/apps/extension/src/screens/Send/steps/ConfirmationStep/ConfirmationStep.tsx"),Q.register(Y,"messages","/workspaces/apps/extension/src/screens/Send/steps/ConfirmationStep/ConfirmationStep.tsx"),Q.register(J,"ConfirmationStep","/workspaces/apps/extension/src/screens/Send/steps/ConfirmationStep/ConfirmationStep.tsx")),($="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&$(e)},47863:(e,t,n)=>{n.d(t,{D:()=>p});var r,a=n(63470),o=n(83112),s=n(78012),i=n(60417),l=n.n(i);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=(0,a.vU)({walletUsedLabel:{id:"o99uP8",defaultMessage:[{type:0,value:"Wallet used"}]},walletNetworkLabel:{id:"kDz3C6",defaultMessage:[{type:0,value:"Network"}]},extraFeeLabel:{id:"Ed2Fhy",defaultMessage:[{type:0,value:"Account creation fee"}]},extraFeeTooltip:{id:"NRrrma",defaultMessage:[{type:0,value:"When an address receives a new token (one it hasn't held before), Solana requires sending a small amount of SOL along with the new token."}]},networkFeeLabel:{id:"1TgfUs",defaultMessage:[{type:0,value:"Network fee"}]},networkFeeTooltip:{id:"MnkMuK",defaultMessage:[{type:0,value:"Applies to all transactions. Not paid to Coinbase."}]},transactionSpeedLabel:{id:"sSDDvu",defaultMessage:[{type:0,value:"Transaction speed"}]},totalCostLabel:{id:"j9RrnG",defaultMessage:[{type:0,value:"Total cost"}]}});function p(e){var t=(0,o.Z)().formatMessage,n=e.wallet.network.asChain(),r=e.transactionCost.extraFee;return l()([{label:t(f.walletUsedLabel),detailText:(0,s.ro)(e.wallet.primaryAddress,6,4),testID:"send-confirmation-wallet-used-label"},n?{label:t(f.walletNetworkLabel),detailText:n.displayName,testID:"send-confirmation-wallet-network-label"}:null,r?{label:t(f.extraFeeLabel),detailText:"".concat(r),tooltipText:t(f.extraFeeTooltip),testID:"send-confirmation-extra-fee"}:null,{label:t(f.networkFeeLabel),detailText:e.transactionCost.network,testID:"send-confirmation-network-fee-label",tooltipText:t(f.networkFeeTooltip),actionIcon:e.AdjustGasPresetAction},e.transactionCost.total&&{label:t(f.totalCostLabel),detailText:e.transactionCost.total,testID:"send-confirmation-total-cost-label"}])}d(p,"useIntl{{ formatMessage }}",(function(){return[o.Z]})),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(f,"messages","/workspaces/apps/extension/src/screens/Send/steps/ConfirmationStep/hooks/useTransactionDetailRowItems.tsx"),u.register(p,"useTransactionDetailRowItems","/workspaces/apps/extension/src/screens/Send/steps/ConfirmationStep/hooks/useTransactionDetailRowItems.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},47447:(e,t,n)=>{n.d(t,{G:()=>m});var r,a=n(2784),o=n(94520),s=n(62783),i=n(68018),l=n(33002),u=n(33292),c=n(11536),d=n(86421),f=n(59508),p=n(62346),h=n(29904),g=n(81336),y=n(61641),v=n(52322);function m(e){var t=e.wallet,n=(0,s.t)(u.Ex).goToStep,r=(0,l.ju)(),i=(0,a.useCallback)((function(){r(),n("selectWallet")}),[n,r]);return(0,v.jsx)(h.VStack,{children:(0,v.jsx)(f.Box,{spacingVertical:3,children:(0,v.jsx)(g.PressableOpacity,{as:"button",noScaleOnPress:!0,onPress:i,testID:"send-asset-selector",width:"100%",children:(0,v.jsx)(f.Box,{borderColor:"line",borderRadius:"input",elevation:1,overflow:"hidden",children:(0,v.jsx)(c.Card,{spacingHorizontal:2,spacingVertical:1,width:"100%",children:(0,v.jsxs)(p.HStack,{justifyContent:"space-between",children:[(0,v.jsxs)(p.HStack,{alignItems:"center",children:[(0,v.jsx)(o.Y,{asset:t,spacingEnd:2}),(0,v.jsx)(w,{children:(0,v.jsx)(y.TextBody,{as:"div",color:"foreground",title:t.displayName,children:t.displayName})})]}),(0,v.jsx)(f.Box,{width:"105px",justifyContent:"flex-end",height:40,alignItems:"center",children:(0,v.jsx)(d.Icon,{name:"sortDownCenter",size:"s",color:"foreground"})})]})})})})})})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useStepper{{\n    goToStep\n  }}\nuseSendWalletSectorClicked{triggerAnalyticsWalletSelectorClicked}\nuseCallback{handleOnPress}",(function(){return[s.t,l.ju]}));var b,S,w=(0,i.Z)("div")({name:"AssetName",class:"ajs03ox"});n(83469),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(m,"AssetSelector","/workspaces/apps/extension/src/screens/Send/steps/EntryStep/AssetSelector.tsx"),b.register(w,"AssetName","/workspaces/apps/extension/src/screens/Send/steps/EntryStep/AssetSelector.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},92978:(e,t,n)=>{n.d(t,{y:()=>E});var r,a=n(2784),o=n(63470),s=n(83112),i=n(4517),l=n(63043),u=n(17726),c=n(62783),d=n(33002),f=n(33292),p=n(11071),h=n(1620),g=n(56695),y=n(95898),v=n(60723),m=n(36886),b=n(29904),S=n(43013),w=n(94087),x=n(47447),k=n(52322);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var T,j,G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A=(0,o.vU)({title:{id:"APgfZp",defaultMessage:[{type:0,value:"Send "},{type:1,value:"displayName"}]},nextCTALabel:{id:"mTxdJg",defaultMessage:[{type:0,value:"Next"}]},fiatAmountAvailable:{id:"wQh+0e",defaultMessage:[{type:1,value:"maxFiat"},{type:0,value:" available"}]},noAmountError:{id:"8xcZm0",defaultMessage:[{type:0,value:"Please enter an amount."}]}});function E(e){var t=e.wallet,n=e.entryPoint,r=C((0,a.useState)(!1),2),o=r[0],L=r[1],T=(0,i.k6)(),j=(0,s.Z)().formatMessage,G=(0,c.t)(f.Ex).goToStep,E=(0,y.Z)(f.cr),P=E.walletId,M=E.cryptoAmount,H=E.transferValue,F=E.enteredAmount,O=E.isFiat,I=(0,h.$)(),D=(0,d.j$)(),R=(0,d.Kd)(),B=(0,d.$E)(),N=(0,d.BU)();(0,d.VA)(n),(0,g.F)((function(){P.onChange(t.id)}));var U=(0,a.useMemo)((function(){return I.formatToFiat(t.currencyCode,t.decimals,t.balance,!1,t.contractAddress,t.network)||""}),[I,t.currencyCode,t.decimals,t.balance,t.contractAddress,t.network]),V=o||M.value.isZero(),Z=(0,a.useMemo)((function(){return(0,k.jsxs)(b.VStack,{alignContent:"center",justifyContent:"center",children:[(0,k.jsx)(S.TextHeadline,{as:"h2",align:"center",children:j(A.title,{displayName:t.displayName})}),U?(0,k.jsx)(w.TextLabel2,{as:"span",color:"foregroundMuted",align:"center",children:j(A.fiatAmountAvailable,{maxFiat:U})}):null]})}),[U,t,j]),_=(0,a.useCallback)((function(){var e;D();var n={kind:null!==(e=t.balance)&&void 0!==e&&e.eq(M.value)?"EntireBalance":"Amount",value:M.value};H.onChange(n),G("selectRecipient")}),[M.value,G,H,D,t.balance]),W=(0,a.useCallback)((function(){R(),null==T||T.goBack()}),[T,R]);return(0,k.jsxs)(b.VStack,{height:p.UV,justifyContent:"space-between",children:[(0,k.jsx)(u.w,{onBack:W,title:Z}),(0,k.jsxs)(b.VStack,{spacingHorizontal:3,children:[(0,k.jsx)(l._Z,{context:"send",wallet:t,onInsufficientFund:L,cryptoAmount:M,enteredAmount:F,isFiat:O,analyticsGetMaxValue:B,analyticsSwitchDisplay:N}),(0,k.jsx)(m.Spacer,{})]}),(0,k.jsxs)(b.VStack,{spacing:3,children:[(0,k.jsx)(x.G,{wallet:t}),(0,k.jsx)(v.Button,{block:!0,disabled:V,onPress:_,testID:"send-entry-button",children:j(A.nextCTALabel)})]})]})}G(E,"useState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goToStep }}\nuseFields{{ walletId, cryptoAmount, transferValue, enteredAmount, isFiat }}\nuseCurrencyFormatter{currencyFormatter}\nuseSendEntryNextClicked{triggerAnalyticsEntryNextClicked}\nuseSendEntryBackClicked{triggerAnalyticsEntryBackClicked}\nuseEntryGetMaxValueButton{triggerAnalyticsGetMaxValue}\nuseEntrySwitchDisplayButton{triggerAnalyticsSwitchDisplay}\nuseSendEntryViewed{}\nuseOnMount{}\nuseMemo{maxFiat}\nuseMemo{title}\nuseCallback{handleNextClicked}\nuseCallback{handleBackClicked}",(function(){return[i.k6,s.Z,c.t,y.Z,h.$,d.j$,d.Kd,d.$E,d.BU,d.VA,g.F]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(A,"messages","/workspaces/apps/extension/src/screens/Send/steps/EntryStep/EntryStep.tsx"),T.register(E,"EntryStep","/workspaces/apps/extension/src/screens/Send/steps/EntryStep/EntryStep.tsx")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)},24807:(e,t,n)=>{n.d(t,{q:()=>h,D:()=>S});var r,a,o=n(2784),s=n(63470),i=n(42670),l=n(18983),u=n(61641),c=n(52322);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var h,g=(0,s.vU)({noResults:{id:"TuPGMA",defaultMessage:[{type:0,value:"No results"}]},recipientNonExistent:{id:"QsOhbx",defaultMessage:[{type:0,value:"This recipient either doesn't exist or is set to private"}]},containsHomoglyphs:{id:"Y0Nj66",defaultMessage:[{type:0,value:"The characters in this address might be misleading. Please validate you're sending to the correct wallet address."}]}});!function(e){e.noResult="noResult",e.containsHomoglyphs="containsHomoglyphs"}(h||(h={}));var y=(p(r={},h.noResult,{headline:(0,c.jsx)(u.TextHeadline,{as:"p",children:(0,c.jsx)(i.Z,f({},g.noResults))}),message:(0,c.jsx)(i.Z,f({},g.recipientNonExistent))}),p(r,h.containsHomoglyphs,{headline:(0,c.jsx)(l.Pictogram,{name:"strongWarning",dimension:"48x48"}),message:(0,c.jsx)(i.Z,f({},g.containsHomoglyphs))}),r);function v(e){var t=e.errorType;if(!t)return null;var n=y[t],r=n.headline,a=n.message;return(0,c.jsxs)(c.Fragment,{children:[r,(0,c.jsx)(u.TextLabel2,{as:"p",align:"center",color:"foregroundMuted",spacingTop:1,spacingHorizontal:4,children:a})]})}var m,b,S=(0,o.memo)(v);(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"messages","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/DestinationError.tsx"),m.register(y,"errorContent","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/DestinationError.tsx"),m.register(v,"DestinationErrorComponent","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/DestinationError.tsx"),m.register(S,"DestinationError","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/DestinationError.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},67900:(e,t,n)=>{n.d(t,{f:()=>Se});var r=n(2784),a=n(63470),o=n(83112),s=n(4517),i=n(17726),l=n(83525),u=n(38287),c=n(6421),d=n(62783),f=n(70953),p=n(33002),h=n(33292),g=n(32177),y=n(11071),v=n(62197),m=n.n(v),b=n(46101),S=n(29588),w=n(15376),x=n(18649);function k(){const e=(0,x.t)("destination/searchWithSuggestions");return(0,r.useCallback)((async(t,n)=>(await e({query:t,assetCode:n.blockchain.toString().toLowerCase()})).data),[e])}function C(e,t){if(1===e.length){const n=e[0];switch(n.type){case"address":return!0;case"ens":return n.label===t;case"wallet_username":return n.label===t||n.label===`@${t}`;default:throw new Error("unsupported off destination type")}}else if(2===e.length)return e.every((e=>"address"===e.type));return!1}function L(e){switch(e){case"address is valid for non-Solana chain":return"blockchain";case"address is not on ed25519 curve":return"ATA";default:return"address"}}var T=n(12059),j=n(8389),G=n(98673),A=n(97459),E=n(28993);var P=n(53610),M=n(23031),H=n(45299);var F=n(45378),O=n(59261),I=n(65341),D=n(94023),R=n(51983);const B=async e=>Promise.resolve((0,G.isValidAddress)(e)),N={[j.tn]:B,[A.BB]:B,[E.nK]:async function(e){const{xrpService:t}=await Promise.all([n.e(7421),n.e(9644),n.e(1021),n.e(3938),n.e(8884)]).then(n.bind(n,54510));return t.isAddressValid({address:e})},[H.vQ]:async function(e){const{xlmService:t}=await Promise.all([n.e(7421),n.e(9644),n.e(1021),n.e(3938),n.e(8884)]).then(n.bind(n,54510));return t.isAddressValid({address:e})},[P.yC]:async e=>Promise.resolve((0,M.At)(e))},U={[F.k1]:async()=>!1,[O.vh]:async()=>!1,[I.YV]:async()=>!1,[D.RB]:async()=>!1};async function V(e,t,n){const r=(0,R.oL)(e.rawValue);switch(r.blockchainGroup){case"Account":return N[r.blockchainSymbol]?.(t);case"UTXO":return U[r.blockchainSymbol]?.(t,n);default:return!1}}var Z=n(81737),_=n(58928);const W=(e,t)=>{switch(t){case"address":case"coinbase_address":return(0,_.n)(e);default:return e}};var q=n(20054),z=n(67108),Q=n(54073),$=n.n(Q),K=n(88767),X=n(95898),Y=n(60723),J=n(59508),ee=n(29904),te=n(61641),ne=n(24807),re=n(67642),ae=n(52322);e=n.hmd(e);var oe,se=n(48834).Buffer;function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function le(){le=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new k(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var i=S(s,n);if(i){if(i===c)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function p(){}var h={};i(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,a)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,o,s,i){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==ie(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,i)}))}i(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,i(v,"constructor",p),i(p,"constructor",f),f.displayName=i(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(b.prototype),i(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var s=new b(l(t,n,r,a),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(v),i(v,s,"Generator"),i(v,a,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function ue(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){ue(o,r,a,s,i,"next",e)}function i(e){ue(o,r,a,s,i,"throw",e)}s(void 0)}))}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(oe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&oe(e);var pe,he,ge="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ye=(0,a.vU)({title:{id:"D96kq3",defaultMessage:[{type:0,value:"Choose recipient"}]},sendToLabel:{id:"xTcWO3",defaultMessage:[{type:0,value:"Send to"}]},pasteFromClipboardLabel:{id:"9RfIfy",defaultMessage:[{type:0,value:"Paste From Clipboard"}]},notValidAddressLabel:{id:"WccmJm",defaultMessage:[{type:0,value:"Enter a valid "},{type:1,value:"blockchain"},{type:0,value:" address"}]},solanaATAAddressLabel:{id:"V4NHms",defaultMessage:[{type:0,value:'This is an "associated token account" address, which we don\'t support. Enter a standard Solana address instead.'}]},nextCTALabel:{id:"mTxdJg",defaultMessage:[{type:0,value:"Next"}]},suggestedAddressLabel:{id:"Rkr3/T",defaultMessage:[{type:0,value:"Suggested"}]},recentlySentToThisAddress:{id:"BcHF4t",defaultMessage:[{type:0,value:"sent to this address "},{type:1,value:"duration"},{type:0,value:" ago"}]},authenticationRequestUpsell:{id:"xcUpVg",defaultMessage:[{type:0,value:"Want to view all of your recent addresses?"}]}}),ve=["Enter"];function me(e){var t=e.blockchain,n=e.hasError,a=e.handleInput,s=e.maxLength,i=e.invalidAddressType,u=void 0===i?null:i,c=(0,o.Z)().formatMessage,d=(0,r.useMemo)((function(){return"ATA"===u?c(ye.solanaATAAddressLabel):c(ye.notValidAddressLabel,{blockchain:t})}),[t,c,u]);return(0,ae.jsxs)(ee.VStack,{spacingHorizontal:3,children:[(0,ae.jsx)(te.TextLabel1,{as:"span",color:n?"negative":"primary",spacingBottom:.5,testID:"send-to-label",children:c(ye.sendToLabel)}),(0,ae.jsx)(l.z,{blocklistKeys:ve,handleInput:a,hasError:n,maxLength:s,testID:"address-textarea",autoFocus:!0}),n?(0,ae.jsx)(te.TextLabel2,{as:"span",color:"negative",spacingTop:.5,testID:"address-error-label",children:d}):null]})}function be(e){var t=e.handlePress,n=e.isDisabled,r=e.isLoading,a=(0,o.Z)().formatMessage;return(0,ae.jsx)(J.Box,{spacing:3,spacingTop:1,children:(0,ae.jsx)(Y.Button,{block:!0,onPress:t,disabled:n,loading:r,testID:"confirm-tx-button",children:a(ye.nextCTALabel)})})}function Se(e){var t,n=e.wallet,a=(0,s.k6)(),l=(0,o.Z)().formatMessage,v=(0,X.Z)(h.cr),x=v.cryptoAmount,j=v.toAddress,G=v.transferValue,A=v.unsignedTxResult,E=v.initialGasLimit,P=v.searchQuery,M=v.destinationType,H=v.collectible,F=(0,d.t)(h.Ex),O=F.goToStep,I=F.goBack,D=j.onChange,R=P.onChange,B=A.onChange,N=M.onChange,U=de((0,r.useState)(!1),2),_=U[0],Q=U[1],Y=de((0,r.useState)([]),2),J=Y[0],te=Y[1],oe=de((0,r.useState)(!1),2),ie=oe[0],ue=oe[1],fe=de((0,r.useState)(null),2),pe=fe[0],he=fe[1],ge=de((0,r.useState)(null),2),ve=ge[0],Se=ge[1],we=de((0,r.useState)(!1),2),xe=we[0],ke=we[1],Ce=(0,r.useContext)(f.kH).setShowNavigation,Le=(0,p.Ze)(),Te=k(),je=(0,r.useMemo)((function(){return{searchDestinationWithSuggestionsRequest:Te,searchDestinationRequest:w.G_}}),[Te]),Ge=(0,p.gV)(),Ae=(0,g.n)(n),Ee=Ae.isEnabled,Pe=Ae.isSuggestionsEnabled;(0,p.s5)();var Me=(0,r.useCallback)((function(e){var t=e.label,r=e.type,a=e.suggestion;return{title:W(t,r),description:a?l(ye.recentlySentToThisAddress,{duration:(0,q.Z)((0,z.Z)(null==a?void 0:a.lastSentAt))}):"",media:(0,ae.jsx)(re.s,{type:r,network:n.network}),key:t,item:e,type:r}}),[l,n]),He=(0,r.useCallback)(ce(le().mark((function e(){var t;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te("",n);case 2:t=e.sent,te(t.map(Me));case 4:case"end":return e.stop()}}),e)}))),[n,Te,Me,te]);(0,r.useEffect)((function(){Pe&&""===j.value&&(D(""),R(""),He())}),[Pe,He,R,D,j.value]);var Fe=(0,r.useCallback)(function(){var e=ce(le().mark((function e(t){var r;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return Q(!1),ke(!1),e.abrupt("return",null);case 4:return e.next=6,V(n.blockchain,t,n.network);case 6:r=e.sent,ue(!r),Q(r),ke(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n.blockchain,n.network]),Oe=(0,r.useCallback)($()(function(){var e=ce(le().mark((function e(t){return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fe(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),250),[Fe]),Ie=(0,r.useCallback)(function(){var e=ce(le().mark((function e(t){var r,a,o;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pe?"searchDestinationWithSuggestionsRequest":"searchDestinationRequest",e.prev=1,e.next=4,je[r](t,n);case 4:a=e.sent,te(a.map(Me)),a.some((function(e){var t;return null===(t=e.warning)||void 0===t?void 0:t.containsHomoglyphs}))?(Le(),Se("address"),he(ne.q.containsHomoglyphs)):0===a.length&&t.length>3?(Le(),Se("address"),he(ne.q.noResult)):(Se(null),he(null)),Q(C(a,t)),ke(!1),e.next=19;break;case 11:e.prev=11,e.t0=e.catch(1),o=L(null===e.t0||void 0===e.t0?void 0:e.t0.message),Le({invalidAddressType:o}),Se(o),ue(!0),Q(!1),ke(!1);case 19:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),[Pe,je,n,Me,Le]),De=(0,r.useCallback)($()(Ie,250),[Ie]),Re=(0,r.useCallback)((function(){He(),ke(!1)}),[He]),Be=(0,r.useCallback)((function(e){te([]);var t=e.target.value;ke(!0),D(t),ke(!0),ue(!1),Ee?De(t):Oe(t)}),[D,Ee,Oe,De]),Ne=(0,r.useCallback)(function(){var e=ce(le().mark((function e(t){var r,a,o,s,i,l,u;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.is1559Transaction,a=t.address,o=a||j.value,(s=new Map([[b.Zg,"send"]])).set(b.nC,(0,K.Z)()),s.set(Z.VD,!1),G.value){e.next=7;break}throw new Error("SelectRecipientStep generateUnsignedTx failed due to missing TransferValue.");case 7:return i={txType:r?"1559":"Legacy"},e.next=10,(0,T.o)({wallet:n,transactionAmount:G.value,recipientAddress:o,metadata:s,blockchainConfig:i});case 10:if(l=e.sent,u=l.transaction){e.next=14;break}throw new Error("Generating unsigned 1559 tx failed.");case 14:u.gasLimit&&E.onChange(u.gasLimit),B(l),x.onChange(u.transferValue),O("confirmation");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,B,O,E,j.value,G,n]),Ue=(0,r.useCallback)(function(){var e=ce(le().mark((function e(t){var r,a,o,s,i;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.txParamList&&0!==t.txParamList.length){e.next=2;break}throw new Error("SelectRecipientStep generateUnsignedTx failed due to missing TransferValue.");case 2:return r=t.txParamList[0],a=new Map([[b.ts,r.sendNFTId],[b.Zg,"nft-send"]]),o={kind:"Amount",value:new(m())(0)},e.next=7,(0,T.o)({wallet:n,transactionAmount:o,recipientAddress:r.toAddress,metadata:a,blockchainConfig:{txType:"1559",selectedBaseFeePerGas:new(m())(r.gasBaseFee),selectedMaxFeePerGas:new(m())(r.gasPrice),selectedMaxPriorityFeePerGas:new(m())(r.gasPriorityFee),selectedGasLimit:new(m())(r.gasLimit),dataBuffer:se.from(r.data,"base64")}});case 7:if(s=e.sent,(i=s.transaction)&&i.gasLimit){e.next=11;break}throw new Error("Generating unsigned 1559 tx failed.");case 11:B(s),E.onChange(i.gasLimit),x.onChange(i.transferValue),O("confirmation");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,B,O,E,n]),Ve=(0,r.useCallback)(function(){var e=ce(le().mark((function e(t){return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=H&&H.value&&(0,S.Ay)(H.value.contractAddress,H.value.tokenId,null!=t?t:j.value,n.primaryAddress,H.value.tokenType,H.value.chainId).then((function(e){Ue(e)})).catch((function(e){throw ke(!1),Ce(!0),new Error("SelectRecipientStep generateNFTUnsignedTx failed.")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ue,n,H,j,Ce]),Ze=(0,r.useCallback)((function(e,t,r){Ge();var a=null!=r?r:j.value;R(a),ke(!0);var o=(0,b.FM)(n.network);null!=H&&H.value?Ve(t):Ne({is1559Transaction:o,address:t})}),[Ge,j.value,R,n.network,null==H?void 0:H.value,Ve,Ne]),_e=(0,r.useCallback)((function(e){function t(){return(t=ce(le().mark((function t(){var r;return le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.TU)(e,n);case 2:if((r=t.sent)&&r.address){t.next=5;break}return t.abrupt("return");case 5:D(r.address),Ze(void 0,r.address,e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n,D,Ze]),We=(0,r.useCallback)((function(e){return N(e.type),_e(e.label)}),[N,_e]),qe=(0,r.useCallback)((function(e){return function(){We(e)}}),[We]),ze=(0,r.useCallback)((function(){null!=H&&H.value?a.goBack():I(),Ce(!0)}),[I,Ce,H,a]),Qe=(0,r.useCallback)((function(){ke(!0)}),[]),$e=(0,r.useMemo)((function(){return!j.value&&Pe&&0!==J.length?l(ye.suggestedAddressLabel):null}),[l,Pe,J.length,j.value]),Ke=(0,r.useMemo)((function(){return pe?(0,ae.jsx)(ne.D,{errorType:pe}):null}),[pe]);return(0,ae.jsxs)(ee.VStack,{height:y.UV,children:[(0,ae.jsx)(i.w,{onBack:ze,title:l(ye.title)}),(0,ae.jsxs)(ee.VStack,{alignContent:"center",minHeight:"370",children:[(0,ae.jsx)(me,{blockchain:n.displayName,hasError:ie,handleInput:Be,invalidAddressType:ve,maxLength:n.blockchain.addressCharLength}),Ee?(0,ae.jsx)(u.U,{wallet:n,suggestions:J,title:$e,handleSuggestionClick:We,searchQuery:j.value,errorContent:Ke,upsellComponent:(0,ae.jsx)(c.J,{onPress:Qe,onComplete:Re,upsellMessage:l(ye.authenticationRequestUpsell)})}):null]}),Ee?(0,ae.jsx)(ee.VStack,{borderedTop:!0,spacingTop:1,children:(0,ae.jsx)(be,{handlePress:qe(null===(t=J[0])||void 0===t?void 0:t.item),isDisabled:!_,isLoading:xe})}):(0,ae.jsx)(be,{handlePress:Ze,isDisabled:!_,isLoading:xe})]})}ge(me,"useIntl{{ formatMessage }}\nuseMemo{formattedErrorMessage}",(function(){return[o.Z]})),ge(be,"useIntl{{ formatMessage }}",(function(){return[o.Z]})),ge(Se,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseFields{{\n    cryptoAmount,\n    toAddress,\n    transferValue,\n    unsignedTxResult,\n    initialGasLimit,\n    searchQuery,\n    destinationType,\n    collectible,\n  }}\nuseStepper{{ goToStep, goBack: goBackOneStep }}\nuseState{[validDestination, setValidDestination](false)}\nuseState{[suggestedSearchResults, setSuggestedSearchResults]([])}\nuseState{[hasError, setHasError](false)}\nuseState{[destinationErrortype, setDestinationErrorType](null)}\nuseState{[invalidAddressError, setInvalidAddressError](null)}\nuseState{[isLoading, setIsLoading](false)}\nuseContext{{ setShowNavigation }}\nuseSendSelectRecipientInvalidAddress{triggerAnalyticsInvalidAddress}\nuseSearchDestinationWithSuggestions{searchDestinationWithSuggestionsRequest}\nuseMemo{searchFns}\nuseSendSelectRecipientNextClicked{triggerAnalyticsSelectRecipientNextClicked}\nuseIsENSAndUsernameSendEnabled{{ isEnabled: showENSAndUsernameUI, isSuggestionsEnabled }}\nuseSendSelectRecipientViewed{}\nuseCallback{formatSearchResult}\nuseCallback{getRecentRecipients}\nuseEffect{}\nuseCallback{validateToAddress}\nuseCallback{debouncedValidateToAddress}\nuseCallback{searchDestination}\nuseCallback{debouncedSearchDestination}\nuseCallback{handleAuthRequestCompleted}\nuseCallback{handleAddressInputChange}\nuseCallback{generateUnsignedTx}\nuseCallback{generateNFTUnsignedTx}\nuseCallback{getCollectibleSendTxDataResponse}\nuseCallback{handleOnNext}\nuseCallback{handleSuggestedDestination}\nuseCallback{handleSuggestionItemClick}\nuseCallback{handleNextClickWithSuggestion}\nuseCallback{goBack}\nuseCallback{handleAuthRequestBtnClicked}\nuseMemo{suggestionListTitle}\nuseMemo{errorContent}",(function(){return[s.k6,o.Z,X.Z,d.t,p.Ze,k,p.gV,g.n,p.s5]})),(pe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(pe.register(ye,"messages","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/SelectRecipientStep.tsx"),pe.register(ve,"blocklistKeys","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/SelectRecipientStep.tsx"),pe.register(me,"SendAddressInput","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/SelectRecipientStep.tsx"),pe.register(be,"NextButton","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/SelectRecipientStep.tsx"),pe.register(Se,"SelectRecipientStep","/workspaces/apps/extension/src/screens/Send/steps/SelectRecipientStep/SelectRecipientStep.tsx")),(he="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&he(e)},13552:(e,t,n)=>{n.d(t,{oK:()=>k});var r,a=n(2784),o=n(59956),s=n(62783),i=n(44121),l=n(33002),u=n(33292),c=n(97842),d=n(62197),f=n.n(d),p=n(38890),h=n(75277),g=n(40620),y=n(95898),v=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m,b,S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function w(){var e=(0,s.t)(u.Ex),t=e.goBack,n=e.goToStep,r=(0,y.Z)(u.cr),i=r.walletId,c=r.currentSendTab,d=(0,h.I0)(),f=(0,l.D7)(),p=(0,l.pZ)();(0,l.pu)();var g=(0,a.useCallback)((function(e){i.onChange(e.id),n("entry")}),[n,i]);return(0,v.jsx)(o.i,{showCryptoNFTSelector:!0,testIdPrefix:"send",wallets:d,onBack:t,onSelect:g,currentTab:c.value,onChangeTab:c.onChange,analyticsSearch:p,analyticsSelect:f})}function x(){var e=(0,s.t)(u.Ex),t=e.goBack,n=e.goToStep,r=(0,y.Z)(u.cr),d=r.collectible,h=r.walletId,m=r.cryptoAmount,b=r.currentSendTab,S=(0,i.j)(),w=(0,p.bX)(S),x=(0,l.ax)(),k=(0,l.Bn)();(0,l.OQ)();var C=(0,g.r)(),L=(0,a.useCallback)((function(e){var t,r=e.chainId,a=(0,c.K)(C,r);h.onChange(null!==(t=null==a?void 0:a.id)&&void 0!==t?t:""),m.onChange(new(f())(0)),d.onChange(e),n("selectRecipient")}),[d,m,n,h,C]);return(0,v.jsx)(o.i,{showCryptoNFTSelector:!0,testIdPrefix:"send",collections:w,onBack:t,onSelect:L,currentTab:b.value,onChangeTab:b.onChange,analyticsSearch:k,analyticsSelect:x})}function k(){return"crypto"===(0,y.Z)(u.cr).currentSendTab.value?(0,v.jsx)(w,{}):(0,v.jsx)(x,{})}S(w,"useStepper{{ goBack, goToStep }}\nuseFields{{ walletId, currentSendTab }}\nusePortfolioWallets{wallets}\nuseSendSelectWalletWalletClicked{triggerAnalyticsWalletClicked}\nuseSendSelectWalletSearchWallet{triggerAnalyticsWalletSearched}\nuseSendSelectWalletViewed{}\nuseCallback{handleSelect}",(function(){return[s.t,y.Z,h.I0,l.D7,l.pZ,l.pu]})),S(x,"useStepper{{ goBack, goToStep }}\nuseFields{{ collectible, walletId, cryptoAmount, currentSendTab }}\nuseHasPolygonNFTSend{isPolygonNFTEnabled}\nuseCollections{collections}\nuseSendSelectNFTClicked{triggerAnalyticsClicked}\nuseSendSelectNFTSearch{triggerAnalyticsSearched}\nuseSendSelectNFTViewed{}\nuseWallets{wallets}\nuseCallback{handleSelect}",(function(){return[s.t,y.Z,i.j,p.bX,l.ax,l.Bn,l.OQ,g.r]})),S(k,"useFields{{ currentSendTab }}",(function(){return[y.Z]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(w,"SelectWalletStepContent","/workspaces/apps/extension/src/screens/Send/steps/SelectSourceStep/SelectSourceStep.tsx"),m.register(x,"SelectNFTStepContent","/workspaces/apps/extension/src/screens/Send/steps/SelectSourceStep/SelectSourceStep.tsx"),m.register(k,"SelectSourceStep","/workspaces/apps/extension/src/screens/Send/steps/SelectSourceStep/SelectSourceStep.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},33599:(e,t,n)=>{n.d(t,{i:()=>x});var r,a,o,s=n(2784),i=n(62783),l=n(53175),u=n(14246),c=n(33002),d=n(33292),f=n(29588),p=n(78040),h=n(68906),g=n(95898),y=n(48972),v=n(52322);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){return(0,v.jsx)("div",{"data-testid":"portfolio-send-collectible-detail-fallback"})}function w(){var e,t,n,r,a,o,b,w=(0,g.Z)(d.cr).collectible,x=(0,i.t)(d.Ex).goBack,k=m((0,s.useState)(!1),2),C=k[0],L=k[1],T=m((0,s.useState)(!1),2),j=T[0],G=T[1],A=(0,s.useCallback)((function(){return L(!0)}),[]),E=(0,s.useCallback)((function(){return G(!0)}),[]);(0,c.AS)();var P=(0,p.o)({contractAddress:null===(e=w.value)||void 0===e?void 0:e.contractAddress,tokenId:null===(t=w.value)||void 0===t?void 0:t.tokenId,chainId:null===(n=w.value)||void 0===n?void 0:n.chainId,onError:A,suspense:!1,disabled:(null===(r=w.value)||void 0===r?void 0:r.chainId)!==f.d_.toString()}).data,M=(0,s.useMemo)((function(){return(null==P?void 0:P.openBids)||[]}),[P]),H=(0,l.F)(),F=(0,h.Z)({contractAddress:null===(a=w.value)||void 0===a?void 0:a.contractAddress,tokenId:null===(o=w.value)||void 0===o?void 0:o.tokenId,chainId:null===(b=w.value)||void 0===b?void 0:b.chainId,onError:E,useCombinedHistory:H}).data,O=(0,s.useMemo)((function(){var e;return H?null!==(e=F)&&void 0!==e?e:[]:(null==F?void 0:F.tokenTransactions)||[]}),[H,F]);if(null==w||!w.value)throw new Error("No Collectible Found");return(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)(S,{}),children:(0,v.jsx)(y.VStack,{maxHeight:"615",overflow:"scroll",testID:"portfolio-send-collectible-detail",children:(0,v.jsx)(u.o,{collectible:w.value,fromSend:!0,goBack:x,offers:M,transactions:O,hasOffersError:C,hasTransactionsError:j,chainId:w.value.chainId})})})}function x(){return(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)(S,{}),children:(0,v.jsx)(w,{})})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(w,"useFields{{ collectible: collectibleToSend }}\nuseStepper{{ goBack: goBackOneStep }}\nuseState{[hasOffersError, setHasOffersError](false)}\nuseState{[hasTransactionsError, setHasTransactionsError](false)}\nuseCallback{onOffersError}\nuseCallback{onTransactionsError}\nuseSendCollectibleDetailViewed{}\nuseCollectibleOffers{{ data: offersQueryRes }}\nuseMemo{offers}\nuseHasCombinedHistoryExperiment{hasCombinedHistoryExperiment}\nuseCollectibleTxHistory{{ data: transactionsQueryRes }}\nuseMemo{transactions}",(function(){return[g.Z,i.t,c.AS,p.o,l.F,h.Z]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(S,"Fallback","/workspaces/apps/extension/src/screens/Send/steps/SendCollectibleDetail/SendCollectibleDetail.tsx"),a.register(w,"SendCollectibleDetailContainer","/workspaces/apps/extension/src/screens/Send/steps/SendCollectibleDetail/SendCollectibleDetail.tsx"),a.register(x,"SendCollectibleDetail","/workspaces/apps/extension/src/screens/Send/steps/SendCollectibleDetail/SendCollectibleDetail.tsx")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},73155:(e,t,n)=>{n.d(t,{_:()=>M});var r,a=n(2784),o=n(63470),s=n(83112),i=n(94496),l=n(36526),u=n(78754),c=n(53194),d=n(62783),f=n(33002),p=n(33292),h=n(65238),g=n(56695),y=n(28834),v=n(88581),m=n(95898),b=n(61641),S=n(52322);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new L(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var i=S(s,n);if(i){if(i===c)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function p(){}var h={};i(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,o,s,i){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==w(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,i)}))}i(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,i(v,"constructor",p),i(p,"constructor",f),f.displayName=i(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(b.prototype),i(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var s=new b(l(t,n,r,a),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(v),i(v,s,"Generator"),i(v,a,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function k(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){k(o,r,a,s,i,"next",e)}function i(e){k(o,r,a,s,i,"throw",e)}s(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=(0,o.vU)({title:{id:"uxLC8E",defaultMessage:[{type:0,value:"Confirm transaction"}]},confirmOnPhone:{id:"LKMb7n",defaultMessage:[{type:0,value:"Confirm on phone"}]},confirmOnPhoneDescription:{id:"Gxrz6E",defaultMessage:[{type:0,value:"A notification was sent to your phone, confirm this transaction to continue"}]},resendNotificationHelperText:{id:"ZxCo5e",defaultMessage:[{type:0,value:"Don't see the notification?"}]},stillNotSeeingYourNotificationHelperText:{id:"Gdu4kE",defaultMessage:[{type:0,value:"Still don't see the notification? "},{type:1,value:"reconnectWallet"}]},reconnectWallet:{id:"s6u5ob",defaultMessage:[{type:0,value:"Reconnect your wallet"}]},resendNotification:{id:"td35SU",defaultMessage:[{type:0,value:"Resend notification"}]}});function A(){var e=(0,s.Z)().formatMessage,t=(0,d.t)(p.Ex),n=t.goBack,r=t.goToStep,o=(0,v.u)(),w=(0,a.useContext)(u.z).signOut,k=(0,m.Z)(p.cr),T=k.unsignedTxResult,j=k.signedTx,A=k.txSigningError,E=k.searchQuery,P=L((0,a.useState)(0),2),M=P[0],H=P[1],F=(0,y.N)("cb_generic_sign_and_submit_desktop"),O=(0,a.useRef)(!1);(0,f.mD)();var I=(0,a.useCallback)((function(e){j.onChange(e),r("status")}),[j,r]),D=(0,a.useCallback)((function(e){A.onChange(e),r("status")}),[A,r]),R=(0,a.useCallback)(C(x().mark((function e(){var t,n,r,a,s,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H((function(e){return e+1})),"Success"===(null===(t=T.value)||void 0===t?void 0:t.kind)){e.next=3;break}return e.abrupt("return",null);case 3:if(n=T.value,r=n.transaction,a=n.wallet,!(!1===c.walletLinkRelay.isLinked&&c.walletLinkRelay.selectedAddress&&c.walletLinkRelay.selectedAddress.length>0)){e.next=7;break}return h.Xr.next(new h.iL),e.abrupt("return",null);case 7:return s=i.Session.hash(c.walletLinkRelay.session.id),e.prev=8,e.next=11,o({unsignedTx:r,wallet:a,sessionIdHash:s,toUsername:E.value,useGenericMessage:F});case 11:l=e.sent,I(l),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!O.current||"UserRejectedWalletLinkRequest"!==e.t0.name){e.next=20;break}return O.current=!1,e.abrupt("return");case 20:D(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,15]])}))),[T.value,o,E.value,F,I,D]);(0,g.F)((function(){R()}));var B=(0,a.useMemo)((function(){return{onClick:(t=C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.current=!0,e.next=3,R();case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),label:e(G.resendNotification)};var t}),[e,R]),N=(0,a.useCallback)((function(){return e(G.stillNotSeeingYourNotificationHelperText,{reconnectWallet:(0,S.jsx)(b.Link,{variant:"label1",color:"foregroundMuted",onPress:w,children:e(G.reconnectWallet)})})}),[e,w]),U=(0,a.useCallback)((function(){O.current=!0,n()}),[n]);return(0,S.jsx)(l.n,{title:e(G.confirmOnPhone),description:e(G.confirmOnPhoneDescription),retryAction:B,secondaryActionLabel:e(G.resendNotificationHelperText),reconnectLabel:M>=4?N():void 0,onDismiss:U})}j(A,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseSignAndSubmitTransactionViaWalletLink{signAndSubmitTransactionViaWalletLink}\nuseContext{{ signOut }}\nuseFields{{ unsignedTxResult, signedTx, txSigningError, searchQuery }}\nuseState{[sendRetryCount, setSendRetryCount](0)}\nuseIsFeatureEnabled{hasGenericSignAndSubmit}\nuseRef{isUserCancelled}\nuseSendSignOnPhoneViewed{}\nuseCallback{onSigningSuccess}\nuseCallback{onSigningError}\nuseCallback{handleSend}\nuseOnMount{}\nuseMemo{retryActionProps}\nuseCallback{generateReconnectLabel}\nuseCallback{handleDismiss}",(function(){return[s.Z,d.t,v.u,m.Z,y.N,f.mD,g.F]}));var E,P,M=(0,a.memo)(A);(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(G,"messages","/workspaces/apps/extension/src/screens/Send/steps/SignOnPhoneStep/SignOnPhoneStep.tsx"),E.register(A,"SignOnPhoneStepComponent","/workspaces/apps/extension/src/screens/Send/steps/SignOnPhoneStep/SignOnPhoneStep.tsx"),E.register(M,"SignOnPhoneStep","/workspaces/apps/extension/src/screens/Send/steps/SignOnPhoneStep/SignOnPhoneStep.tsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},31172:(e,t,n)=>{n.d(t,{_:()=>R});var r=n(2784),a=n(63470),o=n(83112),s=n(4517),i=n(48925),l=n(85324),u=n(88869),c=n(62783),d=n(44764),f=n(6271),p=n(33002),h=n(33292),g=n(52844),y=n(62197),v=n.n(y),m=n(97893),b=n(29225),S=n(1620),w=n(56695),x=n(11598);function k(){const e=(0,x.L)("destination/saveUsage");return(0,r.useCallback)((async({query:t,wallet:n,walletAddress:r})=>{await e({assetCode:n.blockchain.toString().toLowerCase(),label:t,walletAddress:r,chainId:n.network.asChain()?.chainId??0})}),[e])}var C,L=n(95898),T=n(52322);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(){P=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new k(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var i=S(s,n);if(i){if(i===c)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function p(){}var h={};i(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,a)&&(h=y);var v=p.prototype=d.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,o,s,i){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==j(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,i)}))}i(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,i(v,"constructor",p),i(p,"constructor",f),f.displayName=i(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(b.prototype),i(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var s=new b(l(t,n,r,a),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(v),i(v,s,"Generator"),i(v,a,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function M(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){M(o,r,a,s,i,"next",e)}function i(e){M(o,r,a,s,i,"throw",e)}s(void 0)}))}}e=n.hmd(e),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&C(e);var F,O,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},D=(0,a.vU)({successfullySent:{id:"WNNFix",defaultMessage:[{type:0,value:"Successfully sent"}]},sendFailed:{id:"zPv8vr",defaultMessage:[{type:0,value:"Send failed"}]},sendCancelled:{id:"6Xx9Kn",defaultMessage:[{type:0,value:"Transaction cancelled"}]},pleaseTryAgain:{id:"bxwifa",defaultMessage:[{type:0,value:"Please try again"}]},tryAgainBtnText:{id:"FpVA+A",defaultMessage:[{type:0,value:"Try again"}]},goBackHomeBtnText:{id:"r/3Z+D",defaultMessage:[{type:0,value:"Go back home"}]},timeEstimate:{id:"UIwUqb",defaultMessage:[{type:0,value:"This may take over "},{type:1,value:"timeEstimate"}]},sendInitiated:{id:"EXb22+",defaultMessage:[{type:0,value:"Send initiated"}]},done:{id:"r5qei9",defaultMessage:[{type:0,value:"Done"}]},viewTransactions:{id:"7gEbQd",defaultMessage:[{type:0,value:"View transactions"}]}}),R=(0,r.memo)(I((function(e){var t,n=e.wallet,a=(0,o.Z)(),y=a.formatMessage,x=a.formatNumber,C=(0,L.Z)(h.cr),j=C.cryptoAmount,G=C.signedTx,E=C.txSigningError,M=C.toAddress,F=C.searchQuery,O=C.destinationType,I=C.collectible,R=C.currentSendTab,B=(0,s.k6)().replace,N=(0,c.t)(h.Ex),U=N.goToStep,V=N.goBack,Z=(0,u.O)(),_=(0,p.jS)(),W=(0,p.uP)(),q=(0,p.Wo)(),z=(0,p.Cd)(),Q=(0,p.rg)(),$=(0,p.fu)(),K=O.value,X=k(),Y=(0,r.useRef)(!1),J=(0,d.g)(),ee=(0,S.$)(),te=(0,r.useCallback)((function(){function e(){return(e=H(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X({query:F.value,wallet:n,walletAddress:M.value});case 3:Q(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),z();case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[X,F.value,M.value,z,Q,n]);(0,w.F)((function(){var e={type:K,sendType:null==R?void 0:R.value,walletType:J};return null!=I&&I.value&&(e=A(A({},e),{},{tokenId:I.value.tokenId,tokenType:I.value.tokenType,collectionName:I.value.collectionName})),G.value&&(_(e),Y.current=!0,te()),E.value&&(E.value===m.u.userRejectedWalletLinkRequest&&(W(e),Y.current=!0),E.value.stack&&(e=A(A({},e),{},{stack:E.value.stack})),q(A(A({},e),{},{errorType:E.value.name})),Y.current=!0),function(){Y.current||$({walletType:J}),E.value&&(null==E||E.onChange(void 0))}}));var ne=(0,r.useMemo)((function(){return G.value?l.q.SUCCESS:E.value?E.value===m.u.userRejectedWalletLinkRequest?l.q.CANCELLED:l.q.FAILURE:l.q.SUCCESS}),[G.value,E.value]),re=(0,r.useMemo)((function(){var e=ee.fiatValue(n.currencyCode,n.decimals,j.value,n.contractAddress,n.network,2);if(e)return ee.fiatValueString(e)}),[j,ee,n.contractAddress,n.currencyCode,n.decimals,n.network]),ae=(0,r.useMemo)((function(){return ee.formatToCrypto({currencyCode:n.currencyCode,decimals:n.decimals,value:j.value,includeCode:!0,maxDisplayDecimals:new(v())(8),minDisplayDecimals:new(v())(0)})}),[j.value,ee,n]),oe=(0,r.useMemo)((function(){var e=re?"(".concat(re,")"):"";return"".concat(ae," ").concat(e)}),[ae,re]),se=(0,r.useCallback)((function(){U("confirmation")}),[U]),ie=(0,r.useCallback)((function(){B("/portfolio")}),[B]),le=(0,r.useCallback)((function(){B("/portfolio"),Z("sendCrypto")}),[Z,B]),ue=(0,r.useCallback)((function(){Z("sendCrypto"),B("/transactions")}),[Z,B]),ce=(0,r.useMemo)((function(){return{key:"done-button",name:"doneButton",onPress:le,loading:!1,variant:"primary",block:!0,children:y(D.done)}}),[y,le]),de=(0,r.useMemo)((function(){return{key:"view-transactions-button",name:"viewTransactionsButton",testID:"status-view-transactions-button",onPress:ue,loading:!1,variant:"secondary",block:!0,children:y(D.viewTransactions)}}),[y,ue]),fe=(0,r.useMemo)((function(){return{key:"try-again-button",name:"tryAgainButton",onPress:se,loading:!1,variant:"secondary",block:!0,children:y(D.tryAgainBtnText)}}),[y,se]),pe=(0,r.useMemo)((function(){return{key:"go-home-button",name:"goHomeButton",onPress:ie,loading:!1,variant:"secondary",block:!0,children:y(D.goBackHomeBtnText)}}),[y,ie]),he=(0,r.useMemo)((function(){switch(ne){case l.q.SUCCESS:return{status:l.q.SUCCESS,title:null!=I&&I.value?y(D.sendInitiated):y(D.successfullySent),subtitle:null!=I&&I.value?"".concat(I.value.collectionName):oe,timeEstimation:n.blockchain.rawValue!==b.wX.rawValue?y(D.timeEstimate,{timeEstimate:x(5,{unit:"minute",unitDisplay:"long",style:"unit"})}):void 0,primaryButtonProps:ce,secondaryButtonProps:de};case l.q.FAILURE:var e;return{status:l.q.FAILURE,title:y(D.sendFailed),errorMessage:(null==E||null===(e=E.value)||void 0===e?void 0:e.message)||y(D.pleaseTryAgain),primaryButtonProps:fe,secondaryButtonProps:pe};case l.q.CANCELLED:return{status:l.q.CANCELLED,title:y(D.sendCancelled),primaryButtonProps:fe,secondaryButtonProps:pe};default:throw new Error("Unexpected status in send flow")}}),[I.value,y,x,oe,pe,ce,de,ne,fe,null==E||null===(t=E.value)||void 0===t?void 0:t.message,n.blockchain.rawValue]);if(E.value&&!G.value){var ge=E.value;if(ge.name.startsWith("Transport"))return(0,T.jsx)(i.n,A(A({spacing:2,elevation:1},g.ng),{},{children:(0,T.jsx)(f.N,{handleBack:V,statusCode:ge.statusCode,errorId:ge.id})}))}return(0,T.jsx)(l.L,A({},he))}),"useIntl{{ formatMessage, formatNumber }}\nuseFields{{\n    cryptoAmount,\n    signedTx,\n    txSigningError,\n    toAddress,\n    searchQuery,\n    destinationType,\n    collectible,\n    currentSendTab,\n  }}\nuseHistory{{ replace }}\nuseStepper{{ goToStep, goBack }}\nuseLaunchSprig{launchSprig}\nuseSendStatusSuccessViewed{triggerSuccessViewed}\nuseSendStatusCancelledViewed{triggerCancelledViewed}\nuseSendStatusFailedViewed{triggerFailedViewed}\nuseSendSaveUsageFailed{triggerSaveUsageFailed}\nuseSendSaveUsageSuccess{triggerSaveUsageSuccess}\nuseSendStatusNotFired{triggerStatusNotFired}\nuseSaveUsage{saveUsageReq}\nuseRef{hasEventFired}\nuseWalletType{walletType}\nuseCurrencyFormatter{currencyFormatter}\nuseCallback{saveUsage}\nuseOnMount{}\nuseMemo{status}\nuseMemo{sourceFiatAmount}\nuseMemo{sourceCryptoAmount}\nuseMemo{formattedAmounts}\nuseCallback{handleTryAgain}\nuseCallback{handleGoHome}\nuseCallback{handleDone}\nuseCallback{handleViewTransactions}\nuseMemo{primaryButtonProps: ButtonProps}\nuseMemo{secondaryButtonProps: ButtonProps}\nuseMemo{tryAgainButtonProps: ButtonProps}\nuseMemo{goBackHomeButtonProps: ButtonProps}\nuseMemo{transactionStatusProps: TransactionStatusProps}",(function(){return[o.Z,L.Z,s.k6,c.t,u.O,p.jS,p.uP,p.Wo,p.Cd,p.rg,p.fu,k,d.g,S.$,w.F]})));(F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(F.register(D,"messages","/workspaces/apps/extension/src/screens/Send/steps/StatusStep/StatusStep.tsx"),F.register(R,"StatusStep","/workspaces/apps/extension/src/screens/Send/steps/StatusStep/StatusStep.tsx")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},91778:(e,t,n)=>{n.r(t)},83469:(e,t,n)=>{n.r(t)},875:(e,t,n)=>{n.d(t,{G:()=>s});var r=n(2784),a=n(53194),o=n(61355);function s(e){const t=(0,o.E)();return(0,r.useCallback)((async()=>{await t(a.walletLinkRelay.selectedAddress),e?.()}),[e,t])}},32177:(e,t,n)=>{n.d(t,{n:()=>c});var r=n(2784),a=n(58595),o=n(46101),s=n(29225),i=n(39668),l=n(53476),u=n(37971);function c(e){const{isStandalone:t,isLedger:n}=(0,a.X)(),c=t||n,d=(0,l.sJ)(u.x);return(0,r.useMemo)((()=>{const t=i.$.isEqual(o.O6,e.blockchain);return i.$.isEqual(s.wX,e.blockchain)?{isEnabled:!0,isSuggestionsEnabled:!0}:t?{isEnabled:!0,isSuggestionsEnabled:c||"authed"===d}:{isEnabled:!1,isSuggestionsEnabled:!1}}),[c,d,e.blockchain])}},97842:(e,t,n)=>{n.d(t,{K:()=>c});var r=n(62197),a=n.n(r),o=n(46101),s=n(39668),i=n(24801),l=n(29588),u=n(86855);function c(e,t){const n=new(a())(t),r=u.Zc.fromChainId({chainId:n});return n.toNumber()===l.d1?e.find((e=>s.$.isEqual(e.blockchain,o.O6)&&u.Zc.isEqual(r,e.network)&&i.N.isEqual(e.currencyCode,i.N.MATIC))):e.find((e=>s.$.isEqual(e.blockchain,o.O6)&&u.Zc.isEqual(r,e.network)&&i.N.isEqual(e.currencyCode,i.N.ETH)))}}}]);
//# sourceMappingURL=7552.js.map