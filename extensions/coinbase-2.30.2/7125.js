/*! For license information please see 7125.js.LICENSE.txt */
(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[7125],{11972:(e,t,n)=>{"use strict";n.d(t,{m:()=>b});var a=n(2784),r=n(60723),o=n(52322);e=n.hmd(e);var s,i,l,c=["textToCopy","buttonTransitionDelay","compact","onPress"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b(e){var t=e.textToCopy,n=e.buttonTransitionDelay,s=void 0===n?1e3:n,i=e.compact,l=void 0===i||i,u=e.onPress,p=g(e,c),m=(0,a.useRef)(null),b=f((0,a.useState)(!1),2),y=b[0],v=b[1],h=y?"checkmark":"copy",w=(0,a.useCallback)((function(e){"function"==typeof u&&u(e),e.isDefaultPrevented()||(v(!0),navigator.clipboard.writeText(t),m.current=window.setTimeout((function(){v(!1)}),s))}),[v,u,s,t]);return(0,a.useEffect)((function(){return function(){m.current&&clearTimeout(m.current)}}),[]),(0,o.jsx)(r.IconButton,d(d({},p),{},{name:h,compact:l,onPress:w}))}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(b,"useRef{delayTimeoutRef}\nuseState{[isPressed, setIsPressed](false)}\nuseCallback{handlePress}\nuseEffect{}"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(b,"CopyIconButton","/workspaces/apps/extension/src/components/CopyIconButton/CopyIconButton.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},2244:(e,t,n)=>{"use strict";n.d(t,{I:()=>w});var a,r=n(2784),o=n(63470),s=n(83112),i=n(17726),l=n(11071),c=n(71444),u=n(12059),d=n(8476),p=n(53052),f=n(48972),m=n(52322);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var g,b,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,o.vU)({title:{id:"XB4/lj",defaultMessage:[{type:0,value:"Change speed"}]},fastPresetTitle:{id:"AHURpK",defaultMessage:[{type:0,value:"Fast"}]},normalPresetTitle:{id:"HJCEaL",defaultMessage:[{type:0,value:"Normal"}]},slowPresetTitle:{id:"G7UHQ3",defaultMessage:[{type:0,value:"Slow"}]},customCellTitle:{id:"rWNKmm",defaultMessage:[{type:0,value:"Custom"}]},fastPresetTime:{id:"l8uLpc",defaultMessage:[{type:0,value:"~15 sec"}]},normalPresetTime:{id:"HNQ7JV",defaultMessage:[{type:0,value:"~30 sec"}]},slowPresetTime:{id:"yQwV0U",defaultMessage:[{type:0,value:"45 sec+"}]},customCellDescription:{id:"P0FNv2",defaultMessage:[{type:0,value:"Manual Setting"}]}});function h(){return(0,m.jsxs)(f.VStack,{spacingHorizontal:1,children:[(0,m.jsx)(p.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,m.jsx)(p.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,m.jsx)(p.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0})]})}function w(e){var t=e.wallet,n=e.toAddress,a=e.unsignedTx,o=e.isEntireBalance,g=e.initialGasLimit,b=e.handleGenerateTx,y=e.goBack,w=e.goToCustom,T=e.flowType,x=(0,s.Z)().formatMessage,L=(0,c.T)(g,t.network);(0,d.GT)(T);var k=(0,r.useCallback)((function(e){if(!a)return null;var r={kind:o?"EntireBalance":"Amount",value:a.transferValue};(0,u.o)({wallet:t,transactionAmount:r,recipientAddress:n,metadata:a.metadata,blockchainConfig:{txType:"1559",nonce:void 0,dataBuffer:a.data,selectedBaseFeePerGas:e.baseFeePerGas,selectedMaxFeePerGas:e.maxFeePerGas,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas,selectedGasLimit:g}}).then(b)}),[b,g,o,n,a,t]),C=(0,r.useCallback)((function(e,t){return function(){switch(t){case"fast":(0,d.E0)(T);break;case"normal":(0,d.Rw)(T);break;case"slow":(0,d.F7)(T)}return k(e)}}),[T,k]);return(0,m.jsxs)(f.VStack,{height:l.UV,children:[(0,m.jsx)(i.w,{onBack:y,title:x(v.title)}),L?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.ListCell,{title:x(v.fastPresetTitle),description:x(v.fastPresetTime),detail:L.fast.fiatRangeString,subdetail:L.fast.cryptoRangeString,onPress:C(L.fast,"fast"),testID:"adjust-gas-preset-fast-cell"}),(0,m.jsx)(p.ListCell,{title:x(v.normalPresetTitle),description:x(v.normalPresetTime),detail:L.normal.fiatRangeString,subdetail:L.normal.cryptoRangeString,onPress:C(L.normal,"normal"),testID:"adjust-gas-preset-normal-cell"}),(0,m.jsx)(p.ListCell,{title:x(v.slowPresetTitle),description:x(v.slowPresetTime),detail:L.slow.fiatRangeString,subdetail:L.slow.cryptoRangeString,onPress:C(L.slow,"slow"),testID:"adjust-gas-preset-slow-cell"})]}):(0,m.jsx)(h,{}),(0,m.jsx)(p.ListCell,{title:x(v.customCellTitle),subdetail:x(v.customCellDescription),onPress:w,testID:"adjust-gas-preset-custom-cell"})]})}y(w,"useIntl{{ formatMessage }}\nuseMinerFeeEstimates{minerFees}\nuseAdjustableGasPresetScreenViewed{}\nuseCallback{generateUnsigned1559Tx}\nuseCallback{handlePressPreset}",(function(){return[s.Z,c.T,d.GT]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(v,"messages","/workspaces/apps/extension/src/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),g.register(h,"Fallback","/workspaces/apps/extension/src/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),g.register(w,"SharedAdjustGasPresetStep","/workspaces/apps/extension/src/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},49948:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var a,r=n(63470),o=n(83112),s=n(48978),i=n(11071),l=n(60723),c=n(86421),u=n(48972),d=n(61641),p=n(52322);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,r.vU)({carefulWarning:{id:"HLft3N",defaultMessage:[{type:0,value:"Be careful!"}]},allowAndContinueText:{id:"hmCtzs",defaultMessage:[{type:0,value:"Allow and continue"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]}});function g(e){var t=e.handlePrimaryButtonPress,n=e.isLoading,a=e.warningContent,r=e.handleCancelButtonPress,f=e.setSecondConfirmationToFalse,g=e.request,b=e.dappURL,y=e.blockchain,h=(0,o.Z)().formatMessage;return(0,s.ab)({dappURL:b,request:g,blockchain:y}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.VStack,{height:i.UV,justifyContent:"space-between",children:(0,p.jsxs)(u.VStack,{children:[(0,p.jsx)(u.Box,{offsetStart:1,zIndex:10,children:(0,p.jsx)(l.IconButton,{name:"backArrow",onPress:f,transparent:!0,accessibilityLabel:"back label"})}),(0,p.jsx)(u.Box,{spacingTop:4,justifyContent:"center",dangerouslySetStyle:v,children:(0,p.jsx)(c.Icon,{name:"warning",size:"l",dangerouslySetColor:"#ffd200"})}),(0,p.jsx)(d.TextTitle3,{spacingTop:10,as:"h3",align:"center",children:h(m.carefulWarning)}),(0,p.jsx)(d.TextBody,{spacingTop:2,as:"p",align:"center",children:a})]})}),(0,p.jsxs)(l.ButtonGroup,{vertical:!0,accessibilityLabel:"doubleConfirmationWarningLabel",children:[(0,p.jsx)(l.Button,{type:"button",variant:"primary",onPress:t,loading:n,children:h(m.allowAndContinueText)}),(0,p.jsx)(l.Button,{type:"button",variant:"secondary",transparent:!0,onPress:r,disabled:n,children:h(m.cancel)})]})]})}f(g,"useIntl{{ formatMessage }}\nuseDoubleConfirmationPopUpViewed{}",(function(){return[o.Z,s.ab]}));var b,y,v={transform:"scale(3)",margin:"10px"};(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(m,"messages","/workspaces/apps/extension/src/screens/DoubleConfirmation/DoubleConfirmation.tsx"),b.register(g,"DoubleConfirmation","/workspaces/apps/extension/src/screens/DoubleConfirmation/DoubleConfirmation.tsx"),b.register(v,"style","/workspaces/apps/extension/src/screens/DoubleConfirmation/DoubleConfirmation.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},44609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DappTransactionRequest:()=>oe});var a=n(2784),r=n(29526),o=n(48978),s=n(60868),i=n(40791),l=n(39668),c=n(24801),u=n(86855),d=n(40620);function p(e,t,n,a){const r=(0,d.r)();if(r&&e&&t&&n)return r.find((r=>u.Zc.isEqual(r.network,n)&&l.$.isEqual(r.blockchain,e)&&c.N.isEqual(r.currencyCode,t)&&(!a||r.contractAddress===a)))}var f=n(91876),m=n(85197),g=n(34291),b=n.n(g),y=n(48972),v=n(62197),h=n.n(v),w=n(46101),T=n(3184),x=n(27039),L=n(79861),k=n(64074),C=n(85669),S=n(59857),M=n(48834).Buffer;async function A(e,t,n,a){const r=await(0,x.XZ)(new(h())(t),new(h())(n),a);return(0,k.N)(e,t,r,!1)}var R=n(77822),D=n(51299),I=n(27242),j=n(37420),U=n(73881),G=n(49117),P=n(78012);var q=n(81737),F=n(88767);async function H({request:{params:e}}){const t=await async function(e,t){const n=I.m.fromChainId(t);if(!n)throw new Error("Illegal chain id passed in $chainId");const a=(0,w.gB)(n),r=await(0,j.Kn)({blockchain:w.XD.blockchain,currencyCode:w.XD.currencyCodeForNetwork(a),network:a,address:e});if(!r)return;const o=(0,P.eC)(a.asChain()?.chainImageUrl);return new U.w5({primaryAddress:r.address,addresses:[new G.J(w.XD.defaultReceiveType,r.address,r.index)],displayName:w.XD.displayName(a),currencyCode:w.XD.currencyCodeForNetwork(a),imageURL:o,balance:r.balance,decimals:w.XD.decimals,blockchain:w.XD.blockchain,minimumBalance:void 0,network:a,contractAddress:void 0,selectedIndex:r.index})}(e.fromAddress,new(h())(e.chainId));if(!t)throw new Error("No wallet found");const n=new Map([[w.Zg,"extensionStandalone"],[w.nC,(0,F.Z)()],[q.VD,!1]]),a=u.Zc.fromChainId({chainId:new(h())(e.chainId)}),r=(0,w.FM)(a),o={dataBuffer:e.data?(0,D.G$)(e.data):void 0,nonce:null!==e.nonce?new(h())(e.nonce):void 0},s={...o,txType:"1559",selectedGasLimit:e.gasLimit?new(h())(e.gasLimit):void 0,selectedBaseFeePerGas:void 0,selectedMaxFeePerGas:e.maxFeePerGas?new(h())(e.maxFeePerGas):void 0,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas?new(h())(e.maxPriorityFeePerGas):void 0},i={...o,txType:"Legacy",selectedGasPrice:e.gasPriceInWei?new(h())(e.gasPriceInWei):void 0,selectedGasLimit:e.gasLimit?new(h())(e.gasLimit):void 0},l=await(0,R.o)({wallet:t,recipientAddress:e.toAddress,transactionAmount:{kind:"Amount",value:new(h())(e.weiValue)},metadata:n,blockchainConfig:r?s:i});if("Failure"===l.kind)return{wallet:t,unsignedTx:l.transaction,error:l.err};const c=await async function(e){const{network:t,fromAddress:n}=e,a=t.asChain();if(!a)throw S.F.invalidNetwork(t);let r;const o=await(0,T.cn)(n,t),s=await A(e,o,new(h())(a.chainId),n);if((0,C.S)(e)){const{toAddress:t,weiValue:n,data:o,gasLimit:i,gasPrice:l}=e;r=(0,L.VK)(t??null,n,o,s.toNumber(),l,i,a.chainId)}else{const{toAddress:t,weiValue:n,data:o,gasLimit:i,maxFeePerGas:l,maxPriorityFeePerGas:c}=e;r=(0,L.W1)({chainId:a.chainId,data:o,gasLimit:i,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:s.toNumber(),weiValue:n,toAddress:t??null})}return{scanTx:M.from(r).toString("base64"),chainId:a.chainId}}(l.transaction);return{wallet:t,unsignedTx:l.transaction,txScanner:c}}var N=n(89934),E=n(29225),O=n(75561),B=n(33711);var _=n(19242),W=n(26273);async function V(e){const t=e.request.params.transactions,n=[];for(const e of t){const t=(0,_.t)(e);n.push(...t)}const a=await async function(e){const t=O.c.fromChainId(new(h())(101));if(!t)throw new Error("Illegal chain id passed in $chainId");const n=(0,B.gB)(t),a=await(0,j.Kg)({blockchain:E.iz.blockchain,currencyCode:E.iz.currencyCodeForNetwork(n),network:n});if(!a||!a.length)return;const r=e.map((e=>e.toLowerCase())),o=a.filter((e=>r?.includes(e.address.toLowerCase())))[0];if(!o)return;const s=(0,P.eC)(n.asChain()?.chainImageUrl);return new U.w5({primaryAddress:o.address,addresses:[new G.J(E.iz.defaultReceiveType,o.address,o.index)],displayName:E.iz.displayName(n),currencyCode:E.iz.currencyCodeForNetwork(n),imageURL:s,balance:o.balance,decimals:E.iz.decimals,blockchain:E.iz.blockchain,minimumBalance:void 0,network:n,contractAddress:void 0,selectedIndex:o.index})}(n);if(!a)throw N.g.unableToFindWallet;try{const e=await Promise.all(t.map((async e=>{if(!e.feePayer)throw N.g.noFeePayerFound;const t=new Map([[w.Zg,"extensionStandalone"],[w.nC,(0,F.Z)()],[q.VD,!1]]),n=await(0,W.o)({wallet:a,recipientAddress:"",transactionAmount:{kind:"Amount",value:new(h())(0)},metadata:t,nativeDappTransaction:e,shouldSavePendingTransaction:!1});if("Success"!==n.kind)throw N.g.unableToGenerateUnsignedTransaction;return n.transaction})));return{wallet:a,unsignedTx:void 0,unsignedTransactions:e,error:void 0}}catch(e){return{wallet:a,unsignedTx:void 0,unsignedTransactions:[],error:N.g.unableToGenerateUnsignedTransaction}}}var Z,z=n(95057),Q=n(17147),K=n(78334),$=n(40686),X=n(1148),J=n(52322);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&Z(e);var te,ne,ae="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},re={wallet:void 0,unsignedTx:void 0,unsignedTransactions:void 0,txScanner:void 0};function oe(e){var t=e.options,n=e.dappProviderType,l=Y((0,a.useState)(re),2),c=l[0],u=l[1],d=f.U[n];(0,a.useEffect)((function(){(async function(e,t){const n={wallet:void 0,unsignedTx:void 0,unsignedTransactions:void 0,txScanner:void 0};if(e===m.j){const e=await V(t);return{...n,...e}}const a=await H(t);return{...n,...a}})(n,t).then((function(e){(0,o.wY)({request:t.kind,dappURL:t.dappURL,blockchain:d}),u(e)})).catch((function(e){(0,o.fr)({request:t.kind,dappURL:t.dappURL,blockchain:d,eventData:{error:e.message}})}))}),[n,u,t,d]);var g=c.wallet,v=c.unsignedTx,h=c.unsignedTransactions,w=c.txScanner,T=c.error,x=(0,i.j)(g,w,null==v?void 0:v.recipientAddress,(0,s.C)(t.dappURL),null==v?void 0:v.blockchain,t.kind),L=p(null==v?void 0:v.blockchain,null==x?void 0:x.currencyCode,null==v?void 0:v.network,null==x?void 0:x.contractAddress),k=n===m.j;if(!g||k&&void 0===h||!x&&!k&&void 0===v||!k&&null!=x&&x.isLoadingTxScannerData)return(0,J.jsx)(J.Fragment,{});var C=k?(0,J.jsx)(K.L,{options:t,wallet:g,unsignedTransactions:h,blockchain:d},"transactionRequest"):(0,J.jsx)($.u,{options:t,wallet:g,unsignedTx:v,blockchain:d,approveOperation:x,approvedTokenWalletInfo:L,error:T},"transactionRequest");return(0,J.jsx)(r.f,{children:(0,J.jsx)(X.cr.Provider,{onSubmit:b(),children:(0,J.jsx)(X.Ex.Provider,{children:(0,J.jsx)(y.Box,{height:596,children:(0,J.jsxs)(X.Ex.Steps,{children:[C,(0,J.jsx)(Q.P,{wallet:g},"adjustGasPreset"),(0,J.jsx)(z.N,{wallet:g},"adjustGasCustom")]})})})})})}ae(oe,"useState{[transactionContext, setTransactionContext](defaultTransactionContext)}\nuseEffect{}\nuseTxScanner{approveOperation}\nuseWallet{approvedTokenWalletInfo}",(function(){return[i.j,p]})),(te="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(te.register(596,"DAPP_REQUEST_VIEWPORT_HEIGHT","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx"),te.register(re,"defaultTransactionContext","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx"),te.register(oe,"DappTransactionRequest","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx")),(ne="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ne(e)},95057:(e,t,n)=>{"use strict";n.d(t,{N:()=>f});var a,r,o,s=n(2784),i=n(57444),l=n(62783),c=n(1148),u=n(71444),d=n(95898),p=n(52322);function f(e){var t=e.wallet,n=(0,l.t)(c.Ex),a=n.goBack,r=n.goToStep,o=(0,d.Z)(c.cr),f=o.toAddress,m=o.unsignedTransaction,g=o.initialGasLimit,b=(0,s.useCallback)((function(e){m.onChange(e.transaction),r("transactionRequest")}),[r,m]),y=(0,u.T)(g.value,t.network);if(!y)throw Error("Miner fees not defined");var v=(0,s.useMemo)((function(){return{gasLimit:g.value,maxFee:null==y?void 0:y.normal.maxFeePerGas,maxPriorityFee:null==y?void 0:y.normal.maxPriorityFeePerGas,baseFee:null==y?void 0:y.normal.baseFeePerGas}}),[y,g.value]);return(0,p.jsx)(i.C,{wallet:t,toAddress:f.value,unsignedTx:m.value,initialFees:v,handleGenerateTx:b,goBack:a,flowType:"dappTxn"})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseCallback{handleGenerateTx}\nuseMinerFeeEstimates{estimates}\nuseMemo{initialFees}",(function(){return[l.t,d.Z,u.T]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(f,"AdjustGasCustomStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/AdjustGasCustomStep/AdjustGasCustomStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},17147:(e,t,n)=>{"use strict";n.d(t,{P:()=>f});var a,r,o,s=n(2784),i=n(2244),l=n(62783),c=n(1148),u=n(8476),d=n(95898),p=n(52322);function f(e){var t=e.wallet,n=(0,l.t)(c.Ex),a=n.goBack,r=n.goToStep,o=(0,d.Z)(c.cr),f=o.toAddress,m=o.unsignedTransaction,g=o.initialGasLimit,b="dappTxn",y=(0,s.useCallback)((function(){(0,u.Lq)(b),r("adjustGasCustom")}),[r]),v=(0,s.useCallback)((function(e){m.onChange(e.transaction),r("transactionRequest")}),[r,m]);return(0,p.jsx)(i.I,{wallet:t,toAddress:f.value,unsignedTx:m.value,initialGasLimit:g.value,handleGenerateTx:v,goBack:a,goToCustom:y,flowType:b})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseCallback{handlePressCustom}\nuseCallback{handleGenerateTx}",(function(){return[l.t,d.Z]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(f,"AdjustGasPresetStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/AdjustGasPresetStep/AdjustGasPresetStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},31029:(e,t,n)=>{"use strict";n.d(t,{H:()=>C});var a,r=n(2784),o=n(63470),s=n(83112),i=n(48978),l=n(7879),c=n(45289),u=n(78012),d=n(74600),p=n.n(d),f=n(42289),m=n(6058),g=n(48972),b=n(76470),y=n(61641),v=n(52322);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w=(0,o.vU)({transactionDetailsHeader:{id:"wEyTQs",defaultMessage:[{type:0,value:"Transaction details"}]},transactionWarning:{id:"fcgTbM",defaultMessage:[{type:0,value:"This type of request is sometimes used for malicious purposes. Make sure you fully trust this site."}]},unknownTxnTooltip:{id:"tF2L9s",defaultMessage:[{type:0,value:"This is an unknown program type. Make sure you trust this dapp."}]}});function T(e){var t=e.instructionParam,n=e.isInstructionUnknown,a="".concat(l.c.SOLANA_MAINNET.blockExplorerUrl,"/address/"),r=n&&t.paramKey===c.R,o="string"==typeof t.paramValue&&t.paramValue.length>15?(0,u.ro)(t.paramValue,6,4):t.paramValue;return(0,v.jsxs)(g.HStack,{spacingHorizontal:2,justifyContent:"space-between",spacingBottom:1,testID:"instruction-param-row",children:[(0,v.jsx)(y.TextLabel2,{as:"p",color:"foregroundMuted",children:p()(t.paramKey)}),(0,v.jsx)(y.TextLabel2,{as:"p",color:"foregroundMuted",children:r?(0,v.jsx)(y.Link,{to:"".concat(a).concat(t.paramValue),testID:"link-solana-explorer",openInNewWindow:!0,children:o}):o})]})}function x(e){var t=e.instruction,n=e.dappURL,a=e.request,r=(0,s.Z)().formatMessage,o="unknown"===t.instructionType.toLowerCase();return(0,i.HR)({dappURL:n,request:a,instructionType:t.instructionType}),(0,v.jsxs)(f.Card,{width:"100%",elevation:1,borderedBottom:!0,spacingBottom:1,testID:"instruction-card",children:[(0,v.jsxs)(g.HStack,{alignItems:"baseline",children:[(0,v.jsx)(y.TextLabel1,{as:"p",color:"foreground",spacingStart:2,spacingTop:2,spacingBottom:1,children:p()(t.instructionType)}),o&&(0,v.jsx)(g.Box,{justifyContent:"center",children:(0,v.jsx)(b.Tooltip,{testID:"unknown-txn-tooltip",content:r(w.unknownTxnTooltip),placement:"bottom",children:(0,v.jsx)(m.Icon,{name:"info",size:"xs",color:"foreground",testID:"warning-unknown-program-icon",spacingHorizontal:.5})})})]}),t.instructionParams.map((function(e,t){return(0,v.jsx)(T,{instructionParam:e,isInstructionUnknown:o},"instruction-row-".concat(t))}))]})}h(x,"useIntl{{ formatMessage }}\nuseWeb3InstructionTypeDataViewed{}",(function(){return[s.Z,i.HR]}));var L,k,C=(0,r.memo)(h((function(e){var t=e.solUnsignedTxs,n=e.dappURL,a=e.request,o=e.showTransactionWarning,i=(0,s.Z)().formatMessage,l=(0,r.useMemo)((function(){var e=[];return t.forEach((function(t,r){t.dappInstructionMetaData&&Array.isArray(t.dappInstructionMetaData)&&t.dappInstructionMetaData.forEach((function(t,o){e.push((0,v.jsx)(x,{instruction:t,dappURL:n,request:a},"instruction-info-".concat(r,",").concat(o)))}))})),e}),[t,n,a]);return(0,v.jsxs)(g.VStack,{width:"100%",gap:2,children:[(0,v.jsx)(y.TextTitle3,{as:"h3",children:i(w.transactionDetailsHeader)}),o&&(0,v.jsx)(f.Card,{testID:"txn-warning",spacingVertical:2,bordered:!0,borderRadius:"standard",children:(0,v.jsxs)(g.HStack,{justifyContent:"flex-start",children:[(0,v.jsx)(m.Icon,{testID:"txn-warning-icon",name:"info",size:"s",color:"foregroundMuted",spacingStart:2,spacingTop:.5}),(0,v.jsx)(y.TextLabel2,{as:"p",color:"foregroundMuted",spacingHorizontal:1,children:i(w.transactionWarning)})]})}),(0,v.jsx)(f.Card,{borderedHorizontal:!0,borderedTop:!0,borderRadius:"standard",children:l})]})}),"useIntl{{ formatMessage }}\nuseMemo{instructionCards}",(function(){return[s.Z]})));(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(w,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),L.register(T,"InstructionParamRow","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),L.register(x,"InstructionCard","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),L.register(C,"SolanaAdvancedTxnDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},78334:(e,t,n)=>{"use strict";n.d(t,{L:()=>H});var a=n(2784),r=n(63470),o=n(83112),s=n(36548),i=n(90652),l=n(25165),c=n(48978),u=n(89413),d=n(53610);var p=n(87756),f=n(57652),m=n(10449),g=n(32969),b=n(86296),y=n(23132),v=n(54971),h=n(62197),w=n.n(h),T=n(1620),x=n(24801),L=n(52180),k=n.n(L);const C=(0,r.vU)({getMoreCurrencyError:{id:"0EGgTz",defaultMessage:"{totalCostCrypto} ({totalCostFiat}) may be required for the transaction. Please deposit more {currencyCode}."},solanaNetworkCongestionWarning:{id:"VzJ+/i",defaultMessage:"Solana network is experiencing congestion. Transactions may fail to send or confirm"},errorCancel:{id:"8gdsKY",defaultMessage:"Cancel"},errorConfirm:{id:"c7nwmM",defaultMessage:"Confirm"},highNetworkFeesError:{id:"6PwRln",defaultMessage:"Network fees are high right now. Not paid to Coinbase."},learnMore:{id:"9DtuSP",defaultMessage:"Learn more"}}),S=({wallet:e,unsignedTxs:t,error:n,feeWallet:r})=>{const{formatMessage:s}=(0,o.Z)(),i=(0,T.$)(),l=t[0],c=(0,a.useMemo)((()=>t.reduce(((e,t)=>e.add(t.estimatedFee).add(t.extraFee??new(w())(0))),new(w())(0))),[t]),u=(0,a.useMemo)((()=>t.reduce(((e,t)=>e.add(t.transferValue)),new(w())(0))),[t]),d=(0,a.useMemo)((()=>{if(l)return i.formatToCrypto({currencyCode:l.feeCurrencyCode,decimals:l.feeCurrencyDecimal,value:new(w())(c),includeCode:!0,maxDisplayDecimals:new(w())(6)})}),[i,c,l]),p=(0,a.useMemo)((()=>{if(!l)return;const t=i.fiatValue(l.feeCurrencyCode,l.feeCurrencyDecimal,new(w())(c),void 0,e.network);return t?.lessThan(new(k())(.01))&&t?.greaterThan(new(k())(0))?`<${i.fiatValueString(new(k())(.01),!0)}`:i.formatToFiat(l.feeCurrencyCode,l.feeCurrencyDecimal,new(w())(c),!1,void 0,e.network)}),[i,c,l,e.network]),f=(0,a.useMemo)((()=>({getMoreCurrencyError:{type:"getMoreCurrencyError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:s(C.getMoreCurrencyError,{totalCostCrypto:d,totalCostFiat:p,currencyCode:e.network?.asChain()?.baseAssetCurrencyCode??e.blockchain.rawValue})},genericError:{type:"genericError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:`${n?.message}`},solanaNetworkCongestionWarning:{type:"solanaNetworkCongestionWarning",isDismissible:!0,showErrorIcon:!1,isDisabled:!1,message:s(C.solanaNetworkCongestionWarning)}})),[n?.message,s,d,p,e.blockchain.rawValue,e.network]);return(0,a.useMemo)((()=>{if(!t||!r)return;if(n)return f.genericError;const e=x.N.isEqual(l.currencyCode,r.currencyCode)?c.add(u):c;return void 0===r.balance||r.balance.lt(e)||u.isNeg()?f.getMoreCurrencyError:void 0}),[n,f.genericError,f.getMoreCurrencyError,r,u,c,t,l])};var M,A=n(59080),R=n(30830),D=n(21200),I=n(31029),j=n(73163),U=n(52322);e=n.hmd(e),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&M(e);var G,P,q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},F=(0,r.vU)({confirmTransactionTitle:{id:"l68NyE",defaultMessage:[{type:0,value:"Confirm transaction"}]},confirmAllTransactionsTitle:{id:"LnJrm5",defaultMessage:[{type:0,value:"Confirm multiple transactions"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"m1nG96",defaultMessage:[{type:0,value:"Confirm"}]},confirmAll:{id:"MvK7Qg",defaultMessage:[{type:0,value:"Confirm All"}]}});function H(e){var t,n=e.options,r=e.wallet,h=e.unsignedTransactions,w=e.blockchain,T=e.error,x=(0,o.Z)().formatMessage,L=null===(t=r.imageURL)||void 0===t?void 0:t.href,k=r.displayName,C=n instanceof g.rz,M=(0,A.T)(),G=(0,j.U)(r,h),P=(0,l.b)(),q=(0,p.k)(),H=(0,f.g)(),N=(0,m.B)(),E=n.dappURL,O=n.dappName;(0,c.rs)({dappURL:E,request:n.kind,blockchain:w});var B=(0,R.D)(h[0]);if(!B)throw new Error("Something went wrong in TransactionRequestStep");var _=(0,a.useMemo)((function(){if(n instanceof g.sd){var e=n.request.params.options;return{sendOptions:{preflightCommitment:e.preflightCommitment,skipPreflight:e.skipPreflight}}}}),[n]),W=S({wallet:r,unsignedTxs:h,error:T,feeWallet:B}),V=(0,a.useCallback)((function(){N()?H():setTimeout((function(){return window.close()}),50)}),[N,H]),Z=(0,a.useCallback)((function(e){q({eventId:n.eventId,error:e,dappURL:E,blockchain:w,request:n.kind}),V()}),[q,n.eventId,n.kind,E,V,w]),z=(0,a.useCallback)((function(e){var t=e.map((function(e){return e}));!function(e,t){(0,c.y1)({request:u.Q.signAllSolanaTransactionsSuccess,dappURL:e.dappURL,blockchain:d.yC});const n=t.map((e=>[...e.signedTxData]));chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:u.Q.signAllSolanaTransactionsSuccess,signedTransactionData:n,blockchain:d.yC}})}(n,t),V()}),[V,n]),Q=(0,a.useCallback)((function(e){var t,a,r=e;M(e.txHash,e.blockchain,e.state),a=r,"solanaSendTransaction"===(t=n).kind?((0,c.y1)({blockchain:d.yC,request:u.Q.sendSolanaTransactionSuccess,dappURL:t.dappURL}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:t.eventId,action:u.Q.sendSolanaTransactionSuccess,txHash:a.txHash,blockchain:d.yC}})):((0,c.y1)({request:u.Q.signSolanaTransactionSuccess,dappURL:t.dappURL,blockchain:d.yC}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:t.eventId,action:u.Q.signSolanaTransactionSuccess,signedTransactionData:[...a.signedTxData],blockchain:d.yC}})),V()}),[V,n,M]),K=(0,a.useCallback)((function(e){(0,b.eK)({error:e}),(0,c.i6)({dappURL:E,request:n.kind,errorMessage:e.message,blockchain:w}),Z(e)}),[Z,E,n,w]),$=(0,y.Q)({wallet:r,unsignedTx:h[0],signSuccess:Q,signError:K,skipSubmit:"solanaSendTransaction"!==n.kind,handleUnlock:P,source:O,additionalParams:_}),X=$.signAndSubmitStandalone,J=$.isSignAndSubmitStandaloneLoading,Y=(0,v.Y)({wallet:r,unsignedTxs:h,signSuccess:z,signError:K,handleUnlock:P,source:O}),ee=Y.signMultipleTransactionsStandalone,te=Y.isSignMultipleTransactionsStandaloneLoading,ne=J||te,ae=(0,a.useCallback)((function(){(0,c.WT)({dappURL:E,request:n.kind,blockchain:w}),Z(s.WalletUIError.UserRejectedRequest)}),[w,Z,E,n.kind]),re=(0,a.useCallback)((function(){(0,c.H6)({dappURL:E,request:n.kind,blockchain:w}),C?ee():X()}),[n,C,w,E,ee,X]),oe=(0,a.useMemo)((function(){var e;return[{children:x(F.cancel),variant:"secondary",onPress:ae,testID:"sol-request-cancel-button"},{children:x(C?F.confirmAll:F.confirm),variant:null!=W&&W.isDisabled?"secondary":"primary",disabled:null!==(e=null==W?void 0:W.isDisabled)&&void 0!==e?e:ne,loading:ne,onPress:re,testID:"sol-request-confirm-button"}]}),[x,ae,re,C,ne,null==W?void 0:W.isDisabled]);return r?(0,U.jsx)(i.q,{headerText:x(C?F.confirmAllTransactionsTitle:F.confirmTransactionTitle),topSection:(0,U.jsx)(D.c,{dappLogoURL:n.dappLogoURL,dappLogoURLAlt:n.dappLogoURLAlt,dappURL:n.dappURL,networkBadgeURL:L,networkBadgeAlt:k}),advancedDetailsSection:(0,U.jsx)(I.H,{solUnsignedTxs:h,dappURL:n.dappURL,request:n.kind,showTransactionWarning:!0}),detailRowItems:G,disableBackBtn:!0,error:W,buttonProps:oe,showTransactionWarning:!1}):(0,U.jsx)(U.Fragment,{})}q(H,"useIntl{{ formatMessage }}\nuseUpdateTransactionState{updateTransactionState}\nuseSolanaTransactionRequestDetails{detailRows}\nuseHandleUnlock{handleUnlock}\nuseCancel{cancel}\nuseHandleNextQueuedRequest{handleNextQueuedRequest}\nuseHasNextQueuedRequest{hasNextQueuedRequest}\nuseTransactionRequestStepViewed{}\nuseTxFeeWallet{feeWallet}\nuseMemo{additionalTransactionParams}\nuseSolTransactionDetailErrors{solanaTransactionDetailErrors}\nuseCallback{handleNextRequestOrCloseWindow}\nuseCallback{cancelTransaction}\nuseCallback{signMultipleSuccess}\nuseCallback{signSuccess}\nuseCallback{signError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignMultipleTransactionsStandalone{{ signMultipleTransactionsStandalone, isSignMultipleTransactionsStandaloneLoading }}\nuseCallback{handleCancelButtonPress}\nuseCallback{handlePrimaryButtonPress}\nuseMemo{buttonOptions: ButtonProps[]}",(function(){return[o.Z,A.T,j.U,l.b,p.k,f.g,m.B,c.rs,R.D,S,y.Q,v.Y]})),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(F,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaTransactionRequestStep.tsx"),G.register(H,"SolanaTransactionRequestStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaTransactionRequestStep.tsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},73163:(e,t,n)=>{"use strict";n.d(t,{U:()=>h});var a,r=n(2784),o=n(63470),s=n(83112),i=n(62197),l=n.n(i),c=n(1620),u=n(78012),d=n(52180),p=n.n(d),f=n(60417),m=n.n(f);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var g,b,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,o.vU)({walletUsedLabel:{id:"o99uP8",defaultMessage:[{type:0,value:"Wallet used"}]},networkFeeLabel:{id:"jbv0bT",defaultMessage:[{type:0,value:"Total network fee"}]},networkFeeTooltip:{id:"2rNqeI",defaultMessage:[{type:0,value:"Applies to all transactions. Not paid to Coinbase"}]},networkNameLabel:{id:"MWZ9F7",defaultMessage:[{type:0,value:"Network"}]},unknownNetwork:{id:"Kdb7tZ",defaultMessage:[{type:0,value:"Unknown network"}]},transactionSpeedLabel:{id:"sSDDvu",defaultMessage:[{type:0,value:"Transaction speed"}]},addressLabel:{id:"Lk+qm8",defaultMessage:[{type:0,value:"Address"}]}});function h(e,t){var n=(0,s.Z)().formatMessage,a=(0,c.$)(),o=t[0],i=(0,r.useMemo)((function(){var e,n,r,s=t.reduce((function(e,t){return e.add(t.estimatedFee)}),new(l())(0));n=a.formatToFiat(o.feeCurrencyCode,o.feeCurrencyDecimal,s,!1,void 0,o.network),r=a.formatToCrypto({currencyCode:o.feeCurrencyCode,decimals:o.feeCurrencyDecimal,value:s,network:o.network,includeCode:!0});var i=a.fiatValue(o.feeCurrencyCode,o.feeCurrencyDecimal,s,void 0,o.network),c=new(p())(.01);return null!==(e=null!=i&&i.greaterThanOrEqualTo(c)?n:r)&&void 0!==e?e:""}),[a,o.feeCurrencyCode,o.feeCurrencyDecimal,o.network,t]),d=(0,r.useMemo)((function(){var t=e.network.asChain();return t?t.displayName:n(v.unknownNetwork)}),[n,e]);return(0,r.useMemo)((function(){var t;return m()([{label:n(v.walletUsedLabel),detailText:(0,u.ro)(null===(t=e.primaryAddress)||void 0===t?void 0:t.toString(),6,4)},{label:n(v.networkNameLabel),detailText:null==d?void 0:d.toString()},{label:n(v.networkFeeLabel),detailText:i.toString(),tooltipText:n(v.networkFeeTooltip)}])}),[n,i,d,e.primaryAddress])}y(h,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{formatter}\nuseMemo{formattedNetworkFee}\nuseMemo{formattedNetworkName}\nuseMemo{}",(function(){return[s.Z,c.$]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(v,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/useSolanaTransactionRequestDetails.tsx"),g.register(h,"useSolanaTransactionRequestDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/useSolanaTransactionRequestDetails.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},40686:(e,t,n)=>{"use strict";n.d(t,{u:()=>fe});var a=n(2784),r=n(63470),o=n(83112),s=n(36548),i=n(48925),l=n(90652),c=n(32319),u=n(62783),d=n(25165),p=n(27178),f=n(58595),m=n(95545);var g=n(49948),b=n(6271),y=n(1148),v=n(2970),h=n(48978),w=n(98986),T=n(41090),x=n(8389);var L=n(87756),k=n(57652),C=n(10449),S=n(52844),M=n(13403),A=n(62197),R=n.n(A),D=n(46101),I=n(23933),j=n(86296),U=n(56695),G=n(23132),P=n(1620),q=n(78012);const F=(0,r.vU)({spendLimitLabel:{id:"ntOJgI",defaultMessage:"Spend Limit"},accessLimitLabel:{id:"rv9uSE",defaultMessage:"Access Limit"},fullBalance:{id:"BlUPJH",defaultMessage:"Full balance"},entireNFTCollection:{id:"M2Xmbf",defaultMessage:"Entire Collection"},singleNFTItem:{id:"n9Caq6",defaultMessage:"1 item"},spendLimitTooltipText:{id:"wAda+E",defaultMessage:"The maximum amount the smart contract will be able to withdraw."},accessLimitTooltipText:{id:"9IKrsx",defaultMessage:"The number of NFTs the dapp will be able to withdraw."},spendLimitTooltipDetailText:{id:"s1gURw",defaultMessage:"This dapp can withdraw up to {amount} from your wallet"},fullBalanceTooltipDetailText:{id:"L3mGDN",defaultMessage:"This dapp can withdraw all your {currencyCode}"},nftCollectionTooltipDetailText:{id:"9Hd/6J",defaultMessage:"This dapp can withdraw all your {collectionName} NFTs. Make sure you trust this site."},tooltipDetailTitle:{id:"l2xtPz",defaultMessage:"Be careful"},singleNFTWarningText:{id:"Ied0FP",defaultMessage:"This dapp can withdraw your {nftName} NFT. Make sure you trust this site."},fixedAmountWithdrawalWarningText:{id:"4Eovwl",defaultMessage:"This dapp can withdraw {amount}. Make sure you trust this site."}});function H(e,t){const n=(0,P.$)(),{formatMessage:r}=(0,o.Z)(),s=(0,a.useCallback)((t=>{if(e?.currencyCode&&e?.decimals)return n.formatToCrypto({value:e.amountValue,currencyCode:e.currencyCode,decimals:new(R())(e.decimals),includeCode:t,maxDisplayDecimals:new(R())(6),shouldDisplayDustAmount:!1})}),[e?.amountValue,e?.currencyCode,e?.decimals,n]),i=(0,a.useMemo)((()=>s(!0)),[s]),l=(0,a.useCallback)((()=>{const n=t?.balance,a=e?.amountValue;if(!n||n&&a&&n.gt(new(R())(0))&&a.gte(n)){const t=r(F.fullBalanceTooltipDetailText,{currencyCode:e?.currencyCode?.code});return{testID:"fullBalanceWarning",label:r(F.spendLimitLabel),detailText:r(F.fullBalance),tooltipText:r(F.spendLimitTooltipText),outlineDetailText:t,doubleConfirmationText:t,withWarning:!0,isNegativeColor:!0}}if(i)return{testID:"dappWithdrawAmountWithCode",label:r(F.spendLimitLabel),detailText:i,doubleConfirmationText:r(F.fixedAmountWithdrawalWarningText,{amount:i}),tooltipText:r(F.spendLimitTooltipText),tooltipDetailTitle:r(F.tooltipDetailTitle),tooltipDetailText:r(F.spendLimitTooltipDetailText,{amount:i})}}),[e?.amountValue,e?.currencyCode?.code,t?.balance,i,r]),c=(0,a.useCallback)((()=>{if("ITEM_APPROVAL_ALL"===e?.operationType){const t=r(F.nftCollectionTooltipDetailText,{collectionName:e.collectionName?(0,q.xS)(e.collectionName,15):null});return{testID:"nftCollection",label:r(F.accessLimitLabel),detailText:r(F.entireNFTCollection),tooltipText:r(F.accessLimitTooltipText),tooltipDetailTitle:r(F.tooltipDetailTitle),outlineDetailText:t,doubleConfirmationText:t,withWarning:!0,isNegativeColor:!0}}if("ITEM_APPROVAL"===e?.operationType)return{testID:"nftItem",label:r(F.accessLimitLabel),detailText:r(F.singleNFTItem),tooltipText:r(F.accessLimitTooltipText),tooltipDetailTitle:r(F.tooltipDetailTitle),doubleConfirmationText:r(F.singleNFTWarningText,{nftName:e.NFTName?(0,q.xS)(e.NFTName,15):null})}}),[e?.NFTName,e?.collectionName,e?.operationType,r]);return(0,a.useMemo)((()=>e?"BALANCE_APPROVAL"===e?.operationType?l():"ITEM_APPROVAL_ALL"===e?.operationType||"ITEM_APPROVAL"===e?.operationType?c():null:null),[e,l,c])}var N,E=n(24801),O=n(28834),B=n(29217),_=n(86855),W=n(5890),V=n(11081),Z=n(30830),z=n(73881),Q=n(53476),K=n(8476),$=n(95898),X=n(27763),J=n(86421),Y=n(48972),ee=n(52163),te=n(21200),ne=n(95177),ae=n(52322);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&N(e);var ce,ue,de="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},pe=(0,r.vU)({title:{id:"cYyX/U",defaultMessage:[{type:0,value:"Confirm request"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"m1nG96",defaultMessage:[{type:0,value:"Confirm"}]},carefulWarning:{id:"HLft3N",defaultMessage:[{type:0,value:"Be careful!"}]},allowAndContinueText:{id:"hmCtzs",defaultMessage:[{type:0,value:"Allow and continue"}]}});function fe(e){var t,n=e.options,r=e.wallet,A=e.unsignedTx,P=e.blockchain,q=e.approveOperation,F=e.approvedTokenWalletInfo,N=e.error,re=ie((0,a.useState)(),2),se=re[0],le=re[1],ce=ie((0,Q.FV)(B.IW),2),ue=ce[0],de=ce[1],fe=(0,$.Z)(y.cr),me=fe.toAddress,ge=fe.unsignedTransaction,be=fe.initialGasLimit,ye=(0,f.X)(),ve=ye.isStandalone,he=ye.isLedger,we=q&&n,Te=(0,u.t)(y.Ex).goToStep,xe=(0,o.Z)().formatMessage,Le=n.request,ke=n.dappURL,Ce=n.dappName,Se=(0,k.g)(),Me=(0,C.B)(),Ae=(0,L.k)(),Re=(0,a.useContext)(c.H).disableConfirmButton,De=ie((0,X.useToggler)(!1),2),Ie=De[0],je=De[1],Ue=je.toggleOn,Ge=je.toggleOff;(0,h.rs)({dappURL:ke,request:Le.method,blockchain:P,approveOperation:q});var Pe=H(q,F),qe=(0,W.i)(A,r),Fe=(0,a.useCallback)((function(){(0,h.tz)({dappURL:ke,request:Le.method,blockchain:P}),Ue()}),[P,ke,Le.method,Ue]),He=(0,a.useCallback)((function(e){Ae({eventId:n.eventId,request:Le.method,error:e,dappURL:ke,blockchain:P}),Me()?Se():setTimeout((function(){return window.close()}),50)}),[Ae,n.eventId,Le.method,ke,Se,Me,P]),Ne=(0,a.useCallback)((function(e){(0,j.eK)({error:e}),(0,h.i6)({dappURL:ke,request:Le.method,errorMessage:e.message,blockchain:P}),He(e)}),[He,ke,Le.method,P]),Ee=(0,a.useCallback)((function(e){(0,j.eK)({error:new Error(e.message),context:"ledger-error",severity:"error"}),"EthAppPleaseEnableContractData"===e.name?le(e.message):Ne(e)}),[Ne]),Oe=(0,a.useCallback)((function(){le(void 0),de(!1),Ge()}),[de,Ge]),Be=(0,a.useCallback)((function(e){!function(e,t){(0,h.y1)({request:e.request.params.shouldSubmit?T.Q.submitEthereumTransactionSuccess:T.Q.signEthereumTransactionSuccess,dappURL:e.dappURL}),e.request.params.shouldSubmit?chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:T.Q.submitEthereumTransactionSuccess,txHash:(0,w.ensureHexString)(t.txHash,!0),blockchain:x.tn}}):chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:T.Q.signEthereumTransactionSuccess,signedTxData:(0,w.hexStringFromBuffer)(t.signedTxData),blockchain:x.tn}})}(n,e),Me()?Se():setTimeout((function(){return window.close()}),50)}),[n,Se,Me]),_e=(0,d.b)(),We=(0,G.Q)({wallet:r,unsignedTx:ge.value,signSuccess:Be,signError:Ne,skipSubmit:!n.request.params.shouldSubmit,handleUnlock:_e,source:Ce}),Ve=We.signAndSubmitStandalone,Ze=We.isSignAndSubmitStandaloneLoading,ze=(0,p.T)({flow:p.Z.Dapp,unsignedTx:A,signSuccess:Be,signError:Ee,dappURL:ke,source:Ce}),Qe=ze.signAndSubmitLedger,Ke=ze.isSignAndSubmitLedgerLoading,$e=ze.hardwareWalletScreen,Xe=null!=Ze?Ze:Ke,Je=(0,Z.D)(A);if(!Je)throw new Error("Something went wrong in TransactionRequestStep");(0,U.F)((function(){if(!ge.value&&(me.onChange(Le.params.toAddress),ge.onChange(A),(0,I.A)(A))){var e=A;be.onChange(e.gasLimit)}}));var Ye=(0,a.useMemo)((function(){return(0,D.FM)(r.network)}),[r.network]),et=(0,O.N)("adjustable_miner_fee"),tt=ve&&Ye&&(!(0,M.B)()||et),nt=(0,a.useCallback)((function(){(0,K.dy)(),Te("adjustGasPreset")}),[Te]),at=(0,a.useMemo)((function(){return tt?(0,ae.jsx)(ee.Pressable,{as:"button",onPress:nt,backgroundColor:"transparent",children:(0,ae.jsx)(J.Icon,{name:"gear",size:"s",color:"foreground",spacingStart:1})}):null}),[tt,nt]),rt=(0,ne.q)(r,ge.value,q,Pe,at),ot=(0,V.o)({wallet:r,unsignedTx:ge.value,error:N,feeWallet:Je}),st=(0,a.useCallback)((function(){(0,h.WT)({dappURL:ke,request:Le.method,blockchain:P}),He(s.WalletUIError.UserRejectedRequest)}),[He,ke,Le,P]),it=(0,a.useCallback)((function(){return(0,h.H6)({dappURL:ke,request:Le.method,blockchain:P}),ve?Ve():he?Qe():void 0}),[he,ve,Qe,Ve,ke,Le,P]),lt=(0,a.useMemo)((function(){var e;return[{children:xe(pe.cancel),variant:"secondary",onPress:st,testID:"request-cancel-button"},{children:xe(pe.confirm),variant:null!=ot&&ot.isDisabled?"secondary":"primary",disabled:(null!==(e=null==ot?void 0:ot.isDisabled)&&void 0!==e?e:Xe)||Re,loading:Xe,onPress:we?Fe:it,testID:"request-confirm-button"}]}),[xe,st,null==ot?void 0:ot.isDisabled,Xe,Re,we,Fe,it]),ct=z.w5.generateId({blockchain:D.O6,currencyCode:E.N.ETH,network:new _.Zc("ETHEREUM_CHAIN:1",!1),contractAddress:void 0,selectedIndex:new(R())(0)}),ut=r.id!==ct?null===(t=r.imageURL)||void 0===t?void 0:t.href:void 0,dt=r.id!==ct?r.displayName:void 0,pt=qe,ft=pt.gasLimit,mt=pt.analyticsId,gt=pt.chainId,bt=pt.feeCurrencyCode,yt=qe,vt=yt.networkFeeInUSD,ht=yt.networkFeeInCrypto,wt=qe,Tt=wt.minFeeInUSD,xt=wt.maxFeeInUSD,Lt=wt.minFeeInCrypto,kt=wt.maxFeeInCrypto,Ct=(0,a.useMemo)((function(){return{dappLogoURL:n.dappLogoURL,dappLogoURLAlt:n.dappLogoURLAlt,dappURL:n.dappURL,networkBadgeURL:ut,networkBadgeAlt:dt}}),[dt,ut,n.dappLogoURL,n.dappLogoURLAlt,n.dappURL]),St=(0,O.N)("transaction_preview"),Mt=(0,a.useMemo)((function(){return Boolean(St&&Ct)}),[Ct,St]),At=(0,a.useMemo)((function(){var e;return we?(0,ae.jsx)(Y.Box,{spacingTop:2,children:(0,ae.jsx)(v.y,{dappLogoURL:n.dappLogoURL,dappLogoURLAlt:n.dappLogoURLAlt,dappURL:n.dappURL,networkBadgeURL:ut,networkBadgeAlt:dt,approveOperation:q,request:Le.method,blockchain:P,chainId:(null===(e=r.network.asChain())||void 0===e?void 0:e.chainId.toString())||""})}):(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(Y.Box,{spacingTop:2,children:(0,ae.jsx)(te.c,{dappLogoURL:n.dappLogoURL,dappLogoURLAlt:n.dappLogoURLAlt,dappURL:n.dappURL,networkBadgeURL:ut,networkBadgeAlt:dt})})})}),[q,P,we,dt,ut,n.dappLogoURL,n.dappLogoURLAlt,n.dappURL,Le.method,r.network]);return(0,a.useEffect)((function(){var e,t={gasLimit:ft,analyticsId:mt,chainId:gt,feeCurrencyCode:bt};Ye?(e=oe(oe({},t),{},{minFeeInUSD:Tt,maxFeeInUSD:xt,minFeeInCrypto:Lt,maxFeeInCrypto:kt}),(0,m.Kz)("dapp_txn_confirmation_fee_viewed_1559",{action:m.Us.view,loggingId:"a36eaafb-d620-4e8e-961c-aca8f859331c",componentType:m.re.page,minFeeInUSD:e.minFeeInUSD??"",maxFeeInUSD:e.maxFeeInUSD??"",feeCurrencyCode:e.feeCurrencyCode,minFeeInCrypto:e.minFeeInCrypto,maxFeeInCrypto:e.maxFeeInCrypto??"",gasLimit:e.gasLimit,analyticsId:e.analyticsId??"",chainId:e.chainId??""})):function(e){(0,m.Kz)("dapp_txn_confirmation_fee_viewed_legacy",{action:m.Us.view,loggingId:"978713d3-8cf7-4c39-b926-90e93f0a5e86",componentType:m.re.page,networkFeeInUSD:e.networkFeeInUSD??"",networkFeeInCrypto:e.networkFeeInUSD??"",feeCurrencyCode:e.feeCurrencyCode,gasLimit:e.gasLimit,analyticsId:e.analyticsId??"",chainId:e.chainId??""})}(oe(oe({},t),{},{networkFeeInUSD:vt,networkFeeInCrypto:ht}))}),[Tt,xt,Lt,kt,ft,mt,gt,vt,ht,bt,Ye]),se?(0,ae.jsx)(i.n,oe(oe({spacing:2,elevation:1},S.ng),{},{children:(0,ae.jsx)(b.N,{handleBack:Oe,errorMessage:se})})):Ie&&null!=Pe&&Pe.doubleConfirmationText?(0,ae.jsx)(i.n,oe(oe({spacing:2,elevation:1},S.ng),{},{children:(0,ae.jsx)(g.D,{handlePrimaryButtonPress:it,isLoading:Xe,warningContent:Pe.doubleConfirmationText,handleCancelButtonPress:st,setSecondConfirmationToFalse:Ge,dappURL:ke,request:Le.method,blockchain:P})})):ue?$e:r?(0,ae.jsx)(l.q,{shouldRenderTxPreviewHeader:Mt,dappInfo:Ct,headerText:xe(pe.title),options:n,approveOperation:q,topSection:At,detailRowItems:rt,disableBackBtn:!0,error:ot,buttonProps:lt}):(0,ae.jsx)(ae.Fragment,{})}de(fe,"useState{[blindSigningError, setBlindSigningError]}\nuseRecoilState{[hardwareWalletSigning, setHardwareWalletSigning]}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseSigningDevice{{ isStandalone, isLedger }}\nuseStepper{{ goToStep }}\nuseIntl{{ formatMessage }}\nuseHandleNextQueuedRequest{handleNextQueuedRequest}\nuseHasNextQueuedRequest{hasNextQueuedRequest}\nuseCancel{cancel}\nuseContext{{ disableConfirmButton }}\nuseToggler{[\n    showSecondConfirmation,\n    { toggleOn: setSecondConfirmationToTrue, toggleOff: setSecondConfirmationToFalse },\n  ]}\nuseTransactionRequestStepViewed{}\nuseTxScannerContent{txScannerContent}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{navigationToDoubleConfirmationScreenPressed}\nuseCallback{cancelTransaction}\nuseCallback{signError}\nuseCallback{signLedgerError}\nuseCallback{retryLedgerTransaction}\nuseCallback{signSuccess}\nuseHandleUnlock{handleUnlock}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isSignAndSubmitLedgerLoading, hardwareWalletScreen }}\nuseTxFeeWallet{feeWallet}\nuseOnMount{}\nuseMemo{is1559Enabled}\nuseIsFeatureEnabled{adjustableGasFlagEnabled}\nuseCallback{openAdjustableGasPreset}\nuseMemo{AdjustGasPresetAction}\nuseTransactionRequestDetails{detailRows}\nuseTransactionDetailsErrors{transactionDetailsErrors}\nuseCallback{handleCancelButtonPress}\nuseCallback{handlePrimaryButtonPress}\nuseMemo{buttonOptions: ButtonProps[]}\nuseMemo{dappInfo}\nuseIsFeatureEnabled{isTransactionPreviewEnabled}\nuseMemo{shouldRenderTxPreviewHeader}\nuseMemo{topSection}\nuseEffect{}",(function(){return[Q.FV,$.Z,f.X,u.t,o.Z,k.g,C.B,L.k,X.useToggler,h.rs,H,W.i,d.b,G.Q,p.T,Z.D,U.F,O.N,ne.q,V.o,O.N]})),(ce="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ce.register(pe,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestStep.tsx"),ce.register(fe,"TransactionRequestStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestStep.tsx")),(ue="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ue(e)},21200:(e,t,n)=>{"use strict";n.d(t,{c:()=>y});var a,r=n(2784),o=n(63470),s=n(83112),i=n(42289),l=n(86421),c=n(48972),u=n(76470),d=n(61641),p=n(52322);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,o.vU)({requestFrom:{id:"YSmlWG",defaultMessage:[{type:0,value:"Request from"}]},requestWarning:{id:"7F2/Ht",defaultMessage:[{type:0,value:"Make sure you trust this dapp"}]}});function y(e){var t=e.dappLogoURL,n=e.dappLogoURLAlt,a=e.dappURL,o=e.networkBadgeURL,m=e.networkBadgeAlt,g=(0,s.Z)().formatMessage,y=new URL(a),v=f((0,r.useState)(t),2),h=v[0],L=v[1],k=(0,r.useCallback)((function(){L(n)}),[n]);return(0,p.jsx)(c.VStack,{width:"100%",gap:.5,children:(0,p.jsx)(i.Card,{bordered:!0,borderRadius:"standard",elevation:1,spacing:2,width:"100%",height:"160px",children:(0,p.jsxs)(c.VStack,{justifyContent:"center",gap:.5,height:"100%",children:[(0,p.jsxs)("div",{className:w,children:[(0,p.jsx)("img",{className:x,src:h,alt:n,onError:k}),o&&(0,p.jsx)("img",{className:T,src:o,alt:m})]}),(0,p.jsxs)(c.HStack,{alignItems:"center",children:[(0,p.jsx)(d.TextLabel2,{color:"foregroundMuted",as:"p",children:g(b.requestFrom)}),(0,p.jsx)(u.Tooltip,{content:g(b.requestWarning),placement:"bottom",children:(0,p.jsx)(l.Icon,{testID:"dapp-transaction-request-more-info-icon",name:"info",size:"xs",color:"foregroundMuted",spacingStart:1})})]}),(0,p.jsx)(d.TextTitle3,{as:"p",children:y.hostname})]})})})}g(y,"useIntl{{\n    formatMessage\n  }}\nuseState{[sourceUrl, setSourceUrl](dappLogoURL)}\nuseCallback{setAlternativeDappLogoURL}",(function(){return[s.Z]}));var v,h,w="lnr9chz",T="njuihv5",x="duoahwy";n(91029),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(b,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),v.register(y,"TransactionRequestTopSection","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),v.register(w,"logoContainer","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),v.register(T,"networkBadge","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),v.register(x,"dappLogo","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},95177:(e,t,n)=>{"use strict";n.d(t,{q:()=>L});var a,r=n(2784),o=n(63470),s=n(83112),i=n(11972),l=n(62197),c=n.n(l),u=n(46101),d=n(27242),p=n(1620),f=n(78012),m=n(60417),g=n.n(m),b=n(48972),y=n(52322);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var v,h,w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},T=(0,o.vU)({walletUsedLabel:{id:"o99uP8",defaultMessage:[{type:0,value:"Wallet used"}]},costLabel:{id:"WSwaWw",defaultMessage:[{type:0,value:"Cost"}]},networkFeeLabel:{id:"1TgfUs",defaultMessage:[{type:0,value:"Network fee"}]},networkFeeTooltip:{id:"2rNqeI",defaultMessage:[{type:0,value:"Applies to all transactions. Not paid to Coinbase"}]},networkNameLabel:{id:"MWZ9F7",defaultMessage:[{type:0,value:"Network"}]},unknownNetworkLabel:{id:"aihB8f",defaultMessage:[{type:0,value:"Unknown network ["},{type:1,value:"network"},{type:0,value:"]"}]},unknownChainIdLabel:{id:"ZXyz0F",defaultMessage:[{type:0,value:"Unknown chain id "},{type:1,value:"chainId"}]},transactionSpeedLabel:{id:"sSDDvu",defaultMessage:[{type:0,value:"Transaction speed"}]},totalCostLabel:{id:"j9RrnG",defaultMessage:[{type:0,value:"Total cost"}]},addressLabel:{id:"Lk+qm8",defaultMessage:[{type:0,value:"Address"}]},addressTooltip:{id:"rs5Yej",defaultMessage:[{type:0,value:"This dapp is requesting an action which can take money from your wallet. Make sure you trust this site."}]},spenderAddressLabel:{id:"aZoEWg",defaultMessage:[{type:0,value:"Address"}]},nftNameLabel:{id:"7vjoql",defaultMessage:[{type:0,value:"Item"}]},nftName:{id:"+fdnKn",defaultMessage:[{type:1,value:"nftName"}]},collectionNameLabel:{id:"oM6lPv",defaultMessage:[{type:0,value:"Collection"}]},collectionName:{id:"T2MxtE",defaultMessage:[{type:1,value:"collectionName"}]},spendLimitLabel:{id:"ntOJgI",defaultMessage:[{type:0,value:"Spend Limit"}]},fullBalance:{id:"BlUPJH",defaultMessage:[{type:0,value:"Full balance"}]},spendLimitTooltipText:{id:"wAda+E",defaultMessage:[{type:0,value:"The maximum amount the smart contract will be able to withdraw."}]},spendLimitTooltipDetailText:{id:"qPi7hI",defaultMessage:[{type:0,value:"This dapp will be allowed to automatically withdraw "},{type:1,value:"amount"},{type:0,value:" from your wallet"}]},fullBalanceTooltipDetailText:{id:"L3mGDN",defaultMessage:[{type:0,value:"This dapp can withdraw all your "},{type:1,value:"currencyCode"}]}}),x=new(c())(0);function L(e,t,n,a,o){var l=(0,s.Z)().formatMessage,m=(0,p.$)(),v=t,h=t,w=x,L=x,k=(0,r.useMemo)((function(){return(0,u.FM)(e.network)}),[e.network]);t&&v.lowerBoundFee?w=v.lowerBoundFee.lt(v.upperBoundFee)?v.lowerBoundFee:v.upperBoundFee:t&&(L=t.estimatedFee);var C=(0,r.useMemo)((function(){var t,n="";return v?null!==(t=n=k?m.formatToFiatFeeRange(v.feeCurrencyCode,v.feeCurrencyDecimal,v.upperBoundFee,!1,v.lowerBoundFee,v.network):m.formatToFiat(h.feeCurrencyCode,h.feeCurrencyDecimal,L,!1,void 0,e.network))&&void 0!==t?t:"":n}),[L,v,m,k,h,e.network]),S=(0,r.useMemo)((function(){var n,a="";return v&&t?null!==(n=a=k?m.formatToFiatTotalRange({feeCurrencyCode:v.feeCurrencyCode,currencyCode:v.currencyCode,contractAddress:e.contractAddress,network:e.network,fee:v.upperBoundFee,lowerBoundFee:v.lowerBoundFee,amount:t.transferValue,isConfirmed:!1,decimals:e.decimals,includeFee:!0,feeDecimals:v.feeCurrencyDecimal}):m.formatToFiatTotalRange({feeCurrencyCode:h.feeCurrencyCode,currencyCode:h.currencyCode,contractAddress:e.contractAddress,network:e.network,fee:h.estimatedFee,lowerBoundFee:void 0,amount:t.transferValue,isConfirmed:!1,decimals:e.decimals,includeFee:!0,feeDecimals:h.feeCurrencyDecimal}))&&void 0!==n?n:"":a}),[v,m,k,h,t,e]),M=(0,r.useMemo)((function(){if(!t)return"";var n=m.fiatValue(t.currencyCode,e.decimals,new(c())(t.transferValue),e.contractAddress,e.network,2),a=m.formatToCrypto({currencyCode:t.currencyCode,decimals:e.decimals,value:new(c())(t.transferValue),includeCode:!0,maxDisplayDecimals:new(c())(5)});return n?"$".concat(n," - ").concat(a):"".concat(a)}),[m,t,e.contractAddress,e.decimals,e.network]),A=(0,r.useMemo)((function(){var t=(0,u.HT)(e.network.rawValue);if(!t)return l(T.unknownNetworkLabel,{network:e.network.rawValue});var n=d.m.fromChainId(new(c())(t));return n?n.displayName:l(T.unknownChainIdLabel,{chainId:t.toString()})}),[l,e.network.rawValue]),R=(0,r.useMemo)((function(){if(!t)return"";var n=m.fiatValue(t.feeCurrencyCode,e.decimals,new(c())(L),e.contractAddress,e.network,2);if(n)return"$".concat(n);var a=m.formatToCrypto({currencyCode:t.feeCurrencyCode,decimals:e.decimals,value:new(c())(L),includeCode:!0,maxDisplayDecimals:new(c())(5)});return"".concat(a)}),[t,m,e.decimals,e.contractAddress,e.network,L]),D=(0,r.useMemo)((function(){if(!t)return"";var n=t.transferValue.add(L),a=m.formatToFiat(t.feeCurrencyCode,e.decimals,new(c())(n),!1,e.contractAddress,e.network);if(a)return"".concat(a);var r=m.formatToCrypto({currencyCode:t.feeCurrencyCode,decimals:e.decimals,value:new(c())(n),includeCode:!0});return"".concat(r)}),[t,L,m,e.decimals,e.contractAddress,e.network]),I=(0,r.useMemo)((function(){return null==t||!t.recipientAddress||null!=n&&n.spenderAddress?null:{label:l(T.addressLabel),detailText:(0,f.ro)(t.recipientAddress,6,4),warningTooltipText:l(T.addressTooltip),actionIcon:(0,y.jsx)(b.Box,{offsetVertical:2,width:"23px",children:(0,y.jsx)(i.m,{variant:"foregroundMuted",transparent:!0,textToCopy:t.recipientAddress,testID:"receipient-address-copy-button",compact:!0})})}}),[null==n?void 0:n.spenderAddress,l,null==t?void 0:t.recipientAddress]);return(0,r.useMemo)((function(){var e,r;return g()([a,null!=n&&n.NFTName?{label:l(T.nftNameLabel),detailText:l(T.nftName,{nftName:(0,f.xS)(n.NFTName,15)})}:null,null!=n&&n.collectionName?{label:l(T.collectionNameLabel),detailText:l(T.collectionName,{collectionName:(0,f.xS)(n.collectionName,15)})}:null,null!=n&&n.spenderAddress?{label:l(T.spenderAddressLabel),detailText:(0,f.ro)(n.spenderAddress,6,4),warningTooltipText:l(T.addressTooltip),actionIcon:(0,y.jsx)(b.Box,{offsetVertical:2,width:"23px",children:(0,y.jsx)(i.m,{variant:"foregroundMuted",transparent:!0,textToCopy:n.spenderAddress,testID:"spenderAddress-address-copy-button"})})}:null,I,null!=t&&null!==(e=t.transferValue)&&void 0!==e&&e.gt(new(c())(0))?{label:l(T.costLabel),detailText:M}:null,w?{label:l(T.networkFeeLabel),detailText:C,tooltipText:l(T.networkFeeTooltip),actionIcon:o}:{label:l(T.networkFeeLabel),detailText:R,tooltipText:l(T.networkFeeTooltip)},w&&null!=t&&null!==(r=t.transferValue)&&void 0!==r&&r.gt(new(c())(0))?{label:l(T.totalCostLabel),detailText:S}:null,!w&&null!=t&&t.transferValue?{label:l(T.totalCostLabel),detailText:D}:null,{label:l(T.networkNameLabel),detailText:null==A?void 0:A.toString()}])}),[a,null==n?void 0:n.NFTName,null==n?void 0:n.collectionName,null==n?void 0:n.spenderAddress,l,I,null==t?void 0:t.transferValue,M,w,C,o,R,S,D,A])}function k(){var e=(0,s.Z)().formatMessage;return g()([e(T.walletUsedLabel),e(T.networkFeeLabel),e(T.costLabel),e(T.transactionSpeedLabel),e(T.totalCostLabel)])}w(L,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{formatter}\nuseMemo{is1559Enabled}\nuseMemo{formattedNetworkFee}\nuseMemo{formattedTotalCost}\nuseMemo{formattedCost}\nuseMemo{formattedNetworkName}\nuseMemo{formattedEstimatedNetworkFee}\nuseMemo{formattedEstimatedTotalCost}\nuseMemo{recipientAddress}\nuseMemo{}",(function(){return[s.Z,p.$]})),w(k,"useIntl{{ formatMessage }}",(function(){return[s.Z]})),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(T,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),v.register(x,"zero","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),v.register(L,"useTransactionRequestDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),v.register(k,"useTransactionDetailRowLabels","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},2970:(e,t,n)=>{"use strict";n.d(t,{y:()=>k});var a,r=n(2784),o=n(63470),s=n(83112),i=n(83411),l=n(48978),c=n(60868),u=n(86421),d=n(48972),p=n(50018),f=n(76470),m=n(61641),g=n(52322);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h="var(--foreground-muted)",w=(0,o.vU)({tokenAccessTitle:{id:"fQ+lNc",defaultMessage:[{type:0,value:"Allow token access"}]},nftAccessTitle:{id:"b/bkj/",defaultMessage:[{type:0,value:"Allow NFT access"}]},dappAllowedText:{id:"CUNSOm",defaultMessage:[{type:1,value:"dappHostname"}]},warning:{id:"ZCZhYq",defaultMessage:[{type:0,value:"Only allow dapps that you fully trust with access to your wallet"}]},onlySignText:{id:"crcesR",defaultMessage:[{type:0,value:"Only sign if you fully trust this site with access to your account"}]}});function T(e){var t=e.dappLogoURL,n=e.dappLogoURLAlt,a=e.dappURL,o=e.networkBadgeURL,y=e.networkBadgeAlt,v=e.approveOperation,T=e.request,x=e.blockchain,L=e.chainId,k=(0,r.useMemo)((function(){return(0,c.C)(a)}),[a]);(0,l.Pt)({approveOperation:v,dappURL:k,request:T,blockchain:x});var S=(0,s.Z)().formatMessage,M=b((0,r.useState)(t),2),A=M[0],R=M[1],D=(0,r.useCallback)((function(e){return{imageUrl:e,youtubeUrl:void 0,iframeUrl:void 0,animationUrl:void 0,tokenType:"",collectionName:(null==v?void 0:v.collectionName)||"",tokenId:""}}),[null==v?void 0:v.collectionName]),I=(0,r.useCallback)((function(){R(n)}),[n]),j=(0,r.useMemo)((function(){return"BALANCE_APPROVAL"===(null==v?void 0:v.operationType)?w.tokenAccessTitle:"ITEM_APPROVAL_ALL"===(null==v?void 0:v.operationType)||"ITEM_APPROVAL"===(null==v?void 0:v.operationType)?w.nftAccessTitle:null}),[null==v?void 0:v.operationType]);return(0,g.jsxs)(d.Box,{bordered:!0,borderRadius:"standard",flexDirection:"column",spacingHorizontal:2,width:"100%",children:[(0,g.jsxs)(d.HStack,{justifyContent:"flex-start",alignItems:"center",children:[(0,g.jsxs)(d.Box,{spacingTop:3,position:"relative",children:[(0,g.jsx)(p.RemoteImage,{source:A,resizeMode:"contain",width:32,height:32,shape:"squircle",alt:n,onError:I}),o?(0,g.jsx)("img",{className:C,src:o,alt:y}):null]}),null!=v&&v.imageUrl?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Box,{spacingTop:3,spacingHorizontal:1,children:(0,g.jsx)(u.Icon,{size:"s",name:"arrowsHorizontal",dangerouslySetColor:h})}),(0,g.jsx)(d.Box,{spacingTop:3,children:(0,g.jsx)(i.Vp,{collectible:D(v.imageUrl),radius:"roundedFull",size:"32",chainId:L})})]}):null]}),(0,g.jsx)(d.Box,{spacingBottom:.5,spacingTop:3,children:(0,g.jsx)(d.VStack,{children:Boolean(j)&&(0,g.jsx)(m.TextTitle3,{as:"h1",children:S(j)})})}),(0,g.jsx)(d.Box,{spacingBottom:3,children:(0,g.jsxs)(d.HStack,{children:[(0,g.jsx)(m.TextLabel2,{as:"span",color:"foregroundMuted",children:S(w.dappAllowedText,{dappHostname:k})}),(0,g.jsx)(f.Tooltip,{content:S(w.onlySignText),placement:"bottom",children:(0,g.jsx)(u.Icon,{testID:"dapp-transaction-request-more-info-icon",name:"info",size:"xs",color:"foregroundMuted",spacingStart:1,spacingTop:.5})})]})})]})}v(T,"useMemo{dappHostname: string}\nuseTriggerTxApprovalLoaded{}\nuseIntl{{\n    formatMessage\n  }}\nuseState{[sourceUrl, setSourceUrl](dappLogoURL)}\nuseCallback{collectionImageUrl}\nuseCallback{setAlternativeDappLogoURL}\nuseMemo{headerTitle}",(function(){return[l.Pt,s.Z]}));var x,L,k=(0,r.memo)(T),C="nb1wmky";n(50470),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(h,"ICON_COLOR","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),x.register(w,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),x.register(T,"TxApprovalComponent","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),x.register(k,"TxApproval","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),x.register(C,"networkBadge","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},40791:(e,t,n)=>{"use strict";n.d(t,{j:()=>P});var a=n(2784),r=n(82066),o=n(62197),s=n.n(o),i=n(60593);const l="scan_tx.web3_request.scan_tx_invoked",c="scan_tx.web3_request.scan_tx_success",u="scan_tx.web3_request.scan_tx_error",d="scan_tx.web3_request.scan_tx_invalid_query",p="scan_tx.web3_request.get_crypto_currencies_success",f="scan_tx.web3_request.get_crypto_currencies_image_not_found",m="scan_tx.web3_request.get_crypto_currencies_error";function g(e,t,n){return(0,i.bK)(e,{loggingId:t,...n})}function b(e){g(l,"40102260-104e-4084-9203-88fcc3af0c5c",e)}var y=n(86296),v=n(24801),h=n(32832);async function w({chainId:e,contractAddresses:t,blockchain:n}){const{result:a}=await(0,h.xA)("getCryptoCurrencies",{chainId:e,contractAddresses:t}),r=a.cryptoCurrencies?.find((e=>e.blockchain.toLowerCase()===n.toLowerCase()&&e.contractAddress===t));return{imageUrl:r?.imageUrl??""}}var T=n(28834);async function x(e,t){const{result:n}=await(0,h.ty)("scanTx",{txData:e,networkName:t});return n}async function L(e,t,n,a){const r="scanTxV2"+(a?"?simulate=true":""),{result:o}=await(0,h.ty)(r,{txData:e,networkName:t,from:n});return o}var k,C,S,M=n(73881);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(){j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),s=new L(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return C()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=w(s,n);if(i){if(i===u)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=c(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function p(){}function f(){}var m={};i(m,r,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==t&&n.call(b,r)&&(m=b);var y=f.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function h(e,t){function a(r,o,s,i){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==A(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return a("throw",e,s,i)}))}i(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){a(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",f),i(f,"constructor",p),p.displayName=i(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(h.prototype),i(h.prototype,o,(function(){return this})),e.AsyncIterator=h,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new h(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(y),i(y,s,"Generator"),i(y,r,(function(){return this})),i(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function U(e,t,n,a,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){U(o,a,r,s,i,"next",e)}function i(e){U(o,a,r,s,i,"throw",e)}s(void 0)}))}}function P(e,t,n,o,i,l){var h=(0,T.N)("token_approvals"),k=(0,T.N)("token_approvals_rn"),C=h||k,S=(0,T.N)("tx_scanner_endpoint"),A=(0,T.N)("tx_scanner_simulation"),R=function(e,t){return{scanTx:t.scanTx,networkId:M.w5.txScannerId(e),from:e.primaryAddress}},I=(0,r.useQuery)(["TX_SCANNER",null==t?void 0:t.scanTx],G(j().mark((function n(){var a,r,s,c,u,d,p,f,m,g,y,h,w,T,k,C,M,D,I,U,G,P,q,F,H,N,E,O,B,_,W,V,Z,z,Q,K,$,X,J,Y;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=R(e,t),r=a.scanTx,s=a.networkId,c=a.from,b({request:l,dappURL:o,blockchain:null!=i?i:"",scanTx:r,networkId:s,simulationEnabled:A}),!S){n.next=11;break}return n.next=6,L(r,s,c,A);case 6:d=n.sent,p=d.decodedTx.operations,u=p,n.next=16;break;case 11:return n.next=13,x(r,s);case 13:f=n.sent,m=f.operations,u=m;case 16:if(u&&(!u||Array.isArray(u))){n.next=18;break}return n.abrupt("return",void 0);case 18:if(!("balanceApproval"in u[0])){n.next=27;break}return g=u[0],y=g.balanceApproval,h=(y=void 0===y?{}:y).amount,w=(h=void 0===h?{}:h).currency,T=(w=void 0===w?{}:w).symbol,k=void 0===T?"":T,C=w.decimals,M=void 0===C?0:C,D=w.contractAddress,I=void 0===D?"":D,U=h.value,G=void 0===U?"":U,P=y.spenderAddress,q=void 0===P?"":P,F=g.operationType,n.abrupt("return",{operationType:F,amountValue:G,currencyCode:new v.N(k),spenderAddress:q,decimals:M,contractAddress:I.toLowerCase()});case 27:if(!("itemApprovalAll"in u[0])){n.next=32;break}return H=u[0],N=H.itemApprovalAll,E=N.collection,O=(E=void 0===E?{}:E).name,B=E.imageUrl,_=N.operatorAddress,W=H.operationType,n.abrupt("return",{operationType:W,spenderAddress:_,collectionName:O,imageUrl:B});case 32:if(!("itemApproval"in u[0])){n.next=39;break}return V=u[0],Z=V.itemApproval,z=Z.item,Q=(z=void 0===z?{}:z).name,K=z.imageUrl,$=Z.collection,X=($=void 0===$?{}:$).name,J=Z.approvedAddress,Y=V.operationType,n.abrupt("return",{operationType:Y,spenderAddress:J,NFTName:Q,collectionName:X,imageUrl:K});case 39:case"end":return n.stop()}}),n)}))),{staleTime:6e4,enabled:Boolean(C&&e&&t),retry:!1,onError:function(e){var t=H(e);!function(e){g(u,"ae40fd71-02ab-4a19-96b0-52eed833b43d",e)}(t);var n=t.eventData;(0,y.eK)({error:e,metadata:n,context:"scanTx_http_error"})},onSuccess:function(n){var a=R(e,t),r=a.scanTx,s=a.networkId,u={request:l,dappURL:o,blockchain:null!=i?i:"",scanTx:r,networkId:s,operationType:null==n?void 0:n.operationType};return n?function(e){g(c,"d9e05342-c6ad-4053-bb1f-302a2757c4f8",e)}(u):function(e){g(d,"4ae13734-f576-4568-8695-9e1d6d4913de",e)}(u)}}),U=I.isLoading,P=I.status,q=I.data,F=(0,r.useQuery)(["GET_CURRENCIES_LOGO",t],G(j().mark((function a(){var r,o,s,i;return j().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.chainId,a.next=3,w({chainId:r.toString(),contractAddresses:n.toLowerCase(),blockchain:e.blockchain.rawValue});case 3:return o=a.sent,s=o.imageUrl,i=void 0===s?"":s,a.abrupt("return",i);case 7:case"end":return a.stop()}}),a)}))),{staleTime:6e4,enabled:Boolean(C&&e&&t&&n),retry:!1,onError:function(e){var t=H(e);!function(e){g(m,"60e68d7b-0367-477a-bf01-f36e3108d9c2",e)}(t);var n=t.eventData;(0,y.eK)({error:e,metadata:n,context:"getCryptoCurrencies_http_error"})},onSuccess:function(e){var a=t.chainId,r={request:l,dappURL:o,blockchain:null!=i?i:"",chainId:String(a),contractAddresses:n.toLowerCase()};return e?function(e){g(p,"e0063d8b-a865-4827-b415-8f2fe8596464",e)}(r):function(e){g(f,"c67f7f34-3e4c-49f7-a9e6-eb7722a08189",e)}(r)}}).data,H=(0,a.useCallback)((function(e){var t,n;return{request:l,dappURL:o,blockchain:null!=i?i:"",eventData:{message:null==e||null===(t=e.message)||void 0===t?void 0:t.toString(),code:null==e?void 0:e.code,status:null==e||null===(n=e.status)||void 0===n?void 0:n.toString()}}}),[i,o,l]);return(0,a.useMemo)((function(){if("loading"===P||U)return{isLoadingTxScannerData:!0};if("idle"!==P&&("success"!==P&&"error"!==P||q)){if(null!=q&&q.amountValue&&null!=q&&q.decimals){var e=D(D({},q),{},{amountValue:new(s())(q.amountValue),decimals:new(s())(q.decimals),imageUrl:F});return D({isLoadingTxScannerData:!1},e)}return D({isLoadingTxScannerData:!1},q)}}),[F,U,q,P])}e=n.hmd(e),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&k(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(P,"useIsFeatureEnabled{isTokenApprovalsExtensionEnabled}\nuseIsFeatureEnabled{isTokenApprovalsRNEnabled}\nuseIsFeatureEnabled{isTxScannerEndpointEnabled}\nuseIsFeatureEnabled{isTxSimulationEnabled}\nuseQuery{{\n    isLoading: isLoadingTxScanner,\n    status: txScannerLoaderStatus,\n    data: txScannerData,\n  }}\nuseQuery{{ data: dappImageLogo }}\nuseCallback{logFailureEvent}\nuseMemo{}",(function(){return[T.N,T.N,T.N,T.N,r.useQuery,r.useQuery]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&C.register(P,"useTxScanner","/workspaces/libs/data/stores/TxScanner/hooks/useTxScanner.tsx"),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},74600:(e,t,n)=>{var a=n(34311),r=n(23779),o=a((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=o},91029:(e,t,n)=>{"use strict";n.r(t)},50470:(e,t,n)=>{"use strict";n.r(t)},89413:(e,t,n)=>{"use strict";var a;n.d(t,{Q:()=>a}),function(e){e.solanaConnectionSuccess="solanaConnectionSuccess",e.solanaConnectionDeny="solanaConnectionDeny",e.signSolanaMessageSuccess="signSolanaMessageSuccess",e.signSolanaMessageDeny="signSolanaMessageDeny",e.sendSolanaTransactionSuccess="sendSolanaTransactionSuccess",e.sendSolanaTransactionDeny="sendSolanaTransactionDeny",e.signSolanaTransactionSuccess="signSolanaTransactionSuccess",e.signSolanaTransactionDeny="signSolanaTransactionDeny",e.signAllSolanaTransactionsSuccess="signAllSolanaTransactionsSuccess",e.signAllSolanaTransactionsDeny="signAllSolanaTransactionsDeny",e.parentDisconnected="parentDisconnected",e.featureFlagOff="featureFlagOff"}(a||(a={}))},1148:(e,t,n)=>{"use strict";n.d(t,{Ex:()=>i,cr:()=>c});var a=n(62783),r=n(62197),o=n.n(r),s=n(55598);const i=(0,a.v)({steps:["transactionRequest","adjustGasPreset","adjustGasCustom"],defaultStep:"transactionRequest"}),l={toAddress:"",unsignedTransaction:void 0,initialGasLimit:new(o())(0)},c=(0,s.Z)({initialValues:l})},87756:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var a,r=n(2784);!function(e){e.web3RequestCanceled="web3RequestCanceled",e.parentDisconnected="parentDisconnect"}(a||(a={}));var o=n(48978);function s(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))}function i(){return(0,r.useCallback)((async function({eventId:e,error:t,dappURL:n,blockchain:r,request:i}){return new Promise((l=>{(0,o.dU)({request:i,dappURL:n,errorMessage:t.message,errorName:t.name,blockchain:r}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e,action:a.web3RequestCanceled,error:s(t),blockchain:r}},(()=>l()))}))}),[])}},10449:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var a=n(2784),r=n(53476),o=n(57652);function s(){const e=(0,r.sJ)(o.S);return(0,a.useCallback)((()=>e.length>0),[e])}},54971:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d});var a=n(2784),r=n(43817),o=n(3930),s=n(51728),i=n(63854),l=n(34291),c=n.n(l);const u={sendOptions:{skipPreflight:!0}};function d({wallet:e,unsignedTxs:t,signSuccess:n,signError:l,handleUnlock:d,unlockSuccess:p,unlockError:f,source:m="extension",txSubmissionType:g="original",skipSubmit:b=!0}){const[y,v]=(0,a.useState)(!1),h=(0,s.V)(),w=(0,a.useCallback)((t=>n=>{t&&h([t.asTransaction(n.txHash,n.nonce,e,t.metadata,g)])}),[h,g,e]),T=(0,a.useCallback)((e=>e.transferValue.isZero()?c():w(e)),[w]),x=(0,a.useCallback)((async a=>{try{if(!t||t.length<1)return null;const s=[];for(const n of t){const t=await(0,i.Y)({unsignedTx:n,mnemonic:a,wallet:e,txSubmissionType:"original",skipSubmit:b,onSubmit:T(n),source:m,additionalParams:b?void 0:u});b||await(0,r.fo)(t.txHash,t.fromAddress,!0,o.Q.CONFIRMED),s.push(t)}n(s)}catch(e){l(e)}finally{v(!1)}}),[t,n,e,b,T,m,l]),L=(0,a.useCallback)((()=>(v(!0),d((e=>{p?.(),x(e)}),(e=>{e&&f?.(e),v(!1)})))),[d,x,f,p]);return(0,a.useMemo)((()=>({signMultipleTransactionsStandalone:L,isSignMultipleTransactionsStandaloneLoading:y})),[y,L])}}}]);
//# sourceMappingURL=7125.js.map