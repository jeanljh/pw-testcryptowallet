/*! For license information please see 4921.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[4921],{84813:(e,t,r)=>{r.d(t,{R:()=>m});var n,o=r(2784),a=r(20672),s=r(17726),i=r(86855),l=r(52180),u=r(48972),c=r(221),d=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var f,g,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function m(e){var t=e.title,r=e.networks,n=e.selectedNetwork,f=e.onItemSelected,g=e.onGoBack,p=e.learnMoreSection,m=(0,o.useRef)(null),h=(0,o.useCallback)((function(e){var t,o=e.key,a=e.index,s=e.style,u=r[a];return(0,d.jsx)("div",{style:s,children:(0,d.jsx)(c.h,{network:u,selected:!!n&&i.Zc.isEqual(n,u),onPress:f,disabled:null===(t=u.balance)||void 0===t?void 0:t.equals(new l.Decimal(0))})},o)}),[r,f,n]);return(0,d.jsxs)(u.VStack,{justifyContent:"space-between",height:"100%",children:[(0,d.jsx)(s.w,{onBack:g,title:t}),(0,d.jsx)(u.VStack,{ref:m,spacingHorizontal:1,height:"100%",children:(0,d.jsx)(a._K,{scrollElement:m.current,children:function(e){var t=e.height,n=e.scrollTop;return(0,d.jsx)(a.qj,{disableHeight:!0,defaultHeight:t,children:function(e){var t=e.width,o=e.height;return(0,d.jsx)(a.aV,{autoHeight:!0,height:o||300,width:t||345,scrollTop:n,rowHeight:60,rowRenderer:h,rowCount:r.length,overscanRowCount:5})}})}})}),null!=p?p:null]})}p(m,"useRef{container}\nuseCallback{renderRow}"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(60,"LIST_ITEM_SIZE","/workspaces/apps/extension/src/components/SelectNetwork/SelectNetwork.tsx"),f.register(m,"SelectNetwork","/workspaces/apps/extension/src/components/SelectNetwork/SelectNetwork.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},64921:(e,t,r)=>{r.r(t),r.d(t,{Bridge:()=>x});var n=r(2784),o=r(58406),a=r(82048),s=r(79517),i=r(11071),l=r(34291),u=r.n(l),c=r(48972),d=r(95545),f=r(83221);function g(){return null===localStorage.getItem(f.h)?"welcome":"entry"}var p,m=r(3132),h=r(50870),v=r(93199),y=r(52322);e=r.hmd(e),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&p(e);var w,b,k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function S(){var e=g();return(0,y.jsx)(v.Ex.Provider,{defaultStep:e,children:(0,y.jsx)(h.x,{})})}function x(){var e=(0,n.useCallback)((function(e){var t=e.error,r=e.errorHash;(0,d.Kz)("bridge.full_screen_error.viewed",{errorHash:r,errorMessage:t.message,loggingId:"998926da-7e83-46b6-afa8-6e1185c85456",action:d.Us.view,componentType:d.re.page})}),[]),t=(0,n.useCallback)((function(e){var t=e.error;return(0,y.jsx)(a.G,{error:t})}),[]);return(0,y.jsx)(c.VStack,{height:i.IR,children:(0,y.jsx)(o.S,{onError:e,renderFallback:t,children:(0,y.jsx)(s.J,{fallback:(0,y.jsx)(m.T,{}),children:(0,y.jsx)(v.cr.Provider,{onSubmit:u(),children:(0,y.jsx)(S,{})})})})})}k(S,"useDefaultStep{defaultStep}",(function(){return[g]})),k(x,"useCallback{logGlobalError}\nuseCallback{renderFallback}"),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(S,"BridgeContent","/workspaces/apps/extension/src/screens/Bridge/Bridge.tsx"),w.register(x,"Bridge","/workspaces/apps/extension/src/screens/Bridge/Bridge.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},50870:(e,t,r)=>{r.d(t,{x:()=>y});var n,o=r(64927),a=r(31529),s=r(45937),i=r(52494),l=r(43860),u=r(24954),c=r(87484),d=r(74433),f=r(63207),g=r(35349),p=r(93199),m=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var h,v;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function y(){return(0,m.jsxs)(p.Ex.Steps,{children:[(0,m.jsx)(o.U,{component:(0,m.jsx)(g.A,{})},"welcome"),(0,m.jsx)(o.U,{component:(0,m.jsx)(s.y,{})},"entry"),(0,m.jsx)(o.U,{component:(0,m.jsx)(l.X,{})},"networkInterstitial"),(0,m.jsx)(o.U,{component:(0,m.jsx)(u.M,{selectionMode:"source"})},"selectSourceNetwork"),(0,m.jsx)(o.U,{component:(0,m.jsx)(u.M,{selectionMode:"target"})},"selectTargetNetwork"),(0,m.jsx)(o.U,{component:(0,m.jsx)(c.U,{})},"selectSourceWallet"),(0,m.jsx)(o.U,{component:(0,m.jsx)(d.R,{})},"selectTargetAsset"),(0,m.jsx)(o.U,{hideNavigation:!0,component:(0,m.jsx)(a.m,{})},"confirmationPreview"),(0,m.jsx)(o.U,{hideNavigation:!0,component:(0,m.jsx)(f._,{})},"status"),(0,m.jsx)(o.U,{hideNavigation:!0,component:(0,m.jsx)(i.F,{})},"phoneConfirmation")]})}(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&h.register(y,"BridgeStepper","/workspaces/apps/extension/src/screens/Bridge/BridgeStepper.tsx"),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},31529:(e,t,r)=>{r.d(t,{m:()=>_});var n=r(2784),o=r(63470),a=r(83112),s=r(71962),i=r(90652),l=r(62783),u=r(25165),c=r(47022),d=r(27178),f=r(93199),g=r(20249),p=r(45483),m=r(29343),h=r(58464),v=r(23933),y=r(86296),w=r(72987),b=r(23132),k=r(12341),S=r(76054),x=r(51913),C=r(94312),A=r(93992),T=r(72133);function L(e){const{sourceFiatAmount:t,sourceCryptoAmount:r,targetFiatAmount:n,targetCryptoAmount:o}=(0,T.D)(e),{quote:a}=e;if(!r||!o)throw new Error("Could not display overview items on bridge confirmation page, missing crypto amounts");return{primaryItem:{title:a.fromAsset.name,iconSourceOrName:{iconUrl:a.fromAsset.imageURL,currencyCode:a.fromAsset.currencyCode?.code,network:a.fromAsset.network,showNetworkIcon:a.fromAsset.network.asChain()?.isLayer2},detail:t,subDetail:r,isAsset:!0,testID:"primary"},secondaryItem:{title:a.toAsset.name,iconSourceOrName:{iconUrl:a.toAsset.imageURL,currencyCode:a.toAsset.currencyCode?.code,network:a.toAsset.network,showNetworkIcon:a.toAsset.network.asChain()?.isLayer2},detail:n,subDetail:o,isAsset:!0,testID:"secondary"}}}var E,M=r(29217),I=r(5890),N=r(53476),B=r(95898),G=r(52322);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function D(){D=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new x(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var i=b(s,r);if(i){if(i===c)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,s),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function g(){}var p={};i(p,o,(function(){return this}));var m=Object.getPrototypeOf,h=m&&m(m(C([])));h&&h!==t&&r.call(h,o)&&(p=h);var v=g.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,s,i){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==H(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,i)}))}i(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,c;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=g,i(v,"constructor",g),i(g,"constructor",f),f.displayName=i(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,i(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),i(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var s=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),i(v,s,"Generator"),i(v,o,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},e}function j(e,t,r,n,o,a,s){try{var i=e[a](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){j(a,n,o,s,i,"next",e)}function i(e){j(a,n,o,s,i,"throw",e)}s(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){i=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&E(e);var V,R,U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},W=(0,o.vU)({title:{id:"A32/ok",defaultMessage:[{type:0,value:"Confirm bridge"}]},cancel:{id:"kz3JfK",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"rxIda0",defaultMessage:[{type:0,value:"Confirm"}]},bridge:{id:"Hoj7j3",defaultMessage:[{type:0,value:"Bridge"}]}});function _(){var e,t,r,o,T,E,H,j,P,V=(0,a.Z)().formatMessage,R=(0,l.t)(f.Ex),U=R.goBack,_=R.goToStep,Z=O((0,n.useState)(!1),2),q=Z[0],X=Z[1],Q=(0,B.Z)(f.cr),K=Q.bridgeTxData,Y=Q.unsignedApproveTxResult,z=Q.unsignedBridgeTxResult,$=Q.ledgerBridgeError,J=Q.quote,ee=Q.sourceWalletId,te=Q.sourceNetwork,re=Q.targetNetwork,ne=O((0,N.FV)(M.IW),1)[0],oe=(0,g.L)(),ae=(0,h.qz)({chainDetails:oe,source:h.Hw.EXTENSION}),se=(0,h.MB)({chainDetails:oe,source:h.Hw.EXTENSION}),ie=(0,c.G)("Bridge","load_preview",{logMetric:!0}).end,le=(0,c.G)("Bridge","trigger_bridge",{logMetric:!0}).start,ue=(0,h.JY)({chainDetails:oe,source:h.Hw.EXTENSION}),ce=(0,h.x7)({chainDetails:oe,source:h.Hw.EXTENSION}),de=(0,h.gT)({chainDetails:oe,source:h.Hw.EXTENSION}),fe=(0,h.Q9)({chainDetails:oe,source:h.Hw.EXTENSION}),ge=(0,h.io)({chainDetails:oe,source:h.Hw.EXTENSION}),pe=(0,h.O7)({chainDetails:oe,source:h.Hw.EXTENSION}),me=(0,h.jb)({chainDetails:oe,source:h.Hw.EXTENSION}),he=(0,h.lP)({chainDetails:oe,source:h.Hw.EXTENSION}),ve=(0,h.ww)({chainDetails:oe,source:h.Hw.EXTENSION}),ye=(0,h.ph)({chainDetails:oe,source:h.Hw.EXTENSION}),we=(0,h.RZ)({chainDetails:oe,source:h.Hw.EXTENSION}),be=(0,h._0)({chainDetails:oe,source:h.Hw.EXTENSION}),ke=(0,n.useCallback)((function(e){ce({userCancelledAfterError:e}),U()}),[U,ce]),Se=(0,x.K)({sourceNetwork:te.value,targetNetwork:re.value,walletId:ee.value}),xe=(0,k.G)(te.value,re.value),Ce=(0,S.b)({network:te.value,wallets:xe});if(!(K.value&&null!==(e=z.value)&&void 0!==e&&e.transaction&&null!==(t=z.value)&&void 0!==t&&t.wallet&&Se&&Ce&&J.value))throw new Error("Transaction data was missing in ConfirmationPreviewStep");var Ae=(0,I.i)(null===(r=z.value)||void 0===r?void 0:r.transaction,null===(o=z.value)||void 0===o?void 0:o.wallet),Te=(0,n.useCallback)((function(e){var t=e.networkEstimatedFee,r=e.networkBaseFee,n=e.networkMaxFee;ae({networkEstimatedFee:t,networkMaxFee:n,networkBaseFee:r});try{var o;if((0,v.A)(null===(o=z.value)||void 0===o?void 0:o.transaction)){var a=Ae,s=a.lowerBoundFee,i=a.upperBoundFee;if(!s||!i)throw new Error("No valid lower and upper bound fees for bridge 1559 transaction");we(Ae)}else{if(!Ae.estimatedFee)throw new Error("No valid estimated fee for bridge transaction");ye(Ae)}}catch(e){be(Ae)}}),[ae,Ae,we,ye,be,null===(T=z.value)||void 0===T?void 0:T.transaction]),Le=(0,p.O)({sourceWallet:Se,feeWallet:Ce,sourceAsset:J.value.fromAsset,targetAsset:J.value.toAsset,shouldIgnoreSuccessRedirect:!0,quote:J.value}),Ee=Le.generateTransactions,Me=Le.generateTransactionsError,Ie=Le.isGenerateTransactionsLoading,Ne=O((0,n.useState)(new Date),2),Be=Ne[0],Ge=Ne[1],He=(0,n.useCallback)(F(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge(new Date),e.next=3,Ee();case 3:case"end":return e.stop()}}),e)}))),[Ee]),De=(0,n.useRef)(He);(0,n.useEffect)((function(){var e;function t(){return r.apply(this,arguments)}function r(){return(r=F(D().mark((function r(){return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new Promise((function(t){e=window.setTimeout(t,3e4)}));case 2:De.current(),t();case 4:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return t(),function(){return clearInterval(e)}}),[]);var je=(0,n.useCallback)((function(){me(),_("status")}),[_,me]),Fe=(0,n.useCallback)((function(){pe(),X(!0)}),[pe]),Oe=(0,n.useCallback)((function(){ve(),_("status")}),[_,ve]),Pe=(0,n.useCallback)((function(e){he(),(0,y.eK)({error:new Error(e.message),context:"ledger-error"}),$.onChange(e),_("status")}),[_,$,he]),Ve=(0,d.T)({unsignedTx:z.value.transaction,unsignedApproveTx:null===(E=Y.value)||void 0===E?void 0:E.transaction,signSuccess:Oe,signError:Pe,flow:d.Z.Trade}),Re=Ve.signAndSubmitLedger,Ue=Ve.isSignAndSubmitLedgerLoading,We=Ve.hardwareWalletScreen,_e=(0,u.b)(),Ze=(0,b.Q)({wallet:z.value.wallet,unsignedTx:z.value.transaction,unsignedApproveTx:null===(H=Y.value)||void 0===H?void 0:H.transaction,unlockSuccess:de,unlockError:fe,signSuccess:je,signError:Fe,handleUnlock:_e}),qe=Ze.signAndSubmitStandalone,Xe=Ze.isSignAndSubmitStandaloneLoading||Ue||Ie,Qe=(0,n.useCallback)((function(){_("phoneConfirmation")}),[_]),Ke=(0,m.S)(),Ye=L(K.value),ze=(0,A.D)({bridgeTxData:K.value,unsignedApproveTx:null===(j=Y.value)||void 0===j?void 0:j.transaction,unsignedBridgeTx:z.value.transaction,isPageLoading:Xe,lastUpdateTime:Be,rowItemsAnalytics:Te}),$e=(0,C.w)({bridgeTxData:K.value,unsignedApproveTx:null===(P=Y.value)||void 0===P?void 0:P.transaction,unsignedBridgeTx:z.value.transaction}),Je=(0,w.e)({signingMethodType:Ke,isLoading:Xe,transactionDetailError:$e,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmAnyway:ge,triggerAnalyticsConfirm:se},onCancelButtonPressed:ke,signAndSubmitStandalone:qe,context:w.K.BRIDGE,signAndSubmitWalletlink:Qe,signAndSubmitLedger:Re,markStartPerf:le});return(0,n.useEffect)((function(){$e||ie()}),[$e,ie]),ne?We:(0,G.jsx)(i.q,{headerText:V(W.title),detailRowItems:ze,error:$e,buttonProps:Je,onPrimaryButtonDisabled:ue,handleBackButton:U,hasGenericError:null!=q?q:Me,topSection:(0,G.jsx)(s.v,{primaryItem:Ye.primaryItem,secondaryItem:Ye.secondaryItem,error:$e})})}U(_,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseState{[signAndSubmitError, setSignAndSubmitError](false)}\nuseFields{{\n    bridgeTxData,\n    unsignedApproveTxResult,\n    unsignedBridgeTxResult,\n    ledgerBridgeError,\n    quote,\n    sourceWalletId,\n    sourceNetwork,\n    targetNetwork,\n  }}\nuseRecoilState{[hardwareWalletSigning]}\nuseChainDetails{chainDetails}\nuseConfirmationStepViewed{triggerAnalyticsConfirmationStepViewed}\nuseConfirmationStepBridgeConfirm{triggerAnalyticsConfirm}\nusePerfMark{{ end: markEndLoadPreviewPerf }}\nusePerfMark{{ start: markStartBridgePerf }}\nuseConfirmationStepBridgeButtonDisabled{triggerAnalyticsButtonDisabled}\nuseConfirmationStepBridgeCancel{triggerAnalyticsBridgeCancel}\nuseConfirmationStepUnlockSuccess{triggerAnalyticsUnlockSuccess}\nuseConfirmationStepUnlockError{triggerAnalyticsUnlockError}\nuseConfirmationStepBridgeAnyway{triggerAnalyticsConfirmAnyway}\nuseConfirmationStepStandaloneError{triggerAnalyticsStandaloneError}\nuseConfirmationStepStandaloneConfirm{triggerAnalyticsStandaloneConfirm}\nuseConfirmationStepLedgerError{triggerAnalyticsLedgerError}\nuseConfirmationStepLedgerConfirm{triggerAnalyticsLedgerConfirm}\nuseBridgeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseBridgeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseBridgeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nuseCallback{handleCancel}\nuseSelectBridgeWallet{sourceWallet}\nuseBridgeableWallets{wallets}\nuseFeeWalletForNetwork{feeWallet}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{rowItemsAnalytics}\nuseGenerateBridgeTransactions{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseCallback{refreshNetworkFeeCallback}\nuseRef{savedCallbackRef}\nuseEffect{}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onStandaloneSigningError}\nuseCallback{handleLedgerSigningSuccess}\nuseCallback{handleLedgerSigningError}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isSignAndSubmitLedgerLoading, hardwareWalletScreen }}\nuseHandleUnlock{handleUnlock}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseCallback{signAndSubmitWalletlink}\nuseSigningMethodType{signingMethodType}\nuseTransactionOverviewItems{overViewItems}\nuseTransactionDetailRowItems{transactionDetailRowItems}\nuseTransactionDetailErrors{transactionDetailError}\nuseTransactionDetailButtons{buttonProps}\nuseEffect{}",(function(){return[a.Z,l.t,B.Z,N.FV,g.L,h.qz,h.MB,c.G,c.G,h.JY,h.x7,h.gT,h.Q9,h.io,h.O7,h.jb,h.lP,h.ww,h.ph,h.RZ,h._0,x.K,k.G,S.b,I.i,p.O,d.T,u.b,b.Q,m.S,L,A.D,C.w,w.e]})),(V="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(V.register(W,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),V.register(_,"ConfirmationPreviewStep","/workspaces/apps/extension/src/screens/Bridge/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx")),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&R(e)},45937:(e,t,r)=>{r.d(t,{y:()=>J,s:()=>K});var n=r(2784),o=r(63470),a=r(83112),s=r(4517),i=r(63043),l=r(12728),u=r(17726),c=r(62783),d=r(47022),f=r(68708),g=r(93199),p=r(20249),m=r(45483),h=r(98370),v=r(50876),y=r(37330),w=r(11071),b=r(62197),k=r.n(b),S=r(58464),x=r(1620),C=r(12341),A=r(76054),T=r(7356),L=r(84986);const E=(0,o.vU)({routesError:{id:"qCXd0b",defaultMessage:"Bridging isn't available for this amount of {asset}. Try a larger amount instead."},lowLiquidityError:{id:"liUCW1",defaultMessage:"There isn't enough liquidity to bridge this asset right now. Select another asset or try again later."},amountTooLowError:{id:"eSDmmL",defaultMessage:"Amount too low. Enter {amount} or more to use this bridge."},amountTooLowDefaultError:{id:"CZ3jSA",defaultMessage:"Amount too low. Enter a greater amount to use this bridge."}});function M({sourceWallet:e,cryptoAmount:t}){const{formatMessage:r}=(0,a.Z)(),o=(0,T.$)();return(0,n.useCallback)((n=>{switch(n.code){case L.z.AMOUNT_TOO_LOW:return e&&n.errorDetail?.minAmount?r(E.amountTooLowError,{amount:o({currencyCode:e.currencyCode,network:e.network,currencyDecimal:e.decimals,amount:t.add(new(k())(n.errorDetail.minAmount)),contractAddress:e.contractAddress,error:"Could not calculate min amount"})}):r(E.amountTooLowDefaultError);case L.z.LOW_LIQUIDITY:return r(E.lowLiquidityError);case L.z.NO_ROUTES_FOUND:return r(E.routesError,{asset:e?.displayName});default:return""}}),[e,r,o,t])}var I,N=r(51913),B=r(5738),G=r(75853),H=r(54073),D=r.n(H),j=r(95898),F=r(60723),O=r(48972),P=r(29904),V=r(61641),R=r(43603),U=r(52322);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){i=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&I(e);var Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},K=(0,o.vU)({title:{id:"WpKVXC",defaultMessage:[{type:0,value:"Bridge"}]},availableAmount:{id:"oQMg3g",defaultMessage:[{type:1,value:"amount"},{type:0,value:" available"}]},nextCTALabel:{id:"LQ4Vhd",defaultMessage:[{type:0,value:"Preview"}]},noAmountError:{id:"8xcZm0",defaultMessage:[{type:0,value:"Please enter an amount."}]},transactionCanceled:{id:"hcNb7U",defaultMessage:[{type:0,value:"Transaction canceled"}]},tryAgain:{id:"oKQtsu",defaultMessage:[{type:0,value:"Try again"}]},goBackHome:{id:"pHyRag",defaultMessage:[{type:0,value:"Go back home"}]}});function Y(){var e,t,r,o=(0,a.Z)().formatMessage,b=(0,s.k6)().goBack,T=(0,c.t)(g.Ex).goToStep,E=(0,j.Z)(g.cr),I=E.cryptoAmount,H=E.sourceNetwork,W=E.targetNetwork,Z=E.sourceWalletId,X=E.enteredAmount,Q=E.isFiat,Y=q((0,n.useState)(!1),2),z=Y[0],$=Y[1],J=(0,C.G)(H.value,W.value),ee=(0,p.L)(),te=(0,N.K)({sourceNetwork:H.value,targetNetwork:W.value,walletId:Z.value}),re=(0,x.$)(),ne=(0,h.G)(te,H.value,W.value),oe=(0,v.q)(te,H.value,W.value),ae=null===(e=(0,G.g)().get("ETH"))||void 0===e?void 0:e.address;if(!ae)throw new Error("Something went wrong");var se=(0,S.tM)({chainDetails:ee,source:S.Hw.EXTENSION}),ie=(0,S.iJ)({chainDetails:ee,source:S.Hw.EXTENSION}),le=(0,S.nD)({chainDetails:ee,source:S.Hw.EXTENSION}),ue=(0,S.h4)({chainDetails:ee,source:S.Hw.EXTENSION}),ce=(0,S.lf)({chainDetails:ee,source:S.Hw.EXTENSION}),de=(0,S.hu)({chainDetails:ee,walletCurrencyCode:null==te?void 0:te.currencyCode.rawValue,source:S.Hw.EXTENSION}),fe=(0,S.F_)({chainDetails:ee,source:S.Hw.EXTENSION}),ge=(0,d.G)("Bridge","load_preview",{logMetric:!0}).start;(0,f.V)("Bridge","launch_bridge",{type:"end"});var pe=(0,L.F)({source:ne.bridgeAsset,target:oe.bridgeAsset,cryptoAmount:I.value,userAddress:ae,analyticsError:ce}),me=pe.quote,he=pe.isLoading,ve=pe.fromCryptoAmount,ye=pe.toCryptoAmount,we=pe.error,be=(0,A.b)({network:H.value,wallets:J});if(!be)throw new Error("Could not find a valid fee wallet for the select source chain");(0,S.Bu)({walletCurrencyCode:null==te?void 0:te.currencyCode.rawValue,chainDetails:ee,source:S.Hw.EXTENSION});var ke=(0,m.O)({sourceWallet:te,feeWallet:be,sourceAsset:ne.bridgeAsset,targetAsset:oe.bridgeAsset,shouldIgnoreSuccessRedirect:!1,quote:me}),Se=ke.generateTransactions,xe=ke.generateTransactionsError,Ce=ke.isGenerateTransactionsLoading,Ae=(0,n.useCallback)((function(){de(),b()}),[b,de]),Te=(0,n.useCallback)((function(){var e,t,r,n=ne.bridgeAsset,o=oe.bridgeAsset;se({cryptoAmount:I.value.toString(),currentBalance:null==te||null===(e=te.balance)||void 0===e?void 0:e.toString(),sourceCurrencyCode:null==n?void 0:n.currencyCode.code,sourceChainId:null==n?void 0:n.chainId.toString(),sourceChainDisplayName:null==n||null===(t=n.network.asChain())||void 0===t?void 0:t.displayName,targetCurrencyCode:null==o?void 0:o.currencyCode.code,targetChainId:null==o?void 0:o.chainId.toString(),targetChainDisplayName:null==o||null===(r=o.network.asChain())||void 0===r?void 0:r.displayName}),ge(),Se()}),[I.value,Se,ge,ne.bridgeAsset,null==te?void 0:te.balance,oe.bridgeAsset,se]),Le=(0,n.useCallback)((function(){T("selectSourceWallet")}),[T]);(0,n.useEffect)((function(){z&&D()((function(){var e,t,r;ue({amount:I.value.toString(),currentBalance:null==te||null===(e=te.balance)||void 0===e?void 0:e.toString(),sourceSwapId:null===(t=ne.bridgeAsset)||void 0===t?void 0:t.id,targetSwapId:null===(r=oe.bridgeAsset)||void 0===r?void 0:r.id})}),500)()}),[I.value,z,null===(t=ne.bridgeAsset)||void 0===t?void 0:t.id,null==te?void 0:te.balance,null===(r=oe.bridgeAsset)||void 0===r?void 0:r.id,ue]);var Ee=void 0!==(null==te?void 0:te.balance)?re.formatToFiat(null==te?void 0:te.currencyCode,null==te?void 0:te.decimals,null==te?void 0:te.balance,!1,null==te?void 0:te.contractAddress,null==te?void 0:te.network):"",Me=(0,n.useMemo)((function(){return _(_({},ne),{},{isLoading:he,secondaryLabel:I.value&&ve?ve:ne.secondaryLabel,onPress:Le})}),[ne,Le,he,ve,I.value]),Ie=(0,n.useMemo)((function(){return _(_({},oe),{},{isLoading:he,hideCaret:!0,secondaryLabel:I.value&&ye?ye:oe.secondaryLabel,disableSelection:!0})}),[oe,he,ye,I.value]),Ne=M({sourceWallet:te,cryptoAmount:I.value}),Be=(0,n.useMemo)((function(){if(I.value.gt(new(k())(0))&&we){var e=Ne(we);return e&&(we.message=e),we}}),[I.value,we,Ne]),Ge=(0,n.useMemo)((function(){return z||Ce||void 0!==xe||I.value.isZero()||!oe.bridgeAsset||!ne.bridgeAsset||!!Be}),[xe,z,Ce,oe.bridgeAsset,ne.bridgeAsset,Be,I.value]),He=(0,B.iR)();return(0,n.useEffect)((function(){var e;ne.bridgeAsset&&He(ne.bridgeAsset.currencyCode,ne.bridgeAsset.chainId,null===(e=ne.bridgeAsset.address)||void 0===e?void 0:e.rawValue)}),[He,ne.bridgeAsset]),(0,n.useEffect)((function(){var e,t;Ge||fe({amount:I.value.toString(),sourceSwapId:null===(e=ne.bridgeAsset)||void 0===e?void 0:e.id,targetSwapId:null===(t=oe.bridgeAsset)||void 0===t?void 0:t.id})}),[Ge]),(0,U.jsxs)(P.VStack,{height:w.UV,justifyContent:"space-between",children:[(0,U.jsx)(u.w,{onBack:Ae,title:o(K.title),subTitle:(0,U.jsx)(R.B,{})}),(0,U.jsxs)(P.VStack,{alignContent:"center",spacingHorizontal:3,children:[te?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(i._Z,{context:"bridge",wallet:te,onInsufficientFund:$,cryptoAmount:I,enteredAmount:X,isFiat:Q,analyticsGetMaxValue:ie,analyticsSwitchDisplay:le}),(0,U.jsx)(V.TextLabel2,{as:"p",color:"foregroundMuted",align:"center",spacingTop:1,children:o(K.availableAmount,{amount:Ee})})]}):(0,U.jsx)(l.BF,{}),(0,U.jsx)(O.Spacer,{})]}),(0,U.jsxs)(P.VStack,{spacing:3,children:[(0,U.jsx)(y.rb,{error:null!=xe?xe:Be,row1:Me,row2:Ie}),(0,U.jsx)(F.Button,{block:!0,disabled:Ge,loading:he||Ce,onPress:Te,testID:"bridge-entry-preview-button",children:o(K.nextCTALabel)})]})]})}Q(Y,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseFields{{ cryptoAmount, sourceNetwork, targetNetwork, sourceWalletId, enteredAmount, isFiat }}\nuseState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseBridgeableWallets{wallets}\nuseChainDetails{chainDetails}\nuseSelectBridgeWallet{sourceWallet}\nuseCurrencyFormatter{currencyFormatter}\nuseBridgeSourceSelector{sourceSelector}\nuseBridgeTargetSelector{targetSelector}\nusePrimaryReceiveAddresses{}\nuseEntryStepPreviewButtonClicked{triggerAnalyticsPreviewButtonClicked}\nuseGetMaxValueButton{triggerAnalyticsGetMaxValue}\nuseSwitchDisplayButton{triggerAnalyticsSwitchDisplay}\nuseEntryStepNotEnoughBalance{triggerAnalyticsNotEnoughBalance}\nuseEntryStepQuoteError{triggerAnalyticsQuoteError}\nuseEntryStepBackButton{triggerAnalyticsBackButton}\nuseEntryStepPreviewButtonEnabled{triggerAnalyticsPreviewEnabled}\nusePerfMark{{ start: markStartLoadPreviewPerf }}\nusePerfMarkOnMount{}\nuseQuote{{\n    quote: bridgeQuote,\n    isLoading: isQuoteLoading,\n    fromCryptoAmount,\n    toCryptoAmount,\n    error,\n  }}\nuseFeeWalletForNetwork{feeWallet}\nuseEntryStepViewed{}\nuseGenerateBridgeTransactions{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseCallback{handleGoBack}\nuseCallback{handlePreview}\nuseCallback{handleSourceAssetSelected}\nuseEffect{}\nuseMemo{sourceAssetProps}\nuseMemo{targetAssetProps}\nuseGetNoRoutesErrorMessage{getNoRoutesErrorMessage}\nuseMemo{entrySelectorError}\nuseMemo{isBridgeButtonDisabled}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseEffect{}\nuseEffect{}",(function(){return[a.Z,s.k6,c.t,j.Z,C.G,p.L,N.K,x.$,h.G,v.q,G.g,S.tM,S.iJ,S.nD,S.h4,S.lf,S.hu,S.F_,d.G,f.V,L.F,A.b,S.Bu,m.O,M,B.iR]}));var z,$,J=(0,n.memo)(Y);(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(z.register(K,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStep.tsx"),z.register(Y,"EntryStepContent","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStep.tsx"),z.register(J,"EntryStep","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStep.tsx")),($="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&$(e)},3132:(e,t,r)=>{r.d(t,{T:()=>h});var n,o,a,s=r(83112),i=r(11374),l=r(84948),u=r(56044),c=r(23214),d=r(11071),f=r(60723),g=r(48972),p=r(45937),m=r(52322);function h(){var e=(0,s.Z)().formatMessage;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(g.VStack,{height:d.UV,justifyContent:"space-between",children:[(0,m.jsx)(l.Z,{}),(0,m.jsxs)(g.VStack,{alignContent:"center",spacingHorizontal:3,children:[(0,m.jsx)(i.O,{}),(0,m.jsx)(g.Spacer,{})]}),(0,m.jsxs)(g.VStack,{spacing:3,children:[(0,m.jsx)(c.m,{}),(0,m.jsx)(f.Button,{block:!0,disabled:!0,children:e(p.s.nextCTALabel)})]})]}),(0,m.jsx)(u.W,{})]})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(h,"useIntl{{ formatMessage }}",(function(){return[s.Z]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(h,"EntryStepFallback","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStepFallback.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},43603:(e,t,r)=>{r.d(t,{B:()=>w});var n,o=r(2784),a=r(63470),s=r(83112),i=r(88877),l=r(62783),u=r(68018),c=r(93199),d=r(95898),f=r(6058),g=r(48972),p=r(52163),m=r(61641),h=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,a.vU)({title:{id:"pvVu/0",defaultMessage:[{type:0,value:"From "},{type:1,value:"sourceNetwork"},{type:0,value:" to "},{type:1,value:"targetNetwork"}]},titleFallback:{id:"WgIB43",defaultMessage:[{type:0,value:"Select networks"}]}});function w(){var e,t=(0,d.Z)(c.cr),r=t.sourceNetwork,n=t.targetNetwork,a=(0,l.t)(c.Ex).goToStep,u=(0,s.Z)().formatMessage,v=r.value.asChain(),w=null===(e=n.value)||void 0===e?void 0:e.asChain(),b=(0,o.useCallback)((function(){a("networkInterstitial")}),[a]),k=(0,o.useMemo)((function(){return v&&w?u(y.title,{sourceNetwork:null==v?void 0:v.displayName,targetNetwork:null==w?void 0:w.displayName}):u(y.titleFallback)}),[u,v,w]);return(0,h.jsx)(p.Pressable,{width:"100%",backgroundColor:"transparent",onPress:b,testID:"selected-networks-sub-header",children:(0,h.jsxs)(g.HStack,{alignItems:"center",justifyContent:"center",children:[r?(0,h.jsx)(i.d,{testID:"source-network-icon",size:"tiny",network:r.value}):null,n?(0,h.jsx)(S,{children:(0,h.jsx)(i.d,{testID:"target-network-icon",size:"tiny",network:n.value})}):null,(0,h.jsxs)(g.HStack,{alignItems:"center",spacingStart:1,children:[(0,h.jsx)(m.TextLabel2,{testID:"network-selection-title",as:"p",color:"foregroundMuted",children:k}),(0,h.jsx)(f.Icon,{name:"caretRight",size:"xs",color:"foregroundMuted",spacingStart:.5})]})]})})}v(w,"useFields{{\n    sourceNetwork,\n    targetNetwork\n  }}\nuseStepper{{\n    goToStep\n  }}\nuseIntl{{\n    formatMessage\n  }}\nuseCallback{handlePress}\nuseMemo{title}",(function(){return[d.Z,l.t,s.Z]}));var b,k,S=(0,u.Z)("div")({name:"TargetNetworkIconWrapper",class:"t7ve1cg"});r(19385),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(y,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/components/SelectedNetworksSubHeader.tsx"),b.register(w,"SelectedNetworksSubHeader","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/components/SelectedNetworksSubHeader.tsx"),b.register(S,"TargetNetworkIconWrapper","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/components/SelectedNetworksSubHeader.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},98370:(e,t,r)=>{r.d(t,{G:()=>h});var n,o=r(2784),a=r(63470),s=r(83112),i=r(59169),l=r(34291),u=r.n(l),c=r(61641),d=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var f,g,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,a.vU)({from:{id:"bHEvFB",defaultMessage:[{type:0,value:"From"}]},chooseCoin:{id:"nXtafB",defaultMessage:[{type:0,value:"Choose coin"}]}}),h=function(e,t,r){var n,a,l=(0,s.Z)().formatMessage,f=(0,i.I)({sourceChainId:null==t||null===(n=t.asChain())||void 0===n?void 0:n.chainId.toString(),targetChainId:null==r||null===(a=r.asChain())||void 0===a?void 0:a.chainId.toString()}).find((function(t){return t.id===(null==e?void 0:e.swapId)})),g=(0,o.useMemo)((function(){return(0,d.jsx)(c.TextLabel1,{as:"p",color:"primary",children:l(m.chooseCoin)})}),[l]);return(0,o.useMemo)((function(){var e;return{secondaryLabel:null!==(e=null==f?void 0:f.currencyCode.code)&&void 0!==e?e:g,primaryLabel:l(m.from),image:null==f?void 0:f.imageURL,onPress:u(),dataElementHandle:"bridge-from-selector",bridgeAsset:f}}),[l,g,f])};p(h,"useIntl{{ formatMessage }}\nuseBridgeableSourceAssets{sourceAssets}\nuseMemo{ChooseCoinLabel}\nuseMemo{}",(function(){return[s.Z,i.I]})),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(m,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeSourceSelector.tsx"),f.register(h,"useBridgeSourceSelector","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeSourceSelector.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},50876:(e,t,r)=>{r.d(t,{q:()=>k});var n=r(2784),o=r(63470),a=r(83112),s=r(82066),i=r(86296),l=r(32832),u=r(98597);const c="bridge/supportedTargetAssets";function d({sourceChainId:e,targetChainId:t,sourceContractAddress:r,sourceCurrencyCode:o}){const a=(0,s.useQuery)([c,e,t,r,o],(async()=>async function({sourceChainId:e,targetChainId:t,sourceContractAddress:r,sourceCurrencyCode:n}){if(!e||!t)return Promise.resolve({assets:[]});try{const o={fromChainId:e,toChainId:t,fromContractAddress:r,fromCurrencyCode:n},{result:a}=await(0,l.xA)(c,o,{apiVersion:2});return a}catch{return(0,i.eK)({error:new Error("Error when attempting to fetch bridgeable target assets")}),Promise.resolve({assets:[]})}}({sourceChainId:e,targetChainId:t,sourceContractAddress:r,sourceCurrencyCode:o})),{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"]}),d=a.data;return(0,n.useMemo)((()=>d?d.assets.map((e=>new u.Y(e))):[]),[d])}var f,g=r(34291),p=r.n(g),m=r(61641),h=r(52322);e=r.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var v,y,w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,o.vU)({to:{id:"tMX/lG",defaultMessage:[{type:0,value:"To"}]},chooseCoin:{id:"nXtafB",defaultMessage:[{type:0,value:"Choose coin"}]}}),k=function(e,t,r){var o,s,i,l=(0,a.Z)().formatMessage,c=d({sourceChainId:null==t||null===(o=t.asChain())||void 0===o?void 0:o.chainId.toString(),targetChainId:null==r||null===(s=r.asChain())||void 0===s?void 0:s.chainId.toString(),sourceContractAddress:null!==(i=null==e?void 0:e.contractAddress)&&void 0!==i?i:u.J,sourceCurrencyCode:null==e?void 0:e.currencyCode.rawValue})[0],f=(0,n.useMemo)((function(){return(0,h.jsx)(m.TextLabel1,{as:"p",color:"primary",children:l(b.chooseCoin)})}),[l]);return(0,n.useMemo)((function(){var t;return e?{secondaryLabel:null!==(t=null==c?void 0:c.currencyCode.code)&&void 0!==t?t:f,primaryLabel:l(b.to),image:null==c?void 0:c.imageURL,onPress:p(),dataElementHandle:"bridge-to-selector",bridgeAsset:c}:{secondaryLabel:f,primaryLabel:l(b.to),image:null==c?void 0:c.imageURL,onPress:p(),dataElementHandle:"bridge-to-selector"}}),[c,f,l,e])};w(k,"useIntl{{ formatMessage }}\nuseBridgeableTargetAssets{targetAssets}\nuseMemo{ChooseCoinLabel}\nuseMemo{}",(function(){return[a.Z,d]})),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(b,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeTargetSelector.tsx"),v.register(k,"useBridgeTargetSelector","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeTargetSelector.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},52494:(e,t,r)=>{r.d(t,{F:()=>I});var n=r(2784),o=r(63470),a=r(83112),s=r(4517),i=r(79958),l=r(36526),u=r(62783),c=r(93199),d=r(20249),f=r(58464),g=r(56695),p=r(88581),m=r(30830),h=r(95898);function v(){const e=(0,s.k6)(),[t,r]=(0,n.useState)(null),{goBack:o,goToStep:a}=(0,u.t)(c.Ex),i=(0,d.L)(),l=(0,f.Q)({chainDetails:i,source:f.Hw.EXTENSION}),g=(0,f.q7)({chainDetails:i,source:f.Hw.EXTENSION}),v=(0,f.z4)({chainDetails:i,source:f.Hw.EXTENSION}),y=(0,p.u)(),{unsignedBridgeTxResult:{value:w},unsignedApproveTxResult:{value:b}}=(0,h.Z)(c.cr),k=b?.transaction,S=w?.transaction,x=(0,m.D)(S),C=(0,n.useCallback)((()=>{l(),a("status"),r(null)}),[a,l]),A=(0,n.useCallback)((t=>{"UserRejectedWalletLinkRequest"===t.name?g():v(),r({errorMessage:t.message,onPrimaryButtonPress:()=>{r(null),o()},onSecondaryButtonPress:()=>e.replace("/portfolio"),secondaryButtonText:"Go Back Home",primaryButtonText:"Try Again"})}),[o,e,v,g]),T=(0,n.useCallback)((async()=>{if(!x||!S)return null;if(k)try{await y({unsignedTx:k,wallet:x})}catch(e){A(e)}try{await y({unsignedTx:S,wallet:x}),C()}catch(e){A(e)}}),[A,C,y,k,S,x]);return(0,n.useMemo)((()=>({signAndSubmitViaWalletlink:T,errorStateProps:t})),[t,T])}var y,w=r(52322);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(){x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new A(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var i=k(s,r);if(i){if(i===c)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,s),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function g(){}var p={};i(p,o,(function(){return this}));var m=Object.getPrototypeOf,h=m&&m(m(T([])));h&&h!==t&&r.call(h,o)&&(p=h);var v=g.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,s,i){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==b(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,i)}))}i(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,c;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=g,i(v,"constructor",g),i(g,"constructor",f),f.displayName=i(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,i(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),i(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var s=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),i(v,s,"Generator"),i(v,o,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},e}function C(e,t,r,n,o,a,s){try{var i=e[a](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){C(a,n,o,s,i,"next",e)}function i(e){C(a,n,o,s,i,"throw",e)}s(void 0)}))}}e=r.hmd(e),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&y(e);var T,L,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,o.vU)({title:{id:"VwWGjG",defaultMessage:[{type:0,value:"Confirm on phone"}]},description:{id:"In3vOT",defaultMessage:[{type:0,value:"Open Coinbase Wallet on your phone to confirm this transaction."}]},retry:{id:"jvhzSF",defaultMessage:[{type:0,value:"Resend notification"}]},dontSeeNotification:{id:"epKk4O",defaultMessage:[{type:0,value:"Don't see the notification?"}]}});function I(){var e=(0,s.k6)(),t=(0,a.Z)().formatMessage,r=(0,u.t)(c.Ex),o=r.goBack,p=r.hasPreviousStep,m=(0,d.L)(),h=(0,f.D$)({chainDetails:m,source:f.Hw.EXTENSION}),y=(0,f.xQ)({chainDetails:m,source:f.Hw.EXTENSION});(0,f.a7)({chainDetails:m,source:f.Hw.EXTENSION});var b=(0,n.useRef)(!1),C=(0,n.useCallback)((function(){h(),p?o():e.goBack()}),[p,o,e,h]),T=v(),L=T.signAndSubmitViaWalletlink,E=T.errorStateProps,I=(0,n.useCallback)(A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.next=3,L();case 3:case"end":return e.stop()}}),e)}))),[L,y]);(0,g.F)((function(){E||L()}));var N=(0,n.useMemo)((function(){return{label:t(M.retry),onClick:(e=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.current=!0,e.next=3,I();case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e}),[t,I]);return E&&!b.current?(0,w.jsx)(i.ErrorState,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},E)):(0,w.jsx)(l.n,{title:t(M.title),description:t(M.description),onDismiss:C,secondaryActionLabel:t(M.dontSeeNotification),retryAction:N})}E(I,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, hasPreviousStep }}\nuseChainDetails{chainDetails}\nusePhoneConfirmationStepBackButton{triggerAnalyticsBackButton}\nusePhoneConfirmationStepRetry{triggerAnalyticsRetry}\nusePhoneConfirmationStepViewed{}\nuseRef{isUserCancelled}\nuseCallback{onDismiss}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, errorStateProps }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}",(function(){return[s.k6,a.Z,u.t,d.L,f.D$,f.xQ,f.a7,v,g.F]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(M,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),T.register(I,"PhoneConfirmationStep","/workspaces/apps/extension/src/screens/Bridge/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},5932:(e,t,r)=>{r.d(t,{R:()=>m});var n,o=r(2784),a=r(63470),s=r(83112),i=r(48972),l=r(61641),u=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var c,d,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},g=(0,a.vU)({learnMoreMessage:{id:"zClqkq",defaultMessage:[{type:0,value:"Not sure? Learn the difference between Ethereum, Polygon, and other networks in our help center."}]},learnMore:{id:"o0ymWu",defaultMessage:[{type:0,value:"Learn more"}]}}),p="https://www.coinbase.com/wallet/getting-started-extension";function m(){var e=(0,s.Z)().formatMessage,t=(0,o.useCallback)((function(){chrome.tabs.create({url:p,active:!1})}),[]);return(0,u.jsx)(i.VStack,{borderedTop:!0,children:(0,u.jsxs)(l.TextLabel2,{as:"span",spacing:2,children:[e(g.learnMoreMessage)," ",(0,u.jsx)(l.Link,{testID:"bridge-select-network-learn-more",to:p,onPress:t,children:e(g.learnMore)})]})})}f(m,"useIntl{{ formatMessage }}\nuseCallback{onLearnMorePress}",(function(){return[s.Z]})),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(g,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/LearnMoreSection.tsx"),c.register(p,"LEARN_MORE_LINK","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/LearnMoreSection.tsx"),c.register(m,"LearnMoreSection","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/LearnMoreSection.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},24954:(e,t,r)=>{r.d(t,{M:()=>P});var n=r(2784),o=r(63470),a=r(83112),s=r(84813),i=r(62783),l=r(93199),u=r(20249),c=r(62197),d=r.n(c),f=r(58464),g=r(82066),p=r(8389),m=r(32832),h=r(5418);var v=r(86855);const y="bridge/supportedChains";async function w(){const{result:e}=await(0,m.xA)(y,{});return e.chains}function b(){const e=(0,n.useCallback)((e=>{switch(Number(e)){case h.a.ETHEREUM_MAINNET:case h.a.POLYGON:return!0;default:return!1}}),[]),{data:t}=(0,g.useQuery)([y],w,{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"]}),r=t?.filter((t=>e(t.chainId))).map((e=>({...e,prefix:p.jq})));return(0,n.useMemo)((()=>r??[]),[r])}var k=r(51950),S=r(46767),x=r(40620),C=r(52180),A=r.n(C);function T(){const e=(0,x.r)(),t=(0,k.z)(e),r=b();return(0,n.useMemo)((()=>r.map((e=>{const r=v.Zc.fromSupportedChain(e),n=t.get(r.rawValue)??new(A())(0);return S.i.fromSupportedChainWithBalance(e,n)}))),[t,r])}var L,E=r(95898),M=r(5932),I=r(52322);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&L(e);var H,D,j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},F=(0,o.vU)({title:{id:"yGY9eN",defaultMessage:[{type:0,value:"Select network"}]}});function O(e){var t=e.selectionMode,r=(0,a.Z)().formatMessage,o=(0,E.Z)(l.cr),c=o.sourceNetwork,g=o.targetNetwork,p=o.targetAssetId,m=o.sourceWalletId,h=o.cryptoAmount,y="source"===t?c:g,w=(0,u.L)(),b=(0,f.fy)({chainDetails:w,source:f.Hw.EXTENSION}),k=(0,f.ts)({chainDetails:w,source:f.Hw.EXTENSION}),x=(0,f.D6)({chainDetails:w,source:f.Hw.EXTENSION}),C=T(),A=(0,n.useMemo)((function(){return"source"===t?C:C.filter((function(e){return!S.i.isEqual(e,c.value)}))}),[C,t,c.value]),L=(0,n.useCallback)((function(e){return C.find((function(t){return!v.Zc.isEqual(e,t)}))}),[C]),N=(0,i.t)(l.Ex).goBack,B=(0,n.useCallback)((function(){b(),N()}),[N,b]),G=(0,n.useCallback)((function(e){var r,n=null===(r=y.value)||void 0===r?void 0:r.asChain(),o=null==e?void 0:e.asChain(),a={previousChainId:null==n?void 0:n.chainId,nextChainId:null==o?void 0:o.chainId};e?("source"===t&&(c.onChange(e),g.onChange(L(e))),"target"===t&&g.onChange(e),k(a),m.onChange(""),p.onChange(""),h.onChange(new(d())(0)),N()):x(a)}),[t,m,p,h,N,c,g,L,y.value,x,k]);return(0,I.jsx)(s.R,{title:r(F.title),networks:A,selectedNetwork:y.value,onItemSelected:G,onGoBack:B,learnMoreSection:(0,I.jsx)(M.R,{})})}function P(e){return(0,I.jsx)(n.Suspense,{fallback:null,children:(0,I.jsx)(O,B({},e))})}j(O,"useIntl{{ formatMessage }}\nuseFields{{ sourceNetwork, targetNetwork, targetAssetId, sourceWalletId, cryptoAmount }}\nuseChainDetails{chainDetails}\nuseNetworkSwitcherClose{triggerAnalyticsClose}\nuseNetworkSwitcherToggleNetwork{triggerAnalyticsToggle}\nuseNetworkSwitcherToggleNetworkError{triggerAnalyticsToggleError}\nuseSupportedChainsWithBalance{networksWithBalance}\nuseMemo{filteredNetworks}\nuseCallback{getDefaultTargetNetwork}\nuseStepper{{ goBack }}\nuseCallback{onGoBack}\nuseCallback{onItemSelected}",(function(){return[a.Z,E.Z,u.L,f.fy,f.ts,f.D6,T,i.t]})),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(F,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/SelectNetworkStep.tsx"),H.register(O,"SelectNetworkStepContent","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/SelectNetworkStep.tsx"),H.register(P,"SelectNetworkStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/SelectNetworkStep.tsx")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)},43860:(e,t,r)=>{r.d(t,{X:()=>T});var n,o=r(2784),a=r(63470),s=r(83112),i=r(17726),l=r(88877),u=r(62783),c=r(93199),d=r(37330),f=r(62197),g=r.n(f),p=r(78975),m=r(34291),h=r.n(m),v=r(95898),y=r(60723),w=r(48972),b=r(61641),k=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var S,x,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A=(0,a.vU)({title:{id:"TWrltV",defaultMessage:[{type:0,value:"Select the networks you\u2019d like to bridge between"}]},description:{id:"cRJCkU",defaultMessage:[{type:0,value:"Bridging lets you move crypto to another blockchain network, such as Ethereum to Polygon."}]},learnMore:{id:"SquKcG",defaultMessage:[{type:0,value:"Learn more"}]},confirm:{id:"dbvj8p",defaultMessage:[{type:0,value:"Confirm"}]},from:{id:"uqOgaL",defaultMessage:[{type:0,value:"From"}]},to:{id:"Z7yAmS",defaultMessage:[{type:0,value:"To"}]},chooseNetwork:{id:"gsK+ID",defaultMessage:[{type:0,value:"Choose a network"}]}});function T(){var e=(0,s.Z)().formatMessage,t=(0,u.t)(c.Ex).goToStep,r=(0,v.Z)(c.cr),n=r.sourceNetwork,a=r.targetNetwork,f=r.cryptoAmount,m=(0,o.useCallback)((function(){t("entry")}),[t]),S=(0,o.useCallback)((function(){chrome.tabs.create({url:p.Ht,active:!1})}),[]),x=(0,o.useCallback)((function(){t("selectSourceNetwork")}),[t]),C=(0,o.useCallback)((function(){t("selectTargetNetwork")}),[t]),T=(0,o.useCallback)((function(){if(a.value&&n.value){var e=n.value;n.onChange(a.value),a.onChange(e),f.onChange(new(g())(0))}}),[n,a,f]),L=(0,o.useMemo)((function(){var t,r;return{primaryLabel:e(A.from),secondaryLabel:null===(t=n.value.asChain())||void 0===t?void 0:t.displayName,image:null===(r=n.value.asChain())||void 0===r?void 0:r.chainImageUrl,onPress:x,dataElementHandle:"bridge-source-network-selector",icon:(0,k.jsx)(l.d,{network:n.value,size:"medium"})}}),[e,x,n.value]),E=(0,o.useMemo)((function(){var t,r;return a.value?{primaryLabel:e(A.to),secondaryLabel:null===(t=a.value.asChain())||void 0===t?void 0:t.displayName,image:null===(r=a.value.asChain())||void 0===r?void 0:r.chainImageUrl,onPress:C,dataElementHandle:"bridge-target-network-selector",icon:(0,k.jsx)(l.d,{network:a.value,size:"medium"})}:{primaryLabel:e(A.to),secondaryLabel:e(A.chooseNetwork),onPress:C,dataElementHandle:"bridge-target-network-selector"}}),[e,C,a.value]);return(0,k.jsxs)(w.VStack,{height:"100%",justifyContent:"space-between",children:[(0,k.jsx)(i.w,{onBack:m}),(0,k.jsxs)(w.VStack,{spacingHorizontal:3,gap:1,height:"100%",children:[(0,k.jsx)(b.TextTitle3,{as:"p",align:"start",testID:"bridge-select-network-title",children:e(A.title)}),(0,k.jsxs)(b.TextBody,{as:"p",align:"start",color:"foregroundMuted",testID:"bridge-select-network-description",children:[e(A.description)," ",(0,k.jsx)(b.Link,{testID:"bridge-select-network-learn-more",onPress:S,children:(0,k.jsx)(b.TextBody,{as:"p",align:"start",color:"primary",children:e(A.learnMore)})})]})]}),(0,k.jsxs)(w.VStack,{spacing:3,children:[(0,k.jsx)(d.rb,{onClickSwitcher:n.value&&a.value?T:h(),row1:L,row2:E}),(0,k.jsx)(w.Spacer,{vertical:2}),(0,k.jsx)(y.Button,{block:!0,variant:"primary",onPress:m,children:e(A.confirm)})]})]})}C(T,"useIntl{{ formatMessage }}\nuseStepper{{ goToStep }}\nuseFields{{ sourceNetwork, targetNetwork, cryptoAmount }}\nuseCallback{handleGoToEntry}\nuseCallback{handleLearnMorePress}\nuseCallback{handleSourceNetworkSelected}\nuseCallback{handleTargetNetworkSelected}\nuseCallback{swapNetworks}\nuseMemo{row1Props: EntrySelectorRow}\nuseMemo{row2Props: EntrySelectorRow}",(function(){return[s.Z,u.t,v.Z]})),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(A,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworksInterstitialStep/SelectNetworksInterstitialStep.tsx"),S.register(T,"SelectNetworkInterstitialStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworksInterstitialStep/SelectNetworksInterstitialStep.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},87484:(e,t,r)=>{r.d(t,{U:()=>S});var n,o=r(2784),a=r(63470),s=r(83112),i=r(59956),l=r(62783),u=r(93199),c=r(20249),d=r(62197),f=r.n(d),g=r(58464),p=r(12341),m=r(73881),h=r(95898),v=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y,w,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=(0,a.vU)({title:{id:"8KEpMC",defaultMessage:[{type:0,value:"Bridge from"}]}});function S(){var e=(0,s.Z)().formatMessage,t=(0,l.t)(u.Ex),r=t.goBack,n=t.goToStep,a=(0,h.Z)(u.cr),d=a.sourceWalletId,y=a.targetAssetId,w=a.sourceNetwork,b=a.targetNetwork,S=(0,p.G)(w.value,b.value),x=(0,c.L)(),C=(0,g.h_)({chainDetails:x,source:g.Hw.EXTENSION}),A=(0,o.useCallback)((function(e){var t;e instanceof m.w5&&null!==(t=e.balance)&&void 0!==t&&t.gt(new(f())(0))&&(d.onChange(e.id),d.value!==e.id&&y.onChange(""),C({selectedAssetId:e.id}),n("entry"))}),[n,d,y,C]);return(0,v.jsx)(i.i,{testIdPrefix:"bridge-from",wallets:S,onBack:r,onSelect:A,network:w.value,customNavTitle:e(k.title),targetAssetId:y.value,context:i.g.Bridge})}b(S,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseFields{{ sourceWalletId, targetAssetId, sourceNetwork, targetNetwork }}\nuseBridgeableWallets{wallets}\nuseChainDetails{chainDetails}\nuseSelectSourceAsset{triggerAnalyticsSelectSourceWallet}\nuseCallback{handleSelect}",(function(){return[s.Z,l.t,h.Z,p.G,c.L,g.h_]})),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(k,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectSourceWalletStep/SelectSourceWalletStep.tsx"),y.register(S,"SelectSourceWalletStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectSourceWalletStep/SelectSourceWalletStep.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},74433:(e,t,r)=>{r.d(t,{R:()=>E});var n,o=r(2784),a=r(63470),s=r(83112),i=r(20672),l=r(41916),u=r(17726),c=r(20230),d=r(77722),f=r(62783),g=r(94697),p=r(93199),m=r(11071),h=r(98597),v=r(54073),y=r.n(v),w=r(95898),b=r(48972),k=r(52322);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){i=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var C,A,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,a.vU)({title:{id:"TblYqV",defaultMessage:[{type:0,value:"Bridge to"}]}});function E(){var e=(0,f.t)(p.Ex),t=e.goBack,r=e.goToStep,n=(0,s.Z)().formatMessage,a=(0,w.Z)(p.cr),v=a.targetAssetId,x=a.targetNetwork,C=a.sourceWalletId,A=S((0,o.useState)(""),2),T=A[0],E=A[1],M=S((0,o.useState)(""),2),I=M[0],N=M[1],B=(0,o.useCallback)(y()((function(e){return N(e)}),300),[]),G=(0,o.useCallback)((function(e){E(e.target.value),B(e.target.value)}),[B]),H=(0,g.f)({assets:new Map,query:I}),D=(0,o.useCallback)((function(e){return function(){v.onChange(e.id),r("entry")}}),[r,v]),j=(0,o.useCallback)((function(e){var t=e.key,r=e.index,n=e.style;return(0,k.jsx)("div",{style:n,children:(0,k.jsx)(l.p,{onSelect:D(new h.Y({})),asset:H[r],disabled:C.value===H[r].swapId,testID:"dex-to-asset-item-".concat(H[r].currencyCode.rawValue)})},t)}),[H,D,C]);return(0,k.jsxs)(b.VStack,{height:m.UV,children:[(0,k.jsx)(u.w,{onBack:t,title:n(L.title)}),(0,k.jsx)(c.Q,{network:x.value,disableNetworkChange:!0}),(0,k.jsx)(b.Spacer,{vertical:2}),(0,k.jsx)(d.G,{query:T,onChange:G}),(0,k.jsx)(i.aV,{rowCount:H.length,width:370,height:425,rowHeight:80,rowRenderer:j,overscanRowCount:20})]})}T(E,"useStepper{{ goBack, goToStep }}\nuseIntl{{ formatMessage }}\nuseFields{{ targetAssetId, targetNetwork, sourceWalletId }}\nuseState{[searchBarText, setSearchBarText]('')}\nuseState{[debouncedQuery, setDebouncedQuery]('')}\nuseCallback{debounceQuery}\nuseCallback{handleSearchChange}\nuseAssetSearch{filteredAssets}\nuseCallback{getHandleSelect}\nuseCallback{rowRenderer}",(function(){return[f.t,s.Z,w.Z,g.f]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(L,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectTargetAssetStep/SelectTargetAssetStep.tsx"),C.register(E,"SelectTargetAssetStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectTargetAssetStep/SelectTargetAssetStep.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},63207:(e,t,r)=>{r.d(t,{_:()=>E});var n,o=r(2784),a=r(63470),s=r(83112),i=r(4517),l=r(48925),u=r(85324),c=r(62783),d=r(47022),f=r(93199),g=r(20249),p=r(6271),m=r(52844),h=r(58464),v=r(56695),y=r(72133),w=r(95898),b=r(52322);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var C,A,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,a.vU)({title:{id:"mDOifL",defaultMessage:[{type:0,value:"You're bridging "},{type:1,value:"formattedSourceAmounts"},{type:0,value:" from "},{type:1,value:"sourceNetwork"},{type:0,value:" to "},{type:1,value:"targetNetwork"}]},timeEstimation:{id:"ULdgS0",defaultMessage:[{type:0,value:"This may take over "},{type:1,value:"serviceTimeMinutes"},{type:0,value:" minutes"}]},completionDisclaimer:{id:"5Waqix",defaultMessage:[{type:0,value:"This transaction will appear as complete on "},{type:1,value:"sourceNetwork"},{type:0,value:" before it's complete on "},{type:1,value:"targetNetwork"},{type:0,value:"."}]},done:{id:"r5qei9",defaultMessage:[{type:0,value:"Done"}]},viewTransactions:{id:"7gEbQd",defaultMessage:[{type:0,value:"View transactions"}]}});function E(){var e,t,r,n,a=(0,s.Z)().formatMessage,k=(0,i.k6)(),x=(0,g.L)(),C=(0,w.Z)(f.cr),A=C.cryptoAmount,T=C.sourceWalletId,E=C.targetAssetId,M=C.ledgerBridgeError,I=C.bridgeTxData.value,N=(0,h._E)({chainDetails:x,source:h.Hw.EXTENSION}),B=(0,c.t)(f.Ex).goBack,G=(0,d.G)("Bridge","trigger_bridge",{logMetric:!0}).end;if((0,o.useEffect)((function(){!M.value&&I&&G()}),[I,G,M]),!I)throw new Error("bridgeTxData was missing in StatusStep");var H=(0,y.D)(I),D=H.sourceFiatAmount,j=H.sourceCryptoAmount,F=H.targetFiatAmount,O=H.targetCryptoAmount;(0,v.F)((function(){return N({cryptoAmount:A.value.toString(),sourceWalletId:T.value,targetAssetId:E.value,sourceFiatAmount:D,sourceCryptoAmount:j,targetFiatAmount:F,targetCryptoAmount:O}),function(){M.value&&(null==M||M.onChange(void 0))}}));var P=(0,o.useMemo)((function(){var e=D?"(".concat(D,")"):"";return"".concat(j," ").concat(e)}),[j,D]),V=(0,o.useMemo)((function(){var e=F?"(".concat(F,")"):"";return"".concat(O," ").concat(e)}),[O,F]),R=(0,o.useCallback)((function(){k.replace("/portfolio")}),[k]),U=(0,o.useCallback)((function(){k.replace("/transactions")}),[k]),W=(0,o.useMemo)((function(){return I.quote.serviceTime/60}),[I.quote.serviceTime]),_=(0,o.useMemo)((function(){return{key:"done-button",name:"doneButton",onPress:R,loading:!1,variant:"primary",block:!0,children:a(L.done)}}),[a,R]),Z=(0,o.useMemo)((function(){return{key:"view-transactions-button",name:"viewTransactionsButton",onPress:U,loading:!1,testID:"bridge-status-view-transactions-button",variant:"secondary",block:!0,children:a(L.viewTransactions)}}),[a,U]);if(M.value){var q,X,Q,K=M.value;return(0,b.jsx)(l.n,S(S({spacing:2,elevation:1},m.ng),{},{children:(0,b.jsx)(p.N,{handleBack:B,statusCode:null!==(q=K.statusCode)&&void 0!==q?q:void 0,errorId:null!==(X=K.id)&&void 0!==X?X:void 0,errorMessage:null!==(Q=K.message)&&void 0!==Q?Q:void 0})}))}return(0,b.jsx)(u.L,{status:u.q.PENDING,title:a(L.title,{formattedSourceAmounts:P,sourceNetwork:null===(e=I.quote.fromAsset.network.asChain())||void 0===e?void 0:e.displayName,targetNetwork:null===(t=I.quote.toAsset.network.asChain())||void 0===t?void 0:t.displayName}),subtitle:V,timeEstimation:a(L.timeEstimation,{serviceTimeMinutes:W}),disclaimer:a(L.completionDisclaimer,{sourceNetwork:null===(r=I.quote.fromAsset.network.asChain())||void 0===r?void 0:r.displayName,targetNetwork:null===(n=I.quote.toAsset.network.asChain())||void 0===n?void 0:n.displayName}),primaryButtonProps:_,secondaryButtonProps:Z})}T(E,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseChainDetails{chainDetails}\nuseFields{{\n    cryptoAmount,\n    sourceWalletId,\n    targetAssetId,\n    ledgerBridgeError,\n    bridgeTxData: { value: bridgeTxData },\n  }}\nuseStatusStepViewed{triggerAnalyticsStatusViewed}\nuseStepper{{ goBack: goBackOneStep }}\nusePerfMark{{ end: markEndBridgePerf }}\nuseEffect{}\nuseFormatBridgeAmounts{{ sourceFiatAmount, sourceCryptoAmount, targetFiatAmount, targetCryptoAmount }}\nuseOnMount{}\nuseMemo{formattedSourceAmounts}\nuseMemo{formattedTargetAmounts}\nuseCallback{goToPortfolio}\nuseCallback{goToTransactions}\nuseMemo{serviceTimeMinutes}\nuseMemo{primaryButtonProps: ButtonProps}\nuseMemo{secondaryButtonProps: ButtonProps}",(function(){return[s.Z,i.k6,g.L,w.Z,h._E,c.t,d.G,y.D,v.F]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(L,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/StatusStep/StatusStep.tsx"),C.register(60,"MINUTE_IN_SECONDS","/workspaces/apps/extension/src/screens/Bridge/steps/StatusStep/StatusStep.tsx"),C.register(E,"StatusStep","/workspaces/apps/extension/src/screens/Bridge/steps/StatusStep/StatusStep.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},35349:(e,t,r)=>{r.d(t,{A:()=>A});var n,o=r(2784),a=r(63470),s=r(83112),i=r(4517),l=r(17726),u=r(32913),c=r(83221),d=r(93199),f=r(20249),g=r(11071),p=r(58464),m=r(78975),h=r(60723),v=r(41368),y=r(48972),w=r(61641),b=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var k,S,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},C=(0,a.vU)({title:{id:"hIGKb1",defaultMessage:[{type:0,value:"You can now move crypto between blockchains"}]},description:{id:"cRJCkU",defaultMessage:[{type:0,value:"Bridging lets you move crypto to another blockchain network, such as Ethereum to Polygon."}]},learnMore:{id:"SquKcG",defaultMessage:[{type:0,value:"Learn more"}]},continue:{id:"x4JnUe",defaultMessage:[{type:0,value:"Continue"}]}});function A(){var e=(0,s.Z)().formatMessage,t=(0,i.k6)().goBack,r=(0,u.Z)(d.Ex).goToStep,n=(0,f.L)(),a=(0,p.G_)({chainDetails:n,source:p.Hw.EXTENSION}),k=(0,p.jB)({chainDetails:n,source:p.Hw.EXTENSION});(0,p.rA)({chainDetails:n,source:p.Hw.EXTENSION});var S=(0,o.useCallback)((function(){a(),t()}),[t,a]),x=(0,o.useCallback)((function(){k(),localStorage.setItem(c.h,"true"),r("entry")}),[r,k]),A=(0,o.useCallback)((function(){chrome.tabs.create({url:m.Ht,active:!1})}),[]);return(0,b.jsxs)(y.VStack,{height:g.UV,justifyContent:"space-between",children:[(0,b.jsx)(l.w,{onBack:S}),(0,b.jsxs)(y.VStack,{spacing:4,height:"100%",children:[(0,b.jsx)(y.Box,{justifyContent:"center",width:"100%",spacingBottom:2,children:(0,b.jsx)(v.SpotRectangle,{name:"bridging",testID:"bridge-welcome-illustration"})}),(0,b.jsx)(w.TextTitle3,{as:"p",align:"center",testID:"bridge-welcome-title",children:e(C.title)}),(0,b.jsx)(y.Spacer,{vertical:2}),(0,b.jsxs)(w.TextBody,{as:"p",align:"center",color:"foregroundMuted",testID:"bridge-welcome-desciption",children:[e(C.description)," ",(0,b.jsx)(w.Link,{testID:"bridge-select-network-learn-more",onPress:A,children:e(C.learnMore)})]})]}),(0,b.jsx)(y.Box,{spacingHorizontal:3,spacingBottom:3,children:(0,b.jsx)(h.Button,{block:!0,variant:"primary",onPress:x,testID:"bridge-welcome-continue-button",children:e(C.continue)})})]})}x(A,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseChainDetails{chainDetails}\nuseWelcomeStepBridgeCancel{triggerAnalyticsBackButton}\nuseWelcomeStepBridgeContinue{triggerAnalyticsContinue}\nuseWelcomeStepViewed{}\nuseCallback{handleGoBack}\nuseCallback{handleContinue}\nuseCallback{handleLearnMorePress}",(function(){return[s.Z,i.k6,u.Z,f.L,p.G_,p.jB,p.rA]})),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(C,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/WelcomeStep/WelcomeStep.tsx"),k.register(A,"WelcomeStep","/workspaces/apps/extension/src/screens/Bridge/steps/WelcomeStep/WelcomeStep.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},94312:(e,t,r)=>{r.d(t,{w:()=>E});var n,o=r(2784),a=r(63470),s=r(83112),i=r(62197),l=r.n(i),u=r(45992),c=r(46101),d=r(6915),f=r(59301),g=r(1620),p=r(78857),m=r(87203),h=r(24801),v=r(86855),y=r(43819),w=r(40620),b=r(18705),k=r(99059),S=r(91100),x=r(95545);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var C,A,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,a.vU)({notEnoughBalanceForMinerFeeMessage:{id:"IZUdH3",defaultMessage:[{type:0,value:"You have "},{type:1,value:"fiatTotalAvailableBalance"},{type:0,value:" in "},{type:1,value:"cryptoSymbol"},{type:0,value:", but you need a total of "},{type:1,value:"fiatTotalTransactionValue"},{type:0,value:" to proceed."}]},highNetworkFeesMessage:{id:"fYS2GP",defaultMessage:[{type:0,value:"Network fees are high right now. Not paid to Coinbase."}]},learnMore:{id:"9DtuSP",defaultMessage:[{type:0,value:"Learn more"}]},insufficientBalanceMessage:{id:"kKi/rC",defaultMessage:[{type:0,value:"Insufficient balance to pay gas fee"}]}});function E(e){var t=e.bridgeTxData,r=e.unsignedApproveTx,n=e.unsignedBridgeTx,a=(0,s.Z)().formatMessage,i=(0,g.$)(),C=(0,m.l)({unsignedTx:n,unsignedApproveTx:r}),A=(0,p.aB)({unsignedEthTx:n,unsignedApproveTx:r}),T=A.networkMaxFee,E=A.networkEstimatedFee,M=(0,o.useRef)(!1),I=(0,y.n)(),N=(0,o.useMemo)((function(){return I.length<5}),[I.length]),B=(0,w.r)(),G=(0,o.useMemo)((function(){return B.find((function(e){return h.N.isEqual(e.currencyCode,n.feeCurrencyCode)&&v.Zc.isEqual(e.network,n.network)}))}),[n.feeCurrencyCode,n.network,B]),H=(0,o.useMemo)((function(){var e,r,o=null!==(e=(0,b.H)(null!==(r=t.tx.value)&&void 0!==r?r:""))&&void 0!==e?e:new(l())(0),a=t.tx.from.toLowerCase()===(null==G?void 0:G.primaryAddress.toLowerCase())?o:new(l())(0);return(n instanceof f.L?E:T).add(a)}),[t.tx.from,t.tx.value,null==G?void 0:G.primaryAddress,n,E,T]),D=(0,o.useMemo)((function(){return void 0!==(null==G?void 0:G.balance)&&G.balance.gte(H)}),[G,H]),j=(0,o.useMemo)((function(){return{notEnoughBalanceForMinerFee:{type:"notEnoughBalanceForMinerFee",isDismissible:!1,showErrorIcon:!0,message:a(L.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:n.feeCurrencyCode.code,fiatTotalAvailableBalance:void 0!==(null==G?void 0:G.balance)&&null!=G&&G.currencyCode?i.formatToFiat(G.currencyCode,G.decimals,G.balance,!1,G.contractAddress,G.network,!0,!0):"",fiatTotalTransactionValue:G?i.formatToFiat(n.feeCurrencyCode,n.feeCurrencyDecimal,H,!1,void 0,G.network):""}),analytics:{eventName:"bridge.confirmation_preview_step.not_enough_eth_balance",eventProperties:{componentType:x.re.text,action:x.Us.render,loggingId:"261afa10-a0d6-41ff-ab1a-68fcf02a4c65",totalEthereumRequired:Number(H)}}},highNetworkFees:{type:"highNetworkFees",isDismissible:!0,showErrorIcon:!1,message:a(L.highNetworkFeesMessage),learnMore:{label:a(L.learnMore),url:S.lI},analytics:{eventName:"bridge.confirmation_preview_step.high_miner_fee",eventProperties:{componentType:x.re.text,action:x.Us.render,loggingId:"455f139d-db66-4dd2-a116-1b922c009b87",networkFee:Number(T)}}}}}),[a,n.feeCurrencyCode,n.feeCurrencyDecimal,G,i,H,T]);return(0,o.useMemo)((function(){var e=n.network.asChain(),t=new(l())(0),r=new(l())(0);return n instanceof d.H?(t=new(l())(n.maxFeePerGas).div(new(l())(Math.pow(10,9))),r=n.gasLimit):(t=n.gasPrice.div(new(l())(Math.pow(10,9))),r=n.gasLimit),D?C.gt(k.NM)&&N?j.highNetworkFees:void 0:(M.current||(M.current=!0,(0,u.LS)({blockchain:c.O6.rawValue,chainName:e.displayName,chainId:e.chainId.toString(10),errorType:"InsufficientBalance",errorMessage:a(L.insufficientBalanceMessage),txSource:"bridge".toLocaleString(),gasPriceInGwei:t.toString(),gasLimit:r.toString()})),j.notEnoughBalanceForMinerFee)}),[N,j.highNetworkFees,j.notEnoughBalanceForMinerFee,a,D,C,n])}T(E,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{currencyFormatter}\nuseHighestMinerFee{highestMinerFee}\nuseCalculateNetworkFees{{ networkMaxFee, networkEstimatedFee }}\nuseRef{hasDispatchedGasAnalyticsEvent}\nuseTransactions{transactions}\nuseMemo{canSeeHighNetworkFeeWarning}\nuseWallets{wallets}\nuseMemo{wallet}\nuseMemo{totalEthereumRequired}\nuseMemo{hasEnoughBalance}\nuseMemo{errors: Omit<ErrorMap, 'highPriceImpact'>}\nuseMemo{}",(function(){return[s.Z,g.$,m.l,p.aB,y.n,w.r]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(L,"messages","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailErrors.tsx"),C.register(E,"useTransactionDetailErrors","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailErrors.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},93992:(e,t,r)=>{r.d(t,{D:()=>M});var n=r(2784),o=r(63470),a=r(83112),s=r(62197),i=r.n(s),l=r(8389),u=r(27242),c=r(59301),d=r(1620),f=r(78857),g=r(56695),p=r(24801);function m({bridgeQuote:e,networkEstimateFee:t,networkBaseFee:r,networkMaxFee:o,unsignedBridgeTx:a,bridgeFeeInFiat:s}){const i=(0,d.$)(),l=(0,n.useCallback)(((e,t)=>e&&t?e.add(t):null),[]);return(0,n.useMemo)((()=>{if(!s)return{totalAmountLowerBound:void 0,totalAmountUpperBound:void 0,totalAmountEstimated:void 0};const n=i.fiatValue(e.fromAsset.currencyCode,e.fromAsset.decimals,e.fromAmount,e.fromAsset.address?.rawValue,e.fromAsset.network,2),u=i.fiatValue(a.feeCurrencyCode,a.feeCurrencyDecimal,r,void 0,a.network,2),c=i.fiatValue(a.feeCurrencyCode,a.feeCurrencyDecimal,t,void 0,a.network,2),d=i.fiatValue(a.feeCurrencyCode,a.feeCurrencyDecimal,o,void 0,a.network,2);return{totalAmountLowerBound:l(n,u),totalAmountUpperBound:l(n,d),totalAmountEstimated:l(n,c)}}),[s,e.fromAmount,e.fromAsset.address?.rawValue,e.fromAsset.currencyCode,e.fromAsset.decimals,e.fromAsset.network,i,l,r,t,o,a.feeCurrencyCode,a.feeCurrencyDecimal,a.network])}var h,v=r(86855),y=r(7356),w=r(52180),b=r.n(w),k=r(60417),S=r.n(k);function x(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&h(e);var A,T,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=(0,o.vU)({bridgeFeeLabel:{id:"vOOgKz",defaultMessage:[{type:0,value:"Bridge fee"}]},bridgeFeeTooltip:{id:"4gPBdY",defaultMessage:[{type:0,value:"The fee charged by the bridge to move your crypto from one blockchain to another"}]},networkFeeLabel:{id:"1TgfUs",defaultMessage:[{type:0,value:"Network fee"}]},networkFeeTooltip:{id:"MnkMuK",defaultMessage:[{type:0,value:"Applies to all transactions. Not paid to Coinbase."}]},networkAndApprovalFeeTooltip:{id:"pmYfiH",defaultMessage:[{type:0,value:"For approval & conversion. Applies to all transactions. Not paid to Coinbase."}]},coinbaseFeeLabel:{id:"69w8Iv",defaultMessage:[{type:0,value:"Coinbase fee"}]},coinbaseFeeTooltip:{id:"uhaNJy",defaultMessage:[{type:0,value:"Coinbase charges a service fee of 1% on token conversions."}]},transactionSpeedLabel:{id:"b+2ECB",defaultMessage:[{type:0,value:"Time (est.)"}]},totalCostLabel:{id:"j9RrnG",defaultMessage:[{type:0,value:"Total cost"}]},maxFeeLabel:{id:"zoMLPL",defaultMessage:[{type:0,value:"Max: "},{type:1,value:"maxFeeEstimate"}]},contractAddressLabel:{id:"55yK3k",defaultMessage:[{type:1,value:"currencyCode"},{type:0,value:" contract"}]},contractAddressTooltip:{id:"vXyOJS",defaultMessage:[{type:0,value:"This is the smart contract address for "},{type:1,value:"currencyCode"},{type:0,value:". Please open the contract in a block explorer and verify it is the correct asset."}]},timeLabel:{id:"8eOBTQ",defaultMessage:[{type:0,value:"Time (est.)"}]},minutesText:{id:"c1upgx",defaultMessage:[{type:0,value:"> "},{type:1,value:"minutes"},{type:0,value:" minutes"}]}});function M(e){var t=e.bridgeTxData,r=e.unsignedApproveTx,o=e.unsignedBridgeTx,s=e.lastUpdateTime,h=e.rowItemsAnalytics,w=e.isPageLoading,k=(0,a.Z)().formatMessage,C=(0,y.$)(),A=(0,d.$)(),T=(0,f.aB)({unsignedApproveTx:r,unsignedEthTx:o}),L=T.networkBaseFee,M=T.networkMaxFee,I=T.networkEstimatedFee,N=o instanceof c.L;(0,g.F)((function(){null==h||h({networkEstimatedFee:Number(I),networkMaxFee:Number(M),networkBaseFee:Number(L)})}));var B=(0,n.useMemo)((function(){if(t.fee)return A.fiatValue(new p.N(t.fee.asset.currencyCode),new(i())(t.fee.asset.decimals),t.fee.feeCryptoAmount,t.fee.asset.address,v.Zc.fromChainId({chainPrefix:l.jq,chainId:new(i())(t.fee.asset.chainId)}))}),[t.fee,A]),G=(0,n.useMemo)((function(){if(t.fee){if(B){var e=A.fiatValueString(B);if(e)return e}var r=A.formatToCrypto({currencyCode:new p.N(t.fee.asset.currencyCode),decimals:new(i())(t.fee.asset.decimals),value:t.fee.feeCryptoAmount,network:v.Zc.fromChainId({chainPrefix:l.jq,chainId:new(i())(t.fee.asset.chainId)}),includeCode:!0});if(!r)throw new Error("Could not calculate coinbase fee");return r}}),[t.fee,B,A]),H=(0,n.useMemo)((function(){return C({currencyCode:new p.N(t.protocolFee.asset.currencyCode),amount:new(i())(t.protocolFee.amount),currencyDecimal:new(i())(t.protocolFee.asset.decimals),contractAddress:t.protocolFee.asset.address,network:v.Zc.fromChainId({chainPrefix:l.jq,chainId:new(i())(t.protocolFee.asset.chainId)}),error:"Could not calculate protocol fee"})}),[t.protocolFee.amount,t.protocolFee.asset.chainId,t.protocolFee.asset.currencyCode,t.protocolFee.asset.decimals,t.protocolFee.asset.address,C]),D=(0,n.useMemo)((function(){return C(N?{currencyCode:o.feeCurrencyCode,currencyDecimal:o.feeCurrencyDecimal,network:o.network,amount:I,error:"Could not calculate estimated fee"}:{currencyCode:o.feeCurrencyCode,currencyDecimal:o.feeCurrencyDecimal,network:o.network,amount:L,error:"Could not calculate base fee"})}),[N,C,o.feeCurrencyCode,o.feeCurrencyDecimal,o.network,L,I]),j=(0,n.useMemo)((function(){if(N)return null;var e=C({currencyCode:o.feeCurrencyCode,currencyDecimal:o.feeCurrencyDecimal,network:o.network,amount:M,error:"Could not calculate max fee"});return k(E.maxFeeLabel,{maxFeeEstimate:e})}),[N,C,o.feeCurrencyCode,o.feeCurrencyDecimal,o.network,M,k]),F=m({bridgeQuote:t.quote,networkEstimateFee:I,networkBaseFee:L,networkMaxFee:M,unsignedBridgeTx:o,coinbaseFeeInFiat:B,bridgeFeeInFiat:new(b())(t.protocolFee.feesInUsd)}),O=F.totalAmountLowerBound,P=F.totalAmountUpperBound,V=F.totalAmountEstimated,R=(0,n.useMemo)((function(){if(N){if(!V)return;var e=A.fiatValueString(V);return{detailText:"".concat(e)}}if(O&&P){var t=A.fiatValueString(O),r=A.fiatValueString(P);return{detailText:"".concat(t),subDetailText:"Max: ".concat(r)}}}),[A,N,V,O,P]),U=t.quote.toAsset,W=(0,n.useMemo)((function(){var e,t,r=null===(e=u.m.fromChainId(U.chainId))||void 0===e?void 0:e.blockExplorerUrl;if(U.address)return{label:k(E.contractAddressLabel,{currencyCode:U.currencyCode.code}),detailText:{text:null===(t=U.address)||void 0===t?void 0:t.rawValue,blockExplorerUrl:"".concat(r,"/address/").concat(U.address.rawValue)},tooltipText:k(E.contractAddressTooltip,{currencyCode:U.currencyCode.code})}}),[k,U.address,U.chainId,U.currencyCode.code]),_=(0,n.useMemo)((function(){var e;if(null!=t&&null!==(e=t.quote)&&void 0!==e&&e.serviceTime)return k(E.minutesText,{minutes:(t.quote.serviceTime/60).toFixed(0)})}),[t.quote.serviceTime,k]);return(0,n.useMemo)((function(){return S()([].concat(x(U.address?[W]:[]),[{label:k(E.bridgeFeeLabel),detailText:H,tooltipText:k(E.bridgeFeeTooltip)},{label:k(E.networkFeeLabel),detailText:D,lastUpdateTime:s,isPageLoading:w,subDetailText:j,tooltipText:k(t.approveTx?E.networkAndApprovalFeeTooltip:E.networkFeeTooltip)},_?{label:k(E.timeLabel),detailText:_}:void 0,R?{label:k(E.totalCostLabel),detailText:R.detailText,subDetailText:R.subDetailText}:void 0,G?{label:k(E.coinbaseFeeLabel),detailText:G,tooltipText:k(E.coinbaseFeeTooltip)}:void 0]))}),[U.address,W,k,H,D,s,w,j,t.approveTx,R,G,_])}function I(e){var t=e.formatMessage;return S()([t(E.networkFeeLabel),t(E.coinbaseFeeLabel),t(E.totalCostLabel)])}L(M,"useIntl{{ formatMessage }}\nuseGetFiatValueOrCryptoFallback{getFiatValueOrCryptoFallback}\nuseCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkBaseFee, networkMaxFee, networkEstimatedFee }}\nuseOnMount{}\nuseMemo{coinbaseFeeInFiat}\nuseMemo{formattedCoinbaseFee}\nuseMemo{formattedBridgeFee}\nuseMemo{formattedNetworkFeeDetailText}\nuseMemo{formattedNetworkFeeSubDetailText}\nuseCalculateTransactionTotal{{ totalAmountLowerBound, totalAmountUpperBound, totalAmountEstimated }}\nuseMemo{formattedTotalCost}\nuseMemo{formattedContractAddress}\nuseMemo{formattedTimeEstimate}\nuseMemo{}",(function(){return[a.Z,y.$,d.$,f.aB,g.F,m]})),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(E,"messages","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx"),A.register(60,"MINUTE_IN_SECONDS","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx"),A.register(M,"useTransactionDetailRowItems","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx"),A.register(I,"useTransactionDetailRowLabels","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},19385:(e,t,r)=>{r.r(t)},83221:(e,t,r)=>{r.d(t,{h:()=>n});const n="BRIDGE_WELCOME_STEP_VIEWED"},45483:(e,t,r)=>{r.d(t,{O:()=>j});var n=r(2784),o=r(62783),a=r(58464),s=r(37184),i=r(57455),l=r(63470),u=r(83112),c=r(62197),d=r.n(c),f=r(46101),g=r(1620),p=r(78857),m=r(3184),h=r(86296),v=r(32832),y=r(86855),w=r(2330),b=r(78975),k=r(78012),S=r(22148),x=r(48834).Buffer;class C{approveTx;tx;quote;fee;chainId;protocolFee;constructor(e,t){this.approveTx=e.approveTx,this.tx=e.tx,this.quote=new S.p(e.quote),this.fee=e.fee,this.protocolFee=e.protocolFee,this.chainId=t}get approveHexEncodedTxData(){return this.approveTx?x.from(this.approveTx.data):void 0}get bridgeHexEncodedTxData(){return x.from((0,k.Is)(this.tx.data),"hex")}get chainPrimaryAssetValue(){return this.tx.value?new(d())(this.tx.value):new(d())(0)}get estimatedBridgeTxMinerFee(){if(!this.tx.gas||!this.tx.gasPrice)return;return new(d())(this.tx.gasPrice).mul(new(d())(this.tx.gas))}get estimatedApproveTxMinerFee(){if(!this.approveTx||!this.approveTx.gas||!this.approveTx.gasPrice)return;return new(d())(this.approveTx.gasPrice).mul(new(d())(this.approveTx.gas))}get gasPrice(){return this.tx.gasPrice?new(d())(this.tx.gasPrice):void 0}}var A=r(4871),T=r(45070),L=r(66854),E=r(18705),M=r(48834).Buffer;async function I({sourceWallet:e,feeWallet:t,routePath:r,sourceAmount:n,sourceAssetAddress:o,sourceChainId:a,targetAmount:s,targetAssetAddress:i,targetChainId:l,userAddress:u,is1559Enabled:c,isReducedGasEstimationEligible:f=!1}){const g={routePath:r,userAddress:u,fromChainId:a.toString(),toChainId:l.toString(),...i&&{toTokenAddress:i},...o&&{fromTokenAddress:o},fromAmount:n.toString(),toAmount:s.toString()},{result:p}=await(0,v.xA)("bridge/getTxData",g),S=new C(p,a),x=await(0,m.cn)(u,y.Zc.fromChainId({chainId:a}));let I,N=x;S.approveTx&&(I=await(0,w.U)(t,S.approveTx,x,c,b.G3,f),N=x.add(new(d())(1)));const B=await async function(e,t,r,n,o){const{tx:a}=t,s=a.value?(0,E.H)(a.value):new(d())(0);if(!s)throw new Error("Unable to generate transaction");const i=t.approveTx?new(d())(a.gas):void 0,l=await(0,L.B6)(Number(t.chainId));return n?(0,A.$)({wallet:e,recipientAddress:a.to,metadata:b.G3,transactionAmount:{kind:"Amount",value:s},blockchainConfig:{txType:"1559",nonce:r,dataBuffer:M.from((0,k.Is)(a.data),"hex"),selectedMaxFeePerGas:new(d())(l.normalMaxFeePerGas),selectedMaxPriorityFeePerGas:new(d())(l.normalPriorityFee),selectedGasLimit:i,selectedBaseFeePerGas:new(d())(l.baseFee)},isReducedGasEstimationEligible:o}):(0,T.q)({wallet:e,recipientAddress:t.tx.to,metadata:b.G3,transactionAmount:{kind:"Amount",value:new(d())(t.tx.value)},blockchainConfig:{txType:"Legacy",nonce:r,dataBuffer:t.bridgeHexEncodedTxData,selectedGasPrice:new(d())(t.tx.gasPrice),selectedGasLimit:new(d())(t.tx.gas)},isReducedGasEstimationEligible:o})}(e,S,N,c,f);return"Failure"===I?.kind&&((0,h.eK)({error:new Error(`error building approveTx: ${I.err}`)}),Object.assign(I.transaction,{gasLimit:S.approveTx?.gas?new(d())(S.approveTx?.gas):void 0})),"Failure"===B?.kind&&((0,h.eK)({error:new Error(`error building swapTx: ${B.err}`)}),Object.assign(B.transaction,{gasLimit:new(d())(S.tx.gas)})),{bridgeTxData:S,unsignedApproveTx:I,unsignedBridgeTx:B}}const N=(0,l.vU)({notEnoughBalanceForMinerFeeMessage:{id:"8YvB19",defaultMessage:"You have {fiatTotalAvailableBalance} in {cryptoSymbol}, but you need {fiatTotalTransactionValue} due to gas fees"},depositMinerFeeMessage:{id:"mLulYH",defaultMessage:"You must deposit {fiatDifferenceValue} in {cryptoSymbol} to complete this transaction."}});var B=r(84986),G=r(95898),H=r(93199),D=r(20249);function j({sourceWallet:e,feeWallet:t,sourceAsset:r,targetAsset:l,shouldIgnoreSuccessRedirect:c,quote:m}){const{goToStep:h}=(0,o.t)(H.Ex),v=(0,i.h)(),y=(0,s.f)(),{bridgeTxData:w,unsignedBridgeTxResult:b,unsignedApproveTxResult:k,quote:S}=(0,G.Z)(H.cr),x=(0,D.L)(),C=(0,a.KD)({chainDetails:x,source:a.Hw.EXTENSION}),A=(0,a.iB)({chainDetails:x,source:a.Hw.EXTENSION}),T=(0,a.Mw)({chainDetails:x,source:a.Hw.EXTENSION}),L=(0,n.useCallback)((e=>{w.onChange(e.bridgeTxData),k.onChange(e.unsignedApproveTx),b.onChange(e.unsignedBridgeTx),S.onChange(e.bridgeTxData.quote)}),[w,S,k,b]),E=(0,n.useCallback)((()=>{h("confirmationPreview")}),[h]),M=(0,n.useCallback)((e=>{T(),e.code===B.z.AMOUNT_TOO_LOW||B.z.NO_ROUTES_FOUND||B.z.LOW_LIQUIDITY?h("entry"):v(e)}),[h,v,T]),{generateTransactions:j,generateTransactionsError:F,generateDepositAmount:O,isGenerateTransactionsLoading:P}=function({sourceAsset:e,targetAsset:t,sourceAmount:r,targetAmount:o,sourceWallet:a,feeWallet:s,routePath:l,onSuccess:c,updateFormData:m,onNotEnoughData:h,onRefreshFail:v,shouldIgnoreSuccessRedirect:y,onNotEnoughBalanceForMinerFee:w,onError:b,isReducedGasEstimationEligible:k=!1}){const S=(0,g.$)(),[x,C]=(0,n.useState)(!1),[A,T]=(0,n.useState)(),[L,E]=(0,n.useState)(),M=(0,i.h)(),{formatMessage:B}=(0,u.Z)();(0,n.useEffect)((function(){T(void 0)}),[e,t,r,o]);const G=(0,n.useCallback)((({bridgeTxData:t,unsignedApproveTx:n,unsignedBridgeTx:o})=>{m?.({bridgeTxData:t,unsignedApproveTx:n,unsignedBridgeTx:o});const i=e?.address===s?.contractAddress?r:new(d())(0),{hasEnoughBalance:l,totalFeeAssetRequired:u}=(0,p.iR)({feeWallet:s,transactionAmount:i,unsignedTx:o.transaction,unsignedApproveEthTx:n?.transaction,isReducedGasEstimationEligible:k});if(!y&&l)return void c?.({bridgeTxData:t,unsignedApproveTx:n,unsignedBridgeTx:o});const f=B(N.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:s?.currencyCode.code,fiatTotalAvailableBalance:S.formatToFiat(s.currencyCode,s.decimals,s.balance,!1,s.contractAddress,s.network,!0,!0),fiatTotalTransactionValue:S.formatToFiat(s.currencyCode,s.decimals,u,!1,s.contractAddress,s.network)}),g=B(N.depositMinerFeeMessage,{cryptoSymbol:s?.currencyCode.code,fiatDifferenceValue:S.formatToFiat(s.currencyCode,s.decimals,new(d())(u).sub(s.balance??new(d())(0)),!1,s.contractAddress,s.network,!0,!0)});w?.({errorMessage:f,balance:Number(a?.balance??0),totalRequired:Number(u)}),E(new Error(g)),T(new Error(f))}),[m,e?.address,s,r,y,B,S,w,a?.balance,c,k]),H=(0,n.useMemo)((()=>Boolean(a?.network&&(0,f.FM)(a?.network))),[a]);return{generateTransactions:(0,n.useCallback)((async(n=!1)=>{const i=a?.primaryAddress,u=a?.network,c=e?.network.asChain()?.chainId,f=t?.network.asChain()?.chainId,g={network:Boolean(u),wallet:Boolean(a),address:Boolean(i),sourceAsset:Boolean(e),targetAsset:Boolean(t)};if(!(u&&a&&i&&e&&t&&s&&c&&f&&l&&r&&o))return n?void v?.(g):(h?.(g),M(new Error("Not enough data provided to generate transactions")));try{C(!0);const n=await I({sourceWallet:a,feeWallet:s,routePath:l,sourceAmount:r,targetAmount:o,sourceAssetAddress:e.address?.rawValue,targetAssetAddress:t.address?.rawValue,sourceChainId:new(d())(c),targetChainId:new(d())(f),userAddress:i,is1559Enabled:H,isReducedGasEstimationEligible:k});G(n)}catch(e){b?b(e):M(e)}finally{C(!1)}}),[a,e,t,s,h,M,v,l,r,o,H,G,b,k]),generateTransactionsError:A,generateDepositAmount:L,isGenerateTransactionsLoading:x}}({sourceAsset:r,targetAsset:l,sourceAmount:m?.fromAmount,targetAmount:m?.toAmount,sourceWallet:e,feeWallet:t,routePath:m?.routePath,updateFormData:L,onSuccess:E,onNotEnoughBalanceForMinerFee:A,onNotEnoughData:C,shouldIgnoreSuccessRedirect:c,onError:M,isReducedGasEstimationEligible:y});return(0,n.useMemo)((()=>({generateTransactions:j,generateTransactionsError:F,generateDepositAmount:O,isGenerateTransactionsLoading:P})),[j,F,O,P])}},59169:(e,t,r)=>{r.d(t,{I:()=>u});var n=r(2784),o=r(82066),a=r(86296),s=r(32832),i=r(98597);const l="bridge/supportedSourceAssets";function u({sourceChainId:e,targetChainId:t}){const r=(0,o.useQuery)([l,e,t],(async()=>async function({sourceChainId:e,targetChainId:t}){if(!e||!t)return Promise.resolve({assets:[]});try{const{result:r}=await(0,s.xA)(l,{fromChainId:e,toChainId:t},{apiVersion:2});return r}catch{return(0,a.eK)({error:new Error("Error when attempting to fetch bridgeable source assets")}),Promise.resolve({assets:[]})}}({sourceChainId:e,targetChainId:t})),{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"]}),u=r.data;return(0,n.useMemo)((()=>u?u.assets.map((e=>new i.Y(e))):[]),[u])}},12341:(e,t,r)=>{r.d(t,{G:()=>d});var n=r(2784),o=r(62197),a=r.n(o),s=r(1620),i=r(59169),l=r(75277),u=r(40620),c=r(73881);function d(e,t){const{fiatValue:r}=(0,s.$)(),o=e?.asChain()?.chainId.toString(),d=t?.asChain()?.chainId.toString(),f=(0,i.I)({sourceChainId:o,targetChainId:d}),g=(0,u.r)(e),p=(0,n.useMemo)((()=>{const e=new Map(g.map((e=>[e.swapId,e])));return f.reduce(((t,r)=>{const n=e.get(r.id);return n?t.push(n):t.push(new c.w5({primaryAddress:r.address?.rawValue||"",addresses:[],displayName:r.name,currencyCode:r.currencyCode,imageURL:new URL(r.imageURL),balance:new(a())(0),decimals:r.decimals,blockchain:r.blockchain,minimumBalance:new(a())(0),network:r.network,contractAddress:r.address?.rawValue,selectedIndex:new(a())(0)})),t}),[])}),[f,g]);return(0,n.useMemo)((()=>(0,l.CM)(p,r)),[p,r])}},76054:(e,t,r)=>{r.d(t,{b:()=>a});var n=r(2784),o=r(86855);function a({wallets:e,network:t}){return(0,n.useMemo)((()=>e.find((e=>{const r=o.Zc.isEqual(t,e.network),n=e.currencyCode.code===t.asChain()?.baseAssetCurrencyCode;return r&&n}))),[t,e])}},72133:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(2784),o=r(62197),a=r.n(o),s=r(1620);function i(e){const t=(0,s.$)(),{quote:r}=e,o=(0,n.useMemo)((()=>{const e=t.fiatValue(r.fromAsset.currencyCode,r.fromAsset.decimals,r.fromAmount,r.fromAsset.address?.rawValue,r.fromAsset.network,2);if(e)return t.fiatValueString(e)}),[t,r.fromAsset.currencyCode,r.fromAsset.decimals,r.fromAsset.address?.rawValue,r.fromAsset.network,r.fromAmount]),i=(0,n.useMemo)((()=>t.formatToCrypto({currencyCode:r.fromAsset.currencyCode,decimals:r.fromAsset.decimals,value:r.fromAmount,includeCode:!0,maxDisplayDecimals:new(a())(8),minDisplayDecimals:new(a())(0)})),[t,r.fromAmount,r.fromAsset.currencyCode,r.fromAsset.decimals]),l=(0,n.useMemo)((()=>{const e=t.fiatValue(r.toAsset.currencyCode,r.toAsset.decimals,r.toAmount,r.toAsset.address?.rawValue,r.toAsset.network,2);if(e)return t.fiatValueString(e)}),[t,r.toAsset.currencyCode,r.toAsset.decimals,r.toAsset.address?.rawValue,r.toAsset.network,r.toAmount]),u=(0,n.useMemo)((()=>t.formatToCrypto({currencyCode:r.toAsset.currencyCode,decimals:r.toAsset.decimals,value:r.toAmount,includeCode:!0,maxDisplayDecimals:new(a())(8),minDisplayDecimals:new(a())(0)})),[t,r.toAmount,r.toAsset.currencyCode,r.toAsset.decimals]);return(0,n.useMemo)((()=>({sourceFiatAmount:o,sourceCryptoAmount:i,targetFiatAmount:l,targetCryptoAmount:u})),[i,o,u,l])}},84986:(e,t,r)=>{r.d(t,{z:()=>g,F:()=>p});var n=r(2784),o=r(62197),a=r.n(o),s=r(1620),i=r(82066),l=r(63258),u=r(32832),c=r(22148);const d="bridge/quote";function f(e,t=300){const r=(0,l.N)(e,t),{data:o,isLoading:a,error:s}=(0,i.useQuery)([d,r],(async()=>{if(r)return async function(e){const{result:t}=await(0,u.xA)(d,e,{apiVersion:2});return t.quote}(r)}),{enabled:!!r,staleTime:3e4,retry:!1});return{quote:(0,n.useMemo)((()=>o?new c.p(o):void 0),[o]),isLoading:a,error:s}}var g;!function(e){e.NO_ROUTES_FOUND="noRoutesFound",e.LOW_LIQUIDITY="lowLiquidity",e.AMOUNT_TOO_LOW="amountTooLow"}(g||(g={}));const p=({source:e,target:t,includeCode:r=!0,cryptoAmount:o=new(a())(0),userAddress:i,analyticsError:l})=>{const u=(0,s.$)(),c=(0,n.useMemo)((()=>{if(e&&t&&!o.lte(new(a())(0)))return{fromContractAddress:e.address?.rawValue??"",toContractAddress:t.address?.rawValue??"",fromCurrencyCode:e.currencyCode?.rawValue,toCurrencyCode:t.currencyCode?.rawValue,amount:String(o),fromChainId:e.network.asChain()?.chainId.toString()??"",toChainId:t.network.asChain()?.chainId.toString()??"",userAddress:i}}),[e,t,o,i]),{quote:d,isLoading:g,error:p}=f(c);(0,n.useEffect)((function(){p&&l?.({error:p})}),[l,p]);const m=(0,n.useMemo)((()=>d?u.formatToCrypto({currencyCode:d.fromAsset.currencyCode,decimals:d.fromAsset.decimals,value:new(a())(d.fromAmount),includeCode:r,maxDisplayDecimals:new(a())(8)}):""),[u,r,d]),h=(0,n.useMemo)((()=>d?u.formatToCrypto({currencyCode:d.toAsset.currencyCode,decimals:d.toAsset.decimals,value:new(a())(d.toAmount),includeCode:r,maxDisplayDecimals:new(a())(8)}):""),[u,r,d]),v=(0,n.useMemo)((()=>!g&&p?p:void 0),[p,g]);return{quote:d,isLoading:g,fromCryptoAmount:m,toCryptoAmount:h,error:v}}},51913:(e,t,r)=>{r.d(t,{K:()=>s});var n=r(2784),o=r(12341),a=r(75277);function s({walletId:e,sourceNetwork:t,targetNetwork:r}){const s=(0,o.G)(t,r),i=(0,a.Rt)({wallets:s});return(0,n.useMemo)((()=>{if(!s?.length)return;let t;return e&&(t=s.find((t=>t.id===e))),t||i?.[0]}),[e,s,i])}},98597:(e,t,r)=>{r.d(t,{J:()=>o,Y:()=>a});var n=r(99389);const o="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";class a extends n.x{bridgeable;constructor(e){super(e.name,e.currencyCode,e.address,e.decimals,e.imageURL,e.chainId,e.blockchain),this.bridgeable=e.bridgeable}}},22148:(e,t,r)=>{r.d(t,{p:()=>u});var n=r(62197),o=r.n(n),a=r(18705),s=r(52180),i=r.n(s),l=r(98597);class u{fromAsset;toAsset;fromAmount;toAmount;routePath;serviceTime;constructor(e){this.fromAsset=new l.Y(e.fromAsset),this.toAsset=new l.Y(e.toAsset),this.fromAmount=new(o())(e.fromAmount),this.toAmount=new(o())(e.toAmount),this.routePath=e.routePath,this.serviceTime=e.serviceTime}get exchangeRate(){return this.fromAmount?(0,a.x)(this.toAmount).div((0,a.x)(this.fromAmount)):new(i())(0)}}},7356:(e,t,r)=>{r.d(t,{$:()=>u});var n=r(2784),o=r(62197),a=r.n(o),s=r(8389),i=r(1620),l=r(86855);function u(){const e=(0,i.$)();return(0,n.useCallback)((({currencyCode:t,currencyDecimal:r,network:n,amount:o,error:i,contractAddress:u})=>{const c=n.asChain()?.chainId;if(!c)throw new Error(`${i} - invalid chainId`);const d=e.formatToFiat(t,r,o,!1,u,l.Zc.fromChainId({chainPrefix:s.jq,chainId:new(a())(c)}));if(d)return d;const f=e.formatToCrypto({currencyCode:t,decimals:r,value:o,network:l.Zc.fromChainId({chainPrefix:s.jq,chainId:new(a())(c)}),includeCode:!0});if(!f)throw new Error(i);return f}),[e])}}}]);
//# sourceMappingURL=4921.js.map