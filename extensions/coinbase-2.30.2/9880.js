/*! For license information please see 9880.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[9880],{57444:(e,t,r)=>{r.d(t,{C:()=>N});var n=r(2784),a=r(63470),o=r(83112),i=r(17726),s=r(35910),u=r(11071);const c=(e,t)=>r=>{if(r.split(".").length>2)return;const n=r.replace(/[^\d.]/g,"").replace(new RegExp(`(\\.[\\d]{${t}}).`,"g"),"$1");e("."===n?`0${n}`:n)};var l,d=r(62197),f=r.n(d),m=r(1620),g=r(71444),p=r(12059),h=r(63218),y=r(8476),w=r(60723),v=r(53052),b=r(48972),x=r(61641),S=r(52322);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(){F=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new C(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return G()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=b(i,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function d(){}function f(){}function m(){}var g={};s(g,a,(function(){return this}));var p=Object.getPrototypeOf,h=p&&p(p(k([])));h&&h!==t&&r.call(h,a)&&(g=h);var y=m.prototype=d.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function n(a,o,i,s){var u=c(e[a],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==M(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return f.prototype=m,s(y,"constructor",m),s(m,"constructor",f),f.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(v.prototype),s(v.prototype,o,(function(){return this})),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function C(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){C(o,n,a,i,s,"next",e)}function s(e){C(o,n,a,i,s,"throw",e)}i(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);var P,E,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=new(f())(21e3),I=(0,a.vU)({title:{id:"sROqz3",defaultMessage:[{type:0,value:"Change speed"}]},confirm:{id:"SmqOzB",defaultMessage:[{type:0,value:"Confirm"}]},maxFeePerGas:{id:"ZAE/y6",defaultMessage:[{type:0,value:"Max fee"}]},maxPriorityFeePerGas:{id:"cOAO9M",defaultMessage:[{type:0,value:"Max priority fee"}]},gasLimit:{id:"lvkAw2",defaultMessage:[{type:0,value:"Gas limit"}]},unit:{id:"n1jru1",defaultMessage:[{type:0,value:"Gwei"}]},validationErrorMessage:{id:"jKb2vJ",defaultMessage:[{type:0,value:"Input contains invalid characters"}]},inputErrorMessage:{id:"oUv2qe",defaultMessage:[{type:0,value:"We recommend a value higher than"}]},invalidFeeRangeErrorMessage:{id:"+HybeL",defaultMessage:[{type:0,value:"Max fee must be greater than max priority fee."}]}}),_=function(e){if(""===e)return new(f())(0);var t=Number(e).toFixed(9);return new(f())((0,h.KU)(t,new(f())(9)).toFixed(0))},A=new(f())(0);function N(e){var t=e.wallet,r=e.toAddress,a=e.unsignedTx,l=e.isEntireBalance,d=e.initialFees,M=e.maxFeeThreshold,C=e.maxPriorityThreshold,L=e.nonce,P=e.handleGenerateTx,E=e.goBack,T=e.flowType,N=(0,o.Z)().formatMessage,D=(0,m.$)(),O=D.formatToFiatFeeRange,R=D.formatToCryptoRange,V="speedUp"===T||"cancel"===T,U=G((0,n.useState)((0,h.th)(d.maxFee).toString()),2),B=U[0],$=U[1],H=G((0,n.useState)((0,h.th)(d.maxPriorityFee).toString()),2),z=H[0],K=H[1],q=G((0,n.useState)(d.gasLimit.toString()),2),W=q[0],Z=q[1],Y=G((0,n.useState)(!1),2),J=Y[0],Q=Y[1],X=(0,g.T)(d.gasLimit,t.network),ee=null==X?void 0:X.slow;(0,y.r7)(T);var te,re=X?X.normal.baseFeePerGas:A,ne=(0,n.useMemo)((function(){return _(B)}),[B]),ae=(0,n.useMemo)((function(){return _(z)}),[z]),oe=(0,n.useMemo)((function(){return re.add(ae).mul(new(f())(W))}),[re,W,ae]),ie=(0,n.useMemo)((function(){return new(f())(ne).mul(new(f())(W))}),[W,ne]),se=(0,n.useMemo)((function(){if(a)return O(a.feeCurrencyCode,a.feeCurrencyDecimal,ie,!1,oe,t.network)}),[O,oe,ie,a,t.network]),ue=(0,n.useMemo)((function(){if(a)return R(a.feeCurrencyCode,a.feeCurrencyDecimal,oe,ie)}),[R,oe,ie,a]),ce=(0,n.useMemo)((function(){return new(f())(W).lt(j)}),[W]),le=(0,n.useMemo)((function(){return ae.gt(ne)}),[ae,ne]),de=(0,n.useCallback)(k(F().mark((function e(){var n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:n={kind:l?"EntireBalance":"Amount",value:a.transferValue},(0,p.o)({wallet:t,transactionAmount:n,recipientAddress:r,metadata:a.metadata,blockchainConfig:{txType:"1559",nonce:L,dataBuffer:a.data,selectedBaseFeePerGas:re,selectedMaxFeePerGas:ne,selectedMaxPriorityFeePerGas:ae,selectedGasLimit:new(f())(W)}}).then(P);case 4:case"end":return e.stop()}}),e)}))),[re,W,P,l,ne,ae,L,r,a,t]),fe=(0,n.useCallback)((function(e,t){return function(r){if(!r||isNaN(Number(r)))return!1;if(t)return _(r).gte(e);var n=parseInt(r);return new(f())(n).gte(e)}}),[]),me=(0,n.useMemo)((function(){var e=null!=M?M:null==ee?void 0:ee.maxFeePerGas;if(e)return[[fe(e,!0),"".concat(N(I.inputErrorMessage)," ").concat((0,h.th)(e).toString()," ").concat(N(I.unit),".")]]}),[N,M,null==ee?void 0:ee.maxFeePerGas,fe]),ge=(0,n.useMemo)((function(){var e=null!=C?C:null==ee?void 0:ee.maxPriorityFeePerGas;if(e)return[[fe(e,!0),"".concat(N(I.inputErrorMessage)," ").concat((0,h.th)(e).toString()," ").concat(N(I.unit),".")]]}),[N,C,null==ee?void 0:ee.maxPriorityFeePerGas,fe]),pe=(0,n.useMemo)((function(){return[[fe(d.gasLimit,!1),"".concat(N(I.inputErrorMessage)," ").concat(d.gasLimit,".")]]}),[N,d,fe]),he=(0,n.useCallback)((function(){(0,y.it)(B,z,W,se,T),Q(!0),de()}),[se,T,W,de,B,z]);return a?(0,S.jsxs)(b.VStack,{height:u.UV,children:[(0,S.jsx)(i.w,{onBack:E,title:N(I.title)}),(0,S.jsxs)(b.VStack,{height:V?400:void 0,overflow:"scroll",children:[W?(0,S.jsx)(v.ListCell,{title:"Custom",detail:se,subdetail:ue,testID:"adjust-gas-custom-fee-range-cell"}):(0,S.jsx)(v.ListCellFallback,{title:!0,detail:!0,subdetail:!0}),(0,S.jsx)(b.Divider,{}),(0,S.jsxs)(b.VStack,{spacingVertical:1,spacingHorizontal:3,children:[(0,S.jsx)(s.O,{autoFocus:!0,type:"text",name:"Max Fee Per Gas",suffix:N(I.unit),label:N(I.maxFeePerGas),value:B,validators:me,onChange:c($,9),maxLength:8,testID:"adjust-gas-custom-max-fee-input"}),(0,S.jsx)(s.O,{type:"text",name:"Max Priority Fee Per Gas",suffix:N(I.unit),label:N(I.maxPriorityFeePerGas),value:z,validators:ge,onChange:c(K,9),maxLength:8,testID:"adjust-gas-custom-max-priority-fee-input"}),(0,S.jsx)(s.O,{type:"text",name:"Gas Limit",label:N(I.gasLimit),value:W,validators:pe,onChange:(te=Z,e=>{const t=e.replace(/[^0-9]/g,"");te(t)}),maxLength:8,testID:"adjust-gas-custom-gas-limit-input"}),le&&(0,S.jsx)(x.TextLabel2,{as:"p",color:"negative",children:N(I.invalidFeeRangeErrorMessage)})]})]}),(0,S.jsx)(b.VStack,{position:"absolute",width:"100%",bottom:0,borderedTop:!0,spacingVertical:2,spacingHorizontal:2,background:"background",children:(0,S.jsx)(w.Button,{block:!0,onPress:he,disabled:!B||!z||!W||le||ce,loading:J,testID:"adjust-gas-custom-confirm-button",children:N(I.confirm)})})]}):null}T(N,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{{ formatToFiatFeeRange, formatToCryptoRange }}\nuseState{[maxFeePerGas, setMaxFeePerGas](convertWeiToGwei(initialFees.maxFee).toString())}\nuseState{[maxPriorityFeePerGas, setMaxPriorityFeePerGas](convertWeiToGwei(initialFees.maxPriorityFee).toString())}\nuseState{[gasLimit, setGasLimit](initialFees.gasLimit.toString())}\nuseState{[isLoading, setIsLoading](false)}\nuseMinerFeeEstimates{estimates}\nuseAdjustableGasCustomScreenViewed{}\nuseMemo{maxFeeInWei}\nuseMemo{maxPriorityInWei}\nuseMemo{feeRangeLowerBound}\nuseMemo{feeRangeUpperBound}\nuseMemo{fiatRange}\nuseMemo{cryptoRange}\nuseMemo{isInvalidGasLimit}\nuseMemo{isInvalidRange}\nuseCallback{generateUnsigned1559Tx}\nuseCallback{validateMinThreshold}\nuseMemo{maxFeeInputValidator: ValidatorsType | undefined}\nuseMemo{maxPriorityInputValidator: ValidatorsType | undefined}\nuseMemo{gasLimitInputValidator: ValidatorsType}\nuseCallback{handleConfirm}",(function(){return[o.Z,m.$,g.T,y.r7]})),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(9,"DECIMAL_PRECISION","/workspaces/apps/extension/src/components/SharedAdjustGasCustomStep/SharedAdjustGasCustomStep.tsx"),P.register(j,"MINIMUM_GAS_LIMIT","/workspaces/apps/extension/src/components/SharedAdjustGasCustomStep/SharedAdjustGasCustomStep.tsx"),P.register(I,"messages","/workspaces/apps/extension/src/components/SharedAdjustGasCustomStep/SharedAdjustGasCustomStep.tsx"),P.register(_,"convertGweiToWei","/workspaces/apps/extension/src/components/SharedAdjustGasCustomStep/SharedAdjustGasCustomStep.tsx"),P.register(A,"zero","/workspaces/apps/extension/src/components/SharedAdjustGasCustomStep/SharedAdjustGasCustomStep.tsx"),P.register(N,"SharedAdjustGasCustomStep","/workspaces/apps/extension/src/components/SharedAdjustGasCustomStep/SharedAdjustGasCustomStep.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},8476:(e,t,r)=>{r.d(t,{U2:()=>a,dy:()=>o,GT:()=>i,E0:()=>s,Rw:()=>u,F7:()=>c,Lq:()=>l,r7:()=>d,it:()=>f});var n=r(95545);function a(){(0,n.Kz)("adjustable_gas.send_flow_entry_clicked",{loggingId:"7b7e2aae-eda1-4b52-8a99-9e753e94ca28",action:n.Us.view,componentType:n.re.page})}function o(){(0,n.Kz)("adjustable_gas.dapp_txn_flow_entry_clicked",{loggingId:"6fbb8208-9cde-4b77-be64-37c64155a7e0",action:n.Us.view,componentType:n.re.page})}function i(e){(0,n.bH)("adjustable_gas.preset_screen_viewed",{loggingId:"01bf5ae7-413f-4732-a676-a497cd03debc",action:n.Us.view,componentType:n.re.page,flowType:e})}function s(e){(0,n.Kz)("adjustable_gas.fast_preset_clicked",{loggingId:"3bf99d9e-1f67-403d-bf24-1480933042ac",action:n.Us.click,componentType:n.re.button,flowType:e})}function u(e){(0,n.Kz)("adjustable_gas.normal_preset_clicked",{loggingId:"7600c715-d126-484b-bd1a-dc49800c3ef2",action:n.Us.click,componentType:n.re.button,flowType:e})}function c(e){(0,n.Kz)("adjustable_gas.slow_preset_clicked",{loggingId:"bf78c628-4890-4487-bc29-6ee272e8f3b9",action:n.Us.click,componentType:n.re.button,flowType:e})}function l(e){(0,n.Kz)("adjustable_gas.custom_cell_clicked",{loggingId:"56623a9b-9a03-4a2b-8ca7-769c5bd307dd",action:n.Us.click,componentType:n.re.button,flowType:e})}function d(e){(0,n.bH)("adjustable_gas.custom_screen_viewed",{loggingId:"8eac62ea-8114-4ceb-8a8d-e7d86d696bf4",action:n.Us.view,componentType:n.re.page,flowType:e})}function f(e,t,r,a,o){(0,n.Kz)("adjustable_gas.custom_input_submitted",{loggingId:"5a1f4c11-293f-4bca-93b3-113875cd5e3a",action:n.Us.click,componentType:n.re.button,maxFee:e,maxPriorityFee:t,gasLimit:r,fiatRange:a,flowType:o})}},71444:(e,t,r)=>{r.d(t,{T:()=>l});var n=r(2784),a=r(82066),o=r(62197),i=r.n(o),s=r(29514),u=r(1620),c=r(24801);function l(e,t){const r=t.asChain();if(!r)throw new Error("Invalid network. No associated EthereumChain found");const o=r.chainId,{data:l}=(0,a.useQuery)([s.h,o],(async()=>async function(e){return(0,s.c)(e)}(o)),{staleTime:2e3,cacheTime:1e4,notifyOnChangeProps:["data"]}),{formatToFiatFeeRange:d,formatToCryptoRange:f}=(0,u.$)();return(0,n.useMemo)((()=>{if(!l)return;const n=new(i())(l.baseFee),a=new(i())(l.slowPriorityFee),o=new(i())(l.slowMaxFeePerGas),s=new(i())(l.normalPriorityFee),u=new(i())(l.normalMaxFeePerGas),m=new(i())(l.fastMaxFeePerGas),g=new(i())(l.fastPriorityFee),p=[{low:n.add(a).mul(e),high:o.mul(e)},{low:n.add(s).mul(e),high:u.mul(e)},{low:n.add(g).mul(e),high:m.mul(e)}],h=p.map((e=>d(new c.N(r.baseAssetCurrencyCode??"ETH"),new(i())(r.baseAssetDecimal),e.high,!1,e.low,t))),y=p.map((e=>f(new c.N(r.baseAssetCurrencyCode??"ETH"),new(i())(r.baseAssetDecimal),e.low,e.high)));return{slow:{maxFeePerGas:o,maxPriorityFeePerGas:a,baseFeePerGas:n,fiatRangeString:h[0],cryptoRangeString:y[0]},normal:{maxFeePerGas:u,maxPriorityFeePerGas:s,baseFeePerGas:n,fiatRangeString:h[1],cryptoRangeString:y[1]},fast:{maxFeePerGas:m,maxPriorityFeePerGas:g,baseFeePerGas:n,fiatRangeString:h[2],cryptoRangeString:y[2]}}}),[l,r.baseAssetCurrencyCode,r.baseAssetDecimal,f,d,e,t])}},11081:(e,t,r)=>{r.d(t,{o:()=>S});var n=r(2784),a=r(63470),o=r(83112),i=r(62197),s=r.n(i),u=r(45992),c=r(46101),l=r(6915),d=r(59301),f=r(23933),m=r(29225),g=r(1620),p=r(39668),h=r(24801),y=r(91100),w=r(52180);const v=new w.Decimal(1);var b=r(43819);const x=(0,a.vU)({errorCancel:{id:"8gdsKY",defaultMessage:"Cancel"},errorConfirm:{id:"c7nwmM",defaultMessage:"Confirm"},getMoreCurrencyError:{id:"BB36LS",defaultMessage:"may be required for the transaction. Please deposit more"},highNetworkFeesError:{id:"6PwRln",defaultMessage:"Network fees are high right now. Not paid to Coinbase."},learnMore:{id:"9DtuSP",defaultMessage:"Learn more"}}),S=({wallet:e,unsignedTx:t,error:r,feeWallet:a})=>{const i=(0,g.$)(),S=t,M=t,{formatMessage:F}=(0,o.Z)(),C=(0,n.useRef)(!1),k=(0,b.n)(),G=(0,n.useMemo)((()=>k.length<5),[k.length]),{minFee:L,maxFee:P}=(0,n.useMemo)((()=>{let e,r;if((0,f.A)(t)&&t?.lowerBoundFee?(e=t.lowerBoundFee.lt(t.upperBoundFee)?t.lowerBoundFee:t.upperBoundFee,r=t.upperBoundFee):(e=t?t.estimatedFee:new(s())(0),r=t?t.estimatedFee:new(s())(0)),t&&p.$.isEqual(t.blockchain,m.wX)){const e=t;r=r.add(e.extraFee??new(s())(0))}return{minFee:e,maxFee:r}}),[t]),E=(0,n.useMemo)((()=>{if(t)return i.fiatValue(t?.feeCurrencyCode,t?.feeCurrencyDecimal,L,void 0,e.network)}),[i,L,t,e.network]),T=(0,n.useMemo)((()=>t?i.formatToCrypto({currencyCode:t.feeCurrencyCode,decimals:t.feeCurrencyDecimal,value:new(s())(P),includeCode:!0,maxDisplayDecimals:new(s())(6)}):""),[t,i,P]),j=(0,n.useMemo)((()=>{if(!t)return"";const r=i.fiatValue(t.feeCurrencyCode,t.feeCurrencyDecimal,new(s())(P),void 0,e.network);return r?.lessThan(new w.Decimal(.01))&&r?.greaterThan(new w.Decimal(0))?`<${i.fiatValueString(new w.Decimal(.01),!0)}`:i.formatToFiat(t.feeCurrencyCode,t.feeCurrencyDecimal,new(s())(P),!1,void 0,e.network)}),[t,i,P,e.network]),I=(0,n.useMemo)((()=>({getMoreCurrencyError:{type:"getMoreCurrencyError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:`${T}  (${j}) ${F(x.getMoreCurrencyError)} ${e.network?.asChain()?.baseAssetCurrencyCode??e.blockchain.rawValue}.`},highNetworkFeesError:{type:"highNetworkFeesError",isDismissible:!0,showErrorIcon:!1,isDisabled:!1,message:F(x.highNetworkFeesError),learnMore:{label:F(x.learnMore),url:y.lI}},genericError:{type:"genericError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:`${r?.message}`}})),[T,j,F,e.network,e.blockchain.rawValue,r?.message]);return(0,n.useMemo)((()=>{if(!t||!a||!E)return;const e=S.network.asChain(),n=Array.from(t.metadata,(([e,t])=>({name:e,value:t}))).find((e=>"txSource"===e.name.keyName))?.value??"";let o=new(s())(0),i=new(s())(0);if(t instanceof l.H?(o=S.maxFeePerGas.div(new(s())(10**9)),i=S.gasLimit):t instanceof d.L&&(o=M.gasPrice.div(new(s())(10**9)),i=M.gasLimit),r)return C.current||(C.current=!0,(0,u.LS)({blockchain:c.O6.rawValue,chainName:e?.displayName??"",chainId:e?.chainId?.toString(10)??"",errorType:"Error",errorMessage:`${r.name} -- ${r?.message}`,txSource:n.toLocaleString(),gasPriceInGwei:o.toString(),gasLimit:S.gasLimit.toString()})),I.genericError;const f=h.N.isEqual(t.currencyCode,a.currencyCode)?P.add(t.transferValue):P;return void 0===a.balance||a.balance.lt(f)||t.transferValue.isNeg()?(C.current||(C.current=!0,(0,u.LS)({blockchain:c.O6.rawValue,chainName:e?.displayName??"",chainId:e?.chainId?.toString(10)??"",errorType:"InsufficientBalance",errorMessage:"Insufficient balance to pay gas fee",txSource:n.toLocaleString(),gasPriceInGwei:o.toString(),gasLimit:i.toString()})),I.getMoreCurrencyError):E>v&&G?I.highNetworkFeesError:void(C.current&&(C.current=!0,(0,u.by)({blockchain:c.O6.rawValue,chainName:e?.displayName??"",chainId:e?.chainId?.toString(10)??""})))}),[t,M,S,a,r,I.genericError,I.getMoreCurrencyError,I.highNetworkFeesError,P,E,G])}}}]);
//# sourceMappingURL=9880.js.map