/*! For license information please see 5175.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[5175],{83999:(e,t,n)=>{n.d(t,{c:()=>ge});var r=n(2784),a=n(63470),o=n(83112),i=n(29606),s=n(56389),c=n(19376),u=n(61255),l=n(41622),d=n(48834).Buffer;async function g(e,t,n,r){const a=d.from(`${e}\n\nAddress: ${n}\nNonce: ${t}\nHost: ${l.o}`).toString("hex"),{signature:o}=await(0,u.l)({address:n,message:a,derivationPath:r});return o}async function p(e,t){const n=[];for(const r of t){const{address:t,derivationPath:a}=r,o=await(0,i.rv)(),s=await g(e,o,t,a);n.push({address:r,nonce:o,signature:s})}return n}function f(){const e=(0,s.P)();return(0,r.useCallback)((async function({addresses:t,...n}){const r=await p(c.C,t);if(!r.length)return;const{nonce:a}=r[0],o=r.map((({address:e,signature:t})=>({address:e.address,signature:t}))),s="isAnonymous"in n?await(0,i.B$)(a,o):await(0,i.r4)(n.username,n.isPublic,a,o,n.subdomainSuffix);e(s)}),[e])}function h(){const e=(0,s.P)();return(0,r.useCallback)((async t=>{if(!t.length)return;const n=await p(l.m,t);if(!n.length)return;const{nonce:r,address:a,signature:o}=n[0],s=await(0,i._A)(r,a.address,o);e(s)}),[e])}var b=n(37083),v=n(58595),y=n(57430),m=n(16232),w=n(38244),x=n(81754),k=n(91754),L=n(64699),S=n(11071),T=n(22320),j=n(78378),M=n(62197),E=n.n(M),O=n(8389),C=n(27836),I=n(56695),P=n(85394),H=n(86296),G=n(71591),A=n(84636),D=n.n(A),W=n(53476),B=n(10269),_=n(96016),R=n(38724);function U(){const[e,t]=(0,W.FV)(R.gf),n=(0,G.Y)();return(0,r.useCallback)((async function(r){(0,P.X8)({accountType:_.Qm.LEDGER});try{const{index:a,address:o,derivationPath:i}=r,s=new _.mR({type:_.Qm.LEDGER,primaryAddress:o,primaryAddressChain:O.tn});await(0,B.R)(s);const c=D()([s,...e],"id");t(c),(0,P.vi)({accountType:_.Qm.LEDGER}),await n([{accountId:s.id,walletIndex:new(E())(a),hardwareDerivationPath:i}]),(0,P.$)({accountType:_.Qm.LEDGER}),(0,P.dX)({accountType:_.Qm.LEDGER})}catch(e){throw(0,P.L0)({accountType:_.Qm.LEDGER}),(0,H.eK)({error:e,context:"multi-account",severity:"error"}),e}}),[e,t,n])}var F,V=n(29217),K=n(43361),N=n(99654),z=n(60723),X=n(41368),Q=n(48972),Z=n(29904),J=n(61641),$=n(63876),Y=n(52322);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function ee(){ee=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new L(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function d(){}function g(){}function p(){}var f={};s(f,a,(function(){return this}));var h=Object.getPrototypeOf,b=h&&h(h(S([])));b&&b!==t&&n.call(b,a)&&(f=b);var v=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==q(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=p,s(v,"constructor",p),s(p,"constructor",g),g.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(m.prototype),s(m.prototype,o,(function(){return this})),e.AsyncIterator=m,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new m(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),s(v,i,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function te(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){te(o,r,a,i,s,"next",e)}function s(e){te(o,r,a,i,s,"throw",e)}i(void 0)}))}}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&F(e);var ce,ue,le="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},de=(0,a.vU)({resendBtnText:{id:"7ATDyv",defaultMessage:[{type:0,value:"Resend message"}]},secondaryDescription:{id:"+BkJoK",defaultMessage:[{type:0,value:"Be sure your Ledger is connected to your computer, unlocked, and the Ethereum app is running."}]},secondaryDescriptionAddition:{id:"Sz7Zot",defaultMessage:[{type:0,value:"Blind signing should be enabled too."}]},backButtonAriaLabel:{id:"p72mKW",defaultMessage:[{type:0,value:"Go back"}]},havingTrouble:{id:"W7sorP",defaultMessage:[{type:0,value:"Having trouble?"}]},learnMore:{id:"8PcgjG",defaultMessage:[{type:0,value:"Learn more."}]},blindSigningWarning:{id:"nL6fId",defaultMessage:[{type:0,value:"Blind signing has risks. Review this transaction carefully before approving. "},{type:1,value:"learnMoreLink"}]}});function ge(e){var t=e.pageTitle,n=e.pageDescription,a=e.onResend,i=e.onHavingTrouble,s=e.resendBtnText,c=e.flow,u=(0,v.X)().setSigningDevice,l=(0,o.Z)().formatMessage,d=(0,w.J)(),g=d.goBack,p=d.goToStep,M=d.replaceStep,P=(0,m.t)(),H=P.update,G=P.onboardingMode,A=P.hwWalletMetadata,D=P.areSubdomainsEnabled,B=P.username,_=P.isPublic,R=U(),F=(0,W.Zl)(V.IW),q=(0,W.sJ)(V.Ob),te=(0,K.aF)(),re=ie((0,r.useState)(!1),2),se=re[0],ce=re[1],ue="hw-sign-on-device";(0,r.useEffect)((function(){if(te&&q.length&&A.signingType&&te.username){H((function(e){return ae(ae({},e),{},{isImported:!0,isExistingAccount:!0,mnemonic:void 0,username:se?"":te.username})})),u(G);var e=oe({},O.tn,[{index:new(E())(0),address:q[0].address,derivationPath:q[0].derivationPath}]);(0,N.L)(e).then((function(){(0,y.FC)(),se?(H((function(e){return ae(ae({},e),{},{isCoinbaseBackground:!0})})),p("subdomain-cta")):p("success")}))}}),[te,se]);var le=function(){var e=ne(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.XG)((function(e){return e.vendorId===T.Dt}));case 2:if(0!==(t=e.sent).length){e.next=5;break}throw new C.K("TransportError",$.cH,void 0);case 5:return e.abrupt("return",t[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=(0,r.useCallback)((function(e,t){t&&(0,y.g)("rejected",t,j.X.signMessage);var n=e;(0,k.ud)(n,H,M)}),[M,H]),pe=(0,r.useCallback)((function(){(0,x.Ai)(),a?a():g()}),[g,a]),fe=(0,r.useCallback)((function(){(0,x.GS)(),chrome.tabs.create({url:L.Hb,active:!1})}),[]),he=h(),be=(0,r.useCallback)(ne(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,le();case 5:return t=e.sent,(0,y.g)("sent",t,j.X.signMessage),e.next=9,R(q[0]);case 9:return e.next=11,he(q);case 11:(0,y.g)("approved",t,j.X.signMessage),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),"invalidAddress"===e.t0.code?((0,y.g)("approved",t,j.X.signMessage),(0,y.fk)(),n=D||false,H((function(e){return ae(ae({},e),{},{isCoinbaseBackground:n,areSubdomainsEnabled:n})})),M(n?"subdomain-cta":"username")):ge(e.t0,t);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),[q,he,R,D,false,H,M,ge]),ve=f(),ye=(0,r.useCallback)(ne(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:return t=e.sent,(0,y.g)("sent",t,j.X.signMessage),B||ce(!0),e.next=8,ve(B?{username:B,isPublic:_,addresses:q}:{isAnonymous:!0,addresses:q});case 8:(0,y.g)("approved",t,j.X.signMessage),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ge(e.t0,t);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[q,ve,B,_,ge]);(0,I.F)((function(){F(!0),"signInUser"===A.signingType&&be(),"createUser"===A.signingType&&ye()}));var me=(0,r.useCallback)((function(){i?i():(0,k.GF)(b.E.ledger)}),[i]),we="dapp"===c||"trade"===c;return(0,Y.jsxs)(Z.VStack,{height:S.UV,spacingTop:1,justifyContent:"space-between",children:[(0,Y.jsx)(J.TextTitle1,{spacingTop:3,testID:"".concat(ue,"-title"),as:"h1",children:t}),(0,Y.jsxs)(Z.VStack,{alignItems:"center",children:[(0,Y.jsx)(X.HeroSquare,{name:"ledgerAccess",scaleMultiplier:.75}),(0,Y.jsxs)(Z.VStack,{alignItems:"center",gap:2,spacingTop:0,children:[(0,Y.jsx)(J.TextBody,{as:"p",testID:"".concat(ue,"-description"),color:"foregroundMuted",spacingTop:0,children:n}),(0,Y.jsx)(J.TextLegal,{testID:"".concat(ue,"-secondary-description"),as:"p",color:"foregroundMuted",spacingBottom:2,children:we?"".concat(l(de.secondaryDescription)," ").concat(l(de.secondaryDescriptionAddition)):l(de.secondaryDescription)})]})]}),we&&(0,Y.jsxs)(Q.HStack,{justifyContent:"space-between",children:[(0,Y.jsx)(Q.Box,{spacing:2,spacingStart:1,spacingTop:1,children:(0,Y.jsx)(X.Pictogram,{name:"warning",scaleMultiplier:.4})}),(0,Y.jsx)(J.TextLegal,{testID:"".concat(ue,"-blind-signing-warning"),as:"p",color:"foregroundMuted",spacingBottom:2,children:l(de.blindSigningWarning,{learnMoreLink:(0,Y.jsx)(J.Link,{onPress:fe,children:l(de.learnMore)})})})]}),(0,Y.jsxs)(Z.VStack,{alignItems:"center",justifyContent:"space-between",gap:2,children:[(0,Y.jsx)(z.Button,{block:!0,testID:"".concat(ue,"-resend-btn"),variant:"secondary",onPress:pe,children:null!=s?s:l(de.resendBtnText)}),(0,Y.jsx)(J.Link,{variant:"label1",color:"primary",onPress:me,children:l(de.havingTrouble)})]})]})}le(ge,"useSigningDevice{{ setSigningDevice }}\nuseIntl{{ formatMessage }}\nuseOnboardingStepper{{ goBack, goToStep, replaceStep }}\nuseOnboardingContext{{ update, onboardingMode, hwWalletMetadata, areSubdomainsEnabled, username, isPublic }}\nuseCreateAccountForLedger{createAccountForLedger}\nuseSetRecoilState{setHardwareWalletSigning}\nuseRecoilValue{addresses}\nuseUser{user}\nuseState{[isAnonymous, setIsAnonymous](false)}\nuseEffect{}\nuseCallback{processLedgerError}\nuseCallback{handleOnResend}\nuseCallback{handleLearnMorePress}\nuseSignInWithLedger{signInWithLedger}\nuseCallback{signInUser}\nuseCreateUserWithLedger{createUserWithLedger}\nuseCallback{createUser}\nuseOnMount{}\nuseCallback{handleHavingTroublePress}",(function(){return[v.X,o.Z,w.J,m.t,U,W.Zl,W.sJ,K.aF,h,f,I.F]})),(ce="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ce.register(de,"messages","/workspaces/apps/extension/src/screens/Onboarding/steps/HardwareWallet/ledger/HWSignOnDevice/HWSignOnDevice.tsx"),ce.register(ge,"HWSignOnDevice","/workspaces/apps/extension/src/screens/Onboarding/steps/HardwareWallet/ledger/HWSignOnDevice/HWSignOnDevice.tsx")),(ue="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ue(e)},6271:(e,t,n)=>{n.d(t,{N:()=>L});var r,a=n(2784),o=n(63470),i=n(83112),s=n(37083),c=n(38244),u=n(91754),l=n(11071),d=n(10666),g=n(60723),p=n(41368),f=n(48972),h=n(61641),b=n(63876),v=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var y,m,w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x="hw-trouble-connecting",k=(0,o.vU)({tryAgainCTA:{id:"FazwRl",defaultMessage:[{type:0,value:"Try again"}]},backButtonAriaLabel:{id:"p72mKW",defaultMessage:[{type:0,value:"Go back"}]},errorMessage:{id:"29gmtd",defaultMessage:[{type:0,value:"Error: "},{type:1,value:"error"}]},havingTrouble:{id:"sPl3k8",defaultMessage:[{type:0,value:"Having trouble?"}]},gotIt:{id:"NYTGIb",defaultMessage:[{type:0,value:"Got it"}]}});function L(e){var t=e.statusCode,n=e.errorMessage,r=e.errorId,o=e.handleBack,y=(0,i.Z)().formatMessage,m=(0,c.J)().goBack;(0,d.c)("errorMessage:",n,"statusCode:",t,"errorId:",r);var w=(0,b.E3)(t,r),L=(0,a.useCallback)((function(){o?o():m()}),[m,o]),S=(0,a.useCallback)((function(){(0,u.GF)(s.E.ledger)}),[]);return(0,v.jsxs)(f.VStack,{height:l.UV,justifyContent:"space-between",testID:"".concat(x,"-container"),children:[(0,v.jsxs)(f.VStack,{children:[(o||m)&&(0,v.jsx)(f.Box,{offsetStart:1,children:(0,v.jsx)(g.IconButton,{testID:"".concat(x,"-back-btn"),name:"backArrow",onPress:L,transparent:!0,accessibilityLabel:y(k.backButtonAriaLabel)})}),(0,v.jsx)(f.VStack,{alignItems:"center",justifyContent:"flex-start",spacingTop:3,children:t===b.pi?(0,v.jsx)(p.SpotRectangle,{name:"ledgerSignatureRejected",scaleMultiplier:1}):(0,v.jsx)(p.SpotRectangle,{name:"ledgerFailed",scaleMultiplier:1})})]}),(0,v.jsxs)(f.VStack,{gap:2,children:[(0,v.jsx)(h.TextTitle3,{as:"p",children:y(w[0])}),(0,v.jsx)(h.TextBody,{as:"p",color:"foregroundMuted",children:y(w[1])}),void 0!==t&&!(0,b.sZ)(t)&&(0,v.jsx)(h.TextLabel2,{as:"p",children:y(k.errorMessage,{error:t})}),n&&(null==n?void 0:n.length)>0&&(0,v.jsx)(h.TextLabel1,{as:"p",children:y(k.errorMessage,{error:n})})]}),(0,v.jsxs)(f.VStack,{alignItems:"center",gap:2,children:[(0,v.jsx)(g.Button,{testID:"".concat(x,"-try-again-btn"),block:!0,onPress:L,children:t===b.Vx?y(k.gotIt):y(k.tryAgainCTA)}),t!==b.Vx&&(0,v.jsx)(h.Link,{testID:"".concat(x,"-having-trouble"),variant:"body",color:"primary",onPress:S,children:y(k.havingTrouble)})]})]})}w(L,"useIntl{{ formatMessage }}\nuseOnboardingStepper{{ goBack }}\nuseCallback{handleOnBackOrTryAgainPress}\nuseCallback{handleHavingTroublePress}",(function(){return[i.Z,c.J]})),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(x,"testIDPrefix","/workspaces/apps/extension/src/screens/Onboarding/steps/HardwareWallet/ledger/HWTroubleConnecting/HWTroubleConnecting.tsx"),y.register(k,"messages","/workspaces/apps/extension/src/screens/Onboarding/steps/HardwareWallet/ledger/HWTroubleConnecting/HWTroubleConnecting.tsx"),y.register(L,"HWTroubleConnecting","/workspaces/apps/extension/src/screens/Onboarding/steps/HardwareWallet/ledger/HWTroubleConnecting/HWTroubleConnecting.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},38945:(e,t,n)=>{n.d(t,{QG:()=>o,Of:()=>i,em:()=>s});var r=n(2784);const a={errorMessage:void 0,statusCode:void 0,signingType:void 0,errorId:void 0},o={mnemonic:"",password:"",username:"",subdomain:"",isPublic:!1,isImported:!1,isExistingAccount:!1,onboardingMode:"importRecoveryPhrase",hasErrorStep:!1,launchedForOnboarding:!0,hwWalletMetadata:a,isCoinbaseBackground:!1,areSubdomainsEnabled:!1,hasCompletedSubdomainOnboarding:!1},i={mnemonic:"",password:"",username:"",subdomain:"",isPublic:!1,isImported:!1,onboardingMode:"importRecoveryPhrase",isExistingAccount:!1,launchedForOnboarding:!0,areSubdomainsEnabled:!1,hasCompletedSubdomainOnboarding:!1,hasErrorStep:!1,hwWalletMetadata:a,isCoinbaseBackground:!1,update:(e,t)=>{},updateHistory:(e,t)=>{}},s=(0,r.createContext)(i)},20126:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(62783);const a=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],o=new URLSearchParams(window.location.search).get("step"),i=a.find((e=>e===o)),s=(0,r.v)({steps:a,defaultStep:i??"loading"})},16232:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(2784),a=n(38945);function o(){return(0,r.useContext)(a.em)}},38244:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(62783),a=n(20126);function o(){return(0,r.t)(a.c)}},81754:(e,t,n)=>{n.d(t,{rL:()=>o,$1:()=>i,Qx:()=>s,lv:()=>c,Pn:()=>u,Ai:()=>l,WR:()=>d,GS:()=>g});var r=n(95545),a=n(74156);const o=()=>(0,r.Kz)("hw.device_search.started",{loggingId:"a5055f9e-e879-4220-9086-24e681691bb0",componentType:r.re.page,action:r.Us.render}),i=()=>(0,r.Kz)("hw.device_search.cancelled",{loggingId:"2ea691d6-b93c-4df8-8608-2471cc61f9cc",componentType:r.re.page,action:r.Us.render}),s=e=>(0,r.Kz)("hw.device_search.connect_success",{loggingId:"aefa32a3-0d5e-4833-91ad-1311726a51cd",componentType:r.re.page,action:r.Us.render,deviceModel:(0,a.f)(e.productName),vendorId:e.vendorId}),c=()=>(0,r.Kz)("hw.device_search.connect_Failed",{loggingId:"bf4f63e8-d407-4617-a6c3-8791ed5b03ec",componentType:r.re.page,action:r.Us.render}),u=e=>(0,r.Kz)("hw.device_search.remembered",{loggingId:"ba966b9c-bd0b-429d-8bb0-1cb4dd5082fb",componentType:r.re.page,action:r.Us.render,deviceModel:(0,a.f)(e.productName),vendorId:e.vendorId}),l=()=>(0,r.Kz)("hw.resend_message",{loggingId:"861d2dbd-00b8-4d48-afc6-1ca3b54b0a6f",componentType:r.re.button,action:r.Us.click}),d=e=>(0,r.Kz)("hw.having_trouble",{loggingId:"5793ff93-4fda-48a2-a93f-627791d1b50e",componentType:r.re.button,action:r.Us.click,device:e}),g=()=>(0,r.Kz)("hw.blind_signing_learn_more",{loggingId:"4a113db3-86e1-4301-b8e2-11d06f2751a7",componentType:r.re.button,action:r.Us.click})},91754:(e,t,n)=>{n.d(t,{GF:()=>s,XG:()=>c,ud:()=>u});var r=n(37083),a=n(81754),o=n(64699),i=n(86296);const s=e=>{(0,a.WR)(e),chrome.tabs.create({url:e===r.E.ledger?o.tj:o.jG,active:!0})},c=async e=>(await navigator.hid.getDevices()).filter(e),u=(e,t,n)=>{(0,i.eK)({error:new Error(e.message),context:"ledger-error"}),t((t=>({...t,hwWalletMetadata:{...t.hwWalletMetadata,errorMessage:e.message,statusCode:e?.statusCode,errorId:e.id}})),(()=>n("hwTroubleConnecting")))}},52844:(e,t,n)=>{n.d(t,{ng:()=>a,i7:()=>o,jA:()=>i,d9:()=>s});const r={1:8,2:16,3:24,4:32},a={width:375,height:600,spacingTop:3,spacingBottom:4,spacingHorizontal:4},o={width:30,height:3,spacingBottom:4,stepSpacingTop:1},i=o.height+r[o.spacingBottom]+r[o.stepSpacingTop],s={width:"100%",height:a.height-r[a.spacingTop]-r[a.spacingBottom]-i-2}},29217:(e,t,n)=>{n.d(t,{IW:()=>i,DL:()=>c,gY:()=>u,s8:()=>l,Ob:()=>d});var r=n(17906),a=n(72358),o=n(53476);const i=(0,o.cn)({key:"hardwareWalletSigning",default:!1}),s=new r.U("ledgerDerivationPath"),c=(0,o.cn)({key:"ledgerDerivationPath",default:"44'/60'/0'/0/0",effects:[(0,a.W)(s)]}),u=(0,o.cn)({key:"hardWalletEthAccountMap",default:new Map}),l=(0,o.cn)({key:"selectedAddressesByAddress",default:{}}),d=(0,o.nZ)({key:"selectedAddresses",get:({get:e})=>{const t=e(l);return Object.values(t)}})}}]);
//# sourceMappingURL=5175.js.map