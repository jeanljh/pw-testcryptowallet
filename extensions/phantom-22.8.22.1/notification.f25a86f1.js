(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}function n(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var r={},o={},a=e.parcelRequirea886;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequirea886=a),a.register("cjUNA",(function(t,n){var r="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Boolean]",c="[object Date]",s="[object Function]",l="[object GeneratorFunction]",u="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",g="[object RegExp]",m="[object Set]",v="[object String]",h="[object Symbol]",y="[object WeakMap]",E="[object ArrayBuffer]",b="[object DataView]",A="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",_="[object Uint32Array]",P=/\w*$/,M=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,I={};I[a]=I["[object Array]"]=I[E]=I[b]=I[i]=I[c]=I[A]=I[T]=I[x]=I[S]=I[w]=I[u]=I[d]=I[p]=I[g]=I[m]=I[v]=I[h]=I[k]=I[C]=I[R]=I[_]=!0,I["[object Error]"]=I[s]=I[y]=!1;var j="object"==typeof e&&e&&e.Object===Object&&e,B="object"==typeof self&&self&&self.Object===Object&&self,H=j||B||Function("return this")(),N="object"==typeof n&&n&&!n.nodeType&&n,L=N&&t&&!t.nodeType&&t,q=L&&L.exports===N;function F(e,t){return e.set(t[0],t[1]),e}function D(e,t){return e.add(t),e}function W(e,t,n,r){var o=-1,a=e?e.length:0;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K,$=Array.prototype,J=Function.prototype,Q=Object.prototype,Z=H["__core-js_shared__"],Y=(K=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",X=J.toString,ee=Q.hasOwnProperty,te=Q.toString,ne=RegExp("^"+X.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=q?H.Buffer:void 0,oe=H.Symbol,ae=H.Uint8Array,ie=V(Object.getPrototypeOf,Object),ce=Object.create,se=Q.propertyIsEnumerable,le=$.splice,ue=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,pe=V(Object.keys,Object),fe=Le(H,"DataView"),ge=Le(H,"Map"),me=Le(H,"Promise"),ve=Le(H,"Set"),he=Le(H,"WeakMap"),ye=Le(Object,"create"),Ee=Ue(fe),be=Ue(ge),Ae=Ue(me),Te=Ue(ve),xe=Ue(he),Se=oe?oe.prototype:void 0,we=Se?Se.valueOf:void 0;function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){this.__data__=new Ce(e)}function Pe(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&ee.call(e,"callee")&&(!se.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ee.call(e,i)||o&&("length"==i||De(i,r))||n.push(i);return n}function Me(e,t,n){var r=e[t];ee.call(e,t)&&ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Oe(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Ie(e,t,n,r,o,f,y){var M;if(r&&(M=f?r(e,o,f,y):r(e)),void 0!==M)return M;if(!Je(e))return e;var O=Ve(e);if(O){if(M=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,M)}else{var j=Fe(e),B=j==s||j==l;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(j==p||j==a||B&&!f){if(U(e))return f?e:{};if(M=function(e){return"function"!=typeof e.constructor||We(e)?{}:(t=ie(e),Je(t)?ce(t):{});var t}(B?{}:e),!t)return function(e,t){return He(e,qe(e),t)}(e,function(e,t){return e&&He(t,Qe(t),e)}(M,e))}else{if(!I[j])return f?e:{};M=function(e,t,n,r){var o=e.constructor;switch(t){case E:return Be(e);case i:case c:return new o(+e);case b:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case A:case T:case x:case S:case w:case k:case C:case R:case _:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return W(t?n(z(e),!0):z(e),F,new e.constructor)}(e,r,n);case d:case v:return new o(e);case g:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return W(t?n(G(e),!0):G(e),D,new e.constructor)}(e,r,n);case h:return a=e,we?Object(we.call(a)):{}}var a}(e,j,Ie,t)}}y||(y=new _e);var H=y.get(e);if(H)return H;if(y.set(e,M),!O)var N=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Qe,qe)}(e):Qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(N||e,(function(o,a){N&&(o=e[a=o]),Me(M,a,Ie(o,t,n,r,a,e,y))})),M}function je(e){return!(!Je(e)||(t=e,Y&&Y in t))&&($e(e)||U(e)?ne:M).test(Ue(e));var t}function Be(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function He(e,t,n,r){n||(n={});for(var o=-1,a=t.length;++o<a;){var i=t[o],c=r?r(n[i],e[i],i,n,e):void 0;Me(n,i,void 0===c?e[i]:c)}return n}function Ne(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}ke.prototype.clear=function(){this.__data__=ye?ye(null):{}},ke.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ke.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},ke.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},ke.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Oe(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Oe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Re.prototype.clear=function(){this.__data__={hash:new ke,map:new(ge||Ce),string:new ke}},Re.prototype.delete=function(e){return Ne(this,e).delete(e)},Re.prototype.get=function(e){return Ne(this,e).get(e)},Re.prototype.has=function(e){return Ne(this,e).has(e)},Re.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},_e.prototype.clear=function(){this.__data__=new Ce},_e.prototype.delete=function(e){return this.__data__.delete(e)},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!ge||r.length<199)return r.push([e,t]),this;n=this.__data__=new Re(r)}return n.set(e,t),this};var qe=ue?V(ue,Object):function(){return[]},Fe=function(e){return te.call(e)};function De(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function We(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function Ue(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(fe&&Fe(new fe(new ArrayBuffer(1)))!=b||ge&&Fe(new ge)!=u||me&&Fe(me.resolve())!=f||ve&&Fe(new ve)!=m||he&&Fe(new he)!=y)&&(Fe=function(e){var t=te.call(e),n=t==p?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case Ee:return b;case be:return u;case Ae:return f;case Te:return m;case xe:return y}return t});var Ve=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!$e(e)}var Ke=de||function(){return!1};function $e(e){var t=Je(e)?te.call(e):"";return t==s||t==l}function Je(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qe(e){return Ge(e)?Pe(e):function(e){if(!We(e))return pe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.exports=function(e){return Ie(e,!0,!0)}}));var i=a("aZikt"),c=a("ihAua"),s=a("eLyRJ"),l=a("HEK4k"),u=a("6SQSC"),d=a("2WP7v"),p=a("1DdzG"),f=a("7OhhO");a("5dL5p");var g={};n(g,"BackgroundConnectionProvider",(function(){return b}),(function(e){return b=e})),n(g,"useIncomingBackgroundRequest",(function(){return T}),(function(e){return T=e})),n(g,"usePostOutgoingBackgroundResponse",(function(){return x}),(function(e){return x=e}));i=a("aZikt");var m=a("e5x4G"),v=a("6oEu9"),h=(p=a("1DdzG"),function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))});const y={isConnected:!1,lastMessage:null,postMessage:v.NOOP},E=t(i).createContext(y),b=({children:e})=>{const[n,r,o]=function(){const[e,t]=i.useState(null),[n,r]=i.useState(null);i.useEffect((()=>{let e;return(()=>h(this,void 0,void 0,(function*(){const n=`notification/${(yield p.getCurrentWindowAsync()).id}`;e=m.browser.runtime.connect({name:n}),t(e),e.onMessage.addListener((e=>{r(e)})),e.onDisconnect.addListener((()=>{t(null)}))})))(),()=>{null==e||e.disconnect()}}),[]);const o=i.useCallback((t=>{e&&e.postMessage(t)}),[e]);return[!!e,n,o]}();return t(i).createElement(E.Provider,{value:{isConnected:n,lastMessage:r,postMessage:o}},e)};function A(){const e=i.useContext(E);if(!e)throw new Error("Missing background connection context");return e}function T(){const{lastMessage:e}=A();return e&&"string"==typeof e.origin&&e.origin&&e.req&&"string"==typeof e.req.method&&e.req.method?e:null}function x(){const e=T(),{postMessage:t}=A();return i.useCallback((n=>{if(!e)throw new Error("No request received from the background yet");if(e.req.id!==n.id)throw new Error(`Request id: ${e.req.id} does not match response id: ${n.id}`);t(n)}),[e,t])}var S=a("cNv5c"),w=a("HyeVU"),k=a("9R0of"),C=a("fGPQl"),R=a("2R5r6"),_=a("16KRF"),P=a("jhy6c"),M=a("dgKOx"),O=a("kHEYY"),I=a("cjUNA"),j=(i=a("aZikt"),a("hHMPk")),B=a("41J1p"),H=a("lwple"),N=(s=a("eLyRJ"),w=a("HyeVU"),i=a("aZikt"),j=a("hHMPk"),a("ltHDB")),L=a("cFuyE"),q=a("awYjP"),F=a("h7pEd"),D=a("8sCMi"),W=a("8xzWM"),U=a("lFcxH"),z=a("kaQO6");const V=j.default.div`
  border-top: 1px solid #333333;
  border-bottom: 1px solid #333333;
  width: 100%;
  display: flex;
  padding: 10px 5px;
`,G=j.default.div`
  > * {
    margin: 18px 0px;
  }
`,K=j.default.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  > * {
    margin: 0px ${e=>e.spacing}px;
    text-align: left;
  }
`,$=({tabId:e,origin:n,confirmApproval:r,denyApproval:o})=>{const{t:a}=N.useTranslation();return t(i).createElement(F.Container,null,t(i).createElement(D.AccountHeader,{lastChild:t(i).createElement("div",null),walletMenuShowOnlyAccounts:!0}),t(i).createElement(F.Body,null,t(i).createElement(F.TopGroup,null,t(i).createElement(U.TabIconHeader,{tabId:e,secondaryText:L.removeWebPrefixes(n)})),t(i).createElement(V,null,t(i).createElement(G,null,t(i).createElement(K,{spacing:8},t(i).createElement(z.Text,{size:14,color:"#777777",lineHeight:16.94,weight:500},a("notificationApplicationApprovalPermissionsPrimary"))),t(i).createElement(K,{spacing:8},t(i).createElement(q.CheckmarkIcon,{fill:"#21E56F"}),t(i).createElement(z.Text,{size:14,lineHeight:17},a("notificationApplicationApprovalPermissionsViewWalletActivity"))),t(i).createElement(K,{spacing:8},t(i).createElement(q.CheckmarkIcon,{fill:"#21E56F"}),t(i).createElement(z.Text,{size:14,lineHeight:17},a("notificationApplicationApprovalPermissionsTransactionApproval"))))),t(i).createElement(F.BottomGroup,null,t(i).createElement(K,{spacing:4},t(i).createElement(z.Text,{size:14,lineHeight:17,color:"#777"},a("notificationApplicationApprovalConnectDisclaimer"))))),t(i).createElement(F.Footer,{plain:!0},t(i).createElement(W.ButtonPair,{primaryText:a("notificationApplicationApprovalActionButtonConnect"),secondaryText:a("notificationApplicationApprovalActionButtonCancel"),onPrimaryClicked:()=>r(n),onSecondaryClicked:()=>o(n)})))};var J=a("g9tZv"),Q=a("3SLht"),Z=a("9OxTN"),Y=a("45nY7");const X=j.default.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: center;
  align-items: center;
`,ee=({tabId:e,origin:n,requestId:r})=>{var o;const{accountClient:a}=w.useSelectedSolanaAccount(),c=a.publicKey.toString(),l=g.usePostOutgoingBackgroundResponse(),[u,d,p]=J.useStorage(H.StorageKeys.TrustedApplicationsByOwnerBrowser,{}),f=null!==(o=u[c])&&void 0!==o?o:{},m=void 0!==f[n],[v,h]=t(i).useState(!1),[y,E]=t(i).useState(!1),b=e=>{const n=t(I)(f);n[e]=!0,B.analytics.capture("connectionConfirm",{data:{origin:e}}),p(Object.assign(Object.assign({},u),{[c]:n}))},A=()=>{B.analytics.capture("connectionDeny",{data:{origin:n}});const e=s.createJsonRpcErrorResponse(r,s.RpcErrorCode.UserRejectedRequest);l(e)},T=i.useCallback((()=>{const e={publicKey:c},t=s.createJsonRpcResponse(r,e);l(t)}),[c,l,r]);if(i.useEffect((()=>{m?T():Z.detectPhishing(n).then((e=>{E(e.result),h(!0)})).catch((()=>{h(!0)}))}),[T,n,m]),m)return null;return d||!v?t(i).createElement(X,null,t(i).createElement(Y.Spinner,null)):y?t(i).createElement(Q.BlocklistConnectRequest,{tabId:e,origin:n,confirmApproval:b,denyApproval:A}):t(i).createElement($,{tabId:e,origin:n,confirmApproval:b,denyApproval:A})};var te={};n(te,"SignatureRequest",(function(){return vt}),(function(e){return vt=e}));i=a("aZikt"),N=a("ltHDB");var ne=a("f8jMK"),re=a("hIiv4"),oe=(B=a("41J1p"),u=a("6SQSC"),H=a("lwple"),s=a("eLyRJ"),l=a("HEK4k"),a("7Lj33")),ae=(w=a("HyeVU"),k=a("9R0of"),S=a("cNv5c"),{});n(ae,"WarningSeverity",(function(){return ie}),(function(e){return ie=e})),n(ae,"Sign",(function(){return le}),(function(e){return le=e})),n(ae,"StateChangeKind",(function(){return ue}),(function(e){return ue=e})),n(ae,"useFetchScannedTransaction",(function(){return ge}),(function(e){return ge=e}));i=a("aZikt");var ie,ce,se,le,ue,de=a("j5GoN"),pe=(N=a("ltHDB"),ne=a("f8jMK"),a("lkdDi")),fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};!function(e){e.Critical="CRITICAL",e.Warning="WARNING"}(ie||(ie={})),function(e){e.InsufficientFunds="INSUFFICIENT_FUNDS",e.ResultWithNegativeLamports="ACCOUNT_DOES_NOT_HAVE_ENOUGH_SOL_TO_PERFORM_THE_OPERATION",e.InvalidRentPayingAccount="TRANSACTION_LEAVES_AN_ACCOUNT_WITH_A_LOWER_BALANCE_THAN_RENT-EXEMPT_MINIMUM"}(ce||(ce={})),function(e){e.None="NONE",e.Warn="WARN",e.Block="BLOCK",e.HardBlock="HARD_BLOCK"}(se||(se={})),function(e){e.Plus="PLUS",e.Minus="MINUS"}(le||(le={})),function(e){e.SolTransfer="SOL_TRANSFER",e.SplTransfer="SPL_TRANSFER",e.SplApproval="SPL_APPROVAL"}(ue||(ue={}));const ge=(e,t,n,r)=>{const o=ne.getOrigin(t)||"",a=(c={queryKey:["evaluate-txs",{transactions:e,origin:o,userAccount:n}],queryFn:()=>fe(void 0,void 0,void 0,(function*(){try{const t=new AbortController,r=t.signal;setTimeout((()=>{t.abort()}),1e4);const a=new Headers;a.append("Content-Type","application/json");const i={transactions:e,userAccount:n,metadata:{origin:o}},c={method:"POST",headers:a,body:JSON.stringify(i)},s=`https://api.phantom.app/solana/transaction/scan/v1?language=${N.i18next.language}`,l=new Request(s,c),u=yield fetch(l,{signal:r});if(u.ok){const e=yield u.json();if(void 0===e.warnings||void 0===e.action||void 0===e.simulationResults)return{error:new Error("Ninja API response missing required fields")};const t=e.simulationResults.error;return null!==t&&console.log("Simulation error: ",t.humanReadableError),{evaluation:e}}{const e=yield u.json();return{error:new Error(`Ninja API returned non-200 response: ${u.status}: ${JSON.stringify(e)}`)}}}catch(e){return e.message.toLowerCase().includes("aborted")?{error:de.ERR_REQUEST_TIMEOUT_REACHED}:{error:e}}})),enabled:!!e,refetchInterval:5e3},pe.useQuery(c));var c;const s=i.useMemo((()=>{var e,t,n,r;const o=null===(e=a.data)||void 0===e?void 0:e.evaluation;let i;if(o){const e=null===(t=null==o?void 0:o.simulationResults)||void 0===t?void 0:t.error,r=null===(n=null==o?void 0:o.simulationResults)||void 0===n?void 0:n.isRecentBlockhashExpired,a=(null==o?void 0:o.action)===se.Block||(null==o?void 0:o.action)===se.HardBlock,c=(null==e?void 0:e.kind)===ce.InsufficientFunds;i={notEnoughSol:(null==e?void 0:e.kind)===ce.ResultWithNegativeLamports||(null==e?void 0:e.kind)===ce.InvalidRentPayingAccount,isBlockRecommended:a,insufficientSplTokens:c,isRecentBlockhashExpired:r}}return{isLoading:!a.isFetched,error:(null===(r=a.data)||void 0===r?void 0:r.error)||a.error,evaluation:o,computedEvaluation:i}}),[a]),l=s.error;return i.useEffect((()=>{l&&r(l)}),[r,l]),s};var me,ve=a("bBAGA");j=a("hHMPk"),i=a("aZikt"),N=a("ltHDB");!function(e){e.Green="GREEN",e.Red="RED",e.White="WHITE"}(me||(me={}));const he=e=>{const{kind:t,data:n}=e.rawInfo;switch(t){case ae.StateChangeKind.SolTransfer:return n.diff.sign===ae.Sign.Plus?me.Green:me.Red;case ae.StateChangeKind.SplTransfer:return n.diff.sign===ae.Sign.Plus?me.Green:me.Red;case ae.StateChangeKind.SplApproval:return n.diff.sign===ae.Sign.Plus?me.Red:me.Green;default:return me.White}};L=a("cFuyE"),l=a("HEK4k");var ye=a("345ql"),Ee=(F=a("h7pEd"),D=a("8sCMi"),W=a("8xzWM"),U=a("lFcxH"),a("7KDpr"));j=a("hHMPk"),z=a("kaQO6");const be=j.default.section`
  background: #2a2a2a;
  border-radius: 6px;
  margin-bottom: 10px;
`,Ae=j.default.div`
  padding-top: 0px;
  padding-bottom: 12px;
  padding-left: 18px;
  padding-right: 18px;
  border-top: 1px solid #222222;
  > * {
    margin-top: 12px;
  }
`,Te=(j.default.div`
  padding: 12px 18px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,j.default(z.Text).attrs({textAlign:"left",size:14,weight:500,lineHeight:17})``,j.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  > * {
    display: flex;
    align-items: center;
  }
`);z=a("kaQO6");var xe={};n(xe,"TransactionInstructionRows",(function(){return Pe}),(function(e){return Pe=e})),n(xe,"SignMessageInstructionRow",(function(){return Me}),(function(e){return Me=e})),n(xe,"RowCard",(function(){return qe}),(function(e){return qe=e}));j=a("hHMPk"),i=a("aZikt"),B=a("41J1p"),L=a("cFuyE"),w=a("HyeVU"),i=a("aZikt");Ee=a("7KDpr"),z=a("kaQO6");var Se=a("eg2w4"),we=a("5M7QO"),ke=(oe=a("7Lj33"),ve=a("bBAGA"),a("2yhRe")),Ce=a("dkOkP").Buffer,Re=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};const _e=[],Pe=({messages:e})=>{const{accountClient:n}=w.useSelectedSolanaAccount(),r=i.useCallback((()=>Re(void 0,void 0,void 0,(function*(){const t=(yield Promise.all(e.map((e=>n.decodeMessageAsync(e))))).filter((e=>void 0!==e));return t.flat().forEach((e=>{e&&B.analytics.capture("transactionInstructionApproval",{data:{origin:origin,type:e.type}})})),t}))),[n,e]),[o,a,c]=function(e,n){const[r,o]=t(i).useState({value:n,error:null,isPending:!0});t(i).useEffect((()=>{e().then((e=>o({value:e,error:null,isPending:!1}))).catch((e=>o({value:n,error:e.toString(),isPending:!1})))}),[e,n]);const{value:a,error:c,isPending:s}=r;return[a,c,s]}(r,_e),s=o.flat();return t(i).createElement(Ee.LoadingContent,{isLoading:c},s.map(((e,n)=>t(i).createElement(Le,{key:n,decodedMessage:e}))))},Me=({message:e,display:n="utf8"})=>{let r;if("hex"===n)r=`0x${Ce.from(e).toString("hex")}`;else r=(new TextDecoder).decode(e);return t(i).createElement(Oe,null,t(i).createElement(Ie,null,t(i).createElement(z.Text,{textAlign:"left",size:14,weight:600,lineHeight:17},"Sign message"),t(i).createElement(Se.Info,{tooltipAlignment:"bottomRight",info:t(i).createElement(we.TooltipContent,{paddingLeft:10,paddingRight:10},t(i).createElement(we.TooltipText,null,"Make sure you understand what you are signing and trust the application that is requesting this."))})),t(i).createElement(je,null,t(i).createElement(Be,null,t(i).createElement(z.Text,{size:14,weight:500,lineHeight:17,whiteSpace:"pre-line",wordBreak:"break-all",textAlign:"left",color:"#777"},r))))},Oe=j.default.section`
  background: #2a2a2a;
  border-radius: 6px;
  margin-bottom: 10px;
`,Ie=j.default.div`
  padding: 12px 18px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,je=j.default.div`
  padding-top: 0px;
  padding-bottom: 12px;
  padding-left: 18px;
  padding-right: 18px;
  border-top: 1px solid #222222;
  > * {
    margin-top: 12px;
  }
`,Be=j.default.div`
  display: flex;
  justify-content: space-between;
`,He=j.default.a.attrs({target:"_blank",rel:"noopener noreferrer"})`
  text-decoration: none;
  cursor: pointer;
`,Ne=({condition:e,wrapper:t,children:n})=>e?t(n):n,Le=({decodedMessage:e})=>{var n;const r=null===(n=ve.useFetchConnection())||void 0===n?void 0:n.data,o=null==r?void 0:r.cluster,{preferredExplorer:a}=ke.usePreferredExplorer(),c=i.useMemo((()=>De(e)),[e]),s=i.useMemo((()=>Ge(e,a.type,o)),[e,o,a]);return t(i).createElement(qe,{title:c,rowItems:s})},qe=({title:e,rowItems:n,emptyDescription:r,info:o})=>t(i).createElement(Oe,null,t(i).createElement(Ie,null,t(i).createElement(z.Text,{textAlign:"left",size:14,weight:500,lineHeight:17},e),o&&t(i).createElement(Se.Info,{info:o})),t(i).createElement(je,null,n.map((({keyText:e,valueText:n,valueColor:r,link:o})=>t(i).createElement(Be,{key:n||e},e&&t(i).createElement(z.Text,{size:14,lineHeight:17,color:"#777777"},e),t(i).createElement(Ne,{condition:o,wrapper:e=>t(i).createElement(He,{href:o},e)},t(i).createElement(z.Text,{size:14,weight:500,lineHeight:20,color:r,whiteSpace:e?"normal":"pre-line",wordBreak:"break-word",textAlign:"left"},n))))),0===n.length&&t(i).createElement(Be,null,t(i).createElement(z.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal"},r)))),Fe={cancelOrder:"Cancel order",cancelOrderV2:"Cancel order",newOrder:"Place order",newOrderV3:"Place order",settleFunds:"Settle funds",matchOrders:"Match orders",initializeMint:"Initialize mint",initializeAccount:"Initialize account",transfer:"Transfer",approve:"Approve",mintTo:"Mint to",closeAccount:"Close account",systemCreate:"Create account",systemTransfer:"Transfer SOL",createAssociatedTokenAccount:"Create token account",signMessage:"Sign Message",unknown:"Unknown"},De=e=>{var t;const{type:n}=e;return null!==(t=Fe[n])&&void 0!==t?t:n},We={side:{label:"Side",isAddress:!1},orderId:{label:"Order Id",isAddress:!1},limit:{label:"Limit",isAddress:!1},basePubkey:{label:"Base wallet",isAddress:!0},quotePubkey:{label:"Quote wallet",isAddress:!0}},Ue={amount:{label:"Amount",isAddress:!1},accountPubkey:{label:"Account",isAddress:!0},mintPubkey:{label:"Mint",isAddress:!0},sourcePubkey:{label:"Source",isAddress:!0},destinationPubkey:{label:"Destination",isAddress:!0},ownerPubkey:{label:"Owner",isAddress:!0}},ze={toPubkey:{label:"To",isAddress:!0},accountPubkey:{label:"Account",isAddress:!0},basePubkey:{label:"Base",isAddress:!0},seed:{label:"Seed",isAddress:!1},noncePubkey:{label:"Nonce",isAddress:!0},authorizedPubkey:{label:"Authorized",isAddress:!0},newAuthorizedPubkey:{label:"New authorized",isAddress:!0},newAccountPubkey:{label:"New account",isAddress:!0},amount:{label:"Amount",isAddress:!1},lamports:{label:"Amount",isAddress:!1}},Ve=(e,t)=>{const{market:n,marketInfo:r,data:o}=e,a=[];r&&a.push({keyText:"Market",valueText:r.name});const{side:i,limitPrice:c,maxQuantity:s,maxBaseQuantity:l,orderType:u,ownerPubkey:d}=o;a.push({keyText:"Side",valueText:i.charAt(0).toUpperCase()+i.slice(1)}),a.push({keyText:"Price",valueText:(null==n?void 0:n.priceLotsToNumber(c))||""+c});const p=t?l:s;return a.push({keyText:"Quantity",valueText:(null==n?void 0:n.baseSizeLotsToNumber(p))||""+p}),a.push({keyText:"Type",valueText:u.charAt(0).toUpperCase()+u.slice(1)}),a.push({keyText:"Owner",valueText:$e(d)}),a},Ge=(e,t,n)=>{switch(e.type){case"cancelOrder":case"cancelOrderV2":case"matchOrders":case"settleFunds":return((e,t,n)=>{const r=[];return e.marketInfo&&r.push({keyText:"Market",valueText:e.marketInfo.name}),Ke(r,e.data,We,t,n),r})(e,t,n);case"closeAccount":case"initializeAccount":case"transfer":case"approve":case"mintTo":return((e,t,n)=>{const r=[];return Ke(r,e.data,Ue,t,n),r})(e,t,n);case"systemCreate":case"systemTransfer":return((e,t,n)=>{const r=[];return Ke(r,e.data,ze,t,n),r})(e,t,n);case"newOrder":return Ve(e,!1);case"newOrderV3":return Ve(e,!0);case"unknown":case"createAssociatedTokenAccount":return((e,t,n)=>{const r=e.rawData,o=r.length>20?L.formatHashMedium(r,10):r,a=e.data.programId,i=n?oe.generateAddressExplorerUrl(a.toString(),n,t):void 0;return o?[{keyText:"Program Id",valueText:$e(a),valueColor:"#8A81F8",link:i},{keyText:"Data",valueText:o}]:[{keyText:"Program Id",valueText:$e(a),valueColor:"#8A81F8",link:i}]})(e,t,n);default:return[]}},Ke=(e,t,n,r,o)=>{Object.entries(t).forEach((([t,a])=>{const i=n[t];if(i){const{label:n,isAddress:c}=i,s=n;let l,u,d="";c?(d=$e(a),o&&(l=oe.generateAddressExplorerUrl(a.toString(),o,r),u="#8A81F8")):"lamports"===t?d=`${L.formatTokenAmount(L.lamportsToSolana(Number(a)))} SOL`:"function"==typeof a.toString()?d=a.toString():"string"==typeof a&&(d=a),e.push({keyText:s,valueText:d,valueColor:u,link:l})}}))},$e=e=>{const t=e.toString();return L.formatHashMedium(t)};we=a("5M7QO"),Se=a("eg2w4");var Je=a("hDM6n");const Qe=j.default(Ee.LoadingContent)`
  height: 150px;
`,Ze=j.default(z.Text)`
  color: ${e=>e.isCritical?et:Xe};
`,Ye=j.default.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 20px;
  width: 100%;
  border-width: 1px;
  border-style: solid;
  border-color: ${e=>e.isCritical?et:Xe};
  border-radius: 6px;
  margin-bottom: 10px;
`,Xe="#FFDC62",et="#EB3742",tt={[me.Green]:"#21E56F",[me.Red]:et,[me.White]:"white"},nt=({tabId:e,origin:n,messages:r,confirmApproval:o,denyApproval:a,transactionName:c,txnsScanResult:s})=>{const{t:u}=N.useTranslation(),d=ye.useGetNetworkFee()*l.getRequiredSignatures(r),[p,f]=i.useState(!1),g=s.evaluation,m=(null==g?void 0:g.warnings)||[],v=t(i).createElement(we.TooltipContent,{paddingLeft:10,paddingRight:10},t(i).createElement(we.TooltipText,null,u("notificationTransactionApprovalEstimatesBasedOnSimulations")));let h=[];return s.error||(null==g?void 0:g.simulationResults.error)?h=[{valueText:u("notificationTransactionApprovalUnableToSimulate"),valueColor:Xe,textAlign:"left"}]:g&&(h=g.simulationResults.expectedStateChanges.map((e=>({valueText:e.humanReadableDiff,valueColor:tt[he(e)]})))),t(i).createElement(F.Container,null,t(i).createElement(D.AccountHeader,{firstChild:t(i).createElement("div",null),lastChild:t(i).createElement("div",null)}),t(i).createElement(F.Body,null,t(i).createElement(F.Icon,null,t(i).createElement(U.TabIconHeader,{tabId:e,primaryText:c,secondaryText:L.removeWebPrefixes(n)})),t(i).createElement(Qe,{isLoading:s.isLoading,showingDelayMs:0},m.slice(0,1).map((e=>t(i).createElement(Ye,{isCritical:e.severity===ae.WarningSeverity.Critical},t(i).createElement(Ze,{size:14,weight:500,lineHeight:19.6,isCritical:e.severity===ae.WarningSeverity.Critical},e.message)))),t(i).createElement(xe.RowCard,{title:u("notificationTransactionApprovalEstimatedChanges"),rowItems:h,emptyDescription:u("notificationTransactionApprovalNoAssetOwnershipImpactingChanges"),info:v}),t(i).createElement(be,null,t(i).createElement(Ae,null,t(i).createElement(Te,null,t(i).createElement(z.Text,{size:14,lineHeight:17,textAlign:"left",color:"#777",style:{gap:10,marginLeft:"-8px"}},t(i).createElement(Se.Info,{info:t(i).createElement(we.TooltipContent,{paddingLeft:10,paddingRight:10},t(i).createElement(we.TooltipText,null,u("notificationTransactionApprovalSolanaAmountRequired")))}),u("notificationTransactionApprovalNetworkFee")),t(i).createElement(z.Text,{size:14,weight:500,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word"},t(i).createElement(Je.SolBalance,null,d))))),t(i).createElement(z.Text,{size:14,lineHeight:19,color:"#777777",margin:"17px 0",onClick:()=>f(!p)},u(p?"notificationTransactionApprovalHideAdvancedDetails":"notificationTransactionApprovalViewAdvancedDetails")),p&&t(i).createElement(xe.TransactionInstructionRows,{messages:r}))),t(i).createElement(F.Footer,null,t(i).createElement(W.ButtonPair,{primaryText:u("notificationTransactionApprovalActionButtonApprove"),secondaryText:u("notificationTransactionApprovalActionButtonCancel"),onPrimaryClicked:o,onSecondaryClicked:a,primaryDisabled:s.isLoading})))};var rt=a("1pVZM"),ot=(F=a("h7pEd"),i=a("aZikt"),j=a("hHMPk"),L=a("cFuyE"),D=a("8sCMi"),U=a("lFcxH"),W=a("8xzWM"),a("fwZPo"));z=a("kaQO6"),F=a("h7pEd");const at=j.default.div`
  border: 1px solid ${"#eb3742"};
  border-radius: 8px;
  padding: 10px 10px;
  margin-bottom: 10px;
`,it=j.default(z.Text)`
  margin: auto;
`,ct=t(i).memo((e=>t(i).createElement(F.Container,null,t(i).createElement(D.AccountHeader,{lastChild:t(i).createElement("div",null),walletMenuShowOnlyAccounts:!0}),t(i).createElement(F.Body,null,t(i).createElement(F.TopGroup,null,t(i).createElement(U.TabIconHeader,{tabId:e.tabId,secondaryText:L.removeWebPrefixes(e.origin),showWarning:!0})),t(i).createElement(ot.Column,{justify:"center"},t(i).createElement(at,null,t(i).createElement(z.Text,{size:14,color:"#eb3742"},e.message)),t(i).createElement(it,{size:14,color:"#777777",hoverColor:"#eb3742",onClick:e.proceedToApproval},e.ignoreWarningText))),t(i).createElement(F.Footer,{plain:!0},t(i).createElement(W.Button,{onClick:e.denyApproval},e.buttonText)))));var st=a("1JAzF"),lt=(i=a("aZikt"),N=a("ltHDB"),a("5y3N4")),ut=a("khHWe");const dt=t(i).memo((e=>{const{onCancelClick:n,title:r,description:o}=e,{t:a}=N.useTranslation();return t(i).createElement(lt.PopupAndNotificationFallbackContainer,null,t(i).createElement(ut.TransactionStatusDetail,{icon:"error",title:r,buttonText:a("signatureRequestErrorNoticeActionButtonCancel"),onClose:n},t(i).createElement(lt.DefaultErrorMessage,{margin:"0 10px 5px 10px"},o)))}));var pt=a("j1GR2"),ft=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};const gt=e=>{var n,r,o;const{tabId:a,origin:c,requestId:d,requestMethod:p,unsignedTransactions:f,unsignedTransactionMessages:m,signAndSendSignatures:v,options:h}=e,y=i.useMemo((()=>({data:{origin:ne.getOrigin(c)}})),[c]),[E,b]=i.useState(!1),A=k.useTransactionsManager(),{pushDetailView:T,popDetailView:x}=S.useDetailViews(),[C]=pt.useFeatureFlags(["tx-submission-service"]),R=g.usePostOutgoingBackgroundResponse(),{accountClient:_,accountMeta:P}=w.useSelectedSolanaAccount(),M=_.publicKey.toString(),O=P.type===H.AccountType.Ledger,I=ve.useFetchConnection();if(I.error)throw new Error("Failed to fetch the connection");const j=I.data,L=null==j?void 0:j.connection,{txnsScanResult:q,isMaliciousTransaction:D}=((e,t,n,r)=>{var o;const a=ae.useFetchScannedTransaction(e,t,n,u.captureException);return{txnsScanResult:a,isMaliciousTransaction:(null===(o=a.computedEvaluation)||void 0===o?void 0:o.isBlockRecommended)&&!r}})(f,c,M,E),W=null===(n=q.computedEvaluation)||void 0===n?void 0:n.isRecentBlockhashExpired,U=null===(r=q.computedEvaluation)||void 0===r?void 0:r.insufficientSplTokens,z=null===(o=q.computedEvaluation)||void 0===o?void 0:o.notEnoughSol,{t:V}=N.useTranslation(),G=V("notificationSignatureRequestApproveTransactionCapitalized"),K=V("notEnoughSplTokensTitle"),$=V("notEnoughSplTokensDescription"),J=V("maliciousTransactionWarning"),Q=V("maliciousTransactionWarningIgnoreWarning"),Z=V("maliciousTransactionWarningButtonClose"),Y=V("transactionExpiredPrimaryText"),X=V("transactionExpiredSecondaryText"),ee=i.useCallback((e=>ft(void 0,void 0,void 0,(function*(){if(!L)return;let n;const r=O?new re.AccountClient(L,oe.createSignerFromLedgerAccountMeta(P,e),C,A):_;try{if(p===s.ProviderToWalletRequestMethods.SignAndSendTransaction){const e=l.messageAndSignaturesToTransaction(m[0],v),t=yield r.signAndSendTransactionAsync(e,h);B.analytics.capture("signAndSendTransaction",{data:{origin:c}}),n=s.createSignSuccessResponse(d,t,M)}else{const e=[];for(const t of m)e.push(yield r.signMessageAsync(t));p===s.ProviderToWalletRequestMethods.SignTransaction?(B.analytics.capture("signTransaction",{data:{origin:c}}),n=s.createSignSuccessResponse(d,e[0],M)):p===s.ProviderToWalletRequestMethods.SignAllTransactions&&(B.analytics.capture("signAllTransactions",{data:{origin:c}}),n=s.createSignAllTransactionsSuccessResponse(d,e,M))}B.analytics.capture("transactionConfirm",{data:{origin:ne.getOrigin(c)}}),R(n)}catch(e){console.error(e),rt.isKnownLedgerActionError(e)?T(t(i).createElement(F.LedgerWrapper,null,t(i).createElement(rt.LedgerActionError,{ledgerActionError:e,onRetryClick:()=>{x()},onCancelClick:()=>{n=s.createJsonRpcErrorResponse(d,s.RpcErrorCode.UserRejectedRequest),R(n)}}))):O?(n=s.createJsonRpcErrorResponse(d,s.RpcErrorCode.UserRejectedRequest),R(n)):(n=s.createJsonRpcErrorResponse(d,s.RpcErrorCode.TransactionRejected,null==e?void 0:e.message),R(n))}}))),[L,O,P,C,A,_,p,c,R,m,v,h,d,M,T,x]),te=i.useCallback((()=>{const e=s.createJsonRpcErrorResponse(d,s.RpcErrorCode.UserRejectedRequest);B.analytics.capture("transactionDeny",y),R(e)}),[d,y,R]),ie=i.useCallback((()=>{O?T(t(i).createElement(F.LedgerWrapper,null,t(i).createElement(rt.LedgerAction,{ledgerAction:ee,cancel:te})),{shouldShowBackButton:!1}):ee()}),[O,T,ee,te]),ce=i.useCallback((()=>{B.analytics.capture("userIgnoredKnownMaliciousWarning",y),b(!0)}),[y,b]),se=i.useMemo((()=>{switch(!0){case D:return t(i).createElement(ct,{tabId:a,origin:c,message:J,ignoreWarningText:Q,buttonText:Z,proceedToApproval:ce,denyApproval:te});case U:return t(i).createElement(dt,{title:K,description:$,onCancelClick:te});case W:return t(i).createElement(dt,{title:Y,description:X,onCancelClick:te});case z:return t(i).createElement(st.NotEnoughSol,{onCancelClick:te});default:return null}}),[a,c,ce,te,D,J,Q,Z,U,K,$,W,Y,X,z]);return{data:{title:G,denyApproval:te,confirmApproval:ie,txnsScanResult:q},loading:!I.isFetched||q.isLoading,SignatureRequestErrorComponent:se}},mt=t(i).memo((e=>{var n;return t(i).createElement(nt,{tabId:e.tabId,origin:e.origin,messages:null!==(n=e.unsignedTransactionMessages)&&void 0!==n?n:[],confirmApproval:e.confirmApproval,denyApproval:e.denyApproval,transactionName:e.title,txnsScanResult:e.txnsScanResult})})),vt=t(i).memo((e=>{const n=gt(e);return n.SignatureRequestErrorComponent?n.SignatureRequestErrorComponent:t(i).createElement(mt,Object.assign({},e,n.data))}));var ht={};n(ht,"SignMessageRequest",(function(){return bt}),(function(e){return bt=e}));i=a("aZikt"),B=a("41J1p"),s=a("eLyRJ"),H=a("lwple"),L=a("cFuyE"),w=a("HyeVU"),S=a("cNv5c"),rt=a("1pVZM"),W=a("8xzWM"),D=a("8sCMi"),F=a("h7pEd"),U=a("lFcxH");var yt=a("dkOkP").Buffer,Et=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};const bt=e=>{const{origin:n,requestId:r,message:o,display:a,tabId:c}=e,l=g.usePostOutgoingBackgroundResponse(),{accountClient:u,accountMeta:d}=w.useSelectedSolanaAccount(),{pushDetailView:p}=S.useDetailViews(),f=i.useCallback((()=>{const e=s.createJsonRpcErrorResponse(r,s.RpcErrorCode.UserRejectedRequest);B.analytics.capture("transactionDeny",{data:{origin:n}}),l(e)}),[r,n,l]),m=i.useCallback((()=>Et(void 0,void 0,void 0,(function*(){const e=u;try{const t=yield e.signUTF8(yt.from(o).toString()),a=e.publicKey.toString(),i=s.createSignSuccessResponse(r,t,a);B.analytics.capture("signMessageConfirm",{data:{origin:n}}),l(i)}catch(e){f()}}))),[u,o,r,n,l,f]),v=i.useCallback((()=>{d.type===H.AccountType.Ledger?p(t(i).createElement(F.LedgerWrapper,null,t(i).createElement(rt.LedgerAction,{ledgerAction:m,cancel:f})),{shouldShowBackButton:!1}):m()}),[d.type,f,p,m]);return t(i).createElement(F.Container,null,t(i).createElement(D.AccountHeader,{firstChild:t(i).createElement("div",null),lastChild:t(i).createElement("div",null)}),t(i).createElement(F.Body,null,t(i).createElement(F.Icon,null,t(i).createElement(U.TabIconHeader,{tabId:c,primaryText:"Signature Request",secondaryText:L.removeWebPrefixes(n)})),t(i).createElement(xe.SignMessageInstructionRow,{message:o,display:a})),t(i).createElement(F.Footer,null,t(i).createElement(W.ButtonPair,{primaryText:"Approve",secondaryText:"Cancel",onPrimaryClicked:v,onSecondaryClicked:f})))};lt=a("5y3N4");var At=a("3jzCT"),Tt=a("iZDso");u.initSentry();const xt=()=>{const e=g.useIncomingBackgroundRequest();if(!e)return null;const{origin:n,req:r,tabId:o}=e,{id:a,method:c}=r,{message:u,messages:d,transaction:p,transactions:f,display:m,options:v}=r.params,h=p?l.transactionStringToMessageString(p):u,y=f?f.map((e=>l.transactionStringToMessageString(e))):d,E=c===s.ProviderToWalletRequestMethods.Connect,b=c===s.ProviderToWalletRequestMethods.SignMessage,A=c===s.ProviderToWalletRequestMethods.SignTransaction,T=c===s.ProviderToWalletRequestMethods.SignAllTransactions,x=c===s.ProviderToWalletRequestMethods.SignAndSendTransaction,w=A||T,k=h instanceof Uint8Array?h:s.objectToUint8Array(null!=h?h:{}),C=A||x?[h]:T?y:void 0,R=A||x?[u?l.messageStringToTransactionString(u):p]:T?d?d.map((e=>l.messageStringToTransactionString(e))):f:void 0,_=x&&p?l.transactionStringToTransaction(p,"bs58").signatures:void 0,P=E?"Connection Error":"Transaction Error",M=`There was an error attempting to ${E?"connect to the application":"sign the transaction"}. Please try again.`;return Tt.useRootGroupEffect(),Tt.useCaptureOpen("notificationOpen",{data:{method:c}}),t(i).createElement(lt.PopupAndNotificationErrorBoundary,{title:P,message:M},E?t(i).createElement(ee,{tabId:o,origin:n,requestId:a}):b?t(i).createElement(S.DetailViewsProvider,null,t(i).createElement(ht.SignMessageRequest,{tabId:o,origin:n,requestId:a,message:k,display:m})):w?t(i).createElement(S.DetailViewsProvider,null,t(i).createElement(te.SignatureRequest,{tabId:o,origin:n,requestId:a,requestMethod:c,unsignedTransactionMessages:C,unsignedTransactions:R})):x?t(i).createElement(S.DetailViewsProvider,null,t(i).createElement(te.SignatureRequest,{tabId:o,origin:n,requestId:a,requestMethod:c,unsignedTransactionMessages:C,unsignedTransactions:R,signAndSendSignatures:_,options:v})):null)},St=()=>{const e=i.useCallback((e=>t(i).createElement(_.ModalsProvider,null,t(i).createElement(R.WalletMenuProvider,null,t(i).createElement(O.Unlock,{onUnlock:e})))),[]),n=i.useCallback((()=>{p.openTabAsync({url:"onboarding.html"}),window.close()}),[]);return t(i).createElement(t(i).Fragment,null,t(i).createElement(d.ThemedGlobalStyle,{backgroundColor:"#222222"}),t(i).createElement(lt.PopupAndNotificationErrorBoundary,null,t(i).createElement(M.Main,null,t(i).createElement(P.QueryProvider,null,t(i).createElement(g.BackgroundConnectionProvider,null,t(i).createElement(At.ExtensionLockWrapper,{renderLocked:e,openOnboarding:n},t(i).createElement(k.TransactionsProvider,null,t(i).createElement(C.HardwareWalletProvider,null,t(i).createElement(w.SolanaAccountsProvider,null,t(i).createElement(R.WalletMenuProvider,null,t(i).createElement(xt,null)))))))),t(i).createElement("div",{id:f.MODAL_ID}))))};c.render(t(i).createElement(St,null),document.getElementById("root"));define=__define;})(window.define);