(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}function n(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},i={},s=r.parcelRequirea886;null==s&&((s=function(e){if(e in o)return o[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},r.parcelRequirea886=s),s.register("k3GHH",(function(e,t){s("5V6iE").register(JSON.parse('{"1qrGa":"ConnectHardwareMultichainFlow.a362342e.js","8ydDW":"english.6aeeb454.js","esIsT":"crypto-browserify.1c9b4a3e.js","9x3Iv":"Solana.95d9c53c.js","4BJU1":"Solana.360a02f0.js","hFDiN":"Eth.e923e106.js","2UKlV":"semver.8ccfa2da.js","h3t8x":"TransportWebHID.6ce3c950.js","1JCWp":"notification.e371f99c.css"}'))})),s.register("5V6iE",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("WH8YE",(function(n,r){e(n.exports,"lockExtension",(function(){return y}),(function(e){return y=e})),e(n.exports,"unlockExtension",(function(){return g}),(function(e){return g=e})),e(n.exports,"isExtensionUnlocked",(function(){return h}),(function(e){return h=e})),e(n.exports,"setLockTimer",(function(){return v}),(function(e){return v=e})),e(n.exports,"setPassword",(function(){return S}),(function(e){return S=e})),e(n.exports,"verifyPassword",(function(){return w}),(function(e){return w=e})),e(n.exports,"updatePassword",(function(){return A}),(function(e){return A=e})),e(n.exports,"importSeedAccount",(function(){return T}),(function(e){return T=e})),e(n.exports,"exportPrivateKey",(function(){return P}),(function(e){return P=e})),e(n.exports,"exportSeed",(function(){return I}),(function(e){return I=e})),e(n.exports,"hasOnboarded",(function(){return C}),(function(e){return C=e})),e(n.exports,"migrateToMultiChain",(function(){return L}),(function(e){return L=e})),e(n.exports,"getAccountProxy",(function(){return M}),(function(e){return M=e})),e(n.exports,"hasMnemonic",(function(){return D}),(function(e){return D=e})),e(n.exports,"getMnemonic",(function(){return O}),(function(e){return O=e})),e(n.exports,"setMnemonic",(function(){return U}),(function(e){return U=e})),e(n.exports,"getSeed",(function(){return _}),(function(e){return _=e}));var o=s("6Tvfa"),i=s("6e0KV"),a=s("13Nf3"),u=s("iFuxN"),c=s("2GHjd"),l=s("f44BS"),d=s("9F7Hg"),p=s("5Doro"),f=s("6rT8n").Buffer,m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const y=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.LockExtension),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),g=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.UnlockExtension,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"!=typeof n.result)throw new Error("Invalid response");const r=JSON.parse(n.result);return r.needsRefresh&&(yield p.queryClient.invalidateQueries({refetchType:"all"})),r.isUnlocked})),h=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.IsExtensionUnlocked),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),v=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetLockTimer,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),S=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetPassword,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),w=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.VerifyPassword,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),A=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.UpdatePassword,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),b=(e,t,n)=>m(void 0,void 0,void 0,(function*(){const r=yield new Promise((r=>{t.read((t=>{const o=f.from(t.buffer).toString("base64"),i=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ImportPrivateKeyAccount,[e,o,n]);r(l.browser.runtime.sendMessage(i))}))}));if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),T=(e,n,r)=>m(void 0,void 0,void 0,(function*(){const o=e.getEntropy(),i=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ImportSeedAccount,[t(a).encode(o),n,r]);o.fill(0);const s=yield l.browser.runtime.sendMessage(i);if("error"in s)throw new Error(s.error.message);if("string"==typeof s.result)return JSON.parse(s.result);throw new Error("Invalid response")})),E=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.AddAccountForSeed,[e]),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),x=(e,t)=>m(void 0,void 0,void 0,(function*(){const n=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.AddLedgerAccounts,[e,t]),r=yield l.browser.runtime.sendMessage(n);if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),k=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ImportReadOnlyAccount,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),P=(e,t)=>m(void 0,void 0,void 0,(function*(){const n=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ExportPrivateKey,[e,t]),r=yield l.browser.runtime.sendMessage(n);if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return u.SecureBytes.from(f.from(r.result,"hex"));throw new Error("Invalid response")})),I=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ExportSeed,[e]),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return u.SecureBytes.from(f.from(n.result,"hex"));throw new Error("Invalid response")})),F=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetAllAccounts),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result)return JSON.parse(t.result);throw new Error("Invalid response")})),R=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetAllSeeds),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result)return JSON.parse(t.result);throw new Error("Invalid response")})),N=(e,n)=>m(void 0,void 0,void 0,(function*(){const r=o.VaultSignerParams.parse(n);r.chainType===i.ChainType.Solana&&"transaction"===r.signingType&&"string"!=typeof r.message&&(r.message=t(a).encode(r.message));const s=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.Sign,{accountIdentifier:e,params:r}),u=yield l.browser.runtime.sendMessage(s);if("error"in u)throw new Error(u.error.message);if("string"==typeof u.result)return JSON.parse(u.result);throw new Error("Invalid response")})),C=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.HasOnboarded),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),L=e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.MigrateToMultiChain,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);const r=n.result;return r&&(yield p.queryClient.invalidateQueries({refetchType:"all"})),r})),M=()=>({addAccountForSeed:E,addReadonlyAccount:k,importPrivateKeyAccount:b,connectLedgerAccounts:x,fetchAllAccounts:F,fetchAllSeedMetas:R,connectSolanaSeedVaultAccounts:()=>{throw new Error("Solana Seed Vault is not supported on browser extension.")},removeAccount:e=>m(void 0,void 0,void 0,(function*(){const t=yield(e=>m(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.RemoveAccount,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})))(e);if(!t)throw new Error("Error while removing account")})),reorderAccount:(e,t)=>m(void 0,void 0,void 0,(function*(){const n=yield((e,t)=>m(void 0,void 0,void 0,(function*(){const n=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ReorderAccount,{identifier:e,toIndex:t}),r=yield l.browser.runtime.sendMessage(n);if("error"in r)throw new Error(r.error.message);return r.result})))(e,t);if(!n)throw new Error("Error while reordering account")})),sign:N}),D=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.HasMnemonic),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),O=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetMnemonic),n=yield l.browser.runtime.sendMessage(e);if("error"in n)throw new Error(n.error.message);if(!n.result)return null;const[r,o]=n.result;switch(r){case 0:{const e=new Uint8Array(t(a).decode(o).buffer),n=(yield(0,d.getBip39)()).fromEntropy(e);return e.fill(0),{type:"bip39",value:n}}case 1:return{type:"deprecated",value:new Uint8Array(t(a).decode(o).buffer)}}})),U=(e,n)=>m(void 0,void 0,void 0,(function*(){switch(n.type){case"bip39":{const r=n.value.getEntropy(),o=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetMnemonic,[e,[0,t(a).encode(r)]]);r.fill(0);const i=yield l.browser.runtime.sendMessage(o);if("error"in i)throw new Error(i.error.message);return i.result}case"deprecated":{const r=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetMnemonic,[e,[1,t(a).encode(n.value)]]),o=yield l.browser.runtime.sendMessage(r);if("error"in o)throw new Error(o.error.message);return o.result}}})),_=()=>m(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetSeed),n=yield l.browser.runtime.sendMessage(e);if("error"in n)throw new Error(n.error.message);return"string"==typeof n.result?t(a).decode(n.result):null}))})),s.register("2GHjd",(function(t,n){var r,o,i,s,a,u;e(t.exports,"ProviderToWalletRequestMethods",(function(){return r})),e(t.exports,"WalletToBackgroundRequestMethods",(function(){return i})),e(t.exports,"RpcErrorCode",(function(){return a})),e(t.exports,"createSignAllTransactionsSuccessResponse",(function(){return l})),e(t.exports,"createSignSuccessResponse",(function(){return d})),e(t.exports,"createSignTransactionSuccessResponse",(function(){return p})),e(t.exports,"createJsonRpcErrorResponse",(function(){return f})),e(t.exports,"createJsonRpcResponse",(function(){return y})),e(t.exports,"createJsonRpcRequest",(function(){return g})),e(t.exports,"objectToUint8Array",(function(){return h})),(o=r||(r={})).Connect="connect",o.Disconnect="disconnect",o.SignTransaction="signTransaction",o.SignAllTransactions="signAllTransactions",o.SignAndSendTransaction="signAndSendTransaction",o.SignMessage="signMessage",o.Open="open",(s=i||(i={})).LockExtension="lockExtension",s.UnlockExtension="unlockExtension",s.IsExtensionUnlocked="IsExtensionUnlocked",s.SetLockTimer="setLockTimer",s.SetPassword="setPassword",s.VerifyPassword="verifyPassword",s.UpdatePassword="updatePassword",s.ImportPrivateKeyAccount="importPrivateKeyAccount",s.ImportReadOnlyAccount="importReadOnlyAccount",s.ImportSeedAccount="importSeedAccount",s.AddAccountForSeed="addAccountForSeed",s.AddLedgerAccounts="addLedgerAccounts",s.ExportPrivateKey="exportPrivateKey",s.ExportSeed="exportSeed",s.SetAccountIcon="setAccountIcon",s.RemoveAccount="removeAccount",s.ReorderAccount="reorderAccount",s.GetAllAccounts="getAllAccounts",s.GetAllSeeds="getAllSeeds",s.Sign="sign",s.HasOnboarded="hasOnboarded",s.MigrateToMultiChain="migrateToMultiChain",s.EnabledProviders="enabledProviders",s.MetaMaskOverrideSettings="metamaskOverrideSettings",s.EthProviderOptions="ethProviderOptions",s.HasMnemonic="hasMnemonic",s.GetMnemonic="getMnemonic",s.SetMnemonic="setMnemonic",s.GetSeed="getSeed",(u=a||(a={}))[u.UserRejectedRequest=4001]="UserRejectedRequest",u[u.Unauthorized=4100]="Unauthorized",u[u.Disconnected=4900]="Disconnected",u[u.InternalError=-32603]="InternalError",u[u.InvalidInput=-32e3]="InvalidInput",u[u.MethodNotFound=-32601]="MethodNotFound",u[u.TransactionRejected=-32003]="TransactionRejected",u[u.ResourceUnavailable=-32002]="ResourceUnavailable";const c={[a.UserRejectedRequest]:{message:"User rejected the request."},[a.InternalError]:{message:"Something went wrong."},[a.MethodNotFound]:{message:"Method does not exist."},[a.InvalidInput]:{message:"Missing or invalid parameters."},[a.Unauthorized]:{message:"The requested method and/or account has not been authorized by the user."},[a.Disconnected]:{message:"Error connecting to the blockchain."},[a.TransactionRejected]:{message:"Transaction creation failed."},[a.ResourceUnavailable]:{message:"Requested resource not available."}},l=(e,t)=>{const{publicKey:n,payloads:r}=t;return{jsonrpc:"2.0",id:e,result:{publicKey:n,signatures:r.map((e=>e.signature)),payloads:r}}},d=(e,t,n)=>({jsonrpc:"2.0",id:e,result:{publicKey:n,signature:t}}),p=(e,t)=>{const{publicKey:n,payload:r}=t,{signature:o}=r;return{jsonrpc:"2.0",id:e,result:{publicKey:n,signature:o,payload:r}}},f=(e,t,n)=>({jsonrpc:"2.0",id:e,error:m(t,n)}),m=(e,t)=>({code:e,message:null!=t?t:c[e].message}),y=(e,t)=>({jsonrpc:"2.0",id:e,result:t}),g=(e,t,n=Date.now())=>({jsonrpc:"2.0",id:n,method:e,params:t}),h=e=>{const t=Object.keys(e).sort((e=>Number(e))).map((t=>e[t]));return new Uint8Array(t)}})),s.register("9F7Hg",(function(t,n){e(t.exports,"getBip39",(function(){return i}),(function(e){return i=e})),s("dvKEl");var r=s("2EjNO");s("8WRrL");var o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const i=(()=>{let e=null;return()=>o(void 0,void 0,void 0,(function*(){e||(e=yield r.Bip39Factory.webCrypto("english"));return e}))})()})),s.register("dvKEl",(function(e,t){var r=s("88Yw1"),o=s("2EjNO");n(e.exports,r),n(e.exports,o)})),s.register("88Yw1",(function(t,n){e(t.exports,"ERR_UNKNOWN",(function(){return o}),(function(e){return o=e})),e(t.exports,"ERR_INVALID_CHECKSUM",(function(){return a}),(function(e){return a=e})),e(t.exports,"assertEntropyLengthIsValid",(function(){return p}),(function(e){return p=e})),e(t.exports,"assertWordlistIsValid",(function(){return m}),(function(e){return m=e})),e(t.exports,"generateEntropy",(function(){return y}),(function(e){return y=e})),e(t.exports,"deriveBits",(function(){return g}),(function(e){return g=e})),e(t.exports,"mapBitsToIndexes",(function(){return h}),(function(e){return h=e})),e(t.exports,"indexesToEntropy",(function(){return v}),(function(e){return v=e})),e(t.exports,"entropyToIndexes",(function(){return S}),(function(e){return S=e})),e(t.exports,"mnemonicToIndexes",(function(){return w}),(function(e){return w=e})),e(t.exports,"entropyToMnemonic",(function(){return A}),(function(e){return A=e})),e(t.exports,"entropyToSeed",(function(){return T}),(function(e){return T=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const o=new Error("Unknown error"),i=new Error("Invalid entropy length"),s=new Error("Invalid mn*monic sentence length"),a=new Error("Invalid checksum"),u=new RangeError("Invalid mn*monic word"),c=new RangeError("Invalid wordlist"),l=new RangeError("Invalid wordlist index"),d=(e,t)=>{if(!e)throw t};function p(e){d(e>=128,i),d(e<=256,i),d(e%32==0,i)}function f(e){d(e>=12,s),d(e<=24,s),d(e%3==0,s)}function m(e){d(2048===e.length,c),d(e.every((e=>"string"==typeof e)),c)}function y(e,t){return f(e),t(4*e/3)}function g(e,t){return r(this,void 0,void 0,(function*(){const n=8*e.length;p(n);const r=n/32,o=yield t(e),[i]=o,s=8-r,a=i>>>s<<s>>>0,u=new Uint8Array(e.length+1);return u.set(e,0),u[u.length-1]=a,u}))}function h(e){const t=8*(e.length-1);p(t);const n=(t+t/32)/11,r=new ArrayBuffer(4*n),o=new DataView(r);let i=0,a=0,u=0;for(const t of e)if(u+=8,a|=t<<32-u,a>>>=0,u>=11){const e=a>>>21;d(e>=0&&e<=2047,l),o.setUint32(4*i,e,!0),i++,a<<=11,a>>>=0,u-=11}return d(i===n,s),new Uint32Array(r)}function v(e){f(e.length);const t=function(e){f(e.length);const t=11*e.length,n=new ArrayBuffer(Math.ceil(t/8)),r=new DataView(n),o=new DataView(e.buffer),i=e.length;let s=0,a=0,u=0,c=8;for(let e=0;e<i;e++){const t=o.getUint32(4*e,!0);d(t<2048,l);let n=11;for(;n>0;){const e=n>=c?c:n;s|=t>>32-(32-n)-e&(1<<e)-1,a+=e,s<<=c-e,s>>>=0,n-=e,c-=e,c<=0&&(c=8),a%8==0&&(r.setUint8(u,s),u++,s=0)}}return i%8!=0&&r.setUint8(u,s),new Uint8Array(n)}(e),n=t.slice(0,t.length-1);return t.fill(0),n}function S(e,t){return r(this,void 0,void 0,(function*(){p(8*e.length);const n=yield g(e,t),r=h(n);return n.fill(0),r}))}function w(e,t){m(t);const n=new Set(t),r=new Uint32Array(24);let o=0,i="";for(let s=0;s<e.length;s++){const a=e[s],c=32===a,l=s===e.length-1;if(l&&(i+=String.fromCharCode(a)),c||l){d(n.has(i),u);let e=0;for(const n of t){if(i===n)break;e++}r[o++]=e,i=""}else i+=String.fromCharCode(a)}f(o);const s=r.slice(0,o);return r.fill(0),s}function A(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield S(e,n),o=new Uint8Array(r.reduce(((e,n)=>e+t[n].length+1),-1));let i=0;for(const e of r){i>0&&(o[i++]=32);const n=t[e];for(const e of n)o[i++]=e.charCodeAt(0)}return r.fill(0),o}))}const b=Uint8Array.of(109,110,101,109,111,110,105,99);function T(e,t,n,o,i){return r(this,void 0,void 0,(function*(){const r=yield A(e,n,o),s=new Uint8Array(b.length+t.length);s.set(b,0),s.set(t,b.length);const a=yield i(r,s,2048,64,"sha512");return s.fill(0),r.fill(0),a}))}})),s.register("2EjNO",(function(t,n){e(t.exports,"Bip39Factory",(function(){return f}),(function(e){return f=e}));var r=s("88Yw1"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function u(e){return o(this,void 0,void 0,(function*(){if("english"===e)return(yield s("dCUvq")).default}))}function c(e){return t=>new e(t)}function l(e,t){return n=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null,a=null,u=null;try{i=(0,r.indexesToEntropy)(n),s=yield(0,r.deriveBits)(i,t),a=(0,r.mapBitsToIndexes)(s);const o=n[n.length-1];if(o!==a[a.length-1])throw r.ERR_INVALID_CHECKSUM;u=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),null==s||s.fill(0),null==a||a.fill(0),o)throw o;return u}}))}function d(e,t){return n=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null;try{i=(0,r.mnemonicToIndexes)(n,t),s=yield e.fromIndexes(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}))}function p(e,t){return n=>{let o=null,i=null,s=null;try{i=(0,r.generateEntropy)(n,t),s=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}}class f{static webCrypto(e){var t,n;return o(this,void 0,void 0,(function*(){const s="string"==typeof e?yield u(e):e;(0,r.assertWordlistIsValid)(s);const f=e=>o(this,void 0,void 0,(function*(){return new Uint8Array(yield crypto.subtle.digest("SHA-256",e))})),m=(e,t,n,r,i)=>o(this,void 0,void 0,(function*(){const o="SHA-"+i.substring(3),s=yield crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]),a=yield crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:o},s,8*r);return new Uint8Array(a)}));return n=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,t,"f"),e,s,f,m),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,t,"f"),f),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,t,"f"),s,f),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),i(this,t,e.slice(),"f")}},t=new WeakMap,n.fromEntropy=c(n),n.fromIndexes=l(n,f),n.fromMnemonic=d(n,s),n.fromSentenceLength=p(n,(e=>crypto.getRandomValues(new Uint8Array(e)))),n.wordlist=s,n}))}static nodeCrypto(e){var t,n;return o(this,void 0,void 0,(function*(){const f="string"==typeof e?yield u(e):e;(0,r.assertWordlistIsValid)(f);const{randomBytes:m,createHash:y,pbkdf2:g}=yield s("f5plE"),h=e=>o(this,void 0,void 0,(function*(){return new Uint8Array(y("sha256").update(e).digest().buffer)})),v=(...e)=>new Promise(((t,n)=>{g(...e,((e,r)=>{if(e)return n(e);t(new Uint8Array(r.buffer))}))}));return n=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,t,"f"),e,f,h,v),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,t,"f"),h),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,t,"f"),f,h),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),i(this,t,e.slice(),"f")}},t=new WeakMap,n.fromEntropy=c(n),n.fromIndexes=l(n,h),n.fromMnemonic=d(n,f),n.fromSentenceLength=p(n,(e=>new Uint8Array(m(e).buffer))),n.wordlist=f,n}))}static customCrypto(e,t){var n,s;return o(this,void 0,void 0,(function*(){const o="string"==typeof e?yield u(e):e;(0,r.assertWordlistIsValid)(o);const{random:f,sha256:m,pbkdf2:y}=t;return s=class{constructor(e){n.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,n,"f"),e,o,m,y),this.getEntropy=()=>a(this,n,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,n,"f"),m),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,n,"f"),o,m),this.getSentenceLength=()=>{const e=8*a(this,n,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),i(this,n,e.slice(),"f")}},n=new WeakMap,s.fromEntropy=c(s),s.fromIndexes=l(s,m),s.fromMnemonic=d(s,o),s.fromSentenceLength=p(s,f),s.wordlist=o,s}))}}})),s.register("dCUvq",(function(e,t){e.exports=import("./"+s("5V6iE").resolve("8ydDW")).then((()=>s("ggpRk")))})),s.register("f5plE",(function(e,t){e.exports=import("./"+s("5V6iE").resolve("esIsT")).then((()=>s("c5KV4")))})),s.register("45yZi",(function(t,n){e(t.exports,"queryHooks",(function(){return E}));var r=s("6Tvfa"),o=s("cR6w7"),i=s("gYh0e");s("hsoDC");var a=s("cHdXl"),u=s("4QHep"),c=s("iPvw0");s("6oMdZ");var l=s("gVED6"),d=s("1uUV4");s("a0t1u");var p=s("4odJk"),f=s("7Iqpf"),m=s("4raQz"),y=s("6Nxml"),g=s("5Z2YQ"),h=s("5Doro"),v=s("kqyk0"),S=s("jPDaF"),w=s("hvlNY"),A=s("h5kyv"),b=s("WH8YE"),T=s("9hiP6");const E=function(e){const{analytics:t,legacyStorage:n,storage:s,accountProxy:h,queryClient:v,chainAvailability:S}=e,w=new(0,m.PriorityFeeService)(t),A=(0,r.createAccountHooks)(h,s,n,v,S,(e=>e.invalidateQueries(["browser-ext/MultichainMockAccountsContext"])),t),b=(0,g.createClusterHooks)(n),E=(0,o.createCollectibleHooks)(h,s,y.getAPIEnvironment,v,w),x=(0,u.createPriceHooks)(),k=(0,c.createSettingsHooks)(h,s,n,v,S,t),P=(0,m.createTransactionHooks)(h,v,s,t,x),I=(0,l.createStakingHooks)(P,v,y.getAPIEnvironment,t),F=(0,d.createStorageHooks)(n,s,v),R=(0,p.createSwapperHooks)(P),N=(0,i.createFungibleHooks)({storage:s,legacyStorage:n,getApiEnvironment:y.getAPIEnvironment,queryClient:v,transactionHooks:P,accountProxy:h,accountHooks:A,priceHooks:x,priorityFeeService:w}),C=(0,f.createSwapperMultichainHooks)(h,s,y.getAPIEnvironment,t,x,N,A,k),L=(0,a.createHardwareHooks)((0,T.getLedgerWebHIDDependencies)(),v);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},A),b),E),N),x),k),I),F),R),C),P),L)}({accountProxy:(0,b.getAccountProxy)(),analytics:A.analytics,queryClient:h.queryClient,legacyStorage:new(0,w.LocalStorage),storage:new(0,S.LegacyIndexedDBProxy),chainAvailability:(0,v.createChainAvailability)()})})),s.register("hsoDC",(function(t,n){e(t.exports,"createHardwareHooks",(function(){return s("cHdXl").createHardwareHooks})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s("lMux6").DEFAULT_LEDGER_TRANSPORT_STATE})),e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return s("lMux6").LEDGER_NOT_CONNECTED_STATE})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return s("lMux6").LEDGER_RECONNECTING_STATE})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return s("lMux6").LEDGER_WAITING_FOR_APPROVAL_STATE})),e(t.exports,"createHardwareHooks",(function(){return s("7wUYG").createHardwareHooks})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s("7wUYG").DEFAULT_LEDGER_TRANSPORT_STATE})),e(t.exports,"LEDGER_LOCKED",(function(){return s("7wUYG").LEDGER_LOCKED})),e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return s("7wUYG").LEDGER_NOT_CONNECTED_STATE})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return s("7wUYG").LEDGER_RECONNECTING_STATE})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return s("7wUYG").LEDGER_WAITING_FOR_APPROVAL_STATE})),e(t.exports,"refetchLedgerAddresses",(function(){return s("7wUYG").refetchLedgerAddresses})),e(t.exports,"resetLedgerAddresses",(function(){return s("7wUYG").resetLedgerAddresses})),e(t.exports,"setLedgerTransportStateOverride",(function(){return s("7wUYG").setLedgerTransportStateOverride})),e(t.exports,"LEDGER_LOCKED",(function(){return s("9JfiT").LEDGER_LOCKED})),s("d6jeu"),s("lMux6"),s("dPPBv"),s("1w7N6"),s("5ARdl"),s("9JfiT")})),s.register("d6jeu",(function(t,n){e(t.exports,"createHardwareHooks",(function(){return s("cHdXl").createHardwareHooks}));s("cHdXl")})),s.register("cHdXl",(function(t,n){e(t.exports,"createHardwareHooks",(function(){return u}));var r=s("gw8mx"),o=s("4cs7m"),i=s("ZrOY8"),a=s("3KU10");function u(e,t){return{useIsLedgerSupported:()=>(0,r.default)(e),useLedgerTransportState:(n,r,o)=>(0,i.default)(e,t,n,r,o),useRequestLedgerPermission:(n,r)=>(0,a.default)(e,t,n,r),useLedgerAddresses:(n,r,i,s)=>(0,o.default)(e,t,n,r,i,s)}}})),s.register("gw8mx",(function(t,n){e(t.exports,"default",(function(){return a}),(function(e){return a=e}));var r=s("lNRH9"),o=s("4ODJX"),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=e=>{const t=o.hardwareQueryKeys.isLedgerSupported();return(0,r.useQuery)({queryKey:t,queryFn:()=>i(void 0,void 0,void 0,(function*(){return e.isSupported()}))})}})),s.register("4ODJX",(function(t,n){e(t.exports,"HARDWARE_BASE_QUERY_KEY",(function(){return r})),e(t.exports,"hardwareQueryKeys",(function(){return o}));const r="@phantom-labs/hardware",o={isLedgerSupported:()=>[`${r}:is-ledger-supported`],ledgerTransportState:()=>[`${r}:ledger-transport-state`],ledgerAddress:(e,t)=>[`${r}:ledger-address`,{chainType:e,derivationPath:t}],ledgerAddresses:(e=[],t)=>[`${r}:ledger-addresses`,{derivationPathParams:e,enableLedgerXPubDerivation:t}],requestLedgerPermission:()=>[`${r}:request-ledger-permission`]}})),s.register("4cs7m",(function(t,n){e(t.exports,"default",(function(){return c}),(function(e){return c=e}));var r=s("lNRH9"),o=s("9JfiT"),i=s("kr4Fg"),a=s("4ODJX"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=(e,t,n,s=[],c=!1,l=!1,d=(()=>{}))=>{var p;const f=n.isConnected&&s.length>0&&s[0].chainType===(null===(p=n.selectedApp)||void 0===p?void 0:p.chainType),m=a.hardwareQueryKeys.ledgerAddresses(s,l);return(0,r.useQuery)({enabled:f,queryKey:m,queryFn:()=>u(void 0,void 0,void 0,(function*(){const n=yield t.getQueryData(a.hardwareQueryKeys.ledgerTransportState());if(!n)throw o.LEDGER_NOT_CONNECTED;return(0,i.deriveLedgerAddresses)({deps:e,state:n,derivationPathParams:s,enableDebugLogs:c,enableLedgerXPubDerivation:l,onSuccess:d})})),retry:!1})}})),s.register("9JfiT",(function(t,n){e(t.exports,"LEDGER_NOT_CONNECTED",(function(){return r})),e(t.exports,"LEDGER_MULTIPLE_CHAIN_TYPES_REQUESTED",(function(){return o})),e(t.exports,"LEDGER_LOCKED",(function(){return i})),e(t.exports,"LEDGER_DUPLICATE_ADDRESS_RECEIVED",(function(){return s}));const r=new Error("Ledger not connected."),o=new Error("Multiple chain types requested from Ledger. Only request one at a time."),i=new Error("Ledger is locked, unlock to get addresses or sign."),s=new Error("Duplicate ledger address received")})),s.register("kr4Fg",(function(t,n){e(t.exports,"deriveLedgerAddresses",(function(){return y}),(function(e){return y=e}));var r=s("6Tvfa"),o=s("6e0KV"),i=s("4yY1D"),a=s("4y59b"),u=s("9JfiT"),c=s("71Me8"),l=s("hOTYq"),d=s("hgJF4"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n,r)=>{const o=new Set;return(i,s)=>p(void 0,void 0,void 0,(function*(){if(!t.isConnected)throw u.LEDGER_NOT_CONNECTED;const l=e.defaultTransportTimeout;try{const e=yield(0,a.withRetry)((()=>p(void 0,void 0,void 0,(function*(){const e=yield(0,a.withTimeout)((0,c.getLedgerAddress)(t.transport,i.chainType,s,r),3e3);if(o.has(e.address))throw u.LEDGER_DUPLICATE_ADDRESS_RECEIVED;return e}))),(e=>{const t=e===u.LEDGER_DUPLICATE_ADDRESS_RECEIVED;t&&(0,d.debugLog)(n,`âŒ Duplicate address detected, retrying in ${l}ms...`);const r="InvalidChannel"===e.id;return r&&(0,d.debugLog)(n,`Invalid channel, trying again in ${l}ms...`),t||r}),3,l);return(0,d.debugLog)(n,`âœ… Received address for ${s}: ${e.address}`),o.add(e.address),e}catch(e){throw yield(0,a.delayAsync)(1e3),e}}))},m=(e,t)=>{switch(e){case"grandparent":switch(t){case r.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'";case r.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'";case r.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'"}break;case"parent":switch(t){case r.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'/0";case r.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'/0";case r.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'/0"}}},y=({deps:e,state:t,derivationPathParams:n,enableDebugLogs:s,enableLedgerXPubDerivation:a,onSuccess:c})=>p(void 0,void 0,void 0,(function*(){const y=Date.now();(e=>{let t,n=!0;for(const r of e)if(t?n=n&&t===r.chainType:t=r.chainType,!n)throw u.LEDGER_MULTIPLE_CHAIN_TYPES_REQUESTED})(n);const g=a?((e,t,n)=>{const s=f(e,t,n,!0),a={};return(e,t)=>p(void 0,void 0,void 0,(function*(){switch(e.chainType){case o.ChainType.Solana:return s(e,t);case o.ChainType.Ethereum:switch(e.pathType){case r.DerivationPathType.Bip44RootEthereum:return yield s(e,t);case r.DerivationPathType.Bip44Ethereum:case r.DerivationPathType.Bip44EthereumSecondary:case r.DerivationPathType.Bip44EthereumTertiary:{let r=a[e.pathType];if(!r)try{const t=m("grandparent",e.pathType),n=yield s(e,t);if(n.chainType!==e.chainType||"chain-code"!==n.type)throw new Error(`invalid response from Ledger requesting grandparent path: ${t}`);const o=m("parent",e.pathType),i=yield s(e,o);if(i.chainType!==e.chainType||"chain-code"!==i.type)throw new Error(`invalid response from Ledger requesting parent path: ${t}`);r=(0,l.createEthereumChildAddressDeriver)(n,i),a[e.pathType]=r}catch(n){return i.telemetry.captureError(new Error(`error creating xpub from derivation path: ${t}. Reason: ${n.message}`),i.FeatureTag.Ledger),s(e,t)}const o=r(e.index);return(0,d.debugLog)(n,`â­ï¸ Derived address with xpub for ${t}: ${o}`),{type:"address",chainType:e.chainType,address:r(e.index)}}}}}))})(e,t,s):f(e,t,s,!1),h={};for(const e of n){const t=(0,r.getDerivationPath)(e),{address:n}=yield g(e,t);h[t]=n}const v=(Date.now()-y)/1e3;return(0,d.debugLog)(s,`âœ… Finished requesting addresses for ${n.length} derivation paths. Time: ${v} s`),c(v),h}))})),s.register("71Me8",(function(n,r){e(n.exports,"getLedgerAddress",(function(){return l}),(function(e){return l=e}));var o=s("6e0KV"),i=s("13Nf3"),a=s("9JfiT"),u=s("9tNa2"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,n,r,s)=>c(void 0,void 0,void 0,(function*(){const c=r.replace("m/","");try{switch(n){case o.ChainType.Solana:{const n=yield(0,u.getSolanaLedgerApp)(e),{address:r}=yield n.getAddress(c);return{type:"address",chainType:o.ChainType.Solana,address:t(i).encode(r)}}case o.ChainType.Ethereum:{const t=yield(0,u.getEthereumLedgerApp)(e),{publicKey:n,address:r,chainCode:i}=yield t.getAddress(c,!1,s);if(s){if(!i)throw new Error("Chain code is requested from Ledger device, but no chain code was received.");return{type:"chain-code",chainType:o.ChainType.Ethereum,address:r,publicKey:n,chainCode:i}}return{type:"address",chainType:o.ChainType.Ethereum,address:r}}}}catch(e){throw"TransportLocked"===e.id?a.LEDGER_LOCKED:e}}))})),s.register("9tNa2",(function(t,n){e(t.exports,"getSolanaLedgerApp",(function(){return o}),(function(e){return o=e})),e(t.exports,"getEthereumLedgerApp",(function(){return i}),(function(e){return i=e})),e(t.exports,"getEthereumLedgerService",(function(){return a}),(function(e){return a=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function o(e){return r(this,void 0,void 0,(function*(){const{default:t}=yield s("jEa1Q");return new t(e)}))}function i(e){return r(this,void 0,void 0,(function*(){const{default:t}=yield s("hzSaO");return new t(e)}))}function a(){return r(this,void 0,void 0,(function*(){const{ledgerService:e}=yield s("hzSaO");return e}))}})),s.register("jEa1Q",(function(e,t){e.exports=Promise.all([import("./"+s("5V6iE").resolve("4BJU1")),import("./"+s("5V6iE").resolve("9x3Iv"))]).then((()=>s("k4oSe")))})),s.register("hzSaO",(function(e,t){e.exports=Promise.all([import("./"+s("5V6iE").resolve("4BJU1")),import("./"+s("5V6iE").resolve("hFDiN"))]).then((()=>s("QdbMl")))})),s.register("hOTYq",(function(n,r){e(n.exports,"createEthereumChildAddressDeriver",(function(){return p}));var o=s("6xolq"),i=s("xtN6v"),a=s("cSgaA"),u=s("4chX7"),c=s("13Nf3"),l=s("6rT8n");const d=(e,n,r)=>(e=>{const n=(0,i.sha256)((0,i.sha256)(e)).replace("0x","").slice(0,8);return t(c).encode(l.Buffer.concat([l.Buffer.from(e),l.Buffer.from(n,"hex")]))})(l.Buffer.from(`0488b21e04${e.replace("0x","")}00000000${n}${r.replace("0x","").toLowerCase()}`,"hex")),p=(e,t)=>{const n=(r=e.publicKey,(0,i.ripemd160)((0,i.sha256)((0,a.computePublicKey)(`0x${r}`,!0))).replace("0x","").slice(0,8));var r;const s=(0,a.computePublicKey)(`0x${t.publicKey}`,!0),c=d(n,t.chainCode,s),l=o.HDNode.fromExtendedKey(c);return e=>{const t=l.derivePath(`${e}`).address;if(u.EthAddress.safeParse(t).success)return t;throw new Error(`Invalid Ethereum Child Address derived: ${t}`)}}})),s.register("hgJF4",(function(t,n){e(t.exports,"debugLog",(function(){return r}));const r=(e,t)=>{if(e){const e=new Date;console.log(`[${e.toISOString()}] ${t}`)}}})),s.register("ZrOY8",(function(t,n){e(t.exports,"default",(function(){return y}),(function(e){return y=e}));var r=s("4y59b"),o=s("lNRH9"),i=s("lDSNw"),a=s("lMux6"),u=s("hgJF4"),c=s("de28I"),l=s("7wUYG"),d=s("iMWTC"),p=s("4ODJX"),f=s("gw8mx"),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var y=(e,t,n=!0,s=!1,y=2e3)=>{(0,i.useEffect)((()=>{e.on("disconnect",(()=>{(0,u.debugLog)(s,"disconnect event received from Ledger transport."),(0,l.invalidateLedgerTransportState)(t)}))}),[e,t]);const{data:g=!1}=(0,f.default)(e),h=n&&g,v=p.hardwareQueryKeys.ledgerTransportState();return(0,o.useQuery)({enabled:h,queryKey:v,queryFn:()=>m(void 0,void 0,void 0,(function*(){if(!h)return a.LEDGER_NOT_CONNECTED_STATE;let n,o=t.getQueryData(v),i=!1,p=0;do{try{n=(yield Promise.all([(0,r.withTimeout)((0,d.fetchLedgerTransportState)(e,s,p>0?a.LEDGER_RECONNECTING_STATE:o),e.defaultTransportTimeout),(0,r.delayAsync)(200)]))[0]}catch(e){n=a.LEDGER_NOT_CONNECTED_STATE}i=!!(null==o?void 0:o.isConnected)&&"not-connected"===n.status&&++p<5,i&&((0,l.setLedgerTransportStateOverride)(t,a.LEDGER_RECONNECTING_STATE),(0,u.debugLog)(s,"Attempting to reconnect..."),1===p&&(0,c.debugLogStateChange)(s,o,a.LEDGER_RECONNECTING_STATE),yield(0,r.delayAsync)(500))}while(i);return p>0&&(o=a.LEDGER_RECONNECTING_STATE),(0,c.debugLogStateChange)(s,o,n),(null==o?void 0:o.isConnected)&&!n.isConnected&&(0,l.resetLedgerAddresses)(t).then((()=>(0,l.refetchLedgerAddresses)(t))),n})),refetchOnMount:!0,refetchInterval:y,initialData:a.LEDGER_NOT_CONNECTED_STATE})}})),s.register("lMux6",(function(t,n){e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return r})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return o})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return i})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s}));const r={status:"not-connected",isConnected:!1},o={status:"reconnecting",isConnected:!1},i={status:"waiting-for-approval",isConnected:!1},s=r})),s.register("de28I",(function(t,n){e(t.exports,"debugLogStateChange",(function(){return i}));var r=s("6e0KV"),o=s("hgJF4");const i=(e=!1,t,n)=>{if((null==t?void 0:t.status)===n.status)return;let i,s="";switch(n.status){case"connected":i="ðŸŸ¢ Connected",s=`, selected app: ${n.selectedApp?(0,r.getChainTypeGenericName)(n.selectedApp.chainType):"None"}`;break;case"needs-permission":i="ðŸŸ  Needs Permission";break;case"reconnecting":i="ðŸŸ  Reconnecting";break;case"waiting-for-approval":i="ðŸŸ  Waiting For Approval";break;case"not-connected":i="âšªï¸ Not Connected"}(0,o.debugLog)(e,`${i}${s}`)}})),s.register("7wUYG",(function(t,n){e(t.exports,"resetLedgerAddresses",(function(){return i}),(function(e){return i=e})),e(t.exports,"refetchLedgerAddresses",(function(){return a}),(function(e){return a=e})),e(t.exports,"invalidateLedgerTransportState",(function(){return u}),(function(e){return u=e})),e(t.exports,"setLedgerTransportStateOverride",(function(){return c}),(function(e){return c=e}));var r=s("4ODJX"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const i=e=>o(void 0,void 0,void 0,(function*(){yield e.resetQueries([`${r.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),a=e=>o(void 0,void 0,void 0,(function*(){yield e.refetchQueries([`${r.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),u=e=>o(void 0,void 0,void 0,(function*(){yield e.invalidateQueries(r.hardwareQueryKeys.ledgerTransportState())})),c=(e,t)=>e.setQueryData(r.hardwareQueryKeys.ledgerTransportState(),t)})),s.register("iMWTC",(function(t,n){e(t.exports,"fetchLedgerTransportState",(function(){return u}),(function(e){return u=e}));var r=s("lMux6"),o=s("1Jx7r"),i=s("hgJF4"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n)=>a(void 0,void 0,void 0,(function*(){let s;if(0===(yield e.getNumDevices()))return n!==r.LEDGER_NOT_CONNECTED_STATE&&(0,i.debugLog)(t,"Unable to detect Ledger devices."),r.LEDGER_NOT_CONNECTED_STATE;if(null==n?void 0:n.isConnected)return n;if(s||(s=yield e.getFirstOpenedTransport(),s&&(0,i.debugLog)(t,"Found previously-opened transport.")),s||(s=yield e.openConnected(),s&&(0,i.debugLog)(t,"Opened a new connection to a previously-opened transport.")),!s)return(0,i.debugLog)(t,"Need permission to use the connected Ledger device."),{status:"needs-permission",isConnected:!1};return{status:"connected",isConnected:!0,transport:s,selectedApp:yield(0,o.getSelectedLedgerApp)(s,e.defaultTransportTimeout)}}))})),s.register("1Jx7r",(function(t,n){e(t.exports,"getSelectedLedgerApp",(function(){return u}),(function(e){return u=e}));var r=s("6e0KV"),o=s("4y59b"),i=s("9tNa2"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t=500)=>a(void 0,void 0,void 0,(function*(){try{return yield(0,o.withTimeout)(a(void 0,void 0,void 0,(function*(){try{const t=yield(0,i.getSolanaLedgerApp)(e),n=yield t.getAppConfiguration();return{chainType:r.ChainType.Solana,version:n.version,blindSigningEnabled:n.blindSigningEnabled}}catch(e){}try{const t=yield(0,i.getEthereumLedgerApp)(e),n=yield t.getAppConfiguration();return{chainType:r.ChainType.Ethereum,version:n.version,blindSigningEnabled:1===n.arbitraryDataEnabled}}catch(e){}return null})),t)}catch(e){return null}}))})),s.register("3KU10",(function(t,n){e(t.exports,"default",(function(){return p}),(function(e){return p=e}));var r=s("lNRH9"),o=s("1Jx7r"),i=s("hgJF4"),a=s("de28I"),u=s("7wUYG"),c=s("iMWTC"),l=s("4ODJX"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},p=(e,t,n=!0,s=!1)=>{const p=l.hardwareQueryKeys.requestLedgerPermission();return(0,r.useQuery)({enabled:n,queryKey:p,queryFn:()=>d(void 0,void 0,void 0,(function*(){var n,r,d,p,f,m,y;let g;try{(0,i.debugLog)(s,"Requesting permission to connect to Ledger..."),g=yield e.request()}catch(o){if((0,i.debugLog)(s,`Received error trying to request permission: ${o}`),"string"==typeof o.message&&(null===(n=o.message)||void 0===n?void 0:n.includes("device is already open"))){(0,i.debugLog)(s,"âœ… Permission granted, device already open. Connecting to device...");const n=l.hardwareQueryKeys.ledgerTransportState(),o=yield t.getQueryData(n);let m;try{m=yield(0,c.fetchLedgerTransportState)(e,s,o)}catch(e){}return(null==m?void 0:m.isConnected)?((0,i.debugLog)(s,`âœ… Permission granted. Connected to Ledger device: ${null!==(d=null===(r=m.transport.deviceModel)||void 0===r?void 0:r.productName)&&void 0!==d?d:"Unknown device"}. Selected app: ${null!==(f=null===(p=null==m?void 0:m.selectedApp)||void 0===p?void 0:p.chainType)&&void 0!==f?f:"none"}`),yield(0,u.setLedgerTransportStateOverride)(t,m),(0,a.debugLogStateChange)(s,void 0,m),{type:"granted",transport:m.transport}):((0,i.debugLog)(s,"âŒ Unable to connect. Try again and make sure device is unlocked."),{type:"unable-to-connect"})}return(0,i.debugLog)(s,"âŒ Permission denied."),{type:"denied"}}if(!g){const e="Unable to connect to Ledger device. Permission granted, but no Transport received.";return(0,i.debugLog)(s,`âŒ ${e}`),{type:"unable-to-connect"}}const h={status:"connected",isConnected:!0,transport:g,selectedApp:yield(0,o.getSelectedLedgerApp)(g,e.defaultTransportTimeout)};return yield(0,u.setLedgerTransportStateOverride)(t,h),(0,a.debugLogStateChange)(s,void 0,h),(0,i.debugLog)(s,`âœ… Permission granted. Connected to Ledger device: ${null!==(y=null===(m=g.deviceModel)||void 0===m?void 0:m.productName)&&void 0!==y?y:"Unknown device"}`),{type:"granted",transport:g}})),cacheTime:0,staleTime:0,refetchOnMount:!0})}})),s.register("dPPBv",(function(e,t){var n=s("4chX7"),r=s("7pPsM");const o=r.z.string().regex(/^[0-9A-Fa-f]*$/,{message:"String must have only valid hex characters"});r.z.object({address:n.EthAddress,publicKey:o,chainCode:o})})),s.register("1w7N6",(function(e,t){s("iqxmM")})),s.register("iqxmM",(function(e,t){s("5lurW"),s("eE7wc"),s("6Tvfa"),s("6e0KV"),s("3fvLJ"),s("4yY1D"),s("4y59b"),s("13Nf3"),s("6rT8n"),s("lMux6"),s("iMWTC"),s("1ZJGX"),s("9tNa2"),s("1Jx7r")})),s.register("1ZJGX",(function(t,n){e(t.exports,"convertSignTypedDataToEip712Message",(function(){return r}));const r=e=>{const t={name:e.domain.name,version:e.domain.version,verifyingContract:e.domain.verifyingContract,chainId:"number"==typeof e.domain.chainId?e.domain.chainId:"string"==typeof e.domain.chainId?parseInt(e.domain.chainId,10):void 0},n=[],r={};for(const[t,o]of Object.entries(e.types))for(const e of o)"EIP712Domain"===t?n.push(e):t in r?r[t].push(e):r[t]=[e];return{domain:t,types:Object.assign({EIP712Domain:n},r),primaryType:e.primaryType,message:Object.assign({},e.message)}}})),s.register("fbmp8",(function(e,t){e.exports=import("./"+s("5V6iE").resolve("2UKlV")).then((()=>s("3sixR")))})),s.register("5ARdl",(function(e,t){var r=s("7wUYG");n(e.exports,r)})),s.register("6oMdZ",(function(t,n){e(t.exports,"createStakingHooks",(function(){return s("gVED6").createStakingHooks})),e(t.exports,"calculateTotalValidatorAPY",(function(){return s("ep0HO").calculateTotalValidatorAPY})),e(t.exports,"recommendedValidatorSorter",(function(){return s("7xt7C").recommendedValidatorSorter})),e(t.exports,"voteAccountSorter",(function(){return s("kkkNB").voteAccountSorter})),s("cTTnM"),s("7rWiL"),s("jqEmo")})),s.register("cTTnM",(function(t,n){e(t.exports,"createStakingHooks",(function(){return s("gVED6").createStakingHooks})),s("gVED6")})),s.register("gVED6",(function(t,n){e(t.exports,"createStakingHooks",(function(){return S}));var r=s("4raQz"),o=s("F4adS"),i=s("1Dvov"),a=s("5spRy"),u=s("k6uFh"),c=s("chsS5"),l=s("gt5rg"),d=s("i6Kga"),p=s("fHWFb"),f=s("lxI2A"),m=s("aCG5w"),y=s("jRSxq"),g=s("7hUpm"),h=s("dBN2w"),v=s("f2N2q");function S(e,t,n,s){const S=new(0,r.PriorityFeeService)(s);return{useRecommendedValidators:()=>(0,u.useRecommendedValidators)(n),useSignatureStatus:(e,n,r)=>(0,c.useSignatureStatus)(t,e,n,r),useStakeAccounts:d.useStakeAccounts,useStakeAccountMinBalance:l.useStakeAccountMinBalance,useStakeActivationData:p.useStakeActivationData,useStakeApy:()=>(0,f.useStakeApy)(n),useStakeRewardsHistory:(e,t)=>(0,m.useStakeRewardsHistory)(n,e,t),useValidators:g.useValidators,useValidatorInfo:y.useValidatorInfo,useVoteAccounts:h.useVoteAccounts,useDelegateStake:n=>(0,a.useDelegateStake)(e,n,t,S),useCreateStakeAccountAndDelegateStake:n=>(0,o.useCreateStakeAccountAndDelegateStake)(e,n,t,S),useDeactivateStake:n=>(0,i.useDeactivateStake)(e,n,t,S),useWithdrawStake:n=>(0,v.useWithdrawStake)(e,n,t,S)}}})),s.register("F4adS",(function(t,n){e(t.exports,"useCreateStakeAccountAndDelegateStake",(function(){return y}),(function(e){return y=e}));var r=s("lMzyG"),o=s("3fvLJ"),i=s("4yY1D"),a=s("4raQz"),u=s("fG04A"),c=s("5q8rs"),l=s("24sH7");s("jqEmo");var d=s("kW76A"),p=s("5spRy"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function m({lamports:e,votePubkey:t,authorizedPubkey:n}){const[r,i]=function({ownerPublicKey:e,lamports:t,transaction:n=new(0,o.Transaction)}){const r=o.Keypair.generate();return n.add(o.StakeProgram.createAccount({fromPubkey:e,stakePubkey:r.publicKey,authorized:new(0,o.Authorized)(e,e),lamports:t})),[n,r]}({ownerPublicKey:n,lamports:e});return r.add((0,p.delegateStake)({stakePubkey:i.publicKey,authorizedPubkey:n,votePubkey:t})),[r,i]}const y=(e,t,n,s)=>{const{t:p}=(0,r.useTranslation)(),{mutateAsync:y}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,lamports:r,votePubkey:i,authorizedPubkey:u})=>f(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:c,address:d}=n,[f,g]=m({accountIdentifier:e,senderAddress:n,lamports:r,votePubkey:i,authorizedPubkey:u}),h=yield s.addPriorityFee(f,{connection:t}),v={ownerAddress:null!=d?d:"",chainID:c,data:{signature:""},type:a.PendingTransactionType.CreateAccountAndDelegateStake,display:{summary:{topLeft:{label:p("transactionsPendingCreatingAndDelegatingStake")}}}},S=yield y({accountIdentifier:e,feePayer:new(0,o.PublicKey)(d),transaction:h,pendingTransactionInput:v,opts:{additionalSignerAccounts:[g]}});return{chainID:c,signature:null!=S?S:""}})),onSuccess:e=>f(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("24sH7",(function(t,n){e(t.exports,"MissingSenderAddressError",(function(){return r})),e(t.exports,"MissingConfirmationSignatureError",(function(){return o})),e(t.exports,"MissingPublicKeyError",(function(){return i}));const r=new Error("Missing sender address for staking fungibles."),o=(new Error("Missing signature from staking fungibles."),new Error("Missing signature from waiting for staking transaction confirmation.")),i=new Error("PublicKey is required")})),s.register("jqEmo",(function(t,n){e(t.exports,"calculateTotalValidatorAPY",(function(){return s("ep0HO").calculateTotalValidatorAPY})),e(t.exports,"invalidateAllStakeAccountData",(function(){return s("kW76A").invalidateAllStakeAccountData})),e(t.exports,"recommendedValidatorSorter",(function(){return s("7xt7C").recommendedValidatorSorter})),e(t.exports,"voteAccountSorter",(function(){return s("kkkNB").voteAccountSorter}));s("ep0HO"),s("kW76A"),s("7xt7C"),s("kkkNB")})),s.register("ep0HO",(function(n,r){e(n.exports,"calculateTotalValidatorAPY",(function(){return i}));var o=s("1hpxn");function i(e,n){const r=new(t(o))(e/100),i=new(t(o))(n/100);return r.minus(r.times(i)).times(100).decimalPlaces(2).toNumber()}})),s.register("1hpxn",(function(e,t){!function(t){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,f=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function y(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function g(e,t){var n,r,o=e.c,i=t.c,s=e.s,a=t.s,u=e.e,c=t.e;if(!s||!a)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=o.length)<(c=i.length)?u:c,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^n?1:-1;return u==c?0:u>c^n?1:-1}function h(e,t,n,r){if(e<t||e>n||e!==i(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return m(e.e/c)==t&&e.c[t]%2!=0}function S(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,A,b,T,E,x,k,P,I,F,R=H.prototype={constructor:H,toString:null,valueOf:null},N=new H(1),C=20,L=4,M=-7,D=21,O=-1e7,U=1e7,_=!1,B=1,q=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},Q="0123456789abcdefghijklmnopqrstuvwxyz",j=!0;function H(e,t){var n,o,s,u,d,p,f,m,y=this;if(!(y instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return y.s=e.s,void(!e.c||e.e>U?y.c=y.e=null:e.e<O?y.c=[y.e=0]:(y.e=e.e,y.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(y.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,d=e;d>=10;d/=10,u++);return void(u>U?y.c=y.e=null:(y.e=u,y.c=[e]))}m=String(e)}else{if(!r.test(m=String(e)))return b(y,m,p);y.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(u=m.indexOf("."))>-1&&(m=m.replace(".","")),(d=m.search(/e/i))>0?(u<0&&(u=d),u+=+m.slice(d+1),m=m.substring(0,d)):u<0&&(u=m.length)}else{if(h(t,2,Q.length,"Base"),10==t&&j)return W(y=new H(e),C+y.e+1,L);if(m=String(e),p="number"==typeof e){if(0*e!=0)return b(y,m,p,t);if(y.s=1/e<0?(m=m.slice(1),-1):1,H.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else y.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=Q.slice(0,t),u=d=0,f=m.length;d<f;d++)if(n.indexOf(o=m.charAt(d))<0){if("."==o){if(d>u){u=f;continue}}else if(!s&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){s=!0,d=-1,u=0;continue}return b(y,String(e),p,t)}p=!1,(u=(m=A(m,t,10,y.s)).indexOf("."))>-1?m=m.replace(".",""):u=m.length}for(d=0;48===m.charCodeAt(d);d++);for(f=m.length;48===m.charCodeAt(--f););if(m=m.slice(d,++f)){if(f-=d,p&&H.DEBUG&&f>15&&(e>l||e!==i(e)))throw Error(a+y.s*e);if((u=u-d-1)>U)y.c=y.e=null;else if(u<O)y.c=[y.e=0];else{if(y.e=u,y.c=[],d=(u+1)%c,u<0&&(d+=c),d<f){for(d&&y.c.push(+m.slice(0,d)),f-=c;d<f;)y.c.push(+m.slice(d,d+=c));d=c-(m=m.slice(d)).length}else d-=f;for(;d--;m+="0");y.c.push(+m)}}else y.c=[y.e=0]}function K(e,t,n,r){var o,i,s,a,u;if(null==n?n=L:h(n,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)u=y(e.c),u=1==r||2==r&&(s<=M||s>=D)?S(u,s):w(u,s,"0");else if(i=(e=W(new H(e),t,n)).e,a=(u=y(e.c)).length,1==r||2==r&&(t<=i||i<=M)){for(;a<t;u+="0",a++);u=S(u,i)}else if(t-=s,u=w(u,i,"0"),i+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=i-a)>0)for(i+1==a&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function V(e,t){for(var n,r=1,o=new H(e[0]);r<e.length;r++){if(!(n=new H(e[r])).s){o=n;break}t.call(o,n)&&(o=n)}return o}function z(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*c-1)>U?e.c=e.e=null:n<O?e.c=[e.e=0]:(e.e=n,e.c=t),e}function W(e,t,n,r){var s,a,l,p,f,m,y,g=e.c,h=d;if(g){e:{for(s=1,p=g[0];p>=10;p/=10,s++);if((a=t-s)<0)a+=c,l=t,y=(f=g[m=0])/h[s-l-1]%10|0;else if((m=o((a+1)/c))>=g.length){if(!r)break e;for(;g.length<=m;g.push(0));f=y=0,s=1,l=(a%=c)-c+1}else{for(f=p=g[m],s=1;p>=10;p/=10,s++);y=(l=(a%=c)-c+s)<0?0:f/h[s-l-1]%10|0}if(r=r||t<0||null!=g[m+1]||(l<0?f:f%h[s-l-1]),r=n<4?(y||r)&&(0==n||n==(e.s<0?3:2)):y>5||5==y&&(4==n||r||6==n&&(a>0?l>0?f/h[s-l]:0:g[m-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=h[(c-t%c)%c],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=m,p=1,m--):(g.length=m+1,p=h[c-a],g[m]=l>0?i(f/h[s-l]%h[l])*p:0),r)for(;;){if(0==m){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=p,p=1;l>=10;l/=10,p++);a!=p&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[m]+=p,g[m]!=u)break;g[m--]=0,p=1}for(a=g.length;0===g[--a];g.pop());}e.e>U?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function $(e){var t,n=e.e;return null===n?e.toString():(t=y(e.c),t=n<=M||n>=D?S(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(n=e[t],0,f,t),C=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(h(n[0],-f,0,t),h(n[1],0,f,t),M=n[0],D=n[1]):(h(n,-f,f,t),M=-(D=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)h(n[0],-f,-1,t),h(n[1],1,f,t),O=n[0],U=n[1];else{if(h(n,-f,f,t),!n)throw Error(s+t+" cannot be zero: "+n);O=-(U=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw _=!n,Error(s+"crypto unavailable");_=n}else _=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(h(n=e[t],0,f,t),q=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);G=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);j="0123456789"==n.slice(0,10),Q=n}}return{DECIMAL_PLACES:C,ROUNDING_MODE:L,EXPONENTIAL_AT:[M,D],RANGE:[O,U],CRYPTO:_,MODULO_MODE:B,POW_PRECISION:q,FORMAT:G,ALPHABET:Q}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,n,r=e.c,o=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&o>=-f&&o<=f&&o===i(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==i(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return V(arguments,R.lt)},H.minimum=H.min=function(){return V(arguments,R.gt)},H.random=(T=9007199254740992,E=Math.random()*T&2097151?function(){return i(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,u,l=0,p=[],m=new H(N);if(null==e?e=C:h(e,0,f),a=o(e/c),_)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(p.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw _=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(p.push(u%1e14),l+=7);l=a/7}if(!_)for(;l<a;)(u=E())<9e15&&(p[l++]=u%1e14);for(a=p[--l],e%=c,a&&e&&(u=d[c-e],p[l]=i(a/u)*u);0===p[l];p.pop(),l--);if(l<0)p=[r=0];else{for(r=-1;0===p[0];p.splice(0,1),r-=c);for(l=1,u=p[0];u>=10;u/=10,l++);l<c&&(r-=c-l)}return m.e=r,m.c=p,m}),H.sum=function(){for(var e=1,t=arguments,n=new H(t[0]);e<t.length;)n=n.plus(t[e++]);return n},A=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,s=[0],a=0,u=e.length;a<u;){for(i=s.length;i--;s[i]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>n-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/n|0,s[o]%=n)}return s.reverse()}return function(r,o,i,s,a){var u,c,l,d,p,f,m,g,h=r.indexOf("."),v=C,S=L;for(h>=0&&(d=q,q=0,r=r.replace(".",""),f=(g=new H(o)).pow(r.length-h),q=d,g.c=t(w(y(f.c),f.e,"0"),10,i,e),g.e=g.c.length),l=d=(m=t(r,o,i,a?(u=Q,e):(u=e,Q))).length;0==m[--d];m.pop());if(!m[0])return u.charAt(0);if(h<0?--l:(f.c=m,f.e=l,f.s=s,m=(f=n(f,g,v,S,i)).c,p=f.r,l=f.e),h=m[c=l+v+1],d=i/2,p=p||c<0||null!=m[c+1],p=S<4?(null!=h||p)&&(0==S||S==(f.s<0?3:2)):h>d||h==d&&(4==S||p||6==S&&1&m[c-1]||S==(f.s<0?8:7)),c<1||!m[0])r=p?w(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(m.length=c,p)for(--i;++m[--c]>i;)m[c]=0,c||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(h=0,r="";h<=d;r+=u.charAt(m[h++]));r=w(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,s,a=0,u=e.length,c=t%p,l=t/p|0;for(e=e.slice();u--;)a=((o=c*(i=e[u]%p)+(r=l*i+(s=e[u]/p|0)*c)%p*p+a)/n|0)+(r/p|0)+l*s,e[u]=o%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,s,a,l){var d,p,f,y,g,h,v,S,w,A,b,T,E,x,k,P,I,F=r.s==o.s?1:-1,R=r.c,N=o.c;if(!(R&&R[0]&&N&&N[0]))return new H(r.s&&o.s&&(R?!N||R[0]!=N[0]:N)?R&&0==R[0]||!N?0*F:F/0:NaN);for(w=(S=new H(F)).c=[],F=s+(p=r.e-o.e)+1,l||(l=u,p=m(r.e/c)-m(o.e/c),F=F/c|0),f=0;N[f]==(R[f]||0);f++);if(N[f]>(R[f]||0)&&p--,F<0)w.push(1),y=!0;else{for(x=R.length,P=N.length,f=0,F+=2,(g=i(l/(N[0]+1)))>1&&(N=e(N,g,l),R=e(R,g,l),P=N.length,x=R.length),E=P,b=(A=R.slice(0,P)).length;b<P;A[b++]=0);I=N.slice(),I=[0].concat(I),k=N[0],N[1]>=l/2&&k++;do{if(g=0,(d=t(N,A,P,b))<0){if(T=A[0],P!=b&&(T=T*l+(A[1]||0)),(g=i(T/k))>1)for(g>=l&&(g=l-1),v=(h=e(N,g,l)).length,b=A.length;1==t(h,A,v,b);)g--,n(h,P<v?I:N,v,l),v=h.length,d=1;else 0==g&&(d=g=1),v=(h=N.slice()).length;if(v<b&&(h=[0].concat(h)),n(A,h,b,l),b=A.length,-1==d)for(;t(N,A,P,b)<1;)g++,n(A,P<b?I:N,b,l),b=A.length}else 0===d&&(g++,A=[0]);w[f++]=g,A[0]?A[b++]=R[E]||0:(A=[R[E]],b=1)}while((E++<x||null!=A[0])&&F--);y=null!=A[0],w[0]||w.splice(0,1)}if(l==u){for(f=1,F=w[0];F>=10;F/=10,f++);W(S,s+(S.e=f+p*c-1)+1,a,y)}else S.e=p,S.r=+y;return S}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,P=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,F=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(e,t,n,r){var o,i=n?t:t.replace(F,"");if(I.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(x,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(k,"$1").replace(P,"0.$1")),t!=i))return new H(i,o);if(H.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},R.absoluteValue=R.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},R.comparedTo=function(e,t){return g(this,new H(e,t))},R.decimalPlaces=R.dp=function(e,t){var n,r,o,i=this;if(null!=e)return h(e,0,f),null==t?t=L:h(t,0,8),W(new H(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-m(this.e/c))*c,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},R.dividedBy=R.div=function(e,t){return n(this,new H(e,t),C,L)},R.dividedToIntegerBy=R.idiv=function(e,t){return n(this,new H(e,t),0,1)},R.exponentiatedBy=R.pow=function(e,t){var n,r,a,u,l,d,p,f,m=this;if((e=new H(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+$(e));if(null!=t&&(t=new H(t)),l=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return f=new H(Math.pow(+$(m),l?2-v(e):+$(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(r=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||l&&m.c[1]>=24e7:m.c[0]<8e13||l&&m.c[0]<=9999975e7)))return u=m.s<0&&v(e)?-0:0,m.e>-1&&(u=1/u),new H(d?1/u:u);q&&(u=o(q/c+2))}for(l?(n=new H(.5),d&&(e.s=1),p=v(e)):p=(a=Math.abs(+$(e)))%2,f=new H(N);;){if(p){if(!(f=f.times(m)).c)break;u?f.c.length>u&&(f.c.length=u):r&&(f=f.mod(t))}if(a){if(0===(a=i(a/2)))break;p=a%2}else if(W(e=e.times(n),e.e+1,1),e.e>14)p=v(e);else{if(0===(a=+$(e)))break;p=a%2}m=m.times(m),u?m.c&&m.c.length>u&&(m.c.length=u):r&&(m=m.mod(t))}return r?f:(d&&(f=N.div(f)),t?f.mod(t):u?W(f,q,L,undefined):f)},R.integerValue=function(e){var t=new H(this);return null==e?e=L:h(e,0,8),W(t,t.e+1,e)},R.isEqualTo=R.eq=function(e,t){return 0===g(this,new H(e,t))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(e,t){return g(this,new H(e,t))>0},R.isGreaterThanOrEqualTo=R.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},R.isInteger=function(){return!!this.c&&m(this.e/c)>this.c.length-2},R.isLessThan=R.lt=function(e,t){return g(this,new H(e,t))<0},R.isLessThanOrEqualTo=R.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(e,t){var n,r,o,i,s=this,a=s.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/c,d=e.e/c,p=s.c,f=e.c;if(!l||!d){if(!p||!f)return p?(e.s=-t,e):new H(f?s:NaN);if(!p[0]||!f[0])return f[0]?(e.s=-t,e):new H(p[0]?s:3==L?-0:0)}if(l=m(l),d=m(d),p=p.slice(),a=l-d){for((i=a<0)?(a=-a,o=p):(d=l,o=f),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(r=(i=(a=p.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(p[t]!=f[t]){i=p[t]<f[t];break}if(i&&(o=p,p=f,f=o,e.s=-e.s),(t=(r=f.length)-(n=p.length))>0)for(;t--;p[n++]=0);for(t=u-1;r>a;){if(p[--r]<f[r]){for(n=r;n&&!p[--n];p[n]=t);--p[n],p[r]+=u}p[r]-=f[r]}for(;0==p[0];p.splice(0,1),--d);return p[0]?z(e,p,d):(e.s=3==L?-1:1,e.c=[e.e=0],e)},R.modulo=R.mod=function(e,t){var r,o,i=this;return e=new H(e,t),!i.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||i.c&&!i.c[0]?new H(i):(9==B?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,B),(e=i.minus(r.times(e))).c[0]||1!=B||(e.s=i.s),e)},R.multipliedBy=R.times=function(e,t){var n,r,o,i,s,a,l,d,f,y,g,h,v,S,w,A=this,b=A.c,T=(e=new H(e,t)).c;if(!(b&&T&&b[0]&&T[0]))return!A.s||!e.s||b&&!b[0]&&!T||T&&!T[0]&&!b?e.c=e.e=e.s=null:(e.s*=A.s,b&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(A.e/c)+m(e.e/c),e.s*=A.s,(l=b.length)<(y=T.length)&&(v=b,b=T,T=v,o=l,l=y,y=o),o=l+y,v=[];o--;v.push(0));for(S=u,w=p,o=y;--o>=0;){for(n=0,g=T[o]%w,h=T[o]/w|0,i=o+(s=l);i>o;)n=((d=g*(d=b[--s]%w)+(a=h*d+(f=b[s]/w|0)*g)%w*w+v[i]+n)/S|0)+(a/w|0)+h*f,v[i--]=d%S;v[i]=n}return n?++r:v.splice(0,1),z(e,v,r)},R.negated=function(){var e=new H(this);return e.s=-e.s||null,e},R.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new H(e,t)).s,!o||!t)return new H(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/c,s=e.e/c,a=r.c,l=e.c;if(!i||!s){if(!a||!l)return new H(o/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?r:0*o)}if(i=m(i),s=m(s),a=a.slice(),o=i-s){for(o>0?(s=i,n=l):(o=-o,n=a),n.reverse();o--;n.push(0));n.reverse()}for((o=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=o),o=0;t;)o=(a[--t]=a[t]+l[t]+o)/u|0,a[t]=u===a[t]?0:a[t]%u;return o&&(a=[o].concat(a),++s),z(e,a,s)},R.precision=R.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return h(e,1,f),null==t?t=L:h(t,0,8),W(new H(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*c+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},R.shiftedBy=function(e){return h(e,-l,l),this.times("1e"+e)},R.squareRoot=R.sqrt=function(){var e,t,r,o,i,s=this,a=s.c,u=s.s,c=s.e,l=C+4,d=new H("0.5");if(1!==u||!a||!a[0])return new H(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+$(s)))||u==1/0?(((t=y(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),r=new H(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new H(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(i=r,r=d.times(i.plus(n(s,i,l,1))),y(i.c).slice(0,u)===(t=y(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+C+2,1),e=!r.times(r).eq(s));break}if(!o&&(W(i,i.e+C+2,0),i.times(i).eq(s))){r=i;break}l+=4,u+=4,o=1}return W(r,r.e+C+1,L,e)},R.toExponential=function(e,t){return null!=e&&(h(e,0,f),e++),K(this,e,t,1)},R.toFixed=function(e,t){return null!=e&&(h(e,0,f),e=e+this.e+1),K(this,e,t)},R.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=G;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",d=a[0],p=a[1],f=o.s<0,m=f?d.slice(1):d,y=m.length;if(c&&(i=u,u=c,c=i,y-=i),u>0&&y>0){for(i=y%u||u,d=m.substr(0,i);i<y;i+=u)d+=l+m.substr(i,u);c>0&&(d+=l+m.slice(i)),f&&(d="-"+d)}r=p?d+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?p.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):p):d}return(n.prefix||"")+r+(n.suffix||"")},R.toFraction=function(e){var t,r,o,i,a,u,l,p,f,m,g,h,v=this,S=v.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(N)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+$(l));if(!S)return new H(v);for(t=new H(N),f=r=new H(N),o=p=new H(N),h=y(S),a=t.e=h.length-v.e-1,t.c[0]=d[(u=a%c)<0?c+u:u],e=!e||l.comparedTo(t)>0?a>0?t:f:l,u=U,U=1/0,l=new H(h),p.c[0]=0;m=n(l,t,0,1),1!=(i=r.plus(m.times(o))).comparedTo(e);)r=o,o=i,f=p.plus(m.times(i=f)),p=i,t=l.minus(m.times(i=t)),l=i;return i=n(e.minus(r),o,0,1),p=p.plus(i.times(f)),r=r.plus(i.times(o)),p.s=f.s=v.s,g=n(f,o,a*=2,L).minus(v).abs().comparedTo(n(p,r,a,L).minus(v).abs())<1?[f,o]:[p,r],U=u,g},R.toNumber=function(){return+$(this)},R.toPrecision=function(e,t){return null!=e&&h(e,1,f),K(this,e,t,2)},R.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=o<=M||o>=D?S(y(n.c),o):w(y(n.c),o,"0"):10===e&&j?t=w(y((n=W(new H(n),C+o+1,L)).c),n.e,"0"):(h(e,2,Q.length,"Base"),t=A(w(y(n.c),o,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},R.valueOf=R.toJSON=function(){return $(this)},R._isBigNumber=!0,null!=t&&H.set(t),H}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):e.exports?e.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(e.exports)})),s.register("kW76A",(function(t,n){e(t.exports,"invalidateAllStakeAccountData",(function(){return o}));var r=s("bZPmb");const o=e=>()=>{e.invalidateQueries({predicate:e=>e.queryKey[0]===r.STAKE_ACCOUNTS_SCOPE||e.queryKey[0]===r.STAKE_ACTIVATION_DATA_SCOPE})}})),s.register("bZPmb",(function(t,n){e(t.exports,"STAKE_ACCOUNTS_SCOPE",(function(){return r})),e(t.exports,"STAKE_ACTIVATION_DATA_SCOPE",(function(){return o})),e(t.exports,"stakingQueryKeys",(function(){return i}));const r="stakeAccounts",o="stakeActivationData",i={signatureStatus:e=>["signatureStatus",{txSignature:e}],stakeAccounts:e=>[r,e],stakeAccountMinBalance:()=>["stakeAccountMinBalance"],stakeActivationData:e=>[o,{publicKey:e}],stakeRewardsHistory:e=>["stakeRewardsHistory",{publicKey:e}],stakeApy:()=>["stakeApy"],recommendedValidators:()=>["recommendedValidators"],validatorInfo:()=>["validatorInfo"],voteAccounts:()=>["voteAccounts"]}})),s.register("7xt7C",(function(t,n){e(t.exports,"recommendedValidatorSorter",(function(){return r}));const r=e=>(t,n)=>{const r=e.indexOf(t.voteAccountPubkey),o=e.indexOf(n.voteAccountPubkey);return(r>-1?r:1/0)-(o>-1?o:1/0)}})),s.register("kkkNB",(function(t,n){e(t.exports,"voteAccountSorter",(function(){return o}));const r=(e,t)=>e+t[1],o=(e,t)=>{if(e.commission>50||t.commission>50)return e.commission-t.commission;const n=e.epochCredits.reduce(r,0)*(1-e.commission/100);return t.epochCredits.reduce(r,0)*(1-t.commission/100)-n}})),s.register("5spRy",(function(t,n){e(t.exports,"delegateStake",(function(){return f}),(function(e){return f=e})),e(t.exports,"useDelegateStake",(function(){return m}),(function(e){return m=e}));var r=s("lMzyG"),o=s("3fvLJ"),i=s("4yY1D"),a=s("4raQz"),u=s("fG04A"),c=s("5q8rs"),l=s("24sH7");s("jqEmo");var d=s("kW76A"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function f({stakePubkey:e,authorizedPubkey:t,votePubkey:n}){return o.StakeProgram.delegate({stakePubkey:e,authorizedPubkey:t,votePubkey:n})}const m=(e,t,n,s)=>{const{t:m}=(0,r.useTranslation)(),{mutateAsync:y}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i,votePubkey:u})=>p(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:c,address:d}=n,p=f({stakePubkey:r,authorizedPubkey:i,votePubkey:u}),g=yield s.addPriorityFee(p,{connection:t}),h={ownerAddress:null!=d?d:"",chainID:c,data:{signature:""},type:a.PendingTransactionType.DelegateStake,display:{summary:{topLeft:{label:m("transactionsPendingDelegatingStake")}}}},v=yield y({accountIdentifier:e,feePayer:new(0,o.PublicKey)(d),transaction:g,pendingTransactionInput:h});return{chainID:c,signature:null!=v?v:""}})),onSuccess:e=>p(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("1Dvov",(function(t,n){e(t.exports,"useDeactivateStake",(function(){return f}),(function(e){return f=e}));var r=s("lMzyG"),o=s("3fvLJ"),i=s("4yY1D"),a=s("4raQz"),u=s("fG04A"),c=s("5q8rs"),l=s("24sH7");s("jqEmo");var d=s("kW76A"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n,s)=>{const{t:f}=(0,r.useTranslation)(),{mutateAsync:m}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i})=>p(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:u,address:c}=n,d=function({stakePubkey:e,authorizedPubkey:t,transaction:n=new(0,o.Transaction)}){return n.add(o.StakeProgram.deactivate({stakePubkey:e,authorizedPubkey:t})),n}({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i}),p=yield s.addPriorityFee(d,{connection:t}),y={ownerAddress:null!=c?c:"",chainID:u,data:{signature:""},type:a.PendingTransactionType.DeactivateStake,display:{summary:{topLeft:{label:f("transactionsPendingDeactivatingStake")}}}},g=yield m({accountIdentifier:e,feePayer:new(0,o.PublicKey)(c),transaction:p,pendingTransactionInput:y});return{chainID:u,signature:null!=g?g:""}})),onSuccess:e=>p(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("k6uFh",(function(t,n){e(t.exports,"useRecommendedValidators",(function(){return l}),(function(e){return l=e}));var r=s("4yY1D"),o=s("lNRH9"),i=s("57CUY"),a=s("bZPmb"),u=s("dI6X1"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=e=>{const t=a.stakingQueryKeys.recommendedValidators();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,i.getRecommendedValidators)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),s.register("57CUY",(function(n,r){e(n.exports,"getRecommendedValidators",(function(){return c}),(function(e){return c=e}));var o=s("6656F"),i=s("7rWiL"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch recommended staking validators.");function c(e){return a(this,void 0,void 0,(function*(){try{const n=yield t(o)(`${e}/staking/v1/recommended`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw u;const r=yield n.json();return i.RecommendedValidators.parse(r).validators}catch(e){throw u}}))}})),s.register("7rWiL",(function(t,n){e(t.exports,"StakeApy",(function(){return a})),e(t.exports,"RecommendedValidators",(function(){return u})),e(t.exports,"StakingRewardsHistory",(function(){return l}));var r,o,i=s("7pPsM");(o=r||(r={})).Initialized="initialized",o.Delegated="delegated";const a=i.z.object({apy:i.z.number()}),u=i.z.object({validators:i.z.array(i.z.string())}),c=i.z.object({epoch:i.z.number(),effectiveSlot:i.z.number(),amount:i.z.number(),postBalance:i.z.number(),percentChange:i.z.number(),apr:i.z.number(),timestamp:i.z.number()}),l=i.z.object({items:i.z.array(c)})})),s.register("dI6X1",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return a}));var r=s("4y59b");var o,i,a,u;(i=o||(o={}))[i.Always=1/0]="Always",i[i.Short=(0,r.toMilliseconds)({days:1})]="Short",i[i.Medium=(0,r.toMilliseconds)({days:3})]="Medium",i[i.Long=(0,r.toMilliseconds)({days:7})]="Long",(u=a||(a={}))[u.Immediate=0]="Immediate",u[u.Short=(0,r.toMilliseconds)({minutes:1})]="Short",u[u.Medium=(0,r.toMilliseconds)({minutes:2.5})]="Medium",u[u.Long=(0,r.toMilliseconds)({minutes:5})]="Long",u[u.Never=1/0]="Never"})),s.register("chsS5",(function(t,n){e(t.exports,"useSignatureStatus",(function(){return c}),(function(e){return c=e}));var r=s("lNRH9"),o=s("24sH7"),i=s("bZPmb"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t)=>a(void 0,void 0,void 0,(function*(){return yield e.getSignatureStatus(t,{searchTransactionHistory:!0})}));function c(e,t,n,s){var c;const l=i.stakingQueryKeys.signatureStatus(s),d=e.getQueryData(l),p=null===(c=null==d?void 0:d.value)||void 0===c?void 0:c.confirmationStatus,f=!!s&&"finalized"!==p;return(0,r.useQuery)({queryKey:l,queryFn:()=>a(this,void 0,void 0,(function*(){if(!s)throw o.MissingConfirmationSignatureError;return yield u(t,s)})),enabled:f,refetchInterval:n})}})),s.register("gt5rg",(function(t,n){e(t.exports,"useStakeAccountMinBalance",(function(){return c}),(function(e){return c=e}));var r=s("3fvLJ"),o=s("lNRH9"),i=s("bZPmb"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=e=>()=>a(void 0,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(r.StakeProgram.space)}));function c(e){const t=i.stakingQueryKeys.stakeAccountMinBalance(),n=u(e);return(0,o.useQuery)({queryKey:t,queryFn:n,placeholderData:0})}})),s.register("i6Kga",(function(t,n){e(t.exports,"useStakeAccounts",(function(){return l}),(function(e){return l=e}));var r=s("3fvLJ"),o=s("4yY1D"),i=s("lNRH9"),a=s("bZPmb"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>u(void 0,void 0,void 0,(function*(){const n=[];t.ownerPublicKey&&n.push({memcmp:{offset:44,bytes:t.ownerPublicKey}}),t.voteAccountPublicKey&&n.push({memcmp:{offset:124,bytes:t.voteAccountPublicKey}});const i=yield e.getParsedProgramAccounts(r.StakeProgram.programId,{filters:n});let s=[];if(t.fetchInflationRewards)try{s=yield((e,t,n,r="confirmed")=>u(void 0,void 0,void 0,(function*(){return yield e.getInflationReward(t,n,r)})))(e,i.map((({pubkey:e})=>e)))}catch(e){const t=e;o.telemetry.captureError(t,o.FeatureTag.Staking)}return i.map(((e,t)=>{var n;return Object.assign({pubkey:e.pubkey.toString(),lamports:e.account.lamports,inflationReward:null===(n=s[t])||void 0===n?void 0:n.amount},e.account.data.parsed)}))}));function l(e,t){const n=a.stakingQueryKeys.stakeAccounts(t);return(0,i.useQuery)({queryKey:n,queryFn:()=>c(e,{ownerPublicKey:t,fetchInflationRewards:!0}),placeholderData:[]})}})),s.register("fHWFb",(function(t,n){e(t.exports,"useStakeActivationData",(function(){return l}),(function(e){return l=e}));var r=s("3fvLJ"),o=s("lNRH9"),i=s("24sH7"),a=s("bZPmb"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>e.getStakeActivation(new(0,r.PublicKey)(t));function l(e,t){const n=a.stakingQueryKeys.stakeActivationData(t),r=!!t;return(0,o.useQuery)({queryKey:n,queryFn:()=>u(this,void 0,void 0,(function*(){if(!t)throw i.MissingPublicKeyError;return yield c(e,t)})),enabled:r})}})),s.register("lxI2A",(function(t,n){e(t.exports,"useStakeApy",(function(){return l}),(function(e){return l=e}));var r=s("4yY1D"),o=s("lNRH9"),i=s("2efEo"),a=s("bZPmb"),u=s("dI6X1"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=e=>{const t=a.stakingQueryKeys.stakeApy();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:u.CacheTime.Short,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,i.getStakingApy)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),s.register("2efEo",(function(n,r){e(n.exports,"getStakingApy",(function(){return c}),(function(e){return c=e}));var o=s("6656F"),i=s("7rWiL"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch staking APY");function c(e){return a(this,void 0,void 0,(function*(){try{const n=yield t(o)(`${e}/staking/v1/apy`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw u;const r=yield n.json();return i.StakeApy.parse(r).apy}catch(e){throw u}}))}})),s.register("aCG5w",(function(t,n){e(t.exports,"useStakeRewardsHistory",(function(){return l}),(function(e){return l=e}));var r=s("4yY1D"),o=s("tv9Be"),i=s("7yHq5"),a=s("bZPmb"),u=s("dI6X1"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function l(e,t,n,s=2){const l=a.stakingQueryKeys.stakeRewardsHistory(t);return(0,o.useInfiniteQuery)({retry:s,enabled:!!t&&!!n,queryKey:l,cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn:({pageParam:r})=>c(this,void 0,void 0,(function*(){const o=r?{address:t,chainId:n,epoch:r}:{address:t,chainId:n};return(0,i.getStakingRewardsHistory)(e(),o)})),getNextPageParam:({items:e})=>e.length?e[e.length-1].epoch:null,onError:e=>r.telemetry.captureError(e,r.FeatureTag.Staking)})}})),s.register("7yHq5",(function(n,r){e(n.exports,"getStakingRewardsHistory",(function(){return c}),(function(e){return c=e}));var o=s("6656F"),i=s("7rWiL"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch staking rewards history");function c(e,n){return a(this,void 0,void 0,(function*(){let r;try{r=yield t(o)(`${e}/staking/v1/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){throw u}if(!r.ok)throw u;const s=yield r.json(),a=i.StakingRewardsHistory.safeParse(s);if(a.success)return a.data;throw u}))}})),s.register("jRSxq",(function(t,n){e(t.exports,"useValidatorInfo",(function(){return c}),(function(e){return c=e}));var r=s("lNRH9"),o=s("islf0"),i=s("bZPmb"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=e=>()=>a(void 0,void 0,void 0,(function*(){return(yield e.getParsedProgramAccounts(o.CONFIG_PROGRAM_ID)).reduce(((e,t)=>{var n;if("validatorInfo"!==(null===(n=t.account.data.parsed)||void 0===n?void 0:n.type))return e;const r=t.pubkey.toString(),o=t.account.data.parsed.info.keys,[,i]=o;if(!i.signer)return e;const s=i.pubkey,a=t.account.data.parsed.info.configData;return e.push({identityPubkey:s,infoPubkey:r,info:a}),e}),[])}));function c(e){const t=i.stakingQueryKeys.validatorInfo(),n=u(e);return(0,r.useQuery)({queryKey:t,queryFn:n,placeholderData:[]})}})),s.register("islf0",(function(t,n){e(t.exports,"CONFIG_PROGRAM_ID",(function(){return r}));const r=new(0,s("3fvLJ").PublicKey)("Config1111111111111111111111111111111111111")})),s.register("7hUpm",(function(t,n){e(t.exports,"useValidators",(function(){return c}),(function(e){return c=e}));var r=s("lDSNw"),o=s("kkkNB"),i=s("jRSxq"),a=s("dBN2w"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function c(e){const{isFetched:t,isFetching:n,isLoading:s,isSuccess:c,isError:l,dataUpdatedAt:d,errorUpdatedAt:p,error:f,refetch:m,data:y}=(0,a.useVoteAccounts)(e),g=Math.max(d,p),{isFetched:h,isFetching:v,isLoading:S,isSuccess:w,isError:A,dataUpdatedAt:b,errorUpdatedAt:T,error:E,refetch:x,data:k}=(0,i.useValidatorInfo)(e),P=Math.max(b,T),I=Math.max(g,P),F=t&&h,R=n||v,N=c||w,C=l||A,L=f||E,M=s||S,D=(0,r.useCallback)((()=>u(this,void 0,void 0,(function*(){Promise.all([m(),x()])}))),[x,m]);return{results:(0,r.useMemo)((()=>{if(!y)return[];if(!k)return[];y.sort(o.voteAccountSorter);const e=new Map(y.map((e=>[e.identityPubkey,e]))),t=new Map(k.map((e=>[e.identityPubkey,e]))),n=[];for(const[r,o]of e){const e=t.get(r);n.push(Object.assign(Object.assign({},o),e))}return n}),[k,y]),dataUpdatedAt:I,error:L,isSuccess:N,isError:C,isFetched:F,isFetching:R,isLoading:M,refetch:D}}})),s.register("dBN2w",(function(t,n){e(t.exports,"useVoteAccounts",(function(){return u}),(function(e){return u=e}));var r=s("lNRH9"),o=s("bZPmb"),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const a=e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getVoteAccounts();return[...t.current,...t.delinquent].map((e=>({identityPubkey:e.nodePubkey,voteAccountPubkey:e.votePubkey,commission:e.commission,lastVote:e.lastVote,epochCredits:e.epochCredits,activatedStake:e.activatedStake}))).filter((e=>e.commission<99))}));function u(e){const t=o.stakingQueryKeys.voteAccounts();return(0,r.useQuery)({queryKey:t,queryFn:()=>i(this,void 0,void 0,(function*(){return a(e)})),placeholderData:[]})}})),s.register("f2N2q",(function(t,n){e(t.exports,"useWithdrawStake",(function(){return f}),(function(e){return f=e}));var r=s("lMzyG"),o=s("3fvLJ"),i=s("4yY1D"),a=s("4raQz"),u=s("fG04A"),c=s("5q8rs"),l=s("24sH7");s("jqEmo");var d=s("kW76A"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n,s)=>{const{t:f}=(0,r.useTranslation)(),{mutateAsync:m}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i,amount:u})=>p(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:c,address:d}=n,p=function({stakePubkey:e,authorizedPubkey:t,amount:n,transaction:r=new(0,o.Transaction)}){return r.add(o.StakeProgram.withdraw({stakePubkey:e,authorizedPubkey:t,toPubkey:t,lamports:n})),r}({stakePubkey:r,authorizedPubkey:i,amount:u}),y=yield s.addPriorityFee(p,{connection:t}),g={ownerAddress:null!=d?d:"",chainID:c,data:{signature:""},type:a.PendingTransactionType.WithdrawStake,display:{summary:{topLeft:{label:f("transactionsPendingWithdrawingStake")}}}},h=yield m({accountIdentifier:e,feePayer:new(0,o.PublicKey)(d),transaction:y,pendingTransactionInput:g});return{chainID:c,signature:null!=h?h:""}})),onSuccess:e=>p(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("a0t1u",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return s("1RdIz").useFeeBreakdown})),e(t.exports,"useFetchSwapBuyAssetsList",(function(){return s("g7U7z").useFetchSwapBuyAssetsList})),e(t.exports,"useInitialAssets",(function(){return s("lGEUK").useInitialAssets})),e(t.exports,"useResetSwapperOnMount",(function(){return s("eNDuG").useResetSwapperOnMount})),e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return s("eeS7y").useSubscribeSwapQuoteToQueries})),e(t.exports,"useSwapBuyAssetProps",(function(){return s("aqhqo").useSwapBuyAssetProps})),e(t.exports,"useSwapCardProps",(function(){return s("9sKR9").useSwapCardProps})),e(t.exports,"useSwapConfirmationProps",(function(){return s("jhEDs").useSwapConfirmationProps})),e(t.exports,"useSwapProvidersProps",(function(){return s("4UoVr").useSwapProvidersProps})),e(t.exports,"useSwapReviewButtonProps",(function(){return s("jlxJl").useSwapReviewButtonProps})),e(t.exports,"useSwapReviewProps",(function(){return s("ezrMm").useSwapReviewProps})),e(t.exports,"useSwapSellAssetProps",(function(){return s("capuI").useSwapSellAssetProps})),e(t.exports,"useSwapSellAssetsList",(function(){return s("8OL3L").useSwapSellAssetsList})),e(t.exports,"useSwapSetBuyAsset",(function(){return s("4GAXG").useSwapSetBuyAsset})),e(t.exports,"useSwapSetSellAsset",(function(){return s("606g5").useSwapSetSellAsset})),e(t.exports,"createSwapperHooks",(function(){return s("4odJk").createSwapperHooks})),e(t.exports,"useMultichainSolanaOnlyFetchSwapBuyAssetsList",(function(){return s("d4QqK").useFetchSwapBuyAssetsList})),e(t.exports,"useMultichainSolanaOnlyInitialAssets",(function(){return s("69SK9").useInitialAssets})),e(t.exports,"useMultichainSolanaOnlySubscribeSwapQuoteToQueries",(function(){return s("1udAP").useSubscribeSwapQuoteToQueries})),e(t.exports,"useMultichainSolanaOnlySwapBuyAssetProps",(function(){return s("aAf0F").useSwapBuyAssetProps})),e(t.exports,"useMultichainSolanaOnlySwapCardProps",(function(){return s("9DddH").useSwapCardProps})),e(t.exports,"useMultichainSolanaOnlySwapConfirmationProps",(function(){return s("8dY63").useSwapConfirmationProps})),e(t.exports,"useMultichainSolanaOnlySwapReviewButtonProps",(function(){return s("l8D4e").useSwapReviewButtonProps})),e(t.exports,"useMultichainSolanaOnlySwapReviewProps",(function(){return s("aiFwk").useSwapReviewProps})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetProps",(function(){return s("hrBet").useSwapSellAssetProps})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetsList",(function(){return s("cTNXw").useSwapSellAssetsList})),e(t.exports,"useMultichainSolanaOnlySwapSetBuyAsset",(function(){return s("kgACH").useSwapSetBuyAsset})),e(t.exports,"useMultichainSolanaOnlySwapSetSellAsset",(function(){return s("aI6qU").useSwapSetSellAsset})),e(t.exports,"FUSE_SWAP_ASSET_SEARCH_CONFIG",(function(){return s("54Hrp").FUSE_SWAP_ASSET_SEARCH_CONFIG})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return s("54Hrp").PHANTOM_SUPPORT_SWAP_FAILED_URL})),e(t.exports,"SWAP_ASSET_SELECT_TOKEN_STANDARDS",(function(){return s("54Hrp").SWAP_ASSET_SELECT_TOKEN_STANDARDS})),e(t.exports,"createSwapperMultichainHooks",(function(){return s("7Iqpf").createSwapperMultichainHooks})),e(t.exports,"useSwapBuyAssetList",(function(){return s("6vswX").useSwapBuyAssetList})),e(t.exports,"useSwapSellAssetList",(function(){return s("dDIAY").useSwapSellAssetList})),e(t.exports,"useMultichainSubscribeSwapQuoteToQueries",(function(){return s("dUG8V").useSubscribeSwapQuoteToQueries})),s("g8eBL"),s("5XgWR"),s("jG6nq"),s("5ccQB"),s("54Hrp"),s("uleZn");s("7Iqpf"),s("6vswX"),s("dDIAY"),s("dUG8V")})),s.register("g8eBL",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return s("1RdIz").useFeeBreakdown})),e(t.exports,"useFetchSwapBuyAssetsList",(function(){return s("g7U7z").useFetchSwapBuyAssetsList})),e(t.exports,"useInitialAssets",(function(){return s("lGEUK").useInitialAssets})),e(t.exports,"useResetSwapperOnMount",(function(){return s("eNDuG").useResetSwapperOnMount})),e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return s("eeS7y").useSubscribeSwapQuoteToQueries})),e(t.exports,"useSwapBuyAssetProps",(function(){return s("aqhqo").useSwapBuyAssetProps})),e(t.exports,"useSwapCardProps",(function(){return s("9sKR9").useSwapCardProps})),e(t.exports,"useSwapConfirmationProps",(function(){return s("jhEDs").useSwapConfirmationProps})),e(t.exports,"useSwapProvidersProps",(function(){return s("4UoVr").useSwapProvidersProps})),e(t.exports,"useSwapReviewButtonProps",(function(){return s("jlxJl").useSwapReviewButtonProps})),e(t.exports,"useSwapReviewProps",(function(){return s("ezrMm").useSwapReviewProps})),e(t.exports,"useSwapSellAssetProps",(function(){return s("capuI").useSwapSellAssetProps})),e(t.exports,"useSwapSellAssetsList",(function(){return s("8OL3L").useSwapSellAssetsList})),e(t.exports,"useSwapSetBuyAsset",(function(){return s("4GAXG").useSwapSetBuyAsset})),e(t.exports,"useSwapSetSellAsset",(function(){return s("606g5").useSwapSetSellAsset})),e(t.exports,"useTotalFees",(function(){return s("d0g1y").useTotalFees}));s("9icBb"),s("i0tUX"),s("1RdIz"),s("g7U7z"),s("bpPar"),s("U54VQ"),s("lGEUK"),s("7m6uo"),s("kGQ4c"),s("8VnfO"),s("lmbzb"),s("eNDuG"),s("eeS7y"),s("aqhqo"),s("9sKR9"),s("jhEDs"),s("iTFQj"),s("4UoVr"),s("jlxJl"),s("ezrMm"),s("capuI"),s("8OL3L"),s("4GAXG"),s("606g5"),s("d0g1y")})),s.register("9icBb",(function(t,n){e(t.exports,"useAnalyticsPayload",(function(){return a}));var r=s("lDSNw"),o=s("eoULV"),i=s("gmVmN");function a({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:o,buyAmount:s,sellAmount:a,phantomFee:d,priceImpact:p,provider:f}){return(0,r.useMemo)((()=>{if(t&&o){const r=c(s,t.decimals,e),m=c(a,o.decimals,n),y=l(r,m),g=u(d,t.decimals,e);return{data:{marketName:`${o.symbol}/${t.symbol}`,tradeDirection:"sell",swapSource:f,priceImpact:p,fromAssetSymbol:o.symbol,fromAssetAddress:o.mint,fromAssetAmount:(0,i.amountToUiAmount)(a,o.decimals),fromAssetUsdPrice:n,fromAssetUsdVolume:m,toAssetSymbol:t.symbol,toAssetAddress:t.mint,toAssetAmount:(0,i.amountToUiAmount)(s,t.decimals),toAssetUsdPrice:e,toAssetUsdVolume:r,totalUsdVolume:y,feeUsd:g}}}return{}}),[e,n,s,t,d,p,f,a,o])}const u=(e,t,n)=>n&&e>0?e/Math.pow(10,t)*n:0,c=(e,t,n)=>{if(n){const r=(0,i.amountToUiAmount)(e,t);return new(0,o.BigNumber)(r).times(new(0,o.BigNumber)(n)).toNumber()}},l=(e,t)=>t&&e?t>e?t:e:null!=t?t:e})),s.register("i0tUX",(function(t,n){e(t.exports,"useExchangeRate",(function(){return i}));var r=s("lDSNw"),o=s("gmVmN");function i(e,t,n){const[i,s]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>s((e=>!e))),[]);return(0,r.useMemo)((()=>{let r=!1,s="";if(t&&n){const{buyToken:a,sellToken:u}=t,{buyAmount:c,sellAmount:l}=n,d=(0,o.amountToUiAmount)(c,a.decimals)/(0,o.amountToUiAmount)(l,u.decimals),p=`1 ${u.symbol} â‰ˆ ${(0,o.formatTokenAmount)(d)} ${a.symbol}`,f=`1 ${a.symbol} â‰ˆ ${(0,o.formatTokenAmount)(1/d)} ${u.symbol}`;r=Number(n.buyAmount)===e,s=i?f:p}return{isBestRate:r,rate:s,flip:a}}),[e,n,i,t,a])}})),s.register("1RdIz",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return c}));var r=s("lMzyG"),o=s("lDSNw"),i=s("gmVmN"),a=s("fR691"),u=s("lmbzb");function c(e,t){const{t:n}=(0,r.useTranslation)(),{currentQuote:s}=(0,u.useQuote)();return(0,o.useMemo)((()=>{if(s&&t){const{phantomFee:r,serumAccountDeposits:o,tokenAccountDeposits:u}=s.fees;return{networkFee:{label:n("swapQuoteSolanaNetwork"),value:e},tokenAccountFee:{label:n("swapQuoteOneTimeTokenAccount"),value:(0,a.formatFee)(u.amount,t)},serumAccountFee:{label:n("swapQuoteOneTimeSerumAccount"),value:(0,a.formatFee)(o.amount,t)},phantomFeePercent:{label:r.pct?n("swapQuoteFeeDisclaimer",{feePercentage:(0,i.formatPercentage)(r.pct)}):"",value:r.pct?`${r.pct}`:""}}}}),[s,e,t,n])}})),s.register("fR691",(function(t,n){e(t.exports,"formatFee",(function(){return o}));var r=s("gmVmN");function o(e,t){if(e<=0)return"";const n=(0,r.lamportsToSolana)(e);return(null==t?void 0:t.usd)?`${(0,r.formatDollarAmountExtended)(t.usd*n)}`:`${(0,r.formatTokenAmount)(n)} SOL`}})),s.register("lmbzb",(function(t,n){e(t.exports,"useQuote",(function(){return i}));var r=s("lDSNw"),o=s("jG6nq");function i(){var e,t;const n=(0,o.useSwapperStore)((e=>e.quote)),i=(0,o.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,o.useSwapperStore)((e=>e.selectedProviderIndex)),a=(0,r.useMemo)((()=>n?n.quotes:[]),[n]),u=a[s];return{bestBuyAmount:parseInt(null!==(t=null===(e=a[0])||void 0===e?void 0:e.buyAmount)&&void 0!==t?t:0),currentQuote:u,hasNoRoutes:i,quote:n,quotes:a,selectedProviderIndex:s}}})),s.register("jG6nq",(function(n,r){e(n.exports,"useSwapperStore",(function(){return a}));var o=s("9xrNA");const i={buyAsset:void 0,buyFungible:void 0,buyUsdValue:void 0,sellAsset:void 0,sellFungible:void 0,sellUsdValue:void 0,sellAmount:"",uiSellAmount:"",quote:void 0,multichainQuoteResponse:void 0,selectedProviderIndex:0,hasNoRoutes:!1,isFetchingQuote:!1},a=t(o)((e=>Object.assign(Object.assign({},i),{resetQuote:()=>e({quote:i.quote,multichainQuoteResponse:i.multichainQuoteResponse}),resetSwapper:()=>e({quote:i.quote,multichainQuoteResponse:i.multichainQuoteResponse,sellAmount:"",uiSellAmount:""}),setBuyAsset:t=>e({buyAsset:t}),setBuyFungible:t=>e({buyFungible:t}),setBuyUsdValue:t=>e({buyUsdValue:t}),setHasNoRoutes:t=>e({hasNoRoutes:t}),setIsFetchingQuote:t=>e({isFetchingQuote:t}),setQuote:t=>e({quote:t,hasNoRoutes:!1}),setMultichainQuoteResponse:t=>e({multichainQuoteResponse:t,hasNoRoutes:!1}),setSelectedProviderIndex:t=>e({selectedProviderIndex:t}),setSellAmount:t=>e({sellAmount:t}),setSellUsdValue:t=>e({sellUsdValue:t}),setSellAsset:t=>e({sellAsset:t}),setSellFungible:t=>e({sellFungible:t}),setUiSellAmount:t=>e({uiSellAmount:t})})))})),s.register("g7U7z",(function(t,n){e(t.exports,"useFetchSwapBuyAssetsList",(function(){return p}),(function(e){return p=e}));var r=s("lNRH9"),o=s("NQvFB"),i=s("9Khz2"),a=s("54Hrp"),u=s("jG6nq");s("5ccQB");var c=s("6zcIO"),l=s("cGG29"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function p(e,t){const{owner:n,cluster:s,customMetaMap:p}=t,{data:f}=(0,i.useMintToAssetMap)(n,s,p),m=(0,u.useSwapperStore)((e=>e.sellAsset)),y=m&&"solana"!==m.type?m.data.mintPubKey:o.WRAPPED_SOLANA.address,g=!!y&&!!e,h=["fetch-swap-to-assets-list",y];return(0,r.useQuery)({enabled:g,queryKey:h,queryFn:function(){return d(this,void 0,void 0,(function*(){const e=yield(0,c.getSwapPairsAsync)([y]),t=[],r=e[y],{length:s}=r;for(let e=0;e<s;e++){const i=r[e],s=i.mint===o.WRAPPED_SOLANA.address&&a.SHOULD_UNWRAP_WRAPPED_SOL?"":i.mint;let u;const c=f.get(s),d=void 0!==c&&"spl-token"===c.type&&""!==c.data.pubkey,p=void 0!==c&&"solana"===c.type;u=d||p?c:(0,l.swapPairsAssetInfoToAsset)(i,n),u&&t.push(u)}return e?t.sort(i.assetSorter):[]}))}})}})),s.register("9Khz2",(function(t,n){e(t.exports,"SOLANA_STATIC_VALUES",(function(){return R}),(function(e){return R=e})),e(t.exports,"useLamportBalance",(function(){return N}),(function(e){return N=e})),e(t.exports,"useSPLTokenAccountsByStandard",(function(){return D}),(function(e){return D=e})),e(t.exports,"useSPLTokenPrices",(function(){return _}),(function(e){return _=e})),e(t.exports,"useFetchSPLTokenJSONMetadata",(function(){return G}),(function(e){return G=e})),e(t.exports,"parseMediaFromImage",(function(){return J}),(function(e){return J=e})),e(t.exports,"useSelectBestMedia",(function(){return ee}),(function(e){return ee=e})),e(t.exports,"useSelectCollectionMedia",(function(){return te}),(function(e){return te=e})),e(t.exports,"useBestCollectionName",(function(){return ne}),(function(e){return ne=e})),e(t.exports,"getImageThroughProxy",(function(){return oe}),(function(e){return oe=e})),e(t.exports,"getScaledImageURIExt",(function(){return ie}),(function(e){return ie=e})),e(t.exports,"assetKeyExtractor",(function(){return se}),(function(e){return se=e})),e(t.exports,"assetSorter",(function(){return ue}),(function(e){return ue=e})),e(t.exports,"getMintPubkeyFromAsset",(function(){return ce}),(function(e){return ce=e})),e(t.exports,"getTotalAssetsBalance",(function(){return le}),(function(e){return le=e})),e(t.exports,"useSPLAssets",(function(){return de}),(function(e){return de=e})),e(t.exports,"useAssetsAndSPLTokenList",(function(){return fe}),(function(e){return fe=e})),e(t.exports,"useMintToAssetMap",(function(){return ye}),(function(e){return ye=e}));var r=s("cR6w7"),o=s("gYh0e"),i=s("ePfNR"),a=s("4QHep"),u=s("3fvLJ"),c=s("1uUV4"),l=s("4y59b"),d=s("lNRH9"),p=s("fvKRK"),f=s("6rT8n"),m=s("lDSNw"),y=s("6Nxml"),g=s("NQvFB"),h=s("jgGEH"),v=s("1dR1d"),S=s("lrTw9"),w=s("8UlwK"),A=s("HLcoo"),b=s("eZFrU"),T=s("gmVmN"),E=s("6R6dI"),x=s("8O8MD"),k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const P=f.Buffer.from("metadata"),I=i.METADATA_PROGRAM_ID.toBuffer(),F=(0,l.toMilliseconds)({minutes:1}),R={coingeckoId:"solana",decimals:9,logoURI:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL"};Object.assign(Object.assign({},R),{amount:"0",usd:0,usd24hChange:0});function N(e,t){return(0,d.useQuery)({enabled:""!==e,queryKey:["cluster",t,"owner",e,"lamport-balance"],refetchInterval:F,queryFn(){return k(this,void 0,void 0,(function*(){const n=(0,A.getRPCURLByCluster)(t),r=yield function(e,t){return k(this,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getBalance",params:[t,{commitment:"confirmed"}]})}),r=yield n.json();if("error"in r)throw console.error(r.error,t),new Error(r.error.message);return r.result.value.toString()}))}(n,e);return r}))},onSuccess(n){return k(this,void 0,void 0,(function*(){const r=(yield(0,E.getStorageValue)(c.StorageKeys.OwnerToClusterToLamportBalance))||{},o=r[e]||{};(0,E.setStorageValue)(c.StorageKeys.OwnerToClusterToLamportBalance,Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},o),{[t]:n})}))}))}})}const C=e=>{const t=P;return u.PublicKey.findProgramAddressSync([t,I,e.toBuffer()],i.METADATA_PROGRAM_ID)};function L(e,t){return k(this,void 0,void 0,(function*(){const n=new Map,{Metadata:r}=yield(0,i.getMetaplexFoundationDeps)(),o=t.map((t=>k(this,void 0,void 0,(function*(){const o=yield function(e,t){return k(this,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getMultipleAccounts",params:[t,{encoding:"base64",commitment:"confirmed"}]})}),r=yield n.json();if("error"in r)throw console.error(r.error),new Error(r.error.message);return r}))}(e,t);for(const e of o.result.value)if(e){const[t]=r.deserialize(f.Buffer.from(e.data[0],"base64"));n.set(t.mint.toString(),t)}}))));return yield Promise.all(o),n}))}const M="SPLTokenAccounts";function D(e,t){const n=(0,p.useQueryClient)();return(0,d.useQuery)({enabled:""!==e,queryKey:[M,{pubkey:e,cluster:t}],refetchInterval:F,queryFn({queryKey:e}){var n,i;return k(this,void 0,void 0,(function*(){const[,{pubkey:s}]=e,a=(0,A.getTokenListChainIDByCluster)(t),[u,c]=yield Promise.all([O(s,a),(0,o.getSPLTokenMap)(a)]),l=null===(n=null==u?void 0:u.response)||void 0===n?void 0:n.results;if(l.infos=c,!l)return null;if(null===(i=yield(0,E.getStorageValue)(r.StorageKeyCollectibles.HideSuspiciousCollectibles))||void 0===i||i){const e=yield(0,S.getNFTBlocklist)(),t=["SemiFungible","NonFungible","NonFungibleEdition","ProgrammableNonFungible"];for(const n of t){const t=l[n].filter((({mintPubKey:t})=>!e.includes(t)));l[n]=t}}return l}))},onSuccess(r){return k(this,void 0,void 0,(function*(){const o=r.Fungible.reduce(((e,t)=>(t.coingeckoId&&e.push(t.coingeckoId),e)),["solana"]),i=yield(0,E.getStorageValue)(c.StorageKeys.PriceMap);(0,a.getPricesByCoingeckoId)(o).then((e=>k(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},i),e);n.setQueryData([U],t),(0,E.setStorageValue)(c.StorageKeys.PriceMap,t)})))).catch(console.error);(function(e,t){var n;return k(this,void 0,void 0,(function*(){const r=new Set,o=[[]],i=new Map;for(const e of[t.NonFungible,t.NonFungibleEdition,t.SemiFungible,t.ProgrammableNonFungible])for(const t of e){let{collectionPubKey:e}=t;if(e&&!r.has(e)){r.add(e);const t=new(0,u.PublicKey)(e),[n]=yield C(t),i=o[o.length-1];i&&i.length<100?i.push(n.toString()):o.push([n.toString()])}if(!e){if(t.creators){const n=t.creators.find((e=>e.verified));n&&(e=null==n?void 0:n.address.toString())}e||(e=t.mintPubKey)}const s=null!==(n=i.get(e))&&void 0!==n?n:[];s.push(t),i.set(e,s)}let s=new Map;try{s=yield L(e,o)}catch(e){console.error(e)}const a=[];for(const[e,t]of i){t.sort(((e,t)=>{var n,r;const o=null!==(n=e.name)&&void 0!==n?n:"",i=null!==(r=t.name)&&void 0!==r?r:"",s=o.localeCompare(i);if(o.localeCompare(i))return s;const a=e.pubkey,u=t.pubkey;return a.localeCompare(u)}));const[n]=t;if(n){const r=s.get(e);r?a.push({key:e,name:r.data.name,uri:n.uri||r.data.uri,items:t}):a.push({key:e,name:null,uri:n.uri,items:t})}}return a.sort(((e,t)=>{var n,r;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const o=null!==(n=e.name)&&void 0!==n?n:e.key,i=null!==(r=t.name)&&void 0!==r?r:t.key;return o.localeCompare(i)})),a}))})((0,A.getRPCURLByCluster)(t),r).then((r=>{n.setQueryData([B,{pubkey:e,cluster:t}],r)})).catch(console.error)}))}})}const O=(e,t)=>k(void 0,void 0,void 0,(function*(){const n=new URLSearchParams;n.append("ownerPubKey",e),n.append("chainId",t.toString());const r=`${(0,y.getAPIEnvironment)()}/solana/spl_token_accounts?${n.toString()}`,o=yield fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!o.ok){const e="Error fetching spl token accounts";throw console.error(e),new Error(e)}return yield o.json()}));const U="SPLTokenPrices";function _(){const e=(0,p.useQueryClient)(),[t,n]=(0,m.useState)((()=>{var t;return null!==(t=e.getQueryData([U]))&&void 0!==t?t:null}));return(0,m.useEffect)((()=>e.getQueryCache().subscribe((()=>{var t;const r=null!==(t=e.getQueryData([U]))&&void 0!==t?t:null;r&&n(r)}))),[e]),t}const B="SPLTokenCollections";const q="SPLTokenJSONMetadata";function G(e){const t=[q,e];return(0,d.useQuery)({queryKey:t,queryFn(){return k(this,void 0,void 0,(function*(){return yield function(e){return k(this,void 0,void 0,(function*(){if(!e)return null;const t=Q(e);if(t)return t;const n=`https://metaplex-cache.phantom.app/?url=${encodeURIComponent(e)}`;for(const t of[n,e])try{const e=yield fetch(t,{headers:{"content-type":"application/json"}});if(e.ok){const t=yield e.json();if(t&&"object"==typeof t)return t}}catch(e){console.error(`Failed to fetch URL ${t}`)}return console.error("Failed to fetch collectible metadata from origin server"),null}))}(e)}))},staleTime:x.CacheTime.Short,cacheTime:x.CacheTime.Long})}const Q=e=>{const t=new RegExp(/(data:)([\w/+-]*)(;charset=[\w-]+|;base64){0,1},(.*)/i);if(!t.test(e))return;const n=t.exec(e);if(!n)return;const r=n[2],o=n[3],i=n[4];return"application/json"===r&&";base64"!==o?JSON.parse(i):void 0};const j=new Set(["image","audio","video","model"]),H=new Set([v.FileExtension.JPEG,v.FileExtension.JPG,v.FileExtension.PNG,v.FileExtension.GIF,v.FileExtension.SVG]),K=new Set([v.FileExtension.MP3,v.FileExtension.WAV,v.FileExtension.OGA,v.FileExtension.FLAC]),V=new Set([v.FileExtension.WEBM,v.FileExtension.MP4,v.FileExtension.M4V,v.FileExtension.OGV,v.FileExtension.OGG,v.FileExtension.MOV]),z=new Set([v.FileExtension.GLTF,v.FileExtension.GLTFBINARY,v.FileExtension.GLB]),W=e=>H.has(e)?`image/${e}`:V.has(e)?`video/${e}`:z.has(e)?"model/gltf-binary":K.has(e)?`audio/${e}`:void 0,$=e=>{const t=(0,l.parseURL)(e);if(!t)return null;if("http:"!==t.protocol&&"https:"!==t.protocol)return null;const n=t.searchParams.get("ext");if(n){const t=W(n);if(t)return{type:t,uri:e}}const r=(0,l.getLast)(e.split("."));if(r){const t=W(r);if(t)return{type:t,uri:e}}return null},J=e=>{const{image:t}=e;if(t){const e=$(t);return e||{type:"image/png",uri:t}}return null},Y=e=>{const{animation_url:t}=e;if(t){const n=$(t);if(n)return n;const r=(0,l.parseURL)(t);if(r&&("http:"===r.protocol||"https:"===r.protocol)){if("html"===r.searchParams.get("ext"))return null}const{properties:o}=e;if(null==o?void 0:o.category){const{category:e}=o;let n="";switch(e){case"image":n="image/png";break;case"video":n="video/mp4";break;case"audio":n="audio/mp3";break;case"model":case"vr":n="model/gltf-binary"}if(n)return{type:n,uri:t}}}return null},X=e=>{if(!(e=>j.has(e))(e))switch(e){case"image":return 0;case"audio":return 1;case"video":return 2;case"model":return 3}return 0},Z=e=>{var t,n,r;return null!==(r=null!==(n=null!==(t=(e=>{var t,n;let r=null!==(n=null===(t=e.properties)||void 0===t?void 0:t.files)&&void 0!==n?n:[];Array.isArray(r)||(r=[r]);let o=null;for(const e of r){let t=null;if("string"==typeof e)t=$(e);else if((null==e?void 0:e.type)&&(null==e?void 0:e.uri)){if(e.cdn)return e;t={type:e.type,uri:e.uri}}t&&o&&X(o.type)<X(t.type)&&(o=t)}})(e))&&void 0!==t?t:Y(e))&&void 0!==n?n:J(e))&&void 0!==r?r:null},ee=e=>(0,m.useMemo)((()=>e?Z(e):null),[e]),te=e=>(0,m.useMemo)((()=>e?(e=>{var t,n;return null!==(n=null!==(t=J(e))&&void 0!==t?t:Y(e))&&void 0!==n?n:null})(e):null),[e]),ne=e=>(0,m.useMemo)((()=>e?(e=>{const{collection:t}=e;if(t){const{name:e,family:n}=t;if(e)return e;if(n)return n}const{external_url:n}=e;if(n){const e=(0,l.formatURL)({url:n,format:"domain"});if(e)return e}const{name:r}=e;if(r){const e=(0,w.parseName)(r);if(e)return e}const{symbol:o}=e;return o||null})(e):null),[e]),re=e=>(0,b.getDevicePixelRatio)()*e,oe=e=>`https://api.phantom.app/image-proxy/?image=${encodeURIComponent(e)}`,ie=(e,t,n)=>{const r=re(t),o=re(n);return`${oe(e)}&fit=cover&width=${r}&height=${o}`},se=(e,t)=>{switch(e.type){case"solana":return"solana";case"spl-token":return`${e.data.pubkey}-${t}`}},ae=(e,t,n)=>{var r,o;const i=n[e],s=(null!==(r=null==i?void 0:i.usd)&&void 0!==r?r:0)*t;return{usd:s,usd24hChange:s-s/(1+(null!==(o=null==i?void 0:i.usd_24h_change)&&void 0!==o?o:0)/100)}},ue=(e,t,n)=>{let r=0;n&&(r=((e,t)=>{const n=e.data.usd,r=t.data.usd;return n&&r?n>r?-1:n<r?1:0:n&&!r?-1:r&&!n?1:0})(e,t));const o=((e,t)=>{const n=(0,T.amountToUiAmount)(e.data.amount,e.data.decimals),r=(0,T.amountToUiAmount)(t.data.amount,t.data.decimals);return n>r?-1:n<r?1:0})(e,t),i=((e,t)=>{var n,r,o,i,s,a;const u=null!==(r=null===(n=e.data.name)||void 0===n?void 0:n.toUpperCase())&&void 0!==r?r:null===(o=e.data.symbol)||void 0===o?void 0:o.toUpperCase(),c=null!==(s=null===(i=t.data.name)||void 0===i?void 0:i.toUpperCase())&&void 0!==s?s:null===(a=t.data.symbol)||void 0===a?void 0:a.toUpperCase();if(u&&c){if(u>c)return 1;if(u<c)return-1}return u&&!c?-1:c&&!u?1:0})(e,t);return r||o||i};function ce(e){return"solana"===e.type?g.SOLANA_ID:e.data.coingeckoId===g.USDT_COINGECKO_ID?h.USDT_MINT_ADDRESS:e.data.mintPubKey}const le=e=>{let t=0,n=0;for(const r of e)t+=r.data.usd,n+=r.data.usd24hChange;return{totalBalance:t,totalBalanceChange:n}},de=({publicKey:e,standards:t,cluster:n,cachedLamportBalance:r,cachedSPLTokensByStandard:o,cachedPrices:i={},hiddenMints:s,sortByPrice:a=!1})=>{var u,c;const l=N(e,n),d=null!==(u=l.data)&&void 0!==u?u:r,p=!d&&!l.isFetched,f=D(e,n),y=null!==(c=f.data)&&void 0!==c?c:o,g=!y&&!f.isFetched,h=_(),v=null!=h?h:i,S=(0,m.useMemo)((()=>{if(!y||!d)return[];const e=[];if(!(null==s?void 0:s.has("solana"))){const t=Object.assign({amount:d},R),n=ae(t.coingeckoId,(0,T.amountToUiAmount)(t.amount,t.decimals),v),r={type:"solana",data:Object.assign(Object.assign({},t),n)};e.push(r)}for(const n of t){const t=y[n];for(const n of t){if(null==s?void 0:s.has(n.mintPubKey))continue;const t={type:"spl-token",data:Object.assign(Object.assign({},n),{usd:0,usd24hChange:0})};if(n.coingeckoId){const e=(0,T.amountToUiAmount)(n.amount,n.decimals),r=ae(n.coingeckoId,e,v);t.data.usd=r.usd,t.data.usd24hChange=r.usd24hChange}e.push(t)}}return e}),[y,d,t,s,v]),w=(0,m.useMemo)((()=>S.sort(((e,t)=>ue(e,t,a?v:void 0)))),[S,a,v]),A=(0,m.useCallback)((()=>{k(void 0,void 0,void 0,(function*(){yield f.refetch(),yield l.refetch()}))}),[f,l]);return{data:w,dataUpdatedAt:f.dataUpdatedAt,isFetching:p||g,error:l.error||f.error,refetch:A}},pe=["Fungible"],fe=(e,t,n)=>{const r=de({publicKey:e,standards:pe,cluster:t,sortByPrice:!0}),{data:o}=r,i=D(e,t),{data:s}=i,a=null==s?void 0:s.infos,u=(0,m.useMemo)((()=>a),[a]),c=(0,m.useMemo)((()=>{const t=new Map;for(const e of o)switch(e.type){case"solana":break;case"spl-token":t.set(e.data.mintPubKey,e)}if(!u)return[];const r=Array.from(u.values()),i=[];for(const[r,o]of n){if(t.has(r))continue;const n=ge({mint:r,meta:o,publicKey:e});i.push(n),t.set(r,n)}for(const n of r){if(t.has(n.address)||0===n.decimals)continue;const r=he({info:n,publicKey:e});i.push(r),t.set(n.address,r)}return i}),[u,o,n,e]),l=(0,m.useMemo)((()=>o.concat(c)),[o,c]),d=r.isFetching||!i.isFetched,p=r.error||i.error,f=r.refetch,y=i.refetch;return{data:l,isFetching:d,error:p,refetch:(0,m.useCallback)((()=>{f(),y()}),[f,y])}},me=["Fungible"],ye=(e,t,n)=>{const r=de({publicKey:e,standards:me,cluster:t}),{data:o}=r,i=D(e,t),{data:s}=i,a=null==s?void 0:s.infos,u=(0,m.useMemo)((()=>a),[a]),c=(0,m.useMemo)((()=>{const t=new Map;if(!u)return t;for(const e of o){const n="solana"===e.type?"":e.data.mintPubKey;t.set(n,e)}const r=Array.from(u.values());for(const[r,o]of n){if(t.has(r))continue;const n=ge({mint:r,meta:o,publicKey:e});t.set(r,n)}for(const n of r){if(t.has(n.address))continue;const r=0===n.decimals?"SemiFungible":"Fungible",o=he({info:n,publicKey:e,tokenStandard:r});t.set(n.address,o)}return t}),[u,o,n,e]),l=r.isFetching||!i.isFetched,d=r.error||i.error,p=r.refetch,f=i.refetch;return{data:c,isFetching:l,error:d,refetch:(0,m.useCallback)((()=>{p(),f()}),[p,f])}},ge=({mint:e,meta:t,publicKey:n})=>{const r={standard:"Fungible",pubkey:"",mintPubKey:e,ownerPubKey:n,decimals:1/0,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null,name:t.name,symbol:t.symbol,coingeckoId:null,state:"initialized",collectionPubKey:"",uses:null,creators:[],uri:""};return{type:"spl-token",data:Object.assign(Object.assign({},r),{usd:0,usd24hChange:0})}},he=({info:e,publicKey:t,tokenStandard:n})=>{var r,o,i;const s={standard:n||"Fungible",pubkey:"",mintPubKey:e.address,ownerPubKey:t,decimals:e.decimals,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null!==(r=e.logoURI)&&void 0!==r?r:null,name:e.name,symbol:e.symbol,coingeckoId:null!==(i=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==i?i:null,state:"uninitialized",collectionPubKey:"",uses:null,creators:[],uri:""};return{type:"spl-token",data:Object.assign(Object.assign({},s),{usd:0,usd24hChange:0})}}})),s.register("jgGEH",(function(t,n){e(t.exports,"PRICES_FETCH_TIMEOUT_MS",(function(){return o})),e(t.exports,"COLLECTIBLES_FETCH_TIMEOUT_MS",(function(){return i})),e(t.exports,"USDT_MINT_ADDRESS",(function(){return a})),e(t.exports,"MISSING_MINTS_TO_CG_ID",(function(){return u}));var r=s("4y59b");(0,r.toMilliseconds)({seconds:30});const o=(0,r.toMilliseconds)({seconds:10}),i=((0,r.toMilliseconds)({seconds:10}),(0,r.toMilliseconds)({seconds:5}),(0,r.toMilliseconds)({seconds:15})),a="Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",u={[a]:"tether",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"usd-coin"}})),s.register("8UlwK",(function(t,n){e(t.exports,"groupCollectibles",(function(){return W}),(function(e){return W=e})),e(t.exports,"parseName",(function(){return J}),(function(e){return J=e})),e(t.exports,"getMetadata",(function(){return Y}),(function(e){return Y=e})),e(t.exports,"getCollectibleUriData",(function(){return X}),(function(e){return X=e})),e(t.exports,"parseCollectibles",(function(){return Z}),(function(e){return Z=e}));var r=s("3fvLJ"),o=s("4y59b"),i=s("jgGEH"),a=s("hmk1d"),u=s("1dR1d"),c=s("eoULV");s("69RUk");var l,d,p=s("kLTva"),f=s("HLcoo"),m=s("6rT8n").Buffer,y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};(d=l||(l={}))[d.Uninitialized=0]="Uninitialized",d[d.MetadataV1=4]="MetadataV1",d[d.EditionV1=1]="EditionV1",d[d.MasterEditionV1=2]="MasterEditionV1",d[d.MasterEditionV2=6]="MasterEditionV2",d[d.EditionMarker=7]="EditionMarker";class g{constructor(e){this.address=e.address,this.verified=e.verified,this.share=e.share}}class h{constructor(e){this.name=e.name,this.symbol=e.symbol,this.uri=e.uri,this.sellerFeeBasisPoints=e.sellerFeeBasisPoints,this.creators=e.creators}}class v{constructor(e){var t;this.key=l.MetadataV1,this.updateAuthority=e.updateAuthority,this.mint=e.mint,this.data=e.data,this.primarySaleHappened=e.primarySaleHappened,this.isMutable=e.isMutable,this.editionNonce=null!==(t=e.editionNonce)&&void 0!==t?t:null}}const S=new Map([[h,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[g]}]]}],[g,{kind:"struct",fields:[["address","pubkey"],["verified","u8"],["share","u8"]]}],[v,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkey"],["mint","pubkey"],["data",h],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}]]}]]),w=new RegExp("\0","g"),A=e=>{const t=(0,p.deserializeUnchecked)(S,v,e);return t.data.name=t.data.name.replace(w,""),t.data.uri=t.data.uri.replace(w,""),t.data.symbol=t.data.symbol.replace(w,""),t},b=[u.FileExtension.JPEG,u.FileExtension.JPG,u.FileExtension.PNG,u.FileExtension.GIF],T=new Set(b),E=[u.FileExtension.WEBM,u.FileExtension.MP4,u.FileExtension.M4V,u.FileExtension.OGV,u.FileExtension.OGG,u.FileExtension.MOV],x=new Set(E),k=[u.FileExtension.MP3,u.FileExtension.WAV,u.FileExtension.OGA,u.FileExtension.FLAC],P=new Set(k),I=[u.FileExtension.GLTF,u.FileExtension.GLTFBINARY,u.FileExtension.GLB],F=new Set(I),R=[...b,...E,...I,...k],N=new Set(R),C=e=>N.has(e),L=e=>T.has(e)?`image/${e}`:x.has(e)?`video/${e}`:F.has(e)?`model/${e}`:P.has(e)?`audio/${e}`:void 0,M=e=>{if(!e||"object"!=typeof e)return!1;const t="string"==typeof e.trait_type,n="string"==typeof e.value||"number"==typeof e.value;return t&&n},D=e=>M(e)?[e]:Array.isArray(e)?e.filter(M):[],O=e=>(e=>{if(!e||"object"!=typeof e)return!1;if(!e.category||"string"!=typeof e.category)return!1;if(!/^(image|video|audio|vr|html)$/.test(e.category))return!1;if(!Array.isArray(e.files))return!1;for(const t of e.files)if(!U(t))return!1;return!0})(e)?e:(e=>{if(!e||"object"!=typeof e)return!1;if(!e.category||"string"!=typeof e.category)return!1;if(!/^(image|video|audio|vr|html)$/.test(e.category))return!1;if(!Array.isArray(e.files))return!1;for(const t of e.files)if("string"!=typeof t)return!1;return!0})(e)?{category:e.category,files:e.files.map((e=>_(e))).filter((e=>!!e))}:void 0,U=e=>{if(!e||"object"!=typeof e)return!1;if(!e.type||"string"!=typeof e.type)return!1;if(!e.uri||"string"!=typeof e.uri)return!1;const t=typeof e.cdn;return"undefined"===t||"boolean"===t},_=e=>{const t=(0,o.parseURL)(e);if(!t)return;if("http:"!==t.protocol&&"https:"!==t.protocol)return;const n=t.searchParams.get("ext");if(n&&C(n)){const t=L(n);if(t)return{type:t,uri:e}}const r=(0,o.getLast)(e.split("."));if(r&&C(r)){const t=L(r);if(t)return{type:t,uri:e}}},B=e=>{const t=(e=>{const[t,n]=e.split("/");if(t&&n)return t.startsWith("image")&&T.has(n)?u.CollectibleMediaType.Image:t.startsWith("video")&&x.has(n)?u.CollectibleMediaType.Video:t.startsWith("model")&&F.has(n)?u.CollectibleMediaType.VR:t.startsWith("audio")&&P.has(n)?u.CollectibleMediaType.Audio:void 0})(e.type);if(t){return{type:t,fileUri:e.uri}}},q=e=>{if(!("object"==typeof e&&null!==e))return!1;return Object.values(e).every((e=>"string"==typeof e||void 0===e))},G=(e,t,n)=>{var r,o,i,s,a,l,d,p;const{mint:f,updateAuthority:m}=t,y=f.toString(),{creators:g=[],symbol:h,uri:v}=t.data,S=t.data.name,w=null!=n?n:{mint:y,name:S},A=w.name||S,b=H(w),T=null!==(i=null===(o=null===(r=null==g?void 0:g.find((e=>1===e.verified)))||void 0===r?void 0:r.address)||void 0===o?void 0:o.toString())&&void 0!==i?i:"",{collection:E,external_url:x,description:k,image:P,attributes:I}=w;return{type:"collectible",chain:u.Chain.Solana,address:y,account:e.pubkey,collectionFamily:null!==(s=null==E?void 0:E.family)&&void 0!==s?s:"",collectionName:null!==(a=null==E?void 0:E.name)&&void 0!==a?a:"",collectionKey:T,name:A,symbol:h,uri:v,externalUrl:x,description:k,image:P,media:b,decimals:null!==(l=e.tokenAmount.decimals)&&void 0!==l?l:0,balance:null!==(d=e.tokenAmount.uiAmount)&&void 0!==d?d:1,delegate:e.delegate,attributes:I,baseBalance:new(0,c.BigNumber)(null!==(p=e.tokenAmount.amount)&&void 0!==p?p:1),updateAuthority:m,metaName:S}},Q=(e,t)=>{const{mintAddress:n}=e,{name:r,symbol:o,websiteUrl:i,iconUrl:s,imageUrl:a,description:l,animationUrl:d}=t,p=(e=>{const t=_(e);if(t)return B(t)})(null!=d?d:"");return{type:"collectible",chain:u.Chain.Solana,address:n,account:e.pubkey,collectionFamily:"",collectionName:"",collectionKey:"",name:r,symbol:o,uri:"",externalUrl:i,description:l,image:null!=a?a:s,media:p,decimals:e.tokenAmount.decimals,balance:e.tokenAmount.uiAmount,delegate:e.delegate,baseBalance:new(0,c.BigNumber)(e.tokenAmount.amount),updateAuthority:null,metaName:null}},j=(e,t)=>y(void 0,void 0,void 0,(function*(){const n=yield fetch(e);if(!n.ok)throw new Error(`Failed to fetch data from ${e}`);return((e,t)=>{const n=t&&"object"==typeof t?t:{},{collection:r,description:o,external_url:i,name:s,image:a,animation_url:u,attributes:c}=n,l=O(n.properties);return{name:"string"==typeof s?s:"",mint:e,image:"string"==typeof a||null===a?a:void 0,collection:q(r)?r:void 0,description:"string"==typeof o?o:void 0,external_url:"string"==typeof i?i:void 0,animation_url:"string"==typeof u?u:void 0,properties:O(l),attributes:D(c)}})(t,yield n.json())})),H=e=>{var t,n,r;const o=e.animation_url;if(o){const n=_(o);if(n){const e=B(n);if(e)return e}if(!n&&(null===(t=e.properties)||void 0===t?void 0:t.category)){if(/^(image|video|audio|vr)$/.test(e.properties.category))return{type:e.properties.category,fileUri:o}}}const i=null!==(r=null===(n=e.properties)||void 0===n?void 0:n.files)&&void 0!==r?r:[];let s;for(const e of i){const t=B(e);if(t){if(e.cdn)return t;(!s||s&&K(s.type)<K(t.type))&&(s=t)}}return s},K=e=>{switch(e){case u.CollectibleMediaType.VR:return 3;case u.CollectibleMediaType.Video:return 2;case u.CollectibleMediaType.Audio:return 1;case u.CollectibleMediaType.Image:return 0}},V=e=>y(void 0,void 0,void 0,(function*(){const t=[m.from("metadata"),a.METADATA_PROGRAM_ID.toBuffer(),e.toBuffer()];return(yield r.PublicKey.findProgramAddress(t,a.METADATA_PROGRAM_ID))[0]})),z=e=>y(void 0,void 0,void 0,(function*(){const t=[];let n=0;for(const r of Object.values(e)){const{data:e}=r;t.push(A(e)),n++,n%15==0&&(yield Promise.resolve())}return t})),W=e=>{var t;const n=new Map;for(const r of e){const e=r.collectionKey||r.address,o=null!==(t=n.get(e))&&void 0!==t?t:{collectibles:[],key:e,name:$(r)};o.collectibles=[...o.collectibles,r],o.collectibles.sort(((e,t)=>e.name.localeCompare(t.name))),n.set(e,o)}const r=[...n.values()];return r.sort(((e,t)=>{const n=t.collectibles.length-e.collectibles.length;return n||e.name.localeCompare(t.name)})),r},$=e=>{const{collectionFamily:t,collectionName:n,collectionKey:r,externalUrl:i,metaName:s,name:a,symbol:u}=e;if(n)return n;if(t)return t;if(i){const e=(0,o.formatURL)({url:i,format:"domain"});if(e)return e}if(s||a){const e=J(s)||J(a);if(e)return e}return u||r},J=e=>e?e.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim():null,Y=(e,t)=>y(void 0,void 0,void 0,(function*(){return((e,t)=>y(void 0,void 0,void 0,(function*(){const n=e.map((e=>new(0,r.PublicKey)(e))),i=yield Promise.all((0,o.chunks)(n,15).map((e=>e.map(V))).flat()),s=yield(0,f.getMultipleAccountsAsync)(t,i,"confirmed");return z(s)})))(t.filter((e=>e.tokenAmount.uiAmount>0)).map((e=>e.mintAddress)),e)})),X=e=>y(void 0,void 0,void 0,(function*(){const t=e.filter((e=>e.data.uri));if(t.length>0){const e=yield Promise.all((0,o.chunks)(t,5).map((e=>e.map((e=>y(void 0,void 0,void 0,(function*(){const{mint:t,data:{name:n,uri:r}}=e,s=t.toString();try{return yield(0,o.withTimeout)(j(r,s),i.COLLECTIBLES_FETCH_TIMEOUT_MS)}catch(e){return{mint:s,name:n}}})))))).flat());return(0,o.objectArrayToMap)(e,"mint")}return{}})),Z=(e,t,n,r)=>{const o=null!=t?t:{},i=r.reduce(((e,t)=>t.data.uri?(e.set(t.mint.toString(),t),e):e),new Map),s=[];for(const t of n){if(0===t.tokenAmount.uiAmount)continue;const n=t.mintAddress.toString(),r=i.get(n),a=o[n];if(r&&a){const e=G(t,r,a);s.push(e);continue}if(t.tokenAmount.uiAmount<=0)continue;const u=e[n];if(!u||!u.isCollectible)continue;const c=Q(t,u);s.push(c)}return s}})),s.register("69RUk",(function(t,n){e(t.exports,"deserializeBorsh",(function(){return s("kLTva").deserializeUnchecked}));var r=s("3fvLJ");s("kLTva").BinaryReader.prototype.readPubkey=function(){const e=this.readFixedArray(32);return new(0,r.PublicKey)(e)}})),s.register("eZFrU",(function(t,n){e(t.exports,"getDevicePixelRatio",(function(){return r}));const r=()=>(null===window||void 0===window?void 0:window.devicePixelRatio)||1})),s.register("54Hrp",(function(t,n){e(t.exports,"SWAPPER_BASE_URL",(function(){return u})),e(t.exports,"DEFAULT_SLIPPAGE",(function(){return c})),e(t.exports,"MAX_NUMBER_OF_QUOTES",(function(){return l})),e(t.exports,"QUOTE_FETCH_INTERVAL_MS",(function(){return d})),e(t.exports,"SHOULD_UNWRAP_WRAPPED_SOL",(function(){return p})),e(t.exports,"INITIAL_BUY_ASSET",(function(){return v})),e(t.exports,"INITIAL_SELL_ASSET",(function(){return S})),e(t.exports,"INITIAL_BUY_FUNGIBLE",(function(){return w})),e(t.exports,"INITIAL_SELL_FUNGIBLE",(function(){return A})),e(t.exports,"SWAP_ASSET_SELECT_TOKEN_STANDARDS",(function(){return b})),e(t.exports,"FUSE_SWAP_ASSET_SEARCH_CONFIG",(function(){return T})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return E})),e(t.exports,"BALANCE_HIDDEN_TEXT",(function(){return x}));var r=s("6e0KV"),o=s("gYh0e"),i=s("6Nxml"),a=s("9Khz2");const u=`${(0,i.getAPIEnvironment)()}/solana/swap/v1`,c=.5,l=5,d=2e4,p=!0,f={id:r.ChainID.SolanaMainnet,imageUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",symbol:"SOL"},m={type:"solana",data:Object.assign(Object.assign({},a.SOLANA_STATIC_VALUES),{amount:"0",usd:0,usd24hChange:0})},y={type:o.FungibleTokenType.SolanaNative,data:{amount:"0",balance:0,chain:f,coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"EtiWtHKB9RRHcSsprD4QVmUt5jjUFbfTZ6bXDc58yC2g"}},g={type:"spl-token",data:{amount:"0",coingeckoId:"usd-coin",collectionPubKey:null,creators:[],decimals:6,delegate:null,delegatedAmount:"0",logoURI:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/assets/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintPubKey:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",ownerPubKey:"EtiWtHKB9RRHcSsprD4QVmUt5jjUFbfTZ6bXDc58yC2g",pubkey:"72iTmWTJZmHKWr6rh8a15YFpReJWdaZ8EQNJP32yceKz",standard:"Fungible",state:"initialized",symbol:"USDC",uri:"",usd:0,usd24hChange:0,uses:null}},h={type:o.FungibleTokenType.SPL,data:{amount:"0",balance:0,chain:f,coingeckoId:"usd-coin",decimals:6,key:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoUri:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",splTokenAccountPubkey:"EAF7dH8Jy43Xgp68PhyybKhfKxk46NFRkWN4PMCLqMfS",symbol:"USDC",tokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",walletAddress:"EtiWtHKB9RRHcSsprD4QVmUt5jjUFbfTZ6bXDc58yC2g"}},v=g,S=m,w=h,A=y,b=["Fungible","SemiFungible"],T={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.amount",weight:.1},{name:"data.mint",weight:.1}]},E="https://help.phantom.app/hc/en-us/articles/5985106844435",x="â€¢â€¢â€¢â€¢â€¢â€¢"})),s.register("5ccQB",(function(t,n){e(t.exports,"formatFee",(function(){return s("fR691").formatFee})),e(t.exports,"getSwapPairsAsync",(function(){return s("6zcIO").getSwapPairsAsync})),e(t.exports,"getSwapQuoteAsync",(function(){return s("lWusn").getSwapQuoteAsync})),e(t.exports,"parseSwapError",(function(){return s("ghFtg").parseSwapError})),e(t.exports,"updateSellAssetAmount",(function(){return s("iRhPk").updateSellAssetAmount})),e(t.exports,"swapPairsAssetInfoToAsset",(function(){return s("cGG29").swapPairsAssetInfoToAsset}));s("1aTnH"),s("5wiyh"),s("fR691"),s("03FUt"),s("oo4df"),s("40TJN"),s("6zhDS"),s("6zcIO"),s("lWusn"),s("ghFtg"),s("4Fsq6"),s("iSI4a"),s("iRhPk"),s("cGG29")})),s.register("1aTnH",(function(t,n){function r(e,t){return"solana"===e.type||"solana"===t.type?e.type===t.type:e.data.mintPubKey===t.data.mintPubKey}e(t.exports,"areAssetsEqual",(function(){return r}))})),s.register("5wiyh",(function(t,n){function r(e){return"0"!==e.data.amount}e(t.exports,"canSellAsset",(function(){return r}))})),s.register("03FUt",(function(t,n){e(t.exports,"getAnalyticsAsset",(function(){return o}));var r=s("1dR1d");function o(e){return{chain:r.Chain.Solana,type:"spl-token"===e.type&&"Fungible"!==e.data.standard?"collectible":"fungible",address:"spl-token"===e.type?e.data.mintPubKey:void 0,symbol:e.data.symbol}}})),s.register("oo4df",(function(t,n){e(t.exports,"getMaxSellAmount",(function(){return u}));var r=s("gYh0e"),o=s("NQvFB"),i=s("gmVmN"),a=s("iSI4a");function u(e){const t=e?e.data.decimals:0,n=e?e.data.amount:0,s=(0,i.amountToUiAmount)(n,t);return e&&("solana"===e.type||e.type===r.FungibleTokenType.SolanaNative)&&s>o.ESTIMATED_SOL_TRADE_FEE?(0,a.subtractTokenAmounts)(s,o.ESTIMATED_SOL_TRADE_FEE):s}})),s.register("iSI4a",(function(t,n){e(t.exports,"subtractTokenAmounts",(function(){return o}));var r=s("eoULV");function o(e,t){return new(0,r.BigNumber)(e).minus(t).toNumber()}})),s.register("40TJN",(function(t,n){function r(e){if(void 0===e)return"#999";const t=parseFloat(e.toFixed(2));switch(!0){case t>=5:return"#EB3742";case t>=1&&e<5:return"#FFDC62";case e>=0&&e<1:return"#21E56F";default:return"#777777"}}e(t.exports,"getPriceImpactColor",(function(){return r}))})),s.register("6zhDS",(function(t,n){function r(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(t.exports,"getPriceImpactText",(function(){return r}))})),s.register("6zcIO",(function(t,n){e(t.exports,"getSwapPairsAsync",(function(){return i}),(function(e){return i=e}));var r=s("54Hrp"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function i(e){return o(this,void 0,void 0,(function*(){const t=`${r.SWAPPER_BASE_URL}/pairs?tokens=${e}&includeMetadata=true`,n=yield fetch(t);if(200!==n.status)throw new Error(`Failed to fetch swap pairs for the following mints: ${e.join(", ")}.`);return yield n.json()}))}})),s.register("lWusn",(function(t,n){e(t.exports,"getSwapQuoteAsync",(function(){return i}),(function(e){return i=e}));var r=s("54Hrp"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function i(e){return o(this,void 0,void 0,(function*(){const t=new URLSearchParams([...Object.entries(e)]),n=new URL(`${r.SWAPPER_BASE_URL}/quote?${t}`).toString(),o=yield fetch(n);if(200!==o.status)throw new Error(`Failed to fetch quote for ${e.sellToken} and ${e.buyToken} pair.`);return yield o.json()}))}})),s.register("ghFtg",(function(t,n){function r(e){var t;return"string"==typeof e?new Error(e):"object"==typeof e&&"logs"in e&&(null===(t=e.logs)||void 0===t?void 0:t.length)?new Error(e.logs.join("\n")):e}e(t.exports,"parseSwapError",(function(){return r}))})),s.register("4Fsq6",(function(t,n){function r(e){if(e){const t=[];for(const n of e)t.includes(n.name)||t.push(n.name);return t.join(" + ")}return""}e(t.exports,"parseSwapSources",(function(){return r}))})),s.register("iRhPk",(function(t,n){function r({currentQuote:e,sellAsset:t,setSellAsset:n}){if(t&&e){const r=Object.assign({},t);r.data.amount=String(Number(t.data.amount)-Number(e.sellAmount)),n(r)}}e(t.exports,"updateSellAssetAmount",(function(){return r}))})),s.register("cGG29",(function(t,n){e(t.exports,"swapPairsAssetInfoToAsset",(function(){return r}));const r=(e,t)=>{var n;return e.decimals&&e.name&&e.symbol?{type:"spl-token",data:{standard:"Fungible",pubkey:"",mintPubKey:e.mint,ownerPubKey:t,decimals:e.decimals,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null!==(n=e.imageUrl)&&void 0!==n?n:null,name:e.name,symbol:e.symbol,coingeckoId:null,state:"uninitialized",collectionPubKey:"",uses:null,creators:[],uri:"",usd:0,usd24hChange:0}}:null}})),s.register("bpPar",(function(t,n){e(t.exports,"useFetchSwapQuote",(function(){return u}),(function(e){return u=e}));var r=s("lNRH9"),o=s("54Hrp");s("5ccQB");var i=s("lWusn"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function u({publicKey:e,sellAmount:t,sellTokenMint:n,buyTokenMint:s}){const u=!!(e&&t&&n&&s),c=["fetch-phantom-swap-quote",e,t,n,s];return(0,r.useQuery)({cacheTime:0,enabled:u,queryKey:c,queryFn:function(){return a(this,void 0,void 0,(function*(){if(!e)throw new Error("Unable to fetch swap quote: no public key");if(!t||!n||!s)return;return yield(0,i.getSwapQuoteAsync)({buyToken:s,maxNumberOfQuotes:o.MAX_NUMBER_OF_QUOTES,sellToken:n,sellAmount:t,slippageTolerance:o.DEFAULT_SLIPPAGE,taker:e,wrapUnwrapSOL:o.SHOULD_UNWRAP_WRAPPED_SOL})}))},refetchInterval:o.QUOTE_FETCH_INTERVAL_MS,retry:!1})}})),s.register("U54VQ",(function(t,n){e(t.exports,"useFetchUsdPrices",(function(){return c}),(function(e){return c=e}));var r=s("4QHep"),o=s("4y59b"),i=s("lNRH9"),a=s("jgGEH"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function c(e,t){var n,s;const c=null!==(n=null==e?void 0:e.data.coingeckoId)&&void 0!==n?n:null,l=null!==(s=null==t?void 0:t.data.coingeckoId)&&void 0!==s?s:null,d=!!c||!!l,p=["fetch-usd-prices",c,l];return(0,i.useQuery)({queryKey:p,queryFn:function(){return u(this,void 0,void 0,(function*(){const n=[];return[e,t].forEach((e=>{e&&e.data.coingeckoId&&n.push(e.data.coingeckoId)})),yield(0,o.withTimeout)((0,r.getPricesByCoingeckoId)(n),a.PRICES_FETCH_TIMEOUT_MS)}))},enabled:d})}})),s.register("lGEUK",(function(t,n){e(t.exports,"useInitialAssets",(function(){return c}));var r=s("lDSNw"),o=s("9Khz2"),i=s("54Hrp"),a=s("jG6nq");const u=["Fungible"];function c({owner:e,cluster:t,hiddenMints:n}){const{data:s}=(0,o.useSPLAssets)({publicKey:e,standards:u,cluster:t,hiddenMints:n}),c=(0,a.useSwapperStore)((e=>e.setBuyAsset)),l=(0,a.useSwapperStore)((e=>e.setSellAsset));(0,r.useEffect)((()=>{const e=new Map(s.map((e=>["solana"===e.type?"":e.data.mintPubKey,e]))),t="solana"===i.INITIAL_SELL_ASSET.type?"":i.INITIAL_SELL_ASSET.data.mintPubKey,n="solana"===i.INITIAL_BUY_ASSET.type?"":i.INITIAL_BUY_ASSET.data.mintPubKey,r=e.get(t)||i.INITIAL_SELL_ASSET,o=e.get(n)||i.INITIAL_BUY_ASSET;l(r),c(o)}),[])}})),s.register("7m6uo",(function(t,n){function r(e){return e?e.phantomFee.pct:0}e(t.exports,"usePhantomFee",(function(){return r}))})),s.register("kGQ4c",(function(t,n){e(t.exports,"usePriceImpact",(function(){return a}));var r=s("lDSNw"),o=s("40TJN"),i=s("6zhDS");function a(e){return(0,r.useMemo)((()=>{let t="",n="";if(void 0!==e){const r=100*e;t=(0,o.getPriceImpactColor)(r),n=(0,i.getPriceImpactText)(r)}return{color:t,text:n}}),[e])}})),s.register("8VnfO",(function(t,n){e(t.exports,"useProvider",(function(){return i}));var r=s("lDSNw"),o=s("4Fsq6");function i(e){return(0,r.useMemo)((()=>(0,o.parseSwapSources)(e)),[e])}})),s.register("eNDuG",(function(t,n){e(t.exports,"useResetSwapperOnMount",(function(){return i}));var r=s("lDSNw"),o=s("jG6nq");function i(){const e=(0,o.useSwapperStore)((e=>e.resetSwapper));(0,r.useEffect)((()=>{e()}),[])}})),s.register("eeS7y",(function(t,n){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return c}));var r=s("lDSNw"),o=s("NQvFB"),i=s("gmVmN"),a=s("jG6nq"),u=s("bpPar");function c(e){const t=(0,a.useSwapperStore)((e=>e.sellAmount)),n=(0,a.useSwapperStore)((e=>e.buyAsset)),s=(0,a.useSwapperStore)((e=>e.sellAsset)),c=(0,a.useSwapperStore)((e=>e.resetQuote)),l=(0,a.useSwapperStore)((e=>e.setHasNoRoutes)),d=(0,a.useSwapperStore)((e=>e.setIsFetchingQuote)),p=(0,a.useSwapperStore)((e=>e.setQuote)),f=(0,a.useSwapperStore)((e=>e.setSelectedProviderIndex)),m=s&&"spl-token"===s.type?s.data.mintPubKey:o.WRAPPED_SOLANA.address,y=n&&"spl-token"===n.type?n.data.mintPubKey:o.WRAPPED_SOLANA.address,g=(0,r.useMemo)((()=>parseFloat(t)>0&&s?String((0,i.uiAmountToAmount)(t,s.data.decimals)):(c(),"")),[c,t,s]),{data:h,isError:v,isFetching:S}=(0,u.useFetchSwapQuote)({sellAmount:g,sellTokenMint:m,buyTokenMint:y,publicKey:e}),w=(0,r.useCallback)((e=>{e.quotes.sort(((e,t)=>parseInt(t.buyAmount)-parseInt(e.buyAmount))),f(0),d(!1),l(!1),p(e)}),[l,d,p,f]),A=(0,r.useCallback)((()=>{c(),d(!1),l(!0)}),[c,l,d]);(0,r.useEffect)((()=>{S?d(!0):h?w(h):v&&A()}),[v,h,S,w,A,d])}})),s.register("aqhqo",(function(t,n){e(t.exports,"useSwapBuyAssetProps",(function(){return d}));var r=s("lDSNw"),o=s("gmVmN"),i=s("54Hrp"),a=s("jG6nq"),u=s("lmbzb"),c=s("4GAXG"),l=s("606g5");function d(e){var t;const n=(0,a.useSwapperStore)((e=>e.sellAsset)),s=(0,a.useSwapperStore)((e=>e.buyAsset)),d=(0,a.useSwapperStore)((e=>e.isFetchingQuote)),p=(0,a.useSwapperStore)((e=>e.setSellAmount)),f=(0,a.useSwapperStore)((e=>e.setUiSellAmount)),m=(0,l.useSwapSetSellAsset)(e),y=(0,c.useSwapSetBuyAsset)(e),{currentQuote:g,quote:h}=(0,u.useQuote)(),v=String(g&&h?(0,o.amountToFormattedAmount)(g.buyAmount,h.buyToken.decimals):""),S=null!==(t=null==s?void 0:s.data.decimals)&&void 0!==t?t:0,w=s&&s.data.logoURI?s.data.logoURI:i.INITIAL_BUY_ASSET.data.logoURI||"",A=s&&s.data.symbol?s.data.symbol:i.INITIAL_BUY_ASSET.data.symbol||"",b=(0,r.useCallback)((()=>{p(v),f(v),s&&m(s),n&&y(n)}),[p,v,f,s,n,m,y]);return{assetButtonTitle:A,buyAmount:v,decimals:S,iconUrl:w,isFetchingQuote:d,onSwitchTokens:b}}})),s.register("4GAXG",(function(t,n){e(t.exports,"useSwapSetBuyAsset",(function(){return a}));var r=s("lDSNw"),o=s("jG6nq"),i=s("03FUt");function a(e){const t=(0,o.useSwapperStore)((e=>e.setBuyAsset));return(0,r.useCallback)((n=>{const r=(0,i.getAnalyticsAsset)(n);e.capture("swapperUpdateToAsset",{asset:r}),t(n)}),[e,t])}})),s.register("606g5",(function(t,n){e(t.exports,"useSwapSetSellAsset",(function(){return u}));var r=s("lDSNw"),o=s("jG6nq"),i=s("1aTnH"),a=s("03FUt");function u(e){const t=(0,o.useSwapperStore)((e=>e.buyAsset)),n=(0,o.useSwapperStore)((e=>e.sellAsset)),s=(0,o.useSwapperStore)((e=>e.setBuyAsset)),u=(0,o.useSwapperStore)((e=>e.setSellAsset));return(0,r.useCallback)((r=>{const o=(0,a.getAnalyticsAsset)(r);e.capture("swapperUpdateFromAsset",{asset:o}),u(r),t&&n&&(0,i.areAssetsEqual)(r,t)&&s(n)}),[e,t,n,s,u])}})),s.register("9sKR9",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return l}));var r=s("i0tUX"),o=s("7m6uo"),i=s("kGQ4c"),a=s("8VnfO"),u=s("lmbzb"),c=s("d0g1y");function l(e){const{bestBuyAmount:t,currentQuote:n,hasNoRoutes:s,quote:l}=(0,u.useQuote)(),d=(0,r.useExchangeRate)(t,l,n),p=(0,i.usePriceImpact)(null==n?void 0:n.priceImpact),f=(0,a.useProvider)(null==n?void 0:n.sources),m=(0,o.usePhantomFee)(null==n?void 0:n.fees),{networkFeeInCurrencyFormatted:y,totalFeesInCurrencyFormatted:g}=(0,c.useTotalFees)(n,e);return{exchangeRate:d,hasNoRoutes:s,phantomFee:m,priceImpact:p,provider:f,quote:l,networkFee:y,totalFees:g}}})),s.register("d0g1y",(function(t,n){e(t.exports,"useTotalFees",(function(){return i}));var r=s("lDSNw"),o=s("fR691");function i(e,t){return(0,r.useMemo)((()=>{const n=null==e?void 0:e.fees;if(n&&t){const{networkFees:e,serumAccountDeposits:r,tokenAccountDeposits:i}=n,s=e.amount+r.amount+i.amount;return{networkFeeInCurrencyFormatted:(0,o.formatFee)(e.amount,t),totalFeesInLamports:s,totalFeesInCurrencyFormatted:(0,o.formatFee)(s,t)}}return{networkFeeInCurrencyFormatted:"",totalFeesInLamports:void 0,totalFeesInCurrencyFormatted:""}}),[null==e?void 0:e.fees,t])}})),s.register("jhEDs",(function(t,n){e(t.exports,"useSwapConfirmationProps",(function(){return h}),(function(e){return h=e}));var r=s("3fvLJ"),o=s("lDSNw"),i=s("5q8rs"),a=s("9Khz2"),u=s("y5Q4h"),c=s("jG6nq");s("5ccQB");var l=s("iRhPk"),d=s("ghFtg"),p=s("9icBb"),f=s("8VnfO"),m=s("lmbzb"),y=s("iTFQj"),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function h({analytics:e,connection:t,explorer:n,isLedger:s,signer:h,splAssetsArgs:v,onError:S}){const{cluster:w}=v,{currentQuote:A,quote:b}=(0,m.useQuote)(),T=(0,c.useSwapperStore)((e=>e.sellAsset)),E=(0,c.useSwapperStore)((e=>e.buyUsdValue)),x=(0,c.useSwapperStore)((e=>e.sellUsdValue)),k=(0,c.useSwapperStore)((e=>e.setSellAsset)),P=(0,c.useSwapperStore)((e=>e.resetSwapper)),{refetch:I}=(0,a.useSPLAssets)(v),F=(0,f.useProvider)(null==A?void 0:A.sources),R=(0,p.useAnalyticsPayload)({buyToken:null==b?void 0:b.buyToken,sellToken:null==b?void 0:b.sellToken,buyAmount:null==A?void 0:A.buyAmount,sellAmount:null==A?void 0:A.sellAmount,phantomFee:null==A?void 0:A.fees.phantomFee.amount,priceImpact:null==A?void 0:A.priceImpact,provider:F,buyAssetUsdValue:E,sellAssetUsdValue:x}),N=null==b?void 0:b.buyToken.symbol,[C,L]=(0,o.useState)(),M=w&&C?(0,u.generateTxExplorerUrl)(C,w,n):"",D=(null==A?void 0:A.transactionData.length)||0,[O,U]=(0,o.useState)("loading"),_="success"===O,B="failure"===O,[q,G]=(0,o.useState)(void 0),{notEnoughSol:Q,txErrorMessage:j}=(0,y.useSwapError)(q),H=(0,o.useCallback)((()=>g(this,void 0,void 0,(function*(){if(U("loading"),L(void 0),G(void 0),!A)throw new Error("Trying to execute swap with no current quote");if(!t||!h)throw new Error("Trying to execute swap with no connection or signer.");try{const{transactionData:n}=A;for(const e of n){const n=(0,r.transactionStringToTransaction)(e,"bs58");(0,r.setRecentBlockhash)(n,yield(0,i.getLatestBlockhash)(t,"finalized"));const o=yield(0,i.signAndSendTransactionAsync)(t,h,n,{skipPreflight:!0});L(o),yield(0,i.waitForTransactionConfirmationAsync)(t,o,"confirmed")}U("success"),e.capture("swapperSwapSuccess",R),P(),(0,l.updateSellAssetAmount)({currentQuote:A,sellAsset:T,setSellAsset:k}),I()}catch(t){console.error(t);const n=(0,d.parseSwapError)(t);U("failure"),G(n),S&&S(n),e.capture("swapperSwapFailure",R)}}))),[e,R,t,A,S,I,P,T,k,h]),K=(0,o.useCallback)((()=>{(()=>{g(this,void 0,void 0,(function*(){yield H()}))})()}),[H]);return{buyAssetSymbol:N,isSuccess:_,isFailure:B,isLedger:s,notEnoughSol:Q,txError:q,txErrorMessage:j,txLink:M,executeSwap:K,resetSwapper:P,useExecuteSwapOnMount:()=>{(0,o.useEffect)((()=>{s||K()}),[])},numberOfTransactions:D}}})),s.register("iTFQj",(function(t,n){e(t.exports,"useSwapError",(function(){return d}));var r=s("lMzyG"),o=s("lDSNw");const i='"Custom":301',a="Insufficient funds for fee",u="lower balance than rent-exempt minimum",c="insufficient lamports",l="debit an account but found no record of a prior credit";function d(e){const{t:t}=(0,r.useTranslation)();return(0,o.useMemo)((()=>e&&e.message?{notEnoughSol:[a,c,l,u].some((t=>e.message.includes(t))),txErrorMessage:e.message.includes(i)?t("swapTxConfirmationSwapFailedSlippageLimit"):t("swapTxConfirmationSwapFailedTryAgain")}:{notEnoughSol:!1,txErrorMessage:""}),[e,t])}})),s.register("4UoVr",(function(t,n){e(t.exports,"useSwapProvidersProps",(function(){return l}));var r=s("lMzyG"),o=s("lDSNw"),i=s("gmVmN"),a=s("jG6nq"),u=s("4Fsq6"),c=s("lmbzb");function l(){const{t:e}=(0,r.useTranslation)(),{bestBuyAmount:t,quote:n,quotes:s,selectedProviderIndex:l}=(0,c.useQuote)(),d=(0,a.useSwapperStore)((e=>e.setSelectedProviderIndex));return{rows:(0,o.useMemo)((()=>n?s.map((r=>{const{buyAmount:o,sources:s}=r,a=Number(o),c=t-a,l=(0,i.amountToFormattedAmount)(c,n.buyToken.decimals);return{label:(0,u.parseSwapSources)(s),value:0===c?e("swapFeesBestPrice"):`- ${l} ${n.buyToken.symbol}`}})):[]),[t,n,s,e]),selectedProviderIndex:l,setSelectedProviderIndex:d}}})),s.register("jlxJl",(function(t,n){e(t.exports,"useSwapReviewButtonProps",(function(){return a}));var r=s("jG6nq"),o=s("oo4df"),i=s("lmbzb");function a(){const{currentQuote:e}=(0,i.useQuote)(),t=(0,r.useSwapperStore)((e=>e.hasNoRoutes)),n=(0,r.useSwapperStore)((e=>e.sellAsset)),s=(0,r.useSwapperStore)((e=>e.sellAmount)),a=(0,o.getMaxSellAmount)(n),u=Number(s)<=a;return{canSwap:!!e&&u&&!t,hasEnoughAssets:u,hasNoRoutes:t}}})),s.register("ezrMm",(function(t,n){e(t.exports,"useSwapReviewProps",(function(){return l}));var r=s("lDSNw"),o=s("9Khz2"),i=s("gmVmN"),a=s("jG6nq"),u=s("U54VQ"),c=s("lmbzb");function l(){const e=(0,a.useSwapperStore)((e=>e.buyAsset)),t=(0,a.useSwapperStore)((e=>e.sellAsset)),n=(0,a.useSwapperStore)((e=>e.sellAmount)),s=(0,a.useSwapperStore)((e=>e.setBuyUsdValue)),l=(0,a.useSwapperStore)((e=>e.setSellUsdValue)),{currentQuote:d,quote:p}=(0,c.useQuote)(),{data:f}=(0,u.useFetchUsdPrices)(t,e);return(0,r.useMemo)((()=>{var r,a;let u="",c="",m="",y="";if(!p||!e||!t)return{sellAmountText:m,sellAmountUsdText:y,buyAmountText:u,buyAmountUsdText:c};const{buyToken:g,sellToken:h}=p,{buyAmount:v}=d,S=(0,i.amountToUiAmount)(v,p.buyToken.decimals),w=Number(n),A=String(S).split(".")[0].length,b=n.split(".")[0].length,T=g.symbol.length,E=h.symbol.length,x=A&&T?A+T:0,k=b&&E?b+E:0;if(m=`${(0,i.formatTokenAmountForReviewScreen)(w,k)} ${h.symbol}`,u=`${(0,i.formatTokenAmountForReviewScreen)(S,x)} ${g.symbol}`,f){const n=(0,o.getMintPubkeyFromAsset)(e),u=(0,o.getMintPubkeyFromAsset)(t),d=f[n],p=f[u];if(d){const e=S*(null!==(r=d.usd)&&void 0!==r?r:0);c=`$${(0,i.formatTokenAmount)(e)}`,s(d.usd)}if(p){const e=w*(null!==(a=p.usd)&&void 0!==a?a:0);y=`$${(0,i.formatTokenAmount)(e)}`,l(p.usd)}}return{sellAmountText:m,sellAmountUsdText:y,buyAmountText:u,buyAmountUsdText:c}}),[p,e,t,d,n,f,s,l])}})),s.register("capuI",(function(t,n){e(t.exports,"useSwapSellAssetProps",(function(){return m}));var r=s("lDSNw"),o=s("NQvFB"),i=s("5Z2YQ"),a=s("9Khz2"),u=s("gmVmN"),c=s("54Hrp"),l=s("jG6nq"),d=s("1aTnH"),p=s("oo4df");const f=500;function m({owner:e,cluster:t,hiddenMints:n,isBalanceHidden:s}){const{data:m}=(0,a.useSPLAssets)({publicKey:e,standards:c.SWAP_ASSET_SELECT_TOKEN_STANDARDS,cluster:t,hiddenMints:n}),y=(0,l.useSwapperStore)((e=>e.sellAsset)),g=(0,l.useSwapperStore)((e=>e.sellAmount)),h=(0,l.useSwapperStore)((e=>e.uiSellAmount)),v=(0,l.useSwapperStore)((e=>e.setSellAmount)),S=(0,l.useSwapperStore)((e=>e.setSellAsset)),w=(0,l.useSwapperStore)((e=>e.setUiSellAmount)),[A,b]=(0,i.useDebouncedChangeHandler)(g,v,f),T=null==y?void 0:y.data.amount,E=y?y.data.decimals:0,x=(0,p.getMaxSellAmount)(y),k=Number(null!=g?g:0)>x,P=y&&y.data.logoURI?y.data.logoURI:c.INITIAL_SELL_ASSET.data.logoURI||"",I=y&&y.data.symbol?y.data.symbol:c.INITIAL_SELL_ASSET.data.symbol||"",F=s?` ${c.BALANCE_HIDDEN_TEXT}`:` ${x} ${y?y.data.symbol:""}`,R=(0,r.useCallback)((e=>{const t=(0,u.formatTokenAmountInputs)(e.substring(0,o.MOBILE_SWAP_INPUT_MAX_LENGTH)),n=(0,u.formatTokenAmountToMaxDecimals)(t,E);w(n),b(n)}),[E,b,w]),N=(0,r.useCallback)((()=>{R(x.toString())}),[x,R]),C=(0,r.useMemo)((()=>{if(y)return m.find((e=>(0,d.areAssetsEqual)(e,y)))}),[m,y]);return(0,r.useEffect)((()=>{C&&C.data.amount!==T&&S(C)}),[C,T,S]),{assetButtonTitle:I,decimals:E,formattedMaxSellAmount:F,iconUrl:P,notEnoughAssets:k,uiSellAmount:h,setMaxSellAmount:N,updateSellAmount:R}}})),s.register("8OL3L",(function(t,n){e(t.exports,"useSwapSellAssetsList",(function(){return c}));var r=s("lDSNw"),o=s("9Khz2"),i=s("jG6nq"),a=s("1aTnH"),u=s("5wiyh");function c(e){const{data:t,error:n,isFetching:s}=(0,o.useSPLAssets)(e),c=(0,i.useSwapperStore)((e=>e.sellAsset));return{data:(0,r.useMemo)((()=>{if(c){const e=t.findIndex((e=>(0,a.areAssetsEqual)(e,c))),n=t[e];n&&n.data.amount!==c.data.amount&&(t[e]=c)}return t.filter((e=>(0,u.canSellAsset)(e)))}),[t,c]),isError:!!n,isFetching:s}}})),s.register("5XgWR",(function(t,n){e(t.exports,"useMultichainSolanaOnlyInitialAssets",(function(){return s("69SK9").useInitialAssets})),e(t.exports,"useMultichainSolanaOnlySwapBuyAssetProps",(function(){return s("aAf0F").useSwapBuyAssetProps})),e(t.exports,"useMultichainSolanaOnlySwapConfirmationProps",(function(){return s("8dY63").useSwapConfirmationProps})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetProps",(function(){return s("hrBet").useSwapSellAssetProps})),e(t.exports,"useMultichainSolanaOnlySubscribeSwapQuoteToQueries",(function(){return s("1udAP").useSubscribeSwapQuoteToQueries})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetsList",(function(){return s("cTNXw").useSwapSellAssetsList})),e(t.exports,"useMultichainSolanaOnlySwapSetSellAsset",(function(){return s("aI6qU").useSwapSetSellAsset})),e(t.exports,"createSwapperHooks",(function(){return s("4odJk").createSwapperHooks})),e(t.exports,"useMultichainSolanaOnlyFetchSwapBuyAssetsList",(function(){return s("d4QqK").useFetchSwapBuyAssetsList})),e(t.exports,"useMultichainSolanaOnlySwapSetBuyAsset",(function(){return s("kgACH").useSwapSetBuyAsset})),e(t.exports,"useMultichainSolanaOnlySwapReviewButtonProps",(function(){return s("l8D4e").useSwapReviewButtonProps})),e(t.exports,"useMultichainSolanaOnlySwapReviewProps",(function(){return s("aiFwk").useSwapReviewProps})),e(t.exports,"useMultichainSolanaOnlySwapCardProps",(function(){return s("9DddH").useSwapCardProps}));s("69SK9"),s("aAf0F"),s("8dY63"),s("hrBet"),s("1udAP"),s("cTNXw"),s("aI6qU"),s("4odJk"),s("d4QqK"),s("kgACH"),s("l8D4e"),s("aiFwk"),s("9DddH")})),s.register("69SK9",(function(t,n){e(t.exports,"useInitialAssets",(function(){return a}));var r=s("lDSNw"),o=s("54Hrp"),i=s("jG6nq");function a({fungibleHooks:e,accountIdentifier:t}){const{fungibles:n}=e.useFungibles({accountId:t}),s=(0,i.useSwapperStore)((e=>e.setBuyFungible)),a=(0,i.useSwapperStore)((e=>e.setSellFungible));(0,r.useEffect)((()=>{const e=new Map(n.map((e=>[e.data.key,e]))),t=o.INITIAL_SELL_FUNGIBLE.data.key,r=o.INITIAL_BUY_FUNGIBLE.data.key,i=e.get(t)||o.INITIAL_SELL_FUNGIBLE,u=e.get(r)||o.INITIAL_BUY_FUNGIBLE;a(i),s(u)}),[])}})),s.register("aAf0F",(function(t,n){e(t.exports,"useSwapBuyAssetProps",(function(){return d}));var r=s("lDSNw"),o=s("gmVmN"),i=s("54Hrp"),a=s("lmbzb"),u=s("jG6nq"),c=s("kgACH"),l=s("aI6qU");function d(e){var t;const n=(0,u.useSwapperStore)((e=>e.sellFungible)),s=(0,u.useSwapperStore)((e=>e.buyFungible)),d=(0,u.useSwapperStore)((e=>e.isFetchingQuote)),p=(0,u.useSwapperStore)((e=>e.setSellAmount)),f=(0,u.useSwapperStore)((e=>e.setUiSellAmount)),m=(0,l.useSwapSetSellAsset)(e),y=(0,c.useSwapSetBuyAsset)(e),{currentQuote:g,quote:h}=(0,a.useQuote)(),v=String(g&&h?(0,o.amountToFormattedAmount)(g.buyAmount,h.buyToken.decimals):""),S=null!==(t=null==s?void 0:s.data.decimals)&&void 0!==t?t:0,w=s&&s.data.logoUri?s.data.logoUri:i.INITIAL_BUY_ASSET.data.logoURI||"",A=s&&s.data.symbol?s.data.symbol:i.INITIAL_BUY_ASSET.data.symbol||"",b=(0,r.useCallback)((()=>{p(v),f(v),s&&m(s),n&&y(n)}),[p,v,f,s,n,m,y]);return{assetButtonTitle:A,buyAmount:v,decimals:S,iconUrl:w,isFetchingQuote:d,onSwitchTokens:b}}})),s.register("kgACH",(function(t,n){e(t.exports,"useSwapSetBuyAsset",(function(){return a}));var r=s("lDSNw"),o=s("jG6nq"),i=s("lDrve");function a(e){const t=(0,o.useSwapperStore)((e=>e.setBuyFungible));return(0,r.useCallback)((n=>{const r=(0,i.getAnalyticsAsset)(n);e.capture("swapperUpdateToAsset",{asset:r}),t(n)}),[e,t])}})),s.register("lDrve",(function(t,n){e(t.exports,"getAnalyticsAsset",(function(){return i}));var r=s("gYh0e"),o=s("1dR1d");function i(e){return{chain:o.Chain.Solana,type:"fungible",address:e.type===r.FungibleTokenType.SPL?e.data.mintAddress:void 0,symbol:e.data.symbol}}})),s.register("aI6qU",(function(t,n){e(t.exports,"useSwapSetSellAsset",(function(){return u}));var r=s("lDSNw"),o=s("jG6nq"),i=s("ZzOLL"),a=s("lDrve");function u(e){const t=(0,o.useSwapperStore)((e=>e.buyFungible)),n=(0,o.useSwapperStore)((e=>e.sellFungible)),s=(0,o.useSwapperStore)((e=>e.setBuyFungible)),u=(0,o.useSwapperStore)((e=>e.setSellFungible));return(0,r.useCallback)((r=>{const o=(0,a.getAnalyticsAsset)(r);e.capture("swapperUpdateToAsset",{asset:o}),u(r),t&&n&&(0,i.areFungiblesEqual)(r,t)&&s(n)}),[e,t,n,s,u])}})),s.register("ZzOLL",(function(t,n){function r(e,t){return e.data.key===t.data.key}e(t.exports,"areFungiblesEqual",(function(){return r}))})),s.register("8dY63",(function(t,n){e(t.exports,"useSwapConfirmationProps",(function(){return w}),(function(e){return w=e}));var r=s("6e0KV"),o=s("lMzyG"),i=s("4raQz"),a=s("lDSNw"),u=s("HLcoo"),c=s("gmVmN"),l=s("y5Q4h"),d=s("9icBb"),p=s("8VnfO"),f=s("lmbzb"),m=s("iTFQj"),y=s("jG6nq");s("5ccQB");var g=s("ghFtg"),h=s("1wt2B"),v=s("3R7JV"),S=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function w({accountIdentifier:e,senderAddress:t,analytics:n,connection:s,explorer:w,isLedger:A,splAssetsArgs:b,solanaPrice:T,onError:E,swapperHooks:x,fungibleHooks:k,chainAddresses:P}){var I,F;const{t:R}=(0,o.useTranslation)(),{cluster:N}=b,{currentQuote:C,quote:L}=(0,f.useQuote)(),M=(0,y.useSwapperStore)((e=>e.sellFungible)),D=(0,y.useSwapperStore)((e=>e.buyUsdValue)),O=(0,y.useSwapperStore)((e=>e.sellUsdValue)),U=(0,y.useSwapperStore)((e=>e.setSellFungible)),_=(0,y.useSwapperStore)((e=>e.resetSwapper)),B=(0,p.useProvider)(null==C?void 0:C.sources),q=(0,d.useAnalyticsPayload)({buyToken:null==L?void 0:L.buyToken,sellToken:null==L?void 0:L.sellToken,buyAmount:null==C?void 0:C.buyAmount,sellAmount:null==C?void 0:C.sellAmount,phantomFee:null==C?void 0:C.fees.phantomFee.amount,priceImpact:null==C?void 0:C.priceImpact,provider:B,buyAssetUsdValue:D,sellAssetUsdValue:O}),G=null==L?void 0:L.sellToken.symbol,Q=null==L?void 0:L.buyToken.symbol,j=(0,c.amountToUiAmount)(null==C?void 0:C.sellAmount,null!==(I=null==L?void 0:L.sellToken.decimals)&&void 0!==I?I:0),H=(0,c.amountToUiAmount)(null==C?void 0:C.buyAmount,null!==(F=null==L?void 0:L.buyToken.decimals)&&void 0!==F?F:0),[K,V]=(0,a.useState)(),z=N&&K?(0,l.generateTxExplorerUrl)(K,N,w):"",W=(null==C?void 0:C.transactionData.length)||0,[$,J]=(0,a.useState)("loading"),Y="success"===$,X="failure"===$,[Z,ee]=(0,a.useState)(void 0),{notEnoughSol:te,txErrorMessage:ne}=(0,m.useSwapError)(Z),re=(0,a.useMemo)((()=>{var e;return{ownerAddress:null!==(e=null==t?void 0:t.address)&&void 0!==e?e:"",chainID:null==t?void 0:t.chainId,data:{signature:""},type:i.PendingTransactionType.Swap,display:{summary:{topLeft:{label:`${R("transactionsPendingSwapping")} on ${B}`},topRight:{label:`${H} ${Q}`,color:"#21E56F"},bottomLeft:{label:`${G} ${String.fromCharCode(8594)} ${Q}`},bottomRight:{label:`${j} ${G}`}}}}}),[H,Q,B,j,G,t,R]),oe=(0,a.useMemo)((()=>new(0,i.PriorityFeeService)(n)),[n]),{data:ie}=(0,v.usePriorityTransactions)(C,oe,s,T),{mutateAsync:se}=x.useSwapFungibles(null!=s?s:(0,u.createConnection)("mainnet-beta")),ae=(0,a.useCallback)((()=>S(this,void 0,void 0,(function*(){var o;if(J("loading"),V(void 0),ee(void 0),!C)throw new Error("Trying to execute swap with no current quote");if(!s)throw new Error("Trying to execute swap with no connection.");try{const i=null!==(o=null==ie?void 0:ie.priorityTxs)&&void 0!==o?o:[],s=yield se({chainType:r.ChainType.Solana,accountIdentifier:e,senderAddress:t,enrichedTransactions:i,pendingTransactionInput:re});V(s.signature),J("success"),n.capture("swapperSwapSuccess",q),_(),(0,h.updateSellFungibleAmount)({sellAmount:C.sellAmount,sellFungible:M,setSellFungible:U}),k.invalidateTokens(P)}catch(e){console.error(e);const t=(0,g.parseSwapError)(e);J("failure"),ee(t),E&&E(t),n.capture("swapperSwapFailure",q)}}))),[C,s,se,e,t,re,n,q,_,M,U,k,P,E,null==ie?void 0:ie.priorityTxs]),ue=(0,a.useCallback)((()=>{(()=>{S(this,void 0,void 0,(function*(){yield ae()}))})()}),[ae]);return{buyAssetSymbol:Q,isSuccess:Y,isFailure:X,isLedger:A,notEnoughSol:te,txError:Z,txErrorMessage:ne,txLink:z,executeSwap:ue,resetSwapper:_,useExecuteSwapOnMount:()=>{(0,a.useEffect)((()=>{A||ue()}),[])},numberOfTransactions:W}}})),s.register("1wt2B",(function(t,n){function r({sellAmount:e,sellFungible:t,setSellFungible:n}){if(t&&e){const r=Object.assign({},t);r.data.amount=String(Number(t.data.amount)-Number(e)),n(r)}}e(t.exports,"updateSellFungibleAmount",(function(){return r}))})),s.register("3R7JV",(function(t,n){e(t.exports,"usePriorityTransactions",(function(){return m}),(function(e){return m=e}));var r=s("6e0KV"),o=s("3fvLJ"),i=s("4yY1D"),a=s("4raQz"),u=s("lNRH9");s("g8eBL");var c=s("d0g1y");s("5ccQB");var l=s("fR691"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const p="swap-priority-fee",f=(e,t,n)=>d(void 0,void 0,void 0,(function*(){const r=(0,o.transactionStringToTransaction)(e,"bs58"),i=yield t.addPriorityFee(r,{connection:n,transactionType:a.TransactionTypeValue.Swap,calculators:{budget:new(0,a.StaticLimitCalculator)(a.COMPUTE_UNIT_LIMIT)}});return{priorityTx:i,networkFeeEstimation:yield(0,a.estimateFeeFromMessage)(n,i.message)}}));function m(e,t,n,o){const{networkFeeInCurrencyFormatted:s,totalFeesInCurrencyFormatted:m}=(0,c.useTotalFees)(e,o),y=[p,e];return(0,u.useQuery)({queryKey:y,queryFn:()=>d(this,void 0,void 0,(function*(){if(!e)throw new Error("Trying to execute swap with no current quote");if(!n)throw new Error("Trying to execute swap with no connection.");const{transactionData:u,fees:c}=e,{serumAccountDeposits:d,tokenAccountDeposits:p}=c;try{const e=u.map((e=>f(e,t,n))),i=yield Promise.all(e),s=i.map((e=>a.TransactionSerializationUtils.serialize(e.priorityTx).transaction)),c=i.map((e=>e.networkFeeEstimation.value)).reduce(((e,t)=>e+t)),m=c+d.amount+p.amount,y=(0,l.formatFee)(c,o),g=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:c}),h=null!=y?y:g,v=(0,l.formatFee)(m,o),S=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:m});return{priorityTxs:s,networkFeeWithPriority:h,totalFeesWithPriority:null!=v?v:S}}catch(e){return i.telemetry.captureError(e,i.FeatureTag.Transaction),{priorityTxs:u,networkFeeWithPriority:s,totalFeesWithPriority:m}}})),enabled:!!e&&!!n})}})),s.register("hrBet",(function(t,n){e(t.exports,"useSwapSellAssetProps",(function(){return f}));var r=s("lDSNw"),o=s("NQvFB"),i=s("5Z2YQ"),a=s("gmVmN"),u=s("54Hrp"),c=s("jG6nq"),l=s("ZzOLL"),d=s("oo4df");const p=500;function f({fungibleHooks:e,accountIdentifier:t,isBalanceHidden:n}){const s=(0,c.useSwapperStore)((e=>e.sellFungible)),f=(0,c.useSwapperStore)((e=>e.sellAmount)),m=(0,c.useSwapperStore)((e=>e.uiSellAmount)),y=(0,c.useSwapperStore)((e=>e.setSellAmount)),g=(0,c.useSwapperStore)((e=>e.setSellFungible)),h=(0,c.useSwapperStore)((e=>e.setUiSellAmount)),v=null==s?void 0:s.data.key,{fungibles:S}=e.useFungibles({accountId:t,showHiddenMints:!1,keys:v?[v]:void 0}),[w,A]=(0,i.useDebouncedChangeHandler)(f,y,p),b=null==s?void 0:s.data.amount,T=s?s.data.decimals:0,E=(0,d.getMaxSellAmount)(s),x=Number(null!=f?f:0)>E,k=s&&s.data.logoUri?s.data.logoUri:u.INITIAL_SELL_FUNGIBLE.data.logoUri||"",P=s&&s.data.symbol?s.data.symbol:u.INITIAL_SELL_FUNGIBLE.data.symbol||"",I=n?` ${u.BALANCE_HIDDEN_TEXT}`:` ${E} ${s?s.data.symbol:""}`,F=(0,r.useCallback)((e=>{const t=(0,a.formatTokenAmountInputs)(e.substring(0,o.MOBILE_SWAP_INPUT_MAX_LENGTH)),n=(0,a.formatTokenAmountToMaxDecimals)(t,T);h(n),A(n)}),[T,A,h]),R=(0,r.useCallback)((()=>{F(E.toString())}),[E,F]),N=(0,r.useMemo)((()=>{if(s)return S.find((e=>(0,l.areFungiblesEqual)(e,s)))}),[S,s]);return(0,r.useEffect)((()=>{N&&N.data.amount!==b&&g(N)}),[N,b,g]),{assetButtonTitle:P,decimals:T,formattedMaxSellAmount:I,iconUrl:k,notEnoughAssets:x,uiSellAmount:m,setMaxSellAmount:R,updateSellAmount:F}}})),s.register("1udAP",(function(t,n){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return l}));var r=s("gYh0e"),o=s("lDSNw"),i=s("NQvFB"),a=s("gmVmN"),u=s("bpPar"),c=s("jG6nq");function l(e){const t=(0,c.useSwapperStore)((e=>e.sellAmount)),n=(0,c.useSwapperStore)((e=>e.buyFungible)),s=(0,c.useSwapperStore)((e=>e.sellFungible)),l=(0,c.useSwapperStore)((e=>e.resetQuote)),d=(0,c.useSwapperStore)((e=>e.setHasNoRoutes)),p=(0,c.useSwapperStore)((e=>e.setIsFetchingQuote)),f=(0,c.useSwapperStore)((e=>e.setQuote)),m=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),y=s&&s.type===r.FungibleTokenType.SPL?s.data.mintAddress:i.WRAPPED_SOLANA.address,g=n&&n.type===r.FungibleTokenType.SPL?n.data.mintAddress:i.WRAPPED_SOLANA.address,h=(0,o.useMemo)((()=>parseFloat(t)>0&&s?String((0,a.uiAmountToAmount)(t,s.data.decimals)):(l(),"")),[l,t,s]),{data:v,isError:S,isFetching:w}=(0,u.useFetchSwapQuote)({sellAmount:h,sellTokenMint:y,buyTokenMint:g,publicKey:e}),A=(0,o.useCallback)((e=>{e.quotes.sort(((e,t)=>parseInt(t.buyAmount)-parseInt(e.buyAmount))),m(0),p(!1),d(!1),f(e)}),[d,p,f,m]),b=(0,o.useCallback)((()=>{l(),p(!1),d(!0)}),[l,d,p]);(0,o.useEffect)((()=>{w?p(!0):v?A(v):S&&b()}),[S,v,w,A,b,p])}})),s.register("cTNXw",(function(t,n){e(t.exports,"useSwapSellAssetsList",(function(){return c}));var r=s("6e0KV"),o=s("lDSNw"),i=s("jG6nq"),a=s("ZzOLL"),u=s("5wiyh");function c(e,t){const{fungibles:n,isErrorTokens:s,isLoadingTokens:c}=e.useFungibles({accountId:t,showHiddenMints:!1}),l=n.filter((e=>(0,r.isSolanaChainID)(e.data.chain.id))),d=(0,i.useSwapperStore)((e=>e.sellFungible));return{data:(0,o.useMemo)((()=>{if(d){const e=l.findIndex((e=>(0,a.areFungiblesEqual)(e,d))),t=l[e];t&&t.data.amount!==d.data.amount&&(l[e]=d)}return l.filter((e=>(0,u.canSellAsset)(e)))}),[l,d]),isError:!!s,isFetching:c}}})),s.register("4odJk",(function(t,n){e(t.exports,"createSwapperHooks",(function(){return o}));var r=s("eeNhL");function o(e){return{useSwapFungibles:t=>(0,r.useSwapFungibles)(e,t)}}})),s.register("eeNhL",(function(t,n){e(t.exports,"useSwapFungibles",(function(){return d}),(function(e){return d=e}));var r=s("6e0KV"),o=s("3fvLJ"),i=s("4raQz"),a=s("fG04A"),u=s("5q8rs"),c=s("k8D9t"),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const d=(e,t)=>{const{mutateAsync:n}=e.useSignAndSendSolanaTransactionAsync(t);return(0,a.useMutation)({mutationFn:({chainType:e,accountIdentifier:s,senderAddress:a,enrichedTransactions:d,pendingTransactionInput:p})=>l(void 0,void 0,void 0,(function*(){if(!t)throw i.MissingConnectionError;if(!a)throw c.MissingSenderAddressError;if((0,r.getChainType)(a.chainId)!==e)throw i.IncompatibleChainIDError;const{chainId:l}=a;let f;if(!(0,r.isSolanaChainID)(l))throw i.IncompatibleChainIDError;if(0===d.length)throw c.MissingTransactionsError;const m=new(0,o.PublicKey)(a.address),y=yield(0,u.getLatestBlockhash)(t,"confirmed");for(const e of d){const r=(0,o.transactionStringToTransaction)(e,"bs58");if((0,o.setRecentBlockhash)(r,y),f=yield n({accountIdentifier:s,feePayer:m,transaction:r,pendingTransactionInput:p,opts:{skipPreflight:!0}}),!f)throw c.MissingSignatureError;yield(0,u.waitForTransactionConfirmationAsync)(t,f)}return{chainID:l,signature:null!=f?f:""}}))})}})),s.register("k8D9t",(function(t,n){e(t.exports,"MissingSenderAddressError",(function(){return r})),e(t.exports,"MissingSignatureError",(function(){return o})),e(t.exports,"MissingTransactionsError",(function(){return i}));const r=new Error("Missing sender address for swapping fungibles."),o=new Error("Missing signature from swapping fungibles."),i=new Error("Missing transactions for swapping fungibles.")})),s.register("d4QqK",(function(t,n){e(t.exports,"useFetchSwapBuyAssetsList",(function(){return m}),(function(e){return m=e}));var r=s("gYh0e"),o=s("9CLLq"),i=s("lNRH9"),a=s("lDSNw"),u=s("NQvFB"),c=s("54Hrp"),l=s("jG6nq");s("5ccQB");var d=s("6zcIO"),p=s("akwou"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function m(e,t){const{owner:n}=t,s=(0,a.useMemo)((()=>new Map(e.map((e=>[e.data.key,e])))),[e]),m=(0,l.useSwapperStore)((e=>e.sellFungible)),y=m&&m.type===r.FungibleTokenType.SPL?m.data.mintAddress:u.WRAPPED_SOLANA.address,g=!!y&&!!e,h=["fetch-swap-to-assets-list",y];return(0,i.useQuery)({enabled:g,queryKey:h,queryFn:function(){return f(this,void 0,void 0,(function*(){const e=yield(0,d.getSwapPairsAsync)([y]),t=[],i=e[y],{length:a}=i;for(let e=0;e<a;e++){const o=i[e],a=o.mint===u.WRAPPED_SOLANA.address&&c.SHOULD_UNWRAP_WRAPPED_SOL?r.FungibleTokenType.SolanaNative:o.mint;let l;const d=s.get(a),f=void 0!==d&&d.type===r.FungibleTokenType.SPL&&""!==d.data.splTokenAccountPubkey,m=void 0!==d&&d.type===r.FungibleTokenType.SolanaNative;l=f||m?d:(0,p.swapPairsAssetInfoToFungible)(o,n),l&&t.push(l)}return e?t.sort(o.compareFungibles):[]}))}})}})),s.register("akwou",(function(t,n){e(t.exports,"swapPairsAssetInfoToFungible",(function(){return a}));var r=s("6e0KV"),o=s("gYh0e");const i={id:r.ChainID.SolanaMainnet,imageUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",symbol:"SOL"},a=(e,t)=>{var n;return e.decimals&&e.name&&e.symbol?{type:o.FungibleTokenType.SPL,data:{amount:"0",balance:0,chain:i,coingeckoId:null,decimals:e.decimals,key:e.mint,logoUri:null!==(n=e.imageUrl)&&void 0!==n?n:null,mintAddress:e.mint,name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:e.mint,walletAddress:t}}:null}})),s.register("l8D4e",(function(t,n){e(t.exports,"useSwapReviewButtonProps",(function(){return d}));var r=s("gYh0e"),o=s("lDSNw"),i=s("gmVmN"),a=s("lmbzb"),u=s("d0g1y"),c=s("jG6nq"),l=s("oo4df");function d({accountHooks:e,fungibleHooks:t}){var n;const{currentQuote:s}=(0,a.useQuote)(),d=(0,c.useSwapperStore)((e=>e.hasNoRoutes)),p=(0,c.useSwapperStore)((e=>e.sellFungible)),f=(0,c.useSwapperStore)((e=>e.sellAmount)),m=(0,l.getMaxSellAmount)(p),{data:y}=e.useSelectedMultiChainAccount(),{fungibles:g=[]}=t.useFungibles({accountId:null!==(n=null==y?void 0:y.identifier)&&void 0!==n?n:"",showHiddenMints:!1}),h=(0,o.useMemo)((()=>g.find((e=>e.data.key===r.FungibleTokenType.SolanaNative))),[g]),{totalFeesInLamports:v=0}=(0,u.useTotalFees)(s,null==h?void 0:h.data),S=(0,o.useMemo)((()=>{var e;return(null!==(e=null==h?void 0:h.data.balance)&&void 0!==e?e:0)<(0,i.lamportsToSolana)(v)}),[null==h?void 0:h.data.balance,v]),w=Number(f)<=m;return{canSwap:!!s&&w&&!d,hasEnoughAssets:w,hasNoRoutes:d,hasNoFundsForFees:S}}})),s.register("aiFwk",(function(t,n){e(t.exports,"useSwapReviewProps",(function(){return d}));var r=s("gYh0e"),o=s("lDSNw"),i=s("NQvFB"),a=s("jgGEH"),u=s("gmVmN"),c=s("lmbzb"),l=s("jG6nq");function d(e){var t,n;const s=(0,l.useSwapperStore)((e=>e.buyFungible)),d=(0,l.useSwapperStore)((e=>e.sellFungible)),p=(0,l.useSwapperStore)((e=>e.sellAmount)),f=(0,l.useSwapperStore)((e=>e.setBuyUsdValue)),m=(0,l.useSwapperStore)((e=>e.setSellUsdValue)),y=[null!==(t=null==s?void 0:s.data.coingeckoId)&&void 0!==t?t:"",null!==(n=null==d?void 0:d.data.coingeckoId)&&void 0!==n?n:""],g=e.usePrices([{type:"id",data:y}]).reduce(((e,t)=>Object.assign(Object.assign({},e),t.data)),{}),{currentQuote:h,quote:v}=(0,c.useQuote)(),S=(0,o.useCallback)(((e,t)=>{if(void 0!==t)return e.type===r.FungibleTokenType.SolanaNative?t[i.SOLANA_COINGECKO_ID]:e.type===r.FungibleTokenType.SPL&&a.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]?t[a.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]]:e.type===r.FungibleTokenType.SPL?t[e.data.mintAddress]:void 0}),[]);return(0,o.useMemo)((()=>{let e="",t="",n="",r="";if(!v||!s||!d)return{sellAmountText:n,sellAmountUsdText:r,buyAmountText:e,buyAmountUsdText:t};const{buyToken:o,sellToken:i}=v,{buyAmount:a}=h,c=(0,u.amountToUiAmount)(a,v.buyToken.decimals),l=Number(p),y=String(c).split(".")[0].length,w=p.split(".")[0].length,A=o.symbol.length,b=i.symbol.length,T=y&&A?y+A:0,E=w&&b?w+b:0;n=`${(0,u.formatTokenAmountForReviewScreen)(l,E)} ${i.symbol}`,e=`${(0,u.formatTokenAmountForReviewScreen)(c,T)} ${o.symbol}`;const x=S(s,g),k=S(d,g);if(null==x?void 0:x.usd){const e=c*x.usd;t=`$${(0,u.formatTokenAmount)(e)}`,f(x.usd)}if(null==k?void 0:k.usd){const e=l*k.usd;r=`$${(0,u.formatTokenAmount)(e)}`,m(k.usd)}return{sellAmountText:n,sellAmountUsdText:r,buyAmountText:e,buyAmountUsdText:t}}),[v,s,d,h,p,f,m,S,g])}})),s.register("9DddH",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return p}));var r=s("4raQz"),o=s("lDSNw"),i=s("i0tUX"),a=s("7m6uo"),u=s("kGQ4c"),c=s("8VnfO"),l=s("lmbzb"),d=s("3R7JV");function p(e,t,n){var s,p;const{bestBuyAmount:f,currentQuote:m,hasNoRoutes:y,quote:g}=(0,l.useQuote)(),h=(0,i.useExchangeRate)(f,g,m),v=(0,u.usePriceImpact)(null==m?void 0:m.priceImpact),S=(0,c.useProvider)(null==m?void 0:m.sources),w=(0,a.usePhantomFee)(null==m?void 0:m.fees),A=(0,o.useMemo)((()=>new(0,r.PriorityFeeService)(e)),[e]),{data:b,isFetching:T}=(0,d.usePriorityTransactions)(m,A,t,n);return{exchangeRate:h,hasNoRoutes:y,phantomFee:w,priceImpact:v,provider:S,quote:g,networkFee:null!==(s=null==b?void 0:b.networkFeeWithPriority)&&void 0!==s?s:"",totalFees:null!==(p=null==b?void 0:b.totalFeesWithPriority)&&void 0!==p?p:"",isFetchingSwapFee:T}}})),s.register("uleZn",(function(e,t){})),s.register("7Iqpf",(function(t,n){e(t.exports,"createSwapperMultichainHooks",(function(){return p}));var r=s("jP15q"),o=s("LF6im"),i=s("8a56b"),a=s("8QLW2"),u=s("9lCnQ"),c=s("bI5bc"),l=s("2wJbS"),d=s("9DiiZ");function p(e,t,n,s,p,f,m,y){return{useSwapPairs:e=>(0,o.useSwapPairs)(e,n),useSwapQuotes:(e,t,r,o,s)=>(0,i.useSwapQuotes)(e,t,r,o,s,n),useSwapCardProps:(e,t)=>(0,a.useSwapCardProps)(s,n,e,t),useSwapProvidersProps:()=>(0,c.useSwapProvidersProps)(n),useSwapReviewProps:()=>(0,d.useSwapReviewProps)(n,p),useSwapReviewButtonProps:()=>(0,l.useSwapReviewButtonProps)(m,f),useSwapConfirmationProps:(n,r,o,i)=>(0,u.useSwapConfirmationProps)({accountProxy:e,storage:t,accountIdentifier:n,chainAddresses:r,isLedger:o,onError:i,fungibleHooks:f,priceHooks:p,settingsHooks:y,analytics:s}),useMultichainSwapFungibles:(n,o)=>(0,r.useMultichainSwapFungibles)({accountProxy:e,storage:t,accountIdentifier:n,chainId:o})}}})),s.register("jP15q",(function(t,n){e(t.exports,"useMultichainSwapFungibles",(function(){return c}),(function(e){return c=e}));var r=s("6e0KV"),o=s("fG04A"),i=s("3GMGX"),a=s("h2cvq"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=({accountIdentifier:e,chainId:t,accountProxy:n,storage:s})=>(0,o.useMutation)({mutationFn:o=>u(void 0,void 0,void 0,(function*(){const u=o.type;if(u===r.ChainType.Ethereum){const{callerAddress:r,exchangeAddress:a,sellTokenAddress:c,sellAmount:l,transactionData:d,gasEstimation:p,pendingApprovalActivityRows:f,pendingSwapActivityRows:m}=o,y=yield(0,i.swapTransactionEvm)({callerAddress:r,exchangeAddress:a,sellTokenAddress:c,sellAmount:l,chainId:t,transactionData:d,gasEstimation:p,pendingSwapActivityRows:m,pendingApprovalActivityRows:f,accountIdentifier:e,accountProxy:n,storage:s});return{chainID:t,chainType:u,transactionHash:y}}if(u===r.ChainType.Solana){const{callerAddress:r,connection:i,transactions:c,pendingSwapActivityRows:l}=o,d=yield(0,a.swapTransactionSolana)({callerAddress:r,connection:i,chainId:t,transactions:c,pendingSwapActivityRows:l,accountIdentifier:e,accountProxy:n,storage:s});return{chainID:t,chainType:u,signature:d}}throw new Error("unsupported")}))})})),s.register("3GMGX",(function(t,n){e(t.exports,"swapTransactionEvm",(function(){return c}),(function(e){return c=e}));var r=s("6e0KV"),o=s("4chX7"),i=s("4raQz"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=({chainId:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:r,accountProxy:o,storage:s})=>({accountProxy:o,accountIdentifier:r,chainID:e,unsignedTransaction:t,callPayload:{from:t.from,to:t.to,data:t.data},pendingTransactionInput:{ownerAddress:t.from,chainID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:i.PendingTransactionType.Swap,display:{summary:n}},storage:s}),c=({callerAddress:e,exchangeAddress:t,sellTokenAddress:n,sellAmount:s,chainId:c,transactionData:l,gasEstimation:d,pendingApprovalActivityRows:p,pendingSwapActivityRows:f,accountIdentifier:m,accountProxy:y,storage:g})=>a(void 0,void 0,void 0,(function*(){if((yield(0,i.getERC20Allowance)({callerAddress:e,spender:t,chainId:c,contractAddress:n})).lt(s)){const r=yield(0,i.getERC20Approval)({callerAddress:e,spender:t,chainId:c,contractAddress:n,gasEstimation:d}),o=u({chainId:c,accountIdentifier:m,pendingActivityRows:p,accountProxy:y,storage:g,unsignedTransaction:r});yield(0,i.signAndSendEthereumTransactionAsync)(o)}const a=o.EthUnsignedTransactionObject.parse({type:o.TransactionTypes.eip1559,from:e,data:l,chainId:(0,r.getEthereumChainID)(c),to:t,gas:`0x${d.gasLimit.toString(16)}`,maxFeePerGas:`0x${d.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${d.maxPriorityFeePerGas.toString(16)}`}),h=u({chainId:c,accountIdentifier:m,pendingActivityRows:f,accountProxy:y,storage:g,unsignedTransaction:a});return(0,i.signAndSendEthereumTransactionAsync)(h)}))})),s.register("h2cvq",(function(t,n){e(t.exports,"swapTransactionSolana",(function(){return c}),(function(e){return c=e}));var r=s("3fvLJ"),o=s("4raQz"),i=s("5q8rs"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=({chainId:e,transaction:t,feePayer:n,connection:r,pendingActivityRows:i,accountIdentifier:s,accountProxy:a,storage:u})=>({accountProxy:a,accountIdentifier:s,transaction:t,feePayer:n,connection:r,opts:{skipPreflight:!0},pendingTransactionInput:{ownerAddress:n.toBase58(),chainID:e,data:{signature:""},type:o.PendingTransactionType.Swap,display:{summary:i}},storage:u}),c=({callerAddress:e,connection:t,chainId:n,transactions:s,pendingSwapActivityRows:c,accountIdentifier:l,accountProxy:d,storage:p})=>a(void 0,void 0,void 0,(function*(){const a=new(0,r.PublicKey)(e),f=(yield t.getLatestBlockhash("confirmed")).blockhash;let m;for(const e of s){const s=(0,r.transactionStringToTransaction)(e,"bs58");(0,r.setRecentBlockhash)(s,f);const y=u({chainId:n,transaction:s,feePayer:a,connection:t,pendingActivityRows:c,accountIdentifier:l,accountProxy:d,storage:p});m=yield(0,o.signAndSendSolanaTransactionAsync)(y),yield(0,i.waitForTransactionConfirmationAsync)(t,m)}return null!=m?m:""}))})),s.register("LF6im",(function(t,n){e(t.exports,"useSwapPairs",(function(){return l}),(function(e){return l=e}));var r=s("4yY1D"),o=s("lNRH9"),i=s("o7oME"),a=s("eVFQN"),u=s("1TYDM"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,t)=>(0,o.useQuery)({queryKey:a.swapperQueryKeys.pairs(e),cacheTime:u.CacheTime.Medium,staleTime:u.StaleTime.Long,refetchInterval:u.RefetchInterval.Short,onError(e){e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper)},queryFn({queryKey:[,,{sellToken:e}]}){return c(this,void 0,void 0,(function*(){const n=t();return(0,i.getSwapPairs)(n,e)}))}})})),s.register("o7oME",(function(n,r){e(n.exports,"getSwapPairs",(function(){return c}),(function(e){return c=e}));var o=s("6656F"),i=s("dyYv0"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch pairs for token");function c(e,n){return a(this,void 0,void 0,(function*(){try{const r=`${e}/swap/v2/pairs`,s=yield t(o)(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokens:[n],includeMetadata:!0})});if(!s.ok)throw u;const a=yield s.json();if(!a.tokens)throw u;return(0,i.parseSwapPairsResponse)(a.tokens)}catch(e){throw u}}))}})),s.register("dyYv0",(function(t,n){e(t.exports,"parseSwapPairsResponse",(function(){return i}));var r=s("9x9XK"),o=s("jVcYB");const i=e=>{var t;const n=[],i=Object.keys(e)[0];if(r.BRI.safeParse(i).success){(null!==(t=e[i])&&void 0!==t?t:[]).forEach((e=>{const t=o.SwapToken.safeParse(e);t.success&&n.push(t.data)}))}return n}})),s.register("jVcYB",(function(t,n){e(t.exports,"SwapToken",(function(){return i})),e(t.exports,"SolanaQuoteResponse",(function(){return y})),e(t.exports,"EvmQuoteNetworkResponse",(function(){return g})),e(t.exports,"QuoteType",(function(){return v}));var r=s("7pPsM");const o=r.z.object({coingeckoId:r.z.optional(r.z.string())}),i=r.z.object({chainId:r.z.number(),address:r.z.string(),name:r.z.string(),symbol:r.z.string(),decimals:r.z.number(),logoURI:r.z.string(),extensions:r.z.optional(o)}),a=r.z.object({amount:r.z.number(),token:r.z.string(),pct:r.z.optional(r.z.number())}),u=r.z.object({phantomFee:a,feeSummaryByToken:r.z.record(r.z.number()),networkFees:a,tokenAccountDeposits:a,serumAccountDeposits:a}),c=r.z.object({name:r.z.string(),sellToken:r.z.string(),buyToken:r.z.string(),sellAmount:r.z.string(),buyAmount:r.z.string(),priceImpact:r.z.number(),fees:r.z.object({platformFee:a,lpFee:a})}),l=r.z.object({name:r.z.string(),proportion:r.z.string()}),d=r.z.object({buyAmount:r.z.string(),sellAmount:r.z.string(),priceImpact:r.z.number()}),p=d.extend({fees:u,sources:r.z.array(c),transactionData:r.z.array(r.z.string())}),f=d.extend({sources:r.z.array(l),transactionData:r.z.string()}),m=(r.z.union([p,f]),r.z.object({quoteSearchStartedAtTimestamp:r.z.number(),preparedResponseAtTimestamp:r.z.number(),slippageTolerance:r.z.number(),routesConsidered:r.z.number(),taker:r.z.string(),buyToken:r.z.string(),sellToken:r.z.string()})),y=m.extend({quotes:r.z.array(p)}),g=m.extend({guaranteedPrice:r.z.string(),exchangeAddress:r.z.string(),protocolFee:r.z.string(),minimumProtocolFee:r.z.string(),allowanceTarget:r.z.string(),transactionData:r.z.string(),sources:r.z.array(l)}),h=m.extend({guaranteedPrice:r.z.string(),exchangeAddress:r.z.string(),protocolFee:r.z.string(),minimumProtocolFee:r.z.string(),allowanceTarget:r.z.string(),quotes:r.z.array(f)}),v=r.z.enum(["solana","evm"]);r.z.object({type:v,data:r.z.union([y,h])})})),s.register("eVFQN",(function(t,n){e(t.exports,"swapperQueryKeys",(function(){return o}));const r="swapper",o={pairs:e=>[r,"pairs",{sellToken:e}],quotes:(e,t,n,o,i)=>[r,"quotes",{sellToken:e,buyToken:t,taker:n,sellAmount:o,slippageTolerance:i}]}})),s.register("1TYDM",(function(t,n){e(t.exports,"CacheTime",(function(){return r})),e(t.exports,"StaleTime",(function(){return i})),e(t.exports,"RefetchInterval",(function(){return u}));var r,o,i,a,u,c,l=s("4y59b");(o=r||(r={}))[o.Always=1/0]="Always",o[o.Short=(0,l.toMilliseconds)({days:1})]="Short",o[o.Medium=(0,l.toMilliseconds)({days:3})]="Medium",o[o.Long=(0,l.toMilliseconds)({days:7})]="Long",(a=i||(i={}))[a.Immediate=0]="Immediate",a[a.Short=(0,l.toMilliseconds)({minutes:1})]="Short",a[a.Medium=(0,l.toMilliseconds)({minutes:2.5})]="Medium",a[a.Long=(0,l.toMilliseconds)({minutes:5})]="Long",a[a.Never=1/0]="Never",(c=u||(u={}))[c.Short=(0,l.toMilliseconds)({minutes:1})]="Short",c[c.Medium=(0,l.toMilliseconds)({minutes:2.5})]="Medium",c[c.Long=(0,l.toMilliseconds)({minutes:5})]="Long"})),s.register("8a56b",(function(t,n){e(t.exports,"useSwapQuotes",(function(){return l}),(function(e){return l=e}));var r=s("4yY1D"),o=s("lNRH9"),i=s("gd6vn"),a=s("eVFQN"),u=s("1TYDM"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,t,n,s,l,d)=>{const p=a.swapperQueryKeys.quotes(e,t,n,s,l);return(0,o.useQuery)({queryKey:p,enabled:s>0,cacheTime:u.CacheTime.Medium,staleTime:u.StaleTime.Long,refetchInterval:u.RefetchInterval.Short,onError(e){e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper)},queryFn({queryKey:[,,{sellToken:e,buyToken:t,taker:n,sellAmount:r,slippageTolerance:o}]}){return c(this,void 0,void 0,(function*(){const s=d();return(0,i.getSwapQuotes)(s,e,t,n,r,o)}))}})}})),s.register("gd6vn",(function(n,r){e(n.exports,"getSwapQuotes",(function(){return c}),(function(e){return c=e}));var o=s("6656F"),i=s("i1Fln"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch quotes for trade");function c(e,n,r,s,c,l){return a(this,void 0,void 0,(function*(){try{const a=`${e}/swap/v2/quote`,d=yield t(o)(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellToken:n,buyToken:r,taker:s,sellAmount:c,slippageTolerance:l})});if(!d.ok)throw u;const p=yield d.json();return(0,i.parseSwapQuotesResponse)(c,p)}catch(e){throw u}}))}})),s.register("i1Fln",(function(t,n){e(t.exports,"parseSwapQuotesResponse",(function(){return o}));var r=s("jVcYB");const o=(e,t)=>{if(!1===r.QuoteType.safeParse(null==t?void 0:t.type).success)throw new Error("Invalid input");if(t.type===r.QuoteType.enum.solana){const e=r.SolanaQuoteResponse.safeParse(t.data);if(e.success){const{data:t}=e;return{type:r.QuoteType.enum.solana,data:Object.assign(Object.assign({},t),{quotes:t.quotes.sort(((e,t)=>parseInt(t.buyAmount)-parseInt(e.buyAmount)))})}}}else if("evm"===t.type){const n=r.EvmQuoteNetworkResponse.safeParse(t.data);if(n.success){const{data:t}=n;return{type:r.QuoteType.enum.evm,data:{buyToken:t.buyToken,sellToken:t.sellToken,guaranteedPrice:t.guaranteedPrice,exchangeAddress:t.exchangeAddress,protocolFee:t.protocolFee,minimumProtocolFee:t.minimumProtocolFee,allowanceTarget:t.allowanceTarget,quotes:[{buyAmount:(Number(t.guaranteedPrice)*Math.pow(10,18)).toString(),sellAmount:e.toString(),priceImpact:.0005404478103655519,sources:t.sources.filter((e=>"0"!==e.proportion)).sort(((e,t)=>Number(t.proportion)-Number(e.proportion))),transactionData:t.transactionData}]}}}}throw new Error("Failed to parse swap quote response")}})),s.register("8QLW2",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return h}));var r=s("6e0KV"),o=s("4raQz"),i=s("lDSNw"),a=s("54Hrp"),u=s("7m6uo"),c=s("kGQ4c"),l=s("LF6im"),d=s("jG6nq"),p=s("kMuzw"),f=s("22OQS"),m=s("jiId9"),y=s("gKvdH"),g=s("dsQFW");function h(e,t,n,s){var h,v,S,w,A;const{bestBuyAmount:b,currentQuote:T,hasNoRoutes:E,multichainQuoteResponse:x,quotes:k}=(0,y.useQuote)(),P=null!==(h=(0,d.useSwapperStore)((e=>e.sellFungible)))&&void 0!==h?h:a.INITIAL_SELL_FUNGIBLE,I=(0,g.useSwapAssetChainAddress)(P),{data:F}=(0,l.useSwapPairs)(I,t),R=(0,p.useExchangeRate)(b,x,T,F),N=(0,c.usePriceImpact)(null==T?void 0:T.priceImpact),C=(0,m.useProvider)(null!==(v=null==T?void 0:T.sources)&&void 0!==v?v:[]),L=null!==(S=null==P?void 0:P.data.chain.id)&&void 0!==S?S:r.ChainID.SolanaMainnet,{data:M}=(0,o.useEthereumTransactionGasEstimation)((0,r.isEVMChainID)(L)?L:r.ChainID.EthereumMainnet,o.EvmGasPreset.standard),D=(0,u.usePhantomFee)(null!==(w=null==T?void 0:T.fees)&&void 0!==w?w:0),O=(0,i.useMemo)((()=>new(0,o.PriorityFeeService)(e)),[e]),{data:U,isFetching:_}=(0,f.usePriorityTransactions)(T,O,n,s);return{exchangeRate:R,hasNoRoutes:E,phantomFee:D,priceImpact:N,provider:C,networkFee:(0,i.useMemo)((()=>(null==U?void 0:U.networkFeeWithPriority)?U.networkFeeWithPriority:M?M.gasLimit.multipliedBy(M.maxFeePerGas).toString():""),[null==U?void 0:U.networkFeeWithPriority,M]),totalFees:null!==(A=null==U?void 0:U.totalFeesWithPriority)&&void 0!==A?A:"",isFetchingSwapFee:_,nrOfQuotes:k.length}}})),s.register("kMuzw",(function(t,n){e(t.exports,"useExchangeRate",(function(){return a}));var r=s("lDSNw"),o=s("gmVmN"),i=s("jG6nq");function a(e,t,n,s=[]){const[a,u]=(0,r.useState)(!1),c=(0,r.useCallback)((()=>u(!a)),[a]),l=(0,i.useSwapperStore)((e=>e.sellFungible));return(0,r.useMemo)((()=>{let r=!1,i="";if(t&&n){const{buyToken:u}=t.data,c=s.find((e=>e.address===u)),d=null==l?void 0:l.data;if(c&&d){const{buyAmount:t,sellAmount:s}=n,u=(0,o.amountToUiAmount)(t,c.decimals)/(0,o.amountToUiAmount)(s,d.decimals),l=`1 ${d.symbol} â‰ˆ ${(0,o.formatTokenAmount)(u)} ${c.symbol}`,p=`1 ${c.symbol} â‰ˆ ${(0,o.formatTokenAmount)(1/u)} ${d.symbol}`;r=Number(n.buyAmount)===e,i=a?p:l}}return{isBestRate:r,rate:i,flip:c}}),[e,n,a,t,l,c,s])}})),s.register("22OQS",(function(t,n){e(t.exports,"usePriorityTransactions",(function(){return y}),(function(e){return y=e}));var r=s("6e0KV"),o=s("3fvLJ"),i=s("4yY1D"),a=s("4raQz"),u=s("lNRH9");s("5ccQB");var c=s("fR691"),l=s("cOjLP"),d=s("55j1G"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f="swap-priority-fee",m=(e,t,n)=>p(void 0,void 0,void 0,(function*(){const r=(0,o.transactionStringToTransaction)(e,"bs58"),i=yield t.addPriorityFee(r,{connection:n,transactionType:a.TransactionTypeValue.Swap,calculators:{budget:new(0,a.StaticLimitCalculator)(a.COMPUTE_UNIT_LIMIT)}});return{priorityTx:i,networkFeeEstimation:yield(0,a.estimateFeeFromMessage)(n,i.message)}}));function y(e,t,n,o){const{networkFeeInCurrencyFormatted:s,totalFeesInCurrencyFormatted:y}=(0,d.useTotalFees)(e,o),g=[f,e];return(0,u.useQuery)({queryKey:g,queryFn:()=>p(this,void 0,void 0,(function*(){if(!e)throw new Error("Trying to execute swap with no current quote");if(!n)throw new Error("Trying to execute swap with no connection.");if(!(0,l.isSolanaSwapQuote)(e))throw new Error("Trying to prioritize non-solana swap");const{transactionData:u,fees:d}=e,{serumAccountDeposits:p,tokenAccountDeposits:f}=d;try{const e=u.map((e=>m(e,t,n))),i=yield Promise.all(e),s=i.map((e=>a.TransactionSerializationUtils.serialize(e.priorityTx).transaction)),l=i.map((e=>e.networkFeeEstimation.value)).reduce(((e,t)=>e+t)),d=l+p.amount+f.amount,y=(0,c.formatFee)(l,o),g=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:l}),h=null!=y?y:g,v=(0,c.formatFee)(d,o),S=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:d});return{priorityTxs:s,networkFeeWithPriority:h,totalFeesWithPriority:null!=v?v:S}}catch(e){return i.telemetry.captureError(e,i.FeatureTag.Transaction),{priorityTxs:u,networkFeeWithPriority:s,totalFeesWithPriority:y}}})),enabled:!!e&&(0,l.isSolanaSwapQuote)(e)&&!!n})}})),s.register("cOjLP",(function(t,n){function r(e){return void 0!==(null==e?void 0:e.fees)}function o(e){return"string"==typeof(null==e?void 0:e.transactionData)}e(t.exports,"isSolanaSwapQuote",(function(){return r})),e(t.exports,"isEvmSwapQuote",(function(){return o}))})),s.register("55j1G",(function(t,n){e(t.exports,"useTotalFees",(function(){return a}));var r=s("lDSNw"),o=s("cOjLP"),i=s("fR691");function a(e,t){return(0,r.useMemo)((()=>{const n=!(0,o.isEvmSwapQuote)(e)&&(null==e?void 0:e.fees);if(n&&t){const{networkFees:e,serumAccountDeposits:r,tokenAccountDeposits:o}=n,s=e.amount+r.amount+o.amount;return{networkFeeInCurrencyFormatted:(0,i.formatFee)(e.amount,t),totalFeesInLamports:s,totalFeesInCurrencyFormatted:(0,i.formatFee)(s,t)}}return{networkFeeInCurrencyFormatted:"",totalFeesInLamports:void 0,totalFeesInCurrencyFormatted:""}}),[e,t])}})),s.register("jiId9",(function(t,n){e(t.exports,"useProvider",(function(){return i}));var r=s("lDSNw"),o=s("eWCHr");function i(e){return(0,r.useMemo)((()=>(0,o.parseSwapSources)(e)),[e])}})),s.register("eWCHr",(function(t,n){function r(e){const t=e.reduce(((e,t)=>e.add(t.name)),new Set);return Array.from(t).join(" + ")}e(t.exports,"parseSwapSources",(function(){return r}))})),s.register("gKvdH",(function(t,n){e(t.exports,"useQuote",(function(){return i}));var r=s("lDSNw"),o=s("jG6nq");function i(){var e,t;const n=(0,o.useSwapperStore)((e=>e.multichainQuoteResponse)),i=(0,o.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,o.useSwapperStore)((e=>e.selectedProviderIndex)),a=(0,r.useMemo)((()=>n?n.data.quotes:[]),[n]),u=a.length>0?a[s]:void 0;return{bestBuyAmount:parseInt(null!==(t=null===(e=a[0])||void 0===e?void 0:e.buyAmount)&&void 0!==t?t:0),currentQuote:u,hasNoRoutes:i,multichainQuoteResponse:n,quotes:a,selectedProviderIndex:s}}})),s.register("dsQFW",(function(t,n){e(t.exports,"useSwapAssetChainAddress",(function(){return i}));var r=s("gYh0e"),o=s("lDSNw");const i=e=>(0,o.useMemo)((()=>{var t;const{type:n}=e;switch(n){case r.FungibleTokenType.SPL:case r.FungibleTokenType.ERC20:return{chainId:e.data.chain.id,address:null!==(t=e.data.tokenAddress)&&void 0!==t?t:""};case r.FungibleTokenType.SolanaNative:return{chainId:e.data.chain.id,address:"So11111111111111111111111111111111111111112"};case r.FungibleTokenType.EthereumNative:return{chainId:e.data.chain.id,address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"};case r.FungibleTokenType.PolygonNative:return{chainId:e.data.chain.id,address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270"};default:throw new Error(`unhandled: ${n}`)}}),[e])})),s.register("9lCnQ",(function(n,r){e(n.exports,"useSwapConfirmationProps",(function(){return E}),(function(e){return E=e}));var o=s("6e0KV"),i=s("lMzyG"),a=s("iPvw0"),u=s("4raQz"),c=s("3yHS8"),l=s("lDSNw"),d=s("HLcoo"),p=s("gmVmN"),f=s("iTFQj"),m=s("jP15q"),y=s("jG6nq");s("5ccQB");var g=s("ghFtg"),h=s("cOjLP"),v=s("1wt2B"),S=s("YJqa8"),w=s("22OQS"),A=s("jiId9"),b=s("gKvdH"),T=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function E({accountProxy:e,storage:n,fungibleHooks:r,priceHooks:s,settingsHooks:E,analytics:x,accountIdentifier:k,chainAddresses:P,isLedger:I,onError:F}){var R,N,C,L,M,D,O;const{t:U}=(0,i.useTranslation)(),{currentQuote:_,multichainQuoteResponse:B}=(0,b.useQuote)(),q=(0,y.useSwapperStore)((e=>e.buyFungible)),G=(0,y.useSwapperStore)((e=>e.sellFungible)),Q=(0,y.useSwapperStore)((e=>e.buyUsdValue)),j=(0,y.useSwapperStore)((e=>e.sellUsdValue)),H=(0,y.useSwapperStore)((e=>e.setSellFungible)),K=(0,y.useSwapperStore)((e=>e.resetSwapper)),V=(0,A.useProvider)(null!==(R=null==_?void 0:_.sources)&&void 0!==R?R:[]),z=(0,S.useAnalyticsPayload)({buyToken:q,sellToken:G,buyAmount:null!==(N=null==_?void 0:_.buyAmount)&&void 0!==N?N:"",sellAmount:null!==(C=null==_?void 0:_.sellAmount)&&void 0!==C?C:"",phantomFee:(0,h.isSolanaSwapQuote)(_)?null===(L=null==_?void 0:_.fees)||void 0===L?void 0:L.phantomFee.amount:0,priceImpact:Number(null!==(M=null==_?void 0:_.priceImpact)&&void 0!==M?M:""),provider:V,buyAssetUsdValue:Q,sellAssetUsdValue:j}),W=null!==(D=null==G?void 0:G.data.chain.id)&&void 0!==D?D:o.ChainID.SolanaMainnet,{data:$}=(0,u.useEthereumTransactionGasEstimation)((0,o.isEVMChainID)(W)?W:o.ChainID.EthereumMainnet,u.EvmGasPreset.standard,new(t(c))(2e5)),J=(0,l.useMemo)((()=>{var e,t;return null!==(t=null===(e=P.find((e=>e.chainId===(null==G?void 0:G.data.chain.id))))||void 0===e?void 0:e.address)&&void 0!==t?t:""}),[P,G]),Y=(null==_?void 0:_.transactionData.length)||0,[X,Z]=(0,l.useState)(),{data:ee}=E.usePreferredExplorers(),te=(0,l.useMemo)((()=>{if(!X)return;const e=null==ee?void 0:ee.explorers[W];return(0,a.generateExplorerUrl)({chainId:W,endpoint:"transaction",explorerType:e,txSignature:X})}),[X,W,ee]),[ne,re]=(0,l.useState)("loading"),oe="success"===ne,ie="failure"===ne,[se,ae]=(0,l.useState)(void 0),{notEnoughSol:ue,txErrorMessage:ce}=(0,f.useSwapError)(se),le=(0,d.createConnectionByChainID)(W),{data:de}=s.usePrice({type:"id",data:"solana"}),pe=(0,l.useMemo)((()=>new(0,u.PriorityFeeService)(x)),[x]),{data:fe}=(0,w.usePriorityTransactions)(_,pe,le,de),{mutateAsync:me}=(0,m.useMultichainSwapFungibles)({accountProxy:e,storage:n,accountIdentifier:k,chainId:W}),ye=null!==(O=null==q?void 0:q.data.symbol)&&void 0!==O?O:void 0,ge=(0,l.useMemo)((()=>{var e,t,n,r;const o=null==G?void 0:G.data.symbol,i=(0,p.amountToUiAmount)(null!==(e=null==_?void 0:_.sellAmount)&&void 0!==e?e:0,null!==(t=null==G?void 0:G.data.decimals)&&void 0!==t?t:0),s=(0,p.amountToUiAmount)(null!==(n=null==_?void 0:_.buyAmount)&&void 0!==n?n:0,null!==(r=null==q?void 0:q.data.decimals)&&void 0!==r?r:0);return{topLeft:{label:`${U("transactionsPendingSwapping")} on ${V}`},topRight:{label:`${s} ${ye}`,color:"#21E56F"},bottomLeft:{label:`${o} ${String.fromCharCode(8594)} ${ye}`},bottomRight:{label:`${i} ${o}`}}}),[U,G,ye,q,_,V]),he=(0,l.useCallback)((()=>T(this,void 0,void 0,(function*(){var e,t;if(re("loading"),Z(void 0),ae(void 0),!_)throw new Error("Trying to execute swap with no current quote");if(!B)throw new Error("Trying to execute swap with no multichain quote response");if(!le)throw new Error("Trying to execute swap with no connection.");if(!$)throw new Error("No gas estimation available");try{const n=yield me({type:(0,o.getChainType)(W),callerAddress:J,exchangeAddress:B.data.exchangeAddress,sellTokenAddress:null!==(e=null==G?void 0:G.data.tokenAddress)&&void 0!==e?e:"",sellAmount:null==_?void 0:_.sellAmount,transactionData:_.transactionData,pendingSwapActivityRows:ge,pendingApprovalActivityRows:ge,gasEstimation:$,connection:le,transactions:null!==(t=null==fe?void 0:fe.priorityTxs)&&void 0!==t?t:[]});(0,u.isSolanaTransactionReceipt)(n)?Z(n.signature):(0,u.isEthereumTransactionReceipt)(n)&&Z(n.transactionHash),re("success"),x.capture("swapperSwapSuccess",z),K(),(0,v.updateSellFungibleAmount)({sellAmount:_.sellAmount,sellFungible:G,setSellFungible:H}),r.invalidateTokens(P)}catch(e){console.error(e);const t=(0,g.parseSwapError)(e);re("failure"),ae(t),F&&F(t),x.capture("swapperSwapFailure",z)}}))),[_,le,W,B,x,fe,$,ge,J,me,z,K,G,H,r,P,F]),ve=(0,l.useCallback)((()=>{(()=>{T(this,void 0,void 0,(function*(){yield he()}))})()}),[he]);return{buyAssetSymbol:ye,isSuccess:oe,isFailure:ie,isLedger:I,notEnoughSol:ue,txError:se,txErrorMessage:ce,txLink:null!=te?te:"",executeSwap:ve,resetSwapper:K,useExecuteSwapOnMount:()=>{(0,l.useEffect)((()=>{I||ve()}),[])},numberOfTransactions:Y}}})),s.register("YJqa8",(function(t,n){e(t.exports,"useAnalyticsPayload",(function(){return a}));var r=s("lDSNw"),o=s("eoULV"),i=s("gmVmN");function a({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:o,buyAmount:s,sellAmount:a,phantomFee:d,priceImpact:p,provider:f}){return(0,r.useMemo)((()=>{var r,m;if(t&&o){const y=c(s,t.data.decimals,e),g=c(a,o.data.decimals,n),h=l(y,g),v=u(d,t.data.decimals,e);return{data:{marketName:`${o.data.symbol}/${t.data.symbol}`,tradeDirection:"sell",swapSource:f,priceImpact:p,fromAssetSymbol:null!==(r=o.data.symbol)&&void 0!==r?r:"",fromAssetAddress:o.data.tokenAddress,fromAssetAmount:(0,i.amountToUiAmount)(a,o.data.decimals),fromAssetUsdPrice:n,fromAssetUsdVolume:g,toAssetSymbol:null!==(m=t.data.symbol)&&void 0!==m?m:"",toAssetAddress:t.data.tokenAddress,toAssetAmount:(0,i.amountToUiAmount)(s,t.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:y,totalUsdVolume:h,feeUsd:v}}}return{}}),[e,n,s,t,d,p,f,a,o])}const u=(e,t,n)=>n&&e>0?e/Math.pow(10,t)*n:0,c=(e,t,n)=>{if(n){const r=(0,i.amountToUiAmount)(e,t);return new(0,o.BigNumber)(r).times(new(0,o.BigNumber)(n)).toNumber()}},l=(e,t)=>t&&e?t>e?t:e:null!=t?t:e})),s.register("bI5bc",(function(t,n){e(t.exports,"useSwapProvidersProps",(function(){return f}));var r=s("lMzyG"),o=s("lDSNw"),i=s("gmVmN"),a=s("54Hrp"),u=s("LF6im"),c=s("jG6nq"),l=s("eWCHr"),d=s("gKvdH"),p=s("dsQFW");function f(e){var t;const{t:n}=(0,r.useTranslation)(),{bestBuyAmount:s,multichainQuoteResponse:f,quotes:m,selectedProviderIndex:y}=(0,d.useQuote)(),g=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),h=null!==(t=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==t?t:a.INITIAL_SELL_FUNGIBLE,v=(0,p.useSwapAssetChainAddress)(h),{data:S}=(0,u.useSwapPairs)(v,e);return{rows:(0,o.useMemo)((()=>{if(!f||!S)return[];const{buyToken:e}=f.data,t=S.find((t=>t.address===e));return t?m.map((e=>{const{buyAmount:r,sources:o}=e,a=Number(r),u=s-a,c=(0,i.amountToFormattedAmount)(u,t.decimals);return{label:(0,l.parseSwapSources)(o),value:0===u?n("swapFeesBestPrice"):`- ${c} ${t.symbol}`}})):[]}),[s,f,m,n,S]),selectedProviderIndex:y,setSelectedProviderIndex:g}}})),s.register("2wJbS",(function(t,n){e(t.exports,"useSwapReviewButtonProps",(function(){return d}));var r=s("gYh0e"),o=s("lDSNw"),i=s("gmVmN"),a=s("jG6nq"),u=s("oo4df"),c=s("gKvdH"),l=s("55j1G");function d(e,t){var n;const{multichainQuoteResponse:s,currentQuote:d}=(0,c.useQuote)(),p=(0,a.useSwapperStore)((e=>e.hasNoRoutes)),f=(0,a.useSwapperStore)((e=>e.sellFungible)),m=(0,a.useSwapperStore)((e=>e.sellAmount)),y=(0,u.getMaxSellAmount)(f),g="solana"===(null==s?void 0:s.type),{data:h}=e.useSelectedMultiChainAccount(),{fungibles:v=[]}=t.useFungibles({accountId:null!==(n=null==h?void 0:h.identifier)&&void 0!==n?n:"",showHiddenMints:!1}),S=(0,o.useMemo)((()=>v.find((e=>e.data.key===r.FungibleTokenType.SolanaNative))),[v]),{totalFeesInLamports:w=0}=(0,l.useTotalFees)(d,null==S?void 0:S.data),A=(0,o.useMemo)((()=>{var e;return!!g&&(null!==(e=null==S?void 0:S.data.balance)&&void 0!==e?e:0)<(0,i.lamportsToSolana)(w)}),[null==S?void 0:S.data.balance,g,w]),b=!g||Number(m)<=y;return{canSwap:!!d&&b&&!p,hasEnoughAssets:b,hasNoRoutes:p,hasNoFundsForFees:A}}})),s.register("9DiiZ",(function(t,n){e(t.exports,"useSwapReviewProps",(function(){return y}));var r=s("gYh0e"),o=s("lDSNw"),i=s("6Nxml"),a=s("NQvFB"),u=s("jgGEH"),c=s("gmVmN"),l=s("54Hrp"),d=s("LF6im"),p=s("jG6nq"),f=s("gKvdH"),m=s("dsQFW");function y(e,t){const n=(0,p.useSwapperStore)((e=>e.buyFungible)),s=(0,p.useSwapperStore)((e=>e.sellFungible)),y=(0,p.useSwapperStore)((e=>e.sellAmount)),g=(0,p.useSwapperStore)((e=>e.setBuyUsdValue)),h=(0,p.useSwapperStore)((e=>e.setSellUsdValue)),v=(0,o.useMemo)((()=>n&&s?(0,r.tokensToUsePricesArgs)([n,s]):[]),[n,s]),S=t.usePrices(v).reduce(((e,t)=>Object.assign(Object.assign({},e),t.data)),{}),w=(0,m.useSwapAssetChainAddress)(null!=s?s:l.INITIAL_SELL_FUNGIBLE),{data:A}=(0,d.useSwapPairs)(w,i.getAPIEnvironment),{currentQuote:b,multichainQuoteResponse:T}=(0,f.useQuote)(),E=(0,o.useCallback)(((e,t)=>{if(void 0!==t)return e.type===r.FungibleTokenType.SolanaNative?t[a.SOLANA_COINGECKO_ID]:e.type===r.FungibleTokenType.SPL&&u.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]?t[u.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]]:e.type===r.FungibleTokenType.SPL?t[e.data.mintAddress]:e.type===r.FungibleTokenType.ERC20?t[e.data.contractAddress]:void 0}),[]);return(0,o.useMemo)((()=>{var e;let t="",r="",o="",i="";if(!(T&&b&&A&&n&&s))return{sellAmountText:o,sellAmountUsdText:i,buyAmountText:t,buyAmountUsdText:r};const{buyToken:a}=T.data,u=A.find((e=>e.address===a)),l=null==s?void 0:s.data;if(!u||!l)return{sellAmountText:o,sellAmountUsdText:i,buyAmountText:t,buyAmountUsdText:r};const{buyAmount:d}=b,p=(0,c.amountToUiAmount)(d,u.decimals),f=Number(y),m=String(p).split(".")[0].length,v=y.split(".")[0].length,w=u.symbol.length,x=null===(e=l.symbol)||void 0===e?void 0:e.length,k=m&&w?m+w:0,P=v&&x?v+x:0;o=`${(0,c.formatTokenAmountForReviewScreen)(f,P)} ${l.symbol}`,t=`${(0,c.formatTokenAmountForReviewScreen)(p,k)} ${u.symbol}`;const I=E(n,S),F=E(s,S);if(null==I?void 0:I.usd){const e=p*I.usd;r=`$${(0,c.formatTokenAmount)(e)}`,g(I.usd)}if(null==F?void 0:F.usd){const e=f*F.usd;i=`$${(0,c.formatTokenAmount)(e)}`,h(F.usd)}return{sellAmountText:o,sellAmountUsdText:i,buyAmountText:t,buyAmountUsdText:r}}),[T,n,s,b,y,g,h,E,S,A])}})),s.register("6vswX",(function(t,n){e(t.exports,"useSwapBuyAssetList",(function(){return p}));var r=s("gYh0e"),o=s("9CLLq"),i=s("lDSNw"),a=s("NQvFB"),u=s("54Hrp"),c=s("jG6nq"),l=s("iyQ2l"),d=s("dsQFW");function p({fungibleHooks:e,swapperMultichainHooks:t,accountHooks:n}){var s,p;const{data:f}=n.useSelectedMultiChainAccount(),m=null!==(s=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==s?s:u.INITIAL_SELL_FUNGIBLE,{fungibles:y,isLoadingTokens:g,isRefetchingTokens:h,isErrorTokens:v}=e.useFungibles({accountId:null!==(p=null==f?void 0:f.identifier)&&void 0!==p?p:""}),S=(0,d.useSwapAssetChainAddress)(m),w=(0,i.useMemo)((()=>{var e,t;return null!==(t=null===(e=null==f?void 0:f.addresses.find((e=>e.chainId===m.data.chain.id)))||void 0===e?void 0:e.address)&&void 0!==t?t:""}),[null==f?void 0:f.addresses,m.data.chain.id]),{data:A=[],isLoading:b,isError:T}=t.useSwapPairs(S),E=(0,i.useMemo)((()=>new Map(y.map((e=>[e.data.key,e])))),[y]),x=(0,i.useMemo)((()=>{if(!m||0===A.length)return[];return A.reduce(((e,t)=>{const n=t.address===a.WRAPPED_SOLANA.address&&u.SHOULD_UNWRAP_WRAPPED_SOL?r.FungibleTokenType.SolanaNative:t.address;let o;const i=E.get(n),s=void 0!==i&&i.type===r.FungibleTokenType.SPL&&""!==i.data.splTokenAccountPubkey,c=void 0!==i&&i.type===r.FungibleTokenType.SolanaNative;return o=s||c?i:(0,l.swapTokenToFungible)(t,w),o&&e.push(o),e}),[]).sort(o.compareFungibles)}),[E,A,m,w]);return(0,i.useMemo)((()=>({assets:x,isFetching:g||b||h,isError:v||T})),[x,g,b,h,v,T])}})),s.register("iyQ2l",(function(t,n){e(t.exports,"swapTokenToFungible",(function(){return c}));var r=s("6e0KV"),o=s("gYh0e");const i={id:r.ChainID.SolanaMainnet,imageUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",symbol:"SOL"},a={id:r.ChainID.EthereumMainnet,imageUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",symbol:"ETH"},u={id:r.ChainID.PolygonMainnet,imageUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",symbol:"MATIC"},c=(e,t)=>{var n,r;const s={amount:"0",balance:0,coingeckoId:null!==(r=null===(n=e.extensions)||void 0===n?void 0:n.coingeckoId)&&void 0!==r?r:null,decimals:e.decimals,key:e.address,logoUri:e.logoURI,mintAddress:e.address,name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:e.address,walletAddress:t};return 1===e.chainId?{type:o.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},s),{chain:a,contractAddress:e.address})}:137===e.chainId?{type:o.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},s),{chain:u,contractAddress:e.address})}:101===e.chainId?{type:o.FungibleTokenType.SPL,data:Object.assign(Object.assign({},s),{chain:i,mintAddress:e.address})}:null}})),s.register("dDIAY",(function(t,n){e(t.exports,"useSwapSellAssetList",(function(){return c}));var r=s("6e0KV"),o=s("lDSNw"),i=s("jG6nq"),a=s("ZzOLL"),u=s("5wiyh");function c({fungibleHooks:e,accountHooks:t}){var n;const{data:s}=t.useSelectedMultiChainAccount(),{fungibles:c,isLoadingTokens:l,isErrorTokens:d}=e.useFungibles({accountId:null!==(n=null==s?void 0:s.identifier)&&void 0!==n?n:"",showHiddenMints:!1}),p=c.filter((e=>(0,r.isSolanaChainID)(e.data.chain.id)||(0,r.isEVMChainID)(e.data.chain.id))),f=(0,i.useSwapperStore)((e=>e.sellFungible)),m=(0,o.useMemo)((()=>{if(f){const e=p.findIndex((e=>(0,a.areFungiblesEqual)(e,f))),t=p[e];t&&t.data.amount!==f.data.amount&&(p[e]=f)}return p.filter((e=>(0,u.canSellAsset)(e)))}),[p,f]);return(0,o.useMemo)((()=>({assets:m,isFetching:l,isError:d})),[m,l,d])}})),s.register("dUG8V",(function(t,n){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return c}));var r=s("lDSNw"),o=s("gmVmN"),i=s("54Hrp"),a=s("jG6nq"),u=s("dsQFW");function c({swapperHooks:e,accountHooks:t}){var n,s;const c=(0,a.useSwapperStore)((e=>e.sellAmount)),l=null!==(n=(0,a.useSwapperStore)((e=>e.buyFungible)))&&void 0!==n?n:i.INITIAL_BUY_FUNGIBLE,d=(0,u.useSwapAssetChainAddress)(l),p=null!==(s=(0,a.useSwapperStore)((e=>e.sellFungible)))&&void 0!==s?s:i.INITIAL_SELL_FUNGIBLE,f=(0,u.useSwapAssetChainAddress)(p),m=(0,a.useSwapperStore)((e=>e.resetQuote)),y=(0,a.useSwapperStore)((e=>e.setHasNoRoutes)),g=(0,a.useSwapperStore)((e=>e.setIsFetchingQuote)),h=(0,a.useSwapperStore)((e=>e.setMultichainQuoteResponse)),v=(0,a.useSwapperStore)((e=>e.setSelectedProviderIndex)),S=(0,r.useMemo)((()=>parseFloat(c)>0&&p?(0,o.uiAmountToAmount)(c,p.data.decimals).toNumber():(m(),0)),[m,c,p]),{data:w}=t.useSelectedMultiChainAccount(),A=(0,r.useMemo)((()=>{var e;return null!==(e=null==w?void 0:w.addresses.find((e=>e.chainId===p.data.chain.id)))&&void 0!==e?e:{address:"",chainId:"solana:101"}}),[null==w?void 0:w.addresses,p.data.chain.id]),{data:b,isError:T,isFetching:E}=e.useSwapQuotes(f,d,A,S,1),x=(0,r.useCallback)((e=>{v(0),g(!1),y(!1),h(e)}),[y,g,h,v]),k=(0,r.useCallback)((()=>{m(),g(!1),y(!0)}),[m,y,g]);(0,r.useEffect)((()=>{E?g(!0):b?x(b):T&&k()}),[T,b,E,x,k,g])}})),s.register("kqyk0",(function(t,n){e(t.exports,"createChainAvailability",(function(){return l}),(function(e){return l=e})),e(t.exports,"disableChainType",(function(){return d}),(function(e){return d=e})),e(t.exports,"enableChainType",(function(){return p}),(function(e){return p=e}));var r=s("6e0KV"),o=s("4yY1D"),i=s("jPDaF"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new(0,i.LegacyIndexedDBProxy),c=".phantom-labs.internal.disabledChains",l=()=>{const e={getDisabledChainTypes:()=>function(e){return a(this,void 0,void 0,(function*(){try{const t=yield e.get(c);return(null==t?void 0:t.chainTypes)||[]}catch(e){return o.telemetry.captureError(new Error("Failed to load disabled chains from storage"),o.FeatureTag.Storage),[]}}))}(u)};return new(0,r.ChainAvailability)(e)},d=e=>a(void 0,void 0,void 0,(function*(){var t;const n=yield u.get(c),r=new Set(null!==(t=null==n?void 0:n.chainTypes)&&void 0!==t?t:[]);return r.add(e),u.set(c,{version:1,chainTypes:Array.from(r)})})),p=e=>a(void 0,void 0,void 0,(function*(){var t;const n=yield u.get(c),r=new Set(null!==(t=null==n?void 0:n.chainTypes)&&void 0!==t?t:[]);return r.delete(e),u.set(c,{version:1,chainTypes:Array.from(r)})}))})),s.register("9hiP6",(function(t,n){e(t.exports,"getLedgerWebHIDDependencies",(function(){return u}),(function(e){return u=e}));var r=s("8Hh7g"),o=s("ibYAx"),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const a=()=>i(void 0,void 0,void 0,(function*(){const{default:e}=yield s("aaKGz");return e})),u=()=>({defaultTransportTimeout:500,isSupported:()=>i(void 0,void 0,void 0,(function*(){if(o.BROWSER_ENV.browser.name===r.BROWSER_MAP.firefox||o.BROWSER_ENV.browser.name===r.BROWSER_MAP.safari)return!1;return(yield a()).isSupported()})),getNumDevices:()=>i(void 0,void 0,void 0,(function*(){const e=yield a();return(yield e.list()).length})),getFirstOpenedTransport:()=>i(void 0,void 0,void 0,(function*(){const e=yield a(),t=(yield e.list()).find((e=>e.opened));return t?new e(t):void 0})),create:()=>i(void 0,void 0,void 0,(function*(){return(yield a()).create()})),openConnected:()=>i(void 0,void 0,void 0,(function*(){const e=yield a();return yield e.openConnected()})),request:()=>i(void 0,void 0,void 0,(function*(){const e=yield a();return yield e.request()})),on:(e,t)=>{"hid"in window.navigator&&window.navigator.hid.addEventListener(e,(()=>{t()}))}})})),s.register("aaKGz",(function(e,t){e.exports=Promise.all([import("./"+s("5V6iE").resolve("2UKlV")),import("./"+s("5V6iE").resolve("4BJU1")),import("./"+s("5V6iE").resolve("h3t8x"))]).then((()=>s("2Vsq5")))})),s.register("5PQz9",(function(t,n){e(t.exports,"useEnabledChainTypes",(function(){return c}),(function(e){return c=e})),e(t.exports,"useEnabledChainIDs",(function(){return l}),(function(e){return l=e}));var r=s("6e0KV"),o=s("lNRH9"),i=s("kqyk0"),a=s("h5kyv"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=()=>(0,o.useQuery)({queryKey:["enabled-chain-types"],queryFn:()=>u(void 0,void 0,void 0,(function*(){return u(void 0,void 0,void 0,(function*(){const e=(0,i.createChainAvailability)(),t=yield e.enabledChainTypes();return a.analytics.addUserProperties({enabledChainTypes:t.includes(r.ChainType.Ethereum)?"Solana, Ethereum":"Solana"}),t}))})),staleTime:0,initialData:[]}),l=(e={mainnetOnly:!1})=>(0,o.useQuery)({queryKey:["enabled-chain-ids"],queryFn:()=>u(void 0,void 0,void 0,(function*(){return(e=>u(void 0,void 0,void 0,(function*(){const t=(0,i.createChainAvailability)(),n=yield t.enabledChainIDs(e);return a.analytics.addUserProperties({enabledChainTypes:n.some((e=>(0,r.isEVMChainID)(e)))?"Solana, Ethereum":"Solana"}),n})))(e)})),staleTime:0,initialData:[]})})),s.register("03QiC",(function(n,r){e(n.exports,"ChainLogo",(function(){return c}));var o=s("6e0KV"),i=s("4y59b"),a=s("lDSNw"),u=s("aanFI");const c=t(a).memo((({chainId:e,height:n,width:r,stroke:s,strokeWidth:c,spacing:l="medium"})=>{if(!e)return null;const d={height:n,width:r,stroke:s,strokeWidth:c};return(0,o.isSolanaChainID)(e)?"medium"===l?t(a).createElement(u.IconChainSolana,Object.assign({},d)):t(a).createElement(u.IconChainSolanaLarge,Object.assign({},d)):(0,o.isEthereumChainID)(e)?"medium"===l?t(a).createElement(u.IconChainEthereum,Object.assign({},d)):t(a).createElement(u.IconChainEthereumLarge,Object.assign({},d)):(0,o.isPolygonChainID)(e)?"medium"===l?t(a).createElement(u.IconChainPolygon,Object.assign({},d)):t(a).createElement(u.IconChainPolygonLarge,Object.assign({},d)):(0,i.assertNever)(e)}))})),s.register("7E6dj",(function(n,r){e(n.exports,"CheckboxGroup",(function(){return f}),(function(e){return f=e})),e(n.exports,"Checkbox",(function(){return m}),(function(e){return m=e}));var o=s("fkSoA"),i=s("lDSNw"),a=s("cZIbv"),u=s("kO1EB"),c=s("aanFI"),l=s("6l2nq"),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const p=22;const f=(0,a.default)(l.Row)`
  margin: ${e=>{var t;return null!==(t=e.margin)&&void 0!==t?t:0}};
  > * {
    margin-right: 10px;
  }
  label {
    color: #8a81f8;
    cursor: pointer;
    &:hover {
      color: ${(0,u.hexToRGB)("#8A81F8",.5)};
    }
  }
`,m=e=>{const{checked:n,onChange:r,color:s}=e,a=d(e,["checked","onChange","color"]),u=function(e,t="#4E44CE"){return(0,i.useMemo)((()=>({background:"#282828",border:`1px solid ${e?t:"#4d4d4d"}`,borderRadius:"6px",height:`${p}px`,minHeight:`${p}px`,width:`${p}px`,minWidth:`${p}px`,cursor:"pointer",userSelect:"none",position:"relative",outlineColor:"transparent",outlineStyle:"none",boxShadow:"none"})),[e,t])}(n,s),l=function(e,t="#4E44CE"){return(0,i.useMemo)((()=>({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%",userSelect:"none",pointerEvents:"none",borderRadius:"4px",opacity:""+(e?1:0),zIndex:1,background:e?t:"transparent"})),[e,t])}(n,s);return t(i).createElement(o.CustomCheckboxContainer,{checked:n,onChange:r,style:u},t(i).createElement(o.CustomCheckboxInput,Object.assign({},a)),t(i).createElement("span",{"aria-hidden":!0,style:l},t(i).createElement(c.IconCheckmark,{width:10})))}})),s.register("fkSoA",(function(t,n){e(t.exports,"CustomCheckboxContainer",(function(){return L})),e(t.exports,"CustomCheckboxInput",(function(){return M}));var r=s("lDSNw"),o=s("g1ck2"),i=s("l4vvo"),a=s("3Uon5"),u=s("9PqFM"),c=s("a9mJX"),l=s("2KczM"),d=s("KqC1b"),p=s("3C4EA");function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var y,g,h,v,S,w=!1;function A(e){return!(!e||e.isControlled||e.disabled)}function b(e){return function(t,n){return t&&t.isControlled&&n.state===e}}(h=g||(g={})).Checked="checked",h.Mixed="mixed",h.Unchecked="unchecked",(S=v||(v={})).GetDerivedData="GET_DERIVED_DATA",S.Mount="MOUNT",S.Set="SET",S.Toggle="TOGGLE",S.Unmount="UNMOUNT";var T=(0,d.assign)((function(e,t){return f({},e,{refs:t.refs})})),E=((y={})[v.Mount]={actions:T},y[v.GetDerivedData]={actions:[T,(0,d.assign)((function(e,t){return f({},e,t.data)}))]},y[v.Set]=[{target:g.Checked,cond:b(g.Checked)},{target:g.Unchecked,cond:b(g.Unchecked)},{target:g.Mixed,cond:b(g.Mixed)}],y),x=function(e,t){var n,r,o,i;return{id:"mixed-checkbox",initial:e,context:{disabled:t.disabled,isControlled:t.isControlled,refs:{input:null}},states:(i={},i[g.Unchecked]={entry:T,on:f((n={},n[v.Toggle]={target:g.Checked,cond:A},n),E)},i[g.Checked]={entry:T,on:f((r={},r[v.Toggle]={target:g.Unchecked,cond:A},r),E)},i[g.Mixed]={entry:T,on:f((o={},o[v.Toggle]={target:g.Checked,cond:A},o),E)},i)}};function k(e,t,n){void 0===n&&(n="useMixedCheckbox");var o,i=t||{},s=i.checked,a=i.defaultChecked,u=i.disabled,d=i.onChange,f=i.onClick,m=null!=s,y=(0,p.useCreateMachine)(x(P(m?s:a),{disabled:!!u,isControlled:m})),h=(0,p.useMachine)(y,{input:e},w),S=h[0],A=h[1],b={"aria-checked":I(S.value),checked:(o=S.value,o===g.Checked),disabled:!!u,onChange:(0,c.composeEventHandlers)(d,(function(){m||A(v.Toggle)})),onClick:(0,c.composeEventHandlers)(f,(function(){E()})),type:"checkbox"},T={checked:I(S.value)};function E(){e.current&&(e.current.indeterminate=S.value===g.Mixed)}return(0,r.useEffect)((function(){m&&A({type:v.Set,state:P(s)})}),[m,s,A]),(0,l.useIsomorphicLayoutEffect)(E),(0,r.useEffect)((function(){A({type:v.GetDerivedData,data:{disabled:u,isControlled:m}})}),[u,m,A]),[b,T]}function P(e){return!0===e?g.Checked:"mixed"===e?g.Mixed:g.Unchecked}function I(e){return e===g.Checked||e===g.Mixed&&"mixed"}function F(e,t,n){var o=null!=e,i=(0,r.useRef)(o).current;(0,r.useEffect)((function(){}),[n,t,o,i])}var R=["as","checked","children","defaultChecked","disabled","onClick","onChange","__componentName"],N=["as","onBlur","onFocus"],C=(0,o.createNamedContext)("CustomCheckboxContext",{});var L=(0,r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"span":n,s=e.checked,u=e.children,l=e.defaultChecked,d=e.disabled,p=e.onClick,y=e.onChange,g=e.__componentName,h=void 0===g?"CustomCheckboxContainer":g,v=m(e,R),S=(0,r.useRef)(null),w=k(S,{defaultChecked:l,checked:s,disabled:d,onChange:y},h),A=w[0],b=w[1],T=(0,r.useState)(!1),E=T[0],x=T[1];var I={defaultChecked:l,disabled:d,focused:E,inputProps:A,inputRef:S,setFocused:x};return F(s,"checked",h),(0,a.useCheckStyles)("checkbox"),(0,r.createElement)(C.Provider,{value:I},(0,r.createElement)(o,f({},v,{ref:t,"data-reach-custom-checkbox-container":"","data-focused":E?"":void 0,"data-state":P(b.checked),onClick:(0,c.composeEventHandlers)(p,(function(){window.requestAnimationFrame((function(){S.current&&S.current.focus()}))}))}),(0,i.isFunction)(u)?u({checked:A["aria-checked"],inputRef:S,focused:E}):u))})),M=(0,r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"input":n,i=e.onBlur,s=e.onFocus,a=m(e,N),l=(0,r.useContext)(C),d=l.focused,p=l.inputProps,y=l.inputRef,g=l.setFocused,h=(0,u.useComposedRefs)(t,y),v=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return function(){v.current=!1}}),[]),(0,r.createElement)(o,f({},a,p,{ref:h,type:"checkbox","data-reach-custom-checkbox-input":"","data-focused":d?"":void 0,onBlur:(0,c.composeEventHandlers)(i,(function(){window.requestAnimationFrame((function(){v.current&&g(!1)}))})),onFocus:(0,c.composeEventHandlers)(s,(function(){window.requestAnimationFrame((function(){v.current&&g(!0)}))}))}))}))})),s("k3GHH");
//# sourceMappingURL=ConnectHardwareMultichainFlow.a362342e.js.map
define=__define;})(window.define);