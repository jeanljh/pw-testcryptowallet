(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}function n(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},i={},s=r.parcelRequirea886;null==s&&((s=function(e){if(e in o)return o[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},r.parcelRequirea886=s),s.register("1Sb3o",(function(e,t){s("eOkdY").register(JSON.parse('{"7yJNz":"ConnectHardwareMultichainFlow.a66bfe48.js","8ZV50":"english.dc8cdfce.js","bSKtD":"crypto-browserify.e188246b.js","bnDSu":"Solana.39b78c22.js","9J0UJ":"Solana.2bd3afbc.js","ia8XW":"Eth.2d040527.js","4nmlj":"semver.339a6680.js","99t1D":"TransportWebHID.10460d8f.js","1JCWp":"notification.e371f99c.css"}'))})),s.register("eOkdY",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("93ApY",(function(n,r){e(n.exports,"lockExtension",(function(){return g}),(function(e){return g=e})),e(n.exports,"unlockExtension",(function(){return m}),(function(e){return m=e})),e(n.exports,"isExtensionUnlocked",(function(){return h}),(function(e){return h=e})),e(n.exports,"setLockTimer",(function(){return v}),(function(e){return v=e})),e(n.exports,"setPassword",(function(){return S}),(function(e){return S=e})),e(n.exports,"verifyPassword",(function(){return w}),(function(e){return w=e})),e(n.exports,"updatePassword",(function(){return A}),(function(e){return A=e})),e(n.exports,"importSeedAccount",(function(){return T}),(function(e){return T=e})),e(n.exports,"exportPrivateKey",(function(){return P}),(function(e){return P=e})),e(n.exports,"exportSeed",(function(){return I}),(function(e){return I=e})),e(n.exports,"hasOnboarded",(function(){return M}),(function(e){return M=e})),e(n.exports,"migrateToMultiChain",(function(){return L}),(function(e){return L=e})),e(n.exports,"getAccountProxy",(function(){return N}),(function(e){return N=e})),e(n.exports,"hasMnemonic",(function(){return O}),(function(e){return O=e})),e(n.exports,"getMnemonic",(function(){return U}),(function(e){return U=e})),e(n.exports,"setMnemonic",(function(){return D}),(function(e){return D=e})),e(n.exports,"getSeed",(function(){return _}),(function(e){return _=e}));var o=s("4xbAj"),i=s("hcj6g"),a=s("85iHy"),u=s("3PeDf"),c=s("jqrFR"),l=s("hulLf"),d=s("fSBRP"),p=s("41yT6"),f=s("8tcqI").Buffer,y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const g=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.LockExtension),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),m=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.UnlockExtension,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"!=typeof n.result)throw new Error("Invalid response");const r=JSON.parse(n.result);return r.needsRefresh&&(yield p.queryClient.invalidateQueries({refetchType:"all"})),r.isUnlocked})),h=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.IsExtensionUnlocked),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),v=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetLockTimer,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),S=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetPassword,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),w=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.VerifyPassword,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),A=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.UpdatePassword,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})),b=(e,t,n)=>y(void 0,void 0,void 0,(function*(){const r=yield new Promise((r=>{t.read((t=>{const o=f.from(t.buffer).toString("base64"),i=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ImportPrivateKeyAccount,[e,o,n]);r(l.browser.runtime.sendMessage(i))}))}));if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),T=(e,n,r)=>y(void 0,void 0,void 0,(function*(){const o=e.getEntropy(),i=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ImportSeedAccount,[t(a).encode(o),n,r]);o.fill(0);const s=yield l.browser.runtime.sendMessage(i);if("error"in s)throw new Error(s.error.message);if("string"==typeof s.result)return JSON.parse(s.result);throw new Error("Invalid response")})),E=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.AddAccountForSeed,[e]),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),x=(e,t)=>y(void 0,void 0,void 0,(function*(){const n=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.AddLedgerAccounts,[e,t]),r=yield l.browser.runtime.sendMessage(n);if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),k=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ImportReadOnlyAccount,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),P=(e,t)=>y(void 0,void 0,void 0,(function*(){const n=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ExportPrivateKey,[e,t]),r=yield l.browser.runtime.sendMessage(n);if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return u.SecureBytes.from(f.from(r.result,"hex"));throw new Error("Invalid response")})),I=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ExportSeed,[e]),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return u.SecureBytes.from(f.from(n.result,"hex"));throw new Error("Invalid response")})),F=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetAllAccounts),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result)return JSON.parse(t.result);throw new Error("Invalid response")})),C=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetAllSeeds),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result)return JSON.parse(t.result);throw new Error("Invalid response")})),R=(e,n)=>y(void 0,void 0,void 0,(function*(){const r=o.VaultSignerParams.parse(n);r.chainType===i.ChainType.Solana&&"transaction"===r.signingType&&"string"!=typeof r.message&&(r.message=t(a).encode(r.message));const s=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.Sign,{accountIdentifier:e,params:r}),u=yield l.browser.runtime.sendMessage(s);if("error"in u)throw new Error(u.error.message);if("string"==typeof u.result)return JSON.parse(u.result);throw new Error("Invalid response")})),M=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.HasOnboarded),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),L=e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.MigrateToMultiChain,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);const r=n.result;return r&&(yield p.queryClient.invalidateQueries({refetchType:"all"})),r})),N=()=>({addAccountForSeed:E,addReadonlyAccount:k,importPrivateKeyAccount:b,connectLedgerAccounts:x,fetchAllAccounts:F,fetchAllSeedMetas:C,connectSolanaSeedVaultAccounts:()=>{throw new Error("Solana Seed Vault is not supported on browser extension.")},removeAccount:e=>y(void 0,void 0,void 0,(function*(){const t=yield(e=>y(void 0,void 0,void 0,(function*(){const t=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.RemoveAccount,e),n=yield l.browser.runtime.sendMessage(t);if("error"in n)throw new Error(n.error.message);return n.result})))(e);if(!t)throw new Error("Error while removing account")})),reorderAccount:(e,t)=>y(void 0,void 0,void 0,(function*(){const n=yield((e,t)=>y(void 0,void 0,void 0,(function*(){const n=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.ReorderAccount,{identifier:e,toIndex:t}),r=yield l.browser.runtime.sendMessage(n);if("error"in r)throw new Error(r.error.message);return r.result})))(e,t);if(!n)throw new Error("Error while reordering account")})),sign:R}),O=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.HasMnemonic),t=yield l.browser.runtime.sendMessage(e);if("error"in t)throw new Error(t.error.message);return t.result})),U=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetMnemonic),n=yield l.browser.runtime.sendMessage(e);if("error"in n)throw new Error(n.error.message);if(!n.result)return null;const[r,o]=n.result;switch(r){case 0:{const e=new Uint8Array(t(a).decode(o).buffer),n=(yield(0,d.getBip39)()).fromEntropy(e);return e.fill(0),{type:"bip39",value:n}}case 1:return{type:"deprecated",value:new Uint8Array(t(a).decode(o).buffer)}}})),D=(e,n)=>y(void 0,void 0,void 0,(function*(){switch(n.type){case"bip39":{const r=n.value.getEntropy(),o=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetMnemonic,[e,[0,t(a).encode(r)]]);r.fill(0);const i=yield l.browser.runtime.sendMessage(o);if("error"in i)throw new Error(i.error.message);return i.result}case"deprecated":{const r=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.SetMnemonic,[e,[1,t(a).encode(n.value)]]),o=yield l.browser.runtime.sendMessage(r);if("error"in o)throw new Error(o.error.message);return o.result}}})),_=()=>y(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetSeed),n=yield l.browser.runtime.sendMessage(e);if("error"in n)throw new Error(n.error.message);return"string"==typeof n.result?t(a).decode(n.result):null}))})),s.register("jqrFR",(function(t,n){var r,o,i,s,a,u;e(t.exports,"ProviderToWalletRequestMethods",(function(){return r})),e(t.exports,"WalletToBackgroundRequestMethods",(function(){return i})),e(t.exports,"RpcErrorCode",(function(){return a})),e(t.exports,"errorValues",(function(){return c})),e(t.exports,"createSignAllTransactionsSuccessResponse",(function(){return l})),e(t.exports,"createSignSuccessResponse",(function(){return d})),e(t.exports,"createSignTransactionSuccessResponse",(function(){return p})),e(t.exports,"createJsonRpcErrorResponse",(function(){return f})),e(t.exports,"createJsonRpcError",(function(){return y})),e(t.exports,"createJsonRpcResponse",(function(){return g})),e(t.exports,"createJsonRpcRequest",(function(){return m})),e(t.exports,"createAckResponse",(function(){return h})),e(t.exports,"createCopiedResponse",(function(){return v})),e(t.exports,"objectToUint8Array",(function(){return S})),(o=r||(r={})).Connect="connect",o.Disconnect="disconnect",o.SignTransaction="signTransaction",o.SignAllTransactions="signAllTransactions",o.SignAndSendTransaction="signAndSendTransaction",o.SignMessage="signMessage",o.Open="open",(s=i||(i={})).LockExtension="lockExtension",s.UnlockExtension="unlockExtension",s.IsExtensionUnlocked="IsExtensionUnlocked",s.SetLockTimer="setLockTimer",s.SetPassword="setPassword",s.VerifyPassword="verifyPassword",s.UpdatePassword="updatePassword",s.ImportPrivateKeyAccount="importPrivateKeyAccount",s.ImportReadOnlyAccount="importReadOnlyAccount",s.ImportSeedAccount="importSeedAccount",s.AddAccountForSeed="addAccountForSeed",s.AddLedgerAccounts="addLedgerAccounts",s.ExportPrivateKey="exportPrivateKey",s.ExportSeed="exportSeed",s.SetAccountIcon="setAccountIcon",s.RemoveAccount="removeAccount",s.ReorderAccount="reorderAccount",s.GetAllAccounts="getAllAccounts",s.GetAllSeeds="getAllSeeds",s.Sign="sign",s.HasOnboarded="hasOnboarded",s.MigrateToMultiChain="migrateToMultiChain",s.EnabledProviders="enabledProviders",s.MetaMaskOverrideSettings="metamaskOverrideSettings",s.EthProviderOptions="ethProviderOptions",s.HasMnemonic="hasMnemonic",s.GetMnemonic="getMnemonic",s.SetMnemonic="setMnemonic",s.GetSeed="getSeed",(u=a||(a={}))[u.UserRejectedRequest=4001]="UserRejectedRequest",u[u.Unauthorized=4100]="Unauthorized",u[u.Disconnected=4900]="Disconnected",u[u.InternalError=-32603]="InternalError",u[u.InvalidInput=-32e3]="InvalidInput",u[u.MethodNotFound=-32601]="MethodNotFound",u[u.TransactionRejected=-32003]="TransactionRejected",u[u.ResourceUnavailable=-32002]="ResourceUnavailable";const c={[a.UserRejectedRequest]:{message:"User rejected the request."},[a.InternalError]:{message:"Something went wrong."},[a.MethodNotFound]:{message:"Method does not exist."},[a.InvalidInput]:{message:"Missing or invalid parameters."},[a.Unauthorized]:{message:"The requested method and/or account has not been authorized by the user."},[a.Disconnected]:{message:"Error connecting to the blockchain."},[a.TransactionRejected]:{message:"Transaction creation failed."},[a.ResourceUnavailable]:{message:"Requested resource not available."}},l=(e,t)=>{const{publicKey:n,payloads:r}=t;return{jsonrpc:"2.0",id:e,result:{publicKey:n,signatures:r.map((e=>e.signature)),payloads:r}}},d=(e,t,n)=>({jsonrpc:"2.0",id:e,result:{publicKey:n,signature:t}}),p=(e,t)=>{const{publicKey:n,payload:r}=t,{signature:o}=r;return{jsonrpc:"2.0",id:e,result:{publicKey:n,signature:o,payload:r}}},f=(e,t,n)=>({jsonrpc:"2.0",id:e,error:y(t,n)}),y=(e,t)=>({code:e,message:null!=t?t:c[e].message}),g=(e,t)=>({jsonrpc:"2.0",id:e,result:t}),m=(e,t,n=Date.now())=>({jsonrpc:"2.0",id:n,method:e,params:t}),h=e=>{e.result={}},v=(e,t)=>{const{result:n,error:r}=t;n&&(e.result=n),r&&(e.error=r)},S=e=>{const t=Object.keys(e).sort((e=>Number(e))).map((t=>e[t]));return new Uint8Array(t)}})),s.register("fSBRP",(function(t,n){e(t.exports,"getBip39",(function(){return i}),(function(e){return i=e})),s("dyTLY");var r=s("28ipF");s("aNyyc");var o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const i=(()=>{let e=null;return()=>o(void 0,void 0,void 0,(function*(){e||(e=yield r.Bip39Factory.webCrypto("english"));return e}))})()})),s.register("dyTLY",(function(e,t){var r=s("1GBLm"),o=s("28ipF");n(e.exports,r),n(e.exports,o)})),s.register("1GBLm",(function(t,n){e(t.exports,"ERR_UNKNOWN",(function(){return o}),(function(e){return o=e})),e(t.exports,"ERR_INVALID_CHECKSUM",(function(){return a}),(function(e){return a=e})),e(t.exports,"assertEntropyLengthIsValid",(function(){return p}),(function(e){return p=e})),e(t.exports,"assertWordlistIsValid",(function(){return y}),(function(e){return y=e})),e(t.exports,"generateEntropy",(function(){return g}),(function(e){return g=e})),e(t.exports,"deriveBits",(function(){return m}),(function(e){return m=e})),e(t.exports,"mapBitsToIndexes",(function(){return h}),(function(e){return h=e})),e(t.exports,"indexesToEntropy",(function(){return v}),(function(e){return v=e})),e(t.exports,"entropyToIndexes",(function(){return S}),(function(e){return S=e})),e(t.exports,"mnemonicToIndexes",(function(){return w}),(function(e){return w=e})),e(t.exports,"entropyToMnemonic",(function(){return A}),(function(e){return A=e})),e(t.exports,"entropyToSeed",(function(){return T}),(function(e){return T=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const o=new Error("Unknown error"),i=new Error("Invalid entropy length"),s=new Error("Invalid mn*monic sentence length"),a=new Error("Invalid checksum"),u=new RangeError("Invalid mn*monic word"),c=new RangeError("Invalid wordlist"),l=new RangeError("Invalid wordlist index"),d=(e,t)=>{if(!e)throw t};function p(e){d(e>=128,i),d(e<=256,i),d(e%32==0,i)}function f(e){d(e>=12,s),d(e<=24,s),d(e%3==0,s)}function y(e){d(2048===e.length,c),d(e.every((e=>"string"==typeof e)),c)}function g(e,t){return f(e),t(4*e/3)}function m(e,t){return r(this,void 0,void 0,(function*(){const n=8*e.length;p(n);const r=n/32,o=yield t(e),[i]=o,s=8-r,a=i>>>s<<s>>>0,u=new Uint8Array(e.length+1);return u.set(e,0),u[u.length-1]=a,u}))}function h(e){const t=8*(e.length-1);p(t);const n=(t+t/32)/11,r=new ArrayBuffer(4*n),o=new DataView(r);let i=0,a=0,u=0;for(const t of e)if(u+=8,a|=t<<32-u,a>>>=0,u>=11){const e=a>>>21;d(e>=0&&e<=2047,l),o.setUint32(4*i,e,!0),i++,a<<=11,a>>>=0,u-=11}return d(i===n,s),new Uint32Array(r)}function v(e){f(e.length);const t=function(e){f(e.length);const t=11*e.length,n=new ArrayBuffer(Math.ceil(t/8)),r=new DataView(n),o=new DataView(e.buffer),i=e.length;let s=0,a=0,u=0,c=8;for(let e=0;e<i;e++){const t=o.getUint32(4*e,!0);d(t<2048,l);let n=11;for(;n>0;){const e=n>=c?c:n;s|=t>>32-(32-n)-e&(1<<e)-1,a+=e,s<<=c-e,s>>>=0,n-=e,c-=e,c<=0&&(c=8),a%8==0&&(r.setUint8(u,s),u++,s=0)}}return i%8!=0&&r.setUint8(u,s),new Uint8Array(n)}(e),n=t.slice(0,t.length-1);return t.fill(0),n}function S(e,t){return r(this,void 0,void 0,(function*(){p(8*e.length);const n=yield m(e,t),r=h(n);return n.fill(0),r}))}function w(e,t){y(t);const n=new Set(t),r=new Uint32Array(24);let o=0,i="";for(let s=0;s<e.length;s++){const a=e[s],c=32===a,l=s===e.length-1;if(l&&(i+=String.fromCharCode(a)),c||l){d(n.has(i),u);let e=0;for(const n of t){if(i===n)break;e++}r[o++]=e,i=""}else i+=String.fromCharCode(a)}f(o);const s=r.slice(0,o);return r.fill(0),s}function A(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield S(e,n),o=new Uint8Array(r.reduce(((e,n)=>e+t[n].length+1),-1));let i=0;for(const e of r){i>0&&(o[i++]=32);const n=t[e];for(const e of n)o[i++]=e.charCodeAt(0)}return r.fill(0),o}))}const b=Uint8Array.of(109,110,101,109,111,110,105,99);function T(e,t,n,o,i){return r(this,void 0,void 0,(function*(){const r=yield A(e,n,o),s=new Uint8Array(b.length+t.length);s.set(b,0),s.set(t,b.length);const a=yield i(r,s,2048,64,"sha512");return s.fill(0),r.fill(0),a}))}})),s.register("28ipF",(function(t,n){e(t.exports,"Bip39Factory",(function(){return f}),(function(e){return f=e}));var r=s("1GBLm"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function u(e){return o(this,void 0,void 0,(function*(){if("english"===e)return(yield s("iQbAl")).default}))}function c(e){return t=>new e(t)}function l(e,t){return n=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null,a=null,u=null;try{i=(0,r.indexesToEntropy)(n),s=yield(0,r.deriveBits)(i,t),a=(0,r.mapBitsToIndexes)(s);const o=n[n.length-1];if(o!==a[a.length-1])throw r.ERR_INVALID_CHECKSUM;u=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),null==s||s.fill(0),null==a||a.fill(0),o)throw o;return u}}))}function d(e,t){return n=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null;try{i=(0,r.mnemonicToIndexes)(n,t),s=yield e.fromIndexes(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}))}function p(e,t){return n=>{let o=null,i=null,s=null;try{i=(0,r.generateEntropy)(n,t),s=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}}class f{static webCrypto(e){var t,n;return o(this,void 0,void 0,(function*(){const s="string"==typeof e?yield u(e):e;(0,r.assertWordlistIsValid)(s);const f=e=>o(this,void 0,void 0,(function*(){return new Uint8Array(yield crypto.subtle.digest("SHA-256",e))})),y=(e,t,n,r,i)=>o(this,void 0,void 0,(function*(){const o="SHA-"+i.substring(3),s=yield crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]),a=yield crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:o},s,8*r);return new Uint8Array(a)}));return n=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,t,"f"),e,s,f,y),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,t,"f"),f),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,t,"f"),s,f),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),i(this,t,e.slice(),"f")}},t=new WeakMap,n.fromEntropy=c(n),n.fromIndexes=l(n,f),n.fromMnemonic=d(n,s),n.fromSentenceLength=p(n,(e=>crypto.getRandomValues(new Uint8Array(e)))),n.wordlist=s,n}))}static nodeCrypto(e){var t,n;return o(this,void 0,void 0,(function*(){const f="string"==typeof e?yield u(e):e;(0,r.assertWordlistIsValid)(f);const{randomBytes:y,createHash:g,pbkdf2:m}=yield s("5ojaz"),h=e=>o(this,void 0,void 0,(function*(){return new Uint8Array(g("sha256").update(e).digest().buffer)})),v=(...e)=>new Promise(((t,n)=>{m(...e,((e,r)=>{if(e)return n(e);t(new Uint8Array(r.buffer))}))}));return n=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,t,"f"),e,f,h,v),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,t,"f"),h),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,t,"f"),f,h),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),i(this,t,e.slice(),"f")}},t=new WeakMap,n.fromEntropy=c(n),n.fromIndexes=l(n,h),n.fromMnemonic=d(n,f),n.fromSentenceLength=p(n,(e=>new Uint8Array(y(e).buffer))),n.wordlist=f,n}))}static customCrypto(e,t){var n,s;return o(this,void 0,void 0,(function*(){const o="string"==typeof e?yield u(e):e;(0,r.assertWordlistIsValid)(o);const{random:f,sha256:y,pbkdf2:g}=t;return s=class{constructor(e){n.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,n,"f"),e,o,y,g),this.getEntropy=()=>a(this,n,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,n,"f"),y),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,n,"f"),o,y),this.getSentenceLength=()=>{const e=8*a(this,n,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),i(this,n,e.slice(),"f")}},n=new WeakMap,s.fromEntropy=c(s),s.fromIndexes=l(s,y),s.fromMnemonic=d(s,o),s.fromSentenceLength=p(s,f),s.wordlist=o,s}))}}})),s.register("iQbAl",(function(e,t){e.exports=s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("8ZV50")).then((()=>s("jI6Lx")))})),s.register("j1yuj",(function(e,t){"use strict";var n=s("hE0rk");e.exports=n((function(e){return new Promise((function(t,n){var r=document.getElementsByTagName("script");if([].concat(r).some((function(t){return t.src===e})))t();else{var o=document.createElement("link");o.href=e,o.rel="preload",o.as="script",document.head.appendChild(o);var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=e,i.onerror=function(t){var r=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));i.onerror=i.onload=null,i.remove(),n(r)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)}}))}))})),s.register("hE0rk",(function(e,t){"use strict";var n={},r={},o={};e.exports=function(e,t){return function(i){var s=function(e){switch(e){case"preload":return r;case"prefetch":return o;default:return n}}(t);return s[i]?s[i]:s[i]=e.apply(null,arguments).catch((function(e){throw delete s[i],e}))}}})),s.register("2FqAO",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),s.register("5ojaz",(function(e,t){e.exports=s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("bSKtD")).then((()=>s("ieXYQ")))})),s.register("6Klzw",(function(t,n){e(t.exports,"queryHooks",(function(){return E}));var r=s("4xbAj"),o=s("21aqi"),i=s("5slFC");s("eJxop");var a=s("3r36j"),u=s("56oyT"),c=s("5uSEV");s("egHtJ");var l=s("j4jBF"),d=s("HlEsU");s("kram9");var p=s("66XDV"),f=s("kiMda"),y=s("7gANb"),g=s("16XMG"),m=s("m2d5Y"),h=s("41yT6"),v=s("aoHi0"),S=s("goVRJ"),w=s("JepPo"),A=s("twk6W"),b=s("93ApY"),T=s("dbmto");const E=function(e){const{analytics:t,legacyStorage:n,storage:s,accountProxy:h,queryClient:v,chainAvailability:S}=e,w=new(0,y.PriorityFeeService)(t),A=(0,r.createAccountHooks)(h,s,n,v,S,(e=>e.invalidateQueries(["browser-ext/MultichainMockAccountsContext"])),t),b=(0,m.createClusterHooks)(n),E=(0,o.createCollectibleHooks)(h,s,g.getAPIEnvironment,v,w),x=(0,u.createPriceHooks)(),k=(0,c.createSettingsHooks)(h,s,n,v,S,t),P=(0,y.createTransactionHooks)(h,v,s,t,x),I=(0,l.createStakingHooks)(P,v,g.getAPIEnvironment,t),F=(0,d.createStorageHooks)(n,s,v),C=(0,p.createSwapperHooks)(P),R=(0,i.createFungibleHooks)({storage:s,legacyStorage:n,getApiEnvironment:g.getAPIEnvironment,queryClient:v,transactionHooks:P,accountProxy:h,accountHooks:A,priceHooks:x,priorityFeeService:w}),M=(0,f.createSwapperMultichainHooks)(h,s,g.getAPIEnvironment,t,x,R,A,k),L=(0,a.createHardwareHooks)((0,T.getLedgerWebHIDDependencies)(),v);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},A),b),E),R),x),k),I),F),C),M),P),L)}({accountProxy:(0,b.getAccountProxy)(),analytics:A.analytics,queryClient:h.queryClient,legacyStorage:new(0,w.LocalStorage),storage:new(0,S.LegacyIndexedDBProxy),chainAvailability:(0,v.createChainAvailability)()})})),s.register("eJxop",(function(t,n){e(t.exports,"createHardwareHooks",(function(){return s("3r36j").createHardwareHooks})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s("bwiqA").DEFAULT_LEDGER_TRANSPORT_STATE})),e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return s("bwiqA").LEDGER_NOT_CONNECTED_STATE})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return s("bwiqA").LEDGER_RECONNECTING_STATE})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return s("bwiqA").LEDGER_WAITING_FOR_APPROVAL_STATE})),e(t.exports,"createLedgerSigner",(function(){return s("cWagW").createLedgerSigner})),e(t.exports,"createHardwareHooks",(function(){return s("dZ3qP").createHardwareHooks})),e(t.exports,"createLedgerSigner",(function(){return s("dZ3qP").createLedgerSigner})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s("dZ3qP").DEFAULT_LEDGER_TRANSPORT_STATE})),e(t.exports,"LEDGER_LOCKED",(function(){return s("dZ3qP").LEDGER_LOCKED})),e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return s("dZ3qP").LEDGER_NOT_CONNECTED_STATE})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return s("dZ3qP").LEDGER_RECONNECTING_STATE})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return s("dZ3qP").LEDGER_WAITING_FOR_APPROVAL_STATE})),e(t.exports,"refetchLedgerAddresses",(function(){return s("dZ3qP").refetchLedgerAddresses})),e(t.exports,"resetLedgerAddresses",(function(){return s("dZ3qP").resetLedgerAddresses})),e(t.exports,"setLedgerTransportStateOverride",(function(){return s("dZ3qP").setLedgerTransportStateOverride})),e(t.exports,"LEDGER_LOCKED",(function(){return s("a5LJM").LEDGER_LOCKED})),s("gPRGi"),s("bwiqA"),s("e59pI"),s("B2Sdw"),s("d1qVj"),s("a5LJM")})),s.register("gPRGi",(function(t,n){e(t.exports,"createHardwareHooks",(function(){return s("3r36j").createHardwareHooks}));s("3r36j")})),s.register("3r36j",(function(t,n){e(t.exports,"createHardwareHooks",(function(){return u}));var r=s("4GWtC"),o=s("4Oih6"),i=s("a4BZg"),a=s("1yw5t");function u(e,t){return{useIsLedgerSupported:()=>(0,r.default)(e),useLedgerTransportState:(n,r,o)=>(0,i.default)(e,t,n,r,o),useRequestLedgerPermission:(n,r)=>(0,a.default)(e,t,n,r),useLedgerAddresses:(n,r,i,s)=>(0,o.default)(e,t,n,r,i,s)}}})),s.register("4GWtC",(function(t,n){e(t.exports,"default",(function(){return a}),(function(e){return a=e}));var r=s("5ekp2"),o=s("dUHlc"),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=e=>{const t=o.hardwareQueryKeys.isLedgerSupported();return(0,r.useQuery)({queryKey:t,queryFn:()=>i(void 0,void 0,void 0,(function*(){return e.isSupported()}))})}})),s.register("dUHlc",(function(t,n){e(t.exports,"HARDWARE_BASE_QUERY_KEY",(function(){return r})),e(t.exports,"hardwareQueryKeys",(function(){return o}));const r="@phantom-labs/hardware",o={isLedgerSupported:()=>[`${r}:is-ledger-supported`],ledgerTransportState:()=>[`${r}:ledger-transport-state`],ledgerAddress:(e,t)=>[`${r}:ledger-address`,{chainType:e,derivationPath:t}],ledgerAddresses:(e=[],t)=>[`${r}:ledger-addresses`,{derivationPathParams:e,enableLedgerXPubDerivation:t}],requestLedgerPermission:()=>[`${r}:request-ledger-permission`]}})),s.register("4Oih6",(function(t,n){e(t.exports,"default",(function(){return c}),(function(e){return c=e}));var r=s("5ekp2"),o=s("a5LJM"),i=s("54Y8k"),a=s("dUHlc"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=(e,t,n,s=[],c=!1,l=!1,d=(()=>{}))=>{var p;const f=n.isConnected&&s.length>0&&s[0].chainType===(null===(p=n.selectedApp)||void 0===p?void 0:p.chainType),y=a.hardwareQueryKeys.ledgerAddresses(s,l);return(0,r.useQuery)({enabled:f,queryKey:y,queryFn:()=>u(void 0,void 0,void 0,(function*(){const n=yield t.getQueryData(a.hardwareQueryKeys.ledgerTransportState());if(!n)throw o.LEDGER_NOT_CONNECTED;return(0,i.deriveLedgerAddresses)({deps:e,state:n,derivationPathParams:s,enableDebugLogs:c,enableLedgerXPubDerivation:l,onSuccess:d})})),retry:!1})}})),s.register("a5LJM",(function(t,n){e(t.exports,"LEDGER_NOT_CONNECTED",(function(){return r})),e(t.exports,"LEDGER_MULTIPLE_CHAIN_TYPES_REQUESTED",(function(){return o})),e(t.exports,"LEDGER_LOCKED",(function(){return i})),e(t.exports,"LEDGER_DUPLICATE_ADDRESS_RECEIVED",(function(){return s}));const r=new Error("Ledger not connected."),o=new Error("Multiple chain types requested from Ledger. Only request one at a time."),i=new Error("Ledger is locked, unlock to get addresses or sign."),s=new Error("Duplicate ledger address received")})),s.register("54Y8k",(function(t,n){e(t.exports,"deriveLedgerAddresses",(function(){return g}),(function(e){return g=e}));var r=s("4xbAj"),o=s("hcj6g"),i=s("csW2r"),a=s("RVqnc"),u=s("a5LJM"),c=s("aLMPl"),l=s("bOnUg"),d=s("5E8aH"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n,r)=>{const o=new Set;return(i,s)=>p(void 0,void 0,void 0,(function*(){if(!t.isConnected)throw u.LEDGER_NOT_CONNECTED;const l=e.defaultTransportTimeout;try{const e=yield(0,a.withRetry)((()=>p(void 0,void 0,void 0,(function*(){const e=yield(0,a.withTimeout)((0,c.getLedgerAddress)(t.transport,i.chainType,s,r),3e3);if(o.has(e.address))throw u.LEDGER_DUPLICATE_ADDRESS_RECEIVED;return e}))),(e=>{const t=e===u.LEDGER_DUPLICATE_ADDRESS_RECEIVED;t&&(0,d.debugLog)(n,`‚ùå Duplicate address detected, retrying in ${l}ms...`);const r="InvalidChannel"===e.id;return r&&(0,d.debugLog)(n,`Invalid channel, trying again in ${l}ms...`),t||r}),3,l);return(0,d.debugLog)(n,`‚úÖ Received address for ${s}: ${e.address}`),o.add(e.address),e}catch(e){throw yield(0,a.delayAsync)(1e3),e}}))},y=(e,t)=>{switch(e){case"grandparent":switch(t){case r.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'";case r.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'";case r.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'"}break;case"parent":switch(t){case r.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'/0";case r.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'/0";case r.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'/0"}}},g=({deps:e,state:t,derivationPathParams:n,enableDebugLogs:s,enableLedgerXPubDerivation:a,onSuccess:c})=>p(void 0,void 0,void 0,(function*(){const g=Date.now();(e=>{let t,n=!0;for(const r of e)if(t?n=n&&t===r.chainType:t=r.chainType,!n)throw u.LEDGER_MULTIPLE_CHAIN_TYPES_REQUESTED})(n);const m=a?((e,t,n)=>{const s=f(e,t,n,!0),a={};return(e,t)=>p(void 0,void 0,void 0,(function*(){switch(e.chainType){case o.ChainType.Solana:return s(e,t);case o.ChainType.Ethereum:switch(e.pathType){case r.DerivationPathType.Bip44RootEthereum:return yield s(e,t);case r.DerivationPathType.Bip44Ethereum:case r.DerivationPathType.Bip44EthereumSecondary:case r.DerivationPathType.Bip44EthereumTertiary:{let r=a[e.pathType];if(!r)try{const t=y("grandparent",e.pathType),n=yield s(e,t);if(n.chainType!==e.chainType||"chain-code"!==n.type)throw new Error(`invalid response from Ledger requesting grandparent path: ${t}`);const o=y("parent",e.pathType),i=yield s(e,o);if(i.chainType!==e.chainType||"chain-code"!==i.type)throw new Error(`invalid response from Ledger requesting parent path: ${t}`);r=(0,l.createEthereumChildAddressDeriver)(n,i),a[e.pathType]=r}catch(n){return i.telemetry.captureError(new Error(`error creating xpub from derivation path: ${t}. Reason: ${n.message}`),i.FeatureTag.Ledger),s(e,t)}const o=r(e.index);return(0,d.debugLog)(n,`‚≠êÔ∏è Derived address with xpub for ${t}: ${o}`),{type:"address",chainType:e.chainType,address:r(e.index)}}}}}))})(e,t,s):f(e,t,s,!1),h={};for(const e of n){const t=(0,r.getDerivationPath)(e),{address:n}=yield m(e,t);h[t]=n}const v=(Date.now()-g)/1e3;return(0,d.debugLog)(s,`‚úÖ Finished requesting addresses for ${n.length} derivation paths. Time: ${v} s`),c(v),h}))})),s.register("aLMPl",(function(n,r){e(n.exports,"getLedgerAddress",(function(){return l}),(function(e){return l=e}));var o=s("hcj6g"),i=s("85iHy"),a=s("a5LJM"),u=s("2B5FA"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,n,r,s)=>c(void 0,void 0,void 0,(function*(){const c=r.replace("m/","");try{switch(n){case o.ChainType.Solana:{const n=yield(0,u.getSolanaLedgerApp)(e),{address:r}=yield n.getAddress(c);return{type:"address",chainType:o.ChainType.Solana,address:t(i).encode(r)}}case o.ChainType.Ethereum:{const t=yield(0,u.getEthereumLedgerApp)(e),{publicKey:n,address:r,chainCode:i}=yield t.getAddress(c,!1,s);if(s){if(!i)throw new Error("Chain code is requested from Ledger device, but no chain code was received.");return{type:"chain-code",chainType:o.ChainType.Ethereum,address:r,publicKey:n,chainCode:i}}return{type:"address",chainType:o.ChainType.Ethereum,address:r}}}}catch(e){throw"TransportLocked"===e.id?a.LEDGER_LOCKED:e}}))})),s.register("2B5FA",(function(t,n){e(t.exports,"getSolanaLedgerApp",(function(){return o}),(function(e){return o=e})),e(t.exports,"getEthereumLedgerApp",(function(){return i}),(function(e){return i=e})),e(t.exports,"getEthereumLedgerService",(function(){return a}),(function(e){return a=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function o(e){return r(this,void 0,void 0,(function*(){const{default:t}=yield s("92CQ3");return new t(e)}))}function i(e){return r(this,void 0,void 0,(function*(){const{default:t}=yield s("aV9iO");return new t(e)}))}function a(){return r(this,void 0,void 0,(function*(){const{ledgerService:e}=yield s("aV9iO");return e}))}})),s.register("92CQ3",(function(e,t){e.exports=Promise.all([s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("9J0UJ")),s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("bnDSu"))]).then((()=>s("903Vo")))})),s.register("aV9iO",(function(e,t){e.exports=Promise.all([s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("9J0UJ")),s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("ia8XW"))]).then((()=>s("lwgEg")))})),s.register("bOnUg",(function(n,r){e(n.exports,"createEthereumChildAddressDeriver",(function(){return p}));var o=s("8qXbd"),i=s("7cTdJ"),a=s("bU4Vn"),u=s("cFUcx"),c=s("85iHy"),l=s("8tcqI");const d=(e,n,r)=>(e=>{const n=(0,i.sha256)((0,i.sha256)(e)).replace("0x","").slice(0,8);return t(c).encode(l.Buffer.concat([l.Buffer.from(e),l.Buffer.from(n,"hex")]))})(l.Buffer.from(`0488b21e04${e.replace("0x","")}00000000${n}${r.replace("0x","").toLowerCase()}`,"hex")),p=(e,t)=>{const n=(r=e.publicKey,(0,i.ripemd160)((0,i.sha256)((0,a.computePublicKey)(`0x${r}`,!0))).replace("0x","").slice(0,8));var r;const s=(0,a.computePublicKey)(`0x${t.publicKey}`,!0),c=d(n,t.chainCode,s),l=o.HDNode.fromExtendedKey(c);return e=>{const t=l.derivePath(`${e}`).address;if(u.EthAddress.safeParse(t).success)return t;throw new Error(`Invalid Ethereum Child Address derived: ${t}`)}}})),s.register("5E8aH",(function(t,n){e(t.exports,"debugLog",(function(){return r}));const r=(e,t)=>{if(e){const e=new Date;console.log(`[${e.toISOString()}] ${t}`)}}})),s.register("a4BZg",(function(t,n){e(t.exports,"default",(function(){return g}),(function(e){return g=e}));var r=s("RVqnc"),o=s("5ekp2"),i=s("29o0l"),a=s("bwiqA"),u=s("5E8aH"),c=s("5EX67"),l=s("dZ3qP"),d=s("flIjd"),p=s("dUHlc"),f=s("4GWtC"),y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var g=(e,t,n=!0,s=!1,g=2e3)=>{(0,i.useEffect)((()=>{e.on("disconnect",(()=>{(0,u.debugLog)(s,"disconnect event received from Ledger transport."),(0,l.invalidateLedgerTransportState)(t)}))}),[e,t]);const{data:m=!1}=(0,f.default)(e),h=n&&m,v=p.hardwareQueryKeys.ledgerTransportState();return(0,o.useQuery)({enabled:h,queryKey:v,queryFn:()=>y(void 0,void 0,void 0,(function*(){if(!h)return a.LEDGER_NOT_CONNECTED_STATE;let n,o=t.getQueryData(v),i=!1,p=0;do{try{n=(yield Promise.all([(0,r.withTimeout)((0,d.fetchLedgerTransportState)(e,s,p>0?a.LEDGER_RECONNECTING_STATE:o),e.defaultTransportTimeout),(0,r.delayAsync)(200)]))[0]}catch(e){n=a.LEDGER_NOT_CONNECTED_STATE}i=!!(null==o?void 0:o.isConnected)&&"not-connected"===n.status&&++p<5,i&&((0,l.setLedgerTransportStateOverride)(t,a.LEDGER_RECONNECTING_STATE),(0,u.debugLog)(s,"Attempting to reconnect..."),1===p&&(0,c.debugLogStateChange)(s,o,a.LEDGER_RECONNECTING_STATE),yield(0,r.delayAsync)(500))}while(i);return p>0&&(o=a.LEDGER_RECONNECTING_STATE),(0,c.debugLogStateChange)(s,o,n),(null==o?void 0:o.isConnected)&&!n.isConnected&&(0,l.resetLedgerAddresses)(t).then((()=>(0,l.refetchLedgerAddresses)(t))),n})),refetchOnMount:!0,refetchInterval:g,initialData:a.LEDGER_NOT_CONNECTED_STATE})}})),s.register("bwiqA",(function(t,n){e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return r})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return o})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return i})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s}));const r={status:"not-connected",isConnected:!1},o={status:"reconnecting",isConnected:!1},i={status:"waiting-for-approval",isConnected:!1},s=r})),s.register("5EX67",(function(t,n){e(t.exports,"debugLogStateChange",(function(){return i}));var r=s("hcj6g"),o=s("5E8aH");const i=(e=!1,t,n)=>{if((null==t?void 0:t.status)===n.status)return;let i,s="";switch(n.status){case"connected":i="üü¢ Connected",s=`, selected app: ${n.selectedApp?(0,r.getChainTypeGenericName)(n.selectedApp.chainType):"None"}`;break;case"needs-permission":i="üü† Needs Permission";break;case"reconnecting":i="üü† Reconnecting";break;case"waiting-for-approval":i="üü† Waiting For Approval";break;case"not-connected":i="‚ö™Ô∏è Not Connected"}(0,o.debugLog)(e,`${i}${s}`)}})),s.register("dZ3qP",(function(t,n){e(t.exports,"resetLedgerAddresses",(function(){return i}),(function(e){return i=e})),e(t.exports,"refetchLedgerAddresses",(function(){return a}),(function(e){return a=e})),e(t.exports,"invalidateLedgerTransportState",(function(){return u}),(function(e){return u=e})),e(t.exports,"setLedgerTransportStateOverride",(function(){return c}),(function(e){return c=e}));var r=s("dUHlc"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const i=e=>o(void 0,void 0,void 0,(function*(){yield e.resetQueries([`${r.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),a=e=>o(void 0,void 0,void 0,(function*(){yield e.refetchQueries([`${r.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),u=e=>o(void 0,void 0,void 0,(function*(){yield e.invalidateQueries(r.hardwareQueryKeys.ledgerTransportState())})),c=(e,t)=>e.setQueryData(r.hardwareQueryKeys.ledgerTransportState(),t)})),s.register("flIjd",(function(t,n){e(t.exports,"fetchLedgerTransportState",(function(){return u}),(function(e){return u=e}));var r=s("bwiqA"),o=s("51YJE"),i=s("5E8aH"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n)=>a(void 0,void 0,void 0,(function*(){let s;if(0===(yield e.getNumDevices()))return n!==r.LEDGER_NOT_CONNECTED_STATE&&(0,i.debugLog)(t,"Unable to detect Ledger devices."),r.LEDGER_NOT_CONNECTED_STATE;if(null==n?void 0:n.isConnected)return n;if(s||(s=yield e.getFirstOpenedTransport(),s&&(0,i.debugLog)(t,"Found previously-opened transport.")),s||(s=yield e.openConnected(),s&&(0,i.debugLog)(t,"Opened a new connection to a previously-opened transport.")),!s)return(0,i.debugLog)(t,"Need permission to use the connected Ledger device."),{status:"needs-permission",isConnected:!1};return{status:"connected",isConnected:!0,transport:s,selectedApp:yield(0,o.getSelectedLedgerApp)(s,e.defaultTransportTimeout)}}))})),s.register("51YJE",(function(t,n){e(t.exports,"getSelectedLedgerApp",(function(){return u}),(function(e){return u=e}));var r=s("hcj6g"),o=s("RVqnc"),i=s("2B5FA"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t=500)=>a(void 0,void 0,void 0,(function*(){try{return yield(0,o.withTimeout)(a(void 0,void 0,void 0,(function*(){try{const t=yield(0,i.getSolanaLedgerApp)(e),n=yield t.getAppConfiguration();return{chainType:r.ChainType.Solana,version:n.version,blindSigningEnabled:n.blindSigningEnabled}}catch(e){}try{const t=yield(0,i.getEthereumLedgerApp)(e),n=yield t.getAppConfiguration();return{chainType:r.ChainType.Ethereum,version:n.version,blindSigningEnabled:1===n.arbitraryDataEnabled}}catch(e){}return null})),t)}catch(e){return null}}))})),s.register("1yw5t",(function(t,n){e(t.exports,"default",(function(){return p}),(function(e){return p=e}));var r=s("5ekp2"),o=s("51YJE"),i=s("5E8aH"),a=s("5EX67"),u=s("dZ3qP"),c=s("flIjd"),l=s("dUHlc"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},p=(e,t,n=!0,s=!1)=>{const p=l.hardwareQueryKeys.requestLedgerPermission();return(0,r.useQuery)({enabled:n,queryKey:p,queryFn:()=>d(void 0,void 0,void 0,(function*(){var n,r,d,p,f,y,g;let m;try{(0,i.debugLog)(s,"Requesting permission to connect to Ledger..."),m=yield e.request()}catch(o){if((0,i.debugLog)(s,`Received error trying to request permission: ${o}`),"string"==typeof o.message&&(null===(n=o.message)||void 0===n?void 0:n.includes("device is already open"))){(0,i.debugLog)(s,"‚úÖ Permission granted, device already open. Connecting to device...");const n=l.hardwareQueryKeys.ledgerTransportState(),o=yield t.getQueryData(n);let y;try{y=yield(0,c.fetchLedgerTransportState)(e,s,o)}catch(e){}return(null==y?void 0:y.isConnected)?((0,i.debugLog)(s,`‚úÖ Permission granted. Connected to Ledger device: ${null!==(d=null===(r=y.transport.deviceModel)||void 0===r?void 0:r.productName)&&void 0!==d?d:"Unknown device"}. Selected app: ${null!==(f=null===(p=null==y?void 0:y.selectedApp)||void 0===p?void 0:p.chainType)&&void 0!==f?f:"none"}`),yield(0,u.setLedgerTransportStateOverride)(t,y),(0,a.debugLogStateChange)(s,void 0,y),{type:"granted",transport:y.transport}):((0,i.debugLog)(s,"‚ùå Unable to connect. Try again and make sure device is unlocked."),{type:"unable-to-connect"})}return(0,i.debugLog)(s,"‚ùå Permission denied."),{type:"denied"}}if(!m){const e="Unable to connect to Ledger device. Permission granted, but no Transport received.";return(0,i.debugLog)(s,`‚ùå ${e}`),{type:"unable-to-connect"}}const h={status:"connected",isConnected:!0,transport:m,selectedApp:yield(0,o.getSelectedLedgerApp)(m,e.defaultTransportTimeout)};return yield(0,u.setLedgerTransportStateOverride)(t,h),(0,a.debugLogStateChange)(s,void 0,h),(0,i.debugLog)(s,`‚úÖ Permission granted. Connected to Ledger device: ${null!==(g=null===(y=m.deviceModel)||void 0===y?void 0:y.productName)&&void 0!==g?g:"Unknown device"}`),{type:"granted",transport:m}})),cacheTime:0,staleTime:0,refetchOnMount:!0})}})),s.register("e59pI",(function(e,t){var n=s("cFUcx"),r=s("7XqVB");const o=r.z.string().regex(/^[0-9A-Fa-f]*$/,{message:"String must have only valid hex characters"});r.z.object({address:n.EthAddress,publicKey:o,chainCode:o})})),s.register("B2Sdw",(function(t,n){e(t.exports,"createLedgerSigner",(function(){return s("cWagW").createLedgerSigner}));s("cWagW")})),s.register("cWagW",(function(n,r){e(n.exports,"createLedgerSigner",(function(){return b}),(function(e){return b=e}));var o=s("kIJ9R"),i=s("4v43U"),a=s("4xbAj"),u=s("hcj6g"),c=s("hMVEP"),l=s("csW2r"),d=s("RVqnc"),p=s("85iHy"),f=s("8tcqI"),y=s("bwiqA"),g=s("flIjd"),m=s("1yP1g"),h=s("2B5FA"),v=s("51YJE"),S=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const w=(e,n,r)=>S(void 0,void 0,void 0,(function*(){if(r.chainType!==u.ChainType.Solana)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.InvalidChainType);let o;try{o="string"==typeof r.message?"transaction"===r.signingType?t(p).decode(r.message):f.Buffer.from(r.message,"utf8"):r.message}catch(e){return(0,a.createVaultSignerError)(a.VaultSignerErrorType.InvalidMessageEncoding)}const i=yield(0,h.getSolanaLedgerApp)(e),l=n.replace("m/","");let d;switch(r.signingType){case"transaction":try{const e=yield i.signTransaction(l,f.Buffer.from(o));d=t(p).encode(e.signature)}catch(n){const r=yield((e,t)=>S(void 0,void 0,void 0,(function*(){try{const n=yield(0,v.getSelectedLedgerApp)(e);if(!n||n.chainType!==u.ChainType.Solana)return null;const r=(0,c.messageStringToTransaction)(t),{gte:o}=yield s("ivxPN");return{isVersionedTx:"version"in r&&"legacy"!==r.version,isVersionedTxSupported:o(n.version,"1.3.1")}}catch(e){return null}})))(e,t(p).encode(o));if(!r)throw n;const{isVersionedTx:i,isVersionedTxSupported:l}=r;if(i&&!l)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.UnsupportedOperation,"Versioned Transactions is not supported on this version of Ledger. Please upgrade your Solana Ledger firmware to version 1.3.1.");throw n}break;case"message":return(0,a.createVaultSignerError)(a.VaultSignerErrorType.UnsupportedOperation,"Signing off chain messages with Ledger is not yet supported.")}return{status:"success",signature:d}})),A=e=>e.startsWith("0x")?e:`0x${e}`,b=e=>({type:a.VaultSignerPluginType.Ledger,sign:(t,n)=>S(void 0,void 0,void 0,(function*(){var r;let s,c=y.LEDGER_NOT_CONNECTED_STATE;try{c=yield(0,d.withRetry)((()=>(0,d.withTimeout)((0,g.fetchLedgerTransportState)(e,!1),e.defaultTransportTimeout)),(()=>!0),3,200)}catch(e){}switch(c.status){case"needs-permission":return(0,a.createVaultSignerError)(a.VaultSignerErrorType.LedgerNeedPermission,"Need permission to connect to Ledger.");case"not-connected":case"reconnecting":case"waiting-for-approval":return(0,a.createVaultSignerError)(a.VaultSignerErrorType.LedgerNotConnected,"Unable to connect to Ledger. Make sure your Ledger device is plugged in.");case"connected":if((null===(r=c.selectedApp)||void 0===r?void 0:r.chainType)!==n.chainType)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.LedgerAppNotOpen,`Ledger App not open. Open the ${(0,u.getChainTypeGenericName)(n.chainType)} app on your Ledger device.`);s=c.transport}try{switch(n.chainType){case u.ChainType.Ethereum:return yield((e,t,n)=>S(void 0,void 0,void 0,(function*(){if(n.chainType!==u.ChainType.Ethereum)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.InvalidChainType);const r=yield(0,h.getEthereumLedgerApp)(e),s=t.replace("m/","");switch(n.signingType){case"typedData":switch(n.version){case 1:return(0,a.createVaultSignerError)(a.VaultSignerErrorType.UnsupportedOperation);case 3:case 4:{const e=()=>S(void 0,void 0,void 0,(function*(){const e=(0,m.convertSignTypedDataToEip712Message)(n.data);return r.signEIP712Message(s,e)})),t=()=>S(void 0,void 0,void 0,(function*(){const e=3===n.version?i.SignTypedDataVersion.V3:i.SignTypedDataVersion.V4,t=n.data,o=i.TypedDataUtils.sanitizeData(t),a=i.TypedDataUtils.hashStruct("EIP712Domain",o.domain,o.types,e).toString("hex"),u=i.TypedDataUtils.hashStruct(o.primaryType,o.message,o.types,e).toString("hex");return yield r.signEIP712HashedMessage(s,a,u)})),{r:a,s:u,v:c}=yield e().catch(t);return{status:"success",signature:(0,o.joinSignature)({r:A(a),s:A(u),v:c})}}}break;case"message":{const e=f.Buffer.from(n.message,"utf8"),{r:t,s:i,v:a}=yield r.signPersonalMessage(s,e.toString("hex"));return{status:"success",signature:(0,o.joinSignature)({r:A(t),s:A(i),v:a})}}case"transaction":{const e=n.message.replace("0x",""),t=yield(0,h.getEthereumLedgerService)(),i=yield t.resolveTransaction(e,{},{}),{r:a,s:u,v:c}=yield r.signTransaction(s,e,i);return{status:"success",signature:(0,o.joinSignature)({r:A(a),s:A(u),v:Number.parseInt(c.replace("0x",""),16)})}}}})))(s,t,n);case u.ChainType.Solana:return yield w(s,t,n)}}catch(e){return l.telemetry.captureError(e,l.FeatureTag.Ledger),(0,a.createVaultSignerError)(a.VaultSignerErrorType.InternalError)}}))})})),s.register("1yP1g",(function(t,n){e(t.exports,"convertSignTypedDataToEip712Message",(function(){return r}));const r=e=>{const t={name:e.domain.name,version:e.domain.version,verifyingContract:e.domain.verifyingContract,chainId:"number"==typeof e.domain.chainId?e.domain.chainId:"string"==typeof e.domain.chainId?parseInt(e.domain.chainId,10):void 0},n=[],r={};for(const[t,o]of Object.entries(e.types))for(const e of o)"EIP712Domain"===t?n.push(e):t in r?r[t].push(e):r[t]=[e];return{domain:t,types:Object.assign({EIP712Domain:n},r),primaryType:e.primaryType,message:Object.assign({},e.message)}}})),s.register("ivxPN",(function(e,t){e.exports=s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("4nmlj")).then((()=>s("4TDRm")))})),s.register("d1qVj",(function(e,t){var r=s("dZ3qP");n(e.exports,r)})),s.register("egHtJ",(function(t,n){e(t.exports,"createStakingHooks",(function(){return s("j4jBF").createStakingHooks})),e(t.exports,"calculateTotalValidatorAPY",(function(){return s("8lo7S").calculateTotalValidatorAPY})),e(t.exports,"recommendedValidatorSorter",(function(){return s("kAm35").recommendedValidatorSorter})),e(t.exports,"voteAccountSorter",(function(){return s("9TG0W").voteAccountSorter})),s("hvyP7"),s("jjhma"),s("9OqWg")})),s.register("hvyP7",(function(t,n){e(t.exports,"createStakingHooks",(function(){return s("j4jBF").createStakingHooks})),s("j4jBF")})),s.register("j4jBF",(function(t,n){e(t.exports,"createStakingHooks",(function(){return S}));var r=s("7gANb"),o=s("5ZOeC"),i=s("lEqf0"),a=s("6fWI5"),u=s("48Z1Q"),c=s("39pK6"),l=s("gqfgW"),d=s("3cJgq"),p=s("d5USZ"),f=s("40bAw"),y=s("8BkVZ"),g=s("kETlb"),m=s("FEhzp"),h=s("cJRQS"),v=s("efxv4");function S(e,t,n,s){const S=new(0,r.PriorityFeeService)(s);return{useRecommendedValidators:()=>(0,u.useRecommendedValidators)(n),useSignatureStatus:(e,n,r)=>(0,c.useSignatureStatus)(t,e,n,r),useStakeAccounts:d.useStakeAccounts,useStakeAccountMinBalance:l.useStakeAccountMinBalance,useStakeActivationData:p.useStakeActivationData,useStakeApy:()=>(0,f.useStakeApy)(n),useStakeRewardsHistory:(e,t)=>(0,y.useStakeRewardsHistory)(n,e,t),useValidators:m.useValidators,useValidatorInfo:g.useValidatorInfo,useVoteAccounts:h.useVoteAccounts,useDelegateStake:n=>(0,a.useDelegateStake)(e,n,t,S),useCreateStakeAccountAndDelegateStake:n=>(0,o.useCreateStakeAccountAndDelegateStake)(e,n,t,S),useDeactivateStake:n=>(0,i.useDeactivateStake)(e,n,t,S),useWithdrawStake:n=>(0,v.useWithdrawStake)(e,n,t,S)}}})),s.register("5ZOeC",(function(t,n){e(t.exports,"useCreateStakeAccountAndDelegateStake",(function(){return g}),(function(e){return g=e}));var r=s("43063"),o=s("hMVEP"),i=s("csW2r"),a=s("7gANb"),u=s("9W7fs"),c=s("bQvNK"),l=s("3vaB1");s("9OqWg");var d=s("hIkt0"),p=s("6fWI5"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function y({lamports:e,votePubkey:t,authorizedPubkey:n}){const[r,i]=function({ownerPublicKey:e,lamports:t,transaction:n=new(0,o.Transaction)}){const r=o.Keypair.generate();return n.add(o.StakeProgram.createAccount({fromPubkey:e,stakePubkey:r.publicKey,authorized:new(0,o.Authorized)(e,e),lamports:t})),[n,r]}({ownerPublicKey:n,lamports:e});return r.add((0,p.delegateStake)({stakePubkey:i.publicKey,authorizedPubkey:n,votePubkey:t})),[r,i]}const g=(e,t,n,s)=>{const{t:p}=(0,r.useTranslation)(),{mutateAsync:g}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,lamports:r,votePubkey:i,authorizedPubkey:u})=>f(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:c,address:d}=n,[f,m]=y({accountIdentifier:e,senderAddress:n,lamports:r,votePubkey:i,authorizedPubkey:u}),h=yield s.addPriorityFee(f,{connection:t}),v={ownerAddress:null!=d?d:"",chainID:c,data:{signature:""},type:a.PendingTransactionType.CreateAccountAndDelegateStake,display:{summary:{topLeft:{label:p("transactionsPendingCreatingAndDelegatingStake")}}}},S=yield g({accountIdentifier:e,feePayer:new(0,o.PublicKey)(d),transaction:h,pendingTransactionInput:v,opts:{additionalSignerAccounts:[m]}});return{chainID:c,signature:null!=S?S:""}})),onSuccess:e=>f(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("3vaB1",(function(t,n){e(t.exports,"MissingSenderAddressError",(function(){return r})),e(t.exports,"MissingConfirmationSignatureError",(function(){return o})),e(t.exports,"MissingPublicKeyError",(function(){return i}));const r=new Error("Missing sender address for staking fungibles."),o=(new Error("Missing signature from staking fungibles."),new Error("Missing signature from waiting for staking transaction confirmation.")),i=new Error("PublicKey is required")})),s.register("9OqWg",(function(t,n){e(t.exports,"calculateTotalValidatorAPY",(function(){return s("8lo7S").calculateTotalValidatorAPY})),e(t.exports,"invalidateAllStakeAccountData",(function(){return s("hIkt0").invalidateAllStakeAccountData})),e(t.exports,"recommendedValidatorSorter",(function(){return s("kAm35").recommendedValidatorSorter})),e(t.exports,"voteAccountSorter",(function(){return s("9TG0W").voteAccountSorter}));s("8lo7S"),s("hIkt0"),s("kAm35"),s("9TG0W")})),s.register("8lo7S",(function(n,r){e(n.exports,"calculateTotalValidatorAPY",(function(){return i}));var o=s("k1fjo");function i(e,n){const r=new(t(o))(e/100),i=new(t(o))(n/100);return r.minus(r.times(i)).times(100).decimalPlaces(2).toNumber()}})),s.register("k1fjo",(function(e,t){!function(t){"use strict";var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,f=1e9;function y(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function m(e,t){var n,r,o=e.c,i=t.c,s=e.s,a=t.s,u=e.e,c=t.e;if(!s||!a)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=o.length)<(c=i.length)?u:c,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^n?1:-1;return u==c?0:u>c^n?1:-1}function h(e,t,n,r){if(e<t||e>n||e!==i(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return y(e.e/c)==t&&e.c[t]%2!=0}function S(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,A,b,T,E,x,k,P,I,F,C=K.prototype={constructor:K,toString:null,valueOf:null},R=new K(1),M=20,L=4,N=-7,O=21,U=-1e7,D=1e7,_=!1,B=1,q=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"¬†",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",Q=!0;function K(e,t){var n,o,s,u,d,p,f,y,g=this;if(!(g instanceof K))return new K(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>D?g.c=g.e=null:e.e<U?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,d=e;d>=10;d/=10,u++);return void(u>D?g.c=g.e=null:(g.e=u,g.c=[e]))}y=String(e)}else{if(!r.test(y=String(e)))return b(g,y,p);g.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(u=y.indexOf("."))>-1&&(y=y.replace(".","")),(d=y.search(/e/i))>0?(u<0&&(u=d),u+=+y.slice(d+1),y=y.substring(0,d)):u<0&&(u=y.length)}else{if(h(t,2,j.length,"Base"),10==t&&Q)return z(g=new K(e),M+g.e+1,L);if(y=String(e),p="number"==typeof e){if(0*e!=0)return b(g,y,p,t);if(g.s=1/e<0?(y=y.slice(1),-1):1,K.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else g.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(n=j.slice(0,t),u=d=0,f=y.length;d<f;d++)if(n.indexOf(o=y.charAt(d))<0){if("."==o){if(d>u){u=f;continue}}else if(!s&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){s=!0,d=-1,u=0;continue}return b(g,String(e),p,t)}p=!1,(u=(y=A(y,t,10,g.s)).indexOf("."))>-1?y=y.replace(".",""):u=y.length}for(d=0;48===y.charCodeAt(d);d++);for(f=y.length;48===y.charCodeAt(--f););if(y=y.slice(d,++f)){if(f-=d,p&&K.DEBUG&&f>15&&(e>l||e!==i(e)))throw Error(a+g.s*e);if((u=u-d-1)>D)g.c=g.e=null;else if(u<U)g.c=[g.e=0];else{if(g.e=u,g.c=[],d=(u+1)%c,u<0&&(d+=c),d<f){for(d&&g.c.push(+y.slice(0,d)),f-=c;d<f;)g.c.push(+y.slice(d,d+=c));d=c-(y=y.slice(d)).length}else d-=f;for(;d--;y+="0");g.c.push(+y)}}else g.c=[g.e=0]}function G(e,t,n,r){var o,i,s,a,u;if(null==n?n=L:h(n,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)u=g(e.c),u=1==r||2==r&&(s<=N||s>=O)?S(u,s):w(u,s,"0");else if(i=(e=z(new K(e),t,n)).e,a=(u=g(e.c)).length,1==r||2==r&&(t<=i||i<=N)){for(;a<t;u+="0",a++);u=S(u,i)}else if(t-=s,u=w(u,i,"0"),i+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=i-a)>0)for(i+1==a&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function W(e,t){for(var n,r=1,o=new K(e[0]);r<e.length;r++){if(!(n=new K(e[r])).s){o=n;break}t.call(o,n)&&(o=n)}return o}function H(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*c-1)>D?e.c=e.e=null:n<U?e.c=[e.e=0]:(e.e=n,e.c=t),e}function z(e,t,n,r){var s,a,l,p,f,y,g,m=e.c,h=d;if(m){e:{for(s=1,p=m[0];p>=10;p/=10,s++);if((a=t-s)<0)a+=c,l=t,g=(f=m[y=0])/h[s-l-1]%10|0;else if((y=o((a+1)/c))>=m.length){if(!r)break e;for(;m.length<=y;m.push(0));f=g=0,s=1,l=(a%=c)-c+1}else{for(f=p=m[y],s=1;p>=10;p/=10,s++);g=(l=(a%=c)-c+s)<0?0:f/h[s-l-1]%10|0}if(r=r||t<0||null!=m[y+1]||(l<0?f:f%h[s-l-1]),r=n<4?(g||r)&&(0==n||n==(e.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(a>0?l>0?f/h[s-l]:0:m[y-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=h[(c-t%c)%c],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=y,p=1,y--):(m.length=y+1,p=h[c-a],m[y]=l>0?i(f/h[s-l]%h[l])*p:0),r)for(;;){if(0==y){for(a=1,l=m[0];l>=10;l/=10,a++);for(l=m[0]+=p,p=1;l>=10;l/=10,p++);a!=p&&(e.e++,m[0]==u&&(m[0]=1));break}if(m[y]+=p,m[y]!=u)break;m[y--]=0,p=1}for(a=m.length;0===m[--a];m.pop());}e.e>D?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}function $(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=N||n>=O?S(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return K.clone=e,K.ROUND_UP=0,K.ROUND_DOWN=1,K.ROUND_CEIL=2,K.ROUND_FLOOR=3,K.ROUND_HALF_UP=4,K.ROUND_HALF_DOWN=5,K.ROUND_HALF_EVEN=6,K.ROUND_HALF_CEIL=7,K.ROUND_HALF_FLOOR=8,K.EUCLID=9,K.config=K.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(n=e[t],0,f,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(h(n[0],-f,0,t),h(n[1],0,f,t),N=n[0],O=n[1]):(h(n,-f,f,t),N=-(O=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)h(n[0],-f,-1,t),h(n[1],1,f,t),U=n[0],D=n[1];else{if(h(n,-f,f,t),!n)throw Error(s+t+" cannot be zero: "+n);U=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw _=!n,Error(s+"crypto unavailable");_=n}else _=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(h(n=e[t],0,f,t),q=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);V=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);Q="0123456789"==n.slice(0,10),j=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:L,EXPONENTIAL_AT:[N,O],RANGE:[U,D],CRYPTO:_,MODULO_MODE:B,POW_PRECISION:q,FORMAT:V,ALPHABET:j}},K.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!K.DEBUG)return!0;var t,n,r=e.c,o=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&o>=-f&&o<=f&&o===i(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==i(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},K.maximum=K.max=function(){return W(arguments,C.lt)},K.minimum=K.min=function(){return W(arguments,C.gt)},K.random=(T=9007199254740992,E=Math.random()*T&2097151?function(){return i(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,u,l=0,p=[],y=new K(R);if(null==e?e=M:h(e,0,f),a=o(e/c),_)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(p.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw _=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(p.push(u%1e14),l+=7);l=a/7}if(!_)for(;l<a;)(u=E())<9e15&&(p[l++]=u%1e14);for(a=p[--l],e%=c,a&&e&&(u=d[c-e],p[l]=i(a/u)*u);0===p[l];p.pop(),l--);if(l<0)p=[r=0];else{for(r=-1;0===p[0];p.splice(0,1),r-=c);for(l=1,u=p[0];u>=10;u/=10,l++);l<c&&(r-=c-l)}return y.e=r,y.c=p,y}),K.sum=function(){for(var e=1,t=arguments,n=new K(t[0]);e<t.length;)n=n.plus(t[e++]);return n},A=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,s=[0],a=0,u=e.length;a<u;){for(i=s.length;i--;s[i]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>n-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/n|0,s[o]%=n)}return s.reverse()}return function(r,o,i,s,a){var u,c,l,d,p,f,y,m,h=r.indexOf("."),v=M,S=L;for(h>=0&&(d=q,q=0,r=r.replace(".",""),f=(m=new K(o)).pow(r.length-h),q=d,m.c=t(w(g(f.c),f.e,"0"),10,i,e),m.e=m.c.length),l=d=(y=t(r,o,i,a?(u=j,e):(u=e,j))).length;0==y[--d];y.pop());if(!y[0])return u.charAt(0);if(h<0?--l:(f.c=y,f.e=l,f.s=s,y=(f=n(f,m,v,S,i)).c,p=f.r,l=f.e),h=y[c=l+v+1],d=i/2,p=p||c<0||null!=y[c+1],p=S<4?(null!=h||p)&&(0==S||S==(f.s<0?3:2)):h>d||h==d&&(4==S||p||6==S&&1&y[c-1]||S==(f.s<0?8:7)),c<1||!y[0])r=p?w(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(y.length=c,p)for(--i;++y[--c]>i;)y[c]=0,c||(++l,y=[1].concat(y));for(d=y.length;!y[--d];);for(h=0,r="";h<=d;r+=u.charAt(y[h++]));r=w(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,s,a=0,u=e.length,c=t%p,l=t/p|0;for(e=e.slice();u--;)a=((o=c*(i=e[u]%p)+(r=l*i+(s=e[u]/p|0)*c)%p*p+a)/n|0)+(r/p|0)+l*s,e[u]=o%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,s,a,l){var d,p,f,g,m,h,v,S,w,A,b,T,E,x,k,P,I,F=r.s==o.s?1:-1,C=r.c,R=o.c;if(!(C&&C[0]&&R&&R[0]))return new K(r.s&&o.s&&(C?!R||C[0]!=R[0]:R)?C&&0==C[0]||!R?0*F:F/0:NaN);for(w=(S=new K(F)).c=[],F=s+(p=r.e-o.e)+1,l||(l=u,p=y(r.e/c)-y(o.e/c),F=F/c|0),f=0;R[f]==(C[f]||0);f++);if(R[f]>(C[f]||0)&&p--,F<0)w.push(1),g=!0;else{for(x=C.length,P=R.length,f=0,F+=2,(m=i(l/(R[0]+1)))>1&&(R=e(R,m,l),C=e(C,m,l),P=R.length,x=C.length),E=P,b=(A=C.slice(0,P)).length;b<P;A[b++]=0);I=R.slice(),I=[0].concat(I),k=R[0],R[1]>=l/2&&k++;do{if(m=0,(d=t(R,A,P,b))<0){if(T=A[0],P!=b&&(T=T*l+(A[1]||0)),(m=i(T/k))>1)for(m>=l&&(m=l-1),v=(h=e(R,m,l)).length,b=A.length;1==t(h,A,v,b);)m--,n(h,P<v?I:R,v,l),v=h.length,d=1;else 0==m&&(d=m=1),v=(h=R.slice()).length;if(v<b&&(h=[0].concat(h)),n(A,h,b,l),b=A.length,-1==d)for(;t(R,A,P,b)<1;)m++,n(A,P<b?I:R,b,l),b=A.length}else 0===d&&(m++,A=[0]);w[f++]=m,A[0]?A[b++]=C[E]||0:(A=[C[E]],b=1)}while((E++<x||null!=A[0])&&F--);g=null!=A[0],w[0]||w.splice(0,1)}if(l==u){for(f=1,F=w[0];F>=10;F/=10,f++);z(S,s+(S.e=f+p*c-1)+1,a,g)}else S.e=p,S.r=+g;return S}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,P=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,F=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(e,t,n,r){var o,i=n?t:t.replace(F,"");if(I.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(x,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(k,"$1").replace(P,"0.$1")),t!=i))return new K(i,o);if(K.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},C.absoluteValue=C.abs=function(){var e=new K(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return m(this,new K(e,t))},C.decimalPlaces=C.dp=function(e,t){var n,r,o,i=this;if(null!=e)return h(e,0,f),null==t?t=L:h(t,0,8),z(new K(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-y(this.e/c))*c,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},C.dividedBy=C.div=function(e,t){return n(this,new K(e,t),M,L)},C.dividedToIntegerBy=C.idiv=function(e,t){return n(this,new K(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var n,r,a,u,l,d,p,f,y=this;if((e=new K(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+$(e));if(null!=t&&(t=new K(t)),l=e.e>14,!y.c||!y.c[0]||1==y.c[0]&&!y.e&&1==y.c.length||!e.c||!e.c[0])return f=new K(Math.pow(+$(y),l?2-v(e):+$(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new K(NaN);(r=!d&&y.isInteger()&&t.isInteger())&&(y=y.mod(t))}else{if(e.e>9&&(y.e>0||y.e<-1||(0==y.e?y.c[0]>1||l&&y.c[1]>=24e7:y.c[0]<8e13||l&&y.c[0]<=9999975e7)))return u=y.s<0&&v(e)?-0:0,y.e>-1&&(u=1/u),new K(d?1/u:u);q&&(u=o(q/c+2))}for(l?(n=new K(.5),d&&(e.s=1),p=v(e)):p=(a=Math.abs(+$(e)))%2,f=new K(R);;){if(p){if(!(f=f.times(y)).c)break;u?f.c.length>u&&(f.c.length=u):r&&(f=f.mod(t))}if(a){if(0===(a=i(a/2)))break;p=a%2}else if(z(e=e.times(n),e.e+1,1),e.e>14)p=v(e);else{if(0===(a=+$(e)))break;p=a%2}y=y.times(y),u?y.c&&y.c.length>u&&(y.c.length=u):r&&(y=y.mod(t))}return r?f:(d&&(f=R.div(f)),t?f.mod(t):u?z(f,q,L,undefined):f)},C.integerValue=function(e){var t=new K(this);return null==e?e=L:h(e,0,8),z(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===m(this,new K(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return m(this,new K(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=m(this,new K(e,t)))||0===t},C.isInteger=function(){return!!this.c&&y(this.e/c)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return m(this,new K(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=m(this,new K(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var n,r,o,i,s=this,a=s.s;if(t=(e=new K(e,t)).s,!a||!t)return new K(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/c,d=e.e/c,p=s.c,f=e.c;if(!l||!d){if(!p||!f)return p?(e.s=-t,e):new K(f?s:NaN);if(!p[0]||!f[0])return f[0]?(e.s=-t,e):new K(p[0]?s:3==L?-0:0)}if(l=y(l),d=y(d),p=p.slice(),a=l-d){for((i=a<0)?(a=-a,o=p):(d=l,o=f),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(r=(i=(a=p.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(p[t]!=f[t]){i=p[t]<f[t];break}if(i&&(o=p,p=f,f=o,e.s=-e.s),(t=(r=f.length)-(n=p.length))>0)for(;t--;p[n++]=0);for(t=u-1;r>a;){if(p[--r]<f[r]){for(n=r;n&&!p[--n];p[n]=t);--p[n],p[r]+=u}p[r]-=f[r]}for(;0==p[0];p.splice(0,1),--d);return p[0]?H(e,p,d):(e.s=3==L?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var r,o,i=this;return e=new K(e,t),!i.c||!e.s||e.c&&!e.c[0]?new K(NaN):!e.c||i.c&&!i.c[0]?new K(i):(9==B?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,B),(e=i.minus(r.times(e))).c[0]||1!=B||(e.s=i.s),e)},C.multipliedBy=C.times=function(e,t){var n,r,o,i,s,a,l,d,f,g,m,h,v,S,w,A=this,b=A.c,T=(e=new K(e,t)).c;if(!(b&&T&&b[0]&&T[0]))return!A.s||!e.s||b&&!b[0]&&!T||T&&!T[0]&&!b?e.c=e.e=e.s=null:(e.s*=A.s,b&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=y(A.e/c)+y(e.e/c),e.s*=A.s,(l=b.length)<(g=T.length)&&(v=b,b=T,T=v,o=l,l=g,g=o),o=l+g,v=[];o--;v.push(0));for(S=u,w=p,o=g;--o>=0;){for(n=0,m=T[o]%w,h=T[o]/w|0,i=o+(s=l);i>o;)n=((d=m*(d=b[--s]%w)+(a=h*d+(f=b[s]/w|0)*m)%w*w+v[i]+n)/S|0)+(a/w|0)+h*f,v[i--]=d%S;v[i]=n}return n?++r:v.splice(0,1),H(e,v,r)},C.negated=function(){var e=new K(this);return e.s=-e.s||null,e},C.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new K(e,t)).s,!o||!t)return new K(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/c,s=e.e/c,a=r.c,l=e.c;if(!i||!s){if(!a||!l)return new K(o/0);if(!a[0]||!l[0])return l[0]?e:new K(a[0]?r:0*o)}if(i=y(i),s=y(s),a=a.slice(),o=i-s){for(o>0?(s=i,n=l):(o=-o,n=a),n.reverse();o--;n.push(0));n.reverse()}for((o=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=o),o=0;t;)o=(a[--t]=a[t]+l[t]+o)/u|0,a[t]=u===a[t]?0:a[t]%u;return o&&(a=[o].concat(a),++s),H(e,a,s)},C.precision=C.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return h(e,1,f),null==t?t=L:h(t,0,8),z(new K(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*c+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},C.shiftedBy=function(e){return h(e,-l,l),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,r,o,i,s=this,a=s.c,u=s.s,c=s.e,l=M+4,d=new K("0.5");if(1!==u||!a||!a[0])return new K(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+$(s)))||u==1/0?(((t=g(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=y((c+1)/2)-(c<0||c%2),r=new K(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new K(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(i=r,r=d.times(i.plus(n(s,i,l,1))),g(i.c).slice(0,u)===(t=g(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(r,r.e+M+2,1),e=!r.times(r).eq(s));break}if(!o&&(z(i,i.e+M+2,0),i.times(i).eq(s))){r=i;break}l+=4,u+=4,o=1}return z(r,r.e+M+1,L,e)},C.toExponential=function(e,t){return null!=e&&(h(e,0,f),e++),G(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(h(e,0,f),e=e+this.e+1),G(this,e,t)},C.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=V;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",d=a[0],p=a[1],f=o.s<0,y=f?d.slice(1):d,g=y.length;if(c&&(i=u,u=c,c=i,g-=i),u>0&&g>0){for(i=g%u||u,d=y.substr(0,i);i<g;i+=u)d+=l+y.substr(i,u);c>0&&(d+=l+y.slice(i)),f&&(d="-"+d)}r=p?d+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?p.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):p):d}return(n.prefix||"")+r+(n.suffix||"")},C.toFraction=function(e){var t,r,o,i,a,u,l,p,f,y,m,h,v=this,S=v.c;if(null!=e&&(!(l=new K(e)).isInteger()&&(l.c||1!==l.s)||l.lt(R)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+$(l));if(!S)return new K(v);for(t=new K(R),f=r=new K(R),o=p=new K(R),h=g(S),a=t.e=h.length-v.e-1,t.c[0]=d[(u=a%c)<0?c+u:u],e=!e||l.comparedTo(t)>0?a>0?t:f:l,u=D,D=1/0,l=new K(h),p.c[0]=0;y=n(l,t,0,1),1!=(i=r.plus(y.times(o))).comparedTo(e);)r=o,o=i,f=p.plus(y.times(i=f)),p=i,t=l.minus(y.times(i=t)),l=i;return i=n(e.minus(r),o,0,1),p=p.plus(i.times(f)),r=r.plus(i.times(o)),p.s=f.s=v.s,m=n(f,o,a*=2,L).minus(v).abs().comparedTo(n(p,r,a,L).minus(v).abs())<1?[f,o]:[p,r],D=u,m},C.toNumber=function(){return+$(this)},C.toPrecision=function(e,t){return null!=e&&h(e,1,f),G(this,e,t,2)},C.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=o<=N||o>=O?S(g(n.c),o):w(g(n.c),o,"0"):10===e&&Q?t=w(g((n=z(new K(n),M+o+1,L)).c),n.e,"0"):(h(e,2,j.length,"Base"),t=A(w(g(n.c),o,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return $(this)},C._isBigNumber=!0,null!=t&&K.set(t),K}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):e.exports?e.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(e.exports)})),s.register("hIkt0",(function(t,n){e(t.exports,"invalidateAllStakeAccountData",(function(){return o}));var r=s("7dNLn");const o=e=>()=>{e.invalidateQueries({predicate:e=>e.queryKey[0]===r.STAKE_ACCOUNTS_SCOPE||e.queryKey[0]===r.STAKE_ACTIVATION_DATA_SCOPE})}})),s.register("7dNLn",(function(t,n){e(t.exports,"STAKE_ACCOUNTS_SCOPE",(function(){return r})),e(t.exports,"STAKE_ACTIVATION_DATA_SCOPE",(function(){return o})),e(t.exports,"stakingQueryKeys",(function(){return i}));const r="stakeAccounts",o="stakeActivationData",i={signatureStatus:e=>["signatureStatus",{txSignature:e}],stakeAccounts:e=>[r,e],stakeAccountMinBalance:()=>["stakeAccountMinBalance"],stakeActivationData:e=>[o,{publicKey:e}],stakeRewardsHistory:e=>["stakeRewardsHistory",{publicKey:e}],stakeApy:()=>["stakeApy"],recommendedValidators:()=>["recommendedValidators"],validatorInfo:()=>["validatorInfo"],voteAccounts:()=>["voteAccounts"]}})),s.register("kAm35",(function(t,n){e(t.exports,"recommendedValidatorSorter",(function(){return r}));const r=e=>(t,n)=>{const r=e.indexOf(t.voteAccountPubkey),o=e.indexOf(n.voteAccountPubkey);return(r>-1?r:1/0)-(o>-1?o:1/0)}})),s.register("9TG0W",(function(t,n){e(t.exports,"voteAccountSorter",(function(){return o}));const r=(e,t)=>e+t[1],o=(e,t)=>{if(e.commission>50||t.commission>50)return e.commission-t.commission;const n=e.epochCredits.reduce(r,0)*(1-e.commission/100);return t.epochCredits.reduce(r,0)*(1-t.commission/100)-n}})),s.register("6fWI5",(function(t,n){e(t.exports,"delegateStake",(function(){return f}),(function(e){return f=e})),e(t.exports,"useDelegateStake",(function(){return y}),(function(e){return y=e}));var r=s("43063"),o=s("hMVEP"),i=s("csW2r"),a=s("7gANb"),u=s("9W7fs"),c=s("bQvNK"),l=s("3vaB1");s("9OqWg");var d=s("hIkt0"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function f({stakePubkey:e,authorizedPubkey:t,votePubkey:n}){return o.StakeProgram.delegate({stakePubkey:e,authorizedPubkey:t,votePubkey:n})}const y=(e,t,n,s)=>{const{t:y}=(0,r.useTranslation)(),{mutateAsync:g}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i,votePubkey:u})=>p(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:c,address:d}=n,p=f({stakePubkey:r,authorizedPubkey:i,votePubkey:u}),m=yield s.addPriorityFee(p,{connection:t}),h={ownerAddress:null!=d?d:"",chainID:c,data:{signature:""},type:a.PendingTransactionType.DelegateStake,display:{summary:{topLeft:{label:y("transactionsPendingDelegatingStake")}}}},v=yield g({accountIdentifier:e,feePayer:new(0,o.PublicKey)(d),transaction:m,pendingTransactionInput:h});return{chainID:c,signature:null!=v?v:""}})),onSuccess:e=>p(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("lEqf0",(function(t,n){e(t.exports,"useDeactivateStake",(function(){return f}),(function(e){return f=e}));var r=s("43063"),o=s("hMVEP"),i=s("csW2r"),a=s("7gANb"),u=s("9W7fs"),c=s("bQvNK"),l=s("3vaB1");s("9OqWg");var d=s("hIkt0"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n,s)=>{const{t:f}=(0,r.useTranslation)(),{mutateAsync:y}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i})=>p(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:u,address:c}=n,d=function({stakePubkey:e,authorizedPubkey:t,transaction:n=new(0,o.Transaction)}){return n.add(o.StakeProgram.deactivate({stakePubkey:e,authorizedPubkey:t})),n}({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i}),p=yield s.addPriorityFee(d,{connection:t}),g={ownerAddress:null!=c?c:"",chainID:u,data:{signature:""},type:a.PendingTransactionType.DeactivateStake,display:{summary:{topLeft:{label:f("transactionsPendingDeactivatingStake")}}}},m=yield y({accountIdentifier:e,feePayer:new(0,o.PublicKey)(c),transaction:p,pendingTransactionInput:g});return{chainID:u,signature:null!=m?m:""}})),onSuccess:e=>p(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("48Z1Q",(function(t,n){e(t.exports,"useRecommendedValidators",(function(){return l}),(function(e){return l=e}));var r=s("csW2r"),o=s("5ekp2"),i=s("5u9SD"),a=s("7dNLn"),u=s("kX9T3"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=e=>{const t=a.stakingQueryKeys.recommendedValidators();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,i.getRecommendedValidators)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),s.register("5u9SD",(function(n,r){e(n.exports,"getRecommendedValidators",(function(){return c}),(function(e){return c=e}));var o=s("1LpD3"),i=s("jjhma"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch recommended staking validators.");function c(e){return a(this,void 0,void 0,(function*(){try{const n=yield t(o)(`${e}/staking/v1/recommended`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw u;const r=yield n.json();return i.RecommendedValidators.parse(r).validators}catch(e){throw u}}))}})),s.register("jjhma",(function(t,n){e(t.exports,"StakeApy",(function(){return a})),e(t.exports,"RecommendedValidators",(function(){return u})),e(t.exports,"StakingRewardsHistory",(function(){return l}));var r,o,i=s("7XqVB");(o=r||(r={})).Initialized="initialized",o.Delegated="delegated";const a=i.z.object({apy:i.z.number()}),u=i.z.object({validators:i.z.array(i.z.string())}),c=i.z.object({epoch:i.z.number(),effectiveSlot:i.z.number(),amount:i.z.number(),postBalance:i.z.number(),percentChange:i.z.number(),apr:i.z.number(),timestamp:i.z.number()}),l=i.z.object({items:i.z.array(c)})})),s.register("kX9T3",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return a}));var r=s("RVqnc");var o,i,a,u;(i=o||(o={}))[i.Always=1/0]="Always",i[i.Short=(0,r.toMilliseconds)({days:1})]="Short",i[i.Medium=(0,r.toMilliseconds)({days:3})]="Medium",i[i.Long=(0,r.toMilliseconds)({days:7})]="Long",(u=a||(a={}))[u.Immediate=0]="Immediate",u[u.Short=(0,r.toMilliseconds)({minutes:1})]="Short",u[u.Medium=(0,r.toMilliseconds)({minutes:2.5})]="Medium",u[u.Long=(0,r.toMilliseconds)({minutes:5})]="Long",u[u.Never=1/0]="Never"})),s.register("39pK6",(function(t,n){e(t.exports,"useSignatureStatus",(function(){return c}),(function(e){return c=e}));var r=s("5ekp2"),o=s("3vaB1"),i=s("7dNLn"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t)=>a(void 0,void 0,void 0,(function*(){return yield e.getSignatureStatus(t,{searchTransactionHistory:!0})}));function c(e,t,n,s){var c;const l=i.stakingQueryKeys.signatureStatus(s),d=e.getQueryData(l),p=null===(c=null==d?void 0:d.value)||void 0===c?void 0:c.confirmationStatus,f=!!s&&"finalized"!==p;return(0,r.useQuery)({queryKey:l,queryFn:()=>a(this,void 0,void 0,(function*(){if(!s)throw o.MissingConfirmationSignatureError;return yield u(t,s)})),enabled:f,refetchInterval:n})}})),s.register("gqfgW",(function(t,n){e(t.exports,"useStakeAccountMinBalance",(function(){return c}),(function(e){return c=e}));var r=s("hMVEP"),o=s("5ekp2"),i=s("7dNLn"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=e=>()=>a(void 0,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(r.StakeProgram.space)}));function c(e){const t=i.stakingQueryKeys.stakeAccountMinBalance(),n=u(e);return(0,o.useQuery)({queryKey:t,queryFn:n,placeholderData:0})}})),s.register("3cJgq",(function(t,n){e(t.exports,"useStakeAccounts",(function(){return l}),(function(e){return l=e}));var r=s("hMVEP"),o=s("csW2r"),i=s("5ekp2"),a=s("7dNLn"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>u(void 0,void 0,void 0,(function*(){const n=[];t.ownerPublicKey&&n.push({memcmp:{offset:44,bytes:t.ownerPublicKey}}),t.voteAccountPublicKey&&n.push({memcmp:{offset:124,bytes:t.voteAccountPublicKey}});const i=yield e.getParsedProgramAccounts(r.StakeProgram.programId,{filters:n});let s=[];if(t.fetchInflationRewards)try{s=yield((e,t,n,r="confirmed")=>u(void 0,void 0,void 0,(function*(){return yield e.getInflationReward(t,n,r)})))(e,i.map((({pubkey:e})=>e)))}catch(e){const t=e;o.telemetry.captureError(t,o.FeatureTag.Staking)}return i.map(((e,t)=>{var n;return Object.assign({pubkey:e.pubkey.toString(),lamports:e.account.lamports,inflationReward:null===(n=s[t])||void 0===n?void 0:n.amount},e.account.data.parsed)}))}));function l(e,t){const n=a.stakingQueryKeys.stakeAccounts(t);return(0,i.useQuery)({queryKey:n,queryFn:()=>c(e,{ownerPublicKey:t,fetchInflationRewards:!0}),placeholderData:[]})}})),s.register("d5USZ",(function(t,n){e(t.exports,"useStakeActivationData",(function(){return l}),(function(e){return l=e}));var r=s("hMVEP"),o=s("5ekp2"),i=s("3vaB1"),a=s("7dNLn"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>e.getStakeActivation(new(0,r.PublicKey)(t));function l(e,t){const n=a.stakingQueryKeys.stakeActivationData(t),r=!!t;return(0,o.useQuery)({queryKey:n,queryFn:()=>u(this,void 0,void 0,(function*(){if(!t)throw i.MissingPublicKeyError;return yield c(e,t)})),enabled:r})}})),s.register("40bAw",(function(t,n){e(t.exports,"useStakeApy",(function(){return l}),(function(e){return l=e}));var r=s("csW2r"),o=s("5ekp2"),i=s("9Kma9"),a=s("7dNLn"),u=s("kX9T3"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=e=>{const t=a.stakingQueryKeys.stakeApy();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:u.CacheTime.Short,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,i.getStakingApy)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),s.register("9Kma9",(function(n,r){e(n.exports,"getStakingApy",(function(){return c}),(function(e){return c=e}));var o=s("1LpD3"),i=s("jjhma"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch staking APY");function c(e){return a(this,void 0,void 0,(function*(){try{const n=yield t(o)(`${e}/staking/v1/apy`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw u;const r=yield n.json();return i.StakeApy.parse(r).apy}catch(e){throw u}}))}})),s.register("8BkVZ",(function(t,n){e(t.exports,"useStakeRewardsHistory",(function(){return l}),(function(e){return l=e}));var r=s("csW2r"),o=s("wGjeD"),i=s("1xomf"),a=s("7dNLn"),u=s("kX9T3"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function l(e,t,n,s=2){const l=a.stakingQueryKeys.stakeRewardsHistory(t);return(0,o.useInfiniteQuery)({retry:s,enabled:!!t&&!!n,queryKey:l,cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn:({pageParam:r})=>c(this,void 0,void 0,(function*(){const o=r?{address:t,chainId:n,epoch:r}:{address:t,chainId:n};return(0,i.getStakingRewardsHistory)(e(),o)})),getNextPageParam:({items:e})=>e.length?e[e.length-1].epoch:null,onError:e=>r.telemetry.captureError(e,r.FeatureTag.Staking)})}})),s.register("1xomf",(function(n,r){e(n.exports,"getStakingRewardsHistory",(function(){return c}),(function(e){return c=e}));var o=s("1LpD3"),i=s("jjhma"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch staking rewards history");function c(e,n){return a(this,void 0,void 0,(function*(){let r;try{r=yield t(o)(`${e}/staking/v1/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){throw u}if(!r.ok)throw u;const s=yield r.json(),a=i.StakingRewardsHistory.safeParse(s);if(a.success)return a.data;throw u}))}})),s.register("kETlb",(function(t,n){e(t.exports,"useValidatorInfo",(function(){return c}),(function(e){return c=e}));var r=s("5ekp2"),o=s("f5UU6"),i=s("7dNLn"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=e=>()=>a(void 0,void 0,void 0,(function*(){return(yield e.getParsedProgramAccounts(o.CONFIG_PROGRAM_ID)).reduce(((e,t)=>{var n;if("validatorInfo"!==(null===(n=t.account.data.parsed)||void 0===n?void 0:n.type))return e;const r=t.pubkey.toString(),o=t.account.data.parsed.info.keys,[,i]=o;if(!i.signer)return e;const s=i.pubkey,a=t.account.data.parsed.info.configData;return e.push({identityPubkey:s,infoPubkey:r,info:a}),e}),[])}));function c(e){const t=i.stakingQueryKeys.validatorInfo(),n=u(e);return(0,r.useQuery)({queryKey:t,queryFn:n,placeholderData:[]})}})),s.register("f5UU6",(function(t,n){e(t.exports,"CONFIG_PROGRAM_ID",(function(){return r}));const r=new(0,s("hMVEP").PublicKey)("Config1111111111111111111111111111111111111")})),s.register("FEhzp",(function(t,n){e(t.exports,"useValidators",(function(){return c}),(function(e){return c=e}));var r=s("29o0l"),o=s("9TG0W"),i=s("kETlb"),a=s("cJRQS"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function c(e){const{isFetched:t,isFetching:n,isLoading:s,isSuccess:c,isError:l,dataUpdatedAt:d,errorUpdatedAt:p,error:f,refetch:y,data:g}=(0,a.useVoteAccounts)(e),m=Math.max(d,p),{isFetched:h,isFetching:v,isLoading:S,isSuccess:w,isError:A,dataUpdatedAt:b,errorUpdatedAt:T,error:E,refetch:x,data:k}=(0,i.useValidatorInfo)(e),P=Math.max(b,T),I=Math.max(m,P),F=t&&h,C=n||v,R=c||w,M=l||A,L=f||E,N=s||S,O=(0,r.useCallback)((()=>u(this,void 0,void 0,(function*(){Promise.all([y(),x()])}))),[x,y]);return{results:(0,r.useMemo)((()=>{if(!g)return[];if(!k)return[];g.sort(o.voteAccountSorter);const e=new Map(g.map((e=>[e.identityPubkey,e]))),t=new Map(k.map((e=>[e.identityPubkey,e]))),n=[];for(const[r,o]of e){const e=t.get(r);n.push(Object.assign(Object.assign({},o),e))}return n}),[k,g]),dataUpdatedAt:I,error:L,isSuccess:R,isError:M,isFetched:F,isFetching:C,isLoading:N,refetch:O}}})),s.register("cJRQS",(function(t,n){e(t.exports,"useVoteAccounts",(function(){return u}),(function(e){return u=e}));var r=s("5ekp2"),o=s("7dNLn"),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const a=e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getVoteAccounts();return[...t.current,...t.delinquent].map((e=>({identityPubkey:e.nodePubkey,voteAccountPubkey:e.votePubkey,commission:e.commission,lastVote:e.lastVote,epochCredits:e.epochCredits,activatedStake:e.activatedStake}))).filter((e=>e.commission<99))}));function u(e){const t=o.stakingQueryKeys.voteAccounts();return(0,r.useQuery)({queryKey:t,queryFn:()=>i(this,void 0,void 0,(function*(){return a(e)})),placeholderData:[]})}})),s.register("efxv4",(function(t,n){e(t.exports,"useWithdrawStake",(function(){return f}),(function(e){return f=e}));var r=s("43063"),o=s("hMVEP"),i=s("csW2r"),a=s("7gANb"),u=s("9W7fs"),c=s("bQvNK"),l=s("3vaB1");s("9OqWg");var d=s("hIkt0"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n,s)=>{const{t:f}=(0,r.useTranslation)(),{mutateAsync:y}=e.useSignAndSendSolanaTransactionAsync(t);return(0,u.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:i,amount:u})=>p(void 0,void 0,void 0,(function*(){if(!n)throw l.MissingSenderAddressError;const{chainId:c,address:d}=n,p=function({stakePubkey:e,authorizedPubkey:t,amount:n,transaction:r=new(0,o.Transaction)}){return r.add(o.StakeProgram.withdraw({stakePubkey:e,authorizedPubkey:t,toPubkey:t,lamports:n})),r}({stakePubkey:r,authorizedPubkey:i,amount:u}),g=yield s.addPriorityFee(p,{connection:t}),m={ownerAddress:null!=d?d:"",chainID:c,data:{signature:""},type:a.PendingTransactionType.WithdrawStake,display:{summary:{topLeft:{label:f("transactionsPendingWithdrawingStake")}}}},h=yield y({accountIdentifier:e,feePayer:new(0,o.PublicKey)(d),transaction:g,pendingTransactionInput:m});return{chainID:c,signature:null!=h?h:""}})),onSuccess:e=>p(void 0,void 0,void 0,(function*(){(0,c.waitForTransactionConfirmationAsync)(t,e.signature).then((0,d.invalidateAllStakeAccountData)(n)).catch((e=>{i.telemetry.captureError(e,i.FeatureTag.Staking)}))}))})}})),s.register("kram9",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return s("dMwYe").useFeeBreakdown})),e(t.exports,"useFetchSwapBuyAssetsList",(function(){return s("eFZiv").useFetchSwapBuyAssetsList})),e(t.exports,"useInitialAssets",(function(){return s("fxXvK").useInitialAssets})),e(t.exports,"useResetSwapperOnMount",(function(){return s("ezPKD").useResetSwapperOnMount})),e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return s("bFhoc").useSubscribeSwapQuoteToQueries})),e(t.exports,"useSwapBuyAssetProps",(function(){return s("hVvmZ").useSwapBuyAssetProps})),e(t.exports,"useSwapCardProps",(function(){return s("dtI9r").useSwapCardProps})),e(t.exports,"useSwapConfirmationProps",(function(){return s("8vNNq").useSwapConfirmationProps})),e(t.exports,"useSwapProvidersProps",(function(){return s("lCzzn").useSwapProvidersProps})),e(t.exports,"useSwapReviewButtonProps",(function(){return s("9PpHT").useSwapReviewButtonProps})),e(t.exports,"useSwapReviewProps",(function(){return s("iTLyO").useSwapReviewProps})),e(t.exports,"useSwapSellAssetProps",(function(){return s("6M54M").useSwapSellAssetProps})),e(t.exports,"useSwapSellAssetsList",(function(){return s("eOCBr").useSwapSellAssetsList})),e(t.exports,"useSwapSetBuyAsset",(function(){return s("4MMT9").useSwapSetBuyAsset})),e(t.exports,"useSwapSetSellAsset",(function(){return s("iA6sm").useSwapSetSellAsset})),e(t.exports,"createSwapperHooks",(function(){return s("66XDV").createSwapperHooks})),e(t.exports,"useMultichainSolanaOnlyFetchSwapBuyAssetsList",(function(){return s("2KM9o").useFetchSwapBuyAssetsList})),e(t.exports,"useMultichainSolanaOnlyInitialAssets",(function(){return s("eJ9RF").useInitialAssets})),e(t.exports,"useMultichainSolanaOnlySubscribeSwapQuoteToQueries",(function(){return s("kebWb").useSubscribeSwapQuoteToQueries})),e(t.exports,"useMultichainSolanaOnlySwapBuyAssetProps",(function(){return s("Q8nC5").useSwapBuyAssetProps})),e(t.exports,"useMultichainSolanaOnlySwapCardProps",(function(){return s("k83sM").useSwapCardProps})),e(t.exports,"useMultichainSolanaOnlySwapConfirmationProps",(function(){return s("hF21C").useSwapConfirmationProps})),e(t.exports,"useMultichainSolanaOnlySwapReviewButtonProps",(function(){return s("cPAiA").useSwapReviewButtonProps})),e(t.exports,"useMultichainSolanaOnlySwapReviewProps",(function(){return s("eJopq").useSwapReviewProps})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetProps",(function(){return s("dnhR2").useSwapSellAssetProps})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetsList",(function(){return s("bs4Iw").useSwapSellAssetsList})),e(t.exports,"useMultichainSolanaOnlySwapSetBuyAsset",(function(){return s("8SSTF").useSwapSetBuyAsset})),e(t.exports,"useMultichainSolanaOnlySwapSetSellAsset",(function(){return s("fqZNa").useSwapSetSellAsset})),e(t.exports,"FUSE_SWAP_ASSET_SEARCH_CONFIG",(function(){return s("2UOPE").FUSE_SWAP_ASSET_SEARCH_CONFIG})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return s("2UOPE").PHANTOM_SUPPORT_SWAP_FAILED_URL})),e(t.exports,"SWAP_ASSET_SELECT_TOKEN_STANDARDS",(function(){return s("2UOPE").SWAP_ASSET_SELECT_TOKEN_STANDARDS})),e(t.exports,"createSwapperMultichainHooks",(function(){return s("kiMda").createSwapperMultichainHooks})),e(t.exports,"useSwapBuyAssetList",(function(){return s("6aawr").useSwapBuyAssetList})),e(t.exports,"useSwapSellAssetList",(function(){return s("6CB7N").useSwapSellAssetList})),e(t.exports,"useMultichainSubscribeSwapQuoteToQueries",(function(){return s("2so4T").useSubscribeSwapQuoteToQueries})),s("c6eRZ"),s("kWcVJ"),s("iTQ0V"),s("f2tU6"),s("2UOPE"),s("kvuQ4");s("kiMda"),s("6aawr"),s("6CB7N"),s("2so4T")})),s.register("c6eRZ",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return s("dMwYe").useFeeBreakdown})),e(t.exports,"useFetchSwapBuyAssetsList",(function(){return s("eFZiv").useFetchSwapBuyAssetsList})),e(t.exports,"useInitialAssets",(function(){return s("fxXvK").useInitialAssets})),e(t.exports,"useResetSwapperOnMount",(function(){return s("ezPKD").useResetSwapperOnMount})),e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return s("bFhoc").useSubscribeSwapQuoteToQueries})),e(t.exports,"useSwapBuyAssetProps",(function(){return s("hVvmZ").useSwapBuyAssetProps})),e(t.exports,"useSwapCardProps",(function(){return s("dtI9r").useSwapCardProps})),e(t.exports,"useSwapConfirmationProps",(function(){return s("8vNNq").useSwapConfirmationProps})),e(t.exports,"useSwapProvidersProps",(function(){return s("lCzzn").useSwapProvidersProps})),e(t.exports,"useSwapReviewButtonProps",(function(){return s("9PpHT").useSwapReviewButtonProps})),e(t.exports,"useSwapReviewProps",(function(){return s("iTLyO").useSwapReviewProps})),e(t.exports,"useSwapSellAssetProps",(function(){return s("6M54M").useSwapSellAssetProps})),e(t.exports,"useSwapSellAssetsList",(function(){return s("eOCBr").useSwapSellAssetsList})),e(t.exports,"useSwapSetBuyAsset",(function(){return s("4MMT9").useSwapSetBuyAsset})),e(t.exports,"useSwapSetSellAsset",(function(){return s("iA6sm").useSwapSetSellAsset})),e(t.exports,"useTotalFees",(function(){return s("h8AIo").useTotalFees}));s("lgcfo"),s("I4BHf"),s("dMwYe"),s("eFZiv"),s("dsDYC"),s("iqqDn"),s("fxXvK"),s("8IOCk"),s("4xLuU"),s("UWzy4"),s("iX5lP"),s("ezPKD"),s("bFhoc"),s("hVvmZ"),s("dtI9r"),s("8vNNq"),s("3pIvT"),s("lCzzn"),s("9PpHT"),s("iTLyO"),s("6M54M"),s("eOCBr"),s("4MMT9"),s("iA6sm"),s("h8AIo")})),s.register("lgcfo",(function(t,n){e(t.exports,"useAnalyticsPayload",(function(){return a}));var r=s("29o0l"),o=s("24hfq"),i=s("Nt4tV");function a({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:o,buyAmount:s,sellAmount:a,phantomFee:d,priceImpact:p,provider:f}){return(0,r.useMemo)((()=>{if(t&&o){const r=c(s,t.decimals,e),y=c(a,o.decimals,n),g=l(r,y),m=u(d,t.decimals,e);return{data:{marketName:`${o.symbol}/${t.symbol}`,tradeDirection:"sell",swapSource:f,priceImpact:p,fromAssetSymbol:o.symbol,fromAssetAddress:o.mint,fromAssetAmount:(0,i.amountToUiAmount)(a,o.decimals),fromAssetUsdPrice:n,fromAssetUsdVolume:y,toAssetSymbol:t.symbol,toAssetAddress:t.mint,toAssetAmount:(0,i.amountToUiAmount)(s,t.decimals),toAssetUsdPrice:e,toAssetUsdVolume:r,totalUsdVolume:g,feeUsd:m}}}return{}}),[e,n,s,t,d,p,f,a,o])}const u=(e,t,n)=>n&&e>0?e/Math.pow(10,t)*n:0,c=(e,t,n)=>{if(n){const r=(0,i.amountToUiAmount)(e,t);return new(0,o.BigNumber)(r).times(new(0,o.BigNumber)(n)).toNumber()}},l=(e,t)=>t&&e?t>e?t:e:null!=t?t:e})),s.register("I4BHf",(function(t,n){e(t.exports,"useExchangeRate",(function(){return i}));var r=s("29o0l"),o=s("Nt4tV");function i(e,t,n){const[i,s]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>s((e=>!e))),[]);return(0,r.useMemo)((()=>{let r=!1,s="";if(t&&n){const{buyToken:a,sellToken:u}=t,{buyAmount:c,sellAmount:l}=n,d=(0,o.amountToUiAmount)(c,a.decimals)/(0,o.amountToUiAmount)(l,u.decimals),p=`1 ${u.symbol} ‚âà ${(0,o.formatTokenAmount)(d)} ${a.symbol}`,f=`1 ${a.symbol} ‚âà ${(0,o.formatTokenAmount)(1/d)} ${u.symbol}`;r=Number(n.buyAmount)===e,s=i?f:p}return{isBestRate:r,rate:s,flip:a}}),[e,n,i,t,a])}})),s.register("dMwYe",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return c}));var r=s("43063"),o=s("29o0l"),i=s("Nt4tV"),a=s("azr2P"),u=s("iX5lP");function c(e,t){const{t:n}=(0,r.useTranslation)(),{currentQuote:s}=(0,u.useQuote)();return(0,o.useMemo)((()=>{if(s&&t){const{phantomFee:r,serumAccountDeposits:o,tokenAccountDeposits:u}=s.fees;return{networkFee:{label:n("swapQuoteSolanaNetwork"),value:e},tokenAccountFee:{label:n("swapQuoteOneTimeTokenAccount"),value:(0,a.formatFee)(u.amount,t)},serumAccountFee:{label:n("swapQuoteOneTimeSerumAccount"),value:(0,a.formatFee)(o.amount,t)},phantomFeePercent:{label:r.pct?n("swapQuoteFeeDisclaimer",{feePercentage:(0,i.formatPercentage)(r.pct)}):"",value:r.pct?`${r.pct}`:""}}}}),[s,e,t,n])}})),s.register("azr2P",(function(t,n){e(t.exports,"formatFee",(function(){return o}));var r=s("Nt4tV");function o(e,t){if(e<=0)return"";const n=(0,r.lamportsToSolana)(e);return(null==t?void 0:t.usd)?`${(0,r.formatDollarAmountExtended)(t.usd*n)}`:`${(0,r.formatTokenAmount)(n)} SOL`}})),s.register("iX5lP",(function(t,n){e(t.exports,"useQuote",(function(){return i}));var r=s("29o0l"),o=s("iTQ0V");function i(){var e,t;const n=(0,o.useSwapperStore)((e=>e.quote)),i=(0,o.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,o.useSwapperStore)((e=>e.selectedProviderIndex)),a=(0,r.useMemo)((()=>n?n.quotes:[]),[n]),u=a[s];return{bestBuyAmount:parseInt(null!==(t=null===(e=a[0])||void 0===e?void 0:e.buyAmount)&&void 0!==t?t:0),currentQuote:u,hasNoRoutes:i,quote:n,quotes:a,selectedProviderIndex:s}}})),s.register("iTQ0V",(function(n,r){e(n.exports,"useSwapperStore",(function(){return a}));var o=s("gTwcH");const i={buyAsset:void 0,buyFungible:void 0,buyUsdValue:void 0,sellAsset:void 0,sellFungible:void 0,sellUsdValue:void 0,sellAmount:"",uiSellAmount:"",quote:void 0,multichainQuoteResponse:void 0,selectedProviderIndex:0,hasNoRoutes:!1,isFetchingQuote:!1},a=t(o)((e=>Object.assign(Object.assign({},i),{resetQuote:()=>e({quote:i.quote,multichainQuoteResponse:i.multichainQuoteResponse}),resetSwapper:()=>e({quote:i.quote,multichainQuoteResponse:i.multichainQuoteResponse,sellAmount:"",uiSellAmount:""}),setBuyAsset:t=>e({buyAsset:t}),setBuyFungible:t=>e({buyFungible:t}),setBuyUsdValue:t=>e({buyUsdValue:t}),setHasNoRoutes:t=>e({hasNoRoutes:t}),setIsFetchingQuote:t=>e({isFetchingQuote:t}),setQuote:t=>e({quote:t,hasNoRoutes:!1}),setMultichainQuoteResponse:t=>e({multichainQuoteResponse:t,hasNoRoutes:!1}),setSelectedProviderIndex:t=>e({selectedProviderIndex:t}),setSellAmount:t=>e({sellAmount:t}),setSellUsdValue:t=>e({sellUsdValue:t}),setSellAsset:t=>e({sellAsset:t}),setSellFungible:t=>e({sellFungible:t}),setUiSellAmount:t=>e({uiSellAmount:t})})))})),s.register("eFZiv",(function(t,n){e(t.exports,"useFetchSwapBuyAssetsList",(function(){return p}),(function(e){return p=e}));var r=s("5ekp2"),o=s("9CoSy"),i=s("3YDVy"),a=s("2UOPE"),u=s("iTQ0V");s("f2tU6");var c=s("7NBkj"),l=s("7SmhG"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function p(e,t){const{owner:n,cluster:s,customMetaMap:p}=t,{data:f}=(0,i.useMintToAssetMap)(n,s,p),y=(0,u.useSwapperStore)((e=>e.sellAsset)),g=y&&"solana"!==y.type?y.data.mintPubKey:o.WRAPPED_SOLANA.address,m=!!g&&!!e,h=["fetch-swap-to-assets-list",g];return(0,r.useQuery)({enabled:m,queryKey:h,queryFn:function(){return d(this,void 0,void 0,(function*(){const e=yield(0,c.getSwapPairsAsync)([g]),t=[],r=e[g],{length:s}=r;for(let e=0;e<s;e++){const i=r[e],s=i.mint===o.WRAPPED_SOLANA.address&&a.SHOULD_UNWRAP_WRAPPED_SOL?"":i.mint;let u;const c=f.get(s),d=void 0!==c&&"spl-token"===c.type&&""!==c.data.pubkey,p=void 0!==c&&"solana"===c.type;u=d||p?c:(0,l.swapPairsAssetInfoToAsset)(i,n),u&&t.push(u)}return e?t.sort(i.assetSorter):[]}))}})}})),s.register("3YDVy",(function(t,n){e(t.exports,"SOLANA_STATIC_VALUES",(function(){return C}),(function(e){return C=e})),e(t.exports,"useLamportBalance",(function(){return R}),(function(e){return R=e})),e(t.exports,"useSPLTokenAccountsByStandard",(function(){return O}),(function(e){return O=e})),e(t.exports,"useSPLTokenPrices",(function(){return _}),(function(e){return _=e})),e(t.exports,"useFetchSPLTokenJSONMetadata",(function(){return V}),(function(e){return V=e})),e(t.exports,"parseMediaFromImage",(function(){return J}),(function(e){return J=e})),e(t.exports,"useSelectBestMedia",(function(){return ee}),(function(e){return ee=e})),e(t.exports,"useSelectCollectionMedia",(function(){return te}),(function(e){return te=e})),e(t.exports,"useBestCollectionName",(function(){return ne}),(function(e){return ne=e})),e(t.exports,"getImageThroughProxy",(function(){return oe}),(function(e){return oe=e})),e(t.exports,"getScaledImageURIExt",(function(){return ie}),(function(e){return ie=e})),e(t.exports,"assetKeyExtractor",(function(){return se}),(function(e){return se=e})),e(t.exports,"assetSorter",(function(){return ue}),(function(e){return ue=e})),e(t.exports,"getMintPubkeyFromAsset",(function(){return ce}),(function(e){return ce=e})),e(t.exports,"getTotalAssetsBalance",(function(){return le}),(function(e){return le=e})),e(t.exports,"useSPLAssets",(function(){return de}),(function(e){return de=e})),e(t.exports,"useAssetsAndSPLTokenList",(function(){return fe}),(function(e){return fe=e})),e(t.exports,"useMintToAssetMap",(function(){return ge}),(function(e){return ge=e}));var r=s("21aqi"),o=s("5slFC"),i=s("6ElgT"),a=s("56oyT"),u=s("hMVEP"),c=s("HlEsU"),l=s("RVqnc"),d=s("5ekp2"),p=s("7dHjq"),f=s("8tcqI"),y=s("29o0l"),g=s("16XMG"),m=s("9CoSy"),h=s("dY6gO"),v=s("hRUHU"),S=s("6tBWY"),w=s("kAjeg"),A=s("lvcyB"),b=s("jF6Pg"),T=s("Nt4tV"),E=s("7qsqs"),x=s("lAsdm"),k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const P=f.Buffer.from("metadata"),I=i.METADATA_PROGRAM_ID.toBuffer(),F=(0,l.toMilliseconds)({minutes:1}),C={coingeckoId:"solana",decimals:9,logoURI:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL"};Object.assign(Object.assign({},C),{amount:"0",usd:0,usd24hChange:0});function R(e,t){return(0,d.useQuery)({enabled:""!==e,queryKey:["cluster",t,"owner",e,"lamport-balance"],refetchInterval:F,queryFn(){return k(this,void 0,void 0,(function*(){const n=(0,A.getRPCURLByCluster)(t),r=yield function(e,t){return k(this,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getBalance",params:[t,{commitment:"confirmed"}]})}),r=yield n.json();if("error"in r)throw console.error(r.error,t),new Error(r.error.message);return r.result.value.toString()}))}(n,e);return r}))},onSuccess(n){return k(this,void 0,void 0,(function*(){const r=(yield(0,E.getStorageValue)(c.StorageKeys.OwnerToClusterToLamportBalance))||{},o=r[e]||{};(0,E.setStorageValue)(c.StorageKeys.OwnerToClusterToLamportBalance,Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},o),{[t]:n})}))}))}})}const M=e=>{const t=P;return u.PublicKey.findProgramAddressSync([t,I,e.toBuffer()],i.METADATA_PROGRAM_ID)};function L(e,t){return k(this,void 0,void 0,(function*(){const n=new Map,{Metadata:r}=yield(0,i.getMetaplexFoundationDeps)(),o=t.map((t=>k(this,void 0,void 0,(function*(){const o=yield function(e,t){return k(this,void 0,void 0,(function*(){const n=yield fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:"getMultipleAccounts",params:[t,{encoding:"base64",commitment:"confirmed"}]})}),r=yield n.json();if("error"in r)throw console.error(r.error),new Error(r.error.message);return r}))}(e,t);for(const e of o.result.value)if(e){const[t]=r.deserialize(f.Buffer.from(e.data[0],"base64"));n.set(t.mint.toString(),t)}}))));return yield Promise.all(o),n}))}const N="SPLTokenAccounts";function O(e,t){const n=(0,p.useQueryClient)();return(0,d.useQuery)({enabled:""!==e,queryKey:[N,{pubkey:e,cluster:t}],refetchInterval:F,queryFn({queryKey:e}){var n,i;return k(this,void 0,void 0,(function*(){const[,{pubkey:s}]=e,a=(0,A.getTokenListChainIDByCluster)(t),[u,c]=yield Promise.all([U(s,a),(0,o.getSPLTokenMap)(a)]),l=null===(n=null==u?void 0:u.response)||void 0===n?void 0:n.results;if(l.infos=c,!l)return null;if(null===(i=yield(0,E.getStorageValue)(r.StorageKeyCollectibles.HideSuspiciousCollectibles))||void 0===i||i){const e=yield(0,S.getNFTBlocklist)(),t=["SemiFungible","NonFungible","NonFungibleEdition","ProgrammableNonFungible"];for(const n of t){const t=l[n].filter((({mintPubKey:t})=>!e.includes(t)));l[n]=t}}return l}))},onSuccess(r){return k(this,void 0,void 0,(function*(){const o=r.Fungible.reduce(((e,t)=>(t.coingeckoId&&e.push(t.coingeckoId),e)),["solana"]),i=yield(0,E.getStorageValue)(c.StorageKeys.PriceMap);(0,a.getPricesByCoingeckoId)(o).then((e=>k(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},i),e);n.setQueryData([D],t),(0,E.setStorageValue)(c.StorageKeys.PriceMap,t)})))).catch(console.error);(function(e,t){var n;return k(this,void 0,void 0,(function*(){const r=new Set,o=[[]],i=new Map;for(const e of[t.NonFungible,t.NonFungibleEdition,t.SemiFungible,t.ProgrammableNonFungible])for(const t of e){let{collectionPubKey:e}=t;if(e&&!r.has(e)){r.add(e);const t=new(0,u.PublicKey)(e),[n]=yield M(t),i=o[o.length-1];i&&i.length<100?i.push(n.toString()):o.push([n.toString()])}if(!e){if(t.creators){const n=t.creators.find((e=>e.verified));n&&(e=null==n?void 0:n.address.toString())}e||(e=t.mintPubKey)}const s=null!==(n=i.get(e))&&void 0!==n?n:[];s.push(t),i.set(e,s)}let s=new Map;try{s=yield L(e,o)}catch(e){console.error(e)}const a=[];for(const[e,t]of i){t.sort(((e,t)=>{var n,r;const o=null!==(n=e.name)&&void 0!==n?n:"",i=null!==(r=t.name)&&void 0!==r?r:"",s=o.localeCompare(i);if(o.localeCompare(i))return s;const a=e.pubkey,u=t.pubkey;return a.localeCompare(u)}));const[n]=t;if(n){const r=s.get(e);r?a.push({key:e,name:r.data.name,uri:n.uri||r.data.uri,items:t}):a.push({key:e,name:null,uri:n.uri,items:t})}}return a.sort(((e,t)=>{var n,r;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const o=null!==(n=e.name)&&void 0!==n?n:e.key,i=null!==(r=t.name)&&void 0!==r?r:t.key;return o.localeCompare(i)})),a}))})((0,A.getRPCURLByCluster)(t),r).then((r=>{n.setQueryData([B,{pubkey:e,cluster:t}],r)})).catch(console.error)}))}})}const U=(e,t)=>k(void 0,void 0,void 0,(function*(){const n=new URLSearchParams;n.append("ownerPubKey",e),n.append("chainId",t.toString());const r=`${(0,g.getAPIEnvironment)()}/solana/spl_token_accounts?${n.toString()}`,o=yield fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!o.ok){const e="Error fetching spl token accounts";throw console.error(e),new Error(e)}return yield o.json()}));const D="SPLTokenPrices";function _(){const e=(0,p.useQueryClient)(),[t,n]=(0,y.useState)((()=>{var t;return null!==(t=e.getQueryData([D]))&&void 0!==t?t:null}));return(0,y.useEffect)((()=>e.getQueryCache().subscribe((()=>{var t;const r=null!==(t=e.getQueryData([D]))&&void 0!==t?t:null;r&&n(r)}))),[e]),t}const B="SPLTokenCollections";const q="SPLTokenJSONMetadata";function V(e){const t=[q,e];return(0,d.useQuery)({queryKey:t,queryFn(){return k(this,void 0,void 0,(function*(){return yield function(e){return k(this,void 0,void 0,(function*(){if(!e)return null;const t=j(e);if(t)return t;const n=`https://metaplex-cache.phantom.app/?url=${encodeURIComponent(e)}`;for(const t of[n,e])try{const e=yield fetch(t,{headers:{"content-type":"application/json"}});if(e.ok){const t=yield e.json();if(t&&"object"==typeof t)return t}}catch(e){console.error(`Failed to fetch URL ${t}`)}return console.error("Failed to fetch collectible metadata from origin server"),null}))}(e)}))},staleTime:x.CacheTime.Short,cacheTime:x.CacheTime.Long})}const j=e=>{const t=new RegExp(/(data:)([\w/+-]*)(;charset=[\w-]+|;base64){0,1},(.*)/i);if(!t.test(e))return;const n=t.exec(e);if(!n)return;const r=n[2],o=n[3],i=n[4];return"application/json"===r&&";base64"!==o?JSON.parse(i):void 0};const Q=new Set(["image","audio","video","model"]),K=new Set([v.FileExtension.JPEG,v.FileExtension.JPG,v.FileExtension.PNG,v.FileExtension.GIF,v.FileExtension.SVG]),G=new Set([v.FileExtension.MP3,v.FileExtension.WAV,v.FileExtension.OGA,v.FileExtension.FLAC]),W=new Set([v.FileExtension.WEBM,v.FileExtension.MP4,v.FileExtension.M4V,v.FileExtension.OGV,v.FileExtension.OGG,v.FileExtension.MOV]),H=new Set([v.FileExtension.GLTF,v.FileExtension.GLTFBINARY,v.FileExtension.GLB]),z=e=>K.has(e)?`image/${e}`:W.has(e)?`video/${e}`:H.has(e)?"model/gltf-binary":G.has(e)?`audio/${e}`:void 0,$=e=>{const t=(0,l.parseURL)(e);if(!t)return null;if("http:"!==t.protocol&&"https:"!==t.protocol)return null;const n=t.searchParams.get("ext");if(n){const t=z(n);if(t)return{type:t,uri:e}}const r=(0,l.getLast)(e.split("."));if(r){const t=z(r);if(t)return{type:t,uri:e}}return null},J=e=>{const{image:t}=e;if(t){const e=$(t);return e||{type:"image/png",uri:t}}return null},Y=e=>{const{animation_url:t}=e;if(t){const n=$(t);if(n)return n;const r=(0,l.parseURL)(t);if(r&&("http:"===r.protocol||"https:"===r.protocol)){if("html"===r.searchParams.get("ext"))return null}const{properties:o}=e;if(null==o?void 0:o.category){const{category:e}=o;let n="";switch(e){case"image":n="image/png";break;case"video":n="video/mp4";break;case"audio":n="audio/mp3";break;case"model":case"vr":n="model/gltf-binary"}if(n)return{type:n,uri:t}}}return null},X=e=>{if(!(e=>Q.has(e))(e))switch(e){case"image":return 0;case"audio":return 1;case"video":return 2;case"model":return 3}return 0},Z=e=>{var t,n,r;return null!==(r=null!==(n=null!==(t=(e=>{var t,n;let r=null!==(n=null===(t=e.properties)||void 0===t?void 0:t.files)&&void 0!==n?n:[];Array.isArray(r)||(r=[r]);let o=null;for(const e of r){let t=null;if("string"==typeof e)t=$(e);else if((null==e?void 0:e.type)&&(null==e?void 0:e.uri)){if(e.cdn)return e;t={type:e.type,uri:e.uri}}t&&o&&X(o.type)<X(t.type)&&(o=t)}})(e))&&void 0!==t?t:Y(e))&&void 0!==n?n:J(e))&&void 0!==r?r:null},ee=e=>(0,y.useMemo)((()=>e?Z(e):null),[e]),te=e=>(0,y.useMemo)((()=>e?(e=>{var t,n;return null!==(n=null!==(t=J(e))&&void 0!==t?t:Y(e))&&void 0!==n?n:null})(e):null),[e]),ne=e=>(0,y.useMemo)((()=>e?(e=>{const{collection:t}=e;if(t){const{name:e,family:n}=t;if(e)return e;if(n)return n}const{external_url:n}=e;if(n){const e=(0,l.formatURL)({url:n,format:"domain"});if(e)return e}const{name:r}=e;if(r){const e=(0,w.parseName)(r);if(e)return e}const{symbol:o}=e;return o||null})(e):null),[e]),re=e=>(0,b.getDevicePixelRatio)()*e,oe=e=>`https://api.phantom.app/image-proxy/?image=${encodeURIComponent(e)}`,ie=(e,t,n)=>{const r=re(t),o=re(n);return`${oe(e)}&fit=cover&width=${r}&height=${o}`},se=(e,t)=>{switch(e.type){case"solana":return"solana";case"spl-token":return`${e.data.pubkey}-${t}`}},ae=(e,t,n)=>{var r,o;const i=n[e],s=(null!==(r=null==i?void 0:i.usd)&&void 0!==r?r:0)*t;return{usd:s,usd24hChange:s-s/(1+(null!==(o=null==i?void 0:i.usd_24h_change)&&void 0!==o?o:0)/100)}},ue=(e,t,n)=>{let r=0;n&&(r=((e,t)=>{const n=e.data.usd,r=t.data.usd;return n&&r?n>r?-1:n<r?1:0:n&&!r?-1:r&&!n?1:0})(e,t));const o=((e,t)=>{const n=(0,T.amountToUiAmount)(e.data.amount,e.data.decimals),r=(0,T.amountToUiAmount)(t.data.amount,t.data.decimals);return n>r?-1:n<r?1:0})(e,t),i=((e,t)=>{var n,r,o,i,s,a;const u=null!==(r=null===(n=e.data.name)||void 0===n?void 0:n.toUpperCase())&&void 0!==r?r:null===(o=e.data.symbol)||void 0===o?void 0:o.toUpperCase(),c=null!==(s=null===(i=t.data.name)||void 0===i?void 0:i.toUpperCase())&&void 0!==s?s:null===(a=t.data.symbol)||void 0===a?void 0:a.toUpperCase();if(u&&c){if(u>c)return 1;if(u<c)return-1}return u&&!c?-1:c&&!u?1:0})(e,t);return r||o||i};function ce(e){return"solana"===e.type?m.SOLANA_ID:e.data.coingeckoId===m.USDT_COINGECKO_ID?h.USDT_MINT_ADDRESS:e.data.mintPubKey}const le=e=>{let t=0,n=0;for(const r of e)t+=r.data.usd,n+=r.data.usd24hChange;return{totalBalance:t,totalBalanceChange:n}},de=({publicKey:e,standards:t,cluster:n,cachedLamportBalance:r,cachedSPLTokensByStandard:o,cachedPrices:i={},hiddenMints:s,sortByPrice:a=!1})=>{var u,c;const l=R(e,n),d=null!==(u=l.data)&&void 0!==u?u:r,p=!d&&!l.isFetched,f=O(e,n),g=null!==(c=f.data)&&void 0!==c?c:o,m=!g&&!f.isFetched,h=_(),v=null!=h?h:i,S=(0,y.useMemo)((()=>{if(!g||!d)return[];const e=[];if(!(null==s?void 0:s.has("solana"))){const t=Object.assign({amount:d},C),n=ae(t.coingeckoId,(0,T.amountToUiAmount)(t.amount,t.decimals),v),r={type:"solana",data:Object.assign(Object.assign({},t),n)};e.push(r)}for(const n of t){const t=g[n];for(const n of t){if(null==s?void 0:s.has(n.mintPubKey))continue;const t={type:"spl-token",data:Object.assign(Object.assign({},n),{usd:0,usd24hChange:0})};if(n.coingeckoId){const e=(0,T.amountToUiAmount)(n.amount,n.decimals),r=ae(n.coingeckoId,e,v);t.data.usd=r.usd,t.data.usd24hChange=r.usd24hChange}e.push(t)}}return e}),[g,d,t,s,v]),w=(0,y.useMemo)((()=>S.sort(((e,t)=>ue(e,t,a?v:void 0)))),[S,a,v]),A=(0,y.useCallback)((()=>{k(void 0,void 0,void 0,(function*(){yield f.refetch(),yield l.refetch()}))}),[f,l]);return{data:w,dataUpdatedAt:f.dataUpdatedAt,isFetching:p||m,error:l.error||f.error,refetch:A}},pe=["Fungible"],fe=(e,t,n)=>{const r=de({publicKey:e,standards:pe,cluster:t,sortByPrice:!0}),{data:o}=r,i=O(e,t),{data:s}=i,a=null==s?void 0:s.infos,u=(0,y.useMemo)((()=>a),[a]),c=(0,y.useMemo)((()=>{const t=new Map;for(const e of o)switch(e.type){case"solana":break;case"spl-token":t.set(e.data.mintPubKey,e)}if(!u)return[];const r=Array.from(u.values()),i=[];for(const[r,o]of n){if(t.has(r))continue;const n=me({mint:r,meta:o,publicKey:e});i.push(n),t.set(r,n)}for(const n of r){if(t.has(n.address)||0===n.decimals)continue;const r=he({info:n,publicKey:e});i.push(r),t.set(n.address,r)}return i}),[u,o,n,e]),l=(0,y.useMemo)((()=>o.concat(c)),[o,c]),d=r.isFetching||!i.isFetched,p=r.error||i.error,f=r.refetch,g=i.refetch;return{data:l,isFetching:d,error:p,refetch:(0,y.useCallback)((()=>{f(),g()}),[f,g])}},ye=["Fungible"],ge=(e,t,n)=>{const r=de({publicKey:e,standards:ye,cluster:t}),{data:o}=r,i=O(e,t),{data:s}=i,a=null==s?void 0:s.infos,u=(0,y.useMemo)((()=>a),[a]),c=(0,y.useMemo)((()=>{const t=new Map;if(!u)return t;for(const e of o){const n="solana"===e.type?"":e.data.mintPubKey;t.set(n,e)}const r=Array.from(u.values());for(const[r,o]of n){if(t.has(r))continue;const n=me({mint:r,meta:o,publicKey:e});t.set(r,n)}for(const n of r){if(t.has(n.address))continue;const r=0===n.decimals?"SemiFungible":"Fungible",o=he({info:n,publicKey:e,tokenStandard:r});t.set(n.address,o)}return t}),[u,o,n,e]),l=r.isFetching||!i.isFetched,d=r.error||i.error,p=r.refetch,f=i.refetch;return{data:c,isFetching:l,error:d,refetch:(0,y.useCallback)((()=>{p(),f()}),[p,f])}},me=({mint:e,meta:t,publicKey:n})=>{const r={standard:"Fungible",pubkey:"",mintPubKey:e,ownerPubKey:n,decimals:1/0,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null,name:t.name,symbol:t.symbol,coingeckoId:null,state:"initialized",collectionPubKey:"",uses:null,creators:[],uri:""};return{type:"spl-token",data:Object.assign(Object.assign({},r),{usd:0,usd24hChange:0})}},he=({info:e,publicKey:t,tokenStandard:n})=>{var r,o,i;const s={standard:n||"Fungible",pubkey:"",mintPubKey:e.address,ownerPubKey:t,decimals:e.decimals,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null!==(r=e.logoURI)&&void 0!==r?r:null,name:e.name,symbol:e.symbol,coingeckoId:null!==(i=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==i?i:null,state:"uninitialized",collectionPubKey:"",uses:null,creators:[],uri:""};return{type:"spl-token",data:Object.assign(Object.assign({},s),{usd:0,usd24hChange:0})}}})),s.register("dY6gO",(function(t,n){e(t.exports,"PRICES_FETCH_TIMEOUT_MS",(function(){return o})),e(t.exports,"COLLECTIBLES_FETCH_TIMEOUT_MS",(function(){return i})),e(t.exports,"USDT_MINT_ADDRESS",(function(){return a})),e(t.exports,"MISSING_MINTS_TO_CG_ID",(function(){return u}));var r=s("RVqnc");(0,r.toMilliseconds)({seconds:30});const o=(0,r.toMilliseconds)({seconds:10}),i=((0,r.toMilliseconds)({seconds:10}),(0,r.toMilliseconds)({seconds:5}),(0,r.toMilliseconds)({seconds:15})),a="Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",u={[a]:"tether",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"usd-coin"}})),s.register("kAjeg",(function(t,n){e(t.exports,"groupCollectibles",(function(){return z}),(function(e){return z=e})),e(t.exports,"parseName",(function(){return J}),(function(e){return J=e})),e(t.exports,"getMetadata",(function(){return Y}),(function(e){return Y=e})),e(t.exports,"getCollectibleUriData",(function(){return X}),(function(e){return X=e})),e(t.exports,"parseCollectibles",(function(){return Z}),(function(e){return Z=e}));var r=s("hMVEP"),o=s("RVqnc"),i=s("dY6gO"),a=s("fxm4i"),u=s("hRUHU"),c=s("24hfq");s("izATd");var l,d,p=s("cBVvR"),f=s("lvcyB"),y=s("8tcqI").Buffer,g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};(d=l||(l={}))[d.Uninitialized=0]="Uninitialized",d[d.MetadataV1=4]="MetadataV1",d[d.EditionV1=1]="EditionV1",d[d.MasterEditionV1=2]="MasterEditionV1",d[d.MasterEditionV2=6]="MasterEditionV2",d[d.EditionMarker=7]="EditionMarker";class m{constructor(e){this.address=e.address,this.verified=e.verified,this.share=e.share}}class h{constructor(e){this.name=e.name,this.symbol=e.symbol,this.uri=e.uri,this.sellerFeeBasisPoints=e.sellerFeeBasisPoints,this.creators=e.creators}}class v{constructor(e){var t;this.key=l.MetadataV1,this.updateAuthority=e.updateAuthority,this.mint=e.mint,this.data=e.data,this.primarySaleHappened=e.primarySaleHappened,this.isMutable=e.isMutable,this.editionNonce=null!==(t=e.editionNonce)&&void 0!==t?t:null}}const S=new Map([[h,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[m]}]]}],[m,{kind:"struct",fields:[["address","pubkey"],["verified","u8"],["share","u8"]]}],[v,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkey"],["mint","pubkey"],["data",h],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}]]}]]),w=new RegExp("\0","g"),A=e=>{const t=(0,p.deserializeUnchecked)(S,v,e);return t.data.name=t.data.name.replace(w,""),t.data.uri=t.data.uri.replace(w,""),t.data.symbol=t.data.symbol.replace(w,""),t},b=[u.FileExtension.JPEG,u.FileExtension.JPG,u.FileExtension.PNG,u.FileExtension.GIF],T=new Set(b),E=[u.FileExtension.WEBM,u.FileExtension.MP4,u.FileExtension.M4V,u.FileExtension.OGV,u.FileExtension.OGG,u.FileExtension.MOV],x=new Set(E),k=[u.FileExtension.MP3,u.FileExtension.WAV,u.FileExtension.OGA,u.FileExtension.FLAC],P=new Set(k),I=[u.FileExtension.GLTF,u.FileExtension.GLTFBINARY,u.FileExtension.GLB],F=new Set(I),C=[...b,...E,...I,...k],R=new Set(C),M=e=>R.has(e),L=e=>T.has(e)?`image/${e}`:x.has(e)?`video/${e}`:F.has(e)?`model/${e}`:P.has(e)?`audio/${e}`:void 0,N=e=>{if(!e||"object"!=typeof e)return!1;const t="string"==typeof e.trait_type,n="string"==typeof e.value||"number"==typeof e.value;return t&&n},O=e=>N(e)?[e]:Array.isArray(e)?e.filter(N):[],U=e=>(e=>{if(!e||"object"!=typeof e)return!1;if(!e.category||"string"!=typeof e.category)return!1;if(!/^(image|video|audio|vr|html)$/.test(e.category))return!1;if(!Array.isArray(e.files))return!1;for(const t of e.files)if(!D(t))return!1;return!0})(e)?e:(e=>{if(!e||"object"!=typeof e)return!1;if(!e.category||"string"!=typeof e.category)return!1;if(!/^(image|video|audio|vr|html)$/.test(e.category))return!1;if(!Array.isArray(e.files))return!1;for(const t of e.files)if("string"!=typeof t)return!1;return!0})(e)?{category:e.category,files:e.files.map((e=>_(e))).filter((e=>!!e))}:void 0,D=e=>{if(!e||"object"!=typeof e)return!1;if(!e.type||"string"!=typeof e.type)return!1;if(!e.uri||"string"!=typeof e.uri)return!1;const t=typeof e.cdn;return"undefined"===t||"boolean"===t},_=e=>{const t=(0,o.parseURL)(e);if(!t)return;if("http:"!==t.protocol&&"https:"!==t.protocol)return;const n=t.searchParams.get("ext");if(n&&M(n)){const t=L(n);if(t)return{type:t,uri:e}}const r=(0,o.getLast)(e.split("."));if(r&&M(r)){const t=L(r);if(t)return{type:t,uri:e}}},B=e=>{const t=(e=>{const[t,n]=e.split("/");if(t&&n)return t.startsWith("image")&&T.has(n)?u.CollectibleMediaType.Image:t.startsWith("video")&&x.has(n)?u.CollectibleMediaType.Video:t.startsWith("model")&&F.has(n)?u.CollectibleMediaType.VR:t.startsWith("audio")&&P.has(n)?u.CollectibleMediaType.Audio:void 0})(e.type);if(t){return{type:t,fileUri:e.uri}}},q=e=>{if(!("object"==typeof e&&null!==e))return!1;return Object.values(e).every((e=>"string"==typeof e||void 0===e))},V=(e,t,n)=>{var r,o,i,s,a,l,d,p;const{mint:f,updateAuthority:y}=t,g=f.toString(),{creators:m=[],symbol:h,uri:v}=t.data,S=t.data.name,w=null!=n?n:{mint:g,name:S},A=w.name||S,b=K(w),T=null!==(i=null===(o=null===(r=null==m?void 0:m.find((e=>1===e.verified)))||void 0===r?void 0:r.address)||void 0===o?void 0:o.toString())&&void 0!==i?i:"",{collection:E,external_url:x,description:k,image:P,attributes:I}=w;return{type:"collectible",chain:u.Chain.Solana,address:g,account:e.pubkey,collectionFamily:null!==(s=null==E?void 0:E.family)&&void 0!==s?s:"",collectionName:null!==(a=null==E?void 0:E.name)&&void 0!==a?a:"",collectionKey:T,name:A,symbol:h,uri:v,externalUrl:x,description:k,image:P,media:b,decimals:null!==(l=e.tokenAmount.decimals)&&void 0!==l?l:0,balance:null!==(d=e.tokenAmount.uiAmount)&&void 0!==d?d:1,delegate:e.delegate,attributes:I,baseBalance:new(0,c.BigNumber)(null!==(p=e.tokenAmount.amount)&&void 0!==p?p:1),updateAuthority:y,metaName:S}},j=(e,t)=>{const{mintAddress:n}=e,{name:r,symbol:o,websiteUrl:i,iconUrl:s,imageUrl:a,description:l,animationUrl:d}=t,p=(e=>{const t=_(e);if(t)return B(t)})(null!=d?d:"");return{type:"collectible",chain:u.Chain.Solana,address:n,account:e.pubkey,collectionFamily:"",collectionName:"",collectionKey:"",name:r,symbol:o,uri:"",externalUrl:i,description:l,image:null!=a?a:s,media:p,decimals:e.tokenAmount.decimals,balance:e.tokenAmount.uiAmount,delegate:e.delegate,baseBalance:new(0,c.BigNumber)(e.tokenAmount.amount),updateAuthority:null,metaName:null}},Q=(e,t)=>g(void 0,void 0,void 0,(function*(){const n=yield fetch(e);if(!n.ok)throw new Error(`Failed to fetch data from ${e}`);return((e,t)=>{const n=t&&"object"==typeof t?t:{},{collection:r,description:o,external_url:i,name:s,image:a,animation_url:u,attributes:c}=n,l=U(n.properties);return{name:"string"==typeof s?s:"",mint:e,image:"string"==typeof a||null===a?a:void 0,collection:q(r)?r:void 0,description:"string"==typeof o?o:void 0,external_url:"string"==typeof i?i:void 0,animation_url:"string"==typeof u?u:void 0,properties:U(l),attributes:O(c)}})(t,yield n.json())})),K=e=>{var t,n,r;const o=e.animation_url;if(o){const n=_(o);if(n){const e=B(n);if(e)return e}if(!n&&(null===(t=e.properties)||void 0===t?void 0:t.category)){if(/^(image|video|audio|vr)$/.test(e.properties.category))return{type:e.properties.category,fileUri:o}}}const i=null!==(r=null===(n=e.properties)||void 0===n?void 0:n.files)&&void 0!==r?r:[];let s;for(const e of i){const t=B(e);if(t){if(e.cdn)return t;(!s||s&&G(s.type)<G(t.type))&&(s=t)}}return s},G=e=>{switch(e){case u.CollectibleMediaType.VR:return 3;case u.CollectibleMediaType.Video:return 2;case u.CollectibleMediaType.Audio:return 1;case u.CollectibleMediaType.Image:return 0}},W=e=>g(void 0,void 0,void 0,(function*(){const t=[y.from("metadata"),a.METADATA_PROGRAM_ID.toBuffer(),e.toBuffer()];return(yield r.PublicKey.findProgramAddress(t,a.METADATA_PROGRAM_ID))[0]})),H=e=>g(void 0,void 0,void 0,(function*(){const t=[];let n=0;for(const r of Object.values(e)){const{data:e}=r;t.push(A(e)),n++,n%15==0&&(yield Promise.resolve())}return t})),z=e=>{var t;const n=new Map;for(const r of e){const e=r.collectionKey||r.address,o=null!==(t=n.get(e))&&void 0!==t?t:{collectibles:[],key:e,name:$(r)};o.collectibles=[...o.collectibles,r],o.collectibles.sort(((e,t)=>e.name.localeCompare(t.name))),n.set(e,o)}const r=[...n.values()];return r.sort(((e,t)=>{const n=t.collectibles.length-e.collectibles.length;return n||e.name.localeCompare(t.name)})),r},$=e=>{const{collectionFamily:t,collectionName:n,collectionKey:r,externalUrl:i,metaName:s,name:a,symbol:u}=e;if(n)return n;if(t)return t;if(i){const e=(0,o.formatURL)({url:i,format:"domain"});if(e)return e}if(s||a){const e=J(s)||J(a);if(e)return e}return u||r},J=e=>e?e.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim():null,Y=(e,t)=>g(void 0,void 0,void 0,(function*(){return((e,t)=>g(void 0,void 0,void 0,(function*(){const n=e.map((e=>new(0,r.PublicKey)(e))),i=yield Promise.all((0,o.chunks)(n,15).map((e=>e.map(W))).flat()),s=yield(0,f.getMultipleAccountsAsync)(t,i,"confirmed");return H(s)})))(t.filter((e=>e.tokenAmount.uiAmount>0)).map((e=>e.mintAddress)),e)})),X=e=>g(void 0,void 0,void 0,(function*(){const t=e.filter((e=>e.data.uri));if(t.length>0){const e=yield Promise.all((0,o.chunks)(t,5).map((e=>e.map((e=>g(void 0,void 0,void 0,(function*(){const{mint:t,data:{name:n,uri:r}}=e,s=t.toString();try{return yield(0,o.withTimeout)(Q(r,s),i.COLLECTIBLES_FETCH_TIMEOUT_MS)}catch(e){return{mint:s,name:n}}})))))).flat());return(0,o.objectArrayToMap)(e,"mint")}return{}})),Z=(e,t,n,r)=>{const o=null!=t?t:{},i=r.reduce(((e,t)=>t.data.uri?(e.set(t.mint.toString(),t),e):e),new Map),s=[];for(const t of n){if(0===t.tokenAmount.uiAmount)continue;const n=t.mintAddress.toString(),r=i.get(n),a=o[n];if(r&&a){const e=V(t,r,a);s.push(e);continue}if(t.tokenAmount.uiAmount<=0)continue;const u=e[n];if(!u||!u.isCollectible)continue;const c=j(t,u);s.push(c)}return s}})),s.register("izATd",(function(t,n){e(t.exports,"deserializeBorsh",(function(){return s("cBVvR").deserializeUnchecked}));var r=s("hMVEP");s("cBVvR").BinaryReader.prototype.readPubkey=function(){const e=this.readFixedArray(32);return new(0,r.PublicKey)(e)}})),s.register("jF6Pg",(function(t,n){e(t.exports,"getDevicePixelRatio",(function(){return r}));const r=()=>(null===window||void 0===window?void 0:window.devicePixelRatio)||1})),s.register("2UOPE",(function(t,n){e(t.exports,"SWAPPER_BASE_URL",(function(){return u})),e(t.exports,"DEFAULT_SLIPPAGE",(function(){return c})),e(t.exports,"MAX_NUMBER_OF_QUOTES",(function(){return l})),e(t.exports,"QUOTE_FETCH_INTERVAL_MS",(function(){return d})),e(t.exports,"SHOULD_UNWRAP_WRAPPED_SOL",(function(){return p})),e(t.exports,"INITIAL_BUY_ASSET",(function(){return v})),e(t.exports,"INITIAL_SELL_ASSET",(function(){return S})),e(t.exports,"INITIAL_BUY_FUNGIBLE",(function(){return w})),e(t.exports,"INITIAL_SELL_FUNGIBLE",(function(){return A})),e(t.exports,"SWAP_ASSET_SELECT_TOKEN_STANDARDS",(function(){return b})),e(t.exports,"FUSE_SWAP_ASSET_SEARCH_CONFIG",(function(){return T})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return E})),e(t.exports,"BALANCE_HIDDEN_TEXT",(function(){return x}));var r=s("hcj6g"),o=s("5slFC"),i=s("16XMG"),a=s("3YDVy");const u=`${(0,i.getAPIEnvironment)()}/solana/swap/v1`,c=.5,l=5,d=2e4,p=!0,f={id:r.ChainID.SolanaMainnet,imageUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",symbol:"SOL"},y={type:"solana",data:Object.assign(Object.assign({},a.SOLANA_STATIC_VALUES),{amount:"0",usd:0,usd24hChange:0})},g={type:o.FungibleTokenType.SolanaNative,data:{amount:"0",balance:0,chain:f,coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"EtiWtHKB9RRHcSsprD4QVmUt5jjUFbfTZ6bXDc58yC2g"}},m={type:"spl-token",data:{amount:"0",coingeckoId:"usd-coin",collectionPubKey:null,creators:[],decimals:6,delegate:null,delegatedAmount:"0",logoURI:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/assets/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintPubKey:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",ownerPubKey:"EtiWtHKB9RRHcSsprD4QVmUt5jjUFbfTZ6bXDc58yC2g",pubkey:"72iTmWTJZmHKWr6rh8a15YFpReJWdaZ8EQNJP32yceKz",standard:"Fungible",state:"initialized",symbol:"USDC",uri:"",usd:0,usd24hChange:0,uses:null}},h={type:o.FungibleTokenType.SPL,data:{amount:"0",balance:0,chain:f,coingeckoId:"usd-coin",decimals:6,key:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoUri:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",splTokenAccountPubkey:"EAF7dH8Jy43Xgp68PhyybKhfKxk46NFRkWN4PMCLqMfS",symbol:"USDC",tokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",walletAddress:"EtiWtHKB9RRHcSsprD4QVmUt5jjUFbfTZ6bXDc58yC2g"}},v=m,S=y,w=h,A=g,b=["Fungible","SemiFungible"],T={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.amount",weight:.1},{name:"data.mint",weight:.1}]},E="https://help.phantom.app/hc/en-us/articles/5985106844435",x="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})),s.register("f2tU6",(function(t,n){e(t.exports,"formatFee",(function(){return s("azr2P").formatFee})),e(t.exports,"getSwapPairsAsync",(function(){return s("7NBkj").getSwapPairsAsync})),e(t.exports,"getSwapQuoteAsync",(function(){return s("cH46O").getSwapQuoteAsync})),e(t.exports,"parseSwapError",(function(){return s("huZwj").parseSwapError})),e(t.exports,"updateSellAssetAmount",(function(){return s("8A1G6").updateSellAssetAmount})),e(t.exports,"swapPairsAssetInfoToAsset",(function(){return s("7SmhG").swapPairsAssetInfoToAsset}));s("2JxpK"),s("30Tum"),s("azr2P"),s("gWWyM"),s("9XJOV"),s("bKooM"),s("31DM9"),s("7NBkj"),s("cH46O"),s("huZwj"),s("eH8pa"),s("9YFpa"),s("8A1G6"),s("7SmhG")})),s.register("2JxpK",(function(t,n){function r(e,t){return"solana"===e.type||"solana"===t.type?e.type===t.type:e.data.mintPubKey===t.data.mintPubKey}e(t.exports,"areAssetsEqual",(function(){return r}))})),s.register("30Tum",(function(t,n){function r(e){return"0"!==e.data.amount}e(t.exports,"canSellAsset",(function(){return r}))})),s.register("gWWyM",(function(t,n){e(t.exports,"getAnalyticsAsset",(function(){return o}));var r=s("hRUHU");function o(e){return{chain:r.Chain.Solana,type:"spl-token"===e.type&&"Fungible"!==e.data.standard?"collectible":"fungible",address:"spl-token"===e.type?e.data.mintPubKey:void 0,symbol:e.data.symbol}}})),s.register("9XJOV",(function(t,n){e(t.exports,"getMaxSellAmount",(function(){return u}));var r=s("5slFC"),o=s("9CoSy"),i=s("Nt4tV"),a=s("9YFpa");function u(e){const t=e?e.data.decimals:0,n=e?e.data.amount:0,s=(0,i.amountToUiAmount)(n,t);return e&&("solana"===e.type||e.type===r.FungibleTokenType.SolanaNative)&&s>o.ESTIMATED_SOL_TRADE_FEE?(0,a.subtractTokenAmounts)(s,o.ESTIMATED_SOL_TRADE_FEE):s}})),s.register("9YFpa",(function(t,n){e(t.exports,"subtractTokenAmounts",(function(){return o}));var r=s("24hfq");function o(e,t){return new(0,r.BigNumber)(e).minus(t).toNumber()}})),s.register("bKooM",(function(t,n){function r(e){if(void 0===e)return"#999";const t=parseFloat(e.toFixed(2));switch(!0){case t>=5:return"#EB3742";case t>=1&&e<5:return"#FFDC62";case e>=0&&e<1:return"#21E56F";default:return"#777777"}}e(t.exports,"getPriceImpactColor",(function(){return r}))})),s.register("31DM9",(function(t,n){function r(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(t.exports,"getPriceImpactText",(function(){return r}))})),s.register("7NBkj",(function(t,n){e(t.exports,"getSwapPairsAsync",(function(){return i}),(function(e){return i=e}));var r=s("2UOPE"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function i(e){return o(this,void 0,void 0,(function*(){const t=`${r.SWAPPER_BASE_URL}/pairs?tokens=${e}&includeMetadata=true`,n=yield fetch(t);if(200!==n.status)throw new Error(`Failed to fetch swap pairs for the following mints: ${e.join(", ")}.`);return yield n.json()}))}})),s.register("cH46O",(function(t,n){e(t.exports,"getSwapQuoteAsync",(function(){return i}),(function(e){return i=e}));var r=s("2UOPE"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function i(e){return o(this,void 0,void 0,(function*(){const t=new URLSearchParams([...Object.entries(e)]),n=new URL(`${r.SWAPPER_BASE_URL}/quote?${t}`).toString(),o=yield fetch(n);if(200!==o.status)throw new Error(`Failed to fetch quote for ${e.sellToken} and ${e.buyToken} pair.`);return yield o.json()}))}})),s.register("huZwj",(function(t,n){function r(e){var t;return"string"==typeof e?new Error(e):"object"==typeof e&&"logs"in e&&(null===(t=e.logs)||void 0===t?void 0:t.length)?new Error(e.logs.join("\n")):e}e(t.exports,"parseSwapError",(function(){return r}))})),s.register("eH8pa",(function(t,n){function r(e){if(e){const t=[];for(const n of e)t.includes(n.name)||t.push(n.name);return t.join(" + ")}return""}e(t.exports,"parseSwapSources",(function(){return r}))})),s.register("8A1G6",(function(t,n){function r({currentQuote:e,sellAsset:t,setSellAsset:n}){if(t&&e){const r=Object.assign({},t);r.data.amount=String(Number(t.data.amount)-Number(e.sellAmount)),n(r)}}e(t.exports,"updateSellAssetAmount",(function(){return r}))})),s.register("7SmhG",(function(t,n){e(t.exports,"swapPairsAssetInfoToAsset",(function(){return r}));const r=(e,t)=>{var n;return e.decimals&&e.name&&e.symbol?{type:"spl-token",data:{standard:"Fungible",pubkey:"",mintPubKey:e.mint,ownerPubKey:t,decimals:e.decimals,amount:"0",delegate:null,delegatedAmount:"0",logoURI:null!==(n=e.imageUrl)&&void 0!==n?n:null,name:e.name,symbol:e.symbol,coingeckoId:null,state:"uninitialized",collectionPubKey:"",uses:null,creators:[],uri:"",usd:0,usd24hChange:0}}:null}})),s.register("dsDYC",(function(t,n){e(t.exports,"useFetchSwapQuote",(function(){return u}),(function(e){return u=e}));var r=s("5ekp2"),o=s("2UOPE");s("f2tU6");var i=s("cH46O"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function u({publicKey:e,sellAmount:t,sellTokenMint:n,buyTokenMint:s}){const u=!!(e&&t&&n&&s),c=["fetch-phantom-swap-quote",e,t,n,s];return(0,r.useQuery)({cacheTime:0,enabled:u,queryKey:c,queryFn:function(){return a(this,void 0,void 0,(function*(){if(!e)throw new Error("Unable to fetch swap quote: no public key");if(!t||!n||!s)return;return yield(0,i.getSwapQuoteAsync)({buyToken:s,maxNumberOfQuotes:o.MAX_NUMBER_OF_QUOTES,sellToken:n,sellAmount:t,slippageTolerance:o.DEFAULT_SLIPPAGE,taker:e,wrapUnwrapSOL:o.SHOULD_UNWRAP_WRAPPED_SOL})}))},refetchInterval:o.QUOTE_FETCH_INTERVAL_MS,retry:!1})}})),s.register("iqqDn",(function(t,n){e(t.exports,"useFetchUsdPrices",(function(){return c}),(function(e){return c=e}));var r=s("56oyT"),o=s("RVqnc"),i=s("5ekp2"),a=s("dY6gO"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function c(e,t){var n,s;const c=null!==(n=null==e?void 0:e.data.coingeckoId)&&void 0!==n?n:null,l=null!==(s=null==t?void 0:t.data.coingeckoId)&&void 0!==s?s:null,d=!!c||!!l,p=["fetch-usd-prices",c,l];return(0,i.useQuery)({queryKey:p,queryFn:function(){return u(this,void 0,void 0,(function*(){const n=[];return[e,t].forEach((e=>{e&&e.data.coingeckoId&&n.push(e.data.coingeckoId)})),yield(0,o.withTimeout)((0,r.getPricesByCoingeckoId)(n),a.PRICES_FETCH_TIMEOUT_MS)}))},enabled:d})}})),s.register("fxXvK",(function(t,n){e(t.exports,"useInitialAssets",(function(){return c}));var r=s("29o0l"),o=s("3YDVy"),i=s("2UOPE"),a=s("iTQ0V");const u=["Fungible"];function c({owner:e,cluster:t,hiddenMints:n}){const{data:s}=(0,o.useSPLAssets)({publicKey:e,standards:u,cluster:t,hiddenMints:n}),c=(0,a.useSwapperStore)((e=>e.setBuyAsset)),l=(0,a.useSwapperStore)((e=>e.setSellAsset));(0,r.useEffect)((()=>{const e=new Map(s.map((e=>["solana"===e.type?"":e.data.mintPubKey,e]))),t="solana"===i.INITIAL_SELL_ASSET.type?"":i.INITIAL_SELL_ASSET.data.mintPubKey,n="solana"===i.INITIAL_BUY_ASSET.type?"":i.INITIAL_BUY_ASSET.data.mintPubKey,r=e.get(t)||i.INITIAL_SELL_ASSET,o=e.get(n)||i.INITIAL_BUY_ASSET;l(r),c(o)}),[])}})),s.register("8IOCk",(function(t,n){function r(e){return e?e.phantomFee.pct:0}e(t.exports,"usePhantomFee",(function(){return r}))})),s.register("4xLuU",(function(t,n){e(t.exports,"usePriceImpact",(function(){return a}));var r=s("29o0l"),o=s("bKooM"),i=s("31DM9");function a(e){return(0,r.useMemo)((()=>{let t="",n="";if(void 0!==e){const r=100*e;t=(0,o.getPriceImpactColor)(r),n=(0,i.getPriceImpactText)(r)}return{color:t,text:n}}),[e])}})),s.register("UWzy4",(function(t,n){e(t.exports,"useProvider",(function(){return i}));var r=s("29o0l"),o=s("eH8pa");function i(e){return(0,r.useMemo)((()=>(0,o.parseSwapSources)(e)),[e])}})),s.register("ezPKD",(function(t,n){e(t.exports,"useResetSwapperOnMount",(function(){return i}));var r=s("29o0l"),o=s("iTQ0V");function i(){const e=(0,o.useSwapperStore)((e=>e.resetSwapper));(0,r.useEffect)((()=>{e()}),[])}})),s.register("bFhoc",(function(t,n){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return c}));var r=s("29o0l"),o=s("9CoSy"),i=s("Nt4tV"),a=s("iTQ0V"),u=s("dsDYC");function c(e){const t=(0,a.useSwapperStore)((e=>e.sellAmount)),n=(0,a.useSwapperStore)((e=>e.buyAsset)),s=(0,a.useSwapperStore)((e=>e.sellAsset)),c=(0,a.useSwapperStore)((e=>e.resetQuote)),l=(0,a.useSwapperStore)((e=>e.setHasNoRoutes)),d=(0,a.useSwapperStore)((e=>e.setIsFetchingQuote)),p=(0,a.useSwapperStore)((e=>e.setQuote)),f=(0,a.useSwapperStore)((e=>e.setSelectedProviderIndex)),y=s&&"spl-token"===s.type?s.data.mintPubKey:o.WRAPPED_SOLANA.address,g=n&&"spl-token"===n.type?n.data.mintPubKey:o.WRAPPED_SOLANA.address,m=(0,r.useMemo)((()=>parseFloat(t)>0&&s?String((0,i.uiAmountToAmount)(t,s.data.decimals)):(c(),"")),[c,t,s]),{data:h,isError:v,isFetching:S}=(0,u.useFetchSwapQuote)({sellAmount:m,sellTokenMint:y,buyTokenMint:g,publicKey:e}),w=(0,r.useCallback)((e=>{e.quotes.sort(((e,t)=>parseInt(t.buyAmount)-parseInt(e.buyAmount))),f(0),d(!1),l(!1),p(e)}),[l,d,p,f]),A=(0,r.useCallback)((()=>{c(),d(!1),l(!0)}),[c,l,d]);(0,r.useEffect)((()=>{S?d(!0):h?w(h):v&&A()}),[v,h,S,w,A,d])}})),s.register("hVvmZ",(function(t,n){e(t.exports,"useSwapBuyAssetProps",(function(){return d}));var r=s("29o0l"),o=s("Nt4tV"),i=s("2UOPE"),a=s("iTQ0V"),u=s("iX5lP"),c=s("4MMT9"),l=s("iA6sm");function d(e){var t;const n=(0,a.useSwapperStore)((e=>e.sellAsset)),s=(0,a.useSwapperStore)((e=>e.buyAsset)),d=(0,a.useSwapperStore)((e=>e.isFetchingQuote)),p=(0,a.useSwapperStore)((e=>e.setSellAmount)),f=(0,a.useSwapperStore)((e=>e.setUiSellAmount)),y=(0,l.useSwapSetSellAsset)(e),g=(0,c.useSwapSetBuyAsset)(e),{currentQuote:m,quote:h}=(0,u.useQuote)(),v=String(m&&h?(0,o.amountToFormattedAmount)(m.buyAmount,h.buyToken.decimals):""),S=null!==(t=null==s?void 0:s.data.decimals)&&void 0!==t?t:0,w=s&&s.data.logoURI?s.data.logoURI:i.INITIAL_BUY_ASSET.data.logoURI||"",A=s&&s.data.symbol?s.data.symbol:i.INITIAL_BUY_ASSET.data.symbol||"",b=(0,r.useCallback)((()=>{p(v),f(v),s&&y(s),n&&g(n)}),[p,v,f,s,n,y,g]);return{assetButtonTitle:A,buyAmount:v,decimals:S,iconUrl:w,isFetchingQuote:d,onSwitchTokens:b}}})),s.register("4MMT9",(function(t,n){e(t.exports,"useSwapSetBuyAsset",(function(){return a}));var r=s("29o0l"),o=s("iTQ0V"),i=s("gWWyM");function a(e){const t=(0,o.useSwapperStore)((e=>e.setBuyAsset));return(0,r.useCallback)((n=>{const r=(0,i.getAnalyticsAsset)(n);e.capture("swapperUpdateToAsset",{asset:r}),t(n)}),[e,t])}})),s.register("iA6sm",(function(t,n){e(t.exports,"useSwapSetSellAsset",(function(){return u}));var r=s("29o0l"),o=s("iTQ0V"),i=s("2JxpK"),a=s("gWWyM");function u(e){const t=(0,o.useSwapperStore)((e=>e.buyAsset)),n=(0,o.useSwapperStore)((e=>e.sellAsset)),s=(0,o.useSwapperStore)((e=>e.setBuyAsset)),u=(0,o.useSwapperStore)((e=>e.setSellAsset));return(0,r.useCallback)((r=>{const o=(0,a.getAnalyticsAsset)(r);e.capture("swapperUpdateFromAsset",{asset:o}),u(r),t&&n&&(0,i.areAssetsEqual)(r,t)&&s(n)}),[e,t,n,s,u])}})),s.register("dtI9r",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return l}));var r=s("I4BHf"),o=s("8IOCk"),i=s("4xLuU"),a=s("UWzy4"),u=s("iX5lP"),c=s("h8AIo");function l(e){const{bestBuyAmount:t,currentQuote:n,hasNoRoutes:s,quote:l}=(0,u.useQuote)(),d=(0,r.useExchangeRate)(t,l,n),p=(0,i.usePriceImpact)(null==n?void 0:n.priceImpact),f=(0,a.useProvider)(null==n?void 0:n.sources),y=(0,o.usePhantomFee)(null==n?void 0:n.fees),{networkFeeInCurrencyFormatted:g,totalFeesInCurrencyFormatted:m}=(0,c.useTotalFees)(n,e);return{exchangeRate:d,hasNoRoutes:s,phantomFee:y,priceImpact:p,provider:f,quote:l,networkFee:g,totalFees:m}}})),s.register("h8AIo",(function(t,n){e(t.exports,"useTotalFees",(function(){return i}));var r=s("29o0l"),o=s("azr2P");function i(e,t){return(0,r.useMemo)((()=>{const n=null==e?void 0:e.fees;if(n&&t){const{networkFees:e,serumAccountDeposits:r,tokenAccountDeposits:i}=n,s=e.amount+r.amount+i.amount;return{networkFeeInCurrencyFormatted:(0,o.formatFee)(e.amount,t),totalFeesInLamports:s,totalFeesInCurrencyFormatted:(0,o.formatFee)(s,t)}}return{networkFeeInCurrencyFormatted:"",totalFeesInLamports:void 0,totalFeesInCurrencyFormatted:""}}),[null==e?void 0:e.fees,t])}})),s.register("8vNNq",(function(t,n){e(t.exports,"useSwapConfirmationProps",(function(){return h}),(function(e){return h=e}));var r=s("hMVEP"),o=s("29o0l"),i=s("bQvNK"),a=s("3YDVy"),u=s("guHTU"),c=s("iTQ0V");s("f2tU6");var l=s("8A1G6"),d=s("huZwj"),p=s("lgcfo"),f=s("UWzy4"),y=s("iX5lP"),g=s("3pIvT"),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function h({analytics:e,connection:t,explorer:n,isLedger:s,signer:h,splAssetsArgs:v,onError:S}){const{cluster:w}=v,{currentQuote:A,quote:b}=(0,y.useQuote)(),T=(0,c.useSwapperStore)((e=>e.sellAsset)),E=(0,c.useSwapperStore)((e=>e.buyUsdValue)),x=(0,c.useSwapperStore)((e=>e.sellUsdValue)),k=(0,c.useSwapperStore)((e=>e.setSellAsset)),P=(0,c.useSwapperStore)((e=>e.resetSwapper)),{refetch:I}=(0,a.useSPLAssets)(v),F=(0,f.useProvider)(null==A?void 0:A.sources),C=(0,p.useAnalyticsPayload)({buyToken:null==b?void 0:b.buyToken,sellToken:null==b?void 0:b.sellToken,buyAmount:null==A?void 0:A.buyAmount,sellAmount:null==A?void 0:A.sellAmount,phantomFee:null==A?void 0:A.fees.phantomFee.amount,priceImpact:null==A?void 0:A.priceImpact,provider:F,buyAssetUsdValue:E,sellAssetUsdValue:x}),R=null==b?void 0:b.buyToken.symbol,[M,L]=(0,o.useState)(),N=w&&M?(0,u.generateTxExplorerUrl)(M,w,n):"",O=(null==A?void 0:A.transactionData.length)||0,[U,D]=(0,o.useState)("loading"),_="success"===U,B="failure"===U,[q,V]=(0,o.useState)(void 0),{notEnoughSol:j,txErrorMessage:Q}=(0,g.useSwapError)(q),K=(0,o.useCallback)((()=>m(this,void 0,void 0,(function*(){if(D("loading"),L(void 0),V(void 0),!A)throw new Error("Trying to execute swap with no current quote");if(!t||!h)throw new Error("Trying to execute swap with no connection or signer.");try{const{transactionData:n}=A;for(const e of n){const n=(0,r.transactionStringToTransaction)(e,"bs58");(0,r.setRecentBlockhash)(n,yield(0,i.getLatestBlockhash)(t,"finalized"));const o=yield(0,i.signAndSendTransactionAsync)(t,h,n,{skipPreflight:!0});L(o),yield(0,i.waitForTransactionConfirmationAsync)(t,o,"confirmed")}D("success"),e.capture("swapperSwapSuccess",C),P(),(0,l.updateSellAssetAmount)({currentQuote:A,sellAsset:T,setSellAsset:k}),I()}catch(t){console.error(t);const n=(0,d.parseSwapError)(t);D("failure"),V(n),S&&S(n),e.capture("swapperSwapFailure",C)}}))),[e,C,t,A,S,I,P,T,k,h]),G=(0,o.useCallback)((()=>{(()=>{m(this,void 0,void 0,(function*(){yield K()}))})()}),[K]);return{buyAssetSymbol:R,isSuccess:_,isFailure:B,isLedger:s,notEnoughSol:j,txError:q,txErrorMessage:Q,txLink:N,executeSwap:G,resetSwapper:P,useExecuteSwapOnMount:()=>{(0,o.useEffect)((()=>{s||G()}),[])},numberOfTransactions:O}}})),s.register("3pIvT",(function(t,n){e(t.exports,"useSwapError",(function(){return d}));var r=s("43063"),o=s("29o0l");const i='"Custom":301',a="Insufficient funds for fee",u="lower balance than rent-exempt minimum",c="insufficient lamports",l="debit an account but found no record of a prior credit";function d(e){const{t:t}=(0,r.useTranslation)();return(0,o.useMemo)((()=>e&&e.message?{notEnoughSol:[a,c,l,u].some((t=>e.message.includes(t))),txErrorMessage:e.message.includes(i)?t("swapTxConfirmationSwapFailedSlippageLimit"):t("swapTxConfirmationSwapFailedTryAgain")}:{notEnoughSol:!1,txErrorMessage:""}),[e,t])}})),s.register("lCzzn",(function(t,n){e(t.exports,"useSwapProvidersProps",(function(){return l}));var r=s("43063"),o=s("29o0l"),i=s("Nt4tV"),a=s("iTQ0V"),u=s("eH8pa"),c=s("iX5lP");function l(){const{t:e}=(0,r.useTranslation)(),{bestBuyAmount:t,quote:n,quotes:s,selectedProviderIndex:l}=(0,c.useQuote)(),d=(0,a.useSwapperStore)((e=>e.setSelectedProviderIndex));return{rows:(0,o.useMemo)((()=>n?s.map((r=>{const{buyAmount:o,sources:s}=r,a=Number(o),c=t-a,l=(0,i.amountToFormattedAmount)(c,n.buyToken.decimals);return{label:(0,u.parseSwapSources)(s),value:0===c?e("swapFeesBestPrice"):`- ${l} ${n.buyToken.symbol}`}})):[]),[t,n,s,e]),selectedProviderIndex:l,setSelectedProviderIndex:d}}})),s.register("9PpHT",(function(t,n){e(t.exports,"useSwapReviewButtonProps",(function(){return a}));var r=s("iTQ0V"),o=s("9XJOV"),i=s("iX5lP");function a(){const{currentQuote:e}=(0,i.useQuote)(),t=(0,r.useSwapperStore)((e=>e.hasNoRoutes)),n=(0,r.useSwapperStore)((e=>e.sellAsset)),s=(0,r.useSwapperStore)((e=>e.sellAmount)),a=(0,o.getMaxSellAmount)(n),u=Number(s)<=a;return{canSwap:!!e&&u&&!t,hasEnoughAssets:u,hasNoRoutes:t}}})),s.register("iTLyO",(function(t,n){e(t.exports,"useSwapReviewProps",(function(){return l}));var r=s("29o0l"),o=s("3YDVy"),i=s("Nt4tV"),a=s("iTQ0V"),u=s("iqqDn"),c=s("iX5lP");function l(){const e=(0,a.useSwapperStore)((e=>e.buyAsset)),t=(0,a.useSwapperStore)((e=>e.sellAsset)),n=(0,a.useSwapperStore)((e=>e.sellAmount)),s=(0,a.useSwapperStore)((e=>e.setBuyUsdValue)),l=(0,a.useSwapperStore)((e=>e.setSellUsdValue)),{currentQuote:d,quote:p}=(0,c.useQuote)(),{data:f}=(0,u.useFetchUsdPrices)(t,e);return(0,r.useMemo)((()=>{var r,a;let u="",c="",y="",g="";if(!p||!e||!t)return{sellAmountText:y,sellAmountUsdText:g,buyAmountText:u,buyAmountUsdText:c};const{buyToken:m,sellToken:h}=p,{buyAmount:v}=d,S=(0,i.amountToUiAmount)(v,p.buyToken.decimals),w=Number(n),A=String(S).split(".")[0].length,b=n.split(".")[0].length,T=m.symbol.length,E=h.symbol.length,x=A&&T?A+T:0,k=b&&E?b+E:0;if(y=`${(0,i.formatTokenAmountForReviewScreen)(w,k)} ${h.symbol}`,u=`${(0,i.formatTokenAmountForReviewScreen)(S,x)} ${m.symbol}`,f){const n=(0,o.getMintPubkeyFromAsset)(e),u=(0,o.getMintPubkeyFromAsset)(t),d=f[n],p=f[u];if(d){const e=S*(null!==(r=d.usd)&&void 0!==r?r:0);c=`$${(0,i.formatTokenAmount)(e)}`,s(d.usd)}if(p){const e=w*(null!==(a=p.usd)&&void 0!==a?a:0);g=`$${(0,i.formatTokenAmount)(e)}`,l(p.usd)}}return{sellAmountText:y,sellAmountUsdText:g,buyAmountText:u,buyAmountUsdText:c}}),[p,e,t,d,n,f,s,l])}})),s.register("6M54M",(function(t,n){e(t.exports,"useSwapSellAssetProps",(function(){return y}));var r=s("29o0l"),o=s("9CoSy"),i=s("m2d5Y"),a=s("3YDVy"),u=s("Nt4tV"),c=s("2UOPE"),l=s("iTQ0V"),d=s("2JxpK"),p=s("9XJOV");const f=500;function y({owner:e,cluster:t,hiddenMints:n,isBalanceHidden:s}){const{data:y}=(0,a.useSPLAssets)({publicKey:e,standards:c.SWAP_ASSET_SELECT_TOKEN_STANDARDS,cluster:t,hiddenMints:n}),g=(0,l.useSwapperStore)((e=>e.sellAsset)),m=(0,l.useSwapperStore)((e=>e.sellAmount)),h=(0,l.useSwapperStore)((e=>e.uiSellAmount)),v=(0,l.useSwapperStore)((e=>e.setSellAmount)),S=(0,l.useSwapperStore)((e=>e.setSellAsset)),w=(0,l.useSwapperStore)((e=>e.setUiSellAmount)),[A,b]=(0,i.useDebouncedChangeHandler)(m,v,f),T=null==g?void 0:g.data.amount,E=g?g.data.decimals:0,x=(0,p.getMaxSellAmount)(g),k=Number(null!=m?m:0)>x,P=g&&g.data.logoURI?g.data.logoURI:c.INITIAL_SELL_ASSET.data.logoURI||"",I=g&&g.data.symbol?g.data.symbol:c.INITIAL_SELL_ASSET.data.symbol||"",F=s?` ${c.BALANCE_HIDDEN_TEXT}`:` ${x} ${g?g.data.symbol:""}`,C=(0,r.useCallback)((e=>{const t=(0,u.formatTokenAmountInputs)(e.substring(0,o.MOBILE_SWAP_INPUT_MAX_LENGTH)),n=(0,u.formatTokenAmountToMaxDecimals)(t,E);w(n),b(n)}),[E,b,w]),R=(0,r.useCallback)((()=>{C(x.toString())}),[x,C]),M=(0,r.useMemo)((()=>{if(g)return y.find((e=>(0,d.areAssetsEqual)(e,g)))}),[y,g]);return(0,r.useEffect)((()=>{M&&M.data.amount!==T&&S(M)}),[M,T,S]),{assetButtonTitle:I,decimals:E,formattedMaxSellAmount:F,iconUrl:P,notEnoughAssets:k,uiSellAmount:h,setMaxSellAmount:R,updateSellAmount:C}}})),s.register("eOCBr",(function(t,n){e(t.exports,"useSwapSellAssetsList",(function(){return c}));var r=s("29o0l"),o=s("3YDVy"),i=s("iTQ0V"),a=s("2JxpK"),u=s("30Tum");function c(e){const{data:t,error:n,isFetching:s}=(0,o.useSPLAssets)(e),c=(0,i.useSwapperStore)((e=>e.sellAsset));return{data:(0,r.useMemo)((()=>{if(c){const e=t.findIndex((e=>(0,a.areAssetsEqual)(e,c))),n=t[e];n&&n.data.amount!==c.data.amount&&(t[e]=c)}return t.filter((e=>(0,u.canSellAsset)(e)))}),[t,c]),isError:!!n,isFetching:s}}})),s.register("kWcVJ",(function(t,n){e(t.exports,"useMultichainSolanaOnlyInitialAssets",(function(){return s("eJ9RF").useInitialAssets})),e(t.exports,"useMultichainSolanaOnlySwapBuyAssetProps",(function(){return s("Q8nC5").useSwapBuyAssetProps})),e(t.exports,"useMultichainSolanaOnlySwapConfirmationProps",(function(){return s("hF21C").useSwapConfirmationProps})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetProps",(function(){return s("dnhR2").useSwapSellAssetProps})),e(t.exports,"useMultichainSolanaOnlySubscribeSwapQuoteToQueries",(function(){return s("kebWb").useSubscribeSwapQuoteToQueries})),e(t.exports,"useMultichainSolanaOnlySwapSellAssetsList",(function(){return s("bs4Iw").useSwapSellAssetsList})),e(t.exports,"useMultichainSolanaOnlySwapSetSellAsset",(function(){return s("fqZNa").useSwapSetSellAsset})),e(t.exports,"createSwapperHooks",(function(){return s("66XDV").createSwapperHooks})),e(t.exports,"useMultichainSolanaOnlyFetchSwapBuyAssetsList",(function(){return s("2KM9o").useFetchSwapBuyAssetsList})),e(t.exports,"useMultichainSolanaOnlySwapSetBuyAsset",(function(){return s("8SSTF").useSwapSetBuyAsset})),e(t.exports,"useMultichainSolanaOnlySwapReviewButtonProps",(function(){return s("cPAiA").useSwapReviewButtonProps})),e(t.exports,"useMultichainSolanaOnlySwapReviewProps",(function(){return s("eJopq").useSwapReviewProps})),e(t.exports,"useMultichainSolanaOnlySwapCardProps",(function(){return s("k83sM").useSwapCardProps}));s("eJ9RF"),s("Q8nC5"),s("hF21C"),s("dnhR2"),s("kebWb"),s("bs4Iw"),s("fqZNa"),s("66XDV"),s("2KM9o"),s("8SSTF"),s("cPAiA"),s("eJopq"),s("k83sM")})),s.register("eJ9RF",(function(t,n){e(t.exports,"useInitialAssets",(function(){return a}));var r=s("29o0l"),o=s("2UOPE"),i=s("iTQ0V");function a({fungibleHooks:e,accountIdentifier:t}){const{fungibles:n}=e.useFungibles({accountId:t}),s=(0,i.useSwapperStore)((e=>e.setBuyFungible)),a=(0,i.useSwapperStore)((e=>e.setSellFungible));(0,r.useEffect)((()=>{const e=new Map(n.map((e=>[e.data.key,e]))),t=o.INITIAL_SELL_FUNGIBLE.data.key,r=o.INITIAL_BUY_FUNGIBLE.data.key,i=e.get(t)||o.INITIAL_SELL_FUNGIBLE,u=e.get(r)||o.INITIAL_BUY_FUNGIBLE;a(i),s(u)}),[])}})),s.register("Q8nC5",(function(t,n){e(t.exports,"useSwapBuyAssetProps",(function(){return d}));var r=s("29o0l"),o=s("Nt4tV"),i=s("2UOPE"),a=s("iX5lP"),u=s("iTQ0V"),c=s("8SSTF"),l=s("fqZNa");function d(e){var t;const n=(0,u.useSwapperStore)((e=>e.sellFungible)),s=(0,u.useSwapperStore)((e=>e.buyFungible)),d=(0,u.useSwapperStore)((e=>e.isFetchingQuote)),p=(0,u.useSwapperStore)((e=>e.setSellAmount)),f=(0,u.useSwapperStore)((e=>e.setUiSellAmount)),y=(0,l.useSwapSetSellAsset)(e),g=(0,c.useSwapSetBuyAsset)(e),{currentQuote:m,quote:h}=(0,a.useQuote)(),v=String(m&&h?(0,o.amountToFormattedAmount)(m.buyAmount,h.buyToken.decimals):""),S=null!==(t=null==s?void 0:s.data.decimals)&&void 0!==t?t:0,w=s&&s.data.logoUri?s.data.logoUri:i.INITIAL_BUY_ASSET.data.logoURI||"",A=s&&s.data.symbol?s.data.symbol:i.INITIAL_BUY_ASSET.data.symbol||"",b=(0,r.useCallback)((()=>{p(v),f(v),s&&y(s),n&&g(n)}),[p,v,f,s,n,y,g]);return{assetButtonTitle:A,buyAmount:v,decimals:S,iconUrl:w,isFetchingQuote:d,onSwitchTokens:b}}})),s.register("8SSTF",(function(t,n){e(t.exports,"useSwapSetBuyAsset",(function(){return a}));var r=s("29o0l"),o=s("iTQ0V"),i=s("j5sRo");function a(e){const t=(0,o.useSwapperStore)((e=>e.setBuyFungible));return(0,r.useCallback)((n=>{const r=(0,i.getAnalyticsAsset)(n);e.capture("swapperUpdateToAsset",{asset:r}),t(n)}),[e,t])}})),s.register("j5sRo",(function(t,n){e(t.exports,"getAnalyticsAsset",(function(){return i}));var r=s("5slFC"),o=s("hRUHU");function i(e){return{chain:o.Chain.Solana,type:"fungible",address:e.type===r.FungibleTokenType.SPL?e.data.mintAddress:void 0,symbol:e.data.symbol}}})),s.register("fqZNa",(function(t,n){e(t.exports,"useSwapSetSellAsset",(function(){return u}));var r=s("29o0l"),o=s("iTQ0V"),i=s("2REEw"),a=s("j5sRo");function u(e){const t=(0,o.useSwapperStore)((e=>e.buyFungible)),n=(0,o.useSwapperStore)((e=>e.sellFungible)),s=(0,o.useSwapperStore)((e=>e.setBuyFungible)),u=(0,o.useSwapperStore)((e=>e.setSellFungible));return(0,r.useCallback)((r=>{const o=(0,a.getAnalyticsAsset)(r);e.capture("swapperUpdateToAsset",{asset:o}),u(r),t&&n&&(0,i.areFungiblesEqual)(r,t)&&s(n)}),[e,t,n,s,u])}})),s.register("2REEw",(function(t,n){function r(e,t){return e.data.key===t.data.key}e(t.exports,"areFungiblesEqual",(function(){return r}))})),s.register("hF21C",(function(t,n){e(t.exports,"useSwapConfirmationProps",(function(){return w}),(function(e){return w=e}));var r=s("hcj6g"),o=s("43063"),i=s("7gANb"),a=s("29o0l"),u=s("lvcyB"),c=s("Nt4tV"),l=s("guHTU"),d=s("lgcfo"),p=s("UWzy4"),f=s("iX5lP"),y=s("3pIvT"),g=s("iTQ0V");s("f2tU6");var m=s("huZwj"),h=s("4MdgS"),v=s("lC3AP"),S=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function w({accountIdentifier:e,senderAddress:t,analytics:n,connection:s,explorer:w,isLedger:A,splAssetsArgs:b,solanaPrice:T,onError:E,swapperHooks:x,fungibleHooks:k,chainAddresses:P}){var I,F;const{t:C}=(0,o.useTranslation)(),{cluster:R}=b,{currentQuote:M,quote:L}=(0,f.useQuote)(),N=(0,g.useSwapperStore)((e=>e.sellFungible)),O=(0,g.useSwapperStore)((e=>e.buyUsdValue)),U=(0,g.useSwapperStore)((e=>e.sellUsdValue)),D=(0,g.useSwapperStore)((e=>e.setSellFungible)),_=(0,g.useSwapperStore)((e=>e.resetSwapper)),B=(0,p.useProvider)(null==M?void 0:M.sources),q=(0,d.useAnalyticsPayload)({buyToken:null==L?void 0:L.buyToken,sellToken:null==L?void 0:L.sellToken,buyAmount:null==M?void 0:M.buyAmount,sellAmount:null==M?void 0:M.sellAmount,phantomFee:null==M?void 0:M.fees.phantomFee.amount,priceImpact:null==M?void 0:M.priceImpact,provider:B,buyAssetUsdValue:O,sellAssetUsdValue:U}),V=null==L?void 0:L.sellToken.symbol,j=null==L?void 0:L.buyToken.symbol,Q=(0,c.amountToUiAmount)(null==M?void 0:M.sellAmount,null!==(I=null==L?void 0:L.sellToken.decimals)&&void 0!==I?I:0),K=(0,c.amountToUiAmount)(null==M?void 0:M.buyAmount,null!==(F=null==L?void 0:L.buyToken.decimals)&&void 0!==F?F:0),[G,W]=(0,a.useState)(),H=R&&G?(0,l.generateTxExplorerUrl)(G,R,w):"",z=(null==M?void 0:M.transactionData.length)||0,[$,J]=(0,a.useState)("loading"),Y="success"===$,X="failure"===$,[Z,ee]=(0,a.useState)(void 0),{notEnoughSol:te,txErrorMessage:ne}=(0,y.useSwapError)(Z),re=(0,a.useMemo)((()=>{var e;return{ownerAddress:null!==(e=null==t?void 0:t.address)&&void 0!==e?e:"",chainID:null==t?void 0:t.chainId,data:{signature:""},type:i.PendingTransactionType.Swap,display:{summary:{topLeft:{label:`${C("transactionsPendingSwapping")} on ${B}`},topRight:{label:`${K} ${j}`,color:"#21E56F"},bottomLeft:{label:`${V} ${String.fromCharCode(8594)} ${j}`},bottomRight:{label:`${Q} ${V}`}}}}}),[K,j,B,Q,V,t,C]),oe=(0,a.useMemo)((()=>new(0,i.PriorityFeeService)(n)),[n]),{data:ie}=(0,v.usePriorityTransactions)(M,oe,s,T),{mutateAsync:se}=x.useSwapFungibles(null!=s?s:(0,u.createConnection)("mainnet-beta")),ae=(0,a.useCallback)((()=>S(this,void 0,void 0,(function*(){var o;if(J("loading"),W(void 0),ee(void 0),!M)throw new Error("Trying to execute swap with no current quote");if(!s)throw new Error("Trying to execute swap with no connection.");try{const i=null!==(o=null==ie?void 0:ie.priorityTxs)&&void 0!==o?o:[],s=yield se({chainType:r.ChainType.Solana,accountIdentifier:e,senderAddress:t,enrichedTransactions:i,pendingTransactionInput:re});W(s.signature),J("success"),n.capture("swapperSwapSuccess",q),_(),(0,h.updateSellFungibleAmount)({sellAmount:M.sellAmount,sellFungible:N,setSellFungible:D}),k.invalidateTokens(P)}catch(e){console.error(e);const t=(0,m.parseSwapError)(e);J("failure"),ee(t),E&&E(t),n.capture("swapperSwapFailure",q)}}))),[M,s,se,e,t,re,n,q,_,N,D,k,P,E,null==ie?void 0:ie.priorityTxs]),ue=(0,a.useCallback)((()=>{(()=>{S(this,void 0,void 0,(function*(){yield ae()}))})()}),[ae]);return{buyAssetSymbol:j,isSuccess:Y,isFailure:X,isLedger:A,notEnoughSol:te,txError:Z,txErrorMessage:ne,txLink:H,executeSwap:ue,resetSwapper:_,useExecuteSwapOnMount:()=>{(0,a.useEffect)((()=>{A||ue()}),[])},numberOfTransactions:z}}})),s.register("4MdgS",(function(t,n){function r({sellAmount:e,sellFungible:t,setSellFungible:n}){if(t&&e){const r=Object.assign({},t);r.data.amount=String(Number(t.data.amount)-Number(e)),n(r)}}e(t.exports,"updateSellFungibleAmount",(function(){return r}))})),s.register("lC3AP",(function(t,n){e(t.exports,"usePriorityTransactions",(function(){return y}),(function(e){return y=e}));var r=s("hcj6g"),o=s("hMVEP"),i=s("csW2r"),a=s("7gANb"),u=s("5ekp2");s("c6eRZ");var c=s("h8AIo");s("f2tU6");var l=s("azr2P"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const p="swap-priority-fee",f=(e,t,n)=>d(void 0,void 0,void 0,(function*(){const r=(0,o.transactionStringToTransaction)(e,"bs58"),i=yield t.addPriorityFee(r,{connection:n,transactionType:a.TransactionTypeValue.Swap,calculators:{budget:new(0,a.StaticLimitCalculator)(a.COMPUTE_UNIT_LIMIT)}});return{priorityTx:i,networkFeeEstimation:yield(0,a.estimateFeeFromMessage)(n,i.message)}}));function y(e,t,n,o){const{networkFeeInCurrencyFormatted:s,totalFeesInCurrencyFormatted:y}=(0,c.useTotalFees)(e,o),g=[p,e];return(0,u.useQuery)({queryKey:g,queryFn:()=>d(this,void 0,void 0,(function*(){if(!e)throw new Error("Trying to execute swap with no current quote");if(!n)throw new Error("Trying to execute swap with no connection.");const{transactionData:u,fees:c}=e,{serumAccountDeposits:d,tokenAccountDeposits:p}=c;try{const e=u.map((e=>f(e,t,n))),i=yield Promise.all(e),s=i.map((e=>a.TransactionSerializationUtils.serialize(e.priorityTx).transaction)),c=i.map((e=>e.networkFeeEstimation.value)).reduce(((e,t)=>e+t)),y=c+d.amount+p.amount,g=(0,l.formatFee)(c,o),m=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:c}),h=null!=g?g:m,v=(0,l.formatFee)(y,o),S=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:y});return{priorityTxs:s,networkFeeWithPriority:h,totalFeesWithPriority:null!=v?v:S}}catch(e){return i.telemetry.captureError(e,i.FeatureTag.Transaction),{priorityTxs:u,networkFeeWithPriority:s,totalFeesWithPriority:y}}})),enabled:!!e&&!!n})}})),s.register("dnhR2",(function(t,n){e(t.exports,"useSwapSellAssetProps",(function(){return f}));var r=s("29o0l"),o=s("9CoSy"),i=s("m2d5Y"),a=s("Nt4tV"),u=s("2UOPE"),c=s("iTQ0V"),l=s("2REEw"),d=s("9XJOV");const p=500;function f({fungibleHooks:e,accountIdentifier:t,isBalanceHidden:n}){const s=(0,c.useSwapperStore)((e=>e.sellFungible)),f=(0,c.useSwapperStore)((e=>e.sellAmount)),y=(0,c.useSwapperStore)((e=>e.uiSellAmount)),g=(0,c.useSwapperStore)((e=>e.setSellAmount)),m=(0,c.useSwapperStore)((e=>e.setSellFungible)),h=(0,c.useSwapperStore)((e=>e.setUiSellAmount)),v=null==s?void 0:s.data.key,{fungibles:S}=e.useFungibles({accountId:t,showHiddenMints:!1,keys:v?[v]:void 0}),[w,A]=(0,i.useDebouncedChangeHandler)(f,g,p),b=null==s?void 0:s.data.amount,T=s?s.data.decimals:0,E=(0,d.getMaxSellAmount)(s),x=Number(null!=f?f:0)>E,k=s&&s.data.logoUri?s.data.logoUri:u.INITIAL_SELL_FUNGIBLE.data.logoUri||"",P=s&&s.data.symbol?s.data.symbol:u.INITIAL_SELL_FUNGIBLE.data.symbol||"",I=n?` ${u.BALANCE_HIDDEN_TEXT}`:` ${E} ${s?s.data.symbol:""}`,F=(0,r.useCallback)((e=>{const t=(0,a.formatTokenAmountInputs)(e.substring(0,o.MOBILE_SWAP_INPUT_MAX_LENGTH)),n=(0,a.formatTokenAmountToMaxDecimals)(t,T);h(n),A(n)}),[T,A,h]),C=(0,r.useCallback)((()=>{F(E.toString())}),[E,F]),R=(0,r.useMemo)((()=>{if(s)return S.find((e=>(0,l.areFungiblesEqual)(e,s)))}),[S,s]);return(0,r.useEffect)((()=>{R&&R.data.amount!==b&&m(R)}),[R,b,m]),{assetButtonTitle:P,decimals:T,formattedMaxSellAmount:I,iconUrl:k,notEnoughAssets:x,uiSellAmount:y,setMaxSellAmount:C,updateSellAmount:F}}})),s.register("kebWb",(function(t,n){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return l}));var r=s("5slFC"),o=s("29o0l"),i=s("9CoSy"),a=s("Nt4tV"),u=s("dsDYC"),c=s("iTQ0V");function l(e){const t=(0,c.useSwapperStore)((e=>e.sellAmount)),n=(0,c.useSwapperStore)((e=>e.buyFungible)),s=(0,c.useSwapperStore)((e=>e.sellFungible)),l=(0,c.useSwapperStore)((e=>e.resetQuote)),d=(0,c.useSwapperStore)((e=>e.setHasNoRoutes)),p=(0,c.useSwapperStore)((e=>e.setIsFetchingQuote)),f=(0,c.useSwapperStore)((e=>e.setQuote)),y=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),g=s&&s.type===r.FungibleTokenType.SPL?s.data.mintAddress:i.WRAPPED_SOLANA.address,m=n&&n.type===r.FungibleTokenType.SPL?n.data.mintAddress:i.WRAPPED_SOLANA.address,h=(0,o.useMemo)((()=>parseFloat(t)>0&&s?String((0,a.uiAmountToAmount)(t,s.data.decimals)):(l(),"")),[l,t,s]),{data:v,isError:S,isFetching:w}=(0,u.useFetchSwapQuote)({sellAmount:h,sellTokenMint:g,buyTokenMint:m,publicKey:e}),A=(0,o.useCallback)((e=>{e.quotes.sort(((e,t)=>parseInt(t.buyAmount)-parseInt(e.buyAmount))),y(0),p(!1),d(!1),f(e)}),[d,p,f,y]),b=(0,o.useCallback)((()=>{l(),p(!1),d(!0)}),[l,d,p]);(0,o.useEffect)((()=>{w?p(!0):v?A(v):S&&b()}),[S,v,w,A,b,p])}})),s.register("bs4Iw",(function(t,n){e(t.exports,"useSwapSellAssetsList",(function(){return c}));var r=s("hcj6g"),o=s("29o0l"),i=s("iTQ0V"),a=s("2REEw"),u=s("30Tum");function c(e,t){const{fungibles:n,isErrorTokens:s,isLoadingTokens:c}=e.useFungibles({accountId:t,showHiddenMints:!1}),l=n.filter((e=>(0,r.isSolanaChainID)(e.data.chain.id))),d=(0,i.useSwapperStore)((e=>e.sellFungible));return{data:(0,o.useMemo)((()=>{if(d){const e=l.findIndex((e=>(0,a.areFungiblesEqual)(e,d))),t=l[e];t&&t.data.amount!==d.data.amount&&(l[e]=d)}return l.filter((e=>(0,u.canSellAsset)(e)))}),[l,d]),isError:!!s,isFetching:c}}})),s.register("66XDV",(function(t,n){e(t.exports,"createSwapperHooks",(function(){return o}));var r=s("6lzpa");function o(e){return{useSwapFungibles:t=>(0,r.useSwapFungibles)(e,t)}}})),s.register("6lzpa",(function(t,n){e(t.exports,"useSwapFungibles",(function(){return d}),(function(e){return d=e}));var r=s("hcj6g"),o=s("hMVEP"),i=s("7gANb"),a=s("9W7fs"),u=s("bQvNK"),c=s("gndyZ"),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const d=(e,t)=>{const{mutateAsync:n}=e.useSignAndSendSolanaTransactionAsync(t);return(0,a.useMutation)({mutationFn:({chainType:e,accountIdentifier:s,senderAddress:a,enrichedTransactions:d,pendingTransactionInput:p})=>l(void 0,void 0,void 0,(function*(){if(!t)throw i.MissingConnectionError;if(!a)throw c.MissingSenderAddressError;if((0,r.getChainType)(a.chainId)!==e)throw i.IncompatibleChainIDError;const{chainId:l}=a;let f;if(!(0,r.isSolanaChainID)(l))throw i.IncompatibleChainIDError;if(0===d.length)throw c.MissingTransactionsError;const y=new(0,o.PublicKey)(a.address),g=yield(0,u.getLatestBlockhash)(t,"confirmed");for(const e of d){const r=(0,o.transactionStringToTransaction)(e,"bs58");if((0,o.setRecentBlockhash)(r,g),f=yield n({accountIdentifier:s,feePayer:y,transaction:r,pendingTransactionInput:p,opts:{skipPreflight:!0}}),!f)throw c.MissingSignatureError;yield(0,u.waitForTransactionConfirmationAsync)(t,f)}return{chainID:l,signature:null!=f?f:""}}))})}})),s.register("gndyZ",(function(t,n){e(t.exports,"MissingSenderAddressError",(function(){return r})),e(t.exports,"MissingSignatureError",(function(){return o})),e(t.exports,"MissingTransactionsError",(function(){return i}));const r=new Error("Missing sender address for swapping fungibles."),o=new Error("Missing signature from swapping fungibles."),i=new Error("Missing transactions for swapping fungibles.")})),s.register("2KM9o",(function(t,n){e(t.exports,"useFetchSwapBuyAssetsList",(function(){return y}),(function(e){return y=e}));var r=s("5slFC"),o=s("8LmIR"),i=s("5ekp2"),a=s("29o0l"),u=s("9CoSy"),c=s("2UOPE"),l=s("iTQ0V");s("f2tU6");var d=s("7NBkj"),p=s("DB3Na"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function y(e,t){const{owner:n}=t,s=(0,a.useMemo)((()=>new Map(e.map((e=>[e.data.key,e])))),[e]),y=(0,l.useSwapperStore)((e=>e.sellFungible)),g=y&&y.type===r.FungibleTokenType.SPL?y.data.mintAddress:u.WRAPPED_SOLANA.address,m=!!g&&!!e,h=["fetch-swap-to-assets-list",g];return(0,i.useQuery)({enabled:m,queryKey:h,queryFn:function(){return f(this,void 0,void 0,(function*(){const e=yield(0,d.getSwapPairsAsync)([g]),t=[],i=e[g],{length:a}=i;for(let e=0;e<a;e++){const o=i[e],a=o.mint===u.WRAPPED_SOLANA.address&&c.SHOULD_UNWRAP_WRAPPED_SOL?r.FungibleTokenType.SolanaNative:o.mint;let l;const d=s.get(a),f=void 0!==d&&d.type===r.FungibleTokenType.SPL&&""!==d.data.splTokenAccountPubkey,y=void 0!==d&&d.type===r.FungibleTokenType.SolanaNative;l=f||y?d:(0,p.swapPairsAssetInfoToFungible)(o,n),l&&t.push(l)}return e?t.sort(o.compareFungibles):[]}))}})}})),s.register("DB3Na",(function(t,n){e(t.exports,"swapPairsAssetInfoToFungible",(function(){return a}));var r=s("hcj6g"),o=s("5slFC");const i={id:r.ChainID.SolanaMainnet,imageUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",symbol:"SOL"},a=(e,t)=>{var n;return e.decimals&&e.name&&e.symbol?{type:o.FungibleTokenType.SPL,data:{amount:"0",balance:0,chain:i,coingeckoId:null,decimals:e.decimals,key:e.mint,logoUri:null!==(n=e.imageUrl)&&void 0!==n?n:null,mintAddress:e.mint,name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:e.mint,walletAddress:t}}:null}})),s.register("cPAiA",(function(t,n){e(t.exports,"useSwapReviewButtonProps",(function(){return d}));var r=s("5slFC"),o=s("29o0l"),i=s("Nt4tV"),a=s("iX5lP"),u=s("h8AIo"),c=s("iTQ0V"),l=s("9XJOV");function d({accountHooks:e,fungibleHooks:t}){var n;const{currentQuote:s}=(0,a.useQuote)(),d=(0,c.useSwapperStore)((e=>e.hasNoRoutes)),p=(0,c.useSwapperStore)((e=>e.sellFungible)),f=(0,c.useSwapperStore)((e=>e.sellAmount)),y=(0,l.getMaxSellAmount)(p),{data:g}=e.useSelectedMultiChainAccount(),{fungibles:m=[]}=t.useFungibles({accountId:null!==(n=null==g?void 0:g.identifier)&&void 0!==n?n:"",showHiddenMints:!1}),h=(0,o.useMemo)((()=>m.find((e=>e.data.key===r.FungibleTokenType.SolanaNative))),[m]),{totalFeesInLamports:v=0}=(0,u.useTotalFees)(s,null==h?void 0:h.data),S=(0,o.useMemo)((()=>{var e;return(null!==(e=null==h?void 0:h.data.balance)&&void 0!==e?e:0)<(0,i.lamportsToSolana)(v)}),[null==h?void 0:h.data.balance,v]),w=Number(f)<=y;return{canSwap:!!s&&w&&!d,hasEnoughAssets:w,hasNoRoutes:d,hasNoFundsForFees:S}}})),s.register("eJopq",(function(t,n){e(t.exports,"useSwapReviewProps",(function(){return d}));var r=s("5slFC"),o=s("29o0l"),i=s("9CoSy"),a=s("dY6gO"),u=s("Nt4tV"),c=s("iX5lP"),l=s("iTQ0V");function d(e){var t,n;const s=(0,l.useSwapperStore)((e=>e.buyFungible)),d=(0,l.useSwapperStore)((e=>e.sellFungible)),p=(0,l.useSwapperStore)((e=>e.sellAmount)),f=(0,l.useSwapperStore)((e=>e.setBuyUsdValue)),y=(0,l.useSwapperStore)((e=>e.setSellUsdValue)),g=[null!==(t=null==s?void 0:s.data.coingeckoId)&&void 0!==t?t:"",null!==(n=null==d?void 0:d.data.coingeckoId)&&void 0!==n?n:""],m=e.usePrices([{type:"id",data:g}]).reduce(((e,t)=>Object.assign(Object.assign({},e),t.data)),{}),{currentQuote:h,quote:v}=(0,c.useQuote)(),S=(0,o.useCallback)(((e,t)=>{if(void 0!==t)return e.type===r.FungibleTokenType.SolanaNative?t[i.SOLANA_COINGECKO_ID]:e.type===r.FungibleTokenType.SPL&&a.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]?t[a.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]]:e.type===r.FungibleTokenType.SPL?t[e.data.mintAddress]:void 0}),[]);return(0,o.useMemo)((()=>{let e="",t="",n="",r="";if(!v||!s||!d)return{sellAmountText:n,sellAmountUsdText:r,buyAmountText:e,buyAmountUsdText:t};const{buyToken:o,sellToken:i}=v,{buyAmount:a}=h,c=(0,u.amountToUiAmount)(a,v.buyToken.decimals),l=Number(p),g=String(c).split(".")[0].length,w=p.split(".")[0].length,A=o.symbol.length,b=i.symbol.length,T=g&&A?g+A:0,E=w&&b?w+b:0;n=`${(0,u.formatTokenAmountForReviewScreen)(l,E)} ${i.symbol}`,e=`${(0,u.formatTokenAmountForReviewScreen)(c,T)} ${o.symbol}`;const x=S(s,m),k=S(d,m);if(null==x?void 0:x.usd){const e=c*x.usd;t=`$${(0,u.formatTokenAmount)(e)}`,f(x.usd)}if(null==k?void 0:k.usd){const e=l*k.usd;r=`$${(0,u.formatTokenAmount)(e)}`,y(k.usd)}return{sellAmountText:n,sellAmountUsdText:r,buyAmountText:e,buyAmountUsdText:t}}),[v,s,d,h,p,f,y,S,m])}})),s.register("k83sM",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return p}));var r=s("7gANb"),o=s("29o0l"),i=s("I4BHf"),a=s("8IOCk"),u=s("4xLuU"),c=s("UWzy4"),l=s("iX5lP"),d=s("lC3AP");function p(e,t,n){var s,p;const{bestBuyAmount:f,currentQuote:y,hasNoRoutes:g,quote:m}=(0,l.useQuote)(),h=(0,i.useExchangeRate)(f,m,y),v=(0,u.usePriceImpact)(null==y?void 0:y.priceImpact),S=(0,c.useProvider)(null==y?void 0:y.sources),w=(0,a.usePhantomFee)(null==y?void 0:y.fees),A=(0,o.useMemo)((()=>new(0,r.PriorityFeeService)(e)),[e]),{data:b,isFetching:T}=(0,d.usePriorityTransactions)(y,A,t,n);return{exchangeRate:h,hasNoRoutes:g,phantomFee:w,priceImpact:v,provider:S,quote:m,networkFee:null!==(s=null==b?void 0:b.networkFeeWithPriority)&&void 0!==s?s:"",totalFees:null!==(p=null==b?void 0:b.totalFeesWithPriority)&&void 0!==p?p:"",isFetchingSwapFee:T}}})),s.register("kvuQ4",(function(e,t){})),s.register("kiMda",(function(t,n){e(t.exports,"createSwapperMultichainHooks",(function(){return p}));var r=s("l7Y64"),o=s("j3ma1"),i=s("fz9J3"),a=s("9gwVO"),u=s("8vAsr"),c=s("ipDsT"),l=s("5WhLj"),d=s("5Soz0");function p(e,t,n,s,p,f,y,g){return{useSwapPairs:e=>(0,o.useSwapPairs)(e,n),useSwapQuotes:(e,t,r,o,s)=>(0,i.useSwapQuotes)(e,t,r,o,s,n),useSwapCardProps:(e,t)=>(0,a.useSwapCardProps)(s,n,e,t),useSwapProvidersProps:()=>(0,c.useSwapProvidersProps)(n),useSwapReviewProps:()=>(0,d.useSwapReviewProps)(n,p),useSwapReviewButtonProps:()=>(0,l.useSwapReviewButtonProps)(y,f),useSwapConfirmationProps:(n,r,o,i)=>(0,u.useSwapConfirmationProps)({accountProxy:e,storage:t,accountIdentifier:n,chainAddresses:r,isLedger:o,onError:i,fungibleHooks:f,priceHooks:p,settingsHooks:g,analytics:s}),useMultichainSwapFungibles:(n,o)=>(0,r.useMultichainSwapFungibles)({accountProxy:e,storage:t,accountIdentifier:n,chainId:o})}}})),s.register("l7Y64",(function(t,n){e(t.exports,"useMultichainSwapFungibles",(function(){return c}),(function(e){return c=e}));var r=s("hcj6g"),o=s("9W7fs"),i=s("5e414"),a=s("9SFZy"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=({accountIdentifier:e,chainId:t,accountProxy:n,storage:s})=>(0,o.useMutation)({mutationFn:o=>u(void 0,void 0,void 0,(function*(){const u=o.type;if(u===r.ChainType.Ethereum){const{callerAddress:r,exchangeAddress:a,sellTokenAddress:c,sellAmount:l,transactionData:d,gasEstimation:p,pendingApprovalActivityRows:f,pendingSwapActivityRows:y}=o,g=yield(0,i.swapTransactionEvm)({callerAddress:r,exchangeAddress:a,sellTokenAddress:c,sellAmount:l,chainId:t,transactionData:d,gasEstimation:p,pendingSwapActivityRows:y,pendingApprovalActivityRows:f,accountIdentifier:e,accountProxy:n,storage:s});return{chainID:t,chainType:u,transactionHash:g}}if(u===r.ChainType.Solana){const{callerAddress:r,connection:i,transactions:c,pendingSwapActivityRows:l}=o,d=yield(0,a.swapTransactionSolana)({callerAddress:r,connection:i,chainId:t,transactions:c,pendingSwapActivityRows:l,accountIdentifier:e,accountProxy:n,storage:s});return{chainID:t,chainType:u,signature:d}}throw new Error("unsupported")}))})})),s.register("5e414",(function(t,n){e(t.exports,"swapTransactionEvm",(function(){return c}),(function(e){return c=e}));var r=s("hcj6g"),o=s("cFUcx"),i=s("7gANb"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=({chainId:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:r,accountProxy:o,storage:s})=>({accountProxy:o,accountIdentifier:r,chainID:e,unsignedTransaction:t,callPayload:{from:t.from,to:t.to,data:t.data},pendingTransactionInput:{ownerAddress:t.from,chainID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:i.PendingTransactionType.Swap,display:{summary:n}},storage:s}),c=({callerAddress:e,exchangeAddress:t,sellTokenAddress:n,sellAmount:s,chainId:c,transactionData:l,gasEstimation:d,pendingApprovalActivityRows:p,pendingSwapActivityRows:f,accountIdentifier:y,accountProxy:g,storage:m})=>a(void 0,void 0,void 0,(function*(){if((yield(0,i.getERC20Allowance)({callerAddress:e,spender:t,chainId:c,contractAddress:n})).lt(s)){const r=yield(0,i.getERC20Approval)({callerAddress:e,spender:t,chainId:c,contractAddress:n,gasEstimation:d}),o=u({chainId:c,accountIdentifier:y,pendingActivityRows:p,accountProxy:g,storage:m,unsignedTransaction:r});yield(0,i.signAndSendEthereumTransactionAsync)(o)}const a=o.EthUnsignedTransactionObject.parse({type:o.TransactionTypes.eip1559,from:e,data:l,chainId:(0,r.getEthereumChainID)(c),to:t,gas:`0x${d.gasLimit.toString(16)}`,maxFeePerGas:`0x${d.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${d.maxPriorityFeePerGas.toString(16)}`}),h=u({chainId:c,accountIdentifier:y,pendingActivityRows:f,accountProxy:g,storage:m,unsignedTransaction:a});return(0,i.signAndSendEthereumTransactionAsync)(h)}))})),s.register("9SFZy",(function(t,n){e(t.exports,"swapTransactionSolana",(function(){return c}),(function(e){return c=e}));var r=s("hMVEP"),o=s("7gANb"),i=s("bQvNK"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=({chainId:e,transaction:t,feePayer:n,connection:r,pendingActivityRows:i,accountIdentifier:s,accountProxy:a,storage:u})=>({accountProxy:a,accountIdentifier:s,transaction:t,feePayer:n,connection:r,opts:{skipPreflight:!0},pendingTransactionInput:{ownerAddress:n.toBase58(),chainID:e,data:{signature:""},type:o.PendingTransactionType.Swap,display:{summary:i}},storage:u}),c=({callerAddress:e,connection:t,chainId:n,transactions:s,pendingSwapActivityRows:c,accountIdentifier:l,accountProxy:d,storage:p})=>a(void 0,void 0,void 0,(function*(){const a=new(0,r.PublicKey)(e),f=(yield t.getLatestBlockhash("confirmed")).blockhash;let y;for(const e of s){const s=(0,r.transactionStringToTransaction)(e,"bs58");(0,r.setRecentBlockhash)(s,f);const g=u({chainId:n,transaction:s,feePayer:a,connection:t,pendingActivityRows:c,accountIdentifier:l,accountProxy:d,storage:p});y=yield(0,o.signAndSendSolanaTransactionAsync)(g),yield(0,i.waitForTransactionConfirmationAsync)(t,y)}return null!=y?y:""}))})),s.register("j3ma1",(function(t,n){e(t.exports,"useSwapPairs",(function(){return l}),(function(e){return l=e}));var r=s("csW2r"),o=s("5ekp2"),i=s("kA1kJ"),a=s("dOGoW"),u=s("6BFZj"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,t)=>(0,o.useQuery)({queryKey:a.swapperQueryKeys.pairs(e),cacheTime:u.CacheTime.Medium,staleTime:u.StaleTime.Long,refetchInterval:u.RefetchInterval.Short,onError(e){e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper)},queryFn({queryKey:[,,{sellToken:e}]}){return c(this,void 0,void 0,(function*(){const n=t();return(0,i.getSwapPairs)(n,e)}))}})})),s.register("kA1kJ",(function(n,r){e(n.exports,"getSwapPairs",(function(){return c}),(function(e){return c=e}));var o=s("1LpD3"),i=s("1m0w7"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch pairs for token");function c(e,n){return a(this,void 0,void 0,(function*(){try{const r=`${e}/swap/v2/pairs`,s=yield t(o)(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokens:[n],includeMetadata:!0})});if(!s.ok)throw u;const a=yield s.json();if(!a.tokens)throw u;return(0,i.parseSwapPairsResponse)(a.tokens)}catch(e){throw u}}))}})),s.register("1m0w7",(function(t,n){e(t.exports,"parseSwapPairsResponse",(function(){return i}));var r=s("1cPb8"),o=s("iixDX");const i=e=>{var t;const n=[],i=Object.keys(e)[0];if(r.BRI.safeParse(i).success){(null!==(t=e[i])&&void 0!==t?t:[]).forEach((e=>{const t=o.SwapToken.safeParse(e);t.success&&n.push(t.data)}))}return n}})),s.register("iixDX",(function(t,n){e(t.exports,"SwapToken",(function(){return i})),e(t.exports,"SolanaQuoteResponse",(function(){return g})),e(t.exports,"EvmQuoteNetworkResponse",(function(){return m})),e(t.exports,"QuoteType",(function(){return v}));var r=s("7XqVB");const o=r.z.object({coingeckoId:r.z.optional(r.z.string())}),i=r.z.object({chainId:r.z.number(),address:r.z.string(),name:r.z.string(),symbol:r.z.string(),decimals:r.z.number(),logoURI:r.z.string(),extensions:r.z.optional(o)}),a=r.z.object({amount:r.z.number(),token:r.z.string(),pct:r.z.optional(r.z.number())}),u=r.z.object({phantomFee:a,feeSummaryByToken:r.z.record(r.z.number()),networkFees:a,tokenAccountDeposits:a,serumAccountDeposits:a}),c=r.z.object({name:r.z.string(),sellToken:r.z.string(),buyToken:r.z.string(),sellAmount:r.z.string(),buyAmount:r.z.string(),priceImpact:r.z.number(),fees:r.z.object({platformFee:a,lpFee:a})}),l=r.z.object({name:r.z.string(),proportion:r.z.string()}),d=r.z.object({buyAmount:r.z.string(),sellAmount:r.z.string(),priceImpact:r.z.number()}),p=d.extend({fees:u,sources:r.z.array(c),transactionData:r.z.array(r.z.string())}),f=d.extend({sources:r.z.array(l),transactionData:r.z.string()}),y=(r.z.union([p,f]),r.z.object({quoteSearchStartedAtTimestamp:r.z.number(),preparedResponseAtTimestamp:r.z.number(),slippageTolerance:r.z.number(),routesConsidered:r.z.number(),taker:r.z.string(),buyToken:r.z.string(),sellToken:r.z.string()})),g=y.extend({quotes:r.z.array(p)}),m=y.extend({guaranteedPrice:r.z.string(),exchangeAddress:r.z.string(),protocolFee:r.z.string(),minimumProtocolFee:r.z.string(),allowanceTarget:r.z.string(),transactionData:r.z.string(),sources:r.z.array(l)}),h=y.extend({guaranteedPrice:r.z.string(),exchangeAddress:r.z.string(),protocolFee:r.z.string(),minimumProtocolFee:r.z.string(),allowanceTarget:r.z.string(),quotes:r.z.array(f)}),v=r.z.enum(["solana","evm"]);r.z.object({type:v,data:r.z.union([g,h])})})),s.register("dOGoW",(function(t,n){e(t.exports,"swapperQueryKeys",(function(){return o}));const r="swapper",o={pairs:e=>[r,"pairs",{sellToken:e}],quotes:(e,t,n,o,i)=>[r,"quotes",{sellToken:e,buyToken:t,taker:n,sellAmount:o,slippageTolerance:i}]}})),s.register("6BFZj",(function(t,n){e(t.exports,"CacheTime",(function(){return r})),e(t.exports,"StaleTime",(function(){return i})),e(t.exports,"RefetchInterval",(function(){return u}));var r,o,i,a,u,c,l=s("RVqnc");(o=r||(r={}))[o.Always=1/0]="Always",o[o.Short=(0,l.toMilliseconds)({days:1})]="Short",o[o.Medium=(0,l.toMilliseconds)({days:3})]="Medium",o[o.Long=(0,l.toMilliseconds)({days:7})]="Long",(a=i||(i={}))[a.Immediate=0]="Immediate",a[a.Short=(0,l.toMilliseconds)({minutes:1})]="Short",a[a.Medium=(0,l.toMilliseconds)({minutes:2.5})]="Medium",a[a.Long=(0,l.toMilliseconds)({minutes:5})]="Long",a[a.Never=1/0]="Never",(c=u||(u={}))[c.Short=(0,l.toMilliseconds)({minutes:1})]="Short",c[c.Medium=(0,l.toMilliseconds)({minutes:2.5})]="Medium",c[c.Long=(0,l.toMilliseconds)({minutes:5})]="Long"})),s.register("fz9J3",(function(t,n){e(t.exports,"useSwapQuotes",(function(){return l}),(function(e){return l=e}));var r=s("csW2r"),o=s("5ekp2"),i=s("jx8aE"),a=s("dOGoW"),u=s("6BFZj"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,t,n,s,l,d)=>{const p=a.swapperQueryKeys.quotes(e,t,n,s,l);return(0,o.useQuery)({queryKey:p,enabled:s>0,cacheTime:u.CacheTime.Medium,staleTime:u.StaleTime.Long,refetchInterval:u.RefetchInterval.Short,onError(e){e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper)},queryFn({queryKey:[,,{sellToken:e,buyToken:t,taker:n,sellAmount:r,slippageTolerance:o}]}){return c(this,void 0,void 0,(function*(){const s=d();return(0,i.getSwapQuotes)(s,e,t,n,r,o)}))}})}})),s.register("jx8aE",(function(n,r){e(n.exports,"getSwapQuotes",(function(){return c}),(function(e){return c=e}));var o=s("1LpD3"),i=s("gouXv"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new Error("Failed to fetch quotes for trade");function c(e,n,r,s,c,l){return a(this,void 0,void 0,(function*(){try{const a=`${e}/swap/v2/quote`,d=yield t(o)(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellToken:n,buyToken:r,taker:s,sellAmount:c,slippageTolerance:l})});if(!d.ok)throw u;const p=yield d.json();return(0,i.parseSwapQuotesResponse)(c,p)}catch(e){throw u}}))}})),s.register("gouXv",(function(t,n){e(t.exports,"parseSwapQuotesResponse",(function(){return o}));var r=s("iixDX");const o=(e,t)=>{if(!1===r.QuoteType.safeParse(null==t?void 0:t.type).success)throw new Error("Invalid input");if(t.type===r.QuoteType.enum.solana){const e=r.SolanaQuoteResponse.safeParse(t.data);if(e.success){const{data:t}=e;return{type:r.QuoteType.enum.solana,data:Object.assign(Object.assign({},t),{quotes:t.quotes.sort(((e,t)=>parseInt(t.buyAmount)-parseInt(e.buyAmount)))})}}}else if("evm"===t.type){const n=r.EvmQuoteNetworkResponse.safeParse(t.data);if(n.success){const{data:t}=n;return{type:r.QuoteType.enum.evm,data:{buyToken:t.buyToken,sellToken:t.sellToken,guaranteedPrice:t.guaranteedPrice,exchangeAddress:t.exchangeAddress,protocolFee:t.protocolFee,minimumProtocolFee:t.minimumProtocolFee,allowanceTarget:t.allowanceTarget,quotes:[{buyAmount:(Number(t.guaranteedPrice)*Math.pow(10,18)).toString(),sellAmount:e.toString(),priceImpact:.0005404478103655519,sources:t.sources.filter((e=>"0"!==e.proportion)).sort(((e,t)=>Number(t.proportion)-Number(e.proportion))),transactionData:t.transactionData}]}}}}throw new Error("Failed to parse swap quote response")}})),s.register("9gwVO",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return h}));var r=s("hcj6g"),o=s("7gANb"),i=s("29o0l"),a=s("2UOPE"),u=s("8IOCk"),c=s("4xLuU"),l=s("j3ma1"),d=s("iTQ0V"),p=s("2hSLz"),f=s("bNUGO"),y=s("lfgtT"),g=s("2Upmy"),m=s("k70BY");function h(e,t,n,s){var h,v,S,w,A;const{bestBuyAmount:b,currentQuote:T,hasNoRoutes:E,multichainQuoteResponse:x,quotes:k}=(0,g.useQuote)(),P=null!==(h=(0,d.useSwapperStore)((e=>e.sellFungible)))&&void 0!==h?h:a.INITIAL_SELL_FUNGIBLE,I=(0,m.useSwapAssetChainAddress)(P),{data:F}=(0,l.useSwapPairs)(I,t),C=(0,p.useExchangeRate)(b,x,T,F),R=(0,c.usePriceImpact)(null==T?void 0:T.priceImpact),M=(0,y.useProvider)(null!==(v=null==T?void 0:T.sources)&&void 0!==v?v:[]),L=null!==(S=null==P?void 0:P.data.chain.id)&&void 0!==S?S:r.ChainID.SolanaMainnet,{data:N}=(0,o.useEthereumTransactionGasEstimation)((0,r.isEVMChainID)(L)?L:r.ChainID.EthereumMainnet,o.EvmGasPreset.standard),O=(0,u.usePhantomFee)(null!==(w=null==T?void 0:T.fees)&&void 0!==w?w:0),U=(0,i.useMemo)((()=>new(0,o.PriorityFeeService)(e)),[e]),{data:D,isFetching:_}=(0,f.usePriorityTransactions)(T,U,n,s);return{exchangeRate:C,hasNoRoutes:E,phantomFee:O,priceImpact:R,provider:M,networkFee:(0,i.useMemo)((()=>(null==D?void 0:D.networkFeeWithPriority)?D.networkFeeWithPriority:N?N.gasLimit.multipliedBy(N.maxFeePerGas).toString():""),[null==D?void 0:D.networkFeeWithPriority,N]),totalFees:null!==(A=null==D?void 0:D.totalFeesWithPriority)&&void 0!==A?A:"",isFetchingSwapFee:_,nrOfQuotes:k.length}}})),s.register("2hSLz",(function(t,n){e(t.exports,"useExchangeRate",(function(){return a}));var r=s("29o0l"),o=s("Nt4tV"),i=s("iTQ0V");function a(e,t,n,s=[]){const[a,u]=(0,r.useState)(!1),c=(0,r.useCallback)((()=>u(!a)),[a]),l=(0,i.useSwapperStore)((e=>e.sellFungible));return(0,r.useMemo)((()=>{let r=!1,i="";if(t&&n){const{buyToken:u}=t.data,c=s.find((e=>e.address===u)),d=null==l?void 0:l.data;if(c&&d){const{buyAmount:t,sellAmount:s}=n,u=(0,o.amountToUiAmount)(t,c.decimals)/(0,o.amountToUiAmount)(s,d.decimals),l=`1 ${d.symbol} ‚âà ${(0,o.formatTokenAmount)(u)} ${c.symbol}`,p=`1 ${c.symbol} ‚âà ${(0,o.formatTokenAmount)(1/u)} ${d.symbol}`;r=Number(n.buyAmount)===e,i=a?p:l}}return{isBestRate:r,rate:i,flip:c}}),[e,n,a,t,l,c,s])}})),s.register("bNUGO",(function(t,n){e(t.exports,"usePriorityTransactions",(function(){return g}),(function(e){return g=e}));var r=s("hcj6g"),o=s("hMVEP"),i=s("csW2r"),a=s("7gANb"),u=s("5ekp2");s("f2tU6");var c=s("azr2P"),l=s("iHaNO"),d=s("lOEim"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f="swap-priority-fee",y=(e,t,n)=>p(void 0,void 0,void 0,(function*(){const r=(0,o.transactionStringToTransaction)(e,"bs58"),i=yield t.addPriorityFee(r,{connection:n,transactionType:a.TransactionTypeValue.Swap,calculators:{budget:new(0,a.StaticLimitCalculator)(a.COMPUTE_UNIT_LIMIT)}});return{priorityTx:i,networkFeeEstimation:yield(0,a.estimateFeeFromMessage)(n,i.message)}}));function g(e,t,n,o){const{networkFeeInCurrencyFormatted:s,totalFeesInCurrencyFormatted:g}=(0,d.useTotalFees)(e,o),m=[f,e];return(0,u.useQuery)({queryKey:m,queryFn:()=>p(this,void 0,void 0,(function*(){if(!e)throw new Error("Trying to execute swap with no current quote");if(!n)throw new Error("Trying to execute swap with no connection.");if(!(0,l.isSolanaSwapQuote)(e))throw new Error("Trying to prioritize non-solana swap");const{transactionData:u,fees:d}=e,{serumAccountDeposits:p,tokenAccountDeposits:f}=d;try{const e=u.map((e=>y(e,t,n))),i=yield Promise.all(e),s=i.map((e=>a.TransactionSerializationUtils.serialize(e.priorityTx).transaction)),l=i.map((e=>e.networkFeeEstimation.value)).reduce(((e,t)=>e+t)),d=l+p.amount+f.amount,g=(0,c.formatFee)(l,o),m=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:l}),h=null!=g?g:m,v=(0,c.formatFee)(d,o),S=(0,a.getSolanaNetworkFeeUiAmount)({chainType:r.ChainType.Solana,value:d});return{priorityTxs:s,networkFeeWithPriority:h,totalFeesWithPriority:null!=v?v:S}}catch(e){return i.telemetry.captureError(e,i.FeatureTag.Transaction),{priorityTxs:u,networkFeeWithPriority:s,totalFeesWithPriority:g}}})),enabled:!!e&&(0,l.isSolanaSwapQuote)(e)&&!!n})}})),s.register("iHaNO",(function(t,n){function r(e){return void 0!==(null==e?void 0:e.fees)}function o(e){return"string"==typeof(null==e?void 0:e.transactionData)}e(t.exports,"isSolanaSwapQuote",(function(){return r})),e(t.exports,"isEvmSwapQuote",(function(){return o}))})),s.register("lOEim",(function(t,n){e(t.exports,"useTotalFees",(function(){return a}));var r=s("29o0l"),o=s("iHaNO"),i=s("azr2P");function a(e,t){return(0,r.useMemo)((()=>{const n=!(0,o.isEvmSwapQuote)(e)&&(null==e?void 0:e.fees);if(n&&t){const{networkFees:e,serumAccountDeposits:r,tokenAccountDeposits:o}=n,s=e.amount+r.amount+o.amount;return{networkFeeInCurrencyFormatted:(0,i.formatFee)(e.amount,t),totalFeesInLamports:s,totalFeesInCurrencyFormatted:(0,i.formatFee)(s,t)}}return{networkFeeInCurrencyFormatted:"",totalFeesInLamports:void 0,totalFeesInCurrencyFormatted:""}}),[e,t])}})),s.register("lfgtT",(function(t,n){e(t.exports,"useProvider",(function(){return i}));var r=s("29o0l"),o=s("aglkA");function i(e){return(0,r.useMemo)((()=>(0,o.parseSwapSources)(e)),[e])}})),s.register("aglkA",(function(t,n){function r(e){const t=e.reduce(((e,t)=>e.add(t.name)),new Set);return Array.from(t).join(" + ")}e(t.exports,"parseSwapSources",(function(){return r}))})),s.register("2Upmy",(function(t,n){e(t.exports,"useQuote",(function(){return i}));var r=s("29o0l"),o=s("iTQ0V");function i(){var e,t;const n=(0,o.useSwapperStore)((e=>e.multichainQuoteResponse)),i=(0,o.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,o.useSwapperStore)((e=>e.selectedProviderIndex)),a=(0,r.useMemo)((()=>n?n.data.quotes:[]),[n]),u=a.length>0?a[s]:void 0;return{bestBuyAmount:parseInt(null!==(t=null===(e=a[0])||void 0===e?void 0:e.buyAmount)&&void 0!==t?t:0),currentQuote:u,hasNoRoutes:i,multichainQuoteResponse:n,quotes:a,selectedProviderIndex:s}}})),s.register("k70BY",(function(t,n){e(t.exports,"useSwapAssetChainAddress",(function(){return i}));var r=s("5slFC"),o=s("29o0l");const i=e=>(0,o.useMemo)((()=>{var t;const{type:n}=e;switch(n){case r.FungibleTokenType.SPL:case r.FungibleTokenType.ERC20:return{chainId:e.data.chain.id,address:null!==(t=e.data.tokenAddress)&&void 0!==t?t:""};case r.FungibleTokenType.SolanaNative:return{chainId:e.data.chain.id,address:"So11111111111111111111111111111111111111112"};case r.FungibleTokenType.EthereumNative:return{chainId:e.data.chain.id,address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"};case r.FungibleTokenType.PolygonNative:return{chainId:e.data.chain.id,address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270"};default:throw new Error(`unhandled: ${n}`)}}),[e])})),s.register("8vAsr",(function(n,r){e(n.exports,"useSwapConfirmationProps",(function(){return E}),(function(e){return E=e}));var o=s("hcj6g"),i=s("43063"),a=s("5uSEV"),u=s("7gANb"),c=s("kAKNF"),l=s("29o0l"),d=s("lvcyB"),p=s("Nt4tV"),f=s("3pIvT"),y=s("l7Y64"),g=s("iTQ0V");s("f2tU6");var m=s("huZwj"),h=s("iHaNO"),v=s("4MdgS"),S=s("kRcwf"),w=s("bNUGO"),A=s("lfgtT"),b=s("2Upmy"),T=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function E({accountProxy:e,storage:n,fungibleHooks:r,priceHooks:s,settingsHooks:E,analytics:x,accountIdentifier:k,chainAddresses:P,isLedger:I,onError:F}){var C,R,M,L,N,O,U;const{t:D}=(0,i.useTranslation)(),{currentQuote:_,multichainQuoteResponse:B}=(0,b.useQuote)(),q=(0,g.useSwapperStore)((e=>e.buyFungible)),V=(0,g.useSwapperStore)((e=>e.sellFungible)),j=(0,g.useSwapperStore)((e=>e.buyUsdValue)),Q=(0,g.useSwapperStore)((e=>e.sellUsdValue)),K=(0,g.useSwapperStore)((e=>e.setSellFungible)),G=(0,g.useSwapperStore)((e=>e.resetSwapper)),W=(0,A.useProvider)(null!==(C=null==_?void 0:_.sources)&&void 0!==C?C:[]),H=(0,S.useAnalyticsPayload)({buyToken:q,sellToken:V,buyAmount:null!==(R=null==_?void 0:_.buyAmount)&&void 0!==R?R:"",sellAmount:null!==(M=null==_?void 0:_.sellAmount)&&void 0!==M?M:"",phantomFee:(0,h.isSolanaSwapQuote)(_)?null===(L=null==_?void 0:_.fees)||void 0===L?void 0:L.phantomFee.amount:0,priceImpact:Number(null!==(N=null==_?void 0:_.priceImpact)&&void 0!==N?N:""),provider:W,buyAssetUsdValue:j,sellAssetUsdValue:Q}),z=null!==(O=null==V?void 0:V.data.chain.id)&&void 0!==O?O:o.ChainID.SolanaMainnet,{data:$}=(0,u.useEthereumTransactionGasEstimation)((0,o.isEVMChainID)(z)?z:o.ChainID.EthereumMainnet,u.EvmGasPreset.standard,new(t(c))(2e5)),J=(0,l.useMemo)((()=>{var e,t;return null!==(t=null===(e=P.find((e=>e.chainId===(null==V?void 0:V.data.chain.id))))||void 0===e?void 0:e.address)&&void 0!==t?t:""}),[P,V]),Y=(null==_?void 0:_.transactionData.length)||0,[X,Z]=(0,l.useState)(),{data:ee}=E.usePreferredExplorers(),te=(0,l.useMemo)((()=>{if(!X)return;const e=null==ee?void 0:ee.explorers[z];return(0,a.generateExplorerUrl)({chainId:z,endpoint:"transaction",explorerType:e,txSignature:X})}),[X,z,ee]),[ne,re]=(0,l.useState)("loading"),oe="success"===ne,ie="failure"===ne,[se,ae]=(0,l.useState)(void 0),{notEnoughSol:ue,txErrorMessage:ce}=(0,f.useSwapError)(se),le=(0,d.createConnectionByChainID)(z),{data:de}=s.usePrice({type:"id",data:"solana"}),pe=(0,l.useMemo)((()=>new(0,u.PriorityFeeService)(x)),[x]),{data:fe}=(0,w.usePriorityTransactions)(_,pe,le,de),{mutateAsync:ye}=(0,y.useMultichainSwapFungibles)({accountProxy:e,storage:n,accountIdentifier:k,chainId:z}),ge=null!==(U=null==q?void 0:q.data.symbol)&&void 0!==U?U:void 0,me=(0,l.useMemo)((()=>{var e,t,n,r;const o=null==V?void 0:V.data.symbol,i=(0,p.amountToUiAmount)(null!==(e=null==_?void 0:_.sellAmount)&&void 0!==e?e:0,null!==(t=null==V?void 0:V.data.decimals)&&void 0!==t?t:0),s=(0,p.amountToUiAmount)(null!==(n=null==_?void 0:_.buyAmount)&&void 0!==n?n:0,null!==(r=null==q?void 0:q.data.decimals)&&void 0!==r?r:0);return{topLeft:{label:`${D("transactionsPendingSwapping")} on ${W}`},topRight:{label:`${s} ${ge}`,color:"#21E56F"},bottomLeft:{label:`${o} ${String.fromCharCode(8594)} ${ge}`},bottomRight:{label:`${i} ${o}`}}}),[D,V,ge,q,_,W]),he=(0,l.useCallback)((()=>T(this,void 0,void 0,(function*(){var e,t;if(re("loading"),Z(void 0),ae(void 0),!_)throw new Error("Trying to execute swap with no current quote");if(!B)throw new Error("Trying to execute swap with no multichain quote response");if(!le)throw new Error("Trying to execute swap with no connection.");if(!$)throw new Error("No gas estimation available");try{const n=yield ye({type:(0,o.getChainType)(z),callerAddress:J,exchangeAddress:B.data.exchangeAddress,sellTokenAddress:null!==(e=null==V?void 0:V.data.tokenAddress)&&void 0!==e?e:"",sellAmount:null==_?void 0:_.sellAmount,transactionData:_.transactionData,pendingSwapActivityRows:me,pendingApprovalActivityRows:me,gasEstimation:$,connection:le,transactions:null!==(t=null==fe?void 0:fe.priorityTxs)&&void 0!==t?t:[]});(0,u.isSolanaTransactionReceipt)(n)?Z(n.signature):(0,u.isEthereumTransactionReceipt)(n)&&Z(n.transactionHash),re("success"),x.capture("swapperSwapSuccess",H),G(),(0,v.updateSellFungibleAmount)({sellAmount:_.sellAmount,sellFungible:V,setSellFungible:K}),r.invalidateTokens(P)}catch(e){console.error(e);const t=(0,m.parseSwapError)(e);re("failure"),ae(t),F&&F(t),x.capture("swapperSwapFailure",H)}}))),[_,le,z,B,x,fe,$,me,J,ye,H,G,V,K,r,P,F]),ve=(0,l.useCallback)((()=>{(()=>{T(this,void 0,void 0,(function*(){yield he()}))})()}),[he]);return{buyAssetSymbol:ge,isSuccess:oe,isFailure:ie,isLedger:I,notEnoughSol:ue,txError:se,txErrorMessage:ce,txLink:null!=te?te:"",executeSwap:ve,resetSwapper:G,useExecuteSwapOnMount:()=>{(0,l.useEffect)((()=>{I||ve()}),[])},numberOfTransactions:Y}}})),s.register("kRcwf",(function(t,n){e(t.exports,"useAnalyticsPayload",(function(){return a}));var r=s("29o0l"),o=s("24hfq"),i=s("Nt4tV");function a({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:o,buyAmount:s,sellAmount:a,phantomFee:d,priceImpact:p,provider:f}){return(0,r.useMemo)((()=>{var r,y;if(t&&o){const g=c(s,t.data.decimals,e),m=c(a,o.data.decimals,n),h=l(g,m),v=u(d,t.data.decimals,e);return{data:{marketName:`${o.data.symbol}/${t.data.symbol}`,tradeDirection:"sell",swapSource:f,priceImpact:p,fromAssetSymbol:null!==(r=o.data.symbol)&&void 0!==r?r:"",fromAssetAddress:o.data.tokenAddress,fromAssetAmount:(0,i.amountToUiAmount)(a,o.data.decimals),fromAssetUsdPrice:n,fromAssetUsdVolume:m,toAssetSymbol:null!==(y=t.data.symbol)&&void 0!==y?y:"",toAssetAddress:t.data.tokenAddress,toAssetAmount:(0,i.amountToUiAmount)(s,t.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:g,totalUsdVolume:h,feeUsd:v}}}return{}}),[e,n,s,t,d,p,f,a,o])}const u=(e,t,n)=>n&&e>0?e/Math.pow(10,t)*n:0,c=(e,t,n)=>{if(n){const r=(0,i.amountToUiAmount)(e,t);return new(0,o.BigNumber)(r).times(new(0,o.BigNumber)(n)).toNumber()}},l=(e,t)=>t&&e?t>e?t:e:null!=t?t:e})),s.register("ipDsT",(function(t,n){e(t.exports,"useSwapProvidersProps",(function(){return f}));var r=s("43063"),o=s("29o0l"),i=s("Nt4tV"),a=s("2UOPE"),u=s("j3ma1"),c=s("iTQ0V"),l=s("aglkA"),d=s("2Upmy"),p=s("k70BY");function f(e){var t;const{t:n}=(0,r.useTranslation)(),{bestBuyAmount:s,multichainQuoteResponse:f,quotes:y,selectedProviderIndex:g}=(0,d.useQuote)(),m=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),h=null!==(t=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==t?t:a.INITIAL_SELL_FUNGIBLE,v=(0,p.useSwapAssetChainAddress)(h),{data:S}=(0,u.useSwapPairs)(v,e);return{rows:(0,o.useMemo)((()=>{if(!f||!S)return[];const{buyToken:e}=f.data,t=S.find((t=>t.address===e));return t?y.map((e=>{const{buyAmount:r,sources:o}=e,a=Number(r),u=s-a,c=(0,i.amountToFormattedAmount)(u,t.decimals);return{label:(0,l.parseSwapSources)(o),value:0===u?n("swapFeesBestPrice"):`- ${c} ${t.symbol}`}})):[]}),[s,f,y,n,S]),selectedProviderIndex:g,setSelectedProviderIndex:m}}})),s.register("5WhLj",(function(t,n){e(t.exports,"useSwapReviewButtonProps",(function(){return d}));var r=s("5slFC"),o=s("29o0l"),i=s("Nt4tV"),a=s("iTQ0V"),u=s("9XJOV"),c=s("2Upmy"),l=s("lOEim");function d(e,t){var n;const{multichainQuoteResponse:s,currentQuote:d}=(0,c.useQuote)(),p=(0,a.useSwapperStore)((e=>e.hasNoRoutes)),f=(0,a.useSwapperStore)((e=>e.sellFungible)),y=(0,a.useSwapperStore)((e=>e.sellAmount)),g=(0,u.getMaxSellAmount)(f),m="solana"===(null==s?void 0:s.type),{data:h}=e.useSelectedMultiChainAccount(),{fungibles:v=[]}=t.useFungibles({accountId:null!==(n=null==h?void 0:h.identifier)&&void 0!==n?n:"",showHiddenMints:!1}),S=(0,o.useMemo)((()=>v.find((e=>e.data.key===r.FungibleTokenType.SolanaNative))),[v]),{totalFeesInLamports:w=0}=(0,l.useTotalFees)(d,null==S?void 0:S.data),A=(0,o.useMemo)((()=>{var e;return!!m&&(null!==(e=null==S?void 0:S.data.balance)&&void 0!==e?e:0)<(0,i.lamportsToSolana)(w)}),[null==S?void 0:S.data.balance,m,w]),b=!m||Number(y)<=g;return{canSwap:!!d&&b&&!p,hasEnoughAssets:b,hasNoRoutes:p,hasNoFundsForFees:A}}})),s.register("5Soz0",(function(t,n){e(t.exports,"useSwapReviewProps",(function(){return g}));var r=s("5slFC"),o=s("29o0l"),i=s("16XMG"),a=s("9CoSy"),u=s("dY6gO"),c=s("Nt4tV"),l=s("2UOPE"),d=s("j3ma1"),p=s("iTQ0V"),f=s("2Upmy"),y=s("k70BY");function g(e,t){const n=(0,p.useSwapperStore)((e=>e.buyFungible)),s=(0,p.useSwapperStore)((e=>e.sellFungible)),g=(0,p.useSwapperStore)((e=>e.sellAmount)),m=(0,p.useSwapperStore)((e=>e.setBuyUsdValue)),h=(0,p.useSwapperStore)((e=>e.setSellUsdValue)),v=(0,o.useMemo)((()=>n&&s?(0,r.tokensToUsePricesArgs)([n,s]):[]),[n,s]),S=t.usePrices(v).reduce(((e,t)=>Object.assign(Object.assign({},e),t.data)),{}),w=(0,y.useSwapAssetChainAddress)(null!=s?s:l.INITIAL_SELL_FUNGIBLE),{data:A}=(0,d.useSwapPairs)(w,i.getAPIEnvironment),{currentQuote:b,multichainQuoteResponse:T}=(0,f.useQuote)(),E=(0,o.useCallback)(((e,t)=>{if(void 0!==t)return e.type===r.FungibleTokenType.SolanaNative?t[a.SOLANA_COINGECKO_ID]:e.type===r.FungibleTokenType.SPL&&u.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]?t[u.MISSING_MINTS_TO_CG_ID[e.data.mintAddress]]:e.type===r.FungibleTokenType.SPL?t[e.data.mintAddress]:e.type===r.FungibleTokenType.ERC20?t[e.data.contractAddress]:void 0}),[]);return(0,o.useMemo)((()=>{var e;let t="",r="",o="",i="";if(!(T&&b&&A&&n&&s))return{sellAmountText:o,sellAmountUsdText:i,buyAmountText:t,buyAmountUsdText:r};const{buyToken:a}=T.data,u=A.find((e=>e.address===a)),l=null==s?void 0:s.data;if(!u||!l)return{sellAmountText:o,sellAmountUsdText:i,buyAmountText:t,buyAmountUsdText:r};const{buyAmount:d}=b,p=(0,c.amountToUiAmount)(d,u.decimals),f=Number(g),y=String(p).split(".")[0].length,v=g.split(".")[0].length,w=u.symbol.length,x=null===(e=l.symbol)||void 0===e?void 0:e.length,k=y&&w?y+w:0,P=v&&x?v+x:0;o=`${(0,c.formatTokenAmountForReviewScreen)(f,P)} ${l.symbol}`,t=`${(0,c.formatTokenAmountForReviewScreen)(p,k)} ${u.symbol}`;const I=E(n,S),F=E(s,S);if(null==I?void 0:I.usd){const e=p*I.usd;r=`$${(0,c.formatTokenAmount)(e)}`,m(I.usd)}if(null==F?void 0:F.usd){const e=f*F.usd;i=`$${(0,c.formatTokenAmount)(e)}`,h(F.usd)}return{sellAmountText:o,sellAmountUsdText:i,buyAmountText:t,buyAmountUsdText:r}}),[T,n,s,b,g,m,h,E,S,A])}})),s.register("6aawr",(function(t,n){e(t.exports,"useSwapBuyAssetList",(function(){return p}));var r=s("5slFC"),o=s("8LmIR"),i=s("29o0l"),a=s("9CoSy"),u=s("2UOPE"),c=s("iTQ0V"),l=s("aBD8n"),d=s("k70BY");function p({fungibleHooks:e,swapperMultichainHooks:t,accountHooks:n}){var s,p;const{data:f}=n.useSelectedMultiChainAccount(),y=null!==(s=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==s?s:u.INITIAL_SELL_FUNGIBLE,{fungibles:g,isLoadingTokens:m,isRefetchingTokens:h,isErrorTokens:v}=e.useFungibles({accountId:null!==(p=null==f?void 0:f.identifier)&&void 0!==p?p:""}),S=(0,d.useSwapAssetChainAddress)(y),w=(0,i.useMemo)((()=>{var e,t;return null!==(t=null===(e=null==f?void 0:f.addresses.find((e=>e.chainId===y.data.chain.id)))||void 0===e?void 0:e.address)&&void 0!==t?t:""}),[null==f?void 0:f.addresses,y.data.chain.id]),{data:A=[],isLoading:b,isError:T}=t.useSwapPairs(S),E=(0,i.useMemo)((()=>new Map(g.map((e=>[e.data.key,e])))),[g]),x=(0,i.useMemo)((()=>{if(!y||0===A.length)return[];return A.reduce(((e,t)=>{const n=t.address===a.WRAPPED_SOLANA.address&&u.SHOULD_UNWRAP_WRAPPED_SOL?r.FungibleTokenType.SolanaNative:t.address;let o;const i=E.get(n),s=void 0!==i&&i.type===r.FungibleTokenType.SPL&&""!==i.data.splTokenAccountPubkey,c=void 0!==i&&i.type===r.FungibleTokenType.SolanaNative;return o=s||c?i:(0,l.swapTokenToFungible)(t,w),o&&e.push(o),e}),[]).sort(o.compareFungibles)}),[E,A,y,w]);return(0,i.useMemo)((()=>({assets:x,isFetching:m||b||h,isError:v||T})),[x,m,b,h,v,T])}})),s.register("aBD8n",(function(t,n){e(t.exports,"swapTokenToFungible",(function(){return c}));var r=s("hcj6g"),o=s("5slFC");const i={id:r.ChainID.SolanaMainnet,imageUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",symbol:"SOL"},a={id:r.ChainID.EthereumMainnet,imageUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",symbol:"ETH"},u={id:r.ChainID.PolygonMainnet,imageUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",symbol:"MATIC"},c=(e,t)=>{var n,r;const s={amount:"0",balance:0,coingeckoId:null!==(r=null===(n=e.extensions)||void 0===n?void 0:n.coingeckoId)&&void 0!==r?r:null,decimals:e.decimals,key:e.address,logoUri:e.logoURI,mintAddress:e.address,name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:e.address,walletAddress:t};return 1===e.chainId?{type:o.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},s),{chain:a,contractAddress:e.address})}:137===e.chainId?{type:o.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},s),{chain:u,contractAddress:e.address})}:101===e.chainId?{type:o.FungibleTokenType.SPL,data:Object.assign(Object.assign({},s),{chain:i,mintAddress:e.address})}:null}})),s.register("6CB7N",(function(t,n){e(t.exports,"useSwapSellAssetList",(function(){return c}));var r=s("hcj6g"),o=s("29o0l"),i=s("iTQ0V"),a=s("2REEw"),u=s("30Tum");function c({fungibleHooks:e,accountHooks:t}){var n;const{data:s}=t.useSelectedMultiChainAccount(),{fungibles:c,isLoadingTokens:l,isErrorTokens:d}=e.useFungibles({accountId:null!==(n=null==s?void 0:s.identifier)&&void 0!==n?n:"",showHiddenMints:!1}),p=c.filter((e=>(0,r.isSolanaChainID)(e.data.chain.id)||(0,r.isEVMChainID)(e.data.chain.id))),f=(0,i.useSwapperStore)((e=>e.sellFungible)),y=(0,o.useMemo)((()=>{if(f){const e=p.findIndex((e=>(0,a.areFungiblesEqual)(e,f))),t=p[e];t&&t.data.amount!==f.data.amount&&(p[e]=f)}return p.filter((e=>(0,u.canSellAsset)(e)))}),[p,f]);return(0,o.useMemo)((()=>({assets:y,isFetching:l,isError:d})),[y,l,d])}})),s.register("2so4T",(function(t,n){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return c}));var r=s("29o0l"),o=s("Nt4tV"),i=s("2UOPE"),a=s("iTQ0V"),u=s("k70BY");function c({swapperHooks:e,accountHooks:t}){var n,s;const c=(0,a.useSwapperStore)((e=>e.sellAmount)),l=null!==(n=(0,a.useSwapperStore)((e=>e.buyFungible)))&&void 0!==n?n:i.INITIAL_BUY_FUNGIBLE,d=(0,u.useSwapAssetChainAddress)(l),p=null!==(s=(0,a.useSwapperStore)((e=>e.sellFungible)))&&void 0!==s?s:i.INITIAL_SELL_FUNGIBLE,f=(0,u.useSwapAssetChainAddress)(p),y=(0,a.useSwapperStore)((e=>e.resetQuote)),g=(0,a.useSwapperStore)((e=>e.setHasNoRoutes)),m=(0,a.useSwapperStore)((e=>e.setIsFetchingQuote)),h=(0,a.useSwapperStore)((e=>e.setMultichainQuoteResponse)),v=(0,a.useSwapperStore)((e=>e.setSelectedProviderIndex)),S=(0,r.useMemo)((()=>parseFloat(c)>0&&p?(0,o.uiAmountToAmount)(c,p.data.decimals).toNumber():(y(),0)),[y,c,p]),{data:w}=t.useSelectedMultiChainAccount(),A=(0,r.useMemo)((()=>{var e;return null!==(e=null==w?void 0:w.addresses.find((e=>e.chainId===p.data.chain.id)))&&void 0!==e?e:{address:"",chainId:"solana:101"}}),[null==w?void 0:w.addresses,p.data.chain.id]),{data:b,isError:T,isFetching:E}=e.useSwapQuotes(f,d,A,S,1),x=(0,r.useCallback)((e=>{v(0),m(!1),g(!1),h(e)}),[g,m,h,v]),k=(0,r.useCallback)((()=>{y(),m(!1),g(!0)}),[y,g,m]);(0,r.useEffect)((()=>{E?m(!0):b?x(b):T&&k()}),[T,b,E,x,k,m])}})),s.register("aoHi0",(function(t,n){e(t.exports,"createChainAvailability",(function(){return l}),(function(e){return l=e})),e(t.exports,"disableChainType",(function(){return d}),(function(e){return d=e})),e(t.exports,"enableChainType",(function(){return p}),(function(e){return p=e}));var r=s("hcj6g"),o=s("csW2r"),i=s("goVRJ"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new(0,i.LegacyIndexedDBProxy),c=".phantom-labs.internal.disabledChains",l=()=>{const e={getDisabledChainTypes:()=>function(e){return a(this,void 0,void 0,(function*(){try{const t=yield e.get(c);return(null==t?void 0:t.chainTypes)||[]}catch(e){return o.telemetry.captureError(new Error("Failed to load disabled chains from storage"),o.FeatureTag.Storage),[]}}))}(u)};return new(0,r.ChainAvailability)(e)},d=e=>a(void 0,void 0,void 0,(function*(){var t;const n=yield u.get(c),r=new Set(null!==(t=null==n?void 0:n.chainTypes)&&void 0!==t?t:[]);return r.add(e),u.set(c,{version:1,chainTypes:Array.from(r)})})),p=e=>a(void 0,void 0,void 0,(function*(){var t;const n=yield u.get(c),r=new Set(null!==(t=null==n?void 0:n.chainTypes)&&void 0!==t?t:[]);return r.delete(e),u.set(c,{version:1,chainTypes:Array.from(r)})}))})),s.register("dbmto",(function(t,n){e(t.exports,"getLedgerWebHIDDependencies",(function(){return u}),(function(e){return u=e}));var r=s("2jR04"),o=s("c8OXT"),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const a=()=>i(void 0,void 0,void 0,(function*(){const{default:e}=yield s("9zcal");return e})),u=()=>({defaultTransportTimeout:500,isSupported:()=>i(void 0,void 0,void 0,(function*(){if(o.BROWSER_ENV.browser.name===r.BROWSER_MAP.firefox||o.BROWSER_ENV.browser.name===r.BROWSER_MAP.safari)return!1;return(yield a()).isSupported()})),getNumDevices:()=>i(void 0,void 0,void 0,(function*(){const e=yield a();return(yield e.list()).length})),getFirstOpenedTransport:()=>i(void 0,void 0,void 0,(function*(){const e=yield a(),t=(yield e.list()).find((e=>e.opened));return t?new e(t):void 0})),create:()=>i(void 0,void 0,void 0,(function*(){return(yield a()).create()})),openConnected:()=>i(void 0,void 0,void 0,(function*(){const e=yield a();return yield e.openConnected()})),request:()=>i(void 0,void 0,void 0,(function*(){const e=yield a();return yield e.request()})),on:(e,t)=>{"hid"in window.navigator&&window.navigator.hid.addEventListener(e,(()=>{t()}))}})})),s.register("9zcal",(function(e,t){e.exports=Promise.all([s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("4nmlj")),s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("9J0UJ")),s("j1yuj")(s("2FqAO").getBundleURL("7yJNz")+s("eOkdY").resolve("99t1D"))]).then((()=>s("bnr7p")))})),s.register("6Xahj",(function(t,n){e(t.exports,"useEnabledChainTypes",(function(){return c}),(function(e){return c=e})),e(t.exports,"useEnabledChainIDs",(function(){return l}),(function(e){return l=e}));var r=s("hcj6g"),o=s("5ekp2"),i=s("aoHi0"),a=s("twk6W"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=()=>(0,o.useQuery)({queryKey:["enabled-chain-types"],queryFn:()=>u(void 0,void 0,void 0,(function*(){return u(void 0,void 0,void 0,(function*(){const e=(0,i.createChainAvailability)(),t=yield e.enabledChainTypes();return a.analytics.addUserProperties({enabledChainTypes:t.includes(r.ChainType.Ethereum)?"Solana, Ethereum":"Solana"}),t}))})),staleTime:0,initialData:[]}),l=(e={mainnetOnly:!1})=>(0,o.useQuery)({queryKey:["enabled-chain-ids"],queryFn:()=>u(void 0,void 0,void 0,(function*(){return(e=>u(void 0,void 0,void 0,(function*(){const t=(0,i.createChainAvailability)(),n=yield t.enabledChainIDs(e);return a.analytics.addUserProperties({enabledChainTypes:n.some((e=>(0,r.isEVMChainID)(e)))?"Solana, Ethereum":"Solana"}),n})))(e)})),staleTime:0,initialData:[]})})),s.register("cGJ3C",(function(n,r){e(n.exports,"ChainLogo",(function(){return c}));var o=s("hcj6g"),i=s("RVqnc"),a=s("29o0l"),u=s("j81qC");const c=t(a).memo((({chainId:e,height:n,width:r,stroke:s,strokeWidth:c,spacing:l="medium"})=>{if(!e)return null;const d={height:n,width:r,stroke:s,strokeWidth:c};return(0,o.isSolanaChainID)(e)?"medium"===l?t(a).createElement(u.IconChainSolana,Object.assign({},d)):t(a).createElement(u.IconChainSolanaLarge,Object.assign({},d)):(0,o.isEthereumChainID)(e)?"medium"===l?t(a).createElement(u.IconChainEthereum,Object.assign({},d)):t(a).createElement(u.IconChainEthereumLarge,Object.assign({},d)):(0,o.isPolygonChainID)(e)?"medium"===l?t(a).createElement(u.IconChainPolygon,Object.assign({},d)):t(a).createElement(u.IconChainPolygonLarge,Object.assign({},d)):(0,i.assertNever)(e)}))})),s.register("lLNMU",(function(n,r){e(n.exports,"CheckboxGroup",(function(){return f}),(function(e){return f=e})),e(n.exports,"Checkbox",(function(){return y}),(function(e){return y=e}));var o=s("iI3jK"),i=s("29o0l"),a=s("gkfw3"),u=s("hxhxc"),c=s("j81qC"),l=s("634r8"),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const p=22;const f=(0,a.default)(l.Row)`
  margin: ${e=>{var t;return null!==(t=e.margin)&&void 0!==t?t:0}};
  > * {
    margin-right: 10px;
  }
  label {
    color: #8a81f8;
    cursor: pointer;
    &:hover {
      color: ${(0,u.hexToRGB)("#8A81F8",.5)};
    }
  }
`,y=e=>{const{checked:n,onChange:r,color:s}=e,a=d(e,["checked","onChange","color"]),u=function(e,t="#4E44CE"){return(0,i.useMemo)((()=>({background:"#282828",border:`1px solid ${e?t:"#4d4d4d"}`,borderRadius:"6px",height:`${p}px`,minHeight:`${p}px`,width:`${p}px`,minWidth:`${p}px`,cursor:"pointer",userSelect:"none",position:"relative",outlineColor:"transparent",outlineStyle:"none",boxShadow:"none"})),[e,t])}(n,s),l=function(e,t="#4E44CE"){return(0,i.useMemo)((()=>({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%",userSelect:"none",pointerEvents:"none",borderRadius:"4px",opacity:""+(e?1:0),zIndex:1,background:e?t:"transparent"})),[e,t])}(n,s);return t(i).createElement(o.CustomCheckboxContainer,{checked:n,onChange:r,style:u},t(i).createElement(o.CustomCheckboxInput,Object.assign({},a)),t(i).createElement("span",{"aria-hidden":!0,style:l},t(i).createElement(c.IconCheckmark,{width:10})))}})),s.register("iI3jK",(function(t,n){e(t.exports,"CustomCheckboxContainer",(function(){return L})),e(t.exports,"CustomCheckboxInput",(function(){return N}));var r=s("29o0l"),o=s("7CBpB"),i=s("aYhYb"),a=s("18uvf"),u=s("cXfhD"),c=s("5mEzL"),l=s("2eJU6"),d=s("brdH9"),p=s("guOPS");function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var g,m,h,v,S,w=!1;function A(e){return!(!e||e.isControlled||e.disabled)}function b(e){return function(t,n){return t&&t.isControlled&&n.state===e}}(h=m||(m={})).Checked="checked",h.Mixed="mixed",h.Unchecked="unchecked",(S=v||(v={})).GetDerivedData="GET_DERIVED_DATA",S.Mount="MOUNT",S.Set="SET",S.Toggle="TOGGLE",S.Unmount="UNMOUNT";var T=(0,d.assign)((function(e,t){return f({},e,{refs:t.refs})})),E=((g={})[v.Mount]={actions:T},g[v.GetDerivedData]={actions:[T,(0,d.assign)((function(e,t){return f({},e,t.data)}))]},g[v.Set]=[{target:m.Checked,cond:b(m.Checked)},{target:m.Unchecked,cond:b(m.Unchecked)},{target:m.Mixed,cond:b(m.Mixed)}],g),x=function(e,t){var n,r,o,i;return{id:"mixed-checkbox",initial:e,context:{disabled:t.disabled,isControlled:t.isControlled,refs:{input:null}},states:(i={},i[m.Unchecked]={entry:T,on:f((n={},n[v.Toggle]={target:m.Checked,cond:A},n),E)},i[m.Checked]={entry:T,on:f((r={},r[v.Toggle]={target:m.Unchecked,cond:A},r),E)},i[m.Mixed]={entry:T,on:f((o={},o[v.Toggle]={target:m.Checked,cond:A},o),E)},i)}};function k(e,t,n){void 0===n&&(n="useMixedCheckbox");var o,i=t||{},s=i.checked,a=i.defaultChecked,u=i.disabled,d=i.onChange,f=i.onClick,y=null!=s,g=(0,p.useCreateMachine)(x(P(y?s:a),{disabled:!!u,isControlled:y})),h=(0,p.useMachine)(g,{input:e},w),S=h[0],A=h[1],b={"aria-checked":I(S.value),checked:(o=S.value,o===m.Checked),disabled:!!u,onChange:(0,c.composeEventHandlers)(d,(function(){y||A(v.Toggle)})),onClick:(0,c.composeEventHandlers)(f,(function(){E()})),type:"checkbox"},T={checked:I(S.value)};function E(){e.current&&(e.current.indeterminate=S.value===m.Mixed)}return(0,r.useEffect)((function(){y&&A({type:v.Set,state:P(s)})}),[y,s,A]),(0,l.useIsomorphicLayoutEffect)(E),(0,r.useEffect)((function(){A({type:v.GetDerivedData,data:{disabled:u,isControlled:y}})}),[u,y,A]),[b,T]}function P(e){return!0===e?m.Checked:"mixed"===e?m.Mixed:m.Unchecked}function I(e){return e===m.Checked||e===m.Mixed&&"mixed"}function F(e,t,n){var o=null!=e,i=(0,r.useRef)(o).current;(0,r.useEffect)((function(){}),[n,t,o,i])}var C=["as","checked","children","defaultChecked","disabled","onClick","onChange","__componentName"],R=["as","onBlur","onFocus"],M=(0,o.createNamedContext)("CustomCheckboxContext",{});var L=(0,r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"span":n,s=e.checked,u=e.children,l=e.defaultChecked,d=e.disabled,p=e.onClick,g=e.onChange,m=e.__componentName,h=void 0===m?"CustomCheckboxContainer":m,v=y(e,C),S=(0,r.useRef)(null),w=k(S,{defaultChecked:l,checked:s,disabled:d,onChange:g},h),A=w[0],b=w[1],T=(0,r.useState)(!1),E=T[0],x=T[1];var I={defaultChecked:l,disabled:d,focused:E,inputProps:A,inputRef:S,setFocused:x};return F(s,"checked",h),(0,a.useCheckStyles)("checkbox"),(0,r.createElement)(M.Provider,{value:I},(0,r.createElement)(o,f({},v,{ref:t,"data-reach-custom-checkbox-container":"","data-focused":E?"":void 0,"data-state":P(b.checked),onClick:(0,c.composeEventHandlers)(p,(function(){window.requestAnimationFrame((function(){S.current&&S.current.focus()}))}))}),(0,i.isFunction)(u)?u({checked:A["aria-checked"],inputRef:S,focused:E}):u))})),N=(0,r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"input":n,i=e.onBlur,s=e.onFocus,a=y(e,R),l=(0,r.useContext)(M),d=l.focused,p=l.inputProps,g=l.inputRef,m=l.setFocused,h=(0,u.useComposedRefs)(t,g),v=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return function(){v.current=!1}}),[]),(0,r.createElement)(o,f({},a,p,{ref:h,type:"checkbox","data-reach-custom-checkbox-input":"","data-focused":d?"":void 0,onBlur:(0,c.composeEventHandlers)(i,(function(){window.requestAnimationFrame((function(){v.current&&m(!1)}))})),onFocus:(0,c.composeEventHandlers)(s,(function(){window.requestAnimationFrame((function(){v.current&&m(!0)}))}))}))}))})),s("1Sb3o")}();
//# sourceMappingURL=ConnectHardwareMultichainFlow.a66bfe48.js.map
define=__define;})(window.define);